<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Sat, 25 Nov 2023 20:00:04 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Sqids ‚Äì Generate Short Unique IDs from Numbers (117 pts)]]></title>
            <link>https://sqids.org/</link>
            <guid>38414914</guid>
            <pubDate>Sat, 25 Nov 2023 17:30:06 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://sqids.org/">https://sqids.org/</a>, See on <a href="https://news.ycombinator.com/item?id=38414914">Hacker News</a></p>
<div id="readability-page-1" class="page"><div> <div><h2>What is Sqids?</h2> <p>Sqids (pronounced "squids") is an open-source library that lets you generate YouTube-looking
		IDs from numbers. These IDs are short, can be generated from a custom alphabet and are guaranteed
		to be collision-free. <a href="https://sqids.org/faq">Read more </a>.</p> <p data-svelte-h="svelte-qlp4qk">This is what they look like:</p> <div><p><i role="button" tabindex="0" id=""></i> <span role="button" tabindex="0">https://example.com/<i>Lqj8a0 <i role="button" tabindex="0" id=""></i></i></span></p> </div></div> <div><h2 data-svelte-h="svelte-1kw0rk">Why use them?</h2> <p>The main use of Sqids is purely visual. If you'd like to use IDs instead of numbers in your
		webapp, Sqids could be a good choice:</p> <div data-svelte-h="svelte-k6f3dd"><div><h3>Use Cases</h3> <ul><li><em>Link shortening</em> <span>Safe to use in URLs</span></li> <li><em>Event IDs</em> <span>Collision-free encoding/decoding</span></li> <li><em>One-Time Passwords</em> <span>Short &amp; profanity-free</span></li></ul></div> <div><h3>Not Good For</h3> <ul><li><em>Sensitive data</em> <span>This is not an encryption library</span></li> <li><em>User IDs</em> <span>Can be decoded, revealing user count</span></li></ul></div></div></div> <div><h2 data-svelte-h="svelte-mhy7zl">Features</h2> <ul><li><span aria-label="id">üÜî </span> <span data-svelte-h="svelte-1cgjw2">Generate short IDs from non-negative numbers</span></li> <li><span aria-label="easy">‚úÖ </span> <span data-svelte-h="svelte-72fwm9">Easy encoding &amp; decoding</span></li> <li><span aria-label="profanity">ü´£ </span> <span data-svelte-h="svelte-16x3ib6">Auto-generated IDs do not contain common profanity</span></li> <li><span aria-label="alphabet">üé≤ </span> <span data-svelte-h="svelte-17eyy1g">Support for custom IDs through shuffled alphabet</span></li> <li><span aria-label="devs">üòç </span> <span>40 programming languages (15 using new design)</span></li> <li><span aria-label="twins">üìå </span> <span data-svelte-h="svelte-16391r5">Every version produces the same IDs</span></li> <li><span aria-label="library">üçª </span> <span data-svelte-h="svelte-1iokh5t">Small library with a permissive license</span></li></ul></div> <div><h2>Get started</h2> <div> <ul><li><a href="https://sqids.org/actionscript"><i></i> <span>ActionScript</span>  </a> </li><li><a href="https://sqids.org/bash"><i></i> <span>Bash</span>  </a> </li><li><a href="https://sqids.org/c"><i></i> <span>C</span>  </a> </li><li><a href="https://sqids.org/clojure"><i></i> <span>Clojure</span>  </a> </li><li><a href="https://sqids.org/coldfusion"><i></i> <span>ColdFusion</span>  </a> </li><li><a href="https://sqids.org/cpp"><i></i> <span>C++11</span>  </a> </li><li><a href="https://sqids.org/crystal"><i></i> <span>Crystal</span>  </a> </li><li><a href="https://sqids.org/d"><i></i> <span>D</span>  </a> </li><li><a href="https://sqids.org/dart"><i></i> <span>Dart</span>  </a> </li><li><a href="https://sqids.org/dotnet"><i></i> <span>.NET</span>  </a> </li><li><a href="https://sqids.org/elixir"><i></i> <span>Elixir</span>  </a> </li><li><a href="https://sqids.org/elm"><i></i> <span>Elm</span>  </a> </li><li><a href="https://sqids.org/erlang"><i></i> <span>Erlang</span>  </a> </li><li><a href="https://sqids.org/go"><i></i> <span>Go</span>  </a> </li><li><a href="https://sqids.org/haskell"><i></i> <span>Haskell</span>  </a> </li><li><a href="https://sqids.org/haxe"><i></i> <span>Haxe</span>  </a> </li><li><a href="https://sqids.org/io"><i></i> <span>Io</span>  </a> </li><li><a href="https://sqids.org/java"><i></i> <span>Java</span>  </a> </li><li><a href="https://sqids.org/javascript"><i></i> <span>JavaScript</span>  </a> </li><li><a href="https://sqids.org/julia"><i></i> <span>Julia</span>  </a> </li><li><a href="https://sqids.org/kotlin"><i></i> <span>Kotlin</span>  </a> </li><li><a href="https://sqids.org/lua"><i></i> <span>Lua</span>  </a> </li><li><a href="https://sqids.org/nim"><i></i> <span>Nim</span>  </a> </li><li><a href="https://sqids.org/objective-c"><i></i> <span>Objective-C</span>  </a> </li><li><a href="https://sqids.org/ocaml"><i></i> <span>OCaml</span>  </a> </li><li><a href="https://sqids.org/perl"><i></i> <span>Perl</span>  </a> </li><li><a href="https://sqids.org/php"><i></i> <span>PHP</span>  </a> </li><li><a href="https://sqids.org/plpgsql"><i></i> <span>PLpgSQL</span>  </a> </li><li><a href="https://sqids.org/postgresql"><i></i> <span>PostgreSQL</span>  </a> </li><li><a href="https://sqids.org/python"><i></i> <span>Python</span>  </a> </li><li><a href="https://sqids.org/r"><i></i> <span>R</span>  </a> </li><li><a href="https://sqids.org/raku"><i></i> <span>Raku</span>  </a> </li><li><a href="https://sqids.org/ruby"><i></i> <span>Ruby</span>  </a> </li><li><a href="https://sqids.org/rust"><i></i> <span>Rust</span>  </a> </li><li><a href="https://sqids.org/scala"><i></i> <span>Scala</span>  </a> </li><li><a href="https://sqids.org/smalltalk"><i></i> <span>Smalltalk</span>  </a> </li><li><a href="https://sqids.org/swift"><i></i> <span>Swift</span>  </a> </li><li><a href="https://sqids.org/t-sql"><i></i> <span>T-SQL</span>  </a> </li><li><a href="https://sqids.org/tcl"><i></i> <span>Tcl</span>  </a> </li><li><a href="https://sqids.org/vba"><i></i> <span>VBA</span>  </a> </li></ul></div> </div> </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Why 56k is the fastest dial up modem speed (180 pts)]]></title>
            <link>https://www.10stripe.com/articles/why-is-56k-the-fastest-dialup-modem-speed.php</link>
            <guid>38413727</guid>
            <pubDate>Sat, 25 Nov 2023 14:28:11 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.10stripe.com/articles/why-is-56k-the-fastest-dialup-modem-speed.php">https://www.10stripe.com/articles/why-is-56k-the-fastest-dialup-modem-speed.php</a>, See on <a href="https://news.ycombinator.com/item?id=38413727">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content">
	<!-- InstanceBeginEditable name="Section Navigation" -->	<!-- InstanceEndEditable --><!-- InstanceBeginEditable name="Title" -->
    
	<!-- InstanceEndEditable --><!-- InstanceBeginEditable name="Body" -->
	<p><em>by Alex Freeman </em></p>
	<p>If you've ever had dialup internet service, or still do, or just know someone that does, you have probably heard terms like "56k modem". "56k" has become almost synonymous with dialup Internet access. But it's such an arbitrary number. It's not divisible by ten, it's not a power of two... so why was it chosen as the fastest dialup speed? For the answer, we will have to travel back in time quite a while. </p>
	<p>Our visitors from Google should be warned that this is not a "stripped down" explanation; it is intended for relatively technical readers. But if you really want to know where this magic number comes from, you need to understand some of the technical background. As we shall see, "56k" was not just pulled out of a hat. </p>
	<div id="toc"> 
        
          <ul>
		  <li><a href="#base">Setting the baseline</a></li>
<li><a href="#long">Long, long ago </a></li>
<li><a href="#dig">Digitization</a></li>
<li><a href="#band">We're with the band </a></li>
<li><a href="#theft">Petty theft </a></li>
<li><a href="#modem">Enter the modem</a></li>
<li><a href="#fcc">So why can't I actually connect at 56 kbit/s?</a></li>
<li><a href="#author">About the Author </a></li>
		  </ul>
    </div>    
	<h2><a name="base"></a>Setting the baseline</h2>
	<p>First, let's be specific about what we mean. A "56k" (sometimes the 'k' is capitalized and sometimes not; the reasons are not really relevant here) dialup modem can download data at up to 56 kilobits per second. That is a theoretical maximum of the hardware; for various reasons (and yes, we'll get there) this speed can never actually be achieved. Upload speeds are considerably slower.</p>
	<p>This was all codified in 1998 in the ITU V.90 recommendation, which merged two competing standards (X2 from 3COM and K56flex from Rockwell Semiconductor). V.92 came slightly later, and introduced various tweaks; mostly, it increased the maximum upload speed. Any modern dialup modem will conform to one of these standards. </p>
	<p>Got all that?</p>
	<h2><a name="long"></a>Long, long ago </h2>
	<p>Bur story starts much earlier. Long ago, when the phone networks were still completely analog, when the first real phone networks were being built, the  engineers that were designing them faced a decision. They needed to determine how much bandwidth their networks had to have in order to ensure adequate voice quality. Too little bandwidth, and users wouldn't be able to recognize the voice of the person on the other end. But the more bandwidth the system was specified for, the more difficult (and expensive) the network was to build.</p>
	<p>Ultimately, they settled on approximately 3.2 kHz. The implementation for this is pretty simple: the phone lines in individual houses run to boxes owned by the phone company, which pass all voice traffic through a lowpass filter. This filter has a passband of 3.2 kHz, and a stopband starting at 4 kHz. The entire signal  at 3.2 kHz and below is preserved, everything above 4 kHz is attenuated heavily, and as for the frequencies in between, well, we just don't worry about those. Problem solved.</p>
	<h2><a name="dig"></a>Digitization</h2>
	<p>Fast-forward to 1962.  Ma Bell begins using T-1s to connect its switching centers. T-1s are a digital communications link, not analog. The entire phone network goes digital. In a modern phone network, the only analog communication is between an individual house's phone line and the phone company's box.</p>
	<p>T-1s are a particular form of DS-1 (Digital Signal 1).  They implement the DS-1 protocol, with an AMI line code (alternate mark inversion; a "0" is 0 volts, "1"s alternate between logic high and logic low), over twisted pair cable, for a distance of up to 6000 feet (very roughly 1 mile). Now that we've gotten all precise, I'm going to play a bit loose with terminology and call this "a DS-1" because it makes what follows easier to understand. And it's very nearly correct. </p>
	<p>A DS-1 is made by multiplexing 24 DS-0 streams. Each DS-0 corresponds to a single phone line; that is, a typical house gets one DS-0. Why 24 of them in each DS-1? No idea. Most likely that was that was the maximum possible without overstressing the equipment that was available at the time. The most comparable European standard, E-1, multiplexes 32 channels together (1 is used for internal signaling purposes).</p>
	<p>In order to get your voice data onto this digital network, it must first be digitized. So now instead of just going through a lowpass filter, it goes through a lowpass filter, then is sampled, and then is run into an analog-to-digital converter that assigns a numerical value to the amplitude of the signal at the instant it is sampled.  Simple, right?</p>
	<p>As we've said, the lowpass filter cuts off all frequencies above 4 kHz. This means that the filtered signal can be sampled at 8 kHz (which is to say, it is sampled 8000 times per second) with  no fidelity loss. This is the Nyquist Rate; any signal sampled at a rate equal to twice its highest frequency component can be completely reconstructed. So now we have turned our analog signal into a discrete-time signal running along at 8000 samples/second.</p>
	<p>Next we want to quantize our signal so that we have a purely digital signal. For this, an 8-bit analog-to-digital converter (ADC) is used. Here there is some fidelity loss, but not enough to be detectable to human ears. Fidelity could be improved by using, say, a 16-bit ADC. But that would cost more to manufacture (at the time, a <em>lot</em> more) , and would mean that all the other hardware has to be built to transmit twice as much data. So 8-bit it is.</p>
	<p>For those of you keeping score at home, that means we now have a signal that transmits data 8000 times each second, and transmits 8 bits of data for each of those samples. 8 bits/sample * 8000 samples/second yields 64 kbit/s (64 kilobits per second). So why can't dialup modems go up to 64 kbit/s? The short answer would be "historical reasons".</p>
	<h2><a name="band"></a>We're with the band </h2>
	<p>The more complete answer is "control data". Most communications networks need to transmit two kinds of information. The first is data; for phone networks, this is voice data. The second is signaling information, the control data that lets the network communicate status information with itself. There are two ways to send control data: "in band" (where it is packed in with the data) and "out of band" (where it gets its own separate channel, possibly in an entirely different physical medium).</p>
	<p>After we've created the 64 kbit/s data stream that fills up our DS-0, it needs to be multiplexed into a DS-1 for longer-distance transmission to the phone company's switching station. And the DS-1 has control data to carry. The Bell engineers decided to send that information in band.</p>
	<p>But how do we go about packing this data in? One way is to "steal" some data bits and replace them with control data. And that is exactly what the Bell engineers did.</p>
	<h2><a name="theft"></a>Petty theft </h2>
	<p>A DS-1 transmits data in frames. Each frame contains one complete sample from each DS-0, plus a framing bit. Since there are 24 DS-0s multiplexed to make each DS-1, and a single sample from a DS-0 is 8 bits of data. 24 * 8 makes 192 bits. Toss in the framing bit and you have 193 bits.</p>
	<p>So we have our 193-bit frame, and we want to pack some control data into it. How? Every 6 frames, the least significant bit of each voice channel is "stolen". The data bit is thrown out, and control data is sent instead. Because it is the <em>least</em> significant bit that is lost, this very slight alteration to the voice signal is not detectable by human ears. Everybody's happy.</p>
	<h2><a name="modem"></a>Enter the modem</h2>
	<p>That system worked  fine until people wanted to transmit more than just voice on these networks.   If you're sending voice, losing the least significant bit of every sixth byte is no big deal. If you are sending data, it is a very big deal. Neither modem has any way to know which bytes will be affected. Maybe this sample, maybe the next one. This is a problem.</p>
	<p>The solution is simple enough: assume you are always going to lose that least significant bit. Assume that you can only reliably send or receive 7 bits with each sample. When the receiver gets its data, it simply throws away the least significant bit of every byte. That yields a maximum data rate of 7 bit/sample * 8000 samples/s, or 56 kbit/s.</p>
	<p>And <strong>that</strong> is where the term "56k" comes from.</p>
	<h2><a name="fcc"></a>So why can't I actually connect at 56 kbit/s?</h2>
	<p>Anyone that has ever used a dialup modem knows full well that they don't actually get to connect at that speed, though. And that their connection speed varies each time they dial in. There are two factors at work here.</p>
	<p>The first is the FCC. If you are in the United States, the FCC places a restriction on the power output of devices connected to the phone network. The result is that you will never be able to connect at a speed faster than 53.3 kbit/s.</p>
	<p>The second is the overall complexity of the phone network. 56 kbit/s (or 53.3 kbit/s) requires very good operating conditions, as it is really operating beyond the paramaters of what the phone network is required to be capable of. Operating at these speeds requires that there only be one ADC between the user and their ISP (which is not guaranteed to be true, but typically is), and that the copper wiring in the user's "local loop" have very good electrical properties. Part of the dialup process that is used to initiate a connection is an evaluation of the overall quality of the connection; if it is determined to be lacking, the modem will automatically drop down to a lower data rate. </p>
	<div id="aboutauthor">
      <h2><a name="author"></a>About the Author </h2>
	  <p><img name="photo" src="https://www.10stripe.com/images/author/free_small.jpg" width="70" height="86" alt="Photo of the author"></p><p><a href="https://www.10stripe.com/meta/contact.php">Alex Freeman</a> is the creator of 10stripe.com, and has entirely too much free time. </p>
    </div>
	<!-- InstanceEndEditable --> 
	
  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Shh: Simple Shell Scripting from Haskell (144 pts)]]></title>
            <link>https://github.com/luke-clifton/shh</link>
            <guid>38413064</guid>
            <pubDate>Sat, 25 Nov 2023 12:22:16 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/luke-clifton/shh">https://github.com/luke-clifton/shh</a>, See on <a href="https://news.ycombinator.com/item?id=38413064">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 tabindex="-1" dir="auto">Shh</h2>
<p dir="auto"><a href="http://hackage.haskell.org/package/shh" rel="nofollow"><img src="https://camo.githubusercontent.com/310fde611ca46b81c8acdec854958024aa76fff9634180c605288c231990a99a/68747470733a2f2f696d672e736869656c64732e696f2f6861636b6167652f762f7368682e7376673f636f6c6f72423d253233393939266c6162656c3d736868" alt="" data-canonical-src="https://img.shields.io/hackage/v/shh.svg?colorB=%23999&amp;label=shh"></a>
<a href="http://hackage.haskell.org/package/shh-extras" rel="nofollow"><img src="https://camo.githubusercontent.com/7eb4707388f686d5bff558ef693c380dd1304f4e001a650cb5470ecf2ec5033d/68747470733a2f2f696d672e736869656c64732e696f2f6861636b6167652f762f7368682d6578747261732e7376673f636f6c6f72423d253233393939266c6162656c3d7368682d657874726173" alt="" data-canonical-src="https://img.shields.io/hackage/v/shh-extras.svg?colorB=%23999&amp;label=shh-extras"></a>
<a href="https://builds.sr.ht/~lukec/shh/commits/nix.yml" rel="nofollow"><img src="https://camo.githubusercontent.com/74cc5b8cfb69f03a19c5de541b7ff77246faaaf4a2385e689897b5d1b4282fc3/68747470733a2f2f6275696c64732e73722e68742f7e6c756b65632f7368682f6e69782e796d6c2e737667" alt="" data-canonical-src="https://builds.sr.ht/~lukec/shh/nix.yml.svg"></a></p>
<details><summary>
Shh is a library to enable convenient shell-like programming in Haskell.
It works well in scripts, and from GHCi, allowing you to use GHCi as a shell.
</summary>
<div dir="auto" data-snippet-clipboard-copy-content="{-# LANGUAGE TemplateHaskell #-}
{-# LANGUAGE OverloadedStrings #-}
{-# LANGUAGE ExtendedDefaultRules #-}
{-# LANGUAGE QuasiQuotes #-}
module Readme (test) where

import Shh

import System.Environment
import Control.Concurrent.Async
import Prelude hiding (head)
import Test.Tasty
import Test.Tasty.HUnit
import Test.Tasty.QuickCheck
import qualified System.Directory
import qualified Data.ByteString.Lazy.Char8 as Char8
import Data.List (nub)
import Data.Char
import PyF

load SearchPath [&quot;echo&quot;, &quot;base64&quot;, &quot;cat&quot;, &quot;head&quot;, &quot;sleep&quot;, &quot;mktemp&quot;, &quot;ls&quot;, &quot;wc&quot;, &quot;find&quot;, &quot;tr&quot;, &quot;users&quot;, &quot;sha256sum&quot;, &quot;false&quot;, &quot;true&quot;]

curl :: Cmd
curl = true

test :: IO ()
test = do"><pre>{-# <span>LANGUAGE</span> TemplateHaskell #-}
{-# <span>LANGUAGE</span> OverloadedStrings #-}
{-# <span>LANGUAGE</span> ExtendedDefaultRules #-}
{-# <span>LANGUAGE</span> QuasiQuotes #-}
<span>module</span> <span>Readme</span> (<span>test</span>) <span>where</span>

<span>import</span> <span>Shh</span>

<span>import</span> <span>System.Environment</span>
<span>import</span> <span>Control.Concurrent.Async</span>
<span>import</span> <span>Prelude</span> <span>hiding</span> (<span>head</span>)
<span>import</span> <span>Test.Tasty</span>
<span>import</span> <span>Test.Tasty.HUnit</span>
<span>import</span> <span>Test.Tasty.QuickCheck</span>
<span>import</span> <span>qualified</span> <span>System.Directory</span>
<span>import</span> <span>qualified</span> <span>Data.ByteString.Lazy.Char8</span> <span>as</span> <span>Char8</span>
<span>import</span> <span>Data.List</span> (<span>nub</span>)
<span>import</span> <span>Data.Char</span>
<span>import</span> <span>PyF</span>

load <span>SearchPath</span> [<span><span>"</span>echo<span>"</span></span>, <span><span>"</span>base64<span>"</span></span>, <span><span>"</span>cat<span>"</span></span>, <span><span>"</span>head<span>"</span></span>, <span><span>"</span>sleep<span>"</span></span>, <span><span>"</span>mktemp<span>"</span></span>, <span><span>"</span>ls<span>"</span></span>, <span><span>"</span>wc<span>"</span></span>, <span><span>"</span>find<span>"</span></span>, <span><span>"</span>tr<span>"</span></span>, <span><span>"</span>users<span>"</span></span>, <span><span>"</span>sha256sum<span>"</span></span>, <span><span>"</span>false<span>"</span></span>, <span><span>"</span>true<span>"</span></span>]

<span>curl</span> <span>::</span> <span>Cmd</span>
curl <span>=</span> true

<span>test</span> <span>::</span> <span><span>IO</span></span> <span>()</span>
test <span>=</span> <span>do</span></pre></div>
</details>
<p dir="auto">It's primary purpose is in replacing shell scripts. As such, many
functions are provided to mimic the shell environment, and porting shell
scripts to shh should be fairly straightforward. A simple
<a href="https://github.com/luke-clifton/shh/blob/master/docs/porting.md">"cargo culting" port</a> should work in most situations,
and perhaps be even more robust than the original.</p>
<p dir="auto">It is also a wrapper tool around launching GHCi as a shell.</p>
<p dir="auto">It supports</p>
<ul dir="auto">
<li>
<p dir="auto">Automatically defining a function for each executable on your <code>$PATH</code>
using template Haskell, as well as a runtime check to ensure they all
exist on startup.</p>
</li>
<li>
<p dir="auto">Redirection of stdout and stderr</p>
<div dir="auto" data-snippet-clipboard-copy-content="  -- Redirect stdout
  echo &quot;Hello&quot; &amp;> StdErr
  echo &quot;Hello&quot; &amp;> Truncate &quot;.tmp_file&quot;

  -- Redirect stderr
  echo &quot;Hello&quot; &amp;!> Append &quot;/dev/null&quot;
  echo &quot;Hello&quot; &amp;!> StdOut"><pre>  <span><span>--</span> Redirect stdout</span>
  echo <span><span>"</span>Hello<span>"</span></span> <span>&amp;&gt;</span> <span>StdErr</span>
  echo <span><span>"</span>Hello<span>"</span></span> <span>&amp;&gt;</span> <span>Truncate</span> <span><span>"</span>.tmp_file<span>"</span></span>

  <span><span>--</span> Redirect stderr</span>
  echo <span><span>"</span>Hello<span>"</span></span> <span>&amp;!&gt;</span> <span>Append</span> <span><span>"</span>/dev/null<span>"</span></span>
  echo <span><span>"</span>Hello<span>"</span></span> <span>&amp;!&gt;</span> <span>StdOut</span></pre></div>
</li>
<li>
<p dir="auto">Piping stdout or stderr to the input of a chained process</p>
<div dir="auto" data-snippet-clipboard-copy-content="  cat &quot;/dev/urandom&quot; |> base64 |> head &quot;-n&quot; 5"><pre>  cat <span><span>"</span>/dev/urandom<span>"</span></span> <span>|&gt;</span> base64 <span>|&gt;</span> <span>head</span> <span><span>"</span>-n<span>"</span></span> <span>5</span></pre></div>
</li>
<li>
<p dir="auto">Multiple processes sequentially feeding a single process</p>
<div dir="auto" data-snippet-clipboard-copy-content="  (echo 1 >> echo 2) |> cat"><pre>  (echo <span>1</span> <span>&gt;&gt;</span> echo <span>2</span>) <span>|&gt;</span> cat</pre></div>
</li>
<li>
<p dir="auto">Use of Haskell's concurrency primitives.</p>
<div dir="auto" data-snippet-clipboard-copy-content="  race (sleep 1 >> echo &quot;Slept for 1&quot;) (sleep 2 >> echo &quot;Slept for 2&quot;)
"><pre>  race (sleep <span>1</span> <span>&gt;&gt;</span> echo <span><span>"</span>Slept for 1<span>"</span></span>) (sleep <span>2</span> <span>&gt;&gt;</span> echo <span><span>"</span>Slept for 2<span>"</span></span>)
</pre></div>
<div dir="auto" data-snippet-clipboard-copy-content="  mapConcurrently_ (\url -> curl &quot;-Ls&quot; url |> wc)
    [ &quot;https://raw.githubusercontent.com/luke-clifton/shh/master/shell.nix&quot;
    , &quot;https://raw.githubusercontent.com/luke-clifton/shh/master/README.md&quot;
    ]"><pre>  mapConcurrently_ (<span>\</span>url <span>-&gt;</span> curl <span><span>"</span>-Ls<span>"</span></span> url <span>|&gt;</span> wc)
    [ <span><span>"</span>https://raw.githubusercontent.com/luke-clifton/shh/master/shell.nix<span>"</span></span>
    , <span><span>"</span>https://raw.githubusercontent.com/luke-clifton/shh/master/README.md<span>"</span></span>
    ]</pre></div>
</li>
<li>
<p dir="auto">Capturing of process output</p>
<div dir="auto" data-snippet-clipboard-copy-content="  s <- echo &quot;Hello&quot; |> tr &quot;-d&quot; &quot;l&quot; |> capture
  print s

  loggedIn <- nub . Char8.words <$> (users |> capture)
  putStrLn $ &quot;Logged in users: &quot; ++ show loggedIn

  mapM_ Char8.putStrLn =<< (find &quot;-maxdepth&quot; 1 &quot;-print0&quot; |> captureEndBy0)"><pre>  s <span>&lt;-</span> echo <span><span>"</span>Hello<span>"</span></span> <span>|&gt;</span> tr <span><span>"</span>-d<span>"</span></span> <span><span>"</span>l<span>"</span></span> <span>|&gt;</span> capture
  <span>print</span> s

  loggedIn <span>&lt;-</span> nub <span>.</span> <span>Char8.</span><span>words</span> <span>&lt;$&gt;</span> (users <span>|&gt;</span> capture)
  <span>putStrLn</span> <span>$</span> <span><span>"</span>Logged in users: <span>"</span></span> <span>++</span> <span>show</span> loggedIn

  <span>mapM_</span> <span>Char8.</span><span>putStrLn</span> <span>=&lt;&lt;</span> (find <span><span>"</span>-maxdepth<span>"</span></span> <span>1</span> <span><span>"</span>-print0<span>"</span></span> <span>|&gt;</span> captureEndBy0)</pre></div>
</li>
<li>
<p dir="auto">Capturing infinite output of a process lazily</p>
<div dir="auto" data-snippet-clipboard-copy-content="  cat &quot;/dev/urandom&quot;
    |> base64
    |> readInput (mapM_ Char8.putStrLn . take 3 . Char8.lines)"><pre>  cat <span><span>"</span>/dev/urandom<span>"</span></span>
    <span>|&gt;</span> base64
    <span>|&gt;</span> readInput (<span>mapM_</span> <span>Char8.</span><span>putStrLn</span> <span>.</span> <span>take</span> <span>3</span> <span>.</span> <span>Char8.</span><span>lines</span>)</pre></div>
</li>
<li>
<p dir="auto">Write strings to stdin of a process.</p>
<div dir="auto" data-snippet-clipboard-copy-content="  writeOutput &quot;Hello\n&quot; |> cat
  -- Hello

  &quot;Hello&quot; >>> sha256sum

  sha256sum <<< &quot;Hello&quot;"><pre>  writeOutput <span><span>"</span>Hello<span>\n</span><span>"</span></span> <span>|&gt;</span> cat
  <span><span>--</span> Hello</span>

  <span><span>"</span>Hello<span>"</span></span> <span>&gt;&gt;&gt;</span> sha256<span>sum</span>

  sha256<span>sum</span> <span>&lt;&lt;&lt;</span> <span><span>"</span>Hello<span>"</span></span></pre></div>
</li>
<li>
<p dir="auto">Proper exceptions, when a process exits with a failure code, an exception
is thrown. You can catch these normally. The exception includes the error
code, the command, and all it's arguments.</p>
<div dir="auto" data-snippet-clipboard-copy-content="  false &quot;Ha, it died&quot;
  --  *** Exception: Command `false &quot;Ha, it died&quot;` failed [exit 1]"><pre>  false <span><span>"</span>Ha, it died<span>"</span></span>
  <span><span>--</span>  *** Exception: Command `false "Ha, it died"` failed [exit 1]</span></pre></div>

</li>
<li>
<p dir="auto">"Native" processes, i.e. Haskell functions that behave like a process.</p>
<div dir="auto" data-snippet-clipboard-copy-content="  echo &quot;Hello&quot; |> pureProc (Char8.map toUpper) |> tr &quot;-d&quot; &quot;L&quot;
  -- HEO"><pre>  echo <span><span>"</span>Hello<span>"</span></span> <span>|&gt;</span> pureProc (<span>Char8.</span><span>map</span> toUpper) <span>|&gt;</span> tr <span><span>"</span>-d<span>"</span></span> <span><span>"</span>L<span>"</span></span>
  <span><span>--</span> HEO</span></pre></div>
</li>
<li>
<p dir="auto">And much, much more! Look at the documentation on Hackage for a
comprehensive overview of all the possibilities.</p>
</li>
</ul>
<h2 tabindex="-1" dir="auto">Mnemonics</h2>
<p dir="auto">Shh has many symbols that might seem intimidating at first, but there
is a simple mnemonic for them.</p>
<div data-snippet-clipboard-copy-content="|     Piping. Looks like a pipe, same as in POSIX shells.
&amp;     Redirection, think of the shell `2>&amp;1`
>,<   The direction of flow of a command
!     Operate on stderr instead of stdout"><pre><code>|     Piping. Looks like a pipe, same as in POSIX shells.
&amp;     Redirection, think of the shell `2&gt;&amp;1`
&gt;,&lt;   The direction of flow of a command
!     Operate on stderr instead of stdout
</code></pre></div>
<p dir="auto">So, for example,</p>
<div data-snippet-clipboard-copy-content="ls |> cat      Pipe the stdout of `ls` into stdin of `cat`
cat <| ls      Same as above
ls &amp;> StdErr   Redirect stdout of `ls` to wherever stderr is going.
StdErr <&amp; ls   Same as above
ls &amp;!> StdOut  Redirect stderr of `ls` to wherever stdout is going.
StdOut <!&amp; ls  Same as above"><pre><code>ls |&gt; cat      Pipe the stdout of `ls` into stdin of `cat`
cat &lt;| ls      Same as above
ls &amp;&gt; StdErr   Redirect stdout of `ls` to wherever stderr is going.
StdErr &lt;&amp; ls   Same as above
ls &amp;!&gt; StdOut  Redirect stderr of `ls` to wherever stdout is going.
StdOut &lt;!&amp; ls  Same as above
</code></pre></div>
<h2 tabindex="-1" dir="auto">Globbing</h2>
<p dir="auto">Currently Shh does not have any built in globbing support. Rather, it is
currently suggested to use another library to do globbing. For example,
using the <a href="http://hackage.haskell.org/package/Glob" rel="nofollow">Glob</a> package, it is
possible to do something like</p>

<p dir="auto">Certainly more verbose than the Bash equivalent, however, also more explicit,
which is probably a good thing. If this turns out to be too cumbersome, we
might introduce a more succinct globbing feature, though it will always be
explicit, and thus always more verbose than most other shells.</p>
<h2 tabindex="-1" dir="auto">String Interpolation/Expansion/Substitution</h2>
<p dir="auto">String interpolation, much like globbing, is left to an external library.
I lightweight, zero-dependency solution is to use <a href="https://hackage.haskell.org/package/PyF" rel="nofollow">PyF</a>,
which, since 0.10.0.1, has no dependencies other than ones included with GHC.</p>
<div dir="auto" data-snippet-clipboard-copy-content="greet =  do
    user <- getEnv &quot;USER&quot;
    echo [fmt|Hello, {user}!|]"><pre>greet <span>=</span>  <span>do</span>
    user <span>&lt;-</span> getEnv <span><span>"</span>USER<span>"</span></span>
    echo [<span>fmt</span>|Hello, {user}!|]</pre></div>
<h2 tabindex="-1" dir="auto">Usage</h2>
<p dir="auto">Some of the features in Shh require that you use the threaded runtime.
Please compile with the <code>-threaded</code> flag to avoid deadlocks.</p>
<p dir="auto">Enable Template Haskell and load the environment. It is also strongly
recommended to use <code>ExtendedDefaultRules</code>. This is especially important
if you want to use <code>OverloadedStrings</code>.</p>
<div data-snippet-clipboard-copy-content="{-# LANGUAGE TemplateHaskell #-}
{-# LANGUAGE ExtendedDefaultRules #-}
$(loadEnv SearchPath)"><pre><code>{-# LANGUAGE TemplateHaskell #-}
{-# LANGUAGE ExtendedDefaultRules #-}
$(loadEnv SearchPath)
</code></pre></div>
<p dir="auto">You now have all your executables available as simple Haskell
functions. If you don't want to load your entire environment you
can load specific commands directly:</p>
<div data-snippet-clipboard-copy-content="load SearchPath [&quot;echo&quot;, &quot;grep&quot;, &quot;cat&quot;, &quot;ls&quot;]"><pre><code>load SearchPath ["echo", "grep", "cat", "ls"]
</code></pre></div>
<p dir="auto">If you want to check that all the dependencies still exist, you can use
<code>missingExecutables :: IO [String]</code>, which will tell you if anything is
missing.</p>
<p dir="auto">For use in a project, it makes sense to have a dedicated module for your
project which does the template Haskell above. This will prevent recompilation
of all the executables, and also allow you to easily namespace them to
avoid collisions with normal Haskell functions.</p>
<h3 tabindex="-1" dir="auto">Usage in GHCi</h3>
<p dir="auto">If you want <code>^D</code> to be recognised as a EOF marker (when running commands
that read from stdin) when running in GHCi, you will need to run the
<code>initInteractive</code> function. This sets the line buffering appropriately and
ensures the terminal is in canonical mode.</p>
<h3 tabindex="-1" dir="auto">Shh as a Shell</h3>
<p dir="auto">There is a tool called <code>shh</code> which is a fairly small wrapper around launching
GHCi which automatically loads your environment and allows you to have custom
config when using GHCi as a shell.</p>
<p dir="auto">To install it, one option is to use <code>cabal new-install</code></p>
<div dir="auto" data-snippet-clipboard-copy-content="cabal new-install --lib shh
cabal new-install --lib shh-extras"><pre>cabal new-install --lib shh
cabal new-install --lib shh-extras</pre></div>
<p dir="auto">The <code>shh</code> binary will look in your <code>$SHH_DIR</code> (defaults to <code>$HOME/.shh</code>) for
a <code>Shell.hs</code>, <code>init.ghci</code> and <code>wrapper</code> files. If these don't exist default
ones will be created.</p>
<p dir="auto">The <code>Shell.hs</code> file should contain any top level definitions that you would
like to be available in your Shell. By default it loads your environment.</p>
<p dir="auto">The <code>init.ghci</code> file is loaded by GHCi after your <code>.ghci</code> files. This lets
you specify settings that you want to take effect when using GHCi as a shell.
By default it sets a shell-like prompt.</p>
<p dir="auto">The <code>wrapper</code> file is an executable that is called with the command that is
to be executed. By default it just calls <code>exec</code> with the arguments passed to
it. The use-case for this is to be able to set up the environment for <code>shh</code>.
You might, for example, wrap the execution in a <code>nix-shell</code>. Either way,
it is up to you to make sure that the compiler, and packages you require are
available, either globally, or provided by the <code>wrapper</code> script.</p>
<h4 tabindex="-1" dir="auto">Faster Startup</h4>
<p dir="auto"><code>shh</code> precompiles your <code>Shell.hs</code> file so that starting up <code>shh</code> is very
quick on subsequent launches. Unfortunately, <code>shh</code> isn't quite able to detect
this perfectly. If you see GHCi telling you that it is <code>Compiling Shell</code>,
and you notice the delay when starting <code>shh</code>, try manually forcing a rebuild
by passing in the <code>--rebuild</code> argument to <code>shh</code>.</p>
<p dir="auto">This is particularly likely to happen if you upgrade your GHC, or installed
packages, or even <code>shh</code> itself.</p>
<h4 tabindex="-1" dir="auto">Nix Wrapper Example</h4>
<p dir="auto">The following snippet could act as a <code>wrapper</code> file to set up a suitable
environment using <code>nix-shell</code></p>
<div data-snippet-clipboard-copy-content="#! /usr/bin/env nix-shell
#! nix-shell -i bash -p &quot;(haskellPackages.ghcWithPackages (p: with p; [shh shh-extras]))&quot;
exec &quot;$@&quot;"><pre><code>#! /usr/bin/env nix-shell
#! nix-shell -i bash -p "(haskellPackages.ghcWithPackages (p: with p; [shh shh-extras]))"
exec "$@"
</code></pre></div>
<h3 tabindex="-1" dir="auto">Script Usage</h3>
<h4 tabindex="-1" dir="auto">Nix</h4>
<p dir="auto">Nixpkgs provides a <code>writeHaskellBin</code> function which is very convenient for
writing quick scripts for your Nix setup.</p>
<div dir="auto" data-snippet-clipboard-copy-content="writers.writeHaskellBin &quot;example&quot; {libraries = [haskellPackages.shh];} ''
  {-# LANGUAGE TemplateHaskell #-}
  import Shh

  -- Load binaries from Nix packages. The dependencies will be captured
  -- in the closure.
  loadFromBins [&quot;${git}&quot;, &quot;${coreutils}&quot;, &quot;${curl}&quot;]

  main :: IO ()
  main = do
    cat &quot;/a/file&quot;
    cp &quot;/a/file&quot; &quot;/b/file&quot;
''"><pre><span>writers</span><span>.</span><span><span>writeHaskellBin</span></span> <span>"example"</span> <span>{</span><span><span>libraries</span></span> <span>=</span> <span>[</span><span>haskellPackages</span><span>.</span><span><span>shh</span></span><span>]</span><span>;</span><span>}</span> <span>''</span>
<span>  {-# LANGUAGE TemplateHaskell #-}</span>
<span>  import Shh</span>
<span></span>
<span>  -- Load binaries from Nix packages. The dependencies will be captured</span>
<span>  -- in the closure.</span>
<span>  loadFromBins ["<span><span>${</span><span>git</span><span>}</span></span>", "<span><span>${</span><span>coreutils</span><span>}</span></span>", "<span><span>${</span><span>curl</span><span>}</span></span>"]</span>
<span></span>
<span>  main :: IO ()</span>
<span>  main = do</span>
<span>    cat "/a/file"</span>
<span>    cp "/a/file" "/b/file"</span>
<span>''</span></pre></div>
<h2 tabindex="-1" dir="auto">Alternatives</h2>
<p dir="auto">There are quite a few players in the "shell programming for Haskell" field.</p>
<p dir="auto">This table attempts to summarise some of the differences.</p>
<ul dir="auto">
<li><code>Pipe Style</code> refers to how processes are joined together, "native" means
that the mechanisms provided by the OS are used, while "via Haskell" means
that the data is read into the Haskell process, and then written into the
subprocess.</li>
<li><code>Via Shell</code> refers to whether subprocesses are launched directly or via
a shell (which can provide a "native" piping solution at the cost of
composability)</li>
<li><code>Run in IO</code> refers to whether commands need to be prefixed with <code>run</code> or
similar functions to actually execute them.</li>
<li><code>TH Helper</code> refers to whether the use of TH to generate Haskell functions
based on commands found at compile time is encouraged in the main library.</li>
<li><code>Monadic Subshell</code> refers to the ability to join multiple processes together
and feed them all from the same input and to the same output.
<code>echo a | (cat; echo b) | wc -l</code> should report that 2 lines appeared.</li>
</ul>
<table>
<thead>
<tr>
<th>Library</th>
<th>Pipe Style</th>
<th>Via Shell</th>
<th>Run in IO</th>
<th>Threadsafe <code>cd</code></th>
<th>TH Helper</th>
<th>Monadic Subshell</th>
<th>Redirect <code>stderr</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>Shh</td>
<td>Native</td>
<td>No</td>
<td>Yes</td>
<td>No</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>Shelly</td>
<td>Via Haskell</td>
<td>Yes</td>
<td>No</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr>
<td>Turtle</td>
<td>Via Haskell</td>
<td>Optional</td>
<td>No</td>
<td>?</td>
<td>No</td>
<td>No (Alternative)</td>
<td>Yes</td>
</tr>
<tr>
<td>shell-conduit</td>
<td>Via Haskell</td>
<td>Optional</td>
<td>No</td>
<td>?</td>
<td>Yes</td>
<td>Yes</td>
<td>No?</td>
</tr>
</tbody>
</table>
<h3 tabindex="-1" dir="auto">Errors</h3>
<table>
<thead>
<tr>
<th>Library</th>
<th>Exception on non-zero</th>
<th>Contains arguments</th>
<th>Contains <code>stderr</code></th>
<th>Terminates pipeline</th>
</tr>
</thead>
<tbody>
<tr>
<td>Shh</td>
<td>Yes</td>
<td>Yes</td>
<td>Optional</td>
<td>Yes</td>
</tr>
<tr>
<td>Shelly</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>Turtle</td>
<td>Sometimes</td>
<td>No</td>
<td>No</td>
<td>?</td>
</tr>
<tr>
<td>shell-conduit</td>
<td>Yes</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
</tr>
</tbody>
</table>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Developers are not happy with .NET MAUI, but nobody in the team cares about it (127 pts)]]></title>
            <link>https://github.com/dotnet/maui/issues/19018</link>
            <guid>38412818</guid>
            <pubDate>Sat, 25 Nov 2023 11:22:07 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/dotnet/maui/issues/19018">https://github.com/dotnet/maui/issues/19018</a>, See on <a href="https://news.ycombinator.com/item?id=38412818">Hacker News</a></p>
<div id="readability-page-1" class="page"><div disabled="" sortable="">
          <h3 dir="auto">Description</h3>
<p dir="auto">DO NOT CLOSE THIS ISSUE BECAUSE YOU THINK IT DOEN'T MEET THE CRITERIA OF A VALID ISSUE! THERE ARE SOME VERY SALIENT ISSUES BEING RAISED IN THIS ISSUE.....</p>
<p dir="auto">I have reported issues as far back as Feb, 2022, and of as now, many of these reported issues remain unfixed. This is really a poor situation where I have to open an issue to complain about issues not being fixed. The lack of response to issues <strong>IS</strong> the issue.</p>
<p dir="auto">I reported an issue (<a data-error-text="Failed to load title" data-id="1137585916" data-permission-text="Title is private" data-url="https://github.com/dotnet/maui/issues/4672" data-hovercard-type="issue" data-hovercard-url="/dotnet/maui/issues/4672/hovercard" href="https://github.com/dotnet/maui/issues/4672">#4672</a>) and here we are at .NET 8 and this VERY BASIC thing remains unfixed. <a data-hovercard-type="user" data-hovercard-url="/users/davidortinau/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/davidortinau">@davidortinau</a> I know I have been critical of the lack of desktop support and I do applaud your efforts in shoring up this deficiency in the latest releases, but how long do we have to wait for the most basic MAUI stuff to work properly?</p>
<p dir="auto">When I open a window that has frames, it almost NEVER draws correctly. You have to resize the window to force a layout recalculation for things to correct themselves. Here is a picture of an app that has a flyout strip and it never draws correctly until a window resizes:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/124538071/285500015-0879b094-4c5d-474e-8464-b7d564333bbe.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTEiLCJleHAiOjE3MDA5MjQ3MDUsIm5iZiI6MTcwMDkyNDQwNSwicGF0aCI6Ii8xMjQ1MzgwNzEvMjg1NTAwMDE1LTA4NzliMDk0LTRjNWQtNDc0ZS04NDY0LWI3ZDU2NDMzM2JiZS5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBSVdOSllBWDRDU1ZFSDUzQSUyRjIwMjMxMTI1JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDIzMTEyNVQxNTAwMDVaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT03MjZlNzUzYmI5NTY4OWU5MDNkOWZmN2QwZDcxNDhlNGFkOWY4ZWUwMWYzZjFjMWY0ZDU5ZmU4YWE4NGEzOTZmJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCZhY3Rvcl9pZD0wJmtleV9pZD0wJnJlcG9faWQ9MCJ9.io08rPThjL0BkEVmIElfkKpHoA19vUwSDMrvAuX_dLU"><img src="https://private-user-images.githubusercontent.com/124538071/285500015-0879b094-4c5d-474e-8464-b7d564333bbe.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTEiLCJleHAiOjE3MDA5MjQ3MDUsIm5iZiI6MTcwMDkyNDQwNSwicGF0aCI6Ii8xMjQ1MzgwNzEvMjg1NTAwMDE1LTA4NzliMDk0LTRjNWQtNDc0ZS04NDY0LWI3ZDU2NDMzM2JiZS5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBSVdOSllBWDRDU1ZFSDUzQSUyRjIwMjMxMTI1JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDIzMTEyNVQxNTAwMDVaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT03MjZlNzUzYmI5NTY4OWU5MDNkOWZmN2QwZDcxNDhlNGFkOWY4ZWUwMWYzZjFjMWY0ZDU5ZmU4YWE4NGEzOTZmJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCZhY3Rvcl9pZD0wJmtleV9pZD0wJnJlcG9faWQ9MCJ9.io08rPThjL0BkEVmIElfkKpHoA19vUwSDMrvAuX_dLU" alt="image"></a></p>
<p dir="auto">You can see that the button row is not centered. Here is the same screen after a window resize.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/124538071/285500187-57721d75-9356-4ee9-93c8-0e2bd792f61e.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTEiLCJleHAiOjE3MDA5MjQ3MDUsIm5iZiI6MTcwMDkyNDQwNSwicGF0aCI6Ii8xMjQ1MzgwNzEvMjg1NTAwMTg3LTU3NzIxZDc1LTkzNTYtNGVlOS05M2M4LTBlMmJkNzkyZjYxZS5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBSVdOSllBWDRDU1ZFSDUzQSUyRjIwMjMxMTI1JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDIzMTEyNVQxNTAwMDVaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT03Y2U5NThlNzIyNzI3NWQ0MGIzNDUxNTQ5ZjU1YWQzYjk3MGIyZGFlM2JkZDM4MDg1MTllNTQ5MWFkN2JhN2MwJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCZhY3Rvcl9pZD0wJmtleV9pZD0wJnJlcG9faWQ9MCJ9.DOAGwlJSVpmJMSAc5NBS0dwEhAB6zU65OJdSQGRrJWo"><img src="https://private-user-images.githubusercontent.com/124538071/285500187-57721d75-9356-4ee9-93c8-0e2bd792f61e.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTEiLCJleHAiOjE3MDA5MjQ3MDUsIm5iZiI6MTcwMDkyNDQwNSwicGF0aCI6Ii8xMjQ1MzgwNzEvMjg1NTAwMTg3LTU3NzIxZDc1LTkzNTYtNGVlOS05M2M4LTBlMmJkNzkyZjYxZS5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBSVdOSllBWDRDU1ZFSDUzQSUyRjIwMjMxMTI1JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDIzMTEyNVQxNTAwMDVaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT03Y2U5NThlNzIyNzI3NWQ0MGIzNDUxNTQ5ZjU1YWQzYjk3MGIyZGFlM2JkZDM4MDg1MTllNTQ5MWFkN2JhN2MwJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCZhY3Rvcl9pZD0wJmtleV9pZD0wJnJlcG9faWQ9MCJ9.DOAGwlJSVpmJMSAc5NBS0dwEhAB6zU65OJdSQGRrJWo" alt="image"></a></p>
<p dir="auto">I reported this almost 2 years ago and you (David) even added comments to the original issue: Controls/Layout does not draw controls correctly in first-time view. <a data-error-text="Failed to load title" data-id="1137585916" data-permission-text="Title is private" data-url="https://github.com/dotnet/maui/issues/4672" data-hovercard-type="issue" data-hovercard-url="/dotnet/maui/issues/4672/hovercard" href="https://github.com/dotnet/maui/issues/4672">#4672</a></p>
<p dir="auto">It has been in the backlog ever since and I would think that something that makes a MAUI app look like total s&amp;#t would be a concern of the MAUI team.</p>
<p dir="auto">Also, I reported the fact that easy controls like Switch cannot have its basic colors changed (at least at the time I reported the issue: There is no way to set the text color of a Switch control <a data-error-text="Failed to load title" data-id="1315936359" data-permission-text="Title is private" data-url="https://github.com/dotnet/maui/issues/8965" data-hovercard-type="issue" data-hovercard-url="/dotnet/maui/issues/8965/hovercard" href="https://github.com/dotnet/maui/issues/8965">#8965</a>). Gerold V just took it upon himself to close my issue by telling me, in essence, we are not going to do stuff like this. I should go write platform-specific code. That's ridiculous because what is platform-specific about the Switch control??? In WPF EVERYTHING was stylable... Why is it the responsibility of the development community to do your work by writing handlers and such to get something simple to work?</p>
<p dir="auto">Also, take a look at the screenshots above. Notice the minimize, maximize, and close buttons are double-drawn. How does this stuff pass QA??????</p>
<p dir="auto">I am getting ready to roll this out to 2000 perspective users and I will not be proud of 99.99999% of the app because of the visual aspects of MAUI. I looked at UNO and Avalon back when I was deciding to go cross-platform and I decided to stick with Microsoft all the way for everything: .NET, MAUI, gRPC, ASPNETCORE, etc... I wanted the whole stack to be Microsoft, but I am ruing my decision... MAUI is great in concept, but not in implementation. Simply upgrading Xamarin to MAUI did not buy the community much in the whole product delivery. You guys have focused far too much effort on sapping milliseconds out of performance while glaring visual bugs persist. I think 90% of the attention should be placed on fixing bugs and performing better QA. I know stuff breaks from release to release and I would think that decent regression testing would catch stuff like this. I also think you guys need to look at WPF and figure out how to achieve the functionality that existed there before developing new stuff. I would love a WYSIWIG XAML editor so we can see what we are designing without having to run the app. This brings me to Hot Reload which RARELY works! It does work on straight XAML, but not XAML in templates. I see it work there, but as I said, rarely.</p>
<p dir="auto">I have been a developer since 1984 and have focused much of my career on UI design. WinForms was great and WPF was even greater. MAUI isn't even making the charts... I sometimes spend hours trying to get something that was easy in WPF to work in MAUI and that is time I don't have...</p>
<p dir="auto">Yes, this rant is probably misplaced here in the issues log, but how else can somebody truly vent their frustrations about developing with MAUI? I spoke via a TEAMS meeting early last year with both David and Maddy and I let my opinions be known then. Here it is almost two years later, and nothing is even slightly easier to develop in MAUI... I would love for David to be made aware of this "issue" and have him contact me directly. This doesn't even scratch the surface of my frustrations...</p>
<p dir="auto">I really want to talk to <a data-hovercard-type="user" data-hovercard-url="/users/davidortinau/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/davidortinau">@davidortinau</a> directly. Please pass this on to him.</p>
<p dir="auto">Regards,<br>
Steve Miller</p>
<h3 dir="auto">Steps to Reproduce</h3>
<p dir="auto"><em>No response</em></p>
<h3 dir="auto">Link to public reproduction project repository</h3>
<p dir="auto"><em>No response</em></p>
<h3 dir="auto">Version with bug</h3>
<p dir="auto">8.0.3</p>
<h3 dir="auto">Is this a regression from previous behavior?</h3>
<p dir="auto">No, this is something new</p>
<h3 dir="auto">Last version that worked well</h3>
<p dir="auto">Unknown/Other</p>
<h3 dir="auto">Affected platforms</h3>
<p dir="auto">Windows</p>
<h3 dir="auto">Affected platform versions</h3>
<p dir="auto"><em>No response</em></p>
<h3 dir="auto">Did you find any workaround?</h3>
<p dir="auto"><em>No response</em></p>
<h3 dir="auto">Relevant log output</h3>
<p dir="auto"><em>No response</em></p>
      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Darktable: Crashing into the wall in slow-motion (155 pts)]]></title>
            <link>https://ansel.photos/en/news/darktable-dans-le-mur-au-ralenti/</link>
            <guid>38412582</guid>
            <pubDate>Sat, 25 Nov 2023 10:20:55 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://ansel.photos/en/news/darktable-dans-le-mur-au-ralenti/">https://ansel.photos/en/news/darktable-dans-le-mur-au-ralenti/</a>, See on <a href="https://news.ycombinator.com/item?id=38412582">Hacker News</a></p>
<div id="readability-page-1" class="page"><article><header><div><p><i></i>
<time datetime="2023-02-15" title="Publication date"><small>February 15, 2023</small></time>
‚Äî <i></i>
<time datetime="2023-10-30" title="Last modification date"><small>October 30, 2023</small></time>
‚Äî <i></i></p><p>‚Äî <a rel="alternate" href="https://ansel.photos/en/news/index.xml" title="Subscribe to this section with RSS" type="application/rss+xml"></a></p></div></header><section><p>What happens when a gang of amateur photographers, turned into amateur developers, joined by a bunch of back-end developers who develop libraries for developers, decide to work without method nor structure on an industry software for end-users, which core competency (colorimetry and psychophysics) lies somewhere between a college degree in photography and a master‚Äôs degree in applied sciences, while promising to deliver 2 releases each year without project management‚ÄØ? All that, of course, in a project where the founders and the first generation of developers moved on and fled‚ÄØ?</p><p>Guess‚ÄØ!</p><h2 id="degrading-basic-features">Degrading basic features<a href="#degrading-basic-features" title="Permanent link to this section"><i></i></a></h2><p>The 2020‚Äôs are 40 years too late to re-invent interaction paradigms between user and computer, being it how we use a keyboard and a mouse to drive the interface or the behaviour of a file browser. Since the 1980‚Äôs, all the general-audience computer appliances have converged toward more or less unified semantics, where the <kbd>escape</kbd> key closes the current application, double-click opens files and the mouse wheel scrolls the current view. Darktable<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup> takes an ill-placed pleasure to ignore all that and the recent changes worsen things‚ÄØ: it is now mandatory to read the documentation to achieve tasks as simple as sorting files or assigning keyboard shortcuts to GUI&nbsp;actions.</p><h3 id="module-groups">Module groups<a href="#module-groups" title="Permanent link to this section"><i></i></a></h3><p>Everything begins with the overhaul of the <a href="https://docs.darktable.org/usermanual/4.0/en/darkroom/organization/manage-module-layouts/" title="" target="_blank">modules groups</a>, in 2020, which hides the decision of <a href="https://github.com/darktable-org/darktable/pull/5322" title="" target="_blank">not deciding</a> of an unified module order.</p><p><img src="https://ansel.photos/posts/module-groups.jpg" alt=""></p><p><a href="https://www.mail-archive.com/darktable-dev@lists.darktable.org/msg03402.html" title="" target="_blank">Since 2018</a>, I fight to clean up the graphical interface of Darktable, and in particular the module organization. A&nbsp;graphical interface should promote best practices by laying out tools in the typical order they should be used. Bad practices are those which increase the risk of colorimetric inconsistencies or of circular editing, where one must go back to repercute changes made later, even though bad practices can work in simple cases. In the context of image processing, highly-technical task where a lot of things are hidden to the end-users beneath the GUI, best practices also enable poorly-qualified persons to use the software in a way that reduces the probability of mistakes.</p><p>This order of using is mostly dictated by technical considerations like the order of application of modules in the pipeline sequence and the use of drawn and parametric masks, which effect depends on upstream modules. Ignoring these considerations is equivalent to looking for trouble, even though the hot trend in the 2010‚Äôs and 2020‚Äôs is to believe that digital technologies work detached of any material reality for the sole happiness of the user.</p><p>For example, the constrained imposed upon the pipeline design to allow an arbitrary order of module use <a href="https://github.com/darktable-org/darktable/pull/8673" title="" target="_blank">creates mathematically unsolvable problems</a> regarding the computation of mask nodes coordinates, and no programmed solution is possible (aside from relaxing that constraint) because maths said no.</p><p>Except that a significant part of the programmer-users revolving around the project on Github and on the dev mailing-list stay convinced that there is no good or bad workflow, only personal preferences, which is probably true when you practice an art without time constraint, budget constraint or result constraint. As such, modules should be able to be reordered at will, being in the pipeline or in the workflow. The confusion comes from the fact that non-destructive editing is wrongfully seen as asynchronous (which would <em>almost</em> be the case if we didn‚Äôt use masks nor blending modes) whereas the pixel pipeline is sequential and closer to a layer logic, as we find it in Adobe Photoshop, Gimp, Krita, etc.</p><p>Decoupling the modules order in the GUI&nbsp;from the pipeline order is equivalent to enabling every use, even pathological, and forces to write <a href="https://docs.darktable.org/usermanual/4.0/en/darkroom/pixelpipe/the-pixelpipe-and-module-order/#changing-module-order" title="" target="_blank">pages and pages</a> of documentation to warn, explain what to do, how and why‚ÄØ; documentation that nobody will read to end up asking in loop the same questions every week on every forum.</p><p>In this story, everyone looses their time thanks to an interface design trying to be so flexible that it can‚Äôt be made safe and robust by default. In the human body, every joint as <em>some</em> degrees of freedom along certains axes‚ÄØ; if every joint could revolve 340‚ÄØ¬∞ around each axis of the 3D space, the structure would be instable for being too flexible, and unable to work with high loads. The metaphor holds in industry software. We swim in the FLOSS <a href="https://en.wikipedia.org/wiki/Cargo_cult" title="" target="_blank">cargo cult</a>, where people love to have the illusion of choice, that is being offered many options of which most are unusable or dangerous, at the expense of simplicity (<a href="https://en.wikipedia.org/wiki/KISS_principle" title="" target="_blank">KISS</a>), and where the majority of users don‚Äôt understand the implications of each option (and don‚Äôt have the slightest desire to understand).</p><p>In the absence of a consensus over the interface module ordering, a complicated tool, brittle and heavy was introduced at the end of 2020 to allow each user to configure the layout of modules in tabs. It provides many useless options and stores the current layout in the database, using the translated name of modules, meaning changing the UI language makes you loose your presets. Entirely configurable, it lets user decide how to harm themselves, without any best practices guide. This garbage is coded with 4000 lines <a href="https://github.com/darktable-org/darktable/blob/darktable-4.2.x/src/libs/modulegroups.c#L3499-L3616" title="" target="_blank">cheerfully mixing SQL requests in the middle of interface GTK code</a>, and presets are created through <a href="https://github.com/darktable-org/darktable/blob/darktable-4.2.x/src/libs/modulegroups.c#L1533-L1768" title="" target="_blank">redundant compiler macros</a>, whereas modules have had a <a href="https://github.com/darktable-org/darktable/blob/darktable-4.2.x/src/iop/borders.c#L196" title="" target="_blank">binary flag</a> forever, allowing to set their default group‚Ä¶ modularly.</p><p>More important, it replaces a simple and efficient feature, available until Darktable 3.2‚ÄØ:</p><p><img src="https://ansel.photos/posts/more-modules.png" alt=""></p><p>One click over the module name enables it, a second adds it to the column of favorites, a third hides it from the interface. Everything allowing presets and storing the current layout in simple text into the <code>darktablerc</code> file. Simple and robust, <a href="https://github.com/darktable-org/darktable/blob/darktable-3.2.x/src/libs/modulegroups.c" title="" target="_blank">coded over 688&nbsp;lignes</a> of legible and well-structured code, the feature was therefore not amusing enough for the middle-aged dilettante developer, and it was urgent to replace it by a labyrinthine system.</p><h3 id="keyboard-shortcuts">Keyboard shortcuts<a href="#keyboard-shortcuts" title="Permanent link to this section"><i></i></a></h3><p>In 2021‚ÄØhas been added what I call the great MIDI <a href="https://en.wikipedia.org/wiki/Turducken" title="" target="_blank">turducken</a>. The goal is to extend the interface of keyboard shortcuts (already extended in 2019 to support ‚Äúdynamic shortcuts‚Äù, allowing to combine mouse and keyboard actions), to support MIDI&nbsp;devices and‚Ä¶ video game controllers.</p><p>At the end of 2022, that is one and half year after this feature, in the <a href="https://www.poll-maker.com/S-Quiz-Results?qp=2539714x3792Bf5e-98#" title="" target="_blank">survey I&nbsp;conducted</a>, less than 10‚ÄØ% of users own a MIDI&nbsp;device, and only 2‚ÄØ% use it with Darktable. To compare with the 45‚ÄØ% of users who own a graphic tablet (Wacom-like), which support in Darktable is still so flawed that only 6‚ÄØ% use it. Notwithstanding the poor priority management, what I&nbsp;don‚Äôt tolerate here is the edge effects introduced by this change and the global cost it had, starting with the fact that it doesn‚Äôt import user-defined shortcuts from versions ealier than 3.2, and it makes the configuration of new shortcuts terribly complicated.</p><p>Before the great turducken, only a limited list of GUI actions could be mapped to keyboard or mixed (keyboad +‚ÄØmouse) shortcuts. This list was manually curated by developers. The great MIDI&nbsp;turducken allows to map <em>every</em> GUI&nbsp;actions to shortcuts, presenting users with a list of several thousands of configurable entries, in which it‚Äôs difficult to find the only 3 you really need, and the text search engine is too basic to be helpful‚ÄØ:</p><p><img src="https://ansel.photos/posts/shortcuts.png" alt=""></p><p>Note the use of ‚Äúeffects‚Äù, on which the <a href="https://docs.darktable.org/usermanual/4.0/en/preferences-settings/shortcuts/" title="" target="_blank">documentation</a> is of no help. It‚Äôs only by deduction (<a href="https://github.com/darktable-org/darktable/blob/master/src/gui/accelerators.c#L101-L164" title="" target="_blank">because the code is not commented either</a>) that I&nbsp;ended up understanding they are emulations of typical desktop interactions (mouse and keyboard) destined to be used with MIDI&nbsp;devices and gamepad controllers (but you still need to explain to me what <code>Ctrl-Toggle</code>, <code>Right-activate</code> or <code>Right-Toggle</code> mean in terms of typical destkop interaction).</p><p>What is unacceptable is that the use of the numeric keypad is broken <a href="https://github.com/darktable-org/darktable/issues/10628#issuecomment-994795922" title="" target="_blank">by design</a>, noticeably to attribute numbered ratings (stars) to thumbnails in lighttable. Indeed, the key modifiers (numlock and capslock) are not properly decoded by the thing, and numbers are treated differently whether they are input from the typical ‚Äútext‚Äù keyboard or from the numeric keypad. So the <code>1</code> from the numpad is decoded <code>Keypad End</code>,‚ÄØno matter the state of the numlock. This is how I&nbsp;had to configure number shortcuts on a French B√âPO keyboard and to duplicate the configuration for the numpad‚ÄØ:</p><p><img src="https://ansel.photos/posts/shortcuts-broken.png" alt=""></p><p>You just have to remember that <code>Shift+"</code> and <code>Kp End</code> both mean <code>1</code> and remember to duplicate all shortcuts for the numpad and the rest of the keyboard. In short, we break a basic user expectation, and we send design critics to hell. The regression is mentionned on all Darktable forums but seems to bother nobody.</p><p>The fix of <del>this bug</del> this feature has been made <a href="https://github.com/aurelienpierreeng/ansel/commit/257a70d2d14d8f8639c7fe8cf65f76bbcf5916e3" title="" target="_blank">in Ansel</a> and the numeric pad keys are remapped to <a href="https://github.com/aurelienpierreeng/ansel/commit/9cbf3e681b7a277968f8c9cfad43c693554d6f17" title="" target="_blank">standard keys directly in the code</a>, for a total of 100 lines of code including comments. Doing this correction has been very hard indeed‚ÄØ: I read <a href="https://docs.gtk.org/gdk3/method.Keymap.translate_keyboard_state.html" title="" target="_blank">the Gtk documentation</a> and took their example line by line. 2 years spent waiting for that‚Ä¶</p><p>The cherry on the sunday is, one more time, we replaced <a href="https://github.com/darktable-org/darktable/blob/darktable-3.6.x/src/gui/accelerators.c" title="" target="_blank">1306 lines of clear and structured code</a> by a <a href="https://github.com/darktable-org/darktable/blob/darktable-4.2.x/src/gui/accelerators.c" title="" target="_blank">monstruosity of close to 4400&nbsp;lines</a>, with gems like‚ÄØ:</p><ol><li>the <code>while</code> loop of death (<a href="https://github.com/darktable-org/darktable/blob/darktable-4.2.x/src/gui/accelerators.c#L2898-L2918" title="" target="_blank">source</a>)‚ÄØ:</li></ol><div><pre tabindex="0"><code data-lang="C"><span><span>  gboolean applicable;
</span></span><span><span>  <span>while</span>((applicable <span>=</span>
</span></span><span><span>           (c<span>-&gt;</span>key_device <span>==</span> s<span>-&gt;</span>key_device <span>&amp;&amp;</span> c<span>-&gt;</span>key <span>==</span> s<span>-&gt;</span>key <span>&amp;&amp;</span> c<span>-&gt;</span>press <span>&gt;=</span> (s<span>-&gt;</span>press <span>&amp;</span> <span>~</span>DT_SHORTCUT_LONG) <span>&amp;&amp;</span>
</span></span><span><span>           ((<span>!</span>c<span>-&gt;</span>move_device <span>&amp;&amp;</span> <span>!</span>c<span>-&gt;</span>move) <span>||</span>
</span></span><span><span>             (c<span>-&gt;</span>move_device <span>==</span> s<span>-&gt;</span>move_device <span>&amp;&amp;</span> c<span>-&gt;</span>move <span>==</span> s<span>-&gt;</span>move)) <span>&amp;&amp;</span>
</span></span><span><span>           (<span>!</span>s<span>-&gt;</span>action <span>||</span> s<span>-&gt;</span>action<span>-&gt;</span>type <span>!=</span> DT_ACTION_TYPE_FALLBACK <span>||</span>
</span></span><span><span>            s<span>-&gt;</span>action<span>-&gt;</span>target <span>==</span> c<span>-&gt;</span>action<span>-&gt;</span>target))) <span>&amp;&amp;</span>
</span></span><span><span>        <span>!</span>g_sequence_iter_is_begin(<span>*</span>current) <span>&amp;&amp;</span>
</span></span><span><span>        (((c<span>-&gt;</span>button <span>||</span> c<span>-&gt;</span>click) <span>&amp;&amp;</span> (c<span>-&gt;</span>button <span>!=</span> s<span>-&gt;</span>button <span>||</span> c<span>-&gt;</span>click <span>!=</span> s<span>-&gt;</span>click)) <span>||</span>
</span></span><span><span>         (c<span>-&gt;</span>mods       <span>&amp;&amp;</span> c<span>-&gt;</span>mods <span>!=</span> s<span>-&gt;</span>mods ) <span>||</span>
</span></span><span><span>         (c<span>-&gt;</span>direction  <span>&amp;</span> <span>~</span>s<span>-&gt;</span>direction       ) <span>||</span>
</span></span><span><span>         (c<span>-&gt;</span>element    <span>&amp;&amp;</span> s<span>-&gt;</span>element         ) <span>||</span>
</span></span><span><span>         (c<span>-&gt;</span>effect <span>&gt;</span> <span>0</span> <span>&amp;&amp;</span> s<span>-&gt;</span>effect <span>&gt;</span> <span>0</span>      ) <span>||</span>
</span></span><span><span>         (c<span>-&gt;</span>instance   <span>&amp;&amp;</span> s<span>-&gt;</span>instance        ) <span>||</span>
</span></span><span><span>         (c<span>-&gt;</span>element    <span>&amp;&amp;</span> s<span>-&gt;</span>effect <span>&gt;</span> <span>0</span> <span>&amp;&amp;</span> def <span>&amp;&amp;</span>
</span></span><span><span>          def<span>-&gt;</span>elements[c<span>-&gt;</span>element].effects <span>!=</span> def<span>-&gt;</span>elements[s<span>-&gt;</span>element].effects ) ))
</span></span><span><span>  {
</span></span><span><span>    <span>*</span>current <span>=</span> g_sequence_iter_prev(<span>*</span>current);
</span></span><span><span>    c <span>=</span> g_sequence_get(<span>*</span>current);
</span></span><span><span>  }
</span></span></code></pre></div><ol start="2"><li>The <code>switch</code> <code>case</code> containing <code>if</code> nested on 2 levels (<a href="https://github.com/darktable-org/darktable/blob/darktable-4.2.x/src/gui/accelerators.c#L892-L954" title="" target="_blank">source</a>)‚ÄØ:</li></ol><div><pre tabindex="0"><code data-lang="C"><span><span>  <span>switch</span>(owner<span>-&gt;</span>type)
</span></span><span><span>  {
</span></span><span><span>  <span>case</span> DT_ACTION_TYPE_IOP:
</span></span><span><span>    vws <span>=</span> DT_VIEW_DARKROOM;
</span></span><span><span>    <span>break</span>;
</span></span><span><span>  <span>case</span> DT_ACTION_TYPE_VIEW:
</span></span><span><span>    {
</span></span><span><span>      dt_view_t <span>*</span>view <span>=</span> (dt_view_t <span>*</span>)owner;
</span></span><span><span>
</span></span><span><span>      vws <span>=</span> view<span>-&gt;</span>view(view);
</span></span><span><span>    }
</span></span><span><span>    <span>break</span>;
</span></span><span><span>  <span>case</span> DT_ACTION_TYPE_LIB:
</span></span><span><span>    {
</span></span><span><span>      dt_lib_module_t <span>*</span>lib <span>=</span> (dt_lib_module_t <span>*</span>)owner;
</span></span><span><span>
</span></span><span><span>      <span>const</span> gchar <span>**</span>views <span>=</span> lib<span>-&gt;</span>views(lib);
</span></span><span><span>      <span>while</span>(<span>*</span>views)
</span></span><span><span>      {
</span></span><span><span>        <span>if</span>     (strcmp(<span>*</span>views, <span>"lighttable"</span>) <span>==</span> <span>0</span>)
</span></span><span><span>          vws <span>|=</span> DT_VIEW_LIGHTTABLE;
</span></span><span><span>        <span>else</span> <span>if</span>(strcmp(<span>*</span>views, <span>"darkroom"</span>) <span>==</span> <span>0</span>)
</span></span><span><span>          vws <span>|=</span> DT_VIEW_DARKROOM;
</span></span><span><span>        <span>else</span> <span>if</span>(strcmp(<span>*</span>views, <span>"print"</span>) <span>==</span> <span>0</span>)
</span></span><span><span>          vws <span>|=</span> DT_VIEW_PRINT;
</span></span><span><span>        <span>else</span> <span>if</span>(strcmp(<span>*</span>views, <span>"slideshow"</span>) <span>==</span> <span>0</span>)
</span></span><span><span>          vws <span>|=</span> DT_VIEW_SLIDESHOW;
</span></span><span><span>        <span>else</span> <span>if</span>(strcmp(<span>*</span>views, <span>"map"</span>) <span>==</span> <span>0</span>)
</span></span><span><span>          vws <span>|=</span> DT_VIEW_MAP;
</span></span><span><span>        <span>else</span> <span>if</span>(strcmp(<span>*</span>views, <span>"tethering"</span>) <span>==</span> <span>0</span>)
</span></span><span><span>          vws <span>|=</span> DT_VIEW_TETHERING;
</span></span><span><span>        <span>else</span> <span>if</span>(strcmp(<span>*</span>views, <span>"*"</span>) <span>==</span> <span>0</span>)
</span></span><span><span>          vws <span>|=</span> DT_VIEW_DARKROOM <span>|</span> DT_VIEW_LIGHTTABLE <span>|</span> DT_VIEW_TETHERING <span>|</span>
</span></span><span><span>                 DT_VIEW_MAP <span>|</span> DT_VIEW_PRINT <span>|</span> DT_VIEW_SLIDESHOW;
</span></span><span><span>        views<span>++</span>;
</span></span><span><span>      }
</span></span><span><span>    }
</span></span><span><span>    <span>break</span>;
</span></span><span><span>  <span>case</span> DT_ACTION_TYPE_BLEND:
</span></span><span><span>    vws <span>=</span> DT_VIEW_DARKROOM;
</span></span><span><span>    <span>break</span>;
</span></span><span><span>  <span>case</span> DT_ACTION_TYPE_CATEGORY:
</span></span><span><span>    <span>if</span>(owner <span>==</span> <span>&amp;</span>darktable.control<span>-&gt;</span>actions_fallbacks)
</span></span><span><span>      vws <span>=</span> <span>0</span>;
</span></span><span><span>    <span>else</span> <span>if</span>(owner <span>==</span> <span>&amp;</span>darktable.control<span>-&gt;</span>actions_lua)
</span></span><span><span>      vws <span>=</span> DT_VIEW_DARKROOM <span>|</span> DT_VIEW_LIGHTTABLE <span>|</span> DT_VIEW_TETHERING <span>|</span>
</span></span><span><span>            DT_VIEW_MAP <span>|</span> DT_VIEW_PRINT <span>|</span> DT_VIEW_SLIDESHOW;
</span></span><span><span>    <span>else</span> <span>if</span>(owner <span>==</span> <span>&amp;</span>darktable.control<span>-&gt;</span>actions_thumb)
</span></span><span><span>    {
</span></span><span><span>      vws <span>=</span> DT_VIEW_DARKROOM <span>|</span> DT_VIEW_MAP <span>|</span> DT_VIEW_TETHERING <span>|</span> DT_VIEW_PRINT;
</span></span><span><span>      <span>if</span>(<span>!</span>strcmp(action<span>-&gt;</span>id,<span>"rating"</span>) <span>||</span> <span>!</span>strcmp(action<span>-&gt;</span>id,<span>"color label"</span>))
</span></span><span><span>        vws <span>|=</span> DT_VIEW_LIGHTTABLE; <span>// lighttable has copy/paste history shortcuts in separate lib
</span></span></span><span><span><span></span>    }
</span></span><span><span>    <span>else</span>
</span></span><span><span>      <span>fprintf</span>(stderr, <span>"[find_views] views for category '%s' unknown</span><span>\n</span><span>"</span>, owner<span>-&gt;</span>id);
</span></span><span><span>    <span>break</span>;
</span></span><span><span>  <span>case</span> DT_ACTION_TYPE_GLOBAL:
</span></span><span><span>    vws <span>=</span> DT_VIEW_DARKROOM <span>|</span> DT_VIEW_LIGHTTABLE <span>|</span> DT_VIEW_TETHERING <span>|</span>
</span></span><span><span>          DT_VIEW_MAP <span>|</span> DT_VIEW_PRINT <span>|</span> DT_VIEW_SLIDESHOW;
</span></span><span><span>    <span>break</span>;
</span></span><span><span>  <span>default</span><span>:</span>
</span></span><span><span>    <span>break</span>;
</span></span><span><span>  }
</span></span></code></pre></div><ol start="3"><li>The nested <code>switch</code> <code>case</code> of the demon, with additive clauses sneakily hidden (<a href="https://github.com/darktable-org/darktable/blob/darktable-4.2.x/src/bauhaus/bauhaus.c#L3339-L3415" title="" target="_blank">source</a>)‚ÄØ:</li></ol><div><pre tabindex="0"><code data-lang="C"><span><span><span>case</span> DT_ACTION_ELEMENT_ZOOM:
</span></span><span><span>    ;
</span></span><span><span>    <span>switch</span>(effect)
</span></span><span><span>    {
</span></span><span><span>    <span>case</span> DT_ACTION_EFFECT_POPUP:
</span></span><span><span>      dt_bauhaus_show_popup(widget);
</span></span><span><span>      <span>break</span>;
</span></span><span><span>    <span>case</span> DT_ACTION_EFFECT_RESET:
</span></span><span><span>      move_size <span>=</span> <span>0</span>;
</span></span><span><span>    <span>case</span> DT_ACTION_EFFECT_DOWN:
</span></span><span><span>      move_size <span>*=</span> <span>-</span><span>1</span>;
</span></span><span><span>    <span>case</span> DT_ACTION_EFFECT_UP:
</span></span><span><span>      _slider_zoom_range(bhw, move_size);
</span></span><span><span>      <span>break</span>;
</span></span><span><span>    <span>case</span> DT_ACTION_EFFECT_TOP:
</span></span><span><span>    <span>case</span> DT_ACTION_EFFECT_BOTTOM:
</span></span><span><span>      <span>if</span>((effect <span>==</span> DT_ACTION_EFFECT_TOP) <span>^</span> (d<span>-&gt;</span>factor <span>&lt;</span> <span>0</span>))
</span></span><span><span>        d<span>-&gt;</span>max <span>=</span> d<span>-&gt;</span>hard_max;
</span></span><span><span>      <span>else</span>
</span></span><span><span>        d<span>-&gt;</span>min <span>=</span> d<span>-&gt;</span>hard_min;
</span></span><span><span>      gtk_widget_queue_draw(widget);
</span></span><span><span>      <span>break</span>;
</span></span><span><span>    <span>default</span><span>:</span>
</span></span><span><span>      fprintf(stderr, <span>"[_action_process_slider] unknown shortcut effect (%d) for slider</span><span>\n</span><span>"</span>, effect);
</span></span><span><span>      <span>break</span>;
</span></span><span><span>    }
</span></span></code></pre></div><p>Programmers understand what I‚Äôm talking about‚ÄØ; for the others, just know that I don‚Äôt understand more than you what this does‚ÄØ: it‚Äôs shit code, and if several bugs are not hidden in there, it will be pure luck. Hunting bugs in this shithole is sewer‚Äôs bottom archaelogy, all the more considering that Darktable does not have a developer documentation and, in the absence of meaningful comments in the code, any modification of the aforementionned code will necessarily start with a reverse-engineering phase becoming harder and harder as time goes by.</p><p>The true problem of this kind of code is that you can‚Äôt improve it without rewriting it more or less entirely‚ÄØ: to fix it, you first need to understand it, but the reason why it needs to be fixed is precisely that it‚Äôs not understandable and dangerous long-term. We call that <a href="https://en.wikipedia.org/wiki/Technical_debt" title="" target="_blank">technical debt</a>. In short, all the work invested on this feature will create extra work because it is unreasonable to keep that kind of code in the middle of a code base of several hundreds of thousands of lines and expect it to not blow up in our face one day.</p><p>It‚Äôs all the more ridiculous in the context of an open-source/free application where the bulk of the staff is non-trained programmers. Clever developers write code understandable by idiots, and the other way around.</p><h3 id="collection-filters">Collection filters<a href="#collection-filters" title="Permanent link to this section"><i></i></a></h3><p>Until Darktable 3.8, the collection filters, at the top of the lighttable, were used to temporarilly restrict the view on a collection. The collection is an extraction of the photo database based on certain criteria, the most common being extracting the content of a folder (which Darktable calls ‚Äúfilmroll‚Äù to confuse everybody, because a filmroll is actually a folder‚Äôs content displayed as a flat list instead of a tree -‚ÄØmany people wrongfully thing that Darktable has no file manager).</p><p>Having been a Darktable user for more than a decade, I&nbsp;have a database of more than 140.000 entries. Extracting a collection among these 140.00 pictures is a slow operation. But my folders rarely contain more than 300 pictures. Filtering, for example, the pictures rated 2 stars or more, in a collection of 300 files, is fast because it is a subset of 300 elements. And switching from a filter to another is fast too. The filter is only a partial or total view of a collection, optimized for a fast and temporary start-and-go usage.</p><p>Under the pretense of refactoring the filtering code, which took all in all <a href="https://github.com/darktable-org/darktable/blob/darktable-3.6.x/src/libs/tools/filter.c" title="" target="_blank">550 lines</a>, the chief <a href="https://en.wikipedia.org/wiki/Gaston_%28comics%29#Props,_inventions_and_other_running_gags" title="" target="_blank">Gaston Lagaffe</a> made it a vocation to break this model to turn collection filters into basic collections, by mean of <a href="https://github.com/darktable-org/darktable/tree/darktable-4.2.x/src/libs/filters" title="" target="_blank">more than 6.000 lines of code</a>, not counting the countless bugfixes that only added more lines<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup>. All that, as usual, highly configurable and redundant with the classical <a href="https://docs.darktable.org/usermanual/4.0/en/module-reference/utility-modules/shared/collections/" title="" target="_blank">collections module</a>, which remained there, and served by icons so cryptic that they had to add text tooltips on hover to clarify what they mean..</p><p>In this quality code, we will found the endless <code>while</code> under the <code>switch case</code> in the <code>if</code> in the <code>if</code> in the <code>for</code> (<a href="https://github.com/darktable-org/darktable/blob/darktable-4.2.x/src/libs/filtering.c#L1382-L1459" title="" target="_blank">source</a>)‚ÄØ:</p><div><pre tabindex="0"><code data-lang="C"><span><span><span>for</span>(<span>int</span> k <span>=</span> <span>0</span>; k <span>&lt;</span> num_rules; k<span>++</span>)
</span></span><span><span>  {
</span></span><span><span>    <span>const</span> <span>int</span> n <span>=</span> sscanf(buf, <span>"%d:%d:%d:%d:%399[^$]"</span>, <span>&amp;</span>mode, <span>&amp;</span>item, <span>&amp;</span>off, <span>&amp;</span>top, str);
</span></span><span><span>
</span></span><span><span>    <span>if</span>(n <span>==</span> <span>5</span>)
</span></span><span><span>    {
</span></span><span><span>      <span>if</span>(k <span>&gt;</span> <span>0</span>)
</span></span><span><span>      {
</span></span><span><span>        c <span>=</span> g_strlcpy(out, <span>"&lt;i&gt;   "</span>, outsize);
</span></span><span><span>        out <span>+=</span> c;
</span></span><span><span>        outsize <span>-=</span> c;
</span></span><span><span>        <span>switch</span>(mode)
</span></span><span><span>        {
</span></span><span><span>          <span>case</span> DT_LIB_COLLECT_MODE_AND:
</span></span><span><span>            c <span>=</span> g_strlcpy(out, _(<span>"AND"</span>), outsize);
</span></span><span><span>            out <span>+=</span> c;
</span></span><span><span>            outsize <span>-=</span> c;
</span></span><span><span>            <span>break</span>;
</span></span><span><span>          <span>case</span> DT_LIB_COLLECT_MODE_OR:
</span></span><span><span>            c <span>=</span> g_strlcpy(out, _(<span>"OR"</span>), outsize);
</span></span><span><span>            out <span>+=</span> c;
</span></span><span><span>            outsize <span>-=</span> c;
</span></span><span><span>            <span>break</span>;
</span></span><span><span>          <span>default</span><span>:</span> <span>// case DT_LIB_COLLECT_MODE_AND_NOT:
</span></span></span><span><span><span></span>            c <span>=</span> g_strlcpy(out, _(<span>"BUT NOT"</span>), outsize);
</span></span><span><span>            out <span>+=</span> c;
</span></span><span><span>            outsize <span>-=</span> c;
</span></span><span><span>            <span>break</span>;
</span></span><span><span>        }
</span></span><span><span>        c <span>=</span> g_strlcpy(out, <span>"   &lt;/i&gt;"</span>, outsize);
</span></span><span><span>        out <span>+=</span> c;
</span></span><span><span>        outsize <span>-=</span> c;
</span></span><span><span>      }
</span></span><span><span>      <span>int</span> i <span>=</span> <span>0</span>;
</span></span><span><span>      <span>while</span>(str[i] <span>!=</span> <span>'\0'</span> <span>&amp;&amp;</span> str[i] <span>!=</span> <span>'$'</span>) i<span>++</span>;
</span></span><span><span>      <span>if</span>(str[i] <span>==</span> <span>'$'</span>) str[i] <span>=</span> <span>'\0'</span>;
</span></span><span><span>
</span></span><span><span>      gchar <span>*</span>pretty <span>=</span> NULL;
</span></span><span><span>      <span>if</span>(item <span>==</span> DT_COLLECTION_PROP_COLORLABEL)
</span></span><span><span>        pretty <span>=</span> _colors_pretty_print(str);
</span></span><span><span>      <span>else</span> <span>if</span>(<span>!</span>g_strcmp0(str, <span>"%"</span>))
</span></span><span><span>        pretty <span>=</span> g_strdup(_(<span>"all"</span>));
</span></span><span><span>      <span>else</span>
</span></span><span><span>        pretty <span>=</span> g_markup_escape_text(str, <span>-</span><span>1</span>);
</span></span><span><span>
</span></span><span><span>      <span>if</span>(off)
</span></span><span><span>      {
</span></span><span><span>        c <span>=</span> snprintf(out, outsize, <span>"&lt;b&gt;%s&lt;/b&gt;%s %s"</span>,
</span></span><span><span>                     item <span>&lt;</span> DT_COLLECTION_PROP_LAST <span>?</span> dt_collection_name(item) <span>:</span> <span>"???"</span>, _(<span>" (off)"</span>), pretty);
</span></span><span><span>      }
</span></span><span><span>      <span>else</span>
</span></span><span><span>      {
</span></span><span><span>        c <span>=</span> snprintf(out, outsize, <span>"&lt;b&gt;%s&lt;/b&gt; %s"</span>,
</span></span><span><span>                     item <span>&lt;</span> DT_COLLECTION_PROP_LAST <span>?</span> dt_collection_name(item) <span>:</span> <span>"???"</span>, pretty);
</span></span><span><span>      }
</span></span><span><span>
</span></span><span><span>      g_free(pretty);
</span></span><span><span>      out <span>+=</span> c;
</span></span><span><span>      outsize <span>-=</span> c;
</span></span><span><span>    }
</span></span><span><span>    <span>while</span>(buf[<span>0</span>] <span>!=</span> <span>'$'</span> <span>&amp;&amp;</span> buf[<span>0</span>] <span>!=</span> <span>'\0'</span>) buf<span>++</span>;
</span></span><span><span>    <span>if</span>(buf[<span>0</span>] <span>==</span> <span>'$'</span>) buf<span>++</span>;
</span></span><span><span>  }
</span></span></code></pre></div><p>and other <code>if</code> nested over 2 levels inside <code>switch case</code> necessary to support the keyboard shortcuts (<a href="https://github.com/darktable-org/darktable/blob/darktable-4.2.x/src/libs/filters/rating_range.c#L201-L265" title="" target="_blank">source</a>).</p><p>This last fucking crap was the straw that broke the camel‚Äôs back and made me fork Ansel. I refuse to work on a ticking bomb in a team that doesn‚Äôt see the problem and plays with code over their spare time. Coding may amuse them, not me. And fixing shit done by irresponsible kids twice my age, especially when they break stuff I cleaned up 3 or 4 years ago, infuriates me.</p><h3 id="lighttable">Lighttable<a href="#lighttable" title="Permanent link to this section"><i></i></a></h3><p>The lighttable underwent 2‚ÄØnearly-full rewritings, the first in early 2019 and the second in late 2019, which added many disputable features like the <a href="https://docs.darktable.org/usermanual/development/en/lighttable/lighttable-modes/culling/" title="" target="_blank">culling view</a>.</p><p>Quickly, the culling mode is divided into 2 submodes‚ÄØ: dynamic and static, which manage the number of images differently. Many users still haven‚Äôt understood the difference 4 years later. We therefore have the default view (file manager), the zoomable lighttable (that nobody uses), the static culling, the dynamic culling, and the preview mode (a single full-screen picture).</p><p>Then, more display options are added to thumbnails in lighttable, allowing to define overlays‚ÄØ: basic permanent overlays, extended EXIF permanent overlays, the same but only on hover, and finally the timed hovered overlays (with a configurable timer).</p><p>The UI code rendering thumbnails and their overlays must therefore take into account 5 different views and <a href="https://github.com/darktable-org/darktable/blob/darktable-4.2.x/src/dtgtk/thumbnail.h#L38-L48" title="" target="_blank">7 display variants</a>, that is 35 possible combinations. The code ensuring proper resizing of thumbnails thus needs <a href="https://github.com/darktable-org/darktable/blob/darktable-4.2.x/src/dtgtk/thumbnail.c#L1565-L1786" title="" target="_blank">a total of 220 lines</a>.</p><p>But it doesn‚Äôt stop there, because the code rendering the thumbnails GUI is shared also with the ‚Äúfilmstrip‚Äù bottom bar, which actually makes 36 possible combinations in thumbnail rendering. Multiplied by 3 GUI themes of different base colors, that makes 108 sets of CSS instructions to fully style the GUI‚Ä¶ of which many <a href="https://github.com/darktable-org/darktable/pull/11835" title="" target="_blank">were forgotten in Darktable 4.0 graphic overhaul</a>, and how could it be differently‚ÄØ?</p><p>In Darktable 2.6, we had <strong>4193</strong> lines for the pack, which had only the filemanager, zoomable lighttable and fullscreen preview views, with only 2‚ÄØmodes of thumbnails overlays (always visible or visible on hover)‚ÄØ:</p><ul><li>2634 lines <a href="https://github.com/darktable-org/darktable/blob/darktable-2.6.x/src/views/lighttable.c" title="" target="_blank">views/lighttable.c</a> for the lighttable and the thumbnail rendering,</li><li>1124 lines in <a href="https://github.com/darktable-org/darktable/blob/darktable-2.6.x/src/libs/tools/filmstrip.c" title="" target="_blank">libs/tools/filmstrip.c</a> for the filmstrip par, which partially duplicates the lighttable code for the thumbnail rendering,</li><li>435 lines in <a href="https://github.com/darktable-org/darktable/blob/darktable-2.6.x/src/libs/tools/global_toolbox.c" title="" target="_blank">libs/tools/global_toolbox.c</a>, for the button menu allowing to enable or disable thumbnails overlays.</li></ul><p>After Darktable 3.0 and the addition of culling modes, we get <strong>6731 lines</strong>‚ÄØ:</p><ul><li>5149 lines <a href="https://github.com/darktable-org/darktable/blob/darktable-3.0.x/src/views/lighttable.c" title="" target="_blank">views/lighttable.c</a>,</li><li>1177 lines <a href="https://github.com/darktable-org/darktable/blob/darktable-3.0.x/src/libs/tools/filmstrip.c" title="" target="_blank">libs/tools/filmstrip.c</a>,</li><li>405 lines <a href="https://github.com/darktable-org/darktable/blob/darktable-3.0.x/src/libs/tools/global_toolbox.c" title="" target="_blank">libs/tools/global_toolbox.c</a>.</li></ul><p>After Darktable 3.2 and the additions of the 7 variants of highly-configurable overlays and some code refactoring, we get <strong>8380 lines</strong>‚ÄØ:</p><ul><li>1463 lines in <a href="https://github.com/darktable-org/darktable/blob/darktable-3.2.x/src/views/lighttable.c" title="" target="_blank">views/lighttable.c</a>,</li><li>1642 lines in <a href="https://github.com/darktable-org/darktable/blob/darktable-3.2.x/src/dtgtk/culling.c" title="" target="_blank">dtgtk/culling.c</a>, where the culling view features were detached,</li><li>2447 lines in <a href="https://github.com/darktable-org/darktable/blob/darktable-3.2.x/src/dtgtk/thumbtable.c" title="" target="_blank">dtgtk/thumbtable.c</a>, where the thumbnails containers are managed for the lighttable and the filmstrip,</li><li>1736 lines in <a href="https://github.com/darktable-org/darktable/blob/darktable-3.2.x/src/dtgtk/thumbnail.c" title="" target="_blank">dtgtk/thumbnail.c</a>, where the thumbnails themselves are managed,</li><li>169 lines in <a href="https://github.com/darktable-org/darktable/blob/darktable-3.2.x/src/dtgtk/thumbnail_btn.c" title="" target="_blank">dtgtk/thumbnail_btn.c</a>, where the specific thumbnails buttons are declared,</li><li>115 lines in <a href="https://github.com/darktable-org/darktable/blob/darktable-3.2.x/src/libs/tools/filmstrip.c" title="" target="_blank">libs/tools/filmstrip.c</a>,</li><li>808 lines in <a href="https://github.com/darktable-org/darktable/blob/darktable-3.2.x/src/libs/tools/global_toolbox.c" title="" target="_blank">libs/tools/global_toolbox.c</a>.</li></ul><p>In Darktable 4.2, after the correction of many bugs, we get to a total of <strong>9264 lines</strong>‚ÄØ:</p><ul><li>1348 lines in <a href="https://github.com/darktable-org/darktable/blob/darktable-4.2.x/src/views/lighttable.c" title="" target="_blank">views/lighttable.c</a>,</li><li>1828 lines in <a href="https://github.com/darktable-org/darktable/blob/darktable-4.2.x/src/dtgtk/culling.c" title="" target="_blank">dtgtk/culling.c</a>,</li><li>2698 lines in <a href="https://github.com/darktable-org/darktable/blob/darktable-4.2.x/src/dtgtk/thumbtable.c" title="" target="_blank">dtgtk/thumbtable.c</a>,</li><li>2093 lines in <a href="https://github.com/darktable-org/darktable/blob/darktable-4.2.x/src/dtgtk/thumbnail.c" title="" target="_blank">dtgtk/thumbnail.c</a>,</li><li>166 lines in <a href="https://github.com/darktable-org/darktable/blob/darktable-4.2.x/src/dtgtk/thumbnail_btn.c" title="" target="_blank">dtgtk/thumbnail_btn.c</a>,</li><li>109 lines in <a href="https://github.com/darktable-org/darktable/blob/darktable-4.2.x/src/libs/tools/filmstrip.c" title="" target="_blank">libs/tools/filmstrip.c</a>,</li><li>1022 lines in <a href="https://github.com/darktable-org/darktable/blob/darktable-4.2.x/src/libs/tools/global_toolbox.c" title="" target="_blank">libs/tools/global_toolbox.c</a>.</li></ul><p>The number of lines (especially in code taking an ill-placed pleasure in ignoring programming best practices) is a direct indicator of the difficulty to debug anything in there, but also an indirect indicator (in the specific case of GUI&nbsp;code) of CPU&nbsp;load required to run the software.</p><p>Indeed, if you start <code>darktable -d sql</code> and you hover a thumbnail in lighttable, you will get in terminal‚ÄØ:</p><div><pre tabindex="0"><code data-lang="bash"><span><span>140.8252 <span>[</span>sql<span>]</span> darktable/src/common/image.c:311, <span>function</span> dt_image_film_roll<span>()</span>: prepare <span>"SELECT folder FROM main.film_rolls WHERE id = ?1"</span>
</span></span><span><span>140.8259 <span>[</span>sql<span>]</span> darktable/src/common/image.c:387, <span>function</span> dt_image_full_path<span>()</span>: prepare <span>"SELECT folder || '/' || filename FROM main.images i, main.film_rolls f WHERE i.film_id = f.id and i.id = ?1"</span>
</span></span><span><span>140.8271 <span>[</span>sql<span>]</span> darktable/src/common/metadata.c:487, <span>function</span> dt_metadata_get<span>()</span>: prepare <span>"SELECT value FROM main.meta_data WHERE id = ?1 AND key = ?2 ORDER BY value"</span>
</span></span><span><span>140.8273 <span>[</span>sql<span>]</span> darktable/src/common/metadata.c:487, <span>function</span> dt_metadata_get<span>()</span>: prepare <span>"SELECT value FROM main.meta_data WHERE id = ?1 AND key = ?2 ORDER BY value"</span>
</span></span><span><span>140.8275 <span>[</span>sql<span>]</span> darktable/src/common/metadata.c:487, <span>function</span> dt_metadata_get<span>()</span>: prepare <span>"SELECT value FROM main.meta_data WHERE id = ?1 AND key = ?2 ORDER BY value"</span>
</span></span><span><span>140.8277 <span>[</span>sql<span>]</span> darktable/src/common/metadata.c:487, <span>function</span> dt_metadata_get<span>()</span>: prepare <span>"SELECT value FROM main.meta_data WHERE id = ?1 AND key = ?2 ORDER BY value"</span>
</span></span><span><span>140.8279 <span>[</span>sql<span>]</span> darktable/src/common/metadata.c:487, <span>function</span> dt_metadata_get<span>()</span>: prepare <span>"SELECT value FROM main.meta_data WHERE id = ?1 AND key = ?2 ORDER BY value"</span>
</span></span><span><span>140.8280 <span>[</span>sql<span>]</span> darktable/src/common/metadata.c:487, <span>function</span> dt_metadata_get<span>()</span>: prepare <span>"SELECT value FROM main.meta_data WHERE id = ?1 AND key = ?2 ORDER BY value"</span>
</span></span><span><span>140.8282 <span>[</span>sql<span>]</span> darktable/src/common/metadata.c:487, <span>function</span> dt_metadata_get<span>()</span>: prepare <span>"SELECT value FROM main.meta_data WHERE id = ?1 AND key = ?2 ORDER BY value"</span>
</span></span><span><span>140.8284 <span>[</span>sql<span>]</span> darktable/src/common/tags.c:635, <span>function</span> dt_tag_get_attached<span>()</span>: prepare <span>"SELECT DISTINCT I.tagid, T.name, T.flags, T.synonyms, COUNT(DISTINCT I.imgid) AS inb FROM main.tagged_images AS I JOIN data.tags AS T ON T.id = I.tagid WHERE I.imgid IN (104337) AND T.id NOT IN memory.darktable_tags GROUP BY I.tagid  ORDER by T.name"</span>
</span></span><span><span>140.8286 <span>[</span>sql<span>]</span> darktable/src/common/tags.c:635, <span>function</span> dt_tag_get_attached<span>()</span>: prepare <span>"SELECT DISTINCT I.tagid, T.name, T.flags, T.synonyms, COUNT(DISTINCT I.imgid) AS inb FROM main.tagged_images AS I JOIN data.tags AS T ON T.id = I.tagid WHERE I.imgid IN (104337) AND T.id NOT IN memory.darktable_tags GROUP BY I.tagid  ORDER by T.name"</span>
</span></span><span><span>140.9512 <span>[</span>sql<span>]</span> darktable/src/common/act_on.c:156, <span>function</span> _cache_update<span>()</span>: prepare <span>"SELECT imgid FROM main.selected_images WHERE imgid=104337"</span>
</span></span><span><span>140.9547 <span>[</span>sql<span>]</span> darktable/src/common/act_on.c:156, <span>function</span> _cache_update<span>()</span>: prepare <span>"SELECT imgid FROM main.selected_images WHERE imgid=104337"</span>
</span></span><span><span>140.9550 <span>[</span>sql<span>]</span> darktable/src/common/act_on.c:288, <span>function</span> dt_act_on_get_query<span>()</span>: prepare <span>"SELECT imgid FROM main.selected_images WHERE imgid =104337"</span>
</span></span><span><span>140.9552 <span>[</span>sql<span>]</span> darktable/src/libs/metadata.c:263, <span>function</span> _update<span>()</span>: prepare <span>"SELECT key, value, COUNT(id) AS ct FROM main.meta_data WHERE id IN (104337) GROUP BY key, value ORDER BY value"</span>
</span></span><span><span>140.9555 <span>[</span>sql<span>]</span> darktable/src/common/collection.c:973, <span>function</span> dt_collection_get_selected_count<span>()</span>: prepare <span>"SELECT COUNT(*) FROM main.selected_images"</span>
</span></span><span><span>140.9556 <span>[</span>sql<span>]</span> darktable/src/libs/image.c:240, <span>function</span> _update<span>()</span>: prepare <span>"SELECT COUNT(id) FROM main.images WHERE group_id = ?1 AND id != ?2"</span>
</span></span><span><span>140.9558 <span>[</span>sql<span>]</span> darktable/src/common/tags.c:635, <span>function</span> dt_tag_get_attached<span>()</span>: prepare <span>"SELECT DISTINCT I.tagid, T.name, T.flags, T.synonyms, COUNT(DISTINCT I.imgid) AS inb FROM main.tagged_images AS I JOIN data.tags AS T ON T.id = I.tagid WHERE I.imgid IN (104337) AND T.id NOT IN memory.darktable_tags GROUP BY I.tagid  ORDER by T.name"</span>
</span></span></code></pre></div><p>which means that 18 SQL requests are made against the database to fetch image information, and run everytime the cursor hovers a new thumbnail, for no reason since metadata didn‚Äôt change since the previous hovering.</p><p>In Ansel, by removing most options, I managed to spare 7 requests, which still doesn‚Äôt prevent duplicated requests but still improve the timings somewhat (timestamps are the figures starting each line)‚ÄØ:</p><div><pre tabindex="0"><code data-lang="bash"><span><span>12.614534 <span>[</span>sql<span>]</span> ansel/src/common/image.c:285, <span>function</span> dt_image_film_roll<span>()</span>: prepare <span>"SELECT folder FROM main.film_rolls WHERE id = ?1"</span>
</span></span><span><span>12.615225 <span>[</span>sql<span>]</span> ansel/src/common/image.c:356, <span>function</span> dt_image_full_path<span>()</span>: prepare <span>"SELECT folder || '/' || filename FROM main.images i, main.film_rolls f WHERE i.film_id = f.id and i.id = ?1"</span>
</span></span><span><span>12.616499 <span>[</span>sql<span>]</span> ansel/src/common/metadata.c:487, <span>function</span> dt_metadata_get<span>()</span>: prepare <span>"SELECT value FROM main.meta_data WHERE id = ?1 AND key = ?2 ORDER BY value"</span>
</span></span><span><span>12.616636 <span>[</span>sql<span>]</span> ansel/src/common/metadata.c:487, <span>function</span> dt_metadata_get<span>()</span>: prepare <span>"SELECT value FROM main.meta_data WHERE id = ?1 AND key = ?2 ORDER BY value"</span>
</span></span><span><span>12.616769 <span>[</span>sql<span>]</span> ansel/src/common/metadata.c:487, <span>function</span> dt_metadata_get<span>()</span>: prepare <span>"SELECT value FROM main.meta_data WHERE id = ?1 AND key = ?2 ORDER BY value"</span>
</span></span><span><span>12.616853 <span>[</span>sql<span>]</span> ansel/src/common/metadata.c:487, <span>function</span> dt_metadata_get<span>()</span>: prepare <span>"SELECT value FROM main.meta_data WHERE id = ?1 AND key = ?2 ORDER BY value"</span>
</span></span><span><span>12.616930 <span>[</span>sql<span>]</span> ansel/src/common/metadata.c:487, <span>function</span> dt_metadata_get<span>()</span>: prepare <span>"SELECT value FROM main.meta_data WHERE id = ?1 AND key = ?2 ORDER BY value"</span>
</span></span><span><span>12.617007 <span>[</span>sql<span>]</span> ansel/src/common/metadata.c:487, <span>function</span> dt_metadata_get<span>()</span>: prepare <span>"SELECT value FROM main.meta_data WHERE id = ?1 AND key = ?2 ORDER BY value"</span>
</span></span><span><span>12.617084 <span>[</span>sql<span>]</span> ansel/src/common/metadata.c:487, <span>function</span> dt_metadata_get<span>()</span>: prepare <span>"SELECT value FROM main.meta_data WHERE id = ?1 AND key = ?2 ORDER BY value"</span>
</span></span><span><span>12.617205 <span>[</span>sql<span>]</span> ansel/src/common/tags.c:635, <span>function</span> dt_tag_get_attached<span>()</span>: prepare <span>"SELECT DISTINCT I.tagid, T.name, T.flags, T.synonyms, COUNT(DISTINCT I.imgid) AS inb FROM main.tagged_images AS I JOIN data.tags AS T ON T.id = I.tagid WHERE I.imgid IN (133727) AND T.id NOT IN memory.darktable_tags GROUP BY I.tagid  ORDER by T.name"</span>
</span></span><span><span>12.617565 <span>[</span>sql<span>]</span> ansel/src/common/tags.c:635, <span>function</span> dt_tag_get_attached<span>()</span>: prepare <span>"SELECT DISTINCT I.tagid, T.name, T.flags, T.synonyms, COUNT(DISTINCT I.imgid) AS inb FROM main.tagged_images AS I JOIN data.tags AS T ON T.id = I.tagid WHERE I.imgid IN (133727) AND T.id NOT IN memory.darktable_tags GROUP BY I.tagid  ORDER by T.name"</span>
</span></span></code></pre></div><p>The issue is that the source code nests SQL commands inside functions drawing the GUI, and untangling this mess through the different layers inherited from ‚Äúrefactoring‚Äù (supposed to simplify the code, but actually nope) is once again archaelogy. And if the issue had been fixed when the code was 6700 lines over 3 files, we wouldn‚Äôt be looking, 4 years later, for the causes in 2500 additionnal lines now spread in 7 different files (not counting <code>.h</code> files).</p><p>We are in the poster case where ‚Äúrefactoring‚Äù actually complexified code and where merging thumbnail code between filmstrip and lighttable only added more internal <code>if</code> (branches) nested on several levels, which complexify even more the structure, only to blindly follow the <a href="https://en.wikipedia.org/wiki/Code_reuse" title="" target="_blank">code reuse principle</a>, which conflicts here with the <a href="https://en.wikipedia.org/wiki/Modular_programming" title="" target="_blank">modularity principle</a>, which a skilled developer would have fixed with [inheritance](<a href="https://en.wikipedia.org/wiki/Inheritance_%28object-oriented_programming%29" title="" target="_blank">https://en.wikipedia.org/wiki/Inheritance_(object-oriented_programming)</a>, because even if it‚Äôs not easy to do in C, it‚Äôs perfectly possible (actually, Darktable uses this principle in code from 2009-2010).</p><h2 id="cosmetics-take-over-stability">Cosmetics take over stability<a href="#cosmetics-take-over-stability" title="Permanent link to this section"><i></i></a></h2><p>Darktable 4.2 introduces the styles preview in darkroom. That would be awesome if styles were not deeply broken, when used with non-default pipeline order and multiple module instances. The problem is a clean and long-term solution involves <a href="https://en.wikipedia.org/wiki/Directed_graph" title="" target="_blank">directed graphs theory</a>, and that‚Äôs where we lost our beloved copy-pasted code pissers.</p><p>In the same spirit, we have large inconsistencies on history copy-pasting in <em>overwrite</em> mode when default user presets are also used (especially in white balance module). But it‚Äôs far funnier to shit up the interface, so it will stay there for a long time.</p><p>Darktable 3.6 and 3.8 introduced many variants of the histogram‚ÄØ: vectorscope, vertical waveform, advanced and exotic colorspaces. Except that if you launch <code>darktable -d perf</code> in terminal and open the darkroom, you will see a lot of</p><div><pre tabindex="0"><code data-lang="bash"><span><span>23.748084 <span>[</span>histogram<span>]</span> took 0.003 secs <span>(</span>0.000 CPU<span>)</span> scope draw
</span></span><span><span>23.773753 <span>[</span>histogram<span>]</span> took 0.005 secs <span>(</span>0.004 CPU<span>)</span> scope draw
</span></span><span><span>23.783284 <span>[</span>histogram<span>]</span> took 0.001 secs <span>(</span>0.000 CPU<span>)</span> scope draw
</span></span></code></pre></div><p>everytime you move the cursor in the window (and not even over the histogram). It is the histogram that gets redrawn at every interaction between cursor and window. The same problem affects <a href="https://github.com/darktable-org/darktable/issues/11836" title="" target="_blank">many custom graphical widgets</a> and its cause is unidentified. Note that it doesn‚Äôt affect Ansel, so the cause should be hidden somewhere in the 23.000 lines of code that I&nbsp;removed.</p><p>Twice, I&nbsp;tried to refactor <a href="https://github.com/darktable-org/darktable/blob/darktable-4.2.x/src/libs/histogram.c" title="" target="_blank">the shitshow this feature became</a>, but each time a new feature more urgent was pushed that invalidated my work. I simply gave up.</p><p>The rotting state of the histogram is such that a full rewrite would take less time than a refactoring, especially since the histogram is sampled way too late in the pipeline, in the screen colorspace, which makes the definition of an histogram colorspace null given that the gamut is clipped in screen colorspace no matter what. But guess what‚Ä¶ Darktable 4.4 will have even more options, with the ability to define color harmonies (fundamental for geeks who paint by numbers and edit histograms).</p><p>It remains that, any time you move the cursor, a great number of useless recomputations are started for nothing. How bad is it‚ÄØ? I had the idea of measuring the CPU&nbsp;use of my system when idle, with the Linux tool <code>powertop</code>. The protocol is quite simple‚ÄØ: a laptop (CPU&nbsp;Intel Xeon Mobile 6th generation), working on battery in powersave mode, backlighting set to minimum, open the app and touch nothing for 4‚ÄØmin, then monitor the global CPU&nbsp;consumption of the system as reported by <code>powertop</code> during the 5th minute‚ÄØ:</p><ul><li>Base system (no app opened except for <code>powertop</code> runing in a terminal)‚ÄØ: <strong>3.0 to 3.5‚ÄØ% CPU</strong></li><li>Ansel‚ÄØ:<ul><li>opened on lighttable‚ÄØ: <strong>2.9 to 3.4‚ÄØ% CPU</strong>,</li><li>opened on darkroom‚ÄØ: <strong>3.8 to 4.5‚ÄØ%</strong> (before reverting module groups to Darktable 3.2),</li><li>opened on darkroom‚ÄØ: <strong>3.0 to 3.5‚ÄØ%</strong> (after reverting module groups),</li></ul></li><li>Darktable‚ÄØ:<ul><li>opened on lightable‚ÄØ: <strong>6.6 to 7.1‚ÄØ% CPU</strong>,</li><li>opened on darkroom‚ÄØ: <strong>30.9 to 44.9‚ÄØ% CPU</strong> <em>(no, it‚Äôs not a coma mistake)</em>,</li></ul></li></ul><p>I don‚Äôt understand what Darktable computes when we leave it open without touching the computer, because there is nothing to compute. Darktable in lighttable consumes by itself as much as the whole system (Fedora 37 + KDE desktop + password manager and Nextcloud client running in background), and it consumes 10 times as much as the whole system when opened in darkroom.</p><p>All this points towards very buggy graphical interface code. In Ansel, I removed a great part of the dirty code, without optimizing anything else, and these figures are only validating my choice‚ÄØ: dirty code hides problems undetectable by reading it, and we simply can‚Äôt continue on this path.</p><p>I‚Äôm apparently the only one thinking it‚Äôs unacceptable to deprive the pixel pipeline of a third to a half of the CPU&nbsp;power to paint a stupid interface. However you put it, there is no valid reason for a software left open without touching it to turn the computer into a toaster, especially since we don‚Äôt buy Russian gas anymore.</p><h2 id="working-against-ourselves">Working against ourselves<a href="#working-against-ourselves" title="Permanent link to this section"><i></i></a></h2><p>We are photographers. The fact that we need a computer to do photography is a novelty (20 years old), linked to the digital imaging technology which replaced for all sorts of reasons (good and bad) a 160 years-old technology, known and mastered. In the process, the fact that we need a computer and a software to produce images is pure and simple <a href="https://en.wikipedia.org/wiki/Overhead_%28business%29" title="" target="_blank">overhead</a>. Forcing people who don‚Äôt understand computers to use them to perform tasks they could perfectly manage manually before is also a form of oppression, and hiding it as some technical progress is a form of psychological violence.</p><p>Software implies development, maintenance, documentation and project management. That‚Äôs several layers of overhead atop the previous. Yet the fact that the manpower in open-source projects doesn‚Äôt ask for compensation should not hinder the fact that the time spent (lost ?) on the software, its use, its development, its maintenance, is in itself a non-refundable cost.</p><p>The few examples above give an overlook of the complexification of the source code, but also of its degradation over time in terms of quality, because basic and robust features get replaced by <a href="https://en.wikipedia.org/wiki/Spaghetti_code" title="" target="_blank">spaghetti code</a>, confusing and sneakily bugged. Behind this issue of legibility, the real problem is making the mid-term maintainability harder, which promises a gloomy future for the project, with the maintainer‚Äôs approval.</p><p>Since 4 years that I&nbsp;work full-time on Darktable, 2022 is the first year that I&nbsp;find myself practically unable to identify the cause of most interface bugs, because the working logic has become very obfuscated and the code incomprehensible. The number of bugs fixed is also in constant diminution, both in absolute value and in proportion of the pull requests merged, while the volume of code traffic stays roughly constant (<em>note 1‚ÄØ: the following counts of lines of code include only C/C++/OpenCL and generative XML files and exclude comments</em> <sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup>) (<em>note 2‚ÄØ: the number of opened issues is counted for the lifetime of the previous version</em>)‚ÄØ:</p><dl><dt>3.0 (December 2019, one year after 2.6)</dt><dd><ul><li><a href="https://github.com/darktable-org/darktable/issues?q=is%3Aissue+created%3A2018-12-24..2019-12-24+" title="" target="_blank">1049 issues opened</a>, 66 issues closed / 553 pull requests merged <strong>(12 %)</strong>,</li><li>398 files changed, 66‚ÄØk insertions, 22‚ÄØk deletions, <strong>(net‚ÄØ: +44‚ÄØk lines)</strong>,</li></ul></dd><dt>3.2 (August 2020)</dt><dd><ul><li><a href="https://github.com/darktable-org/darktable/issues?q=is%3Aissue+created%3A2019-12-24..2020-08-10" title="" target="_blank">1028 issues opened</a>, 92 issues closed / 790 pull requests merged <strong>(12 %)</strong>,</li><li>586 files changed, 54‚ÄØk insertions, 43‚ÄØk deletions <strong>(net‚ÄØ: +2‚ÄØk lines)</strong>,</li></ul></dd><dt>3.4 (December 2020)</dt><dd><ul><li><a href="https://github.com/darktable-org/darktable/issues?q=is%3Aissue+created%3A2020-06-01..2020-12-24+" title="" target="_blank">981 issues opened</a>, 116 issues closed / 700 pull requests merged <strong>(17 %)</strong>,</li><li>339 files changed, 46‚ÄØk insertions, 23‚ÄØk deletions <strong>(net‚ÄØ: +23‚ÄØk lines)</strong>,</li></ul></dd><dt>3.6 (June 2021)</dt><dd><ul><li><a href="https://github.com/darktable-org/darktable/issues?q=is%3Aissue+created%3A2020-12-24..2021-06-01+" title="" target="_blank">759 issues opened</a>, 290 issues closed / 954 pull requests merged <strong>(30 %)</strong>,</li><li>433 files changed, 53‚ÄØk insertions, 28‚ÄØk deletions <strong>(net‚ÄØ: +25‚ÄØk lines)</strong>,</li></ul></dd><dt>3.8 (December 2021)</dt><dd><ul><li><a href="https://github.com/darktable-org/darktable/issues?q=is%3Aissue+created%3A2021-06-01..2021-12-24+" title="" target="_blank">789 issues opened</a>, 265 issues closed / 571 pull requests merged <strong>(46 %)</strong>,</li><li>438 files changed, 41‚ÄØk insertions, 21‚ÄØk deletions <strong>(net‚ÄØ: +20‚ÄØk lines)</strong>,</li></ul></dd><dt>4.0 (June 2022)</dt><dd><ul><li><a href="https://github.com/darktable-org/darktable/issues?q=is%3Aissue+created%3A2021-12-24..2022-06-01+" title="" target="_blank">632 issues opened</a>, 123 issues closed / 586 pull requests merged <strong>(21 %)</strong>,</li><li>359 files changed, 30‚ÄØk insertions, 15‚ÄØk deletions <strong>(net‚ÄØ: +15‚ÄØk lines)</strong>,</li></ul></dd><dt>4.2 (December 2022)</dt><dd><ul><li><a href="https://github.com/darktable-org/darktable/issues?q=is%3Aissue+created%3A2022-06-01..2022-12-24+" title="" target="_blank">595 issues opened</a>, 60 issues closed / 409 pull requests merged <strong>(15 %)</strong>,</li><li>336 files changed, 14‚ÄØk insertions, 25‚ÄØk deletions <strong>(net‚ÄØ: -11‚ÄØk lines)</strong>,</li><li>(<em>deletions are mostly due to the removal of the SSE2 path in pixel code, penalizing performance of typical Intel i5/i7 CPUs for the benefit of AMD Threadripper CPUs</em>),</li></ul></dd><dt>4.4 (June 2023)</dt><dd><ul><li><a href="https://github.com/darktable-org/darktable/issues?q=is%3Aissue+created%3A2022-12-24..2023-06-01" title="" target="_blank">500 issues opened</a>, 97 issues closed / 813 pull requests merged <strong>(12 %)</strong>,</li><li>479 files changed, 57‚ÄØk insertions, 41‚ÄØk deletions <strong>(net‚ÄØ: +16‚ÄØk lines)</strong>,</li></ul></dd></dl><p>To make things easier to compare, let‚Äôs annualize them‚ÄØ:</p><ul><li>2019‚ÄØ: 1049‚ÄØnew issues, 66‚ÄØclosed, 88‚ÄØk changes, +44‚ÄØk lines,</li><li>2020‚ÄØ: 2009‚ÄØnew issues, 208‚ÄØclosed, 166‚ÄØk changes, +25‚ÄØk lines,</li><li>2021‚ÄØ: 1548‚ÄØnew issues, 555‚ÄØclosed, 143‚ÄØk changes, +45‚ÄØk lines,</li><li>2022‚ÄØ: 1227‚ÄØnew issues, 183‚ÄØclosed, 84‚ÄØk changes, +4‚ÄØk lines.</li></ul><p>It seems I‚Äôm not the only one finding the 2022‚Äôs bugs much more difficult to tackle because a lot fewer of them were fixed compared to 2021, and 2023 shows the same trend so far. The ratios of pull requests (actual work done) versus issues closed (actual problems solved) is simply ridiculous.</p><p>Between Darktable 3.0 and 4.0, the GUI code grew by 53‚ÄØ%, from 49‚ÄØk to 75‚ÄØk lines<sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup> (discarding comments and white lines), and reached 79‚ÄØk lines in 4.4. Letting the poor quality of it aside, I‚Äôm really not sure it improved the usability of the software by 53‚ÄØ%. In fact, I‚Äôm quite convinced of the contrary. In Ansel, I&nbsp;have so far reduced the GUI&nbsp;code to 53‚ÄØk lines while removing little functionnality.</p><p>All this is just too much too fast for a bunch of hobbyists working on evenings and week-ends without structure and planning. The Darktable team works against itself by trying to bite more than it can chew, supporting too many different options, producing code which outcome depends on too many environment variables, being able to interact in too many different ways. All that to avoid making design decisions that could offend some guys by limiting features and available options. On the end-user side, this results in contextual bugs impossible to reproduce on other systems, so impossible to fix at all.</p><p>It‚Äôs simple‚ÄØ: the work done costs more and more work, and the maintenance is not assured, as the decline of closed issues shows, because it‚Äôs simply too much. In a company, this is the time where you need to stop the bleeding before having emptied the vaults. But a team of amateurs bound to deliver no result can sustain an infinite amount of losses. Only the work created by the work is more tedious, frustrating and difficult as time goes by, and end-users are taken hostage by a gang of self-serving pricks and will pay it in terms of GUI&nbsp;complexity, needless CPU load, and need to relearn how to achieve basic tasks with the software at least once a year.</p><p>Actually, I‚Äôm expecting the current mass-destruction team to conveniently find less and less freetime to contribute to the project as they realize they trapped themselves in a one-way with a tractor-trailer, leaving their shit to the next ones. But the sooner they give up, the less damage they will cause.</p><p>The debauchery of options and preferences, which is the Darktable go-to strategy to (not) manage design disagreements, creates super contextual use cases where no user has the same options enabled and where it‚Äôs impossible to reproduce bugs in a different environement. And to ask users to attach the <code>darktablerc</code> configuration file to bug reports would not help either since that file has currently 1287 lines practically unlegible.</p><p>Weird and hardly reproduceable bugs pile up, even on <a href="https://system76.com/" title="" target="_blank">System 76</a> computers designed specifically for Linux, where we can‚Äôt invoke drivers issues. Many inconsistent and random bugs I have witnessed while giving editing lessons are not listed on the bug tracker, and it‚Äôs rather clear that they lie somewhere in the intricacies of the <code>if</code> and <code>switch case</code> debauchery that are added at an alarming rate since 2020.</p><p>Fixing these strange and contextual bugs can only be made by simplifying the control flow of the program and therefore by limiting the number of user parameters. But the pack of geeks flapping their arms on the project won‚Äôt hear about it and, worse, the bug ‚Äúfixes‚Äù generally only add more lines to deal with pathological cases individually.</p><p>In fact, Darktable suffers several issues‚ÄØ:</p><ol><li>An hard core of rather mediocre developers who have a lot of free time on their hands to do random stuff, driven by the best intents in the world but oblivious of the damages they make, (mediocre people are always the more available)</li><li>The complacency of the maintainer, who lets dirty code through to be nice,</li><li>A critical lack of skills in pure mathematics, algorithmics, signal processing, color science and generally in abstract thinking, which are required beyond pixel processing code to simplify and factorize features,</li><li>A&nbsp;despicable habit of ‚Äúdeveloping‚Äù by copy-pasting code fetched elsewhere in the project or in other FLOSS projects that may used a different pipeline architecture but without adapting it accordingly (adapting implies understanding, and that‚Äôs too much to ask‚Ä¶),</li><li>A fair and square refusal to prune features to make room to new ones and keep a certain balance,</li><li>A sampling bias, where the only users interacting with the development through Github are programmers and English-speaking. Fact is the general audience doesn‚Äôt understand what a code forge is and it‚Äôs difficult to encourage non-programmers to open a Github account to report bugs. We are talking of a users sample <a href="https://eng.aurelienpierre.com/2023/01/who-are-the-darktable-users/#Conclusion-of-this-part" title="" target="_blank">made of more than 44‚ÄØ% of programmers</a> and of more than 35‚ÄØ% of university-graduated people (they are respectively 6‚ÄØ% and 15‚ÄØ% in the general population).</li><li>A forced-march development style, without planning or dialogue, where every Github user can pollute discussions with a non-educated opinion on current work. Fact is image processing looks easy and is harmless, so much so that any person able to compute a logarithm feels competent. But the fundamental mistakes in Darkable colorimetry chain are there to remind us everday of the contrary.</li><li>A lack of project-wise priorities regarding what features to refactor, stabilize or extend‚ÄØ: all projects are open at the same time, even if they conflicts with each other.</li><li>An amount of activity (emails and notifications) impossible to follow, between comments, off-topic discussions, bugs that are not, code change proposals, actual code changes that may impact your own work in progress, which means you have to be all over the place all the time‚ÄØ; there is a lot to read, very little to keep, discussion for the sake of discussion hinders productivity and the lack of working structure is the main cause of all that,</li><li>Non-blocking bugs hastily hidden before we are done understanding them, instead of fixing them for real and tackling them at their root, which moves or even aggravates issues long-term without leaving traces into any kind of documentation,</li><li>A release schedule that we keep no matter the price even when it‚Äôs not realistic, whereas nobody imposes it upon ourselves,</li><li>Code changes that can happen anytime anywhere, meaning we work on quicksand and that we have to work as fast and as bad as the others to not be left behind the volume and frequency of the changes (<em>commits</em>),</li><li>New features that degrade usability and complicate usage without solving a definite problem, that serves as recreational projects to developers untrained in design/engineering.</li></ol><p>But the most infuriating is this obstinacy to replace simple and functional features with horrors of over-engineering destined to please deviant and marginal uses while making everybody‚Äôs life more difficult with never-ending lists of thoughtless options. The best place to hide a tree is in the middle of the forest, and many still haven‚Äôt learned it.</p><h2 id="mistaking-agitation-with-activity">Mistaking agitation with activity<a href="#mistaking-agitation-with-activity" title="Permanent link to this section"><i></i></a></h2><p>Any elector likes to criticize the deviance that, in politics, consists in issuing circumstancial laws, ill-written, to appease the public opinion after a special event, to show off that we act, while similar laws already exist and are not or not fully applied for lack of means. We call that agitation‚ÄØ: this looks like action, this sounds like action, this has the cost of action, but that leads to nothing tangible or practical.</p><p>The team of amateurs without project management getting agitated over Darktable produces only future problems. In the past, Darktable was released once every year with around 1500 to 2000 <a href="https://en.wikipedia.org/wiki/Commit_%28version_control%29" title="" target="_blank">commits</a> ahead of the previous version. That‚Äôs now the volume of change achieved in 6‚ÄØmonths. A ‚Äúwork‚Äù volume increasing that fast without leading to teamwork methods, including clear priorities for each release and task repartition, and without software quality control based on objective metrics (number of steps or elapsed time to achieve a particular task), it‚Äôs only dudes stepping on each other‚Äôs feet while pushing their own agenda with no care for others, nor the project, nor users.</p><p>Darktable has become the highschool computer club, where geeks have their fun. It‚Äôs globally a sum-up of all the worst stories of IT companies, with the difference that the project doesn‚Äôt make a penny, which makes it urgent to ask ourselves why we impose that upon ourselves‚ÄØ: there are no profits to share, but everybody shares the costs. It‚Äôs a chaotic and toxic working environment which would only manufacture burn-out if the part-time amateurs were bound to deliver results and had to work full-time. Being the only full-time dude on it, I let you imagine the amount of stress and lost energy to stay up-to-date with the permanent cacophony, only to be sure to not miss the 2‚ÄØ% actually relevant to me in the amount of noise produced by unregulated discussions.</p><p>On the user side, we praise the effervescence of the Darktable project (yes, there is motion), without realizing that the commits runaway is not activity but agitation, and in particular technical debt which will have to be paid we-don‚Äôt-know-when by we-don‚Äôt-know-who. The beauty of a project where nobody has to take responsibility for their horseshit because nobody is accountable for nothing‚ÄØ: it‚Äôs written in the GNU/GPL license. We can therefore screw up the work of the previous ones with total impunity.</p><p>We have the beginning of a quality control, through the integration tests, which measure the perceptual error over reference image processings, but they don‚Äôt trigger any response when we see an average error delta E of 1.3 (small) when the nature of the change should have a strictly zero delta E. If <strong>the only</strong> test passes (because we test a single SDR image over a studio shot), no question is asked on whether the theory is sound and robust. We turned the test into a discharge, as long as the metric stays under the validation threshold‚Ä¶</p><p>With the release of Darktable 4.0 ‚Äî&nbsp;<em>Geektable</em>&nbsp;‚Äî, I saw on Youtube people starting to complain that this release was not very exciting. After years of dosing people with superlative releases, packed with new features we don‚Äôt have time to properly test (6-8 guys who piss 38-50‚ÄØk lines every 6‚ÄØmonths while working only evenings and week-ends, you still dreaming ?), we made them addict to the overpacked Christmas Tree to ensure that, the day we start being responsible and releasing stable versions (thus boring), that will be held against us.</p><p>The reason for this frenetic release pace is the pull requests older than 3‚ÄØmonthes are systematically in conflict with the master branch, given that this one is shaken every month for ‚Äúgeneralized tests‚Äù. But the rare users who build the master branch have no idea what they need to test in particular, unless the dissected the commit history of Git, which implies to understand both the C language and the impact of the changes in practice on the software.</p><p>To limit long-lived branches, which will invariably end in conflict with the master, we found a brilliant solution‚ÄØ: we release 2 versions each year, making forced-march development based on unfinished and barely-tested code a way of life, without ever realizing that the core problem is first the lack of planning, but also that contributors start coding before being done defining the problem to solve (when there is a real problem to solve, not just a guy who woke up like ‚Äúit would be cool if‚Ä¶‚Äù), working in parallel on both parts without communication.</p><p>The dust doesn‚Äôt have time to settle that we are already shaking the code base again, without enforcing stabilisation phases where we only clean-up bugs (and I‚Äôm not talking of the month of feature-freeze prior to release, but of releases dedicated only to code cleaning). The bug tracker implodes in the 3 weeks following each release, because a significant part of users only uses the pre-built packages, which coincide with Christmas and Summer hollidays, where I&nbsp;personnaly have better things to do after the already-stressful sprint that is the month prior to release.</p><p>Since 2021, when I update my Git repository with the last changes of Darktable master, it‚Äôs always asking myself what they broke <strong>this time</strong>. We break faster than we fix, and most of the time, the fixes break something else. The only users finding Darktable stable are actually the ones making a very basic use of it, which is ironical for an app whose selling point is to be advanced.</p><p>And then, I‚Äôm being served the fact that it‚Äôs free work as if it was an excuse. But it is actually an aggravating circumstance‚ÄØ: why do we impose such working conditions upon ourselves if it‚Äôs not even profitable ??? In addition to the fact that this free work gives me a post-release burn-out per year, it costs more and more in maintenance and the maintenance is more and more despicable to do. It‚Äôs not free work, it‚Äôs worse‚ÄØ: it‚Äôs work that costs without paying.</p><p>Anyway, the work is provided by people who have limited time and energy. If the resource is limited, cut the bullshit‚ÄØ: we are in the same profitability constraints as a business, minus social contributions, except our exchange money is time and it‚Äôs not refundable. Without priority management, we will get overtaken by technical debt that we will not have the resource to maintain.</p><h2 id="what-are-we-waiting-for-to-be-happy">What are we waiting for to be happy‚ÄØ?<a href="#what-are-we-waiting-for-to-be-happy" title="Permanent link to this section"><i></i></a></h2><p>The fact that Darktable is a steamroller in runaway mode and without a driver, which generates an increasing amount of work, is a bad smell for a 15 years-old project. Normally, a mature project slows-down because it‚Äôs complete enough to be usable and because people working on it found their cruising speed and efficient working methods.</p><p>I‚Äôm full-time on it since 2018, for a monthly income between 800 and 900‚ÄØ‚Ç¨, and it‚Äôs an understatement to say that it‚Äôs ill-payed to endure the desastrous consequences of disorganized amateurs trying to have their fun at the expense of the quality of the final product and its usability by computer Muggles. Besides, Muggles are despised too, as a principle.</p><p>If I‚Äôm crawling under a rock for a month to develop a perceptual color space, when I&nbsp;get out, it‚Äôs to discover the new labyrinthine system violating a bit more the view-model-controller paradigm and being told that I&nbsp;come too late to oppose it. If I&nbsp;take 3 weeks of vacation in August, it‚Äôs to discover that the maintainer bypassed (one more time) my review on a mathematical change over the aforementionned color space, which requires to sit down calmly and think, all this because‚Ä¶ we needed to move fast‚ÄØ? For what emergency, exactly‚ÄØ?</p><p>I probably got the notification somewhere in the middle of the 2234 emails Github sent me between January and August 2022 (in 2021, it was 4044), without mentionning users who ping me everywhere, on Youtube, Reddit, Matrix, Github, Telegram, directly by emails, and previously on pixls.us (693 emails in 2022, 948 in 2021). All this for people completely out of step who don‚Äôt realize that I‚Äôm doing this all week, that photography may be their hobby but is my job, and that I&nbsp;would just appreciate people off my back during week-ends and hollidays. You can guess that the most annoying are not the ones financially supporting my work. People respect work only if they got billed an high price for it.</p><p>I don‚Äôt have time to be researcher, designer, on top of secretary, while doing technical baby-sitting for a team of Gaston Lagaffe who need both to be trained and to be watched because they are unable to‚ÄØ:</p><p>1.‚ÄØmake a development planning with a list of priorities of new features to work on,
2. provide a specicifications book of needs and issues, with a real use case, <strong>before</strong> hurrying up on their code editor and doing whatever to develop a new feature in search for a problem to solve.
3. evaluate the maintenance cost of the change before inventing the bionic bacon pump using reversed osmosis which only works on even days if Jupyter is out of phase with Saturn,
4. limit the expenses and cut down the losses when they trap themselves into design one-ways introducing regressions worse than the hypothetical benefits expected,
5. take upon themselves and delay a release if the code is obviously not ready (or I&nbsp;didn‚Äôt understand anything and the shareholders will ask for our heads if we release late ???).</p><p>Management (or team management) is overhead that costs some work, but the Darktable team has reached a scale where the lack of management costs actually more work, especially since none of the project founders are still in the team and the initial design blueprints need to be reverse-engineered with <code>grep</code> in the code everytime something needs change. That was sustainable with a reduced team where everybody knew each other, but Darktable has become an high-traffic project during Covid lock-downs and this way of working is not sustainable with current personnel.</p><p>Just go see the code‚ÄØ! Compare the branche <code>darktable-2.6.x</code> with <code>darktable-4.2.x</code>, file by file, and enjoy‚ÄØ!</p><p>All I have heard so far are canned sentences like ‚Äúit‚Äôs like many other opensource projects‚Äù and ‚Äúthere is nothing we can do about it‚Äù. People are afraid by the amount of work that a fork is (I&nbsp;got emails trying to convince me it was dividing productivity), without realizing the amount of resources currently wasted by the Darktable project and the permanent stress of having to base your work on an unstable code base shaken up all the time. So far, Ansel cost me less fatigue <a href="https://ansel.photos/en/doc/special-topics/from-darktable/" title="">and I&nbsp;solved a significant number of problems</a> among which some were reported since 2016 without signs of interest from the bloody ‚Äúcommunity‚Äù.</p><p>Besides, Ansel provides automatically-built nightly packages for Linux (.AppImage) and Windows (.exe), as to allow <strong>real</strong> generalized tests, including by people unable to build the software themselves. <a href="https://github.com/darktable-org/darktable/issues/3925" title="" target="_blank">I&nbsp;asked for that back in 2019</a>, but apparently, geeks have better things to do, and I had to invest 70‚ÄØh myself to make that happen. The operation is already a success and allowed to fix in a matter of days Windows bugs that would have taken weeks to spot in Darktable. (And Darktable grabbed 3 weeks later my AppImage build script without proper credits, but that‚Äôs a detail).</p><p>Talking about productivity, let us recall that the lighttable was rewritten almost entirely twice since 2018 (and the last version is not better nor faster) and the big change if collection filters introduced in <a href="https://github.com/darktable-org/darktable/pull/11066" title="" target="_blank">April 2022</a> has overwritten another similar change (but only using 600 lines instead of 6000) introduced in <a href="https://github.com/darktable-org/darktable/pull/10694" title="" target="_blank">February 2022</a> (the February version is the one in Ansel). We can‚Äôt decently utter the word ‚Äúproductivity‚Äù when the work of one contributor litterally erases previous work of another‚Äôs in a timeframe of one month, for simple lack of project management. It‚Äôs called stepping on each other‚Äôs feet.</p><p>So what are we doing to solve the issue‚ÄØ? Suffering in silence‚ÄØ? Living in denial‚ÄØ? Keeping on fixing stuff that another one will break in the next year when we will not be watching‚ÄØ? Keeping on making the Muggle believe, at photo forum length, that opensource is just as good as proprietary, while keeping as joker the fact that it‚Äôs free so you get no right to complain‚ÄØ? Isn‚Äôt that a bit too easy and dishonest, this double speech‚ÄØ?</p><p>Wouldn‚Äôt you like to stop making habits pass as experience and mistaking fatalism with wisdom, but rather tackle the problem at its core‚ÄØ? Don‚Äôt you think that you and me deserve better than software designed by amateurs whose sole talent is to have spare time and can afford to work for free since they moved to management and the kids are off to the university‚ÄØ?</p><p>Or I got mistaken since the beginning, and opensource is about giving over-complicated tools to geeks who don‚Äôt really need them, while trying to convince the rest of the world that open-source is not an hyper-niche for developers‚ÄØ?</p><h2 id="4-years-of-work-to-get-there">4 years of work to get there<a href="#4-years-of-work-to-get-there" title="Permanent link to this section"><i></i></a></h2><p>After 4 years of working on Darktable full-time for 70‚ÄØ% of minimal wage, and 2 years bearing the chronic dissatisfaction of staining my name by contributing to shit, I&nbsp;forked Ansel and will not go back.</p><p>In 4 years, I&nbsp;brought to this software something that sorely lacked‚ÄØ: an unified workflow, based on a set of modules <strong>designed</strong> to work together, but acting each on a distinct aspect, where Darktable modules were rather a collection of disparate plugins. We are talking about‚ÄØ:</p><ul><li>filmic,</li><li>tone equalizer,</li><li>the physically-accurate blurs module,</li><li>both versions of the color balance,</li><li>color calibration, including the GUI to profile with color checkers straight in darkroom and the white balancing using CIE standards,</li><li>the negadoctor module to invert film negatives based on Kodak Cineon,</li><li>the diffuse and sharpen module for addition and removal of blur based on thermal diffusion,</li><li>the guided laplacian reconstruction of highlights.</li></ul><p>I also developed more fundamental tools providing bases for the previous modules‚ÄØ:</p><ul><li>a 4th order anisotropic partial differential equations solver in wavelets space for diffuse and sharpen,</li><li>an adaptation of the predious as the guided laplacian for RGB signal reconstruction by gradients propagation,</li><li>a perceptual color appearance model taking the Helmholtz-Kohlrausch effect into account in the saturation computation, to limit the ‚Äúfluo‚Äù effect that typically comes with intense saturation settings, in color balance,</li><li>a theoritical help in developing the exposure-invariant guided filter (EIGF), in tone equalizer,</li><li>a linear vector equations solver by Choleski method,</li><li>various interpolation methods of order 2, 3 and radial-based.</li></ul><p>In the GUI, I notably did‚ÄØ:</p><ul><li>refactor style declaration, removing styling from C code to map them to the CSS stylesheet, allowing to have multiple themes for the UI, including user-defined ones,</li><li>introduce the preview mode <a href="https://docs.darktable.org/usermanual/4.0/en/module-reference/utility-modules/shared/focus-peaking/" title="" target="_blank">focus-peaking</a> and <a href="https://docs.darktable.org/usermanual/4.0/en/module-reference/utility-modules/darkroom/color-assessment/" title="" target="_blank">ISO 12&nbsp;646‚ÄØcolor assessment mode</a>,</li><li>introduce the color vocabulary <a href="https://docs.darktable.org/usermanual/4.0/en/module-reference/utility-modules/darkroom/global-color-picker/" title="" target="_blank">in the global color picker</a>, allowing to name the picked color from its chromaticity coordinates, targetting color-blind photographers.</li></ul><p>After this, I&nbsp;wrote dozens of documentation pages in 2 languages, published articles and dozens of hours of video on YouTube to demonstrate how to use modules, in what context and for what benefit, including quick edits using only 3 to 5‚ÄØmodules to process 75 to 80‚ÄØ% of pictures, no matter their dynamic range. In the open-source world, except perharps for projects backed-up by foundations (like Krita and Blender), this level of support and documentation simply doesn‚Äôt exist, and it‚Äôs not the developers themselves who handle this work.</p><p>Despite all this, I never had more than 240 donators, to compare with roughly 1800 unique respondents <a href="https://eng.aurelienpierre.com/2023/01/who-are-the-darktable-users/#Conclusion-of-this-part" title="" target="_blank">who participated in the 2020 and 2022 Darktable surveys</a>, and who declare spending <a href="https://www.poll-maker.com/S-Quiz-Results?qp=2539714x3792Bf5e-98#" title="" target="_blank">between 500 and 1000‚ÄØ‚Ç¨/an</a> on photography.</p><p>I will not watch them destroy the usability of this software while trying to convince myself that it‚Äôs progress and there is nothing we can do about it. Instead of progress, it‚Äôs the delusional vision of progress by a bunch of fifty-something dilettantes. It‚Äôs been 2 years that I shut up patiently, trying to be nice, but looking at the degradation of base features, complexified to comply with the fads of mad programmers, I should have been despicable earlier. Playing nice solved nothing because the trend not only carried on, but accelerated, and there will be no realization before the point of no return. We can‚Äôt expect from those who created the problems to be the ones solving them.</p><p>So if I&nbsp;have to work for a ‚Äúcommunity‚Äù who is in mostly for the subscription-free aspect of the software, and who decided that my work is not worth minimal wage, well, I will do it under my terms and with my standards.</p><p>In terms of features, Darktable already has too much and we need to prune. It‚Äôs been 10 years that I&nbsp;use it and it‚Äôs already been packed with ill-design stuff. The challenge now is to present the features cleverly, and to fix annoying bugs <strong>before</strong> these idiots introduce new ones, or even fix them in their own special way‚ÄØ: by hiding the dust under the rug. Keeping in mind that Darktable‚Äôs pipeline is 15 years old, and we can‚Äôt optimize it much more than that, given that it was already tortured a lot to avoid a full rewrite (and a full rewrite offers no benefit if we have to keep Gtk as graphical backend since it‚Äôs the primary performance bottleneck).</p><p>The solutions needed by Darktable imply to remove code and options, not to add always more. Robustness is at that price. The Darktable team does the exact opposite without learning from its mistakes.</p><p>With Ansel, I want a way to finish this work peacefully so Linux users have a reliable, consistent and performant tool for their artistic photography. Before switching to <a href="https://github.com/hanatos/vkdt/" title="" target="_blank">Vkdt</a> because the current design is shows its limits.</p></section><section><h2>Author</h2><div><p><img src="https://gravatar.com/avatar/34c543cded16518a500a754423124f30?s=120"></p><h5>Aur√©lien Pierre</h5><p>Designer and maintainer of Ansel. Developer of darktable scene-referred workflow and physically-realistic modules since 2018. Image retouching educator. "Do things accurately, or don't bother". <a href="https://photo.aurelienpierre.com/">Website ¬ª</a></p></div></section><section><h2>Comments &amp; Questions&nbsp;?</h2></section><section><h2>Related topics</h2></section></article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[ArchiveTeam is downloading and saving content from Blogger (183 pts)]]></title>
            <link>https://wiki.archiveteam.org/index.php/Blogger</link>
            <guid>38411415</guid>
            <pubDate>Sat, 25 Nov 2023 05:19:06 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://wiki.archiveteam.org/index.php/Blogger">https://wiki.archiveteam.org/index.php/Blogger</a>, See on <a href="https://news.ycombinator.com/item?id=38411415">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="mw-content-text" lang="en" dir="ltr"><table>

<tbody><tr>
<td colspan="2"><big><b>Blogger</b></big>
</td></tr>
<tr>
<td colspan="2"><a href="https://wiki.archiveteam.org/index.php/File:Blogger-logo.png" title="Blogger logo"><img alt="Blogger logo" src="https://wiki.archiveteam.org/images/thumb/6/64/Blogger-logo.png/100px-Blogger-logo.png" decoding="async" width="100" height="34" srcset="https://wiki.archiveteam.org/images/thumb/6/64/Blogger-logo.png/150px-Blogger-logo.png 1.5x, https://wiki.archiveteam.org/images/thumb/6/64/Blogger-logo.png/200px-Blogger-logo.png 2x"></a>
</td></tr>
<tr>
<td colspan="2"><a href="https://wiki.archiveteam.org/index.php/File:Blogger-_Crea_tu_blog_gratuito_1303511108785.png"><img alt="Blogger- Crea tu blog gratuito 1303511108785.png" src="https://wiki.archiveteam.org/images/thumb/d/d7/Blogger-_Crea_tu_blog_gratuito_1303511108785.png/280px-Blogger-_Crea_tu_blog_gratuito_1303511108785.png" decoding="async" width="280" height="178" srcset="https://wiki.archiveteam.org/images/thumb/d/d7/Blogger-_Crea_tu_blog_gratuito_1303511108785.png/420px-Blogger-_Crea_tu_blog_gratuito_1303511108785.png 1.5x, https://wiki.archiveteam.org/images/thumb/d/d7/Blogger-_Crea_tu_blog_gratuito_1303511108785.png/560px-Blogger-_Crea_tu_blog_gratuito_1303511108785.png 2x"></a>
</td></tr>
<tr>
<td><b>URL</b></td>
<td><a rel="nofollow" href="https://www.blogger.com/">https://www.blogger.com/</a>
</td></tr>
<tr>
<td><b>Status</b></td>
<td><span>Endangered</span>
</td></tr>
<tr>
<td><b>Archiving status</b></td>
<td><span>In progress...</span>
</td></tr>
<tr>
<td><b>Archiving type</b></td>
<td><span>Unknown</span>
</td></tr>
<tr>
<td><b>Project source</b></td>
<td><a rel="nofollow" href="https://github.com/ArchiveTeam/blogger-grab">blogger-grab</a> (2023)<br><small><a rel="nofollow" href="https://github.com/ArchiveTeam/blogger-discovery">blogger-discovery</a> (2015)</small>
</td></tr>
<tr>
<td><b>Project tracker</b></td>
<td><a rel="nofollow" href="https://tracker.archiveteam.org/blogger/">blogger</a> (2023)<br><small><a rel="nofollow" href="https://tracker.archiveteam.org/bloggerdisco/">bloggerdisco</a> (2015)</small>
</td></tr>
<tr>
<td><b>IRC channel</b></td>
<td><span><a rel="nofollow" href="https://webirc.hackint.org/#irc://irc.hackint.org/frogger">#frogger</a></span> (on hackint)
</td></tr>


</tbody></table>
<p><b>Blogger</b> is a blog hosting service. On February 23, 2015, they announced that "sexually explicit" blogs would be restricted from public access in a month. But soon they withdrew their plan, and said they wouldn't change their existing policies.<sup id="cite_ref-1"><a href="#cite_note-1">[1]</a></sup>  In 2019, Google <a href="https://wiki.archiveteam.org/index.php/Google_Plus_Comments_on_Blogspot" title="Google Plus Comments on Blogspot">removed Google+ comments placed on Blogger blogs</a>. In May 2020, Blogger announced a redesign of their on their <a rel="nofollow" href="https://blogger.googleblog.com/">official blog</a>, and posted <a rel="nofollow" href="https://support.google.com/blogger/thread/71956466">weekly updates on their community support forum</a> in August and September 2020. This redesign covered most of the Blogger experience, but pages related to user profiles, following blogs, cookie management, video management, and classic-style blog widget management still use the old Blogger design. No updates to Blogger have been documented since September 2020. Google has also moved away from Blogger for their own company blogs. For these reasons, Blogger may be at risk of shutting down.
</p><p>In May 2023, Google announced that inactive accounts would be deleted starting on <span title="2023-12-01">2023-12-01</span> across their platform, including Blogger blogs.
</p><p>Archive Team did a discovery between February and May 2015, but did not begin downloading actual content until November 2023.
</p>


<h2><span id="Strategy">Strategy</span></h2>
<p>Find as many <a rel="nofollow" href="http://foobar.blogspot.com/">http://foobar.blogspot.com</a> domains as possible and download them. <a rel="nofollow" href="https://archive.org/details/all_blogger_subdomains">Here is a full list</a> (as of February 2020) and a new list can be generated with <a href="https://wiki.archiveteam.org/index.php/User:Trumad" title="User:Trumad">these instructions</a>. Otherwise, manual discovery can be attempted. Blogs often link to other blogs, which will help, so each individual blog saved will help discover others. Also a small-scale crawl of Blogger profiles (e.g. http://www.blogger.com/profile/{random number up to 35217655}) will provide links to blogs authored by each user (e.g. <a rel="nofollow" href="https://www.blogger.com/profile/5618947">https://www.blogger.com/profile/5618947</a> links to <a rel="nofollow" href="http://hintergedanke.blogspot.com/">http://hintergedanke.blogspot.com/</a>) - Although note that this does not cover ALL bloggers or ALL blogs, and is merely a starting point for further discovery.
</p><p>Another strategy is to scrape Blogspot sites from Blogger profiles and vice versa (<a rel="nofollow" href="https://transfer.archivete.am/RAiXa/archive-blogspot.sh">example script</a>) and you will get an almost ever-expanding list. There will be captchas to deal with though, so you may need to distribute the scraping. There is <a rel="nofollow" href="https://transfer.archivete.am/XWpXt/blogspot.com-blogs.txt">a list</a> of blogs discovered using this method.
</p>
<h2><span id="How_to_help_if_you_have_lists_of_URLs">How to help if you have lists of URLs</span></h2>
<p>This project requires lists of URLs for content on the target website. If you have a source of URLs, please:
</p>
<ol><li>Use the regular expression <code>\S+\.(blogspot|blogger)\.\S+</code> for filtering.
<ul><li>Note that this regex is intentionally broad to cover many different URL formats. Please do not try to use a more narrow pattern as it may miss valid URLs. We can always filter or transform the results as needed later.</li>
<li>If you use <code>grep</code>, remember to include the <code>-a</code> (aka <code>--text</code> on GNU grep) option to ensure it will continue searching for matches when encountering binary data.</li>
<li>Example command (GNU grep): <code>grep -Pahoi '\S+\.(blogspot|blogger)\.\S+' FILENAME FILENAME...</code></li></ul></li>
<li>If the output exceeds a few megabytes, please compress it, preferably using <code>zstd -10</code>.</li>
<li>Upload the file to <a rel="nofollow" href="https://transfer.archivete.am/">https://transfer.archivete.am/</a>.</li>
<li>Share the resulting URL in the project IRC channel.
<ul><li>If you would like to keep the list non-public instead, e.g. for privacy reasons or for not wanting to be publicly associated with it, please get in touch with a channel op (e.g. <a href="https://wiki.archiveteam.org/index.php/User:Arkiver" title="User:Arkiver">arkiver</a> or <a href="https://wiki.archiveteam.org/index.php/User:JustAnotherArchivist" title="User:JustAnotherArchivist">JustAnotherArchivist</a>). Note that the items generated from your list would still be processed publicly, of course, but they would be mixed with everything else.</li></ul></li></ol>
<p>See also <a href="https://wiki.archiveteam.org/index.php/Category:Projects_requiring_URL_lists" title="Category:Projects requiring URL lists">Category:Projects requiring URL lists</a> for other ArchiveTeam projects that necessitate URL lists.
</p>
<h2><span id="Country_Redirect">Country Redirect</span></h2>
<p>Accessing <a rel="nofollow" href="http://whatever.blogspot.com/">http://whatever.blogspot.com</a> used to redirect to a country-specific subdomain depending on your IP address (e.g. whatever.blogspot.co.uk, whatever.blogspot.in, etc) which in some cases may be censored or edited to meet local laws and standards - this can be bypassed by requesting <a rel="nofollow" href="http://whatever.blogspot.com/ncr">http://whatever.blogspot.com/ncr</a> as the root URL.<sup id="cite_ref-2"><a href="#cite_note-2">[2]</a></sup> <sup id="cite_ref-3"><a href="#cite_note-3">[3]</a></sup> <a rel="nofollow" href="https://blogger.googleblog.com/2018/05/its-spring-cleaning-time-for-blogger.html">As of May 2018, all international Blogger domains now redirect to blogspot.com</a>.
</p>
<h2><span id="Downloading_a_single_blog_with_Wget">Downloading a single blog with Wget</span></h2>
<p>These Wget parameters can download a BlogSpot blog, including comments and any on-site dependencies.  It should also reject redundant pages such as the /search/ directory and any multiple occurrences of the same page but with different query strings.  It has only be tested on blogs using a Blogger subdomain (e.g. <a rel="nofollow" href="http://foobar.blogspot.com/">http://foobar.blogspot.com</a>), not custom domains (e.g. <a rel="nofollow" href="http://foobar.com/">http://foobar.com</a>).  Both instances of [URL] should be replaced with the same URL.  A simple Perl wrapper is available <a rel="nofollow" href="http://pastebin.com/2QUuH26L">here</a>.
</p><p><tt>wget --recursive --level=2 --no-clobber --no-parent --page-requisites --continue --convert-links --user-agent="" -e robots=off --reject "*\\?*,*@*" --exclude-directories="/search,/feeds" --referer="[URL]" --wait 1 [URL]</tt>
</p><p><b>UPDATE</b>:
</p><p>Use this improved bash script instead, in order to bypass the adult content confirmation. BLOGURL should be in <code>http://someblog.blogspot.com</code> format.
</p>
<pre>#!/bin/bash
blogspoturl="BLOGURL"
wget -O - "blogger.com/blogin.g?blogspotURL=$blogspoturl" | grep guestAuth | cut -d'"' -f 4 | wget -i - --save-cookies cookies.txt --keep-session-cookies
wget --load-cookies cookies.txt --recursive --level=2 --no-clobber --no-parent --page-requisites --continue --convert-links --user-agent="" -e robots=off --reject "*\\?*,*@*" --exclude-directories="/search,/feeds" --referer="$blogspoturl" --wait 1 $blogspoturl
</pre>
<h2><span id="Export_XML_trick">Export XML trick</span></h2>
<p>Add this to a blog url and it will download the most recent 499 posts (that is the limit): /atom.xml?redirect=false&amp;max-results=
</p>
<h2><span id="Your_own_blogs">Your own blogs</span></h2>
<p>Download them at <a rel="nofollow" href="https://takeout.google.com/settings/takeout">https://takeout.google.com/settings/takeout</a>
</p><p>We've not tested whether the output is suitable for importing in any other software such as Wordpress.
</p>
<h2><span id="External_links">External links</span></h2>
<ul><li><span><a rel="nofollow" href="http://www.blogger.com/">Blogger</a></span><sup><span title="Internet Archive ‚Äì Wayback Machine">[<a rel="nofollow" href="https://web.archive.org/web/*/http://www.blogger.com/">IA</a></span>‚Ä¢<span title="WebCitation.org"><a rel="nofollow" href="https://webcitation.org/query?url=http://www.blogger.com/">Wcite</a></span>‚Ä¢<span title="Archive.Today webpage capture."><a rel="nofollow" href="https://archive.today/http://www.blogger.com/">.today</a></span>‚Ä¢<span title="MementoWeb TimeTravel"><a rel="nofollow" href="https://timetravel.mementoweb.org/reconstruct/http://www.blogger.com/">MemWeb</a>]</span></sup></li></ul>
<h2><span id="References">References</span></h2>
<div><ol>
<li id="cite_note-1"><span><a href="#cite_ref-1">‚Üë</a></span> <span><a rel="nofollow" href="https://support.google.com/blogger/answer/6170671?p=policy_update&amp;hl=en&amp;rd=1">https://support.google.com/blogger/answer/6170671?p=policy_update&amp;hl=en&amp;rd=1</a></span>
</li>
<li id="cite_note-2"><span><a href="#cite_ref-2">‚Üë</a></span> <span><a rel="nofollow" href="https://support.google.com/blogger/answer/2402711?hl=en">https://support.google.com/blogger/answer/2402711?hl=en</a></span>
</li>
<li id="cite_note-3"><span><a href="#cite_ref-3">‚Üë</a></span> <span><a rel="nofollow" href="http://www.bbc.co.uk/news/technology-16852920">http://www.bbc.co.uk/news/technology-16852920</a></span>
</li>
</ol></div>
<!-- 
NewPP limit report
Cached time: 20231125055309
Cache expiry: 86400
Reduced expiry: false
Complications: []
CPU time usage: 0.036 seconds
Real time usage: 0.042 seconds
Preprocessor visited node count: 335/1000000
Post‚Äêexpand include size: 6607/2097152 bytes
Template argument size: 1514/2097152 bytes
Highest expansion depth: 13/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‚Äêexpand size: 1872/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   25.859      1 -total
 59.94%   15.501      1 Template:Infobox_project
 15.41%    3.985      1 Template:Endangered
 14.10%    3.645      1 Template:In_progress
 12.69%    3.281      1 Template:IRC
 10.12%    2.617      1 Template:Orange
  9.31%    2.408      1 Template:Datetime
  6.47%    1.673      1 Template:CTA_URL_lists
  5.53%    1.430      1 Template:Url
  5.36%    1.387      1 Template:IRC_channel
-->

<!-- Saved in parser cache with key archivet_archiveteamwiki-wiki_:pcache:idhash:791-0!dateformat=default and timestamp 20231125055327 and revision id 51188. Serialized with JSON.
 -->
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Tesla Normal Operating Sounds (299 pts)]]></title>
            <link>https://www.tesla.com/ownersmanual/model3/en_us/GUID-AA58ED67-9C93-4EE6-8B19-9FDABE018787.html</link>
            <guid>38411105</guid>
            <pubDate>Sat, 25 Nov 2023 04:11:37 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.tesla.com/ownersmanual/model3/en_us/GUID-AA58ED67-9C93-4EE6-8B19-9FDABE018787.html">https://www.tesla.com/ownersmanual/model3/en_us/GUID-AA58ED67-9C93-4EE6-8B19-9FDABE018787.html</a>, See on <a href="https://news.ycombinator.com/item?id=38411105">Hacker News</a></p>
Couldn't get https://www.tesla.com/ownersmanual/model3/en_us/GUID-AA58ED67-9C93-4EE6-8B19-9FDABE018787.html: Error: timeout of 10000ms exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[The Bond villain compliance strategy (415 pts)]]></title>
            <link>https://www.bitsaboutmoney.com/archive/bond-villain-compliance-strategy/</link>
            <guid>38411005</guid>
            <pubDate>Sat, 25 Nov 2023 03:44:41 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.bitsaboutmoney.com/archive/bond-villain-compliance-strategy/">https://www.bitsaboutmoney.com/archive/bond-villain-compliance-strategy/</a>, See on <a href="https://news.ycombinator.com/item?id=38411005">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        <p>James Bond films have a certain formula to them. It is more interesting when seen from the perspective of the villain.</p><p>He has long been adjacent to money and power, but craves more. Several years ago, he successfully escaped his low-on-the-ladder job at an existing institution. He built a base of power that is independent of institutions. From it, he successfully puppets any organization he needs to. He and his organization are from elsewhere, everywhere, all at once. They have no passport and fly no flags; these concepts are thoroughly beneath them. They move around frequently and are always where the plot requires them to be, exactly when it requires them to be there. No law constrains them. Governments scarcely exist in their universe. To the limited extent they come to any government‚Äôs attention, no effective action is taken. The villain rises to the heights of influence and power.</p><p>This continues <em>for years</em>.</p><p>Then we suddenly hear E minor major 9. We begin the film, telling the end of the story, mostly from Bond‚Äôs perspective. The villain is just another weirdo who dies at the climax in act three.</p><h2 id="life-imitates-art">Life imitates art</h2><p><a href="https://x.com/patio11/status/979137571211980800?s=20">For</a> <a href="https://x.com/patio11/status/1337474851938811905?s=20">years</a> I have used the phrase ‚Äú<a href="https://twitter.com/search?q=from%3Apatio11%20bond%20villain%20compliance%20strategy&amp;src=typed_query" rel="noreferrer">Bond villain compliance strategy</a>‚Äù to describe a common practice in the cryptocurrency industry.&nbsp;</p><p>In it, your operation is carefully based Far Away From Here. You are, critically, not like standard offshore finance, with a particular address in a particular country which just happens to be on the high-risk jurisdiction list. You are <em>nowhere</em> because you want to be <em>everywhere</em>. You tell any lie required to any party‚Äîgovernment, bank, whatever‚Äîto get access to the banking rails and desirable counterparties located in rich countries with functioning governments. You abandon or evolve the lie a few years later after finally being caught in it.</p><p>Your users and counterparties understand it to be a lie the entire time, of course. You bragged about it on your site and explained it to adoring fans at conferences. You created guides to have your CS staff instruct users on how to use a VPN to evade your geofencing. The more clueful among your counterparties, who have competent lawyers and aspirations to continue making money in desirable jurisdictions, will come to describe your behavior as an ‚Äúopen secret‚Äù in the industry. They will claim you‚Äôve turned over a new leaf given that the most current version of the lie only merely rhymes with the previous version of the lie.</p><p>And then we begin the third act.</p><p>So anyhow, Binance and its CEO Changpeng Zhao (known nearly universally as CZ) have recently <a href="https://www.justice.gov/opa/pr/binance-and-ceo-plead-guilty-federal-charges-4b-resolution">pleaded guilty</a> to operating the world‚Äôs largest criminal conspiracy to launder money, paying more than $4 billion in fines. This settles a long-running investigation involving the DOJ, CFTC, FinCEN, and assorted other parts of the U.S. regulatory state. Importantly, it does not resolve the SEC‚Äôs <a href="https://www.sec.gov/news/press-release/2023-101">parallel</a> <a href="https://www.sec.gov/files/litigation/complaints/2023/comp-pr2023-101.pdf">action</a>.</p><p>How‚Äôd we get here?</p><h2 id="a-brief-history-of-binance">A brief history of Binance</h2><p>Binance is, for the moment, the world‚Äôs largest crypto exchange. Its scale is gobsmacking and places it approximately the 100th largest financial institution in the world by revenue. The primary way it makes money is exacting a rake on cryptocurrency gambling, in particular, leveraged bets using cryptocurrency futures. To maintain its ability to do this, it runs a worldwide money laundering operation with the ongoing, knowing, active participation of many other players in the crypto industry, including Bitfinex/Tether, the Justin Sun empire, and (until recent <a href="https://www.nytimes.com/live/2023/11/02/business/sam-bankman-fried-trial">changes in management</a>) FTX/Alameda.</p><p>In his twenties CZ worked in Japan (<em>waves</em>) and New York for contractors to the Tokyo Stock Exchange then Bloomberg. In about 2013 he got interested in crypto and then joined a few projects, including becoming CTO of OKCoin, another Bond villain exchange. Being a henchman is an odd job, so he decided to promote himself to full-fledged villain. In 2017 he did an <a href="https://www.forbes.com/sites/digital-assets/2023/10/05/how-binance-turned-its-failed-token-ico-into-a-billion-dollar-windfall/?sh=71b70fce529b">unregistered securities offering</a> (then commonly spelled ‚ÄúICO‚Äù) for Binance.&nbsp;</p><p>Binance rose meteorically from then until recently, essentially gaining share at the expense of waning Bond villains. To <em>oversimplify greatly</em>, it carved up the less-regulated side of the crypto market with FTX, with Binance mostly taking customers in geopolitical adversaries of the U.S. (most notably greater China) and FTX mostly taking them in geopolitical allies (most notably, South Korea, Singapore, and the U.S.). But the cartels did not partition the globe in a way which fully insulated them from each other.</p><p>These operations were intertwined and coordinated. How intertwined? Binance was a part-owner of FTX until SBF decided successfully capturing U.S. regulators was a lot more likely if his cap table named more Californian trees and fewer Bond villains. How coordinated? The name of the Signal chat was <a href="https://www.wsj.com/articles/rivals-worried-sam-bankman-fried-tried-to-destabilize-crypto-on-eve-of-ftx-collapse-11670597311">Exchange Coordination</a>.</p><p>This eventually led to grief as CZ (mostly accurately) perceived SBF was <a href="https://www.agriculture.senate.gov/imo/media/doc/Testimony_Bankman-Fried_0209202211.pdf">using</a> the U.S. government as a weapon against Binance. He retaliated by <a href="https://www.coindesk.com/business/2022/11/02/divisions-in-sam-bankman-frieds-crypto-empire-blur-on-his-trading-titan-alamedas-balance-sheet/">strategic leaking</a>, leading to a collapse in the value of FTX's exchange token, a run on the bank, and FTX's bankruptcy.</p><h2 id="where-was-binance-in-all-of-this"><em>Where</em> was Binance in all of this?</h2><p>Binance did a heck of a lot of business in Japan in the early years. This <em>officially</em> ended in March 2018 when the Financial Services Agency, Japan‚Äôs major financial regulator, made it <a href="https://www.fsa.go.jp/policy/virtual_currency02/Binance_keikokushilyo.pdf">extremely clear</a> that Binance was operating unlawfully in serving Japanese customers without registering in the then-relatively-new framework for virtual currency exchange businesses.</p><p>As an only-sometimes-following-crypto skeptic, this was the thing which brought Binance to my attention. Binance was piqued, saying that they had engaged the FSA in respectful conversations and then learned they were being kicked out of the country from a news report. Having spent roughly twenty years getting good at understanding how Japanese bureaucratic procedures typically work, I <a href="https://x.com/patio11/status/979137571211980800?s=20">surmised</a>&nbsp; ‚Äú...that is a very plausible outcome if you start your getting-to-know-you chat with ‚ÄòBasically I am a James Bond villain.‚Äô‚Äù I think that was the first time the metaphor came to me.</p><p>The order expelling them listed their place of business as Hong Kong, with a dryly worded asterisk stating that this was taken from their statements on the Internet and ‚Äú...there exists the possibility that [this information] is not accurate as of the present moment in time.‚Äù</p><p>That, Internets, is how a salaryman phrases ‚ÄúI am <em>absolutely</em> aware that you maintain a team and infrastructure in Japan.‚Äù</p><p>Did Binance exit Japan? Well, that depends. Did CZ personally return to Japan? Probably not. Does Binance continue to serve Japanese customers? Yes, though (Bond villain!) it pretends not to. Where does Binance‚Äôs exchange run as a software artifact? As a statement of engineering fact: in an AWS data center in Tokyo. ap-northeast-1, if you want to get technical.</p><p>&nbsp;(Someone needs to write an East Asian studies paper on how Tokyo became Switzerland for Asian crypto enthusiasts due to a combination of governance, network connectivity, latency, and geopolitical risk. I nominate anyone other than me.)</p><p>Binance also maintained an office in Shanghai, with many executives working there. It was raided by the Chinese police. Binance <a href="https://cointelegraph.com/news/binance-denies-police-raids-very-existence-of-shanghai-offices"><em>denied</em></a><em> that the office existed</em>. The spokesman‚Äôs quote was pure Bond villain: ‚ÄúThe Binance team is a global movement consisting of people working in a decentralized manner wherever they are in the world. Binance has no fixed offices in Shanghai or China, so it makes no sense that police raided on any offices and shut them down.‚Äù</p><p>This was a lie wrapped around a tiny truth. Internet-distributed workforces containing many mobile professionals do not <em>exactly</em> resemble a single building with all your staff and your nameplate on the door.</p><p><em>Of course, </em>on the actual substantive matter, it was a lie.</p><p>We know it was a lie, because (among many other reasons) we have the chat logs where the parts of their criminal conspiracy that operated in the U.S. complain that the parts of their criminal conspiracy that operated in Shanghai kept information from them that they needed to do their part to keep the crime operating smoothly. Coworkers, man.</p><p>Binance‚Äôs Chief Compliance Officer, one Samuel Lim, apparently is not a fan of The Wire and never encountered <a href="https://youtu.be/Ly82nabRRYc?si=51Zj1oyocxvq5t7S&amp;t=75">Stringer Bell‚Äôs dictum</a> on the wisdom of keeping notes on a criminal conspiracy. He writes great copy, most memorably ‚Äú[We are] operating as a fking unlicensed security exchange in the U.S. bro.‚Äù He and many other Binance employees have helpfully documented for posterity that their financial operations teams were, for most of corporate history, working from Shanghai.</p><p>Binance also operated in the state of Heisenbergian uncertainty, sometimes known as Malta. Malta has a substantial financial services industry, which <a href="https://www.reuters.com/article/finance-crypto-currency-binance/special-report-crypto-giant-binance-kept-weak-money-laundering-checks-even-as-it-promised-tougher-compliance-documents-show-idUSL8N2U065F/">welcomed Binance with open arms</a> in 2018 and then <a href="https://www.mfsa.mt/news-item/public-statement-2020/">pretended not to know him</a> in 2020. This continues Malta‚Äôs proud tradition of strategic ambiguity as to whether it is an EU country or rentable skin suit for money launderers. <a href="https://www.youtube.com/watch?v=vqgSO8_cRio"><em>¬øPor qu√© no los dos?</em></a> Despite this, Binance would continue claiming to customers and other regulators for a while that it was fully authorized to do business by Malta.</p><p>Binance operates in Russia, to enable its twin businesses of cryptocurrency speculation and facilitating money laundering. In 2023 it <a href="https://www.euronews.com/business/2023/09/28/worlds-largest-crypto-exchange-sells-russian-business#:~:text=Binance%20is%20selling%20its%20Russian,CommEX%2C%20a%20newly%20launched%20exchange.">pretended to sell its Russian operations</a>.</p><p>Binance operated in <em>many</em> jurisdictions. The U.K.: <a href="https://www.fca.org.uk/news/news-stories/consumer-warning-binance-markets-limited-and-binance-group">kicked out</a>. <a href="https://www.wsj.com/articles/crypto-giant-binance-struggles-in-europe-82154b13">France</a>: <a href="https://news.bloomberglaw.com/crypto/binance-probed-by-france-for-alleged-illegal-practices">under investigation</a>. Germany, the Netherlands, etc, etc, they required non-teams of non-employees at non-headquarters to keep track of all the places they weren‚Äôt registered doing their non-crimes.</p><p>A core cadre of the Binance executive team is currently in the United Arab Emirates, where CZ hopes to return. He professes that he will await sentencing there, and pinkie swears that he will totally get back on a plane to the U.S. to show up to it. For reasons which are understandable by anyone with more IQ than a plate of jello, the U.S. <a href="https://www.ccn.com/news/binances-cz-considered-flight-risk/">is skeptical</a> he will make good on this promise, and is currently, as of Thanksgiving 2023, <a href="https://storage.courtlistener.com/recap/gov.uscourts.wawd.328570/gov.uscourts.wawd.328570.34.0.pdf">attempting</a> to keep him in the U.S. He is physically present to sign what Binance advocates believe is the grand compromise to put all his legal worries behind them.</p><p>A defining characteristic of Bond villains is that they think they are very smart and everyone else is very stupid. To be fair, when you play back the movie of the last few years of their life, they keep winning and their adversaries look like nincompoops.</p><p>Then, they get extremely confident and begin to make poor life choices.</p><h2 id="how-did-this-work-for-so-freaking-long">How did this <em>work</em> for so freaking long?</h2><p>Much like the <a href="https://www.bitsaboutmoney.com/archive/optimal-amount-of-fraud/">optimal amount of fraud is not zero</a>, the global financial system institutionally tolerates (and <em>actively enables</em>) some shenanigans at the margin. You can think of Binance, Tether, FTX, and all the rest as talented amateurs capable of engaging the services of professionals. They followed advice and grew like a slime mold into the places where shenanigans are wink-and-a-nudge tolerated.</p><p>Why tolerate shenanigans? Some shenanigans are necessary to keep the world spinning.</p><p>China has grown into an economic superpower via capitalism while also at times officially having private property ownership be illegal. That circle cannot be squared. We, the global we, want Chinese people to not live in grinding poverty. That requires economic growth. Economic growth required making things the world wanted. Selling those things required integration into the global economic order. <em>That</em> required a willingness to ignore things the Communist dictatorship said were crimes, while simultaneously saying ‚ÄúOh, bankers definitely, definitely shouldn‚Äôt facilitate billionaires committing crimes.‚Äù</p><p>As I‚Äôve remarked previously, we similarly have complicated preferences with regards to Russian oligarchs. In some years, money laundering for them is, how might a gifted speaker phrase this, ‚Äú[b]ringing our former adversaries, Russia and China, into the international system as open, prosperous and stable nations.‚Äù In other years, money laundering for them is described as funding Russia‚Äôs war machine.</p><p>Finance is messy because the world is messy.</p><p>Some of the shenanigans aren‚Äôt strictly necessary or planned, but society considers an expenditure of effort required to curtail them to be wasteful or to compromise our other goals. We had all the technology required to CC regulators on every banking transaction years before slow database enthusiasts decided all transactions would eventually be publicly readable and persisted forever. We simply chose not to implement it. It would have been quite expensive and infringed on the privacy of many ordinary people and firms.</p><p>But Binance, and others, forgot the critical step, to the annoyance of their engaged professionals: you have to eventually stop growing and keep to a low profile. You have to simply be content with being fantastically rich. If you do, you can continue showing up to the nicest parties in New York, owning expensive real estate in London, and commuting to a comfortable office in Hong Kong or the Bahamas or many other places.</p><p>But crypto kept growing until the control systems could not ignore them any longer. And the control systems cannot continue to avoid knowledge of the crimes.</p><p>So, so many crimes. Many of them are what crypto advocates consider as utterly inconsequential, like serially lying on paperwork. And also Binance gleefully and knowingly banked terrorists and child pornographers. That‚Äôs not an allegation; that has been confessed to. There is no line a Bond villain will not cross. They will cross them <em>performatively</em>.</p><p>And, surprising even me, some crypto characters <em>consciously adopt the aesthetic</em> of Bond villains. Le Chiffre, the villain in Casino Royale, owns a fictional house. That house exists in the physical world, where a location scout said ‚ÄúThis certainly looks like the sort of place a Bond villain would live.‚Äù Jean Chalopin owned that literal, physical house. (c.f. Zeke Faux‚Äôs Number go Up, Kindle location 1175.) As <a href="https://www.bitsaboutmoney.com/archive/a-review-of-number-go-up-on-crypto-shenanigans/">previously discussed</a>, Chalopin is a professional bagman, and his largest client was previously Tether.</p><h2 id="what-happens-to-binance-now">What happens to Binance now?</h2><p>Some believe that Binance admitting to being a criminal conspiracy is actually good news, not merely in the memetic ‚Äúgood news for Bitcoin‚Äù sense, but because this upper-bounds Binance‚Äôs exposure somewhere below ‚ÄúThe United States forcibly dismantles the most important crypto exchange and much of the infrastructure it touches.‚Äù</p><p>The immediate consequences are about $4 billion in fines. Despite being <a href="https://www.justice.gov/usao-sdny/pr/us-attorney-announces-historic-336-billion-cryptocurrency-seizure-and-conviction">one of the world‚Äôs largest hodlers</a>, the U.S. will not accept payment in Bitcoin, and Binance has agreed to pay in installments over the next two years. CZ and Binance will be sentenced in February.</p><p>Some people think the grand bargain was to avoid him getting imprisoned. The actual text of the agreement says that Binance gets to walk away from some parts of it if he is sentenced to more than 18 months. (Senior officials <a href="https://www.nytimes.com/2023/11/21/technology/binance-changpeng-zhao-pleads-guilty.html">told the NYT</a> they are contemplating asking for more than that.)</p><p>Probably more consequentially, the settlements are going to force Binance to install so-called monitors internally. Those monitors are effectively external compliance consultants, working at the expense of Binance in a contractual relationship with them, but whose true customer is the United States. The monitors have pages upon pages of instructions as to exactly how they are to reform Binance‚Äôs culture by implementing recommendations to bring onboarding, KYC, and AML processes into compliance with the law everywhere Binance does business, and sure, that is part of the job.</p><p>But the <em>other</em> part of the job is that they‚Äôre an internal gateway to any information Binance has ever had, or will ever have. This can be queried essentially at will by law enforcement, with Binance waiving substantially all rights to not cooperate.</p><p>You might reasonably ask ‚ÄúHey, doesn‚Äôt the U.S. typically require a warrant to go nosing about in the business of people who haven‚Äôt been accused of a crime?‚Äù And, to oversimplify half a century of jurisprudence, one loses one‚Äôs presumption of privacy if one brings a business into one‚Äôs private affairs. All of Binance‚Äôs customers and counterparties gave up their privacy <em>to Binance</em> by transacting with it. The U.S. <em>has Binance‚Äôs permission</em> to examine all of Binance‚Äôs historical, current, and future records, at will, for at least the next three years. It also secured a promise that Binance would assist in any investigation.</p><p>And so, if one were hypothetically not yet indicted by the U.S., but one had hypothetically done business with one‚Äôs now-confessed money launderer, one‚Äôs own Fourth Amendment protections do not protect the U.S. from hoovering up every conversation and transaction with Binance.</p><p>All of this is certainly good news and we can put this messy chapter behind us, say crypto advocates.</p><h2 id="how-are-bond-villains-actually-regulated">How are Bond villains actually regulated?</h2><p>Was the Bond villain strategy <em>ever going to work</em>? Did Binance have a reasonable likelihood of prevailing on jurisdictional arguments, like telling the U.S. that the Binance mothership had no U.S. presence and so it should not be subject to U.S. law? No. Crikey, no. The system has to be robust to people lying or acting from less-salubrious jurisdictions, at least to the extent it cares about being effective, and at least some of the time it does actually care about being effective.</p><p>The U.S.‚Äôs point of view on the matter, elucidated at length in any indictment for financial crimes, is that if you have ever touched an electronic dollar, that dollar passed through New York, and therefore you‚Äôve consented to the jurisdiction of the United States. Dollarization is <em>very intentionally</em> wielded like a club to accomplish the U.S.‚Äôs goals.</p><p>There exist some not-very-sympathetic people one could point to who ran afoul of this over the years who are still much more sympathetic than Binance. Binance intentionally used the U.S. market and infrastructure to make money. The U.S. was essential to their enterprise. Many peer nations can, and will, make a similar argument.</p><p>Binance had tens of percent of their book of business in the U.S. They were absolutely aware of this, knew that some of those users were their largest VIPs or otherwise important, and took steps to maximize for U.S. usage while denying they served Americans.</p><p>Their engineers didn‚Äôt accidentally copy the exchange onto AWS or deploy it to Tokyo by misclicking repeatedly. The crypto industry playbook for doing sales and marketing looks like everyone else‚Äôs playbook for doing sales and marketing. They get on planes, present at events, send mail, hire employees (or otherwise compensate agents), open offices, etc etc.</p><p>If having an email address meant you didn‚Äôt exist in physical reality anymore, the world would be almost empty.</p><p>CZ personally signed for bank accounts for some of his money laundering subsidiaries at U.S. banks, like Merit Peak and Sigma Chain. The SEC <a href="https://www.reuters.com/legal/binance-ceos-trading-firm-received-11-bln-via-client-deposit-company-sec-says-2023-06-07/">traced</a> more than $500 million through one of those accounts.</p><p>One major rationale for KYC legislation, as <a href="https://www.bitsaboutmoney.com/archive/kyc-and-aml-beyond-the-acronyms/">discussed previously</a>, is that it makes prosecuting Bond villains easier. Even if compliance departments at banks are utterly incompetent at detecting Bond villains at signup, having extracted the Bond villain‚Äôs signature on account opening documents is very useful to prosecutors a few years down the road. Why have to do hard work quantifying exactly how many engineers work on which days at Binance‚Äôs offices in San Francisco when you can do the easy thing and say ‚ÄúHey, fax me the single piece of paper where the Bond villain signed up for responsibility for all the crimes, please.‚Äù</p><p>Why do Bond villains sign for bank accounts in highly regulated jurisdictions? Partly it is because of beneficial ownership KYC requirements to open bank accounts. Partly it is because finding loyal, trustworthy subordinates is very hard if you‚Äôre a Bond villain, and Bond villains (sensibly!) worry that if the only name on the paperwork is a henchman, eventually that henchman might say ‚ÄúYou know, actually, I would like to withdraw the $500 million I have on deposit with you.‚Äù</p><p>(This is why Bond villains frequently have e.g. the mother of their children sign for bank accounts. Bond villains, again, think everyone else is stupid, and that no one will cotton onto this.)</p><p>A subgenre of challenges in people management for Bond villains: you have to hire experienced executives in the United States to run the U.S. fig leaf for your global criminal empire. The people you hire will, by nature, be experienced financial industry veterans who are extremely sophisticated and have access to good lawyers. This combination of attributes is the recipe for being the best in the world at filing whistleblower claims. I expect a few previously executives at Binance U.S. are eventually going to take home the most generous pay packages in the entire financial industry for a few years between 2018 and 2022.</p><p>To make this palatable to the American public, those whistleblower rewards are not courtesy of the taxpayer; they‚Äôre courtesy of money seized from previous Bond villains. A portion of Binance‚Äôs settlement(s) will go to pay the whistleblowers at <em>the next</em> Bond villain. It‚Äôs a circle of life.</p><h2 id="news-that-will-break-shortly">News that will break shortly</h2><p>Different regulators have differing ability to prosecute complex cases, but they basically all have the ability to read simple legal documents. That is one of the things they are best at doing.</p><p>Binance will suffer a wave of tag-along enforcement actions, in the U.S. and globally. Partly this will be for face saving; global peers of the U.S., which Binance has transacted billions of dollars in, will largely not want to signal ‚ÄúOh we‚Äôre totes OK with money laundering for terrorists and child pornographers‚Äù, and so they‚Äôre going to essentially copy/paste the U.S. enforcement actions. They will then play pick-a-number with Binance‚Äôs new management team, who will immediately cave.</p><p>The earliest version of this is probably only weeks away, but Binance will deal with it for years.</p><p>More interestingly, and likely more expensively, the SEC is going to hit Binance like a ton of bricks. They were one of the few regulators which opted out of consolidating with the DOJ‚Äôs deal. They think they have Binance dead to rights (they do), and tactically speaking, the deal makes their life even easier. Binance has waived ability to contest some things the SEC will argue. The SEC can now proxy requests for evidence to Binance‚Äôs monitors through other federal agencies.</p><p>Binance has had the enthusiastic cooperation of many people who walk in light in addition to their co-conspirators who walk in shadow. Those people, lamentably inclusive of some in the tech industry who I feel a great deal of fellow-feeling for, are going to start cutting off access to Binance. Compliance departments at their corporate overlords, which were either entirely in the dark or willing to be persuaded that a new innovative industry required some amount of flexibility with regards to controls, are (<em>today</em>) having strongly worded conversations which direct people to lose Binance‚Äôs number.</p><p>Binance has <em>pre-committed to helping</em> with the efforts to cauterize them from the financial system. They also pre-committed to assisting in, <em>specifically</em>, the investigation of their sale of the Russia business. That investigation will conclude that the sale was a sham (a Bond villain <em>lied</em>?) designed to avoid sanctions enforcement. Ask your friends in national security Washington how well that is going to go over.</p><p>Binance is going to be slowly ground into a very fine paste.</p><p>Many crypto advocates believe the U.S. institutionally wants to see Binance reform into a compliant financial institution. They are delusional. The U.S. is already practicing their lines for the next press conference. This course of action allows them to deflate Binance gradually while minimizing collateral damage, which responsible regulators and law enforcement officials actually do care quite a bit about.</p><p>The U.S. is aware that many high-status institutions and individuals, which are within the U.S.‚Äôs circle of trust, actively collaborated with Binance. Most of <em>them</em> will escape serious censure.</p><p>A few examples will be made, especially in cases where it is easy to make an example, because the firm is no longer operating financial infrastructure. This will take ages to happen and be public but relatively quiet, insofar as senior U.S. regulators will not get on TV to make international headlines announcing it. It will be one of the stories quietly dribbled out on a Friday to the notice mostly of people who draft Powerpoint decks for Compliance presentations. If you want a flavor for these, join any financial firm and pay attention during the annual training; you‚Äôre stuck going to it, anyway.</p><h2 id="you-seem-a-little-smug-patrick">You seem a little smug, Patrick</h2><p>I‚Äôm not breaking out the Strategic Popcorn Reserves yet, but I will admit to a certain amount of schadenfreude here. The world was grossly disordered for many years. It has corrected <em>a relatively small amount</em>.</p><p>We are a nation of laws. I‚Äôd support reforming some of them; a lot of the AML/KYC regulatory apparatus harms individuals who have done no wrong. Much is not well-calibrated in terms of societal costs versus occasionally facilitating a Bond villain‚Äôs self-immolation.</p><p>However, in the interim, one cannot simply gleefully ignore the laws because the opportunity to do so allows you to become wealthy beyond the dreams of avarice. Even <a href="https://x.com/nic__carter/status/1727090868908396745?s=20">staunch crypto advocates</a> looking at Binance‚Äôs conduct see some things they are not happy to be associated with. Not all of the crimes were victimless crimes.</p><p>There exists the possibility that there is some salvageable licit business in crypto. People enjoy gambling. But if you factor out the crime, the largest casino in the world is not that interesting a business relative to the one that Binance et al ran the last few years.</p><p>I do not know if we‚Äôll ever have a world with this scale of crypto businesses without the crime. The crime <em>was the product</em>. An opportunity to transform global financial infrastructure was greatly overstated and <em>has not</em> come to pass. I do not expect this to change.</p>

        

        <div>
          <h2>Want more essays in your inbox?</h2>
          <p>I write about the intersection of tech and finance, approximately biweekly. It's free.</p>
                  </div>

      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Bandcamp support is faltering ‚Äì maybe you should download your music now (141 pts)]]></title>
            <link>https://linuximpact.com/bandcamp-support-is-faltering-download-your-music-now/</link>
            <guid>38409903</guid>
            <pubDate>Sat, 25 Nov 2023 00:25:16 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://linuximpact.com/bandcamp-support-is-faltering-download-your-music-now/">https://linuximpact.com/bandcamp-support-is-faltering-download-your-music-now/</a>, See on <a href="https://news.ycombinator.com/item?id=38409903">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p data-pm-slice="1 1 []">You can't rely on other people or organisations to hold onto your media forever, and it's a tired but true maxim that the cloud is just someone else's machine.</p><p>If you've spent your hard earned cash supporting independent artists through Bandcamp, a series of ownership changes and layoffs suggest that now might be the best time for audiophiles to download their audio files to secure offline storage.</p><h2 id="h-whats-been-happening-at-bandcamp">What's been happening at Bandcamp?</h2><figure><img src="https://linuximpact.com/media/posts/63/babel.jpeg" alt="painting of a crumbling tower of Babel" width="4096" height="2048" sizes="(max-width: 48em) 100vw, 768px" srcset="https://linuximpact.com/media/posts/63/responsive/babel-xs.webp 300w, https://linuximpact.com/media/posts/63/responsive/babel-sm.webp 480w, https://linuximpact.com/media/posts/63/responsive/babel-md.webp 768w, https://linuximpact.com/media/posts/63/responsive/babel-lg.webp 1024w, https://linuximpact.com/media/posts/63/responsive/babel-xl.webp 1360w, https://linuximpact.com/media/posts/63/responsive/babel-2xl.webp 1600w"></figure><p>Bandcamp was set up in 2007 as an audio distribution platform where artists and their labels had complete control of sales, streams, and later, production and distribution and physical products.</p><p>Arriving at a time when Spotify was coming to dominate audio streaming, and Google's recent YouTube purchase sent shivers of discomfort down the spines of nascent musical stars, Bandcamp offered them control of their media in a way that other platforms couldn't.</p><p>In March 2022, Epic games (itself partially owned by Chinese tech behemoth and holding company, Tencent) acquired Bandcamp. The following year, after massively bigging up the business, they sold it to Songtradr - a competing music platform. With us so far?</p><p>Songtradr had acquired the business, but declined to acquire roughly half of the employees. Songtradr is also refusing to recognise the Bandcamp union, which was voted into existence in March 2023.</p><p>According to <a rel="noopener noreferrer nofollow">Aftermath</a>, Bandcamp is a mess right now, with most of the support team gone. This leaves artists under the care of people who are either incredibly overworked, barely trained, or both. Engineers are doing work normally allotted to the support staff - normally a highly trained, competent, and enthusiastic crew.</p><h2 id="h-bandcamp-is-looking-a-little-shaky-right-now">When the music's over (Turn out the lights)</h2><figure><img src="https://linuximpact.com/media/posts/63/myspace.png" alt="myspace homepage with broken images" width="1910" height="955" sizes="(max-width: 48em) 100vw, 768px" srcset="https://linuximpact.com/media/posts/63/responsive/myspace-xs.webp 300w, https://linuximpact.com/media/posts/63/responsive/myspace-sm.webp 480w, https://linuximpact.com/media/posts/63/responsive/myspace-md.webp 768w, https://linuximpact.com/media/posts/63/responsive/myspace-lg.webp 1024w, https://linuximpact.com/media/posts/63/responsive/myspace-xl.webp 1360w, https://linuximpact.com/media/posts/63/responsive/myspace-2xl.webp 1600w"></figure><p>With the support department looking less capable, artists will be looking to publish elsewhere, and with engineers taking up the support team's slack (BOOM), who's looking after the infrastructure that keeps the site running, the streams streaming, and your thousands of purchased albums safely on their virtual shelves?</p><p>Neglect can kill a company, and if it doesn't kill it, then it can leave it lurching on, even while its soul has been banished to the shadow realm.</p><p>Even if a company appears normal after a series of takeovers and disasters, its usefulness - its core offering and raison d'√™tre - is gone or genericised.</p><p>Remember MySpace? You don't have to remember it, it's right there at <a href="https://myspace.com/">myspace.com</a>. Visit today, and you'll see band pages, you'll be able to stream music, watch videos, and 'connect with people'.</p><p>But MySpace is long dead, and what remains is a reanimated revenant resurrected yet again by corporate owners we can't even be bothered to research.</p><p>MySpace used to host the music of thousands of independent bands, at the same time it was the world's dominant social media platform. Most of that music is gone now - everything before 2015 disappeared during a fucked-up server migration in 2019, with only fragments available on the Internet Archive.</p><p>Want to run a massive, content-heavy service on a shoestring budget? That's the kind of thing that happens.</p><h2 id="h-run-dont-walk">There's an extension for that...</h2><p>While we're not saying that Bandcamp is going to disappear into nothing (MySpace is still around after all), we think it's perhaps prudent to download your albums from Bandcamp and store them offline. You never know - that's all we're saying.</p><p>The Bandcamp UI isn't really designed with massive downloads in mind, and there are a lot of boxes to tick.</p><p>Fortunately, it's pretty easy to download all of your Bandcamp music using the excellent Batchcamp extension which is available as both a <a href="https://addons.mozilla.org/en-US/firefox/addon/batchcamp/" rel="noopener noreferrer nofollow">FireFox addon</a>, or as a <a rel="noopener noreferrer nofollow">Google Chrome extension</a>.</p><p>Install the extension/add-on in the usual way, and pin it to your browser.</p><p>When you're logged into Bandcamp through the website, click the Batchcamp icon, and select your preferred audio format from the dropdown. You have a choice of <strong>MP3 V0</strong>, <strong>MP3 320</strong>, <strong>FLAC</strong>, <strong>AAC</strong>, <strong>Ogg Vorbis</strong>, <strong>ALAC</strong>, <strong>WAV</strong>, or <strong>AIFF</strong>.</p><p>While you can set Batchcamp to download up to eight concurrent downloads, we'd suggest that three is reasonable - you don't want to stress a potentially delicate structure.</p><figure><img src="https://linuximpact.com/media/posts/63/collection.png" alt="bandcamp collection with batchcamp purple button" width="1915" height="957" sizes="(max-width: 48em) 100vw, 768px" srcset="https://linuximpact.com/media/posts/63/responsive/collection-xs.webp 300w, https://linuximpact.com/media/posts/63/responsive/collection-sm.webp 480w, https://linuximpact.com/media/posts/63/responsive/collection-md.webp 768w, https://linuximpact.com/media/posts/63/responsive/collection-lg.webp 1024w, https://linuximpact.com/media/posts/63/responsive/collection-xl.webp 1360w, https://linuximpact.com/media/posts/63/responsive/collection-2xl.webp 1600w"></figure><p>At the bottom of the page, you'll see a purple(ish) <strong>Select All</strong> button. Hit it, then <strong>Download</strong>. Depending on how many albums you have i your collection this may take a while.</p><p>We suggest that you do this twice. Once in your preferred listening format, and once in the the highest lossless quality there is. You can convert this to future formats when they arrive on the scene in the future.</p><h2 id="h-stream-you-own-tracks">Stream your own tracks on your own network</h2><p>The ability to stream audio tracks is great, but its even better when its streaming from your own hardware on your own network.</p><p>Jellyfin is an open-source project that will help you organise, store, and stream music, shows, and movies from your own server. It will run on pretty much anything you have around from an old laptop, to a Raspberry Pi, to a dedicated high spec server.</p><p>You should check it out: <a href="https://jellyfin.org/" rel="noopener noreferrer nofollow">https://jellyfin.org/</a></p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Minecraft rewritten from scratch in Kotlin, hypixel works (195 pts)]]></title>
            <link>https://gitlab.bixilon.de/bixilon/minosoft</link>
            <guid>38409236</guid>
            <pubDate>Fri, 24 Nov 2023 22:48:01 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://gitlab.bixilon.de/bixilon/minosoft">https://gitlab.bixilon.de/bixilon/minosoft</a>, See on <a href="https://news.ycombinator.com/item?id=38409236">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 tabindex="-1" dir="auto">Minosoft</h2>
<p dir="auto"><a href="https://matrix.to/#/#minosoft:matrix.org" rel="nofollow"><img src="https://camo.githubusercontent.com/745b397ebe8fca1a1d02a425a1f3f0859f6938948a77e055f42665c922de979f/68747470733a2f2f696d672e736869656c64732e696f2f6d61747269782f6d696e6f736f66743a6d61747269782e6f72673f7374796c653d666f722d7468652d6261646765" data-canonical-src="https://img.shields.io/matrix/minosoft:matrix.org?style=for-the-badge"></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/286af3fe386e16f79b5db6e704caaa351e02c3eb41adac8170d4ef15df6bf551/68747470733a2f2f696d672e736869656c64732e696f2f6769746c61622f706970656c696e652d7374617475732f626978696c6f6e2f6d696e6f736f66743f6272616e63683d6d6173746572266769746c61625f75726c3d68747470732533412532462532466769746c61622e626978696c6f6e2e6465267374796c653d666f722d7468652d6261646765"><img src="https://camo.githubusercontent.com/286af3fe386e16f79b5db6e704caaa351e02c3eb41adac8170d4ef15df6bf551/68747470733a2f2f696d672e736869656c64732e696f2f6769746c61622f706970656c696e652d7374617475732f626978696c6f6e2f6d696e6f736f66743f6272616e63683d6d6173746572266769746c61625f75726c3d68747470732533412532462532466769746c61622e626978696c6f6e2e6465267374796c653d666f722d7468652d6261646765" data-canonical-src="https://img.shields.io/gitlab/pipeline-status/bixilon/minosoft?branch=master&amp;gitlab_url=https%3A%2F%2Fgitlab.bixilon.de&amp;style=for-the-badge"></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/32f1c312fe6b250dc60c8525f107341ca20944ddf092d580ac64ba659a9b2363/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d47504c76332d627269676874677265656e3f7374796c653d666f722d7468652d6261646765"><img src="https://camo.githubusercontent.com/32f1c312fe6b250dc60c8525f107341ca20944ddf092d580ac64ba659a9b2363/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d47504c76332d627269676874677265656e3f7374796c653d666f722d7468652d6261646765" data-canonical-src="https://img.shields.io/badge/license-GPLv3-brightgreen?style=for-the-badge"></a></p>
<p dir="auto">Minosoft is an open source minecraft client, written from scratch in kotlin (and java). It aims to bring more functionality and stability.<br>
(This is not a classical clone of minecraft, it completely re implements it!)<br>
(This software is not affiliated with Mojang AB, the original developer of Minecraft)</p>
<h2 tabindex="-1" dir="auto">Notice: I am *not* responsible for anti cheat banned accounts, this project is heavily in development!</h2>
<h2 tabindex="-1" dir="auto">Feature overview</h2>
<ul dir="auto">
<li>Rendering</li>
<li>Connect with any version to any server  (1.7 - 1.20.2)</li>
<li><a href="https://gitlab.bixilon.de/Bixilon/Minosoft/blob/master/doc/Performance.md">Bleeding edge performance (e.g. incredible start time)</a></li>
<li>Free (as far as we consider original minecraft as free) and open source</li>
<li>Easy use of multiple accounts</li>
<li>Multiple connections to servers in 1 process</li>
<li>Multithreading and asynchronous loading</li>
<li><a href="https://gitlab.bixilon.de/Bixilon/Minosoft/blob/master/doc/Physics.md">Original physics</a></li>
<li>Debugging on protocol layer</li>
<li>LAN servers</li>
<li>Multiple profiles (i.e. settings for servers or minosoft in general)</li>
<li>Modding</li>
<li>Independent, I will probably accept almost all patches</li>
<li><a href="https://gitlab.bixilon.de/Bixilon/Minosoft/blob/master/doc/Headless.md">Headless mode</a></li>
<li>Way more stuff</li>
</ul>
<p dir="auto">(some <del>technical</del> explanation about the render system is <a href="https://gitlab.bixilon.de/Bixilon/Minosoft/blob/master/doc/rendering/ReadMe.md">here</a>). You can find information about the architecture design <a href="https://gitlab.bixilon.de/Bixilon/Minosoft/blob/master/doc/Architecture.md">here</a></p>
<h2 tabindex="-1" dir="auto">System requirements</h2>
<ul dir="auto">
<li>CPU: Multiple (4+) cores, high clock speed (2+ GHz)</li>
<li>RAM: Minimum 500 MiB, 1 GiB recommended</li>
<li>Disk space: 80 MiB + assets (~ 300 MiB per version)</li>
<li>GPU: OpenGL 3.3+. Every modern GPU works and is recommended.</li>
<li>Java 11+, 16+ recommended (Java 8 is <strong>not</strong> supported).</li>
<li>A minecraft server (local or online)</li>
</ul>
<h2 tabindex="-1" dir="auto">Rendering</h2>
<h3 tabindex="-1" dir="auto">Features</h3>
<ul dir="auto">
<li>Blocks</li>
<li>Entities</li>
<li>Block entities (e.g. signs, chests)</li>
<li>HUD and GUI (inventory, menus, ...)</li>
<li>Particles</li>
<li>Basic block and skylight (custom light engine)</li>
<li>Block and item interactions (e.g. place, break, mining)</li>
<li>A lot more, only listing major things here, see the screenshots:</li>
</ul>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://gitlab.bixilon.de/Bixilon/Minosoft/blob/master/doc/img/rendering5.png"><img src="https://gitlab.bixilon.de/Bixilon/Minosoft/raw/master/doc/img/rendering5.png" alt="Rendering"></a><br>
A world, with a ton of hud features exposed</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://gitlab.bixilon.de/Bixilon/Minosoft/blob/master/doc/img/hypixel_skyblock.png"><img src="https://gitlab.bixilon.de/Bixilon/Minosoft/raw/master/doc/img/hypixel_skyblock.png" alt="Rendering"></a><br>
The Hypixel skyblock hub (don't try to make such a screenshot)</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://gitlab.bixilon.de/Bixilon/Minosoft/blob/master/doc/img/afk_pool.png"><img src="https://gitlab.bixilon.de/Bixilon/Minosoft/raw/master/doc/img/afk_pool.png" alt="Rendering"></a><br>
AFK Pooling, Hit boxes, particles, ...</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://gitlab.bixilon.de/Bixilon/Minosoft/blob/master/doc/img/hypixel_lobby.png"><img src="https://gitlab.bixilon.de/Bixilon/Minosoft/raw/master/doc/img/hypixel_lobby.png" alt="Hypixel Lobby"></a><br>
Lobby of hypixel.net with entities.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://gitlab.bixilon.de/Bixilon/Minosoft/blob/master/doc/img/sunset.png"><img src="https://gitlab.bixilon.de/Bixilon/Minosoft/raw/master/doc/img/sunset.png" alt="Rendering"></a>
A beautiful sunset</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://gitlab.bixilon.de/Bixilon/Minosoft/blob/master/doc/img/eros.png"><img src="https://gitlab.bixilon.de/Bixilon/Minosoft/raw/master/doc/img/eros.png" alt="Eros"></a><br>
<a href="https://en.wikipedia.org/wiki/Eros" rel="nofollow">Eros</a> is the main gui. You can select your account/favorite server and then connect to it. Once everything is prepared, the rendering will start.</p>
<h2 tabindex="-1" dir="auto">Version support</h2>
<p dir="auto">I always try to add support for the newest version of minecraft. Mostly it is pretty easy, just declaring it and generate all data. After pushing it, it is supported. Some versions are more complicated and need a bit of coding. I always try it as fast as possible, but sometimes I just need time.</p>
<h3 tabindex="-1" dir="auto">Supported versions</h3>
<p dir="auto">Almost all versions (and snapshots!) between 1.7 and the latest one (1.20.2 as of writing this) are supported.<br>
I plan to maintain Minosoft to at least version 1.20, so stay tuned, and support for older protocols will not be dropped as newer protocols are added. It is still recommended using the latest stable version.<br>
See <a href="https://gitlab.bixilon.de/Bixilon/Minosoft/blob/master/doc/VersionSupport.md">Version support</a> for more details.</p>
<h2 tabindex="-1" dir="auto">Modding</h2>
<p dir="auto">Works, still missing some features to make modding super easy (see e.g. <a href="https://gitlab.bixilon.de/bixilon/minosoft/-/issues/12" rel="nofollow">#12</a>)</p>
<h3 tabindex="-1" dir="auto">Botting</h3>
<p dir="auto">Will be improved in the future.</p>
<h2 tabindex="-1" dir="auto">Contribution or helping out</h2>
<p dir="auto">Please do it. I am completely busy with the development. Grab pretty much whatever you want and start developing.
(But before please take a look at <a href="https://gitlab.bixilon.de/Bixilon/Minosoft/blob/master/Contributing.md">Contributing.md</a>)</p>
<h2 tabindex="-1" dir="auto">Credits and thanking words</h2>
<p dir="auto">See <a href="https://gitlab.bixilon.de/Bixilon/Minosoft/blob/master/Credits.md">Credits</a>.</p>
<h2 tabindex="-1" dir="auto">Releases and beta</h2>
<p dir="auto">No clue. Don't wait for it :)</p>
<p dir="auto">I invested many thousands of hours in this project to make it "work". A lot of vanillas features are actually implemented, but soo much is missing.
A release normally means, that it is stable, has few (known) bugs and won't change that much in the near future.
All those "requirements" are currently not fulfilled at all. It is just way to alpha atm. The current goal always was to play bedwars with this client and it actually worked on hypixel (<a href="https://gitlab.bixilon.de/bixilon/minosoft/-/issues/42" rel="nofollow">#42</a>).</p>
<p dir="auto">If you want to get notified when cool new features arrive or other interesting stuff happens were, feel free to subscribe to <a href="https://t.me/MinosoftDevNews" rel="nofollow">@MinosoftDevNews</a>.</p>
<h2 tabindex="-1" dir="auto">Downloads / Installation</h2>
<h3 tabindex="-1" dir="auto">Linux, Windows, macOS</h3>
<p dir="auto">The latest x64 and arm64 build gets uploaded to github actions. See <a href="https://github.com/Bixilon/Minosoft/actions/?ref=gitlab.bixilon.de">github actions</a></p>
<h4 tabindex="-1" dir="auto">Arch</h4>
<p dir="auto">Thanks to @jugendhacker you can get minosoft directly from the arch user repository (AUR): <a href="https://aur.archlinux.org/packages/minosoft-git/" rel="nofollow">https://aur.archlinux.org/packages/minosoft-git/</a></p>
<h2 tabindex="-1" dir="auto">Building</h2>
<ol dir="auto">
<li>Install Java 11+ (e.g. <code>sudo apt install openjdk-11-jdk</code>). Windows users <a href="https://www.azul.com/downloads/?package=jdk#zulu" rel="nofollow">download</a> and install java.</li>
<li>Clone this repository (<code>git clone --depth=1 https://gitlab.bixilon.de/bixilon/minosoft.git</code>) or click on download master and extract the archive.</li>
<li>Change directory (<code>cd minosoft</code>)</li>
<li>Optional: Checkout a current feature branch (Warning: might be unstable; might not even build) (<code>git checkout &lt;branch&gt;</code>)</li>
<li>Build and run Minosoft with <code>./gradlew run</code> (or on windows <code>./gradlew.bat run</code>). Alternatively just click on <code>run.cmd</code>. If any errors occur, feel free to contact me or open an issue</li>
</ol>
<h2 tabindex="-1" dir="auto">Code mirrors</h2>
<ul dir="auto">
<li><a href="https://gitlab.bixilon.de/bixilon/minosoft/" rel="nofollow">gitlab.bixilon.de</a> (Main repository)</li>
<li><a href="https://gitlab.com/Bixilon/minosoft" rel="nofollow">GitLab</a></li>
<li><a href="https://github.com/Bixilon/Minosoft/?ref=gitlab.bixilon.de">GitHub</a></li>
</ul>
<p dir="auto">This project/readme is work in progress, things may change over time.</p>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: IP Guide ‚Äì info on IP addresses, Networks, and ASNs (318 pts)]]></title>
            <link>https://ip.guide</link>
            <guid>38409164</guid>
            <pubDate>Fri, 24 Nov 2023 22:37:16 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://ip.guide">https://ip.guide</a>, See on <a href="https://news.ycombinator.com/item?id=38409164">Hacker News</a></p>
&lt;Not HTML&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Autonomous excavator constructs a six-metre-high dry-stone wall (485 pts)]]></title>
            <link>https://ethz.ch/en/news-and-events/eth-news/news/2023/11/autonomous-excavator-constructs-a-six-metre-high-dry-stone-wall.html</link>
            <guid>38408920</guid>
            <pubDate>Fri, 24 Nov 2023 22:07:38 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://ethz.ch/en/news-and-events/eth-news/news/2023/11/autonomous-excavator-constructs-a-six-metre-high-dry-stone-wall.html">https://ethz.ch/en/news-and-events/eth-news/news/2023/11/autonomous-excavator-constructs-a-six-metre-high-dry-stone-wall.html</a>, See on <a href="https://news.ycombinator.com/item?id=38408920">Hacker News</a></p>
<div id="readability-page-1" class="page"><section id="content">
                
                    
    
    <!-- Panorama header -->
    

    <!-- Blog header -->
    
    <!-- Tags when not blog -->
    
        
    
    
    

    <!-- Articleheader -->
    <div>
    <p>
            ETH Zurich researchers taught an autonomous excavator to construct dry stone walls itself using boulders weighing several tonnes and demolition debris.
        </p>
    

</div>

    <!-- Nav & News images -->
    

    <!-- Details -->
    <div>
        <p><span>
            <time datetime="2023-11-22T00:00:00Z">22.11.2023</time>
            
                by
                
                    <a href="https://ethz.ch/en/news-and-events/eth-news/news.html?AUTHOR=TWljaGFlbCBXYWx0aGVy&amp;path=L2NvbnRlbnQvbWFpbi9lbi9uZXdzLXVuZC12ZXJhbnN0YWx0dW5nZW4vZXRoLW5ld3MvbmV3cy9qY3I6Y29udGVudA" title="Michael Walther">
                
                Michael Walther
                
                    </a>
                
            
            
            
        </span></p><ul>
            <li>
                <a id="newsCommentsLink" href="#comment-system">
                    
                    <span>Number of comments</span>
                </a>
            </li>
            <!-- Socialsharing (configurable) -->
            
    
        
            
                <li>
            
            
            
                </li>
            
        
        
    

        </ul>
    </div>

    <!-- ArticleLeadImage -->
    
        
    

    <!-- Parsys 1 --> 
    <div>

<div>
            <figure>
            <div>
                <a onclick="javascript:ETHZ_Design.Video.showOverlay(event, this);" onkeypress="javascript:ETHZ_Design.Video.showOverlay(event, this);" tabindex="0" aria-label="YouTube video -  Agree to privacy policy to play video.">
                    <div>
                        <p><img src="https://ethz.ch/bin/ethz/components/previewImage/youtube/P7wmotyKgXc.jpg"></p>
                        </div>
                    
                </a>
                <p>
                    By playing the video you accept the privacy policy of YouTube.<a href="https://policies.google.com/privacy?gl=CH&amp;hl=en">Learn more</a>
                    <a onclick="javascript:ETHZ_Design.Video.loadIframe(event, this, 'youtube');" onkeypress="javascript:ETHZ_Design.Video.loadIframe(event, this, 'youtube');" tabindex="0" role="button">OK</a>
                </p>
            </div>
            <figcaption>(Video: ETH Zurich / Girts Apskalns)</figcaption>
                </figure>
            </div>
<div>
                
                	<h2>In brief</h2>
                
                
                <ul> 
 <li>Until today, dry stone wall construction has involved vast amounts of manual labour.</li> 
 <li>A multidisciplinary team of ETH Zurich researchers developed a method of using an autonomous excavator to construct a dry-stone wall that is six metres high and sixty-five metres long.</li> 
 <li>Dry stone walls are resource efficient as they use locally sourced materials, such as concrete slabs that are low in embodied energy.</li> 
</ul>
            </div>
<div>
                
                
                <p>ETH Zurich researchers deployed an autonomous excavator, called HEAP, to build a six metre-high and sixty-five-metre-long dry-stone wall. The wall is embedded in a digitally planned and autonomously excavated landscape and park.</p>
<p>The team of researchers included: Gramazio Kohler Research, the Robotics Systems Lab, Vision for Robotics Lab, and the Chair of Landscape Architecture. They developed this innovative design application as part of the National Centre of Competence in Research for Digital Fabrication (NCCR dfab).</p>
<p>Using sensors, the excavator can autonomously draw a 3D map of the construction site and localise existing building blocks and stones for the wall‚Äôs construction. Specifically designed tools and machine vision approaches enable the excavator to scan and grab large stones in its immediate environment. It can also register their approximate weight as well as their centre of gravity. An algorithm determines the best position for each stone, and the excavator then conducts the task itself by placing the stones in the desired location. The autonomous machine can place 20 to 30 stones in a single consignment ‚Äì about as many as one delivery could supply.</p>

            </div>
<div>
                        <figure>
            <a href="https://ethz.ch/en/news-and-events/eth-news/news/2023/11/autonomous-excavator-constructs-a-six-metre-high-dry-stone-wall/_jcr_content/wide_content/image/image.imageformat.lightbox.1753063285.jpg" data-caption="The Excavator picks and scans each boulder to be placed in the correct position. Circularity Park in Oberglatt, Eberhard AG. (Photograph: ETH Zurich / Marc Schneider)" data-size="5920x3947" aria-label="Enlarged view: The excavator in front of the built wall.">
	<img alt="Enlarged view: The excavator in front of the built wall." src="https://ethz.ch/en/news-and-events/eth-news/news/2023/11/autonomous-excavator-constructs-a-six-metre-high-dry-stone-wall/_jcr_content/wide_content/image/image.imageformat.1286.1753063285.jpg">
			<span></span>
                        </a>
                <figcaption>
			    <p>
			      The Excavator picks and scans each boulder to be placed in the correct position. Circularity Park in Oberglatt, Eberhard AG. (Photograph: ETH Zurich / Marc Schneider)</p>
			  </figcaption>
			</figure>
    
                    </div>
<div>
                
                	<h2>Reference</h2>
                
                
                <p>Johns RL, Wermelinger M, Mascaro R, Jud D, Hurkxkens I, Vasey L, Chli M, Gramazio F, Kohler M, Hutter M: A framework for robotic excavation and dry stone construction using on-site materials, <i>Science Robotics</i>, 22 November 2023, DOI: <a href="https://doi.org/10.1126/scirobotics.abp9758"><span>external page</span>10.1126/scirobotics.abp9758</a></p>
            </div>

</div>
    <!-- Socialsharing (display only) -->
    
    
        
            
            
            
        
        
    


    <!-- Parsys 2 -->
    
    <!-- Taglist -->
    
        
            
        
    

    <!-- Comments -->
    
    	
	    
    

                
                
            </section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Botlib: C Telegram bot framework (209 pts)]]></title>
            <link>https://github.com/antirez/botlib</link>
            <guid>38408873</guid>
            <pubDate>Fri, 24 Nov 2023 22:02:40 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/antirez/botlib">https://github.com/antirez/botlib</a>, See on <a href="https://news.ycombinator.com/item?id=38408873">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 tabindex="-1" dir="auto">BOTLIB - Telegram C bot framework</h2>
<p dir="auto">WARNING: API is work in progress. Don't consider it reliable until this message is removed.</p>
<h2 tabindex="-1" dir="auto">Installation</h2>
<ol dir="auto">
<li>Create your bot using the Telegram <a href="https://t.me/botfather" rel="nofollow">@BotFather</a>.</li>
<li>After obtaining your bot API key, store it into a file called <code>apikey.txt</code> inside the bot working directory. Alternatively you can use the <code>--apikey</code> command line argument to provide your Telegram API key.</li>
<li>Optionally edit <code>mybot.c</code> to personalized the bot.</li>
<li>Build the bot: you need libcurl and libsqlite installed. Just type <code>make</code>.</li>
<li>Run with <code>./mybot</code>. There is also a debug mode if you run it using the <code>--debug</code> option (add --debug multiple times for even more verbose messages). For a more moderate output use <code>--verbose</code>. Try <code>mybot --help</code> for the full list of command line options.</li>
<li>Add the bot to your Telegram channel.</li>
<li><strong>IMPORTANT:</strong> The bot <em>must</em> be an administrator of the channel in order to read all the messages that are sent in such channel. Private messages will work regardless.</li>
</ol>
<p dir="auto">By default the bot will create an SQLite database in the working directory.
If you want to specify another path for your SQLite db, use the <code>--dbfile</code>
command line option.</p>
<h2 tabindex="-1" dir="auto">APIs</h2>
<p dir="auto">... Work in progress ...</p>
<p dir="auto">For the bot API check <code>mybot.c</code> example itself. The basic usage is pretty simple. However for all the other stuff, like the Sqlite3 abstractions, they are taken from <a href="https://github.com/antirez/stonky">Stonky</a>, so the code there (which is very accessible) will provide some help. I hope to document this project better. For now my main goal was to stop duplicating Stonly to create new bots with all the common code inside.</p>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Cash Cows (116 pts)]]></title>
            <link>https://www.ageofinvention.xyz/p/age-of-invention-cash-cows</link>
            <guid>38408319</guid>
            <pubDate>Fri, 24 Nov 2023 21:04:05 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.ageofinvention.xyz/p/age-of-invention-cash-cows">https://www.ageofinvention.xyz/p/age-of-invention-cash-cows</a>, See on <a href="https://news.ycombinator.com/item?id=38408319">Hacker News</a></p>
<div id="readability-page-1" class="page"><div dir="auto"><p><em>You‚Äôre reading </em><span>Age of Invention</span><em>, my newsletter on the causes of the British Industrial Revolution and the history of innovation. This edition went out to over 22,000 subscribers. To support my work, you can upgrade your subscription here:</em></p><p>Most people binge on television shows. I binge on reading eighteenth-century travel diaries ‚Äî especially when they tell me fascinating new things about the inventors of the time. </p><p><span>One that especially caught my eye this week was a kind of pilgrimage to Leicestershire in 1785 by two young Frenchmen, Alexandre and Francois de La Rochefoucauld ‚Äî the sons of a duke ‚Äî to visit a man famous for his cattle.</span><span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-1-135876528" href="https://www.ageofinvention.xyz/p/age-of-invention-cash-cows#footnote-1-135876528" target="_self" rel="">1</a></span><span> They went to Dishley, just a couple of miles from Loughborough, to the 500-acre farm rented by Robert Bakewell.</span></p><p><span>Bakewell‚Äôs story could have been an unremarkable one. He was born, farmed, and died at Dishley, much like his father before him. But Bakewell, unlike most people, caught the improving mentality, or attitude ‚Äî the one thing </span><em>all</em><span> inventors, both then and now, have in common ‚Äî which had him viewing everything around him in terms of its capacity for betterment. The improving mentality was a reframing the status quo as a problem to solve. A habit of optimisation. A compulsion to perfect.</span></p><p>It is unclear where exactly Bakewell picked up the improving mentality. His father‚Äôs and then his own landlord, Sir William Gordon, appears to have been an agricultural improver. He conducted a tour of the West Country at some point in his youth, presumably coming into contact with more improvers ‚Äî though I suspect he was already motivated to travel by having already caught the improving bug. When starting his own experiments with cattle, he drew his original stocks from some of the better-known improvers of cows and sheep. </p><p>Regardless of how Bakewell picked up the improving mentality, however, he definitely had it. As the young French aristocrats put it, after spending just a little time with him, ‚Äúhe showed us how well, beneath a heavy and rough exterior, he had been making observations, and studying how to bring into being his fine breed of animals with as much care as one would put into the study of mathematics or any of the sciences.‚Äù </p><p>Bakewell‚Äôs core objective, in improving cattle, was to make them as profitable as possible. His core insight was that you could divide a cow with two horizontal lines, with butchers paying the most for the topmost meat on cows‚Äô backs, fit for roasting ‚Äî ‚Äúgentlemen‚Äôs meat‚Äù of the sirloin and fillet. The middle section was less valuable. And the lowest, generally boiled, was ‚Äúonly fit for the army‚Äù. Over the course of decades he thus selectively bred cows with the largest possible backs ‚Äî where the most valuable meat was ‚Äî and the leanest possible lower parts, their bellies forming a sort of triangle. </p><p>This strategy was not just about maximising the price of the cows when sold for meat, but about making them as efficient as possible when it came to feeding them. The less feed spent on developing muscle in the lower, less valuable parts, the better. Bakewell ended up doing similar for his sheep, ‚Äúso plump that we have measured several of them and found them broader than they are tall ‚Ä¶ having on each side a great lump of fat which the farmer called cloven flank‚Äù. In sheep he selected for smaller bones ‚Äî it was all about their fat and meat. And he improved horses ‚Äî used for pulling ploughs, driving mills and hauling carts ‚Äî developing a breed that was short, had low joints, and a broad chest, ‚Äústrong enough to pull a house along‚Äù.</p><p><span>As one of his French admirers put it, ‚Äúlittle by little, by dint of trials and the coupling of what he discovered to be the best animals, he came in the end to create the most superb breed of animals I have ever seen.‚Äù</span><span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-2-135876528" href="https://www.ageofinvention.xyz/p/age-of-invention-cash-cows#footnote-2-135876528" target="_self" rel="">2</a></span><span> This was not just by trial and error: Bakewell separated a his farm into many hedge-enclosed fields of just 6-10 acres, in which he conducted controlled trials, for example buying a particular county‚Äôs typical sheep and turning it out onto the same kinds of fields with the same feed and upbringing, to see how his own breeds differed. This had the added advantage of being highly effective advertising for his own breeds: ‚Äúhe demonstrates the comparison to everyone who visits his farm, and it is undeniable that the others are thin and lean compared with his‚Äù.</span></p><p>Bakewell‚Äôs cows and sheep became extraordinarily valuable when sold for meat, though he soon discovered he could make even more money by leasing out the young males of his breeds to other farmers so that they could improve their own ‚Äî ‚Äúbut never as good as that of Mr Bakewell who has both the male and the female‚Äù. Recognising how essential it was that he not lose his competitive advantage, he even set up his own abattoir and sold only dead meat, for fear that an unscrupulous butcher might be tempted to breed from the live animals sent to slaughter.</p><p>One of his French visitors judged that ‚Äúhe has the glory of being the only man in England, perhaps in the world, who has reached such great perfection in cattle, sheep and horses. I think he has reached the point he was aiming at and no longer seeks to improve them, only to lease them out.‚Äù</p><p><span>But perfecting the breed was still not enough. The improving mentality was a compulsion ‚Äî there was and is always a way to optimise, to tweak and finetune. Bakewell thus perfected the way his cattle were raised. The agricultural writer Arthur Young was astonished at the cows‚Äô extraordinary docility, so that ‚Äúby a little swish‚Äù, even a young boy could gently direct them wherever they wanted, being ‚Äúaccustomed to this method from being calves.‚Äù</span><span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-3-135876528" href="https://www.ageofinvention.xyz/p/age-of-invention-cash-cows#footnote-3-135876528" target="_self" rel="">3</a></span><span> That docility meant they were less likely to harm one another and get into accidents too. </span></p><p>Bakewell even conducted a cost-benefit analysis of whether to let the cattle roam free or have them tethered nearer to their stalls. Letting them roam free had the advantage that they would manure the land, meaning that he would not have to pay people to cart the dung out onto the field, and to harvest hay from the fields and bring it to the stalls. But he worked out that letting them roam free would also require spending more on people to watch them, that they would only manure the fields unevenly anyway, and the cattle often tended to trample what they were supposed to eat. Having them tethered meant  that ‚Äúnothing is lost, all is eaten, and the manure is better rotted.‚Äù</p><p>Bakewell even configured the layout of his farm so that ‚Äúall is in tremendous order, everything arranged to avoid wasting time in carting from one place to another‚Äù. If it could be optimised, it was. Despite the fact that he rented his farm rather than owning it, Bakewell even had a network of wooden aqueducts and about ten miles of canal dug across his lands in order to irrigate them. He even told his French visitors in 1785 that he planned to make the canals navigable by boat, so that he could float heavy loads of grain or turnips from one side of the farm to the other.</p><p>The irrigation was essential for yet another task, which was to make every acre of the farm count in terms of fodder for his cattle. He showed his French visitors that he could get almost seven times as much hay from an acre of carefully manured and watered meadow than from one that was not. Naturally, he experimented continually on getting it exactly right. To the improver, there was always something else to be improved.</p><p>With such attention to detail, it‚Äôs no wonder that the English became such prodigious meat eaters in general. Our same French visitors in 1785 commented throughout their journey at the extraordinary diets enjoyed by everyone, even working people down mines or in factories. Indeed, they noted a peculiarly ‚ÄúEnglish drowsiness that immediately follows a meal‚Äù, characterised by a roundly extended belly, though it came also came at a cost: ‚Äúmuch breaking of wind, which the English generally take no trouble to control.‚Äù </p><p>If you‚Äôd like to support my work, please consider upgrading your free subscription to a paid one here:</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Perfect Pitch Puzzle ‚Äì a musical Wordle daily ear training game (196 pts)]]></title>
            <link>https://www.perfectpitchpuzzle.com</link>
            <guid>38408205</guid>
            <pubDate>Fri, 24 Nov 2023 20:54:17 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.perfectpitchpuzzle.com">https://www.perfectpitchpuzzle.com</a>, See on <a href="https://news.ycombinator.com/item?id=38408205">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Reality has a surprising amount of detail (2017) (364 pts)]]></title>
            <link>http://johnsalvatier.org/blog/2017/reality-has-a-surprising-amount-of-detail</link>
            <guid>38407851</guid>
            <pubDate>Fri, 24 Nov 2023 20:25:28 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="http://johnsalvatier.org/blog/2017/reality-has-a-surprising-amount-of-detail">http://johnsalvatier.org/blog/2017/reality-has-a-surprising-amount-of-detail</a>, See on <a href="https://news.ycombinator.com/item?id=38407851">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
  
  <h2 id="i">I.</h2>

<p>My dad emigrated from Colombia to North America when he was 18 looking looking for a better life. For my brother and I that meant a lot of standing outside in the cold. My dad‚Äôs preferred method of improving his lot was improving lots, and my brother and I were ‚Äúvoluntarily‚Äù recruited to help working on the buildings we owned.</p>

<p>That‚Äôs how I came to spend a substantial part of my teenage years replacing fences, digging trenches, and building flooring and sheds. And if there‚Äôs one thing I‚Äôve learned from all this building, it‚Äôs that reality has a surprising amount of detail.</p>

<p>This turns out to explain why its so easy for people to end up intellectually stuck. Even when they‚Äôre literally the best in the world in their field.</p>

<p>Consider building some basement stairs for a moment. Stairs seem pretty simple at first, and at a high level they are simple, just two long, wide parallel boards (2‚Äù x 12‚Äù x 16‚Äô), some boards for the stairs and an angle bracket on each side to hold up each stair. But as you actually start building you‚Äôll find there‚Äôs a surprising amount of nuance.</p>

<p>The first thing you‚Äôll notice is that there are actually quite a few subtasks. Even at a high level, you have to cut both ends of the 2x12s at the correct angles; then screw in some u-brackets to the main floor to hold the stairs in place; then screw in the 2x12s into the u-brackets; then attach the angle brackets for the stairs; then screw in the stairs.</p>

<table>
<caption>Those goddamn stairs.</caption>
<tbody><tr><td><img src="http://johnsalvatier.org/assets/stairs-diagram.jpg" alt="Those goddamn stairs."></td></tr>
</tbody></table>

<p>Next you‚Äôll notice that each of those steps above decomposes into several steps, some of which have some tricky details to them due to the properties of the materials and task and the limitations of yourself and your tools.</p>

<p>The first problem you‚Äôll encounter is that cutting your 2x12s to the right angle is a bit complicated because there‚Äôs no obvious way to trace the correct angles. You can either get creative (there <em>is</em> a way to  trace it), or you can bust out your trig book and figure out how to calculate the angle and position of the cuts.</p>

<p>You‚Äôll probably also want to look up what are reasonable angles for stairs. What looks reasonable when you‚Äôre cutting and what feels safe can be different. Also, you‚Äôre probably going to want to attach a guide for your circular saw when cutting the angle on the 2x12s because the cut has to be pretty straight.</p>

<p>When you‚Äôre ready to you will quickly find that getting the stair boards at all the same angle is non-trivial. You‚Äôre going to need something that can give you an angle to the main board very consistently. Once you have that, and you‚Äôve drawn your lines, you may be dismayed to discover that your straight looking board is not <em>that</em> straight. Lumber warps after it‚Äôs made because it was cut when it was new and wet and now it‚Äôs dryer, so no lumber is perfectly straight.</p>

<p>Once you‚Äôve gone back to the lumber store and gotten some straighter 2x12s and redrawn your lines, you can start screwing in your brackets. Now you‚Äôll learn that despite <em>starting</em> aligned with the lines you drew, after screwing them in, your angle brackets are no longer quite straight because the screws didn‚Äôt go in quite straight and now they tightly secure the bracket at the wrong angle. You can fix that by drilling guide holes first. Also you‚Äôll have to move them an inch or so because it‚Äôs more or less impossible to get a screw to go in differently than it did the first time in the same hole.</p>

<p>Now you‚Äôre finally ready to screw in the stair boards. If your screws are longer than 2‚Äù, you‚Äôll need different ones, otherwise they will poke out the top of the board and stab you in the foot.</p>

<p>At every step and every level there‚Äôs an abundance of detail with material consequences.</p>

<p>It‚Äôs tempting to think ‚ÄòSo what?‚Äô and dismiss these details as incidental or specific to stair carpentry. And they <strong>are</strong> specific to stair carpentry; that‚Äôs what makes them details. But the existence of a surprising number of meaningful details is <em>not</em> specific to stairs. Surprising detail is a near universal property of getting up close and personal with reality.</p>

<p>You can see this everywhere if you look. For example, you‚Äôve probably had the experience of doing something for the first time, maybe growing vegetables or using a Haskell package for the first time, and being frustrated by how many annoying snags there were. Then you got more practice and then you told yourself ‚Äòman, it was so simple all along, I don‚Äôt know why I had so much trouble‚Äô. We run into a fundamental property of the universe and mistake it for a personal failing.</p>

<p>If you‚Äôre a programmer, you might think that the fiddliness of programming is a special feature of programming, but really it‚Äôs that everything is fiddly, but you only notice the fiddliness when you‚Äôre new, and in programming you do new things more often.</p>

<p>You might think the fiddly detailiness of things is limited to human centric domains, and that physics itself is simple and elegant. That‚Äôs true in some sense ‚Äì the physical laws themselves tend to be quite simple ‚Äì but the manifestation of those laws is often complex and counterintuitive.</p>

<h2 id="ii-boiling-a-watched-pot">II. Boiling A Watched Pot</h2>

<p>Consider the boiling of water. That‚Äôs straightforward, water boils at 100 ¬∞C, right?</p>

<p>Well the stairs seemed simple too, so let‚Äôs double check.</p>

<p>Put yourself in the shoes of someone at the start of the 1800‚Äôs, with only a crude, unmarked mercury thermometer, trying to figure the physics of temperature.</p>

<p>Go to your stove, put some water in a pot, start heating some water, and pay attention as it heats.</p>

<p><em>(I suggest actually doing this)</em></p>

<p>The first thing you‚Äôll probably notice is a lot of small bubbles gathering on the surface of the pot. Is that boiling? The water‚Äôs not that hot yet; you can still even stick your finger in. Then the bubbles will appear faster and start rising, but they somehow seem ‚Äòunboiling‚Äô. Then you‚Äôll start to see little bubble storms in patches, and you start to hear a hissing noise. Is that Boiling? Sort of? It doesn‚Äôt really <em>look</em> like boiling. The bubble storms grow larger and start releasing bigger bubbles. Eventually the bubbles get big and the surface of the water grows turbulent as the bubbles begin to make it to the surface. Finally we seem to have reached real boiling. I guess this is the boiling point? That seems kind of weird, what were the things that happened earlier if not boiling.</p>

<p>To make matters worse, if you‚Äôd used a glass pot instead of a metal one, the water would boil at a higher temperature. If you cleaned the glass vessel with sulfuric acid, to remove any residue, you‚Äôd find that you can heat water substantially more before it boils and when it does boil it boils in little explosions of boiling and the temperature fluctuates unstably.</p>

<p>Worse still, if you trap a drop of water between two other liquids and heat it, you can raise the temperature to at least 300 ¬∞C with nothing happening. That kind of makes a mockery of the statement ‚Äòwater boils at 100 ¬∞C‚Äô.</p>

<p>It turns out that ‚Äòboiling‚Äô is a lot more complicated than you thought.</p>

<p>This surprising amount of detail is is not limited to ‚Äúhuman‚Äù or ‚Äúcomplicated‚Äù domains, it is a near universal property of everything from space travel to sewing, to your internal experience of your own mind.</p>

<h2 id="iii-invisible-vs-transparent-detail-and-getting-intellectually-stuck">III. Invisible vs. Transparent Detail And Getting Intellectually Stuck</h2>

<p>Again, you might think ‚ÄòSo what? I guess things are complicated but I can just notice the details as I run into them; no need to think specifically about this‚Äô. And if you are doing things that are relatively simple, things that humanity has been doing for a long time, this is often true. But if you‚Äôre trying to do difficult things, things which are not known to be possible, it is not true.</p>

<p>The more difficult your mission, the more details there will be that are critical to understand for success.</p>

<p>You might hope that these surprising details are irrelevant to your mission, but not so. Some of them will end up being key. Wood‚Äôs tendency to warp means it‚Äôs more accurate to trace a cut than to calculate its length and angle. The possibility of superheating liquids means it‚Äôs important to use a <a href="https://en.wikipedia.org/wiki/Packed_bed">packed bed</a> when boiling liquids in industrial processes lest your process be highly inefficient and unpredictable. The massive difference in weight between a rocket <em>full</em> of fuel and an empty one means that a reusable rocket can‚Äôt hover if it can‚Äôt throttle down to a very small fraction of its original thrust, which in turn means it must plan its trajectory very precisely to achieve 0 velocity at exactly the moment it reaches the ground.</p>

<table>
<caption>Some important details for colonizing the universe.</caption>
<tbody><tr><td><img src="http://johnsalvatier.org/assets/colonizing-the-universe.png" alt="Some important details for colonizing the universe."></td></tr>
</tbody></table>

<p>You might also hope that the important details will be obvious when you run into them, but not so. Such details aren‚Äôt <em>automatically</em> visible, even when you‚Äôre directly running up against them. Things can just seem messy and noisy instead. ‚ÄòSpirit‚Äô thermometers, made using brandy and other liquors, were in common use in the early days of thermometry. They were even considered as a potential standard fluid for thermometers. It wasn‚Äôt until the careful work of Swiss physicist Jean-Andr√© De Luc in the 18th century that physicists realized that alcohol thermometers are highly nonlinear and highly variable depending on concentration, which is in turn hard to measure.</p>

<p>You‚Äôve probably also had experiences where you were trying to do something and growing increasingly frustrated because it wasn‚Äôt working, and then finally, after some time you realize that your solution method can‚Äôt possibly work.</p>

<p>Another way to see that noticing the right details is hard, is that different people end up noticing <em>different</em> details. My brother and I once built a set of stairs for the garage with my dad, and we ran into the problem of determining where to cut the long boards so they lie at the correct angle. After struggling with the problem for a while (and I do mean struggling, a 16‚Äô long board is heavy), we got to arguing. I remembered from trig that we could figure out angle so I wanted to go dig up my textbook and think about it. My dad said, ‚Äòno, no, no, let‚Äôs just trace it‚Äô, insisting that we could figure out how to do it.</p>

<p>I kept arguing because I thought I was right. I felt really annoyed with him and he was annoyed with me. In retrospect, I think I saw the fundamental difficulty in what we were doing and I don‚Äôt think he appreciated it (look at the stairs picture and see if you can figure it out), he just heard ‚Äòlet‚Äôs draw some diagrams and compute the angle‚Äô and didn‚Äôt think that was the solution, and if he had appreciated the thing that I saw I think he would have been more open to drawing some diagrams. But at the same time, he also understood that diagrams and math don‚Äôt account for the shape of the wood, which I did not appreciate. If we had been able to get these points across, we could have come to consensus. Drawing a diagram was probably a good idea, but computing the angle was probably not. Instead we stayed annoyed at each other for the next 3 hours.</p>

<p>Before you‚Äôve noticed important details they are, of course, basically invisible. It‚Äôs hard to put your attention on them because you don‚Äôt even know what you‚Äôre looking for. But <em>after</em> you see them they quickly become so integrated into your intuitive models of the world that they become essentially transparent. Do you remember the insights that were crucial in learning to ride a bike or drive? How about the details and insights you have that led you to be good at the things you‚Äôre good at?</p>

<p>This means it‚Äôs really easy to get <em>stuck</em>. Stuck in your current way of seeing and thinking about things. Frames are made out of the details that seem important to you. The important details you haven‚Äôt noticed are invisible to you, and the details you <em>have</em> noticed seem completely obvious and you see right through them. This all makes makes it difficult to imagine how you could be missing something important.</p>

<p>That‚Äôs why if you ask an anti-climate change person (or a climate scientist) ‚Äúwhat could convince you you were wrong?‚Äù you‚Äôll likely get back an answer like ‚Äúif it turned out all the data on my side was faked‚Äù or some other extremely strong requirement for evidence rather than ‚ÄúI would start doubting if I noticed numerous important mistakes in the details my side‚Äôs data and my colleagues didn‚Äôt want to talk about it‚Äù. The second case is much more likely than the first, but you‚Äôll never see it if you‚Äôre not paying close attention.</p>

<p>If you‚Äôre trying to do impossible things, this effect should <em>chill you to your bones</em>. It means you could be intellectually stuck right at this very moment, with the evidence right in front of your face and you just can‚Äôt see it.</p>

<p>This problem is not easy to fix, but it‚Äôs not impossible either. I‚Äôve mostly fixed it for myself. The direction for improvement is clear: seek detail you would not normally notice about the world. When you go for a walk, notice the unexpected detail in a flower or what the seams in the road imply about how the road was built. When you talk to someone who is smart but just seems <em>so wrong</em>, figure out what details seem important to them and why. In your work, notice how that meeting actually wouldn‚Äôt have accomplished much if Sarah hadn‚Äôt pointed out that one thing. As you learn, notice which details actually change how you think.</p>

<p>If you wish to not get stuck, seek to perceive what you have not yet perceived.</p>

  <p><a href="http://lesswrong.com/r/discussion/lw/p0a/reality_has_a_surprising_amount_of_detail/">Comments</a>
</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Please ignore the deluge of complete nonsense about Q* (214 pts)]]></title>
            <link>https://twitter.com/ylecun/status/1728126868342145481</link>
            <guid>38407741</guid>
            <pubDate>Fri, 24 Nov 2023 20:14:43 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://twitter.com/ylecun/status/1728126868342145481">https://twitter.com/ylecun/status/1728126868342145481</a>, See on <a href="https://news.ycombinator.com/item?id=38407741">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="ScriptLoadFailure"><form action="" method="GET"><div><p><span>Something went wrong, but don‚Äôt fret ‚Äî let‚Äôs give it another shot.</span></p><br></div></form></div></div>]]></description>
        </item>
    </channel>
</rss>