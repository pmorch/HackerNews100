<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Mon, 23 Sep 2024 01:30:03 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Uber charges more if you have credits in your account (264 pts)]]></title>
            <link>https://viewfromthewing.com/uber-caught-overcharging-how-having-credits-in-your-account-might-be-costing-you/</link>
            <guid>41620304</guid>
            <pubDate>Sun, 22 Sep 2024 21:38:08 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://viewfromthewing.com/uber-caught-overcharging-how-having-credits-in-your-account-might-be-costing-you/">https://viewfromthewing.com/uber-caught-overcharging-how-having-credits-in-your-account-might-be-costing-you/</a>, See on <a href="https://news.ycombinator.com/item?id=41620304">Hacker News</a></p>
<div id="readability-page-1" class="page"><article id="post-213171">

	
	<!-- .entry-header -->

	
	
	<div>
		<p>I noticed something strange earlier this month when I pulled up the Uber app and requested a ride.
</p><ul><li>I had my monthly $15 American Express Uber credit in my account<br>
</li><li>The price for the ride was displayed net of this credit (rather than full price, just showing the Uber credit as a payment method later)<br>
</li><li>And the fare seemed higher than usual.  It was also much higher than Lyft.</li></ul>
<p>My hypothesis was that Uber seemed to be picking a higher price <i>because I had credits in my account</i>.  I might be willing to spend more because my ‘real’ out of pocket cost was less, and those credits were trapped <i>anyway</i>.</p>
<p>I decided to use my Uber credits for Uber Eats instead.  That pricing seemed normal.  I need to keep my eye on this.</p>
<p>Reader <b>Charles</b> says he noticed something similar.</p>	<!-- /1019006/BoardingArea_DynamicContent -->
	
	
<ul><li>He regularly pre-books rides with Uber – between the same locations at the same time of day – and generally finds the price to be stable ~ $20 and a bit cheaper than Lyft.
</li><li>He bought Uber gift cards at Costco for a 20% discount to face value.  That’s when things got weird.</li></ul>
<blockquote><p>Loaded first $50 card in my uber account, everything behaved normal. I loaded another $200 before taking Uber to airport, then was surprised to find uber won’t allow payment with uber cash loaded in the account this way for rides scheduled ahead of time. </p>
<p>…then stranger things happened: for same ride I book regularly increased from about $20 to $30!  Just as a sanity check, Lyft is still ~$20 for same ride.</p></blockquote>
<p>He went a step farther and did something I didn’t: he checked Uber prices “with someone else’s phone” who did not have a balance in their Uber account – and Uber was pricing the route at the usual $20 for them.</p>
<p>I don’t know exactly what’s happening here, but something seems strange and – unsurprisingly – not in a customer-friendly way. At the same time, I’m also not the first person to experience (or think they experienced) this.  Have you seen anything like it?  I’d be curious your experiences, especially once you get Uber credits in your account.  My theory, and it is definitely just that, is this is something they’re testing on a subset of users to learn how customers respond.</p>
<p>Remember when Uber brought in Dara Khosrowshahi from Expedia to be their new CEO, to become kinder and gentler and friendler?  At the time I figured things would get worse because he was literally in charge <i>at Expedia</i>.  But drivers now seem to earn less, even though (because of) tipping.  It’s more expensive to customers, too.  And there’s no more “surge pricing” – they just charge you higher and higher amounts without <i>telling you</i> they’re doing it.</p>
	
	

	
	

			</div><!-- .entry-content -->

	
	
	<!-- .entry-footer -->

	
</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Brainfuck Enterprise Solutions (143 pts)]]></title>
            <link>https://github.com/bf-enterprise-solutions</link>
            <guid>41620198</guid>
            <pubDate>Sun, 22 Sep 2024 21:24:07 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/bf-enterprise-solutions">https://github.com/bf-enterprise-solutions</a>, See on <a href="https://news.ycombinator.com/item?id=41620198">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>

  <h2>
        Pinned

    <span data-view-component="true">
      <span>Loading</span>
</span>
    <span role="status" aria-live="polite" data-error-text="Something went wrong." data-success-text="Order updated."></span>
  </h2>

      <ol>
      <li>
  <div>
      


      <p>
        A next-generation high-performance operating system focused on enterprise-level resilience
      </p>

      <p>
          <span>
  <span></span>
  <span itemprop="programmingLanguage">Brainfuck</span>
</span>

          <a href="https://github.com/bf-enterprise-solutions/os.bf/stargazers">
            <svg aria-label="stars" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z"></path>
</svg>
            22
          </a>
      </p>
    </div>
</li>

      <li>
  <div>
      


      <p>
        Infinitely configurable integrated IDE and text editor
      </p>

      <p>
          <span>
  <span></span>
  <span itemprop="programmingLanguage">Brainfuck</span>
</span>

          <a href="https://github.com/bf-enterprise-solutions/ed.bf/stargazers">
            <svg aria-label="stars" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z"></path>
</svg>
            99
          </a>
      </p>
    </div>
</li>

      <li>
  <div>
      


      <p>
        Cutting-edge, blazing fast embeddable Brainfuck metainterpreter that is the beating heart of our resilient blade servers
      </p>

      <p>
          <span>
  <span></span>
  <span itemprop="programmingLanguage">M4</span>
</span>

          <a href="https://github.com/bf-enterprise-solutions/meta.bf/stargazers">
            <svg aria-label="stars" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z"></path>
</svg>
            6
          </a>
      </p>
    </div>
</li>

      <li>
  <div>
      


      <p>
        High efficiency string manipulation in Brainfuck, re-imagined. 
      </p>

      <p>
          <span>
  <span></span>
  <span itemprop="programmingLanguage">Brainfuck</span>
</span>

          <a href="https://github.com/bf-enterprise-solutions/str.bf/stargazers">
            <svg aria-label="stars" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z"></path>
</svg>
            3
          </a>
      </p>
    </div>
</li>

      <li>
  <div>
      


      <p>
        Comprehensive documentation format for Brainfuck codebase, previously internal to BES.
      </p>

      <p>
          <a href="https://github.com/bf-enterprise-solutions/bf.doc/stargazers">
            <svg aria-label="stars" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z"></path>
</svg>
            3
          </a>
      </p>
    </div>
</li>

      <li>
  <div>
      


      <p>
        State-of-art style guide for medium-to-huge repositories and diverse teams of engineers.
      </p>

      <p>
          <span>
  <span></span>
  <span itemprop="programmingLanguage">Brainfuck</span>
</span>

          <a href="https://github.com/bf-enterprise-solutions/bf.style/stargazers">
            <svg aria-label="stars" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z"></path>
</svg>
            4
          </a>
      </p>
    </div>
</li>

</ol>

</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Desktop Windowing on Android Tablets (133 pts)]]></title>
            <link>https://android-developers.googleblog.com/2024/09/developer-preview-desktop-windowing-on-android-tablets.html</link>
            <guid>41619131</guid>
            <pubDate>Sun, 22 Sep 2024 19:00:56 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://android-developers.googleblog.com/2024/09/developer-preview-desktop-windowing-on-android-tablets.html">https://android-developers.googleblog.com/2024/09/developer-preview-desktop-windowing-on-android-tablets.html</a>, See on <a href="https://news.ycombinator.com/item?id=41619131">Hacker News</a></p>
Couldn't get https://android-developers.googleblog.com/2024/09/developer-preview-desktop-windowing-on-android-tablets.html: Error: timeout of 10000ms exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[Apple adds feature that tries to "autocorrect" file extensions, and fails (110 pts)]]></title>
            <link>https://forum.sublimetext.com/t/sublime-text-started-adding-a-s-to-new-files-very-annoying/73628</link>
            <guid>41618926</guid>
            <pubDate>Sun, 22 Sep 2024 18:27:55 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://forum.sublimetext.com/t/sublime-text-started-adding-a-s-to-new-files-very-annoying/73628">https://forum.sublimetext.com/t/sublime-text-started-adding-a-s-to-new-files-very-annoying/73628</a>, See on <a href="https://news.ycombinator.com/item?id=41618926">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="main-outlet">
      








  <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
      <p><span>
          <a href="https://forum.sublimetext.com/u/breck7"></a>
          
            <time itemprop="datePublished" datetime="2024-09-20T16:04:16Z">
              September 20, 2024,  4:04pm
            </time>
        </span>
        <span itemprop="position">#1</span>
      </p>
      
      <meta itemprop="interactionCount" content="UserLikes:1">
      <meta itemprop="interactionCount" content="UserComments:0">
      <meta itemprop="headline" content="Sublime text started adding a &quot;.s&quot; to new files. Very annoying">
      <p><span>1 Like</span>
      </p>
      <hr>
  </div>
  <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
      <p><span>
          <a href="https://forum.sublimetext.com/u/OdatNurd"><b itemprop="author">OdatNurd</b></a>
          
            <time itemprop="datePublished" datetime="2024-09-20T17:52:38Z">
              September 20, 2024,  5:52pm
            </time>
        </span>
        <span itemprop="position">#2</span>
      </p>
      <div itemprop="articleBody">
        <p>Does that happen in <a href="https://www.sublimetext.com/docs/safe_mode.html" rel="nofollow noopener">Safe Mode</a>?</p>
      </div>
      <meta itemprop="interactionCount" content="UserLikes:0">
      <meta itemprop="interactionCount" content="UserComments:0">
      <meta itemprop="headline" content="Sublime text started adding a &quot;.s&quot; to new files. Very annoying">
      <p><span>0 Likes</span>
      </p>
      <hr>
  </div>
  <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
      <p><span>
          <a href="https://forum.sublimetext.com/u/deathaxe"><b itemprop="author">deathaxe</b></a>
          
            <time itemprop="datePublished" datetime="2024-09-20T18:03:18Z">
              September 20, 2024,  6:03pm
            </time>
        </span>
        <span itemprop="position">#3</span>
      </p>
      <p>Maybe check, whether <code>"default_extension"</code> setting. If specified all new files would use its value as file extension.</p>
      <meta itemprop="interactionCount" content="UserLikes:0">
      <meta itemprop="interactionCount" content="UserComments:0">
      <meta itemprop="headline" content="Sublime text started adding a &quot;.s&quot; to new files. Very annoying">
      <p><span>0 Likes</span>
      </p>
      <hr>
  </div>
  <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
      <p><span>
          <a href="https://forum.sublimetext.com/u/breck7"><b itemprop="author">breck7</b></a>
          
            <time itemprop="datePublished" datetime="2024-09-20T18:47:25Z">
              September 20, 2024,  6:47pm
            </time>
        </span>
        <span itemprop="position">#4</span>
      </p>
      <p><a href="https://forum.sublimetext.com/u/odatnurd">@OdatNurd</a> I just tried SafeMode. Still happens.</p>
      <meta itemprop="interactionCount" content="UserLikes:0">
      <meta itemprop="interactionCount" content="UserComments:0">
      <meta itemprop="headline" content="Sublime text started adding a &quot;.s&quot; to new files. Very annoying">
      <p><span>0 Likes</span>
      </p>
      <hr>
  </div>
  <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
      <p><span>
          <a href="https://forum.sublimetext.com/u/breck7"><b itemprop="author">breck7</b></a>
          
            <time itemprop="datePublished" datetime="2024-09-20T18:49:36Z">
              September 20, 2024,  6:49pm
            </time>
        </span>
        <span itemprop="position">#5</span>
      </p>
      <div itemprop="articleBody">
        <p><a href="https://forum.sublimetext.com/u/deathaxe">@deathaxe</a> I tried that, didn’t do anything.</p>
<p>So if I create a file called “a”, it saves as “a” normally. If I create a file called “a.scroll” it saves as “a.scroll.s”</p>
      </div>
      <meta itemprop="interactionCount" content="UserLikes:0">
      <meta itemprop="interactionCount" content="UserComments:1">
      <meta itemprop="headline" content="Sublime text started adding a &quot;.s&quot; to new files. Very annoying">
      <p><span>0 Likes</span>
      </p>
      <hr>
  </div>
  <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
      <p><span>
          <a href="https://forum.sublimetext.com/u/bschaaf"><b itemprop="author">bschaaf</b></a>
          
            <time itemprop="datePublished" datetime="2024-09-21T02:44:52Z">
              September 21, 2024,  2:44am
            </time>
        </span>
        <span itemprop="position">#6</span>
      </p>
      <p>Going off <a href="https://github.com/zed-industries/zed/issues/16969" rel="nofollow noopener">https://github.com/zed-industries/zed/issues/16969</a> it’s a “feature” Apple added that auto-corrects file extensions. Since this is a native dialog and affects all applications I don’t think there’s anything we can do here.</p>
      <meta itemprop="interactionCount" content="UserLikes:2">
      <meta itemprop="interactionCount" content="UserComments:0">
      <meta itemprop="headline" content="Sublime text started adding a &quot;.s&quot; to new files. Very annoying">
      <p><span>2 Likes</span>
      </p>
      <hr>
  </div>
  <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
      <p><span>
          <a href="https://forum.sublimetext.com/u/breck7"><b itemprop="author">breck7</b></a>
          
            <time itemprop="datePublished" datetime="2024-09-22T17:29:02Z">
              September 22, 2024,  5:29pm
            </time>
        </span>
        <span itemprop="position">#7</span>
      </p>
      <p>Wow. Crazy. Thanks <a href="https://forum.sublimetext.com/u/bschaaf">@bschaaf</a> for looking into this! I’ll try to escalate to Apple and get this fixed fast.</p>
      <meta itemprop="interactionCount" content="UserLikes:1">
      <meta itemprop="interactionCount" content="UserComments:0">
      <meta itemprop="headline" content="Sublime text started adding a &quot;.s&quot; to new files. Very annoying">
      <p><span>1 Like</span>
      </p>
      <hr>
  </div>
  <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
      
      <div itemprop="articleBody">
        <p>Landed here via <a href="https://news.ycombinator.com/item?id=41618926" rel="nofollow noopener">https://news.ycombinator.com/item?id=41618926</a></p>
<p>Just to add, I’m seeing the exact same thing but had not gotten around to submitting any bug reports.</p>
<p>But it’s reproducible in ST and VSC.</p>
<p>If I create a new file called ‘foo.html.haml’, the system will append .h to the file!</p>
<p>Why on earth would Apple add a ‘feature’ like this!</p>
      </div>
      <meta itemprop="interactionCount" content="UserLikes:1">
      <meta itemprop="interactionCount" content="UserComments:0">
      <meta itemprop="headline" content="Sublime text started adding a &quot;.s&quot; to new files. Very annoying">
      <p><span>1 Like</span>
      </p>
      <hr>
  </div>






    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[It's probably time to rethink "Building in public" (134 pts)]]></title>
            <link>https://laike9m.com/blog/no-one-builds-in-public,160/</link>
            <guid>41618505</guid>
            <pubDate>Sun, 22 Sep 2024 17:30:55 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://laike9m.com/blog/no-one-builds-in-public,160/">https://laike9m.com/blog/no-one-builds-in-public,160/</a>, See on <a href="https://news.ycombinator.com/item?id=41618505">Hacker News</a></p>
Couldn't get https://laike9m.com/blog/no-one-builds-in-public,160/: Error: timeout of 10000ms exceeded]]></description>
        </item>
        <item>
            <title><![CDATA['I Don't Want to Die.' He needed mental health care. He found a ghost network (191 pts)]]></title>
            <link>https://www.npr.org/sections/shots-health-news/2024/09/21/nx-s1-5120543/mental-health-care-parity-insurance-ghost-network</link>
            <guid>41617663</guid>
            <pubDate>Sun, 22 Sep 2024 15:21:17 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.npr.org/sections/shots-health-news/2024/09/21/nx-s1-5120543/mental-health-care-parity-insurance-ghost-network">https://www.npr.org/sections/shots-health-news/2024/09/21/nx-s1-5120543/mental-health-care-parity-insurance-ghost-network</a>, See on <a href="https://news.ycombinator.com/item?id=41617663">Hacker News</a></p>
Couldn't get https://www.npr.org/sections/shots-health-news/2024/09/21/nx-s1-5120543/mental-health-care-parity-insurance-ghost-network: Error: timeout of 10000ms exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[Hy 1.0.0, the Lisp dialect for Python, has been released (312 pts)]]></title>
            <link>https://github.com/hylang/hy/discussions/2608</link>
            <guid>41617431</guid>
            <pubDate>Sun, 22 Sep 2024 14:43:02 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/hylang/hy/discussions/2608">https://github.com/hylang/hy/discussions/2608</a>, See on <a href="https://news.ycombinator.com/item?id=41617431">Hacker News</a></p>
<div id="readability-page-1" class="page"><div role="presentation" data-paste-markdown-skip="">
    <tbody data-target-translation-id="7217461" data-target-translation-type="discussion">
        <tr>
    <td>
        <p dir="auto">I'm pleased to announce the release of Hy 1.0.0, after nearly 12 years of on-and-off development and lots of real-world use. Hy is a Lisp dialect embedded in Python. See <a href="http://hylang.org/" rel="nofollow">Hylang.org</a> for an introduction and documentation, <a href="https://github.com/hylang/hy/blob/master/NEWS.rst">the NEWS file</a> for a version history, and <a href="https://github.com/hylang/hy/discussions/2609">the HYPE POST</a> for something a little less serious.</p>
<p dir="auto">Henceforth, breaking changes to documented parts of the language (other than dropping support for versions of Python that are themselves no longer supported by the CPython developers) will increase the major version number, and my intention is for that not to happen often, if at all. My focus will be on fixing new bugs as they arise, adding compatibility with new versions of Python, and adding support for whatever new features are added to Python in a fashion that won't break code that works on previous versions of Hy 1.x.y.</p>
    </td>
  </tr>

    </tbody>
  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Rawdrawandroid – Build Android apps without any Java, in C and Make (143 pts)]]></title>
            <link>https://github.com/cnlohr/rawdrawandroid</link>
            <guid>41617021</guid>
            <pubDate>Sun, 22 Sep 2024 13:43:21 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/cnlohr/rawdrawandroid">https://github.com/cnlohr/rawdrawandroid</a>, See on <a href="https://news.ycombinator.com/item?id=41617021">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><a href="https://github.com/dreua/rawdrawandroid/actions/workflows/install.yml"><img src="https://github.com/cnlohr/rawdrawandroid/actions/workflows/install.yml/badge.svg" alt="rawdrawandroid"></a></p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Update: Works with OpenXR <a href="https://github.com/cnlohr/tsopenxr/tree/master/meta_quest">on Meta Quest</a>!</h3><a id="user-content-update-works-with-openxr-on-meta-quest" aria-label="Permalink: Update: Works with OpenXR on Meta Quest!" href="#update-works-with-openxr-on-meta-quest"></a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Table of Contents</h2><a id="user-content-table-of-contents" aria-label="Permalink: Table of Contents" href="#table-of-contents"></a></p>
<ul dir="auto">
<li><a href="#rawdrawandroid">rawdrawandroid</a></li>
<li><a href="#why">why?</a></li>
<li><a href="#development-environment">Development Environment</a>
<ul dir="auto">
<li><a href="#linux-install-android-studio-with-ndk">Linux install Android Studio with NDK.</a></li>
<li><a href="#steps-for-gui-less-install-windows-wsl">Steps for GUI-less install (Windows, WSL)</a>
<ul dir="auto">
<li><a href="#extra-note-for-actually-deploying-to-device-in-windows">Extra note for actually deploying to device in Windows</a></li>
<li><a href="#rest-of-steps">Rest of steps</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#if-you-are-going-to-use-this">If you are going to use this</a></li>
<li><a href="#helper-functions">Helper functions</a></li>
<li><a href="#departures-from-regular-rawdraw">Departures from regular rawdraw.</a></li>
<li><a href="#google-play">Google Play</a>
<ul dir="auto">
<li><a href="#part-0-changes-to-your-app">Part 0: Changes to your app.</a></li>
<li><a href="#keys--you-will-want-a-key-for-yourself-thats-a-real-key--not-the-fake-one">Keys: You will want a key for yourself that's a real key. Not the fake one.</a></li>
<li>Let Google create and manage my app signing key (recommended)</li>
<li><a href="#export-and-upload-a-key-and-certificate-from-a-java-keystore">Export and upload a key and certificate from a Java keystore</a></li>
<li><a href="#prepping-your-app-for-upload">Prepping your app for upload.</a></li>
<li><a href="#pre-sdk-32-tools">Pre-SDK-32-Tools</a></li>
</ul>
</li>
<li><a href="#todo">TODO</a></li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">rawdrawandroid</h2><a id="user-content-rawdrawandroid" aria-label="Permalink: rawdrawandroid" href="#rawdrawandroid"></a></p>
<p dir="auto">Ever wanted to write C code and run it on Android?  Sick of multi-megabyte
packages just to do the most basic of things.  Well, this is a demo of how
to make your own APKs and build, install and automatically run them in about
2 seconds, and with an apk size of about 25kB (with API 26).  API 30 (Android R+)
is unfortunately at 45kB to support ARM64 + ARM32.</p>
<p dir="auto">With this framework you get a demo which has:</p>
<ul dir="auto">
<li>To make a window with OpenGL ES support</li>
<li>Accelerometer/gyro input, multi-touch</li>
<li>An android keyboard for key input</li>
<li>Ability to store asset files in your APK and read them with <code>AAssetManager</code></li>
<li>Permissions support for using things like sound. Example in <a href="https://github.com/cnlohr/cnfa">https://github.com/cnlohr/cnfa</a> / <a href="https://github.com/cntools/cnfa/blob/d271e0196d81412032eeffa634a94a1aaf0060a7/CNFA_android.c#L305">https://github.com/cntools/cnfa/blob/d271e0196d81412032eeffa634a94a1aaf0060a7/CNFA_android.c#L305</a></li>
<li>Directly access USB devices.  Example in <a href="https://github.com/cnlohr/androidusbtest">https://github.com/cnlohr/androidusbtest</a></li>
</ul>
<p dir="auto"><a href="http://www.youtube.com/watch?v=Cz_LvaN36Ag" rel="nofollow"><img src="https://camo.githubusercontent.com/54f7dbce64ccfcbd22155f1bca0f5fee2f1da05d2f40bb705cae1cb1a67c823b/687474703a2f2f696d672e796f75747562652e636f6d2f76692f437a5f4c76614e333641672f302e6a7067" alt="Youtube Video" data-canonical-src="http://img.youtube.com/vi/Cz_LvaN36Ag/0.jpg"></a></p>
<p dir="auto">DISCLAIMER: I take no warranty or responsibility for this code.  Use at your own risk.  I've never released an app on the app store, so there may be some fundamental issue with using this toolset to make commercial apps!</p>
<p dir="auto">For support, we have a Discord, but it is not public at the moment, feel free to reach out to @cnlohr on Discord, with a short message as to why you'd like to join, and he can send you an invite!</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Why?</h2><a id="user-content-why" aria-label="Permalink: Why?" href="#why"></a></p>
<p dir="auto">Because sometimes you want to do things that don't fit into the normal way of doing it and all the discussions online revolve around doing it with all the normal processes.  And those processes change, making it difficult to keep up and do specific things.  By using <code>Makefile</code>s it's easy to see what exact commands are executed and add custom rules and tweak your build.  C is a universal language.  Rawdraw operates on everything from an ESP8266, to RaspberryPi, Windows Linux and now, even Android.  Write code once, use it everywhere.</p>
<p dir="auto">When you don't fill your build process with hills of beans, you end up being left with the parts that are important, and not the frivilous parts. This makes it easier to develop, deploy, etc, because everything takes much less time.</p>
<p dir="auto">A little bit of this also has to do to stick it to all those Luddites on the internet who post "that's impossible" or "you're doing it wrong" to Stack Overflow questions... Requesting permissions in the JNI "oh you <strong>have</strong> to do that in Java" or other dumb stuff like that.  I am completely uninterested in your opinions of what is or is not possible.  This is computer science.  There aren't restrictions.  I can do anything I want.  It's just bits.  You don't own me.</p>
<p dir="auto">P.S. If you want a bunch of examples of how to do a ton of things in C on Android that you "need" java for, scroll to the bottom of this file: <a href="https://github.com/cntools/rawdraw/blob/master/CNFGEGLDriver.c">https://github.com/cntools/rawdraw/blob/master/CNFGEGLDriver.c</a> - it shows how to use the JNI to marshall a ton of stuff to/from the Android API without needing to jump back into Java/Kotlin land.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Development Environment</h2><a id="user-content-development-environment" aria-label="Permalink: Development Environment" href="#development-environment"></a></p>
<p dir="auto">Most of the testing was done on Linux, however @AEFeinstein has done at least cursory testing in Windows.  You still need some components of Android studio set up to use this, so it's generally easier to just install Android studio completely, but there are instructions on sort of how to do it piecemeal for Windows.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Linux install Android Studio with NDK.</h2><a id="user-content-linux-install-android-studio-with-ndk" aria-label="Permalink: Linux install Android Studio with NDK." href="#linux-install-android-studio-with-ndk"></a></p>
<p dir="auto">This set of steps describes how to install Android Studio with NDK support in Linux.  It uses the graphical installer and installs a lot more stuff than the instructions below.  You may be able to mix-and-match these two sets of instructions.  For instance if you are on Linux but don't want to sacrifice 6 GB of disk to the Googs.</p>
<p dir="auto"><strong>NOTE</strong> You probably should use the WSL instructions instead of these instructions as it will produc a more lean installation.</p>
<ol dir="auto">
<li>Install prerequisites:</li>
</ol>
<div data-snippet-clipboard-copy-content="sudo apt install openjdk-11-jdk-headless adb"><pre><code>sudo apt install openjdk-11-jdk-headless adb
</code></pre></div>
<ol start="2" dir="auto">
<li>Download Android Studio: <a href="https://developer.android.com/studio" rel="nofollow">https://developer.android.com/studio</a></li>
<li>Start 'studio.sh' in android-studio/bin</li>
<li>Let it install the SDK.</li>
<li>Go to sdkmanager ("Configure" button in bottom right)</li>
<li>Probably want to use Android 24, so select that from the list.</li>
<li>Select "SDK Tools" -&gt; "NDK (Side-by-side)"</li>
<li>Download this repo</li>
</ol>
<div data-snippet-clipboard-copy-content="git clone https://github.com/cnlohr/rawdrawandroid --recurse-submodules
cd rawdrawandroid"><pre><code>git clone https://github.com/cnlohr/rawdrawandroid --recurse-submodules
cd rawdrawandroid
</code></pre></div>
<ol start="9" dir="auto">
<li>Turn on developer mode on your phone (will vary depending on android version)</li>
<li>Make your own key</li>
</ol>

<ol start="11" dir="auto">
<li>Go into developer options on your phone and enable "USB debugging" make sure to select always allow.</li>
<li>Plug your phone into the computer.</li>
<li>Run your program.</li>
</ol>

<p dir="auto"><h2 tabindex="-1" dir="auto">Steps for GUI-less install (Windows, WSL)</h2><a id="user-content-steps-for-gui-less-install-windows-wsl" aria-label="Permalink: Steps for GUI-less install (Windows, WSL)" href="#steps-for-gui-less-install-windows-wsl"></a></p>
<p dir="auto">If you're developing in Windows Subsystem for Linux (WSL), follow the "Steps for GUI-less install" to install the Android components from the command line, without any GUI components.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Extra note for actually deploying to device in Windows</h3><a id="user-content-extra-note-for-actually-deploying-to-device-in-windows" aria-label="Permalink: Extra note for actually deploying to device in Windows" href="#extra-note-for-actually-deploying-to-device-in-windows"></a></p>
<p dir="auto">In order to push the APK to your phone, you need <code>adb</code> installed in Windows as well.  You can do that by getting the full Android Studio from <a href="https://developer.android.com/studio#downloads" rel="nofollow">https://developer.android.com/studio#downloads</a> or directly <a href="https://dl.google.com/android/repository/platform-tools_r24.0.4-windows.zip" rel="nofollow">https://dl.google.com/android/repository/platform-tools_r24.0.4-windows.zip</a>. Installing the full Android Studio is easier, but you can also get the "Command line tools only" and install <code>adb</code> from there.  The steps below outline how to do this with the direct link.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Rest of steps</h3><a id="user-content-rest-of-steps" aria-label="Permalink: Rest of steps" href="#rest-of-steps"></a></p>
<ol dir="auto">
<li>
<p dir="auto">Install Windows Subsystem for Linux (WSL).  You can find instructions here: <a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10" rel="nofollow">https://docs.microsoft.com/en-us/windows/wsl/install-win10</a> - we use "Ubuntu" for this.</p>
</li>
<li>
<p dir="auto">Install prerequisites:</p>
</li>
</ol>
<div data-snippet-clipboard-copy-content="sudo apt install openjdk-17-jdk-headless adb unzip zip"><pre><code>sudo apt install openjdk-17-jdk-headless adb unzip zip
</code></pre></div>
<ol start="2" dir="auto">
<li>Download "Command line tools only": <a href="https://developer.android.com/studio#downloads" rel="nofollow">https://developer.android.com/studio#downloads</a> - you can get a URL and use <code>wget</code> in WSL to download the tools by clicking on the <strong>"Linux"</strong> toolset, then right-clicking on the accept link and saying copy link to location.  Then you can say <code>wget &lt;link&gt;</code> in WSL.</li>
<li>Create a folder for the Android SDK and export it. You may want to add that export to your <code>~/.bashrc</code>:</li>
</ol>
<div data-snippet-clipboard-copy-content="mkdir ~/android-sdk
export ANDROID_HOME=~/android-sdk
printf &quot;\nexport ANDROID_HOME=~/android-sdk\n&quot; >> ~/.bashrc"><pre><code>mkdir ~/android-sdk
export ANDROID_HOME=~/android-sdk
printf "\nexport ANDROID_HOME=~/android-sdk\n" &gt;&gt; ~/.bashrc
</code></pre></div>
<ol start="4" dir="auto">
<li>Unzip the "Command line tools only" file so that <code>tools</code> is in your brand new <code>android-sdk</code> folder.</li>
<li>Install the SDK and NDK components:</li>
</ol>
<p dir="auto">For earler versions of tools see note for pre-SDK-32-Tools.</p>
<p dir="auto">If your platform command-line tools are <strong>30</strong>, the command-line tools will be placed in the cmdline-tools folder. So, you will need to execute the following:</p>
<div data-snippet-clipboard-copy-content="yes | $ANDROID_HOME/cmdline-tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} --licenses
$ANDROID_HOME/cmdline-tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} &quot;build-tools;30.0.2&quot; &quot;cmake;3.10.2.4988404&quot; &quot;ndk;21.3.6528147&quot; &quot;platform-tools&quot; &quot;platforms;android-30&quot; &quot;tools&quot;"><pre><code>yes | $ANDROID_HOME/cmdline-tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} --licenses
$ANDROID_HOME/cmdline-tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} "build-tools;30.0.2" "cmake;3.10.2.4988404" "ndk;21.3.6528147" "platform-tools" "platforms;android-30" "tools"
</code></pre></div>
<p dir="auto">If you want to target Android 34 (not recommended in 2024, for device compatibility, you will need to execute the following):</p>
<div data-snippet-clipboard-copy-content="yes | $ANDROID_HOME/cmdline-tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} --licenses
$ANDROID_HOME/cmdline-tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} &quot;build-tools;34.0.0&quot; &quot;ndk;26.2.11394342&quot; &quot;platform-tools&quot; &quot;platforms;android-34&quot; &quot;tools&quot; &quot;cmake;3.10.2.4988404&quot;"><pre><code>yes | $ANDROID_HOME/cmdline-tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} --licenses
$ANDROID_HOME/cmdline-tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} "build-tools;34.0.0" "ndk;26.2.11394342" "platform-tools" "platforms;android-34" "tools" "cmake;3.10.2.4988404"
</code></pre></div>
<p dir="auto"><strong>NOTE</strong> If you are upgrading NDK versions, you may need to remove old versions, this Makefile does not necessarily do the best job at auto-selecting NDK versions.</p>
<p dir="auto">You can see all avialable versions of software with this command:</p>
<div data-snippet-clipboard-copy-content="$ANDROID_HOME/cmdline-tools/bin/sdkmanager --list --sdk_root=${ANDROID_HOME}"><pre><code>$ANDROID_HOME/cmdline-tools/bin/sdkmanager --list --sdk_root=${ANDROID_HOME}
</code></pre></div>
<ol start="6" dir="auto">
<li>Install the Windows ADB toolset.</li>
</ol>
<div data-snippet-clipboard-copy-content="mkdir -p $ANDROID_HOME/windows
cd $ANDROID_HOME/windows
wget https://dl.google.com/android/repository/platform-tools_r24.0.4-windows.zip
unzip platform-tools_r24.0.4-windows.zip
export ADB=$ANDROID_HOME/windows/platform-tools/adb.exe
printf &quot;\nexport ADB=$ANDROID_HOME/windows/platform-tools/adb.exe\n&quot; >> ~/.bashrc"><pre><code>mkdir -p $ANDROID_HOME/windows
cd $ANDROID_HOME/windows
wget https://dl.google.com/android/repository/platform-tools_r24.0.4-windows.zip
unzip platform-tools_r24.0.4-windows.zip
export ADB=$ANDROID_HOME/windows/platform-tools/adb.exe
printf "\nexport ADB=$ANDROID_HOME/windows/platform-tools/adb.exe\n" &gt;&gt; ~/.bashrc
</code></pre></div>
<p dir="auto">Alternatively, you may want to use <a href="https://dl.google.com/android/repository/platform-tools_r30.0.5-windows.zip" rel="nofollow">https://dl.google.com/android/repository/platform-tools_r30.0.5-windows.zip</a> for r30.</p>
<ol start="6" dir="auto">
<li>NOTE: because of updates to environment variables, you may want to close and re-open your WSL terminal.</li>
<li>Download this repo</li>
</ol>
<div data-snippet-clipboard-copy-content="git clone https://github.com/cnlohr/rawdrawandroid --recurse-submodules
cd rawdrawandroid"><pre><code>git clone https://github.com/cnlohr/rawdrawandroid --recurse-submodules
cd rawdrawandroid
</code></pre></div>
<ol start="8" dir="auto">
<li>Turn on developer mode on your phone (will vary depending on android version)</li>
<li>Go into developer options on your phone and enable "USB debugging" make sure to select always allow.</li>
<li>Plug your phone into the computer.</li>
<li>Make your keystore.</li>
</ol>

<ol start="12" dir="auto">
<li>Compile and run your program.</li>
</ol>

<p dir="auto"><h2 tabindex="-1" dir="auto">If you are going to use this</h2><a id="user-content-if-you-are-going-to-use-this" aria-label="Permalink: If you are going to use this" href="#if-you-are-going-to-use-this"></a></p>
<ul dir="auto">
<li>
<p dir="auto">Check out the example here: <a href="https://github.com/cnlohr/rawdrawandroidexample">https://github.com/cnlohr/rawdrawandroidexample</a></p>
</li>
<li>
<p dir="auto">You may want to copy-and-paste this project, but, you could probably use it as a submodule.  You may also want to copy-and-paste the submodule.</p>
</li>
<li>
<p dir="auto">You <em>MUST</em> override the app name.</p>
<ul dir="auto">
<li>See in Makefile <code>APPNAME</code> and <code>PACKAGENAME</code> you should be able to include this project's makefile and override that.</li>
<li>You must also update <code>AndroidManifest.xml</code> with whatever name and org you plan to use.</li>
<li>You will need to update: <code>package</code> in <code>&lt;manifest&gt;</code> to be your <code>PACKAGENAME</code> variable in Makefile.</li>
<li>Both <code>android:label</code> labels need to reflect your new app name.  They are in your <code>&lt;application&gt;</code> and <code>&lt;activity&gt;</code> sections.</li>
<li>Update the <code>android:value</code> field in <code>android.app.lib_name</code></li>
</ul>
</li>
<li>
<p dir="auto">If you are using permission you have to prompt for, you must both add it to your <code>AndroidManifest.xml</code> as well as check if you have it, and if not, prompt the user.  See helper functions below.  You can see an example of this with <code>sound_android.c</code> from ColorChord.  <a href="https://github.com/cnlohr/colorchord/blob/master/colorchord2/sound_android.c">https://github.com/cnlohr/colorchord/blob/master/colorchord2/sound_android.c</a></p>
</li>
<li>
<p dir="auto">Be sure to uninstall any previously installed apps which would look like this app, if you have a different build by the same name signed with another key, bad things will happen.</p>
</li>
<li>
<p dir="auto">You can see your log with:</p>
</li>
</ul>

<ul dir="auto">
<li>If your app opens and closes instantly, try seeing if there are any missing symbols:</li>
</ul>
<div data-snippet-clipboard-copy-content="adb logcat | grep UnsatisfiedLinkError"><pre><code>adb logcat | grep UnsatisfiedLinkError
</code></pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">Helper functions</h2><a id="user-content-helper-functions" aria-label="Permalink: Helper functions" href="#helper-functions"></a></p>
<p dir="auto">Because we are doing this entirelly in the NDK, with the JNI, we won't have the luxury of writing any Java/Kotlin code and calling it.  That means all of the examples online have to be heavily marshalled.  In rawdraw's EGL driver, we have many examples of how to do that.  That said, you can use the following functions which get you most of the way there.</p>
<p dir="auto"><code>struct android_app * gapp;</code></p>
<p dir="auto"><code>int AndroidHasPermissions(const char* perm_name);</code></p>
<p dir="auto"><code>void AndroidRequestAppPermissions(const char * perm);</code></p>
<p dir="auto"><code>void AndroidDisplayKeyboard(int pShow);</code></p>
<p dir="auto"><code>int AndroidGetUnicodeChar( int keyCode, int metaState );</code></p>
<p dir="auto"><code>int android_width, android_height;</code></p>
<p dir="auto"><code>extern int android_sdk_version; //Derived at start from property ro.build.version.sdk</code></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Departures from regular rawdraw.</h2><a id="user-content-departures-from-regular-rawdraw" aria-label="Permalink: Departures from regular rawdraw." href="#departures-from-regular-rawdraw"></a></p>
<p dir="auto">Also, above and beyond rawdraw, you <em>must</em> implement the following two functions to handle when your apps is suspended, resumed or has its window terminated.</p>
<p dir="auto"><code>void HandleResume();</code>
<code>void HandleSuspend();</code>
<code>void HandleWindowTermination();</code></p>
<p dir="auto">In addition to that, the syntax of <code>HandleMotion(...)</code> is different, in that instead of the <code>mask</code> variable being a mask, it is simply updating that specific pointer.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Google Play</h2><a id="user-content-google-play" aria-label="Permalink: Google Play" href="#google-play"></a></p>
<p dir="auto">As it turns out, Google somehow lets apps built with this onto the store.  Like ColorChord <a href="https://github.com/cnlohr/colorchord">https://github.com/cnlohr/colorchord</a>.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Part 0: Changes to your app.</h2><a id="user-content-part-0-changes-to-your-app" aria-label="Permalink: Part 0: Changes to your app." href="#part-0-changes-to-your-app"></a></p>
<ol dir="auto">
<li>Make sure you are using the newest SDK.</li>
<li>You will need to add a versionCode to your <code>AndroidManifest.xml</code>.  In your <code>AndroidManifest.xml</code>, add <code>android:versionCode="integer"</code> to the tag where "integer" is a version number.</li>
<li>In your <code>AndroidManifest.xml</code>, change <code>android:debuggable</code> to false.</li>
<li>You may want to support multiple platforms natively.  Add the following to your <code>Makefile</code>: <code>TARGETS:=makecapk/lib/arm64-v8a/lib$(APPNAME).so makecapk/lib/armeabi-v7a/lib$(APPNAME).so makecapk/lib/x86/lib$(APPNAME).so makecapk/lib/x86_64/lib$(APPNAME).so</code></li>
<li>You will need to specify target and Min SDK in your <code>AndroidManifest.xml</code>  See: <code>&lt;uses-sdk android:minSdkVersion="22" android:targetSdkVersion="28" /&gt;</code></li>
<li>Those target / min versions must match your Makefile.  Note that without a <code>minSdkVerson</code> google will wrongfully assume 1.  This is dangerous.  Be sure to test your app on a device with whichever minSdkVersion you've specified.</li>
<li>You will need to disable the debuggable flag in your app.  See <code>&lt;application android:debuggable="false" ...&gt;</code></li>
</ol>
<p dir="auto">Get a google play account.  Details surrounding app creation are outside the scope of this readme.  When getting ready to upload your APK.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Keys:  You will want a key for yourself that's a real key.  Not the fake one.</h2><a id="user-content-keys--you-will-want-a-key-for-yourself-thats-a-real-key--not-the-fake-one" aria-label="Permalink: Keys:  You will want a key for yourself that's a real key.  Not the fake one." href="#keys--you-will-want-a-key-for-yourself-thats-a-real-key--not-the-fake-one"></a></p>
<p dir="auto">First you will need to make a real key.  This can be accomplished by deleting our fake key <code>my-release-key.keystore</code> and executing the following command (being careful to fill <code>####</code> in with real info):</p>
<p dir="auto"><code>make keystore STOREPASS=#### DNAME="\"CN=####, OU=ID, O=####, L=####, S=####, C=####\"" ALIASNAME=####</code></p>
<p dir="auto">The alias name will be <code>standkey</code>. You will want to verify you can build your app with this key.  Be sure to fill in STOREPASS the same.</p>
<p dir="auto"><code>make clean run  STOREPASS=####</code></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Let Google create and manage my app signing key (recommended)</h2><a id="user-content-let-google-create-and-manage-my-app-signing-key-recommended" aria-label="Permalink: Let Google create and manage my app signing key (recommended)" href="#let-google-create-and-manage-my-app-signing-key-recommended"></a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Export and upload a key and certificate from a Java keystore</h2><a id="user-content-export-and-upload-a-key-and-certificate-from-a-java-keystore" aria-label="Permalink: Export and upload a key and certificate from a Java keystore" href="#export-and-upload-a-key-and-certificate-from-a-java-keystore"></a></p>
<p dir="auto">If you want to use the play store key with "Export and upload a key and certificate from a Java keystore" Instead of <code>Let Google create and manage my app signing key (recommended)</code> and follow PEKP instructions.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Prepping your app for upload.</h2><a id="user-content-prepping-your-app-for-upload" aria-label="Permalink: Prepping your app for upload." href="#prepping-your-app-for-upload"></a></p>
<p dir="auto">You MUST have aligned ZIPs for the Play store.  You must run the following command:</p>
<p dir="auto"><code>zipalign -c -v 8 makecapk.apk</code></p>
<p dir="auto">Upload your APK <code>makecapk.apk</code> made with your key.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Pre-SDK-32-Tools</h2><a id="user-content-pre-sdk-32-tools" aria-label="Permalink: Pre-SDK-32-Tools" href="#pre-sdk-32-tools"></a></p>
<p dir="auto">If you are using <strong>Android 29 or older</strong>, do this.</p>
<div data-snippet-clipboard-copy-content="yes | $ANDROID_HOME/tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} --licenses
$ANDROID_HOME/tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} &quot;build-tools;29.0.3&quot; &quot;cmake;3.10.2.4988404&quot; &quot;ndk;21.1.6352462&quot; &quot;patcher;v4&quot; &quot;platform-tools&quot; &quot;platforms;android-30&quot; &quot;tools&quot;"><pre><code>yes | $ANDROID_HOME/tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} --licenses
$ANDROID_HOME/tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} "build-tools;29.0.3" "cmake;3.10.2.4988404" "ndk;21.1.6352462" "patcher;v4" "platform-tools" "platforms;android-30" "tools"
</code></pre></div>
<p dir="auto">If your platform command-line tools are <strong>30</strong>, the command-line tools will be placed in the cmdline-tools folder. So, you will need to execute the following:</p>
<div data-snippet-clipboard-copy-content="yes | $ANDROID_HOME/cmdline-tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} --licenses
$ANDROID_HOME/cmdline-tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} &quot;build-tools;30.0.2&quot; &quot;cmake;3.10.2.4988404&quot; &quot;ndk;21.3.6528147&quot; &quot;patcher;v4&quot; &quot;platform-tools&quot; &quot;platforms;android-30&quot; &quot;tools&quot;"><pre><code>yes | $ANDROID_HOME/cmdline-tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} --licenses
$ANDROID_HOME/cmdline-tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} "build-tools;30.0.2" "cmake;3.10.2.4988404" "ndk;21.3.6528147" "patcher;v4" "platform-tools" "platforms;android-30" "tools"
</code></pre></div>
<p dir="auto">If your platform command-line tools are <strong>32</strong>, the command-line tools will be placed in the cmdline-tools folder. So, you will need to execute the following (This appears to be backwards compatbile to some degree with Android 30):</p>
<div data-snippet-clipboard-copy-content="yes | $ANDROID_HOME/cmdline-tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} --licenses
$ANDROID_HOME/cmdline-tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} &quot;build-tools;32.0.0&quot; &quot;cmake;3.22.1&quot; &quot;ndk;25.1.8937393&quot; &quot;platforms;android-32&quot; &quot;patcher;v4&quot; &quot;platform-tools&quot; &quot;tools&quot;"><pre><code>yes | $ANDROID_HOME/cmdline-tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} --licenses
$ANDROID_HOME/cmdline-tools/bin/sdkmanager --sdk_root=${ANDROID_HOME} "build-tools;32.0.0" "cmake;3.22.1" "ndk;25.1.8937393" "platforms;android-32" "patcher;v4" "platform-tools" "tools"
</code></pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">TODO</h2><a id="user-content-todo" aria-label="Permalink: TODO" href="#todo"></a></p>
<p dir="auto">Try a bunch of these cool priveleges, see what they all do.</p>
<ul dir="auto">
<li>permission.ACCESS</li>
<li>permission.INTERNET</li>
<li>permission.HIDE_NON_SYSTEM_OVERLAY_WINDOWS</li>
<li>permission.ACCESS_NETWORK_STATE</li>
<li>permission.WRITE_EXTERNAL_STORAGE</li>
<li>permission.READ_PHONE_STATE</li>
<li>permission.GET_TASKS</li>
<li>permission.REORDER_TASKS</li>
<li>permission.WRITE_APN_SETTINGS</li>
<li>permission.READ_SECURE_SETTINGS</li>
<li>permission.READ_SETTINGS</li>
<li>permission.REAL_GET_TASKS</li>
<li>permission.INTERACT_ACROSS_USERS</li>
<li>permission.MANAGE_USERS</li>
<li>permission.INSTALL_PACKAGES</li>
<li>permission.DELETE_PACKAGES</li>
<li>permission.INTERACT_ACROSS_USERS_FULL</li>
<li>permission.READ_MEDIA_STORAGE</li>
<li>permission.WRITE_MEDIA_STORAGE</li>
<li>android.permission.VR</li>
<li>android.permission.INSTALL_PACKAGES</li>
</ul>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Incredibly Ambitious SMB 3 Hack Released After 12 Years (105 pts)]]></title>
            <link>https://marioadventure3.com/</link>
            <guid>41616293</guid>
            <pubDate>Sun, 22 Sep 2024 11:20:46 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://marioadventure3.com/">https://marioadventure3.com/</a>, See on <a href="https://news.ycombinator.com/item?id=41616293">Hacker News</a></p>
Couldn't get https://marioadventure3.com/: Error: timeout of 10000ms exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[Nextcloud: Open-Source Cloud Apps (272 pts)]]></title>
            <link>https://nextcloud.com/</link>
            <guid>41615102</guid>
            <pubDate>Sun, 22 Sep 2024 06:50:21 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://nextcloud.com/">https://nextcloud.com/</a>, See on <a href="https://news.ycombinator.com/item?id=41615102">Hacker News</a></p>
Couldn't get https://nextcloud.com/: Error: timeout of 10000ms exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[One-time purchase alternatives to popular subscription tools (124 pts)]]></title>
            <link>https://payoncealternatives.com</link>
            <guid>41614926</guid>
            <pubDate>Sun, 22 Sep 2024 06:04:30 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://payoncealternatives.com">https://payoncealternatives.com</a>, See on <a href="https://news.ycombinator.com/item?id=41614926">Hacker News</a></p>
Couldn't get https://payoncealternatives.com: Error: timeout of 10000ms exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[It is hard to recommend Google Cloud (212 pts)]]></title>
            <link>https://ashishb.net/programming/google-cloud/</link>
            <guid>41614795</guid>
            <pubDate>Sun, 22 Sep 2024 05:21:28 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://ashishb.net/programming/google-cloud/">https://ashishb.net/programming/google-cloud/</a>, See on <a href="https://news.ycombinator.com/item?id=41614795">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><article><div><h2 id="google-domains">Google Domains</h2><p>A year back, I had to migrate my domain after Google decided to shut down Google Domains decided to <a href="https://blog.pragmaticengineer.com/google-domains-to-shut-down/">shut down</a>.
I had to, not only, painfully setup multiple side-projects sub-domain mappings again on a new domain registrar but also re-verify my domain and re-create those mappings on <a href="https://ashishb.net/tech/how-to-deploy-side-projects-as-web-services-for-free/">Google Cloud Run</a>.</p><h2 id="google-container-registry">Google Container Registry</h2><p>Google Container Registry is <a href="https://cloud.google.com/artifact-registry/docs/transition/prepare-gcr-shutdown">shutting down</a> in 2025.
It has been replaced with a new project called Artifact Registry.
So, why is Container Registry being shut down?
Probably because it 10X cheaper than Artifact Registry.</p><p>I just spent multiple hours migrating side-projects from GCR to GAR.
It wasn’t easy.
Some <a href="https://decksaver.ashishb.net/">projects</a> were deployed multiple years back and are working perfectly fine.
Some other are <a href="https://musicsync.ashishb.net/">single-page homepages</a>.</p><p>The two migrations have been laborious.
While Google Cloud has made me jump hoops, there has been little upside in doing these migrations.</p><h2 id="google-cloud---great-engineering-good-product-terrible-strategy">Google Cloud - great engineering, good product, terrible strategy</h2><p>I strongly believe Google Cloud is a superior product to both AWS and <a href="https://ashishb.net/programming/how-to-deploy-docker-images-on-microsoft-azure/">Microsoft Azure</a>.</p><p>The UX is much simpler.
The primitives are much nicer and evolved compared to AWS.
The reliability while not as high as AWS is pretty close.</p><p>However, the continuous churn that I have experienced has made it hard to recommend it.</p></div></article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Flappy Bird for Android, only C, under 100KB (295 pts)]]></title>
            <link>https://github.com/VadimBoev/FlappyBird</link>
            <guid>41614663</guid>
            <pubDate>Sun, 22 Sep 2024 04:39:37 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/VadimBoev/FlappyBird">https://github.com/VadimBoev/FlappyBird</a>, See on <a href="https://news.ycombinator.com/item?id=41614663">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/VadimBoev/FlappyBird/blob/master/flappy.gif"><img src="https://github.com/VadimBoev/FlappyBird/raw/master/flappy.gif" alt="game" width="250px" data-animated-image=""></a></p>
<p dir="auto"><strong><a href="https://github.com/VadimBoev/FlappyBird/blob/master/README_RU.md">Readme на русском языке</a></strong></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Flappy Bird, only C, without Java/Kotlin, weight APK (armeabi-v7a + arm64-v8a) &lt; 100 kilobytes</h2><a id="user-content-flappy-bird-only-c-without-javakotlin-weight-apk-armeabi-v7a--arm64-v8a--100-kilobytes" aria-label="Permalink: Flappy Bird, only C, without Java/Kotlin, weight APK (armeabi-v7a + arm64-v8a) < 100 kilobytes" href="#flappy-bird-only-c-without-javakotlin-weight-apk-armeabi-v7a--arm64-v8a--100-kilobytes"></a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">History:</h2><a id="user-content-history" aria-label="Permalink: History:" href="#history"></a></p>
<p dir="auto">It all started in 2021. Then I came across the <a href="https://github.com/cnlohr/rawdrawandroid">rawdrawandroid</a> repository.
There was a motivation to make some kind of game with the lowest possible APK weight, but at the same time, so that the game would be simple and understandable.<br>
At that moment, the idea came up to make a clone of the long-forgotten Flappy Bird game. Which has already been ported to many programming languages.<br>
Then, later in 2021, I found another interesting repository <a href="https://github.com/raysan5/raylib">Raylib</a>.<br>
But, the first attempt to make this game was in C++, using <a href="https://github.com/ocornut/imgui/">ImGui</a>, because I already knew him.<br>
And so, all the difficulties were presented in Android Native Activity and building a clean APK from apktool without Android Studio.<br>
The first attempt failed.<br>
Firstly, the weight of the APK was about 1 Megabyte.<br>
Secondly, there could be crashes of the game.<br>
Thirdly, there was only a library for armeabi-v7a inside the APK, and since 2022 Google's rules require the presence of arm64-v8a libraries.<br>
Fourthly, the structure of the project and its organization were terrible, it created a mess in the eyes and made it difficult to navigate the project normally.<br>
In general, I tried something, it didn't work out, the thought was stored in my head throughout this time, but no more attempts were made.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Motivation:</h2><a id="user-content-motivation" aria-label="Permalink: Motivation:" href="#motivation"></a></p>
<p dir="auto">Around September 14, 2024, in the Raylib discord channel, I saw a guy make a Flappy Bird in C#.<br>
Then it became very interesting to me to try a crazy idea, to make this game in C, for Android, with an APK weighing less than 100 Kilobytes.
The idea seemed crazy, as well as unsuccessful.<br>
Just imagine, today, when the weight of the APK reaches 500 Megabytes, you only need to keep less than 100 Kilobytes.
What are these frames for? It's a sporting interest, will it work out? It worked! But it wasn't easy at all.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Implementation:</h2><a id="user-content-implementation" aria-label="Permalink: Implementation:" href="#implementation"></a></p>
<p dir="auto">At first, I put together a solution that compiled Hello World in C, packaged the library into an APK, everything was signed and sent to my device via USB.<br>
As soon as everything was ready, I went on to explore the resources of the game. The sounds were in ogg format at first, I compressed them, but there were some problems, I don't remember this moment anymore.<br>
Then the sounds still became mp3 format, compressed at 16 (kilobytes per second) each, thereby reducing the weight as much as possible, and the sound quality remained tolerable.<br>
The first difficulty arose if I had previously used <a href="https://www.un4seen.com/" rel="nofollow">BASS</a> to play the sound, and it's heavy for my purpose, I had to study OpenSLES, which reads MP3 format without problems.<br>
Further, png images remain from the resources. There is no other way to use the format. Then it was necessary to find something easier than <a href="https://github.com/nothings/stb">stb_image</a>.<br>
So I came across <a href="https://github.com/elanthis/upng">upng</a>, which completely solved the issue of decoding png files for their further rendering.</p>
<p dir="auto">In general, everything is simpler than it seems.<br>
OpenGL ES 2 + shaders for rendering, OpenSLES for sounds, upng for decoding png format and of course Android Native Activity.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Build:</h2><a id="user-content-build" aria-label="Permalink: Build:" href="#build"></a></p>
<ul dir="auto">
<li>Download <a href="https://visualstudio.microsoft.com/" rel="nofollow">Visual Studio 2022</a></li>
<li>
<ul dir="auto">
<li>Open Visual Studio Installer</li>
</ul>
</li>
<li>
<ul dir="auto">
<li>Click "Edit"</li>
</ul>
</li>
<li>
<ul dir="auto">
<li>Check the following items: Development of classic applications in C++, Development of mobile applications in C++</li>
</ul>
</li>
<li>Download Android Studio (we need apktool, sdk, ndk from it)</li>
<li>
<ul dir="auto">
<li>Install NDK 25.2.9519653 (you can use the version above)</li>
</ul>
</li>
<li>In the project, the setting is made for "Debug ARM", but make changes to build.bat (look at the paths)</li>
<li>Compile via CTRL + B</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Copyright:</h2><a id="user-content-copyright" aria-label="Permalink: Copyright:" href="#copyright"></a></p>
<p dir="auto">I do not claim copyright. The right to this game and resources belongs to <strong>DotGEARS</strong>.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Inspiration:</h2><a id="user-content-inspiration" aria-label="Permalink: Inspiration:" href="#inspiration"></a></p>
<ul dir="auto">
<li><a href="https://github.com/cnlohr/rawdrawandroid">rawdrawandroid</a></li>
<li><a href="https://github.com/its-Lyn/Flapper">Flapper</a></li>
<li><a href="https://github.com/raysan5/raylib">Raylib</a></li>
<li><a href="https://github.com/ocornut/imgui/">ImGui</a></li>
</ul>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Cloudflare Is Breaking My SVGs? (146 pts)]]></title>
            <link>https://www.lloydatkinson.net/posts/2024/stupid-problems-require-stupid-solutions-cloudflare-is-breaking-my-svgs/</link>
            <guid>41614567</guid>
            <pubDate>Sun, 22 Sep 2024 04:11:47 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.lloydatkinson.net/posts/2024/stupid-problems-require-stupid-solutions-cloudflare-is-breaking-my-svgs/">https://www.lloydatkinson.net/posts/2024/stupid-problems-require-stupid-solutions-cloudflare-is-breaking-my-svgs/</a>, See on <a href="https://news.ycombinator.com/item?id=41614567">Hacker News</a></p>
Couldn't get https://www.lloydatkinson.net/posts/2024/stupid-problems-require-stupid-solutions-cloudflare-is-breaking-my-svgs/: Error: timeout of 10000ms exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[They stole my voice with AI (481 pts)]]></title>
            <link>https://www.jeffgeerling.com/blog/2024/they-stole-my-voice-ai</link>
            <guid>41614490</guid>
            <pubDate>Sun, 22 Sep 2024 03:49:10 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.jeffgeerling.com/blog/2024/they-stole-my-voice-ai">https://www.jeffgeerling.com/blog/2024/they-stole-my-voice-ai</a>, See on <a href="https://news.ycombinator.com/item?id=41614490">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>Listen to <a href="https://www.youtube.com/watch?v=WHfPH-Kr9XU">this clip</a>:</p>

<p>
<video controls="" playsinline="">
  <source src="https://www.jeffgeerling.com/sites/default/files/elecrow-clip-geerling-voice-ezgif.com-video-to-mp4-converter.mp4" type="video/mp4">
  Your browser does not support the video tag.
</video>
</p>

<p>I don't know about you, but that sounds <a href="https://www.youtube.com/watch?v=UMofZIT9FcQ">pretty familiar</a>. I mean I <em>would</em> like you to subscribe to my YouTube channel. But that's the <a href="https://www.youtube.com/c/JeffGeerling">Jeff Geerling channel</a>, not <a href="https://www.youtube.com/watch?v=WHfPH-Kr9XU">Elecrow</a>, where the clip above is from. I never said the words that are in that video.</p>

<p>Someone emailed me a link to Elecrow's video and said it sounded <em>off</em>. I'm guessing at least some of the thousands of people who watched the video thought I agreed to voice some Elecrow videos, since I talk about some of the same topics on my channel.</p>

<p>I even reviewed one of their products a few years ago, <a href="https://www.youtube.com/watch?v=mvDQWST8aFM">the CrowPi 2</a>. I didn't have a bad relationship with them in the past. They make electronics and even Raspberry Pi accessories.</p>

<blockquote>
  <p>There's also a <a href="https://www.youtube.com/watch?v=UMofZIT9FcQ">video version of this blog post</a>, if you don't enjoy reading, and wish to hear the clip embedded above in context, for a direct comparison with my natural voice.</p>
</blockquote>

<p>And I don't know if I can prove it, I mean how can you? But I'm <em>pretty</em> sure they fed my YouTube videos into some AI voice clone tool, then used my voice to narrate multiple series of promotional tutorials, like <a href="https://www.youtube.com/playlist?list=PLwh4PlcPx2Ge-h-Pfsa7juFeWMgXmv8lc">this one on ESP32</a>, and <a href="https://www.youtube.com/playlist?list=PLwh4PlcPx2GcEcWVavHI4dwXw_ETM-H8i">this one on RP2040</a>.</p>

<p>That's... not cool.</p>

<p>I remember when <a href="https://www.nbcnews.com/tech/tech-news/scarlett-johansson-shocked-angered-openai-voice-rcna153180">OpenAI practically cloned Scarlett Johanssen's voice</a>, but I thought the fallout from that would lead to companies being careful about the AI voices they use for things like product demos and tutorials...</p>

<p>Apparently not.</p>

<p>I haven't decided what to do. I mean, like I said, I haven't had a problem with Elecrow in the past. I'm hoping beyond all hope it was an honest mistake and they didn't even realize it was my voice.</p>

<p>But beyond that, the worse thing is there isn't any legal precedent for unauthorized AI voice cloning, at least not that I'm aware of. There <em>is</em> precedent for not using someone's voice in commercial works without their consent. Look up <a href="https://grr.com/publications/hey-thats-my-voice-can-i-sue-them/">Midler vs. Ford</a>.</p>

<p>I don't know if I want to do anything with lawyers, because that costs money and right now I'm just trying to keep my old Camry running through the end of the year. And I'm not even sure non-consensual voice cloning is against YouTube's Terms of Service.</p>

<p>But the main thing is, I want to make a point—that's why I'm writing this post:</p>

<p><em>You can't just steal someone's voice or likeness, and slap it on your products or videos.</em></p>

<p>You should hire a voiceover artist, or pay a content creator to work with you. A lot of brands actually do that! Just... don't steal my voice and use it to promote your product.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: PDF to MD by LLMs – Extract Text/Tables/Image Descriptives by GPT4o (160 pts)]]></title>
            <link>https://github.com/yigitkonur/swift-ocr-llm-powered-pdf-to-markdown</link>
            <guid>41614126</guid>
            <pubDate>Sun, 22 Sep 2024 02:05:38 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/yigitkonur/swift-ocr-llm-powered-pdf-to-markdown">https://github.com/yigitkonur/swift-ocr-llm-powered-pdf-to-markdown</a>, See on <a href="https://news.ycombinator.com/item?id=41614126">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><h2 tabindex="-1" dir="auto">Swift OCR: LLM Powered Fast OCR ⚡</h2><a id="user-content-swift-ocr-llm-powered-fast-ocr-" aria-label="Permalink: Swift OCR: LLM Powered Fast OCR ⚡" href="#swift-ocr-llm-powered-fast-ocr-"></a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">🌟 Features</h2><a id="user-content--features" aria-label="Permalink: 🌟 Features" href="#-features"></a></p>
<ul dir="auto">
<li><strong>Flexible Input Options</strong>: Accepts PDF files via direct upload or by specifying a URL.</li>
<li><strong>Advanced OCR Processing</strong>: Utilizes OpenAI's GPT-4 Turbo with Vision model for accurate text extraction.</li>
<li><strong>Performance Optimizations</strong>:
<ul dir="auto">
<li><strong>Parallel PDF Conversion</strong>: Converts PDF pages to images concurrently using multiprocessing.</li>
<li><strong>Batch Processing</strong>: Processes multiple images in batches to maximize throughput.</li>
<li><strong>Retry Mechanism with Exponential Backoff</strong>: Ensures resilience against transient failures and API rate limits.</li>
</ul>
</li>
<li><strong>Structured Output</strong>: Extracted text is formatted using Markdown for readability and consistency.</li>
<li><strong>Robust Error Handling</strong>: Comprehensive logging and exception handling for reliable operations.</li>
<li><strong>Scalable Architecture</strong>: Asynchronous processing enables handling multiple requests efficiently.</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">📹 Demo</h2><a id="user-content--demo" aria-label="Permalink: 📹 Demo" href="#-demo"></a></p>
<details open="">
  <summary>
    
    <span aria-label="Video description video.mp4">video.mp4</span>
    <span></span>
  </summary>

  <video src="https://private-user-images.githubusercontent.com/9989650/369657683-6b39f3ea-248e-4c29-ac2e-b57de64d5d65.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjcwMjI5MDMsIm5iZiI6MTcyNzAyMjYwMywicGF0aCI6Ii85OTg5NjUwLzM2OTY1NzY4My02YjM5ZjNlYS0yNDhlLTRjMjktYWMyZS1iNTdkZTY0ZDVkNjUubXA0P1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDkyMiUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA5MjJUMTYzMDAzWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9YTkzZmYxMzNmZmU5YzhiZTY5ODVjYTk5NDExMDFmMmU2ZTM4MWNkZWQwNDg3ZjUzN2Q2NDdlZjY3N2QwMjc5NyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.zC41o3MvYuSFPE9pdjwPZshSYgLT_Q4V1GBF0FbqBb8" data-canonical-src="https://private-user-images.githubusercontent.com/9989650/369657683-6b39f3ea-248e-4c29-ac2e-b57de64d5d65.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjcwMjI5MDMsIm5iZiI6MTcyNzAyMjYwMywicGF0aCI6Ii85OTg5NjUwLzM2OTY1NzY4My02YjM5ZjNlYS0yNDhlLTRjMjktYWMyZS1iNTdkZTY0ZDVkNjUubXA0P1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDkyMiUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA5MjJUMTYzMDAzWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9YTkzZmYxMzNmZmU5YzhiZTY5ODVjYTk5NDExMDFmMmU2ZTM4MWNkZWQwNDg3ZjUzN2Q2NDdlZjY3N2QwMjc5NyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.zC41o3MvYuSFPE9pdjwPZshSYgLT_Q4V1GBF0FbqBb8" controls="controls" muted="muted">

  </video>
</details>

<p dir="auto"><em>Demo video showcasing the conversion of NASA's Apollo 17 flight documents, which include unorganized, horizontally and vertically oriented pages, into well-structured Markdown format without any issues.</em></p>
<p dir="auto">Here's a single, comprehensive section on cost comparison for your README:</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Cost Comparison and Value Proposition</h2><a id="user-content-cost-comparison-and-value-proposition" aria-label="Permalink: Cost Comparison and Value Proposition" href="#cost-comparison-and-value-proposition"></a></p>
<p dir="auto">Our solution offers an optimal balance of affordability, accuracy, and advanced features:</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Cost Breakdown</h3><a id="user-content-cost-breakdown" aria-label="Permalink: Cost Breakdown" href="#cost-breakdown"></a></p>
<ul dir="auto">
<li>Average token usage per image: ~1200</li>
<li>Total tokens per page (including prompt): ~1500</li>
<li>[GPT4O] Input token cost: $5 per million tokens</li>
<li>[GPT4O] Output token cost: $15 per million tokens</li>
</ul>
<p dir="auto">For 1000 documents:</p>
<ul dir="auto">
<li>Estimated total cost: $15</li>
</ul>
<p dir="auto"><h4 tabindex="-1" dir="auto">Cost Optimization Options</h4><a id="user-content-cost-optimization-options" aria-label="Permalink: Cost Optimization Options" href="#cost-optimization-options"></a></p>
<ol dir="auto">
<li>Utilizing GPT4 mini: Reduces cost to ~$8 per 1000 documents</li>
<li>Implementing batch API: Further reduces cost to ~$4 per 1000 documents</li>
</ol>
<p dir="auto"><h4 tabindex="-1" dir="auto">Market Comparison</h4><a id="user-content-market-comparison" aria-label="Permalink: Market Comparison" href="#market-comparison"></a></p>
<p dir="auto">This solution is significantly more affordable than alternatives:</p>
<ul dir="auto">
<li>Our cost: $15 per 1000 documents</li>
<li>CloudConvert: ~$30 per 1000 documents (PDFTron mode, 4 credits required)</li>
</ul>
<p dir="auto">While cost-effectiveness is a major advantage, our solution also provides:</p>
<ul dir="auto">
<li>Superior accuracy and consistency</li>
<li>Precise table generation</li>
<li>Output in easily editable markdown format</li>
</ul>
<p dir="auto">This combination of affordability and advanced features makes solution stand out in the document processing market. It's not just about being cheaper; it's about providing excellent value through reliability, flexibility, and high-quality output.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">🛠️ Installation</h2><a id="user-content-️-installation" aria-label="Permalink: 🛠️ Installation" href="#️-installation"></a></p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Prerequisites</h3><a id="user-content-prerequisites" aria-label="Permalink: Prerequisites" href="#prerequisites"></a></p>
<ul dir="auto">
<li>Python 3.8+</li>
<li><a href="https://git-scm.com/" rel="nofollow">Git</a></li>
<li><a href="https://virtualenv.pypa.io/en/latest/" rel="nofollow">Virtualenv</a> (optional but recommended)</li>
</ul>
<p dir="auto"><h3 tabindex="-1" dir="auto">Steps</h3><a id="user-content-steps" aria-label="Permalink: Steps" href="#steps"></a></p>
<ol dir="auto">
<li>
<p dir="auto"><strong>Clone the Repository</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/yourusername/llm-openai-ocr.git
cd llm-openai-ocr"><pre>git clone https://github.com/yourusername/llm-openai-ocr.git
<span>cd</span> llm-openai-ocr</pre></div>
</li>
<li>
<p dir="auto"><strong>Create a Virtual Environment</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="python3 -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate"><pre>python3 -m venv venv
<span>source</span> venv/bin/activate  <span><span>#</span> On Windows: venv\Scripts\activate</span></pre></div>
</li>
<li>
<p dir="auto"><strong>Install Dependencies</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="pip install -r requirements.txt"><pre>pip install -r requirements.txt</pre></div>
</li>
<li>
<p dir="auto"><strong>Configure Environment Variables</strong></p>
<p dir="auto">Create a <code>.env</code> file in the root directory and add the following variables:</p>
<div dir="auto" data-snippet-clipboard-copy-content="OPENAI_API_KEY=your_openai_api_key
AZURE_OPENAI_ENDPOINT=your_azure_openai_endpoint
OPENAI_DEPLOYMENT_ID=your_openai_deployment_id
OPENAI_API_VERSION=your_openai_api_version  # Default is &quot;gpt-4o&quot;
BATCH_SIZE=10  # Optional: Default is 1
MAX_CONCURRENT_OCR_REQUESTS=5  # Optional: Default is 5
MAX_CONCURRENT_PDF_CONVERSION=4  # Optional: Default is 4"><pre><span>OPENAI_API_KEY</span><span>=</span><span>your_openai_api_key</span>
<span>AZURE_OPENAI_ENDPOINT</span><span>=</span><span>your_azure_openai_endpoint</span>
<span>OPENAI_DEPLOYMENT_ID</span><span>=</span><span>your_openai_deployment_id</span>
<span>OPENAI_API_VERSION</span><span>=</span><span>your_openai_api_version<span>  <span>#</span> Default is "gpt-4o"</span></span>
<span>BATCH_SIZE</span><span>=</span><span>10<span>  <span>#</span> Optional: Default is 1</span></span>
<span>MAX_CONCURRENT_OCR_REQUESTS</span><span>=</span><span>5<span>  <span>#</span> Optional: Default is 5</span></span>
<span>MAX_CONCURRENT_PDF_CONVERSION</span><span>=</span><span>4<span>  <span>#</span> Optional: Default is 4</span></span></pre></div>
<blockquote>
<p dir="auto"><strong>Note:</strong> Replace <code>your_openai_api_key</code>, <code>your_azure_openai_endpoint</code>, and <code>your_openai_deployment_id</code> with your actual OpenAI credentials.</p>
</blockquote>
</li>
<li>
<p dir="auto"><strong>Run the Application</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="uvicorn main:app --reload"><pre>uvicorn main:app --reload</pre></div>
<p dir="auto">The API will be available at <code>http://127.0.0.1:8000</code>.</p>
</li>
</ol>
<p dir="auto"><h2 tabindex="-1" dir="auto">🎯 Usage</h2><a id="user-content--usage" aria-label="Permalink: 🎯 Usage" href="#-usage"></a></p>
<p dir="auto"><h3 tabindex="-1" dir="auto">API Endpoint</h3><a id="user-content-api-endpoint" aria-label="Permalink: API Endpoint" href="#api-endpoint"></a></p>
<p dir="auto"><strong>POST</strong> <code>/ocr</code></p>
<p dir="auto"><h4 tabindex="-1" dir="auto">Request Parameters</h4><a id="user-content-request-parameters" aria-label="Permalink: Request Parameters" href="#request-parameters"></a></p>
<ul dir="auto">
<li><strong>file</strong>: (Optional) Upload a PDF file.</li>
<li><strong>ocr_request.url</strong>: (Optional) URL of the PDF to process.</li>
</ul>
<p dir="auto"><em>You must provide either a file or a URL, not both.</em></p>
<p dir="auto"><h4 tabindex="-1" dir="auto">Example Using <code>curl</code></h4><a id="user-content-example-using-curl" aria-label="Permalink: Example Using curl" href="#example-using-curl"></a></p>
<p dir="auto"><strong>Uploading a PDF File:</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="curl -X POST &quot;http://127.0.0.1:8000/ocr&quot; -F &quot;file=@/path/to/your/document.pdf&quot;"><pre>curl -X POST <span><span>"</span>http://127.0.0.1:8000/ocr<span>"</span></span> -F <span><span>"</span>file=@/path/to/your/document.pdf<span>"</span></span></pre></div>
<p dir="auto"><strong>Providing a PDF URL:</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="curl -X POST &quot;http://127.0.0.1:8000/ocr&quot; -F &quot;ocr_request={\&quot;url\&quot;: \&quot;https://example.com/document.pdf\&quot;}&quot; -H &quot;Content-Type: application/json&quot;"><pre>curl -X POST <span><span>"</span>http://127.0.0.1:8000/ocr<span>"</span></span> -F <span><span>"</span>ocr_request={<span>\"</span>url<span>\"</span>: <span>\"</span>https://example.com/document.pdf<span>\"</span>}<span>"</span></span> -H <span><span>"</span>Content-Type: application/json<span>"</span></span></pre></div>
<p dir="auto"><h4 tabindex="-1" dir="auto">Response</h4><a id="user-content-response" aria-label="Permalink: Response" href="#response"></a></p>
<ul dir="auto">
<li>
<p dir="auto"><strong>200 OK</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="{
  &quot;text&quot;: &quot;Extracted and formatted text from the PDF.&quot;
}"><pre>{
  <span>"text"</span>: <span><span>"</span>Extracted and formatted text from the PDF.<span>"</span></span>
}</pre></div>
</li>
<li>
<p dir="auto"><strong>Error Responses</strong></p>
<ul dir="auto">
<li><code>400 Bad Request</code>: Invalid input parameters.</li>
<li><code>422 Unprocessable Entity</code>: Validation errors.</li>
<li><code>500 Internal Server Error</code>: Processing errors.</li>
</ul>
</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">🧰 Configuration</h2><a id="user-content--configuration" aria-label="Permalink: 🧰 Configuration" href="#-configuration"></a></p>
<p dir="auto">All configurations are managed via environment variables. Ensure you have a <code>.env</code> file set up with the necessary variables as described in the <a href="#installation">Installation</a> section.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Key Configuration Variables</h3><a id="user-content-key-configuration-variables" aria-label="Permalink: Key Configuration Variables" href="#key-configuration-variables"></a></p>
<ul dir="auto">
<li><strong>OPENAI_API_KEY</strong>: Your OpenAI API key.</li>
<li><strong>AZURE_OPENAI_ENDPOINT</strong>: The endpoint for Azure OpenAI service.</li>
<li><strong>OPENAI_DEPLOYMENT_ID</strong>: Deployment ID for the OpenAI model.</li>
<li><strong>OPENAI_API_VERSION</strong>: API version for OpenAI (default: "gpt-4o").</li>
<li><strong>BATCH_SIZE</strong>: Number of images to process per OCR request (default: 1).</li>
<li><strong>MAX_CONCURRENT_OCR_REQUESTS</strong>: Maximum number of concurrent OCR requests (default: 5).</li>
<li><strong>MAX_CONCURRENT_PDF_CONVERSION</strong>: Maximum number of concurrent PDF page conversions (default: 4).</li>
</ul>
</article></div></div>]]></description>
        </item>
    </channel>
</rss>