<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Tue, 04 Jul 2023 17:00:05 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Sao Paulo: A city with no outdoor advertisements (2013) (249 pts)]]></title>
            <link>https://www.amusingplanet.com/2013/07/sao-paulo-city-with-no-outdoor.html</link>
            <guid>36586632</guid>
            <pubDate>Tue, 04 Jul 2023 13:50:02 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.amusingplanet.com/2013/07/sao-paulo-city-with-no-outdoor.html">https://www.amusingplanet.com/2013/07/sao-paulo-city-with-no-outdoor.html</a>, See on <a href="https://news.ycombinator.com/item?id=36586632">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-version="2" id="Blog1">
<article data-postid="2347375719013220143">

<div id="post-body-2347375719013220143"><p>In September 2006, the mayor of São Paulo passed the so-called “Clean City Law" that outlawed the use of all outdoor advertisements, including on billboards, transit, and in front of stores. Within a year, 15,000 billboards were taken down and store signs had to be shrunk so as not to violate the new law. Outdoor video screens and ads on buses were stripped. Even pamphleteering in public spaces has been made illegal. Nearly $8 million in fines were issued to cleanse São Paulo of the blight on its landscape. Seven years on, the world's fourth-largest metropolis and South America’s most important city remains free of visual clutter and eye sore that plagues the majority of cities around the world.</p>  <p>When the law was passed, it triggered wild alarm among city businesses and advertisement groups. Critics worried that the advertising ban would entail a revenue loss of $133 million and 20,000 people would lose jobs. Others predicted that the city would look like a bland concrete jungle with the ads removed. </p>  <p><img title="sao-paulo-billboard-ban-2" alt="sao-paulo-billboard-ban-2" src="https://lh3.ggpht.com/-TYoPCASlqVo/UepisNtsvEI/AAAAAAAAqhk/elNkMuvwKDY/sao-paulo-billboard-ban-26.jpg?imgmax=800" width="790" height="526"></p>  <p><a href="http://www.flickr.com/photos/ndecam/6155859365/" rel="nofollow">Photo credit</a></p><p>"I think this city is going to become a sadder, duller place,” said Dalton Silvanom, the lone councilman to vote against the law, and who (unsurprisingly) is in the advertising business. “Advertising is both an art form and, when you're in your car or alone on foot, a form of entertainment that helps relieve solitude and boredom," Silvanom added.</p>  <p>Despite the forebodings, São Paulo’s economy didn’t run aground although the city did look alien and war-torn for a few months following the tear down. The breakneck speed at which the law was enacted caused the city to resemble a battlefield strewn with blank marquees, partially torn-down frames and hastily painted-over storefront facades.</p>  <p>In a survey conducted in 2011 among the city’s 11 million residents, 70 percent found the ban beneficial. Unexpectedly, the removal of logos and slogans exposed previously overlooked architecture, revealing a rich urban beauty that had been long hidden. “My old reference was a big Panasonic billboard,” said Vinicius Galvao, a reporter with Folha de São Paulo, Brazil’s largest newspaper, in an interview with NPR. “But now my reference is an art deco building that was covered [by the massive sign]. So you start getting new references in the city. The city’s now got new language, a new identity.”</p>  <p>Photographer <a href="http://www.flickr.com/photos/tonydemarco" rel="nofollow">Tony de Marco</a> documented the transformation the city underwent in 2007 in a sequence of images published on Flickr. </p>  <p>Sao Paulo isn’t the only city to have banned outdoor advertisements. Bans on billboards exist in other parts of the world, such as Vermont, Alaska, Hawaii, and Maine in the US, as well as some 1,500 towns. In Europe, the Norwegian city of Bergen does the same and many others have imposed severe restrictions on billboards or declared no-billboard zones within the city.</p>  <p><img title="sao-paulo-billboard-ban-4" alt="sao-paulo-billboard-ban-4" src="https://lh3.ggpht.com/-ZM2pOpipWoU/Uepiu-a9viI/AAAAAAAAqhs/DXZ4oekG5K8/sao-paulo-billboard-ban-42.jpg?imgmax=800" width="790" height="592"></p>  <p><img title="sao-paulo-billboard-ban-5" alt="sao-paulo-billboard-ban-5" src="https://lh5.ggpht.com/-OX_nt4ucheU/UepiybZdBdI/AAAAAAAAqh0/EeLcZCyq6go/sao-paulo-billboard-ban-52.jpg?imgmax=800" width="790" height="592"></p>  <p><img title="sao-paulo-billboard-ban-6" alt="sao-paulo-billboard-ban-6" src="https://lh4.ggpht.com/-Qa4wXnNE_5w/Uepi1x86XZI/AAAAAAAAqh8/UaV1Tj-xkm8/sao-paulo-billboard-ban-62.jpg?imgmax=800" width="790" height="592"></p>  <p><img title="sao-paulo-billboard-ban-7" alt="sao-paulo-billboard-ban-7" src="https://lh4.ggpht.com/-FX6vTTY1s7g/Uepi30VO9JI/AAAAAAAAqiE/A9rEu2PB-sM/sao-paulo-billboard-ban-72.jpg?imgmax=800" width="790" height="592"></p>  <p><img title="sao-paulo-billboard-ban-8" alt="sao-paulo-billboard-ban-8" src="https://lh4.ggpht.com/-DJg66H-KPDs/UepjMO-lkSI/AAAAAAAAqiU/tWK9RNK3DQo/sao-paulo-billboard-ban-82.jpg?imgmax=800" width="790" height="592"></p>  <p><img title="sao-paulo-billboard-ban-9" alt="sao-paulo-billboard-ban-9" src="https://lh6.ggpht.com/-5VquaBRt4Vc/UepjQbTGZmI/AAAAAAAAqic/9ZulQL7gcMw/sao-paulo-billboard-ban-92.jpg?imgmax=800" width="790" height="592"></p>  <p><img title="sao-paulo-billboard-ban-10" alt="sao-paulo-billboard-ban-10" src="https://lh6.ggpht.com/-tzgz9EgoWMU/UepjTAWH4HI/AAAAAAAAqik/fXYFWJJp2po/sao-paulo-billboard-ban-102.jpg?imgmax=800" width="790" height="592"></p>  <p><img title="sao-paulo-billboard-ban-11" alt="sao-paulo-billboard-ban-11" src="https://lh5.ggpht.com/-6O3y2DllMlc/Uepj3lswdMI/AAAAAAAAqi0/Fr9XmPNQXMA/sao-paulo-billboard-ban-112.jpg?imgmax=800" width="790" height="592"></p>  <p><img title="sao-paulo-billboard-ban-12" alt="sao-paulo-billboard-ban-12" src="https://lh3.ggpht.com/-Pxw2cBLrBKA/Uepj8h96N1I/AAAAAAAAqi8/S9bWMXwQzg4/sao-paulo-billboard-ban-122.jpg?imgmax=800" width="790" height="592"></p>  <p><img title="sao-paulo-billboard-ban-13" alt="sao-paulo-billboard-ban-13" src="https://lh5.ggpht.com/-_2PgvPxP1Cs/UepkAZPhNzI/AAAAAAAAqjE/XEwdMvJ_q6o/sao-paulo-billboard-ban-132.jpg?imgmax=800" width="790" height="592"></p>  <p><img title="sao-paulo-billboard-ban-3" alt="sao-paulo-billboard-ban-3" src="https://lh3.ggpht.com/-8ylIbVYwavw/UepkDv9WeII/AAAAAAAAqjM/RC7mBOR6Np8/sao-paulo-billboard-ban-36.jpg?imgmax=800" width="790" height="592"></p>  <p>Sources: <a href="http://www.newdream.org/resources/sao-paolo-ad-ban">Newdream</a>, <a href="http://www.businessweek.com/stories/2007-06-18/s-o-paulo-the-city-that-said-no-to-advertisingbusinessweek-business-news-stock-market-and-financial-advice">Businessweek</a>, <a href="https://www.adbusters.org/magazine/73/Sao_Paulo_A_City_Without_Ads.html">Adbusters</a>, <a href="http://www.economist.com/node/9963268">Economist</a></p>  </div>


</article>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[More than 75% of Steam games tested are playable or verified on the Steam Deck (341 pts)]]></title>
            <link>https://mastodon.cloud/@boilingsteam/110655979942850128</link>
            <guid>36586346</guid>
            <pubDate>Tue, 04 Jul 2023 13:27:41 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://mastodon.cloud/@boilingsteam/110655979942850128">https://mastodon.cloud/@boilingsteam/110655979942850128</a>, See on <a href="https://news.ycombinator.com/item?id=36586346">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Anti-ageing protein injection boosts monkeys’ memories (115 pts)]]></title>
            <link>https://www.nature.com/articles/d41586-023-02214-3</link>
            <guid>36586262</guid>
            <pubDate>Tue, 04 Jul 2023 13:18:52 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.nature.com/articles/d41586-023-02214-3">https://www.nature.com/articles/d41586-023-02214-3</a>, See on <a href="https://news.ycombinator.com/item?id=36586262">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
    <header>
        <div>
            <ul data-test="article-identifier">
                <li data-test="article-category"><span>NEWS</span></li>
                <li><time datetime="2023-07-04">04 July 2023</time></li>
                
            </ul>

            

            <div>
                
                <p>
                    First primate studies to show cognitive benefits of the protein klotho could be a step towards clinical applications.
                </p>
            </div>
        </div>
        
            <div data-test="author-info">
    <ol>
        
            <li>
                
                    <span>Lilly Tozer</span>
                
                
                
                    
                
            </li>
        
    </ol>
</div>
        
    </header>
    
</div><div>
                    <figure>
 <picture>
  <source type="image/webp" srcset="https://media.nature.com/lw767/magazine-assets/d41586-023-02214-3/d41586-023-02214-3_25567502.jpg?as=webp 767w, https://media.nature.com/lw319/magazine-assets/d41586-023-02214-3/d41586-023-02214-3_25567502.jpg?as=webp 319w" sizes="(max-width: 319px) 319px, (min-width: 1023px) 100vw,  767px">
  <img alt="Rhesus macaque &quot;Joe&quot; lies on a rock at the zoo in Dresden, Germany." loading="lazy" src="https://media.nature.com/lw767/magazine-assets/d41586-023-02214-3/d41586-023-02214-3_25567502.jpg">
  <figcaption>
   <p><span>Old rhesus monkeys perform better in memory tests after being given an injection of klotho. </span><span>Credit: Arno Burgi/AFP via Getty</span></p>
  </figcaption>
 </picture>
</figure><p>Injecting ageing monkeys with a ‘longevity factor’ protein can improve their cognitive function, a study reveals.</p><p>The findings, published on 3 July in <i>Nature Aging</i><sup><a href="#ref-CR1" data-track="click" data-action="anchor-link" data-track-label="go to reference" data-track-category="references">1</a></sup>, could lead to new treatments for neurodegenerative diseases.</p><p>It is the first time that restoring levels of klotho — a naturally occurring protein that declines in our bodies with age — has been shown to improve cognition in a primate. Previous research on mice had shown that injections of klotho can extend the animals’ lives and increases synaptic plasticity<sup><a href="#ref-CR2" data-track="click" data-action="anchor-link" data-track-label="go to reference" data-track-category="references">2</a></sup> — the capacity to control communication between neurons, at junctions called synapses.</p><p>“Given the close genetic and physiological parallels between primates and humans, this could suggest potential applications for treating human cognitive disorders,” says Marc Busche, a neurologist at the UK Dementia Research Institute group at University College London.</p><p>The protein is named after the Greek goddess Clotho, one of the Fates, who spins the thread of life.</p><h2>Monkey memory tests</h2><p>The study involved testing the cognitive abilities of old rhesus macaques (<i>Macaca mulatta</i>), aged around 22 years on average, before and after a single injection of klotho. To do this, researchers used a behavioural experiment to test for spatial memory: the monkeys had to remember the location of an edible treat, placed in one of several wells by the investigator, after it was hidden from them.</p><p>Study co-author Dena Dubal, a physician-researcher at the University of California, San Francisco, compares the test to recalling where you left your car in a car park, or remembering a sequence of numbers a couple of minutes after hearing it. Such tasks become harder with age.</p><p>The monkeys performed significantly better in these tests after receiving klotho — before the injections they identified the correct wells around 45% of the time, compared with around 60% of the time after injection. The improvement was sustained for at least two weeks. Unlike in previous studies involving mice, relatively low doses of klotho were effective. This adds an element of complexity to the findings, which suggests a more nuanced mode of actions than was previously thought, Busche says.</p><h2>Unclear mechanism</h2><p>It is still unclear exactly how injecting klotho has this effect on cognition or why it lasts this long. Klotho itself cannot cross the barrier from blood to brain, and uncovering its mechanism is a matter of finding what intermediates are involved, explains Dubal. But this study “certainly gives us hope”, she says, “and there’s a very strong reason to jump into human clinical trials now”.</p><p>Gøril Rolfseng Grøntvedt, a neurologist at the Norwegian University of Science and Technology in Trondheim, agrees that further work is needed to answer such questions. Grøntvedt and her team previously found that people with Alzheimer’s who have naturally higher klotho levels tend to experience less cognitive impairment than do those with lower levels<sup><a href="#ref-CR3" data-track="click" data-action="anchor-link" data-track-label="go to reference" data-track-category="references">3</a></sup>.</p><p>This raises the possibility that artificially increasing klotho might have beneficial effects. A better understanding of the protein’s mode of action will be “crucial” for realizing its clinical potential, Grøntvedt says.</p>
                </div><div id="references" aria-labelledby="Bib1"><h2 id="Bib1">References</h2><div data-container-section="references" id="Bib1-content"><ol data-track-component="outbound reference"><li data-counter="1."><p id="ref-CR1">Castner, S. A. <i>et al.</i> <i>Nature Aging </i>https://doi.org/10.1038/s43587-023-00441-x (2023).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1038/s43587-023-00441-x" data-track-action="article reference" href="https://doi.org/10.1038%2Fs43587-023-00441-x" aria-label="Article reference 1" data-doi="10.1038/s43587-023-00441-x">Article</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 1" href="http://scholar.google.com/scholar_lookup?&amp;title=&amp;journal=Nature%20Aging&amp;doi=10.1038%2Fs43587-023-00441-x&amp;publication_year=2023&amp;author=Castner%2CS.%20A.">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="2."><p id="ref-CR2">Dubal, D. B. <i>et al.</i> <i>J. Neurosci.</i> 35, 2358–2371 (2015).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1523/JNEUROSCI.5791-12.2015" data-track-action="article reference" href="https://doi.org/10.1523%2FJNEUROSCI.5791-12.2015" aria-label="Article reference 2" data-doi="10.1523/JNEUROSCI.5791-12.2015">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="pubmed reference" href="http://www.ncbi.nlm.nih.gov/entrez/query.fcgi?cmd=Retrieve&amp;db=PubMed&amp;dopt=Abstract&amp;list_uids=25673831" aria-label="PubMed reference 2">PubMed</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 2" href="http://scholar.google.com/scholar_lookup?&amp;title=&amp;journal=J.%20Neurosci.&amp;doi=10.1523%2FJNEUROSCI.5791-12.2015&amp;volume=35&amp;pages=2358-2371&amp;publication_year=2015&amp;author=Dubal%2CD.%20B.">
                    Google Scholar</a>&nbsp;
                </p></li><li data-counter="3."><p id="ref-CR3">Grøntvedt, G. R. <i>et al.</i> <i>JAMA Netw. Open</i> <b>5</b>, e2243232 (2022).</p><p><a data-track="click" rel="nofollow noopener" data-track-label="10.1001/jamanetworkopen.2022.43232" data-track-action="article reference" href="https://doi.org/10.1001%2Fjamanetworkopen.2022.43232" aria-label="Article reference 3" data-doi="10.1001/jamanetworkopen.2022.43232">Article</a>&nbsp;
    <a data-track="click" rel="nofollow noopener" data-track-label="link" data-track-action="pubmed reference" href="http://www.ncbi.nlm.nih.gov/entrez/query.fcgi?cmd=Retrieve&amp;db=PubMed&amp;dopt=Abstract&amp;list_uids=36413367" aria-label="PubMed reference 3">PubMed</a>&nbsp;
    <a data-track="click" data-track-action="google scholar reference" data-track-label="link" rel="nofollow noopener" aria-label="Google Scholar reference 3" href="http://scholar.google.com/scholar_lookup?&amp;title=&amp;journal=JAMA%20Netw.%20Open&amp;doi=10.1001%2Fjamanetworkopen.2022.43232&amp;volume=5&amp;publication_year=2022&amp;author=Gr%C3%B8ntvedt%2CG.%20R.">
                    Google Scholar</a>&nbsp;
                </p></li></ol><p><a data-track="click" data-track-action="download citation references" data-track-label="link" rel="nofollow" href="https://citation-needed.springer.com/v2/references/10.1038/d41586-023-02214-3?format=refman&amp;flavour=references">Download references</a></p></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Dutch rules will soon prevent schoolchildren from having a phone in classroom (159 pts)]]></title>
            <link>https://nltimes.nl/2023/07/04/dutch-rules-will-soon-prevent-schoolchildren-phone-classroom</link>
            <guid>36586127</guid>
            <pubDate>Tue, 04 Jul 2023 13:04:19 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://nltimes.nl/2023/07/04/dutch-rules-will-soon-prevent-schoolchildren-phone-classroom">https://nltimes.nl/2023/07/04/dutch-rules-will-soon-prevent-schoolchildren-phone-classroom</a>, See on <a href="https://news.ycombinator.com/item?id=36586127">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
      <article data-history-node-id="66937" role="article">

      
  
  

  <div>
          
    
          <p>
                Tuesday, 4 July 2023 - 14:26
      </p>
    
        


  </div>

  
  
      
    
      
  
   
      
      <div><p>Children will soon be prevented from bringing mobile phones into Dutch classrooms. Sources close to the Cabinet confirmed that schools will have until October 1 figure out how they can arrange the restriction on their own. If that fails, national rules may be introduced to restrict the use of telephones in schools.</p>

<p>Unnamed sources also confirmed the story to ANP, after it was first reported by AD and RTL Nieuws.</p>

<p>Smartphones may still be used if they are needed for class, or if there is a medical need. One example of the latter is if a student with diabetes needs to measure sugar levels.</p>

<p>Schools and teachers have been asking for rules to restrict the use of mobile phones in the classroom for some time. The debate about this issue gained momentum at the end of last year when CDA Member of Parliament René Peters advocated on behalf of a ban. The largest opposition party in the Tweede Kamer, PVV, has been outspoken in favor of a ban for an extended period, and has joined forces with the CDA, a coalition party.</p>

<p>Initially, the plea from the CDA and PVV was warmly received in the Tweede Kamer, the lower house of Parliament, with a degree of support from two other coalition parties. These include Prime Minister Mark Rutte's VVD, and the smallest party in the coalition, ChristenUnie. However, former Education Minister Dennis Wiersma and the two parties thought it was better for the schools themselves to set limits in this regard.</p>

<p>Gradually, the number of supporters seemed to increase. A large group of teachers appeared to support the proposal, teachers union AOb announced after commissioning a poll.</p>

<p>Due to persistent signals from teachers that they are unable to keep smartphones out of the classroom on their own, Wiersma left the door open at the beginning of this year to examine the policy. He promised discuss the issue with schools and said he would be open to a ban if there was a great need for it.</p></div>
  
      <p><em>Reporting by ANP</em></p>
          
  

</article>










  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Red Hat Is Not Linux (2020) (106 pts)]]></title>
            <link>https://web.archive.org/web/20000815063125/http://www.redhatisnotlinux.org/</link>
            <guid>36585940</guid>
            <pubDate>Tue, 04 Jul 2023 12:45:47 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://web.archive.org/web/20000815063125/http://www.redhatisnotlinux.org/">https://web.archive.org/web/20000815063125/http://www.redhatisnotlinux.org/</a>, See on <a href="https://news.ycombinator.com/item?id=36585940">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
 <tbody><tr>
  <td><span size="2">
  <span color="RED"><b>Attention: This is not an Anti-Red Hat Linux site</b></span><p>

  <u><b><a name="top">Table of Contents</a></b></u></p><ol>
  <li><a href="#news">News</a></li>
  <li><a href="#Introduction">Introduction</a></li>
  <li><a href="#rhsupport">Commercial Hardware/Software That Supports ONLY Red Hat Linux</a></li>
  <li><a href="#independent">Commerical Hardware/Software That Is Distribution Independent</a></li>
  <li><a href="#othersupport">Commerical Hardware/Software That Supports Multiple Distributions</a></li>
  <li><a href="#mediaredhat">Media Coverage of Red Hat Linux <i> - Coming Soon</i></a></li>
  <li><a href="#mediaother">Media Coverage of other distributions <i> - Coming Soon</i></a></li>
  <li><a href="#suggestions">Our suggestions</a></li>
  <li><a href="#petition">Support Petition</a></li>
  <li><a href="https://web.archive.org/web/20000815063125/http://www.redhatisnotlinux.org/phorum/">Message Board</a></li>
  <li><a href="#retractions">Updates &amp; Retractions</a></li>
  <li><a href="#breakdown">Petition Distribution Breakdown</a></li>
  </ol><p>
  <u><b><a name="news">News</a></b></u></p><blockquote>
  6/23/2000 - <b>Lack of Updates</b><br>
  Sorry about the lack of updates since early May.  May and June have been extremely busy for me, and I haven't been able to give the site the attention it needs and deserves.  I am doing some minor list updates, and have been redesigning the site to make it a little easier to navigate.  This isn't my best design work, I promise.  I made the site like this as function over form to start.  I am gathering contact people for the first petition email.  I have been talking with the people at Sendmail, Inc, and that have been interested in seeing what you folks have to say about their decision to only support Red Hat.  I saw something funny yesterday... Dell's online ordering system will let you buy "Linux 6.2"...  I was thinking this must be some new distribution or maybe they got the kernel version wrong, but then a light went off... Silly me, they meant Red Hat 6.2!  Doh!<p>
  5/2/2000 - <b>Minor Updates</b><br>
  I have added a few companies to the various lists, made some spelling corrections, and added the Petition Distribution Breakdown.  Thanks to everyone who has sent emails concerning corrections, suggestions, opinions, etc... Keep them coming.  I will be doing some major updates in the near future.</p><p>
  4/28/2000 - <b>Update #2</b><br>
  Thanks to Tim Riker for pointing out that RPM is not RedHat Package Manager but rather RPM Package Manager.  Seems a bit recursive if you ask me ;-) But on the official <a href="https://web.archive.org/web/20000815063125/http://www.rpm.org/RPM-HOWTO/index.html#INTRO" target="_new">RPM FAQ</a> It does list it as such.  Seems like traffic is dying down a little.  I guess it's a good thing, in that we'll have less people trying to be distruptive.  I have about 5-10 vendors to update, and hope to do so this weekend.  Thanks for stopping by.</p><p>
  4/28/2000 - <b>Heavy Traffic and more</b><br> 
  As you can imagine with over 30,000 people visiting us in the last 12 hours, we have gotten a log of email.  If you have sent us mail, and you haven't gotten a reply, we will do our best to reply to all the emails sent.  From what we have read, there have been some very good suggestions, additions to our list, and outright anger to to what we're doing.  A lot of email has been sent about VA Linux, and our placing them on the Red Hat only list.  I know they support the development of Debian and run Debian on their web server, but when you buy something through their web site, currently you can only get Red Hat.  I have a call in to them to confirm that we're not just blind and not seeing other distributions.  Thank you for your zeal in response to our efforts.  On a more disappointing side, someone thought it would be cute to write a program to continually vote for their favourite distribution, which is why the poll went away.  Please check back often as we are updating the page through out the day.</p><p>
  4/27/2000 (5:00pm Update) - <b>We've been /.'ed</b><br>Well we have just been posted on Slashdot, and from the comments I am seeing, I only ask that you Read before you Roast, as it seems many don't understand the context of the domain name, and the name of our Effort.</p><p>
  4/27/2000 - <b>Linux.Com, Geeknews.org Report on RedHatIsNotLinux.org</b><br>Thanks to Linux.com and Geeknews.org for reporting on our efforts here.  I think it shows a true effort to show journalistic integrity on the part of Linux.com to list us, as VA is on our Red Hat Only List.  Kudos to them!</p><p>
  4/18/2000 - <b>redhatisnotlinux.org seeks volunteers</b><br>We are currently looking for volunteers to help compile our different lists.  If you are interested in helping us out, please let us know at <a href="https://web.archive.org/web/20000815063125/mailto:info@redhatisnotlinux.org">info@redhatisnotlinux.org</a>.</p><p>
  4/16/2000 - <b>redhatisnotlinux.org goes live</b><br>In an attempt to gain support for other distributions of GNU/Linux, redhatisnotlinux.org is established.  We're currently filling out our database of products that support Linux, both distribution specific and distribution non-specific.  It is our hope to show the disproportionate amount of support for Red Hat over ALL other Distributions.  If you find any errors on this site, please report them to <a href="https://web.archive.org/web/20000815063125/mailto:info@redhatisnotlinux.org">info@redhatisnotlinux.org</a>.  Please not our purpose is to point out commercial support.  We are well aware of the community activity focused around other distributions.
  </p><p><a href="#top">Return to Top</a>
  </p></blockquote><p>
  <u><b><a name="Introduction">Introduction</a></b></u></p><blockquote>
  <b>If this is not an Anti-Red Hat Linux site, what is it?</b><br>
  This is an attempt to call attention to the fact that companies who are writing commercial applications for Linux are ignoring part of the professional GNU/Linux community, which does not use Red Hat Linux.<p>
  <b>What do you mean "Red Hat Is Not Linux"</b><br>
  The easiest way to explain this is to create some definitions or premises, and then come up with a result:</p><p>
  Linux, as <a href="https://web.archive.org/web/20000815063125/http://everything.slashdot.org/everything.pl?sid=&amp;lastnode=&amp;node=linux">defined</a> by <a href="https://web.archive.org/web/20000815063125/http://cmdrtaco.net/">CmdrTaco</a> of Slashdot is: 
 "the GNU license operating system created by Linus Torvalds and the rest of the internet. Unix-like and free, it powers power systems maintained by power users."</p><p>  
  Linux as we define it is the kernel of the GNU/Linux OS and various Distributions.</p><p>
  A Distribution of the GNU/Linux OS, of which Red Hat is one (and the most popular in the media), is the packaging of the Linux kernel, utilities, and programs to make a usable operating system, which can be installed on any number of computers.</p><p>
  This is how we first of all derive that 1) Red Hat != GNU/Linux, and 2) Red Hat is a Distribution of GNU/Linux.</p><p>
  Because of the fragementation of commands, security methodologies, package management, and file layouts among distributions, we feel it is not in the best interest of GNU/Linux to consider one Distribution, and its way of doing things as "Linux."</p><p>
  <b>What do you hope to accomplish by this?</b><br>
  Better support by commercial vendors for GNU/Linux, not just Red Hat Linux and support for GNU/Linux hardware platforms other than Intel based chipsets (PPC, Alpha, etc).</p><p>
  <b>Why do you think that commercial vendors ignore GNU/Linux?</b><br>
  A majority of applications being written today are not distribution independent.  Not only are companies developing solely for Red Hat Linux, they are not aware that other distributions exist.</p><p>
  <b>I'm not convinced, but how do you expect your goals to be accomplished?</b><br>
  Our main goal is to point out incompatibilities between distributions, as well as to provide a petition facility for non-Red Hat users to voice their distress with the continued trend of software that only supports Red Hat.  By doing so, we hope that enough attention can be created for our cause that commercial vendors would consider support for Linux as a whole, not just Red Hat Linux, including all major distributions and binary platforms (x86, PPC, Alpha, etc).
  </p><p><b>What's With This GNU/Linux Stuff Anyway?</b><br>
  There is a political issue in the Linux community as to the relevance of GNU to Linux.  Our position is that without GNU and their tools such as GCC, Linux would not be a mainstream operating system.  We feel that indeed GNU has done more for Linux than Red Hat has, as I am sure Red Hat themselves would admit.  We refer to GNU/Linux in respect to the importance and impact GNU has on Linux.
  </p><p><a href="#top">Back to Top</a></p></blockquote><p>
  <u><b><a name="rhsupport">Commerical Hardware/Software That Supports ONLY Red Hat Linux</a></b></u></p><ul>
   <li><a href="https://web.archive.org/web/20000815063125/http://www.tuxtops.com/" target="_new">TuxTops</a> - Laptops</li>
   <li><a href="https://web.archive.org/web/20000815063125/http://www.dell.com/" target="_new">Dell</a> - All Dell Products</li>
   <li><a href="https://web.archive.org/web/20000815063125/http://www-4.ibm.com/software/data/db2/linux/" target="_new">IBM</a> - DB2 appears to only support Red Hat</li>
   <li><a href="https://web.archive.org/web/20000815063125/http://www.sendmail.com/" target="_new">Sendmail, Inc's</a> Sendmail Switch Line of Products</li>
   <li><a href="https://web.archive.org/web/20000815063125/http://www.cryptocard.com/" target="_new">CRYPTOCard</a> - CRYPTOAdmin 4.0</li>
   <li><a href="https://web.archive.org/web/20000815063125/http://www.hummingbird.com/" target="_new">Hummingbird, Inc.</a> - Hummingbird EIP - Multiple Distribution Support to Come</li> 
   <li><a href="https://web.archive.org/web/20000815063125/http://www.starbox.net/" target="_new">Star Box Net Systems</a> - All Server Products</li>
   <li><a href="https://web.archive.org/web/20000815063125/http://www.penguincomputing.com/" target="_new">Penguin Computing</a> - All Products</li>
   <li><a href="https://web.archive.org/web/20000815063125/http://www.lonetar.com/" target="_new">Lone Tar Software</a> - Air Bag</li>
   <li><a href="https://web.archive.org/web/20000815063125/http://www.valinux.com/" target="_new">VA Linux</a> - Server Products <i>6/20/00 Update - as of today if you order online you can still only order "VA Enhanced Red Hat 6.2"</i></li>
   <li><a href="https://web.archive.org/web/20000815063125/http://www.netmax.com/" target="_new">Net Max</a> - All Net Max Products</li>
   <li><a href="https://web.archive.org/web/20000815063125/http://www.hp.com/" target="_new">HP</a> -  Hewlett Packard Print Servers</li>
   <li><a href="https://web.archive.org/web/20000815063125/http://www.macromedia.com/software/generator" target="_new">Macromedia</a> - Macromedia Generator - Investigating other Products</li>
   <li><a href="https://web.archive.org/web/20000815063125/http://www.checkpoint.com/products/firewall-1/sysrequire.html">Checkpoint</a> Firewall-1</li>
  </ul><blockquote><a href="#top">Back to Top</a></blockquote><p>
  <u><b><a name="independent">Commerical Hardware/Software That Is Distribution Independent</a></b></u></p><ul>
   <li><a href="https://web.archive.org/web/20000815063125/http://www.c2.net/">C2 Net</a> Stronghold</li>
   <li><a href="https://web.archive.org/web/20000815063125/http://www.micronetics.net/">Micronetics</a>  SecureNet PRO v3.0</li> 
   <li><a href="https://web.archive.org/web/20000815063125/http://www.oracle.com/">Oracle</a> Oracle8i</li>
  </ul><blockquote><a href="#top">Back to Top</a></blockquote><p>
  <u><b><a name="othersupport">Commerical Hardware/Software That Supports Multiple Distributions</a></b></u></p><ul>
   <li><a href="https://web.archive.org/web/20000815063125/http://www.apcc.com/products/management/pcp_linux.cfm">APC PowerChute Plus</a> <i>(Red Hat, Caldera, TurboLinux, SuSE)</i></li>
   <li><a href="https://web.archive.org/web/20000815063125/http://www.ca.com/">Computer Associates</a> ArcServeIT <i>(Red Hat, Caldera, TurboLinux, SuSe)</i></li>
   <li><a href="https://web.archive.org/web/20000815063125/http://www.ca.com/">Computer Associates</a> Ingres II <i>(Slackware, Red Hat, Debian, TurboLinux, SuSe)</i></li>
   <li><a href="https://web.archive.org/web/20000815063125/http://www.ca.com/">Computer Associates</a> Unicenter TNG <i>(RedHat, SuSe)</i></li>
   <li><a href="https://web.archive.org/web/20000815063125/http://www.vsi.com/" target="_new">VSI</a> - VSI-Fax (Red Hat, Caldera)</li> 
   <li><a href="https://web.archive.org/web/20000815063125/http://www.hp.com/" target="_new">Hewlett Packard</a> - Officially supports Red Hat, Turbolinux, Caldera, and SuSE, though many products are Red Hat Only</li>
   <li><a href="https://web.archive.org/web/20000815063125/http://www.enlightendsm.com/" target="_new">Enlighten Software Solutions, Inc.</a> EnlightenDSM (SuSe, Turbo Linux, Caldera, Mandrake)</li>
   <li><a href="https://web.archive.org/web/20000815063125/http://www.sunsetsystems.com/" target="_new">Sunset Systems</a> preconfigured Linux boxes with Slackware, RedHat, Mandrake, and will preconfigure any Distro upon Request.</li>
   <li><a href="https://web.archive.org/web/20000815063125/http://www.compaq.com/linux">Compaq</a> has alliances with Caldera, Red Hat, S.U.S.E., and TurboLinux</li>
   <li><a href="https://web.archive.org/web/20000815063125/http://www.ibm.com/">IBM</a> supports Caldera, Red Hat, SuSE and TurboLinux</li>

  </ul><blockquote><a href="#top">Back to Top</a></blockquote><p>
  <u><b><a name="mediaredhat">Red Hat in the Media</a></b></u></p><ul>
   <li><a href="https://web.archive.org/web/20000815063125/http://www.msnbc.com/news/399125.asp?cp1=1" target="_new">Linux open to backdoor password</a> - This is a good example of what we are trying to address.   When this article first was posted the headline read "Linux open to backdoor password."  It has since been changed to the more responsible "Red Hat open to backdoor password."  In its first revision it could place mistrust in the consumer market as to the security of ALL Linux distributions, or much, much worse, the Linux Kernel itself!</li>
  </ul>
  <blockquote><a href="#top">Back to Top</a></blockquote><p>
  <u><b><a name="suggestions">Our Suggestions</a></b></u></p><blockquote>
  We are currently gathering information on different community efforts to standardize Linux Distribution structure.  We feel that companies can do various things to insure support for all major distributions of Linux including:<ul>
 <li>Outsourcing Technical Support to Organizations like <a href="https://web.archive.org/web/20000815063125/http://www.linuxcare.com/">LinuxCare</a></li>
 <li>Providing non-distribution specific binary releases (glibc-2.0, shadow passwords, glibc-2.1, shadow passwords, glibc-2.0 PAM, glibc-2.1 PAM) - C2Net does an excellent job of this with their distributions of Stronghold.
 </li><li>Provide RPM, DEB, and  Tarball distribution of Binary Applications.</li>
 <li>Create a Media Awareness kit to avoid sterotyping of different distributions as "LINUX."  We would be happy to spearhead this, but would love some help in creating it from professional writers and media people.</li>
 <li>VA Linux, or another company with the same ability, should setup a commercial server farm of different distributions, similar to VA's <a href="https://web.archive.org/web/20000815063125/http://www.valinux.com/about/news/releases/030700.html" target="_new">SourceForge<sup>TM</sup> CompileFarm</a>, for comercial entities to build binary distributions for ALL MAJOR Linux distributions.</li>
 <li>Support the <a href="https://web.archive.org/web/20000815063125/http://www.linuxbase.org/">Linux Standards Base</a></li>
</ul>
  <p><a href="#top">Back to Top</a></p></blockquote><p>
  <u><b><a name="petition">Support Petition</a></b></u></p><blockquote>
  The petition currently has 5255 entries.</blockquote><ul> 
  <li><a href="https://web.archive.org/web/20000815063125/http://www.redhatisnotlinux.org/petition.php4">Sign the Petition</a></li>
  <li><a href="https://web.archive.org/web/20000815063125/http://www.redhatisnotlinux.org/readPetition.php4">View the Petition</a></li>
  </ul><blockquote>
  <p><a href="#top">Back to Top</a></p></blockquote><p>
  <u><b><a name="retractions">Updates &amp; Retractions</a></b></u></p><blockquote>
  If you or your company feel we have misrepresented your products or services as to only support Red Hat Linux or you would like your hardware/software added to our list, please contact us so we may remove you from our list, and note your support of other Distributions.  Please <a href="https://web.archive.org/web/20000815063125/mailto:info@redhatisnotlinux.org">Email</a> your comments to info@redhatisnotlinux.org.
 <p><a href="#top">Back to Top</a></p></blockquote><p>
  <u><b><a name="breakdown">Petition Distribution Breakdown</a></b></u></p><blockquote>
  We have written a little script which attempts to break out the Favorite Distributions of the people who signed the petition.  By doing simple LIKE queries on the petition we have broken out the following numbers for each distribution:<ul>
<li><b>Caldera</b> is preferred by <b>127</b> petitioners</li>
<li><b>Corel</b> is preferred by <b>87</b> petitioners</li>
<li><b>Debian</b> is preferred by <b>1486</b> petitioners</li>
<li><b>LinuxPPC</b> is preferred by <b>55</b> petitioners</li>
<li><b>Mandrake</b> is preferred by <b>539</b> petitioners</li>
<li><b>Red Hat</b> is preferred by <b>928</b> petitioners</li>
<li><b>Slackware</b> is preferred by <b>1364</b> petitioners</li>
<li><b>Storm</b> is preferred by <b>27</b> petitioners</li>
<li><b>SuSE</b> is preferred by <b>1668</b> petitioners</li>
<li><b>TurboLinux</b> is preferred by <b>33</b> petitioners</li>
<li><b>Yellowdog</b> is preferred by <b>11</b> petitioners</li>
  </ul></blockquote><p><a href="#top">Back to Top</a></p></span></td>
</tr></tbody></div><p>
Hosting Kindly Provided By <a href="https://web.archive.org/web/20000815063125/http://www.readysetnet.com/">Ready Set Net</a>, An Open Source, Linux Based, Internet Development Company.</p><p>
Linux is a registered trademark of Linus Torvalds. All trademarks and registered trademarks on redhatisnotlinux.com are owned by their respective companies.</p></div>]]></description>
        </item>
        <item>
            <title><![CDATA[A curated list of uBlock origin filters (132 pts)]]></title>
            <link>https://letsblock.it/filters</link>
            <guid>36585371</guid>
            <pubDate>Tue, 04 Jul 2023 11:43:34 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://letsblock.it/filters">https://letsblock.it/filters</a>, See on <a href="https://news.ycombinator.com/item?id=36585371">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <p role="alert">
                <form method="POST" action="/user/action/loginOrRegistration">
                    
                    <span>This website is a collaborative repository of uBlock content filters
                        you can customize and sync across your browsers.
                        <a href="https://letsblock.it/help/about">Learn more about it</a> and</span>
                    
                    <span>to start building your filter list.</span>
                </form>
            </p>
        
            
            <p>Check these new filters and customize them for your use:</p>
            <ul>
                    <li>
                        <div>
                                <p><a href="https://letsblock.it/filters/amazon-products">Amazon: filter out products by name</a>
                                                </p></div>
                    </li>
                    <li>
                        <div>
                                <p><a href="https://letsblock.it/filters/github-cleanup">GitHub: interface cleanups</a>
                                                </p></div>
                    </li>
                    <li>
                        <div>
                                <p><a href="https://letsblock.it/filters/google-search-cleanup">Google Search: interface cleanups</a>
                                                </p></div>
                    </li>
                    <li>
                        <div>
                                <p><a href="https://letsblock.it/filters/hackernews-darkmode">Hacker News: unofficial dark mode</a>
                                                </p></div>
                    </li>
                    <li>
                        <div>
                                <p><a href="https://letsblock.it/filters/linkedin-posts-by-link">Linkedin: filter out posts by link target</a>
                                                </p></div>
                    </li>
                    <li>
                        <div>
                                <p><a href="https://letsblock.it/filters/linuxfr-cleanup">LinuxFr: interface cleanups</a>
                                                </p></div>
                    </li>
                    <li>
                        <div>
                                <p><a href="https://letsblock.it/filters/nebula-creators">Nebula: filter out videos by creator</a>
                                                </p></div>
                    </li>
                    <li>
                        <div>
                                <p><a href="https://letsblock.it/filters/search-results">Search engines: filter out results by website</a>
                                                </p></div>
                    </li>
                    <li>
                        <div>
                                <p><a href="https://letsblock.it/filters/soundcloud-reposts">Soundcloud: hide reposts</a>
                                                </p></div>
                    </li>
                    <li>
                        <div>
                                <p><a href="https://letsblock.it/filters/youtube-shorts">YouTube: filter out Shorts</a>
                                                </p></div>
                    </li>
                    <li>
                        <div>
                                <p><a href="https://letsblock.it/filters/youtube-mixes">YouTube: filter out mixes and radios</a>
                                                </p></div>
                    </li>
                    <li>
                        <div>
                                <p><a href="https://letsblock.it/filters/youtube-upcoming-videos">YouTube: filter out upcoming videos and streams</a>
                                                </p></div>
                    </li>
                    <li>
                        <div>
                                <p><a href="https://letsblock.it/filters/youtube-channel">YouTube: filter out videos by channel</a>
                                                </p></div>
                    </li>
                    <li>
                        <div>
                                <p><a href="https://letsblock.it/filters/youtube-video-title">YouTube: filter out videos by title</a>
                                                </p></div>
                    </li>
                    <li>
                        <div>
                                <p><a href="https://letsblock.it/filters/youtube-watched">YouTube: filter out videos you already watched</a>
                                                </p></div>
                    </li>
                    <li>
                        <div>
                                <p><a href="https://letsblock.it/filters/youtube-recommendations">YouTube: hide video recommendations</a>
                                                </p></div>
                    </li>
                    <li>
                        <div>
                                <p><a href="https://letsblock.it/filters/youtube-search-cleanup">YouTube: search interface cleanups</a>
                                                </p></div>
                    </li>
                    <li>
                        <div>
                                <p><a href="https://letsblock.it/filters/youtube-cleanup">YouTube: video playback interface cleanups</a>
                                                </p></div>
                    </li>
                    <li>
                        <div>
                                <p><a href="https://letsblock.it/filters/custom-rules">Add custom blocking rules</a>
                                                </p></div>
                    </li>
                    <li>
                        <div>
                                <p><a href="https://letsblock.it/filters/url-param-remover">Remove tracking URL parameters from links</a>
                                                </p></div>
                    </li>
            </ul>        
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Sourcegraph is no longer Open Source (276 pts)]]></title>
            <link>https://github.com/sourcegraph/sourcegraph/blob/main/CHANGELOG.md</link>
            <guid>36584656</guid>
            <pubDate>Tue, 04 Jul 2023 10:21:02 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/sourcegraph/sourcegraph/blob/main/CHANGELOG.md">https://github.com/sourcegraph/sourcegraph/blob/main/CHANGELOG.md</a>, See on <a href="https://news.ycombinator.com/item?id=36584656">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
      
          <p>      A tag already exists with the provided branch name. Many Git commands accept both tag and branch names, so creating this branch may cause unexpected behavior. Are you sure you want to create this branch?
</p>

    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Passwords Are Fine (102 pts)]]></title>
            <link>https://herman.bearblog.dev/passwords-are-fine/</link>
            <guid>36584615</guid>
            <pubDate>Tue, 04 Jul 2023 10:16:07 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://herman.bearblog.dev/passwords-are-fine/">https://herman.bearblog.dev/passwords-are-fine/</a>, See on <a href="https://news.ycombinator.com/item?id=36584615">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>

<p>
<i>
<time datetime="2023-07-04">
04 Jul, 2023
</time>
</i>
</p>
<p>I've spent too much of my professional life trying to build a better means of authentication.</p>
<p>For a while I was fixated on Magic Links, then I built a few prototypes of authentication using a combination of token passing and TOTP. And finally, I built a storage-less password manager (another story for another day). When proposals for systems like WebAuthn or Apple Passkeys were published I got excited. To see the world move away from the dated and insecure email/password combo would have really made my day.</p>
<p>But after a while I lost my fervour. There was a lack of implementation of these strong password-less authentication methods across web-services and apps. There was no transition. Also, my opinions around authentication changed...somewhat.</p>
<p>I had an article pop up on my feed recently titled "<a href="https://sec.okta.com/articles/2020/04/webauthn-great-and-it-sucks" target="_blank">WebAuthn is great and it sucks</a>" which describes the problem succinctly. While the tech is great, the problem is that nothing supports these new-fangled methods of authentication. I've run into a few other problems as well:</p>
<ol>
<li>Multi-devicing for authentication is a poor user experience. Even having to go click a link in your mailbox sucks.</li>
<li>People don't have their phone on them all the time (and some don't even have a smartphone).</li>
<li>New users don't understand these methods of authentication.</li>
<li>They're generally much more complicated to implement than a basic email/password combo.</li>
</ol>
<p><em>As a side note, I'm not a fan of single sign-on using Twitter/Google/Facebook due to the inability to migrate to a different service if need be. If Twitter locks you out of your account you're locked out of all your connected services as well. This is a broader topic, but I just wanted to touch on it before continuing.</em></p>
<p>Passwords are simple and affordable. We were using them prior to computers ("Open sesame!") and their understandability transferred easily. "But wait!" you say. "Aren't passwords insecure and easy to compromise?". Well yes...if managed poorly.</p>
<h4 id="let-s-explore-the-common-pitfalls-of-passwords">Let's explore the common pitfalls of passwords:</h4>
<ol>
<li>People can't remember passwords for their dozens of services.</li>
<li>Due to #1 people tend to re-use passwords, which makes one compromised service a more wide-spread problem.</li>
<li>People can have their passwords stolen (generally also due to #1 since they write them down or store them insecurely).</li>
<li>Services can have their user's passwords stolen if not stored as a hash (this is a solved problem though, services need to do better).</li>
</ol>
<p>Notice that all of these problems are solved by fairly simple password hygiene.</p>
<p>I personally have one obnoxiously long and complicated password for my password manager, but then all of my other passwords are random lengthly strings which are impossible to guess.</p>
<p>I don't ever see them.</p>
<p>The passwords also aren't re-used, which solves #2 and my login flow is a super convenient fingerprint scan on both my phone and my laptop. And if I have to manually enter my password on a different device (which is very rare) I can easily pull up my password on my password manager and type it in.</p>
<p>Not only does a good password manager make people safer, it makes logins much easier since you don't have to remember "which password I used for this service", then follow the "forgot password" flow.</p>
<p>I guess the point I'm trying to make here is that the problem with passwords is password hygiene, not with the method itself.</p>
<p>When ebola was wreaking havoc in Central Africa the most effective intervention was to implement a culture of hand-washing. The UN send healthcare workers out to cities, towns and villages armed with plastic basins and soap, but most importantly, knowledge. It was an effective intervention and the culture of hand-washing persists to this day.</p>
<p>Password hygiene is imperative for our digital world. Fact is that even if we create the perfect new authentication method, passwords will persist on the vast majority of services. If it ain't broke...</p>
<p>Finally, when sharing passwords, it is important to do so securely. Slack is not a secure channel for these kinds of things. I've <a href="https://herman.bearblog.dev/thinking-about-passwords/" target="_blank">written</a> about this before and built out a completely free <a href="https://horuspass.com/send/" target="_blank">service</a> to share passwords and API keys securely, but any good password manager should have similar functionality.</p>
<h4 id="recommendation-time">Recommendation time:</h4>
<p>If you're an Apple user, then the built in Apple password manager is probably the best solution for you. It's close to perfect since it allows biometric authentication, syncs between your devices, and is well integrated into their products.</p>
<p>Alternatively, there are also a bunch of great apps that have similar functionality. <a href="https://1password.com/" target="_blank">1Password</a> is a good choice. So is <a href="https://www.dashlane.com/" target="_blank">Dashlane</a>. There are others.</p>
<p>Good passwords combined with an authentication app for 2FA like <a href="https://authy.com/" target="_blank">Authy</a> or Google Authenticator are great security. You'll probably never have an issue. On this note, SMS 2FA is bad. Not only are SIM-swap scams prevalent and fairly easy to execute, but it is also a fragile system and breaks easily ("Didn't receive the SMS? Click here to retry.").</p>
<p>On top of that, SMS isn't universal. My bank only supports SMS 2FA so while I'm travelling I'm effectively cut off from certain functionality. I hate it and have tried to change it, but banks move slowly.</p>
<p>It's important for us to get this right. If you have parents (or grandparents) who aren't particularly tech-savvy, sit them down for an afternoon and teach them about password hygiene. Let's create a better authentication culture. It will keep everyone safer.</p>
<hr>
<h5 id="enjoyed-the-article-i-write-about-1-2-a-month-subscribe-via-email-or-rss-feed">Enjoyed the article? I write about 1-2 a month. Subscribe via <a href="https://herman.bearblog.dev/subscribe/">email</a> or <a href="https://herman.bearblog.dev/feed/">RSS feed</a>.</h5>


</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[GPT-4 is great at infuriating telemarketing scammers (126 pts)]]></title>
            <link>https://www.theregister.com/2023/07/03/jolly_roger_telephone_company/</link>
            <guid>36583969</guid>
            <pubDate>Tue, 04 Jul 2023 08:48:26 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theregister.com/2023/07/03/jolly_roger_telephone_company/">https://www.theregister.com/2023/07/03/jolly_roger_telephone_company/</a>, See on <a href="https://news.ycombinator.com/item?id=36583969">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="body">
<p>Every week there seems to be another cynical implementation of AI that devalues the human experience so it is with a breath of fresh air that we report on a bedroom venture that uses GPT-4 technology to frustrate telemarketers.</p>
<p>"Fight back against annoying telemarketers and evil scammers!" the Jolly Roger Telephone Company rails on its <a target="_blank" href="https://jollyrogertelephone.com/">website</a>. "Our robots talk to telemarketers so humans don't have to!"</p>
<p>While no one can put a price on slamming the phone down on a call center worker, some among us might get a perverse joy out of listening to them squirm under the non sequiturs of AI. And it seems to be working for Jolly Roger, which has thousands of customers subscribed for $23.80 a year.</p>

    

<p>The company has a <a target="_blank" href="https://jollyrogertelephone.com/our-robots/">number of bots</a> at its disposal all with unique voices and quirks that makes them utterly infuriating to speak to from the original Jolly Roger, based on the voice of Californian founder Roger Anderson, to distracted mother Salty Sally, who keeps wanting to talk about a talent show she won, to feisty senior citizen Whitey Whitebeard and more. Samples of toe-curling conversations are all over Jolly Roger's website.</p>

        


        

<p>"Oh jeez, hang on, there's a bee on me, hang on," Jolly Roger tells one scammer. "There's a bee on my arm. OK, you know what? You keep talking, I'm not gonna talk, though. You keep talking, say that part again, and I'm just gonna stay quiet because of the bee."</p>
<ul>

<li><a href="https://www.theregister.com/2023/07/03/mozilla_developer_network_adds_ai/">Mozilla Developer Network adds AI Help that does the opposite</a></li>

<li><a href="https://www.theregister.com/2023/07/01/microsoft_github_copilot/">Microsoft and GitHub are still trying to derail Copilot code copyright legal fight</a></li>

<li><a href="https://www.theregister.com/2023/06/30/lords_ai_weapons/">Experts scoff at UK Lords' suggestion that AI could one day make battlefield decisions</a></li>

<li><a href="https://www.theregister.com/2023/06/28/microsoft_openai_sued_privacy/">Microsoft, OpenAI sued for $3B after allegedly trampling privacy with ChatGPT</a></li>
</ul>
<p>Sprinkle in gratuitous salvos of "Suuuure" and "Mhm" and "Sorry, I was having trouble concentrating because you're EXACTLY like somebody I went to high school with so, sorry, say that part again." Five minutes later you have a cold caller pulling their hair out and hanging up.</p>
<p>Here's Salty Sally in action:</p>
<p>
  <a href="https://youtu.be/dtO7jvS-pxA?t=39" data-media="x-videoplayer">Youtube Video</a>
</p>

        

<p>Customers provide the phone numbers they want to protect and the subscription activates immediately. Users login to the website where they can set up whichever bot or bots they want to employ. Then, when a telemarketer calls, the user is able to merge the call with a specified or random bot. The customer can then listen to the fruits of their labor in Jolly Roger's "Pirate Porthole."</p>
<p>YouTubers like Kitboga have made a name for themselves by infuriating and hacking computer-based scammers in real time while they try to swindle him over the telephone, but now regular folk can do similar without having to lift a finger.</p>
<p>At a time when AI grifters are trying to convince the gullible to <a target="_blank" href="https://www.youtube.com/watch?v=BI3Bt-pIkfA&amp;lc=UgzWPfD9JScCLI0vA5R4AaABAg">flood the ebook market with ChatGPT-generated joke books</a>, it is heartening to see something related that is both funny and actually effective. ®</p>                                


                    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Companies must stop using Google Analytics (456 pts)]]></title>
            <link>https://www.imy.se/en/news/companies-must-stop-using-google-analytics/</link>
            <guid>36583906</guid>
            <pubDate>Tue, 04 Jul 2023 08:41:16 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.imy.se/en/news/companies-must-stop-using-google-analytics/">https://www.imy.se/en/news/companies-must-stop-using-google-analytics/</a>, See on <a href="https://news.ycombinator.com/item?id=36583906">Hacker News</a></p>
<div id="readability-page-1" class="page">
    



<header id="imy-header" aria-label="Header">
    <a href="#maincontent">
        <span>
            Skip to content
        </span>
        <i></i>
    </a>

    <div id="imy-header__container">
            <nav id="imy-menu-container-scripted" aria-label="Main menu">
                
                
                <i id="imy-header-border-burger" aria-hidden="true"></i>
                <ul>
                    <li>
                        
                        
                    </li>
                    <li>
                        
                        
                    </li>
                    <li>
                        <hr id="imy-header-border-business" aria-hidden="true">
                    </li>
                </ul>
            </nav>
            <nav id="imy-menu-container-noscript">
                
                
                
                
                
                
                <label for="menu3">
                    <i aria-hidden="true"></i>
                    <span>Menu</span>
                    <span>Main menu</span>
                </label>
                <label for="menuC">
                    <i aria-hidden="true"></i>
                    <span>Menu</span>
                    <span>Main menu</span>
                </label>
                <i aria-hidden="true"></i>
                <ul>
                    <li>
                        
                    </li>
                    <li>
                        <div id="sn_menu_icon_2">
                            <label for="menu2">
                                <i aria-hidden="true"></i>
                                <span>Organisations</span>
                            </label>
                            <label for="menuB">
                                <i aria-hidden="true"></i>
                                <span>Organisations</span>
                            </label>
                            <hr aria-hidden="true">
                        </div>
                    </li>
                    <li>
                        <hr aria-hidden="true">
                    </li>
                </ul>
                <nav id="imy_menu_panel" aria-label="Main menu">







<div id="imy-menu-mobile">

    
    
    
    
    <ul>
        <li>
            
        </li>
        <li>
            <div id="sn_menu_icon_5">
                <label for="menu5">
                    <i aria-hidden="true"></i>
                    <span>Organisations</span>
                </label>
                <label for="menuE">
                    <i aria-hidden="true"></i>
                    <span>Organisations</span>
                </label>
            </div>
        </li>
    </ul>
    <ul>
        <li>
            
        </li>
        <li>
            
        </li>
    </ul>
    <hr id="imy-menu-mobile-border" aria-hidden="true">
    
</div>
                </nav>
            </nav>
            <a href="https://www.imy.se/en/" aria-label="IMY Swedish Authority for Privacy Protection (to startpage)"></a>
            
        </div>
</header>


    <main id="maincontent">
        <div id="readspeaker-content">
            
            


<div>
        <div>
                

            
            <h2>Companies must stop using Google Analytics </h2>
        </div>
        
        <div>
            The Swedish Authority for Privacy Protection (IMY) has audited how four companies use Google Analytics for web statistics. IMY issues administrative fines against two of the companies. One of the companies has recently stopped using the statistics tool on its own initiative, while IMY orders the other three to also stop using it.
        </div>
        <div>
            <p>IMY has audited how four companies transfer personal data to the US via Google Analytics, which is a tool for measuring and analysing traffic on websites. The companies audited are CDON, Coop, Dagens Industri and Tele2. The audits concerns a version of Google Analytics from 14th of August 2020.</p>
<p>The audits are based on complaints from the organisation None of Your Business (NOYB) in the light of the Schrems II ruling by the European Court of Justice (CJEU). The complaints allege that the companies, in violation of the law, transfer personal data to the United States.</p>
<p>According to the data protection regulation, GDPR, personal data may be transferred to third countries, i.e. countries outside the EU/EEA, if the European Commission has decided that the country in question has an adequate level of protection for personal data that corresponds to that within the EU/EEA. However, the CJEU ruled through the Schrems II ruling that the United States could not be considered to have such an adequate level of protection at the time of the ruling.</p>
<p>In its audits, IMY considers that the data transferred to the US via Google's statistics tool is personal data because the data can be linked with other unique data that is transferred. The authority also concludes that the technical security measures that the companies have taken are not sufficient to ensure a level of protection that essentially corresponds to that guaranteed within the EU/EEA.</p>
<p>– By the fact that IMY has decided on these cases at the same time, it is made clear what requirements are placed on technical security measures and other measures when transferring personal data to a third country, in this case the United States, says legal advisor Sandra Arvidsson, who led the audits of the companies.</p>
<p>If there is no decision on an adequate level of protection by the European Commission, data may be transferred based on standard contractual clauses that the European Commission has decided on. However, according to the CJEU, such standard contractual clauses may need to be supplemented with additional safeguards if it is necessary for the protection that the clauses are intended to provide to be maintained in practice.</p>
<p>All four companies have based their decisions on the transfer of personal data via Google Analytics on standard contractual clauses. From IMY's audits, it appears that none of the companies' additional technical security measures are sufficient. IMY issues an administrative fine of 12 million SEK against Tele2 and 300,000 SEK against CDON, which has not taken the same extensive protective measures as Coop and Dagens Industri. Tele2 has recently stopped using the statistics tool on its own initiative. IMY orders the other three companies to stop using the tool.</p>
<p>– These decisions have implications not only for these four companies, but can also provide guidance for other organisations that use Google Analytics, says Sandra Arvidsson.</p>



            
<div>
                <h2>
                    For more information contact
                </h2>
                <div>
                    <p>Legal advisor Sandra Arvidsson, telephone 08-515 154 14<br>Press service, telephone 08-515 15 415</p>
                </div>
            </div>
        </div>
        <div>
                    <i aria-hidden="true"></i>
                    Latest update: 3 July 2023
                </div>
        <div>
                <h2>More news on this topic</h2>
                <ul>
                        <li>
                            <a href="https://www.imy.se/link/b77df0c41ffc4dd394cde97df44d4465.aspx"><h3>Administrative fee against Spotify <br></h3>13 June 2023</a>
                            <hr aria-hidden="true">
                        </li>
                        <li>
                            <a href="https://www.imy.se/link/c7ca1c058f1a4281b534e01d0b1572f3.aspx"><h3>Data protection officers point to problems applying GDPR <br></h3>31 January 2023</a>
                            <hr aria-hidden="true">
                        </li>
                        <li>
                            <a href="https://www.imy.se/link/f12b0540458145a69dacf2c51ace09d6.aspx"><h3>Administrative fine against Klarna after investigation<br></h3>31 March 2022</a>
                            <hr aria-hidden="true">
                        </li>
                        <li>
                            <a href="https://www.imy.se/link/5c79a2d4af314fe59eae3105c5dfa336.aspx"><h3>Administrative fine to the Swedish Customs for deficient routines <br></h3>16 March 2022</a>
                            <hr aria-hidden="true">
                        </li>
                </ul>
                
            </div>
    </div>
<div>
        <h2>More news on this topic</h2>
        <ul>
                <li>
                    <a href="https://www.imy.se/link/b77df0c41ffc4dd394cde97df44d4465.aspx"><h3>Administrative fee against Spotify <br></h3>13 June 2023</a>
                    <hr aria-hidden="true">
                </li>
                <li>
                    <a href="https://www.imy.se/link/c7ca1c058f1a4281b534e01d0b1572f3.aspx"><h3>Data protection officers point to problems applying GDPR <br></h3>31 January 2023</a>
                    <hr aria-hidden="true">
                </li>
                <li>
                    <a href="https://www.imy.se/link/f12b0540458145a69dacf2c51ace09d6.aspx"><h3>Administrative fine against Klarna after investigation<br></h3>31 March 2022</a>
                    <hr aria-hidden="true">
                </li>
                <li>
                    <a href="https://www.imy.se/link/5c79a2d4af314fe59eae3105c5dfa336.aspx"><h3>Administrative fine to the Swedish Customs for deficient routines <br></h3>16 March 2022</a>
                    <hr aria-hidden="true">
                </li>
        </ul>
        
    </div>
<div>
                <i aria-hidden="true"></i>
                Latest update: 3 July 2023
            </div>

        </div>
    </main>





    

    

    





</div>]]></description>
        </item>
        <item>
            <title><![CDATA[Why there may never be a libjpeg-turbo 3.1 (108 pts)]]></title>
            <link>https://groups.google.com/g/libjpeg-turbo-announce/c/YZ2wRgB0zIE</link>
            <guid>36583406</guid>
            <pubDate>Tue, 04 Jul 2023 07:30:39 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://groups.google.com/g/libjpeg-turbo-announce/c/YZ2wRgB0zIE">https://groups.google.com/g/libjpeg-turbo-announce/c/YZ2wRgB0zIE</a>, See on <a href="https://news.ycombinator.com/item?id=36583406">Hacker News</a></p>
<div id="readability-page-1" class="page"><div jsname="yjbGtf" aria-labelledby="i4" role="region"><p>Binaries and source tarball are here:
<br><a href="https://sourceforge.net/projects/libjpeg-turbo/files/3.0.0/" target="_blank" rel="nofollow" data-saferedirecturl="https://www.google.com/url?hl=en-US&amp;q=https://sourceforge.net/projects/libjpeg-turbo/files/3.0.0/&amp;source=gmail&amp;ust=1688565604346000&amp;usg=AOvVaw1uMIgkA-mX0Kyng9Jm0hyS">https://sourceforge.net/projects/libjpeg-turbo/files/3.0.0/</a></p><p>
Change log is here:
<br><a href="https://github.com/libjpeg-turbo/libjpeg-turbo/releases/tag/3.0.0" target="_blank" rel="nofollow" data-saferedirecturl="https://www.google.com/url?hl=en-US&amp;q=https://github.com/libjpeg-turbo/libjpeg-turbo/releases/tag/3.0.0&amp;source=gmail&amp;ust=1688565604347000&amp;usg=AOvVaw2GXGHP0hW7w3Y8sL7P5MWh">https://github.com/libjpeg-turbo/libjpeg-turbo/releases/tag/3.0.0</a></p><p>
Sorry for the delay, the reasons for which were expressed in previous 
<br>emails 
<br>(<a href="https://groups.google.com/g/libjpeg-turbo-announce/c/zXCK0qw1pIE/m/yMLo__OuAAAJ" target="_blank" rel="nofollow" data-saferedirecturl="https://www.google.com/url?hl=en-US&amp;q=https://groups.google.com/g/libjpeg-turbo-announce/c/zXCK0qw1pIE/m/yMLo__OuAAAJ&amp;source=gmail&amp;ust=1688565604347000&amp;usg=AOvVaw27CfQu_N8aKruqGkcsHDTs">https://groups.google.com/g/libjpeg-turbo-announce/c/zXCK0qw1pIE/m/yMLo__OuAAAJ</a>). 
<br>  SignPath is still having issues with their upstream CA, so the Windows 
<br>installers for libjpeg-turbo 3.0.0 are temporarily unsigned until those 
<br>issues can be resolved.  Ultimately, however, the delay produced a more 
<br>stable 3.0.0 release, since most of the bug reports against 3.0 beta 
<br>were filed after the beta cycle was supposed to have ended.
</p><p>
On that subject, I want to remind everyone that, while I do my best to 
<br>maintain this project with the highest possible quality standards and 
<br>using industry best practices, I cannot test for every possible usage 
<br>scenario.  The three-month beta testing phase is intended to allow the 
<br>community ample time to thoroughly test a new release series.  *Please* 
<br>use that time to test the new release series rather than waiting until 
<br>after the .0 release!
</p><p>
Why there may never be a libjpeg-turbo 3.1
<br>------------------------------------------
</p><p>
I will continue to fix bugs in libjpeg-turbo and issue bug-fix releases 
<br>in the 3.0.x release series, but there will not be a libjpeg-turbo 3.1 
<br>release series *unless* this project can secure more general funding. 
<br>As it stands, libjpeg-turbo only has general funding for about 8-10 
<br>hours of labor per month.  Finishing the 3.0 beta release required 
<br>borrowing against all expected general funding for 2023, and fixing all 
<br>of the 3.0 post-beta bugs required borrowing against all expected 
<br>general funding through September of 2024.  If things continue apace, 
<br>then libjpeg-turbo is effectively in "maintenance mode".  That means 
<br>that no new features (even minor ones) can be considered, and tech 
<br>support will be limited, for at least the next 15 months.
</p><p>
I maintain three open source projects for a living.  Those projects have 
<br>saved companies many millions of dollars in labor and IT costs, but I 
<br>take home less pay than that of a typical starting teacher.  (For those 
<br>outside of the U.S., a starting teacher's salary is a rhetorical 
<br>benchmark for very low pay.  We criminally underfund education here just 
<br>like we criminally underfund open source development.)  What I earn 
<br>through independent open source development is about 20-25% of what my 
<br>skills would be worth to a corporate employer, and I have turned down 
<br>numerous offers from such employers over the years in order to continue 
<br>working on these OSS projects full-time.  I don't expect to get rich 
<br>from open source development, but it is also unfair for organizations to 
<br>profit handsomely from my work while I am expected to do that work for free.
</p><p>
Because the majority of my income is from VirtualGL and TurboVNC, 
<br>uncompensated labor on libjpeg-turbo forces me to steal time away from 
<br>those more lucrative projects.  Thus, I simply can't eat labor cost on 
<br>libjpeg-turbo anymore.  (I ate hundreds of thousands of dollars' worth 
<br>of it from 2010-2018, but when the libjpeg-turbo 2.0 release caused me 
<br>to go into debt in 2018, I had to stop.)  However, major releases still 
<br>require a lot of general labor.  Because the project is so high-profile 
<br>(used by literally billions of people every day through major web 
<br>browsers, operating systems, and image viewers/editors) and is an 
<br>ISO/ITU-T reference implementation, it undergoes intense scrutiny. 
<br>Unfortunately, that scrutiny typically lags the development of new 
<br>features by enough time that specific funding is no longer available to 
<br>fix unanticipated bugs in the new features.  Thus, it has become 
<br>increasingly difficult to estimate the labor costs of new features 
<br>upfront.  In order to adequately cushion against unforeseen bugs, I 
<br>would have to grossly overestimate every new feature to the point that 
<br>no one would be willing to fund the feature.  Instead, I have had to 
<br>accept the risk of unforeseen bugs in order to keep libjpeg-turbo moving 
<br>forward, and that has forced me to perform many hours of general labor 
<br>on the run-up to every new release series.  The companies that have 
<br>partially (but unfortunately not fully) funded each new release series 
<br>have pressured me to put out the .0 releases in a timely manner, so that 
<br>has left me with no choice but to borrow against expected future 
<br>funding.  Specific to 3.0, I had to spend more than 70 uncompensated 
<br>hours fixing bugs discovered in the beta release.  Most of those hours 
<br>were spent fixing bugs in the lossless JPEG feature, but I also spent a 
<br>significant amount of time fixing bugs in the partial image 
<br>decompression and RGB565 features (both of which were integrated to 
<br>support Android and both of which have required me to eat the cost of 
<br>bug fixes or beg for money a handful of times since they were integrated.)
</p><p>
This project has only been kept alive because of the libjpeg-turbo 
<br>General Fund, which is funded by Cendio AB and Crimson Vista and your ad 
<br>hoc donations, as well as a few large ad hoc donations from Google. 
<br>However, the current General Fund is only enough to pay for general 
<br>project maintenance and support.  To keep libjpeg-turbo moving forward 
<br>in any meaningful way, including providing community support, 
<br>integrating or implementing minor features, supporting popular new 
<br>platforms, etc. requires more general funding.  To keep libjpeg-turbo 
<br>moving forward in a more proactive/progressive way, including expanding 
<br>the coverage of the JPEG spec (3.0 essentially expands our coverage of 
<br>the JPEG spec by a factor of five), expanding SIMD coverage to new 
<br>algorithms or instruction sets or CPU architectures, supporting less 
<br>popular new platforms, improving the APIs, hardening security, improving 
<br>fuzzer coverage, enhancing the build system, improving automation, etc. 
<br>requires even more general funding.  Essentially I have been expected to 
<br>keep libjpeg-turbo moving forward in a proactive/progressive way, but 
<br>the amount of general funding only allows for maintenance mode.  In the 
<br>best case, that puts me in the position of begging for funding on a 
<br>regular basis, which distracts from meaningful open source development. 
<br>In the worst case (where we are now), that puts me in the position of 
<br>stalling the project for potentially more than a year until funding can 
<br>catch up to the labor I've already contributed.  It just isn't working, 
<br>and I don't know how to fix it.  It's ironic that the most 
<br>popular/ubiquitous open source project I maintain (by at least four or 
<br>five orders of magnitude) is much more difficult to fund than the 
<br>others.  Maybe a JPEG codec isn't "sexy" enough?  Maybe people take it 
<br>for granted because the complexity of it is hidden behind higher-level 
<br>interfaces and applications?  Still, though, the organizations that 
<br>develop those higher-level interfaces and applications should not be 
<br>taking libjpeg-turbo for granted, particularly when most of the recent 
<br>issues I was expected to fix for free were security-related.
</p><p>
I have expressed in the past that the business model necessitated by 
<br>independent open source development may not be the best fit for a 
<br>critical infrastructure project such as libjpeg-turbo.  Thus, I am open 
<br>to acquisition by a larger organization, if that organization is both 
<br>O/S-agnostic and CPU-agnostic and has a vested interest in both the 
<br>survival and the openness of libjpeg-turbo.  However, I also don't 
<br>expect such an offer to ever materialize.  I have built significant 
<br>value in libjpeg-turbo-- including its reputation, its ubiquity, and its 
<br>user community-- over the past 13 years, but it is obviously not a cash 
<br>cow.  Still, though, unless I can secure enough general funding to move 
<br>the project forward in a meaningful way, the only other options are 
<br>acquisition (however unlikely) or putting the project into maintenance 
<br>mode for the foreseeable future.  The latter is where we are now.
</p><p>
How can you help?  If every individual developer who used libjpeg-turbo 
<br>on a regular basis donated just $5-10/month to the project through 
<br>GitHub Sponsors (<a href="https://github.com/sponsors/libjpeg-turbo" target="_blank" rel="nofollow" data-saferedirecturl="https://www.google.com/url?hl=en-US&amp;q=https://github.com/sponsors/libjpeg-turbo&amp;source=gmail&amp;ust=1688565604347000&amp;usg=AOvVaw3jbm3wa_QqbfwzSb_bOlOU">https://github.com/sponsors/libjpeg-turbo</a>), we'd have a 
<br>healthy amount of general funding.  But that requires everyone to take 
<br>responsibility for the health of this project, not to rely on the few 
<br>corporate benefactors that have kept libjpeg-turbo on life support for 
<br>the past five years.
</p><p>
DRC
</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The Lone Banana Problem in AI (108 pts)]]></title>
            <link>https://www.digital-science.com/tldr/article/the-lone-banana-problem-or-the-new-programming-speaking-ai/</link>
            <guid>36582937</guid>
            <pubDate>Tue, 04 Jul 2023 06:26:59 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.digital-science.com/tldr/article/the-lone-banana-problem-or-the-new-programming-speaking-ai/">https://www.digital-science.com/tldr/article/the-lone-banana-problem-or-the-new-programming-speaking-ai/</a>, See on <a href="https://news.ycombinator.com/item?id=36582937">Hacker News</a></p>
<div id="readability-page-1" class="page"><article id="post-63721">
                    <div>
                        
<figure><picture decoding="async">
<source type="image/webp" srcset="https://www.digital-science.com/wp-content/uploads/2023/06/image1-crop-1024x512.jpg.webp 1024w, https://www.digital-science.com/wp-content/uploads/2023/06/image1-crop-300x150.jpg.webp 300w, https://www.digital-science.com/wp-content/uploads/2023/06/image1-crop-768x384.jpg.webp 768w, https://www.digital-science.com/wp-content/uploads/2023/06/image1-crop.jpg.webp 1378w" sizes="(max-width: 1024px) 100vw, 1024px">
<img decoding="async" width="1024" height="512" src="https://www.digital-science.com/wp-content/uploads/2023/06/image1-crop-1024x512.jpg" alt="" srcset="https://www.digital-science.com/wp-content/uploads/2023/06/image1-crop-1024x512.jpg 1024w, https://www.digital-science.com/wp-content/uploads/2023/06/image1-crop-300x150.jpg 300w, https://www.digital-science.com/wp-content/uploads/2023/06/image1-crop-768x384.jpg 768w, https://www.digital-science.com/wp-content/uploads/2023/06/image1-crop.jpg 1378w" sizes="(max-width: 1024px) 100vw, 1024px">
</picture>
</figure>



<blockquote>
<p>The subtle biases of LLM training are difficult to detect but can manifest themselves in unexpected places. I call this the ‘Lone Banana Problem’ of AI.</p>
<cite>Daniel Hook, CEO, Digital Science</cite></blockquote>



<p>Think of all the tools that the information age has brought us…</p>



<p>Think of all the people whose diseases have become manageable or which have been cured. Think of all the economic benefits that have been generated through increased productivity. Think of all the routes that we have to express ourselves and share our creativity. Think of all the skills that were needed to power that revolution – the hardware engineering, and the software engineering – the development of whole new fields of knowledge and understanding.&nbsp;</p>



<p>Then think of all the wealth disparity that has been introduced into our world.&nbsp; Think of the social anxiety of always being online.&nbsp; Think of the undermining of our democratic institutions.</p>



<p>The effects of new technology are seldom either solely positive or solely negative and, as such, there is a responsibility that sits with those that develop technology to consider how it will be used.&nbsp; Underlying that responsibility sits a need to deeply understand technology.&nbsp; The recent rise of Large Language Models (LLMs) and its rapid adoption begs many questions about whether we understand the technology and whether we understand how it will impact us at a cultural, societal, or economic level.</p>



<p>It is clear that the experience that we have of programming and existing technologies will give way to different skills with this new technology.&nbsp; The command of a programmer mindset and skill with languages such as C++ and Python will give way to the need to understand a dynamic meta language that is drawn from the patterns of online human interaction.&nbsp; The new skill for the present technology is “speaking” language in the way that AI determines that language to be spoken from the inputs that it has consumed.</p>



<p>In that context, knowing that LLMs are not producing something new or creative, but rather that they are producing (or reproducing) the statistical average of the inputs that they have consumed in the context of the question they have been asked is important. Understanding that AIs do not understand us the way that we think they do is an important step in taking responsibility for developing on top of these technologies when creating new tools.</p>



<p>What follows attempts to illustrate this point.</p>



<h3>Going Bananas</h3>



<p>When I have written before on this topic I have noted that it is not these large biases that are concerning to me, rather it is the subtle biases that are difficult to detect that I think should be of more concern. I found recently what I regard to be an excellent illustration of the phrase that I have chosen to describe the output of AI. I call this the ‘Lone Banana Problem’.</p>



<p>Bananas are attractive fruits, they have a jolly colour, and they taste great. I have had a running joke for several years with a friend of mine that due to his love of bananas he should use them more significantly in the branding of his business. When I signed up to <a href="https://midjourney-app.com/">Midjourney</a> I saw the perfect opportunity to generate an idealised banana image for him to use. I started with a simple prompt: “A single banana casting a shadow on a grey background”. The result is shown in Figure 1.</p>



<figure><picture decoding="async" loading="lazy">
<source type="image/webp" srcset="https://www.digital-science.com/wp-content/uploads/2023/06/image1-1024x1024.jpg.webp 1024w, https://www.digital-science.com/wp-content/uploads/2023/06/image1-300x300.jpg.webp 300w, https://www.digital-science.com/wp-content/uploads/2023/06/image1-150x150.jpg.webp 150w, https://www.digital-science.com/wp-content/uploads/2023/06/image1-768x768.jpg.webp 768w, https://www.digital-science.com/wp-content/uploads/2023/06/image1.jpg.webp 1378w" sizes="(max-width: 1024px) 100vw, 1024px">
<img decoding="async" loading="lazy" width="1024" height="1024" src="https://www.digital-science.com/wp-content/uploads/2023/06/image1-1024x1024.jpg" alt="" srcset="https://www.digital-science.com/wp-content/uploads/2023/06/image1-1024x1024.jpg 1024w, https://www.digital-science.com/wp-content/uploads/2023/06/image1-300x300.jpg 300w, https://www.digital-science.com/wp-content/uploads/2023/06/image1-150x150.jpg 150w, https://www.digital-science.com/wp-content/uploads/2023/06/image1-768x768.jpg 768w, https://www.digital-science.com/wp-content/uploads/2023/06/image1.jpg 1378w" sizes="(max-width: 1024px) 100vw, 1024px">
</picture>
<figcaption><em>1: Four initial outputs generated by Midjourney in response to the prompt “A single banana casting a shadow on a grey background”.</em></figcaption></figure>



<p>Now, the more astute amongst you may notice an issue with the outputs that Midjourney has produced in Figure 1. While the bananas are beautiful and look extremely tasty in their artistic pose casting their shadow on the grey background, you may notice that I asked for a single solitary banana, on its own, but none of the variants that I received contained just one banana. Of course, I thought, the error must be mine, I clearly must not have been sufficiently precise in my prompt. So, I tried variants – from “a perfect ripe banana on a pure grey background casting a light shadow, hyperrealistic”, to the more specific “a single perfect ripe banana alone on a pure grey background casting a light shadow, hyperrealistic photographic”, and even to the emphatic (even pleading) “ONE perfect banana alone on a uniform light grey surface, shot from above, hyperrealistic photographic”.</p>



<h3>The Invisible Monkey Problem?</h3>



<p>I mentioned this challenge to a friend of mine who has much more of a programmer’s brain than I. He asked me if I tried to get Midjourney to render a monkey with a banana and then asking Midjourney to imagine that the monkey was invisible. (You see what I mean about a programmer’s brain?) He (my friend, not the monkey) was surmising that the data around monkeys holding bananas, or bananas in a different context might yield different results. The depressing result is included in Figure 2.</p>



<figure><picture decoding="async" loading="lazy">
<source type="image/webp" srcset="https://www.digital-science.com/wp-content/uploads/2023/06/image2.png.webp 1024w, https://www.digital-science.com/wp-content/uploads/2023/06/image2-300x300.png.webp 300w, https://www.digital-science.com/wp-content/uploads/2023/06/image2-150x150.png.webp 150w, https://www.digital-science.com/wp-content/uploads/2023/06/image2-768x768.png.webp 768w" sizes="(max-width: 1024px) 100vw, 1024px">
<img decoding="async" loading="lazy" width="1024" height="1024" src="https://www.digital-science.com/wp-content/uploads/2023/06/image2.png" alt="" srcset="https://www.digital-science.com/wp-content/uploads/2023/06/image2.png 1024w, https://www.digital-science.com/wp-content/uploads/2023/06/image2-300x300.png 300w, https://www.digital-science.com/wp-content/uploads/2023/06/image2-150x150.png 150w, https://www.digital-science.com/wp-content/uploads/2023/06/image2-768x768.png 768w" sizes="(max-width: 1024px) 100vw, 1024px">
</picture>
<figcaption><em>Figure 2: One of the outputs of&nbsp; the experimental prompt: “An invisible monkey with a single banana”.</em></figcaption></figure>



<p>You are quite right, that monkey (in Figure 2) should look sheepish! Firstly, he should be invisible and is conspicuous by well…his conspicuousness.&nbsp; Secondly, he is holding not <em>one</em> but <em>two</em> bananas!&nbsp; The results were the same with aliens holding bananas and other animals.&nbsp; Slightly bizarrely, several of the monkeys ended up wearing bananas or being banana-coloured.</p>



<p>Every image that I asked Midjourney to produce contained 2 (or more) bananas seemingly no matter how I asked.</p>



<p>I began to suspect that bananas, like quarks in the Standard Model of physics, might not naturally occur on their own as through some obscure binding principle they might only occur in pairs. I checked the kitchen. Experimental evidence suggested that bananas can definitely appear individually. Phew! But, the fact remained that I couldn’t get an individual banana as an output from the AI. So, what was going on?</p>



<h3>Bias Training</h3>



<p>One of the problems of generative AI is that understanding what is going on inside the machine’s brain is almost impossible. There are interesting approaches such as <a href="https://www.quantamagazine.org/been-kim-is-building-a-translator-for-artificial-intelligence-20190110/">TCAV</a> that attempt to give us more of an insight, but as with a human brain, we don’t fully understand the process that goes on inside a deep learning algorithm.&nbsp;&nbsp;</p>



<p>Testing and understanding the outputs for a given input is critical when deciding how this type of technology can be applied in real-world applications. Anyone who has studied chaos theory or who has heard of the butterfly effect will know that naturally complex systems are often highly sensitive to initial conditions. The Large Language Models (LLMs) that we are building have highly complex inputs in the form of vast amounts of data that are used to train these intelligences. However, like the Mandelbrot set and other complex-looking fractals, the rules that are then applied to the data to do the training are deceptively simple.</p>



<p>The bias to two bananas in a picture is, I believe, an example of a subtle bias (OK, it’s not <em>that</em> subtle, but it is more subtle than many of the more concerning news-grabbing biases that we regularly read about). A naïve explanation may be that in the training dataset there have been many pictures of bananas added to Midjourney’s database that have been labelled “banana” but not labelled “two bananas”. It may also be that Midjourney has never seen an individual banana, so it doesn’t know that a single banana is possible.</p>



<p>The danger here is that due to the convincing nature of our interactions with AIs, we begin to believe that they understand the world in the way that we do.&nbsp; They don’t.&nbsp; AIs, at their current level of development, don’t perceive objects in the way that we do – they understand commonly occurring patterns.&nbsp; Their reality is fundamentally different to ours – it is not born in the physical world but in a logical world. Certainly, as successive generations of AI develop, it is easy for us to have interactions with them that suggest that they do understand. Some of the results of textual analysis that I’ve done with ChatGPT definitely give the impression of understanding. And yet, without a sense of the physical world, an AI has a problem with the concept of a single banana.</p>



<p>Of course, the point of this article is not to be vexed about the lack of individual bananas in the AI’s virtual world. It is to point out that even though this technology is developing rapidly and that the output is impressive, there are still gaps and, while they are not always immediately notable, they are not small. Ethical and responsible use of AI is easy to forget when faced with the speed of innovation and the constant press hype around AI. The lone banana problem is, in some sense, a less scary version of HAL the AI in Arthur C. Clarke’s 2001 where instead of killing the crew of the Odyssey, I have merely discovered a virtual universe in which bananas only appear in pairs.</p>



<p>While humans are amazing pattern matchers, that skill is augmented by common sense (in many but not all cases), context and an evolved and subtle understanding of the physical world around us. AIs don’t yet have those augmentations – they are pure pattern matching power. And hence, they are only as good as the data that we input into the training set and hence can be no more than the statistical average of those inputs. In the lone banana problem, the statistics suggested that bananas only appear in twos (or more) and so the AI could not imagine a single banana, because the data and parametric tuning that had gone on didn’t allow it to consider that approach, on average.</p>



<h3>Existential Questions</h3>



<p>But this line of thinking does beg certain uncomfortable questions such as, is human intelligence just the result of pattern matching in the context of an enriched relationship with a physical world? Is human morality simply the result of a pattern matching type feature with a sense of its own mortality? Or, is there something deeper going on? Is inspiration or intuition something that an AI will be able to master either through its learnt experiences or a richer relationship with the physical world? In a philosophical sense, what is creativity? And, does human creativity differ fundamentally from that of machine creativity?&nbsp;</p>



<p>Certainly human creativity has limits (and, perhaps paradoxically, appears to become more limited with age – precisely as we have been exposed to more experiences). Some of those limits are, for example, the amount of data that we can perceive and process. Others appear in the extent to which we can imagine beyond our everyday experiences. Machine creativity appears to have different limits – not ones of data processing, but rather limits on what can be perceived to be relevant or important, and similar to human experience, on imagining beyond experience. Despite the alluring implication of the command “\imagine” used to initiate a new prompt when getting Midjourney to create a set of images, to what extent is the AI able to imagine beyond the patterns that have been fed to it?</p>



<p>It also points to a deeper issue of the underlying nature of this technology. When programming became a more mainstream job in the 1980s and people started studying for computer science degrees, it was noted that programming required a certain way of thinking.&nbsp; It is the same for prompt engineering, but the type of thinking behind prompt engineering is not the same as for programming. Prompt engineering requires a deep understanding of language and not only that, a deep understanding of how a large language model understands language. In the same way that deep learning algorithms have a deep understanding of chess and <a href="https://en.wikipedia.org/wiki/Go_(game)">Go</a> and consequently make surprising moves due to their perception of the game, the same will be true of large language models and their perception of the world. Their use of language and interpretation will be considerably more nuanced than ours, loaded with a myriad of cultural references that none of us can possibly have assimilated.</p>



<p>While I appreciate that AIs are a good deal more complex than my simple example shows, and indeed my example may even just be a facet of clumsy prompt engineering, it still demonstrates that you have to be incredibly careful about your assumptions when using AI. What it tells you may not be what you think it is telling you and it may not be for the reasons that you think either.</p>



<p>At Digital Science, we believe that we have a responsibility to ensure that the technologies that we release are well tested and well understood. The use cases where we deploy AI have to be appropriate for the level at which we know the AI can perform and any functionality needs to come with a “health warning” so that people know what they need to look for – when they can trust an AI and when they shouldn’t.</p>



<h3>Postlog</h3>



<p>After two weeks in despair of ever finding a lone banana, I tried a different style of prompt in Midjourney (either it has learnt some new tricks, or I might be getting better at “prompt thinking”). The prompt “A single banana on its own casting a shadow on a grey background” yielded Figure 3.</p>



<p>This shows two things: Firstly, that initial conditions, by which I mean the prompt given can be very sensitive – the difference between the phrases “A single banana casting a shadow on a grey background” and “A single banana on its own casting a shadow on a grey background” is not large, either in the semantics or the words used. However, the outcome is significantly different in its level of accuracy.&nbsp; Secondly, even with this improved prompt formulation coupled with whatever upgrades that may have been implemented by the Midjourney team in the prior two weeks, there is still one output that contains two bananas, and if you look closely, one attempted banana is trying to split itself in two!!</p>



<figure><picture decoding="async" loading="lazy">
<source type="image/webp" srcset="https://www.digital-science.com/wp-content/uploads/2023/06/image3-1024x1024.jpg.webp 1024w, https://www.digital-science.com/wp-content/uploads/2023/06/image3-300x300.jpg.webp 300w, https://www.digital-science.com/wp-content/uploads/2023/06/image3-150x150.jpg.webp 150w, https://www.digital-science.com/wp-content/uploads/2023/06/image3-768x768.jpg.webp 768w, https://www.digital-science.com/wp-content/uploads/2023/06/image3.jpg.webp 1378w" sizes="(max-width: 1024px) 100vw, 1024px">
<img decoding="async" loading="lazy" width="1024" height="1024" src="https://www.digital-science.com/wp-content/uploads/2023/06/image3-1024x1024.jpg" alt="" srcset="https://www.digital-science.com/wp-content/uploads/2023/06/image3-1024x1024.jpg 1024w, https://www.digital-science.com/wp-content/uploads/2023/06/image3-300x300.jpg 300w, https://www.digital-science.com/wp-content/uploads/2023/06/image3-150x150.jpg 150w, https://www.digital-science.com/wp-content/uploads/2023/06/image3-768x768.jpg 768w, https://www.digital-science.com/wp-content/uploads/2023/06/image3.jpg 1378w" sizes="(max-width: 1024px) 100vw, 1024px">
</picture>
<figcaption><em>Figure 3: Four initial outputs generated by Midjourney in response to the prompt “A single banana on its own casting a shadow on a grey background”.</em></figcaption></figure>

                    </div>
                </article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Degrees What? (156 pts)]]></title>
            <link>https://degreeswhat.com</link>
            <guid>36582468</guid>
            <pubDate>Tue, 04 Jul 2023 05:11:38 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://degreeswhat.com">https://degreeswhat.com</a>, See on <a href="https://news.ycombinator.com/item?id=36582468">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="info2">
		<!-- p id="color"></p -->
		<p data-degrees="-459.67"><b>-459.67 °F</b> = <b>0 °Ra</b> is absolute zero, the coldest temperature possible</p>
		<p data-degrees="-273.15"><b>-273.15 °C</b> = <b>0 K</b>   is absolute zero, the coldest temperature possible</p>
		<p data-degrees="-40"><b>-40 °C = -40 °F</b> is the intersection point of the Celsius and Fahrenheit scales</p>
		<p data-degrees="63">Beeswax has a melting point range of <b>62–64 °C</b></p>
		<p data-degrees="145">Beeswax has a melting point range of <b>144–147 °F</b></p>

		<!-- other data added here by data.js -->
	</div><div id="about">
			<h2>About</h2>
			<p><i>Degrees What?</i> is a tool for converting temperatures between Celsius (°C), Fahrenheit (°F), Kelvin (K) and other scales. It also shows some interesting facts about angles and temperatures.</p>
			

			<h3>Tips</h3>
			<p>You can link directly to an angle (and temperatures) by adding a query string to the URL. e.g. <a href="https://degreeswhat.com/?100">degreeswhat.com/?100</a> will link directly to 100°, and will show conversions between Celsius and Fahrenheit.</p>

			<h3>Support</h3>
			<p><i>Degrees What?</i> is free to use, and contains no advertising. If you would like to help support it, please <a target="_blank" href="http://buymeacoffee.com/virtualgeoff">buy me a coffee ☕️</a></p>

			<h3>Privacy</h3>
			<p>We collect aggregate user stats only. No cookies are saved or sent.</p>

			
			<p><small>
				<a href="#" data-address="6d 61 69 6c 74 6f 3a 64 65 67 72 65 65 73 77 68 61 74 40 76 69 72 74 75 61 6c 67 65 6f 66 66 2e 63 6f 6d">Feedback</a> &nbsp; 〜 &nbsp;
				<a href="https://github.com/virtualgeoff/degreeswhat" target="_blank">Source</a>
			</small></p>

			<p><a href="#">✕</a>
		</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[OpenAI temporarily disables the Browse with Bing beta feature (121 pts)]]></title>
            <link>https://help.openai.com/en/articles/8077698-how-do-i-use-chatgpt-browse-with-bing-to-search-the-web</link>
            <guid>36582430</guid>
            <pubDate>Tue, 04 Jul 2023 05:03:50 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://help.openai.com/en/articles/8077698-how-do-i-use-chatgpt-browse-with-bing-to-search-the-web">https://help.openai.com/en/articles/8077698-how-do-i-use-chatgpt-browse-with-bing-to-search-the-web</a>, See on <a href="https://news.ycombinator.com/item?id=36582430">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><article dir="ltr"><p>ChatGPT Browse with Bing is a beta feature (available to ChatGPT Plus subscribers) that allows ChatGPT to search the internet to help answer questions that benefit from recent information. We have learned that the ChatGPT Browse beta can occasionally display content in ways we don't want. For example, if a user specifically asks for a URL's full text, it might inadvertently fulfill this request.</p><p>As of July 3, 2023, we’ve disabled the Browse with Bing beta feature out of an abundance of caution while we fix this in order to do right by content owners. We are working to bring the beta back as quickly as possible, and appreciate your understanding!</p></article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[A header-only C implementation of C++ <algorithm> (135 pts)]]></title>
            <link>https://github.com/clibraries/array-algorithms</link>
            <guid>36582385</guid>
            <pubDate>Tue, 04 Jul 2023 04:54:43 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/clibraries/array-algorithms">https://github.com/clibraries/array-algorithms</a>, See on <a href="https://news.ycombinator.com/item?id=36582385">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 tabindex="-1" dir="auto">array_alg.h</h2>
<p dir="auto">Unintrusive algorithms for C arrays OR a C implementation of &lt;algorithm&gt; from C++</p>
<h2 tabindex="-1" dir="auto">Pitch</h2>
<p dir="auto">The C++ STL is one of the most complete and reusable algorithm libraries available.
This single header file brings 80% of that functionality to C99 in a non-intrusive way.
There are no new data structures. Just include the library and call functions on C arrays.</p>
<p dir="auto">Features:</p>
<ul dir="auto">
<li>Sets (intersection, union, subset, etc)</li>
<li>Heaps (priority queues)</li>
<li>Binary search (lower bound, upper bound, etc)</li>
<li>Sorts (insertion sort, quick sort, merge/stable sort, heap sort, partial sort, etc)</li>
<li>Partitioning (partition, unique, etc)</li>
<li>Predicates (all of, any of, none of, etc)</li>
<li>Uniform random sampling and shuffling</li>
</ul>
<h2 tabindex="-1" dir="auto">Usage</h2>
<p dir="auto">This library uses the preprocessor to implement generic functions.
Each time you include the library, you will need to define the array element type and a function prefix:</p>
<div data-snippet-clipboard-copy-content="#define ARRAY_ALG_TYPE int
#define ARRAY_ALG_PREFIX intv_
#include &quot;array_alg.h&quot;"><pre><code>#define ARRAY_ALG_TYPE int
#define ARRAY_ALG_PREFIX intv_
#include "array_alg.h"
</code></pre></div>
<p dir="auto">The above will only generate the declarations.
In at least one C file, you will also need to generate implementations.
To generate implementations, define <code>ARRAY_ALG_IMPLEMENTATION</code> in a C file and include the library:</p>
<div data-snippet-clipboard-copy-content="#define ARRAY_ALG_TYPE int
#define ARRAY_ALG_PREFIX intv_
#define ARRAY_ALG_IMPLEMENTATION
#include &quot;array_alg.h&quot;"><pre><code>#define ARRAY_ALG_TYPE int
#define ARRAY_ALG_PREFIX intv_
#define ARRAY_ALG_IMPLEMENTATION
#include "array_alg.h"
</code></pre></div>
<p dir="auto">Alternatively, add <code>#define ARRAY_ALG_STATIC</code> before the original declaration
to avoid the need for separate implementations.</p>
<p dir="auto">Repeat this process for each array type you want to use.</p>
<h2 tabindex="-1" dir="auto">Examples</h2>
<p dir="auto">Remove duplicate entries:</p>
<div data-snippet-clipboard-copy-content="#define ARRAY_ALG_TYPE int
#define ARRAY_ALG_PREFIX intv_
#include &quot;array_alg.h&quot;

int compare_int(const int *a, const int *b, void *ctx) {
    return *a - *b;
}

...

int nums[100] = ...;
intv_sort(nums, nums + 100, compare_int, NULL);
int* end = intv_unique(nums, nums + 100, compare_int, NULL);"><pre><code>#define ARRAY_ALG_TYPE int
#define ARRAY_ALG_PREFIX intv_
#include "array_alg.h"

int compare_int(const int *a, const int *b, void *ctx) {
    return *a - *b;
}

...

int nums[100] = ...;
intv_sort(nums, nums + 100, compare_int, NULL);
int* end = intv_unique(nums, nums + 100, compare_int, NULL);
</code></pre></div>
<h2 tabindex="-1" dir="auto">Design</h2>
<h3 tabindex="-1" dir="auto">1. Iterators and Arrays</h3>
<p dir="auto">The C++ STL is designed around the concept of iterators.
With iterators, one algorithm can be reused not just for multiple types, but also for many data structures.
This is an ingenious design.
However, in practice, this capability is rarely needed.
The vast majority of real world &lt;algorithm&gt; invocations are on contiguous arrays/vectors.</p>
<p dir="auto">For those cases where you do have a fancy data structure (graphs, trees, etc),
copy its contents to an array, perform the algorithm, and then copy the contents back.
This will often help it perform better anyway!</p>
<h3 tabindex="-1" dir="auto">2. Bounds vs counted ranges</h3>
<p dir="auto">STL algorithms typically operate on half-open ranges bounded by iterators [first, last).
This convention is not used as often in C, but we think it offers some benefits.
Internally, the functions can maintain less state by simply incrementing pointers
rather than keeping track of pointers, indices, and counts.</p>
<p dir="auto">Operations also compose a little easier.
When a pointer is returned to an element of interest,
that same pointer can be used as an argument for another algorithm.</p>
<h3 tabindex="-1" dir="auto">3. What's left out</h3>
<p dir="auto">Because it's a bit verbose to define a C closure (function pointer and context), some STL algorithms are less useful in C.
If an algorithm can be written as a simple for loop with no additional state or control flow, this library doesn't implement it.</p>
<div data-snippet-clipboard-copy-content="transform -> for (int i = 0; i < n; ++i) out[i] = f(in[i])
fill -> for (int i = 0; i < n; ++i) out[i] = x;
iota -> for (int i = 0; i < n; ++i) out[i] = i;
generate -> for (int i = 0; i < n; ++i) out[i] = f();"><pre><code>transform -&gt; for (int i = 0; i &lt; n; ++i) out[i] = f(in[i])
fill -&gt; for (int i = 0; i &lt; n; ++i) out[i] = x;
iota -&gt; for (int i = 0; i &lt; n; ++i) out[i] = i;
generate -&gt; for (int i = 0; i &lt; n; ++i) out[i] = f();
</code></pre></div>
<p dir="auto">The algorithms which rely on ordered types always require a comparison function.
We do not include any variants that operate on the <code>==</code> operator, as operators cannot be overloaded in C.</p>
<h3 tabindex="-1" dir="auto">4. Generics vs <code>void*</code></h3>
<p dir="auto">Including a header multiple times with various <code>#define</code>s is a little cumbersome.
However, we think it's a superior way to achieve C generics compared to the <code>void*</code> style used by <code>qsort</code> and <code>bsearch</code>.
The preprocessor approach provides:</p>
<ul dir="auto">
<li>
<p dir="auto">Better type safety and avoids verbose casting logic.</p>
</li>
<li>
<p dir="auto">Better peformance (as <code>void*</code> functions are difficult to optimize).</p>
<p dir="auto">Note: The C compiler can only create one non-inlined version of each function.
For example, it could not choose to use <code>int</code> instructions, even if it knew the type at compile time.
With the single header approach you get a new instance of each function optimized for each application.</p>
</li>
</ul>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[SQLite-based databases on the Postgres protocol? Yes we can (152 pts)]]></title>
            <link>https://blog.turso.tech/sqlite-based-databases-on-the-postgres-protocol-yes-we-can-358e61171d65?gi=b00cf93b1837</link>
            <guid>36582255</guid>
            <pubDate>Tue, 04 Jul 2023 04:30:27 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.turso.tech/sqlite-based-databases-on-the-postgres-protocol-yes-we-can-358e61171d65?gi=b00cf93b1837">https://blog.turso.tech/sqlite-based-databases-on-the-postgres-protocol-yes-we-can-358e61171d65?gi=b00cf93b1837</a>, See on <a href="https://news.ycombinator.com/item?id=36582255">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><figure></figure><div><h2 id="1f8b">libSQL “server mode” (sqld) enables access to SQLite-based databases using Postgres and HTTP network protocols.</h2><div><a href="https://glaubercosta-11125.medium.com/?source=post_page-----358e61171d65--------------------------------" rel="noopener follow"><div aria-hidden="false"><p><img alt="Glauber Costa" src="https://miro.medium.com/v2/resize:fill:88:88/0*_vxmqP0UCaArfAxZ" width="44" height="44" loading="lazy"></p></div></a><a href="https://blog.turso.tech/?source=post_page-----358e61171d65--------------------------------" rel="noopener  ugc nofollow"><div aria-hidden="false"><p><img alt="Turso blog" src="https://miro.medium.com/v2/resize:fill:48:48/1*HAWSb-VkjEPt2cyXl029eQ.png" width="24" height="24" loading="lazy"></p></div></a></div></div><p id="d79d">Applications built on SQLite are very easy to get started with. SQLite requires no setup, no maintenance, and no scaling, and the result of that execution lies entirely in a single file that you could drop into your CI/CD for quick verification. What’s not to like?</p><p id="51db">But it’s not a common choice for production backends because of its lack of network accessibility for things like monitoring and backups. Most modern applications also need replicas for availability. And thanks to platforms such as Netlify, Vercel, and Cloudflare. applications are moving to the edge: they are now deployed <em>everywhere</em>, instead of <em>somewhere</em>.</p><p id="58a5">Historically, these situations have made SQLite an infeasible option. But no more!</p><h2 id="3947">SQLite gets network accessibility</h2><p id="f7e2">Aside from any technical consideration, the SQLite project is Open Source, but not Open Contribution, which prevents the creation of a community of people and organizations pushing the project in new directions.</p><p id="fc22">In October 2022, we <a href="https://medium.com/p/aedad19c9a1c" rel="noopener">announced a fork of SQLite</a> that is also Open Contribution and distributed under an Open Source License (MIT), indicating our intent to evolve the project into some new and spicy directions. We call it <a href="https://github.com/libsql" rel="noopener ugc nofollow" target="_blank">libSQL</a>.</p><p id="449b">The latest addition is called “server mode” (known as `<a href="https://github.com/libsql/sqld" rel="noopener ugc nofollow" target="_blank">sqld</a>`) that enables network access to libSQL, as well as replication to multiple instances.</p><figure></figure><p id="8923">With this first iteration, we support:</p><ul><li id="a864">The Postgres wire protocol</li><li id="84ed">The Postgres wire protocol over websocket</li><li id="ed68">HTTP</li></ul><h2 id="0376">sqld in action</h2><p id="9bee">To see how it works, we start the server and indicate we want to serve it over http and postgres. The <code>-d</code>switch specifies the database file.</p><pre><span id="2a46">$ sqld -d foo.db -p 127.0.0.1:5432 --http-listen-addr=127.0.0.1:8000</span></pre><p id="f6bb">Since sqld supports the Postgres wire protocol, standard Postgres tooling works, including the <code>psql</code>command shell. We’ll use it to create a table and insert a row. The commands use SQLite syntax and types:</p><pre><span id="0f7c">$ psql -q postgres://127.0.0.1<br>glaubercosta=&gt; create table databases (name text);<br> - <br>(0 rows)<br>glaubercosta=&gt; insert into databases (name) values ('libsql');<br> - <br>(0 rows)<br>glaubercosta=&gt; select * from databases;<br>name<br> - - - - <br>libsql<br>(1 row)</span></pre><p id="86a9">SQLite standard tooling also works, so we can use the <code>sqlite3</code>command shell to inspect the resulting file:</p><pre><span id="90c6">$ sqlite3 foo.db<br>SQLite version 3.37.0 2021–12–09 01:34:53<br>Enter ".help" for usage hints.<br>sqlite&gt; select * from databases;<br>libsql</span></pre><h2 id="d209">HTTP and a native client</h2><p id="cf84">Last, but not least, you can issue commands over HTTP, so you can just <code>curl</code>to it with a JSON payload, without managing connection pools or anything of the sort.</p><pre><span id="eec1">$ curl -s -d "{\"statements\": [\"SELECT * from databases;\"] }" \<br>  http://127.0.0.1:8000<br>[[{"name":"libsql"}]]</span></pre><p id="34a7">HTTP support was added to support restricted environments, such as edge functions, where very little besides HTTP is present. To make that even easier, we also provide a native TypeScript client that encapsulates the details of the protocol:</p><p id="33fc">Transpiling and executing the following code:</p><pre><span id="8190">import { connect } from "@libsql/client"<br>async function example() {<br>  const config = {<br>    url: process.env.DB_URI<br>  };<br>  const db = connect(config);<br>  const rs = await db.execute("SELECT * FROM databases");<br>  console.log(rs);<br>}<br>example()</span></pre><p id="941f">Will yield output similar to the prior examples:</p><pre><span id="7f06">$ DB_URI=http://127.0.0.1:8000 node index.js<br>{<br>  results: [ { name: 'libsql' } ],<br>  success: true,<br>  meta: { duration: 0 }<br>}</span></pre><h2 id="5261">Is a fork really needed?</h2><p id="098b">A fair question to ask is this: “There are other projects attempting to merge SQLite and networking, and they don’t fork SQLite. So is a fork really needed?”</p><p id="f220">A full explanation of how SQLite writes and reads data is out of the scope of this article. There are many <a href="https://www.compileralchemy.com/books/sqlite-internals/#rollback-wal" rel="noopener ugc nofollow" target="_blank">other sources</a> that go into great detail about that.</p><p id="6096">Suffice to say, there are two entities that are relevant when interacting with SQLite’s storage: the VFS, and the WAL (Write-Ahead Log).</p><h2 id="a5a6">WAL Virtualization</h2><p id="9e6a">While SQLite does offer a virtualized interface for the VFS, it does not allow for the virtualization of the WAL methods. The main work in the core of libSQL was to <a href="https://github.com/libsql/libsql/pull/53" rel="noopener ugc nofollow" target="_blank">allow for WAL virtualization</a>.</p><p id="01b1">Once the WAL is virtualized, we can capture any new updates to the database as they happen. This gives us the flexibility of VFS, but with a log-structured API.</p><p id="c2f7">Log-structured APIs are easier to replicate, since it is a natural point for streaming changes. In WAL mode, a writer can work in parallel with readers, which provides better concurrency guarantees for mixed and read-intensive workloads, compared to the default rollback journal mode.</p><p id="b114">Moreover, SQLite has a very interesting feature that isn’t generally available yet — <a href="https://www.sqlite.org/cgi/src/doc/begin-concurrent/doc/begin_concurrent.md" rel="noopener ugc nofollow" target="_blank">BEGIN CONCURRENT</a> transactions, which use the power of optimistic concurrency control to allow multiple writers to work in parallel. This feature is built on top of WAL mode only.</p><h2 id="25c8">For us, it’s more than sqld</h2><p id="2809">This is as good a time as any to remember the primary reason for our fork: our goals with libSQL go beyond server mode. Many projects extend SQLite, making it hard to unify these efforts.</p><p id="9d69">As an example, before server-mode, we had already integrated <a href="https://blog.chiselstrike.com/webassembly-functions-for-your-sqlite-compatible-database-7e1ad95a2aa7" rel="noopener ugc nofollow" target="_blank">WASM user-defined functions</a>, allowing users to to write close-to-the-data functions and <a href="https://blog.chiselstrike.com/webassembly-triggers-in-libsql-b5eb62cc1c6" rel="noopener ugc nofollow" target="_blank">triggers</a> in WASM. libSQL also allows for <a href="https://github.com/libsql/libsql/pull/56" rel="noopener ugc nofollow" target="_blank">randomized row ids</a>, among other features, <a href="https://github.com/libsql/libsql/issues" rel="noopener ugc nofollow" target="_blank">with even more planned in the future</a>.</p><h2 id="9256">What next?</h2><p id="13ae">We would love to hear how you might like to use libSQL’s server mode in your next project. Give us a shout out on <a href="https://twitter.com/libsqlhq" rel="noopener ugc nofollow" target="_blank">Twitter</a> and join our <a href="https://discord.gg/TxwbQTWHSr" rel="noopener ugc nofollow" target="_blank">Discord community</a>.</p><p id="e10e">More importantly, we aim to be a welcoming home for new contributions around the idea of what an embeddable database can be, as described in our <a href="https://libsql.org/about" rel="noopener ugc nofollow" target="_blank">motivations</a>. Your support is welcome on our <a href="https://github.com/libsql/" rel="noopener ugc nofollow" target="_blank">Github</a>!</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[HNInternal: Ask HN: How to do market research for product? (190 pts)]]></title>
            <link>https://news.ycombinator.com/item?id=36582117</link>
            <guid>36582117</guid>
            <pubDate>Tue, 04 Jul 2023 04:07:00 GMT</pubDate>
            <description><![CDATA[<p>See on <a href="https://news.ycombinator.com/item?id=36582117">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><td><table>
        <tbody><tr id="36582117">
      <td><span></span></td>      <td><center><a id="up_36582117" href="https://news.ycombinator.com/vote?id=36582117&amp;how=up&amp;goto=item%3Fid%3D36582117"></a></center></td><td><span><a href="https://news.ycombinator.com/item?id=36582117">Ask HN: How to do market research for product?</a></span></td></tr><tr><td colspan="2"></td><td><span>
          <span id="score_36582117">104 points</span> by <a href="https://news.ycombinator.com/user?id=mr_o47">mr_o47</a> <span title="2023-07-04T04:07:00"><a href="https://news.ycombinator.com/item?id=36582117">5 hours ago</a></span> <span id="unv_36582117"></span> | <a href="https://news.ycombinator.com/hide?id=36582117&amp;goto=item%3Fid%3D36582117">hide</a> | <a href="https://hn.algolia.com/?query=Ask%20HN%3A%20How%20to%20do%20market%20research%20for%20product%3F&amp;type=story&amp;dateRange=all&amp;sort=byDate&amp;storyText=false&amp;prefix&amp;page=0">past</a> | <a href="https://news.ycombinator.com/fave?id=36582117&amp;auth=7e619f3331d8db7a64e341f142f687f976608f63">favorite</a> | <a href="https://news.ycombinator.com/item?id=36582117">44&nbsp;comments</a>        </span>
              </td></tr>
    <tr></tr><tr><td colspan="2"></td><td><div><p>Hello HN,</p><p>I’m planning to build a product but how can i perform market research related to the product</p><p>Let’s say I’m launching a product for restaurant owners helping them ease some their operations for example here’s my idea.</p><p>I see a problem with restaurants keeping their menus up to date on delivery apps or even online sometimes and some restaurants aren’t tech savy so how about I build a simple product which can help ease this and help them easily update menu and publish them on all platforms</p><p>Also I want to thank everyone for commenting on this post as I have been reading each one of them and each comment is useful for me</p></div></td></tr>        <tr></tr><tr><td colspan="2"></td><td><form action="comment" method="post"></form></td></tr>  </tbody></table>
  </td></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Learning needs to be effortful to be effective (318 pts)]]></title>
            <link>https://giansegato.com/essays/edutainment-is-not-learning</link>
            <guid>36580837</guid>
            <pubDate>Tue, 04 Jul 2023 01:02:25 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://giansegato.com/essays/edutainment-is-not-learning">https://giansegato.com/essays/edutainment-is-not-learning</a>, See on <a href="https://news.ycombinator.com/item?id=36580837">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>Before I got into productivity and performance, I used to spend many hours online ingesting vast troves of digital content. My information diet ranged from inspirational TED talks to specialized podcasts, from blog posts found on Hacker News to ebooks shared on Twitter.</p>
<p>I’m deeply curious, and I gave in to new content as much as I could. What could be the harm?—I thought. I <em>loved</em> spending my time this way. It felt useful, it was fun, and it nurtured my self-image as a “smart guy” — all at the same time. Truly, a learning hack.</p>
<p>Turns out I wasn't hacking anything: The learning wasn’t real.</p>
<p>A few months ago, doubts began to creep into my mind about the effectiveness of my habits.</p>
<p>While I’d amped up my information consumption, I wasn’t retaining most of it. My memory was behaving like a leaky bucket. Sure, I was spending tens of hours listening to politics on the radio. But when I tried to use any of those points in a conversation, I found that I didn't actually know enough to make a coherent argument. <strong>I knew the surrounding context, but the moment I needed to get specific my argument would crumble</strong>. Same for many other topics: the more technical they were, the less retention I had.</p>
<p>Where did all that information go?</p>
<p>The problem lied in how I was seeing learning, and therefore how I was approaching it.</p>
<p>Learning is what turns information consumption into long-lasting knowledge. The two things are different: while information is ephemeral, true knowledge is foundational. If knowledge were a person, information would be its picture.</p>
<p>It’s easy to think of learning in <em>accretive, cumulative</em> terms: if I stack up enough information, it will eventually turn into knowledge. We tend to judge the world in material terms, and if data were tangible, an indefinitely growing memory might be reasonable to assume. The more information I consume, the more information I store, the information data I can later retrieve. The more business newsletters I’ll read, the more I’ll know business.</p>
<p>However, this line of thinking wasn’t really applicable to my case: I was undoubtedly consuming many business newsletters each week, but that wasn’t translating into long-term business knowledge.</p>
<p>I spent the last eight months trying to find an answer to this riddle. It took me deep into the topic of meta-learning: How do humans learn? And how can we learn better in the digital information age?</p>
<h2>Learning must be effortful</h2>
<p>Unfortunately for us, human memory does not resemble storage, and “passive accumulation” isn’t how learning happens.</p>
<p>The truth is that we retain information only when we put <em>serious effort</em> into the process of learning. The intrinsic effortfulness of learning is not just a byproduct of the core activity, like shortness of breath during running. On the contrary: it’s what <em>actually</em> <em>enables</em> it. The relationship is causal.</p>
<p><img src="https://giansegato.com/images/edutainment-not-learning/image_1.png" alt=""></p>
<p>I didn’t find a learning hack to avoid effort because there’s no such thing as easy learning: <strong>learning <em>must</em> be effortful in order for it to happen</strong>.</p>
<p>What surprised me the most is that learning is far more grounded in the physical world than I was comfortable admitting.</p>
<p>The most literal meaning of effort is <em>physical</em> effort (think of weight lifting at the gym). The same holds true with information retention: it works best when the process of assimilating it is <em>physically effortful</em>. Our memory shines when our learning is physical, visceral, and obvious, like the aching in your hands after a morning spent hand-writing.</p>
<p>Since they’re passive, easy, and exclusively digital, after this realization all my podcasts, e-books, audiobooks, newsletters, blog posts, videos, live webinars were suddenly deprived of their “<em>learning status</em>”. Instead, they assumed their proper place in my schedule as pure <em>entertainment</em> activities.</p>
<p>The fact of the matter is that digital products make it uniquely easy to trick yourself into thinking that you’re learning when you are actually being entertained.</p>
<p>What I still didn’t know was why our mind works like this. Is this just the current state of digital learning and teaching, or there’s actually a margin for <em>easy</em> learning to be found somewhere?</p>
<h2>The neurology of learning</h2>
<p>I’m no expert in medicine, let alone neurology, but I did want to roughly understand what happens when we — as humans — create knowledge. Luckily I didn’t need profound medical expertise to get the gist of the matter.</p>
<p>Our brain is made of a web of interconnected neurons. The links between these neurons are called axons: long, slender projections of nerve fibers that transmit electrical impulses.</p>
<p>Around these axons, there’s an insulating membrane called myelin. It covers many neuronal axons and facilitates the propagation of electrical signals along neuronal circuits. The more myelin around an axon, the stronger and more connected the signal transmission will be.</p>
<p><img src="https://giansegato.com/images/edutainment-not-learning/image_2.png" alt=""></p>
<p>Myelin is to neural transmissions as oxygen is to fire. It allows rapid information transfer over long distances, and it <a href="https://doi.org/10.1126/science.1261127">greatly increases</a> the speed of propagation of electric signals in our brain.</p>
<p>See it as water flowing through a pipe with dynamic, changing capacity. Pipes with greater capacity can move more water, more quickly than a small pipe or a slow drip. The more myelin supporting a neural connection, the easier it is to use that connection — and thus to use the skill or remember the topic associated with that connection</p>
<p>A key aspect of myelin is that it’s highly dynamic. It’s an integral component of our brain plasticity. So the question becomes: how is myelin generated, and why?</p>
<p>When we come across a new topic, new regions of the brain start activating. The more we use those new regions, the more myelin is synthesized, the easier that topic (or activity) gets.</p>
<p>We all know the old saying <em>practice makes perfect</em>. The more we use a certain region of our brain, the more our brain "prioritizes" and "hones" it. That is what leads to myelin: activity induces myelination, which leads to increased strength of connectivity and efficiency along those very neurons. It’s a self-reinforcing process.</p>
<p>In other words, it compounds.</p>
<p><img src="https://giansegato.com/images/edutainment-not-learning/image_3.png" alt=""></p>
<p>See now why it’s so hard to learn? To learn anything we must make active use of unexplored regions of our brain <em>before</em> they're ready. It's, quite literally, getting out of the comfort zone. The more we use them, the more they get better. <strong>Learning is <em>structurally</em> hard.</strong></p>
<p>The truly mesmerizing thing about myelination is that it is correlated with active use of <em><a href="https://doi.org/10.1038/nn.4351">motor neurons</a></em>. It looks like human cognition is fundamentally grounded in sensory-motor processes: we retain information better when we associate some <em>physical activity</em> to it. <strong>The general intuition is that movement provides additional cues we can use to retrieve knowledge.</strong></p>
<p>We can see this effect happening when we take notes. A larger corpus of research is suggesting that taking notes physically — that is, by hand-writing them — is <a href="https://doi.org/10.3389/fpsyg.2020.01810">far more effective</a> than using a laptop. Keyboarding does not provide tactile feedback to the brain that the contact between pencil and paper does: this contact, this raw feedback, is the key to creating the neurocircuitry in the hand-brain complex, that <a href="https://doi.org/10.3389/fpsyg.2020.01810">evidence shows</a> supports memory and retention.</p>
<p>All of this means <strong>we need to radically reassess digital learning</strong>. We haven’t evolved to store information by passively watching Masterclass videos: that’s just not how our minds work.</p>
<p>However, the other side of this coin is that we’re living in times of unprecedented information surplus. This is an opportunity that we should learn to seize.</p>
<h2>Creative learning in a digital world</h2>
<p>The best way to describe my information diet before discovering that effort is instrumental to learning would be <em>edutainment</em>.</p>
<p>Edutainment mixes education topics with entertainment methodologies. Even if edutainment optimizes for passive attention instead of effortful engagement (the opposite of learning), it’s not just “mere fun.” Deleting Twitter and unsubscribing from newsletters, as suggested by Deep Work advocates like <a href="https://www.calnewport.com/books/deep-work/">Cal Newport</a>, can actually end up <em>preventing</em> learning.</p>
<p>I see edutainment as <em>preparation for learning</em>: it’s a powerful explorative tool that can provide ideas and motivation to learn. And yet, it’s also not learning itself, in the same way as buying running shoes is not running.</p>
<p>Within this framework, “mindless” browsing online can be transformed into <em>scouting for learning opportunities</em>. It’s yet another searching problem where it’s key to balance the exploration of new opportunities with the commitment to the existing ones — a topic I wrote about at length in <a href="https://giansegato.com/essays/the-ebb-and-the-flow-of-product-development/">another essay</a>. It’s about balancing the time spent “scouting” for interesting topics online with the offline effort needed for long-term retention and integration.</p>
<p>Pragmatically, I solved this trade-off with a powerful tool: a learning inbox.</p>
<p>A learning inbox is a to-do list for stuff I’d like to actually learn. I picked up the idea from Andy Matuschak — legendary ed-tech expert —, who <a href="https://notes.andymatuschak.org/A_reading_inbox_to_capture_possibly-useful_references">used a similar concept</a> as a tool for capturing possibly-useful references. The learning inbox is a system that forces me to be mindful about what content is <em>learning</em>, and what is at the end of the day just <em>entertainment</em>.</p>
<p>Everything interesting I find on my way is sent to my learning inbox and from there gets triaged, be it a paper, an online essay, a blog post, a YouTube video, or a podcast. When an item ends up in there, there are three things that can happen: I either decide to actively engage with it, to file for future interest, or just trash it. Active engagement is exactly what it sounds like: <strong>I need to take effortful action to consume the content in the list</strong>, otherwise I automatically bucket it as entertainment.</p>
<p>In other words, I need to do something with it. To <em>create</em> something. Write a blog post about it, use it in a new project, test it on the field, teach it at a meetup. That’s why I speak at <a href="https://giansegato.com/about/#talks">many conferences</a>: it’s a learning tool.</p>
<p>In <a href="https://gettingthingsdone.com/">GTD fashion</a>, permanence in this list is temporary. It's a release valve, not a procrastination tool.</p>
<p>For example, I recently came across <a href="https://twitter.com/metasoarous/status/1324897236434649093?s=20">a tweet</a> during the last Election day mentioning <a href="https://www.youtube.com/watch?v=2tBVMAm0-00&amp;ab_channel=ClojureTV">a video</a> about computational democracy. I’m extremely interested in the intersection between politics and data, so I sent the link to my learning inbox (a task on Things 3) – and then promptly forgot about it.</p>
<p>A few days later, during one of my ritual learning sprints, I took out my notepad and watched the whole video while taking handwritten notes. I then reviewed and transcribed what I had jotted down to an <a href="https://notes.andymatuschak.org/Evergreen_notes">evergreen digital note</a> in my personal knowledge base. The whole process took twice as long as watching the video, and it’s not even a done deal: I would still need some kind of experimentation, tinkering, iteration, application in different contexts, and generally something more hands-on than just note-taking to significantly solidify my knowledge on the topic. That’s what learning takes.</p>
<p>The process takes a lot of time and effort, which means it’s not something I can afford to do with every piece of content I find online. Most of the time I trash the links I find, upon further review. Sometimes they end up in my <a href="https://giansegato.com/learning/">learning wish list</a>.</p>
<p>The core idea is trying my best to not kid myself: when my engagement with a piece of content is active and effortful then it’s learning, when it’s passive it’s entertainment. <strong>When I create I <em>learn</em>. When I consume I just <em>relax</em>.</strong></p>
<p>Bottom line: we need to <em>engage</em> with what we encounter if we wish to absorb it long term. In a smartphone-driven society, real engagement, beyond the share or like or retweet, got fundamentally difficult – or, put another way, not engaging got fundamentally easier. Passive browsing is addictive: the whole information supply chain is optimized for time spent in-app, not for retention and proactivity.</p>
<p>Luckily, the other side of the coin is that finding new topics and new <em>reasons</em> to learn got dramatically easier, with such an abundance of content and stimuli.</p>
<p>We just need to be proactive with how we engage with all of the streams of content available to us. To go out and build, write, talk, teach, explain, create — effortful actions, that lead to meaningful growth.</p>
<p>That's for sure what I’m going to do.</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Leaking Bitwarden's Vault with a Nginx vulnerability (489 pts)]]></title>
            <link>https://labs.hakaioffsec.com/nginx-alias-traversal/</link>
            <guid>36580417</guid>
            <pubDate>Mon, 03 Jul 2023 23:56:14 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://labs.hakaioffsec.com/nginx-alias-traversal/">https://labs.hakaioffsec.com/nginx-alias-traversal/</a>, See on <a href="https://news.ycombinator.com/item?id=36580417">Hacker News</a></p>
<div id="readability-page-1" class="page"><section>
        <p>Nginx, a versatile web server pivotal to numerous internet infrastructures, has held a dominant market share since its inception in 2004, with widespread adoption across websites and Docker containers. This article delves into the intricacies of Nginx, focusing on the location and alias directives that are central to how Nginx handles specific URLs. We also explore potential vulnerabilities arising from misconfigurations and demonstrate how they can lead to security exploits, drawing on research presented at the BlackHat 2018 conference by Orange Tsai.</p><p>The guide further illustrates these points through a thorough examination of popular open-source repositories using GitHub Code Search to identify potential Nginx configuration vulnerabilities. Real-world case studies involving Bitwarden and Google's HPC Toolkit highlight the significant risk of data exposure if these vulnerabilities are not addressed. Additionally, we introduce NavGix, an automated tool designed to detect these vulnerabilities in a black-box manner, providing comprehensive insights into Nginx's complexities, vulnerabilities, and potential misconfigurations.</p><h2 id="brief-overview-of-nginx">Brief Overview of Nginx</h2><p>Nginx is a versatile web server that can also function as a reverse proxy, load balancer, mail proxy, and HTTP cache. The software was created and publicly released in 2004.</p><p>As per W3Tech's data, as of June 2022, Nginx holds the highest market share among web servers, with 33.6% of websites on the internet utilizing it. Additionally, according to Docker, Nginx is the most deployed technology in their containers. This significant popularity makes vulnerabilities related to Nginx all the more critical and intriguing.</p><h3 id="location-and-alias-directives">Location and Alias Directives</h3><p>The location directive is a block directive that can contain other directives and is used to define how Nginx should handle requests for specific URLs, they can be defined. </p><p>It is often used in conjunction with the alias directive to map URLs to specific file locations on the server. the directives can be defined in the <code>nginx.conf</code> file or in a separate configuration file.</p><p>The syntax for the location directive is as follows:</p><pre><code>location [modifier] /path/to/URL {
    # other directives
}</code></pre><p>The <code>modifier</code> is optional and can be one of the following:</p><ul><li><code>=</code>: Exact match</li><li><code>~</code>: Case-sensitive regular expression match</li><li><code>~*</code>: Case-insensitive regular expression match</li><li><code>^~</code>: Prefix match (stop searching if this matches)</li></ul><p>Here is an example of how to use the location directive in the <code>nginx.conf</code> file:</p><pre><code>location /assets/ { # defines a location block for requests matching /assets
    
    alias /opt/production/assets/; # maps the request to the assets folder
    
}
</code></pre><h2 id="identifying-misconfigurations">Identifying Misconfigurations</h2><p>At the BlackHat 2018 conference, Orange Tsai presented his research on breaking URL parsers. Among other impressive findings, he demonstrated a technique discovered in a 2016 CTF challenge from HCTF, created by @iaklis.</p><p>For the technique to be applicable, the following conditions must be met:</p><ul><li>The <code>location</code> directive <strong>should not</strong> have a trailing slash in its path;</li><li>An <code>alias</code>directive must be present within the location context, and it <strong>must</strong> end with a slash.</li></ul><figure><img src="https://labs.hakaioffsec.com/content/images/2023/06/alias_vuln_example.png" alt="" loading="lazy" width="1039" height="180" srcset="https://labs.hakaioffsec.com/content/images/size/w600/2023/06/alias_vuln_example.png 600w, https://labs.hakaioffsec.com/content/images/size/w1000/2023/06/alias_vuln_example.png 1000w, https://labs.hakaioffsec.com/content/images/2023/06/alias_vuln_example.png 1039w"></figure><h3 id="achieving-impact">Achieving Impact </h3><p>In the vulnerable example above, Nginx will match any URLs that start with <code>/img</code> and serve whatever follows that slash with the alias path <code>/var/images/</code> prepended. </p><p>This implies that both a request for <code>/img/profile.jpg</code> and a request for <code>/imgprofile.jpg</code> would return the same file. Because since the alias directive ends with a trailing slash, an additional slash is not necessary after the matched location.</p><figure><img src="https://labs.hakaioffsec.com/content/images/2023/06/image-1.png" alt="" loading="lazy" width="660" height="622" srcset="https://labs.hakaioffsec.com/content/images/size/w600/2023/06/image-1.png 600w, https://labs.hakaioffsec.com/content/images/2023/06/image-1.png 660w"></figure><p>Taking into account that we can access the target folder through any request URL starting with <code>/img</code>, we can attempt to access the ever-present <code>..</code> directory, thereby reaching the parent directory of the target directory by issuing a request to <code>/img..</code> for the given example. </p><p>If we receive a redirection response from Nginx, we can assume that Nginx has located the directory and is attempting to redirect us to <code>/img../</code>, as it commonly does when accessing a directory.</p><figure><img src="https://labs.hakaioffsec.com/content/images/2023/06/image-2.png" alt="" loading="lazy" width="445" height="283"><figcaption>And we do!</figcaption></figure><p>Consequently, this implies that any file or child directory within the parent directory of the target folder will be accessible to us, and Nginx will readily serve them. In our lab example, this means we could access all files in the <code>/var/</code> folder, given that the target folder in the configuration is <code>/var/images/</code>. This allows us to utilize simple payloads, such as a GET to, <code>/img../log/nginx/access.log</code> to download a log file located on <code>/var/log/nginx/access.log</code>.</p><figure><img src="https://labs.hakaioffsec.com/content/images/2023/06/image-3.png" alt="" loading="lazy" width="1139" height="351" srcset="https://labs.hakaioffsec.com/content/images/size/w600/2023/06/image-3.png 600w, https://labs.hakaioffsec.com/content/images/size/w1000/2023/06/image-3.png 1000w, https://labs.hakaioffsec.com/content/images/2023/06/image-3.png 1139w" sizes="(min-width: 720px) 720px"><figcaption>We can even see our previous tests!</figcaption></figure><p>The severity of this vulnerability can fluctuate significantly depending on the project, extending from a negligible impact to a critical one. The degree of its repercussions is primarily determined by whether the exposed directory holds sensitive data that may facilitate additional attacks or result in the disclosure of private information.</p><h3 id="achieving-impact-without-a-slash-on-alias">Achieving Impact Without a Slash on Alias</h3><figure><img src="https://labs.hakaioffsec.com/content/images/2023/06/image-5.png" alt="" loading="lazy" width="1660" height="246" srcset="https://labs.hakaioffsec.com/content/images/size/w600/2023/06/image-5.png 600w, https://labs.hakaioffsec.com/content/images/size/w1000/2023/06/image-5.png 1000w, https://labs.hakaioffsec.com/content/images/size/w1600/2023/06/image-5.png 1600w, https://labs.hakaioffsec.com/content/images/2023/06/image-5.png 1660w" sizes="(min-width: 720px) 720px"><figcaption>Same vulnerability, but without a trailing slash on alias.</figcaption></figure><p>A question that may arise is whether this vulnerability can still be exploited without the trailing slash on the alias directive. The answer is yes, but it would mean that using traversal sequences to escape the directory would no longer be possible. This is because everything after the matched location is appended to the alias, and appending a <code>..</code> sequence to a path without a trailing slash would only result in a non-existent folder name. e.g <code>/var/images../</code></p><p>However, we can still exploit this misbehavior to access other directories that have a name starting with the target directory name. As a result, we might not be able to access it <code>/var/images/../log/</code>, but we could still access a directory &nbsp;<code>/var/images_confidential</code> by making a GET request to <code><a href="http://localhost/img_confidential?ref=labs.hakaioffsec.com">/img_confidential</a></code>. </p><p>In this case, Nginx appends <code>_confidential</code> to the <code>/var/images</code> target path, effectively serving URLs from the combined path of <code>/var/images</code> and <code>_confidential</code> which results in <code>/var/images_confidential</code>.</p><figure><img src="https://labs.hakaioffsec.com/content/images/2023/06/image-4.png" alt="" loading="lazy" width="565" height="275"></figure><h2 id="hunting-open-source-repositories">Hunting Open-Source Repositories</h2><p>As a starting point in our search for this vulnerability, we chose to explore popular GitHub repositories that displayed this issue. Identifying this specific vulnerability in environments with access to source code becomes significantly more feasible, primarily due to two main factors:</p><ol><li>Detection: Utilizing straightforward code analysis tools, such as regular expression searches, allows us to effectively pinpoint potentially vulnerable Nginx configuration files within these projects.</li><li>Exploitation: Having knowledge of the exact target directory that has been aliased empowers us to set up a local instance, examine the aliased directories using a local shell, and determine which files can be accessed through the vulnerability.</li></ol><h5 id="github-code-search"><strong>GitHub Code Search</strong></h5><p>GitHub Code Search is a feature available on GitHub, the web-based platform for version control and collaboration using Git. This feature enables users to search for code across all public repositories hosted on the platform, making it especially useful for developers seeking examples, libraries, or solutions to specific coding challenges.</p><p>Additionally, GitHub Code Search can be employed to search for snippets of vulnerable code within popular projects. This can be accomplished through a variety of methods, such as simple string matches, regular expressions, path filters, and more. For example, to search for the Nginx Alias Traversal vulnerability, the following regular expression can be used:</p><pre><code>/location \/[_.a-zA-Z0-9-\/]*[^\/][\s]\{[\s\n]*alias \/[_.a-zA-Z0-9-\/]*\/;/</code></pre><p>Upon examining the search results for this query, it becomes evident that a significant number of repositories contain this specific vulnerability.</p><figure><img src="https://labs.hakaioffsec.com/content/images/2023/06/image-6.png" alt="" loading="lazy" width="2000" height="255" srcset="https://labs.hakaioffsec.com/content/images/size/w600/2023/06/image-6.png 600w, https://labs.hakaioffsec.com/content/images/size/w1000/2023/06/image-6.png 1000w, https://labs.hakaioffsec.com/content/images/size/w1600/2023/06/image-6.png 1600w, https://labs.hakaioffsec.com/content/images/size/w2400/2023/06/image-6.png 2400w" sizes="(min-width: 720px) 720px"></figure><p>Due to the inherent limitations of regular expressions, they may not be ideally suited for matching code syntax. For instance, this particular regular expression will not match vulnerable configuration files containing comments between the directives. However, it serves as a starting point for our analysis.</p><h3 id="case-study-1-leaking-bitwardens-vault-logs-and-certificates">Case Study #1: Leaking Bitwarden's vault, logs, and certificates.</h3><p>Bitwarden is an open-source password manager that helps users securely store and manage their passwords, credentials, and other sensitive information. It offers features such as password generation, autofill, and synchronization across devices. Bitwarden supports various platforms, including Windows, macOS, Linux, Android, iOS, and web browsers through extensions. Users can access their data through a web vault, desktop apps, mobile apps, or browser extensions. </p><p>Bitwarden also offers <a href="https://github.com/bitwarden/server/?ref=labs.hakaioffsec.com">a self-hosted option</a> for those who want to maintain their own server, which is the one we are going to examine.</p><p>If we search for ways to create a self-hosted instance of the Bitwarden server, one of the presented ways is through the <a href="https://bitwarden.com/help/install-and-deploy-unified-beta/?ref=labs.hakaioffsec.com">Unified docker method</a>, which is a setup made for simplifying the deployment of the platform.</p><figure><img src="https://labs.hakaioffsec.com/content/images/2023/06/image-12.png" alt="" loading="lazy" width="1385" height="276" srcset="https://labs.hakaioffsec.com/content/images/size/w600/2023/06/image-12.png 600w, https://labs.hakaioffsec.com/content/images/size/w1000/2023/06/image-12.png 1000w, https://labs.hakaioffsec.com/content/images/2023/06/image-12.png 1385w" sizes="(min-width: 720px) 720px"><figcaption>100K+ downloads!</figcaption></figure><figure><img src="https://labs.hakaioffsec.com/content/images/2023/06/image-7.png" alt="" loading="lazy" width="2000" height="1229" srcset="https://labs.hakaioffsec.com/content/images/size/w600/2023/06/image-7.png 600w, https://labs.hakaioffsec.com/content/images/size/w1000/2023/06/image-7.png 1000w, https://labs.hakaioffsec.com/content/images/size/w1600/2023/06/image-7.png 1600w, https://labs.hakaioffsec.com/content/images/size/w2400/2023/06/image-7.png 2400w" sizes="(min-width: 720px) 720px"></figure><p>Since our regular expression gave a match for Bitwarden's repository, we started dwelving into the code base searching for potentially vulnerable Nginx configurations, which is when we found the following inside the folder for the unified docker setup. </p><figure><img src="https://labs.hakaioffsec.com/content/images/2023/06/image-9.png" alt="" loading="lazy" width="1778" height="646" srcset="https://labs.hakaioffsec.com/content/images/size/w600/2023/06/image-9.png 600w, https://labs.hakaioffsec.com/content/images/size/w1000/2023/06/image-9.png 1000w, https://labs.hakaioffsec.com/content/images/size/w1600/2023/06/image-9.png 1600w, https://labs.hakaioffsec.com/content/images/2023/06/image-9.png 1778w" sizes="(min-width: 720px) 720px"></figure><p>If this config is used, then it means all files on /etc/bitwarden/attachments/ will be accessible on the URL /attachments, but looking back at the exploit details, this also means that any files present on /etc/bitwarden/ will be downloadable also.</p><p>But let's not get ahead of ourselves, we first must assess the impact of the exposure. To do that, we can either explore the code base or fire up a local instance and list the directory with a local shell. </p><p>Looking into the Dockerfile for that image, we find more info about that directory and what files it can contain:</p><figure><pre><code>[...]
ENV BW_DB_FILE="/etc/bitwarden/vault.db"
[...]</code></pre><figcaption>Dockerfile</figcaption></figure><p>It seems like this environment variable sets where the vault database is saved, and we can see that vault.db is located on /etc/bitwarden.</p><p>Bitwarden only saves the database in that location if the user chooses to use SQLite as a database provider.</p><p>Therefore, if we issue an unauthenticated request to <code>http://&lt;instance&gt;/attachments../vault.db</code>, we will download the entire Bitwarden SQLite3 database.</p><figure><img src="https://labs.hakaioffsec.com/content/images/2023/06/image-13.png" alt="" loading="lazy" width="1486" height="875" srcset="https://labs.hakaioffsec.com/content/images/size/w600/2023/06/image-13.png 600w, https://labs.hakaioffsec.com/content/images/size/w1000/2023/06/image-13.png 1000w, https://labs.hakaioffsec.com/content/images/2023/06/image-13.png 1486w" sizes="(min-width: 720px) 720px"></figure><p>We can also fetch log files, which have a predictable filename and can all be downloaded by accessing the following paths:</p><ul><li>/attachments../logs/api.log</li><li>/attachments../logs/admin.log</li><li>/attachments../logs/identity.log</li><li>/attachments../logs/notifications.log</li></ul><figure><img src="https://labs.hakaioffsec.com/content/images/2023/06/image-14.png" alt="" loading="lazy" width="1900" height="743" srcset="https://labs.hakaioffsec.com/content/images/size/w600/2023/06/image-14.png 600w, https://labs.hakaioffsec.com/content/images/size/w1000/2023/06/image-14.png 1000w, https://labs.hakaioffsec.com/content/images/size/w1600/2023/06/image-14.png 1600w, https://labs.hakaioffsec.com/content/images/2023/06/image-14.png 1900w" sizes="(min-width: 720px) 720px"></figure><p>And, of course, the certificate file was also exposed in that folder. To access it, all you would need to do is issue a request to <code>/attachments../identity.pfx</code>.</p><figure><img src="https://labs.hakaioffsec.com/content/images/2023/06/image-15.png" alt="" loading="lazy" width="678" height="331" srcset="https://labs.hakaioffsec.com/content/images/size/w600/2023/06/image-15.png 600w, https://labs.hakaioffsec.com/content/images/2023/06/image-15.png 678w"></figure><p>The data protection keys were also accessible, but these did not have a predictable filename, therefore, leaking them was not possible.</p><p>This vulnerability has been disclosed to Bitwarden and has since then been fixed. Bitwarden issued a US$6000 bounty, which is the highest bounty they issued on their HackerOne program.</p><h3 id="case-study-2-google-hpc-toolkitleaking-google-cloud-credentials">Case Study #2: Google HPC Toolkit - Leaking Google Cloud Credentials</h3><p>During our foray through GitHub, we chanced upon a software solution developed by Google, known as the Cloud HPC Toolkit. This was introduced in 2022, designed as a robust framework to facilitate the deployment of high-performance computing (HPC) environments on Google Cloud.</p><p>The HPC Toolkit boasts a Django-based web application front-end, granting users the ability to manage their HPC environments conveniently via a web interface.</p><p>Upon scrutinizing the configuration section identified by our regular expression, we discovered that a vulnerable path had indeed been defined. This path was aliased to <code>../hpc-toolkit/community/front-end/website/static/</code>, implying that issuing a request to <code>/static../</code> would provide us with access to the website folder.</p><figure><img src="https://labs.hakaioffsec.com/content/images/2023/06/image-16.png" alt="" loading="lazy" width="535" height="371"></figure><p>Interestingly, we found that the SQLite database was also exposed within this folder and could be accessed through a specific URL:</p><pre><code>curl http://&lt;frontend URL&gt;/static../db.sqlite3 -O</code></pre><p>Moreover, the Django secret key was accessible at the following location:</p><pre><code>curl http://35.204.135.69/static../.secret_key</code></pre><p>Gaining access to this database is highly critical for the application, as the primary function of the HPC Toolkit appears to be the orchestration of large-scale Google Cloud resources. In the event of a compromise, an attacker could potentially gain control over a victim's GCP account credentials, which are stored in the SQLite database.</p><pre><code>sqlite&gt; select * from ghpcfe_credential;
1|production key|{
  "type": "service_account",
  "project_id": "andunduaindadaww",
  "private_key_id": "3acb9f[... redacted from report ...]7c69",
  "private_key": "-----BEGIN PRIVATE KEY-----\nMIIEv[... redacted from report ...] 5Kdkvg=\n-----END PRIVATE KEY-----\n",
  "client_email": "adwaw[...].com",
  "client_id": "105114036295455180401",
  "auth_uri": "https://accounts.google.com/o/oauth2/auth",
  "token_uri": "https://oauth2.googleapis.com/token",
  "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
  "client_x509_cert_url": "https://www.googleapis.com/robot/v1/metadata/x509/adwaw1f13f1f13-tkfe-sa%40andunduaindadaww.iam.gserviceaccount.com"
}|1
sqlite&gt;</code></pre><p>The Google VRP Team recognized our work by awarding us a $500 reward for uncovering this vulnerability. They believed the impact on the application wasn't severe enough to warrant a larger reward. I toyed with the idea of debating the reward amount with them, but ultimately decided against it. After all, the recognition of our efforts was a reward in itself, and that was more than enough for us.</p><h2 id="navgix-detecting-the-vulnerability-in-a-black-box-manner">NavGix: Detecting the vulnerability in a black-box manner</h2><p>There are several methods to detect this vulnerability without necessitating access to the Nginx configuration file. Initially, potential location aliases can be identified by extracting links from the HTML source-code on the website's main page. Subsequently, directory traversal can be attempted using the techniques outlined in the earlier sections of this report.</p><p>In the absence of extractable links, it is feasible to perform a minor brute-force attack targeting common aliases. The ensuing list has demonstrated promising results during our testing phase:</p><pre><code>	var dictionary = []string{
		"static",
		"js",
		"images",
		"img",
		"css",
		"assets",
		"media",
		"lib",
	}</code></pre><p>An automated tool, <a href="https://github.com/hakaioffsec/navgix?ref=labs.hakaioffsec.com">NavGix</a>, has been created to aid in the enumeration and testing of aliased directories for traversal vulnerabilities. It is publicly available for download and use on its respective <a href="https://github.com/hakaioffsec/navgix?ref=labs.hakaioffsec.com">GitHub</a> page.</p><figure><img src="https://labs.hakaioffsec.com/content/images/2023/06/image-25.png" alt="" loading="lazy" width="956" height="241" srcset="https://labs.hakaioffsec.com/content/images/size/w600/2023/06/image-25.png 600w, https://labs.hakaioffsec.com/content/images/2023/06/image-25.png 956w" sizes="(min-width: 720px) 720px"><figcaption>Sample usage of navgix</figcaption></figure><p>Upon the identification of a directory susceptible to traversal by NavGix, it becomes possible to employ additional tools to fuzz for other accessible folders or files within the traversed directory. The primary objective here should be to locate files of interest that could potentially provide further impact, such as a configuration file containing secrets, log files, or source-code.</p><h2 id="conclusion">Conclusion</h2><p>Wrapping up, while Nginx is a robust and incredibly versatile tool that fuels a significant portion of the internet, it's easily susceptible to certain inconsistencies. These potential pitfalls are often a result of misconfigurations, which can inadvertently transform this reliable powerhouse into a possible weak link. Nginx's approach to security leaves a significant onus on developers to avoid hazardous configurations, underscoring the importance of thorough understanding and cautious implementation.</p><p>Our journey through the world of open-source repositories and real-life case studies like Bitwarden and Google's HPC Toolkit underlines just how significant these vulnerabilities can be. It's a sobering reminder that even the most reliable systems can have their Achilles' heel.</p>
    </section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Threads, an Instagram app (917 pts)]]></title>
            <link>https://apps.apple.com/us/app/threads-an-instagram-app/id6446901002</link>
            <guid>36580192</guid>
            <pubDate>Mon, 03 Jul 2023 23:31:44 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://apps.apple.com/us/app/threads-an-instagram-app/id6446901002">https://apps.apple.com/us/app/threads-an-instagram-app/id6446901002</a>, See on <a href="https://news.ycombinator.com/item?id=36580192">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
  
<!---->
<!---->
<!---->
    


<!---->
    <section>
      <h2>iPhone Screenshots</h2>
  
</section>


  <div dir="" data-test-bidi=""><p>Say more with Threads — Instagram’s text-based conversation app</p><p>Threads is where communities come together to discuss everything from the topics you care about today to what’ll be trending tomorrow. Whatever it is you’re interested in, you can follow and connect directly with your favorite creators and others who love the same things — or build a loyal following of your own to share your ideas, opinions and creativity with the world.</p><p>Meta Terms: https://www.facebook.com/terms.php<br>Threads Supplemental Terms: https://help.instagram.com/769983657850450<br>Meta Privacy Policy: https://privacycenter.instagram.com/policy<br>Threads Supplemental Privacy Policy: https://help.instagram.com/515230437301944<br>Instagram Community Guidelines: https://help.instagram.com/477434105621119</p></div>

<!---->
<!---->
<!---->
<!---->
<!---->
<!---->
  <section>
  <div>
    <h2>
      App Privacy
    </h2>

    


  </div>

  <p>
    The developer, <span>Instagram, Inc.</span>, indicated that the app’s privacy practices may include handling of data as described below. For more information, see the <a href="https://privacycenter.instagram.com/policy">developer’s privacy policy</a>.
  </p>

  <div>
        
        <h3>Data Linked to You</h3>
        <p>The following data may be collected and linked to your identity:</p>
          <ul>
              <li classs="privacy-type__item">
                <span>
                  <span>
                    
                  </span>
                  <span>Health &amp; Fitness</span>
                </span>
              </li>
              <li classs="privacy-type__item">
                <span>
                  <span>
                    
                  </span>
                  <span>Purchases</span>
                </span>
              </li>
              <li classs="privacy-type__item">
                <span>
                  <span>
                    
                  </span>
                  <span>Financial Info</span>
                </span>
              </li>
              <li classs="privacy-type__item">
                <span>
                  <span>
                    
                  </span>
                  <span>Location</span>
                </span>
              </li>
              <li classs="privacy-type__item">
                <span>
                  <span>
                    
                  </span>
                  <span>Contact Info</span>
                </span>
              </li>
              <li classs="privacy-type__item">
                <span>
                  <span>
                    
                  </span>
                  <span>Contacts</span>
                </span>
              </li>
              <li classs="privacy-type__item">
                <span>
                  <span>
                    
                  </span>
                  <span>User Content</span>
                </span>
              </li>
              <li classs="privacy-type__item">
                <span>
                  <span>
                    
                  </span>
                  <span>Search History</span>
                </span>
              </li>
              <li classs="privacy-type__item">
                <span>
                  <span>
                    
                  </span>
                  <span>Browsing History</span>
                </span>
              </li>
              <li classs="privacy-type__item">
                <span>
                  <span>
                    
                  </span>
                  <span>Identifiers</span>
                </span>
              </li>
              <li classs="privacy-type__item">
                <span>
                  <span>
                    
                  </span>
                  <span>Usage Data</span>
                </span>
              </li>
              <li classs="privacy-type__item">
                <span>
                  <span>
                    
                  </span>
                  <span>Sensitive Info</span>
                </span>
              </li>
              <li classs="privacy-type__item">
                <span>
                  <span>
                    
                  </span>
                  <span>Diagnostics</span>
                </span>
              </li>
              <li classs="privacy-type__item">
                <span>
                  <span>
                    
                  </span>
                  <span>Other Data</span>
                </span>
              </li>
          </ul>
      </div>

    <p>Privacy practices may vary, for example, based on the features you use or your age. <a href="https://apps.apple.com/story/id1538632801">Learn&nbsp;More</a></p>
</section>


<section>
  <div>
    <h2>Information</h2>
    <dl>
        <p>
          <dt>Seller</dt>
          <dd>
            Instagram, Inc.
          </dd>
        </p>
        <p>
          <dt>Size</dt>
          <dd aria-label="254.3 megabytes">254.3 MB</dd>
        </p>
        <p>
          <dt>Category</dt>
          <dd>
              <a href="https://itunes.apple.com/us/genre/id6005" data-metrics-click="{&quot;actionType&quot;:&quot;navigate&quot;,&quot;actionUrl&quot;:&quot;https://itunes.apple.com/us/genre/id6005&quot;,&quot;targetType&quot;:&quot;link&quot;,&quot;targetId&quot;:&quot;GenrePage&quot;}">
                Social Networking
              </a>
          </dd>
        </p>
      <div>
        <dt>Compatibility</dt>
          <dd>
              <dl>
                <dt>
                  iPhone
                </dt>
                <dd>Requires iOS 14.0 or later.
                </dd>
              </dl>
              <dl>
                <dt>
                  iPod&nbsp;touch
                </dt>
                <dd>Requires iOS 14.0 or later.
                </dd>
              </dl>
          </dd>
      </div>
<!---->      <div>
        <dt>Languages</dt>
          <dd dir="">
        

                    <p data-test-bidi="">English, Croatian, Czech, Danish, Dutch, Finnish, French, German, Greek, Hindi, Hungarian, Indonesian, Italian, Japanese, Korean, Malay, Norwegian Bokmål, Polish, Portuguese, Romanian, Russian, Simplified Chinese, Slovak, Spanish, Swedish, Tagalog, Thai, Traditional Chinese, Turkish, Ukrainian, Vietnamese</p>

    


<!----></dd>


      </div>
      <p>
        <dt>Age Rating</dt>
        <dd>
             12+
              <span>Infrequent/Mild Alcohol, Tobacco, or Drug Use or References</span>
              <span>Infrequent/Mild Profanity or Crude Humor</span>
              <span>Infrequent/Mild Sexual Content and Nudity</span>
              <span>Infrequent/Mild Mature/Suggestive Themes</span>
        </dd>
      </p>
<!---->      <p>
        <dt>Copyright</dt>
        <dd>© 2023 Instagram, LLC.</dd>
      </p>
        <p>
          <dt>Price</dt>
          <dd>Free</dd>
        </p>
<!---->
    </dl>
  </div>
  <div>
    <ul>
<!---->        <li>
          <a data-metrics-click="{&quot;actionType&quot;:&quot;navigate&quot;,&quot;targetType&quot;:&quot;link&quot;,&quot;targetId&quot;:&quot;LinkToAppSupport&quot;}" href="https://help.instagram.com/179980294969821">
            App Support
          </a>
        </li>
<!---->        <li>
          <a data-metrics-click="{&quot;actionType&quot;:&quot;navigate&quot;,&quot;targetType&quot;:&quot;link&quot;,&quot;targetId&quot;:&quot;LinkToPrivacyPolicy&quot;}" href="https://privacycenter.instagram.com/policy">
            Privacy Policy
          </a>
        </li>
    </ul>
  </div>
</section>

<section>
  <ul>
<!---->      <li>
        <a data-metrics-click="{&quot;actionType&quot;:&quot;navigate&quot;,&quot;targetType&quot;:&quot;link&quot;,&quot;targetId&quot;:&quot;LinkToAppSupport&quot;}" href="https://help.instagram.com/179980294969821">
          App Support
        </a>
      </li>
<!---->      <li>
        <a data-metrics-click="{&quot;actionType&quot;:&quot;navigate&quot;,&quot;targetType&quot;:&quot;link&quot;,&quot;targetId&quot;:&quot;LinkToPrivacyPolicy&quot;}" href="https://privacycenter.instagram.com/policy">
          Privacy Policy
        </a>
      </li>
  </ul>
</section>

<!---->
<!---->
    <section>
      <p>
        <h2>
          More By This Developer
        </h2>
        <!---->
      </p>

      
    </section>

<!---->

<!---->

<!----></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Things that surprised me while running SQLite in production (195 pts)]]></title>
            <link>https://www.joseferben.com/posts/3-things-that-surprised-me-while-running-sqlite-in-production/</link>
            <guid>36579347</guid>
            <pubDate>Mon, 03 Jul 2023 21:57:17 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.joseferben.com/posts/3-things-that-surprised-me-while-running-sqlite-in-production/">https://www.joseferben.com/posts/3-things-that-surprised-me-while-running-sqlite-in-production/</a>, See on <a href="https://news.ycombinator.com/item?id=36579347">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p data-block-key="pb5p8">I've been using SQLite in several production projects for six months, and I've encountered some surprising aspects."</p></div><div><div><h2 data-block-key="al6to">How I use SQLite</h2><p data-block-key="cc1if">I use SQLite in three Django apps and a Node-based MMORPG that's still in the early stages of development."</p><p data-block-key="drhum">The Django apps have 2 web workers (= processes) each and 2 of the 3 apps have additional background worker processes. One app is running 24 background worker processes.</p><p data-block-key="8cg87">The MMORPG snapshots the game state into a single SQLite database within a Node process.</p><h2 data-block-key="67ftq">Why?</h2><p data-block-key="2c6s7">Because <a href="https://fly.io/blog/all-in-on-sqlite-litestream/">fly.io</a> and <a href="https://hn.algolia.com/?dateRange=all&amp;page=0&amp;prefix=false&amp;query=sqlite&amp;sort=byPopularity&amp;type=story">The Orange Website</a> said it's a good idea. No seriously, SQLite received so much goodwill and attention in the last few years that I decided to have a closer look.</p><p data-block-key="f68rr">I am a minimalist in my personal life and I am convinced that you should start out simply, like <i>stupidly</i> simple.</p><p data-block-key="7mt7d">In my opinion, Postgres is boring but not necessarily simple. There are many knobs that can be tweaked. I don't think you need to decide between one or the other, I think Postgres is a natural step from SQLite once you out grow SQLite.</p><p data-block-key="64r2h">The first thing I've come to appreciate about SQLite is its documentation.. I felt like I could wrap my head around the tool in a matter of hours. It's very honest about what SQLite can do under which circumstances. And more important, what it<i> can't</i> do.</p></div>
<div><h2 data-block-key="j4fe2">1. In-memory SQLite is not too exciting</h2><p data-block-key="8oaca">At least not in my JavaScript benchmarks where I compared SQLite in-memory and SQLite backed by a file. I tested inserting and updating 1k, 10k and 100k rows.</p><p data-block-key="4rvlm">This one surprised me because in my mind</p><ul><li data-block-key="78d9m">memory is fast and</li><li data-block-key="3glbg">I/O is slow</li></ul><p data-block-key="4iqtb">I guess this is what years of dealing with databases over networks by using ORMs does to you.</p><p data-block-key="8t1vl">I had hoped that changing</p></div>
<div><pre><span></span><span>const</span><span> </span><span>db</span><span> </span><span>=</span><span> </span><span>new</span><span> </span><span>Database</span><span>(</span><span>"db.sqlite3"</span><span>)</span>
</pre></div>
<p data-block-key="20f5v">to</p>
<div><pre><span></span><span>const</span><span> </span><span>db</span><span> </span><span>=</span><span> </span><span>new</span><span> </span><span>Database</span><span>(</span><span>":memory:"</span><span>)</span>
</pre></div>
<div><p data-block-key="3ue2g">would speed up everything by x100 and all my problems would go away.</p><p data-block-key="aatfv">Similarly, when I switched my Django tests from file to in-memory, there wasn't much of a difference.</p><p data-block-key="91va9">I suspect that the data in my benchmarks was too small, so that SQLite <a href="https://stackoverflow.com/a/764743">never flushed</a> the page cache. I know that in-memory SQLite has its uses, but personally, I didn't notice a significant difference in my everyday work as a web developer.</p></div>
<div><h2 data-block-key="j4fe2">2. SQLite is surprisingly fast</h2><p data-block-key="5u6u5">At least compared to native JavaScript data structures. I ran some benchmarks for inserting and updating entities stored as JSON blobs. I compared</p></div>
<div><pre><span></span><span>const</span><span> </span><span>db</span><span>:</span><span> </span><span>Map</span><span>&lt;</span><span>string</span><span>,</span><span> </span><span>Entity</span><span>&gt;</span><span> </span><span>=</span><span> </span><span>new</span><span> </span><span>Map</span><span>()</span>
</pre></div>
<div><p data-block-key="al6to">with storing entities in a in-memory SQLite database using better-sqlite3.</p><p data-block-key="bepuj">What's your intuition on this?</p><p data-block-key="6518e">The JavaScript Map was only 1-2 orders of magnitude faster! This blew my mind. I expected SQLite to be at least 1000x slower than a data structure built for inserting and retrieving things by key, with all the V8 goodness and what not.</p></div>
<div><h2 data-block-key="j4fe2">3. SQLite feels surprisingly concurrent</h2><p data-block-key="ckdup">Of course, SQLite is not truly concurrent. No matter what you do, there can only be a single writer process. But with the following setup</p></div>
<div><pre><span></span><span>@receiver</span><span>(</span><span>connection_created</span><span>)</span>
<span>def</span> <span>configure_sqlite</span><span>(</span><span>sender</span><span>,</span> <span>connection</span><span>,</span> <span>**</span><span>kwargs</span><span>):</span>
    <span>if</span> <span>connection</span><span>.</span><span>vendor</span> <span>==</span> <span>"sqlite"</span><span>:</span>
        <span>cursor</span> <span>=</span> <span>connection</span><span>.</span><span>cursor</span><span>()</span>
        <span>cursor</span><span>.</span><span>execute</span><span>(</span><span>"PRAGMA journal_mode = WAL;"</span><span>)</span>
        <span>cursor</span><span>.</span><span>execute</span><span>(</span><span>"PRAGMA busy_timeout = 5000;"</span><span>)</span>
        <span>cursor</span><span>.</span><span>execute</span><span>(</span><span>"PRAGMA synchronous = NORMAL;"</span><span>)</span>
</pre></div>
<div><p data-block-key="1j2f0">SQLite certainly feels quite concurrent.</p><p data-block-key="ej15d">Many consider Python a "slow blocking" language. In one of my Django apps I have 24 background worker processes writing to the database 4-5 times per minute and 2 web workers with 1-2 writes per second. In total there are 26 processes potentially writing at the same time.</p><p data-block-key="583t">The SQLite driver complains about a locked database maybe once every week. So far, none of the human writers have been affected. All the stack traces came from background workers which simply retry.</p><p data-block-key="c42oo">There is plenty of room for improvements. For starters, the workers probably shouldn't write directly to the application database but instead to some worker database.</p></div>
<div><h2 data-block-key="6stxk">Conclusion</h2><p data-block-key="5jd48">I'll continue testing SQLite with various workloads to see how it responds. Let's see how long I can keep going without having to switch to Postgres.</p></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Norway discovers Phosphate deposit large enough to supply world for 100 years (191 pts)]]></title>
            <link>https://www.independent.co.uk/tech/battery-solar-panels-norway-phosphate-b2368444.html</link>
            <guid>36578489</guid>
            <pubDate>Mon, 03 Jul 2023 20:40:22 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.independent.co.uk/tech/battery-solar-panels-norway-phosphate-b2368444.html">https://www.independent.co.uk/tech/battery-solar-panels-norway-phosphate-b2368444.html</a>, See on <a href="https://news.ycombinator.com/item?id=36578489">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="main"><div data-newsletter-key="receiveIndyBreakingNews"><p><h3 data-nosnippet="">For free real time breaking news alerts sent straight to your inbox sign up to our breaking news emails</h3><h3 data-nosnippet="">Sign up to our free breaking news emails</h3></p></div><p>A huge phosphate rock deposit discovered in <a href="https://www.independent.co.uk/topic/norway">Norway</a> contains enough minerals to meet the global demand for <a href="https://www.independent.co.uk/topic/batteries">batteries</a> and <a href="https://www.independent.co.uk/topic/solar-panels">solar panels</a> for the next 100 years, according to the mining company that controls it.</p><p>Norge Mining said up to 70 billion tonnes of the non-renewable resource may have been uncovered in south-western Norway, alongside deposits of other strategic minerals like titanium and vanadium.</p><p>Phosphate rock contains high concentrates of phosphorus, which is a key component for building green technologies but currently faces significant supply issues.</p><p>Phosphorus was first discovered in 1669 by German scientist Hennig Brandt, who was searching for the philosopher’s stone. While it proved ineffective in turning ordinary metals into gold, it has become an essential component in lithium-iron phosphate batteries in <a href="https://www.independent.co.uk/topic/electric-cars">electric cars</a>, as well as for solar panels and computer chips.</p><p>Russia previously controlled the world’s largest ultra-pure phosphate rock deposits, with the European Union warning that these “critical raw materials” have a high supply risk.</p><p>The EU is currently almost entirely dependent on imports of phosphate rock from the rest of the world, according to a report from The Hague Centre for Strategic Studies, with China, Iraq and Syria also home to large deposits.</p><p><a rel="nofollow" target="_blank" href="https://www.phosphorusplatform.eu/images/download/HCSS_17_12_12_Phosphate.pdf">The report</a>, which was published before the discovery of the massive Norwegian deposit, warned that the EU should be “concerned about phosphate rock shortages”.</p><p>An <a rel="nofollow" data-affiliate="true" target="_blank" href="http://go.redirectingat.com/?id=44681X1458326&amp;url=https%3A%2F%2Fwww.nature.com%2Farticles%2Fs43246-022-00236-4&amp;sref=https://www.independent.co.uk/tech/battery-solar-panels-norway-phosphate-b2368444.html">article</a> in the scientific journal <em>Nature</em> last year warned of imminent supply disruptions of phosphorus, citing Russia’s invasion of Ukraine and the subsequent economic sanctions as a potential cause of market volatility.</p><p>The global economy consumes an estimated 50 million tonnes of phosphorus each year, with scientists warning earlier this year that the planet could face a “phosphogeddon” if supply trends continue.</p><p>“The buyers’ market is becoming increasingly crowded by limited trade – due to political instability in several source countries, as well as international sanctions imposed on others,” Norge Mining noted in a <a rel="nofollow" target="_blank" href="https://norgemining.com/2023/06/21/phosphorus-a-victim-of-its-own-success/">June blog post</a>. “This is forcing importers to fear an impending crisis.”</p><figure><figcaption><p>Tesla CEO Elon Musk announced in Shanghai on 7 January, 2020, that Model 3 vehicles made in China would used lithium iron phosphate batteries</p><p> (Getty Images)</p></figcaption></figure><p>Norway’s minister of trade and industry, Jan Christian Vestre, said last month that the government was considering fast-tracking a giant mine in Helleland once analysis is completed on 47 miles of drill cores. If approval is given, the first major mine could begin operation by 2028.</p><p>The politician said Norway’s “obligation” was to develop “the world’s most sustainable mineral industry” following the discovery of the minerals.</p><p>The mining plans already have the support of the European Raw Materials Alliance, according to <a rel="nofollow" target="_blank" href="https://www.aftenbladet.no/direkte/i/oW1nAK/aftenbladets-oekonomistudio">local reports</a>, while local consultations continue. </p><p>A spokesperson for the European Commission described the discovery as “great news” for meeting the objectives of the Commission’s raw material objectives, with Norge Mining telling <a rel="nofollow" target="_blank" href="https://www.euractiv.com/section/energy-environment/news/great-news-eu-hails-discovery-of-massive-phosphate-rock-deposit-in-norway/">Euractiv</a> that the projected 4,500-metre-deep ore body would theoretically be capable of meeting global demand for the next century.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Against Alcohol (115 pts)]]></title>
            <link>https://www.thefitzwilliam.com/p/against-alcohol</link>
            <guid>36577760</guid>
            <pubDate>Mon, 03 Jul 2023 19:33:26 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.thefitzwilliam.com/p/against-alcohol">https://www.thefitzwilliam.com/p/against-alcohol</a>, See on <a href="https://news.ycombinator.com/item?id=36577760">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><article><div dir="auto"><p><em>Note: all statistics are from the book unless otherwise indicated. The book mainly concerned itself with the United Kingdom, but I think the lessons are broadly applicable to other Western countries too.</em></p><p><span>The overriding impression I got from reading </span><em><a href="https://www.amazon.co.uk/Drink-Science-Alcohol-Your-Health-ebook/dp/B07SZLPS5B/" rel="">Drink?</a><span> </span></em><span>by David Nutt is that alcohol is Really Bad:</span></p><blockquote><p>Alcohol use is one of the top five causes of disease and disability in almost all countries in Europe. In the UK, alcohol is now the leading cause of death in men between the ages of 16 and 54 years, accounting for over 20 per cent of the total. More than three quarters of liver cirrhosis deaths, 7 per cent of cancer deaths and 25 per cent of injury deaths in adults under 65 years of age in Europe in 2004 were estimated to be due to alcohol. According to the government, alcohol is the third leading risk factor for death and disability after smoking and obesity.</p></blockquote><p>Alcohol can also exacerbate mental health problems, especially anxiety and depression. One major American study suggested that up to a quarter of young alcoholics have a social anxiety disorder.</p><p>This isn’t a big surprise, of course. What I didn’t realise before, though, is how poorly evidenced the beneficial effects of alcohol are. Looking at the available studies, Nutt writes that the positive effect on cardiovascular health has never been definitely proven (i.e. beyond mere association), and even if there is a small positive effect, the optimal level of consumption would be around one unit a day. The benefits don’t outweigh all the other risks.</p><p><span>The impact of alcohol on the UK is pretty significant. 10.8m British people drink at levels posing some risk to their health, and 1.6m ‘may have some level of alcohol dependence’. Different figures, from the NHS, suggest around 9% of men and 3% of women show such signs (which my back-of-the-envelope calculations suggest would be something like 3.3m people in total). </span><a href="https://www.hrb.ie/fileadmin/2._Plugin_related_files/Publications/2021_publications/2021_HIE/Evidence_Centre/HRB_Alcohol_Overview_Series_11.pdf" rel="">In Ireland</a><span>, 54.5% of men engage in ‘heavy episodic drinking’, along with 23.3% of women.</span></p><p><span>It’s estimated that alcohol contributes to 30,000 deaths a year in England, Scotland and Wales, and is responsible for 5% of the </span><a href="https://www.who.int/news-room/fact-sheets/detail/alcohol" rel="">global disease burden</a><span>.</span></p><p>There is enough evidence here to make a strong case against alcohol on a number of grounds (which Nutt himself does not quite do).</p><p><span>Alcohol is a drain on economic growth, damaging productivity and forcing us to spend money on healthcare that could be used elsewhere. The CDC estimated the cost of hangovers to the American economy as $249bn in 2010 [</span><strong>Edit</strong><span>: Readers are correct to point out that this estimate is implausibly high. Bizarrely, Nutt cites this figure as $180bn in the iBooks version of </span><em>Drink?, </em><span>but as $249bn in the Kindle version, even though the sentence is otherwise identical. The </span><a href="https://www.cdc.gov/media/releases/2015/p1015-excessive-alcohol.html" rel="">website</a><span> he cites estimates $249bn as the </span><em>total </em><span>costs of alcohol to America, and $179bn as the cost in terms of lost productivity. The site makes no mention of hangovers.] The Institute of Alcohol Studies estimates a cost of £1.4bn a year for British productivity. (The charity Alcohol Change UK puts the productivity damage at </span><a href="https://alcoholchange.org.uk/alcohol-facts/fact-sheets/alcohol-in-the-workplace" rel="">£7bn a year</a><span> instead.) If you think economic growth is </span><a href="https://www.amazon.co.uk/Stubborn-Attachments-Prosperous-Responsible-Individuals/dp/1732265135/" rel="">important</a><span>, then alcohol is not worth the hassle.</span></p><p><span>Treating the results of excessive alcohol consumption is a huge burden for the NHS. In England alone, around </span><a href="https://digital.nhs.uk/data-and-information/publications/statistical/statistics-on-alcohol" rel="">350,000 hospital admissions per year</a><span> are mainly attributable to alcohol.</span></p><p><span>It’s strange that this isn’t talked about more. Polls </span><a href="https://www.ipsos.com/en-uk/public-satisfaction-nhs-high-waiting-times-are-publics-priority" rel="">suggest</a><span> that the NHS is the one institution that almost everyone in Britain cares about. So why not ease the burden on its workers – and the public purse – by reducing our alcohol consumption?</span></p><p>Alcohol also fuels violence: victims thought their offenders were under the influence of alcohol in 40% of all violent crimes in 2016/17&nbsp; – that’s half a million incidents. (It’s hard to know how accurate this figure is, but even if it was only 20% of the total, that’s a lot of crimes…)</p><p>These figures include sexual violence. Alcohol is the most common date rape drug, involved in 46% of cases, while drugs only featured in 33% and sedative drugs in just 2%.</p><blockquote><p>One in three women have been sexually taken advantage of while under the influence of drugs or alcohol, mostly in private homes by someone they know, according to the 2019 Global Drug Survey. Nearly 90 per cent of these cases involved alcohol.</p></blockquote><p>As Nutt makes clear, the blame lies with the assailants here, not the victims. But alcohol’s role in violence and sexual assault is rarely discussed.&nbsp;</p><p>This is, then, the case against alcohol: it undermines our health and our economy, it causes violence, including sexual violence, and it’s an addictive drug that ensnares people across society.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Ff8bf03b6-6b72-4762-aa28-a99316dc8239_1280x1280.jpeg" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Ff8bf03b6-6b72-4762-aa28-a99316dc8239_1280x1280.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Ff8bf03b6-6b72-4762-aa28-a99316dc8239_1280x1280.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Ff8bf03b6-6b72-4762-aa28-a99316dc8239_1280x1280.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Ff8bf03b6-6b72-4762-aa28-a99316dc8239_1280x1280.jpeg 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Ff8bf03b6-6b72-4762-aa28-a99316dc8239_1280x1280.jpeg" width="1280" height="1280" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/f8bf03b6-6b72-4762-aa28-a99316dc8239_1280x1280.jpeg&quot;,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1280,&quot;width&quot;:1280,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Ff8bf03b6-6b72-4762-aa28-a99316dc8239_1280x1280.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Ff8bf03b6-6b72-4762-aa28-a99316dc8239_1280x1280.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Ff8bf03b6-6b72-4762-aa28-a99316dc8239_1280x1280.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Ff8bf03b6-6b72-4762-aa28-a99316dc8239_1280x1280.jpeg 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption><span>Maybe he’s only right about the first part… </span><a href="https://tvgag.com/gag/to-alcohol/" rel="">Source</a><span>. </span></figcaption></figure></div><p>The evidence here is so damning that I wonder how Nutt can still suggest, in good conscience, that we should still drink (within limits). Some of the arguments he makes in favour of alcohol are ridiculous:</p><blockquote><p>A glass to hold gives us something to do with our hands in awkward situations, particularly now smoking has become so vilified.</p></blockquote><p>He adds that food and socialising, which regularly go hand-in-hand with alcohol, are good things. I agree. But there’s no reason that you can’t drink something non-alcoholic while you enjoy dinner and company. If you really need to hold a glass, must it contain alcohol?</p><p>Alcohol is important for social rituals, as Nutt points out:</p><blockquote><p>Nearly all of our celebration rituals revolve around alcohol, from the cradle to the grave. We wet the baby’s head, we toast exam results and birthdays, we crack open the fizz at both wedding breakfasts and divorce parties. And we say goodbye to our loved ones with alcohol at a funeral wake (and drown our sorrows too).</p></blockquote><p><span>Left unaddressed is the presumption that alcohol is necessary to any of those (good and often great) </span><a href="https://www.nytimes.com/2019/04/22/opinion/rituals-meaning.html" rel="">rituals</a><span>. It’s not. You can get most (perhaps all) of those social benefits without alcohol. Drinks with friends don’t have to be alcoholic.</span></p><p>It would be very tough to change those cultural norms – although, as Nutt notes, an increasing number of young people are eschewing alcohol altogether. This trend seems to be linked to a greater focus on health and ‘wellness’, although it may also be because people are taking other drugs instead.</p><p><span>Notably, that there are enormous differences in the levels of alcohol consumption </span><a href="https://ourworldindata.org/grapher/total-alcohol-consumption-per-capita-litres-of-pure-alcohol" rel="">around the world</a><span>. Some of this is because of religious prohibitions on alcohol in Muslim-majority countries, or because many people carry genes that mean they feel </span><a href="https://en.wikipedia.org/wiki/Alcohol_flush_reaction" rel="">flushed and nauseous after consuming alcohol</a><span> (commonly known as Asian flush). But even among countries with no religious or biological hindrances to alcohol, consumption varies a lot, and Britain and Ireland do unusually poorly on this front.&nbsp;</span></p><p><span>One might assume that the British (and Irish) have always been habitual drunks. In fact, there has been </span><a href="https://publications.parliament.uk/pa/cm200910/cmselect/cmhealth/151/15106.htm" rel="">significant variation</a><span> in the amount of alcohol British people have consumed over the past few centuries. We’re at (or just after) the peak of a decades-long trend of more alcohol being consumed in Britain. Figures for Ireland are less easy to come by, but you also see the </span><a href="https://web.archive.org/web/20190227060129/https://alcoholireland.ie/facts/alcohol-related-harm-facts-and-statistics/" rel="">ebb</a><span> and </span><a href="https://www.drugsandalcohol.ie/6753/2/Allwright_2733_The_buden_of_alcohol_misuse_on_emergency.pdf" rel="">flow</a><span> of alcohol consumption over time, including the impact of taxes and the 2008 recession.</span></p><p>Alcohol consumption varies across place and across time, often as a result of policies or moral campaigning. Cultural change is both possible and desirable.&nbsp;</p><p>Alcohol is regulated with a light touch, in large part due to the cosy relationship the drinks industry has developed with politicians. Nutt relates a sad tale of a cabinet office committee under Tony Blair that proposed new policies to tackle alcohol addiction, but was scuppered by a drinks industry lobbying effort. This is not a surprise:</p><blockquote><p>Despite repeating their message of ‘sensible drinking’ at every opportunity, the drinks industry wants you to keep drinking. That is its reason for existing. One estimate is that, if everyone drank within recommended limits, the industry would lose £13 billion. That’s a lot of lost profit. Its aim is often aided by the government, which wants the tax income.</p></blockquote><p>The government is pretty much in the pocket of this industry, with gifts to MPs in the ‘All-Party Parliamentary Beer Group’ every year and the perceived importance of the tax revenue from alcohol. There is something repulsive about MPs receiving these gifts while alcohol causes so much harm in society. And they are being shortsighted, fiscally:</p><blockquote><p>…it’s been estimated that when you add in the costs of alcohol to society, there is a net loss to the Exchequer. This is undeniably a difficult argument to disentangle economically, and a complicated sum. But the costs of alcohol to society are relatively well established. These are: £3.5bn on health, especially hospital admissions and accident and emergency attendances; £6.5bn for policing drunkenness; £20bn for lost productivity through hangovers. The total is £30 billion.</p></blockquote><p><span>[</span><strong>Edit</strong><span>: Readers may notice that this estimate for lost productivity due to hangovers is much larger than the previous estimates for </span><em>total </em><span>lost productivity in Britain due to alcohol. The editor suspects that David Nutt is carelessly using the phrase “lost productivity through hangovers” as a synonym for lost productivity. Nutt’s source is the </span><a href="https://alicerap.eu/" rel="">website</a><span> for a research programme, but he doesn’t mention a specific paper, and they have a large number of publications about alcohol.]  </span></p><p>Even public health messaging that encourages responsible drinking is funded by the drinks industry. While this is a far cry from the propaganda that was once spread by Big Tobacco, often governments don’t have the money to run awareness campaigns without hefty “donations” from the drinks lobby:</p><blockquote><p>Public Health England wanted to do an advertising campaign promoting (at least) two drink-free days a week. This is sensible, safe and appropriate advice. But PHE doesn’t have much money for public advertising so they agreed to partner with Drinkaware, a charity that’s funded by the alcohol industry . . . It wasn’t the content of the campaign that was contentious, it was where the money was coming from.</p></blockquote><p>Nutt suggests his own set of policy solutions: taxing drinks by the amount of alcohol in them and increase that tax back to 1950s levels (i.e. triple it); stop selling strong alcohol in supermarkets; make it a law that all alcohol outlets must sell non-alcoholic drinks; install breathalysers in pubs and stop drunk people from buying more alcohol; banning all alcohol advertising; and many more.</p><p><span>He focuses most on minimum unit pricing (MUP), i.e. a floor on the price at which a unit of alcohol can be sold. As the government has not raised its duty on alcohol, it now costs a third of what it did in 1970 in </span><a href="https://en.wikipedia.org/wiki/Real_versus_nominal_value_(economics)" rel="">real</a><span> terms. The duty paid in England varies wildly by the type of drink, rather than directly relating to the amount of alcohol in it, so it’s possible to purchase a lot of alcohol for little money.</span></p><p>Scotland introduced MUP in 2018 – with initially positive results:</p><blockquote><p>…the amount of alcohol bought in shops and supermarkets per person per week fell by 1.2 units (just over half a pint of beer or a measure of spirits) compared with what would have been drunk without MUP. In England over the same time, consumption increased. The biggest drop – two units a week – was in the heaviest fifth of drinkers.&nbsp;</p></blockquote><p>Targeting the heaviest drinkers is important because they are the worst affected; they account for the vast majority of the health costs.&nbsp;</p><p>The Republic of Ireland introduced MUP in 2022, but it’s too soon to understand the effects.&nbsp;</p><p><span>It’s often believed that people, particularly alcoholics, will consume just as much alcohol if it’s more expensive. But the closest thing that economics has to an iron law is that </span><em>demand curves slope downwards: </em><span>If you make something more expensive, people will typically consume it less, at least to some small extent. For example, if you make beer 1% more expensive, people will drink it </span><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3991422/" rel="">0.98% less</a><span>. (Of course, we should also be concerned with the possibility that higher alcohol prices will result in substitution for more dangerous drugs.)</span></p><p>France had an extremely high rate of liver cirrhosis in the 1980s as a result of alcohol consumption. They tackled this by focusing on advertising (banning the drinks industry from it, basically), health warnings on bottles (‘alcohol abuse is dangerous for health’), price (restrictions on ‘happy hours’), and driving (reducing the blood alcohol content limit).&nbsp;The French wine industry has turned out to be more profitable following these changes – but the UK hasn’t followed suit:</p><blockquote><p>The UK drinks industry know this data. They know that if we went down the route of raising the price of alcohol, they would be more profitable over time. In my opinion, the reason they don’t is that making money in the short term is so easy. And they think that if they make any concessions in this direction, people will begin to question all our other beliefs around alcohol and health.</p></blockquote><p><span>Is this a case of companies prioritising short-term economic performance over the long run? It’s doubtful. Higher prices would shrink the market for alcohol. If policies aimed at dissuading drinking actually </span><em>grow </em><span>the profits of drinks companies, something has gone wrong. But if Nutt is still somehow correct, then presumably the drinks businesses must fear the consequences of temporary disruption; perhaps each is worried that they wouldn’t survive a shakeup.&nbsp;</span></p><p><span>Nutt also favours the </span><a href="https://en.wikipedia.org/wiki/Alcoholic_drinks_in_Sweden#Regulation_and_taxation" rel="">Swedish model</a><span>, in which only government shops, open at certain times of day, are allowed to sell alcohol of more than 3.5% ABV (</span><a href="https://en.wikipedia.org/wiki/Alcohol_by_volume" rel="">Alcohol By Volume</a><span>):</span></p><blockquote><p>This system has led to the Swedes drinking roughly three-quarters of what we drink per year in the UK. And to a rate of deaths from liver cirrhosis approximately half of ours. This shows, yet again, how small changes in consumption lead to bigger health gains.</p></blockquote><p>He fails to demonstrate that these government-run shops cause this effect, but still, it seems like a sound policy.</p><p><span>So: Alcohol is bad, too much alcohol is </span><em>really</em><span> bad, and we could go a significant distance toward solving this problem if we could work out the political economy a bit better. But we can’t work out the political economy, at least for now. Unless there is a sudden national temperance movement, a combination of inertia and the drinks industry’s lobbying efforts means that change is unlikely.</span></p><p>Alcohol’s damaging impact on society seems doomed to remain. You could lobby your MP, and if enough people did so effectively, then maybe the drinks industry would eventually be cowed. But this is unsatisfactory. This book shows that so much of alcohol consumption is cultural; it’s just ‘the done thing’ to go out for an alcoholic drink or ten with your mates. Unacceptably high levels of drinking are a big part of the culture of Britain and Ireland.&nbsp;</p><p><span>The winners in this equilibrium are people who aren’t genetically predisposed to alcohol addiction, don’t feel the need for </span><a href="https://en.wikipedia.org/wiki/Dutch_courage" rel="">Dutch courage</a><span>, or, perhaps, are successful or content in different spheres of their lives. Some successful people are vulnerable too, in a different way – being wined and dined if you’re an executive, or trying to climb a corporate ladder by getting drinks after work. Nonetheless, it’s wrong that the privileged class of people who can manage this drug effectively do not try harder to make sure that the underprivileged, vulnerable members of society don’t end up addicted to alcohol.&nbsp;</span></p><p>I don’t enjoy drinking alcohol, frankly. I drink a little bit on some social occasions, but, following my arguments here, I’m not sure that I should. Abstention from alcohol is more or less costly for different individuals, and I am one of those fortunate enough to manage it with ease.</p><p><span>It’s possible to consume alcohol in a safe manner, with risks to your long-term health that you might consider acceptable, if you enjoy drinking it. But, if you do so, then, at the </span><a href="https://www.econlib.org/library/Topics/College/margins.html" rel="">margin</a><span>, you are contributing to the idea that it’s normal to drink it. And that norm should be broken down. Drinking alcohol should always be a choice, not a default.&nbsp;</span></p><p>This social benefit of teetotalism is especially important to remember if you have negative associations with the groups, such as conservative Christians, who have campaigned against alcohol.&nbsp;&nbsp;</p><p><span>Modern liberalism has no real argument against people harming themselves with alcohol, if that’s what they want to do. In the absence of a Christian or other religious framework, it’s quite difficult to argue that you </span><em>should</em><span> do anything about people destroying their lives with alcohol. Who can tell you what makes your life worthwhile?</span></p><p><span>For example, in the 1980s, America introduced the National Minimum Drinking Age Act, raising the drinking age to 21, and Nutt writes that “this law … may have saved hundreds of thousands of lives”.</span></p><p><span> But Nutt doesn’t want to raise the minimum drinking age, despite this data:</span></p><blockquote><p>If someone can vote, if they can join the army, fight and die, get married, then they should be allowed to buy alcohol.</p></blockquote><p><span>Granted, there is a certain logic here. Yet the same argument could be made about cocaine or heroin – you’re an adult, you can decide (Nutt has been willing to follow his logic to its conclusion for </span><a href="https://en.wikipedia.org/wiki/David_Nutt#%22Equasy%22" rel="">ecstasy</a><span>). Those drugs are damaging to society, and I don’t think anyone has a ‘right’ to take them. But if we simply believe that each person is autonomous from age 18, entirely in charge of themselves, then we have limited moral arguments against drugs of any kind. If a moral framework of individual responsibility is not available to British and Irish society anymore, then perhaps individual teetotalism is the only way to go. That way the norm of alcohol consumption can be undermined, one person at a time.&nbsp;</span></p><p>Alcohol occupies a sinister position in British and Irish society and culture. But there is a better way, with stricter rules and different norms. You don’t have to fully agree with my prescriptions here to wonder what a society with no alcohol problems would look like. Formerly wasted talent would be used in the economy, countless lives would be saved, and families and relationships would be healthier and less violent. If we want to get there, we need to talk about the problem of alcohol.</p><p><em><span>Fergus McCullough works at an energy startup and holds an Emergent Ventures grant. An earlier version of this essay appeared on his </span><a href="https://fergus-mccullough.com/index.php/2021/04/09/against-alcohol/" rel="">blog</a><span>.</span></em></p></div></article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Can Dell’s 6K monitor beat their 8K monitor? (228 pts)]]></title>
            <link>https://michael.stapelberg.ch/posts/2023-07-03-dell-u3224kba-32-inch-6k-monitor/</link>
            <guid>36577536</guid>
            <pubDate>Mon, 03 Jul 2023 19:12:59 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://michael.stapelberg.ch/posts/2023-07-03-dell-u3224kba-32-inch-6k-monitor/">https://michael.stapelberg.ch/posts/2023-07-03-dell-u3224kba-32-inch-6k-monitor/</a>, See on <a href="https://news.ycombinator.com/item?id=36577536">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content">
  
  <details>
    <summary>Table of contents</summary>
    <nav>
  <ul>
    <li><a href="#compatibility">Compatibility</a></li>
    <li><a href="#compatibility-issues">Compatibility issues</a>
      <ul>
        <li><a href="#too-old-nvidia-driver--5355403-not-at-native-resolution">Too old nVidia driver (&lt; 535.54.03): not at native resolution</a></li>
        <li><a href="#intel-gpu-no-picture-or-only-4k">Intel GPU: no picture or only 4K?!</a></li>
        <li><a href="#resume">No picture after resume from suspend-to-RAM</a></li>
      </ul>
    </li>
    <li><a href="#scaling">Scaling</a>
      <ul>
        <li><a href="#i3-x11">i3 (X11)</a></li>
        <li><a href="#gnome-wayland">GNOME (Wayland)</a></li>
        <li><a href="#macos">macOS</a></li>
      </ul>
    </li>
    <li><a href="#observations">Observations</a>
      <ul>
        <li><a href="#matte-screen">Matte screen</a></li>
        <li><a href="#philosophical-question-peripherals-powered-on-by-default">Philosophical question: peripherals powered on by default?</a></li>
      </ul>
    </li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>
  </details>
  <p>For the last 10 years, I have been interested in hi-DPI monitors, and recently I
read about an interesting new monitor: <a href="https://www.dell.com/de-ch/shop/dell-ultrasharp-32-6k-monitor-u3224kba/apd/210-bhnx/monitore-und-monitorzubeh%C3%B6r">Dell’s 32-inch 6K monitor
(U3224KBA)</a>,
a productivity monitor that offers plenty of modern connectivity options like
DisplayPort 2, HDMI 2 and Thunderbolt 4.</p>
<p>My current monitor is a <a href="https://michael.stapelberg.ch/posts/2017-12-11-dell-up3218k/">Dell 32-inch 8K monitor
(UP3218K)</a>, which has a brilliant picture, but
a few annoying connectivity limitations and quirks — it needs two (!)
DisplayPort cables on a GPU with MST support, meaning that in practice, it only
works with nVidia graphics cards.</p>
<p>I was curious to try out the new 6K monitor to see if it would improve the
following points:</p>
<ul>
<li>Does the 6K monitor work well with most (all?) of my PCs and laptops?</li>
<li>Is 6K resolution enough, or would I miss the 8K resolution?</li>
<li>Is a matte screen the better option compared to the 8K monitor’s glossy finish?</li>
<li>Do the built-in peripherals work with Linux out of the box?</li>
</ul>
<p>I read <a href="https://www.heise.de/tests/32-Zoll-Display-mit-6K-und-USB-C-Dock-Dell-UltraSharp-U3224KBA-im-Test-9189751.html">a review on
heise+</a>
(also included in their c’t magazine), but the review can’t answer these
subjective questions of mine.</p>
<p>So I ordered one and tried it out!</p>















<p><a href="https://michael.stapelberg.ch/posts/2023-07-03-dell-u3224kba-32-inch-6k-monitor/IMG_2383_featured.jpg"><img srcset="https://michael.stapelberg.ch/posts/2023-07-03-dell-u3224kba-32-inch-6k-monitor/IMG_2383_featured_hu855bbe0a9c47ac557e5b09db74fa3b06_1638957_1200x0_resize_q75_box.jpg 2x,https://michael.stapelberg.ch/posts/2023-07-03-dell-u3224kba-32-inch-6k-monitor/IMG_2383_featured_hu855bbe0a9c47ac557e5b09db74fa3b06_1638957_1800x0_resize_q75_box.jpg 3x" src="https://michael.stapelberg.ch/posts/2023-07-03-dell-u3224kba-32-inch-6k-monitor/IMG_2383_featured_hu855bbe0a9c47ac557e5b09db74fa3b06_1638957_600x0_resize_q75_box.jpg" width="600" height="450" loading="lazy"></a></p><h2 id="compatibility">Compatibility</h2>
<p>The native resolution of this monitor is 6144x3456 pixels.</p>
<p>To drive that resolution at 60 Hz, about 34 Gbps of data rate is needed.</p>
<p>DisplayPort 1.4a only offers a data rate of 25 Gbps, so your hardware and driver
need to support <a href="https://en.wikipedia.org/wiki/Display_Stream_Compression">Display Stream Compression
(DSC)</a> to reach the
full resolution at 60 Hz. I tried using DisplayPort 2.0, which supports 77 Gbps
of data rate, but the only GPU I have that supports DisplayPort 2 is the Intel
A380, which I could not get to work well with this monitor (see the next
section).</p>
<p>HDMI 2.1 offers 42 Gbps of data rate, but in my setup, the link would still
always use DSC.</p>
<p>Here are the combinations I have successfully tried:</p>
<table>
<thead>
<tr>
<th>Device</th>
<th>Cable</th>
<th>OS / Driver</th>
<th>Resolution</th>
</tr>
</thead>
<tbody>
<tr>
<td>MacBook Air M1</td>
<td>TB 3</td>
<td>macOS 13.4.1</td>
<td>native @ 60 Hz,<br> 8.1Gbps</td>
</tr>
<tr>
<td>GeForce RTX 4070<br>(DisplayPort 1.4a)</td>
<td>mDP-DP</td>
<td>Windows 11 21H2</td>
<td>native @ 60 Hz,<br> 12GBps DSC</td>
</tr>
<tr>
<td>GeForce RTX 4070</td>
<td>mDP-DP</td>
<td>Linux 6.3<br>nVidia 535.54.03</td>
<td>native @ 60 Hz,<br> 8.1GBps DSC</td>
</tr>
<tr>
<td>GeForce RTX 4070<br>(HDMI 2.1a)</td>
<td>HDMI</td>
<td>Windows 11 21H2</td>
<td>native @ 60 Hz,<br> 8.1GBps DSC</td>
</tr>
<tr>
<td>GeForce RTX 4070</td>
<td>HDMI</td>
<td>Linux 6.3<br>nVidia 535.54.03</td>
<td>native @ 60 Hz,<br> 6GBps 3CH DSC</td>
</tr>
<tr>
<td>GeForce RTX 3060</td>
<td>HDMI</td>
<td>Linux 6.3<br>nVidia 535.54.03</td>
<td>native @ 60 Hz,<br> 6GBps 3CH DSC</td>
</tr>
<tr>
<td>ThinkPad X1 Extreme</td>
<td>TB 4</td>
<td>Linux 6.3<br>nVidia 535.54.03</td>
<td>native @ 60 Hz,<br> 8.1GBps DSC</td>
</tr>
</tbody>
</table>


<p>The MacBook Air is the only device in my test that reaches full resolution
without using DSC.</p>
<h2 id="compatibility-issues">Compatibility issues</h2>
<p>Let’s talk about the combinations that did not work well.</p>
<h3 id="too-old-nvidia-driver--5355403-not-at-native-resolution">Too old nVidia driver (&lt; 535.54.03): not at native resolution</h3>
<p>You need a quite recent version of the nVidia driver, as they <strong>just recently</strong>
<a href="https://github.com/NVIDIA/open-gpu-kernel-modules/discussions/238">shipped support for
DSC</a> at high
resolutions. I successfully used DSC with 535.54.03.</p>
<p>With the “older” 530.41.03, I could only select 6016x3384 at 60 Hz, which is not
the native resolution of 6144x3456 at 60 Hz.</p>
<table>
<thead>
<tr>
<th>Device</th>
<th>Cable</th>
<th>OS / Driver</th>
<th>Resolution</th>
</tr>
</thead>
<tbody>
<tr>
<td>GeForce RTX 4070<br>(DisplayPort 1.4a)</td>
<td>mDP-DP</td>
<td>Linux 6.3<br>nVidia 530.41.03</td>
<td>native @ 30 Hz only,<br> <a href="https://michael.stapelberg.ch/cdn-cgi/l/email-protection" data-cfemail="89bfb9b8bff1babab1bdc9bfb9">[email&nbsp;protected]</a></td>
</tr>
<tr>
<td>GeForce RTX 4070<br>(HDMI 2.1a)</td>
<td>HDMI</td>
<td>Linux 6.3<br>nVidia 530.41.03</td>
<td>native @ 30 Hz only,<br> <a href="https://michael.stapelberg.ch/cdn-cgi/l/email-protection" data-cfemail="ebdddbdadd93d8d8d3dfabdddb">[email&nbsp;protected]</a></td>
</tr>
</tbody>
</table>
<h3 id="intel-gpu-no-picture-or-only-4k">Intel GPU: no picture or only 4K?!</h3>
<p>I was so excited when Intel announced that they are entering the graphics card
business. With all the experience and driver support for their integrated
graphics, I hoped for good Linux support.</p>
<p>Unfortunately, the Intel A380 I bought months ago continues to disappoint.</p>
<p>I could not get the 6K monitor to work at any resolution higher than 4K, not
even under Windows. Worse, when connecting the monitor using DisplayPort, I
wouldn’t get a picture at all (in Linux)!</p>
<table>
<thead>
<tr>
<th>Device</th>
<th>Cable</th>
<th>OS / Driver</th>
<th>Resolution</th>
</tr>
</thead>
<tbody>
<tr>
<td>ASRock Intel A380<br>(DisplayPort 2.0)</td>
<td>mDP-DP</td>
<td>Windows 11 21H2<br>Intel 31.0.101.4502</td>
<td>only 4K @ 60 Hz</td>
</tr>
<tr>
<td>ASRock Intel A380<br>(HDMI 2.0b)</td>
<td>HDMI</td>
<td>Windows 11 21H2<br>Intel 31.0.101.4502</td>
<td>only 4K @ 60 Hz</td>
</tr>
<tr>
<td>ASRock Intel A380<br>(DisplayPort 2.0)</td>
<td>mDP-DP</td>
<td>Linux 6.4</td>
<td>no picture in Xorg!</td>
</tr>
<tr>
<td>ASRock Intel A380<br>(HDMI 2.0b)</td>
<td>HDMI</td>
<td>Linux 6.4</td>
<td>only 4K @ 60 Hz</td>
</tr>
</tbody>
</table>
<h3 id="resume">No picture after resume from suspend-to-RAM</h3>
<p>I suspend my PC to RAM at least once per day, sometimes even more often.</p>
<p>With my current 8K monitor, I have nailed the suspend/wakeup procedure. With the
help of a smart plug, I’m automatically turning the monitor off (on suspend) and
on (on wakeup). After a couple of seconds of delay, I configure the correct
resolution using <code>xrandr</code>.</p>
<p>I had hoped that the 6K monitor would make any sort of intricate automation
superfluous.</p>
<p>Unfortunately, when I resumed my PC, I noticed that the monitor would not show a
picture at all! I had to log in from my laptop via SSH to change the resolution
with <code>xrandr</code> to 4K, then power the monitor off and on again, then change
resolution back to the native 6K.</p>
<h2 id="scaling">Scaling</h2>
<p>Once you have a physical connection established, how do you configure your
computer? With 6K at 32 inches, you’ll need to enable some kind of scaling in
order to comfortably read text.</p>
<p>This section shows what options Linux and macOS offer.</p>
<h3 id="i3-x11">i3 (X11)</h3>
<p>Just like many other programs on Linux, you configure i3’s scaling by <a href="https://wiki.archlinux.org/title/HiDPI#X_Resources">setting
the <code>Xft.dpi</code> X
resource</a>. The default is 96
dpi, so to get 200% scaling, set <code>Xft.dpi: 192</code>.</p>
<p>Personally, I found 240% scaling more comfortable, i.e. <code>Xft.dpi: 230</code>.</p>
<p>This corresponds to a logical resolution of 2560x1440 pixels.</p>
<h3 id="gnome-wayland">GNOME (Wayland)</h3>
<p>I figured I’d also give Wayland a shot, so I ran GNOME in Fedora 38 on my
ThinkPad X1 Extreme.</p>
<p>Here’s what the settings app shows in its “Displays” tab:</p>















<p><a href="https://michael.stapelberg.ch/posts/2023-07-03-dell-u3224kba-32-inch-6k-monitor/Screenshot%20from%202023-07-02%2012-25-57.png"><img srcset="https://michael.stapelberg.ch/posts/2023-07-03-dell-u3224kba-32-inch-6k-monitor/Screenshot%20from%202023-07-02%2012-25-57_hu2cabb68d8c47fd27ed6a38a3c2c68dd8_125601_1200x0_resize_box_3.png 2x,https://michael.stapelberg.ch/posts/2023-07-03-dell-u3224kba-32-inch-6k-monitor/Screenshot%20from%202023-07-02%2012-25-57_hu2cabb68d8c47fd27ed6a38a3c2c68dd8_125601_1800x0_resize_box_3.png 3x" src="https://michael.stapelberg.ch/posts/2023-07-03-dell-u3224kba-32-inch-6k-monitor/Screenshot%20from%202023-07-02%2012-25-57_hu2cabb68d8c47fd27ed6a38a3c2c68dd8_125601_600x0_resize_box_3.png" width="600" height="415" loading="lazy"></a></p><p>I tried <a href="https://www.omglinux.com/how-to-enable-fractional-scaling-fedora/">enabling fractional
scaling</a>, but
then GNOME froze until I disconnected the Dell monitor.</p>
<h3 id="macos">macOS</h3>
<p>When connecting the monitor to my MacBook Air M1 (2020), it defaults to a
logical resolution of 3072x1728, i.e. 200% scaling.</p>















<p><a href="https://michael.stapelberg.ch/posts/2023-07-03-dell-u3224kba-32-inch-6k-monitor/2023-07-02-macOS-displays.png"><img srcset="https://michael.stapelberg.ch/posts/2023-07-03-dell-u3224kba-32-inch-6k-monitor/2023-07-02-macOS-displays_hubf6579ec96f99144ce4f6a52859f99df_573205_1200x0_resize_box_3.png 2x,https://michael.stapelberg.ch/posts/2023-07-03-dell-u3224kba-32-inch-6k-monitor/2023-07-02-macOS-displays_hubf6579ec96f99144ce4f6a52859f99df_573205_1800x0_resize_box_3.png 3x" src="https://michael.stapelberg.ch/posts/2023-07-03-dell-u3224kba-32-inch-6k-monitor/2023-07-02-macOS-displays_hubf6579ec96f99144ce4f6a52859f99df_573205_600x0_resize_box_3.png" width="600" height="617" loading="lazy"></a></p><p>For comparison, with <a href="https://www.apple.com/studio-display/">Apple’s (5K) Studio
Display</a>, the default setting is
2560x1440 (200% scaling), or 2880x1620 (“More Space”, 177% scaling).</p>
<h2 id="observations">Observations</h2>
<h3 id="matte-screen">Matte screen</h3>
<p>I remember the uproar when Lenovo introduced ThinkPads with glossy screens. At
the time, I thought I prefer matte screens, but over the years, I heard that
glossy screens are getting better and better, and consumers typically prefer
them for their better picture quality.</p>
<p>The 8K monitor I’m using has a glossy screen on which reflections are quite
visible. The MacBook Air’s screen shows fewer reflections in comparison.</p>
<p>Dell’s 6K monitor offers me a nice opportunity to see which option I prefer.</p>
<p>Surprisingly, I found that I don’t like the matte screen better!</p>
<p>It’s hard to describe, but somehow the picture seems more “dull”, or less bright
(independent of the actual brightness of the monitor), or more toned down. The
colors don’t pop as much.</p>
<h3 id="philosophical-question-peripherals-powered-on-by-default">Philosophical question: peripherals powered on by default?</h3>
<p>One thing that I did not anticipate beforehand is the difference in how
peripherals are treated when they are built into the monitor vs. when they are
plugged into a USB hub.</p>
<p>I like to have my peripherals off-by-default, with “on” being the exceptional
state. In fact, I leave my microphone disconnected and only plug its USB cable
in when I need it. I also recently realized that I want sound to only be played
on headphones, so I disconnected my normal speakers in favor of my Bluetooth
dongle.</p>
<p>The 6K monitor, on the other hand, has all of its peripherals on-by-default, and
bright red LEDs light up when the speaker or microphone is muted.</p>
<p>This is the opposite of how I want my peripherals to behave, but of course I
understand why Dell developed the monitor with on-by-default peripherals.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Let’s go back to the questions I started the article with and answer them one by one:</p>
<ol>
<li>
<p>Does the 6K monitor work well with most (all?) of my PCs and laptops?</p>
<p>→ <strong>Answer:</strong> The 6K monitor works a lot better than the 8K monitor, but that’s a
low bar to clear. I would still call the 6K monitor finicky. Even when you
run a latest-gen GPU with latest drivers, the monitor does not reliably show
a picture after a suspend/resume cycle.</p>
</li>
<li>
<p>Is 6K resolution enough, or would I miss the 8K resolution?</p>
<p>→ <strong>Answer:</strong> I had really hoped that 6K would turn out to be enough, but the
difference to 8K is visible with the bare eye. Just like 200% scaling is a
nice step up from working at 96 dpi, 300% scaling (what I use on 8K) is
another noticeable step up.</p>
</li>
<li>
<p>Is a matte screen the better option compared to the 8K monitor’s glossy finish?</p>
<p>→ <strong>Answer:</strong> While I don’t like the reflections in Dell’s 8K monitor, the
picture quality is undeniably better compared to a matte screen. The 6K
monitor just doesn’t look as good, and it’s not just about the difference in
text sharpness.</p>
</li>
<li>
<p>Do the built-in peripherals work with Linux out of the box?</p>
<p>→ <strong>Answer:</strong> Yes, as far as I can tell. The webcam works fine with the
generic <code>uvcvideo</code> USB webcam driver, the microphone and speakers work out of
the box. I have not tested the presence sensor.</p>
</li>
</ol>
<p>So, would I recommend the monitor? Depends on what you’re using as your current
monitor and as the device you want to connect!</p>
<p>If you’re coming from a 4K display, the 6K resolution will be a nice step
up. Connecting a MacBook Air M1 or newer is a great experience. If you want to
connect PCs, be sure to use a new-enough nVidia GPU with latest drivers. Even
under these ideal conditions, you might run into quirks like the <a href="#resume">no picture
after resume</a> problem. If you don’t mind early adopter pains like that,
and are looking for a monitor that includes peripherals, go for it!</p>
<p>For me, switching from my 8K monitor would be a downgrade without enough
benefits.</p>
<p>The ideal monitor for me would be a mixture between Dell’s 8K and 6K models:</p>
<ul>
<li>8K resolution
<ul>
<li>…but with more modern connectivity options (one cable! works out of the box!).</li>
</ul>
</li>
<li>without built-in peripherals like webcam, microphone and speaker
<ul>
<li>…but with the USB KVM switch concept (monitor input coupled to USB upstream).</li>
</ul>
</li>
<li>glossy finish for best picture quality
<ul>
<li>…but with fewer reflections.</li>
</ul>
</li>
</ul>
<p>Maybe they’ll develop an updated version of the 8K monitor at some point?</p>

</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[A Dive into the Math Behind Bitcoin Schnorr Signatures (147 pts)]]></title>
            <link>https://conduition.io/cryptography/schnorr/</link>
            <guid>36576361</guid>
            <pubDate>Mon, 03 Jul 2023 17:42:03 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://conduition.io/cryptography/schnorr/">https://conduition.io/cryptography/schnorr/</a>, See on <a href="https://news.ycombinator.com/item?id=36576361">Hacker News</a></p>
<div id="readability-page-1" class="page"><div itemprop="articleBody">
    <h2 id="Introduction"><a href="#Introduction" title="Introduction"></a>Introduction</h2><p>Many culture articles in the Bitcoin space will extol the sound byte:</p>
<blockquote>
<p>Schnorr signatures will improve Bitcoin’s privacy for multisignature transactions!</p>
</blockquote>
<p>…and yet most choose to omit the clever math which makes this statement true. The math isn’t mind-bogglingly complex. One needs only a basic grasp of <a href="https://conduition.io/cryptography/ecc-resources/">elliptic curve cryptography</a>, and the benefits of Schnorr Signatures quickly become very exciting.</p>
<h2 id="Preliminaries"><a href="#Preliminaries" title="Preliminaries"></a>Preliminaries</h2><p>Just so we’re all on the same page:</p>
<table>
<thead>
<tr>
<th>Notation</th>
<th>Meaning</th>
</tr>
</thead>
<tbody><tr>
<td><mjx-container jax="SVG"><svg style="vertical-align: -0.05ex;" xmlns="http://www.w3.org/2000/svg" width="1.778ex" height="1.645ex" role="img" focusable="false" viewBox="0 -705 786 727"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D43A" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z"></path></g></g></g></svg></mjx-container></td>
<td>The <a target="_blank" rel="noopener" href="https://bitcoin.stackexchange.com/questions/58784/how-were-the-secp256k1-base-point-coordinates-decided">base-point of the secp256k1 curve.</a></td>
</tr>
<tr>
<td><mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.986ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 878 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container></td>
<td>The message we’re trying to sign (a byte array).</td>
</tr>
<tr>
<td><mjx-container jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="5.063ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 2238 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D43B" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="mo" transform="translate(888,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(1277,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(1849,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container></td>
<td>The SHA-256 hash function.</td>
</tr>
<tr>
<td><mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.357ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 600 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container></td>
<td>The <a target="_blank" rel="noopener" href="https://crypto.stackexchange.com/questions/53597/how-did-someone-discover-n-order-of-g-for-secp256k1"><em>order</em> of the secp256k1 curve</a>. There are <mjx-container jax="SVG"><svg style="vertical-align: -0.186ex;" xmlns="http://www.w3.org/2000/svg" width="5.254ex" height="1.692ex" role="img" focusable="false" viewBox="0 -666 2322.4 748"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(822.2,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(1822.4,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></svg></mjx-container> possible valid non-zero points on the curve, plus the ‘infinity’ point (AKA zero).</td>
</tr>
<tr>
<td><mjx-container jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="7.47ex" height="1.902ex" role="img" focusable="false" viewBox="0 -683 3301.8 840.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(849.8,0)"><path data-c="2190" d="M944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250Z"></path></g><g data-mml-node="msub" transform="translate(2127.6,0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="2124" d="M39 -1Q29 9 29 12Q29 23 60 77T219 337L410 648H364Q261 648 210 628Q168 612 142 588T109 545T97 509T88 490Q85 489 80 489Q72 489 61 503L70 588Q72 607 75 628T79 662T81 675Q84 677 88 681Q90 683 341 683H592Q604 673 604 666Q604 662 412 348L221 37Q221 35 301 35Q406 35 446 48Q504 68 543 111T597 212Q602 239 617 239Q624 239 629 234T635 223Q635 215 621 113T604 8L597 1Q595 -1 317 -1H39ZM148 637L166 648H112V632Q111 629 110 622T108 612Q108 608 110 608T116 612T129 623T148 637ZM552 646Q552 648 504 648Q452 648 450 643Q448 639 266 343T77 37Q77 35 128 35H179L366 339L552 646ZM572 35Q581 89 581 97L561 77Q542 59 526 48L508 37L539 35H572Z"></path></g></g><g data-mml-node="TeXAtom" transform="translate(700,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></g></svg></mjx-container></td>
<td>Sampling <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.294ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 572 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g></g></g></svg></mjx-container> randomly from the set of integers modulo <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.357ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 600 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container>. Note that we exclude zero when sampling.</td>
</tr>
<tr>
<td><mjx-container jax="SVG"><svg style="vertical-align: -0.564ex;" xmlns="http://www.w3.org/2000/svg" width="4.557ex" height="2.26ex" role="img" focusable="false" viewBox="0 -749.5 2014 999"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g><g data-mml-node="mtext" transform="translate(529,0)"><path data-c="A0" d=""></path></g><g data-mml-node="mo" transform="translate(779,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(1057,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mtext" transform="translate(1335,0)"><path data-c="A0" d=""></path></g><g data-mml-node="mi" transform="translate(1585,0)"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g></g></g></svg></mjx-container></td>
<td>Concatenation of the byte arrays <mjx-container jax="SVG"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.197ex" height="1.02ex" role="img" focusable="false" viewBox="0 -441 529 451"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g></g></g></svg></mjx-container> and <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="0.971ex" height="1.595ex" role="img" focusable="false" viewBox="0 -694 429 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g></g></g></svg></mjx-container>.</td>
</tr>
</tbody></table>
<p>In general, upper-case variables like <mjx-container jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.928ex" height="1.545ex" role="img" focusable="false" viewBox="0 -683 852 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D44B" d="M42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0Z"></path></g></g></g></svg></mjx-container> refer to points on the elliptic curve, while lower case letters like <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.294ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 572 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g></g></g></svg></mjx-container> refer to ordinary natural numbers, called <em>scalars.</em></p>
<h2 id="Enter-the-Frankenstein"><a href="#Enter-the-Frankenstein" title="Enter the Frankenstein"></a>Enter the Frankenstein</h2><p>To understand how delicious Schnorr Signatures are for Bitcoin developers, we need to compare it to what we have now: ECDSA. I’ll forgive you if you choose to skip this part.</p>
<details>
  <summary><i>Show me the ugly ECDSA math!</i></summary>

<p>I guess you’re really gonna make me huh? Best get this over with, then. <sub><i>*drinking intensifies</i></sub></p>
<p>The old ECDSA protocol signs messages like so:</p>
<ol>
<li>Choose our private key, <mjx-container jax="SVG"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.176ex" height="1.593ex" role="img" focusable="false" viewBox="0 -694 520 704"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g></g></g></svg></mjx-container>, which is just a random integer in <mjx-container jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="2.657ex" height="1.902ex" role="img" focusable="false" viewBox="0 -683 1174.3 840.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="2124" d="M39 -1Q29 9 29 12Q29 23 60 77T219 337L410 648H364Q261 648 210 628Q168 612 142 588T109 545T97 509T88 490Q85 489 80 489Q72 489 61 503L70 588Q72 607 75 628T79 662T81 675Q84 677 88 681Q90 683 341 683H592Q604 673 604 666Q604 662 412 348L221 37Q221 35 301 35Q406 35 446 48Q504 68 543 111T597 212Q602 239 617 239Q624 239 629 234T635 223Q635 215 621 113T604 8L597 1Q595 -1 317 -1H39ZM148 637L166 648H112V632Q111 629 110 622T108 612Q108 608 110 608T116 612T129 623T148 637ZM552 646Q552 648 504 648Q452 648 450 643Q448 639 266 343T77 37Q77 35 128 35H179L366 339L552 646ZM572 35Q581 89 581 97L561 77Q542 59 526 48L508 37L539 35H572Z"></path></g></g><g data-mml-node="TeXAtom" transform="translate(700,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></g></svg></mjx-container>.</li>
</ol>

<ol start="2">
<li>Compute the hash of the message and interpret it as an integer <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.052ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 465 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D467" d="M347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338Z"></path></g></g></g></svg></mjx-container>.</li>
</ol>

<ol start="3">
<li>Sample a random nonce <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.179ex" height="1.595ex" role="img" focusable="false" viewBox="0 -694 521 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"></path></g></g></g></svg></mjx-container>.</li>
</ol>

<ol start="4">
<li>Multiply <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.179ex" height="1.595ex" role="img" focusable="false" viewBox="0 -694 521 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"></path></g></g></g></svg></mjx-container> by the base point <mjx-container jax="SVG"><svg style="vertical-align: -0.05ex;" xmlns="http://www.w3.org/2000/svg" width="1.778ex" height="1.645ex" role="img" focusable="false" viewBox="0 -705 786 727"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D43A" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z"></path></g></g></g></svg></mjx-container>.</li>
</ol>

<ol start="5">
<li>Take the <mjx-container jax="SVG"><svg style="vertical-align: -0.339ex;" xmlns="http://www.w3.org/2000/svg" width="2.282ex" height="1.339ex" role="img" focusable="false" viewBox="0 -442 1008.6 592"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mn" transform="translate(605,-150) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></g></svg></mjx-container> coordinate from that computation modulo <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.357ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 600 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container>.</li>
</ol>

<p>* <sub>If <mjx-container jax="SVG"><svg style="vertical-align: -0.186ex;" xmlns="http://www.w3.org/2000/svg" width="5.169ex" height="1.692ex" role="img" focusable="false" viewBox="0 -666 2284.6 748"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(728.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(1784.6,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g></g></g></svg></mjx-container>, return to step 4 and choose a new nonce <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.179ex" height="1.595ex" role="img" focusable="false" viewBox="0 -694 521 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"></path></g></g></g></svg></mjx-container>.</sub></p>
<ol start="7">
<li>Signing time! Compute this mess.</li>
</ol>

<p>* <sub>If <mjx-container jax="SVG"><svg style="vertical-align: -0.186ex;" xmlns="http://www.w3.org/2000/svg" width="5.209ex" height="1.692ex" role="img" focusable="false" viewBox="0 -666 2302.6 748"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g><g data-mml-node="mo" transform="translate(746.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(1802.6,0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g></g></g></svg></mjx-container>, return to step 4 and choose a new nonce <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.179ex" height="1.595ex" role="img" focusable="false" viewBox="0 -694 521 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"></path></g></g></g></svg></mjx-container>.</sub></p>
<p>** <sub><mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="3.411ex" height="1.912ex" role="img" focusable="false" viewBox="0 -833.9 1507.7 844.9"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msup"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"></path></g><g data-mml-node="TeXAtom" transform="translate(554,363) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mo"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mn" transform="translate(778,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></g></g></svg></mjx-container> is the <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Modular_multiplicative_inverse">modular multiplicative inverse</a> of <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.179ex" height="1.595ex" role="img" focusable="false" viewBox="0 -694 521 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"></path></g></g></g></svg></mjx-container>.</sub></p>
<p><strong>The final signature is the awful pair of integers</strong> <mjx-container jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="4.848ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 2142.7 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(389,0)"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(840,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(1284.7,0)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g><g data-mml-node="mo" transform="translate(1753.7,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container>.</p>
<p>Verifying the signature goes (painfully) as follows:</p>
<ol>
<li>Find (or compute) the public key.</li>
</ol>

<ol start="2">
<li>Check that both <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.02ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 451 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container> and <mjx-container jax="SVG"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.061ex" height="1.023ex" role="img" focusable="false" viewBox="0 -442 469 452"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></svg></mjx-container> are integers in <mjx-container jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="2.657ex" height="1.902ex" role="img" focusable="false" viewBox="0 -683 1174.3 840.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="2124" d="M39 -1Q29 9 29 12Q29 23 60 77T219 337L410 648H364Q261 648 210 628Q168 612 142 588T109 545T97 509T88 490Q85 489 80 489Q72 489 61 503L70 588Q72 607 75 628T79 662T81 675Q84 677 88 681Q90 683 341 683H592Q604 673 604 666Q604 662 412 348L221 37Q221 35 301 35Q406 35 446 48Q504 68 543 111T597 212Q602 239 617 239Q624 239 629 234T635 223Q635 215 621 113T604 8L597 1Q595 -1 317 -1H39ZM148 637L166 648H112V632Q111 629 110 622T108 612Q108 608 110 608T116 612T129 623T148 637ZM552 646Q552 648 504 648Q452 648 450 643Q448 639 266 343T77 37Q77 35 128 35H179L366 339L552 646ZM572 35Q581 89 581 97L561 77Q542 59 526 48L508 37L539 35H572Z"></path></g></g><g data-mml-node="TeXAtom" transform="translate(700,-150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></g></svg></mjx-container>.</li>
</ol>

<ol start="3">
<li>Compute the hash of the message that was signed, just as the signer would have.</li>
</ol>

<ol start="4">
<li>Compute these intermediate “u-values”.</li>
</ol>

<ol start="5">
<li>Multiply <mjx-container jax="SVG"><svg style="vertical-align: -0.339ex;" xmlns="http://www.w3.org/2000/svg" width="2.282ex" height="1.339ex" role="img" focusable="false" viewBox="0 -442 1008.6 592"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D462" d="M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mn" transform="translate(605,-150) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></g></svg></mjx-container> and <mjx-container jax="SVG"><svg style="vertical-align: -0.339ex;" xmlns="http://www.w3.org/2000/svg" width="2.282ex" height="1.339ex" role="img" focusable="false" viewBox="0 -442 1008.6 592"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D462" d="M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mn" transform="translate(605,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></g></svg></mjx-container> by the base point and public key respectively.</li>
</ol>

<ol start="6">
<li>Sum both points to get a verification point.</li>
</ol>

<ol start="7">
<li>Verify the X-coordinate of that point is equivalent to the signature’s <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.02ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 451 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container> component when taken modulo <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.357ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 600 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container>.</li>
</ol>

<p>If so, then wham you’ve got a valid signature. <em>“That was easy wasn’t it?”</em> <sub><i>he mused ironically…</i></sub></p>
<blockquote>
<p>but why does that work?</p>
</blockquote>
<p>-I hear you ask.</p>
<p>I am not a masochist, so I will spare myself more work rewriting a proof for an algorithm which I’m taking such pains to paint as awful. Instead, go check out <a target="_blank" rel="noopener" href="https://cryptobook.nakov.com/digital-signatures/ecdsa-sign-verify-messages#the-math-behind-the-ecdsa-sign-verify">this proof of ECDSA in Doctor Nakov’s <em>Practical Cryptography for Developers</em> e-book</a>.</p>
</details>

<blockquote>
<p>but why is ECDSA so awful?</p>
</blockquote>
<p>For starters, it requires computing <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Modular_multiplicative_inverse">modular multiplicative inverses</a> of the nonce <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.179ex" height="1.595ex" role="img" focusable="false" viewBox="0 -694 521 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D458" d="M121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647Z"></path></g></g></g></svg></mjx-container> when signing, and of the signature <mjx-container jax="SVG"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.061ex" height="1.023ex" role="img" focusable="false" viewBox="0 -442 469 452"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></svg></mjx-container> when verifying. <em>Yuck.</em> Well, more accurately, <em>yawn.</em> MMI’s are very slow compared to other discrete math operations.</p>
<p>Furthermore, just look at the number of steps I had to write out above. It’s less a signing algorithm than a <em>surgical procedure</em> which happens to involve your private keys.</p>
<p>Also, ECDSA signatures are <em>malleable.</em> <mjx-container jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="4.848ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 2142.7 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(389,0)"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(840,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(1284.7,0)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g><g data-mml-node="mo" transform="translate(1753.7,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container> is a valid signature, but so is <mjx-container jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="8.971ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 3965.1 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(389,0)"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(840,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(1284.7,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(2106.9,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="mi" transform="translate(3107.1,0)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g><g data-mml-node="mo" transform="translate(3576.1,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container>! This can mess with some applications if they expect signatures not to change. Legacy Bitcoin P2PKH addresses are still vulnerable to this - any transaction which spends from P2PKH can have its transaction ID changed if the signature <mjx-container jax="SVG"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.061ex" height="1.023ex" role="img" focusable="false" viewBox="0 -442 469 452"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></svg></mjx-container> value is inverted.</p>
<p>Furtherermore, <a target="_blank" rel="noopener" href="https://crypto.stackexchange.com/questions/71029/are-dsa-and-ecdsa-provably-secure-assuming-dl-security">ECDSA has pretty weak security proofs</a>.</p>
<p>Furtherestmore, ECDSA (and its forerunner DSA) were originally published in the early nineties to get around the patent on Schnorr Signatures, which finally lapsed in 2008. <em>Bitcoin has been using a knock-off of Schnorr since the genesis block.</em> It’s time to finally upgrade to the brand-name.</p>
<h2 id="Schnorr-Signatures"><a href="#Schnorr-Signatures" title="Schnorr Signatures"></a>Schnorr Signatures</h2><p>Compared to ECDSA, Schnorr Signatures are a breath of fresh air for their elegant simplicity.</p>
<ol>
<li>Sample a random nonce <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.02ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 451 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container>.</li>
</ol>

<ol start="2">
<li>Multiply <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.02ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 451 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container> by the base-point <mjx-container jax="SVG"><svg style="vertical-align: -0.05ex;" xmlns="http://www.w3.org/2000/svg" width="1.778ex" height="1.645ex" role="img" focusable="false" viewBox="0 -705 786 727"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D43A" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z"></path></g></g></g></svg></mjx-container>.</li>
</ol>

<ol start="3">
<li>Hash the the nonce point <mjx-container jax="SVG"><svg style="vertical-align: -0.048ex;" xmlns="http://www.w3.org/2000/svg" width="1.717ex" height="1.593ex" role="img" focusable="false" viewBox="0 -683 759 704"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z"></path></g></g></g></svg></mjx-container>, the signing public key <mjx-container jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.873ex" height="1.545ex" role="img" focusable="false" viewBox="0 -683 828 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D437" d="M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z"></path></g></g></g></svg></mjx-container>, and the message <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.986ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 878 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container> to get the challenge <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 466 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g></g></g></svg></mjx-container>.</li>
</ol>

<p>* <sub>If you read about Schnorr Signatures elsewhere online, you might see the challenge computed as <mjx-container jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="13.933ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 6158.6 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g><g data-mml-node="mo" transform="translate(743.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(1799.6,0)"><path data-c="1D43B" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="mo" transform="translate(2687.6,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(3076.6,0)"><path data-c="1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z"></path></g><g data-mml-node="mtext" transform="translate(3835.6,0)"><path data-c="A0" d=""></path></g><g data-mml-node="mo" transform="translate(4085.6,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mo" transform="translate(4363.6,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="mtext" transform="translate(4641.6,0)"><path data-c="A0" d=""></path></g><g data-mml-node="mi" transform="translate(4891.6,0)"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(5769.6,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container>. The variant used in Bitcoin is called <em>Key-Prefixed Schnorr,</em> where the challenge also commits to the signing key.</sub></p>
<ol start="4">
<li>Compute the signature using the private key <mjx-container jax="SVG"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.176ex" height="1.593ex" role="img" focusable="false" viewBox="0 -694 520 704"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g></g></g></svg></mjx-container>.</li>
</ol>

<p><strong>The final signature is the tuple</strong> <mjx-container jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="5.544ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 2450.7 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(389,0)"><path data-c="1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z"></path></g><g data-mml-node="mo" transform="translate(1148,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(1592.7,0)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g><g data-mml-node="mo" transform="translate(2061.7,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container>, where <mjx-container jax="SVG"><svg style="vertical-align: -0.048ex;" xmlns="http://www.w3.org/2000/svg" width="1.717ex" height="1.593ex" role="img" focusable="false" viewBox="0 -683 759 704"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z"></path></g></g></g></svg></mjx-container> is a point on the curve and <mjx-container jax="SVG"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.061ex" height="1.023ex" role="img" focusable="false" viewBox="0 -442 469 452"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></svg></mjx-container> is a scalar value.</p>
<p>Verifying Schnorr Signature is easy-peezy. Just multiply both sides of the above equation by <mjx-container jax="SVG"><svg style="vertical-align: -0.05ex;" xmlns="http://www.w3.org/2000/svg" width="1.778ex" height="1.645ex" role="img" focusable="false" viewBox="0 -705 786 727"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D43A" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z"></path></g></g></g></svg></mjx-container> and check for equality.</p>

<p>The verifier is assumed to know the public key <mjx-container jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.873ex" height="1.545ex" role="img" focusable="false" viewBox="0 -683 828 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D437" d="M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z"></path></g></g></g></svg></mjx-container> and the message <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.986ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 878 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container> - otherwise what are they verifying, anyways? Verifying is as fast as a hash, followed by two point-multiplication operations and one point-addition operation.</p>
<p>It’s pretty easy to prove that the signature is valid by simply factoring out <mjx-container jax="SVG"><svg style="vertical-align: -0.05ex;" xmlns="http://www.w3.org/2000/svg" width="1.778ex" height="1.645ex" role="img" focusable="false" viewBox="0 -705 786 727"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D43A" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z"></path></g></g></g></svg></mjx-container>.</p>

<p>Thanks to the properties of cryptographically secure elliptic curves like secp256k1, factoring a curve point to find its discrete logarithm isn’t computationally feasible (yet). This is why signatures cannot be forged without knowing the private key <mjx-container jax="SVG"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.176ex" height="1.593ex" role="img" focusable="false" viewBox="0 -694 520 704"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g></g></g></svg></mjx-container>, but they can be easily verified using <mjx-container jax="SVG"><svg style="vertical-align: -0.05ex;" xmlns="http://www.w3.org/2000/svg" width="1.778ex" height="1.645ex" role="img" focusable="false" viewBox="0 -705 786 727"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D43A" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z"></path></g></g></g></svg></mjx-container>.</p>
<blockquote>
<p>but why do these particular equations work?</p>
</blockquote>
<p>Far be it from me to reverse-justify Schnorr’s design, but perhaps I can at least point out what each step and each variable is doing from the perspective of someone attempting to attack the scheme.</p>
<p>Recall the definition of a Schnorr Signature.</p>

<p>Note that:</p>
<ul>
<li><mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.02ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 451 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container> and <mjx-container jax="SVG"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.176ex" height="1.593ex" role="img" focusable="false" viewBox="0 -694 520 704"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g></g></g></svg></mjx-container> are both randomly sampled from the set of modulo <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.357ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 600 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container>, AKA <mjx-container jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="2.657ex" height="1.902ex" role="img" focusable="false" viewBox="0 -683 1174.3 840.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="2124" d="M39 -1Q29 9 29 12Q29 23 60 77T219 337L410 648H364Q261 648 210 628Q168 612 142 588T109 545T97 509T88 490Q85 489 80 489Q72 489 61 503L70 588Q72 607 75 628T79 662T81 675Q84 677 88 681Q90 683 341 683H592Q604 673 604 666Q604 662 412 348L221 37Q221 35 301 35Q406 35 446 48Q504 68 543 111T597 212Q602 239 617 239Q624 239 629 234T635 223Q635 215 621 113T604 8L597 1Q595 -1 317 -1H39ZM148 637L166 648H112V632Q111 629 110 622T108 612Q108 608 110 608T116 612T129 623T148 637ZM552 646Q552 648 504 648Q452 648 450 643Q448 639 266 343T77 37Q77 35 128 35H179L366 339L552 646ZM572 35Q581 89 581 97L561 77Q542 59 526 48L508 37L539 35H572Z"></path></g></g><g data-mml-node="mi" transform="translate(700,-150) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></svg></mjx-container>.</li>
<li>The nonce <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.02ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 451 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container> changes for every signature whereas the private key <mjx-container jax="SVG"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.176ex" height="1.593ex" role="img" focusable="false" viewBox="0 -694 520 704"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g></g></g></svg></mjx-container> remains consistent.</li>
<li><mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 466 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g></g></g></svg></mjx-container> can be computed by anyone who knows the (presumably) public parameters <mjx-container jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="9.349ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 4132.3 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(389,0)"><path data-c="1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z"></path></g><g data-mml-node="mo" transform="translate(1148,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(1592.7,0)"><path data-c="1D437" d="M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z"></path></g><g data-mml-node="mo" transform="translate(2420.7,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(2865.3,0)"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(3743.3,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container>.</li>
</ul>
<p>When the signer multiplies their private key <mjx-container jax="SVG"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.176ex" height="1.593ex" role="img" focusable="false" viewBox="0 -694 520 704"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g></g></g></svg></mjx-container> with the challenge <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 466 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g></g></g></svg></mjx-container>, this results in another scalar value somewhere in <mjx-container jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="2.657ex" height="1.902ex" role="img" focusable="false" viewBox="0 -683 1174.3 840.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="2124" d="M39 -1Q29 9 29 12Q29 23 60 77T219 337L410 648H364Q261 648 210 628Q168 612 142 588T109 545T97 509T88 490Q85 489 80 489Q72 489 61 503L70 588Q72 607 75 628T79 662T81 675Q84 677 88 681Q90 683 341 683H592Q604 673 604 666Q604 662 412 348L221 37Q221 35 301 35Q406 35 446 48Q504 68 543 111T597 212Q602 239 617 239Q624 239 629 234T635 223Q635 215 621 113T604 8L597 1Q595 -1 317 -1H39ZM148 637L166 648H112V632Q111 629 110 622T108 612Q108 608 110 608T116 612T129 623T148 637ZM552 646Q552 648 504 648Q452 648 450 643Q448 639 266 343T77 37Q77 35 128 35H179L366 339L552 646ZM572 35Q581 89 581 97L561 77Q542 59 526 48L508 37L539 35H572Z"></path></g></g><g data-mml-node="mi" transform="translate(700,-150) scale(0.707)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g></g></g></g></svg></mjx-container> which they could only have computed if they knew <mjx-container jax="SVG"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.176ex" height="1.593ex" role="img" focusable="false" viewBox="0 -694 520 704"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g></g></g></svg></mjx-container>. For instance, someone with only <mjx-container jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.873ex" height="1.545ex" role="img" focusable="false" viewBox="0 -683 828 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D437" d="M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z"></path></g></g></g></svg></mjx-container> and <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 466 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g></g></g></svg></mjx-container> would have no idea how to compute <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="3.865ex" height="1.595ex" role="img" focusable="false" viewBox="0 -694 1708.4 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g><g data-mml-node="mo" transform="translate(688.2,0)"><path data-c="22C5" d="M78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250Z"></path></g><g data-mml-node="mi" transform="translate(1188.4,0)"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g></g></g></svg></mjx-container>.</p>
<p>So what’s the point of adding <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.02ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 451 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container>? Why not make the signature <mjx-container jax="SVG"><svg style="vertical-align: -0.186ex;" xmlns="http://www.w3.org/2000/svg" width="6.309ex" height="1.756ex" role="img" focusable="false" viewBox="0 -694 2788.6 776"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g><g data-mml-node="mo" transform="translate(746.8,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(1802.6,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g><g data-mml-node="mi" transform="translate(2268.6,0)"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g></g></g></svg></mjx-container>? Because <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 466 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g></g></g></svg></mjx-container> is public, so any observer could compute the private key by inverting <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 466 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g></g></g></svg></mjx-container>.</p>

<p>This is why <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.02ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 451 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container> must be secret and uniformly random: These properties prevent an observer from being able to compute the signer’s private key from the signature.</p>
<p>If an observer knew the <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.02ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 451 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container> value used on a signature <mjx-container jax="SVG"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.061ex" height="1.023ex" role="img" focusable="false" viewBox="0 -442 469 452"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></svg></mjx-container>, they could compute the signer’s private key.</p>

<p>Another common gotcha: <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.02ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 451 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container> must be different for every signature. If the same nonce <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.02ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 451 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container> is used in two different signatures <mjx-container jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="6.864ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 3033.8 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="msub" transform="translate(389,0)"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g><g data-mml-node="mn" transform="translate(502,-150) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="mo" transform="translate(1294.6,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="msub" transform="translate(1739.2,0)"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g><g data-mml-node="mn" transform="translate(502,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(2644.8,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container> made by the same private key on distinct messages <mjx-container jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="8.714ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 3851.8 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="msub" transform="translate(389,0)"><g data-mml-node="mi"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mn" transform="translate(911,-150) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="mo" transform="translate(1703.6,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="msub" transform="translate(2148.2,0)"><g data-mml-node="mi"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mn" transform="translate(911,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(3462.8,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container>, then an observer can easily compute the private key used to sign both messages by solving a system of equations.</p>


<p>Interestingly, that definition of <mjx-container jax="SVG"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.176ex" height="1.593ex" role="img" focusable="false" viewBox="0 -694 520 704"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g></g></g></svg></mjx-container> indicates something quite unexpected. <mjx-container jax="SVG"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.176ex" height="1.593ex" role="img" focusable="false" viewBox="0 -694 520 704"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g></g></g></svg></mjx-container> is the <em>slope</em> of the line connecting the points <mjx-container jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="6.857ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 3030.8 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="msub" transform="translate(389,0)"><g data-mml-node="mi"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g><g data-mml-node="mn" transform="translate(499,-150) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="mo" transform="translate(1291.6,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="msub" transform="translate(1736.2,0)"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g><g data-mml-node="mn" transform="translate(502,-150) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="mo" transform="translate(2641.8,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container> and <mjx-container jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="6.857ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 3030.8 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="msub" transform="translate(389,0)"><g data-mml-node="mi"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g><g data-mml-node="mn" transform="translate(499,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(1291.6,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="msub" transform="translate(1736.2,0)"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g><g data-mml-node="mn" transform="translate(502,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(2641.8,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container> on the Cartesian plane, but only if <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.02ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 451 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container> is reused between both signatures.</p>
<p>Contrastingly, if we used two different nonces <mjx-container jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="6.782ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 2997.8 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="msub" transform="translate(389,0)"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mn" transform="translate(484,-150) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="mo" transform="translate(1276.6,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="msub" transform="translate(1721.2,0)"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mn" transform="translate(484,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g><g data-mml-node="mo" transform="translate(2608.8,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container> when creating the two signatures, an observer cannot solve for <mjx-container jax="SVG"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.176ex" height="1.593ex" role="img" focusable="false" viewBox="0 -694 520 704"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g></g></g></svg></mjx-container> without knowing either <mjx-container jax="SVG"><svg style="vertical-align: -0.339ex;" xmlns="http://www.w3.org/2000/svg" width="2.008ex" height="1.339ex" role="img" focusable="false" viewBox="0 -442 887.6 592"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mn" transform="translate(484,-150) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></g></svg></mjx-container> or <mjx-container jax="SVG"><svg style="vertical-align: -0.339ex;" xmlns="http://www.w3.org/2000/svg" width="2.008ex" height="1.339ex" role="img" focusable="false" viewBox="0 -442 887.6 592"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mn" transform="translate(484,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></g></svg></mjx-container>, because there is no usable system of equations.</p>

<p>What if we used different nonces to sign the same message? Would this result in any Bad News™? No, because remember that the challenge <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 466 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g></g></g></svg></mjx-container> also commits to the nonce.</p>

<p>If the nonce changes, so does <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 466 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g></g></g></svg></mjx-container>. Even if <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 466 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g></g></g></svg></mjx-container> only committed to <mjx-container jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.873ex" height="1.545ex" role="img" focusable="false" viewBox="0 -683 828 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D437" d="M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z"></path></g></g></g></svg></mjx-container> and <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.986ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 878 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container>, an attacker would still need to know <mjx-container jax="SVG"><svg style="vertical-align: -0.339ex;" xmlns="http://www.w3.org/2000/svg" width="2.008ex" height="1.339ex" role="img" focusable="false" viewBox="0 -442 887.6 592"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mn" transform="translate(484,-150) scale(0.707)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g></g></g></svg></mjx-container> or <mjx-container jax="SVG"><svg style="vertical-align: -0.339ex;" xmlns="http://www.w3.org/2000/svg" width="2.008ex" height="1.339ex" role="img" focusable="false" viewBox="0 -442 887.6 592"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mn" transform="translate(484,-150) scale(0.707)"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></g></svg></mjx-container> to compute <mjx-container jax="SVG"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.176ex" height="1.593ex" role="img" focusable="false" viewBox="0 -694 520 704"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g></g></g></svg></mjx-container>.</p>
<blockquote>
<p>but why is this so cool?</p>
</blockquote>
<ol>
<li>Schnorr is faster.</li>
<li>Schnorr is simpler to implement than ECDSA.</li>
<li>Schnorr signatures aren’t malleable.</li>
<li>Schnorr <a target="_blank" rel="noopener" href="https://eprint.iacr.org/2012/029">has very solid security proofs</a>.</li>
<li><u><em><strong>Schnorr permits linear signature aggregation.</strong></em></u></li>
</ol>
<p>I bolded #5 there because that one feature is <em>incredibly important</em> for the future potential of Bitcoin.</p>
<h2 id="Aggregator-or-Crocodile"><a href="#Aggregator-or-Crocodile" title="Aggregator or Crocodile?"></a>Aggregator or Crocodile?</h2><p>Signature aggregation is <del>not possible</del> <a target="_blank" rel="noopener" href="https://medium.com/cryptoadvance/ecdsa-is-not-that-bad-two-party-signing-without-schnorr-or-bls-1941806ec36f">very difficult</a> in ECDSA. <a target="_blank" rel="noopener" href="https://eprint.iacr.org/2020/1390">ECDSA <em>Threshold signatures</em> are perfectly achievable</a>, and these are handy but nowhere near as easy or as fast as linear signature aggregation with Schnorr. And as if it needed to flex even harder, <a target="_blank" rel="noopener" href="https://eprint.iacr.org/2022/550">Schnorr can do threshold signatures even better than ECDSA</a>.</p>
<p>When I say Schnorr Signatures are <em>linear,</em> this means that the only operations needed for Schnorr are simple scalar addition and multiplication. Verification is the same: one only needs point-addition and point-multiplication to verify the signature. ECDSA on the other hand, requires modular multiplicative inversion to sign and verify.</p>
<p>This opaque-sounding explanation can be boiled down to one highly consequential fact:</p>
<p><strong>The sum of a set of Schnorr signatures on a given message is a <em>valid signature</em> under the sum of the public keys which made those signatures.</strong></p>
<p>In other words, if a bunch of different signers cooperatively sign the same message, those signatures can be summed up to produce an <em>aggregated signature.</em> If one also sums up the pubkeys of those who signed to get an <em>aggregated pubkey,</em> the aggregated signature will be valid under the aggregated pubkey.</p>
<h2 id="Naive-Example"><a href="#Naive-Example" title="Naive Example"></a>Naive Example</h2><p>Let’s say you have three parties with their own private and public key pairs. They each sample their own private random nonce.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Public Key</th>
<th>Private Key</th>
<th>Nonce</th>
</tr>
</thead>
<tbody><tr>
<td>Alice</td>
<td><mjx-container jax="SVG"><svg style="vertical-align: -0.355ex;" xmlns="http://www.w3.org/2000/svg" width="2.907ex" height="1.901ex" role="img" focusable="false" viewBox="0 -683 1285.1 840.1"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D437" d="M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z"></path></g><g data-mml-node="mi" transform="translate(861,-150) scale(0.707)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g></g></g></g></svg></mjx-container></td>
<td><mjx-container jax="SVG"><svg style="vertical-align: -0.355ex;" xmlns="http://www.w3.org/2000/svg" width="2.211ex" height="1.926ex" role="img" focusable="false" viewBox="0 -694 977.1 851.1"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g><g data-mml-node="mi" transform="translate(553,-150) scale(0.707)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g></g></g></g></svg></mjx-container></td>
<td><mjx-container jax="SVG"><svg style="vertical-align: -0.355ex;" xmlns="http://www.w3.org/2000/svg" width="2.054ex" height="1.355ex" role="img" focusable="false" viewBox="0 -442 908.1 599.1"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(484,-150) scale(0.707)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g></g></g></g></svg></mjx-container></td>
</tr>
<tr>
<td>Bob</td>
<td><mjx-container jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="2.747ex" height="1.902ex" role="img" focusable="false" viewBox="0 -683 1214.3 840.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D437" d="M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z"></path></g><g data-mml-node="mi" transform="translate(861,-150) scale(0.707)"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g></g></g></g></svg></mjx-container></td>
<td><mjx-container jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="2.051ex" height="1.927ex" role="img" focusable="false" viewBox="0 -694 906.3 851.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g><g data-mml-node="mi" transform="translate(553,-150) scale(0.707)"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g></g></g></g></svg></mjx-container></td>
<td><mjx-container jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="1.894ex" height="1.357ex" role="img" focusable="false" viewBox="0 -442 837.3 599.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(484,-150) scale(0.707)"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g></g></g></g></svg></mjx-container></td>
</tr>
<tr>
<td>Carol</td>
<td><mjx-container jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="2.754ex" height="1.902ex" role="img" focusable="false" viewBox="0 -683 1217.2 840.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D437" d="M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z"></path></g><g data-mml-node="mi" transform="translate(861,-150) scale(0.707)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g></g></g></svg></mjx-container></td>
<td><mjx-container jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="2.057ex" height="1.927ex" role="img" focusable="false" viewBox="0 -694 909.2 851.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g><g data-mml-node="mi" transform="translate(553,-150) scale(0.707)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g></g></g></svg></mjx-container></td>
<td><mjx-container jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="1.901ex" height="1.357ex" role="img" focusable="false" viewBox="0 -442 840.2 599.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(484,-150) scale(0.707)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g></g></g></svg></mjx-container></td>
</tr>
</tbody></table>
<p>They all want to sign the same message <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.986ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 878 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container>, and naturally have agreed on the base point <mjx-container jax="SVG"><svg style="vertical-align: -0.05ex;" xmlns="http://www.w3.org/2000/svg" width="1.778ex" height="1.645ex" role="img" focusable="false" viewBox="0 -705 786 727"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D43A" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z"></path></g></g></g></svg></mjx-container> and hash function <mjx-container jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="5.063ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 2238 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D43B" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"></path></g><g data-mml-node="mo" transform="translate(888,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(1277,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(1849,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container>.</p>
<ol>
<li>They each compute their own public nonce points independently.</li>
</ol>

<ol start="2">
<li>They agree on an aggregated nonce point <mjx-container jax="SVG"><svg style="vertical-align: -0.048ex;" xmlns="http://www.w3.org/2000/svg" width="1.717ex" height="1.593ex" role="img" focusable="false" viewBox="0 -683 759 704"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z"></path></g></g></g></svg></mjx-container>.</li>
</ol>

<ol start="3">
<li>They agree on an aggregated public key <mjx-container jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.873ex" height="1.545ex" role="img" focusable="false" viewBox="0 -683 828 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D437" d="M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z"></path></g></g></g></svg></mjx-container>.</li>
</ol>

<ol start="4">
<li>They each hash the message with this aggregated nonce point and pubkey.</li>
</ol>

<ol start="5">
<li>They each compute their share of the signature.</li>
</ol>

<ol start="6">
<li>They send each other their <mjx-container jax="SVG"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.061ex" height="1.023ex" role="img" focusable="false" viewBox="0 -442 469 452"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></svg></mjx-container> values and aggregate by summing them all up.</li>
</ol>

<p>The final aggregated signature is <mjx-container jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="5.544ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 2450.7 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(389,0)"><path data-c="1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z"></path></g><g data-mml-node="mo" transform="translate(1148,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(1592.7,0)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g><g data-mml-node="mo" transform="translate(2061.7,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container>.</p>
<p>To verify, recall that a signature <mjx-container jax="SVG"><svg style="vertical-align: -0.566ex;" xmlns="http://www.w3.org/2000/svg" width="5.544ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 2450.7 1000"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(389,0)"><path data-c="1D445" d="M230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554Z"></path></g><g data-mml-node="mo" transform="translate(1148,0)"><path data-c="2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path></g><g data-mml-node="mi" transform="translate(1592.7,0)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g><g data-mml-node="mo" transform="translate(2061.7,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g></g></g></svg></mjx-container> from pubkey <mjx-container jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.873ex" height="1.545ex" role="img" focusable="false" viewBox="0 -683 828 683"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D437" d="M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z"></path></g></g></g></svg></mjx-container> is valid on message <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.986ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 878 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g></g></g></svg></mjx-container> if:</p>

<p>And this is going to be the case for our aggregated signature. Recall how Alice, Bob and Carol aggregated <mjx-container jax="SVG"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.061ex" height="1.023ex" role="img" focusable="false" viewBox="0 -442 469 452"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></svg></mjx-container>.</p>

<p>Our verification works out because by aggregating the signatures, we also aggregated the individual nonces and the private keys (multiplied by <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 466 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g></g></g></svg></mjx-container>). We can then factor out <mjx-container jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.054ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 466 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z"></path></g></g></g></svg></mjx-container>, meaning we kinda multiplied it with an <em>aggregated private key,</em> and added an <em>aggregated secret nonce,</em> even though participants never exposed their private keys or secret nonces to one another.</p>
<p>Multiplying <mjx-container jax="SVG"><svg style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.061ex" height="1.023ex" role="img" focusable="false" viewBox="0 -442 469 452"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g></g></g></svg></mjx-container> and <mjx-container jax="SVG"><svg style="vertical-align: -0.05ex;" xmlns="http://www.w3.org/2000/svg" width="1.778ex" height="1.645ex" role="img" focusable="false" viewBox="0 -705 786 727"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D43A" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252Z"></path></g></g></g></svg></mjx-container> will thus satisfy the equality.</p>

<h2 id="HOWEVER"><a href="#HOWEVER" title="HOWEVER"></a>HOWEVER</h2><p>This example has a hidden flaw if used as a multisignature protocol under adversarial conditions (when co-signers don’t trust each other). <em>Can you see why?</em></p>
<p><sub><i>hint:</i> the attack vector is very early in the aggregation procedure.</sub></p>
<details>
  <summary><i>Tell me the answer already!</i></summary>

<p>A naive protocol like this is vulnerable to a <em>Rogue Key Attack</em> when co-signing with untrusted peers. This attack can be performed by whomever is <em>last</em> to share their public key with the other signers.</p>
<p>Let’s return to Alice, Bob, and Carol.</p>
<ul>
<li>Alice tells Bob and Carol her pubkey <mjx-container jax="SVG"><svg style="vertical-align: -0.355ex;" xmlns="http://www.w3.org/2000/svg" width="2.907ex" height="1.901ex" role="img" focusable="false" viewBox="0 -683 1285.1 840.1"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D437" d="M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z"></path></g><g data-mml-node="mi" transform="translate(861,-150) scale(0.707)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g></g></g></g></svg></mjx-container>.</li>
<li>Bob tells Alice and Carol his pubkey <mjx-container jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="2.747ex" height="1.902ex" role="img" focusable="false" viewBox="0 -683 1214.3 840.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D437" d="M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z"></path></g><g data-mml-node="mi" transform="translate(861,-150) scale(0.707)"><path data-c="1D44F" d="M73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325Z"></path></g></g></g></g></svg></mjx-container>.</li>
<li>Alice and Bob now expect Carol to share her public key.</li>
</ul>
<p>Carol has a sneaky option here. She can give Alice and Bob a phony public key <mjx-container jax="SVG"><svg style="vertical-align: -0.576ex;" xmlns="http://www.w3.org/2000/svg" width="2.754ex" height="2.294ex" role="img" focusable="false" viewBox="0 -759 1217.2 1013.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msubsup"><g data-mml-node="mi"><path data-c="1D437" d="M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z"></path></g><g data-mml-node="mo" transform="translate(861,363) scale(0.707)"><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z"></path></g><g data-mml-node="mi" transform="translate(861,-247) scale(0.707)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g></g></g></svg></mjx-container> which is actually the same as her public key but with Alice’s key and Bob’s key <em>subtracted from it</em>.</p>

<p>Carol doesn’t know the discrete log (private key) of <mjx-container jax="SVG"><svg style="vertical-align: -0.576ex;" xmlns="http://www.w3.org/2000/svg" width="2.754ex" height="2.294ex" role="img" focusable="false" viewBox="0 -759 1217.2 1013.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msubsup"><g data-mml-node="mi"><path data-c="1D437" d="M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z"></path></g><g data-mml-node="mo" transform="translate(861,363) scale(0.707)"><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z"></path></g><g data-mml-node="mi" transform="translate(861,-247) scale(0.707)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g></g></g></svg></mjx-container>, but that’s OK, because when everyone computes the final aggregated public key, they’ll sum each other’s keys together, and <em>Alice and Bob’s keys will cancel out.</em></p>

<p>Carol has just fooled Alice and Bob into agreeing to use an apparently aggregated key which <em>only Carol controls.</em></p>
<p>Neither Alice nor Bob would be able to distinguish between Carol’s authentic key <mjx-container jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="2.754ex" height="1.902ex" role="img" focusable="false" viewBox="0 -683 1217.2 840.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D437" d="M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z"></path></g><g data-mml-node="mi" transform="translate(861,-150) scale(0.707)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g></g></g></svg></mjx-container> and the phoney key <mjx-container jax="SVG"><svg style="vertical-align: -0.576ex;" xmlns="http://www.w3.org/2000/svg" width="2.754ex" height="2.294ex" role="img" focusable="false" viewBox="0 -759 1217.2 1013.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msubsup"><g data-mml-node="mi"><path data-c="1D437" d="M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z"></path></g><g data-mml-node="mo" transform="translate(861,363) scale(0.707)"><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z"></path></g><g data-mml-node="mi" transform="translate(861,-247) scale(0.707)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g></g></g></svg></mjx-container> because they don’t know <mjx-container jax="SVG"><svg style="vertical-align: -0.357ex;" xmlns="http://www.w3.org/2000/svg" width="2.754ex" height="1.902ex" role="img" focusable="false" viewBox="0 -683 1217.2 840.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="1D437" d="M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z"></path></g><g data-mml-node="mi" transform="translate(861,-150) scale(0.707)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g></g></g></svg></mjx-container> belongs to Carol! That’s why they were sharing the keys in the first place.</p>
<p>Carol could also collude with Bob to exclude Alice’s key from the final aggregated key, like so.</p>

<h3 id="The-Solution"><a href="#The-Solution" title="The Solution"></a>The Solution</h3><p>Rogue Key Attacks can be fixed naively by requiring that each signer to prove she knows the private key for her public key. Such an affirmation is called <em>Knowledge-of-Secret-Key</em> (KOSK). This is flawed because not every key I want to aggregate with is going to be fully under my control all the time. Perhaps I want to aggregate a public key right now, but I can only expect to learn its secret key next week (e.g. in a <a target="_blank" rel="noopener" href="https://dci.mit.edu/smart-contracts">Discreet Log Contract</a>. Perhaps I want to aggregate a public key which <em>is itself an aggregated key,</em> whose component secret keys are owned by 3rd parties.</p>
<p>Instead modern Bitcoin developers use a kind of commitment protocol to avoid the risk of rogue keys. This is what <a target="_blank" rel="noopener" href="https://tlu.tarilabs.com/cryptography/The_MuSig_Schnorr_Signature_Scheme"><em>MuSig</em></a> offers. <del>I’m looking forward to discussing MuSig in another post</del> Take a look at <a href="https://conduition.io/cryptography/musig">my article about MuSig</a> to learn what all the fuss is about.</p>
</details>

<h2 id="Benefits"><a href="#Benefits" title="Benefits"></a>Benefits</h2><p>In combination with <a target="_blank" rel="noopener" href="https://github.com/bitcoin/bips/blob/master/bip-0341.mediawiki">Taproot</a>, developers can embed arbitrary combinations of aggregated public keys into a single tweaked public key which encodes a highly complex array of possible spending conditions, but still looks like any old normal public key when used under normal conditions.</p>
<p>Bitcoin developers can use multisignature signing schemes like <a href="https://conduition.io/cryptography/musig">MuSig</a> and threshold signing protocols like <a target="_blank" rel="noopener" href="https://eprint.iacr.org/2022/550">ROAST</a> with much greater efficiency, security, and privacy than has ever been possible before with ECDSA.</p>
<p>Any given public key can now be an aggregation of colossal numbers of child keys and scripts and threshold public keys and much much more.</p>

  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[MartyPC, cycle accurate IBM PC/XT emulator (139 pts)]]></title>
            <link>https://www.vogons.org/viewtopic.php?t=94972</link>
            <guid>36575787</guid>
            <pubDate>Mon, 03 Jul 2023 17:01:41 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.vogons.org/viewtopic.php?t=94972">https://www.vogons.org/viewtopic.php?t=94972</a>, See on <a href="https://news.ycombinator.com/item?id=36575787">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
								<section aria-labelledby="post-1174440-title" id="p1174440">
								<h3 id="post-1174440-title">First post, by GloriousCow</h3>

						

				

				<div>
					<div role="note" aria-label="Poster info">
							
								
	
	<dl role="associationlist definitionlist" data-hide-below-sxs-post="">
					<p role="presentation">
																	<dt role="associationlistitemkey term">Rank</dt>
				<dd role="associationlistitemvalue definition">Newbie</dd>
																</p>
		
						<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="topic"><span>Posts</span></dt>
			<dd role="associationlistitemvalue definition"><a href="https://www.vogons.org/search.php?author_id=49596&amp;sr=posts" title="Search GloriousCow’s posts">79</a></dd>
		</p>
	
			<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="show-guests"><span>Joined</span></dt>
			<dd role="associationlistitemvalue definition">2022-09-12, 20:00</dd>
		</p>
		
									
				
	</dl>

				</div>


					<div>
						
								
	

																																	
						

						
						

																			<p><small>Last edited by <a href="https://www.vogons.org/memberlist.php?mode=viewprofile&amp;u=49596"><span role="text presentation">GloriousCow</span></a> on 2023-07-02, 23:35. Edited 1 time in total.</small>
															</p>
																		
						<div role="note" aria-label="Signature"><p>MartyPC: A cycle-accurate IBM PC/XT emulator | <a href="https://github.com/dbalsom/martypc">https://github.com/dbalsom/martypc</a></p></div>					</div>
				</div>
							</section>
											<article aria-labelledby="post-1174442-title" id="p1174442">
								<h3 id="post-1174442-title">Reply 1 of 15, by GloriousCow</h3>

						

				

				<div>
					<div role="note" aria-label="Poster info">
							
								
	
	<dl role="associationlist definitionlist" data-hide-below-sxs-post="">
					<p role="presentation">
																	<dt role="associationlistitemkey term">Rank</dt>
				<dd role="associationlistitemvalue definition">Newbie</dd>
																</p>
		
						<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="topic"><span>Posts</span></dt>
			<dd role="associationlistitemvalue definition"><a href="https://www.vogons.org/search.php?author_id=49596&amp;sr=posts" title="Search GloriousCow’s posts">79</a></dd>
		</p>
	
			<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="show-guests"><span>Joined</span></dt>
			<dd role="associationlistitemvalue definition">2022-09-12, 20:00</dd>
		</p>
		
									
				
	</dl>

				</div>


					<div>
						
								
	

						
						<div><p>MartyPC Release 0.1.2 is out today and introduces some massive performance improvements and quite a few fixes.  <br>
<a href="https://github.com/dbalsom/martypc/releases/tag/0.1.2">https://github.com/dbalsom/martypc/releases/tag/0.1.2</a></p>

<p>Now that I've completed an initial optimization pass, I'm going to work on improving MartyPC's debugger and QOL features - I've already gotten some great suggestions from VileR and others.</p> 

<p>The feedback for MartyPC has been great, I'm glad so many people have said such kind things about it.  It's been a labor of love for me over the past year, and I hope to continue working on it and making it better with everyone's help.</p></div>

						
						

																								
						<div role="note" aria-label="Signature"><p>MartyPC: A cycle-accurate IBM PC/XT emulator | <a href="https://github.com/dbalsom/martypc">https://github.com/dbalsom/martypc</a></p></div>					</div>
				</div>
							</article>
											<article aria-labelledby="post-1174444-title" id="p1174444">
								<h3 id="post-1174444-title">Reply 2 of 15, by GloriousCow</h3>

						

				

				<div>
					<div role="note" aria-label="Poster info">
							
								
	
	<dl role="associationlist definitionlist" data-hide-below-sxs-post="">
					<p role="presentation">
																	<dt role="associationlistitemkey term">Rank</dt>
				<dd role="associationlistitemvalue definition">Newbie</dd>
																</p>
		
						<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="topic"><span>Posts</span></dt>
			<dd role="associationlistitemvalue definition"><a href="https://www.vogons.org/search.php?author_id=49596&amp;sr=posts" title="Search GloriousCow’s posts">79</a></dd>
		</p>
	
			<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="show-guests"><span>Joined</span></dt>
			<dd role="associationlistitemvalue definition">2022-09-12, 20:00</dd>
		</p>
		
									
				
	</dl>

				</div>


					<div>
						
								
	

						
						<div><blockquote role="blockquote group" aria-label="Quote"><cite data-icon="quote"> <a href="https://www.vogons.org/viewtopic.php?p=1174418#p1174418" title="Go to original post">wrote on 2023-06-29, 23:27:</a></cite><p>Hey Glorious Cow! I love this emulator already! I have been messing around with more accurate PC emulators lately and it's fascinating to appreciate all the nuances of these machines. Your emulator was very easy to get up and running! The ability to seamlessly toggle between RGB and composite graphics is freaking sweet, I love it!</p></blockquote>

<p>Glad you like it!</p>

<blockquote role="blockquote group" aria-label="Quote"><cite data-icon="quote"><a href="https://www.vogons.org/memberlist.php?mode=viewprofile&amp;u=37887">mothergoose729</a> <a href="https://www.vogons.org/viewtopic.php?p=1174418#p1174418" title="Go to original post">wrote on 2023-06-29, 23:27:</a></cite><p>I know this is an initial release, so obviously there are a lot of QOL and feature improvement to make from a usability stand point. I used bios images from my PCem collection and it was hard to figure out what MartyPC needed exactly to boot. I eventually found it, but mostly just by copy and pasting tones of image files into the ROMs folder until something booted.</p></blockquote>

<p>I've started working on better documentation. You're not the first to struggle with the ROM situation. I have an initial wiki set up, which goes into detail about the ROMs required by MartyPC:  <a href="https://github.com/dbalsom/martypc/wiki/ROMs">https://github.com/dbalsom/martypc/wiki/ROMs</a>   I hope to expand on this a bit as well, it was a bit more extensive but Github's outage today ate my first draft (ouch)</p>

<blockquote role="blockquote group" aria-label="Quote"><cite data-icon="quote"><a href="https://www.vogons.org/memberlist.php?mode=viewprofile&amp;u=37887">mothergoose729</a> <a href="https://www.vogons.org/viewtopic.php?p=1174418#p1174418" title="Go to original post">wrote on 2023-06-29, 23:27:</a></cite><details><summary><span>I have a couple of questions about the features the emulator supports right now: […]<br></span><span data-icon="down-arrow">Show full quote</span></summary>
<p>I have a couple of questions about the features the emulator supports right now:</p>

<p>1) Do you plan to support specific machine configurations like PCem does? (amount of memory, number of floppy drives and their size, ect)<br>
2) Is there a true full screen mode implemented? <br>
3) Can you load floppies from other directories?</p>
</details></blockquote>

<p>1) A better machine configuration system is definitely needed. I originally thought 'why would anyone want less than 640k of ram?' but you're not the first to ask, and switching between different configurations is a bit tedious; although you can always have separate configuration files and specify them on the command line.   I need to have something that specifies the size of a floppy drive - DOS currently formats everything as 360k.  I thought I was being clever by making the drive type change depending on what image you loaded into it (which lets you read a 1.44MB disk on a XT), but this doesn't really work that well with the BIOS detecting drive type on boot and storing the size in the BDA.</p>

<p>2) There's no full screen mode, but it's definitely something on the to-do list.  This will probably be part of a display system refactor that includes dual-window support, if I can manage it.</p>

<p>3) Sadly no, the floppy directory limitation is due to me not wanting to try to call the native file browser on 3 different platforms (although there are libraries that might help with this) and not wanting to make a custom file browser.  It gets unmanageable when you have a lot of floppies (the menu just cuts off at the bottom of the screen), there's no subdirectory support, and so on.  Listing additional floppy directories to scan in the config would be a good improvement, but the UI has to be improved to support it as well.</p></div>

						
						

																								
						<div role="note" aria-label="Signature"><p>MartyPC: A cycle-accurate IBM PC/XT emulator | <a href="https://github.com/dbalsom/martypc">https://github.com/dbalsom/martypc</a></p></div>					</div>
				</div>
							</article>
											<article aria-labelledby="post-1174797-title" id="p1174797">
								<h3 id="post-1174797-title">Reply 3 of 15, by Scali</h3>

						

				

				<div>
					<div role="note" aria-label="Poster info">
												
	
	<dl role="associationlist definitionlist" data-hide-below-sxs-post="">
					<p role="presentation">
																	<dt role="associationlistitemkey term">Rank</dt>
				<dd role="associationlistitemvalue definition">l33t</dd>
																</p>
		
						<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="topic"><span>Posts</span></dt>
			<dd role="associationlistitemvalue definition"><a href="https://www.vogons.org/search.php?author_id=30223&amp;sr=posts" title="Search Scali’s posts">4701</a></dd>
		</p>
	
			<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="show-guests"><span>Joined</span></dt>
			<dd role="associationlistitemvalue definition">2014-12-13, 14:24</dd>
		</p>
		
												
				
	</dl>

				</div>


					<div><p>This version is certainly a lot faster than the previous release.<br>
In RGBI-mode even the old Core i7 can sustain 60 fps through most things.<br>
Composite mode is still very heavy, giving only about 30 fps. but in theory, if the composite is moved to a shader, that should solve that problem.</p>

<p>It looks like it defaults to the Vulkan API if supported, and falls back to DX12 otherwise. There do not appear to be any alternatives to that, because on a system that has no DX12-support, it seems to use the Microsoft software renderer for DX12. Which sadly doesn't perform that well, so a fallback to DX11 or OpenGL may have been better on these systems. But I'm not sure if the library you use can give you these options.<br>
Edit: Apparently you can just set an <a href="https://lib.rs/crates/wgpu">env var WGPU_BACKEND</a> to 'dx11' or 'gl'. But for some reason it doesn't actually run in those configurations.</p></div>
				</div>
							</article>
											<article aria-labelledby="post-1174880-title" id="p1174880">
								<h3 id="post-1174880-title">Reply 4 of 15, by GloriousCow</h3>

						

				

				<div>
					<div role="note" aria-label="Poster info">
							
								
	
	<dl role="associationlist definitionlist" data-hide-below-sxs-post="">
					<p role="presentation">
																	<dt role="associationlistitemkey term">Rank</dt>
				<dd role="associationlistitemvalue definition">Newbie</dd>
																</p>
		
						<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="topic"><span>Posts</span></dt>
			<dd role="associationlistitemvalue definition"><a href="https://www.vogons.org/search.php?author_id=49596&amp;sr=posts" title="Search GloriousCow’s posts">79</a></dd>
		</p>
	
			<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="show-guests"><span>Joined</span></dt>
			<dd role="associationlistitemvalue definition">2022-09-12, 20:00</dd>
		</p>
		
									
				
	</dl>

				</div>


					<div>
						
								
	

						
						<div><blockquote role="blockquote group" aria-label="Quote"><cite data-icon="quote"><a href="https://www.vogons.org/memberlist.php?mode=viewprofile&amp;u=30223">Scali</a> <a href="https://www.vogons.org/viewtopic.php?p=1174797#p1174797" title="Go to original post">wrote on 2023-07-01, 11:30:</a></cite><p>This version is certainly a lot faster than the previous release.<br>
In RGBI-mode even the old Core i7 can sustain 60 fps through most things.<br>
Composite mode is still very heavy, giving only about 30 fps. but in theory, if the composite is moved to a shader, that should solve that problem.</p></blockquote>

<p>Glad to hear things are working better.  The CGA emulation on the first release was really dog slow.  There are more optimizations coming.  I'm thinking I can save a lot of drawing time in periods where no CGA VRAM writes or CRTC updates have occurred; I can tick the CGA as normal but just not output anything (assuming I don't clear the buffer) because in theory the frame would be unchanged.  Plus I haven't even really touched the CPU, and I have several ideas there.</p>

<p>I'm in the process of bringing over reenigne's composite code; having considered what he said about emulating the analog behavior of the multiplexer and such, I realized there was no point in trying to re-duplicate his sampling work. We'll see if it is any faster on its own, but I'll also be using it as the base for the shader - it's one pass, vs my two-pass method, so that's an extra bonus. I just need to fix Flower Girl from being green and purple at the moment.</p>

<blockquote role="blockquote group" aria-label="Quote"><cite data-icon="quote"><a href="https://www.vogons.org/memberlist.php?mode=viewprofile&amp;u=30223">Scali</a> <a href="https://www.vogons.org/viewtopic.php?p=1174797#p1174797" title="Go to original post">wrote on 2023-07-01, 11:30:</a></cite><p>It looks like it defaults to the Vulkan API if supported, and falls back to DX12 otherwise. There do not appear to be any alternatives to that, because on a system that has no DX12-support, it seems to use the Microsoft software renderer for DX12. Which sadly doesn't perform that well, so a fallback to DX11 or OpenGL may have been better on these systems. But I'm not sure if the library you use can give you these options.<br>
Edit: Apparently you can just set an <a href="https://lib.rs/crates/wgpu">env var WGPU_BACKEND</a> to 'dx11' or 'gl'. But for some reason it doesn't actually run in those configurations.</p></blockquote>

<p>I'm surprised there even is a software renderer for DX12!  I don't know about dx11 specifically but I know the gl backend is not supported on Windows, as it's targeting ES3.  I can look into whether you can specify a backend from code, but I was hoping that it would "do the right thing" by itself...</p></div>

						
						

																								
						<div role="note" aria-label="Signature"><p>MartyPC: A cycle-accurate IBM PC/XT emulator | <a href="https://github.com/dbalsom/martypc">https://github.com/dbalsom/martypc</a></p></div>					</div>
				</div>
							</article>
											<article aria-labelledby="post-1174906-title" id="p1174906">
								<h3 id="post-1174906-title">Reply 5 of 15, by peterfirefly</h3>

						

				

				<div>
					<div role="note" aria-label="Poster info">
												
	
	<dl role="associationlist definitionlist" data-hide-below-sxs-post="">
					<p role="presentation">
																	<dt role="associationlistitemkey term">Rank</dt>
				<dd role="associationlistitemvalue definition">Newbie</dd>
																</p>
		
						<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="topic"><span>Posts</span></dt>
			<dd role="associationlistitemvalue definition"><a href="https://www.vogons.org/search.php?author_id=23872&amp;sr=posts" title="Search peterfirefly’s posts">4</a></dd>
		</p>
	
			<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="show-guests"><span>Joined</span></dt>
			<dd role="associationlistitemvalue definition">2011-10-21, 14:45</dd>
		</p>
		
										<p role="presentation">
				<dt role="associationlistitemkey term" data-icon="location"><span>Location</span></dt>
				<dd role="associationlistitemvalue definition">Copenhagen, Denmark</dd>
			</p>
							
				
	</dl>

				</div>


					<div>
						
								
	

						
						<div><p>config.rs has a 'raw_rom' field in the 'Machine' struct.  It is never read actually used, but it means 1) the supplied martypc.toml file doesn't work and 2) one is left mightily confused by the error message.  I am very new at Rust so it took a while to find out that 'raw_rom' was a bool field that was never read so the actual value didn't matter.</p>

<p>The Windows version is very, very slow -- but looks ok so far.<br>
The Linux version (under WSL2 w/ Ubuntu 22.04LTS) is even slower AND it looks weird.  That might be due to unusual DPI settings on my part.</p>

<p>My machine is a budget laptop from 2018 extended to 20GB RAM (Lenovo 14-some-letters).  WSL2 uses llvmpipe (software) for its OpenGL/Vulkan implementation so of course its "GPU" is slow -- but I'm surprised the emulator needs to use the "GPU" so much that it matters even when the emulated cursor is just blinking (very slowly) while the emulated memory is being tested by the BIOS.  The Windows version uses the built-in Intel HD Graphics 620.</p>

<p>I asked MartyPC to emulate the 5150 and I have no idea what BIOS ROM it used (it doesn't say -- and I dumped three of them into installs\roms\).  After an eternity the emulated PC gave up with "131 FC00 ROM" -- perhaps because I "pressed" the turbo button?</p>

<p>Is there a way to skip the memory test for faster boots?</p>

<p>The Performance window has lots of values but I don't know what most of them mean.  I can say that FPS=57, UPS a bit lower, Emulation time seems to be around 4-6ms, Render time seems to be around 10ms -- they all change so fast that I can't tell for sure.  This is for the Windows version.  I have played with egui's demo and it has lower render time (often around 3ms) despite seemingly doing more on the screen.</p>

<p>Yes, I did build with "cargo build --release".</p> 

<p>PS: forgot to say I used git version 435c5592d23b34a024473cdccc014b508cf4bbec.</p></div>

						
							<div role="group" aria-labelledby="post-1174906-attachments-title">
		<h4 id="post-1174906-attachments-title"><span>Attachments</span></h4>
					<ul role="list">
							<li role="listitem" data-icon="attachment">


			
					<figure aria-labelledby="a-167435">
				<a href="https://www.vogons.org/download/file.php?id=167435&amp;mode=view"><img src="https://www.vogons.org/thumbs/23872_2e016fe6f6020c5ee465d7b52e448c2b/Screenshot%202023-07-01%20204027.png" alt="Screenshot 2023-07-01 204027.png"></a>
				<figcaption><dl role="associationlist definitionlist">
	<dt role="associationlistitemkey term">Filename</dt>
	<dd role="associationlistitemvalue definition"><a id="a-167435" href="https://www.vogons.org/download/file.php?id=167435&amp;mode=view">Screenshot 2023-07-01 204027.png</a></dd>
	<dt role="associationlistitemkey term">File size</dt>
	<dd role="associationlistitemvalue definition">55.46 <abbr role="text presentation" title="kibibytes" aria-label="kibibytes">KiB</abbr></dd>
	<dt role="associationlistitemkey term">Views</dt>
	<dd role="associationlistitemvalue definition">39447 views</dd>
			<dt role="associationlistitemkey term">File license</dt>
	<dd role="associationlistitemvalue definition"><a href="https://spdx.org/licenses/CC-BY-4.0.html#licenseText" title="Creative Commons Attribution 4.0 International license" data-icon="view-license">CC-BY-4.0</a></dd>
</dl>
</figcaption>
			</figure>
		
		
			</li>
						</ul>
			</div>


																								
											</div>
				</div>
							</article>
											<article aria-labelledby="post-1174925-title" id="p1174925">
								<h3 id="post-1174925-title">Reply 6 of 15, by GloriousCow</h3>

						

				

				<div>
					<div role="note" aria-label="Poster info">
							
								
	
	<dl role="associationlist definitionlist" data-hide-below-sxs-post="">
					<p role="presentation">
																	<dt role="associationlistitemkey term">Rank</dt>
				<dd role="associationlistitemvalue definition">Newbie</dd>
																</p>
		
						<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="topic"><span>Posts</span></dt>
			<dd role="associationlistitemvalue definition"><a href="https://www.vogons.org/search.php?author_id=49596&amp;sr=posts" title="Search GloriousCow’s posts">79</a></dd>
		</p>
	
			<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="show-guests"><span>Joined</span></dt>
			<dd role="associationlistitemvalue definition">2022-09-12, 20:00</dd>
		</p>
		
									
				
	</dl>

				</div>


					<div>
						
								
	

						
						<div><blockquote role="blockquote group" aria-label="Quote"><cite data-icon="quote"><a href="https://www.vogons.org/memberlist.php?mode=viewprofile&amp;u=23872">peterfirefly</a> <a href="https://www.vogons.org/viewtopic.php?p=1174906#p1174906" title="Go to original post">wrote on 2023-07-01, 19:02:</a></cite><p>config.rs has a 'raw_rom' field in the 'Machine' struct.  It is never read actually used, but it means 1) the supplied martypc.toml file doesn't work and 2) one is left mightily confused by the error message.  I am very new at Rust so it took a while to find out that 'raw_rom' was a bool field that was never read so the actual value didn't matter.</p></blockquote>

<p>That field is only used by the web player, sorry -  It should have been an Option&lt;bool&gt; so that it is not required to be present.  But I would recommend in general that if you build from source you just drop the executable into the directory structure from a release. I don't know if i'll be keeping that 'install' directory in the source tree.</p> 

<blockquote role="blockquote group" aria-label="Quote"><cite data-icon="quote"><a href="https://www.vogons.org/memberlist.php?mode=viewprofile&amp;u=23872">peterfirefly</a> <a href="https://www.vogons.org/viewtopic.php?p=1174906#p1174906" title="Go to original post">wrote on 2023-07-01, 19:02:</a></cite><p>The Windows version is very, very slow -- but looks ok so far.<br>
The Linux version (under WSL2 w/ Ubuntu 22.04LTS) is even slower AND it looks weird.  That might be due to unusual DPI settings on my part.</p></blockquote>

<p>When you say slow, do you mean moving debug windows around? or the general emulation performance? Can you take a screenshot of the Performance window?</p>

<blockquote role="blockquote group" aria-label="Quote"><cite data-icon="quote"><a href="https://www.vogons.org/memberlist.php?mode=viewprofile&amp;u=23872">peterfirefly</a> <a href="https://www.vogons.org/viewtopic.php?p=1174906#p1174906" title="Go to original post">wrote on 2023-07-01, 19:02:</a></cite><p>My machine is a budget laptop from 2018 extended to 20GB RAM (Lenovo 14-some-letters).  WSL2 uses llvmpipe (software) for its OpenGL/Vulkan implementation so of course its "GPU" is slow -- but I'm surprised the emulator needs to use the "GPU" so much that it matters even when the emulated cursor is just blinking (very slowly) while the emulated memory is being tested by the BIOS.  The Windows version uses the built-in Intel HD Graphics 620.</p></blockquote>

<p>What model CPU does it have?</p>

<p>The GPU is not used to emulate the CGA, so what you see on the emulated screen is largely irrelevant. It is used to composite the display buffer with the GUI windows - I'm a bit surprised that this has turned out to be such a challenge for a lot of PCs.  I might make an SDL front end for lower-spec machines or configurations where a fast GPU isn't available.</p>

<blockquote role="blockquote group" aria-label="Quote"><cite data-icon="quote"><a href="https://www.vogons.org/memberlist.php?mode=viewprofile&amp;u=23872">peterfirefly</a> <a href="https://www.vogons.org/viewtopic.php?p=1174906#p1174906" title="Go to original post">wrote on 2023-07-01, 19:02:</a></cite><p>I asked MartyPC to emulate the 5150 and I have no idea what BIOS ROM it used (it doesn't say -- and I dumped three of them into installs\roms\).  After an eternity the emulated PC gave up with "131 FC00 ROM" -- perhaps because I "pressed" the turbo button?</p></blockquote>

<p>minuszerodegrees says that 131 is the 'cassette port wrap-around (loopback) test', interesting.  Does it boot with Turbo off?</p> 

<p>I think I will add a Machine Info window that will show which ROM is in use; but in general, it will pick the newest set by release date.  So if you have all three known versions of the 5150 bios in the ROMs folder it will use the October '82  BIOS.</p>

<blockquote role="blockquote group" aria-label="Quote"><cite data-icon="quote"><a href="https://www.vogons.org/memberlist.php?mode=viewprofile&amp;u=23872">peterfirefly</a> <a href="https://www.vogons.org/viewtopic.php?p=1174906#p1174906" title="Go to original post">wrote on 2023-07-01, 19:02:</a></cite><p>Is there a way to skip the memory test for faster boots?</p></blockquote>

<p>In general, I'd recommend emulating a 5160 with the 1986 BIOS unless you have a specific interest in the 5150.  MartyPC will hot-patch the 1986 5160 BIOS to speed up the memory test dramatically, because I got tired of waiting ages for it to boot myself.  I could do this for every BIOS version, but it's just a matter of finding the right offsets and defining the patches for each ROM.</p>

<blockquote role="blockquote group" aria-label="Quote"><cite data-icon="quote"><a href="https://www.vogons.org/memberlist.php?mode=viewprofile&amp;u=23872">peterfirefly</a> <a href="https://www.vogons.org/viewtopic.php?p=1174906#p1174906" title="Go to original post">wrote on 2023-07-01, 19:02:</a></cite><p>The Performance window has lots of values but I don't know what most of them mean.  I can say that FPS=57, UPS a bit lower, Emulation time seems to be around 4-6ms, Render time seems to be around 10ms -- they all change so fast that I can't tell for sure.  This is for the Windows version.  I have played with egui's demo and it has lower render time (often around 3ms) despite seemingly doing more on the screen.</p></blockquote>

<p>'Render time' reported by MartyPC isn't EGUI's render time, so we can't compare the two, it's mainly comprised of three steps: converting the indexed color CGA output to RGBA, scaling it, and optionally converting it for composite monitor simulation.</p>

<p>Your render time is extremely high - mine is well under 1ms.  So you're bumping up against 16ms frame times, which means you won't be keeping 60fps.  Can you go to Display menu and uncheck 'Correct Aspect Ratio' and tell me what that drops your render time down to?  0.1.2 introduced SIMD-enabled aspect correction, and I'm wondering if you have some CPU incompatibility - if turning off aspect correction drastically improves render time that would be a smoking gun.</p></div>

						
						

																								
						<div role="note" aria-label="Signature"><p>MartyPC: A cycle-accurate IBM PC/XT emulator | <a href="https://github.com/dbalsom/martypc">https://github.com/dbalsom/martypc</a></p></div>					</div>
				</div>
							</article>
											<article aria-labelledby="post-1174928-title" id="p1174928">
								<h3 id="post-1174928-title">Reply 7 of 15, by peterfirefly</h3>

						

				

				<div>
					<div role="note" aria-label="Poster info">
												
	
	<dl role="associationlist definitionlist" data-hide-below-sxs-post="">
					<p role="presentation">
																	<dt role="associationlistitemkey term">Rank</dt>
				<dd role="associationlistitemvalue definition">Newbie</dd>
																</p>
		
						<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="topic"><span>Posts</span></dt>
			<dd role="associationlistitemvalue definition"><a href="https://www.vogons.org/search.php?author_id=23872&amp;sr=posts" title="Search peterfirefly’s posts">4</a></dd>
		</p>
	
			<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="show-guests"><span>Joined</span></dt>
			<dd role="associationlistitemvalue definition">2011-10-21, 14:45</dd>
		</p>
		
										<p role="presentation">
				<dt role="associationlistitemkey term" data-icon="location"><span>Location</span></dt>
				<dd role="associationlistitemvalue definition">Copenhagen, Denmark</dd>
			</p>
							
				
	</dl>

				</div>


					<div>
						
								
	

						
						<div><p>&gt; But I would recommend in general that if you build from source you just drop the executable into the directory structure from a release. I don't know if i'll be keeping that 'install' directory in the source tree.</p> 

<p>Ok, didn't know that.</p>

<p>&gt; When you say slow, do you mean moving debug windows around? or the general emulation performance? Can you take a screenshot of the Performance window?</p>

<p>emulation performance.</p>

<p>&gt; What model CPU does it have?</p>

<p>i3-7100U, running at 2.40GHz (power is plugged in and I turned all the power saving off).</p>

<p>&gt;The GPU is not used to emulate the CGA, so what you see on the emulated screen is largely irrelevant. It is used to composite the display buffer with the GUI windows - I'm a bit surprised that this has  turned out to be such a challenge for a lot of PCs.  I might make an SDL front end for lower-spec machines or configurations where a fast GPU isn't available.</p>

<p>Yes, I found your shader.  Isn't it just a simple image copy, possibly with a bit of filtering?</p>

<p>&gt; minuszerodegrees says that 131 is the 'cassette port wrap-around (loopback) test', interesting.  Does it boot with Turbo off?</p> 

<p>Nope.  Same error.  I quit the emulator and started it again to be sure.</p>

<p>&gt; I think I will add a Machine Info window that will show which ROM is in use; but in general, it will pick the newest set by release date.  So if you have all three known versions of the 5150 bios in the ROMs folder it will use the October '82  BIOS.</p>

<p>I'd be happy with a println! <span data-version="6.1" data-src="1f600" data-alt="grinning face">😀</span></p>

<p>&gt; In general, I'd recommend emulating a 5160 with the 1986 BIOS unless you have a specific interest in the 5150.  MartyPC will hot-patch the 1986 5160 BIOS to speed up the memory test dramatically, because I got tired of waiting ages for it to boot myself.  I could do this for every BIOS version, but it's just a matter of finding the right offsets and defining the patches for each ROM.</p>

<p>I wanted to see Arena 5150 -- but I'll gladly take that speed hack!</p>

<p>I haven't tried the 5160 emulation yet.</p>

<p>&gt; 'Render time' reported by MartyPC isn't EGUI's render time, so we can't compare the two, it's mainly comprised of three steps: converting the indexed color CGA output to RGBA, scaling it, and optionally converting it for composite monitor simulation.</p>

<p>Oh, I thought it was.</p>

<p>&gt; Your render time is extremely high - mine is well under 1ms.  So you're bumping up against 16ms frame times, which means you won't be keeping 60fps.  Can you go to Display menu and uncheck 'Correct Aspect Ratio' and tell me what that drops your render time down to?  0.1.2 introduced SIMD-enabled aspect correction, and I'm wondering if you have some CPU incompatibility - if turning off aspect correction drastically improves render time that would be a smoking gun.</p>

<p>Doesn't seem to make a difference.  I also looked at the GPU% in Task Manager.  It is around 8.7% with or without "Correct Aspect Ratio" when there are no egui windows open and the CPU is running and doing memory test.  I know the 620 is very slow compared to a modern, real graphics card -- but it can do 400 GFLOPS and 24 Gtexels/s.  I have no idea what it spends 8.7% on!</p>

<p>I'll play with 5160 and hopefully figure out how to use Tracy in the next couple of days.  I'll get back when I know more.  So far this rust + egui + shader journey has been great fun so I definitely want to continue.</p>

<p><a href="https://github.com/wolfpld/tracy">https://github.com/wolfpld/tracy</a></p>

<p>(I haven't figured out how to use Vogons' quotes yet -- sorry about that.)</p></div>

						
							<div role="group" aria-labelledby="post-1174928-attachments-title">
		<h4 id="post-1174928-attachments-title"><span>Attachments</span></h4>
					<ul role="list">
							<li role="listitem" data-icon="attachment">


			
					<figure aria-labelledby="a-167452">
				<a href="https://www.vogons.org/download/file.php?id=167452&amp;mode=view"><img src="https://www.vogons.org/thumbs/23872_78828303a5b8c9a0f376f8e1e581ebb4/Screenshot%202023-07-01%20215508.png" alt="Screenshot 2023-07-01 215508.png"></a>
				<figcaption><dl role="associationlist definitionlist">
	<dt role="associationlistitemkey term">Filename</dt>
	<dd role="associationlistitemvalue definition"><a id="a-167452" href="https://www.vogons.org/download/file.php?id=167452&amp;mode=view">Screenshot 2023-07-01 215508.png</a></dd>
	<dt role="associationlistitemkey term">File size</dt>
	<dd role="associationlistitemvalue definition">48.21 <abbr role="text presentation" title="kibibytes" aria-label="kibibytes">KiB</abbr></dd>
	<dt role="associationlistitemkey term">Views</dt>
	<dd role="associationlistitemvalue definition">39425 views</dd>
			<dt role="associationlistitemkey term">File license</dt>
	<dd role="associationlistitemvalue definition"><a href="https://spdx.org/licenses/CC-BY-4.0.html#licenseText" title="Creative Commons Attribution 4.0 International license" data-icon="view-license">CC-BY-4.0</a></dd>
</dl>
</figcaption>
			</figure>
		
		
			</li>
						</ul>
			</div>


																								
											</div>
				</div>
							</article>
											<article aria-labelledby="post-1174937-title" id="p1174937">
								<h3 id="post-1174937-title">Reply 8 of 15, by GloriousCow</h3>

						

				

				<div>
					<div role="note" aria-label="Poster info">
							
								
	
	<dl role="associationlist definitionlist" data-hide-below-sxs-post="">
					<p role="presentation">
																	<dt role="associationlistitemkey term">Rank</dt>
				<dd role="associationlistitemvalue definition">Newbie</dd>
																</p>
		
						<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="topic"><span>Posts</span></dt>
			<dd role="associationlistitemvalue definition"><a href="https://www.vogons.org/search.php?author_id=49596&amp;sr=posts" title="Search GloriousCow’s posts">79</a></dd>
		</p>
	
			<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="show-guests"><span>Joined</span></dt>
			<dd role="associationlistitemvalue definition">2022-09-12, 20:00</dd>
		</p>
		
									
				
	</dl>

				</div>


					<div>
						
								
	

						
						<div><blockquote role="blockquote group" aria-label="Quote"><cite data-icon="quote"><a href="https://www.vogons.org/memberlist.php?mode=viewprofile&amp;u=23872">peterfirefly</a> <a href="https://www.vogons.org/viewtopic.php?p=1174928#p1174928" title="Go to original post">wrote on 2023-07-01, 20:02:</a></cite><p>I wanted to see Arena 5150 -- but I'll gladly take that speed hack!</p></blockquote>

<p>Good news, Area 5150 works fine on a 5160.</p>

<blockquote role="blockquote group" aria-label="Quote"><cite data-icon="quote"><a href="https://www.vogons.org/memberlist.php?mode=viewprofile&amp;u=23872">peterfirefly</a> <a href="https://www.vogons.org/viewtopic.php?p=1174928#p1174928" title="Go to original post">wrote on 2023-07-01, 20:02:</a></cite><p>Doesn't seem to make a difference.  I also looked at the GPU% in Task Manager.  It is around 8.7% with or without "Correct Aspect Ratio" when there are no egui windows open and the CPU is running and doing memory test.  I know the 620 is very slow compared to a modern, real graphics card -- but it can do 400 GFLOPS and 24 Gtexels/s.  I have no idea what it spends 8.7% on!</p></blockquote>

<p>All the stuff in 'Render time' is being run on your CPU, not your GPU.  I know that sounds a little counterintuitive considering we associate 'Rendering' with the GPU. Maybe I should rename it to 'Buffer Processing' or something less confusing.</p>  

<p>Is there a chance you could install cargo flamegraph <a href="https://github.com/flamegraph-rs/flamegraph">https://github.com/flamegraph-rs/flamegraph </a> and generate one  (just for a few seconds even) ? it might help me get an idea of where the slowdown is on your system.</p></div>

						
						

																								
						<div role="note" aria-label="Signature"><p>MartyPC: A cycle-accurate IBM PC/XT emulator | <a href="https://github.com/dbalsom/martypc">https://github.com/dbalsom/martypc</a></p></div>					</div>
				</div>
							</article>
											<article aria-labelledby="post-1174938-title" id="p1174938">
								<h3 id="post-1174938-title">Reply 9 of 15, by peterfirefly</h3>

						

				

				<div>
					<div role="note" aria-label="Poster info">
												
	
	<dl role="associationlist definitionlist" data-hide-below-sxs-post="">
					<p role="presentation">
																	<dt role="associationlistitemkey term">Rank</dt>
				<dd role="associationlistitemvalue definition">Newbie</dd>
																</p>
		
						<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="topic"><span>Posts</span></dt>
			<dd role="associationlistitemvalue definition"><a href="https://www.vogons.org/search.php?author_id=23872&amp;sr=posts" title="Search peterfirefly’s posts">4</a></dd>
		</p>
	
			<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="show-guests"><span>Joined</span></dt>
			<dd role="associationlistitemvalue definition">2011-10-21, 14:45</dd>
		</p>
		
										<p role="presentation">
				<dt role="associationlistitemkey term" data-icon="location"><span>Location</span></dt>
				<dd role="associationlistitemvalue definition">Copenhagen, Denmark</dd>
			</p>
							
				
	</dl>

				</div>


					<div><p>&gt; All the stuff in 'Render time' is being run on your CPU, not your GPU.  I know that sounds a little counterintuitive considering we associate 'Rendering' with the GPU. Maybe I should rename it to 'Buffer Processing' or something less confusing.</p>  

<p>I got that.  I still don't understand why it is using 8.7% of my GPU!  And reducing the GPU usage would make a large difference for WSL2.</p>

<p>That's why I want to run Tracy on it.</p>

<p>&gt; Is there a chance you could install cargo flamegraph <a href="https://github.com/flamegraph-rs/flamegraph">https://github.com/flamegraph-rs/flamegraph </a> and generate one  (just for a few seconds even) ? it might help me get an idea of where the slowdown is on your system.</p>

<p>There is every chance!  But not tonight...</p></div>
				</div>
							</article>
											<article aria-labelledby="post-1174958-title" id="p1174958">
								<h3 id="post-1174958-title">Reply 10 of 15, by GloriousCow</h3>

						

				

				<div>
					<div role="note" aria-label="Poster info">
							
								
	
	<dl role="associationlist definitionlist" data-hide-below-sxs-post="">
					<p role="presentation">
																	<dt role="associationlistitemkey term">Rank</dt>
				<dd role="associationlistitemvalue definition">Newbie</dd>
																</p>
		
						<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="topic"><span>Posts</span></dt>
			<dd role="associationlistitemvalue definition"><a href="https://www.vogons.org/search.php?author_id=49596&amp;sr=posts" title="Search GloriousCow’s posts">79</a></dd>
		</p>
	
			<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="show-guests"><span>Joined</span></dt>
			<dd role="associationlistitemvalue definition">2022-09-12, 20:00</dd>
		</p>
		
									
				
	</dl>

				</div>


					<div>
						
								
	

						
						<div><p>I've successfully ported reenigne's composite code, and putting them side by side really shows off the deficiencies in my algorithm:</p>

<div>


			
					<figure aria-labelledby="a-167470">
				<a href="https://www.vogons.org/download/file.php?id=167470&amp;mode=view"><img src="https://www.vogons.org/thumbs/49596_79287d9fe5075fa18f053dcf22f1aef5/old_vs_reenigne.png" alt="old_vs_reenigne.png"></a>
				<figcaption><dl role="associationlist definitionlist">
	<dt role="associationlistitemkey term">Filename</dt>
	<dd role="associationlistitemvalue definition"><a id="a-167470" href="https://www.vogons.org/download/file.php?id=167470&amp;mode=view">old_vs_reenigne.png</a></dd>
	<dt role="associationlistitemkey term">File size</dt>
	<dd role="associationlistitemvalue definition">125.84 <abbr role="text presentation" title="kibibytes" aria-label="kibibytes">KiB</abbr></dd>
	<dt role="associationlistitemkey term">Views</dt>
	<dd role="associationlistitemvalue definition">39369 views</dd>
			<dt role="associationlistitemkey term">File comment</dt>
		<dd role="associationlistitemvalue definition">Old MartyPC composite vs new (reenigne) method</dd>
			<dt role="associationlistitemkey term">File license</dt>
	<dd role="associationlistitemvalue definition"><span data-icon="view-license">Public domain</span></dd>
</dl>
</figcaption>
			</figure>
		
		
			</div>

<p>With the added benefit of it being nearly 4x faster.  Since it's one pass I can completely skip the composite signal conversion step the old algorithm had to use.  Still want to make it a shader, but having a reasonably fast software path is a good thing.</p></div>

						
						

																								
						<div role="note" aria-label="Signature"><p>MartyPC: A cycle-accurate IBM PC/XT emulator | <a href="https://github.com/dbalsom/martypc">https://github.com/dbalsom/martypc</a></p></div>					</div>
				</div>
							</article>
											<article aria-labelledby="post-1175220-title" id="p1175220">
								<h3 id="post-1175220-title">Reply 11 of 15, by GloriousCow</h3>

						

				

				<div>
					<div role="note" aria-label="Poster info">
							
								
	
	<dl role="associationlist definitionlist" data-hide-below-sxs-post="">
					<p role="presentation">
																	<dt role="associationlistitemkey term">Rank</dt>
				<dd role="associationlistitemvalue definition">Newbie</dd>
																</p>
		
						<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="topic"><span>Posts</span></dt>
			<dd role="associationlistitemvalue definition"><a href="https://www.vogons.org/search.php?author_id=49596&amp;sr=posts" title="Search GloriousCow’s posts">79</a></dd>
		</p>
	
			<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="show-guests"><span>Joined</span></dt>
			<dd role="associationlistitemvalue definition">2022-09-12, 20:00</dd>
		</p>
		
									
				
	</dl>

				</div>


					<div>
						
								
	

						
						<div><p>With the much faster composite now in place, I've added a web demo for 8088MPH:</p>

<p><a href="https://dbalsom.github.io/martypc/web/player.html?title=8088mph">https://dbalsom.github.io/martypc/web/player. … l?title=8088mph</a></p></div>

						
						

																								
						<div role="note" aria-label="Signature"><p>MartyPC: A cycle-accurate IBM PC/XT emulator | <a href="https://github.com/dbalsom/martypc">https://github.com/dbalsom/martypc</a></p></div>					</div>
				</div>
							</article>
											<article aria-labelledby="post-1175223-title" id="p1175223">
								<h3 id="post-1175223-title">Reply 12 of 15, by mdrejhon</h3>

						

				

				<div>
					<div role="note" aria-label="Poster info">
												
	
	<dl role="associationlist definitionlist" data-hide-below-sxs-post="">
					<p role="presentation">
																	<dt role="associationlistitemkey term">Rank</dt>
				<dd role="associationlistitemvalue definition">Newbie</dd>
																</p>
		
						<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="topic"><span>Posts</span></dt>
			<dd role="associationlistitemvalue definition"><a href="https://www.vogons.org/search.php?author_id=51669&amp;sr=posts" title="Search mdrejhon’s posts">6</a></dd>
		</p>
	
			<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="show-guests"><span>Joined</span></dt>
			<dd role="associationlistitemvalue definition">2023-07-01, 10:18</dd>
		</p>
		
									
				
	</dl>

				</div>


					<div><p>Really nice!  How are you compiling your Rust software into JavaScript?</p>  

<p>That's fantastic-looking composite emulation -- best I've ever seen in a Javascript emulator -- and even runs realtime 60fps.   I'd ask for a fullscreen button, or a double-click to enter/exit fullscreen, but that's only a nice-to-have.</p>

<p>Bugs:<br>
1 -- Second bug, it's not letting me zoom the canvas image via the common CTRL+scrollwheel (zoom webpage) -- it resists resizing. I'd like to go 200% to fill more of my screen.<br>
2 -- There's a very minor raster glitch in the Kefrens bars in 8088MPH in the Javascript version of your emulator.  Not sure if it's because of the settings chosen, or your emulator;<br>
3 -- It seemed to skip over some sections of demo (maybe a late buffered Enter key)</p>

<p><b>UPDATE: There was a behavior where pressing Enter in the startup gradient tester didn't work, but restarting browser worked to fix item 1!  But see item 3<b></b></b></p></div>
				</div>
							</article>
											<article aria-labelledby="post-1175233-title" id="p1175233">
								<h3 id="post-1175233-title">Reply 13 of 15, by GloriousCow</h3>

						

				

				<div>
					<div role="note" aria-label="Poster info">
							
								
	
	<dl role="associationlist definitionlist" data-hide-below-sxs-post="">
					<p role="presentation">
																	<dt role="associationlistitemkey term">Rank</dt>
				<dd role="associationlistitemvalue definition">Newbie</dd>
																</p>
		
						<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="topic"><span>Posts</span></dt>
			<dd role="associationlistitemvalue definition"><a href="https://www.vogons.org/search.php?author_id=49596&amp;sr=posts" title="Search GloriousCow’s posts">79</a></dd>
		</p>
	
			<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="show-guests"><span>Joined</span></dt>
			<dd role="associationlistitemvalue definition">2022-09-12, 20:00</dd>
		</p>
		
									
				
	</dl>

				</div>


					<div>
						
								
	

						
						<div><blockquote role="blockquote group" aria-label="Quote"><cite data-icon="quote"><a href="https://www.vogons.org/memberlist.php?mode=viewprofile&amp;u=51669">mdrejhon</a> <a href="https://www.vogons.org/viewtopic.php?p=1175223#p1175223" title="Go to original post">wrote on 2023-07-02, 23:46:</a></cite><p>Really nice!  How are you compiling your Rust software into JavaScript?</p></blockquote>

<p>wasm is a native target of the rust compiler, so it's pretty easy.  The only things I had to change was turning the file open/read operations into web requests.</p>

<blockquote role="blockquote group" aria-label="Quote"><cite data-icon="quote"><a href="https://www.vogons.org/memberlist.php?mode=viewprofile&amp;u=51669">mdrejhon</a> <a href="https://www.vogons.org/viewtopic.php?p=1175223#p1175223" title="Go to original post">wrote on 2023-07-02, 23:46:</a></cite><p>That's fantastic-looking composite emulation -- best I've ever seen in a Javascript emulator -- and even runs realtime 60fps.   I'd ask for a fullscreen button, or a double-click to enter/exit fullscreen, but that's only a</p></blockquote>

<p>Wish I could take credit, but it's reenigne's composite code now... mine was close, but the colors were a bit dull. (and a lot slower)</p>

<blockquote role="blockquote group" aria-label="Quote"><cite data-icon="quote"><a href="https://www.vogons.org/memberlist.php?mode=viewprofile&amp;u=51669">mdrejhon</a> <a href="https://www.vogons.org/viewtopic.php?p=1175223#p1175223" title="Go to original post">wrote on 2023-07-02, 23:46:</a></cite><p>1 -- Second bug, it's not letting me zoom the canvas image via the common CTRL+scrollwheel (zoom webpage) -- it resists resizing. I'd like to go 200% to fill more of my screen.</p></blockquote>

<p>I am not a web developer by any means, so forgive me if there is some jank to this page.</p> 

<blockquote role="blockquote group" aria-label="Quote"><cite data-icon="quote"><a href="https://www.vogons.org/memberlist.php?mode=viewprofile&amp;u=51669">mdrejhon</a> <a href="https://www.vogons.org/viewtopic.php?p=1175223#p1175223" title="Go to original post">wrote on 2023-07-02, 23:46:</a></cite><p>2 -- There's a very minor raster glitch in the Kefrens bars in 8088MPH in the Javascript version of your emulator.  Not sure if it's because of the settings chosen, or your emulator;</p></blockquote>

<p>Sometimes there's a vertical discontinuity in the background lines, is that what you mean? If not, could you screenshot it?</p>

<blockquote role="blockquote group" aria-label="Quote"><cite data-icon="quote"><a href="https://www.vogons.org/memberlist.php?mode=viewprofile&amp;u=51669">mdrejhon</a> <a href="https://www.vogons.org/viewtopic.php?p=1175223#p1175223" title="Go to original post">wrote on 2023-07-02, 23:46:</a></cite><p>3 -- It seemed to skip over some sections of demo (maybe a late buffered Enter key)</p></blockquote>

<p>I've watched this demo eight million times and didn't see any scene get skipped when i tested it, what effect was skipped?</p>

<p>EDIT: Okay, finally caught it skipping the Delorean effect after about a second.  Not sure what that's about, but I suspect timer issues...</p></div>

						
						

																								
						<div role="note" aria-label="Signature"><p>MartyPC: A cycle-accurate IBM PC/XT emulator | <a href="https://github.com/dbalsom/martypc">https://github.com/dbalsom/martypc</a></p></div>					</div>
				</div>
							</article>
											<article aria-labelledby="post-1175256-title" id="p1175256">
								<h3 id="post-1175256-title">Reply 14 of 15, by mdrejhon</h3>

						

				

				<div>
					<div role="note" aria-label="Poster info">
												
	
	<dl role="associationlist definitionlist" data-hide-below-sxs-post="">
					<p role="presentation">
																	<dt role="associationlistitemkey term">Rank</dt>
				<dd role="associationlistitemvalue definition">Newbie</dd>
																</p>
		
						<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="topic"><span>Posts</span></dt>
			<dd role="associationlistitemvalue definition"><a href="https://www.vogons.org/search.php?author_id=51669&amp;sr=posts" title="Search mdrejhon’s posts">6</a></dd>
		</p>
	
			<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="show-guests"><span>Joined</span></dt>
			<dd role="associationlistitemvalue definition">2023-07-01, 10:18</dd>
		</p>
		
									
				
	</dl>

				</div>


					<div><p>I just found out if I zoom before I refresh before Run, it works!  I get 200% fine.</p>

<p>By default, you have:</p>

<div role="group" aria-label="Code" data-clipboard-source=""><pre><span><code role="code"><span role="text presentation">&lt;canvas tabindex="0" data-raw-handle="1" width="768" height="576" alt="MartyPC WASM Player" style="width: 768px; height: 576px;"&gt;&lt;/canvas&gt;<br></span></code></span></pre></div>

<p>If I zoom 200% while running, I get an unresized emulator and it still stays:</p>

<div role="group" aria-label="Code" data-clipboard-source=""><pre><span><code role="code"><span role="text presentation">&lt;canvas tabindex="0" data-raw-handle="1" width="768" height="576" alt="MartyPC WASM Player" style="width: 768px; height: 576px;"&gt;&lt;/canvas&gt;<br></span></code></span></pre></div>

<p>If I zoom before I refresh before Run, it works and correctly scaled:</p>

<div role="group" aria-label="Code" data-clipboard-source=""><pre><span><code role="code"><span role="text presentation">&lt;canvas tabindex="0" data-raw-handle="1" width="768" height="576" alt="MartyPC WASM Player" style="width: 384px; height: 288px;"&gt;&lt;/canvas&gt;<br></span></code></span></pre></div>

<p>It's clearly a confusing part of the web standard.  The style of width/height is based on the logical units, so you need to divide the style's width and height by the page zoom factor (an API is available).</p>

<p>(It may be that the stuff inside the canvas is "fighting" against the zoom)</p>

<p>I don't know if you did that part of the HTML or if a compiler did it -- but just letting you know!</p></div>
				</div>
							</article>
											<article aria-labelledby="post-1175481-title" id="p1175481">
								<h3 id="post-1175481-title">Reply 15 of 15, by GloriousCow</h3>

						

				

				<div>
					<div role="note" aria-label="Poster info">
							
								
	
	<dl role="associationlist definitionlist" data-hide-below-sxs-post="">
					<p role="presentation">
																	<dt role="associationlistitemkey term">Rank</dt>
				<dd role="associationlistitemvalue definition">Newbie</dd>
																</p>
		
						<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="topic"><span>Posts</span></dt>
			<dd role="associationlistitemvalue definition"><a href="https://www.vogons.org/search.php?author_id=49596&amp;sr=posts" title="Search GloriousCow’s posts">79</a></dd>
		</p>
	
			<p role="presentation">
			<dt role="associationlistitemkey term" data-icon="show-guests"><span>Joined</span></dt>
			<dd role="associationlistitemvalue definition">2022-09-12, 20:00</dd>
		</p>
		
									
				
	</dl>

				</div>


					<div>
						
								
	

						
						<p>If you're curious about all the views, we apparently made the front page of Hackernews today... hello everyone <span data-version="6.1" data-src="1f600" data-alt="grinning face">😀</span></p>

						
						

																								
						<div role="note" aria-label="Signature"><p>MartyPC: A cycle-accurate IBM PC/XT emulator | <a href="https://github.com/dbalsom/martypc">https://github.com/dbalsom/martypc</a></p></div>					</div>
				</div>
							</article>
						</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Joins 13 Ways (488 pts)]]></title>
            <link>https://justinjaffray.com/joins-13-ways/?a=b</link>
            <guid>36575784</guid>
            <pubDate>Mon, 03 Jul 2023 17:01:38 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://justinjaffray.com/joins-13-ways/?a=b">https://justinjaffray.com/joins-13-ways/?a=b</a>, See on <a href="https://news.ycombinator.com/item?id=36575784">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
    

<p><small>03 Jul 2023</small></p><p>Relational (inner) joins are really common in the world of databases, and one
weird thing about them is that it seems like everyone has a different idea of
what they are.  In this post I’ve aggregated a bunch of different definitions,
ways of thinking about them, and ways of implementing them that will hopefully
be interesting.
They’re not without redundancy, some of them are arguably the same, but I think
they’re all interesting perspectives nonetheless.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#a-join-is-a-lookup">A join is a lookup</a></li>
<li><a href="#a-join-is-a-nested-loop-over-rows">A join is a nested loop over rows</a></li>
<li><a href="#a-join-is-a-nested-loop-over-columns">A join is a nested loop over columns</a></li>
<li><a href="#a-join-is-compatible-alternate-realities">A join is compatible alternate realities</a></li>
<li><a href="#a-join-is-flatmap">A join is flatMap</a></li>
<li><a href="#a-join-is-the-solution-to-the-n1-problem">A join is the solution to the N+1 problem</a></li>
<li><a href="#a-join-is-paths-through-a-graph">A join is paths through a graph</a></li>
<li><a href="#a-join-is-a-minimal-model">A join is a minimal model</a></li>
<li><a href="#a-join-is-typechecking">A join is typechecking</a></li>
<li><a href="#a-join-is-an-operation-in-the-set-monad">A join is an operation in the Set monad</a></li>
<li><a href="#a-join-is-the-biggest-acceptable-relation">A join is the biggest acceptable relation</a></li>
<li><a href="#a-join-is-ajoin">A join is a…join</a></li>
<li><a href="#a-join-is-a-ring-product">A join is a ring product</a></li>
</ul>
<h2 id="a-join-is-a-lookup">A join is a lookup</h2>
<p>The first and most practical way to see a join is that it’s “looking something up,” or adorning some data with some additional, redundant data.</p>
<p>I think the first place people typically encounter joins is when some guy on the internet has told them to normalize their tables. Meaning they’ve been told to stop storing data like this:</p>
<table>
<thead>
<tr>
<th>user</th>
<th>country</th>
<th>country_code</th>
</tr>
</thead>
<tbody>
<tr>
<td>Smudge</td>
<td>Canada</td>
<td>CA</td>
</tr>
<tr>
<td>Sissel</td>
<td>Canada</td>
<td>CA</td>
</tr>
<tr>
<td>Petee</td>
<td>United States</td>
<td>US</td>
</tr>
</tbody>
</table>
<p>This is “bad,” because there’s redundancy: <code>country_code</code> doesn’t change between rows with the same <code>country</code>. If we were storing something more volatile than this, we’d have to make sure that any changes to the data were reflected everywhere, which is error prone and inefficient.</p>
<p>The correct way to do this is to <em><strong><strong><strong><strong>normalize</strong></strong></strong></strong></em> the table. Create a table which only relates <code>country</code> and <code>country_code</code>:</p>
<table>
<thead>
<tr>
<th>country_id</th>
<th>country</th>
<th>country_code</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Canada</td>
<td>CA</td>
</tr>
<tr>
<td>2</td>
<td>United States</td>
<td>US</td>
</tr>
</tbody>
</table>
<p>and then reference that in the “fact table:”</p>
<table>
<thead>
<tr>
<th>user</th>
<th>country_id</th>
</tr>
</thead>
<tbody>
<tr>
<td>Smudge</td>
<td>1</td>
</tr>
<tr>
<td>Sissel</td>
<td>1</td>
</tr>
<tr>
<td>Petee</td>
<td>2</td>
</tr>
</tbody>
</table>
<p>Then a join is the operation that lets us recover the original table, which we might want to do some computations: to join these two tables we’d write:</p>
<div><pre><code data-lang="sql"><span>SELECT</span><span> </span><span>user</span>,<span> </span>country,<span> </span>country_code<span> </span><span>FROM</span><span>
</span><span>    </span>users<span>
</span><span>      </span><span>INNER</span><span> </span><span>JOIN</span><span>
</span><span>    </span>countries<span>
</span><span>      </span><span>ON</span><span> </span>users.country_id<span> </span><span>=</span><span> </span>countries.country_id<span>
</span></code></pre></div><p>Going forward, we will often adopt that convention that we implicitly join “on” any columns of the two relations that have the same name.
But we will play a bit fast and loose with this, don’t sweat the details too much.</p>
<h2 id="a-join-is-a-nested-loop-over-rows">A join is a nested loop over rows</h2>
<p>Given some predicate <code>p</code>, the join of two sets <code>R</code> and <code>S</code> is:</p>
<div><pre><code data-lang="python"><span>def</span> <span>join</span>(R, S, p):
  output <span>=</span> []
	<span>for</span> r <span>in</span> R:
      <span>for</span> s <span>in</span> S:
		<span>if</span> p(r, s):
          output<span>.</span>push((r, s))
  <span>return</span> output
</code></pre></div><p>If the cross product of two collections is all concatenations of rows from the two of them, their join is a subset of that.</p>
<h2 id="a-join-is-a-nested-loop-over-columns">A join is a nested loop over columns</h2>
<p>The <strong><strong><strong>domain</strong></strong></strong> of a column is the set of possible values that can appear in it.</p>
<p>If I have a relation <code>R</code> whose columns are <code>a</code> and <code>b</code>, and <code>S</code> whose columns are <code>b</code> and <code>c</code>, then the join of <code>R</code> and <code>S</code> is:</p>
<div><pre><code data-lang="python"><span>def</span> <span>join</span>(R, S):
  output <span>=</span> []
  <span>for</span> a <span>in</span> domain(a):
    <span>for</span> b <span>in</span> domain(b):
      <span>for</span> c <span>in</span> domain(c):
        <span>if</span> R<span>.</span>contains(a, b) <span>and</span> S<span>.</span>contains(b, c):
		  output<span>.</span>push([a, b, c])
  <span>return</span> output
</code></pre></div><h2 id="a-join-is-compatible-alternate-realities">A join is compatible alternate realities</h2>
<p>Here’s our first weird one.</p>
<p>John and Sally are standing around the corner from each other, each has a pet, and each can see a stray animal on the corner, but they can’t see each other.</p>
<p><img src="https://justinjaffray.com/images/joins_4.png">
</p>
<p>John and Sally both exist in a handful of alternate realities at once. For instance, there’s one reality where John has a dog, and another where he has a cat. We can summarize the realities that are possible for John in a relation:</p>
<table>
<thead>
<tr>
<th>john’s pet</th>
<th>stray</th>
</tr>
</thead>
<tbody>
<tr>
<td>dog</td>
<td>dog</td>
</tr>
<tr>
<td>cat</td>
<td>dog</td>
</tr>
<tr>
<td>cat</td>
<td>mouse</td>
</tr>
</tbody>
</table>
<p>Similarly, Sally also has a pet, and can also see the stray:</p>
<table>
<thead>
<tr>
<th>sally’s pet</th>
<th>stray</th>
</tr>
</thead>
<tbody>
<tr>
<td>dog</td>
<td>mouse</td>
</tr>
<tr>
<td>cat</td>
<td>mouse</td>
</tr>
<tr>
<td>mouse</td>
<td>dog</td>
</tr>
</tbody>
</table>
<p>We only have this imperfect information, because John can’t see Sally’s pet, and Sally can’t see John’s pet.</p>
<p>We can still make some inferences though: it can’t be the case that John has a dog while Sally has a cat, because then they would disagree on what the stray was (whenever John has a dog, the stray is a dog, but whenever Sally has a cat, the stray is a mouse).</p>
<p>By this logic, we can list out all the combinations that might exist:</p>
<table>
<thead>
<tr>
<th>john’s pet</th>
<th>stray</th>
<th>sally’s pet</th>
</tr>
</thead>
<tbody>
<tr>
<td>dog</td>
<td>dog</td>
<td>mouse</td>
</tr>
<tr>
<td>cat</td>
<td>dog</td>
<td>mouse</td>
</tr>
<tr>
<td>cat</td>
<td>mouse</td>
<td>dog</td>
</tr>
<tr>
<td>cat</td>
<td>mouse</td>
<td>cat</td>
</tr>
</tbody>
</table>
<p>This is the join of the two tables on <code>stray</code>.</p>
<h2 id="a-join-is-flatmap">A join is flatMap</h2>
<p>The <code>flatMap</code> function in many programming languages operates on arrays.
It computes a new array for every element of the original, and concatenates the results.</p>
<div><pre><code data-lang="javascript"><span>&gt;</span> [<span>1</span>, <span>2</span>, <span>3</span>].flatMap(x =&gt; <span>new</span> <span>Array</span>(x).fill(x))
[ <span>1</span>, <span>2</span>, <span>2</span>, <span>3</span>, <span>3</span>, <span>3</span> ]
</code></pre></div><p>This can implement a join.
This:</p>
<div><pre><code data-lang="sql"><span>SELECT</span><span> </span><span>*</span><span> </span><span>FROM</span><span> </span>r<span> </span><span>INNER</span><span> </span><span>JOIN</span><span> </span>s<span> </span><span>ON</span><span> </span>p<span>
</span></code></pre></div><p>becomes this:</p>
<div><pre><code data-lang="jsx">r.flatMap(x =&gt; s.filter(y =&gt; p(x, y)))
</code></pre></div><p>Some SQL variants support a <code>LATERAL</code> construction which turns joins into flatMaps:</p>
<div><pre><code data-lang="sql">pg<span>=#</span><span> </span><span>SELECT</span><span> </span><span>*</span><span> </span><span>FROM</span><span>
</span><span>  </span>(<span>VALUES</span><span> </span>(<span>1</span>),<span> </span>(<span>2</span>),<span> </span>(<span>3</span>))<span> </span>r(x),<span>
</span><span>  </span><span>LATERAL</span><span> </span>(<span>SELECT</span><span> </span><span>*</span><span> </span><span>FROM</span><span> </span>generate_series(<span>1</span>,<span> </span>x))<span> </span>u;<span>
</span><span> </span>x<span> </span><span>|</span><span> </span>generate_series<span>
</span><span></span><span>---+-----------------
</span><span></span><span> </span><span>1</span><span> </span><span>|</span><span>               </span><span>1</span><span>
</span><span> </span><span>2</span><span> </span><span>|</span><span>               </span><span>1</span><span>
</span><span> </span><span>2</span><span> </span><span>|</span><span>               </span><span>2</span><span>
</span><span> </span><span>3</span><span> </span><span>|</span><span>               </span><span>1</span><span>
</span><span> </span><span>3</span><span> </span><span>|</span><span>               </span><span>2</span><span>
</span><span> </span><span>3</span><span> </span><span>|</span><span>               </span><span>3</span><span>
</span><span></span>(<span>6</span><span> </span><span>rows</span>)<span>
</span></code></pre></div><p>Whenever the right-hand side of such a flatMap doesn’t contain any references to the left-hand side, it’s equivalent to a cross product (this is the crux of how query decorrelation is done, utilizing successive rewrites to remove column references from the right-hand side).</p>
<h2 id="a-join-is-the-solution-to-the-n1-problem">A join is the solution to the N+1 problem</h2>
<p>A common problem that occurs when using ORMs is called the “N+1 problem.”
This happens when you need to do a query for each row in a result set.
It ends up looking something like this:</p>
<div><pre><code data-lang="python">pets <span>=</span> run_query(<span>"SELECT * FROM users"</span>)
<span>for</span> pet <span>in</span> pets:
  country_code <span>=</span> run_query(
    <span>"SELECT country_code FROM countries WHERE country_id = </span><span>%d</span><span>"</span> <span>%</span> pet<span>.</span>country_id
  )
  <span>print</span>(pet<span>.</span>name, country_code)
</code></pre></div><p>This is a really common problem that shows up when people aren’t yet used to using relational databases.
The problem is that in databases that use connections, like Postgres (this is not so much of a problem for in-process databases like Sqlite),
there’s a high fixed cost to an individual query.
Thus, you might want a way to tell the database “please do all these lookups for me,” and the result turns out to be exactly a join:</p>
<div><pre><code data-lang="sql"><span>SELECT</span><span> </span>name,<span> </span>country_code<span> </span><span>FROM</span><span>
</span><span>  </span>users<span> </span><span>INNER</span><span> </span><span>JOIN</span><span> </span>countries<span> </span><span>ON</span><span> </span>users.country_id<span> </span><span>=</span><span> </span>countries.id<span>
</span></code></pre></div><h2 id="a-join-is-paths-through-a-graph">A join is paths through a graph</h2>
<p>A <em>relation</em> is so named because it “relates” two sets.
In the case of our <code>users</code> table,
it relates the set of usernames with the set of country IDs.
We can visualize this relationship as a <em>graph</em>:</p>
<p><img src="https://justinjaffray.com/images/joins_1.png">
</p>
<p>And similarly, we relate the set of country IDs to the set of two-letter country codes:</p>
<p><img src="https://justinjaffray.com/images/joins_2.png">
</p>
<p>Since the right-hand side of the first graph, and the left-hand side of the
second graph share a vertex set, it makes sense to consider them together:</p>
<p><img src="https://justinjaffray.com/images/joins_3.png">
</p>
<p>If we enumerate all the paths that start in the left set of this graph, go to a
vertex in the middle set, and end on a vertex in the right set, we will
construct exactly the join of these two relations.</p>
<h2 id="a-join-is-a-minimal-model">A join is a minimal model</h2>
<p>In formal logic, a <em><strong><strong>model</strong></strong></em> of a set of sentences is a set of facts which make all of the sentences true. In this setting, a relation is a <em><strong><strong><strong><strong>predicate</strong></strong></strong></strong></em>. The <code>users</code> relation is the predicate that satisfies the following:</p>
<pre><code data-lang="datalog">users("Smudge", 1).
users("Sissel", 1).
users("Petee", 2).
</code></pre><p>and the <code>country</code> relation is the predicate that satisfies:</p>
<pre><code data-lang="datalog">country(1, "Canada", "CA").
country(2, "United States", "US").
</code></pre><p>Now consider the following implication:</p>
<p>\[
\texttt{users}(a, b) \wedge \texttt{countries}(b, c, d) \rightarrow \texttt{Q}(a, b, c, d)
\]</p>
<p>read “whenever <code>users(A, B)</code> and <code>countries(B, C, D)</code>, then <code>Q(A, B, C, D)</code>." A model of this sentence is a set of facts which <code>Q</code> is true for such that this sentence is true.</p>
<p>One possible model is:</p>
<pre><code data-lang="datalog">Q("Smudge", 1, "Canada", "CA").
Q("Smudge", 2, "United States", "US").
Q("Sissel", 1, "Canada", "CA").
Q("Sissel", 2, "United States", "US").
Q("Petee", 1, "Canada", "CA").
Q("Petee", 2, "United States", "US").
</code></pre><p>Another is</p>
<pre><code data-lang="datalog">Q("Smudge", 1, "Canada", "CA").
Q("Smudge", 2, "United States", "US").
Q("Sissel", 1, "Canada", "CA").
Q("Sissel", 2, "United States", "US").
Q("Petee", 2, "Canada", "CA").
Q("Petee", 1, "United States", "US").
Q("Banana", 1, "Banana", "Banana").
</code></pre><p>It’s not particularly satisfying that this definition means we can have multiple possible models.
We want something canonical.
That’s why we ask for the <strong><strong><strong><strong>smallest</strong></strong></strong></strong> model that works.
It turns out that for sentences like this, such a model always exists, and it’s the intersection of all models.</p>
<p>Here it’s</p>
<pre><code data-lang="datalog">Q("Smudge", 1, "Canada", "CA").
Q("Sissel", 1, "Canada", "CA").
Q("Petee", 2, "United States", "US").
</code></pre><p>which is the join of <code>users</code> and <code>country</code>.</p>
<h2 id="a-join-is-typechecking">A join is typechecking</h2>
<p>ML-style type systems bear a lot of similarities to joins (mostly because they very strongly resemble Prolog and Datalog).
First, let’s define our relations as Rust traits:</p>
<div><pre><code data-lang="rust"><span>trait</span><span> </span>Users<span> </span>{}<span>
</span><span></span><span>trait</span><span> </span>CountryCode<span> </span>{}<span>
</span></code></pre></div><p>Now define our values, they’re Rust concrete types:</p>
<div><pre><code data-lang="rust"><span>struct</span> <span>Smudge</span>;<span>
</span><span></span><span>struct</span> <span>Sissel</span>;<span>
</span><span></span><span>struct</span> <span>Petee</span>;<span>
</span><span>
</span><span></span><span>struct</span> <span>Canada</span>;<span>
</span><span></span><span>struct</span> <span>UnitedStates</span>;<span>
</span><span>
</span><span></span><span>struct</span> <span>CA</span>;<span>
</span><span></span><span>struct</span> <span>US</span>;<span>
</span></code></pre></div><div><pre><code data-lang="rust"><span>impl</span><span> </span>Users<span> </span><span>for</span><span> </span>(Smudge,<span> </span>Canada)<span> </span>{}<span>
</span><span></span><span>impl</span><span> </span>Users<span> </span><span>for</span><span> </span>(Sissel,<span> </span>Canada)<span> </span>{}<span>
</span><span></span><span>impl</span><span> </span>Users<span> </span><span>for</span><span> </span>(Petee,<span> </span>UnitedStates)<span> </span>{}<span>
</span><span>
</span><span></span><span>impl</span><span> </span>CountryCode<span> </span><span>for</span><span> </span>(Canada,<span> </span>CA)<span> </span>{}<span>
</span><span></span><span>impl</span><span> </span>CountryCode<span> </span><span>for</span><span> </span>(UnitedStates,<span> </span>US)<span> </span>{}<span>
</span></code></pre></div><p>Now we define the join itself.
A triple <code>(A, B, C)</code> is in the join when <code>(A, B)</code> is in <code>Users</code>, and <code>(B, C)</code> is in <code>CountryCode</code>.</p>
<div><pre><code data-lang="rust"><span>trait</span><span> </span>UserCountryCode<span> </span>{}<span>
</span><span>
</span><span></span><span>impl</span><span>&lt;</span>A,<span> </span>B,<span> </span>C<span>&gt;</span><span> </span>UserCountryCode<span> </span><span>for</span><span> </span>(A,<span> </span>B,<span> </span>C)<span>
</span><span></span><span>where</span><span>
</span><span>    </span>(A,<span> </span>B): <span>Users</span>,<span>
</span><span>    </span>(B,<span> </span>C): <span>CountryCode</span>,<span>
</span><span></span>{<span>
</span><span></span>}<span>
</span></code></pre></div><p>Finally, we can check if something is in the join if our program typechecks.
This typechecks:</p>
<div><pre><code data-lang="rust"><span>fn</span> <span>test</span><span>&lt;</span>X: <span>UserCountryCode</span><span>&gt;</span>()<span> </span>{}<span>
</span><span>
</span><span></span><span>fn</span> <span>main</span>()<span> </span>{<span>
</span><span>    </span>test::<span>&lt;</span>(Smudge,<span> </span>_,<span> </span>CA)<span>&gt;</span>()<span>
</span><span></span>}<span>
</span></code></pre></div><p>While this doesn’t:</p>
<div><pre><code data-lang="rust"><span>fn</span> <span>test</span><span>&lt;</span>X: <span>UserCountryCode</span><span>&gt;</span>()<span> </span>{}<span>
</span><span>
</span><span></span><span>fn</span> <span>main</span>()<span> </span>{<span>
</span><span>    </span>test::<span>&lt;</span>(Smudge,<span> </span>_,<span> </span>US)<span>&gt;</span>()<span>
</span><span></span>}<span>
</span></code></pre></div><pre><code>error[E0277]: the trait bound `(Canada, US): CountryCode` is not satisfied
  --&gt; src/main.rs:32:12
   |
32 |     test::&lt;(Smudge, _, US)&gt;()
   |            ^^^^^^^^^^^^^^^ the trait `CountryCode` is not implemented for `(Canada, US)`
   |
   = help: the following other types implement trait `CountryCode`:
             (Canada, CA)
             (UnitedStates, US)
note: required for `(Smudge, Canada, US)` to implement `UserCountryCode`
  --&gt; src/main.rs:22:15
   |
22 | impl&lt;A, B, C&gt; UserCountryCode for (A, B, C)
   |               ^^^^^^^^^^^^^^^     ^^^^^^^^^
...
25 |     (B, C): CountryCode,
   |             ----------- unsatisfied trait bound introduced here
note: required by a bound in `test`
  --&gt; src/main.rs:29:12
   |
29 | fn test&lt;X: UserCountryCode&gt;() {}
   |            ^^^^^^^^^^^^^^^ required by this bound in `test`
</code></pre><h2 id="a-join-is-an-operation-in-the-set-monad">A join is an operation in the Set monad</h2>
<p>Let’s define an option type (in JavaScript).</p>
<div><pre><code data-lang="javascript"><span>let</span> Some <span>=</span> x =&gt; ({
    map<span>:</span> f =&gt; Some(f(x)),
    <span>// Sometimes called `bind`.
</span><span></span>    andThen<span>:</span> f =&gt; f(x),
    inspect<span>:</span> () =&gt; <span>`Some(</span><span>${</span>JSON.stringify(x)<span>}</span><span>)`</span>,
});

<span>let</span> None <span>=</span> () =&gt; ({
    map<span>:</span> () =&gt; None(),
    andThen<span>:</span> () =&gt; None(),
    inspect<span>:</span> () =&gt; <span>`None()`</span>,
});
</code></pre></div><p>Now, say we have some records, but they’re all optional. As in, we might not
have them, so we have to wrap them in <code>Some</code>:</p>
<div><pre><code data-lang="javascript"><span>let</span> user <span>=</span> Some({ name<span>:</span> <span>'Smudge'</span>, country<span>:</span> <span>'Canada'</span> });
<span>let</span> country1 <span>=</span> Some({ country<span>:</span> <span>'Canada'</span>, code<span>:</span> <span>'CA'</span> });
<span>let</span> country2 <span>=</span> Some({ country<span>:</span> <span>'United States'</span>, code<span>:</span> <span>'US'</span> });
</code></pre></div><p>Now we’ll write a function that takes two of these records and returns <code>Some</code> of their merging if they’re compatible, and <code>None</code> otherwise:</p>
<div><pre><code data-lang="javascript"><span>let</span> merge <span>=</span> (user, country) =&gt; {
    <span>if</span> (user.country <span>===</span> country.country) {
        <span>return</span> Some({ name<span>:</span> user.name, country<span>:</span> user.country, code<span>:</span> country.code });
    } <span>else</span> {
        <span>return</span> None();
    }
}
</code></pre></div><p>But since our actual records are optional, we need to wrap them in calls to <code>andThen</code>:</p>
<div><pre><code data-lang="javascript"><span>let</span> combine <span>=</span> (user, country) =&gt; {
    <span>return</span> user.andThen(user =&gt; {
        <span>return</span> country.andThen(country =&gt; {
            <span>return</span> merge(user, country);
        })
    });
}
</code></pre></div><p>Now we can see the results of calling this function with various values:</p>
<div><pre><code data-lang="javascript">console.log(combine(user, country1).inspect());
console.log(combine(user, country2).inspect());
console.log(combine(None(), country1).inspect());
console.log(combine(user, None()).inspect());
</code></pre></div><p>One interesting thing about the way we’ve set this up is that we can implement
our “container” type differently, but keep the implementation.</p>
<p>Let’s implement a different container, called <code>Rel</code>, which stores a set of records.
Now our <code>map</code> operates on every row, and our <code>andThen</code> returns another relation,
which all get concatenated to the new relation.</p>
<div><pre><code data-lang="javascript"><span>let</span> Rel <span>=</span> x =&gt; ({
    map<span>:</span> f =&gt; Rel(x.map(f)),
    andThen<span>:</span> f =&gt; Rel(x.flatMap(v =&gt; f(v).list())),
    list<span>:</span> () =&gt; x,
})
</code></pre></div><p>Now we can instantiate some data:</p>
<div><pre><code data-lang="javascript"><span>let</span> users <span>=</span> Rel([
    { name<span>:</span> <span>'Smudge'</span>, country<span>:</span> <span>'Canada'</span> },
    { name<span>:</span> <span>'Sissel'</span>, country<span>:</span> <span>'Canada'</span> },
    { name<span>:</span> <span>'Petee'</span>, country<span>:</span> <span>'United States'</span> },
]);

<span>let</span> countries <span>=</span> Rel([
    { country<span>:</span> <span>'Canada'</span>, code<span>:</span> <span>'CA'</span> },
    { country<span>:</span> <span>'United States'</span>, code<span>:</span> <span>'US'</span> },
]);
</code></pre></div><p>And try running the same function <code>combine</code> from before:</p>
<div><pre><code data-lang="javascript">console.log(combine(users, countries).list());
</code></pre></div><p>And we get the join of the two relations:</p>
<div><pre><code data-lang="javascript">[
  { name<span>:</span> <span>'Smudge'</span>, country<span>:</span> <span>'Canada'</span>, code<span>:</span> <span>'CA'</span> },
  { name<span>:</span> <span>'Sissel'</span>, country<span>:</span> <span>'Canada'</span>, code<span>:</span> <span>'CA'</span> },
  { name<span>:</span> <span>'Petee'</span>, country<span>:</span> <span>'United States'</span>, code<span>:</span> <span>'US'</span> }
]
</code></pre></div><h2 id="a-join-is-the-biggest-acceptable-relation">A join is the biggest acceptable relation</h2>
<p>For two relations \(R\) and \(S\), say a third relation \(T\) which has
all the columns from both is “acceptable” if it doesn’t invent any new
information.</p>
<p>By that I mean, if you look at any row in \(T\) and restrict it to just the
columns in \(R\), the resulting row exists in \(R\), and the same is true
for \(S\).</p>
<p>For instance, say our tables are:</p>
<h3 id="r">\(R\)</h3>
<table>
<thead>
<tr>
<th>user</th>
<th>country</th>
</tr>
</thead>
<tbody>
<tr>
<td>Smudge</td>
<td>Canada</td>
</tr>
<tr>
<td>Sissel</td>
<td>Canada</td>
</tr>
<tr>
<td>Petee</td>
<td>United States</td>
</tr>
</tbody>
</table>
<h3 id="s">\(S\)</h3>
<table>
<thead>
<tr>
<th>country</th>
<th>country_code</th>
</tr>
</thead>
<tbody>
<tr>
<td>Canada</td>
<td>CA</td>
</tr>
<tr>
<td>United States</td>
<td>US</td>
</tr>
</tbody>
</table>
<p>This \(T\) is unacceptable:</p>
<table>
<thead>
<tr>
<th>user</th>
<th>country</th>
<th>country_code</th>
</tr>
</thead>
<tbody>
<tr>
<td>Smudge</td>
<td>Canada</td>
<td>US</td>
</tr>
</tbody>
</table>
<p>Because if we restrict to the columns of \(S\),
\(\langle \texttt{country}, \texttt{country\_code} \rangle \), we get</p>
<table>
<thead>
<tr>
<th>country</th>
<th>country_code</th>
</tr>
</thead>
<tbody>
<tr>
<td>Canada</td>
<td>US</td>
</tr>
</tbody>
</table>
<p>Which doesn’t exist in \(S\).</p>
<p>Notably, the empty relation is acceptable.
The <em>largest</em> acceptable relation, here, is</p>
<table>
<thead>
<tr>
<th>user</th>
<th>country</th>
<th>country_code</th>
</tr>
</thead>
<tbody>
<tr>
<td>Smudge</td>
<td>Canada</td>
<td>CA</td>
</tr>
<tr>
<td>Sissel</td>
<td>Canada</td>
<td>CA</td>
</tr>
<tr>
<td>Petee</td>
<td>United States</td>
<td>US</td>
</tr>
</tbody>
</table>
<p>This is the join of the two relations.</p>
<h2 id="a-join-is-ajoin">A join is a…join</h2>
<p>A <em>partial order</em> is a set equipped with a binary relation \(\le\) satisfying the following properties:</p>
<ol>
<li>Reflexivity: \(a \le b\),</li>
<li>Antisymmetry: If \(a \le b\) and \(b \le a\), then \(a = b\), and</li>
<li>Transitivity: If \(a \le b\) and \(b \le c\), then \(a \le c\).</li>
</ol>
<p>(I provide this definition to be complete, but if it’s new to you, don’t
expect the above to give you the intuition you’d need to actually be able to
think about it.)</p>
<p>In a partial order, if two elements \(a, b\) always have a <em>least upper bound</em>
(that is, a smallest \(x\) which \(a\) and \(b\) are both \(\le\)), then
that is called their <em>join</em> and is written \(a \vee b\).</p>
<p>Define the following partial order on relations: \(R \le Q\) if:</p>
<ol>
<li>\(Q\) contains all the columns in \(R\), and</li>
<li>restricting any row in \(Q\) to just the columns in \(R\) gives a row in \(R\).</li>
</ol>
<p>Then for two relations \(R\) and \(S\), \(R \vee S\) exists, and it’s their join (in both senses of the word).</p>
<h2 id="a-join-is-a-ring-product">A join is a ring product</h2>
<p>You might know from high school how to manipulate polynomials. If \(a\), \(b\), and \(c\) are all unknowns, the following expressions are all equivalent:</p>
<p>\[
a(b + c) = ab + ac = ba +ca = ca + ba = (c + b)a
\]</p>
<p>We can represent a relation algebraically in this way. A row is the product of its columns. We represent the row</p>
<table>
<thead>
<tr>
<th>user</th>
<th>country_id</th>
</tr>
</thead>
<tbody>
<tr>
<td>Smudge</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>as the product of two (column name, column value) pairs:</p>
<p>\[
[\text{user}=\texttt{Smudge}]
[\text{country\_id}=\texttt{1}]
\]</p>
<p>A relation is the sum of its rows:</p>
<p>\[
R = \begin{aligned}
&amp;[\text{user}=\texttt{Smudge}][\text{country\_id}=\texttt{1}] \cr
+&amp;[\text{user}=\texttt{Sissel}][\text{country\_id}=\texttt{1}] \cr
+&amp;[\text{user}=\texttt{Petee}][\text{country\_id}=\texttt{2}] \cr
\end{aligned}
\]</p>
<p>We also have the special value 1, satisfying \(1x = x\) for all \(x\).</p>
<p>We then add the following rules for simplifying these expressions:</p>
<p>Idempotence:</p>
<p>$$
[x = y][x = y] = [x = y]
$$</p>
<p>and Contradiction:</p>
<p>$$
[x = y][x = z] = 0 \text{ if }y \not= z.
$$</p>
<p>our lookup table here is</p>
<p>\[
S = \begin{aligned}
&amp;[\text{country\_id}=\texttt{1}][\text{country}=\texttt{Canada}][\text{country\_code}=\texttt{CA}] \cr
+&amp;[\text{country\_id}=\texttt{2}][\text{country}=\texttt{United States}][\text{country\_code}=\texttt{US}] \cr
\end{aligned}
\]</p>
<p>Then something interesting happens if we take the product of these two expressions, obeying the normal rules of polynomial rewriting such as distributivity:</p>
<p>\[
\begin{aligned}
&amp;RS = \cr &amp;\left(\begin{aligned}
&amp;[\text{user}=\texttt{Smudge}][\text{country\_id}=\texttt{1}] \cr
+&amp;[\text{user}=\texttt{Sissel}][\text{country\_id}=\texttt{1}]\cr
+&amp;[\text{user}=\texttt{Petee}][\text{country\_id}=\texttt{2}] \cr
\end{aligned}\right) \cr
&amp;\left(
\begin{aligned}
&amp;[\text{country\_id}=\texttt{1}][\text{country}=\texttt{Canada}][\text{country\_code}=\texttt{CA}] \cr
+&amp;[\text{country\_id}=\texttt{2}][\text{country}=\texttt{United States}][\text{country\_code}=\texttt{US}] \cr
\end{aligned}
\right)
\end{aligned}
\]</p>
<p>If you apply the laws of distributivity and commutativity here, you’ll wind up with the following:</p>
<p>\[
\begin{aligned}
&amp;[\text{user}=\texttt{Smudge}][\text{country\_id}=\texttt{1}]
[\text{country}=\texttt{Canada}]
[\text{country\_code}=\texttt{CA}] \cr
+&amp;[\text{user}=\texttt{Sissel}][\text{country\_id}=\texttt{1}][\text{country}=\texttt{Canada}]
[\text{country\_code}=\texttt{CA}]\cr
+&amp;[\text{user}=\texttt{Petee}][\text{country\_id}=\texttt{2}][\text{country}=\texttt{United States}]
[\text{country\_code}=\texttt{US}] \cr
\end{aligned}
\]</p>
<p>Which is precisely the join of the two relations (I’m told this is a tensor contraction).</p>


  </div></div>]]></description>
        </item>
    </channel>
</rss>