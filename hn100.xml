<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Sun, 28 Apr 2024 15:00:04 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Zilog Z80 CPU – Modern, free and open source silicon clone (136 pts)]]></title>
            <link>https://github.com/rejunity/z80-open-silicon</link>
            <guid>40187656</guid>
            <pubDate>Sun, 28 Apr 2024 11:03:45 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/rejunity/z80-open-silicon">https://github.com/rejunity/z80-open-silicon</a>, See on <a href="https://news.ycombinator.com/item?id=40187656">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/rejunity/z80-open-silicon/workflows/gds/badge.svg"><img src="https://github.com/rejunity/z80-open-silicon/workflows/gds/badge.svg" alt=""></a> <a target="_blank" rel="noopener noreferrer" href="https://github.com/rejunity/z80-open-silicon/workflows/docs/badge.svg"><img src="https://github.com/rejunity/z80-open-silicon/workflows/docs/badge.svg" alt=""></a> <a target="_blank" rel="noopener noreferrer" href="https://github.com/rejunity/z80-open-silicon/workflows/test/badge.svg"><img src="https://github.com/rejunity/z80-open-silicon/workflows/test/badge.svg" alt=""></a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Announcement</h2><a id="user-content-announcement" aria-label="Permalink: Announcement" href="#announcement"></a></p>
<p dir="auto">On April 15 of 2024 Zilog has <a href="https://www.mouser.com/PCN/Littelfuse_PCN_Z84C00.pdf" rel="nofollow">announced End-of-Life</a> for Z80, one of the most famous 8-bit CPUs of all time.</p>
<p dir="auto">It is a time for open-source and hardware preservation community to step in with a Free and Open Source Silicon (FOSS) replacement for Zilog Z80.</p>
<p dir="auto">The <strong>first</strong> fabrication of <strong>FOSS Z80</strong> is scheduled for <strong>June of 2024</strong>!</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Zilog Z80 modern free and open source silicon clone</h2><a id="user-content-zilog-z80-modern-free-and-open-source-silicon-clone" aria-label="Permalink: Zilog Z80 modern free and open source silicon clone" href="#zilog-z80-modern-free-and-open-source-silicon-clone"></a></p>
<p dir="auto">On the path to become a silicon proven, pin compatible, open-source replacement for classic Zilog Z80.</p>
<p dir="auto">FOSS Z80 leverages <a href="https://openroad.readthedocs.io/en" rel="nofollow">OpenROAD</a> flow and FOSS <a href="https://skywater-pdk.readthedocs.io/en/main/" rel="nofollow">130 nm Skywater PDK</a> to synthesize production ready silicon. <a href="https://tinytapeout.com/" rel="nofollow">Tiny Tapeout</a> infrastructure is used to test and pool design with many others to reduce the cost of physical chip fabrication at <a href="https://en.wikipedia.org/wiki/SkyWater_Technology" rel="nofollow">Skywater Foundries</a>.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">The first iteration of FOSS Z80 silicon</h2><a id="user-content-the-first-iteration-of-foss-z80-silicon" aria-label="Permalink: The first iteration of FOSS Z80 silicon" href="#the-first-iteration-of-foss-z80-silicon"></a></p>
<p dir="auto">The first iteration is developed with <a href="https://tinytapeout.com/" rel="nofollow">Tiny Tapeout 07</a> using 130 nm process and fits on a 0.064 mm<sup>2</sup> die area. The first fabrication is scheduled for June of 2024 as a part of <a href="https://platform.efabless.com/projects/shuttle/23" rel="nofollow">CI 2406 Shuttle</a>.</p>
<p width="100%" dir="auto">
    <a target="_blank" rel="noopener noreferrer" href="https://github.com/rejunity/z80-open-silicon/blob/main/docs/tt07_z80.png"><img width="30%" src="https://github.com/rejunity/z80-open-silicon/raw/main/docs/tt07_z80.png"></a>
</p>
<p dir="auto">The implementation is based around Guy Hutchison's <a href="https://github.com/hutch31/tv80">TV80</a> Verilog core.</p>
<p dir="auto"><a href="https://github.com/rejunity/z80-open-silicon/blob/main/docs/info.md">Read documentation for Tiny Tapeout 07 version</a></p>
<p dir="auto">Below is the image of <a href="https://en.wikipedia.org/wiki/GDSII" rel="nofollow">GDSII</a> integrated circuit layout for FOSS Z80. It is the result of automatic place-and-route flow in <a href="https://openroad.readthedocs.io/en" rel="nofollow">OpenROAD</a> using <a href="https://skywater-pdk.readthedocs.io/en/main/" rel="nofollow">130 nm</a> "gates" logic elements.</p>
<p width="100%" dir="auto">
    <a target="_blank" rel="noopener noreferrer" href="https://github.com/rejunity/z80-open-silicon/blob/main/docs/2x2_tiles.png"><img width="50%" src="https://github.com/rejunity/z80-open-silicon/raw/main/docs/2x2_tiles.png"></a>
</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Further Plan / ToDo</h2><a id="user-content-further-plan--todo" aria-label="Permalink: Further Plan / ToDo" href="#further-plan--todo"></a></p>
<ul dir="auto">
<li>Add thorough instruction (including 'illegal') execution tests <a href="https://mdfs.net/Software/Z80/Exerciser/" rel="nofollow">ZEXALL</a> to testbench</li>
<li>Compare different implementations: Verilog core <a href="https://github.com/gdevic/A-Z80">A-Z80</a>, Netlist based <a href="https://github.com/gdevic/Z80Explorer">Z80Explorer</a></li>
<li>Tapeout with ChipIgnite in QFN44 package</li>
<li>Tapeout with DIP40 package</li>
<li>Create gate-level layouts that would resemble the original Z80 layout, see the original <a href="#Z80-Die-shots">chip dies</a> below. Zilog designed Z80 by manually placing each transistor by hand.</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Z80</h2><a id="user-content-z80" aria-label="Permalink: Z80" href="#z80"></a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Pinout</h2><a id="user-content-pinout" aria-label="Permalink: Pinout" href="#pinout"></a></p>
<div data-snippet-clipboard-copy-content="                   ,---------.__,---------.
         <--   A11 |1                   40| A10    -->       
         <--   A12 |2                   39| A9     -->        
         <--   A13 |3       Z80 CPU     38| A8     -->        
         <--   A14 |4                   37| A7     -->        
         <--   A15 |5                   36| A6     -->
         -->   CLK |6                   35| A5     -->
         <->    D4 |7                   34| A4     -->
         <->    D3 |8                   33| A3     -->            
         <->    D5 |9                   32| A2     -->            
         <->    D6 |10                  31| A1     -->            
               VCC |11                  30| A0     -->           
         <->    D2 |12                  29| GND           
         <->    D7 |13                  28| /RFSH  -->          
         <->    D0 |14                  27| /M1    -->           
         <->    D1 |15                  26| /RESET <--      
         -->  /INT |16                  25| /BUSRQ <--      
         -->  /NMI |17                  24| /WAIT  <--      
         <-- /HALT |18                  23| /BUSAK -->     
         <-- /MREQ |19                  22| /WR    -->       
         <-- /IORQ |20                  21| /RD    -->       
                   `----------------------'"><pre><code>                   ,---------.__,---------.
         &lt;--   A11 |1                   40| A10    --&gt;       
         &lt;--   A12 |2                   39| A9     --&gt;        
         &lt;--   A13 |3       Z80 CPU     38| A8     --&gt;        
         &lt;--   A14 |4                   37| A7     --&gt;        
         &lt;--   A15 |5                   36| A6     --&gt;
         --&gt;   CLK |6                   35| A5     --&gt;
         &lt;-&gt;    D4 |7                   34| A4     --&gt;
         &lt;-&gt;    D3 |8                   33| A3     --&gt;            
         &lt;-&gt;    D5 |9                   32| A2     --&gt;            
         &lt;-&gt;    D6 |10                  31| A1     --&gt;            
               VCC |11                  30| A0     --&gt;           
         &lt;-&gt;    D2 |12                  29| GND           
         &lt;-&gt;    D7 |13                  28| /RFSH  --&gt;          
         &lt;-&gt;    D0 |14                  27| /M1    --&gt;           
         &lt;-&gt;    D1 |15                  26| /RESET &lt;--      
         --&gt;  /INT |16                  25| /BUSRQ &lt;--      
         --&gt;  /NMI |17                  24| /WAIT  &lt;--      
         &lt;-- /HALT |18                  23| /BUSAK --&gt;     
         &lt;-- /MREQ |19                  22| /WR    --&gt;       
         &lt;-- /IORQ |20                  21| /RD    --&gt;       
                   `----------------------'
</code></pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">Documentation</h2><a id="user-content-documentation" aria-label="Permalink: Documentation" href="#documentation"></a></p>
<ul dir="auto">
<li><a href="https://baltazarstudios.com/webshare/A-Z80/Z80_CPU_Users_Manual_2004.pdf" rel="nofollow">Z80 Users Manual</a></li>
<li><a href="https://baltazarstudios.com/webshare/A-Z80/z80-mostek.pdf" rel="nofollow">Z80 Users Manual from Mostek</a></li>
<li><a href="http://cini.classiccmp.org//pdf/Zilog/Zilog%20Data%20Book.PDF" rel="nofollow">Zilog Data Book</a></li>
<li><a href="http://www.z80.info/" rel="nofollow">All the information about Z80</a></li>
<li><a href="https://baltazarstudios.com/webshare/A-Z80/z80-documented-v0.91.pdf" rel="nofollow">Undocumented instructions</a></li>
<li><a href="https://baltazarstudios.com/webshare/A-Z80/Z80-Opcode-Tables.pdf" rel="nofollow">Opcode table</a> and <a href="https://baltazarstudios.com/webshare/A-Z80/Z80-Instruction-List-with-T-states.pdf" rel="nofollow">timing</a></li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Oral History of the Development of the Z80</h2><a id="user-content-oral-history-of-the-development-of-the-z80" aria-label="Permalink: Oral History of the Development of the Z80" href="#oral-history-of-the-development-of-the-z80"></a></p>
<p dir="auto"><a href="http://archive.computerhistory.org/resources/text/Oral_History/Zilog_Z80/102658073.05.01.pdf" rel="nofollow">Oral History Panel on the Founding of the Company and the Development of the Z80 Microprocessor</a></p>
<p dir="auto"><a href="https://baltazarstudios.com/webshare/A-Z80/Library/Demystifying%20Microprocessor%20Design%20-%20M.%20Shima.pdf" rel="nofollow">M. Shima on Demystifying Microprocessor Design</a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Z80 Patents</h2><a id="user-content-z80-patents" aria-label="Permalink: Z80 Patents" href="#z80-patents"></a></p>
<ul dir="auto">
<li><strong>(expired)</strong> Patent <a href="https://patents.google.com/patent/US4605980" rel="nofollow">US4605980</a> -- input voltage spike protection</li>
<li><strong>(expired)</strong> Patent <a href="https://patents.google.com/patent/US4332008A" rel="nofollow">US4332008A</a> -- ???</li>
<li><strong>(expired)</strong> Patent <a href="https://patents.google.com/patent/US4486827A" rel="nofollow">US4486827A</a> -- reset circuitry</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Z80 Die shots</h2><a id="user-content-z80-die-shots" aria-label="Permalink: Z80 Die shots" href="#z80-die-shots"></a></p>
<ul dir="auto">
<li><a href="https://downloads.reactivemicro.com/Electronics/Reverse%20Engineering/6502%20-%20Guideline%20to%20Reverse%20Engineering%20v1.0.pdf" rel="nofollow">How to "read" die shots</a></li>
<li>nMOS variant <a href="https://siliconpr0n.org/map/zilog/z8400aps-z80acpu/bercovici_mz/" rel="nofollow">Z8400 with 'Zilog 75'</a> marking and <a href="https://siliconpr0n.org/map/zilog/z0840008/marmontel_mz_ms20x/" rel="nofollow">Zilog Z8400 with 'DC'</a> letter marking</li>
<li>CMOS variants <a href="http://visual6502.org/images/pages/Zilog_Z84C00_die_shots.html" rel="nofollow">Zilog Z84C00</a> and its <a href="https://siliconpr0n.org/map/zilog/z84c0008fec/marmontel_mz_ms20x/" rel="nofollow">8MHz version</a></li>
<li>Nintendo Z80 variant from Super Game Boy <a href="https://siliconpr0n.org/map/nintendo/sgb-cpu-01/mcmaster_mz_mit20x/" rel="nofollow">SGB-CPU 01</a> produced in 1994</li>
<li>Sean Riddle's image of Mostek MK3880 clone <a href="https://happytrees.org/dieshots/Mostek_-_MK3880_(top_metal_removed)#/media/File:Mostek_MK3880_top_metal_removed.jpg" rel="nofollow">metal layer removed</a></li>
<li>Pauli Rautakorpi's images of Z80 clones: <a href="https://commons.wikimedia.org/wiki/User:Birdman86#/media/File:NS_NSC800_die.jpg" rel="nofollow">National Semiconductor NSC800</a>, <a href="https://commons.wikimedia.org/wiki/User:Birdman86#/media/File:Mostek_MK3880_die.jpg" rel="nofollow">Mostek MK3880</a>, <a href="https://commons.wikimedia.org/wiki/User:Birdman86#/media/File:MME_80A-CPU_die.JPG" rel="nofollow">MME9201 with 'U880/5'</a> markings</li>
<li>Zeptobar’s images of <a href="https://zeptobars.com/en/read/Zilog-Z80-Z0840004PSC" rel="nofollow">Zilog Z0840004PSC</a> from 1990, <a href="https://happytrees.org/dieshots/Soviet_-_KR1858VM3#/media/File:KR1858VM3-HD.jpg" rel="nofollow">Soviet KR1858VM3</a> with an uncommon layout, <a href="https://zeptobars.com/en/read/Zilog-Z80-Z80A" rel="nofollow">MME Z80A</a> a clone on a 5um technology larger than the original Zilog chip, <a href="https://zeptobars.com/en/read/KR1858VM1-Z80-MME-Angstrem" rel="nofollow">Soviet KR1858VM1</a> a clone of U880/6 which is in turn a clone of Z80, <a href="https://zeptobars.com/en/read/t34vm1-z80-angstrem-mme" rel="nofollow">Soviet T34VM1</a> based on U880/5</li>
</ul>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/e912e3f3eefbc46d3dd90060eaabd7252eec8a3d5fc78424e6b907ae6f7eb394/687474703a2f2f76697375616c363530322e6f72672f696d616765732f5a38344330302f5a38344330305f6469655f73686f745f3230785f31625f31363030772e6a7067"><img src="https://camo.githubusercontent.com/e912e3f3eefbc46d3dd90060eaabd7252eec8a3d5fc78424e6b907ae6f7eb394/687474703a2f2f76697375616c363530322e6f72672f696d616765732f5a38344330302f5a38344330305f6469655f73686f745f3230785f31625f31363030772e6a7067" alt="" data-canonical-src="http://visual6502.org/images/Z84C00/Z84C00_die_shot_20x_1b_1600w.jpg"></a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Z80 Reverse Engineering</h2><a id="user-content-z80-reverse-engineering" aria-label="Permalink: Z80 Reverse Engineering" href="#z80-reverse-engineering"></a></p>
<ul dir="auto">
<li><a href="https://baltazarstudios.com/z80-instruction-register-deciphered/" rel="nofollow">Z80 Instruction Register deciphered</a></li>
<li><a href="https://baltazarstudios.com/anatomy-z80-gate/" rel="nofollow">Z80 Tri-stated Data &amp; Address bus gates</a></li>
<li><a href="https://baltazarstudios.com/zilog-z80-undocumented-behavior/" rel="nofollow">Z80 (un)documented behavior</a></li>
<li><a href="http://static.righto.com/files/z80-pla-table.html" rel="nofollow">The instruction decode PLA in the Z80 microprocessor</a></li>
<li><a href="http://www.righto.com/2014/09/why-z-80s-data-pins-are-scrambled.html" rel="nofollow">Why the Z-80's data pins are scrambled</a></li>
<li><a href="http://www.righto.com/2014/10/how-z80s-registers-are-implemented-down.html" rel="nofollow">How the Z80's registers are implemented</a></li>
<li><a href="http://www.righto.com/2013/11/the-z-80s-16-bit-incrementdecrement.html" rel="nofollow">The Z-80's 16-bit increment/decrement circuit reverse engineered</a></li>
<li><a href="http://www.righto.com/2013/09/the-z-80-has-4-bit-alu-heres-how-it.html" rel="nofollow">The Z-80 has a 4-bit ALU</a></li>
<li><a href="http://www.righto.com/2013/09/understanding-z-80-processor-one-gate.html" rel="nofollow">XOR, the silicon for two interesting gates explained</a></li>
<li><a href="https://baltazarstudios.com/webshare/A-Z80/memptr_eng.txt" rel="nofollow">WZ aka MEMPTR, esoteric register of the Z80</a></li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Existing Z80 implementations</h2><a id="user-content-existing-z80-implementations" aria-label="Permalink: Existing Z80 implementations" href="#existing-z80-implementations"></a></p>
<ul dir="auto">
<li>TV80 in Verilog <a href="https://github.com/hutch31/tv80">https://github.com/hutch31/tv80</a></li>
<li>TV80 in Verilog <a href="https://github.com/Obijuan/Z80-FPGA">https://github.com/Obijuan/Z80-FPGA</a></li>
<li>A-Z80 in Verilog <a href="https://github.com/gdevic/A-Z80">https://github.com/gdevic/A-Z80</a> its <a href="https://baltazarstudios.com/z80-ground/" rel="nofollow">overview</a> and <a href="https://baltazarstudios.com/z80-cpu/" rel="nofollow">details</a></li>
<li>Z80 net-list level emulator <a href="https://github.com/gdevic/Z80Explorer">https://github.com/gdevic/Z80Explorer</a> and its <a href="https://baltazarstudios.com/z80explorer/" rel="nofollow">overview</a> and <a href="https://gdevic.github.io/Z80Explorer/" rel="nofollow">Users Guide</a></li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">What is Tiny Tapeout?</h2><a id="user-content-what-is-tiny-tapeout" aria-label="Permalink: What is Tiny Tapeout?" href="#what-is-tiny-tapeout"></a></p>
<p dir="auto">Tiny Tapeout is an educational project that aims to make it easier and cheaper than ever to get your digital designs manufactured on a real chip.</p>
<p dir="auto">To learn more and get started, visit <a href="https://tinytapeout.com/" rel="nofollow">https://tinytapeout.com</a>.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Resources</h2><a id="user-content-resources" aria-label="Permalink: Resources" href="#resources"></a></p>
<ul dir="auto">
<li><a href="https://tinytapeout.com/faq/" rel="nofollow">FAQ</a></li>
<li><a href="https://tinytapeout.com/digital_design/" rel="nofollow">Digital design lessons</a></li>
<li><a href="https://tinytapeout.com/siliwiz/" rel="nofollow">Learn how semiconductors work</a></li>
<li><a href="https://tinytapeout.com/discord" rel="nofollow">Join the community</a></li>
<li><a href="https://docs.google.com/document/d/1aUUZ1jthRpg4QURIIyzlOaPWlmQzr-jBn3wZipVUPt4" rel="nofollow">Build your design locally</a></li>
</ul>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The Princeton Companion to Applied Mathematics (113 pts)]]></title>
            <link>https://nhigham.com/the-princeton-companion-to-applied-mathematics/</link>
            <guid>40186146</guid>
            <pubDate>Sun, 28 Apr 2024 05:05:57 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://nhigham.com/the-princeton-companion-to-applied-mathematics/">https://nhigham.com/the-princeton-companion-to-applied-mathematics/</a>, See on <a href="https://news.ycombinator.com/item?id=40186146">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="page">
	<p><a href="#content">Skip to content</a></p><!-- #masthead -->

	<div id="content">
		<main id="main" role="main">

			
				
<article id="post-6968" class="page">
	<!-- .entry-header -->

	<div>
		<p><img src="https://nickhigham.files.wordpress.com/2016/03/pcam-cover.jpg?w=304&amp;h=380" alt="mg3_cover_front_spine.jpg" width="304" height="380"></p>
<p> The Princeton Companion to Applied Mathematics, edited by Nicholas J. Higham, with associate editors Mark R. Dennis, Paul Glendinning, Paul A. Martin, Fadil Santosa, and Jared Tanner, <a href="http://press.princeton.edu/">Princeton University Press</a>, 2015. xvii + 994 + 16 color plates, hardcover. </p>
<p> <a href="http://press.princeton.edu/titles/10592.html">The book’s web page</a> at Princeton University Press. </p>
<p> Purchase from <a href="http://press.princeton.edu/titles/10592.html">Princeton University Press</a>. </p>
<p> Purchase from <a href="http://amzn.to/1TIc9qm">Amazon</a>. </p>

<div id="outline-container-org49a290f">
<h2 id="org49a290f">Sample Articles</h2>
<div id="text-org49a290f">
<ul>
<li>I.5 <a href="http://press.princeton.edu/chapters/s1-5_10592.pdf">Goals of Applied Mathematical Research</a>, Nicholas J. Higham.</li>
<li>II.21 <a href="http://press.princeton.edu/chapters/s2-21_10592.pdf">Invariants and Conservation Laws</a>, Mark R. Dennis.</li>
<li>III.17 <a href="http://press.princeton.edu/chapters/s3-17_10592.pdf">The Lambert W Function</a>, Robert M. Corless and David J. Jeffrey.</li>
<li>IV.2 <a href="http://press.princeton.edu/chapters/s4-2_10592.pdf">Ordinary Differential Equations</a>, James D. Meiss.</li>
<li>IV.39 <a href="http://press.princeton.edu/chapters/s4-39_10592.pdf">Algebraic Geometry</a>, Frank Sottile.</li>
<li>V.18 <a href="http://press.princeton.edu/chapters/s5-18_10592.pdf">Numerical Weather Prediction</a>, Peter Lynch.</li>
<li>VI.1 <a href="http://press.princeton.edu/chapters/s6-1_10592.pdf">Cloaking</a>, Kurt Bryan and Tanya Leise.</li>
<li>VI.6 <a href="http://press.princeton.edu/chapters/s6-6_10592.pdf">The Flight of a Golf Ball</a>, Douglas N. Arnold.</li>
<li>VII.5 <a href="http://press.princeton.edu/chapters/s7-5_10592.pdf">Evolving Social Networks, Attitudes, and Beliefs—and Counterterrorism</a>, Peter Grindrod.</li>
<li>VII.19 <a href="http://press.princeton.edu/chapters/s7-19_10592.pdf">Airport Baggage Screening with X-Ray Tomography</a>, W. R. B. Lionheart.</li>
<li>VIII.6 <a href="http://press.princeton.edu/chapters/s8-6_10592.pdf">Experimental Applied Mathematics</a>, David H. Bailey and Jonathan M. Borwein.</li>
</ul>
</div>
</div>
<div id="outline-container-orgacedd22">
<h2 id="orgacedd22">Word Cloud</h2>
<p><a href="https://www.maths.manchester.ac.uk/~higham/pcam/wordle_edited1.jpg" target="_blank"><img src="https://www.maths.manchester.ac.uk/~higham/pcam/wordle_edited1.jpg" alt="pcam-wordcloud.jpg" width="500" height="226"></a>
</p>
</div>
<div id="outline-container-org3b204f9">
<h2 id="org3b204f9">Reviews</h2>

</div>
<div id="outline-container-org01293a9">
<h2 id="org01293a9">Other Information</h2>
<p> The article VIII.3 “How to Write a General Interest Mathematics” by Ian Stewart and the four articles grouped under VIII.7 Teaching Applied Mathematics (Gilbert Strang: “What to Teach and How”?, Peter R. Turner: “Computation, Modeling, and Projects”, David Acheson: “What’s the Big Picture?”, and IV. Rachel Levy: “Industrial Mathematics Inspires Mathematical Modeling Tasks”) were selected for reprinting in <a href="https://press.princeton.edu/titles/10953.html">The Best Writing on Mathematics 2016</a>. </p>
</div>
<div id="outline-container-org95c226d">
<h2 id="org95c226d">Resources</h2>
<div id="text-org95c226d">
<ul>
<li>Article <a href="http://eprints.ma.man.ac.uk/2399/01/covered/MIMS_ep2015_94.pdf">Making the Princeton Companion to Applied Mathematics</a> by Nicholas J.  Higham, Mathematics Today, 51(5):212-214, 2015.</li>
<li><a href="https://twitter.com/ThePCAM">Twitter account</a>.</li>
<li><a href="https://nickhigham.wordpress.com/category/princeton-companion/">Blog posts about PCAM</a> at Nick Higham’s blog.</li>
<li><a href="https://www.facebook.com/pages/The-Princeton-Companion-to-Applied-Mathematics/820575904730186">Facebook page</a>.</li>
<li><a href="https://nhigham.com/the-princeton-companion-to-applied-mathematics-bib-entry/">BibTeX bib entries</a> for the book and a sample article.</li>
<li>A <a href="https://www.maths.manchester.ac.uk/~higham/pcam/words.php">word cloud</a> for the book.</li>
</ul>
</div>
</div>
<div id="outline-container-orgc929772">
<h2 id="orgc929772">Overview by the editor</h2>

</div>
			</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article><!-- #post-## -->


				
			
		</main><!-- #main -->
	</div><!-- #content -->

	
<!-- #tertiary -->
	<!-- #colophon -->
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Google Quantum AI (154 pts)]]></title>
            <link>https://quantumai.google/</link>
            <guid>40185883</guid>
            <pubDate>Sun, 28 Apr 2024 04:02:21 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://quantumai.google/">https://quantumai.google/</a>, See on <a href="https://news.ycombinator.com/item?id=40185883">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>

              

              <div id="mission">

<p>Our mission is to build best-in-class <span id="quantum computing" aria-describedby="quantum computing-tooltip" tabindex="0" role="tooltip">quantum computing<span id="quantum computing-tooltip">Error correction is the fundamental requirement for creating a truly useful quantum computer. It enables the scale required to perform complex calculations.
</span></span> for otherwise impossible problems.</p>  </div>

              <section>
  <devsite-carousel data-items-per-slide="1" data-hide-mobile-controls="">
    <ul>
      <li>
        <div>
          <div>
    <p>Featured</p>
  <p>
      <h2 id="xprize-quantum-applications-|-google-quantum-ai" data-text="XPRIZE Quantum Applications | Google Quantum AI" tabindex="-1">XPRIZE Quantum Applications | Google Quantum AI</h2>
  </p>
    <p>XPRIZE Quantum Applications | Google Quantum AI is a 3-year, $5M global competition designed to advance the field of quantum algorithms towards pro-society real-world applications, with funding from Google.org.</p>
    
</div>
          <p><img src="https://quantumai.google/static/site-assets/images/marketing/home/slide-1.png" alt="">
<img src="https://quantumai.google/static/site-assets/images/marketing/home/slide-1-mobile.png" alt="">
          </p>
        </div>
      </li>
      <li>
        <div>
          <div>
    <p>Featured</p>
  <p>
      <h2 id="industrial-use-cases-for-future-error-corrected-quantum-computers" data-text="Industrial use cases for future error-corrected quantum computers" tabindex="-1">Industrial use cases for future error-corrected quantum computers</h2>
  </p>
    <p>Google Quantum AI has continued collaborations with industry and academic partners to uncover future applications for error-corrected quantum computers. Learn more about three industrially relevant applications in the fields of chemistry, materials science, and energy where quantum computers could be used to solve problems that are currently intractable for classical computers.</p>
    
</div>
          <p><img src="https://quantumai.google/static/site-assets/images/marketing/home/industrial-use-case.png" alt="">
<img src="https://quantumai.google/static/site-assets/images/marketing/home/industrial-use-case-mobile.png" alt="">
          </p>
        </div>
      </li>
    </ul>
  </devsite-carousel>
</section>

              

              <section>









<div>
  <p>
      <h2 id="news-resources" data-text="News &amp; Resources" tabindex="-1">News &amp; Resources</h2>
  </p>
    <p>View published research, blog posts, and educational resources from the Quantum AI team.</p>
</div>
<div>

    <p><label for="tab-recent">Recent Posts</label>
    <label for="tab-resources">Resources</label>
  </p>

  

  <div>
      <div id="recent">
              <div>

    <p><img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-exponential-speedup.png" alt="">
<img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-exponential-speedup-mobile.png" alt="">
    </p>

  <div>

      <p>Recent Posts</p>

    <p>A new quantum algorithm for classical mechanics with an exponential speedup</p>

    

    
  </div>
</div>
              <div>

    <p><img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-leakage.png" alt="">
<img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-leakage-mobile.png" alt="">
    </p>

  <div>

      <p>Recent Posts</p>

    <p>Overcoming leakage on error-corrected quantum processors</p>

    

    
  </div>
</div>
              <div>

    <p><img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-entanglement.png" alt="">
<img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-entanglement-mobile.png" alt="">
    </p>

  <div>

      <p>Recent Posts</p>

    <p>Measurement-induced entanglement phase transitions in a quantum circuit</p>

    

    
  </div>
</div>
              <div>

    <p><img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-handoff.jpg" alt="">
<img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-handoff-mobile.jpg" alt="">
    </p>

  <div>

      <p>Recent Posts</p>

    <p>A quantum computing partnership with the University of Chicago and the University of Tokyo</p>

    

    
  </div>
</div>
          </div>
      <div id="resources">
              <div>

    <p><img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-sycamore.jpg" alt="">
<img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-sycamore-mobile.jpg" alt="">
    </p>

  <div>

      <p>Resources</p>

    <p>Our focused and responsible approach to quantum computing</p>

    

    
  </div>
</div>
              <div>

    <p><img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-quantum-journey.jpeg" alt="">
<img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-quantum-journey-mobile.jpeg" alt="">
    </p>

  <div>

      <p>Resources</p>

    <p>Our quantum computing journey</p>

    

    
  </div>
</div>
              <div>

    <p><img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-lab.jpg" alt="">
<img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-lab-mobile.jpg" alt="">
    </p>

  <div>

      <p>Resources</p>

    <p>Discover the Quantum AI campus</p>

    

    
  </div>
</div>
          </div>
  </div>
</div></section>
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[How to improve the RISC-V specification (134 pts)]]></title>
            <link>https://alastairreid.github.io/riscv-spec-issues/</link>
            <guid>40185065</guid>
            <pubDate>Sun, 28 Apr 2024 01:05:37 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://alastairreid.github.io/riscv-spec-issues/">https://alastairreid.github.io/riscv-spec-issues/</a>, See on <a href="https://news.ycombinator.com/item?id=40185065">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
    <p><img src="https://alastairreid.github.io/images/riscv-logo.png" alt="RISC-V logo">
My main project is to create an executable spec of the Intel Architecture
but, every now and then, I get to take a broader look at ISA specifications
and think about the strengths and weaknesses of other ISA specs:
what makes them work well; and what techniques they could borrow
from other specifications.
Earlier this month, someone asked me for my thoughts on the RISC-V
specification and I thought that it would be useful to share
what I found out.</p>

<p>This post is about the RISC-V specification.
This specification effectively consists of several different parts
each an essential part of defining the RISC-V architecture.
The most obvious part of the specification are
<a href="https://github.com/riscv/riscv-isa-manual/releases/download/Ratified-IMAFDQC/riscv-spec-20191213.pdf">RISC-V Instruction Set Manual, volume 1</a>
and <a href="https://github.com/riscv/riscv-isa-manual/releases/download/Priv-v1.12/riscv-privileged-20211203.pdf">RISC-V Instruction Set Manual, volume 2</a>: PDF documents that
describe the unprivileged and privileged parts of the architecture.
If you are developing a RISC-V processor, you will probably make heavy
use of the <a href="https://github.com/riscv-non-isa/riscv-arch-test/blob/main/riscv-test-suite/README.md">RISC-V Test Suites</a> to check that your processor correctly
implements the architecture.
And you will probably be using the <a href="https://github.com/riscv-software-src/riscv-isa-sim">Spike RISC-V ISA Simulator</a> as a “golden
reference model” to compare the behavior of your processor against.
And, finally, you might be using the <a href="https://github.com/riscv/sail-riscv">SAIL RISC-V model</a> as a formal
specification of the architecture. (Although, I think this has mostly
used to reason about software, rather than hardware.)</p>

<h2 id="whats-wrong-with-this-picture">What’s wrong with this picture?</h2>

<p>Overall, the specification is not in a very healthy state.</p>

<p>The two PDF documents rely heavily on natural language
text in the specification with the result that the description is
not always very precise and it is impossible to test the descriptions
to determine whether they match the other artifacts.</p>

<p>A common complaint about the test suites is that the RISC-V
architecture is very highly configurable with many subsets and
implementation choices allowed but the test suites is not
easily configured to check the full envelope of allowed behaviors.
Some of these issues stems from the challenge of creating a machine-readable
description of which particular configuration you intended to build.
(This also limits the ability to use Spike as a golden reference model.)
If you intend to build something outside the range of configurations
that Spike and the test suite support, you will end up with a large
number of “waivers” documenting the places where your processor is
expected to fail the tests.</p>

<p>Finally, there is the SAIL model written in the
<a href="https://github.com/rems-project/sail?tab=readme-ov-file">SAIL ISA specification language</a>.
This is a precise, executable, formal specification of the architecture
but it is not used as much as it should be.
Ideally, parts of the SAIL specification would be included in the
official PDF documents so that the SAIL code can add the precision
that the natural language spec lacks and the natural language
specification can make up for the almost total absence of comments
in the SAIL specification.</p>

<p>A complaint that I often hear about the SAIL specification is
that it is a bit inaccessible for normal users. The SAIL language
design builds on a number of popular academic languages
and programming language research ideas
such as the <a href="https://ocaml.org/">OCaml Functional Programming Language</a>,
<a href="https://goto.ucsd.edu/~ucsdpl-blog/liquidtypes/2015/09/19/liquid-types/">Liquid types</a>, <a href="https://en.wikipedia.org/wiki/Monad_(functional_programming)">Monads</a>, and <a href="https://en.wikipedia.org/wiki/Effect_system">Effect Systems</a>.
The challenge with drawing on these different sources
is that the primary audience for the specification is
not programming language researchers but people who
work on hardware design, hardware validation, OS developers,
compiler developers, etc. — many of whom are not familiar with
the academic programming language literature and are confused and
put off by the syntax of SAIL.
To illustrate this, consider the following SAIL example
from early in the SAIL reference manual:</p>

<div><pre><code>val my_replicate_bits : forall 'n 'm, 'm &gt;= 1 &amp; 'n &gt;= 1.  (int('n), bits('m)) -&gt; bits('n * 'm)
</code></pre></div>

<p>If you are not familiar with OCaml and liquid types, some questions that
you might ask are “What are the quote marks for in <code>'m</code> and <code>'n</code>?” and
“What does <code>forall 'n 'm</code> mean?”</p>

<h2 id="connecting-the-pieces-machine-readable-formats">Connecting the pieces: machine-readable formats</h2>

<p>The most important problem is that these four artifacts seem to be completely disconnected from
each other. They are maintained as four separate codebases in four separate repositories
and no part of one artifact is generated from part of any other artifact.
If you are writing an architecture extension, you have to write the same thing four times in four
separate formats and then you have to use testing and review to check that all four copies
are the same.</p>

<p>But worse than this, there is a whole ecosystem around RISC-V who will also be writing
code in response to your architecture extension. There are hardware designers,
hardware validation teams,
developers of software tools (such as assemblers, compilers and JITs), OS hackers and
debugger developers, etc. that are all going to have to write some code to support
or benefit from any architecture extension. They also have to write all this code by
hand and then review and test the code to make it consistent with the official spec.</p>

<p>It is worth noting that most architecture extensions evolve between the first design and the final,
ratified design: evaluating that design requires tool support; socializing and reviewing the
design requires documentation. So each extension is typically implemented many times
and each revision requires updates in many places.</p>

<p>The easiest way to improve this would be to capture as much of the architecture
as possible in formats that are easy to read and manipulate.
In particular, instruction encodings and control/status registers are
easily described by simple JSON/YAML/XML/… formats.
It doesn’t take long to figure out what data you need to include to
support generation of many different artifacts from such files:</p>

<ul>
  <li>The name and a short description (for generating documentaton).</li>
  <li>The size, bitfields, fixed bits, etc.</li>
  <li>For registers, there will be a numeric id that is used to identify
the register.</li>
  <li>What constraints are there on using the instruction or register?
Is it usable in hypervisor mode? supervisor mode? usermode?</li>
  <li>For register fields, is the field readable? is it writable?
what is its reset value? what is the meaning of different values
that this field can have?</li>
  <li>For instructions, what is the assembly syntax? (See <a href="https://alastairreid.github.io/riscv-spec-issues/(/bidirectional-assemblers/)">Bidirectional ARM Assembly Syntax Specifications</a>)</li>
  <li>Which configurations support each entry, field or value?</li>
</ul>

<p>I’ve probably missed a few important pieces of information but you get the idea.</p>

<p>Of course, creating this easy-to-use, highly-reusable machine readable spec
is just the first part.
To make a difference, you have to modify the architecture reference manual,
the Spike simulator, the testsuite and the SAIL specification to use this data.
You have to find every part of these artifacts that currently contains
information about instructions or CSRs and refactor them around
code that is automatically generated from the json/yaml/xml file.
Doing this is critical to making it equally possible to auto-generate
code for any new architecture extensions.</p>

<p>And, as that is being done, people should be looking at the extended
ecosystem of build tools, libraries, OSes, etc. to autogenerate
as much of them as possible from the machine readable data files.</p>

<h2 id="making-sail-usable-in-documentation">Making SAIL usable in documentation</h2>

<p>I have already touched on the problems for readers from a broad
range of backgrounds reading SAIL specifications.
There are a range of improvements that can be made here from
changing the syntax to applying sensible defaults to reduce
the amount of clutter from the type system.
(Ideally, this would be done by adopting some of the syntax
of the <a href="https://developer.arm.com/ASL1">ASL-1.0</a> ISA specification language which has many
of the same features but was designed with more focus on
use in documentation.)</p>

<p>But there is another issue that is both more fundamental and also easier to solve:
the SAIL specification
is currently a large, monolithic specification.
There is no easy way to extract an individual instruction specification
or function definition to include in a particular place in the
documentation.
The easiest option to include the SAIL spec into the current spec would be
to include the entire spec as a giant appendix at the back of the architecture manual.
But it is much better to put each part of the SAIL spec on the same page
as the natural language description of the same feature so that
the SAIL spec can amplify your understanding of the natural language spec and
the natural language spec can help you understand the SAIL spec.</p>

<p>Fortunately, the fix is easy:
either split the SAIL spec into smaller pieces (e.g., one definition per file)
or write a tool to do it for you.
This makes it easy to include the relevant part of the SAIL spec into
the the documentation.</p>

<p><em>[Note that there has been  some work in the  direction of using the SAIL specs
in documentation such as the <a href="https://github.com/Alasdair/asciidoctor-sail/blob/master/doc/built/sail_to_asciidoc.pdf">SAIL-to-ASCIIdoc</a> tool.]</em></p>



<p>Why do we have two executable parts to the specification:
the SAIL specification and the Spike golden reference simulator?
The historical reasons for this are clear but it would be
good if Spike support for future extensions was generated
from their SAIL specification.</p>

<p>This will take a bit of work to do.  Mostly, this will consist of defining the
interface that code generated from the SAIL specs uses to access parts of the
state that are represented in Spike.</p>

<h2 id="conclusion">Conclusion</h2>

<p>The RISC-V architecture was developed in classic startup/academic style:
innovating quickly and avoiding too much investment in long-term engineering.
This has resulted in the current situation where the architecture specification
is, in effect, scattered over four different artifacts and each
downstream tool/library/application has to transcribe information from
those sources instead of being able to use architect-provided machine-readable
formats to generate the code instead.</p>

<p>This was not too big a problem for the original base architecture of just
47 instructions and 32 registers but there have been many <a href="https://en.wikipedia.org/wiki/RISC-V#ISA_base_and_extensions">RISC-V ISA extensions</a>
added since then.</p>

<h3 id="related-posts-and-papers">Related posts and papers</h3>

<ul>
  <li><a href="https://alastairreid.github.io/talks/goals-of-modern-ISA-spec-PLARCH-2023-06-17.pdf">Goals of a modern ISA specification</a>
(presented at <a href="https://alastairreid.github.io/plarch-2023/">PLARCH 2023</a>)</li>
  <li><a href="https://alastairreid.github.io/uses-for-isa-specs/">What can you do with an ISA specification?</a></li>
  <li><a href="https://alastairreid.github.io/mrs-at-scale/">Machine readable specifications at scale</a></li>
  <li><a href="https://alastairreid.github.io/bidirectional-assemblers/">Bidirectional ARM Assembly Syntax Specifications</a></li>
</ul>


  </div><p>
    Written on April 27, 2024.
    <br>
    The opinions expressed are my own views and not my employer's.
  </p></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Google made me ruin a perfectly good website (2023) (921 pts)]]></title>
            <link>https://theluddite.org/#!post/google-ads</link>
            <guid>40184673</guid>
            <pubDate>Sat, 27 Apr 2024 23:52:11 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://theluddite.org/#!post/google-ads">https://theluddite.org/#!post/google-ads</a>, See on <a href="https://news.ycombinator.com/item?id=40184673">Hacker News</a></p>
<div id="readability-page-1" class="page">
    
    
    <p>
      It seems your Javascript is turned off. Maybe you'd prefer the <a target="_blank" href="https://theluddite.org/feed.rss">RSS</a> feed?
    </p>
  

</div>]]></description>
        </item>
        <item>
            <title><![CDATA[Let's Embed a Go Program into the Linux Kernel (112 pts)]]></title>
            <link>https://sigma-star.at/blog/2023/07/embedded-go-prog/</link>
            <guid>40184515</guid>
            <pubDate>Sat, 27 Apr 2024 23:20:17 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://sigma-star.at/blog/2023/07/embedded-go-prog/">https://sigma-star.at/blog/2023/07/embedded-go-prog/</a>, See on <a href="https://news.ycombinator.com/item?id=40184515">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        
<p>Today, we would like to present a lesser-known feature of the Linux kernel.
Instead of launching a program from a file system, regardless of whether it’s virtual or not, it is also possible to embed a user-space program directly into the kernel image itself and start it from there.</p>
<h2 id="introduction">Introduction</h2>
<p>At first glance, this might sound outlandish and of little use, but there are cases where the kernel needs to execute helper programs.
Prominent examples include the module loader helper, <code>/sbin/modprobe</code>, or the Spanning Tree Protocol (STP) helper for Linux’s 802.1d Ethernet bridge subsystem, <code>/sbin/bridge-stp</code>.
On Linux, programs are typically launched from a file system using the <code>execve()</code> system call.
The kernel reads the initial parts of the specified file and hands over execution to user space.
Various helper functions exist on top of this system call, but they all have in common that the program to be executed is started from a file.
The same applies to the Linux user mode helper API, which allows executing a program from a driver.
Both scenarios require the program to be installed and loadable.
In most cases, having the program installed is a trivial problem if you have control over all user space, as is the case with a typical Linux distribution.</p>
<p>However, things become complicated if you are a Board Support Package (BSP) supplier, either external or in-house, and don’t always have easy access to the workflow that determines what to install in the root file system.
Ensuring that a program is actually loadable from the current root file system is a different story.
A common problem arises in setups where the root file system is attached using network storage, such as NFS or iSCSI.
If the network connection is unavailable, all access to the root file system fails, and the kernel is unable to run helpers anymore.
This is where the mechanism we’d like to present in this blog post can help.</p>
<p>Let’s assume we have a device driver called <code>embedded_prog</code> that requires a user space helper program, which must be executable at any time.
First, we need the program we want to embed.
Strictly speaking, any program will do, but we need to ensure that the program in question has no dependencies on the file system.
Linking it statically provides benefits.
Go programs are statically linked by default, and to illustrate that the following approach works with any kind of program, we have chosen to embed a Go program into the kernel.
The driver itself is very simple.
All it does is execute the helper program as soon as the driver is loaded, and when the program writes something into the pipe, the contents are directly logged into the kernel log buffer.</p>
<h2 id="the-go-program">The Go Program</h2>
<p>To keep things simple, the program itself will be straightforward.
It will write ‘Hello, world!’ to standard output every five seconds.</p>
<div>
<table><tbody><tr><td>
<pre tabindex="0"><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span></code></pre></td>
<td>
<pre tabindex="0"><code data-lang="go"><span><span><span>package</span> <span>main</span>
</span></span><span><span>
</span></span><span><span><span>import</span> <span>(</span>
</span></span><span><span>        <span>"fmt"</span>
</span></span><span><span>        <span>"time"</span>
</span></span><span><span><span>)</span>
</span></span><span><span>
</span></span><span><span><span>func</span> <span>main</span><span>()</span> <span>{</span>
</span></span><span><span>        <span>for</span> <span>{</span>
</span></span><span><span>                <span>fmt</span><span>.</span><span>Println</span><span>(</span><span>"Hello, world!"</span><span>)</span>
</span></span><span><span>                <span>time</span><span>.</span><span>Sleep</span><span>(</span><span>5</span> <span>*</span> <span>time</span><span>.</span><span>Second</span><span>)</span>
</span></span><span><span>        <span>}</span>
</span></span><span><span><span>}</span>
</span></span></code></pre></td></tr></tbody></table>
</div><p>Since we want to be independent of the root file system, we need to ensure that the program does not access files from the root file system.
We can achieve this by using strace to trace its system calls.</p>
<pre tabindex="0"><code>$ strace -fe trace=file ./eprog_user
execve("./eprog_user", ["./eprog_user"], 0x7fff743fbd50 /* 61 vars */) = 0
openat(AT_FDCWD, "/sys/kernel/mm/transparent_hugepage/hpage_pmd_size", O_RDONLY) = 3
strace: Process 17908 attached
strace: Process 17909 attached
strace: Process 17910 attached
strace: Process 17911 attached
[pid 17905] --- SIGURG {si_signo=SIGURG, si_code=SI_TKILL, si_pid=17905, si_uid=1000} ---
Hello, world!
Hello, world!
^C
strace: Process 17905 detached
strace: Process 17908 detached
strace: Process 17909 detached
strace: Process 17910 detached
strace: Process 17911 detached
</code></pre><p>Looks good!
Access to files in <code>/proc</code> or <code>/sys</code> is fine.
These are virtual file systems and can be assumed to be present and working at all times.
They are part of the Linux ABI interface.</p>
<h2 id="linuxs-user-mode-helper-api">Linux’s User Mode Helper API</h2>
<p>If your device driver needs to execute a user space program, the User Mode Helper API is the way to go.
The core function to use the API is <code>call_usermodehelper()</code>, which has the following signature:</p>
<div><pre tabindex="0"><code data-lang="C"><span><span><span>int</span> <span>call_usermodehelper</span><span>(</span><span>const</span> <span>char</span> <span>*</span><span>path</span><span>,</span> <span>char</span> <span>**</span><span>argv</span><span>,</span> <span>char</span> <span>**</span><span>envp</span><span>,</span> <span>int</span> <span>wait</span><span>);</span>
</span></span></code></pre></div><p>Similar to the <code>execve()</code> system call, <code>call_usermodehelper()</code> takes parameters such as the filename of the program to be executed, supplied arguments, environment, and a flag denoting whether the call should be asynchronous or not.
However, this is not what we want for running an embedded program within the kernel image itself.</p>
<p>Since Linux v4.18, a more advanced API called user mode driver is available to run a user mode helper.
The basic idea behind this API is that instead of specifying a path to a file on the root file system, an arbitrary buffer can be provided.
The content of this buffer will be executed in user space just like a regular program.</p>
<div><pre tabindex="0"><code data-lang="C"><span><span><span>int</span> <span>umd_load_blob</span><span>(</span><span>struct</span> <span>umd_info</span> <span>*</span><span>info</span><span>,</span> <span>const</span> <span>void</span> <span>*</span><span>data</span><span>,</span> <span>size_t</span> <span>len</span><span>);</span>
</span></span><span><span><span>int</span> <span>fork_usermode_driver</span><span>(</span><span>struct</span> <span>umd_info</span> <span>*</span><span>info</span><span>);</span>
</span></span></code></pre></div><p>Using <code>umd_load_blob()</code>, a program context is created from a buffer, and later it is executed by <code>fork_usermode_driver()</code>.
In addition to running the program, the User Mode Driver API also establishes a pipe between the program and the kernel, enabling inexpensive communication between them.</p>
<p>But how do we get our Go program into that buffer?
We don’t want a new user space interface where the program has to be loaded into the kernel first.
We want it to be part of the kernel image.</p>
<h2 id="gnu-assember-to-the-rescue">GNU Assember to the Rescue!</h2>
<p>The kernel build system, specifically the GNU assembler (gas), can assist us in embedding the Go program into the resulting kernel image during the build process.
By using a gas file, <code>eprog_user_blob.S</code>, we can instruct the assembler to generate a C object file with two symbols: <code>embedded_umh_start</code> and <code>embedded_umh_end</code>.
These symbols will contain the contents of a binary file specified by the <code>.incbin</code> command, and this file can be arbitrary.</p>
<div>
<table><tbody><tr><td>
<pre tabindex="0"><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span><span>5
</span><span>6
</span></code></pre></td>
<td>
<pre tabindex="0"><code data-lang="Gas"><span><span>        <span>.section</span> <span>.init.rodata</span><span>,</span> <span>"a"</span>
</span></span><span><span>        <span>.global</span> <span>embedded_umh_start</span>
</span></span><span><span><span>embedded_umh_start:</span>
</span></span><span><span>        <span>.incbin</span> <span>"drivers/misc/embedded_prog/eprog_user"</span>
</span></span><span><span>        <span>.global</span> <span>embedded_umh_end</span>
</span></span><span><span><span>embedded_umh_end:</span>
</span></span></code></pre></td></tr></tbody></table>
</div><p>If we link the resulting object file, <code>eprog_user_blob.o</code>, with our Linux device driver, we can utilize the symbols to locate the contents of the Go program within the kernel image.
This makes loading and executing the program from a buffer straightforward.
In this case, the buffer passed to <code>umd_load_blob()</code> is a memory location within the read-only section of the in-memory kernel image.
The linker has kindly prepared everything for us at compile time!</p>
<p>The code snippet provided below demonstrates the essential segments of the device driver, <code>eprog_kern.c</code>, responsible for loading and executing the Go program:</p>
<div>
<table><tbody><tr><td>
<pre tabindex="0"><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span><span>5
</span><span>6
</span></code></pre></td>
<td>
<pre tabindex="0"><code data-lang="C"><span><span><span>struct</span> <span>umd_info</span> <span>eprog_ctx</span> <span>=</span> <span>{</span>
</span></span><span><span>        <span>.</span><span>driver_name</span> <span>=</span> <span>"eprog_user"</span><span>,</span>
</span></span><span><span><span>};</span>
</span></span><span><span>
</span></span><span><span><span>umd_load_blob</span><span>(</span><span>&amp;</span><span>eprog_ctx</span><span>,</span> <span>&amp;</span><span>embedded_umh_start</span><span>,</span> <span>&amp;</span><span>embedded_umh_end</span> <span>-</span> <span>&amp;</span><span>embedded_umh_start</span><span>);</span>
</span></span><span><span><span>fork_usermode_driver</span><span>(</span><span>&amp;</span><span>eprog_ctx</span><span>);</span>
</span></span></code></pre></td></tr></tbody></table>
</div><p>Using the <code>nm</code> command, we can observe the symbols in the driver.
If the driver is built as a loadable module, you can run <code>nm</code> on <code>eprog.o</code>.
Otherwise, if it is built directly into the kernel, you can run <code>nm</code> on <code>vmlinux</code>.</p>
<pre tabindex="0"><code>$ nm eprog.o | grep embedded_umh_
00000000001bc4e4 R embedded_umh_end
0000000000000000 R embedded_umh_start
</code></pre><pre tabindex="0"><code>$ nm vmlinux | grep embedded_umh_
0000000060688a00 d embedded_umh_end
00000000604cc51c d embedded_umh_start
</code></pre><h2 id="gluing-it-all-together">Gluing it all Together</h2>
<p>So far we have the following components:</p>
<ul>
<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/rw/misc.git/tree/drivers/misc/embedded_prog/eprog_kern.c?h=embedded_go_prog">eprog_kern.c</a>: The kernel driver that runs <code>umd_load_blob()</code> and <code>fork_usermode_driver()</code>.</li>
<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/rw/misc.git/tree/drivers/misc/embedded_prog/eprog_user_blob.S?h=embedded_go_prog">eprog_user_blob.S</a>, The assembly source file we use to embed the Go program into a C object.</li>
<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/rw/misc.git/tree/drivers/misc/embedded_prog/gohello/hello.go?h=embedded_go_prog">gohello/hello.go</a>, Our Go program, located in a subdirectory of our driver.</li>
</ul>
<p>Using the following Makefile, all components are build and connected together:</p>
<div>
<table><tbody><tr><td>
<pre tabindex="0"><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span><span>5
</span><span>6
</span><span>7
</span></code></pre></td>
<td>
<pre tabindex="0"><code data-lang="Makefile"><span><span><span>$(obj)/eprog_user_blob.o</span><span>:</span> <span>$(</span><span>obj</span><span>)</span>/<span>eprog_user</span>
</span></span><span><span><span>$(obj)/eprog_user</span><span>:</span> <span>$(</span><span>srctree</span><span>)</span>/<span>drivers</span>/<span>misc</span>/<span>embedded_prog</span>/<span>gohello</span>/<span>hello</span>.<span>go</span>
</span></span><span><span>        <span># TODO: Add support for cross builds</span>
</span></span><span><span>        go build -o <span>$(</span>obj<span>)</span>/eprog_user <span>$(</span>srctree<span>)</span>/drivers/misc/embedded_prog/gohello/hello.go
</span></span><span><span>
</span></span><span><span><span>obj-$(CONFIG_EMBEDDED_PROG)</span> <span>+=</span> eprog.o
</span></span><span><span><span>eprog-objs</span> <span>+=</span> eprog_kern.o eprog_user_blob.o
</span></span></code></pre></td></tr></tbody></table>
</div><p>Linux’s GNU make-based build system is rather flexible: it allows us to build our Go program even while building the kernel.</p>
<p>The following graphic outlines how all components are connected:</p>
<figure>
<img src="https://sigma-star.at/blog/2023/07/embedded-go-prog/eprog.svg" alt="Relationship between C objects"></figure>
<h2 id="demo">Demo</h2>
<pre tabindex="0"><code>$ insmod eprog.ko
$ ps fax
  PID TTY      STAT   TIME COMMAND
    2 ?        S      0:00 [kthreadd]
[..]
   25 ?        Sl     0:00  \_ eprog_user
[..]
   30 ?        R      0:00 ps fax
$ dmesg -w
[   53.300000] eprog: From userspace: Hello, world!
[   58.310000] eprog: From userspace: Hello, world!
[...]
</code></pre><p>We observe a new process, <code>eprog_user</code>, right after loading the driver module.
It is not a kernel thread, the name is not in square brackets and it is not a child
of PID 1 but of <code>kthreadd</code>.
Every five seconds the Go program will write <code>Hello, world!</code> via standard output
to the kernel driver which prints the string to the kernel log buffer.
Once the module is unloaded, the process is killed.</p>
<h2 id="summary">Summary</h2>
<p>We have seen that using a small assembly file and the User Mode Driver mechanism, it is possible to embed any kind of executable into the kernel image and run it later from there.
It works with any kind of program; we used a Go binary because it is statically linked and has no dependencies on the root file system.
If you’re using your own program and want to be completely independent of the root file system, make sure that you know in detail which files it will process.
While the number of valid use cases for the presented feature is arguably small, it is still interesting to have and opens the door to new possibilities.
The example driver is rather simple, but there are numerous other ways to utilize this feature.
Please keep in mind that adding programs to the kernel image comes with a cost: the program as a whole will always stay in memory.</p>
<p>The full example driver is available on <a href="https://git.kernel.org/pub/scm/linux/kernel/git/rw/misc.git/tree/drivers/misc/embedded_prog?h=embedded_go_prog">git.kernel.org</a>.</p>

        </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Burn After Wearing (190 pts)]]></title>
            <link>https://grist.org/international/burn-after-wearing-fashion-waste-chile/</link>
            <guid>40184434</guid>
            <pubDate>Sat, 27 Apr 2024 23:10:40 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://grist.org/international/burn-after-wearing-fashion-waste-chile/">https://grist.org/international/burn-after-wearing-fashion-waste-chile/</a>, See on <a href="https://news.ycombinator.com/item?id=40184434">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
      
    
  
<p><em>This story was produced by Grist and co-published with&nbsp;<a href="https://elpais.com/america/" target="_blank" rel="noreferrer noopener">El País</a></em>.<em>&nbsp;A Spanish-language version <a href="https://elpais.com/america-futura/2024-01-04/las-montanas-de-ropa-se-esfumaron-del-desierto-de-atacama-pero-el-problema-no-desaparecio.html" target="_blank" rel="noreferrer noopener">can be read here</a>.</em> <em>Reporting was supported by the&nbsp;<a href="https://journalism.columbia.edu/news/2022-fellows-joan-konner-program-journalism-ideas-are-named" target="_blank" rel="noreferrer noopener">Joan Konner Program in the Journalism of Ideas</a>.</em></p>



<p>On the morning of June 12, 2022, Ángela Astudillo, then a law student in her mid-20s, grabbed her water bottle and hopped into her red Nissan Juke. The co-founder of Dress Desert, or <a href="https://www.instagram.com/desiertovestido_tarapaca/">Desierto Vestido</a>, a textile recycling advocacy nonprofit, and the daughter of tree farmers, Astudillo lives in a gated apartment complex in Alto Hospicio, a dusty city at the edge of the Atacama Desert in northern Chile, with her husband, daughter, bunny, and three aquatic turtles.&nbsp;</p>



<p>Exiting the compound, Astudillo pinched the wheel, pulled over next to a car on the side of the road, and greeted Bárbara Pino, a fashion professor, and three of her students, who were waiting inside.&nbsp;</p>



<p>They headed toward a mountain of sand known as El Paso de la Mula. Less than a mile from her home, squinting into the distance, Astudillo saw a thread of smoke rising from its direction. With her in the lead, the two vehicles caravanned toward the dune, the site of the second-largest clothes pile in the world.&nbsp;</p>



<p>As they got closer to El Paso de La Mula, the thin trail of smoke had expanded into a huge black cloud. Astudillo stopped the car and texted the academics behind her.&nbsp;</p>



<p><em>It looks like it’s on fire. </em><em>Hopefully, it’s not there. :( :( :(</em></p>



<p>She then dialed them directly and asked, “Do you still want to go?”</p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-095-min.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-095-min.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-095-min.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-095-min.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-095-min.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-095-min.jpg?w=1536 1536w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-095-min.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-095-min.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-095-min.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-095-min.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-095-min.jpg 1024w" alt="a Chilean flag stands in a traffic cone in the desert among burned piles of garbage" data-caption="A Chilean flag stands in a traffic cone among burned piles of clothing in the Atacama Desert. " data-credit="Fernando Alarcón"></p><figcaption>A Chilean flag stands in a traffic cone among burned piles of clothing in the Atacama Desert.  <cite>Fernando Alarcón</cite></figcaption></div></figure>



<p>Pino, director of <a href="https://www.instagram.com/udpmodus/">Santiago’s Fashion System Observatory</a> at Universidad Diego Portales, had planned this trip for months. Astudillo had volunteered to be their guide. The mound of discarded fabric in the middle of the Atacama weighed an estimated <a href="https://drive.google.com/file/d/1MIji_6Oou8zKky32tveC-pOnGRJr_76F/view">11,000 </a>to <a href="https://theworld.org/stories/2022-11-01/fast-fashion-causing-environmental-disaster-chiles-atacama-desert">59,000 tons</a>, equivalent to one or two times the Brooklyn Bridge.&nbsp;</p>



<p>By the time the team reached the gates of El Paso de la Mula, more than half of the clothes pile was on fire. Smoke obscured everything, hanging like an opaque black curtain. Municipal authorities turned the group away, forbidding them to stay on the premises. But Astudillo knew the landscape, so she directed the team to the dune’s far side, where access was still unimpeded.&nbsp;</p>



<p>There, the students surveyed the inferno. It was “like a war,” Pino said. She felt waves of heat. Black smoke unspooled from the burning clothes. The air was dense and hard to breathe. Smoke coated the back of their throats and clogged their nostrils with the acrid smell of melting plastic. They covered their faces, trying not to breathe it in. Then the group heard a series of loud pops as mini explosions burst from within the vast expanse of burning garments.&nbsp;</p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/angelaastudillodesierto.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/angelaastudillodesierto.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/angelaastudillodesierto.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/angelaastudillodesierto.jpg?w=1152 1152w, https://grist.org/wp-content/uploads/2024/01/angelaastudillodesierto.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/angelaastudillodesierto.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/angelaastudillodesierto.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/angelaastudillodesierto.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/angelaastudillodesierto.jpg 1024w" alt="a young woman holds a black piece of clothing with embroidery near a large pile of textile trash in the desert" data-caption="Ángela Astudilo holds a piece of discarded clothing from the Atacama Desert. " data-credit="Fernando Alarcón"></p><figcaption>Ángela Astudilo holds a piece of discarded clothing from the Atacama Desert.  <cite>Fernando Alarcón</cite></figcaption></div></figure>



<p>Despite the danger, Pino and her students rummaged, pulling out specimens to examine from among unburned portions of the pile. On prior visits to the clothes dump, Astudillo had uncovered clothing produced by the world’s most well-known brands: Nautica, Adidas, Wrangler, Old Navy, H&amp;M, Ralph Lauren, Tommy Hilfiger, Forever 21, Zara, Banana Republic. Store tags still dangled from many of her findings. The clothes had <a href="https://obtienearchivo.bcn.cl/obtienearchivo?id=repositorio/10221/33437/1/BCN__ropa_usada_mercado_regulacio__n_nacional_y__comparada_agos2022.pdf">come to the Atacama</a> from Europe, the United States, Korea, and Japan. Now, as Astudillo began taking pictures and uploading them to Instagram, Pino wandered the mound, horrified and fascinated by the grotesque volume and variety of apparel: ski jackets, ball gowns, bathing suits. She plucked out a rhinestone-encrusted platform stiletto in perfect condition. She crouched to search for its match, but the wind was getting stronger. If it shifted, the team realized, they’d be trapped in the spreading fire.&nbsp;</p>



<p>For 14 years, no rain has fallen in Alto Hospicio or the surrounding Atacama Desert region. Those dry conditions, coupled with the nonbiodegradable, predominantly synthetic, petroleum-derived fibers that modern clothes are made with, meant that the pile never shrank. Instead, for more than two decades, it grew — metastasized — with every discarded, imported item that was added.</p>



<p>In 2021, six months prior to the fire, a photographer from Agence France Presse, Martín Bernetti, captured a bird’s-eye image of this sprawling mound of apparel, essentially an oil slick, strewn across the edge of the Atacama desert.&nbsp;</p>



<p>The aerial image was picked up by news outlets across the globe, from the front page of the New York Post<em> </em>to the BBC, and continues to circulate today. But the mountain of clothes depicted by that 2021 drone photo is utterly gone. As Astudillo, Pino, and the three students witnessed, and unwittingly tasted: The blaze tore through the pile, throwing black plumes of toxic ash into the air.</p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428282.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428282.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428282.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428282.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428282.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428282.jpg?w=1536 1536w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428282.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428282.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428282.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428282.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428282.jpg 1024w" alt="a huge pile of clothing in the desert as seen from a drone" data-caption="An aerial view of used clothes discarded in the Atacama Desert, in Alto Hospicio, Iquique, Chile, on September 26, 2021. " data-credit="Martin Bernetti / AFP via Getty Images"></p><figcaption>An aerial view of used clothes discarded in the Atacama Desert, in Alto Hospicio, Iquique, Chile, on September 26, 2021.  <cite>Martin Bernetti / AFP via Getty Images</cite></figcaption></div></figure>



<p>The town of Alto Hospicio sits on a cliff above the Pacific Ocean, a bedroom community for the seaside vacation city of Iquique below. Imagine if Atlantic City in New Jersey were simultaneously hemmed in and backed by a high Nevada plateau, and if the two locales were connected by a two-lane switchback highway.&nbsp;</p>



<p>Each day in Iquique’s port, giant cranes pluck containers full of discarded clothing from the decks of ships and deposit them onto flatbed trucks. No one really knows exactly how much clothing passes through the port every year; estimates range from <a href="https://remake.world/stories/old-navy-hm-and-levis-tags-found-in-landfill-fire/">60,000</a> to <a href="https://www.nationalgeographic.com/environment/article/chile-fashion-pollution">44 million tons. </a>Next, they head to the nearby Free Trade Zone, known locally as “Zofri,” where trailers back into the warehouses of 52 used-clothes importers and forklift operators transfer sealed bales of clothing, or <em>fardos,</em> inside.&nbsp;</p>



<p>Chile is the <a href="https://oec.world/en/profile/hs/used-clothing">biggest importer</a> of secondhand clothing in South America, and between 2020 and 2021 it was the fastest-growing importer of used clothing in the world. The port of Iquique is an established tax-free zone, incentivizing this booming industry of castaway textiles.</p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/Iquique-used-shoe-store.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/Iquique-used-shoe-store.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Iquique-used-shoe-store.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/Iquique-used-shoe-store.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/Iquique-used-shoe-store.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Iquique-used-shoe-store.jpg?w=1152 1152w, https://grist.org/wp-content/uploads/2024/01/Iquique-used-shoe-store.jpg?w=1536 1536w, https://grist.org/wp-content/uploads/2024/01/Iquique-used-shoe-store.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/Iquique-used-shoe-store.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/Iquique-used-shoe-store.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/Iquique-used-shoe-store.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/Iquique-used-shoe-store.jpg 1024w" alt="a woman looks toward a wall of used shoes lining the inside of a kiosk in an outdoor market" data-caption="A vendor in Iquique sells secondhand shoes." data-credit="Muriel Alarcón"></p><figcaption>A vendor in Iquique sells secondhand shoes. <cite>Muriel Alarcón</cite></figcaption></div></figure>



<p>From Zofri, bales of clothing are sold, uninspected, to merchants betting that at least some of the items inside are sales-worthy. “When you buy, you are buying with your eyes closed,” one former merchant said. Sometimes 80 percent of the garments in a bale are usable. Sometimes the opposite is true. Because bales are so cheap, however, most merchants need only sell 40 percent to turn a profit.&nbsp;</p>



<p>According to the global environmental advocacy group Ekō (formerly known as SumofUS), an estimated 85 percent of the used clothing imported into Iquique remains unsold. Chilean federal law states it’s illegal to dispose of textiles.&nbsp;</p>



<p>Considered Iquique’s backyard, Alto Hospicio is one of the poorest cities in Chile, widely known as a place to abandon pets and dump trash. In the late 1990s and early 2000s, the small desert town is where more than a dozen teenage girls mysteriously vanished, until their apprehended killer led authorities to bodies buried in desert graves.&nbsp;</p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/manuela-medina-and-family.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/manuela-medina-and-family.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/manuela-medina-and-family.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/manuela-medina-and-family.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/manuela-medina-and-family.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/manuela-medina-and-family.jpg?w=1536 1536w, https://grist.org/wp-content/uploads/2024/01/manuela-medina-and-family.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/manuela-medina-and-family.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/manuela-medina-and-family.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/manuela-medina-and-family.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/manuela-medina-and-family.jpg 1024w" alt="" data-caption="Manuela Medina, left, and her family pose for a photo near their clothing pile in the Atacama Desert." data-credit="Fernando Alarcón"></p><figcaption>Manuela Medina, left, and her family pose for a photo near their clothing pile in the Atacama Desert. <cite>Fernando Alarcón</cite></figcaption></div></figure>



<p>In 2001, Manuela Medina*, a former gardener, saw an opportunity in Iquique’s growing textile abundance. Relocating to Alto Hospicio, she established an unauthorized compound on government lands at the base of El Paso de la Mula, the huge sand dune at the far side of an unregulated shantytown. Every few days, she hired a <em>fl</em>e<em>tero</em> — a driver with a jalopy — to travel the switchback roads, out of the brown dunes of Alto Hospicio, to arrive in the colorful oceanside city of Iquique, which sits a thousand miles north of the country’s capital, Santiago.</p>



<p>Near the dock where cranes unload massive container ships, inside Iquique’s free trade zone, Medina ventured into the contiguous warehouses, asking secondhand clothing importers, “Do you have any garbage?”&nbsp;</p>



<p>Back at her compound, Medina unloaded her wares in piles on the ground where she had the luxury of storing them indefinitely — the Atacama Desert is one of the driest places on Earth, meaning items don’t undergo normal degradation from elements like rain. Here, Medina sold her piles to merchants and others for $10 each.&nbsp;</p>



<p>As more and more bales of <em>ropa americana,</em> or secondhand clothes, arrived in Iquique, the clothes flooded importers’ warehouses and overflowed vendors’ stalls in open air markets, including La Quebradilla — one of the largest open air markets in South America, located just a few miles from Medina’s unauthorized compound.&nbsp;</p>



<p>
<figure><video autoplay="" loop="" muted="" poster="https://grist.org/wp-content/uploads/2024/01/shirt2-poster.jpeg" preload="auto" src="https://grist.org/wp-content/uploads/2024/01/shirt2.mp4" playsinline=""></video><figcaption>Fernando Alarcón</figcaption></figure>
</p>



<p>Soon,<em> </em>importers and secondhand merchants began to deliver surplus used clothes directly to Medina. Fed by daily truck deliveries, and then by multiple daily tractor trailer load deliveries, Medina’s pile grew.</p>



<p>By 2020, Medina’s gargantuan desert dump had become an open secret in Chile, stretching across dozens of acres. Others followed her model, creating mini-dumps across the desert and along roadsides, but Medina’s pile remained the largest.&nbsp;</p>



<p>On March 29, 2022, Paulin Silva, an environmental lawyer, stood before the Primer Tribunal Ambiental de Antofagasta, a regional tribunal in northern Chile that specializes in resolving environmental issues within its jurisdiction. She was presenting a lawsuit, brought on behalf of herself as a resident of Iquique, against the municipality and the federal Chilean government for their inaction over the sprawling, unregulated clothes dumps. For her submission of evidence, she asked the tribunal to join her in touring the mound of clothing.</p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/paulin-silva.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/paulin-silva.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/paulin-silva.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/paulin-silva.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/paulin-silva.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/paulin-silva.jpg?w=1536 1536w, https://grist.org/wp-content/uploads/2024/01/paulin-silva.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/paulin-silva.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/paulin-silva.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/paulin-silva.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/paulin-silva.jpg 1024w" alt="" data-caption="Paulin Silva poses for a photo in an office. She has pushed the government to take action on the illegal clothing dumps near Iquique, Chile." data-credit="Fernando Alarcón"></p><figcaption>Paulin Silva poses for a photo in an office. She has pushed the government to take action on the illegal clothing dumps near Iquique, Chile. <cite>Fernando Alarcón</cite></figcaption></div></figure>



<p>For weeks, her informal team of supporters (a geographer, her sister, and her brother-in-law) had been documenting the problem, joking among themselves, “In which dump are we going to party tonight?”</p>



<p>Since obtaining her law degree, Silva has prosecuted a handful of environmental cases, but this one was personal, and she felt empowered to tackle it: “I have the education; I am a lawyer; I can do something,” she said. She’d grown up in northern Chile, a pencil thin country bordered by the Pacific Ocean. Her father is from Alto Hospicio and her mother is from Iquique. At 35, she’s several years older than Astudillo, the co-founder of the nonprofit Dress Desert, whom Silva asked to be a witness for the case. When Silva was a child, she observed people dumping clothes everywhere — the streets, yards, and city squares. Because this was the only place she knew for so much of her life, she thought, “It’s normal for people to live with … garbage accumulated around them.”&nbsp;</p>



<p>This local “clothes-blindness” was documented by Astudillo’s colleague, Bastián Barria, an engineering student and her co-founder of Dress Desert. In November 2020, he and others conducted a survey to ascertain local attitudes regarding the clothing waste. Of the almost 400 people in Alto Hospicio he surveyed, representing less than 1 percent of the town’s population, more than half did not think there was any issue.</p>



<p>When Silva was 18, she moved a thousand miles south, to Valparaiso in central Chile, to study law and that was where she remained until the pandemic, when she returned home. That’s when she realized the dump situation had worsened. Exponentially.&nbsp;</p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-109-min.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-109-min.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-109-min.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-109-min.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-109-min.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-109-min.jpg?w=1024 1024w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-109-min.jpg?w=1366 1366w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-109-min.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-109-min.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-109-min.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-109-min.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-109-min.jpg 1024w" alt="old shoes in a dense pile in the desert" data-caption="Shoes pile up in an illegal clothing dump in the Atacama Desert." data-credit="Fernando Alarcón"></p><figcaption>Shoes pile up in an illegal clothing dump in the Atacama Desert. <cite>Fernando Alarcón</cite></figcaption></div></figure>



<p>During the decades between Silva’s girlhood and today, clothing production worldwide doubled, while utilization — the number of times an item of clothing is worn before it is thrown away — declined by 36 percent. Countries like Chile, Haiti, and Uganda became depositories for fast fashion discards. In 2021 alone, Chile imported <a href="https://obtienearchivo.bcn.cl/obtienearchivo?id=repositorio/10221/33437/1/BCN__ropa_usada_mercado_regulacio__n_nacional_y__comparada_agos2022.pdf">more than 700,000 tons</a> of new and used clothing — the weight equivalent of 70 Eiffel Towers.</p>



<p>“Even if we stopped clothing production throughout the world tonight,” said Francisca Gajardo, an Iquique-born fashion designer, “we still have more garments than we need or that the Earth can safely hold. It won’t go away nicely, and we’re not stopping today.”&nbsp;</p>



<hr>



<p>Nine days after the giant fires, around 4 p.m., Silva was having a light meal, the Chilean equivalent of afternoon tea known as <em>once</em> (pronounced “on-say”), with her family in northern Chile. A few days prior, the Primer Tribunal Ambiental de Antofagasta had informed her it was ready to view her case evidence by touring the clothes pile in person. Silva took out her phone to share the good news on Instagram with Desierto Vestido, but before she could, she saw the images of the burning clothes Desierto Vestido had just uploaded and shared.&nbsp;</p>



<p>Silva sprang from her chair to process what was happening to the evidence in her case just a few miles away. She suspected why the court had been willing to view the landfill: “Because obviously the matter was burned,” she told Grist.</p>



<p>While no official cause of the fires has ever been reported, local residents claim it began late on Saturday night or in the early hours of Sunday. Days later, toxic air still clung to the area. Astudillo, who visited the site regularly, described the pile as “volcanic” — with clothes smoldering under the sand, venting smoke full of textile chemicals from synthetic materials. She warned, “You can’t be outside for long.”&nbsp;</p>



<p>In the days following the fire, on June 22, instead of leading the tour of the prosecutorial evidence, Silva filed a statement to the Primer Tribunal Ambiental de Antofagasta: “With sadness and shame I inform you that 11,000 tons of clothes in the textile dump were burned.”&nbsp;</p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-165-min.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-165-min.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-165-min.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-165-min.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-165-min.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-165-min.jpg?w=1536 1536w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-165-min.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-165-min.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-165-min.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-165-min.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-165-min.jpg 1024w" alt="" data-caption="Graffiti in one of the most dangerous shantytowns in Chile, near Manuela Medina's home. The word &quot;votar&quot; is likely supposed to be &quot;botar,&quot; which in Spanish means &quot;throw.&quot; But in its current form, it reads, &quot;Do not vote trash. It will be reported.&quot;" data-credit="Fernando Alarcón"></p><figcaption>Graffiti in one of the most dangerous shantytowns in Chile, near Manuela Medina’s home. The word “votar” is likely supposed to be “botar,” which in Spanish means “throw.” But in its current form, it reads, “Do not vote trash. It will be reported.” <cite>Fernando Alarcón</cite></figcaption></div></figure>



<p>Although Paulin provided the court with Dress Desert’s smartphone video recordings of the clothes in flames, the defense argued that the Instagram account where they’d posted the videos could not be verified and confirmed. Lacking a certifiable timestamp, the films were inadmissible.</p>



<p>One year later, in August 2023, the Primer Tribunal Ambiental de Antofagasta called a trial hearing so that all parties involved in the case — the Consejo de Defensa del Estado, the body that judicially represents the state in Chile, the municipality of Alto Hospicio, and Silva — could present evidence.</p>



<p>During the hearing, the Mayor at Alto Hospicio, Patricio Ferreira, said that one of his priorities is to “transform this problem into an opportunity to generate employment.” He alluded to discussions he had with European businessmen to explore initiatives related to recycling.</p>



<p>Silva got people to testify in her favor, activists and academics who have given statements to different media outlets about the environmental problem generated by the textile landfill in the Chilean desert. But on the day of the hearing, none of them arrived.</p>



<p>“At the end of the day, in practice, I am alone in this action,” she said.</p>



<hr>



<p>Chile’s government recently voted to adopt recycling measures that make certain producers accountable for their waste. Known as the extended producer responsibility law, or REP using its Spanish acronym, the legislation passed in 2016 and took effect in January 2023. Currently, Chilean companies that make tires and packaging (such as bags, plastics, paper or cardboard, cans and glass) must comply.&nbsp;</p>



<p>Eventually, according to the Ministry of the Environment, Chile intends to incorporate clothing and textiles as a priority product into the REP law.</p>



<p>However, in the case of clothes, many describe the REP as a “paper solution” that lacks tangible enforcement, said Pino, from the Universidad Diego Portales.</p>



<p>In parallel, the Ministry of the Environment is developing a circular economy strategy for textile waste. Unlike the REP, the agency crafts public policy for the public and private sectors to prevent overproduction.&nbsp;</p>



<p>The ministry has been holding workshops and conversations to collect input from stakeholders, including academics, business executives, retailers and nonprofit leaders. It is also tabulating the results of a preliminary survey on consumer clothes-buying habits. The details of this circular economy strategy is expected to be published in March this year.</p>



<p>At the minister’s invitation, Pino has shared her fashion expertise — both in the markets and in the desert — with the group. “These two things are wonderful initiatives,” she said about both efforts, but she lamented that they fail to address the issue of used clothes.&nbsp;</p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/Blusas-del-desierto-Entrevistadas-08-1.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/Blusas-del-desierto-Entrevistadas-08-1.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Blusas-del-desierto-Entrevistadas-08-1.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/Blusas-del-desierto-Entrevistadas-08-1.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/Blusas-del-desierto-Entrevistadas-08-1.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Blusas-del-desierto-Entrevistadas-08-1.jpg?w=1536 1536w, https://grist.org/wp-content/uploads/2024/01/Blusas-del-desierto-Entrevistadas-08-1.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/Blusas-del-desierto-Entrevistadas-08-1.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/Blusas-del-desierto-Entrevistadas-08-1.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/Blusas-del-desierto-Entrevistadas-08-1.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/Blusas-del-desierto-Entrevistadas-08-1.jpg 1024w" alt="" data-caption="Bárbara Pino, director of the Fashion System Observatory, stands on the campus of the Universidad Diego Portales in Santiago, Chile." data-credit="Fernando Alarcón"></p><figcaption>Bárbara Pino, director of the Fashion System Observatory, stands on the campus of the Universidad Diego Portales in Santiago, Chile. <cite>Fernando Alarcón</cite></figcaption></div></figure>



<p>A decade ago, when the REP was first being discussed, Denisse Morán, president of the Tarapacá Recyclers and the head of ServiREC, a recycling cooperative that operates within Iquique’s free trade zone, sought out her local representative to request that the law apply to both clothing producers and clothing importers.&nbsp;</p>



<p>“Oh, because you are from Iquique?” she recalled him asking her.&nbsp;</p>



<p>“Not only because I am from Iquique,” she replied, “but because we all wear clothes.”</p>



<p>For years, many residents in Alto Hospicio saw the piles of textiles as more of an opportunity than an eyesore or environmental threat, something that supported the local economy.&nbsp;</p>



<p>When Jazmín Yañez arrived in town from southern Chile in 2018 almost penniless and on the brink of homelessness, for example, someone gave her a few cast-off garments and household garbage — from towels, kitchen implements to furniture — to sell. Ever since, Yañez, now 28, has waged a zealous campaign to salvage, fix, and reutilize all “waste” materials. She operates an informal store from the kitchen of her house called Stop Recicla: “Your trash is my treasure,” where she sells, exchanges, and gifts items such as rugs, used clothing, school supplies, costumes, and electronics to impoverished mothers, like she once was.</p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/Jazmin-used-clothing.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/Jazmin-used-clothing.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Jazmin-used-clothing.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/Jazmin-used-clothing.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/Jazmin-used-clothing.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Jazmin-used-clothing.jpg?w=1536 1536w, https://grist.org/wp-content/uploads/2024/01/Jazmin-used-clothing.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/Jazmin-used-clothing.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/Jazmin-used-clothing.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/Jazmin-used-clothing.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/Jazmin-used-clothing.jpg 1024w" alt="a smiling woman in a yellow shirt sits in a small room with a large pile of clothing" data-caption="Jazmín Yañez poses next to a pile of secondhand clothing that she will sell in her home-based store, Stop Recicla." data-credit="Fernando Alarcón"></p><figcaption>Jazmín Yañez poses next to a pile of secondhand clothing that she will sell in her home-based store, Stop Recicla. <cite>Fernando Alarcón</cite></figcaption></div></figure>



<p>It’s this trash/treasure duality that kept Astudillo and other locals from viewing the region’s booming used clothing trade as a problem. But six months before the fires, in January 2022, Nathalia Tavolieri, a Brazilian journalist, invited Astudillo to El Paso de La Mula, where she encountered Manuela Medina’s mountain for the first time.&nbsp;</p>



<p>Astudillo had seen numerous clothing dumps strewn and mounded throughout the desert, but nothing as big as this immense tangle of blouses and pants. “It was terrible,” she said, weeping as she recalled her first visit. “Maybe if I had been older, maybe I could have done more things [to stop this from happening].”</p>



<p>The experience galvanized her. She had already co-founded her nonprofit Dress Desert, or Desierto Vestido, two years before, to raise awareness and creatively respond to the country’s burgeoning waste clothing issue. As part of the project’s efforts, she and 20 other members host workshops and conversations. They upcycle castaway materials into new garments and craft household items. Seeing the vastness of Medina’s clothing pile, Astudillo stepped up her resolve, because “many people don’t see — or don’t want to see.”</p>



<p>“It was very, very hard,” she said, “to know that we live in a place that is so polluted and damaged by everyone’s waste.” Several months later, Astudillo brought Gajardo, the clothes designer and a fellow Iquiquean, to the dump, and gained an ally in her efforts. Despite growing up and shopping at the region’s numerous outdoor secondhand clothes markets, Gajardo was appalled by the scope of the waste. She developed rashes from rummaging among the fabrics.&nbsp;</p>



  


  <figure>
    <div>
                  <figure>
            
<p><img src="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-044-min.jpg?quality=75&amp;strip=all" alt="" data-caption="" data-credit="Fernando Alarcón" srcset="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-044-min.jpg?quality=75&amp;strip=all 1600w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-044-min.jpg?resize=1200%2C1799&amp;quality=75&amp;strip=all 1200w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-044-min.jpg?resize=330%2C495&amp;quality=75&amp;strip=all 330w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-044-min.jpg?resize=768%2C1152&amp;quality=75&amp;strip=all 768w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-044-min.jpg?resize=1024%2C1536&amp;quality=75&amp;strip=all 1024w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-044-min.jpg?resize=1366%2C2048&amp;quality=75&amp;strip=all 1366w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-044-min.jpg?resize=150%2C225&amp;quality=75&amp;strip=all 150w" sizes="(max-width: 1024px) 100vw, 1024px" height="2399" width="1600" loading="lazy" decoding="async">
  </p>
          </figure>
                  <figure>
            
<p><img src="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-046-min.jpg?quality=75&amp;strip=all" alt="" data-caption="" data-credit="Fernando Alarcón" srcset="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-046-min.jpg?quality=75&amp;strip=all 1600w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-046-min.jpg?resize=1200%2C1799&amp;quality=75&amp;strip=all 1200w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-046-min.jpg?resize=330%2C495&amp;quality=75&amp;strip=all 330w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-046-min.jpg?resize=768%2C1152&amp;quality=75&amp;strip=all 768w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-046-min.jpg?resize=1024%2C1536&amp;quality=75&amp;strip=all 1024w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-046-min.jpg?resize=1366%2C2048&amp;quality=75&amp;strip=all 1366w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-046-min.jpg?resize=150%2C225&amp;quality=75&amp;strip=all 150w" sizes="(max-width: 1024px) 100vw, 1024px" height="2399" width="1600" loading="lazy" decoding="async">
  </p>
          </figure>
                  <figure>
            
<p><img src="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-048-min.jpg?quality=75&amp;strip=all" alt="" data-caption="" data-credit="Fernando Alarcón" srcset="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-048-min.jpg?quality=75&amp;strip=all 1600w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-048-min.jpg?resize=1200%2C1799&amp;quality=75&amp;strip=all 1200w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-048-min.jpg?resize=330%2C495&amp;quality=75&amp;strip=all 330w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-048-min.jpg?resize=768%2C1152&amp;quality=75&amp;strip=all 768w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-048-min.jpg?resize=1024%2C1536&amp;quality=75&amp;strip=all 1024w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-048-min.jpg?resize=1366%2C2048&amp;quality=75&amp;strip=all 1366w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-048-min.jpg?resize=150%2C225&amp;quality=75&amp;strip=all 150w" sizes="(max-width: 1024px) 100vw, 1024px" height="2399" width="1600" loading="lazy" decoding="async">
  </p>
          </figure>
            </div>

    

          <div>
        <figcaption> <p>A garment emerges in stages from the desert sand in the Atacama Desert. <em><strong>Fernando Alarcón</strong></em></p>
 </figcaption>
      </div>
    
  </figure>

  


<p>“The fact that we have a desert, the fact that there’s a place to receive this, doesn’t mean that the place has to become the dump of the world,” she said. Since then, Gajardo’s conviction to never design clothes from virgin materials has deepened. Additionally, through her brand <a href="https://www.instagram.com/y.a.n.g._/?hl=en">You Are the New Generation</a>, she offers workshops in reusing garments, and visited Kansas City, Missouri, last year through the U.S. State Department’s Young Leaders of the Americas Initiative to teach people to make new clothes by harvesting old ones.</p>



<p>Other entrepreneurs have attempted to turn the clothes problem into revenue, but have faced a series of setbacks.&nbsp;</p>



<p>Franklin Zepeda is a celebrated Chilean entrepreneur who toured Europe’s textile recycling plants before returning to the region in 2013 to establish Ecofibre, now known as Procitex. (Its name is an acronym meaning Proceso Circular en Textil in Spanish).</p>



<p>With seed funding from CORFO, the Chilean economic development agency, and later from private capital, Zepeda was able to route textiles imported into Iquique to his plant, where they were disassembled, shredded, doused with flame retardant, and transformed into insulation panels. Zepeda got praise for this work in several <a href="https://www.nationalgeographic.com/environment/article/chile-fashion-pollution">major international news outlets</a>, but he shuttered his plant in Alto Hospicio in 2021 because of unfavorable economics, including the taxes on shipping the insulation panels to other regions of the country.</p>



<p>Dario Blanco, manager of the ZOFRI User Association AG (AUZ), a trade association that brings together businessmen from the Iquique free zone, believes that the solution to the region’s problem of discarded clothing is out there — it will just take the right company and policies. And there are plenty of entrepreneurs, fashion designers, and environmentalists working on the issue of textile waste, both in Chile and internationally. </p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428319.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428319.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428319.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428319.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428319.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428319.jpg?w=1536 1536w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428319.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428319.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428319.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428319.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428319.jpg 1024w" alt="three men in vests sort through macerated textiles" data-caption="Men work at a factory that recycles used textiles discarded in the Atacama Desert for wooden isolation panels for the walls of social housing, in Alto Hospicio, Iquique, Chile in 2021." data-credit="Martin Bernetti / AFP via Getty Images"></p><figcaption>Men work at a factory that recycles used textiles discarded in the Atacama Desert for wooden isolation panels for the walls of social housing, in Alto Hospicio, Iquique, Chile in 2021. <cite>Martin Bernetti / AFP via Getty Images</cite></figcaption></div></figure>



<p>As <a href="https://www.bloomberg.com/news/articles/2023-05-25/clothing-waste-is-a-problem-fashion-brands-could-force-you-to-pay-for-it#xj4y7vzkg">Bloomberg reported in May,</a><strong> </strong>New York, California, Sweden, and the Netherlands are developing legislation similar to Chile’s extended producer responsibility law that went into effect this year, mandating that the fashion industry fund recycling programs via tariffs calibrated to the quantity of garments produced.</p>



<p>In order to help New York City uphold its existing law limiting or forbidding textiles in the waste stream, <a href="https://fabscrap.org/">FabScrap</a>, a nonprofit founded in 2016 by a former New York Department of Sanitation worker, receives 7,000 pounds of pre-consumer textile waste each week. Sorted by volunteers, the nonsynthetic scrap items are sent to a New Jersey facility that shreds the material, producing “shoddy,” a stuffing used to fill punching bags, sofas, and soft toys.</p>



<p>A Czech company called <a href="https://www.instagram.com/retexchile/?hl=en">RETEX</a> has been attempting to bring its fabric-macerating technology to Alto Hospicio. Blanco says that in exchange for securing a contract with Chile, the company promised to hire local workers. But, Blanco admitted, negotiations like these have fallen through in the past. For example, he said, a Spain-based company, <a href="http://www.engreeng.com/">Egreen</a>, planned to open a fabric-waste processing plant, but the deal was scrapped late last year.</p>


<div>
  <article>
    <span>Read Next</span>
    <div>

      
      
                    
            <a href="https://grist.org/culture/how-clothing-forms-the-fabric-of-society-both-past-and-future/">
        <figure>
          <img src="https://grist.org/wp-content/uploads/2022/03/donated-clothing.jpg?quality=75&amp;strip=all" alt="collage: black and white photo of woman sorting huge pile of clothes, yellow circle on top with the clothing inside it in color" srcset="https://grist.org/wp-content/uploads/2022/03/donated-clothing.jpg?quality=75&amp;strip=all 1600w, https://grist.org/wp-content/uploads/2022/03/donated-clothing.jpg?resize=1200%2C825&amp;quality=75&amp;strip=all 1200w, https://grist.org/wp-content/uploads/2022/03/donated-clothing.jpg?resize=330%2C227&amp;quality=75&amp;strip=all 330w, https://grist.org/wp-content/uploads/2022/03/donated-clothing.jpg?resize=768%2C528&amp;quality=75&amp;strip=all 768w, https://grist.org/wp-content/uploads/2022/03/donated-clothing.jpg?resize=1536%2C1056&amp;quality=75&amp;strip=all 1536w, https://grist.org/wp-content/uploads/2022/03/donated-clothing.jpg?resize=150%2C103&amp;quality=75&amp;strip=all 150w" sizes="(max-width: 1024px) 100vw, 1024px" height="1100" width="1600" loading="lazy" decoding="async">
        </figure>
      </a>
            
    </div>
  </article>
</div>



<p>The governor’s sustainability adviser at the Regional Government of Tarapaca, Pablo Zambra, recently formed a 25-member committee that includes stakeholders such as Astudillo and Barria from Dress Desert and Morán, the president of the Tarapacá Recyclers, to publicize&nbsp;economic incentives for circular economy initiatives. Collectively, they hope RETEX will succeed in doing what Zepeda’s company failed to do: turn a profit. As of this writing, no importers are involved.</p>



<p>Meanwhile, every day, container ships continue to offload more cargo.&nbsp;</p>



<p>In the fall of 2022, Alto Hospicio’s mayor, Ferreira, <a href="https://www.batimes.com.ar/news/latin-america/chiles-unique-atacama-desert-sullied-by-worlds-junk.phtml">acknowledged the unsolved problem</a> but blamed clothing manufacturers, citing a “lack of global awareness of ethical responsibility.”&nbsp;</p>



<p>“Our land has been sacrificed,” he said.&nbsp;</p>



<p>Pino agrees that the fashion industry and its consumers are culpable. “We have to worry about the complete cycle: before, during, and after our clothes,” she wrote in an <a href="https://www.elmostrador.cl/noticias/opinion/cartas/2021/11/23/vertederos-de-ropa-y-la-urgencia-de-tomar-accion/">editorial</a> published in 2021.</p>



<p>She believes a more comprehensive solution is necessary, including regulating the entry of textile materials to Chile, educating consumers about prolonging garments’ lives, promoting Chile’s homegrown fashion industry, and supporting research to design new uses for fabric waste.&nbsp;</p>



<p>Ecocitex, founded in 2020 by engineer Rosario Hevia in Santiago, has sprung up as another Chilean company addressing a surfeit of garments.</p>



<p>Ecocitex operates in a manner contrary to the country’s organized and informal secondhand clothes markets. It invites people to recycle<em> </em>high-quality clothing or pay<em> </em>$1.50 per kilogram to leave poor quality clothing and walk away empty-handed.</p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/barria-min.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/barria-min.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/barria-min.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/barria-min.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/barria-min.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/barria-min.jpg?w=1536 1536w, https://grist.org/wp-content/uploads/2024/01/barria-min.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/barria-min.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/barria-min.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/barria-min.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/barria-min.jpg 1024w" alt="a man in a botannical-print shirt sits at a table near racks of clothes and outdoor umbrellas" data-caption="Bastián Barria, co-founder of the organization Dress Desert with Ángela Astudillo, recently joined a government-sponsored committee to help push forward circular economy initiatives in Chile." data-credit="Fernando Alarcón"></p><figcaption>Bastián Barria, co-founder of the organization Dress Desert with Ángela Astudillo, recently joined a government-sponsored committee to help push forward circular economy initiatives in Chile. <cite>Fernando Alarcón</cite></figcaption></div></figure>



<p>During the pandemic, Andrea Espinoza Pérez, a civil industrial engineer at the University of Santiago, initiated a <a href="https://pubmed.ncbi.nlm.nih.gov/35337866/">study</a> on the ecological impacts of projects like Ecocitex. She wanted to know: Did factory-processed, used clothing produce fewer emissions than the original clothing manufacturing process? With data provided by Ecocitex’s founder Hevia, scientists determined that the clothes deconstruction process<em> </em>is effective because it keeps waste clothes out of landfills, and it replaces the demand for virgin materials. While Ecocitex’s procedure is also energy-intensive, the study found, it uses just 73 percent of the energy required to produce the same product from raw materials.&nbsp;</p>



<p>Meanwhile, neither Zepeda’s Procitex nor Hevia’s Ecocitex in Chile, nor Fabscrap’s efforts in New York and Philadelphia, have matched the direct profitability of Medina’s now-defunct business. (Medina has started a new business storing tires.) In fact, all have relied heavily on a variety of underwriting measures, including subsidies, nonprofit funding, subscriptions, or volunteer labor to generate their products.&nbsp;</p>



<p>In recent years, Zepeda has earned his living as an employee of Chile’s largest retailer, CENCOSUD. He collects surplus clothes donated by customers, and produces insulation panels for buildings that are sold by the same retailer.&nbsp;</p>



<p>As for Ecocitex, in June, the business caught fire and the building was destroyed. The cause is still under investigation. Undeterred, Hevia has launched a <a href="https://www.instagram.com/p/Ct2-PiPNBgX/?hl=en">campaign </a>to rebuild. Meanwhile, she is raising funds by selling blankets made from recycled fibers to a mining company.</p>



<hr>



<p>By last January, the height of the Chilean summer, the gigantic, unsightly clothes dump at El Paso de la Mula, the one Agence France Presse had shown the world, was nowhere to be found.&nbsp;</p>



<p>All that remained was a smattering of ashes and the tread marks of bulldozers. Here and there, across Medina’s unofficial backyard, small piles of garments peeked out of the sand dunes. But according to municipal officials, dumping and burning continues. Rey, an indigent man who lives by the side of a desert road in a blue and yellow tent emblazoned with “National Geographic,” attests that he and others accept money from nonprofit refuse-disposal contractors or freelance truckers in exchange for setting fires to whatever waste is discharged from a truck. This way, the trucker can keep more of his hauling profits, which would otherwise be whittled down by the official dump fees.</p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-099-min.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-099-min.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-099-min.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-099-min.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-099-min.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-099-min.jpg?w=1536 1536w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-099-min.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-099-min.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-099-min.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-099-min.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-099-min.jpg 1024w" alt="A man stands near large piles of burning clothing in the desert" data-caption="In the surroundings of Alto Hospicio, in the Atacama Desert, new landfills emerge every day. What arrives is burned by individuals living there. Some of them receive payment for doing it." data-credit="Fernando Alarcón"></p><figcaption>In the surroundings of Alto Hospicio, in the Atacama Desert, new landfills emerge every day. What arrives is burned by individuals living there. Some of them receive payment for doing it. <cite>Fernando Alarcón</cite></figcaption></div></figure>



<p>Astudillo says that beyond the limits of Manuela’s dune, there are as many as 200 micro-garbage dumps, and consequently, miles and miles of ashes in the desert — not just scattered over the ground, but also in the air. She told Grist in late December that this is an everyday thing. “You go out to buy bread and you smell the burning smell. You smell the materials that make up the clothes: oil and plastic. After 5 in the afternoon, I no longer let my 7-year-old daughter leave the apartment, and I close the windows to prevent smoke from coming in.” She also confirmed the abandoning of clothes continues: “They throw it away, they burn it immediately.”</p>



<p>On December 12, the Primer Tribunal Ambiental de Antofagasta issued its final ruling in the case with Silva, commissioning a unit of experts to carry out an on-site report on the accumulation of textile waste in different areas of Alto Hospicio, and to propose a solution to the accumulation of waste.</p>



<p>The municipality of Alto Hospicio, which claims it does not have the workforce to adequately address the problem, has also installed nearly 100 cameras along the main roads as a means of tracking polluters, and has begun doling out fines as high as $350 for illegal dumping. So far, trucks have been apprehended transporting domestic and industrial garbage, as well as bulky items such as mattresses, washing machines, and furniture.&nbsp;</p>



<p>Drone footage recorded by Cheng Hwa, one of Pino’s students, the day of the June 2022 fires captures the municipality fighting what was in essence an oil fire. Hwa, who grew up in Iquique and now works in tech for the hospitality industry, had long been aware of the desert dumps but didn’t comprehend the magnitude until he witnessed them at close range.&nbsp;</p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/blouse-desert-clothing-fire-chile.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/blouse-desert-clothing-fire-chile.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/blouse-desert-clothing-fire-chile.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/blouse-desert-clothing-fire-chile.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/blouse-desert-clothing-fire-chile.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/blouse-desert-clothing-fire-chile.jpg?w=1536 1536w, https://grist.org/wp-content/uploads/2024/01/blouse-desert-clothing-fire-chile.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/blouse-desert-clothing-fire-chile.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/blouse-desert-clothing-fire-chile.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/blouse-desert-clothing-fire-chile.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/blouse-desert-clothing-fire-chile.jpg 1024w" alt="Smoke plumes from burning piles of clothing in sand dunes" data-caption="Fire blazes through Manuela Medina's clothes dump in the Atacama Desert on June 12, 2022." data-credit="Cheng Hwa"></p><figcaption>Fire blazes through Manuela Medina’s clothes dump in the Atacama Desert on June 12, 2022. <cite>Cheng Hwa</cite></figcaption></div></figure>



<p>He’s haunted by what his drone footage made visible. “How the desert of sand starts to turn into a desert of clothes,” he said. “It has no limit; there is no closure … Clothes begin to appear on the ground until the horizon is completely covered.”</p>



<p>In Iquique, he often glances up toward the high plateau of Alto Hospicio. “You can’t see the dump, but [you can see] the column of smoke on days that [clothes] burn. That cloud of smoke lets you know … It makes [the issue] visible on a day-to-day basis.”</p>



<p>Thirty miles south of Iquique, toward the city’s main airport, on her family’s farm, Astudillo and her parents drop pieces of used clothing on the ground, but in a purposeful way. Over the past 20 years, Astudillo’s father has experimented with growing trees in the infertile, saline soils. Many of his efforts failed until he began using certain fabrics to mulch his trees. This improves the quality of the soil, enabling it to retain moisture. For the past year, Astudillo has been working with one of the Zofri importers, who asked to remain anonymous. She consults with his staff about the clothing bales and recommends ways of sorting the material into specific categories based on fiber content, some of which she collects personally. Those items — a pair of cotton shorts, a T-shirt, a blouse — become mulch for a pine and eucalyptus forest rising in the desert.</p>



<p>Recently, as Astudillo was leaving the farm, she stashed a few perennials in her truck and drove them to Manuela’s compound in Paso de La Mula. Just beyond Medina’s courtyard, where sky- blackening fires had once burned, Astudillo troweled a small hole for the plants. As she dug, she dislodged several odd socks and a faded blue sweatshirt — discarded clothes that had survived the fires, but were buried by bulldozers.&nbsp;</p>



<p>Astudillo filled the hole, amending the desert sand with compost and garden soil. “For me it’s like a Band-Aid for a wound that is so big in that place,” she said. Then she tucked in cardinal flowers — a native plant whose petals resemble shooting flames.&nbsp;</p>



<div id="Blouse-Editors-note"><p><em>Editor’s note: During visits to her compound in Alto Hospicio, Manuela, the owner of the secondhand clothing dump, told Grist reporters her name was Manuela Medina. However, other outlets have used the surname Olivos. Her legal name is Manuela de Los Angeles Medina Olivos.&nbsp;</em></p><p><em>This story has been updated.</em></p></div>

  
  <hr>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Microsoft at Work (112 pts)]]></title>
            <link>https://computer.rip/2024-04-26-microsoft-at-work.html</link>
            <guid>40183817</guid>
            <pubDate>Sat, 27 Apr 2024 21:39:53 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://computer.rip/2024-04-26-microsoft-at-work.html">https://computer.rip/2024-04-26-microsoft-at-work.html</a>, See on <a href="https://news.ycombinator.com/item?id=40183817">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>


<p>I haven't written anything for a bit. I'm not apologizing, because y'all don't
pay me enough to apologize, but I do feel a little bad. Part of it is just that
I've been busy, with work and travel and events. Part of it is that I've
embarked on a couple of writing projects only to have them just Not Work Out.
It happens sometimes: I'll notice something interesting, spend an evening or
two digging into it, but find that I just can't make a story out of it. There
isn't enough information; it's not really that interesting; the original source
turned out to just be wrong. Well, this one is a bit of all three. Join me, if
you will, on a journey to nowhere in particular.</p>
<p>One of the things I am interested in is embedded real-time operating systems.
Another thing I am interested in is Unified Communications. Yet another is
failed Microsoft research projects. So if you've ever heard of Microsoft At
Work, you probably won't be surprised that it has repeatedly caught my eye.
Most likely, you haven't heard of it. Few have; even the normal sources of
information on these kinds of things appear to be inaccurate or at least
confused about the details.</p>
<p>Microsoft went to work in the summer of 1993, or at least that's when they
announced Microsoft At Work. This kind of terrible product naming was rampant
in the mid-'90s, perhaps more from Microsoft than usual. MAW, as I and a few
others call it, was marketed with a healthy dose of software sales obfuscation.
What was it, exactly? an Architecture, Microsoft said. It would enable all
kinds of new applications. With MAW, one would be able to seamlessly access the
wealth of information on their personal computers. Some reporters called it an
Environment. Try this for a lede: "Microsoft Corp. unveils integrated computer
program."</p>
<p>The announcement included a demo that got a lot more to the point: a fax
machine that ran Windows.</p>
<p>Even this was strangely obfuscated: enough newspaper reports described it as a
"fax like product" that I think this verbiage was sincerely used in the
announcement. Today, we would refer to MAW as an effort towards "smart" office
machines, but in 1993 we hadn't quite learned that vocabulary yet. Microsoft
must have been worried that it would be dismissed as "just a fax machine." It
couldn't be that, it had to be something more. It had to be a "fax like
product," built with "Windows architecture."</p>
<p>I am being a bit dismissive for effect. MAW was more ambitious than just
installing Windows on a grape. The effort included a unified communications
protocol for the control of office machines, including printers, for which
a whole Microsoft stack was envisioned. This built on top of the Windows
Printing System, a difficult-to-search-for project that apparently predated
MAW by a short time, enough so that Windows Printing System products were
actually on the market when MAW was announced---MAW products were, we will
learn, very much not.</p>
<p>Windows Printing System modules were sold for at least the HP LaserJet II and
III. If you did not experience them, these printers placed their actual
rasterization logic onto a modular card that could be swapped out, usually to
switch between PCL or PostScript "personalities." The PostScript module was
offered mostly for MacOS compatibility, Apple having selected PostScript as a
common printer control language. The Windows Printing System module took this
operating system specialization a step further, using Windows' simple GDI
graphics protocol to draw output to the printer.</p>
<p>I am actually a little unclear on whether or not the Windows Printing System
lead directly to the cheap "WinPrinters" that are also associated with the idea
of GDI-based printing. "WinPrinters," so-called by analogy to WinModems, are
entirely dependent on the host computer to perform rasterization. While
extremely irritating from the perspective of software support, this was an
important cost-savings measure in consumer printers. Executing a capable
printer control language was rather demanding; the Apple LaserWriter famously
had a faster processor than the Macintosh computers it was a peripheral to.
Printers with independent rasterization, particularly the more complex
PostScript, came at a substantial price premium to those that required the host
to perform rasterization.</p>
<p>While some details of reporting on the Windows Printing System make me worry
that it was in fact rasterizing on device (like the curiously specific limit of
"up to 79" TrueType fonts), I'm fairly sure it was indeed a precursor to the
later inexpensive designs. Rather than a cost-savings measure, though,
Microsoft seems to have marketed it as a premium feature. Because of the
Windows Printing System's higher level of integration with the operating
system, it brought numerous new features, many of which we take for granted
today. TrueType font support at all, for example, a cutting-edge feature in
'93. Duplex control from the print dialog rather than the printer's own
display, and for that matter, the ability to see printer status messages (like
"PC LOAD LETTER") on the computer you just printed from.</p>
<p>And at the end of the day, offloading rasterization from the printer had an
advantage: the Windows Printing System was faster than PCL or PostScript.</p>
<p>Even if it did become the dominant printing method years later, the Windows
Printing System of the MAW era doesn't seem to have fared very well. Because it
took the position of an add-on cartridge (like a font cartridge), it would have
been an added-cost option for printer buyers---an added cost of $132.99,
according to a period advertisement. The dearth of available documentation or
even post-launch advertising for the Windows Printing System cartridge suggests
disappointing sales numbers.</p>
<p>The fortunes of Windows Printing Technology would turn a year later, though, as
Lexmark introduced their WinWriter series: "With the Microsoft Windows Printing
System Built In!" Speaking of the Lexmark WinWriter series, this whole printing
thing is kind of a tangent. What about MAW? The Windows Printing System, it
seems, was not really a part of MAW. It was just generally related and available
when MAW was announced, so it was rolled into the press conference. It is a bit
ironic that the Lexmark WinWriter, truly the Printer for Windows, was <em>not</em> a
MAW device despite shipping well after MAW was announced.</p>
<p>So, back to the course: MAW was not just Windows on a fax machine, not just the
Windows Printing System, but an integrated system of Windows on a fax machine,
the Windows Printing System, a generalized network protocol, and apparently a
page description language. This was all, as you can see, rather
document-focused. MAW would allow Windows users to easily, seamlessly interact
with these common office machines, sending and receiving documents like it was
1999.</p>
<p>And later, it would do more: Microsoft was clear from the beginning that MAW
had a higher vision, one that is remarkably similar to the later concept of
Unified Communications. Microsoft envisioned Windows on a <em>phone,</em> bringing
desk phones into the same architecture, or environment, or whatever. Remember
the phone part, it comes back.</p>
<p>In practice, MAW would do nothing. It was a complete and total failure. It took
two years for the first MAW office machine to reach the market, a Ricoh fax
machine. Fortunately, a <a href="https://vimeo.com/111038922">television commercial</a>
has been preserved, giving us a small window into the Windows on a Fax Machine
experience. "Microsoft's At Work Still Loafing on the Job," is how the
Washington Post put it in 1995.</p>
<p>They call it "the first real step toward the paperless digital office," a nod
towards the promise of Microsoft's document-messaging vision, before noting
that virtually no products had shipped, everything was behind schedule, and
Microsoft had reorganized the At Work team out of existence. Microsoft At Work
was seldom spoken of again.  Few products ever launched, those that did sold
poorly (the Windows licensing fee imposed on them being one of several factors
contributing to noncompetitive price tags), and by the time Windows gained
proper USB support few would remember it had ever happened.</p>
<p>In other words, a classic Microsoft story.</p>
<p>But I'm not here to chronicle Microsoft's foibles, there are other writers
for that. I'm here to chronicle their weird operating system projects. And
that's what got me reading into MAW: the  promise of not just one, but <em>two</em>
weird operating system projects.</p>
<p>Regard that promise with suspicion.</p>
<p>Wikipedia tells us that MAW included "Microsoft At Work Operating System, a
small RTOS to be embedded in devices." That's very interesting. I love a small
RTOS to be embedded in devices! Tell us more.</p>
<p>Researching this MAW embedded operating system turns out to be a challenge. You
see, it is not the better known of the operating systems produced by the MAW
initiative. That would be WinPad, curiously not mentioned at all in the MAW
Wikipedia article, but instead in the Windows CE article, as a precursor to CE.
Windows CE gets a lot more affection than MAW, and so we know quite a bit more
about WinPad. It was an early attempt at an operating system for a touchscreen
mobile device, one that, in classic Microsoft fashion, competed internally with
<em>another</em> project to build an operating system for a touchscreen mobile device
(called Pegasus) and died out along with the rest of MAW.</p>
<p>It was based on 16-bit Windows 3.1, using a stripped-down UI layer that
resembled Windows 95. Probably not coincidentally, there seems to have been an
effort to port WinPad onto Windows 95, and fortunately developer releases of
WinPad have been preserved. With some effort, you can get them running on top
of appropriate Windows versions in an emulator.</p>
<p>WinPad was envisioned as a core part of MAW, the key enabler of that paperless
office. With MAW and WinPad, you could synchronize documents, emails, and
faxes, everything you could ever want in 1995, onto your handheld device and
then carry it with you. WinPad also didn't work. Evidently the performance was
lousy and it required entirely unrealistic battery capacities. Not a surprising
outcome when one ports a mid-'90s desktop operating system to a tablet. How
charming! But not exactly my target. What about this RTOS?</p>
<p>If you dig into these things for too long, you start to question your life, or
at least reality. References to this MAW embedded operating system are so
sparse that I quickly started to wonder if it existed at all, or if it was
simply confused with WinPad. This MAW OS would run directly on the office
machines. Is it possible that it was, in fact, WinPad that ran on a fax
machine?  Or at least that whatever ran on the fax machine was a direct
precursor to WinPad, an earlier new UI layer on top of 16-bit Windows?</p>
<p>The nagging thing that kept me on the hunt for this MAW embedded OS was, oddly
enough, the Sega Saturn. A series of newspaper archives, many gathered by
<a href="https://mdshock.com/2020/06/22/sega-and-microsoft-announce-partnership-for-saturn-os/">Mega Drive
Shock</a>,
tell an interesting story. Microsoft, it seemed, had been contracted to provide
the operating system for the Sega Saturn. Well, this seems to have been a
misconception, although clearly a period one. As the news cycle carried on, the
scope of this Microsoft-Sega partnership (at first denied by Microsoft!) was
reduced to Microsoft providing some sort of firmware related to the Saturn's
CD drive.</p>
<p>There is, though, a tantalizing detail. The <em>Electronics Times</em> reported that
"Microsoft looks set to port its Microsoft At Work operating system to
Hitachi's new SH series of microprocessors." The article explicitly linked
the porting to the Saturn effort, but also mentioned that the MAW operating
system was being ported to Motorola 68000.</p>
<p>Do you know what never ran on the Hitachi SH or Super-H architecture? 16-bit
Windows.</p>
<p>Do you know what did? Windows CE.</p>
<p>Is it possible? Do you think? Is Windows CE a derivative of Windows for Fax
Machines?</p>
<p>I'm pretty sure the answer is no. A reader pointed me at John Murray's 1998
book <em>Inside Windows CE,</em> which provides a brief and presumably authoritative
history of the platform. It specifically discusses Windows CE as a follow-on
project to the failed WinPad, which it describes as 16-bit Windows 3.1, and
goes on to say it "was designed for office equipment such as copiers and fax
machines."</p>
<p>It is, of course, possible that the book is incorrect. But given the dearth
of references to this MAW embedded RTOS, I think this is the more likely
scenario:</p>
<p>MAW devices like the Ricoh IFS77 ran 16-bit Windows 3.1 with a new GUI intended
to appear more modern while reducing resource requirements. Some reporters at
the time noted that Microsoft was cagey about the supported architectures, I
suspect they were waiting on ports to be completed. The fax machine was
probably x86, though, as there's little evidence MAW actually ran on anything
else.</p>
<p>This operating system was extended for the WinPad project, and efforts were
made to port it to architectures more common in the embedded devices of the
time like SH and 68000. Microsoft may have reached some level of completion on
that project and sold it to Sega for the Saturn's complicated storage
controller, but it's also possible that the connection between the Saturn and
MAW is mistaken and the software Microsoft delivered to Sega was a simple,
from-scratch effort. The strange arc of media reporting on the Microsoft-Sega
relationship offers the tantalizing possibility that Microsoft was intended to
deliver a complete OS for the Saturn but had to pare it back as a result of
problems with porting WinPad, but it seems more likely it just results from an
overeager electronics industry press and the Sega NDA that a Microsoft
spokesperson admitted to being subject to.</p>
<p>MAW failed to win the market, and WinPad failed to win a BillG review. The
project was canceled. From the ashes of WinPad and the similarly failed
Pegasus, some of the same people started work on a brand new project, Pulsar,
which would become Windows CE.</p>
<p>MAW didn't survive the '90s.</p>
<p>Well, some things are like that. I still got 240 lines out of it.</p>
<p>Update: Alert reader abrasive (James Wah) writes in that they had previously
dumped the CD-ROM firmware from the Saturn and performed some reverse
engineering. Several things suggest that it was not developed by Microsoft,
including a Hitachi copyright notice. It seems likely, then, that the
supposed Microsoft-Sega partnership never produced anything or was never
real in the first place.</p>
	</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[FTC says Amazon executives destroyed potential evidence using apps like Signal (121 pts)]]></title>
            <link>https://www.theverge.com/2024/4/26/24141801/ftc-amazon-antitrust-signal-ephemeral-messaging-evidence</link>
            <guid>40183179</guid>
            <pubDate>Sat, 27 Apr 2024 20:26:41 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theverge.com/2024/4/26/24141801/ftc-amazon-antitrust-signal-ephemeral-messaging-evidence">https://www.theverge.com/2024/4/26/24141801/ftc-amazon-antitrust-signal-ephemeral-messaging-evidence</a>, See on <a href="https://news.ycombinator.com/item?id=40183179">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><div><p>FTC lawyers <a href="https://www.documentcloud.org/documents/24623188-ftc-vs-amazon-signal?responsive=1&amp;title=1">submitted a filing</a> on Thursday that claims Amazon’s top execs used Signal’s disappearing messages feature to destroy evidence relevant <a href="https://www.theverge.com/2023/9/26/23809817/amazon-ftc-antitrust-lawsuit-monopoly">to the agency’s massive antitrust lawsuit</a>. (You remember the one? The FTC accused Amazon of creating a secret “Project Nessie” pricing algorithm that may have generated <a href="https://www.theverge.com/2023/11/2/23943724/amazon-project-nessie-algorithm-ftc-antitrust-case">more than $1 billion in extra profits</a>.)</p></div><p>Now, <a href="https://www.washingtonpost.com/technology/2024/04/26/amazon-ftc-messages-deleted-bezos/"><em>The Washington Post</em></a> (which is owned by Amazon founder and former CEO Jeff Bezos) reports that Amazon is just one of several companies recently accused of turning to encrypted messaging apps like Signal that can permanently erase messages automatically. </p><div><p>You may recall the government making similar arguments <a href="https://www.theverge.com/2023/10/26/23934195/sam-bankman-fried-self-testimony-deleted-signal">about Sam Bankman-Fried’s use of Signal</a> during his trial for fraud and <a href="https://www.theverge.com/23894366/ftx-sam-bankman-fried-trial-updates-news">how that verdict eventually shook out</a>. Deleted chats were also a sticking point for <a href="https://www.theverge.com/2023/12/12/23999333/epic-juror-confirms-googles-deleted-chats-were-a-factor-in-the-verdict">at least one juror</a> in Google’s recent courtroom <a href="https://www.theverge.com/24003500/epic-v-google-loss-apple-win-fortnite-trial-monopoly">loss to Epic Games</a> and came up in <a href="https://www.theverge.com/2023/10/30/23939043/us-v-google-sundar-pichai-testimony">the DOJ’s antitrust trial against Google</a>.</p></div><p>This week’s filing includes screenshots of a Signal chat between two Amazon executives who said, “Are you feeling encrypted?” and proceeded to turn on disappearing messages.</p><div><div role="button" aria-label="Zoom" tabindex="0"><figure><div><p><span><img alt="Page from the FTC filing showing a screenshot of a conversation in the Signal mobile app where Amazon executives turned on disappearing messages." loading="lazy" decoding="async" data-nimg="fill" sizes="(max-width: 1023px) 100vw, 744px" srcset="https://duet-cdn.vox-cdn.com/thumbor/0x0:704x1126/376x601/filters:focal(352x563:353x564):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25420790/sneaky_amazon.jpg 376w, https://duet-cdn.vox-cdn.com/thumbor/0x0:704x1126/384x614/filters:focal(352x563:353x564):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25420790/sneaky_amazon.jpg 384w, https://duet-cdn.vox-cdn.com/thumbor/0x0:704x1126/415x664/filters:focal(352x563:353x564):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25420790/sneaky_amazon.jpg 415w, https://duet-cdn.vox-cdn.com/thumbor/0x0:704x1126/480x768/filters:focal(352x563:353x564):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25420790/sneaky_amazon.jpg 480w, https://duet-cdn.vox-cdn.com/thumbor/0x0:704x1126/540x864/filters:focal(352x563:353x564):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25420790/sneaky_amazon.jpg 540w, https://duet-cdn.vox-cdn.com/thumbor/0x0:704x1126/640x1024/filters:focal(352x563:353x564):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25420790/sneaky_amazon.jpg 640w, https://duet-cdn.vox-cdn.com/thumbor/0x0:704x1126/750x1200/filters:focal(352x563:353x564):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25420790/sneaky_amazon.jpg 750w, https://duet-cdn.vox-cdn.com/thumbor/0x0:704x1126/828x1324/filters:focal(352x563:353x564):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25420790/sneaky_amazon.jpg 828w, https://duet-cdn.vox-cdn.com/thumbor/0x0:704x1126/1080x1727/filters:focal(352x563:353x564):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25420790/sneaky_amazon.jpg 1080w, https://duet-cdn.vox-cdn.com/thumbor/0x0:704x1126/1200x1919/filters:focal(352x563:353x564):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25420790/sneaky_amazon.jpg 1200w, https://duet-cdn.vox-cdn.com/thumbor/0x0:704x1126/1440x2303/filters:focal(352x563:353x564):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25420790/sneaky_amazon.jpg 1440w, https://duet-cdn.vox-cdn.com/thumbor/0x0:704x1126/1920x3071/filters:focal(352x563:353x564):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25420790/sneaky_amazon.jpg 1920w, https://duet-cdn.vox-cdn.com/thumbor/0x0:704x1126/2048x3276/filters:focal(352x563:353x564):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25420790/sneaky_amazon.jpg 2048w, https://duet-cdn.vox-cdn.com/thumbor/0x0:704x1126/2400x3839/filters:focal(352x563:353x564):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25420790/sneaky_amazon.jpg 2400w" src="https://duet-cdn.vox-cdn.com/thumbor/0x0:704x1126/2400x3839/filters:focal(352x563:353x564):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/25420790/sneaky_amazon.jpg" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></span></p></div></figure></div><div><figcaption><strong>2:23-cv-01495-JHC</strong></figcaption> <p><cite>Image: Federal Trade Commission et al v. Amazon.com Inc</cite></p></div></div><p>The FTC’s lawyers say Bezos, current CEO Andy Jassy, general counsel David Zapolsky, former CEO of worldwide operations Dave Clark, and other execs are all Signal users. Bezos is identified in the document as “a heavy Signal user” who instructed others to use the app, although <a href="https://www.theverge.com/2020/1/23/21078828/report-saudi-arabia-hack-jeff-bezos-phone-fti-consulting">the 2018 hacking of his personal cellphone</a> may be part of the reason for that.</p><p>And because Amazon didn’t instruct employees to preserve messages sent in the app until more than 15 months after it was notified of the investigation, the FTC argues, “It is highly likely that relevant information has been&nbsp;destroyed as a result of Amazon’s actions and inactions.” </p><p>The FTC lawyers are pursuing discovery into Amazon’s efforts to preserve documents so they can figure out just how much information might be missing. Despite requests last fall for relevant documents about what advice Amazon gave to employees about ephemeral apps, the FTC claims that Amazon has so far refused to produce much of what was requested. If the judge finds that Amazon was negligent in failing to preserve data tied to the case, it could face sanctions, and things could get worse if the judge finds the failures <a href="https://www.theverge.com/2023/12/1/23984902/judge-james-donato-investigate-google">were intentional</a>.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Keep Out – WebGL Game (408 pts)]]></title>
            <link>http://www.playkeepout.com/</link>
            <guid>40182868</guid>
            <pubDate>Sat, 27 Apr 2024 19:49:10 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="http://www.playkeepout.com/">http://www.playkeepout.com/</a>, See on <a href="https://news.ycombinator.com/item?id=40182868">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Let's Think Dot by Dot: Hidden Computation in Transformer Language Models (145 pts)]]></title>
            <link>https://arxiv.org/abs/2404.15758</link>
            <guid>40182695</guid>
            <pubDate>Sat, 27 Apr 2024 19:28:26 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arxiv.org/abs/2404.15758">https://arxiv.org/abs/2404.15758</a>, See on <a href="https://news.ycombinator.com/item?id=40182695">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content-inner">
    
    
                
    <p><a href="https://arxiv.org/pdf/2404.15758">View PDF</a>
    <a href="https://arxiv.org/html/2404.15758v1">HTML (experimental)</a></p><blockquote>
            <span>Abstract:</span>Chain-of-thought responses from language models improve performance across most benchmarks. However, it remains unclear to what extent these performance gains can be attributed to human-like task decomposition or simply the greater computation that additional tokens allow. We show that transformers can use meaningless filler tokens (e.g., '......') in place of a chain of thought to solve two hard algorithmic tasks they could not solve when responding without intermediate tokens. However, we find empirically that learning to use filler tokens is difficult and requires specific, dense supervision to converge. We also provide a theoretical characterization of the class of problems where filler tokens are useful in terms of the quantifier depth of a first-order formula. For problems satisfying this characterization, chain-of-thought tokens need not provide information about the intermediate computational steps involved in multi-token computations. In summary, our results show that additional tokens can provide computational benefits independent of token choice. The fact that intermediate tokens can act as filler tokens raises concerns about large language models engaging in unauditable, hidden computations that are increasingly detached from the observed chain-of-thought tokens.
    </blockquote>

    <!--CONTEXT-->
    
  </div><div>
      <h2>Submission history</h2><p> From: Jacob Pfau [<a href="https://arxiv.org/show-email/c3bd8485/2404.15758">view email</a>]      <br>    <strong>[v1]</strong>
        Wed, 24 Apr 2024 09:30:00 UTC (579 KB)<br>
</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[How I stopped worrying and loved Makefiles (174 pts)]]></title>
            <link>https://gagor.pro/2024/02/how-i-stopped-worrying-and-loved-makefiles/</link>
            <guid>40182555</guid>
            <pubDate>Sat, 27 Apr 2024 19:09:00 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://gagor.pro/2024/02/how-i-stopped-worrying-and-loved-makefiles/">https://gagor.pro/2024/02/how-i-stopped-worrying-and-loved-makefiles/</a>, See on <a href="https://news.ycombinator.com/item?id=40182555">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>When I was invited for my first job interview in the IT, I’ve been asked such question:</p><blockquote><p>How would you typically build a program from sources, what commands will you use?</p></blockquote><p>I answered:</p><blockquote><p>It’s obvious:</p><div><pre tabindex="0"><code data-lang="fallback"><span><span>./configure
</span></span><span><span>make
</span></span><span><span>make install
</span></span></code></pre></div></blockquote><p>Those times belong to the past now and nowadays not many programmers use GNU Make<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup>. Try asking this question and you will see disgust at best.</p><p>For many it’s the fist contact with <code>make</code> and often the last one, but not for me 😉</p><h2 id="what-make-does">What <code>make</code> does?</h2><p>Let build a base line. <code>make</code> orchestrates tasks based on dependencies, executing commands to generate target files and keep them up to date efficiently. It streamlines software compilation and project management.</p><p>As simple as it is, it does few things pretty well:</p><ul><li>detects changes in files (source -&gt; binary),</li><li>manages dependencies,</li><li>manages default values for variables much easier than Bash,</li><li>allows to build in parallel,</li><li>OS detection,</li><li>on my system binary is only 16kB in size,</li><li>is available on any OS,</li><li>and much more!</li></ul><h2 id="my-second-contact-with-make---postfix">My second contact with make - Postfix</h2><p>The second non obvious use of <code>make</code> I stood, was the way to refresh Postfix’s map files. With Postfix servers, you’ve been usually writing a bunch of text files like <code>aliases</code>, <code>transports</code>, etc, which have to be indexed to the binary Berkley DB format.</p><div><pre tabindex="0"><code data-lang="fallback"><span><span>alias_maps = hash:/etc/postfix/aliases
</span></span></code></pre></div><p>To “generate” Berkley DB file you have to run:</p><div><p>Generate aliases database</p></div><p>Which was producing <code>aliases.db</code> file. Other types of files required to use <code>postmap</code> command to generate them.</p><p>The more complicated the Postfix configuration, the more files you had. If you missed to update one of map files, your configuration wasn’t effective and you could spend hours debugging: why this f… alias do not work?</p><p>That’s where <code>make</code> comes handy <sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup>. You can just drop the file like this:</p><div><pre tabindex="0"><code data-lang="Makefile"><span><span><span>.PHONY</span><span>:</span> reload
</span></span><span><span>
</span></span><span><span><span>all</span><span>:</span> aliases.db access.db virtual.db reload
</span></span><span><span>
</span></span><span><span><span>aliases.db</span><span>:</span> aliases
</span></span><span><span>    postalias aliases
</span></span><span><span>
</span></span><span><span><span>access.db</span><span>:</span> access
</span></span><span><span>    postmap access
</span></span><span><span>
</span></span><span><span><span>virtual.db</span><span>:</span> virtual
</span></span><span><span>    postmap virtual
</span></span><span><span>
</span></span><span><span><span>reload</span><span>:</span>
</span></span><span><span>    postfix reload
</span></span></code></pre></div><p>Let me explain what happens here.</p><ol><li><p><code>.PHONY: reload</code>: This line declares the target <code>reload</code> as a phony target <sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup>. Phony targets are ones that do not represent actual files. This is typically used for targets that don’t produce output files, such as clean, all, etc. It ensures that even if a file named <code>reload</code> exists in the directory, the <code>reload</code> target will still be executed.</p></li><li><p><code>all: aliases.db access.db virtual.db reload</code>: This line specifies that when you run <code>make all</code>, it will generate the files <code>aliases.db</code>, <code>access.db</code>, and <code>virtual.db</code>, and then execute the <code>reload</code> target. As <code>all</code> target is the default, it’s enough to just run <code>make</code>.</p></li><li><p><code>aliases.db: aliases</code>: This line specifies that <code>aliases.db</code> depends on the file <code>aliases</code>. If <code>aliases</code> file is newer than <code>aliases.db</code> or <code>aliases.db</code> doesn’t exist, the commands listed below will be executed.</p></li><li><p><code>postalias aliases</code>: This line is the command to generate the <code>aliases.db</code> file from the <code>aliases</code> file using the <code>postalias</code> command. <code>postalias</code> is a command used in Postfix to create or update the alias database.</p></li><li><p>Similarly, <code>access.db: access</code> and <code>virtual.db: virtual</code> are rules to generate <code>access.db</code> and <code>virtual.db</code> files from <code>access</code> and <code>virtual</code> files respectively using the <code>postmap</code> command.</p></li><li><p><code>reload:</code>: This line declares the <code>reload</code> target. When you run <code>make reload</code>, it will execute the command listed below.</p></li><li><p><code>postfix reload</code>: This line is the command to reload the Postfix service. It tells Postfix to reload its configuration, applying any changes that may have been made.</p></li></ol><p>Summing up, when you run <code>make</code>, it will generate or update the necessary database files for Postfix configuration (<code>aliases.db</code>, <code>access.db</code>, <code>virtual.db</code>) and then reload the Postfix service.</p><p>Now you won’t make mistakes again.</p><p>I know that today many of you would say: “just use Ansible dude!” But at that time, there was no Ansible yet. I didn’t use this pattern for years now, so let check more up to date usage examples.</p><h2 id="use-of-make-in-python-projects">Use of <code>make</code> in Python projects</h2><p>I love Python for it’s simplicity… at least when it comes to coding, because when you start managing dependencies, it’s getting tricky. What do you use: raw <code>dependencies.txt</code> or rather <a href="https://python-poetry.org/" target="_blank">Poetry<span> <svg style="height:.7em;width:.7em" focusable="false" data-prefix="fas" data-icon="external-link-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><title>external link</title><path fill="currentcolor" d="M432 320H4e2a16 16 0 00-16 16V448H64V128H208a16 16 0 0016-16V80a16 16 0 00-16-16H48A48 48 0 000 112V464a48 48 0 0048 48H4e2a48 48 0 0048-48V336a16 16 0 00-16-16zM488 0H360c-21.37.0-32.05 25.91-17 41l35.73 35.73L135 320.37a24 24 0 000 34L157.67 377a24 24 0 0034 0L435.28 133.32 471 169c15 15 41 4.5 41-17V24A24 24 0 00488 0z"></path></svg></span> </a>or <a href="https://pipenv.pypa.io/en/latest/" target="_blank">Pipenv<span> <svg style="height:.7em;width:.7em" focusable="false" data-prefix="fas" data-icon="external-link-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><title>external link</title><path fill="currentcolor" d="M432 320H4e2a16 16 0 00-16 16V448H64V128H208a16 16 0 0016-16V80a16 16 0 00-16-16H48A48 48 0 000 112V464a48 48 0 0048 48H4e2a48 48 0 0048-48V336a16 16 0 00-16-16zM488 0H360c-21.37.0-32.05 25.91-17 41l35.73 35.73L135 320.37a24 24 0 000 34L157.67 377a24 24 0 0034 0L435.28 133.32 471 169c15 15 41 4.5 41-17V24A24 24 0 00488 0z"></path></svg></span> </a>? Do you use system Python or maybe <a href="https://github.com/pyenv/pyenv" target="_blank"><code>pyenv</code><span> <svg style="height:.7em;width:.7em" focusable="false" data-prefix="fas" data-icon="external-link-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><title>external link</title><path fill="currentcolor" d="M432 320H4e2a16 16 0 00-16 16V448H64V128H208a16 16 0 0016-16V80a16 16 0 00-16-16H48A48 48 0 000 112V464a48 48 0 0048 48H4e2a48 48 0 0048-48V336a16 16 0 00-16-16zM488 0H360c-21.37.0-32.05 25.91-17 41l35.73 35.73L135 320.37a24 24 0 000 34L157.67 377a24 24 0 0034 0L435.28 133.32 471 169c15 15 41 4.5 41-17V24A24 24 0 00488 0z"></path></svg></span> </a>?</p><p>My answer: it depends 😃</p><p>For simple projects, I usually just use <code>pip</code>. Sometimes even without <code>requirements.txt</code> files, just listing in the README what to install. But the more projects I wrote, the harder it is to remember how to test them. Again, that’s where Make comes handy.</p><div><div><p>Simple Makefile for Python projects</p></div><div><pre tabindex="0"><code data-lang="Makefile"><span><span><span>.PHONY</span><span>:</span> requirements test
</span></span><span><span>
</span></span><span><span><span>.venv</span><span>:</span>
</span></span><span><span>    python3 -m venv .venv
</span></span><span><span>
</span></span><span><span><span>requirements</span><span>:</span>
</span></span><span><span>    source .venv/bin/activate <span>&amp;&amp;</span> <span>\
</span></span></span><span><span><span></span>        python3 -m pip install -r requirements.txt <span>&amp;&amp;</span> <span>\
</span></span></span><span><span><span></span>        python3 -m pip install pytest
</span></span><span><span>
</span></span><span><span><span>test</span><span>:</span> .venv requirements dev-requirements
</span></span><span><span>    source .venv/bin/activate <span>&amp;&amp;</span> <span>\
</span></span></span><span><span><span></span>        pytest
</span></span></code></pre></div></div><p>What happens here?</p><ol><li><p><code>.PHONY: requirements test</code>: Declares <code>requirements</code> and <code>test</code> as phony targets to ensure they are always executed regardless of file existence.</p></li><li><p><code>.venv:</code>: Creates a Python virtual environment named <code>.venv</code> if it doesn’t already exist.</p></li><li><p><code>requirements:</code>: Installs Python packages listed in <code>requirements.txt</code> into the virtual environment created earlier. Additionally, it installs the <code>pytest</code> package globally.</p></li><li><p><code>test: .venv requirements dev-requirements</code>: Sets up dependencies for testing, including the virtual environment and specified requirements. Then, it activates the virtual environment and runs the tests using <code>pytest</code>.</p></li></ol><p>Alternative config for Poetry, might look more or less like that:</p><div><div><p>Simple Makefile for Python projects</p></div><div><pre tabindex="0"><code data-lang="Makefile"><span><span><span>.PHONY</span><span>:</span> requirements test
</span></span><span><span>
</span></span><span><span><span>requirements</span><span>:</span>
</span></span><span><span>    poetry install
</span></span><span><span>
</span></span><span><span><span>test</span><span>:</span> requirements
</span></span><span><span>    poetry run pytest
</span></span></code></pre></div></div><p>When I see <code>Makefile</code> in a Python project, I can blindly run <code>make test</code> and it will do what I expect -&gt; run tests. Whatever it requires to configure or run, it will just happen.</p><h2 id="make-in-terraform-projects"><code>make</code> in Terraform projects</h2><p>Similar situation to Python, I have with <a href="https://www.terraform.io/" target="_blank">Terraform<span> <svg style="height:.7em;width:.7em" focusable="false" data-prefix="fas" data-icon="external-link-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><title>external link</title><path fill="currentcolor" d="M432 320H4e2a16 16 0 00-16 16V448H64V128H208a16 16 0 0016-16V80a16 16 0 00-16-16H48A48 48 0 000 112V464a48 48 0 0048 48H4e2a48 48 0 0048-48V336a16 16 0 00-16-16zM488 0H360c-21.37.0-32.05 25.91-17 41l35.73 35.73L135 320.37a24 24 0 000 34L157.67 377a24 24 0 0034 0L435.28 133.32 471 169c15 15 41 4.5 41-17V24A24 24 0 00488 0z"></path></svg></span> </a>projects. In simple project you just need:</p><div><pre tabindex="0"><code data-lang="bash"><span><span>terraform init
</span></span><span><span>terraform plan
</span></span><span><span>terraform apply
</span></span></code></pre></div><p>But what if you use different accounts for PROD and DEV environments? What if you need to fetch latest version of modules?</p><p>I have a <code>Makefile</code> for this too.</p><div><pre tabindex="0"><code data-lang="Makefile"><span><span><span>.PHONY</span><span>:</span> init
</span></span><span><span>SHELL<span>=</span>/bin/bash
</span></span><span><span>
</span></span><span><span><span># those variables you should initialize outside of this script
</span></span></span><span><span><span># and export, Make will just set then based on what you will
</span></span></span><span><span><span># have set in your environment. You can use for eg. `aws sts`
</span></span></span><span><span><span></span>AWS_ACCESS_KEY_ID <span>?=</span>
</span></span><span><span>AWS_SECRET_ACCESS_KEY <span>?=</span>
</span></span><span><span>AWS_REGION <span>?=</span> <span>"us-west-2"</span>
</span></span><span><span>
</span></span><span><span><span># dev by default
</span></span></span><span><span><span></span>ENVIRONMENT <span>?=</span> dev
</span></span><span><span>STATE_FILE_BUCKET <span>?=</span> s3-bucket-<span>$(</span>AWS_ACCESS_KEY_ID<span>)</span>-<span>$(</span>ENVIRONMENT<span>)</span>-terraform-state
</span></span><span><span>STATE_FILE_KEY <span>?=</span> state/some_service/<span>$(</span>ENVIRONMENT<span>)</span>/terraform.tfstate
</span></span><span><span>
</span></span><span><span><span># make some variable available in Terraform
</span></span></span><span><span><span></span><span>export </span>TF_VAR_something <span>?=</span> something1
</span></span><span><span><span>export </span>TF_VAR_something_else <span>?=</span> something-else
</span></span><span><span>
</span></span><span><span><span>.terraform</span><span>:</span>
</span></span><span><span>    terraform init <span>\
</span></span></span><span><span><span></span>		-reconfigure <span>\
</span></span></span><span><span><span></span>		-backend-config<span>=</span><span>'key=$(STATE_FILE_KEY)'</span> <span>\
</span></span></span><span><span><span></span>		-backend-config<span>=</span><span>'bucket=$(STATE_FILE_BUCKET)'</span> <span>\
</span></span></span><span><span><span></span>		-var-file<span>=</span>environments/<span>$(</span>ENVIRONMENT<span>)</span>/variables.tfvars <span>\
</span></span></span><span><span><span></span>		-out terraform.plan
</span></span><span><span>
</span></span><span><span>	terraform get
</span></span><span><span>
</span></span><span><span><span># this will switch Terraform version to the one that your project needs
</span></span></span><span><span><span># https://github.com/tfutils/tfenv
</span></span></span><span><span><span></span><span>init</span><span>:</span> .terraform
</span></span><span><span>	tfenv install
</span></span><span><span>
</span></span><span><span><span>plan</span><span>:</span> init
</span></span><span><span>    terraform plan
</span></span><span><span>
</span></span><span><span><span>apply</span><span>:</span> plan
</span></span><span><span>    terraform apply <span>\
</span></span></span><span><span><span></span>		-auto-approve <span>\
</span></span></span><span><span><span></span>		terraform.plan
</span></span><span><span>
</span></span><span><span><span>destroy</span><span>:</span>
</span></span><span><span>    terraform destroy <span>\
</span></span></span><span><span><span></span>		-auto-approve <span>\
</span></span></span><span><span><span></span>		-var-file<span>=</span>environments/<span>$(</span>ENVIRONMENT<span>)</span>/variables.tfvars
</span></span><span><span>
</span></span><span><span><span>dev-plan</span><span>:</span> export AWS_ACCESS_KEY_ID=dev-key
</span></span><span><span><span>dev-plan</span><span>:</span> plan
</span></span><span><span>
</span></span><span><span><span>dev-apply</span><span>:</span> export AWS_ACCESS_KEY_ID=dev-key
</span></span><span><span><span>dev-apply</span><span>:</span> apply
</span></span><span><span>
</span></span><span><span><span>dev-destroy</span><span>:</span> export AWS_ACCESS_KEY_ID=dev-key
</span></span><span><span><span>dev-destroy</span><span>:</span> destroy
</span></span><span><span>
</span></span><span><span><span>prod-plan</span><span>:</span> export AWS_ACCESS_KEY_ID=prod-key
</span></span><span><span><span>prod-plan</span><span>:</span> plan
</span></span><span><span>
</span></span><span><span><span>prod-apply</span><span>:</span> export AWS_ACCESS_KEY_ID=prod-key
</span></span><span><span><span>prod-apply</span><span>:</span> apply
</span></span><span><span>
</span></span><span><span><span>clean</span><span>:</span>
</span></span><span><span>    @rm -rf .terraform/modules
</span></span><span><span>    @rm -f terraform.*
</span></span></code></pre></div><p>This file expects a directory structure like</p><div><pre tabindex="0"><code data-lang="bash"><span><span>$ tree example/
</span></span><span><span>.
</span></span><span><span>├── main.tf
</span></span><span><span>├── variables.tf
</span></span><span><span>├── provider.tf
</span></span><span><span>├── backend.tf
</span></span><span><span>├── outputs.tf
</span></span><span><span>├── ...
</span></span><span><span>├── environments/
</span></span><span><span>│   ├── dev
</span></span><span><span>│   │   ├── variables.tfars
</span></span><span><span>│   ├── prod/
</span></span><span><span>│   │   ├── variables.tfars
</span></span><span><span>│   ├── .../
</span></span></code></pre></div><p>Backends configuration in the <code>backend.tf</code> file can be just basic:</p><div><pre tabindex="0"><code data-lang="terraform"><span><span><span>terraform</span> {
</span></span><span><span>	<span>backend</span> <span>"s3"</span> {
</span></span><span><span>		<span>region</span> = <span>"us-west-2"</span>
</span></span><span><span>		<span>encrypt</span> = <span>true</span>
</span></span><span><span>	}
</span></span><span><span>}
</span></span></code></pre></div><p>Rest of parameters are provided in the Makefile - it’s called partial backend configuration<sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup>. This configuration allows me to use same codebase for all the environments. All customizations have to be listed as variables in <code>variables.tfvars</code> files. It can be easily extended to suport 4 or 6 environments and the only think I need to remember is:</p><div><pre tabindex="0"><code data-lang="bash"><span><span>make dev-plan
</span></span><span><span>make dev-apply
</span></span></code></pre></div><h2 id="make-for-hugo-blogging"><code>make</code> for Hugo blogging</h2><p>Even for blogging with Hugo I have a <code>Makefile</code><sup id="fnref:5"><a href="#fn:5" role="doc-noteref">5</a></sup> that I use across multiple sites. It’s simplifying some of the steps, that I won’t need to remember them.</p><div><pre tabindex="0"><code data-lang="Makefile"><span><span>BASEDIR<span>=</span><span>$(</span>CURDIR<span>)</span>
</span></span><span><span>INPUTDIR<span>=</span><span>$(</span>BASEDIR<span>)</span>/content
</span></span><span><span>STATICDIR<span>=</span><span>$(</span>BASEDIR<span>)</span>/static
</span></span><span><span>OUTPUTDIR<span>=</span><span>$(</span>BASEDIR<span>)</span>/public
</span></span><span><span>RESOURCESDIR<span>=</span><span>$(</span>BASEDIR<span>)</span>/resources
</span></span><span><span>PORT<span>=</span><span>1313</span>
</span></span><span><span>
</span></span><span><span>FTP_HOST<span>=</span>localhost
</span></span><span><span>FTP_USER<span>=</span>anonymous
</span></span><span><span>FTP_TARGET_DIR<span>=</span>/
</span></span><span><span>
</span></span><span><span>SSH_HOST<span>=</span>vc1
</span></span><span><span>SSH_PORT<span>=</span><span>22</span>
</span></span><span><span>SSH_USER<span>=</span>root
</span></span><span><span>SSH_TARGET_DIR<span>=</span>/var/www/hugo
</span></span><span><span>SSH_CHOWN<span>=</span>33:33
</span></span><span><span>
</span></span><span><span>S3_BUCKET<span>=</span>my_s3_bucket
</span></span><span><span>
</span></span><span><span>CLOUDFILES_USERNAME<span>=</span>my_rackspace_username
</span></span><span><span>CLOUDFILES_API_KEY<span>=</span>my_rackspace_api_key
</span></span><span><span>CLOUDFILES_CONTAINER<span>=</span>my_cloudfiles_container
</span></span><span><span>
</span></span><span><span>DROPBOX_DIR<span>=</span>~/Dropbox/Public/
</span></span><span><span>
</span></span><span><span>GITHUB_PAGES_BRANCH<span>=</span>gh-pages
</span></span><span><span>
</span></span><span><span><span>all</span><span>:</span> html
</span></span><span><span>
</span></span><span><span><span>publish</span><span>:</span> html gzip_static rsync_upload
</span></span><span><span>
</span></span><span><span><span>help</span><span>:</span>
</span></span><span><span>	@echo <span>'Makefile for a hugo Web site                                              '</span>
</span></span><span><span>	@echo <span>'                                                                          '</span>
</span></span><span><span>	@echo <span>'Usage:                                                                    '</span>
</span></span><span><span>	@echo <span>'   make html                           (re)generate the web site          '</span>
</span></span><span><span>	@echo <span>'   make clean                          remove the generated files         '</span>
</span></span><span><span>	@echo <span>'   make publish                        generate using production settings '</span>
</span></span><span><span>	@echo <span>'   make server [PORT=1313]             serve site at http://localhost:1313'</span>
</span></span><span><span>	@echo <span>'   make ssh_upload                     upload the web site via SSH        '</span>
</span></span><span><span>	@echo <span>'   make rsync_upload                   upload the web site via rsync+ssh  '</span>
</span></span><span><span>	@echo <span>'   make dropbox_upload                 upload the web site via Dropbox    '</span>
</span></span><span><span>	@echo <span>'   make ftp_upload                     upload the web site via FTP        '</span>
</span></span><span><span>	@echo <span>'   make s3_upload                      upload the web site via S3         '</span>
</span></span><span><span>	@echo <span>'   make cf_upload                      upload the web site via Cloud Files'</span>
</span></span><span><span>	@echo <span>'   make github                         upload the web site via gh-pages   '</span>
</span></span><span><span>	@echo <span>'                                                                          '</span>
</span></span><span><span>
</span></span><span><span><span>html</span><span>:</span> clean
</span></span><span><span>	hugo --minify
</span></span><span><span>
</span></span><span><span><span>clean</span><span>:</span>
</span></span><span><span>	<span>[</span> ! -d <span>$(</span>OUTPUTDIR<span>)</span> <span>]</span> <span>||</span> rm -rf <span>$(</span>OUTPUTDIR<span>)</span> <span>&amp;&amp;</span> mkdir -p <span>$(</span>OUTPUTDIR<span>)</span> <span>&amp;&amp;</span> touch <span>$(</span>OUTPUTDIR<span>)</span>/.placeholder
</span></span><span><span>	rm -rf <span>$(</span>RESOURCESDIR<span>)</span>
</span></span><span><span>
</span></span><span><span><span>server</span><span>:</span>
</span></span><span><span><span>ifdef</span> <span>PORT</span>
</span></span><span><span>	<span>hugo</span> <span>server</span> <span>-D</span> <span>-p</span> <span>$(</span>PORT<span>)</span> <span>--disableFastRender</span> <span>--buildExpired</span> <span>--buildFuture</span>
</span></span><span><span><span>else</span>
</span></span><span><span>	<span>hugo</span> <span>server</span> <span>-D</span> <span>--disableFastRender</span> <span>--buildExpired</span> <span>--buildFuture</span>
</span></span><span><span><span>endif</span>
</span></span><span><span>
</span></span><span><span><span>generate</span><span>:</span> clean
</span></span><span><span>	cd <span>$(</span>BASEDIR<span>)</span>; hugo
</span></span><span><span>
</span></span><span><span><span>check_urls</span><span>:</span>
</span></span><span><span>	@cd /tmp; wget -r --spider http://localhost:<span>$(</span>PORT<span>)</span> 2&gt;&amp;<span>1</span> | grep -B <span>2</span> <span>"404 Not Found"</span> | grep http:// | cut -d <span>" "</span> -f <span>4</span> | sort -u
</span></span><span><span>
</span></span><span><span><span>markdownlint</span><span>:</span>
</span></span><span><span>	@docker run --rm -ti -v <span>${</span>PWD<span>}</span>:/data:ro markdownlint/markdownlint content
</span></span><span><span>
</span></span><span><span><span>gzip_static</span><span>:</span>
</span></span><span><span>	<span>for</span> pattern in <span>"*.js"</span> <span>"*.json"</span> <span>"*.css"</span> <span>"*.htm"</span> <span>"*.html"</span> <span>"*.xml"</span>; <span>do</span> <span>\
</span></span></span><span><span><span></span>		find <span>$(</span>OUTPUTDIR<span>)</span> -iname $$pattern -print0 | xargs -0 -I<span>'{}'</span> sh -c <span>'gzip -c9 "{}" &gt; "{}.gz" &amp;&amp; touch -r "{}" "{}.gz"'</span>; <span>\
</span></span></span><span><span><span></span>	<span>done</span>
</span></span><span><span>
</span></span><span><span><span>optimize_images</span><span>:</span>
</span></span><span><span>	find <span>$(</span>STATICDIR<span>)</span> -mtime -7 -iname *.png -print | parallel optipng -quiet -preserve -o7
</span></span><span><span>	find <span>$(</span>INPUTDIR<span>)</span>  -mtime -7 -iname *.png -print | parallel optipng -quiet -preserve -o7
</span></span><span><span>	find <span>$(</span>STATICDIR<span>)</span> -mtime -7 -iname *.jpg -print | parallel jpegtran -optimize -progressive -copy none -outfile <span>"{}"</span> <span>"{}"</span>
</span></span><span><span>	find <span>$(</span>INPUTDIR<span>)</span>  -mtime -7 -iname *.jpg -print | parallel jpegtran -optimize -progressive -copy none -outfile <span>"{}"</span> <span>"{}"</span>
</span></span><span><span>
</span></span><span><span><span>ssh_upload</span><span>:</span> generate
</span></span><span><span>	scp -P <span>$(</span>SSH_PORT<span>)</span> -r <span>$(</span>OUTPUTDIR<span>)</span>/* <span>$(</span>SSH_USER<span>)</span>@<span>$(</span>SSH_HOST<span>)</span>:<span>$(</span>SSH_TARGET_DIR<span>)</span>
</span></span><span><span>
</span></span><span><span><span>rsync_upload</span><span>:</span> generate gzip_static
</span></span><span><span><span>ifdef</span> <span>SSH_CHOWN</span>
</span></span><span><span>	<span>rsync -e "ssh -p $(SSH_PORT)" -P -avh --delete $(OUTPUTDIR)/ $(SSH_USER)@$(SSH_HOST)</span><span>:</span><span>$(</span>SSH_TARGET_DIR<span>)</span> --chown <span>$(</span>SSH_CHOWN<span>)</span>
</span></span><span><span><span>else</span>
</span></span><span><span>	<span>rsync -e "ssh -p $(SSH_PORT)" -P -avh --delete $(OUTPUTDIR)/ $(SSH_USER)@$(SSH_HOST)</span><span>:</span><span>$(</span>SSH_TARGET_DIR<span>)</span>
</span></span><span><span><span>endif</span>
</span></span><span><span>
</span></span><span><span><span>dropbox_upload</span><span>:</span> generate
</span></span><span><span>	cp -r <span>$(</span>OUTPUTDIR<span>)</span>/* <span>$(</span>DROPBOX_DIR<span>)</span>
</span></span><span><span>
</span></span><span><span><span>ftp_upload</span><span>:</span> generate
</span></span><span><span>	lftp ftp://<span>$(</span>FTP_USER<span>)</span>@<span>$(</span>FTP_HOST<span>)</span> -e <span>"mirror -R </span><span>$(</span>OUTPUTDIR<span>)</span><span> </span><span>$(</span>FTP_TARGET_DIR<span>)</span><span> ; quit"</span>
</span></span><span><span>
</span></span><span><span><span>s3_upload</span><span>:</span> generate
</span></span><span><span>	s3cmd sync <span>$(</span>OUTPUTDIR<span>)</span>/ s3://<span>$(</span>S3_BUCKET<span>)</span> --acl-public --delete-removed --guess-mime-type
</span></span><span><span>
</span></span><span><span><span>cf_upload</span><span>:</span> generate
</span></span><span><span>	cd <span>$(</span>OUTPUTDIR<span>)</span> <span>&amp;&amp;</span> swift -v -A https://auth.api.rackspacecloud.com/v1.0 -U <span>$(</span>CLOUDFILES_USERNAME<span>)</span> -K <span>$(</span>CLOUDFILES_API_KEY<span>)</span> upload -c <span>$(</span>CLOUDFILES_CONTAINER<span>)</span> .
</span></span><span><span>
</span></span><span><span><span>github</span><span>:</span> generate
</span></span><span><span>	<span># ghp-import -m "Generate Hugo site" -b $(GITHUB_PAGES_BRANCH) $(OUTPUTDIR)</span>
</span></span><span><span>	<span># git push origin $(GITHUB_PAGES_BRANCH)</span>
</span></span><span><span>	cd <span>$(</span>OUTPUTDIR<span>)</span>
</span></span><span><span>	git add --all
</span></span><span><span>	git commit -m <span>"Update"</span>
</span></span><span><span>	git push
</span></span><span><span>
</span></span><span><span><span>.PHONY</span><span>:</span> all html help clean generate server ssh_upload rsync_upload dropbox_upload ftp_upload s3_upload cf_upload github
</span></span></code></pre></div><p>This Makefile is actually <a href="https://github.com/getpelican/pelican-blog/blob/main/Makefile" target="_blank">an extension<span> <svg style="height:.7em;width:.7em" focusable="false" data-prefix="fas" data-icon="external-link-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><title>external link</title><path fill="currentcolor" d="M432 320H4e2a16 16 0 00-16 16V448H64V128H208a16 16 0 0016-16V80a16 16 0 00-16-16H48A48 48 0 000 112V464a48 48 0 0048 48H4e2a48 48 0 0048-48V336a16 16 0 00-16-16zM488 0H360c-21.37.0-32.05 25.91-17 41l35.73 35.73L135 320.37a24 24 0 000 34L157.67 377a24 24 0 0034 0L435.28 133.32 471 169c15 15 41 4.5 41-17V24A24 24 0 00488 0z"></path></svg></span> </a>of one dedicated <a href="https://getpelican.com/" target="_blank">Pelican<span> <svg style="height:.7em;width:.7em" focusable="false" data-prefix="fas" data-icon="external-link-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><title>external link</title><path fill="currentcolor" d="M432 320H4e2a16 16 0 00-16 16V448H64V128H208a16 16 0 0016-16V80a16 16 0 00-16-16H48A48 48 0 000 112V464a48 48 0 0048 48H4e2a48 48 0 0048-48V336a16 16 0 00-16-16zM488 0H360c-21.37.0-32.05 25.91-17 41l35.73 35.73L135 320.37a24 24 0 000 34L157.67 377a24 24 0 0034 0L435.28 133.32 471 169c15 15 41 4.5 41-17V24A24 24 0 00488 0z"></path></svg></span> </a>static page generator</p><h2 id="summary">Summary</h2><p>There are many creative ways to use <code>Makefiles</code> to automate and simplify daily tasks. Tool is small and simple, available on any platform (even on Windows via WSL or <a href="https://www.cygwin.com/" target="_blank">Cygwin<span> <svg style="height:.7em;width:.7em" focusable="false" data-prefix="fas" data-icon="external-link-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><title>external link</title><path fill="currentcolor" d="M432 320H4e2a16 16 0 00-16 16V448H64V128H208a16 16 0 0016-16V80a16 16 0 00-16-16H48A48 48 0 000 112V464a48 48 0 0048 48H4e2a48 48 0 0048-48V336a16 16 0 00-16-16zM488 0H360c-21.37.0-32.05 25.91-17 41l35.73 35.73L135 320.37a24 24 0 000 34L157.67 377a24 24 0 0034 0L435.28 133.32 471 169c15 15 41 4.5 41-17V24A24 24 0 00488 0z"></path></svg></span> </a>). Many of my colleagues considered this tool an “old school” or “obsolete” initially, but they eventually fall under impression of the recipes simplicity and now just replicate them all around.</p><p>I hope, I will also impress you 😉 Good luck and happy automating!</p><hr><p>Enjoyed?
<a href="https://ko-fi.com/tgagor" target="_blank"><img height="36" src="https://storage.ko-fi.com/cdn/kofi5.png?v=3" alt="Buy Me a Coffee at ko-fi.com"></a></p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Claiming high user satisfaction, IRS will decide on renewing free tax site (224 pts)]]></title>
            <link>https://www.washingtonpost.com/business/2024/04/26/irs-direct-file/</link>
            <guid>40182271</guid>
            <pubDate>Sat, 27 Apr 2024 18:30:19 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.washingtonpost.com/business/2024/04/26/irs-direct-file/">https://www.washingtonpost.com/business/2024/04/26/irs-direct-file/</a>, See on <a href="https://news.ycombinator.com/item?id=40182271">Hacker News</a></p>
Couldn't get https://www.washingtonpost.com/business/2024/04/26/irs-direct-file/: Error: timeout of 10000ms exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[VMware outsourcing their support (106 pts)]]></title>
            <link>https://rubenerd.com/vmware-outsourcing-their-support/</link>
            <guid>40182251</guid>
            <pubDate>Sat, 27 Apr 2024 18:27:13 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://rubenerd.com/vmware-outsourcing-their-support/">https://rubenerd.com/vmware-outsourcing-their-support/</a>, See on <a href="https://news.ycombinator.com/item?id=40182251">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<p>Poor VMware. I refer to them as the Brussels sprout of enterprise IT; constantly shifted around the plate between new owners, never seeming to land anywhere good. Their current owners Broadcom haven’t exactly endeared themselves to the industry or their customers, as any quick web or social media search will uncover.</p>
<p>The latest chapter in this never-ending adventure came in the form of an email update regarding support contracts:</p>
<blockquote>
<p>Globally at Broadcom, we have solidified strategic partnerships with a select list of distributors by geography to deliver support on behalf of Broadcom.</p>
</blockquote>
<p>Whenever an email starts with “Here at $COMPANY, we have…”, you know it won’t be good.</p>
<blockquote>
<p>This message is to officially notify you of this change and that, depending upon the products you purchased, your technical support provider for VMware by Broadcom products may change from the Broadcom Support Center to one of our Authorized Distributor’s Technical Support Centers during the 2024 calendar year.</p>
</blockquote>
<p>That’s right, they’re not even offering their own support anymore. There’s also no mention of who these “select list of distributors” are, though later in the email they detail that we’ll continue to receive support through the same portal as before.</p>
<p>A charitable read of this would be that they’re being transparent about who’s handing these support requests. Theoretically, you could imagine them palming off requests to their distributors behind that support portal, and not telling us about it. But the GDPR and CCPA would probably nip that in the bud.</p>
<p>We run VMware for some legacy workloads at work, or for those that require VMware for certification. Aka, things we can’t migrate to our Xen-based platform. Our clients understand it’s not us hiking their licencing costs and enshittifying their support, but it’s still not a fun conversation to have several times a week. I’d rather talk about this cool new feature or integration their platform supports. You know, tech stuff.</p>
<p>Their support already wasn’t great; we end up dealing with many questions ourselves because we’re able to diagnose and resolve issues faster than their escalation process can handle. This isn’t ideal for something you pay licencing for at least in part so you can receive that support in the first place. It’s also a dramatic fall from grace for a business a decade ago that used to be halfway decent.</p>
<p>I feel for people stuck working there. If <a href="https://en.wikipedia.org/wiki/Conway's_law">Conway’s Law</a> is to be believed, this external upheaval must reflect some severe internal malaise. <code>#hugops</code> indeed.</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Cognita – open-source RAG framework for modular applications (117 pts)]]></title>
            <link>https://github.com/truefoundry/cognita</link>
            <guid>40181306</guid>
            <pubDate>Sat, 27 Apr 2024 16:40:06 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/truefoundry/cognita">https://github.com/truefoundry/cognita</a>, See on <a href="https://news.ycombinator.com/item?id=40181306">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><h2 tabindex="-1" dir="auto">Cognita</h2><a id="user-content-cognita" aria-label="Permalink: Cognita" href="#cognita"></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/truefoundry/cognita/blob/main/docs/images/readme-banner.png"><img src="https://github.com/truefoundry/cognita/raw/main/docs/images/readme-banner.png" alt="RAG_TF"></a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Why use Cognita?</h2><a id="user-content-why-use-cognita" aria-label="Permalink: Why use Cognita?" href="#why-use-cognita"></a></p>
<p dir="auto">Langchain/LlamaIndex provide easy to use abstractions that can be used for quick experimentation and prototyping on jupyter notebooks. But, when things move to production, there are constraints like the components should be modular, easily scalable and extendable. This is where Cognita comes in action.
Cognita uses Langchain/Llamaindex under the hood and provides an organisation to your codebase, where each of the RAG component is modular, API driven and easily extendible. Cognita can be used easily in a <a href="#rocket-quickstart-running-cognita-locally">local</a> setup, at the same time, offers you a production ready environment along with no-code <a href="https://github.com/truefoundry/cognita/blob/main/frontend/README.md">UI</a> support. Cognita also supports incremental indexing by default.</p>
<p dir="auto">You can try out Cognita at: <a href="https://cognita.truefoundry.com/" rel="nofollow">https://cognita.truefoundry.com</a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/truefoundry/cognita/blob/main/docs/images/RAG-TF.gif"><img src="https://github.com/truefoundry/cognita/raw/main/docs/images/RAG-TF.gif" alt="RAG_TF" data-animated-image=""></a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Contents</h2><a id="user-content-contents" aria-label="Permalink: Contents" href="#contents"></a></p>
<ul dir="auto">
<li><a href="#cognita">Cognita</a>
<ul dir="auto">
<li><a href="#introduction">Introduction</a>
<ul dir="auto">
<li><a href="#advantages-of-using-cognita-are">Advantages of using Cognita are:</a></li>
</ul>
</li>
</ul>
</li>
<li>✨ <a href="#sparkles-getting-started">Getting Started</a></li>
<li>🐍 <a href="#snake-installing-python-and-setting-up-a-virtual-environment">Installing Python and Setting Up a Virtual Environment</a>
<ul dir="auto">
<li><a href="#setting-up-a-virtual-environment">Setting Up a Virtual Environment</a>
<ul dir="auto">
<li><a href="#create-a-virtual-environment">Create a Virtual Environment:</a></li>
<li><a href="#activate-the-virtual-environment">Activate the Virtual Environment:</a></li>
</ul>
</li>
</ul>
</li>
<li>🚀 <a href="#rocket-quickstart-running-cognita-locally">Quickstart: Running Cognita Locally</a>
<ul dir="auto">
<li><a href="#install-necessary-packages">Install necessary packages:</a></li>
<li><a href="#setting-up-env-file">Setting up .env file:</a></li>
<li><a href="#executing-the-code">Executing the Code:</a></li>
</ul>
</li>
<li>🛠️ <a href="#hammer_and_pick-project-architecture">Project Architecture</a>
<ul dir="auto">
<li><a href="#cognita-components">Cognita Components:</a></li>
<li><a href="#data-indexing">Data Indexing:</a></li>
<li>❓<a href="#question-question-answering-using-api-server">Question-Answering using API Server:</a></li>
<li>💻 <a href="#computer-code-structure">Code Structure:</a></li>
<li><a href="#customizing-the-code-for-your-usecase">Customizing the Code for your usecase</a>
<ul dir="auto">
<li><a href="#customizing-dataloaders">Customizing Dataloaders:</a></li>
<li><a href="#customizing-embedder">Customizing Embedder:</a></li>
<li><a href="#customizing-parsers">Customizing Parsers:</a></li>
<li><a href="#adding-custom-vectordb">Adding Custom VectorDB:</a></li>
<li><a href="#rerankers">Rerankers:</a></li>
</ul>
</li>
</ul>
</li>
<li>💡 <a href="#bulb-writing-your-query-controller-qna">Writing your Query Controller (QnA):</a>
<ul dir="auto">
<li><a href="#steps-to-add-your-custom-query-controller">Steps to add your custom Query Controller:</a></li>
</ul>
</li>
<li>🐳 <a href="#whale-quickstart-deployment-with-truefoundry">Quickstart: Deployment with Truefoundry:</a>
<ul dir="auto">
<li><a href="#using-the-rag-ui">Using RAG UI</a></li>
</ul>
</li>
<li>💖 <a href="#sparkling_heart-open-source-contribution">Open Source Contribution</a></li>
<li>🔮 <a href="#crystal_ball-future-developments">Future developments</a></li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Introduction</h2><a id="user-content-introduction" aria-label="Permalink: Introduction" href="#introduction"></a></p>
<p dir="auto">Cognita is an open-source framework to organize your RAG codebase along with a frontend to play around with different RAG customizations. It provides a simple way to organize your codebase so that it becomes easy to test it locally while also being able to deploy it in a production ready environment. The key issues that arise while productionizing RAG system from a Jupyter Notebook are:</p>
<ol dir="auto">
<li><strong>Chunking and Embedding Job</strong>: The chunking and embedding code usually needs to be abstracted out and deployed as a job. Sometimes the job will need to run on a schedule or be trigerred via an event to keep the data updated.</li>
<li><strong>Query Service</strong>: The code that generates the answer from the query needs to be wrapped up in a api server like FastAPI and should be deployed as a service. This service should be able to handle multiple queries at the same time and also autoscale with higher traffic.</li>
<li><strong>LLM / Embedding Model Deployment</strong>: Often times, if we are using open-source models, we load the model in the Jupyter notebook. This will need to be hosted as a separate service in production and model will need to be called as an API.</li>
<li><strong>Vector DB deployment</strong>: Most testing happens on vector DBs in memory or on disk. However, in production, the DBs need to be deployed in a more scalable and reliable way.</li>
</ol>
<p dir="auto">Cognita makes it really easy to customize and experiment everything about a RAG system and still be able to deploy it in a good way. It also ships with a UI that makes it easier to try out different RAG configurations and see the results in real time. You can use it locally or with/without using any Truefoundry components. However, using Truefoundry components makes it easier to test different models and deploy the system in a scalable way. Cognita allows you to host multiple RAG systems using one app.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Advantages of using Cognita are:</h3><a id="user-content-advantages-of-using-cognita-are" aria-label="Permalink: Advantages of using Cognita are:" href="#advantages-of-using-cognita-are"></a></p>
<ol dir="auto">
<li>A central reusable repository of parsers, loaders, embedders and retrievers.</li>
<li>Ability for non-technical users to play with UI - Upload documents and perform QnA using modules built by the development team.</li>
<li>Fully API driven - which allows integration with other systems.
<blockquote>
<p dir="auto">If you use Cognita with Truefoundry AI Gateway, you can get logging, metrics and feedback mechanism for your user queries.</p>
</blockquote>
</li>
</ol>
<p dir="auto"><h3 tabindex="-1" dir="auto">Features:</h3><a id="user-content-features" aria-label="Permalink: Features:" href="#features"></a></p>
<ol dir="auto">
<li>Support for multiple document retrievers that use <code>Similarity Search</code>, <code>Query Decompostion</code>, <code>Document Reranking</code>, etc</li>
<li>Support for SOTA OpenSource embeddings and reranking from <code>mixedbread-ai</code></li>
<li>Support for using LLMs using <code>Ollama</code></li>
<li>Support for incremental indexing that ingests entire documents in batches (reduces compute burden), keeps track of already indexed documents and prevents re-indexing of those docs.</li>
</ol>
<p dir="auto"><h2 tabindex="-1" dir="auto">✨ Getting Started</h2><a id="user-content-sparkles-getting-started" aria-label="Permalink: :sparkles: Getting Started" href="#sparkles-getting-started"></a></p>
<p dir="auto">You can play around with the code locally using the python <a href="#rocket-quickstart-running-cognita-locally">script</a> or using the UI component that ships with the code.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">🐍 Installing Python and Setting Up a Virtual Environment</h2><a id="user-content-snake-installing-python-and-setting-up-a-virtual-environment" aria-label="Permalink: :snake: Installing Python and Setting Up a Virtual Environment" href="#snake-installing-python-and-setting-up-a-virtual-environment"></a></p>
<p dir="auto">Before you can use Cognita, you'll need to ensure that <code>Python &gt;=3.10.0</code> is installed on your system and that you can create a virtual environment for a safer and cleaner project setup.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Setting Up a Virtual Environment</h2><a id="user-content-setting-up-a-virtual-environment" aria-label="Permalink: Setting Up a Virtual Environment" href="#setting-up-a-virtual-environment"></a></p>
<p dir="auto">It's recommended to use a virtual environment to avoid conflicts with other projects or system-wide Python packages.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Create a Virtual Environment:</h3><a id="user-content-create-a-virtual-environment" aria-label="Permalink: Create a Virtual Environment:" href="#create-a-virtual-environment"></a></p>
<p dir="auto">Navigate to your project's directory in the terminal.
Run the following command to create a virtual environment named venv (you can name it anything you like):</p>

<p dir="auto"><h3 tabindex="-1" dir="auto">Activate the Virtual Environment:</h3><a id="user-content-activate-the-virtual-environment" aria-label="Permalink: Activate the Virtual Environment:" href="#activate-the-virtual-environment"></a></p>
<ul dir="auto">
<li>On Windows, activate the virtual environment by running:</li>
</ul>
<div data-snippet-clipboard-copy-content="venv\Scripts\activate.bat"><pre><code>venv\Scripts\activate.bat
</code></pre></div>
<ul dir="auto">
<li>On macOS and Linux, activate it with:</li>
</ul>

<p dir="auto">Once your virtual environment is activated, you'll see its name in the terminal prompt. Now you're ready to install Cognita using the steps provided in the Quickstart sections.</p>
<blockquote>
<p dir="auto">Remember to deactivate the virtual environment when you're done working with Cognita by simply running deactivate in the terminal.</p>
</blockquote>
<p dir="auto"><h2 tabindex="-1" dir="auto">🚀 Quickstart: Running Cognita Locally</h2><a id="user-content-rocket-quickstart-running-cognita-locally" aria-label="Permalink: :rocket: Quickstart: Running Cognita Locally" href="#rocket-quickstart-running-cognita-locally"></a></p>
<p dir="auto">Following are the instructions for running Cognita locally without any additional Truefoundry dependencies</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Install necessary packages:</h2><a id="user-content-install-necessary-packages" aria-label="Permalink: Install necessary packages:" href="#install-necessary-packages"></a></p>
<p dir="auto">In the project root execute the following command:</p>
<div data-snippet-clipboard-copy-content="pip install -r backend/requirements.txt"><pre><code>pip install -r backend/requirements.txt
</code></pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">Setting up .env file:</h2><a id="user-content-setting-up-env-file" aria-label="Permalink: Setting up .env file:" href="#setting-up-env-file"></a></p>
<ul dir="auto">
<li>Create a <code>.env</code> file by copying copy from <code>env.local.example</code> set up relavant fields.</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Executing the Code:</h2><a id="user-content-executing-the-code" aria-label="Permalink: Executing the Code:" href="#executing-the-code"></a></p>
<ul dir="auto">
<li>Now we index the data (<code>sample-data/creditcards</code>) by executing the following command from project root:

</li>
<li>To run the query execute the following command from project root:

</li>
</ul>
<blockquote>
<p dir="auto">These commands make use of <code>local.metadata.yaml</code> file where you setup qdrant collection name, different data source path, and embedder configurations.</p>
</blockquote>
<blockquote>
<p dir="auto">You can try out different retrievers and queries by importing them from <code>from backend.modules.query_controllers.example.payload</code> in <code>run.py</code></p>
</blockquote>
<blockquote>
<p dir="auto">You can also start a FastAPI server: <code>uvicorn --host 0.0.0.0 --port 8000 backend.server.app:app --reload</code> Then, Swagger doc will be available at: <code>http://localhost:8000/</code> For local version you need not create data sources, collection or index them using API, as it is taken care by <code>local.metadata.yaml</code> and <code>ingest.py</code> file. You can directly try out retrievers endpoint.</p>
</blockquote>
<blockquote>
<p dir="auto">To use frontend UI for quering you can go to : <code>cd fronend</code> and execute <code>yarn dev</code> to start the UI and play around. Refer more at frontend <a href="https://github.com/truefoundry/cognita/blob/main/frontend/README.md">README</a></p>
</blockquote>
<p dir="auto"><h2 tabindex="-1" dir="auto">⚒️ Project Architecture</h2><a id="user-content-hammer_and_pick-project-architecture" aria-label="Permalink: :hammer_and_pick: Project Architecture" href="#hammer_and_pick-project-architecture"></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/truefoundry/cognita/blob/main/docs/images/rag_arch.png"><img src="https://github.com/truefoundry/cognita/raw/main/docs/images/rag_arch.png" alt=""></a></p>
<p dir="auto">Overall the architecture of Cognita is composed of several entities</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Cognita Components:</h2><a id="user-content-cognita-components" aria-label="Permalink: Cognita Components:" href="#cognita-components"></a></p>
<ol dir="auto">
<li>
<p dir="auto"><strong>Data Sources</strong> - These are the places that contain your documents to be indexed. Usually these are S3 buckets, databases, TrueFoundry Artifacts or even local disk</p>
</li>
<li>
<p dir="auto"><strong>Metadata Store</strong> - This store contains metadata about the collection themselves. A collection refers to a set of documents from one or more data sources combined. For each collection, the collection metadata stores</p>
<ul dir="auto">
<li>Name of the collection</li>
<li>Name of the associated Vector DB collection</li>
<li>Linked Data Sources</li>
<li>Parsing Configuration for each data source</li>
<li>Embedding Model and Configuration to be used</li>
</ul>
</li>
<li>
<p dir="auto"><strong>LLM Gateway</strong> - This is a central proxy that allows proxying requests to various Embedding and LLM models across many providers with a unified API format. This can be OpenAIChat, OllamaChat, or even TruefoundryChat that uses TF LLM Gateway.</p>
</li>
<li>
<p dir="auto"><strong>Vector DB</strong> - This stores the embeddings and metadata for parsed files for the collection. It can be queried to get similar chunks or exact matches based on filters. We are currently supporting <code>Qdrant</code> and <code>SingleStore</code> as our choice of vector database.</p>
</li>
<li>
<p dir="auto"><strong>Indexing Job</strong> - This is an asynchronous Job responsible for orchestrating the indexing flow. Indexing can be started manually or run regularly on a cron schedule. It will</p>
<ul dir="auto">
<li>Scan the Data Sources to get list of documents</li>
<li>Check the Vector DB state to filter out unchanged documents</li>
<li>Downloads and parses files to create smaller chunks with associated metadata</li>
<li>Embeds those chunks using the AI Gateway and puts them into Vector DB
<blockquote>
<p dir="auto">The source code for this is in the <code>backend/indexer/</code></p>
</blockquote>
</li>
</ul>
</li>
<li>
<p dir="auto"><strong>API Server</strong> - This component processes the user query to generate answers with references synchronously. Each application has full control over the retrieval and answer process. Broadly speaking, when a user sends a request</p>
<ul dir="auto">
<li>The corresponsing Query Controller bootstraps retrievers or multi-step agents according to configuration.</li>
<li>User's question is processed and embedded using the AI Gateway.</li>
<li>One or more retrievers interact with the Vector DB to fetch relevant chunks and metadata.</li>
<li>A final answer is formed by using a LLM via the AI Gateway.</li>
<li>Metadata for relevant documents fetched during the process can be optionally enriched. E.g. adding presigned URLs.
<blockquote>
<p dir="auto">The code for this component is in <code>backend/server/</code></p>
</blockquote>
</li>
</ul>
</li>
</ol>
<p dir="auto"><h2 tabindex="-1" dir="auto">Data Indexing:</h2><a id="user-content-data-indexing" aria-label="Permalink: Data Indexing:" href="#data-indexing"></a></p>
<ol dir="auto">
<li>A Cron on some schedule will trigger the Indexing Job</li>
<li>The data source associated with the collection are <strong>scanned</strong> for all data points (files)</li>
<li>The job compares the VectorDB state with data source state to figure out <strong>newly added files, updated files and deleted files</strong>. The new and updated files are <strong>downloaded</strong></li>
<li>The newly added files and updated files are <strong>parsed and chunked</strong> into smaller pieces each with their own metadata</li>
<li>The chunks are <strong>embedded</strong> using embedding models like <code>text-ada-002</code> from <code>openai</code> or <code>mxbai-embed-large-v1</code> from <code>mixedbread-ai</code></li>
<li>The embedded chunks are put into VectorDB with auto generated and provided metadata</li>
</ol>
<p dir="auto"><h2 tabindex="-1" dir="auto">❓ Question-Answering using API Server:</h2><a id="user-content-question-question-answering-using-api-server" aria-label="Permalink: :question: Question-Answering using API Server:" href="#question-question-answering-using-api-server"></a></p>
<ol dir="auto">
<li>
<p dir="auto">Users sends a request with their query</p>
</li>
<li>
<p dir="auto">It is routed to one of the app's query controller</p>
</li>
<li>
<p dir="auto">One or more retrievers are constructed on top of the Vector DB</p>
</li>
<li>
<p dir="auto">Then a Question Answering chain / agent is constructed. It embeds the user query and fetches similar chunks.</p>
</li>
<li>
<p dir="auto">A single shot Question Answering chain just generates an answer given similar chunks. An agent can do multi step reasoning and use many tools before arriving at an answer. In both cases, the API server uses LLM models (like GPT 3.5, GPT 4, etc)</p>
</li>
<li>
<p dir="auto">Before returning the answer, the metadata for relevant chunks can be updated with things like presigned urls, surrounding slides, external data source links.</p>
</li>
<li>
<p dir="auto">The answer and relevant document chunks are returned in response.</p>
<p dir="auto"><strong>Note:</strong> In case of agents the intermediate steps can also be streamed. It is up to the specific app to decide.</p>
</li>
</ol>
<p dir="auto"><h2 tabindex="-1" dir="auto">💻 Code Structure:</h2><a id="user-content-computer-code-structure" aria-label="Permalink: :computer: Code Structure:" href="#computer-code-structure"></a></p>
<p dir="auto">Entire codebase lives in <code>backend/</code></p>
<div data-snippet-clipboard-copy-content=".
|-- Dockerfile
|-- README.md
|-- __init__.py
|-- backend/
|   |-- indexer/
|   |   |-- __init__.py
|   |   |-- indexer.py
|   |   |-- main.py
|   |   `-- types.py
|   |-- modules/
|   |   |-- __init__.py
|   |   |-- dataloaders/
|   |   |   |-- __init__.py
|   |   |   |-- loader.py
|   |   |   |-- localdirloader.py
|   |   |   `-- ...
|   |   |-- embedder/
|   |   |   |-- __init__.py
|   |   |   |-- embedder.py
|   |   |   -- mixbread_embedder.py
|   |   |   `-- embedding.requirements.txt
|   |   |-- metadata_store/
|   |   |   |-- base.py
|   |   |   |-- client.py
|   |   |   `-- truefoundry.py
|   |   |-- parsers/
|   |   |   |-- __init__.py
|   |   |   |-- parser.py
|   |   |   |-- pdfparser_fast.py
|   |   |   `-- ...
|   |   |-- query_controllers/
|   |   |   |-- default/
|   |   |   |   |-- controller.py
|   |   |   |   `-- types.py
|   |   |   |-- query_controller.py
|   |   |-- reranker/
|   |   |   |-- mxbai_reranker.py
|   |   |   |-- reranker.requirements.txt
|   |   |   `-- ...
|   |   `-- vector_db/
|   |       |-- __init__.py
|   |       |-- base.py
|   |       |-- qdrant.py
|   |       `-- ...
|   |-- requirements.txt
|   |-- server/
|   |   |-- __init__.py
|   |   |-- app.py
|   |   |-- decorators.py
|   |   |-- routers/
|   |   `-- services/
|   |-- settings.py
|   |-- types.py
|   `-- utils.py"><pre><code>.
|-- Dockerfile
|-- README.md
|-- __init__.py
|-- backend/
|   |-- indexer/
|   |   |-- __init__.py
|   |   |-- indexer.py
|   |   |-- main.py
|   |   `-- types.py
|   |-- modules/
|   |   |-- __init__.py
|   |   |-- dataloaders/
|   |   |   |-- __init__.py
|   |   |   |-- loader.py
|   |   |   |-- localdirloader.py
|   |   |   `-- ...
|   |   |-- embedder/
|   |   |   |-- __init__.py
|   |   |   |-- embedder.py
|   |   |   -- mixbread_embedder.py
|   |   |   `-- embedding.requirements.txt
|   |   |-- metadata_store/
|   |   |   |-- base.py
|   |   |   |-- client.py
|   |   |   `-- truefoundry.py
|   |   |-- parsers/
|   |   |   |-- __init__.py
|   |   |   |-- parser.py
|   |   |   |-- pdfparser_fast.py
|   |   |   `-- ...
|   |   |-- query_controllers/
|   |   |   |-- default/
|   |   |   |   |-- controller.py
|   |   |   |   `-- types.py
|   |   |   |-- query_controller.py
|   |   |-- reranker/
|   |   |   |-- mxbai_reranker.py
|   |   |   |-- reranker.requirements.txt
|   |   |   `-- ...
|   |   `-- vector_db/
|   |       |-- __init__.py
|   |       |-- base.py
|   |       |-- qdrant.py
|   |       `-- ...
|   |-- requirements.txt
|   |-- server/
|   |   |-- __init__.py
|   |   |-- app.py
|   |   |-- decorators.py
|   |   |-- routers/
|   |   `-- services/
|   |-- settings.py
|   |-- types.py
|   `-- utils.py
</code></pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">Customizing the Code for your usecase</h2><a id="user-content-customizing-the-code-for-your-usecase" aria-label="Permalink: Customizing the Code for your usecase" href="#customizing-the-code-for-your-usecase"></a></p>
<p dir="auto">Cognita goes by the tagline -</p>
<blockquote>
<p dir="auto">Everything is available and Everything is customizable.</p>
</blockquote>
<p dir="auto">Cognita makes it really easy to switch between parsers, loaders, models and retrievers.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Customizing Dataloaders:</h3><a id="user-content-customizing-dataloaders" aria-label="Permalink: Customizing Dataloaders:" href="#customizing-dataloaders"></a></p>
<ul dir="auto">
<li>
<p dir="auto">You can write your own data loader by inherting the <code>BaseDataLoader</code> class from <code>backend/modules/dataloaders/loader.py</code></p>
</li>
<li>
<p dir="auto">Finally, register the loader in <code>backend/modules/dataloaders/__init__.py</code></p>
</li>
<li>
<p dir="auto">Testing a dataloader on localdir, in root dir, copy the following code as <code>test.py</code> and execute it. We show how to test an existing <code>LocalDirLoader</code> here:</p>
<div dir="auto" data-snippet-clipboard-copy-content="from backend.modules.dataloaders import LocalDirLoader
from backend.types import DataSource

data_source = DataSource(
type=&quot;local&quot;,
uri=&quot;sample-data/creditcards&quot;,
)

loader = LocalDirLoader()


loaded_data_pts = loader.load_full_data(
    data_source=data_source,
    dest_dir=&quot;test/creditcards&quot;,
)


for data_pt in loaded_data_pts:
    print(data_pt)"><pre><span>from</span> <span>backend</span>.<span>modules</span>.<span>dataloaders</span> <span>import</span> <span>LocalDirLoader</span>
<span>from</span> <span>backend</span>.<span>types</span> <span>import</span> <span>DataSource</span>

<span>data_source</span> <span>=</span> <span>DataSource</span>(
<span>type</span><span>=</span><span>"local"</span>,
<span>uri</span><span>=</span><span>"sample-data/creditcards"</span>,
)

<span>loader</span> <span>=</span> <span>LocalDirLoader</span>()


<span>loaded_data_pts</span> <span>=</span> <span>loader</span>.<span>load_full_data</span>(
    <span>data_source</span><span>=</span><span>data_source</span>,
    <span>dest_dir</span><span>=</span><span>"test/creditcards"</span>,
)


<span>for</span> <span>data_pt</span> <span>in</span> <span>loaded_data_pts</span>:
    <span>print</span>(<span>data_pt</span>)</pre></div>
</li>
</ul>
<p dir="auto"><h3 tabindex="-1" dir="auto">Customizing Embedder:</h3><a id="user-content-customizing-embedder" aria-label="Permalink: Customizing Embedder:" href="#customizing-embedder"></a></p>
<ul dir="auto">
<li>The codebase currently uses <code>OpenAIEmbeddings</code> you can registered as <code>default</code>.</li>
<li>You can register your custom embeddings in <code>backend/modules/embedder/__init__.py</code></li>
<li>You can also add your own embedder an example of which is given under <code>backend/modules/embedder/mixbread_embedder.py</code>. It inherits langchain embedding class.</li>
</ul>
<p dir="auto"><h3 tabindex="-1" dir="auto">Customizing Parsers:</h3><a id="user-content-customizing-parsers" aria-label="Permalink: Customizing Parsers:" href="#customizing-parsers"></a></p>
<ul dir="auto">
<li>
<p dir="auto">You can write your own parser by inherting the <code>BaseParser</code> class from <code>backend/modules/parsers/parser.py</code></p>
</li>
<li>
<p dir="auto">Finally, register the parser in <code>backend/modules/parsers/__init__.py</code></p>
</li>
<li>
<p dir="auto">Testing a Parser on a local file, in root dir, copy the following code as <code>test.py</code> and execute it. Here we show how we can test existing <code>MarkdownParser</code>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="import asyncio
from backend.modules.parsers import MarkdownParser

parser = MarkdownParser()
chunks =  asyncio.run(
    parser.get_chunks(
        filepath=&quot;sample-data/creditcards/diners-club-black.md&quot;,
    )
)
print(chunks)"><pre><span>import</span> <span>asyncio</span>
<span>from</span> <span>backend</span>.<span>modules</span>.<span>parsers</span> <span>import</span> <span>MarkdownParser</span>

<span>parser</span> <span>=</span> <span>MarkdownParser</span>()
<span>chunks</span> <span>=</span>  <span>asyncio</span>.<span>run</span>(
    <span>parser</span>.<span>get_chunks</span>(
        <span>filepath</span><span>=</span><span>"sample-data/creditcards/diners-club-black.md"</span>,
    )
)
<span>print</span>(<span>chunks</span>)</pre></div>
</li>
</ul>
<p dir="auto"><h3 tabindex="-1" dir="auto">Adding Custom VectorDB:</h3><a id="user-content-adding-custom-vectordb" aria-label="Permalink: Adding Custom VectorDB:" href="#adding-custom-vectordb"></a></p>
<ul dir="auto">
<li>
<p dir="auto">To add your own interface for a VectorDB you can inhertit <code>BaseVectorDB</code> from <code>backend/modules/vector_db/base.py</code></p>
</li>
<li>
<p dir="auto">Register the vectordb under <code>backend/modules/vector_db/__init__.py</code></p>
</li>
</ul>
<p dir="auto"><h3 tabindex="-1" dir="auto">Rerankers:</h3><a id="user-content-rerankers" aria-label="Permalink: Rerankers:" href="#rerankers"></a></p>
<ul dir="auto">
<li>Rerankers are used to sort relavant documents such that top k docs can be used as context effectively reducing the context and prompt in general.</li>
<li>Sample reranker is written under <code>backend/modules/reranker/mxbai_reranker.py</code></li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">💡 Writing your Query Controller (QnA):</h2><a id="user-content-bulb-writing-your-query-controller-qna" aria-label="Permalink: :bulb: Writing your Query Controller (QnA):" href="#bulb-writing-your-query-controller-qna"></a></p>
<p dir="auto">Code responsible for implementing the Query interface of RAG application. The methods defined in these query controllers are added routes to your FastAPI server.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Steps to add your custom Query Controller:</h2><a id="user-content-steps-to-add-your-custom-query-controller" aria-label="Permalink: Steps to add your custom Query Controller:" href="#steps-to-add-your-custom-query-controller"></a></p>
<ul dir="auto">
<li>
<p dir="auto">Add your Query controller class in <code>backend/modules/query_controllers/</code></p>
</li>
<li>
<p dir="auto">Add <code>query_controller</code> decorator to your class and pass the name of your custom controller as argument</p>
</li>
</ul>
<div dir="auto" data-snippet-clipboard-copy-content="from backend.server.decorator import query_controller

@query_controller(&quot;/my-controller&quot;)
class MyCustomController():
    ..."><pre><span>from</span> <span>backend</span>.<span>server</span>.<span>decorator</span> <span>import</span> <span>query_controller</span>

<span>@<span>query_controller</span>(<span>"/my-controller"</span>)</span>
<span>class</span> <span>MyCustomController</span>():
    ...</pre></div>
<ul dir="auto">
<li>Add methods to this controller as per your needs and use our http decorators like <code>post, get, delete</code> to make your methods an API</li>
</ul>
<div dir="auto" data-snippet-clipboard-copy-content="from backend.server.decorator import post

@query_controller(&quot;/my-controller&quot;)
class MyCustomController():
    ...

    @post(&quot;/answer&quot;)
    def answer(query: str):
        # Write code to express your logic for answer
        # This API will be exposed as POST /my-controller/answer
        ..."><pre><span>from</span> <span>backend</span>.<span>server</span>.<span>decorator</span> <span>import</span> <span>post</span>

<span>@<span>query_controller</span>(<span>"/my-controller"</span>)</span>
<span>class</span> <span>MyCustomController</span>():
    ...

    <span>@<span>post</span>(<span>"/answer"</span>)</span>
    <span>def</span> <span>answer</span>(<span>query</span>: <span>str</span>):
        <span># Write code to express your logic for answer</span>
        <span># This API will be exposed as POST /my-controller/answer</span>
        ...</pre></div>
<ul dir="auto">
<li>Import your custom controller class at <code>backend/modules/query_controllers/__init__.py</code></li>
</ul>
<div dir="auto" data-snippet-clipboard-copy-content="...
from backend.modules.query_controllers.sample_controller.controller import MyCustomController"><pre>...
<span>from</span> <span>backend</span>.<span>modules</span>.<span>query_controllers</span>.<span>sample_controller</span>.<span>controller</span> <span>import</span> <span>MyCustomController</span></pre></div>
<blockquote>
<p dir="auto">As an example, we have implemented sample controller in <code>backend/modules/query_controllers/example</code>. Please refer for better understanding</p>
</blockquote>
<p dir="auto"><h2 tabindex="-1" dir="auto">🐳 Quickstart: Deployment with Truefoundry:</h2><a id="user-content-whale-quickstart-deployment-with-truefoundry" aria-label="Permalink: :whale: Quickstart: Deployment with Truefoundry:" href="#whale-quickstart-deployment-with-truefoundry"></a></p>
<p dir="auto">To be able to <strong>Query</strong> on your own documents, follow the steps below:</p>
<ol dir="auto">
<li>
<p dir="auto">Register at TrueFoundry, follow <a href="https://www.truefoundry.com/register" rel="nofollow">here</a></p>
<ul dir="auto">
<li>Fill up the form and register as an organization (let's say &lt;org_name&gt;)</li>
<li>On <code>Submit</code>, you will be redirected to your dashboard endpoint ie https://&lt;org_name&gt;.truefoundry.cloud</li>
<li>Complete your email verification</li>
<li>Login to the platform at your dashboard endpoint ie. https://&lt;org_name&gt;.truefoundry.cloud</li>
</ul>
<p dir="auto"><code>Note: Keep your dashboard endpoint handy, we will refer it as "TFY_HOST" and it should have structure like "https://&lt;org_name&gt;.truefoundry.cloud"</code></p>
</li>
<li>
<p dir="auto">Setup a cluster, use TrueFoundry managed for quick setup</p>
<ul dir="auto">
<li>Give a unique name to your <strong><a href="https://docs.truefoundry.com/docs/workspace" rel="nofollow">Cluster</a></strong> and click on <strong>Launch Cluster</strong></li>
<li>It will take few minutes to provision a cluster for you</li>
<li>On <strong>Configure Host Domain</strong> section, click <code>Register</code> for the pre-filled IP</li>
<li>Next, <code>Add</code> a <strong>Docker Registry</strong> to push your docker images to.</li>
<li>Next, <strong>Deploy a Model</strong>, you can choose to <code>Skip</code> this step</li>
</ul>
</li>
<li>
<p dir="auto">Add a <strong>Storage Integration</strong></p>
</li>
<li>
<p dir="auto">Create a <strong>ML Repo</strong></p>
<ul dir="auto">
<li>
<p dir="auto">Navigate to <strong>ML Repo</strong> tab</p>
</li>
<li>
<p dir="auto">Click on <code>+ New ML Repo</code> button on top-right</p>
</li>
<li>
<p dir="auto">Give a unique name to your <strong>ML Repo</strong> (say 'docs-qa-llm')</p>
</li>
<li>
<p dir="auto">Select <strong>Storage Integration</strong></p>
</li>
<li>
<p dir="auto">On <code>Submit</code>, your <strong>ML Repo</strong> will be created</p>
<p dir="auto">For more details: <a href="https://docs.truefoundry.com/docs/creating-ml-repo-via-ui" rel="nofollow">link</a></p>
</li>
</ul>
</li>
<li>
<p dir="auto">Create a <strong>Workspace</strong></p>
<ul dir="auto">
<li>Navigate to <strong>Workspace</strong> tab</li>
<li>Click on <code>+ New Workspace</code> button on top-right</li>
<li>Select your <strong>Cluster</strong></li>
<li>Give a name to your <strong>Workspace</strong> (say 'docs-qa-llm')</li>
<li>Enable <strong>ML Repo Access</strong> and <code>Add ML Repo Access</code></li>
<li>Select your <strong>ML Repo</strong> and role as <strong>Project Admin</strong></li>
<li>On <code>Submit</code>, a new <strong>Workspace</strong> will be created. You can copy the <strong>Workspace FQN</strong> by clicking on <strong>FQN</strong>.</li>
</ul>
<p dir="auto">For more details: <a href="https://docs.truefoundry.com/docs/installation-and-setup#5-creating-workspaces" rel="nofollow">link</a></p>
</li>
<li>
<p dir="auto">Deploy <strong>RAG Application</strong></p>
<ul dir="auto">
<li>Navigate to <strong>Deployments</strong> tab</li>
<li>Click on <code>+ New Deployment</code> buttton on top-right</li>
<li>Select <code>Application Catalogue</code></li>
<li>Select your workspace</li>
<li>Select RAG Application</li>
<li>Fill up the deployment template
<ul dir="auto">
<li>Give your deployment a Name</li>
<li>Add ML Repo</li>
<li>You can either add an existing Qdrant DB or create a new one</li>
<li>By default, <code>main</code> branch is used for deployment (You will find this option in <code>Show Advance fields</code>). You can change the branch name and git repository if required.
<blockquote>
<p dir="auto">Make sure to re-select the main branch, as the SHA commit, does not get updated automatically.</p>
</blockquote>
</li>
<li>Click on <code>Submit</code> your application will be deployed.</li>
</ul>
</li>
</ul>
</li>
</ol>
<p dir="auto"><h2 tabindex="-1" dir="auto">Using the <strong>RAG UI</strong>:</h2><a id="user-content-using-the-rag-ui" aria-label="Permalink: Using the RAG UI:" href="#using-the-rag-ui"></a></p>
<p dir="auto">The following steps will showcase how to use the cognita UI to query documents:</p>
<ol dir="auto">
<li>
<p dir="auto">Create Data Source</p>

</li>
<li>
<p dir="auto">Create Collection</p>

</li>
<li>
<p dir="auto">As soon as you create the collection, data ingestion begins, you can view it's status by selecting your collection in collections tab. You can also add additional data sources later on and index them in the collection.
<a target="_blank" rel="noopener noreferrer" href="https://github.com/truefoundry/cognita/blob/main/docs/images/dataingestion-complete.png"><img src="https://github.com/truefoundry/cognita/raw/main/docs/images/dataingestion-complete.png" alt="ingestioncomplete"></a></p>
</li>
<li>
<p dir="auto">Response generation
<a target="_blank" rel="noopener noreferrer" href="https://github.com/truefoundry/cognita/blob/main/docs/images/response-generation.png"><img src="https://github.com/truefoundry/cognita/raw/main/docs/images/response-generation.png" alt="responsegen"></a></p>
<ul dir="auto">
<li>Select the collection</li>
<li>Select the LLM and it's configuration</li>
<li>Select the document retriever</li>
<li>Write the prompt or use the default prompt</li>
<li>Ask the query</li>
</ul>
</li>
</ol>
<p dir="auto"><h2 tabindex="-1" dir="auto">💖 Open Source Contribution</h2><a id="user-content-sparkling_heart-open-source-contribution" aria-label="Permalink: :sparkling_heart: Open Source Contribution" href="#sparkling_heart-open-source-contribution"></a></p>
<p dir="auto">Your contributions are always welcome! Feel free to contribute ideas, feedback, or create issues and bug reports if you find any! Before contributing, please read the <a href="https://github.com/truefoundry/cognita/blob/main/CONTRIBUTIONGUIDE.md">Contribution Guide</a>.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">🔮 Future developments</h2><a id="user-content-crystal_ball-future-developments" aria-label="Permalink: :crystal_ball: Future developments" href="#crystal_ball-future-developments"></a></p>
<p dir="auto">Contributions are welcomed for the following upcoming developments:</p>
<ul dir="auto">
<li>Support for other vector databases like <code>Chroma</code>, <code>Weaviate</code>, etc</li>
<li>Support for <code>Scalar + Binary Quantization</code> embeddings.</li>
<li>Support for <code>RAG Evalutaion</code> of different retrievers.</li>
<li>Support for <code>RAG Visualization</code>.</li>
<li>Support for conversational chatbot with context</li>
<li>Support for RAG optimized LLMs like <code>stable-lm-3b</code>, <code>dragon-yi-6b</code>, etc</li>
<li>Support for <code>GraphDB</code></li>
</ul>
<hr>
<p dir="auto"><h2 tabindex="-1" dir="auto">Star History</h2><a id="user-content-star-history" aria-label="Permalink: Star History" href="#star-history"></a></p>
<p dir="auto"><a href="https://star-history.com/#truefoundry/cognita&amp;Date" rel="nofollow"><img src="https://camo.githubusercontent.com/47d8a4e74c78fb731d549be66db743fa1fd965482c2b47d3e0432585c2e78b9d/68747470733a2f2f6170692e737461722d686973746f72792e636f6d2f7376673f7265706f733d74727565666f756e6472792f636f676e69746126747970653d44617465" alt="Star History Chart" data-canonical-src="https://api.star-history.com/svg?repos=truefoundry/cognita&amp;type=Date"></a></p>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[HNInternal: Ask HN: What have you built with ESPHome, ESP8266 or similar hardware (165 pts)]]></title>
            <link>https://news.ycombinator.com/item?id=40181000</link>
            <guid>40181000</guid>
            <pubDate>Sat, 27 Apr 2024 16:05:45 GMT</pubDate>
            <description><![CDATA[<p>See on <a href="https://news.ycombinator.com/item?id=40181000">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <tbody><tr id="40184187"><td></td></tr>
                <tr id="40184978"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_40184978" href="https://news.ycombinator.com/vote?id=40184978&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>The on air package is so cool! I was a bit surprised to see it written in Go, but it explains the Mac/Linux portability. I just got a spare esp32 a couple days ago and thought it would take a while to find a good use for it, but I think this is it.<p>Is the esp board connected to a relay which toggles a regular 110V sign? I’m conflicted about running the board on a higher amperage 5V power supply and using a 5V LED matrix for indicating on-air status or just getting some off the shelf 110V type thing to toggle on or off. The matrix sounds more fun, for sure.</p><p>Edit: and thank you for sharing your work on this!
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="40184404"><td></td></tr>
                  <tr id="40185290"><td></td></tr>
            <tr id="40185336"><td></td></tr>
            <tr id="40183786"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40183786" href="https://news.ycombinator.com/vote?id=40183786&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>I've built tons of things. Most usefully, I built presence/motion/light/temperature sensors for my home, along with IR transmitter so I can control my TV/AC. They're about the size of two matchboxes, they cost about $10 each and they're amazing for my home automation:<p><a href="https://gitlab.com/stavros/sensor-board/" rel="nofollow">https://gitlab.com/stavros/sensor-board/</a></p><p>I've built cat toys for my blind cat, toy planes, a CNC, a cat feeder, a back-scratching robot, and more stuff that I can't remember. I love the ESP8266.</p><p>Also, an e-ink display that shows my calendar:</p><p><a href="https://www.stavros.io/posts/making-the-timeframe/" rel="nofollow">https://www.stavros.io/posts/making-the-timeframe/</a></p><p>A house with a tiny person living in it:</p><p><a href="https://www.youtube.com/watch?v=1RUqTN-7_gU" rel="nofollow">https://www.youtube.com/watch?v=1RUqTN-7_gU</a></p><p>A way to project images in mid-air, for long exposure photography:</p><p><a href="https://www.stavros.io/posts/behold-ledonardo/" rel="nofollow">https://www.stavros.io/posts/behold-ledonardo/</a></p><p>A button that I can press to get food:</p><p><a href="https://www.stavros.io/posts/emergency-food-button/" rel="nofollow">https://www.stavros.io/posts/emergency-food-button/</a></p><p>A drone that blows bubbles:</p><p><a href="https://www.youtube.com/watch?v=xk99zrlAp9U" rel="nofollow">https://www.youtube.com/watch?v=xk99zrlAp9U</a></p><p>A toy bus that shows you when the next actual bus will come:</p><p><a href="https://www.stavros.io/posts/bus-stop-bus/" rel="nofollow">https://www.stavros.io/posts/bus-stop-bus/</a></p><p>A rotary mobile phone:</p><p><a href="https://www.youtube.com/watch?v=fSkdWQswpc8" rel="nofollow">https://www.youtube.com/watch?v=fSkdWQswpc8</a></p><p>An alarm clock with the weather so I know whether it's worth waking up for tennis:</p><p><a href="https://www.stavros.io/posts/do-not-be-alarmed-clock/" rel="nofollow">https://www.stavros.io/posts/do-not-be-alarmed-clock/</a>
              </p></span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="40184196"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_40184196" href="https://news.ycombinator.com/vote?id=40184196&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>I've been thinking about creating some more interesting interactive cat toys like this -- wiring the hardware and doing the programming are pretty easy, but where I'm stuck is building the actual cat toy bits that the electronics control! How have you approached this in your projects?</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="40184281"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_40184281" href="https://news.ycombinator.com/vote?id=40184281&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>It depends on what you want to do. In my case, I have a blind cat and I needed a toy that she could hear. I 3d printed a simple ball, and I made a very small circuit with a bare ESP8266, a speaker, a small battery, and a vibration sensor. The sensor resets the ESP, which plays a short song on the speaker and then goes into deep sleep.<p>What are you thinking of making?
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="40184775"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_40184775" href="https://news.ycombinator.com/vote?id=40184775&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>Well, for example, my (sighted) cats have a toy that spins a wand in a circle, but does so at a constant speed for a few minutes then turns off. I'd like to build one that moves in less predictable patterns, sporadically, over a longer period of time, without using much battery while not moving.<p>The hardware components aren't that hard to assemble, the programming is easy, but I'm at a loss with where to begin for building a simple housing where a motor can attach with a wand mounted to it. I'm sure it's very basic fabrication stuff, I just don't know where to begin.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="40184815"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_40184815" href="https://news.ycombinator.com/vote?id=40184815&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>Can you not use the existing toy and modulate its motor how you like it? That's my first option, and my second option is to design and 3D print something. The latter isn't that hard to learn either, you could make something decent in a few hours.</span></p></div></td></tr>
        </tbody></table></td></tr>
                                    <tr id="40183741"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40183741" href="https://news.ycombinator.com/vote?id=40183741&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>I’ve built a small scale ‘flat’ that is meant to act as a ‘living’ object that is a bed side companion for sick children that are lying in a hospital.<p>The idea is that you give a certain floor to family or friends so that they can control the lights (and color). The child can see if parents, grandparents or friends are home or not (based on a schedule or manual action). It gives a sense of reassurance and closeness of the relatives. Also very fun to see a living object next to your bed.</p><p>See it here: <a href="https://imgur.com/gallery/4ZOYdH5" rel="nofollow">https://imgur.com/gallery/4ZOYdH5</a>
And here (colors):
<a href="https://imgur.com/gallery/z0yZJ7d" rel="nofollow">https://imgur.com/gallery/z0yZJ7d</a></p><p>The hardware is a Atom Lite from M5Stack (see: <a href="https://shop.m5stack.com/products/atom-lite-esp32-development-kit" rel="nofollow">https://shop.m5stack.com/products/atom-lite-esp32-developmen...</a>) and a led stripe with addressable leds.</p><p>The software on the atom is micropython and the neopixel module. It connects to a webapp (through wifi) and listens to a JSON endpoint that gives the states of the leds (aka floors).</p><p>The webapp is a django app with a main user for the flat and he or she can invite others to control certain floors. All mobile friendly (no native app).</p><p>We have 4 live and deployed flats and are in the process of making more for our local hospitals.</p><p>The flat (wood) is custom made and pretty labour intensive.</p><p>A very fun project and learned a lot about hardware (and the deployment) coming from a saas background.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="40183826"><td></td></tr>
            <tr id="40184093"><td></td></tr>
                  <tr id="40181105"><td></td></tr>
                <tr id="40181379"><td></td></tr>
                <tr id="40181493"><td></td></tr>
                <tr id="40184316"><td></td></tr>
                        <tr id="40181213"><td></td></tr>
            <tr id="40181239"><td></td></tr>
                  <tr id="40185057"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40185057" href="https://news.ycombinator.com/vote?id=40185057&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>This is sort of on topic, except I haven’t finished.<p>I’ve been working on making a magnetic stirrer with an integrated scale and heating. It isn’t specific to esp or esphome stuff, but I happen to be using an esp32 to power it.</p><p>I wanted to buy a stirrer and discovered even the most basic equipment is extremely expensive. Once you add heat, let alone heat control that’s accurate with a digital readout, or a scale, prices are in the multiple thousands.</p><p>I know the one I make isn’t going to be as precise or accurate, the build quality won’t be as good, but it’ll be good enough for my purposes.</p><p>I’ve found very cheap models online, but oddly a lot of them can’t be shipped here and not surprisingly, the reviews are reliably terrible anyways.</p><p>I’ve been having a hard time figuring out the stirring part, ironically. The heat and scale part struck me as the trickiest initially, but I’m not smart enough to know how to protect the magnets from the heat.</p><p>My intuition at this point is that maybe I can accomplish this using electromagnets since they won’t be permanently damaged by heat, but I have no idea how to program this to work with a stirrer at a distance. It might be the completely wrong path to take, too.</p><p>In any case it’ll be worth it. I’ve been wanting a proper stirrer for quite a while, and the one I’m using at the moment is a computer fan hooked up to a potentiometer and an nmos, glued into a 3d printed platform.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="40181396"><td></td></tr>
            <tr id="40185198"><td></td></tr>
            <tr id="40181295"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40181295" href="https://news.ycombinator.com/vote?id=40181295&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>I built a little robot that props open a door when the av cabinet gets too hot. It has a temperature sensor, two fans and a linear actuator.  It even has a small webui so I can manually enable/disable cooling.  Been working for several years.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="40181600"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_40181600" href="https://news.ycombinator.com/vote?id=40181600&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>Ha, that's a great idea. I have a smart exhaust fan in the av closet, but it still lacks air circulation, so opening the door slightly every now and then (particularly when there's high load / heat dissipation) could be a nice extra feature.<p>How did you mount the linear actuator?  I need to retain the ability to manually open/close the door. Maybe using a magnetic latch.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="40185005"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_40185005" href="https://news.ycombinator.com/vote?id=40185005&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>The door hinge has a spring that will self close if it’s not opened too far.  I mounted the actuator so it pushes the door open just behind that point.  That turned out to be simplest solution.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="40183188"><td></td></tr>
                        <tr id="40181532"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40181532" href="https://news.ycombinator.com/vote?id=40181532&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>I have forty dutch buckets in four zones with cucumbers, tomatoes, eggplants, and peppers hooked up to two thirty gallon reservoirs and four ten gallon drainage tanks via a series of pumps and valves (using ESPhome sprinkler controller module). The first reservoir is pure RO water fed by a valve connected to the tap and the second is connected to a series of peristaltic pumps and sensors. They pump pH up and down as well as nutrients from concentrate into the reservoir and the concentrate bottles sit on DIY magnetic stirrers that run daily to prevent precipitation. Six ESP32s in waterproof Sockitboxes control all of this via a bunch of relays. The pH controller ESP32 gets mqtt messages via Atlas Scientific pH sensor while most of the other pumps are either on a schedule or respond to mqtt messages from Vegetronix water level sensors. I also have several Vegetronix liquid flow sensors that are hooked up to an ESP32 with solar and a battery that acts as a watchdog and alerts me via text message and indoor alarm if water doesnt flow for 12 or more hours.<p>The outdoor tap is also hooked up via valve to a drip irrigation loop that waters some roses and pots full of herbs, cabbage, etc.</p><p>The indoor setup is similar but much smaller with metal halide lamp and LEDs in a grow tent for out of season growing and seedlings. Protip: never put vining plants like cucumbers in a grow tent. Its a huge pain.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="40184232"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40184232" href="https://news.ycombinator.com/vote?id=40184232&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>My first contact with ESPHome revived an old ESP32 sunrise alarm clock project of mine whose hardware was all complete but software was half-baked shoddy C++. It has adjustable color temperature (to wake me up with blue light) and can play arbitrary MP3s as an alarm.<p>After discovering this power I also threw together an ESP32 timelapse device that plugs into the remote shutter port on my DSLR, configurable over Home Assistant of course. Was thinking of using the camera on the ESP32-CAM to take automatic photos of planes (computer vision??), but haven't gotten round to that yet.</p><p>ESPHome really is great for replacing the code I can't be bothered to write - it's hard to do after just having put together the hardware. The next project on the list is an environmental sensor and curtain opener for my room, using an ESP8266 and RS-232 controlled servo module (what I have laying around).
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="40181374"><td></td></tr>
            <tr id="40185076"><td></td></tr>
            <tr id="40182978"><td></td></tr>
            <tr id="40181211"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40181211" href="https://news.ycombinator.com/vote?id=40181211&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>I <i>want</i> to build a house-positioning system, but time, energy, and skill are lacking.<p>My wife, who has pretty extreme ADD, loses stuff like her wallet, keys, etc. We have Tiles on most stuff that gets lost, but sometimes the volume of the alert is lacking. I'd like something that uses multiple ESP32 or Pi receivers in known locations to triangulate the position of the bluetooth beacon in 3D space.</p><p>It's probably a bad idea, there might not be accurate enough timings or data to pinpoint the location. I've read somewhere that UWB will be much better at this.</p><p>EDIT: Another project idea: Sensor Light Switches. Would add sensors like occupancy, noise, pressure, temp, etc etc to the standard light switch plate/box. Then have that lovely data slurped up by something pretty to display it all.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="40181372"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_40181372" href="https://news.ycombinator.com/vote?id=40181372&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>I think you might want to look into <a href="https://espresense.com/" rel="nofollow">https://espresense.com/</a><p>Basically, this will net you "room precision" location of people, but i can't see why it won't work for gadgets if they have a Tile on them.</p><p>Not quite "in 3D space", but may be useful enough...
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="40182580"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_40182580" href="https://news.ycombinator.com/vote?id=40182580&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>I've put a bunch of rPI zeroes throughout the house with varying degrees of success. Works best with the home assistant beacon on my Galaxy watch, it's likely tile tags will work better.
The only downside is that the PIs require an external Bluetooth dongle hooked with a USB extender, because of wifi interference.<p>I used raspberry so I can use room-assistant for home assistant. You could probably hack it up with a bunch of ESPs and a central server to aggregate it all. Then trilateration should be fairly simple.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                  <tr id="40183663"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40183663" href="https://news.ycombinator.com/vote?id=40183663&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>I once built an Arduino project that monitored one room to an sd card while we were on holidays. That allowed me (in principle) to know if the heating could be lowered a bit more during absence. The results were not conclusive.<p>Another thingy tried to determine where the mouse that sometimes came into another room came from, by using infrared distance sensors. Never caught anything.</p><p>What did work was a two op fm synth with midi in and audio out. I was satisfied when it worked, so I didn't go all the way of making a 4 or 6 op version with pots and buttons (or one of those horrible deep menu systems).</p><p>So nothing practical. Just toying around, trying to get a bit of knowledge about how things work and having fun at the same time.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="40183570"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40183570" href="https://news.ycombinator.com/vote?id=40183570&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>I have three strings of ws2812b LEDs on my kitchen controlled by two ESP8266s with PIR sensors, providing various under-cupboard lighting.  It sounds over-engineered and was quite a lot of work to set up, but I chose to 'roll my own' because I couldn't find anything pre-made with the right combination of features without being too bulky.  (Honestly, I'd happily have bought someone's product instead.)<p>A nice bonus is that I can program different patterns to suit moods or events.  (For example, my partner requested scrolling red and green stripes for Christmas.)</p><p>(Tangent: pretty sure that despite having followed online guidance very closely, the power supplies I bought were <i>vastly</i> over-specced.)
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="40181354"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40181354" href="https://news.ycombinator.com/vote?id=40181354&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>I put together an esp32 + accelerometer in a little 3d printed box. Made two sets and taped one of each on my washer and dryer, now they detect the start and end of a cycle and send me a notification through home assistant. The tablet in the kitchen get a notification too and makes a special sound when the clothes are done!</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="40181426"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_40181426" href="https://news.ycombinator.com/vote?id=40181426&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>Oh I like that. We have LG washer and dryer but I have 0 interest in connecting then to Wi-Fi. Right now we have a z-wave button sitting on the washing machine that starts a timer when we press it, but since the washing machine has variable run times, it's imperfect.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="40183710"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_40183710" href="https://news.ycombinator.com/vote?id=40183710&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>Someone else on HN mentioned a couple of months ago that they were using a power meter for the same purpose. There are a lot of cheap zigbee and zwave outlets that will report power, though you'd have to implement the thresholding logic on your controller.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="40182381"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_40182381" href="https://news.ycombinator.com/vote?id=40182381&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>It works pretty well, and it's nice having full control of the smarts. My washer and dryer don't have a built in buzzer for some weird reason, so it's been a nice upgrade.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="40182077"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_40182077" href="https://news.ycombinator.com/vote?id=40182077&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>We have a "smart" washer &amp; dryer, and the Alexa voice announcement when the cycle finishes is handy.</span></p></div></td></tr>
        </tbody></table></td></tr>
                        <tr id="40184354"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40184354" href="https://news.ycombinator.com/vote?id=40184354&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>I made a glowy box that takes up 1U in my homelab rack and represents my home internet reliability - an esp32c3 (risc-v, experimenting with the rust support) which pings 8.8.8.8 every minute and shows the past 30 minutes of results on a strip of 30 LEDs (green -&gt; red for ping time, blue for errors)</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="40184253"><td></td></tr>
            <tr id="40184008"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40184008" href="https://news.ycombinator.com/vote?id=40184008&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>I turned a light-up Pac Ghost into an indicator lamp for my Uptime Kumar instances.<p><a href="https://github.com/psitem/uptime-kuma-pacman-ghost-light">https://github.com/psitem/uptime-kuma-pacman-ghost-light</a></p><p>I've been working on a replacement controller for the Omlet automatic chicken coop door. They've recently released their own connected controller but given the shortcomings of the original I'm not sure I trust it to be reliable enough to leave my feathered friends unsupervised for days at a time.</p><p>Next in the queue is replacing my ATHOM garage door controller with my own that will add a second reed switch to detect that the door is fully open.</p><p>And I'm mulling over ways I could monitor the feed level in my chicken feeders. And maybe close them off at night to keep other critters out. But it's tricky because I don't want to replace what I have with a design that might be easier to automate, as they've held up well against the rain and I'm lazy.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="40181184"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40181184" href="https://news.ycombinator.com/vote?id=40181184&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>I built a CO2 sensor that activates a fan in my office room to pull in fresh air if the CO2 levels go above 700ppm</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="40181285"><td></td></tr>
                <tr id="40181412"><td></td></tr>
            <tr id="40183937"><td></td></tr>
            <tr id="40181334"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_40181334" href="https://news.ycombinator.com/vote?id=40181334&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>Not the OP, but I really like the SCD30 by Sensirion. It's the sensor used in the widely popular Aranet4, but the combo of sensor+MCU when you DIY it costs about a third of the commercially integrated product, so the feeling of thrifty hacker accomplishment is a nice bonus on top of the good HW.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="40183206"><td></td></tr>
                        <tr id="40183333"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40183333" href="https://news.ycombinator.com/vote?id=40183333&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>I tend to roll my own with rp-picos for no good reason other than they're easy.<p>1) Wattmeter for a toy solar installation - broadcasts a UDP packet every few seconds, which I then record into a staging JSON log that gets ingested into DuckDB.</p><p>2) Little pico-w wifi temperature sensor that feeds into the raspberry pi zero that controls my boiler.</p><p>Thread about the boiler: <a href="https://hachyderm.io/deck/@dave_andersen/111579107766689328" rel="nofollow">https://hachyderm.io/deck/@dave_andersen/111579107766689328</a></p><p>github with some really crappy rust code: <a href="https://github.com/dave-andersen/boiler">https://github.com/dave-andersen/boiler</a></p><p>The boiler control is the fun one but it's not entirely embedded stuff. Runs a little control loop that turns down the boiler modulation based upon the difference between target and current temperature. Improves operating efficiency by a fair bit and reduces temperature swings. Makes me wish residential HVAC systems were more sophisticated - these are things any good industrial control system can do.</p><p>3) Made an "ok to wake" light for my son -- added a controllable LED strip to his clock with a pico-w in it that changes from orange to multicolored at 6:30am as a non-intrusive "yes, you can come bug your parents" signal.)</p><p><a href="https://hachyderm.io/deck/@dave_andersen/112091315519210298" rel="nofollow">https://hachyderm.io/deck/@dave_andersen/112091315519210298</a>
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="40183654"><td></td></tr>
                <tr id="40184960"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_40184960" href="https://news.ycombinator.com/vote?id=40184960&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>Oh my gosh that is totally charming! The clock i repurposed for ours has a bit too much of a "this belongs in an office" vibe. Fun to see how different the same idea ends up. I had the same concern about kid-proofing, but I took the route of putting mine on the wifi and using NTP instead of an RTC. (Because it knows the date, it plays different patterns on holidays and on his birthday.)</span></p></div></td></tr>
        </tbody></table></td></tr>
                        <tr id="40183567"><td></td></tr>
            <tr id="40184429"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40184429" href="https://news.ycombinator.com/vote?id=40184429&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>I got kind of petty and wanted to avoid the $40-50/month my wife spends on Pura scent refills. We also have multiple units in house, and I think they’re ugly (look like smoke alarms on wall). So I made a device to add scent juice in our HVAC system directly. It’s not as controllable, which hasn’t been a problem for us, but it is a more true full home experience which has been really nice actually.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="40184081"><td></td></tr>
            <tr id="40181210"><td></td></tr>
                <tr id="40181282"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_40181282" href="https://news.ycombinator.com/vote?id=40181282&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>I love that! Now I am seriously tempted to hack up the control unit of my Fully and get it into Home Assistant so I can adjust the desk with a slider on the laptop for ... reasons.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="40181418"><td></td></tr>
                        <tr id="40181242"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40181242" href="https://news.ycombinator.com/vote?id=40181242&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>I built a toilet occupancy light for the office. We had a long office with a single toilet, so built a battery powered closed-door detector on one side, and a mains-powered sign that indicated whether the toilet was free or not.<p>Very reliable, ESPHome was never an issue. This was circa 2018.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="40183911"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40183911" href="https://news.ycombinator.com/vote?id=40183911&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>I made one of the prototypes of a shooting target for a wacky wheels-inspired buggy racing project with esp and a pressure sensor (bmp something) enclosed in a plastic tank. Had some fun shooting at it from a paintball gun and looking at the graphs, but real conditions were too noisy for the most mechanical prototypes. The project was abandoned. I believe I fried one esp due to the lack of electrical experience and burned few fingers. I also remember having some arduino in the loop, but can’t tell why (or if, tried few setups in process).</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="40183952"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40183952" href="https://news.ycombinator.com/vote?id=40183952&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>I have a power meter that sits in front of my kettle (that I also use as a teapot) that notifies me when the tea has finished brewing (i.e. when it finished boiling + a fixed delay).</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="40181381"><td></td></tr>
            <tr id="40183823"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40183823" href="https://news.ycombinator.com/vote?id=40183823&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>I built a weather dashboard using an M5Paper from M5Stack.  The M5Paper has an E-ink touch display, is the size of a small smart phone, and only needs to be charged every week or so.<p><a href="https://speechcode.com/blog/weather-dashboard/" rel="nofollow">https://speechcode.com/blog/weather-dashboard/</a></p><p>I feel sheepish mentioning this project because there are so, so many weather displays like this.  But this is mine, and not only was it fun to put together, but I use it every day.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="40184135"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40184135" href="https://news.ycombinator.com/vote?id=40184135&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>Haven't done it yet but I'm making a booknook for my gf of the verandah in a particular Guatemalan hostel on the river where we stayed on our Central American holiday a few years ago. When a button is pressed it plays a looping mp3 of the jungle ambiance (ripped from a video I took on the actual holiday), together with a rippling light effect on the resin "river".</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="40184298"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40184298" href="https://news.ycombinator.com/vote?id=40184298&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>As a joke, I built a jar that would call a phone number to inform them the status of the jar. Thing looked like a bomb.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="40183986"><td></td></tr>
            <tr id="40184154"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40184154" href="https://news.ycombinator.com/vote?id=40184154&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>I've built a hardware monitoring screen for my main/gaming PC, that displays CPU/GPU usage and temperature, RAM/VRAM usage etc. It has been very useful for me to be able to see all those stats at a glance while in game, to see where my computer is bottlenecked. Oh and also it doubles as a desk clock. :)</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="40181592"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40181592" href="https://news.ycombinator.com/vote?id=40181592&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>I use homeassistant, so the esphome integration makes esp32s priceless.<p>- integrated my projector via RS232 to esp32</p><p>- integrated my projector screen via IR module</p><p>- ir receiver lets me use an old tv remote as a universal whole house remote</p><p>- motion sensors everywhere so I never have to touch a light switch again</p><p>- several wled units for accent lighting, night lights etc</p><p>- built a laser maze with esp32s and light detectors for my kid's birthday.</p><p>- I've played around with BLE based room detection, but it's not really useful yet (or maybe ever).</p><p>I love em!
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="40183047"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40183047" href="https://news.ycombinator.com/vote?id=40183047&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>I have a very old rotary phone that you “dial” how bright to make the lights. esp8266 detects dial pulses, sends mqtt message to home assistant, home assistant sets zigbee can/recessed lights to requested setting</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="40183189"><td></td></tr>
                  <tr id="40181221"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40181221" href="https://news.ycombinator.com/vote?id=40181221&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>I setup an LED strip with an ESP8266 and ESPHome for my 3d printer enclosure. I recently took it apart and integrated it into my 3d printer itself, but planning to set it up again to light my figure collection instead.<p>I also built a set of inertial full body trackers for VR usage with them. Although they could use some redesigning, probably with lower power MCUs, current ones are a bit too large for my liking.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="40181420"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40181420" href="https://news.ycombinator.com/vote?id=40181420&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>I built an automated apparatus to convert water, yeast and starch into sanitizer in April/May of 2020.<p>I used ESP32s for individual sensing components (mostly temperature at various parts of the process but also a load cell for weight).  I used the Tasmota firmware and tied them all together using MQTT over wifi.  I drove it with node-red on a raspberry pi to build several PID loops and process controls and if I were to do anything similar again I would use the same architecture except I would add network booting for the ESP32s so I could swap them out as needed.</p><p>Screenshot from a node-red dashboard from very early in the process.</p><p><a href="https://imgur.com/a/so7iZJX" rel="nofollow">https://imgur.com/a/so7iZJX</a></p><p>I ended up with 7 temp sensors and two load cells running on four ESP32s.  By the time I had it optimized my job was to swap containers out every time it said to replace container over a speaker.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="40181341"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40181341" href="https://news.ycombinator.com/vote?id=40181341&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>Does a raspberry zero count? I replaced the dubiously secure Chinese box that came with my solar panels with a home grown energy monitoring solution, hooked up to HomeAssistant. And I made a full color eInk photo frame that displays seasonally appropriate, generated images from a stable diffusion like-algo.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="40181494"><td></td></tr>
                <tr id="40182784"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_40182784" href="https://news.ycombinator.com/vote?id=40182784&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>An Inky 7.3 inch, pimoroni sells them. Pretty good, but the colors are cleary muted and it aggressively dithers (only 7 different ink colors in pixel)<p>I made an overly greasy movie to impress hiring managers on linkedin, should actually do a writeup and make some photos of the thing in its proper wooden frame...</p><p><a href="https://files.rombouts.email/photoframe.mov" rel="nofollow">https://files.rombouts.email/photoframe.mov</a></p><p>Also I run a fine tuned stable diffusion nowadays through Replicate ai, it now creates scenes starring my kids' pluche toys. Live view of the latest generation at the index page...</p><p><a href="https://files.rombouts.email/" rel="nofollow">https://files.rombouts.email</a>
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                        <tr id="40181159"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40181159" href="https://news.ycombinator.com/vote?id=40181159&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>I've used ESPHome to:<p>Control my garage doors (thanks ratgdo!)
Control my front gate (already had gate controls, this just triggers open/close)
Control various appliances (ESPHome can be installed on "smart plugs")</p><p>I definitely have additional things I'd like to do, but I've a dearth of time.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="40181313"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40181313" href="https://news.ycombinator.com/vote?id=40181313&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>I have not built anything novel — just utilizing community projects have been a wonderful improvement at home:
1. Ratgdo for the garage door
2. Esphome EcoNet for my water heater
3. Off the shelf Sonoff switches for some holiday lighting.<p>All of this is tied with a bow via Home Assistant.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="40183116"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40183116" href="https://news.ycombinator.com/vote?id=40183116&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>I built my own personal weather station when Wunderground was destroyed by TWC and IBM. It has continued to grow over the last two years. With each new idea I have, I have been adding additional functionality to it. It's fun and I've learnt a lot because multiple programming languages are needed to get everything to function.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="40183460"><td></td></tr>
            <tr id="40183237"><td></td></tr>
            <tr id="40183032"><td></td></tr>
            <tr id="40183230"><td></td></tr>
            <tr id="40182932"><td></td></tr>
            <tr id="40181188"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40181188" href="https://news.ycombinator.com/vote?id=40181188&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>I'm just starting a project with some other people at my local maker space to add an ESPHome monitor for our industrial air compressor to monitor leak down on the various main lines going to areas of the shop and to monitor the compressor working time for maintenance checks and such. The end result will get open sourced, hopefully along with a nice DIN mount to also be used in CNC controller enclosures and the like.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="40181290"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40181290" href="https://news.ycombinator.com/vote?id=40181290&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>I use it to monitor my water meter in Home Assistant and have one sensor that reads various values (e.g. water temperature) from our domestic water heat pump via Modbus. The latter one could also be controlled with the ESP, however writing to Modbus makes me feel a little uneasy (that is mostly due to lacking documentation by the manufacturer, who apparently outsourced the firmware part).</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="40181460"><td></td></tr>
            <tr id="40181428"><td></td></tr>
            <tr id="40181924"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40181924" href="https://news.ycombinator.com/vote?id=40181924&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>Built an add on to my Pacman machine that “inserts coins” when I ask Siri to “Show me the money” :)</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="40181349"><td></td></tr>
                <tr id="40181484"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_40181484" href="https://news.ycombinator.com/vote?id=40181484&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>I would pay real money for a system like this with actual security. The obvious starting point would be CTAP2 — the protocol is open, high quality fobs are inexpensive (not as cheap as Mifare, though) and widely available from multiple sources, and the protocol has been analyzed for real. One could probably even extract an actual production grade implementation of the NFC side from the Android sources. Apple Home Key support would be nifty, too.  PIV would be another credible choice.<p>Extra bonus points for support for real commercial readers using OSDP’s transparent mode or whatever they call it these days.  As I understand it, an early standard involved a horrible hack that was so horrible that HID managed to patent it, but the protocol was redone to avoid being a horrible hack, and the new version is also unencumbered. Although maybe the spec costs $30.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                  <tr id="40181492"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40181492" href="https://news.ycombinator.com/vote?id=40181492&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>I have a Casino machine addon that connects to the cloud with json/websockets in production. And I have a vertical light controller for indoor farming. These arent with ESPHome. With ESPHome I have a water pump to recharge a big water container when gov sends water at certain times everyday.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="40181229"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40181229" href="https://news.ycombinator.com/vote?id=40181229&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>I used an ESP8266 to build an air conditioning "remote" that I can control with my Home Assistant setup. I was pretty surprised when I moved and it still worked at the new apartment.<p>I also bought some LED matrix displays that I'm going to use to display information about when trains are due at my nearby station.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="40181331"><td></td></tr>
                  <tr id="40181489"><td></td></tr>
            <tr id="40181605"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40181605" href="https://news.ycombinator.com/vote?id=40181605&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>I have one that I attached to an old antenna rotator so I can control it from the network. And another that monitors Github's status API and lights an LED when they're down.<p>Got a nice pair of Github socks at re:invent for showing a pic of that last one at their booth!
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="40181456"><td></td></tr>
                <tr id="40181514"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_40181514" href="https://news.ycombinator.com/vote?id=40181514&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>I should update the post with details.<p>I ended up using DFRobot firebeetle because it respects sleep mode. I'm at 15 months on one charge with a 10Ah battery.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                  <tr id="40181589"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40181589" href="https://news.ycombinator.com/vote?id=40181589&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>I built a live programmable led string using micropython on esp32. Just connect to its wireless AP,  type some python code and see the result in the led string.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="40181497"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40181497" href="https://news.ycombinator.com/vote?id=40181497&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>I want to automate some window blinds to open/close, based on time of day, and maybe sunny-ness. Anyone try this? They came with a Velux remote control.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="40184635"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40184635" href="https://news.ycombinator.com/vote?id=40184635&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>I installed a custom firmware on my ESP32-powered smart kettle and made it respond with the HTTP status code "418 I'm a teapot". [1]<p>I used an ESP32 to automate my kitchen rangehood light and fan [2].</p><p>I've flashed ESPHome on few smart outlets and powerboards. A lot of WiFi enabled devices that you buy in stores are actually white-labelled "Tuya" products, and there's a big community effort to hack the ESP32 chips and run your own custom firmware, such as ESPHome and Tasmota. Most off-the-shelf WiFi products don't work without the manufacturer's cloud services and apps. ESPHome means that everything works locally and it doesn't need to make any requests to the public internet.</p><p>I have KC868-AG IR/RF hubs in every room [3]. I found an awesome supplier on AliExpress who builds products specifically for ESPHome. They're quite expensive but they work really well. I mainly use them to control our air conditioners. I use one in my workshop to control an old CRT TV. And I also use them as "Bluetooth Proxies" [4] for Home Assistant. This means that I don't have to worry about range for bluetooth devices (temp/humidity sensors, switchbot, and LPG gas tank sensor.)</p><p>I run WLED [5] to control a few LED strips. I like using QuinLED controllers [6], which have an ESP32 chip plus some extra hardware for powering LEDs. I have one behind my desk in my office, and one on a board gaming table. I use Zigbee LED controllers for most of my LED lighting, but I like all the effects and patterns you can do with WLED.</p><p>I have a lot of ESP32 boards around my house running ESPresense [7]. They track the signals from our phones and watches and try to figure out which rooms are occupied, so the timers don't automatically turn off the lights. I use the ESPresense-companion app, which works ok, but I've been wanting to experiment with AI to make it more reliable.</p><p>[1] <a href="https://madebynathan.com/2021/08/19/kogan-smart-kettle/" rel="nofollow">https://madebynathan.com/2021/08/19/kogan-smart-kettle/</a></p><p>[2] <a href="https://madebynathan.com/posts/2022-09-30-automating-my-kitchen-rangehood/" rel="nofollow">https://madebynathan.com/posts/2022-09-30-automating-my-kitc...</a></p><p>[3] <a href="https://www.aliexpress.com/item/1005003833775634.html?spm=a2g0o.order_list.order_list_main.11.31871802nNQEmg" rel="nofollow">https://www.aliexpress.com/item/1005003833775634.html?spm=a2...</a></p><p>[4] <a href="https://esphome.io/components/bluetooth_proxy.html" rel="nofollow">https://esphome.io/components/bluetooth_proxy.html</a></p><p>[5] <a href="https://kno.wled.ge/" rel="nofollow">https://kno.wled.ge/</a></p><p>[6] <a href="https://quinled.info/" rel="nofollow">https://quinled.info/</a></p><p>[7] <a href="https://espresense.com/" rel="nofollow">https://espresense.com/</a></p><p>[8] <a href="https://github.com/ESPresense/ESPresense-companion">https://github.com/ESPresense/ESPresense-companion</a>
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="40184001"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40184001" href="https://news.ycombinator.com/vote?id=40184001&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><p><span>I have an ESP8266 with motor controller opening and closing my chicken coop door at sunup and sundown. Also has a button to manually open or close.<p>It also monitors the temperature with a DS18B sensor, and uploads it via REST to a receiver that logs it to a database.</p><p>And it emaila me when the door opens or closes.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="40181262"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_40181262" href="https://news.ycombinator.com/vote?id=40181262&amp;how=up&amp;goto=item%3Fid%3D40181000"></a></center>    </td><td><br><div>
                  <p><span>I only got a proof-of-concept working, but I made a board that would allow payment for arcade games and pinball machines over wi-fi without disabling the coin slot. Free-play can be enabled by sensing the P1 and P2 start buttons. Security was an interesting puzzle because the 8266 ran out of memory when trying to host an SSL stack, so I went with HMAC signed messages.</span></p></div></td></tr>
        </tbody></table></td></tr>
            </tbody></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[SVG Viewer – View, edit, and optimize SVGs (451 pts)]]></title>
            <link>https://www.svgviewer.dev</link>
            <guid>40180821</guid>
            <pubDate>Sat, 27 Apr 2024 15:43:54 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.svgviewer.dev">https://www.svgviewer.dev</a>, See on <a href="https://news.ycombinator.com/item?id=40180821">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="__next"><main><div><div><div><div><div><a href="https://www.svgviewer.dev/"><p><span>SVG</span>Viewer</p></a></div></div></div><div><div><div><div><div><div><p><span>Rotate</span></p></div><div><p>Flip Y</p></div><div><p><span>Flip X</span></p></div></div><div tabindex="0"><div><svg width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#resize_svg__a)" stroke="#C7CAD1" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path opacity="0.4" d="M4 4h8v8H4V4Z" fill="#C7CAD1"></path><path d="M4 4h8v8M4 4v8h8M4 4V1m0 3H1m11 8h3m-3 0v3"></path></g><defs><clipPath id="resize_svg__a"><path fill="#fff" d="M0 0h16v16H0z"></path></clipPath></defs></svg><p><span>-1px x -1px</span></p></div><p><span>Change dimensions</span></p></div></div><div><div><p><span>578 bytes493 bytes</span><span>-15%</span></p></div><div><p><span>Preferences</span></p></div></div></div></div><div><p><label for="fileUpload"><div><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none"><path d="M8 2v10M8 2 3 7m5-5 5 5" stroke="#fff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path opacity="0.4" d="M14 15H2v-3h12v3Z" fill="#fff" stroke="#fff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg><p>Upload</p></div></label></p></div></div><div><p><span><p><span><span>100%</span></span><span><span></span><span></span><span></span><span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 26 26" fill="none"><g clip-path="url(#checkerboard_svg__a)"><rect width="24" height="24" rx="4" fill="#fff"></rect><path fill="#C7CAD1" d="M0 0h11v11H0zM11 11h10v10H11zM21 21h11v11H21zM21 0h11v11H21zM0 21h11v11H0z"></path></g><defs><clipPath id="checkerboard_svg__a"><rect x="1" y="1" width="24" height="24" rx="4" fill="#fff"></rect></clipPath></defs></svg></span></span></p></span></p></div></div><div><div><a href="https://www.svgviewer.dev/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 124 124" fill="none"><rect width="124" height="124" rx="24" fill="#F97316"></rect><path d="M19.375 36.782v63.843a4 4 0 0 0 4 4h63.843c3.564 0 5.348-4.309 2.829-6.828L26.203 33.953c-2.52-2.52-6.828-.735-6.828 2.829Z" fill="#fff"></path><circle cx="63.211" cy="37.539" r="18.164" fill="#000"></circle><rect opacity="0.4" x="81.133" y="80.72" width="17.569" height="17.388" rx="4" transform="rotate(-45 81.133 80.72)" fill="#FDBA74"></rect></svg><p><span>SVG</span>Viewer</p></a></div><div><div><div><div><div><div><p><span>Rotate</span></p></div><div><p>Flip Y</p></div><div><p><span>Flip X</span></p></div></div><div tabindex="0"><div><svg width="16" height="16" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#resize_svg__a)" stroke="#C7CAD1" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path opacity="0.4" d="M4 4h8v8H4V4Z" fill="#C7CAD1"></path><path d="M4 4h8v8M4 4v8h8M4 4V1m0 3H1m11 8h3m-3 0v3"></path></g><defs><clipPath id="resize_svg__a"><path fill="#fff" d="M0 0h16v16H0z"></path></clipPath></defs></svg><p><span>-1px x -1px</span></p></div><p><span>Change dimensions</span></p></div></div><div><div><p><span>578 bytes493 bytes</span><span>-15%</span></p></div><div><p><span>Preferences</span></p></div></div></div></div><div><p><label for="fileUpload"><div><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none"><path d="M8 2v10M8 2 3 7m5-5 5 5" stroke="#fff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path opacity="0.4" d="M14 15H2v-3h12v3Z" fill="#fff" stroke="#fff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg><p>Upload</p></div></label></p></div></div><div><p><span><p><span><span>100%</span></span><span><span></span><span></span><span></span><span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 26 26" fill="none"><g clip-path="url(#checkerboard_svg__a)"><rect width="24" height="24" rx="4" fill="#fff"></rect><path fill="#C7CAD1" d="M0 0h11v11H0zM11 11h10v10H11zM21 21h11v11H21zM21 0h11v11H21zM0 21h11v11H0z"></path></g><defs><clipPath id="checkerboard_svg__a"><rect x="1" y="1" width="24" height="24" rx="4" fill="#fff"></rect></clipPath></defs></svg></span></span></p></span></p></div></div></div></main></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The walls of Apple's garden are tumbling down (249 pts)]]></title>
            <link>https://www.theverge.com/24141929/apple-iphone-imessage-antitrust-dma-lock-in</link>
            <guid>40180790</guid>
            <pubDate>Sat, 27 Apr 2024 15:38:21 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theverge.com/24141929/apple-iphone-imessage-antitrust-dma-lock-in">https://www.theverge.com/24141929/apple-iphone-imessage-antitrust-dma-lock-in</a>, See on <a href="https://news.ycombinator.com/item?id=40180790">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content"><p>I was sitting in a suburban Cincinnati Starbucks when I realized everything was going to change. </p><p>It was early 2008, and a friend was showing me his new phone. He loaded a website and passed his iPhone across the table, and I scrolled down the page. It was slow and clunky, but it was real. “There it is,” he said. “The internet on my phone.”&nbsp;</p><p>It was like seeing the moment that something fragile falls out of your hands. You know it’s going to be everywhere, but for a second, it isn’t. And everything <em>did</em> change, though not all at once. In the early days, the iPhone was powerful — exciting even — but not dominant. I carried a work-issued Blackberry Curve well into 2012. People had a lot of different phones back then, actually; Nokias, Motorolas, HTCs, Palms. But over time, they were seemingly replaced one by one in the hands of everyone I knew, all with the same device: the iPhone.</p><div><p>Over time, they were seemingly replaced one by one with the same device: the iPhone</p></div><p>I didn’t cover smartphones then, but even just being adjacent to mobile tech, I could feel that the energy around a new iPhone launch was different. Normal people were aware of them, making them very different from the camera launch events I was covering. And they truly felt like <em>events</em>, something that made everyone stop and take notice. They reverberated across the country — from Cupertino all the way to suburban Cincinnati.&nbsp;</p><p>But over the years, the vibe slowly shifted. Last fall, coming off an intense couple weeks of testing the iPhone 15 Pro, I stopped by my wireless carrier’s local store. A sales associate and I chatted as he swapped my eSIM back to a physical SIM card. “What do you think of the new iPhones?” I asked. They were on the store shelves and had only gone on sale a few days ago. “Eh,” he said, “they’re phones.”</p><p>As much as Apple would like us to think otherwise, this is where we are: iPhones are just phones. To most people — even to someone who spends all day selling them — they’re just a tool, and getting a new one feels like an inevitability, not an event. Something about as exciting as upgrading your washing machine.&nbsp;</p><p>Phones have assumed a more appliance-like position in our consciousness; that much was inevitable. That’s not necessarily a problem for us, the consumers, but that’s <em>definitely </em>a problem for Apple. Despite its efforts to diversify over the years, it is still a company whose massive fortunes largely rest on one humble product: the iPhone. Apple has a vested interest in keeping us believing that the brand name on your phone matters.</p><p>Apple’s answer has been to build the walls of its garden higher and higher, making sure customers use its own products and nothing else. Now, those walls are threatening to come tumbling down.</p><div><div role="button" aria-label="Zoom" tabindex="0"><figure><div><p><span><img alt="A hand holding up an iPhone 15 Pro model" loading="lazy" decoding="async" data-nimg="fill" sizes="(max-width: 1023px) 100vw, 744px" srcset="https://duet-cdn.vox-cdn.com/thumbor/0x0:5568x3712/376x251/filters:focal(2784x1856:2785x1857):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24916310/DSC_1099.jpeg 376w, https://duet-cdn.vox-cdn.com/thumbor/0x0:5568x3712/384x256/filters:focal(2784x1856:2785x1857):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24916310/DSC_1099.jpeg 384w, https://duet-cdn.vox-cdn.com/thumbor/0x0:5568x3712/415x277/filters:focal(2784x1856:2785x1857):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24916310/DSC_1099.jpeg 415w, https://duet-cdn.vox-cdn.com/thumbor/0x0:5568x3712/480x320/filters:focal(2784x1856:2785x1857):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24916310/DSC_1099.jpeg 480w, https://duet-cdn.vox-cdn.com/thumbor/0x0:5568x3712/540x360/filters:focal(2784x1856:2785x1857):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24916310/DSC_1099.jpeg 540w, https://duet-cdn.vox-cdn.com/thumbor/0x0:5568x3712/640x427/filters:focal(2784x1856:2785x1857):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24916310/DSC_1099.jpeg 640w, https://duet-cdn.vox-cdn.com/thumbor/0x0:5568x3712/750x500/filters:focal(2784x1856:2785x1857):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24916310/DSC_1099.jpeg 750w, https://duet-cdn.vox-cdn.com/thumbor/0x0:5568x3712/828x552/filters:focal(2784x1856:2785x1857):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24916310/DSC_1099.jpeg 828w, https://duet-cdn.vox-cdn.com/thumbor/0x0:5568x3712/1080x720/filters:focal(2784x1856:2785x1857):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24916310/DSC_1099.jpeg 1080w, https://duet-cdn.vox-cdn.com/thumbor/0x0:5568x3712/1200x800/filters:focal(2784x1856:2785x1857):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24916310/DSC_1099.jpeg 1200w, https://duet-cdn.vox-cdn.com/thumbor/0x0:5568x3712/1440x960/filters:focal(2784x1856:2785x1857):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24916310/DSC_1099.jpeg 1440w, https://duet-cdn.vox-cdn.com/thumbor/0x0:5568x3712/1920x1280/filters:focal(2784x1856:2785x1857):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24916310/DSC_1099.jpeg 1920w, https://duet-cdn.vox-cdn.com/thumbor/0x0:5568x3712/2048x1365/filters:focal(2784x1856:2785x1857):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24916310/DSC_1099.jpeg 2048w, https://duet-cdn.vox-cdn.com/thumbor/0x0:5568x3712/2400x1600/filters:focal(2784x1856:2785x1857):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24916310/DSC_1099.jpeg 2400w" src="https://duet-cdn.vox-cdn.com/thumbor/0x0:5568x3712/2400x1600/filters:focal(2784x1856:2785x1857):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24916310/DSC_1099.jpeg" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></span></p></div></figure></div><div><figcaption><em>Apple has scaled back or outright eliminated live launch events for its other products — but not the iPhone.</em></figcaption> <p><cite>Photo by Nilay Patel / The Verge</cite></p></div></div><p>We’re a long way from the “wow” moment of that first iPhone. It’s not all vibes, either. <a href="https://www.idc.com/getdoc.jsp?containerId=prUS51899524">According to IDC</a>, smartphone sales shrunk six out of the last seven years. The firm attributes some of that slump to improved device durability. Just about every flagship phone sold in the past few years, Apple’s lineup included, has offered full water resistance, meaning they’ll survive a brief dip in a body of fresh water. My 2016 iPhone SE did not survive such a fate.</p><p>IDC also points at something that’s a little harder to pin down: a “lengthened replacement cycle.” This is where we get into vibes territory: it just doesn’t feel as urgent to replace your smartphone every few years as it used to. In the real early days, lots of things about a smartphone were just <em>bad</em>. <a href="https://www.theverge.com/2012/9/21/3363238/iphone-5-review#:~:text=lack%20of%20stutter-,Battery%20Life,-One%20of%20the">Battery life wasn’t great</a>. Cameras were bad. Processors would chug, and console-quality mobile gaming was a distant vision. But all those things have gotten much better and increasingly irrelevant in the better part of the past decade.</p><p>Apple consistently ranks as one of the top three companies by revenue in the US, but it is the only company on those lists that makes most of its money from one very specific business: making and selling phones. When the smartphone market is in decline, Apple feels it in a way that Amazon and Walmart don’t. </p><p>So it’s been doing the logical thing for years, which is finding other ways to make money, and <a href="https://www.theverge.com/2019/3/20/18273179/apple-icloud-itunes-app-store-music-services-businesses">it’s been largely successful</a>, particularly as it added the App Store and services like Apple Music. But its fortunes still rest disproportionately on iPhone sales: in <a href="https://www.apple.com/newsroom/pdfs/fy2024-q1/FY24_Q1_Consolidated_Financial_Statements.pdf">Apple’s 2024 Q1 financials</a>, it reports net sales of $119.6 billion in the three months prior to December 30th, 2023, with $69.7 billion attributed to the iPhone. Services — the second-highest business segment — contributed only $23 billion.</p><div><div role="button" aria-label="Zoom" tabindex="0"><figure><div><p><span><img alt="iPhone 14 Pro and 14 Pro Max on a backdrop of colorful bouncy balls." loading="lazy" decoding="async" data-nimg="fill" sizes="(max-width: 1023px) 100vw, 744px" srcset="https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/376x251/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24020037/226270_iPHONE_14_PHO_akrales_0685.jpg 376w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/384x256/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24020037/226270_iPHONE_14_PHO_akrales_0685.jpg 384w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/415x277/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24020037/226270_iPHONE_14_PHO_akrales_0685.jpg 415w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/480x320/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24020037/226270_iPHONE_14_PHO_akrales_0685.jpg 480w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/540x360/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24020037/226270_iPHONE_14_PHO_akrales_0685.jpg 540w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/640x427/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24020037/226270_iPHONE_14_PHO_akrales_0685.jpg 640w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/750x500/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24020037/226270_iPHONE_14_PHO_akrales_0685.jpg 750w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/828x552/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24020037/226270_iPHONE_14_PHO_akrales_0685.jpg 828w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/1080x720/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24020037/226270_iPHONE_14_PHO_akrales_0685.jpg 1080w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/1200x800/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24020037/226270_iPHONE_14_PHO_akrales_0685.jpg 1200w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/1440x960/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24020037/226270_iPHONE_14_PHO_akrales_0685.jpg 1440w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/1920x1280/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24020037/226270_iPHONE_14_PHO_akrales_0685.jpg 1920w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/2048x1365/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24020037/226270_iPHONE_14_PHO_akrales_0685.jpg 2048w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/2400x1600/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24020037/226270_iPHONE_14_PHO_akrales_0685.jpg 2400w" src="https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/2400x1600/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24020037/226270_iPHONE_14_PHO_akrales_0685.jpg" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></span></p></div></figure></div><div><figcaption><em>Despite its best efforts, iPhone sales still make up a massive chunk of Apple’s sales.</em></figcaption> <p><cite>Image: Amelia Holowaty Krales / The Verge</cite></p></div></div><p>Early in its life, the iPhone gained a reputation as a platform that perfected new concepts rather than pioneered them. It wasn’t the first to implement face unlock, high-refresh-rate screens, or telephoto cameras, but it could be relied on to implement new-ish technologies with the edges roughed out (<a href="https://www.theverge.com/2012/9/27/3416396/apple-races-the-clock-maps-issues">well, usually</a>). But as Apple amassed a pile of proprietary features and services in its walled garden — the App Store, iMessage, FaceTime, Apple Wallet, to name a few — and its dominance in the US grew, one thing became clear: the company had no interest in letting anything in that might threaten its position.</p><p>As those products took off, Apple deployed some defensive moves. Take iMessage: it launched in 2011 and reached 140 million users by 2012. In 2013, there was <a href="https://www.theverge.com/2013/9/24/4765240/imessage-chat-for-android-spoof-app">clearly an appetite</a> for cross-platform compatibility. The benefits were obvious — seamless communication rather than a confusing mix of green and blue bubbles, SMS and not. And it wasn’t just a matter of Android users wanting <em>in;</em> keeping Android users out gives iOS users an objectively worse and less secure experience. Apple executive Eddy Cue <a href="https://www.theverge.com/2021/4/9/22375128/apple-imessage-android-ecosystem-lock-in-epic-games-filings-app-store-dispute">pushed for an Android iMessage app</a> in 2016, but Craig Federighi responded in an internal email that “iMessage on Android would simply serve to remove an obstacle to iPhone families giving their kids Android phones.”&nbsp;</p><div><p>And Tim Cook, famously, thinks <a href="https://www.theverge.com/2022/9/7/23342243/tim-cook-apple-rcs-imessage-android-iphone-compatibility">you should “buy your Mom an iPhone”</a> if you want to use iMessage with her.&nbsp;</p></div><p>We can see the same strategy at work across the ecosystem — from FaceTime to watches, you’ll find a lot of friction if you try to take an Apple product outside of the garden. But while we can speculate about Apple’s motivations for peripherals and services, when it comes to iMessage, there’s no mystery at all: Apple kept it locked down for a decade to keep iOS users locked in. Executives at the company have said as much, both internally and out loud.&nbsp;</p><div><div role="button" aria-label="Zoom" tabindex="0"><figure><div><p><span><img alt="Blue iPhone 15 Pro and natural titanium iPhone 15 Pro Max leaning against a perforated metal background." loading="lazy" decoding="async" data-nimg="fill" sizes="(max-width: 1023px) 100vw, 744px" srcset="https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/376x251/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931973/236794_iPhone_15_pro_pro_Max_VPavic_0017.jpg 376w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/384x256/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931973/236794_iPhone_15_pro_pro_Max_VPavic_0017.jpg 384w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/415x277/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931973/236794_iPhone_15_pro_pro_Max_VPavic_0017.jpg 415w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/480x320/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931973/236794_iPhone_15_pro_pro_Max_VPavic_0017.jpg 480w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/540x360/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931973/236794_iPhone_15_pro_pro_Max_VPavic_0017.jpg 540w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/640x427/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931973/236794_iPhone_15_pro_pro_Max_VPavic_0017.jpg 640w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/750x500/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931973/236794_iPhone_15_pro_pro_Max_VPavic_0017.jpg 750w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/828x552/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931973/236794_iPhone_15_pro_pro_Max_VPavic_0017.jpg 828w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/1080x720/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931973/236794_iPhone_15_pro_pro_Max_VPavic_0017.jpg 1080w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/1200x800/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931973/236794_iPhone_15_pro_pro_Max_VPavic_0017.jpg 1200w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/1440x960/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931973/236794_iPhone_15_pro_pro_Max_VPavic_0017.jpg 1440w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/1920x1280/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931973/236794_iPhone_15_pro_pro_Max_VPavic_0017.jpg 1920w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/2048x1365/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931973/236794_iPhone_15_pro_pro_Max_VPavic_0017.jpg 2048w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/2400x1600/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931973/236794_iPhone_15_pro_pro_Max_VPavic_0017.jpg 2400w" src="https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/2400x1600/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931973/236794_iPhone_15_pro_pro_Max_VPavic_0017.jpg" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></span></p></div></figure></div><div><figcaption><em>Apple keeps its customers and its platform under tight control.</em></figcaption> <p><cite>Photo by Vjeran Pavic / The Verge</cite></p></div></div><p>Customer lock-in is only part of the equation — there’s also the platform itself and the people who develop for it. Unsurprisingly, Apple has also maintained a death grip of control over the app store since its inception, placing strict limitations on developers making apps for the platform and building it into a revenue-generating machine for the company.</p><p>The app store launched in 2008 with a key policy in place: Apple would get a 30 percent commission on every app sold. Later, when the company added in-app purchases, it would require developers to use Apple’s own payment processing — with the same 30 percent cut applied to every transaction. Over the years, the app store ballooned — from its initial 500 apps to <a href="https://www.apple.com/newsroom/2023/05/developers-generated-one-point-one-trillion-in-the-app-store-ecosystem-in-2022/">“thousands” at the end of 2008</a> to its <a href="https://www.apple.com/app-store/">present-day total of 1.8 million</a>. And in 2020 alone, it brought Apple <a href="https://www.theverge.com/2021/1/8/22220873/apple-2020-app-store-revenue-60-billion-dollars">more than $60 billion in revenue</a>.</p><p>As the App Store grew, Apple’s strict controlling measures came under more and more criticism. Developers complained that the company’s app review process — deciding which apps get to go into the App Store and which don’t — <a href="https://www.theverge.com/2019/6/4/18652460/apple-class-action-lawsuit-monopoly-app-store">was opaque and unfair</a>. Complaints about the company’s 30 percent cut on purchases led Apple to <a href="https://www.theverge.com/2016/9/2/12774758/apple-developers-app-store-new-subscription-rules">drop its fee down to 15 percent</a> on subscriptions after the first year. And <a href="https://www.theverge.com/2015/11/19/9757516/ipad-pro-apps-pricing-ios-developers-opt-out">smaller developers struggled</a> to find a business model that worked between Apple’s commission fees and strict guidelines over how and when it could charge customers for their product.</p><div><p>By 2016, <a href="https://www.theverge.com/22667242/apple-app-store-major-policy-changes-history">Apple was taking a much more reactive stance</a> than in the early days — introducing policy changes more frequently and usually in response to criticism.&nbsp;</p></div><p>The result has been a patchy and confusing network of fixes. Certain types of apps <a href="https://www.theverge.com/2019/4/27/18519888/apple-screen-time-app-tracking-parental-controls-report">were disallowed</a> and then <a href="https://www.theverge.com/2019/6/4/18653142/apple-mdm-parental-control-screen-time-app-store-guidelines-update">quietly re-allowed</a>. App store policies made it difficult for services like Kindle and Netflix to exist on iOS since they let users access subscription content purchased outside of those apps. So Apple <a href="https://developer.apple.com/app-store/review/guidelines/#reader-apps">carved out an exception</a> for these apps, but <a href="https://developer.apple.com/app-store/review/guidelines/#reader-apps">controversy ensued</a> when an email app maker tried to apply the classification to its app. Apple’s strategy is starting to look a lot more like defense than offense.&nbsp;</p><p>The tactics are different, but Apple’s situation now smacks of Microsoft’s in the ’90s. Back then, Microsoft was the dominant force in the PC market and made every effort to keep it that way by placing restrictions on Windows. Netscape emerged as a threat to Windows’ dominance, so Microsoft <a href="https://www.justice.gov/atr/us-v-microsoft-courts-findings-fact#iv">cut off its air supply</a> by giving away its own web browser for free with Windows. Microsoft recognized that Java could make porting software from Windows to other systems easier, so it sabotaged Sun’s efforts and instructed its allies not to aid the company.</p><p>But you can only play whack-a-mole with the competition — or push back <a href="https://www.theverge.com/2024/3/21/24107633/apple-streaming-super-apps-doj-lawsuit#:~:text=payments%2C%20etc.%E2%80%99%20would%20%E2%80%98-,let%20the%20barbarians%20in%20at%20the%20gate.,-%E2%80%99%E2%80%9D">the barbarians at the gate</a> — for so long.</p><div><div role="button" aria-label="Zoom" tabindex="0"><figure><div><p><span><img alt="iPhone on a glass table." loading="lazy" decoding="async" data-nimg="fill" sizes="(max-width: 1023px) 100vw, 744px" srcset="https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/376x251/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931345/236792_iPhone_15_Pro_and_15_Pro_Max_product_photos_AJohnson_0001.jpg 376w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/384x256/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931345/236792_iPhone_15_Pro_and_15_Pro_Max_product_photos_AJohnson_0001.jpg 384w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/415x277/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931345/236792_iPhone_15_Pro_and_15_Pro_Max_product_photos_AJohnson_0001.jpg 415w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/480x320/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931345/236792_iPhone_15_Pro_and_15_Pro_Max_product_photos_AJohnson_0001.jpg 480w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/540x360/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931345/236792_iPhone_15_Pro_and_15_Pro_Max_product_photos_AJohnson_0001.jpg 540w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/640x427/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931345/236792_iPhone_15_Pro_and_15_Pro_Max_product_photos_AJohnson_0001.jpg 640w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/750x500/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931345/236792_iPhone_15_Pro_and_15_Pro_Max_product_photos_AJohnson_0001.jpg 750w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/828x552/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931345/236792_iPhone_15_Pro_and_15_Pro_Max_product_photos_AJohnson_0001.jpg 828w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/1080x720/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931345/236792_iPhone_15_Pro_and_15_Pro_Max_product_photos_AJohnson_0001.jpg 1080w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/1200x800/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931345/236792_iPhone_15_Pro_and_15_Pro_Max_product_photos_AJohnson_0001.jpg 1200w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/1440x960/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931345/236792_iPhone_15_Pro_and_15_Pro_Max_product_photos_AJohnson_0001.jpg 1440w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/1920x1280/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931345/236792_iPhone_15_Pro_and_15_Pro_Max_product_photos_AJohnson_0001.jpg 1920w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/2048x1365/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931345/236792_iPhone_15_Pro_and_15_Pro_Max_product_photos_AJohnson_0001.jpg 2048w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/2400x1600/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931345/236792_iPhone_15_Pro_and_15_Pro_Max_product_photos_AJohnson_0001.jpg 2400w" src="https://duet-cdn.vox-cdn.com/thumbor/0x0:2040x1360/2400x1600/filters:focal(1020x680:1021x681):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24931345/236792_iPhone_15_Pro_and_15_Pro_Max_product_photos_AJohnson_0001.jpg" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></span></p></div></figure></div><div><figcaption><em>The iPhone is at the center of the Department of Justice’s anti-trust case against Apple.</em></figcaption> <p><cite>Photo by Allison Johnson / The Verge</cite></p></div></div><p>Apple’s reckoning started in the courtroom. In 2020, Epic sued Apple and Google over their app store practices — specifically, the 30 percent commission that Apple helped establish as an industry standard. The court ruled in favor of Epic, but Apple was ordered to let app makers direct users to payment methods outside of those offered by Apple. Then, in 2022, <a href="https://www.theverge.com/2022/3/24/22994234/eu-antitrust-legislation-dma-digital-markets-act-details">the European Union introduced legislation</a> trying to reign in the power of big tech companies, Apple included. Apple responded to the pressure by <a href="https://www.theverge.com/2023/11/16/23964171/apple-iphone-rcs-support">promising to support RCS on the iPhone</a> — a standard that updates the relatively ancient SMS/MMS protocol and includes more iMessage-like features.&nbsp;</p><p>The other shoe fell last month when the US Department of Justice <a href="https://www.theverge.com/2024/3/21/24105363/apple-doj-monopoly-lawsuit">filed an antitrust lawsuit against Apple</a> for operating an illegal monopoly in the smartphone market. The legal process is just starting, and when it eventually happens, the trial seems likely to drag on for years into the future. The DOJ’s antitrust case against Microsoft was introduced in 1998; appeals stretched into 2007.</p><div><p>Apple has already started implementing changes as a result of the new EU policies: adding a new <a href="https://www.theverge.com/2024/1/26/24051823/apple-third-party-app-stores-50-cent-fee">app store commission structure</a>, enabling <a href="https://www.theverge.com/24100979/altstore-europe-app-marketplace-price-games">third-party app stores</a>, and creating <a href="https://www.theverge.com/2024/3/6/24092026/heres-the-new-ios-default-browser-nag-for-iphone-users-in-europe">a choice screen</a> for users to pick their preferred web browser. But that’s unlikely to be the end of it — <a href="https://www.theverge.com/2024/1/26/24052162/spotify-apple-app-store-tax-eu-dma">app developers aren’t happy</a> with the company’s “malicious compliance” to new rules under the DMA, and <a href="https://www.theverge.com/2024/3/25/24111232/european-commission-digital-markets-act-investigation">European regulators are investigating Apple’s response</a>.&nbsp;</p></div><div><p>Apple could have had more control over its destiny by opening up its services earlier</p></div><p>One new law or antitrust case might not be enough to bring down the garden walls, but for Apple, the past five years have amounted to an enormous pressure buildup — and it’s not stopping. Apple could have had more control over its destiny by opening up its services earlier, but it didn’t. Now, it’s being forced to react to regulation, creating different rules for iOS in different regions of the world. It’s hard to run a visionary, future-forward company with lawsuits and regulators as a constant distraction — <a href="https://www.wired.com/2000/11/microsoft-7/">just ask Bill Gates</a>.</p><p>In the years that followed my first glimpse of the iPhone, I’ve used more phones than I could possibly recall or count. And over the years, I’ve seen them get faster, more reliable, and harder to distinguish from one another. A new technology can’t wow us forever; eventually, it’s everywhere. History has shown us that one company can only claim dominance over that technology for so long — and the bigger it gets, the more energy it takes to maintain it. </p><p>A little daylight is creeping into the walled garden now, and I’ll bet there are even brighter days ahead of us.&nbsp;&nbsp;</p></div></div>]]></description>
        </item>
    </channel>
</rss>