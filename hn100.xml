<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Sun, 31 Dec 2023 19:00:05 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Email addresses are not good 'permanent' identifiers for accounts (205 pts)]]></title>
            <link>https://utcc.utoronto.ca/~cks/space/blog/tech/EmailAddressesBadPermanentIDs</link>
            <guid>38823817</guid>
            <pubDate>Sun, 31 Dec 2023 13:13:00 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://utcc.utoronto.ca/~cks/space/blog/tech/EmailAddressesBadPermanentIDs">https://utcc.utoronto.ca/~cks/space/blog/tech/EmailAddressesBadPermanentIDs</a>, See on <a href="https://news.ycombinator.com/item?id=38823817">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><h2>Email addresses are not good 'permanent' identifiers for accounts</h2>

	<p><small>December 30, 2023</small></p>
</div><div><p>Every so often someone needs to create a more or less permanent
internal identifier in their system every person's account. Some
of the time they look at how <a href="https://utcc.utoronto.ca/~cks/space/blog/sysadmin/OIDCThreeEmailAddresses">authentication systems like OIDC
return email addresses among other data</a> and decide that since pretty
much everyone is giving them an email address, they'll use the email
address as the account's permanent internal identification.
As <a href="http://regex.info/blog/2006-09-15/247">the famous saying</a> goes,
now you have two problems.</p>

<p>The biggest problem with email addresses as 'permanent' identifiers
is that people's email addresses change even within a single
organization (for example, <a href="https://www.utoronto.ca/">a university</a>).
They change for the same collection of reasons that people's
<a href="https://utcc.utoronto.ca/~cks/space/blog/tech/FullLegalNamesProblems">commonly used names</a> and <a href="https://utcc.utoronto.ca/~cks/space/blog/sysadmin/LoginsDoChange">logins change</a>. An organization that refuses to change
or redo the email addresses it assigns to people is being unusually
cruel in ways that are probably not legally sustainable in any
number of places.</p>

<p>(Some of the time there will be some sort of access or forwarding
from the old email address to the new one, but even then the old
email address may no longer work for non-email purposes such as
OIDC authentication. And beyond that, the person won't want to keep
using their old and possibly uncomfortable email address with you,
they want to use their new current one.)</p>

<p>The lesser problem is that you have no particular guarantee that
an organization won't reuse email addresses, either in general or
for particularly desirable ones that get reused or reassigned as
an exception because someone powerful wants them. Sometimes you
sort of have no choice, because account recovery has to run through
the email address you have on file, but at other times (such as in
theory with <a href="https://en.wikipedia.org/wiki/OpenID#OpenID_Connect_(OIDC)">OIDC</a>), you
have some form of internal ID that is supposed to be unique and
permanent, which you should use.</p>

<p>Even if you have to remember an email address for account recovery,
<a href="https://utcc.utoronto.ca/~cks/space/blog/tech/PowerOfMeaninglessIDs">you want your internal identifier for accounts to be meaningless</a>. This will make your life much simpler in
the long run, even if this is never exposed to people.</p>

<p>(There are also security issues lurking in the underbrush of reading
too much into email addresses, <a href="https://trufflesecurity.com/blog/google-oauth-is-broken-sort-of/">cf</a> (<a href="https://news.ycombinator.com/item?id=38720544">via</a>).)</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Sweden Solar System (114 pts)]]></title>
            <link>https://en.wikipedia.org/wiki/Sweden_Solar_System</link>
            <guid>38823482</guid>
            <pubDate>Sun, 31 Dec 2023 12:04:23 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://en.wikipedia.org/wiki/Sweden_Solar_System">https://en.wikipedia.org/wiki/Sweden_Solar_System</a>, See on <a href="https://news.ycombinator.com/item?id=38823482">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
							

						<p>From Wikipedia, the free encyclopedia</p>
					</div><div lang="en" dir="ltr" id="mw-content-text">

<div><p><span typeof="mw:File"><a href="https://en.wikipedia.org/wiki/File:Sweden_location_map.svg" title="Sweden Solar System is located in Sweden"><img alt="Sweden Solar System is located in Sweden" src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/df/Sweden_location_map.svg/240px-Sweden_location_map.svg.png" decoding="async" width="240" height="462" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/d/df/Sweden_location_map.svg/360px-Sweden_location_map.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/d/df/Sweden_location_map.svg/480px-Sweden_location_map.svg.png 2x" data-file-width="954" data-file-height="1836"></a></span></p><div><p><span typeof="mw:File"><span title="Swift-Tuttle"><img alt="Swift-Tuttle" src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/5px-Red_pog.svg.png" decoding="async" width="5" height="5" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/8px-Red_pog.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/10px-Red_pog.svg.png 2x" data-file-width="64" data-file-height="64"></span></span></p></div><div><p><span typeof="mw:File"><span title="Halley"><img alt="Halley" src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/5px-Red_pog.svg.png" decoding="async" width="5" height="5" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/8px-Red_pog.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/10px-Red_pog.svg.png 2x" data-file-width="64" data-file-height="64"></span></span></p></div><div><p><span typeof="mw:File"><span title="Earth, Eros, Saltis, Mars, Sun, Mercury, Venus"><img alt="Earth, Eros, Saltis, Mars, Sun, Mercury, Venus" src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/5px-Red_pog.svg.png" decoding="async" width="5" height="5" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/8px-Red_pog.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/10px-Red_pog.svg.png 2x" data-file-width="64" data-file-height="64"></span></span></p><div><p><span>Earth, Eros, Saltis, Mars,</span><br><span>Sun, Mercury, Venus</span></p></div></div><div><p><span typeof="mw:File"><span title="Sweden Solar System"><img alt="Sweden Solar System" src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/5px-Red_pog.svg.png" decoding="async" width="5" height="5" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/8px-Red_pog.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/10px-Red_pog.svg.png 2x" data-file-width="64" data-file-height="64"></span></span></p></div><div><p><span typeof="mw:File"><span title="Sweden Solar System"><img alt="Sweden Solar System" src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/5px-Red_pog.svg.png" decoding="async" width="5" height="5" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/8px-Red_pog.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/10px-Red_pog.svg.png 2x" data-file-width="64" data-file-height="64"></span></span></p></div><div><p><span typeof="mw:File"><span title="Sweden Solar System"><img alt="Sweden Solar System" src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/5px-Red_pog.svg.png" decoding="async" width="5" height="5" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/8px-Red_pog.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/10px-Red_pog.svg.png 2x" data-file-width="64" data-file-height="64"></span></span></p></div><div><p><span typeof="mw:File"><span title="Sweden Solar System"><img alt="Sweden Solar System" src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/5px-Red_pog.svg.png" decoding="async" width="5" height="5" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/8px-Red_pog.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/10px-Red_pog.svg.png 2x" data-file-width="64" data-file-height="64"></span></span></p></div><div><p><span typeof="mw:File"><span title="Sweden Solar System"><img alt="Sweden Solar System" src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/5px-Red_pog.svg.png" decoding="async" width="5" height="5" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/8px-Red_pog.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/10px-Red_pog.svg.png 2x" data-file-width="64" data-file-height="64"></span></span></p></div><div><p><span typeof="mw:File"><span title="Sweden Solar System"><img alt="Sweden Solar System" src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/5px-Red_pog.svg.png" decoding="async" width="5" height="5" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/8px-Red_pog.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/10px-Red_pog.svg.png 2x" data-file-width="64" data-file-height="64"></span></span></p></div><div><p><span typeof="mw:File"><span title="Jupiter"><img alt="Jupiter" src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/5px-Red_pog.svg.png" decoding="async" width="5" height="5" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/8px-Red_pog.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/10px-Red_pog.svg.png 2x" data-file-width="64" data-file-height="64"></span></span></p></div><div><p><span typeof="mw:File"><span title="Sweden Solar System"><img alt="Sweden Solar System" src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/5px-Red_pog.svg.png" decoding="async" width="5" height="5" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/8px-Red_pog.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/10px-Red_pog.svg.png 2x" data-file-width="64" data-file-height="64"></span></span></p></div><div><p><span typeof="mw:File"><span title="Saturn and 5025 PL"><img alt="Saturn and 5025 PL" src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/5px-Red_pog.svg.png" decoding="async" width="5" height="5" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/8px-Red_pog.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/10px-Red_pog.svg.png 2x" data-file-width="64" data-file-height="64"></span></span></p></div><div><p><span typeof="mw:File"><span title="Uranus"><img alt="Uranus" src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/5px-Red_pog.svg.png" decoding="async" width="5" height="5" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/8px-Red_pog.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/10px-Red_pog.svg.png 2x" data-file-width="64" data-file-height="64"></span></span></p></div><div><p><span typeof="mw:File"><span title="Neptune"><img alt="Neptune" src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/5px-Red_pog.svg.png" decoding="async" width="5" height="5" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/8px-Red_pog.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/10px-Red_pog.svg.png 2x" data-file-width="64" data-file-height="64"></span></span></p></div><div><p><span typeof="mw:File"><span title="Pluto and Charon"><img alt="Pluto and Charon" src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/5px-Red_pog.svg.png" decoding="async" width="5" height="5" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/8px-Red_pog.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/10px-Red_pog.svg.png 2x" data-file-width="64" data-file-height="64"></span></span></p></div><div><p><span typeof="mw:File"><span title="Ixion"><img alt="Ixion" src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/5px-Red_pog.svg.png" decoding="async" width="5" height="5" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/8px-Red_pog.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/10px-Red_pog.svg.png 2x" data-file-width="64" data-file-height="64"></span></span></p></div><div><p><span typeof="mw:File"><span title="Eris"><img alt="Eris" src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/5px-Red_pog.svg.png" decoding="async" width="5" height="5" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/8px-Red_pog.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/10px-Red_pog.svg.png 2x" data-file-width="64" data-file-height="64"></span></span></p></div><div><p><span typeof="mw:File"><span title="Sedna"><img alt="Sedna" src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/5px-Red_pog.svg.png" decoding="async" width="5" height="5" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/8px-Red_pog.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/10px-Red_pog.svg.png 2x" data-file-width="64" data-file-height="64"></span></span></p></div><div><p><span typeof="mw:File"><span title="Termination Shock"><img alt="Termination Shock" src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/5px-Red_pog.svg.png" decoding="async" width="5" height="5" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/8px-Red_pog.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/0/0c/Red_pog.svg/10px-Red_pog.svg.png 2x" data-file-width="64" data-file-height="64"></span></span></p></div></div>
<p>The <b>Sweden Solar System</b> is the world's largest permanent <a href="https://en.wikipedia.org/wiki/Solar_System_model" title="Solar System model">scale model of the Solar System</a>. The <a href="https://en.wikipedia.org/wiki/Sun" title="Sun">Sun</a> is represented by the <a href="https://en.wikipedia.org/wiki/Avicii_Arena" title="Avicii Arena">Avicii Arena</a> in <a href="https://en.wikipedia.org/wiki/Stockholm" title="Stockholm">Stockholm</a>, the second-largest hemispherical building in the world. The inner planets can also be found in Stockholm but the outer planets are situated northward in other cities along the <a href="https://en.wikipedia.org/wiki/Baltic_Sea" title="Baltic Sea">Baltic Sea</a>. The system was started by Nils Brenning, professor at the Royal Institute of Technology in Stockholm, and <a href="https://en.wikipedia.org/wiki/G%C3%B6sta_Gahm" title="Gösta Gahm">Gösta Gahm</a>, professor at the Stockholm University.<sup id="cite_ref-SSS-Bakgrund_1-0"><a href="#cite_note-SSS-Bakgrund-1">[1]</a></sup><sup id="cite_ref-2"><a href="#cite_note-2">[2]</a></sup> The model represents the Solar System on the scale of 1:20 million.<sup id="cite_ref-SSS-English_3-0"><a href="#cite_note-SSS-English-3">[3]</a></sup>
</p>
<meta property="mw:PageProp/toc">
<h2><span id="The_system">The system</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Sweden_Solar_System&amp;action=edit&amp;section=1" title="Edit section: The system"><span>edit</span></a><span>]</span></span></h2>
<figure typeof="mw:File/Thumb"><a href="https://en.wikipedia.org/wiki/File:Ericsson_Globe_Stockholm.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/31/Ericsson_Globe_Stockholm.jpg/300px-Ericsson_Globe_Stockholm.jpg" decoding="async" width="300" height="300" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/3/31/Ericsson_Globe_Stockholm.jpg/450px-Ericsson_Globe_Stockholm.jpg 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/3/31/Ericsson_Globe_Stockholm.jpg/600px-Ericsson_Globe_Stockholm.jpg 2x" data-file-width="2651" data-file-height="2651"></a><figcaption>Avicii Arena, representing the Sun in the Sweden Solar System</figcaption></figure><p>The bodies represented in this model include the <a href="https://en.wikipedia.org/wiki/Sun" title="Sun">Sun</a>, the <a href="https://en.wikipedia.org/wiki/Planet" title="Planet">planets</a> (and some of their <a href="https://en.wikipedia.org/wiki/Natural_satellite" title="Natural satellite">moons</a>), <a href="https://en.wikipedia.org/wiki/Dwarf_planets" title="Dwarf planets">dwarf planets</a> and many types of small bodies (<a href="https://en.wikipedia.org/wiki/Comet" title="Comet">comets</a>, <a href="https://en.wikipedia.org/wiki/Asteroid" title="Asteroid">asteroids</a>, <a href="https://en.wikipedia.org/wiki/Trans-Neptunian" title="Trans-Neptunian">trans-Neptunians</a>, etc.), as well as some abstract concepts (like the <a href="https://en.wikipedia.org/wiki/Termination_Shock" title="Termination Shock">Termination Shock</a> zone). Because of the existence of many small bodies in the real <a href="https://en.wikipedia.org/wiki/Solar_System" title="Solar System">Solar System</a>, the model can always be further increased.
</p><p>The <a href="https://en.wikipedia.org/wiki/Sun" title="Sun">Sun</a> is represented by the <a href="https://en.wikipedia.org/wiki/Avicii_Arena" title="Avicii Arena">Avicii Arena</a> (Globen), <a href="https://en.wikipedia.org/wiki/Stockholm" title="Stockholm">Stockholm</a>, which is the second-largest hemispherical building in the world, 110&nbsp;m (360&nbsp;ft) in diameter. To respect the scale, the globe represents the Sun including its <a href="https://en.wikipedia.org/wiki/Solar_corona" title="Solar corona">corona</a>.
</p>
<h3><span id="Inner_planets">Inner planets</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Sweden_Solar_System&amp;action=edit&amp;section=2" title="Edit section: Inner planets"><span>edit</span></a><span>]</span></span></h3>
<figure typeof="mw:File/Thumb"><a href="https://en.wikipedia.org/wiki/File:Sweden_Solar_System_-_Mercury.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/07/Sweden_Solar_System_-_Mercury.jpg/220px-Sweden_Solar_System_-_Mercury.jpg" decoding="async" width="220" height="293" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/0/07/Sweden_Solar_System_-_Mercury.jpg/330px-Sweden_Solar_System_-_Mercury.jpg 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/0/07/Sweden_Solar_System_-_Mercury.jpg/440px-Sweden_Solar_System_-_Mercury.jpg 2x" data-file-width="492" data-file-height="656"></a><figcaption>Mercury Model just outside the <a href="https://en.wikipedia.org/wiki/Stockholm_City_Museum" title="Stockholm City Museum">Stockholm City Museum</a></figcaption></figure>
<ul><li><b><a href="https://en.wikipedia.org/wiki/Mercury_(planet)" title="Mercury (planet)">Mercury</a></b> (25&nbsp;cm (9.8&nbsp;in) in diameter) is placed at <a href="https://en.wikipedia.org/wiki/Stadsmuseum" title="Stadsmuseum">Stockholm City Museum</a>, 2,900&nbsp;m (1.8&nbsp;mi) from the Globe. The small metallic sphere was built by the artist Peter Varhelyi.</li>
<li><b><a href="https://en.wikipedia.org/wiki/Venus" title="Venus">Venus</a></b> (62&nbsp;cm (24&nbsp;in) in diameter) is placed at Vetenskapens Hus at <a href="https://en.wikipedia.org/wiki/Royal_Institute_of_Technology" title="Royal Institute of Technology">KTH</a> (Royal Institute of Technology), 5,500&nbsp;m (3.4&nbsp;mi) from the Globe. The previous model, made by the <a href="https://en.wikipedia.org/wiki/United_States" title="United States">United States</a> artist <a href="https://en.wikipedia.org/wiki/Daniel_Oberti" title="Daniel Oberti">Daniel Oberti</a>, was inaugurated on 8 June 2004, during a <a href="https://en.wikipedia.org/wiki/Venus_transit" title="Venus transit">Venus transit</a> and placed at <a href="https://en.wikipedia.org/wiki/Royal_Institute_of_Technology" title="Royal Institute of Technology">KTH</a>. It fell and shattered around 11 June 2011. Due to construction work at the location of the previous model of Venus it was removed and as of October 2012 cannot be seen. The current model now at Vetenskapens Hus was previously located at the Observatory Museum in Stockholm (now closed).</li>
<li><b><a href="https://en.wikipedia.org/wiki/Earth" title="Earth">Earth</a></b> (65&nbsp;cm (26&nbsp;in) in diameter) is located at the <a href="https://en.wikipedia.org/wiki/Swedish_Museum_of_Natural_History" title="Swedish Museum of Natural History">Swedish Museum of Natural History</a> (<a href="https://en.wikipedia.org/wiki/Cosmonova" title="Cosmonova">Cosmonova</a>), 7,600&nbsp;m (4.7&nbsp;mi) from the Globe. Satellite images of the Earth are exhibited beside the Globe. An elaborate model of <a href="https://en.wikipedia.org/wiki/Moon" title="Moon">the Moon</a> (18&nbsp;cm (7.1&nbsp;in) in diameter) is also on display, about 20 meters from the model of Earth.</li>
<li><b><a href="https://en.wikipedia.org/wiki/Mars" title="Mars">Mars</a></b> (35&nbsp;cm (14&nbsp;in) in diameter) is located at <a href="https://en.wikipedia.org/wiki/M%C3%B6rby_centrum" title="Mörby centrum">Mörby centrum</a>, a shopping centre and <a href="https://en.wikipedia.org/wiki/Stockholm_metro" title="Stockholm metro">Stockholm metro</a> station in <a href="https://en.wikipedia.org/wiki/Danderyd_Municipality" title="Danderyd Municipality">Danderyd</a>, a suburb of Stockholm. It is 11.6&nbsp;km (7.2&nbsp;mi) from the Globe. The model, made in <a href="https://en.wikipedia.org/wiki/Copper" title="Copper">copper</a> by the <a href="https://en.wikipedia.org/wiki/Finnish_people" title="Finnish people">Finnish</a> artist <a href="https://en.wikipedia.org/w/index.php?title=Heikki_Haapanen&amp;action=edit&amp;redlink=1" title="Heikki Haapanen (page does not exist)">Heikki Haapanen</a>, is connected by an "umbilical cord" to a steel plate on the floor having an Earth image.<sup id="cite_ref-4"><a href="#cite_note-4">[4]</a></sup> The globe also features marks that represent some typical Martian chemical elements.</li></ul>
<h3><span id="Gas_giants">Gas giants</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Sweden_Solar_System&amp;action=edit&amp;section=3" title="Edit section: Gas giants"><span>edit</span></a><span>]</span></span></h3>
<ul><li><b><a href="https://en.wikipedia.org/wiki/Jupiter" title="Jupiter">Jupiter</a></b> (7.3&nbsp;m (24&nbsp;ft) in diameter) is placed inside the <a href="https://en.wikipedia.org/wiki/Clarion_Hotel" title="Clarion Hotel">Clarion Hotel</a> located at <a href="https://en.wikipedia.org/wiki/Stockholm_Arlanda_Airport" title="Stockholm Arlanda Airport">Stockholm Arlanda Airport</a> in <a href="https://en.wikipedia.org/wiki/Sigtuna_Municipality" title="Sigtuna Municipality">Sigtuna Municipality</a>, 40&nbsp;km (25&nbsp;mi) from the Globe. Previously, it was made as a flower decoration, with different flowers representing different zones of the giant gas planet. Today, the planet is depicted as a ring light above a lobby.<sup id="cite_ref-5"><a href="#cite_note-5">[5]</a></sup></li>
<li><b><a href="https://en.wikipedia.org/wiki/Saturn" title="Saturn">Saturn</a></b> (6.1&nbsp;m (20&nbsp;ft) in diameter) is placed outside the old observatory of <a href="https://en.wikipedia.org/wiki/Anders_Celsius" title="Anders Celsius">Anders Celsius</a>, in the so-called <i>Celsius Square</i>, in the centre of <a href="https://en.wikipedia.org/wiki/Uppsala" title="Uppsala">Uppsala</a>, 73&nbsp;km (45&nbsp;mi) from the Globe. Inaugurated during the <a href="https://en.wikipedia.org/wiki/International_Year_of_Astronomy" title="International Year of Astronomy">International Year of Astronomy</a>,<sup id="cite_ref-Press_release_6-0"><a href="#cite_note-Press_release-6">[6]</a></sup> the model is a mat with a picture of Saturn, but will eventually grow to crown a school planetarium in the city. In addition, several schools in Uppsala are to provide moons of Saturn: the first completed was <a href="https://en.wikipedia.org/wiki/Enceladus_(moon)" title="Enceladus (moon)">Enceladus</a> (diameter 2.5&nbsp;cm or 0.98&nbsp;in) at Kvarngärdesskolan.<sup id="cite_ref-7"><a href="#cite_note-7">[7]</a></sup></li>
<li><b><a href="https://en.wikipedia.org/wiki/Uranus" title="Uranus">Uranus</a></b> (2.6&nbsp;m (8&nbsp;ft 6&nbsp;in) in diameter) was <a href="https://en.wikipedia.org/wiki/Vandalism" title="Vandalism">vandalized</a> and the new model was reconstructed behind Stora magasinet in <a href="https://en.wikipedia.org/wiki/L%C3%B6vstabruk" title="Lövstabruk">Lövstabruk</a> in 2012. It is an outdoor model made of blue steel bars. The rotation axis of the planet is marked in red.<sup id="cite_ref-8"><a href="#cite_note-8">[8]</a></sup></li></ul>
<figure typeof="mw:File/Thumb"><a href="https://en.wikipedia.org/wiki/File:Neptune_model_of_Sweden_solar_system.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/33/Neptune_model_of_Sweden_solar_system.jpg/230px-Neptune_model_of_Sweden_solar_system.jpg" decoding="async" width="230" height="118" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/3/33/Neptune_model_of_Sweden_solar_system.jpg/345px-Neptune_model_of_Sweden_solar_system.jpg 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/3/33/Neptune_model_of_Sweden_solar_system.jpg/460px-Neptune_model_of_Sweden_solar_system.jpg 2x" data-file-width="1024" data-file-height="525"></a><figcaption>2.5-m representation of Neptune, by the river Söderhamnsån in <a href="https://en.wikipedia.org/wiki/S%C3%B6derhamn" title="Söderhamn">Söderhamn</a></figcaption></figure>
<ul><li><b><a href="https://en.wikipedia.org/wiki/Neptune" title="Neptune">Neptune</a></b> (2.5&nbsp;m in diameter) is located by the river Söderhamnsån in <a href="https://en.wikipedia.org/wiki/S%C3%B6derhamn" title="Söderhamn">Söderhamn</a>, a coast town with tradition of <a href="https://en.wikipedia.org/wiki/Fishing" title="Fishing">fishing</a> and <a href="https://en.wikipedia.org/wiki/Sailing" title="Sailing">sailing</a> (which relates to <a href="https://en.wikipedia.org/wiki/Neptune_(mythology)" title="Neptune (mythology)">Neptune</a> being the deity of the seas). Placed 229&nbsp;km (142&nbsp;mi) from the Globe, the model is made of acrylic and, at night, shines with a blue light.</li></ul>
<h3><span id="Trans-Neptunian_objects">Trans-Neptunian objects</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Sweden_Solar_System&amp;action=edit&amp;section=4" title="Edit section: Trans-Neptunian objects"><span>edit</span></a><span>]</span></span></h3>
<ul><li><b><a href="https://en.wikipedia.org/wiki/Pluto" title="Pluto">Pluto</a></b> (12&nbsp;cm (4.7&nbsp;in) in diameter) and its largest moon <b><a href="https://en.wikipedia.org/wiki/Charon_(moon)" title="Charon (moon)">Charon</a></b> are placed near the southern of the <a href="https://en.wikipedia.org/wiki/Dellen" title="Dellen">Dellen</a> lakes, in <a href="https://en.wikipedia.org/wiki/Delsbo" title="Delsbo">Delsbo</a>, 300&nbsp;km (190&nbsp;mi) from the Globe. The lakes are thought to be formed by a <a href="https://en.wikipedia.org/wiki/Meteorite" title="Meteorite">meteorite</a> impact 90&nbsp;million years ago. The two bodies' sculptures are supported by two gravelike pillars (as <a href="https://en.wikipedia.org/wiki/Pluto_(mythology)" title="Pluto (mythology)">Pluto</a> is the deity for <a href="https://en.wikipedia.org/wiki/Death" title="Death">death</a>), made up with <a href="https://en.wikipedia.org/w/index.php?title=Dellenite&amp;action=edit&amp;redlink=1" title="Dellenite (page does not exist)">dellenite</a>, a rare mineral formed at that place by the meteorite impact.</li>
<li><b><a href="https://en.wikipedia.org/wiki/Haumea" title="Haumea">Haumea</a></b> (8.5cm (3.3 in) in diameter) and its moons are depicted in the <a href="https://en.wikipedia.org/w/index.php?title=2047_Science_Centre&amp;action=edit&amp;redlink=1" title="2047 Science Centre (page does not exist)">2047 Science Centre</a>, <a href="https://en.wikipedia.org/wiki/Borl%C3%A4nge" title="Borlänge">Borlänge</a>, 200 km (124 mi) from the Globe.</li>
<li><b><a href="https://en.wikipedia.org/wiki/50000_Quaoar" title="50000 Quaoar">Quaoar</a></b> (6cm (2.4 in) in diameter) is located in the library in <a href="https://en.wikipedia.org/wiki/Gislaved" title="Gislaved">Gislaved</a>, 340 km from the Globe.</li>
<li><b><a href="https://en.wikipedia.org/wiki/28978_Ixion" title="28978 Ixion">Ixion</a></b> (6.5&nbsp;cm (2.6&nbsp;in) in diameter), a dwarf planet candidate, is located at <a href="https://en.wikipedia.org/w/index.php?title=Technichus&amp;action=edit&amp;redlink=1" title="Technichus (page does not exist)">Technichus</a>, a science center in <a href="https://en.wikipedia.org/wiki/H%C3%A4rn%C3%B6sand" title="Härnösand">Härnösand</a>, 360&nbsp;km (224 mi) from the Globe. The sculpture is an orb held by a hand with the arm. This <a href="https://en.wikipedia.org/wiki/Plutino" title="Plutino">plutino</a> was discovered by a team which included scientists from <a href="https://en.wikipedia.org/wiki/Uppsala" title="Uppsala">Uppsala</a>.</li>
<li><b><a href="https://en.wikipedia.org/wiki/Makemake" title="Makemake">Makemake</a></b> (7cm (2.8 in) in diameter) is located at Slottsskogsobservatoriet, an observatory in <a href="https://en.wikipedia.org/wiki/Gothenburg" title="Gothenburg">Gothenburg</a>, 400 km (249 mi) from the Globe.</li>
<li><a href="https://en.wikipedia.org/wiki/%CA%BBOumuamua" title="ʻOumuamua"><b>'Oumuamua</b></a> (0.3 mm (0.012 in) in diameter) is placed in the village of Plönninge, <a href="https://en.wikipedia.org/wiki/Halland" title="Halland">Halland</a>, 440 km (273 mi) from the Globe.</li>
<li><a href="https://en.wikipedia.org/wiki/225088_Gonggong" title="225088 Gonggong"><b>Gonggong</b></a> (7.5 cm (3.0 in) in diameter) is placed near the Tycho Brahe Observatory in <a href="https://en.wikipedia.org/wiki/Oxie" title="Oxie">Oxie</a>, <a href="https://en.wikipedia.org/wiki/Malm%C3%B6" title="Malmö">Malmö</a>, 500 km (311 mi) from the Globe.</li>
<li><b><a href="https://en.wikipedia.org/wiki/Eris_(dwarf_planet)" title="Eris (dwarf planet)">Eris</a></b> (13&nbsp;cm (5.1&nbsp;in) in diameter) is located at <i>Umestans Företagspark</i>, <a href="https://en.wikipedia.org/wiki/Ume%C3%A5" title="Umeå">Umeå</a>, 518&nbsp;km (322&nbsp;mi) from the Globe. Made by <a href="https://en.wikipedia.org/w/index.php?title=Theresa_Berg&amp;action=edit&amp;redlink=1" title="Theresa Berg (page does not exist)">Theresa Berg</a>, the golden model is inspired by the mythical story of <a href="https://en.wikipedia.org/wiki/Eris_(mythology)" title="Eris (mythology)">Eris</a> sparking a quarrel between three Greek goddesses with a golden apple bearing the inscription καλλίστῃ ("to the most beautiful one").</li>
<li><b><a href="https://en.wikipedia.org/wiki/90377_Sedna" title="90377 Sedna">Sedna</a></b> (10&nbsp;cm (3.9&nbsp;in) in diameter), another dwarf planet candidate, is located at <a href="https://en.wikipedia.org/wiki/Teknikens_Hus" title="Teknikens Hus">Teknikens Hus</a>, a science center in <a href="https://en.wikipedia.org/wiki/Lule%C3%A5" title="Luleå">Luleå</a>, 734&nbsp;km (456&nbsp;mi) from the Globe.</li></ul>
<h3><span id="Other_bodies">Other bodies</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Sweden_Solar_System&amp;action=edit&amp;section=5" title="Edit section: Other bodies"><span>edit</span></a><span>]</span></span></h3>
<figure typeof="mw:File/Thumb"><a href="https://en.wikipedia.org/wiki/File:Sweden_Solar_System_-_Sedna_2.JPG"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/ce/Sweden_Solar_System_-_Sedna_2.JPG/200px-Sweden_Solar_System_-_Sedna_2.JPG" decoding="async" width="200" height="150" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/c/ce/Sweden_Solar_System_-_Sedna_2.JPG/300px-Sweden_Solar_System_-_Sedna_2.JPG 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/c/ce/Sweden_Solar_System_-_Sedna_2.JPG/400px-Sweden_Solar_System_-_Sedna_2.JPG 2x" data-file-width="2560" data-file-height="1920"></a><figcaption>The dwarf planet Sedna</figcaption></figure>
<ul><li><b><a href="https://en.wikipedia.org/wiki/471926_J%C3%B6rmungandr" title="471926 Jörmungandr">471926 Jörmungandr</a></b> a <a href="https://en.wikipedia.org/wiki/Minor_planet" title="Minor planet">minor planet</a> in Stockholm.</li>
<li>The <a href="https://en.wikipedia.org/wiki/Near-Earth_Object" title="Near-Earth Object">near-Earth Object</a><b> <a href="https://en.wikipedia.org/wiki/433_Eros" title="433 Eros">Eros</a></b> is located at <a href="https://en.wikipedia.org/w/index.php?title=M%C3%B6rbyskolan&amp;action=edit&amp;redlink=1" title="Mörbyskolan (page does not exist)">Mörbyskolan</a>, a school in <a href="https://en.wikipedia.org/wiki/Danderyd_Municipality" title="Danderyd Municipality">Danderyd Municipality</a> (where Mars is located), 11&nbsp;km (6.8&nbsp;mi) from the Globe. It was created as a <a href="https://en.wikipedia.org/wiki/Valentine%27s_Day" title="Valentine's Day">Valentine's Day</a> project in gold, modeled after <a href="https://en.wikipedia.org/wiki/Eros" title="Eros">Eros</a>, the god of love.  The dimensions are 2&nbsp;×&nbsp;0.7&nbsp;×&nbsp;0.7&nbsp;mm (0.98&nbsp;mm<sup>3</sup> or 6.0<span>×</span>10<sup>−5</sup>&nbsp;in<sup>3</sup>).</li>
<li>The <a href="https://en.wikipedia.org/wiki/Asteroid" title="Asteroid">asteroid</a> <b><a href="https://en.wikipedia.org/wiki/36614_Saltis" title="36614 Saltis">36614 Saltis</a></b> is located at <a href="https://en.wikipedia.org/wiki/Saltsj%C3%B6baden" title="Saltsjöbaden">Saltsjöbaden</a>'s Kunskapsskola, a school near the <a href="https://en.wikipedia.org/wiki/Stockholm_Observatory" title="Stockholm Observatory">Stockholm Observatory</a>. The asteroid was discovered by A. Brandeker in 2000, using a telescope at the observatory, and the body was named after the observatory's location, Saltsjöbaden.</li>
<li>The <a href="https://en.wikipedia.org/wiki/Asteroid" title="Asteroid">asteroid</a> <b><a href="https://en.wikipedia.org/wiki/4_Vesta" title="4 Vesta">Vesta</a></b> is located at <a href="https://en.wikipedia.org/wiki/%C3%85va_gymnasium" title="Åva gymnasium">Åva gymnasium</a>, a public secondary school in <a href="https://en.wikipedia.org/wiki/T%C3%A4by" title="Täby">Täby</a>.</li>
<li>The asteroid <a href="https://en.wikipedia.org/wiki/306367_Nut" title="306367 Nut">306367 Nut</a> (a.k.a <b>5025 PL</b> for <a href="https://en.wikipedia.org/wiki/Palomar-Leiden" title="Palomar-Leiden">Palomar-Leiden</a>)  (0.2&nbsp;mm (0.0079&nbsp;in) in diameter) is located in a park in <a href="https://en.wikipedia.org/wiki/Knivsta_Municipality" title="Knivsta Municipality">Knivsta Municipality</a>, 60&nbsp;km (37&nbsp;mi) from the Globe. It is not a sculpture but a dot on a map of the System, placed in front of <a href="https://en.wikipedia.org/w/index.php?title=Erik_St%C3%A5hl&amp;action=edit&amp;redlink=1" title="Erik Ståhl (page does not exist)">Erik Ståhl</a>'s monumental cosmic sculptures.</li>
<li><b><a href="https://en.wikipedia.org/wiki/Halley%27s_Comet" title="Halley's Comet">Halley's Comet</a></b> is located at <a href="https://en.wikipedia.org/wiki/Balthazar_Science_Center" title="Balthazar Science Center">Balthazar Science Center</a>, in <a href="https://en.wikipedia.org/wiki/Sk%C3%B6vde" title="Skövde">Skövde</a>. Inaugurated on 16 December 2009, there are actually four models of the comet: three placed outdoors, based on schoolchildren's drawings, plus one indoors, consisting of a laser passing through a block of glass.</li>
<li><b><a href="https://en.wikipedia.org/wiki/Comet_Swift-Tuttle" title="Comet Swift-Tuttle">Comet Swift-Tuttle</a></b> is placed at <a href="https://en.wikipedia.org/wiki/Kreativum" title="Kreativum">Kreativum</a>, a science center in <a href="https://en.wikipedia.org/wiki/Karlshamn" title="Karlshamn">Karlshamn</a>. The comet's orbit is closest to the Globe in inner <a href="https://en.wikipedia.org/wiki/Stockholm" title="Stockholm">Stockholm</a> and farthest in Karlshamn, 390&nbsp;km (240&nbsp;mi) away.</li>
<li><b><a href="https://en.wikipedia.org/wiki/Termination_shock" title="Termination shock">The Termination Shock</a></b> is at the edge of the <a href="https://en.wikipedia.org/wiki/Heliosphere" title="Heliosphere">heliosphere</a>: it is the boundary where the <a href="https://en.wikipedia.org/wiki/Solar_wind" title="Solar wind">solar wind</a> transitions to subsonic velocity. No sculpture currently represents the termination shock, but a foundation for a future sculpture exists at the <a href="https://en.wikipedia.org/wiki/Institute_of_Space_Physics_(Sweden)" title="Institute of Space Physics (Sweden)">Institute of Space Physics</a>, 950&nbsp;km (590&nbsp;mi) from the Globe, in <a href="https://en.wikipedia.org/wiki/Kiruna" title="Kiruna">Kiruna</a>, above the <a href="https://en.wikipedia.org/wiki/Arctic_Circle" title="Arctic Circle">Arctic Circle</a>.</li></ul>
<h2><span id="List_of_objects">List of objects</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Sweden_Solar_System&amp;action=edit&amp;section=6" title="Edit section: List of objects"><span>edit</span></a><span>]</span></span></h2>
<table>

<tbody><tr>
<th>Object
</th>
<th>Distance from <a href="https://en.wikipedia.org/wiki/Globen" title="Globen">Globen</a><sup id="cite_ref-SSS-Stationer_9-0"><a href="#cite_note-SSS-Stationer-9">[9]</a></sup>
</th>
<th>Diameter<sup id="cite_ref-SSS-Stationer_9-1"><a href="#cite_note-SSS-Stationer-9">[9]</a></sup>
</th>
<th>Location<sup id="cite_ref-SSS-Stationer_9-2"><a href="#cite_note-SSS-Stationer-9">[9]</a></sup>
</th>
<th>Coordinates
</th>
<th>Inauguration date
</th></tr>
<tr>
<td><b><a href="https://en.wikipedia.org/wiki/Sun" title="Sun">Sun</a></b></td>
<td data-sort-value="">—</td>
<td>71&nbsp;m (233&nbsp;ft), the disk<br>110&nbsp;m (361&nbsp;ft), incl. the corona</td>
<td>The <a href="https://en.wikipedia.org/wiki/Avicii_Arena" title="Avicii Arena">Avicii Arena</a> in <a href="https://en.wikipedia.org/wiki/Stockholm" title="Stockholm">Stockholm</a></td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=59_17_36.80_N_18_04_59.65_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>59°17′36.80″N</span> <span>18°04′59.65″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">59.2935556°N 18.0832361°E</span></span></a></span></span></td>
<td>19 February 1989
</td></tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/471926_J%C3%B6rmungandr" title="471926 Jörmungandr">471926 Jörmungandr</a></td>
<td>1.8&nbsp;km</td>
<td>0.05&nbsp;mm</td>
<td>Ion Game Design in Stockholm</td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=59_18_34.7_N_18_04_21.9_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>59°18′34.7″N</span> <span>18°04′21.9″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">59.309639°N 18.072750°E</span></span></a></span></span></td>
<td>23 september 2023<sup id="cite_ref-10"><a href="#cite_note-10">[10]</a></sup>
</td></tr>
<tr>
<td><b><a href="https://en.wikipedia.org/wiki/Mercury_(planet)" title="Mercury (planet)">Mercury</a></b></td>
<td>2.9&nbsp;km (1.8&nbsp;mi)</td>
<td>25&nbsp;cm (9.8&nbsp;in)</td>
<td><a href="https://en.wikipedia.org/wiki/Stockholm_City_Museum" title="Stockholm City Museum">Stockholm City Museum</a> in Stockholm</td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=59_19_11_N_18_04_16_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>59°19′11″N</span> <span>18°04′16″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">59.31972°N 18.07111°E</span></span></a></span></span></td>
<td>1998
</td></tr>
<tr>
<td><b><a href="https://en.wikipedia.org/wiki/Venus" title="Venus">Venus</a></b></td>
<td>5.5&nbsp;km (3.4&nbsp;mi)</td>
<td>62&nbsp;cm (24.4&nbsp;in)</td>
<td>Vetenskapens Hus</td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=59_21_10.38_N_18_03_30.78_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>59°21′10.38″N</span> <span>18°03′30.78″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">59.3528833°N 18.0585500°E</span></span></a></span></span></td>
<td>8 June 2004
</td></tr>
<tr>
<td><b><a href="https://en.wikipedia.org/wiki/Earth" title="Earth">Earth</a></b> and <a href="https://en.wikipedia.org/wiki/Moon" title="Moon">Moon</a></td>
<td>7.6&nbsp;km (4.7&nbsp;mi)</td>
<td>65&nbsp;cm (25.6&nbsp;in) and 18&nbsp;cm (7.1&nbsp;in)</td>
<td><a href="https://en.wikipedia.org/wiki/Cosmonova" title="Cosmonova">Cosmonova Riksmuseet</a> in Stockholm</td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=59_22_08.48_N_18_03_12.34_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>59°22′08.48″N</span> <span>18°03′12.34″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">59.3690222°N 18.0534278°E</span></span></a></span></span></td>
<td>before 2000<sup id="cite_ref-psych.illinois.edu_11-0"><a href="#cite_note-psych.illinois.edu-11">[11]</a></sup>
</td></tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/433_Eros" title="433 Eros">(433) Eros</a></td>
<td>11&nbsp;km (6.8&nbsp;mi)</td>
<td>2.0&nbsp;mm × 0.7&nbsp;mm × 0.7&nbsp;mm</td>
<td><a href="https://en.wikipedia.org/w/index.php?title=M%C3%B6rbyskolan&amp;action=edit&amp;redlink=1" title="Mörbyskolan (page does not exist)">Mörbyskolan</a>, a school in <a href="https://en.wikipedia.org/wiki/Danderyd_Municipality" title="Danderyd Municipality">Danderyd</a></td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=59_23_38_N_18_02_41_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>59°23′38″N</span> <span>18°02′41″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">59.39389°N 18.04472°E</span></span></a></span></span></td>
<td>
</td></tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/36614_Saltis" title="36614 Saltis">(36614) Saltis</a></td>
<td>11&nbsp;km (6.8&nbsp;mi)</td>
<td>&lt; 1&nbsp;mm</td>
<td><i>Kunskapsskolan</i>, a school in <a href="https://en.wikipedia.org/wiki/Saltsj%C3%B6baden" title="Saltsjöbaden">Saltsjöbaden</a></td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=59_16_21_N_18_18_17_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>59°16′21″N</span> <span>18°18′17″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">59.27250°N 18.30472°E</span></span></a></span></span></td>
<td>14 January 2010<sup id="cite_ref-12"><a href="#cite_note-12">[12]</a></sup>
</td></tr>
<tr>
<td><b><a href="https://en.wikipedia.org/wiki/Mars" title="Mars">Mars</a></b></td>
<td>11.6&nbsp;km (7.2&nbsp;mi)</td>
<td>35&nbsp;cm (13.8&nbsp;in)</td>
<td><a href="https://en.wikipedia.org/wiki/M%C3%B6rby_centrum" title="Mörby centrum">Mörby Centrum</a> in <a href="https://en.wikipedia.org/wiki/Danderyd_Municipality" title="Danderyd Municipality">Danderyd</a></td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=59_23_52.58_N_18_02_11.58_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>59°23′52.58″N</span> <span>18°02′11.58″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">59.3979389°N 18.0365500°E</span></span></a></span></span></td>
<td>before 2000<sup id="cite_ref-psych.illinois.edu_11-1"><a href="#cite_note-psych.illinois.edu-11">[11]</a></sup>
</td></tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/4_Vesta" title="4 Vesta">4 Vesta</a></td>
<td>16.4&nbsp;km (10.2&nbsp;mi)</td>
<td>2.6&nbsp;cm</td>
<td><a href="https://en.wikipedia.org/wiki/%C3%85va_gymnasium" title="Åva gymnasium">Åva gymnasium</a> in <a href="https://en.wikipedia.org/wiki/T%C3%A4by" title="Täby">Täby</a></td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=59_26_24_N_18_03_47.16_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>59°26′24″N</span> <span>18°03′47.16″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">59.44000°N 18.0631000°E</span></span></a></span></span></td>
<td>6 September 2017<sup id="cite_ref-13"><a href="#cite_note-13">[13]</a></sup>
</td></tr>
<tr>
<td><b><a href="https://en.wikipedia.org/wiki/Jupiter" title="Jupiter">Jupiter</a></b></td>
<td>40&nbsp;km (25&nbsp;mi)</td>
<td>7.3&nbsp;m (24&nbsp;ft)</td>
<td><a href="https://en.wikipedia.org/wiki/Arlanda_airport" title="Arlanda airport">Arlanda airport</a> in <a href="https://en.wikipedia.org/wiki/M%C3%A4rsta" title="Märsta">Märsta</a></td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=59_38_58.52_N_17_55_50.38_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>59°38′58.52″N</span> <span>17°55′50.38″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">59.6495889°N 17.9306611°E</span></span></a></span></span></td>
<td>before 2000<sup id="cite_ref-psych.illinois.edu_11-2"><a href="#cite_note-psych.illinois.edu-11">[11]</a></sup>
</td></tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/306367_Nut" title="306367 Nut">(306367) Nut</a> (5025 PL)</td>
<td>60&nbsp;km (37&nbsp;mi)</td>
<td>0.2&nbsp;mm</td>
<td>in <a href="https://en.wikipedia.org/wiki/Knivsta" title="Knivsta">Knivsta</a></td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=59_45_25_N_17_45_57_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>59°45′25″N</span> <span>17°45′57″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">59.75694°N 17.76583°E</span></span></a></span></span></td>
<td>
</td></tr>
<tr>
<td><b><a href="https://en.wikipedia.org/wiki/Saturn" title="Saturn">Saturn</a></b></td>
<td>73&nbsp;km (45&nbsp;mi)</td>
<td>6.1&nbsp;m (20&nbsp;ft)</td>
<td><a href="https://en.wikipedia.org/w/index.php?title=Celsius_square&amp;action=edit&amp;redlink=1" title="Celsius square (page does not exist)">Celsius square</a> in <a href="https://en.wikipedia.org/wiki/Uppsala" title="Uppsala">Uppsala</a></td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=59_51_34_N_17_38_14_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>59°51′34″N</span> <span>17°38′14″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">59.85944°N 17.63722°E</span></span></a></span></span></td>
<td>2010 (only Titan)
</td></tr>
<tr>
<td><b><a href="https://en.wikipedia.org/wiki/Uranus" title="Uranus">Uranus</a></b></td>
<td>125&nbsp;km (77&nbsp;mi)</td>
<td>2.6&nbsp;m (8.5&nbsp;ft)</td>
<td>Stora magasinet in <a href="https://en.wikipedia.org/wiki/L%C3%B6vstabruk" title="Lövstabruk">Lövstabruk</a></td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=60_24_31_N_17_52_37_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>60°24′31″N</span> <span>17°52′37″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">60.40861°N 17.87694°E</span></span></a></span></span></td>
<td>13 October 2012<sup id="cite_ref-14"><a href="#cite_note-14">[14]</a></sup>
</td></tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/Haumea" title="Haumea">Haumea</a></td>
<td>200&nbsp;km</td>
<td>10&nbsp;cm</td>
<td><a href="https://en.wikipedia.org/wiki/Borl%C3%A4nge" title="Borlänge">Borlänge</a></td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=60_29_18.1_N_15_25_51.5_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>60°29′18.1″N</span> <span>15°25′51.5″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">60.488361°N 15.430972°E</span></span></a></span></span></td>
<td>
</td></tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/1P/Halley" title="1P/Halley">1P/Halley</a> comet</td>
<td>204&nbsp;km (127&nbsp;mi)</td>
<td></td>
<td><a href="https://en.wikipedia.org/wiki/Balthazar_Science_Center" title="Balthazar Science Center">Balthazar Science Center</a> in <a href="https://en.wikipedia.org/wiki/Sk%C3%B6vde" title="Skövde">Skövde</a></td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=58_23_14_N_13_51_11_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>58°23′14″N</span> <span>13°51′11″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">58.38722°N 13.85306°E</span></span></a></span></span></td>
<td>16 December 2009<sup id="cite_ref-15"><a href="#cite_note-15">[15]</a></sup>
</td></tr>
<tr>
<td><b><a href="https://en.wikipedia.org/wiki/Neptune" title="Neptune">Neptune</a></b></td>
<td>229&nbsp;km (142&nbsp;mi)</td>
<td>2.5&nbsp;m (8.2&nbsp;ft)</td>
<td>by the river <i>Söderhamnsån</i> in <a href="https://en.wikipedia.org/wiki/S%C3%B6derhamn" title="Söderhamn">Söderhamn</a></td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=61_18_07_N_17_03_19_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>61°18′07″N</span> <span>17°03′19″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">61.30194°N 17.05528°E</span></span></a></span></span></td>
<td>29 October 1998<sup id="cite_ref-16"><a href="#cite_note-16">[16]</a></sup>
</td></tr>
<tr>
<td><b><a href="https://en.wikipedia.org/wiki/Pluto" title="Pluto">Pluto</a></b> and <a href="https://en.wikipedia.org/wiki/Charon_(moon)" title="Charon (moon)">Charon</a></td>
<td>300&nbsp;km (186&nbsp;mi)</td>
<td>12&nbsp;cm (4.7&nbsp;in) and 6&nbsp;cm (2.4&nbsp;in)</td>
<td>by the lake <a href="https://en.wikipedia.org/wiki/Dellen" title="Dellen">Dellen South</a>, in <a href="https://en.wikipedia.org/wiki/Delsbo" title="Delsbo">Delsbo</a></td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=61_47_50.13_N_16_32_59.96_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>61°47′50.13″N</span> <span>16°32′59.96″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">61.7972583°N 16.5499889°E</span></span></a></span></span></td>
<td>before 2000<sup id="cite_ref-psych.illinois.edu_11-3"><a href="#cite_note-psych.illinois.edu-11">[11]</a></sup>
</td></tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/50000_Quaoar" title="50000 Quaoar">50000 Quaoar</a></td>
<td>340&nbsp;km</td>
<td>6&nbsp;cm</td>
<td><a href="https://en.wikipedia.org/wiki/Gislaved" title="Gislaved">Gislaved</a>’s library</td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=57_17_46.9_N_13_31_49.8_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>57°17′46.9″N</span> <span>13°31′49.8″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">57.296361°N 13.530500°E</span></span></a></span></span></td>
<td>18 November 2017<sup id="cite_ref-17"><a href="#cite_note-17">[17]</a></sup>
</td></tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/28978_Ixion" title="28978 Ixion">(28978) Ixion</a></td>
<td>360&nbsp;km (224&nbsp;mi)</td>
<td>6.5&nbsp;cm (2.6&nbsp;in)</td>
<td><a href="https://en.wikipedia.org/w/index.php?title=Technichus&amp;action=edit&amp;redlink=1" title="Technichus (page does not exist)">Technichus</a>, a science center in <a href="https://en.wikipedia.org/wiki/H%C3%A4rn%C3%B6sand" title="Härnösand">Härnösand</a></td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=62_37_49_N_17_56_12_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>62°37′49″N</span> <span>17°56′12″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">62.63028°N 17.93667°E</span></span></a></span></span></td>
<td>18 April 2002<sup id="cite_ref-Ixion_18-0"><a href="#cite_note-Ixion-18">[18]</a></sup>
</td></tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/174567_Varda" title="174567 Varda">174567 Varda</a></td>
<td>370&nbsp;km</td>
<td>33&nbsp;mm</td>
<td>Bohusläns museum in <a href="https://en.wikipedia.org/wiki/Uddevalla" title="Uddevalla">Uddevalla</a></td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=58_20_57.4_N_11_55_44.0_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>58°20′57.4″N</span> <span>11°55′44.0″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">58.349278°N 11.928889°E</span></span></a></span></span></td>
<td>4 september 2021<sup id="cite_ref-19"><a href="#cite_note-19">[19]</a></sup>
</td></tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/109P/Swift-Tuttle" title="109P/Swift-Tuttle">109P/Swift-Tuttle</a> comet</td>
<td>390&nbsp;km (242&nbsp;mi)</td>
<td>&lt;&nbsp;1&nbsp;cm</td>
<td><a href="https://en.wikipedia.org/wiki/Kreativum" title="Kreativum">Kreativum</a>, a science center in <a href="https://en.wikipedia.org/wiki/Karlshamn" title="Karlshamn">Karlshamn</a></td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=56_11_39_N_14_51_09_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>56°11′39″N</span> <span>14°51′09″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">56.19417°N 14.85250°E</span></span></a></span></span></td>
<td>
</td></tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/Makemake" title="Makemake">Makemake</a></td>
<td>400&nbsp;km</td>
<td>7&nbsp;cm</td>
<td>Slottsskogsobservatoriet in <a href="https://en.wikipedia.org/wiki/Gothenburg" title="Gothenburg">Gothenburg</a></td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=57_41_28.3_N_11_56_36.4_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>57°41′28.3″N</span> <span>11°56′36.4″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">57.691194°N 11.943444°E</span></span></a></span></span></td>
<td>23 September 2017<sup id="cite_ref-20"><a href="#cite_note-20">[20]</a></sup>
</td></tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/%CA%BBOumuamua" title="ʻOumuamua">ʻOumuamua</a></td>
<td>440&nbsp;km</td>
<td>0.3&nbsp;mm</td>
<td><a href="https://en.wikipedia.org/wiki/Halmstad_Municipality" title="Halmstad Municipality">Halmstads</a></td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=56_44_04.8_N_12_44_42.8_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>56°44′04.8″N</span> <span>12°44′42.8″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">56.734667°N 12.745222°E</span></span></a></span></span></td>
<td>
</td></tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/225088_Gonggong" title="225088 Gonggong">225088 Gonggong</a></td>
<td>400&nbsp;km</td>
<td>7.5&nbsp;cm</td>
<td>Tycho Brahe-observatoriet, <a href="https://en.wikipedia.org/wiki/Oxie" title="Oxie">Oxie</a></td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=55_32_33.9_N_13_05_04.0_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>55°32′33.9″N</span> <span>13°05′04.0″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">55.542750°N 13.084444°E</span></span></a></span></span></td>
<td>23 September 2017<sup id="cite_ref-21"><a href="#cite_note-21">[21]</a></sup>
</td></tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/Eris_(dwarf_planet)" title="Eris (dwarf planet)">(136199) Eris</a></td>
<td>510&nbsp;km (317&nbsp;mi)</td>
<td>13&nbsp;cm (5.1&nbsp;in)</td>
<td><i>Företagspark</i> in <a href="https://en.wikipedia.org/wiki/Ume%C3%A5" title="Umeå">Umeå</a></td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=63_50_05_N_20_15_37_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>63°50′05″N</span> <span>20°15′37″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">63.83472°N 20.26028°E</span></span></a></span></span></td>
<td>6 December 2007<sup id="cite_ref-22"><a href="#cite_note-22">[22]</a></sup>
</td></tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/90377_Sedna" title="90377 Sedna">(90377) Sedna</a></td>
<td>810&nbsp;km (503&nbsp;mi)</td>
<td>10&nbsp;cm (3.9&nbsp;in)</td>
<td><a href="https://en.wikipedia.org/wiki/Teknikens_Hus" title="Teknikens Hus">Teknikens Hus</a>, a science center in <a href="https://en.wikipedia.org/wiki/Lule%C3%A5" title="Luleå">Luleå</a></td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=65_36_59.50_N_22_08_06.00_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>65°36′59.50″N</span> <span>22°08′06.00″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">65.6165278°N 22.1350000°E</span></span></a></span></span></td>
<td>8 December 2005<sup id="cite_ref-Sedna_23-0"><a href="#cite_note-Sedna-23">[23]</a></sup>
</td></tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/Termination_shock" title="Termination shock">Termination shock</a></td>
<td>950&nbsp;km (590&nbsp;mi)</td>
<td>A plate</td>
<td><a href="https://en.wikipedia.org/wiki/Institute_of_Space_Physics_(Sweden)" title="Institute of Space Physics (Sweden)">Institute of Space Physics</a> in <a href="https://en.wikipedia.org/wiki/Kiruna" title="Kiruna">Kiruna</a></td>
<td><span><span data-gadget="WikiMiniAtlas"><a href="https://geohack.toolforge.org/geohack.php?pagename=Sweden_Solar_System&amp;params=67_50_27_N_20_24_34.5_E_region:SE_type:landmark"><span><span title="Maps, aerial photos, and other data for this location"><span>67°50′27″N</span> <span>20°24′34.5″E</span></span></span><span>﻿ / ﻿</span><span><span title="Maps, aerial photos, and other data for this location">67.84083°N 20.409583°E</span></span></a></span></span></td>
<td>
</td></tr></tbody></table>
<h2><span id="Gallery">Gallery</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Sweden_Solar_System&amp;action=edit&amp;section=7" title="Edit section: Gallery"><span>edit</span></a><span>]</span></span></h2>
<ul>
		<li>
			<p><span typeof="mw:File"><a href="https://en.wikipedia.org/wiki/File:Stockholm_Globe_Arena.jpg" title="The Avicii Arena represents the Sun. The rest of the Solar System is scattered in, and north of, Stockholm."><img alt="The Avicii Arena represents the Sun. The rest of the Solar System is scattered in, and north of, Stockholm." src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/71/Stockholm_Globe_Arena.jpg/120px-Stockholm_Globe_Arena.jpg" decoding="async" width="120" height="83" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/7/71/Stockholm_Globe_Arena.jpg/180px-Stockholm_Globe_Arena.jpg 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/7/71/Stockholm_Globe_Arena.jpg/240px-Stockholm_Globe_Arena.jpg 2x" data-file-width="3053" data-file-height="2115"></a></span></p>
			<p>The <a href="https://en.wikipedia.org/wiki/Avicii_Arena" title="Avicii Arena">Avicii Arena</a> represents the Sun. The rest of the Solar System is scattered in, and north of, Stockholm.</p>
		</li>
		<li>
			<p><span typeof="mw:File"><a href="https://en.wikipedia.org/wiki/File:Sweden_Solar_System_Mercury.jpg" title="Mercury in Stockholm"><img alt="Mercury in Stockholm" src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9e/Sweden_Solar_System_Mercury.jpg/90px-Sweden_Solar_System_Mercury.jpg" decoding="async" width="90" height="120" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9e/Sweden_Solar_System_Mercury.jpg/135px-Sweden_Solar_System_Mercury.jpg 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/9/9e/Sweden_Solar_System_Mercury.jpg/180px-Sweden_Solar_System_Mercury.jpg 2x" data-file-width="1704" data-file-height="2272"></a></span></p>
			<p>Mercury in Stockholm</p>
		</li>
		<li>
			<p><span typeof="mw:File"><a href="https://en.wikipedia.org/wiki/File:Swedish_Solar_System_Venus.jpg" title="Venus in Stockholm"><img alt="Venus in Stockholm" src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/bd/Swedish_Solar_System_Venus.jpg/90px-Swedish_Solar_System_Venus.jpg" decoding="async" width="90" height="120" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/b/bd/Swedish_Solar_System_Venus.jpg/135px-Swedish_Solar_System_Venus.jpg 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/b/bd/Swedish_Solar_System_Venus.jpg/180px-Swedish_Solar_System_Venus.jpg 2x" data-file-width="1704" data-file-height="2272"></a></span></p>
			<p>Venus in Stockholm</p>
		</li>
		<li>
			<p><span typeof="mw:File"><a href="https://en.wikipedia.org/wiki/File:Sweden_Solar_System_Earth.jpg" title="Earth in Stockholm"><img alt="Earth in Stockholm" src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/be/Sweden_Solar_System_Earth.jpg/90px-Sweden_Solar_System_Earth.jpg" decoding="async" width="90" height="120" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/b/be/Sweden_Solar_System_Earth.jpg/135px-Sweden_Solar_System_Earth.jpg 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/b/be/Sweden_Solar_System_Earth.jpg/180px-Sweden_Solar_System_Earth.jpg 2x" data-file-width="1704" data-file-height="2272"></a></span></p>
			<p>Earth in Stockholm</p>
		</li>
		<li>
			<p><span typeof="mw:File"><a href="https://en.wikipedia.org/wiki/File:Mars_model_of_Sweden_solar_system.jpg" title="Mars in Stockholm"><img alt="Mars in Stockholm" src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/bd/Mars_model_of_Sweden_solar_system.jpg/46px-Mars_model_of_Sweden_solar_system.jpg" decoding="async" width="46" height="120" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/b/bd/Mars_model_of_Sweden_solar_system.jpg/69px-Mars_model_of_Sweden_solar_system.jpg 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/b/bd/Mars_model_of_Sweden_solar_system.jpg/92px-Mars_model_of_Sweden_solar_system.jpg 2x" data-file-width="395" data-file-height="1024"></a></span></p>
			<p>Mars in Stockholm</p>
		</li>
		<li>
			<p><span typeof="mw:File"><a href="https://en.wikipedia.org/wiki/File:Sweden_Solar_System_-_Uranus.jpg" title="Uranus in Lövstabruk"><img alt="Uranus in Lövstabruk" src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e6/Sweden_Solar_System_-_Uranus.jpg/120px-Sweden_Solar_System_-_Uranus.jpg" decoding="async" width="120" height="90" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e6/Sweden_Solar_System_-_Uranus.jpg/180px-Sweden_Solar_System_-_Uranus.jpg 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/e/e6/Sweden_Solar_System_-_Uranus.jpg/240px-Sweden_Solar_System_-_Uranus.jpg 2x" data-file-width="4032" data-file-height="3024"></a></span></p>
			<p>Uranus in Lövstabruk</p>
		</li>
		<li>
			<p><span typeof="mw:File"><a href="https://en.wikipedia.org/wiki/File:Neptune_model_of_Sweden_solar_system.jpg" title="Neptune in Söderhamn"><img alt="Neptune in Söderhamn" src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/33/Neptune_model_of_Sweden_solar_system.jpg/120px-Neptune_model_of_Sweden_solar_system.jpg" decoding="async" width="120" height="62" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/3/33/Neptune_model_of_Sweden_solar_system.jpg/180px-Neptune_model_of_Sweden_solar_system.jpg 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/3/33/Neptune_model_of_Sweden_solar_system.jpg/240px-Neptune_model_of_Sweden_solar_system.jpg 2x" data-file-width="1024" data-file-height="525"></a></span></p>
			<p>Neptune in Söderhamn</p>
		</li>
		<li>
			<p><span typeof="mw:File"><a href="https://en.wikipedia.org/wiki/File:Sculpture_of_asteroid_Vesta.jpg" title="Asteroid Vesta in Täby"><img alt="Asteroid Vesta in Täby" src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/12/Sculpture_of_asteroid_Vesta.jpg/90px-Sculpture_of_asteroid_Vesta.jpg" decoding="async" width="90" height="120" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/1/12/Sculpture_of_asteroid_Vesta.jpg/135px-Sculpture_of_asteroid_Vesta.jpg 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/1/12/Sculpture_of_asteroid_Vesta.jpg/180px-Sculpture_of_asteroid_Vesta.jpg 2x" data-file-width="3456" data-file-height="4608"></a></span></p>
			<p>Asteroid Vesta in Täby</p>
		</li>
		<li>
			<p><span typeof="mw:File"><a href="https://en.wikipedia.org/wiki/File:Sweden_Solar_System_-_Sedna_2.JPG" title="Sedna in Luleå"><img alt="Sedna in Luleå" src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/ce/Sweden_Solar_System_-_Sedna_2.JPG/120px-Sweden_Solar_System_-_Sedna_2.JPG" decoding="async" width="120" height="90" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/c/ce/Sweden_Solar_System_-_Sedna_2.JPG/180px-Sweden_Solar_System_-_Sedna_2.JPG 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/c/ce/Sweden_Solar_System_-_Sedna_2.JPG/240px-Sweden_Solar_System_-_Sedna_2.JPG 2x" data-file-width="2560" data-file-height="1920"></a></span></p>
			<p>Sedna in Luleå</p>
		</li>
		<li>
			<p><span typeof="mw:File"><a href="https://en.wikipedia.org/wiki/File:Entrance_to_Swedish_Institute_of_Space_Physics.JPG" title="The foundation for the sculpture of the Termination Shock in front of the Swedish Institute of Space Physics in Kiruna."><img alt="The foundation for the sculpture of the Termination Shock in front of the Swedish Institute of Space Physics in Kiruna." src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/90/Entrance_to_Swedish_Institute_of_Space_Physics.JPG/120px-Entrance_to_Swedish_Institute_of_Space_Physics.JPG" decoding="async" width="120" height="90" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/9/90/Entrance_to_Swedish_Institute_of_Space_Physics.JPG/180px-Entrance_to_Swedish_Institute_of_Space_Physics.JPG 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/9/90/Entrance_to_Swedish_Institute_of_Space_Physics.JPG/240px-Entrance_to_Swedish_Institute_of_Space_Physics.JPG 2x" data-file-width="2449" data-file-height="1837"></a></span></p>
			<div><p>The foundation for the sculpture of the Termination Shock in front of the <a href="https://en.wikipedia.org/wiki/Institute_of_Space_Physics_(Sweden)" title="Institute of Space Physics (Sweden)">Swedish Institute of Space Physics</a> in Kiruna.</p></div>
		</li>
</ul>
<h2><span id="See_also">See also</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Sweden_Solar_System&amp;action=edit&amp;section=8" title="Edit section: See also"><span>edit</span></a><span>]</span></span></h2>

<ul><li><a href="https://en.wikipedia.org/wiki/Nine_Views" title="Nine Views">Nine Views</a></li>
<li><a href="https://en.wikipedia.org/wiki/Somerset_Space_Walk" title="Somerset Space Walk">Somerset Space Walk</a></li></ul>
<h2><span id="References">References</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Sweden_Solar_System&amp;action=edit&amp;section=9" title="Edit section: References"><span>edit</span></a><span>]</span></span></h2>
<div><ol>
<li id="cite_note-SSS-Bakgrund-1"><span><b><a href="#cite_ref-SSS-Bakgrund_1-0">^</a></b></span> <span><cite><a rel="nofollow" href="http://ttt.astro.su.se/swesolsyst/bakgrund.html">"Sweden Solar System: Bakgrund"</a> (in Swedish). Sweden Solar System<span>. Retrieved <span>2009-09-15</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Sweden+Solar+System%3A+Bakgrund&amp;rft.pub=Sweden+Solar+System&amp;rft_id=http%3A%2F%2Fttt.astro.su.se%2Fswesolsyst%2Fbakgrund.html&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ASweden+Solar+System"></span></span>
</li>
<li id="cite_note-2"><span><b><a href="#cite_ref-2">^</a></b></span> <span><cite><a rel="nofollow" href="https://www.swedensolarsystem.se/en/contact/">"Contact | Sweden Solar System"</a>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Contact+%26%23124%3B+Sweden+Solar+System&amp;rft_id=https%3A%2F%2Fwww.swedensolarsystem.se%2Fen%2Fcontact%2F&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ASweden+Solar+System"></span></span>
</li>
<li id="cite_note-SSS-English-3"><span><b><a href="#cite_ref-SSS-English_3-0">^</a></b></span> <span><cite><a rel="nofollow" href="http://ttt.astro.su.se/swesolsyst/englishsum.html">"Sweden Solar System: English summary"</a>. Sweden Solar System<span>. Retrieved <span>2009-09-15</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Sweden+Solar+System%3A+English+summary&amp;rft.pub=Sweden+Solar+System&amp;rft_id=http%3A%2F%2Fttt.astro.su.se%2Fswesolsyst%2Fenglishsum.html&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ASweden+Solar+System"></span></span>
</li>
<li id="cite_note-4"><span><b><a href="#cite_ref-4">^</a></b></span> <span><a rel="nofollow" href="http://www.danderyd.se/DanderydTemplates/Page____5486.aspx">Danderyds Kommun: Mars</a></span>
</li>
<li id="cite_note-5"><span><b><a href="#cite_ref-5">^</a></b></span> <span><cite id="CITEREFKarlsson">Karlsson, Lars. <a rel="nofollow" href="http://www.astrofriend.eu/astronomy/astronomy-articles/sweden-solar-system-jupiter-2019/sweden-solar-system-jupiter.html">"Sweden Solar System - Jupiter ver. 2"</a>. <i>www.astrofriend.eu</i><span>. Retrieved <span>2022-03-25</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=unknown&amp;rft.jtitle=www.astrofriend.eu&amp;rft.atitle=Sweden+Solar+System+-+Jupiter+ver.+2&amp;rft.aulast=Karlsson&amp;rft.aufirst=Lars&amp;rft_id=http%3A%2F%2Fwww.astrofriend.eu%2Fastronomy%2Fastronomy-articles%2Fsweden-solar-system-jupiter-2019%2Fsweden-solar-system-jupiter.html&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ASweden+Solar+System"></span></span>
</li>
<li id="cite_note-Press_release-6"><span><b><a href="#cite_ref-Press_release_6-0">^</a></b></span> <span><a rel="nofollow" href="http://space.irfu.se/Pressmeddelande_Mattan.pdf">Press release</a>, linked 2009-06-08.</span>
</li>
<li id="cite_note-7"><span><b><a href="#cite_ref-7">^</a></b></span> <span><a rel="nofollow" href="http://www.popast.nu/2009/01/egna-manar-till-uppsalaskolor-hela-listan.html">List</a> of moons of Saturn assigned to schools in Uppsala (in Swedish).</span>
</li>
<li id="cite_note-8"><span><b><a href="#cite_ref-8">^</a></b></span> <span><cite><a rel="nofollow" href="http://www.arbetarbladet.se/uppland/tierp/uranus-landade-i-lovsta">"Uranus landade i Lövsta"</a>. 14 October 2012.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Uranus+landade+i+L%C3%B6vsta&amp;rft.date=2012-10-14&amp;rft_id=http%3A%2F%2Fwww.arbetarbladet.se%2Fuppland%2Ftierp%2Furanus-landade-i-lovsta&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ASweden+Solar+System"></span></span>
</li>
<li id="cite_note-SSS-Stationer-9"><span>^ <a href="#cite_ref-SSS-Stationer_9-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-SSS-Stationer_9-1"><sup><i><b>b</b></i></sup></a> <a href="#cite_ref-SSS-Stationer_9-2"><sup><i><b>c</b></i></sup></a></span> <span><cite><a rel="nofollow" href="http://ttt.astro.su.se/swesolsyst/stationer.html">"Sweden Solar System: Stationer"</a> (in Swedish). Sweden Solar System<span>. Retrieved <span>15 September</span> 2009</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Sweden+Solar+System%3A+Stationer&amp;rft.pub=Sweden+Solar+System&amp;rft_id=http%3A%2F%2Fttt.astro.su.se%2Fswesolsyst%2Fstationer.html&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ASweden+Solar+System"></span></span>
</li>
<li id="cite_note-10"><span><b><a href="#cite_ref-10">^</a></b></span> <span><a rel="nofollow" href="https://www.swedensolarsystem.se/asteroid-jormungandr/">Asteroid Jormungandr</a></span>
</li>
<li id="cite_note-psych.illinois.edu-11"><span>^ <a href="#cite_ref-psych.illinois.edu_11-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-psych.illinois.edu_11-1"><sup><i><b>b</b></i></sup></a> <a href="#cite_ref-psych.illinois.edu_11-2"><sup><i><b>c</b></i></sup></a> <a href="#cite_ref-psych.illinois.edu_11-3"><sup><i><b>d</b></i></sup></a></span> <span><cite><a rel="nofollow" href="http://www.psych.illinois.edu/~wbrewer/solarmodel.html">"Tours of Model Solar Systems"</a>. Psych.illinois.edu<span>. Retrieved <span>4 October</span> 2013</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Tours+of+Model+Solar+Systems&amp;rft.pub=Psych.illinois.edu&amp;rft_id=http%3A%2F%2Fwww.psych.illinois.edu%2F~wbrewer%2Fsolarmodel.html&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ASweden+Solar+System"></span></span>
</li>
<li id="cite_note-12"><span><b><a href="#cite_ref-12">^</a></b></span> <span><a rel="nofollow" href="http://www.nyteknik.se/nyheter/it_telekom/allmant/article705537.ece">Ny Teknik: Saltis invigs i Saltis</a> <a rel="nofollow" href="https://web.archive.org/web/20100623034707/http://www.nyteknik.se/nyheter/it_telekom/allmant/article705537.ece">Archived</a> 23 June 2010 at the <a href="https://en.wikipedia.org/wiki/Wayback_Machine" title="Wayback Machine">Wayback Machine</a></span>
</li>
<li id="cite_note-13"><span><b><a href="#cite_ref-13">^</a></b></span> <span><cite><a rel="nofollow" href="http://www2.taby.se/ava">"Åva gymnasium"</a>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=%C3%85va+gymnasium&amp;rft_id=http%3A%2F%2Fwww2.taby.se%2Fava&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ASweden+Solar+System"></span></span>
</li>
<li id="cite_note-14"><span><b><a href="#cite_ref-14">^</a></b></span> <span><cite><a rel="nofollow" href="http://www.unt.se/uppland/tierp/uranus-invigdes-i-lovstabruk-1904483.aspx">"Uranus invigdes i Lövstabruk – Upsala Nya Tidning"</a>. 13 October 2012.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Uranus+invigdes+i+L%C3%B6vstabruk+%E2%80%93+Upsala+Nya+Tidning&amp;rft.date=2012-10-13&amp;rft_id=http%3A%2F%2Fwww.unt.se%2Fuppland%2Ftierp%2Furanus-invigdes-i-lovstabruk-1904483.aspx&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ASweden+Solar+System"></span></span>
</li>
<li id="cite_note-15"><span><b><a href="#cite_ref-15">^</a></b></span> <span><cite><a rel="nofollow" href="http://ttt.astro.su.se/swesolsyst/halley_sss.html">"Sweden Solar System: Halleys komet"</a>. Ttt.astro.su.se. 16 December 2009<span>. Retrieved <span>4 October</span> 2013</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Sweden+Solar+System%3A+Halleys+komet&amp;rft.pub=Ttt.astro.su.se&amp;rft.date=2009-12-16&amp;rft_id=http%3A%2F%2Fttt.astro.su.se%2Fswesolsyst%2Fhalley_sss.html&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ASweden+Solar+System"></span></span>
</li>
<li id="cite_note-16"><span><b><a href="#cite_ref-16">^</a></b></span> <span><a rel="nofollow" href="http://www.hjalm.org/Neptunus/index.htm">Neptunus i Söderhamn</a></span>
</li>
<li id="cite_note-17"><span><b><a href="#cite_ref-17">^</a></b></span> <span><a rel="nofollow" href="https://www.swedensolarsystem.se/en/quaoar/">Quaoar</a></span>
</li>
<li id="cite_note-Ixion-18"><span><b><a href="#cite_ref-Ixion_18-0">^</a></b></span> <span><cite><a rel="nofollow" href="https://web.archive.org/web/20100814020704/http://www.technichus.se/system/visa.asp?HID=803&amp;FID=782&amp;HSID=13958">"Technichus' Exhibitions"</a>. Technichus home Page. Archived from <a rel="nofollow" href="http://www.technichus.se/system/visa.asp?HID=803&amp;FID=782&amp;HSID=13958">the original</a> on 14 August 2010<span>. Retrieved <span>10 May</span> 2010</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Technichus%27+Exhibitions&amp;rft.pub=Technichus+home+Page&amp;rft_id=http%3A%2F%2Fwww.technichus.se%2Fsystem%2Fvisa.asp%3FHID%3D803%26FID%3D782%26HSID%3D13958&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ASweden+Solar+System"></span></span>
</li>
<li id="cite_note-19"><span><b><a href="#cite_ref-19">^</a></b></span> <span><a rel="nofollow" href="https://www.swedensolarsystem.se/varda/">Varda</a></span>
</li>
<li id="cite_note-20"><span><b><a href="#cite_ref-20">^</a></b></span> <span><a rel="nofollow" href="https://www.swedensolarsystem.se/en/makemake/">Makemake</a></span>
</li>
<li id="cite_note-21"><span><b><a href="#cite_ref-21">^</a></b></span> <span><a rel="nofollow" href="https://www.swedensolarsystem.se/en/gonggong/">Gonggong</a></span>
</li>
<li id="cite_note-22"><span><b><a href="#cite_ref-22">^</a></b></span> <span><a rel="nofollow" href="http://www.umea.se/4.2aeb902411d30c9e46080003810.html">Umeå kommun: Umeå får en egen himlakropp</a> <a rel="nofollow" href="https://web.archive.org/web/20110929011153/http://www.umea.se/4.2aeb902411d30c9e46080003810.html">Archived</a> 29 September 2011 at the <a href="https://en.wikipedia.org/wiki/Wayback_Machine" title="Wayback Machine">Wayback Machine</a></span>
</li>
<li id="cite_note-Sedna-23"><span><b><a href="#cite_ref-Sedna_23-0">^</a></b></span> <span><cite><a rel="nofollow" href="https://web.archive.org/web/20100715074955/http://www.kuriren.nu/arkiv/2005/11/17/Lokalt/1510647/Lule%C3%A5-%C3%A4r-Sedna.aspx">"Luleå är Sedna. I alla fall om vår sol motsvaras av Globen i Stockholm"</a>. Norrbotten Kuriren (in swedish). Archived from <a rel="nofollow" href="http://www.kuriren.nu/arkiv/2005/11/17/Lokalt/1510647/Lule%C3%A5-%C3%A4r-Sedna.aspx">the original</a> on 15 July 2010<span>. Retrieved <span>10 May</span> 2010</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Lule%C3%A5+%C3%A4r+Sedna.+I+alla+fall+om+v%C3%A5r+sol+motsvaras+av+Globen+i+Stockholm.&amp;rft.pub=Norrbotten+Kuriren+%28in+swedish%29&amp;rft_id=http%3A%2F%2Fwww.kuriren.nu%2Farkiv%2F2005%2F11%2F17%2FLokalt%2F1510647%2FLule%25C3%25A5-%25C3%25A4r-Sedna.aspx&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ASweden+Solar+System"></span></span>
</li>
</ol></div>
<h2><span id="External_links">External links</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Sweden_Solar_System&amp;action=edit&amp;section=10" title="Edit section: External links"><span>edit</span></a><span>]</span></span></h2>

<ul><li><a rel="nofollow" href="http://www.swedensolarsystem.se/en">Sweden Solar System's webpage</a></li>
<li><a rel="nofollow" href="https://www.openstreetmap.org/relation/16842382">All objects on Openstreetmap</a></li></ul>


<!-- 
NewPP limit report
Parsed by mw1351
Cached time: 20231231153600
Cache expiry: 2592000
Reduced expiry: false
Complications: [vary‐revision‐sha1, show‐toc]
CPU time usage: 0.708 seconds
Real time usage: 0.851 seconds
Preprocessor visited node count: 3580/1000000
Post‐expand include size: 117122/2097152 bytes
Template argument size: 3853/2097152 bytes
Highest expansion depth: 20/100
Expensive parser function count: 4/500
Unstrip recursion depth: 1/20
Unstrip post‐expand size: 70569/5000000 bytes
Lua time usage: 0.428/10.000 seconds
Lua memory usage: 8649628/52428800 bytes
Number of Wikibase entities loaded: 0/400
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  719.487      1 -total
 27.91%  200.840      1 Template:Reflist
 21.25%  152.856     12 Template:Cite_web
 17.41%  125.267      1 Template:Solar_System_models
 17.08%  122.918      1 Template:Navbox
 12.98%   93.373      1 Template:Expand_Swedish
 11.11%   79.957      1 Template:Expand_language
 10.21%   73.442      1 Template:Ambox
 10.20%   73.368     27 Template:Coord
  7.06%   50.797     30 Template:Cvt
-->

<!-- Saved in parser cache with key enwiki:pcache:idhash:3589660-0!canonical and timestamp 20231231153559 and revision id 1190751100. Rendering was triggered because: page-view
 -->
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[I forked SteamOS for my living room PC (195 pts)]]></title>
            <link>https://iliana.fyi/blog/build-your-own-steamos-updates/</link>
            <guid>38823101</guid>
            <pubDate>Sun, 31 Dec 2023 10:45:33 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://iliana.fyi/blog/build-your-own-steamos-updates/">https://iliana.fyi/blog/build-your-own-steamos-updates/</a>, See on <a href="https://news.ycombinator.com/item?id=38823101">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>SteamOS 3 (“Holo”) is the Arch-based Linux distribution built for the Steam Deck, Valve Software’s portable PC gaming device. It’s a very interesting Linux distribution even when you only focus on how it updates itself: updates are performed atomically by downloading a new read-only root filesystem to an inactive partition, then rebooting into that partition. But consumers can also run <code>steamos-devmode</code> to unlock the root filesystem, put the pacman database in working order, and give them a working Linux distro with a normal package manager.</p><p>This A/B atomic updates system is pretty standard for OSes these days, but there’s a lot going on in SteamOS that makes them work even with heavy customization by the end-user. I wanted to explore that while still being able to make changes to the root filesystem images. <code>steamos-devmode</code> is the easy way out; I wanted to make a proper fork. Here’s how I did it.</p><ili-callout role="note"><p>I use these instructions, but am providing them here to help publicly document some of what SteamOS does. I’m not responsible for you breaking your Steam Deck, and if you send me questions asking why these steps don’t work for you I won’t answer.</p></ili-callout><h2>Why?</h2><p>I don’t own a Steam Deck. A bunch of my friends do, but they know better than to let me have root access on a device they actually like using. What I do have is a recently-built living room PC that I wanted to play games on… and SteamOS seemed like a reasonable choice. It almost even worked perfectly out of the box, although I think that is primarily because I built a computer that looks vaguely similar to a really heavy, battery-less Steam Deck<sup><a href="#user-content-fn-fragile" aria-describedby="footnote-label" data-footnote-ref="" id="user-content-fnref-fragile">1</a></sup>.</p><p>The one thing that didn’t work was resume from suspend. Other distributions running on my computer using mainline or stable kernels did. Eventually, I found <a href="https://steamdeck-packages.steamos.cloud/archlinux-mirror/sources/">the sources for Valve’s kernel</a> (it’s weird, I’ll explain when we get there) and started a <code>git bisect</code>, leading me to a commit that seems to fix resume from suspend on Steam Deck hardware, but ultimately breaks it on mine. Needing to revert this commit and do my own build is the ultimate reason I headed down this path.</p><p>At several points in this process my partner asked if this made more sense than just using Arch or something else directly. I still don’t know the answer, although I think I still prefer relying on a Valve-tested set of packages than whatever’s current in the Arch repos. If I’m going to have to tinker with a Linux distro for running games, it may as well be one that people actually test their games on.</p><p>I apparently have a tendency to make poor choices like this, because you are reading the second post in what has become a series on <a href="https://iliana.fyi/blog/installing-fedora-on-mac-mini/">installing Linux distros onto systems they’re not ready for yet</a>.</p><h2>SteamOS in a nutshell</h2><p>A SteamOS system has eight partitions. The stage 1 bootloader is stored on the EFI system partition, along with metadata files that describe the two A/B partition sets and how to choose which one to boot. Each of the two partition sets contains a stage 2 bootloader (GRUB), the root filesystem, and a <code>/var</code> partition. Finally, there’s a single <code>home</code> partition that fills the rest of the disk.</p><pre><code>Number  Start (sector)    End (sector)  Size       Code  Name
   1            2048          133119   64.0 MiB    EF00  esp
   2          133120          198655   32.0 MiB    0700  efi-A
   3          198656          264191   32.0 MiB    0700  efi-B
   4          264192        10749951   5.0 GiB     8304  rootfs-A
   5        10749952        21235711   5.0 GiB     8304  rootfs-B
   6        21235712        21759999   256.0 MiB   8310  var-A
   7        21760000        22284287   256.0 MiB   8310  var-B
   8        22284288      4000797319   1.9 TiB     8302  home
</code></pre><p>When the system boots, a number of other pseudo-filesystems get mounted. Almost a dozen directories, including <code>/var/log</code>, <code>/root</code>, and <code>/nix</code>, are bind-mounted from <code>/home/.steamos/offload</code> to keep their data persistent.</p><p>Perhaps my favorite detail of SteamOS is how it handles <code>/etc</code>: it mounts an overlayfs on top of it, with modifications persisted at <code>/var/lib/overlays/etc/upper</code>. This allows persisting the usual things that need to be persisted in <code>/etc</code> (e.g. the <code>machine-id</code> file, NetworkManager connections) while allowing updates to untouched configuration files. Most Linux package managers have similar behaviors around <code>/etc</code>, only updating config files that haven’t been changed from their defaults, but Valve’s approach makes this work with the A/B partition system without any package manager logic.</p><p>A system update is started when the Steam client, or a user in a terminal, runs <code>steamos-update</code>. This runs a Python program, <code>steamos-atomupd-client</code>, which sends a request containing the current OS information and the user’s update channel configuration to the URLs in <code>/etc/steamos-atomupd/client.conf</code> in order to determine whether there is a new update.</p><p>If there is, the servers respond with a path to a <a href="https://rauc.io/">RAUC bundle</a>, which the client downloads and runs <code>rauc install</code> on. RAUC verifies the signature of the bundle and looks for the <code>rootfs.img.caibx</code> file, then runs <code>casync extract</code> to download all the necessary pieces of the new image and write them to the inactive rootfs partition. RAUC then runs a post-install script that selectively<sup><a href="#user-content-fn-selectively" aria-describedby="footnote-label" data-footnote-ref="" id="user-content-fnref-selectively">2</a></sup> synchronizes data from the active <code>/var</code> partition to the inactive <code>/var</code> partition, and modifies the stage 1 bootloader configuration on the EFI system partition to boot into the newly-written partition set.</p><h2>Patching the kernel</h2><p>Valve uses a heavily-modified Linux kernel in SteamOS. We can know this because we can readily download the sources. It’s a little more convoluted than <code>git clone</code>, but not by much. Their <a href="https://steamdeck-packages.steamos.cloud/archlinux-mirror/">pacman mirror</a> can be found in <code>/etc/pacman.d/mirrorlist</code>, and the sources used for current (as of writing) SteamOS images are in the <code>sources/holo-3.5</code> and <code>sources/jupiter-3.5</code>. Right now, the current stable image’s kernel is <code>6.1.52-valve9-1-neptune-61</code>, whose source lives at <a href="https://steamdeck-packages.steamos.cloud/archlinux-mirror/sources/jupiter-3.5/linux-neptune-61-6.1.52.valve9-1.src.tar.gz">https://steamdeck-packages.steamos.cloud/archlinux-mirror/sources/jupiter-3.5/linux-neptune-61-6.1.52.valve9-1.src.tar.gz</a>.</p><p>This is a 2.9 GiB tarball. Why is it that big? Because there’s an entire Linux Git tree in here.</p><pre><code>$ tar xvf linux-neptune-61-6.1.52.valve9-1.src.tar.gz
linux-neptune-61/
linux-neptune-61/config
linux-neptune-61/config-neptune
linux-neptune-61/PKGBUILD
linux-neptune-61/archlinux-linux-neptune/
linux-neptune-61/.SRCINFO
linux-neptune-61/archlinux-linux-neptune/hooks/
linux-neptune-61/archlinux-linux-neptune/branches/
linux-neptune-61/archlinux-linux-neptune/HEAD
linux-neptune-61/archlinux-linux-neptune/config
linux-neptune-61/archlinux-linux-neptune/description
linux-neptune-61/archlinux-linux-neptune/objects/
linux-neptune-61/archlinux-linux-neptune/refs/
linux-neptune-61/archlinux-linux-neptune/info/
linux-neptune-61/archlinux-linux-neptune/packed-refs
linux-neptune-61/archlinux-linux-neptune/info/exclude
linux-neptune-61/archlinux-linux-neptune/refs/tags/
linux-neptune-61/archlinux-linux-neptune/refs/heads/
linux-neptune-61/archlinux-linux-neptune/objects/pack/
linux-neptune-61/archlinux-linux-neptune/objects/info/
linux-neptune-61/archlinux-linux-neptune/objects/pack/pack-6e0e2b73767937e4f217e55f6d3628af296eecfc.idx
linux-neptune-61/archlinux-linux-neptune/objects/pack/pack-6e0e2b73767937e4f217e55f6d3628af296eecfc.pack
linux-neptune-61/archlinux-linux-neptune/objects/pack/pack-6e0e2b73767937e4f217e55f6d3628af296eecfc.rev
...
</code></pre><p>This was likely generated by <code>makepkg --allsource</code> from a PKGBUILD with:</p><pre><code>_tag=6.1.52-valve9
# ...
source=(
  "$_srcname::git+ssh://git@gitlab.steamos.cloud/jupiter/linux-integration.git#tag=$_tag"
  config          # Upstream Arch Linux kernel configuration file, DO NOT EDIT!!!
  config-neptune  # Jupiter: the neptune kernel fragment file (overrides 'config' above)
)
</code></pre><p>So we can’t clone directly from their private GitLab repo or link to various commits, but we can get regular snapshots of every tag with full commit history in the repo from their <code>makepkg</code> sources. This is very useful for, say, bisecting which commit breaks suspend on your living room PC.</p><p>The source tarball isn’t a working Git tree that you can <code>cd</code> into and start hacking on. It’s a <a href="https://git-scm.com/docs/gitrepository-layout/2.22.0">bare repository</a>, which you can clone into a normal working tree<sup><a href="#user-content-fn-worktree" aria-describedby="footnote-label" data-footnote-ref="" id="user-content-fnref-worktree">3</a></sup>. My recommendation is to maintain your own branch of changes, tag your releases, and push them to your favorite Git host so that you can use it in the PKGBUILD file. <a href="https://git.iliana.fyi/linux">Here’s mine!</a></p><pre><code>wget https://steamdeck-packages.steamos.cloud/archlinux-mirror/sources/jupiter-3.5/linux-neptune-61-6.1.52.valve9-1.src.tar.gz
tar xvzf linux-neptune-61-6.1.52.valve9-1.src.tar.gz
git clone linux-neptune-61/archlinux-linux-neptune/ linux-neptune
cd linux-neptune
git switch --create my-branch 6.1.52-valve9
</code></pre><p>Fix up your PKGBUILD (pointing to your Git repo, not mine):</p><pre><code data-syntax-highlighted=""><span>--- a/PKGBUILD</span>
<span>+++ b/PKGBUILD</span>
<span>@@ -3,5 +3,5 @@</span>

<span> pkgbase=linux-neptune-61</span>
<span>-_tag=6.1.52-valve9</span>
<span>+_tag=6.1.52-valve9-iliana1</span>
<span> pkgver=${_tag//-/.}</span>
<span> pkgrel=1</span>
<span>@@ -19,5 +19,5 @@</span><span> options=('!strip' '!debug')</span>
<span> _srcname=archlinux-linux-neptune</span>
<span> source=(</span>
<span>-  "$_srcname::git+ssh://git@gitlab.steamos.cloud/jupiter/linux-integration.git#tag=$_tag"</span>
<span>+  "$_srcname::git+https://git.iliana.fyi/linux#tag=$_tag"</span>
<span>   config          # Upstream Arch Linux kernel configuration file, DO NOT EDIT!!!</span>
<span>   config-neptune  # Jupiter: the neptune kernel fragment file (overrides 'config' above)</span>
</code></pre><p>Then <code>makepkg</code> should spit out a package. (Tip: <code>makepkg MAKEFLAGS=-j$(nproc)</code>, or updating <code>/etc/makepkg.conf</code>, is a good idea if you are not building in a tiny virtual machine.) This same general process should apply for any SteamOS-specific packages; all the ones I’ve looked at similarly use a Git repository as their first source.</p><p>To make the next steps easier, I set up a pacman repo containing my package outputs. This also helps the <code>steamos-devmode</code> tool work properly if you choose to run that in the future. This is <a href="https://archlinux.org/pacman/repo-add.8.html">very simple</a>: put the packages in a directory, run <code>repo-add $REPO_NAME.db.tar.zst [PACKAGES...]</code> in that directory, and upload the directory to a web host somewhere.</p><h2>Repacking the root filesystem</h2><p>The update client is perfectly-readable Python, and the sources for the rest of the packages on the system can be found adjacent to Valve’s pacman repos, but I haven’t yet found any release engineering scripts. Reverse engineering these would be fraught, time-consuming, and beyond what I believe my attention span would allow, so I decided to take the existing root filesystem and “repack” it to fit my needs.</p><p>If you want my scripts without the explanations and commentary, you can find them at <a href="https://git.iliana.fyi/fauxlo/tree/">https://git.iliana.fyi/fauxlo/tree/</a>.</p><h3>Getting the root filesystem</h3><ili-callout role="note"><p>The normal way to get a copy of the SteamOS root filesystem image is to buy a Steam Deck or download the recovery image from <a href="https://store.steampowered.com/steamos/download?ver=steamdeck">https://store.steampowered.com/steamos/download?ver=steamdeck</a>, both of which require agreeing to the Steam End User License Agreement<sup><a href="#user-content-fn-agreement" aria-describedby="footnote-label" data-footnote-ref="" id="user-content-fnref-agreement">4</a></sup>. The methods I describe below don’t make you do this, but now you’re aware of it.</p></ili-callout><p>First, we need the root filesystem. You could install SteamOS, run an update, and pull it off the disk, but that is kind of obnoxious, especially if you don’t have any hardware to install it on.</p><p>Every build of a Steam Deck image can be found at <a href="https://steamdeck-images.steamos.cloud/steamdeck/">https://steamdeck-images.steamos.cloud/steamdeck/</a>, but to find the current release version you can look at what appears to be a fallback URL for the updates system, <a href="https://steamdeck-atomupd.steamos.cloud/meta/steamos/amd64/snapshot/steamdeck.json">https://steamdeck-atomupd.steamos.cloud/meta/steamos/amd64/snapshot/steamdeck.json</a> (or <a href="https://steamdeck-atomupd.steamos.cloud/meta/steamos/amd64/snapshot/steamdeck-beta.json">this path for the preview channel</a>). As of writing, the current stable version is <a href="https://steamdeck-images.steamos.cloud/steamdeck/20231122.1/">https://steamdeck-images.steamos.cloud/steamdeck/20231122.1/</a>.</p><p>To download the root filesystem, we follow the same steps <code>steamos-atomupd-client</code> does: first, download the RAUC bundle (the <code>.raucb</code> file). Then extract the <code>rootfs.img.caibx</code> from inside; these RAUC bundles are SquashFS filesystems with a signature at the end, so you can either mount it or use unsquashfs (from squashfs-tools) or p7zip to extract it without mounting. Finally, use casync to fetch the image using the <code>.castr</code> store adjacent to the <code>.raucb</code> bundle:</p><pre><code>casync extract \
	--store=https://steamdeck-images.steamos.cloud/steamdeck/20231122.1/steamdeck-20231122.1-3.5.7.castr \
	rootfs.img.caibx rootfs.img
</code></pre><p>The casync store URL is the RAUC bundle URL, but with <code>.raucb</code> replaced with <code>.castr</code> (this is hardcoded in <code>steamos-atomupd</code>).</p><p><a href="https://git.iliana.fyi/fauxlo/tree/fetch-current.sh?id=c50eb80f23c08f1ffc824d4983d5b9a740fb1273">Here is a script I use to do all this.</a></p><ili-tangent role="note"><p>The adjacent <code>.img.zip</code> and <code>.img.zst</code> files are not the root filesystem, sadly, but are separate bootable recovery images:</p><pre><code>$ sgdisk --print disk.img
Disk disk.img: 15125000 sectors, 7.2 GiB
[...]

Number  Start (sector)    End (sector)  Size       Code  Name
   1              34          131071   64.0 MiB    EF00  esp
   2          131072          393215   128.0 MiB   0700  efi-A
   3          655360        11141119   5.0 GiB     8304  rootfs-A
   4        11141120        11665407   256.0 MiB   8310  var-A
   5        11665408        15124966   1.6 GiB     8302  home
</code></pre><p>You could extract the rootfs partition and use it in the next steps, but for some reason it’s not a bit-for-bit copy of the image that is downloaded via RAUC and casync, and doing this doesn’t save you from having to use those tools as we need them to turn our repacked image back into an update bundle.</p></ili-tangent><h3>Mounting the root filesystem</h3><p>First, we should randomize the filesystem UUID. If you update from a currently-released SteamOS image to your customized one without randomizing the filesystem UUID, you will end up with two distinct filesystems with the same UUID. This can cause problems.</p><pre><code>btrfstune -fu rootfs.img
</code></pre><p>Valve is currently using Btrfs images with zstd compression, so to maintain that compression as we change the image, we need to mount it with the appropriate option:</p><pre><code>mkdir rootfs
mount -o compress=zstd rootfs.img rootfs
</code></pre><p>SteamOS uses Btrfs’s <code>readonly</code> subvolume property; clear that flag:</p><pre><code>btrfs property set -ts rootfs ro false
</code></pre><p>Modifying certain packages, such as the Linux kernel, triggers scripts that want /dev and /proc, so mount those:</p><pre><code>mount -t devtmpfs dev rootfs/dev
mount -t proc proc rootfs/proc
</code></pre><p>It’s also a good idea to prevent writes to directories that will be mounted by the booted system. We can mount tmpfs to these directories:</p><pre><code>mount -t tmpfs tmpfs rootfs/tmp
mount -t tmpfs -o mode=755 tmpfs rootfs/run
mount -t tmpfs -o mode=755 tmpfs rootfs/var
mount -t tmpfs -o mode=755 tmpfs rootfs/home
</code></pre><p>In this example we’ll be installing packages via pacman repositories in a chroot (using pacman’s <code>--sysroot</code> option). Networking functions fine in a chroot, but name resolution still relies on a correct /etc/resolv.conf, so bind mount one in:</p><pre><code>mount --bind "$(realpath /etc/resolv.conf)" rootfs/etc/resolv.conf
</code></pre><h3>Replacing packages</h3><p>To add your custom repository, make it the first repository entry in <code>/etc/pacman.conf</code>. This will ensure your packages override any newer-versioned ones from Valve’s repositories. It also allows your packages to be reinstalled by <code>steamos-devmode</code> if you run that on this image. I used this stanza:</p><pre><code>[fauxlo]
Server = https://fauxlo.ili.fyi/pacman/$arch
SigLevel = Never
</code></pre><p><code>SigLevel = Never</code> allows the packages to have no signatures. If you want to GPG-sign your packages, go for it, but that’s beyond what I have patience for.</p><ili-tangent role="note"><p>If you do end up installing GPG-signed packages, you’ll need to populate the pacman keyring. I think it’s best to avoid messing with the empty keyring in <code>/etc/pacman.d/gnupg</code> by populating a new keyring on a tmpfs:</p><pre><code>chroot rootfs pacman-key --gpgdir /tmp/gnupg --init
chroot rootfs pacman-key --gpgdir /tmp/gnupg --populate
# These start a gpg-agent, which we need to stop before we can unmount at the end.
chroot rootfs gpgconf --homedir /tmp/gnupg --kill all
</code></pre><p>Then add <code>--gpgdir /tmp/gnupg</code> to your pacman incantation.</p></ili-tangent><p>Then, we install:</p><pre><code>pacman --sysroot rootfs --noconfirm -Sy linux-neptune-61
</code></pre><ili-tangent role="note"><p>In my script, I avoid using <code>-y</code> and instead synchronize my repository’s database behind pacman’s back before running the install command:</p><pre><code>curl -Ro rootfs/usr/lib/holo/pacmandb/sync/fauxlo.db \
	https://fauxlo.ili.fyi/pacman/x86_64/fauxlo.db
</code></pre><p>This keeps the state of the other repositories on disk frozen at the same point in time when the image was originally built. I don’t think this actually matters, but it reduces the changes that show up if I diff my image against Valve’s.</p></ili-tangent><h3>Changing the build ID</h3><p><code>steamos-atomupd</code> reads from <code>/lib/steamos-atomupd/manifest.json</code>, or if that is somehow missing, <code>/etc/os-release</code>, to determine the version and build ID of the current image. It will refuse to perform an update if the server says the available update’s build ID is the same as the current image. It’s also good to know what image you’re running.</p><p>The build ID <em>must</em> be of the form YYYYMMDD.N. If it isn’t, <code>steamos-atomupd</code> exits with a Python traceback upon encountering it. To avoid having to remember to count up manually, I set N to a timestamp; either HHMMSS or a Unix timestamp would work fine.</p><p>Update the <code>buildid</code> field in <code>rootfs/lib/steamos-atomupd/manifest.json</code> and the <code>BUILD_ID</code> field in <code>rootfs/etc/os-release</code> with whatever you pick. You can steal from <a href="https://git.iliana.fyi/fauxlo/tree/repack.sh?id=c50eb80f23c08f1ffc824d4983d5b9a740fb1273#n47">the Bash script I wrote to do this</a>.</p><pre><code data-syntax-highlighted=""><span>--- a/lib/steamos-atomupd/manifest.json</span>
<span>+++ b/lib/steamos-atomupd/manifest.json</span>
<span>@@ -4,7 +4,7 @@</span>
<span>   "variant": "steamdeck",</span>
<span>   "arch": "amd64",</span>
<span>   "version": "3.5.7",</span>
<span>-  "buildid": "20231122.1",</span>
<span>+  "buildid": "20231219.55534",</span>
<span>   "checkpoint": false,</span>
<span>   "estimated_size": 0</span>
<span> }</span>
<span>--- a/etc/os-release</span>
<span>+++ b/etc/os-release</span>
<span>@@ -11,4 +11,4 @@</span>
<span> LOGO=steamos</span>
<span> VARIANT_ID=steamdeck</span>
<span> VERSION_ID=3.5.7</span>
<span>-BUILD_ID=20231122.1</span>
<span>+BUILD_ID=20231219.55534</span>
</code></pre><p>Keep a copy of the updated <code>manifest.json</code> handy, as it’s useful in building the updates server later.</p><h3>Changing the update URLs and signing keys</h3><p>RAUC uses X.509 certificates to establish trust. The trusted certificate lives at <code>/etc/rauc/keyring.pem</code>. You can make an overcomplicated PKI scheme, such as the <a href="https://github.com/rauc/rauc/blob/master/test/openssl-ca-create.sh">one generated in RAUC’s tests</a>, but <a href="https://rauc.readthedocs.io/en/latest/examples.html#pki-setup">a simple self-signed certificate</a> is fine. Install your new certificate at <code>rootfs/etc/rauc/keyring.pem</code>.</p><p>You’ll need to modify the URLs in <code>rootfs/etc/steamos-atomupd/client.conf</code> with your own:</p><pre><code data-syntax-highlighted=""><span>--- a/rootfs/etc/steamos-atomupd/client.conf</span>
<span>+++ b/rootfs/etc/steamos-atomupd/client.conf</span>
<span>@@ -1,5 +1,5 @@</span>
<span> [Server]</span>
<span>-QueryUrl = https://steamdeck-atomupd.steamos.cloud/updates</span>
<span>-ImagesUrl = https://steamdeck-images.steamos.cloud/</span>
<span>-MetaUrl = https://steamdeck-atomupd.steamos.cloud/meta</span>
<span>+QueryUrl = https://fauxlo.ili.fyi/updates</span>
<span>+ImagesUrl = https://fauxlo.ili.fyi/</span>
<span>+MetaUrl = https://fauxlo.ili.fyi/meta</span>
<span> Variants = rel;rc;beta;bc;main</span>
</code></pre><h3>Other changes</h3><p>You can make pretty much any change you want at this point as long as you don’t run out of space in a 5 GiB Btrfs image. For instance, if you want your SteamOS device to be resolvable as <code>hostname.local</code> on your network, you could remove <code>rootfs/usr/lib/systemd/resolved.conf.d/00-disable-mdns.conf</code>. This <em>can</em> be overridden with a configuration in the <code>/etc</code> overlay, but it’s kind of a pain in the ass.</p><p>In general, my philosophy here is that you should avoid making changes that are trivial to perform without modifying the image. You <em>could</em> install Firefox in the root filesystem this way, instead of using Flatpak or Nix, but then you’d need to repack the image every time you want to install a Firefox security update.</p><h3>Unmounting the root filesystem</h3><p>Mark the filesystem read-only once again:</p><pre><code>btrfs property set -ts rootfs ro true
</code></pre><p>Discard any unused blocks:</p><pre><code>fstrim -v rootfs
</code></pre><p>Then, unmount. <code>--recursive</code> is particularly helpful here to take care of all the pseudo-filesystems we mounted in:</p><pre><code>umount --recursive rootfs
</code></pre><h2>Creating the RAUC bundle</h2><p>First we need to create the casync store and blob index. We can do this with:</p><pre><code>mkdir bundle
casync make --store=rootfs.img.castr \
	bundle/rootfs.img.caibx rootfs.img
</code></pre><p>The RAUC bundle needs two other files. The first is <code>manifest.raucm</code>:</p><pre><code data-syntax-highlighted=""><span>cat</span><span> </span><span>&gt;</span><span>bundle/manifest.raucm</span><span> </span><span>&lt;&lt;</span><span>EOF</span>
<span>[update]</span>
<span>compatible=steamos-amd64</span>
<span>version=</span><span>$version</span>

<span>[image.rootfs]</span>
<span>sha256=$(</span><span>sha256sum</span><span> rootfs.img </span><span>|</span><span> </span><span>awk</span><span> '{ print $1 }')</span>
<span>size=$(</span><span>stat</span><span> </span><span>-c</span><span> %s rootfs.img)</span>
<span>filename=rootfs.img.caibx</span>
<span>EOF</span>
</code></pre><p>The second is a <code>UUID</code> file containing the filesystem UUID:</p><pre><code>blkid -s UUID -o value rootfs.img &gt;bundle/UUID
</code></pre><p>With those three files:</p><pre><code>$ ls bundle
manifest.raucm  rootfs.img.caibx  UUID
</code></pre><p>we can now call <code>rauc bundle</code>:</p><pre><code>rauc bundle \
	--signing-keyring=cert.pem --cert=cert.pem --key=key.pem \
	bundle rootfs.img.raucb
</code></pre><p>Upload <code>rootfs.img.raucb</code> and <code>rootfs.img.caibx</code> to the web server specified by <code>ImagesUrl</code> in <code>rootfs/etc/steamos-atomupd/client.conf</code>. These need to be in the same directory.</p><h2>Final update server setup</h2><p>The web server you used for <code>QueryUrl</code> and <code>MetaUrl</code> in <code>rootfs/etc/steamos-atomupd/client.conf</code> will need to serve a JSON file. This doesn’t need to be fancy; what I do is write a <code>live.json</code> file with these contents:</p><pre><code data-syntax-highlighted=""><span>{</span>
<span>  </span><span>"minor"</span><span>: {</span>
<span>    </span><span>"release"</span><span>: </span><span>"holo"</span><span>,</span>
<span>    </span><span>"candidates"</span><span>: [</span>
<span>      {</span>
<span>        </span><span>"image"</span><span>: {</span>
<span>          </span><span>"product"</span><span>: </span><span>"steamos"</span><span>,</span>
<span>          </span><span>"release"</span><span>: </span><span>"holo"</span><span>,</span>
<span>          </span><span>"variant"</span><span>: </span><span>"steamdeck"</span><span>,</span>
<span>          </span><span>"arch"</span><span>: </span><span>"amd64"</span><span>,</span>
<span>          </span><span>"version"</span><span>: </span><span>"3.5.7"</span><span>,</span>
<span>          </span><span>"buildid"</span><span>: </span><span>"20231219.55534"</span><span>,</span>
<span>          </span><span>"checkpoint"</span><span>: </span><span>false</span><span>,</span>
<span>          </span><span>"estimated_size"</span><span>: </span><span>0</span>
<span>        },</span>
<span>        </span><span>"update_path"</span><span>: </span><span>"rootfs.img.raucb"</span>
<span>      }</span>
<span>    ]</span>
<span>  }</span>
<span>}</span>
</code></pre><p>Note that the object at <code>.minor.candidates[0].image</code> should be the same as <code>/lib/steamos-atomupd/manifest.json</code> in your image. <code>update_path</code> is what the updates client will append to your <code>ImagesUrl</code> to download the bundle.</p><p>I use the following Caddy configuration to rewrite the requests <code>steamos-atomupd</code> makes to <code>QueryUrl</code> and <code>MetaUrl</code> to the above <code>live.json</code>:</p><pre><code>root * /var/www/fauxlo.ili.fyi
rewrite /updates /live.json
rewrite /meta/*/*/*/*.json /live.json
rewrite /meta/*/*/*/*/*.json /live.json
file_server browse
</code></pre><p>The real SteamOS <code>QueryUrl</code> and <code>MetaUrl</code> seem to have quite a bit more logic to them, but this is sufficient to get <code>steamos-atomupd</code> to find the new update. It has logic to avoid updating if it’s already running the image advertised as currently available.</p><h2>Updating!</h2><p>Once you have all this in place, you can update an existing SteamOS installation to this by modifying <code>/etc/rauc/keyring.pem</code> and <code>/etc/steamos-atomupd/client.conf</code>. (No <code>steamos-readonly disable</code> required, as your changes will land on the <code>/etc</code> overlay; after you run <code>steamos-update</code>, consider cleaning those changes out of <code>/var/lib/overlays/etc/upper</code>.)</p><p>You can also probably install your modified SteamOS by modifying one of Valve’s recovery images, replacing their rootfs with your own. I haven’t tested this, but I also haven’t seen anything that would contradict this.</p><ili-callout role="note"><p>Thanks for reading! 2023 has been a busier-than-usual year for my blog, and I’m pretty happy about getting more writing out there. If you’ve found any of my blog posts helpful, give a trans person all of your money. See you next year!</p></ili-callout><section data-footnotes=""><ol><li id="user-content-fn-fragile"><p>The similarities don’t end with just having an AMD CPU and GPU and an NVMe SSD; similar to how Valve says <a href="https://www.youtube.com/watch?v=Dxnr2FAADAs">you shouldn’t open your Steam Deck</a> because it will immediately make it less structurally resilient, you also shouldn’t open my living room PC because you might damage the precision-bent PCI slot cover plate keeping the graphics hovering above the case fans I had to use to replace the GPU fan shroud that wouldn’t fit in the case. <a href="#user-content-fnref-fragile" aria-label="Back to reference 1" data-footnote-backref="">↩︎</a></p></li><li id="user-content-fn-selectively"><p>The <a href="https://gist.github.com/iliana/44c53bfa7eab4f04e952d6387d3e70ae#file-post-install-sh-L216-L243"><code>sync_var_mountpoints</code> function in <code>/usr/lib/rauc/post-install.sh</code></a> has an excellent comment explaining why some files need to be excluded when synchronizing <code>/var</code> between the partition sets. <a href="#user-content-fnref-selectively" aria-label="Back to reference 2" data-footnote-backref="">↩︎</a></p></li><li id="user-content-fn-worktree"><p>You could also use <a href="https://git-scm.com/docs/git-worktree">git-worktree(1)</a> for this: <code>cd linux-neptune-61/archlinux-linux-neptune</code> then <code>git worktree add -B my-branch ../../linux-neptune 6.1.52-valve9</code>. <a href="#user-content-fnref-worktree" aria-label="Back to reference 3" data-footnote-backref="">↩︎</a></p></li><li id="user-content-fn-agreement"><p>If anyone from Valve is reading this, you might want to update your EULA to point to somewhere more useful than <a href="https://gitlab.steamos.cloud/">https://gitlab.steamos.cloud/</a>, which has barely any public repositories and certainly does not have a “list of contained packages along with their respective FOSS or proprietary licenses as well as source code for FOSS packages”. <a href="#user-content-fnref-agreement" aria-label="Back to reference 4" data-footnote-backref="">↩︎</a></p></li></ol></section></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Emacs-copilot: Large language model code completion for Emacs (278 pts)]]></title>
            <link>https://github.com/jart/emacs-copilot</link>
            <guid>38822164</guid>
            <pubDate>Sun, 31 Dec 2023 05:59:11 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/jart/emacs-copilot">https://github.com/jart/emacs-copilot</a>, See on <a href="https://news.ycombinator.com/item?id=38822164">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 tabindex="-1" dir="auto">Emacs Copilot</h2>
<details open="">
  <summary>
    
    <span aria-label="Video description copilot.mp4">copilot.mp4</span>
    <span></span>
  </summary>

  <video src="https://private-user-images.githubusercontent.com/49262/293500050-1a79d4e4-9622-452e-9944-950c6f21d67f.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDQwMjQzMDQsIm5iZiI6MTcwNDAyNDAwNCwicGF0aCI6Ii80OTI2Mi8yOTM1MDAwNTAtMWE3OWQ0ZTQtOTYyMi00NTJlLTk5NDQtOTUwYzZmMjFkNjdmLm1wND9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyMzEyMzElMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjMxMjMxVDEyMDAwNFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTM0MTI2OTI5MTQ0YWE2M2NjN2RkOWRlZmJkM2Y1NjlhYmIzZWE2ZDNjYzdlZThkNDYwZDk2NWE5MzYxM2Y4YjMmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.W-VhtDGoRW8oqeXHhrRwqHmBQc4-LezIlWfB8TV3gno" data-canonical-src="https://private-user-images.githubusercontent.com/49262/293500050-1a79d4e4-9622-452e-9944-950c6f21d67f.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDQwMjQzMDQsIm5iZiI6MTcwNDAyNDAwNCwicGF0aCI6Ii80OTI2Mi8yOTM1MDAwNTAtMWE3OWQ0ZTQtOTYyMi00NTJlLTk5NDQtOTUwYzZmMjFkNjdmLm1wND9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyMzEyMzElMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjMxMjMxVDEyMDAwNFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTM0MTI2OTI5MTQ0YWE2M2NjN2RkOWRlZmJkM2Y1NjlhYmIzZWE2ZDNjYzdlZThkNDYwZDk2NWE5MzYxM2Y4YjMmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.W-VhtDGoRW8oqeXHhrRwqHmBQc4-LezIlWfB8TV3gno" controls="controls" muted="muted">

  </video>
</details>

<p dir="auto">The <code>copilot-complete</code> function demonstrates that ~100 lines of LISP
is all it takes for Emacs to do that thing Github Copilot and VSCode
are famous for doing except superior w.r.t. both quality and freedom</p>
<p dir="auto">Emacs Copilot helps you do pair programming with a local-running LLM
that generates code completions within Emacs buffers. The LLM is run
as a sub-command that remembers your local editing history on a file
by file basis. Tokens stream into your buffer without delay as gen'd
and you can hit <code>C-g</code> to interrupt your LLM at any time. History and
memory can also be deleted from the LLM's context when deleting code
from your Emacs buffer that matches up verbatim. Copilot is language
agnostic and your programming language is determed by file extension</p>
<p dir="auto">One really good LLM right now is WizardCoder 34b since it scores the
same as GPT-4 on HumanEval. You need a computer like a Mac Studio M2
Ultra in order to use it. If you have a mere Macbook Pro, then try the
Q3 version. If you have a modest PC then you could consider downloading
the WizardCoder-Python-13b llamafile since it's almost as good, and will
even go acceptably fast on CPU-only systems having at least AVX2 and
2200 MT/s RAM. If you're even more strapped for compute and use things
like Raspberry Pi, then give Phi-2 a spin</p>
<p dir="auto">To get started, try writing yourself the first line of a function. For
example, you might open up a file in your editor named <code>hello.c</code> and
then type:</p>

<p dir="auto">Then place your caret at the end of the line, and press <code>C-c C-k</code> to
hand over control to your LLM, which should generate the rest of the
function implementation for you. Things are also tuned so the LLM is
likely to stop as soon as a function is made. Explanations and other
kind of ELI5 commentary is avoided too.</p>
<p dir="auto">Later on, if you were to write something like this:</p>
<div dir="auto" data-snippet-clipboard-copy-content="int main() {
  for (int i = 0; i < 100;"><pre><span>int</span> <span>main</span>() {
  <span>for</span> (<span>int</span> <span>i</span> <span>=</span> <span>0</span>; <span>i</span> <span>&lt;</span> <span>100</span>;</pre></div>
<p dir="auto">And ask your LLM to complete that, then your LLM will likely recall
that you two wrote an is_prime() function earlier, even though it's
only considering those two lines in the current instruction. You'll
most likely then see it decide to generate code to print the primes</p>
<h2 tabindex="-1" dir="auto">Reference Implementation</h2>
<p dir="auto">If you've downloaded your LLM (see below) then all you really need is to
copy and paste this code into an Emacs buffer and run <code>M-x eval-buffer</code>.
You'll want to tune the code to your own personal taste. That's why it's
being presented in full as a succinct code example here.</p>
<div dir="auto" data-snippet-clipboard-copy-content="(defun copilot-complete ()
  (interactive)
  (let* ((spot (point))
         (inhibit-quit t)
         (curfile (buffer-file-name))
         (cash (concat curfile &quot;.cache&quot;))
         (hist (concat curfile &quot;.prompt&quot;))
         (lang (file-name-extension curfile))

         ;; extract current line, to left of caret
         ;; and the previous line, to give the llm
         (code (save-excursion
                 (dotimes (i 2)
                   (when (> (line-number-at-pos) 1)
                     (previous-line)))
                 (beginning-of-line)
                 (buffer-substring-no-properties (point) spot)))

         ;; create new prompt for this interaction
         (system &quot;\
You are an Emacs code generator. \
Writing comments is forbidden. \
Writing test code is forbidden. \
Writing English explanations is forbidden. &quot;)
         (prompt (format
                  &quot;[INST]%sGenerate %s code to complete:[/INST]\n```%s\n%s&quot;
                  (if (file-exists-p cash) &quot;&quot; system) lang lang code)))

    ;; iterate text deleted within editor then purge it from prompt
    (when kill-ring
      (save-current-buffer
        (find-file hist)
        (dotimes (i 10)
          (let ((substring (current-kill i t)))
            (when (and substring (string-match-p &quot;\n.*\n&quot; substring))
              (goto-char (point-min))
              (while (search-forward substring nil t)
                (delete-region (- (point) (length substring)) (point))))))
        (save-buffer 0)
        (kill-buffer (current-buffer))))

    ;; append prompt for current interaction to the big old prompt
    (write-region prompt nil hist 'append 'silent)

    ;; run llamafile streaming stdout into buffer catching ctrl-g
    (with-local-quit
      (call-process &quot;wizardcoder-python-34b-v1.0.Q5_K_M.llamafile&quot;
                    nil (list (current-buffer) nil) t
                    &quot;--prompt-cache&quot; cash
                    &quot;--prompt-cache-all&quot;
                    &quot;--silent-prompt&quot;
                    &quot;--temp&quot; &quot;0&quot;
                    &quot;-c&quot; &quot;1024&quot;
                    &quot;-ngl&quot; &quot;35&quot;
                    &quot;-r&quot; &quot;```&quot;
                    &quot;-r&quot; &quot;\n}&quot;
                    &quot;-f&quot; hist))

    ;; get rid of most markdown syntax
    (let ((end (point)))
      (save-excursion
        (goto-char spot)
        (while (search-forward &quot;\\_&quot; end t)
          (backward-char)
          (delete-backward-char 1 nil)
          (setq end (- end 1)))
        (goto-char spot)
        (while (search-forward &quot;```&quot; end t)
          (delete-backward-char 3 nil)
          (setq end (- end 3))))

      ;; append generated code to prompt
      (write-region spot end hist 'append 'silent))))"><pre>(<span>defun</span> <span>copilot-complete</span> ()
  (<span>interactive</span>)
  (<span>let*</span> ((spot (<span>point</span>))
         (<span>inhibit-quit</span> <span>t</span>)
         (curfile (<span>buffer-file-name</span>))
         (cash (<span>concat</span> curfile <span><span>"</span>.cache<span>"</span></span>))
         (hist (<span>concat</span> curfile <span><span>"</span>.prompt<span>"</span></span>))
         (lang (<span>file-name-extension</span> curfile))

         <span><span>;</span>; extract current line, to left of caret</span>
         <span><span>;</span>; and the previous line, to give the llm</span>
         (code (<span>save-excursion</span>
                 (<span>dotimes</span> (i <span>2</span>)
                   (<span>when</span> (<span>&gt;</span> (<span>line-number-at-pos</span>) <span>1</span>)
                     (<span>previous-line</span>)))
                 (<span>beginning-of-line</span>)
                 (<span>buffer-substring-no-properties</span> (<span>point</span>) spot)))

         <span><span>;</span>; create new prompt for this interaction</span>
         (system <span><span>"</span><span>\</span></span>
<span>You are an Emacs code generator. <span>\</span></span>
<span>Writing comments is forbidden. <span>\</span></span>
<span>Writing test code is forbidden. <span>\</span></span>
<span>Writing English explanations is forbidden. <span>"</span></span>)
         (prompt (<span>format</span>
                  <span>"</span><span>[INST]<span>%s</span>Generate <span>%s</span> code to complete:[/INST]<span>\n</span>```<span>%s</span><span>\n</span><span>%s</span></span><span>"</span>
                  (<span>if</span> (<span>file-exists-p</span> cash) <span><span>"</span><span>"</span></span> system) lang lang code)))

    <span><span>;</span>; iterate text deleted within editor then purge it from prompt</span>
    (<span>when</span> kill-ring
      (<span>save-current-buffer</span>
        (<span>find-file</span> hist)
        (<span>dotimes</span> (i <span>10</span>)
          (<span>let</span> ((<span>substring</span> (<span>current-kill</span> i <span>t</span>)))
            (<span>when</span> (<span>and</span> substring (<span>string-match-p</span> <span><span>"</span><span>\n</span>.*<span>\n</span><span>"</span></span> substring))
              (<span>goto-char</span> (<span>point-min</span>))
              (<span>while</span> (<span>search-forward</span> substring <span>nil</span> <span>t</span>)
                (<span>delete-region</span> (<span>-</span> (<span>point</span>) (<span>length</span> substring)) (<span>point</span>))))))
        (<span>save-buffer</span> <span>0</span>)
        (<span>kill-buffer</span> (<span>current-buffer</span>))))

    <span><span>;</span>; append prompt for current interaction to the big old prompt</span>
    (<span>write-region</span> prompt <span>nil</span> hist <span>'append</span> <span>'silent</span>)

    <span><span>;</span>; run llamafile streaming stdout into buffer catching ctrl-g</span>
    (<span>with-local-quit</span>
      (<span>call-process</span> <span><span>"</span>wizardcoder-python-34b-v1.0.Q5_K_M.llamafile<span>"</span></span>
                    <span>nil</span> (<span>list</span> (<span>current-buffer</span>) <span>nil</span>) <span>t</span>
                    <span><span>"</span>--prompt-cache<span>"</span></span> cash
                    <span><span>"</span>--prompt-cache-all<span>"</span></span>
                    <span><span>"</span>--silent-prompt<span>"</span></span>
                    <span><span>"</span>--temp<span>"</span></span> <span><span>"</span>0<span>"</span></span>
                    <span><span>"</span>-c<span>"</span></span> <span><span>"</span>1024<span>"</span></span>
                    <span><span>"</span>-ngl<span>"</span></span> <span><span>"</span>35<span>"</span></span>
                    <span><span>"</span>-r<span>"</span></span> <span><span>"</span>```<span>"</span></span>
                    <span><span>"</span>-r<span>"</span></span> <span><span>"</span><span>\n</span>}<span>"</span></span>
                    <span><span>"</span>-f<span>"</span></span> hist))

    <span><span>;</span>; get rid of most markdown syntax</span>
    (<span>let</span> ((end (<span>point</span>)))
      (<span>save-excursion</span>
        (<span>goto-char</span> spot)
        (<span>while</span> (<span>search-forward</span> <span><span>"</span><span>\\</span>_<span>"</span></span> end <span>t</span>)
          (<span>backward-char</span>)
          (<span>delete-backward-char</span> <span>1</span> <span>nil</span>)
          (<span>setq</span> end (<span>-</span> end <span>1</span>)))
        (<span>goto-char</span> spot)
        (<span>while</span> (<span>search-forward</span> <span><span>"</span>```<span>"</span></span> end <span>t</span>)
          (<span>delete-backward-char</span> <span>3</span> <span>nil</span>)
          (<span>setq</span> end (<span>-</span> end <span>3</span>))))

      <span><span>;</span>; append generated code to prompt</span>
      (<span>write-region</span> spot end hist <span>'append</span> <span>'silent</span>))))</pre></div>
<h2 tabindex="-1" dir="auto">Emacs Download Link</h2>
<p dir="auto">If you don't have Emacs installed, or you use a platform like Windows
where it's normally difficult to obtain, then here's a single-file build
of Emacs that (like llamafile) is directly runnable and needn't be
installed.</p>
<ul dir="auto">
<li><a href="https://cosmo.zip/pub/cosmos/bin/emacs" rel="nofollow">https://cosmo.zip/pub/cosmos/bin/emacs</a></li>
</ul>
<p dir="auto">See the <a href="#gotchas">Gotchas</a> below if you have trouble running it. See
also the <a href="#supported-oses-and-cpus">Supported OSes and CPUs</a> list too.</p>
<h2 tabindex="-1" dir="auto">LLM Download Links</h2>
<p dir="auto">Here are some LLMs that are known to work reasonably well with Emacs
Copilot, that are freely available to download online. They're all good,
but the biggest one is the best one. Choose the size that's appropriate
for your hardware.</p>
<table>
<thead>
<tr>
<th>Model</th>
<th>Size</th>
<th>License</th>
<th><a href="https://github.com/mozilla-Ocho/llamafile">llamafile</a></th>
</tr>
</thead>
<tbody>
<tr>
<td>WizardCoder-Python-34b (Q5)</td>
<td>23.9 GB</td>
<td><a href="https://ai.meta.com/resources/models-and-libraries/llama-downloads/" rel="nofollow">LLaMA 2</a></td>
<td><a href="https://huggingface.co/jartine/WizardCoder-Python-34B-V1.0-llamafile/resolve/main/wizardcoder-python-34b-v1.0.Q5_K_M.llamafile?download=true" rel="nofollow">wizardcoder-python-34b-v1.0.Q5_K_M.llamafile</a></td>
</tr>
<tr>
<td>WizardCoder-Python-34b (Q3)</td>
<td>16.3 GB</td>
<td><a href="https://ai.meta.com/resources/models-and-libraries/llama-downloads/" rel="nofollow">LLaMA 2</a></td>
<td><a href="https://huggingface.co/jartine/WizardCoder-Python-34B-V1.0-llamafile/resolve/main/wizardcoder-python-34b-v1.0.Q3_K_M.llamafile?download=true" rel="nofollow">wizardcoder-python-34b-v1.0.Q3_K_M.llamafile</a></td>
</tr>
<tr>
<td>WizardCoder-Python-13b</td>
<td>7.33 GB</td>
<td><a href="https://ai.meta.com/resources/models-and-libraries/llama-downloads/" rel="nofollow">LLaMA 2</a></td>
<td><a href="https://huggingface.co/jartine/wizardcoder-13b-python/resolve/main/wizardcoder-python-13b-main.llamafile?download=true" rel="nofollow">wizardcoder-python-13b-main.llamafile</a></td>
</tr>
<tr>
<td>Phi-2</td>
<td>2.09 GB</td>
<td><a href="https://huggingface.co/microsoft/phi-2/resolve/main/LICENSE" rel="nofollow">microsoft-research-license</a></td>
<td><a href="https://huggingface.co/jartine/phi-2-llamafile/resolve/main/phi-2.Q5_K_M.llamafile?download=true" rel="nofollow">phi-2.Q5_K_M.llamafile</a></td>
</tr>
</tbody>
</table>
<p dir="auto">Be sure to <code>chmod +x</code> your llamafile executable after you download it.
Then consider placing it on the system path. If you have any trouble
running the llamafile, then see the <a href="#gotchas">Gotchas</a> section.</p>
<h2 tabindex="-1" dir="auto">Cache files</h2>
<p dir="auto">If you decide to switch models, then be sure to delete all the
<code>FILE.cache</code> files that got generated on your local filesystem.</p>
<div dir="auto" data-snippet-clipboard-copy-content="find . -name \*.cache | xargs rm -f"><pre>find <span>.</span> -name <span>\*</span>.cache <span>|</span> xargs rm -f</pre></div>
<p dir="auto">You can also tune the Emacs LISP code above to just not use prompt
caching at all, by removing those flags. That might have a negative
impact on code completion latency though. On Apple Metal GPU, which has
extremely fast prompt loading, the slowdown might be ~1 second, but for
systems that need CPU inference it could be significantly higher.</p>
<h2 tabindex="-1" dir="auto">Gotchas</h2>
<p dir="auto">On macOS with Apple Silicon you need to have Xcode installed for
llamafile to be able to bootstrap itself.</p>
<p dir="auto">If you use zsh and have trouble running llamafile, try saying <code>sh -c ./llamafile</code>. This is due to a bug that was fixed in zsh 5.9+. The same
is the case for Python <code>subprocess</code>, old versions of Fish, etc.</p>
<p dir="auto">On some Linux systems, you might get errors relating to <code>run-detectors</code>
or WINE. This is due to <code>binfmt_misc</code> registrations. You can fix that by
adding an additional registration for the APE file format llamafile
uses:</p>
<div dir="auto" data-snippet-clipboard-copy-content="sudo wget -O /usr/bin/ape https://cosmo.zip/pub/cosmos/bin/ape-$(uname -m).elf
sudo chmod +x /usr/bin/ape
sudo sh -c &quot;echo ':APE:M::MZqFpD::/usr/bin/ape:' >/proc/sys/fs/binfmt_misc/register&quot;
sudo sh -c &quot;echo ':APE-jart:M::jartsr::/usr/bin/ape:' >/proc/sys/fs/binfmt_misc/register&quot;"><pre>sudo wget -O /usr/bin/ape https://cosmo.zip/pub/cosmos/bin/ape-<span><span>$(</span>uname -m<span>)</span></span>.elf
sudo chmod +x /usr/bin/ape
sudo sh -c <span><span>"</span>echo ':APE:M::MZqFpD::/usr/bin/ape:' &gt;/proc/sys/fs/binfmt_misc/register<span>"</span></span>
sudo sh -c <span><span>"</span>echo ':APE-jart:M::jartsr::/usr/bin/ape:' &gt;/proc/sys/fs/binfmt_misc/register<span>"</span></span></pre></div>
<p dir="auto">As mentioned above, on Windows you may need to rename your llamafile by
adding <code>.exe</code> to the filename.</p>
<p dir="auto">Also as mentioned above, Windows also has a maximum file size limit of 4GB
for executables. The LLaVA server executable above is just 30MB shy of
that limit, so it'll work on Windows, but with larger models like
WizardCoder 13B, you need to store the weights in a separate file. An
example is provided above; see "Using llamafile with external weights."</p>
<p dir="auto">On WSL, it's recommended that the WIN32 interop feature be disabled:</p>
<div dir="auto" data-snippet-clipboard-copy-content="sudo sh -c &quot;echo -1 > /proc/sys/fs/binfmt_misc/WSLInterop&quot;"><pre>sudo sh -c <span><span>"</span>echo -1 &gt; /proc/sys/fs/binfmt_misc/WSLInterop<span>"</span></span></pre></div>
<p dir="auto">On any platform, if your llamafile process is immediately killed, check
if you have CrowdStrike and then ask to be whitelisted.</p>
<h2 tabindex="-1" dir="auto">Supported OSes and CPUs</h2>
<p dir="auto">llamafile supports the following operating systems, which require a minimum
stock install:</p>
<ul dir="auto">
<li>Linux 2.6.18+ (ARM64 or AMD64) i.e. any distro RHEL5 or newer</li>
<li>Darwin (macOS) 23.1.0+ [1] (ARM64 or AMD64, with GPU only supported on ARM64)</li>
<li>Windows 8+ (AMD64)</li>
<li>FreeBSD 13+ (AMD64, GPU should work in theory)</li>
<li>NetBSD 9.2+ (AMD64, GPU should work in theory)</li>
<li>OpenBSD 7+ (AMD64, no GPU support)</li>
</ul>
<p dir="auto">llamafile supports the following CPUs:</p>
<ul dir="auto">
<li>AMD64 microprocessors must have SSSE3. Otherwise llamafile will print
an error and refuse to run. This means that if you have an Intel CPU,
it needs to be Intel Core or newer (circa 2006+), and if you have an
AMD CPU, then it needs to be Bulldozer or newer (circa 2011+). If you
have a newer CPU with AVX, or better yet AVX2, then llamafile will
utilize your chipset features to go faster. There is no support for
AVX512+ runtime dispatching yet.</li>
<li>ARM64 microprocessors must have ARMv8a+. This means everything from
Apple Silicon to 64-bit Raspberry Pis will work, provided your weights
fit into memory.</li>
</ul>
<p dir="auto">[1] Darwin kernel versions 15.6+ <em>should</em> be supported, but we currently
have no way of testing that.</p>
<h2 tabindex="-1" dir="auto">A note about models</h2>
<p dir="auto">The example llamafiles provided above should not be interpreted as
endorsements or recommendations of specific models, licenses, or data
sets on the part of Mozilla.</p>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Maersk ship hit by missile in the Red Sea (187 pts)]]></title>
            <link>https://gcaptain.com/maersk-ship-hit-by-missile-in-the-red-sea/</link>
            <guid>38821372</guid>
            <pubDate>Sun, 31 Dec 2023 03:03:11 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://gcaptain.com/maersk-ship-hit-by-missile-in-the-red-sea/">https://gcaptain.com/maersk-ship-hit-by-missile-in-the-red-sea/</a>, See on <a href="https://news.ycombinator.com/item?id=38821372">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<p>A Maersk containership has been hit by a missile in the Red Sea, the U.S. has reported.</p>
<p>The U.S. Central Command said the Singapore-flagged <em>Maersk Hangzhou</em> reported it was struck by a missile while transiting the Southern Red Red Sea at approximately 8:30 p.m. local time on Saturday.</p>
<p>The ship requested assistance and is said to be “seaworthy” with no reported injuries. The&nbsp;<em>USS Gravely</em>&nbsp;and&nbsp;<em>USS Laboon</em> responded to the incident, with the&nbsp;<em>USS Gravely</em>&nbsp;successfully shooting down two anti-ship ballistic missiles fired from Houthi-controlled areas in Yemen.</p>
<p>Maersk confirmed details of the incident in a statement to gCaptain. The vessel was traveling through the Bab el-Mandeb Strait en route from Singapore to Port Suez, Egypt, when the crew observed a “flash” on deck. The vessel and crew are reported safe.</p>
<p>“At approximately 06:30 pm CET, when the vessel was 55nm southwest of Al Hudaydah, Yemen, the crew reported having observed a flash on deck. However, there is no indication of fire onboard the vessel, and we are currently working to ascertain the full details of the incident. The vessel is fully maneuverable and continues the transit north,” the statement said.</p>
<p>“Ensuring the safety of our crew is our utmost priority, and all necessary security measures are implemented to protect them,” the statement added.</p>
<figure><div>
<blockquote data-width="550" data-dnt="true"><div lang="en" dir="ltr"><p>USS GRAVELY shoots down two anti-ship ballistic missiles while responding to Houthi attack on merchant vessel.</p><p>Today at approximately 8:30 p.m. (Sanaa time), the container ship MAERSK HANGZHOU reported that they were struck by a missile while transiting the Southern Red Sea. The… <a href="https://t.co/nUgifhkdC8">pic.twitter.com/nUgifhkdC8</a></p></div>— U.S. Central Command (@CENTCOM) <a href="https://twitter.com/CENTCOM/status/1741259817602429357?ref_src=twsrc%5Etfw">December 31, 2023</a></blockquote>
</div></figure>
<p>The <em>Maersk Hangzhou</em> is a 14,000-capacity containership deployed on Maersk’s AE12-service between Europe and Asia.</p>
<p>The incident comes has Maersk has been <a href="https://gcaptain.com/maersk-schedules-suez-canal-transits/">resuming transits</a> through the Red Sea with the establishment of the US-led Operation Prosperity Guardian (OPG) naval coalition, while some other carriers have <a href="http://Pentagon Asserts Red Sea Safety, But Ship Owners Remain Skeptical">opted to continue to reroute ships</a> around the Cape of Good Hope due to safety concerns as the <a href="https://gcaptain.com/u-s-sanctions-entities-aiding-iranian-financial-support-to-houthis/">Iran-backed</a> Houthis have continued to carry out missile attacks against commercial shipping.</p>
<p>Maersk suspended transits through the Red Sea back on December 15 a day after a near-miss missile attack on the <em>Maersk Gibraltar</em> near the Bab-el-Mandeb Strait, connecting the Red Sea with the Gulf of Aden. The announcement by Maersk led to other operators also suspending voyages and redirecting ships around the Cape of Good Hope. Since then <a href="https://gcaptain.com/number-container-ships-avoiding-red-sea/">about half</a> of the containerships that normally transit the region have been rerouted. </p>
<p>Denmark on Friday said it was <a href="https://gcaptain.com/denmark-to-send-frigate-to-join-operation-prosperity-guardian/">sending a frigate</a> to join Operation Prosperity Guardian. </p>
<p>The Central Command said the incident the 23rd illegal attack by the Houthis on international shipping since the November 19 hijacking of the <em><a href="https://gcaptain.com/tag/galaxy-leader/">Galaxy Leader</a></em> car carrier, which continues by be held in Yemeni waters. </p>
<p><strong>Full Red Sea Coverage: <a href="https://gcaptain.com/tag/red-sea-shipping-attacks/">Red Sea Shipping Attacks</a></strong></p>
 
<div>
<h3>Sign up for our newsletter</h3>

</div>

</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[How bad are search results? Compare Google, Bing, Marginalia, Kagi, and ChatGPT (748 pts)]]></title>
            <link>https://danluu.com/seo-spam/</link>
            <guid>38821248</guid>
            <pubDate>Sun, 31 Dec 2023 02:32:22 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://danluu.com/seo-spam/">https://danluu.com/seo-spam/</a>, See on <a href="https://news.ycombinator.com/item?id=38821248">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>


<p>In <a href="https://xeiaso.net/blog/birth-death-seo/">The birth &amp; death of search engine optimization</a>, Xe suggests</p>

<blockquote>
<p>Here's a fun experiment to try. Take an open source project such as <code>yt-dlp</code> and try to find it from a very generic term like "youtube downloader". You won't be able to find it because of all of the content farms that try to rank at the top for that term. Even though <code>yt-dlp</code> is probably actually what you want for a tool to download video from YouTube.</p>
</blockquote>

<p>More generally, most tech folks I'm connected to seem to think that Google search results are significantly worse than they were ten years ago (<a href="https://mastodon.social/@danluu/111506788692079608">Mastodon poll</a>, <a href="https://twitter.com/danluu/status/1730705885037801686">Twitter poll</a>, <a href="https://www.threads.net/@danluu.danluu/post/C0UnBr9vEeY">Threads poll</a>). However, there's a sizable group of vocal folks who claim that search results are still great. E.g., a bluesky thought leader who gets high engagement says:</p>

<blockquote>
<p>i think the rending of garments about how even google search is terrible now is pretty overblown<sup id="fnref:B"><a rel="footnote" href="#fn:B">1</a></sup></p>
</blockquote>

<p>I suspect what's going on here is that some people have gotten so used working around bad software that they don't even know they're doing it, reflexively doing the modern equivalent of <a href="https://twitter.com/danluu/status/1525988886119186432">hitting ctrl+s all the time in editors, or ctrl+a; ctrl+c when composing anything in a text box</a>. Every adept user of the modern web has a bag of tricks they use to get decent results from queries. From having watched quite a few users interact with computers, that doesn't appear to be normal, even among people who are quite competent in various technical fields, e.g., mechanical engineering<sup id="fnref:M"><a rel="footnote" href="#fn:M">2</a></sup>. However, it could be that people who are complaining about bad search result quality are <a href="https://mastodon.social/@danluu/111666646509250420">just hopping on the "everything sucks" bandwagon and making totally unsubstantiated comments</a> about search quality.</p>

<p>Since it's fairly easy to try out straightforward, naive, queries, let's try some queries. We'll look at three kinds of queries with five search engines plus ChatGPT and we'll turn off our ad blocker to get <a href="https://twitter.com/danluu/status/1564292487744978946">the non-expert browsing experience</a>.</p>

<p>One kind of query is a selected set of representative queries a friend of mine used to set up her new computer. My friend is a highly competent engineer outside of tech and wanted help learning "how to use computers", so I watched her try to set up a computer and pointed out holes in her mental model of how to interact with websites and software.</p>

<p>The second kind of query is queries for the kinds of things I wanted to know in high school where I couldn't find the answer because everyone I asked (teachers, etc.) gave me obviously incorrect answers and I didn't know how to find the right answer. I was able to get the right answer from various textbooks once I got to college and had access to university libraries, but the questions are simple enough that there's no particular reason a high school student shouldn't be able to understand the answers; it's just an issue of finding the answer, so we'll take a look at how easy these answers are to find. The third kind of query is a local query for information I happened to want to get as I was writing this post.</p>

<p>In grading the queries, there's going to be some subjectivity here because, for example, it's not objectively clear if it's better to have moderately relevant results with no scams or very relevant results mixed interspersed with scams that try to install badware or trick you into giving up your credit card info to pay for something you shouldn't pay for. For the purposes of this post, I'm considering scams to be fairly bad, so in that specific example, I'd rate the moderately relevant results above the very relevant results that have scams mixed in. As with my <a href="https://danluu.com/car-safety/">other</a> <a href="https://danluu.com/web-bloat/">posts</a> <a href="https://danluu.com/futurist-predictions/">that</a> have some kind of subjective ranking, there's both a short summary as well as a detailed description of results, so you can rank services yourself, if you like.</p>

<p>In the table below, each column is a query (there are more details about what each query is later in the post) and each row is a search engine or ChatGPT. Results are rated (from worst to best) Terrible, Very Bad, Bad, Ok, Good, and Great, with worse results being more red and better results being more blue.</p>

<table>
<tbody><tr>
<th></th><th>YouTube</th><th>Adblock</th><th>Firefox</th><th>Tire</th><th>CPU</th><th>Snow</th></tr>
<tr>
<th>Marginalia</th><td>Ok</td><td>Good</td><td>Ok</td><td>Bad</td><td>Bad</td><td>Bad</td></tr>
<tr>
<th>ChatGPT</th><td>V. Bad</td><td><span color="white">Great</span></td><td>Good</td><td>V. Bad</td><td>V. Bad</td><td>Bad</td></tr>
<tr>
<th>Mwmbl</th><td>Bad</td><td>Bad</td><td>Bad</td><td>Bad</td><td>Bad</td><td>Bad</td></tr>
<tr>
<th>Kagi</th><td>Bad</td><td>V. Bad</td><td><span color="white">Great</span></td><td><span color="white">Terrible</span></td><td>Bad</td><td><span color="white">Terrible</span></td></tr>
<tr>
<th>Google</th><td><span color="white">Terrible</span></td><td>V. Bad</td><td>Bad</td><td>Bad</td><td>Bad</td><td><span color="white">Terrible</span></td></tr>
<tr>
<th>Bing</th><td><span color="white">Terrible</span></td><td><span color="white">Terrible</span></td><td><span color="white">Great</span></td><td><span color="white">Terrible</span></td><td>Ok</td><td><span color="white">Terrible</span></td></tr>
<tr>
</tr>
</tbody></table>

<p>Marginalia does relatively well by sometimes providing decent but not great answers and then providing no answers or very obviously irrelevant answers to the questions it can't answer, with a relatively low rate of scams, lower than any other search engine (although, for these queries, ChatGPT returns zero scams and Marginalia returns some).</p>

<p>Interestingly, Mwmbl lets users directly edit search result rankings. I did this for one query, which would score "Great" if it was scored after my edit, but <a href="https://danluu.com/car-safety/">it's easy to do well on a benchmark when you optimize specifically for the benchmark</a>, so Mwmbl's scores are without my edits to the ranking criteria.</p>

<p>One thing I found interesting about the Google results was that, in addition to Google's noted propensity to return recent results, there was a strong propensity to return recent youtube videos. This caused us to get videos that seem quite useless for anybody, except perhaps the maker of the video, who appears to be attempting to get ad revenue from the video. For example, when searching for "ad blocker", one of the youtube results was a video where the person rambles for 93 seconds about how you should use an ad blocker and then googles "ad blocker extension". They then click on the first result and incorrectly say that "it's officially from Google", i.e., the ad blocker is either made by Google or has some kind of official Google seal of approval, because it's the first result. They then ramble for another 40 seconds as they install the ad blocker. After it's installed, they incorrectly state "this is basically one of the most effective ad blocker [sic] on Google Chrome". The video has 14k views and it appears to be made by someone who has no idea what they're talking about, who's part of the cottage industry of people making videos taking advantage of Google's algorithm prioritizing recent content regardless of quality. We'll discuss other Google quirks in more detail below.</p>

<p>ChatGPT does its usual thing and impressively outperforms its more traditional competitors in one case, does an ok job in another case, refuses to really answer the question in another case, and "hallucinates" nonsense for a number of queries (as usual for ChatGPT, random perturbations can significantly change the results<sup id="fnref:R"><a rel="footnote" href="#fn:R">3</a></sup>). It's common to criticize ChatGPT for its hallucinations and, while I don't think that's unfair, <a href="https://danluu.com/customer-service/">as we noted in this 2015, pre-LLM post on AI</a>, I find this general class of criticism to be overrated in that humans and traditional computer systems make the exact same mistakes.</p>

<p>In this case, search engines return various kinds of hallucinated results. In the snow forecast example, we got deliberately fabricated results, one intended to drive ad revenue through shady ads on a fake forecast site, and another intended to trick the user into thinking that the forecast indicates a cold, snowy, winter (the opposite of the actual forecast), seemingly in order to get the user to sign up for unnecessary snow removal services. Other deliberately fabricated results include a site that's intended to look like an objective review site that's actually a fake site designed to funnel you into installing a specific ad blocker, where the ad blocker they funnel you to appears to be a scammy one that tries to get you to pay for ad blocking and doesn't let you unsubscribe, a fake "organic" blog post trying to get you to install a chrome extension that exposes all of your shopping to some service (in many cases, it's not possible to tell if a blog post is a fake or shill post, but in this case, they hosted the fake blog post on the domain for the product and, although it's designed to look like there's an entire blog on the topic, there isn't — it's just this one fake blog post), etc.</p>

<p>There were also many results which don't appear to be deliberately fraudulent and are just run-of-the-mill SEO garbage designed to farm ad clicks. These seem to mostly be pre-LLM sites, so they don't read quite like ChatGPT hallucinations, but they're not fundamentally different. Sometimes the goal of these sites is to get users to click on ads that actually scam the user, and sometimes the goal appears to be to generate clicks to non-scam ads. Search engines also returned many seemingly non-deliberate human hallucinations, where people confidently stated incorrect answers in places where user content is highlighted, like quora, reddit, and stack exchange.</p>

<p>On these queries, even ignoring anything that looks like LLM-generated text, I'd rate the major search engines (Google and Bing) as somewhat worse than ChatGPT in terms of returning various kinds of hallucinated or hallucination-adjacent results. While I don't think concerns about LLM hallucinations are illegitimate, <a href="https://twitter.com/danluu/status/1557970249948884992">the traditional ecosystem has the problem that the system highly incentivizes putting whatever is most profitable for the software supply chain in front of the user</a> which is, in general, quite different from the best result.</p>

<p>For example, if your app store allows "you might also like" recommendations, the most valuable ad slot for apps about gambling addiction management will be gambling apps. Allowing gambling ads on an addiction management app is too blatantly user-hostile for any company deliberately allow today, but of course companies that make gambling apps will try to game the system to break through the filtering and <a href="https://twitter.com/danluu/status/1588289840629833729">they sometimes succeed</a>. And for web search, I just tried this again on the web and one of the two major search engines returned, as a top result, ad-laden SEO blogspam for addiction management. At the top of the page is a multi-part ad, with the top two links being "GAMES THAT PAY REAL MONEY" and "GAMES THAT PAY REAL CASH". In general, I was getting localized results (lots of .ca domains since I'm in Canada), so you may get somewhat different results if you try this yourself.</p>

<p>Similarly, if the best result is a good, free, ad blocker like ublock origin, the top ad slot is worth a lot more to a company that makes an ad blocker designed to trick you into paying for a lower quality ad blocker with a nearly-uncancellable subscription, so the scam ad blocker is going to outbid the free ad blocker for the top ad slots. These kinds of companies also have a lot more resources to spend on direct SEO, as well as indirect SEO activities like marketing so, unless search engines mount a more effective effort to combat the profit motive, the top results will go to paid ad blockers even though the paid ad blockers are generally significantly worse for users than free ad blockers. If you talk to people who work on ranking, a lot of the biggest ranking signals are derived from clicks and engagement, but <a href="https://danluu.com/nothing-works/">this will only drive users to the best results when users are sophisticated enough to know what the best results are, which they generally aren't</a>. Human raters also rate page quality, but this has the exact same problem.</p>

<p>Many Google employees have told me that ads are actually good because they inform the user about options the user wouldn't have otherwise known about, but anyone who tries browsing without an ad blocker will see ads that are various kinds of misleading, ads that try to trick or entrap the user in various ways, by pretending to be a window, or advertising "GAMES THAT PAY REAL CASH" at the top of a page on battling gambling addiction, which has managed to SEO itself to a high ranking on gambling addiction searches. In principle, these problems could be mitigated with enough resources, but we can observe that trillion dollar companies have chosen not to invest enough resources combating SEO, spam, etc., that these kinds of scam ads are rarely seen. Instead, a number of top results are actually ads that direct you to scams.</p>

<p>In their original Page Rank paper, Sergei Brin and Larry Page noted that ad-based search is inherently not incentive aligned with providing good results:</p>

<blockquote>
<p>Currently, the predominant business model for commercial search engines is advertising. The goals of the advertising business model do not always correspond to providing quality search to users. For example, in our prototype search engine one of the top results for cellular phone is "The Effect of Cellular Phone Use Upon Driver Attention", a study which explains in great detail the distractions and
risk associated with conversing on a cell phone while driving. This search result came up first because of its high importance as judged by the PageRank algorithm, an approximation of citation importance on the web [Page, 98]. It is clear that a search engine which was taking money for showing cellular phone
ads would have difficulty justifying the page that our system returned to its paying advertisers. For this type of reason and historical experience with other media [Bagdikian 83], we expect that advertising funded search engines will be inherently biased towards the advertisers and away from the needs of the Consumers.</p>

<p>Since it is very difficult even for experts to evaluate search engines, search engine bias is particularly insidious. A good example was OpenText, which was reported to be selling companies the right to be listed at the top of the search results for particular queries [Marchiori 97]. This type of bias is much more insidious than advertising, because it is not clear who "deserves" to be there, and who is willing to pay money to be listed. This business model resulted in an uproar, and OpenText has ceased to be a viable search engine. But less blatant bias are likely to be tolerated by the market. ... This type of bias is very difficult to detect but could still have a significant effect on the market. Furthermore, advertising income often provides an incentive to provide poor quality search results. For example, we noticed a major search engine would not return a large airline’s homepage when the airline’s name was given as a query. It so happened that the airline had placed an expensive ad, linked to the query that was its name. A better search engine would not have required this ad, and possibly resulted in the loss of the revenue from the airline to the search engine. In general, it could be argued from the consumer point of view that the better the search engine is, the fewer advertisements will be needed for the consumer to find what they want. This of course erodes the advertising supported business model of the existing search engines ... we believe the issue of advertising causes enough mixed incentives that it is crucial to have a competitive search engine that is transparent and in the academic realm.</p>
</blockquote>

<p>Of course, Google is now dominated by ads and, despite specifically calling out the insidiousness of user conflating real results with paid results, <a href="https://twitter.com/danluu/status/1557970259142791168">both Google and Bing have made ads look more and more like real search results</a>, to the point that most users usually won't know that they're clicking on ads and not real search results. By the way, this propensity for users to think that everything is an "organic" search result is the reason that, in this post, results are ordered by the order the appear on the page, so if four ads appear above the first organic result, the four ads will be rank 1-4 and the organic result will be ranked 5. I've heard Google employees say that AMP didn't impact search ranking because it "only" controlled what results went into the "carousel" that appeared above search results, as if inserting a carousel and then a bunch of ads above results, pushing results down below the fold, has no impact on how the user interacts with results. It's also common to see search engines ransoming the top slot for companies, so that companies that don't buy the ad for their own name end up with searches for that company putting their competitors at the top, which is also said to not impact search result ranking, a technically correct claim that's basically meaningless to the median user.</p>

<p>When I tried running the query from the paper, "cellular phone" (no quotes) and, the top result was a Google Store link to buy Google's own Pixel 7, with the rest of the top results being various Android phones sold on Amazon. That's followed by the Wikipedia page for Mobile Phone, and then a series of commercial results all trying to sell you phones or SEO-spam trying to get you to click on ads or buy phones via their links (the next 7 results were commercial, with the next result after that being an ad-laden SEO blogspam page for the definition of  a cell phone with ads of cell phones on it, followed by 3 more commercial results, followed by another ad-laden definition of a phone). The result that Sergei and Larry suggested was a great top result, "The Effect of Cellular Phone Use Upon Driver Attention", is nowhere to be seen, buried beneath an avalanche of commercial results. On the other side of things, Google has also gotten into the action by buying ads that trick users, <a href="https://twitter.com/danluu/status/887724695558205440">such as  paying for an installer to try to trick users into installing Chrome over Firefox</a>.</p>

<p>Anyway, after looking at the results of our test queries, some questions that come to mind are:</p>

<ul>
<li>How is Marginalia, a search engine built by a single person, so good?</li>
<li>Can Marginalia or another small search engine displace Google for mainstream users?</li>
<li>Can a collection of small search engines provide better results than Google?</li>
<li>Will Mwmbl's user-curation approach work?</li>
<li>Would a search engine like 1996-Metacrawler, which aggregates results from multiple search engines, ChatGPT, Bard, etc., significantly outperform Google?</li>
</ul>

<p>The first question could easily be its own post and this post is already 17000 words, so maybe we'll examine it another time. We've previously noted that <a href="https://danluu.com/people-matter/">some</a> <a href="https://danluu.com/why-benchmark/">individuals</a> <a href="https://twitter.com/danluu/status/1586508706774388736">can</a> be very productive, but of course the details vary in each case.</p>

<p>On the second question, <a href="https://danluu.com/sounds-easy/">we looked at a similar question in 2016</a>, both the general version, "I could reproduce this billion dollar company in a weekend", as well as specific comments about how open source software would make it trivial to surpass Google any day now, such as</p>

<blockquote>
<p>Nowadays, most any technology you need is indeed available in OSS and in state of the art. Allow me to plug meta64.com (my own company) as an example. I am using Lucene to index large numbers of news articles, and provide search into them, by searching a Lucene index generated by simple scraping of RSS-crawled content. I would claim that the Lucene technology is near optimal, and this search approach I'm using is nearly identical to what a Google would need to employ. The only true technology advantage Google has is in the sheer number of servers they can put online, which is prohibitively expensive for us small guys. But from a software standpoint, Google will be overtaken by technologies like mine over the next 10 years I predict.</p>
</blockquote>

<p>and</p>

<blockquote>
<p>Scaling things is always a challenge but as long as Lucene keeps getting better and better there is going to be a point where Google's advantage becomes irrelevant and we can cluster Lucene nodes and distribute search related computations on top and then use something like Hadoop to implement our own open source ranking algorithms. We're not there yet but technology only gets better over time and the choices we as developers make also matter. Even though Amazon and Google look like unbeatable giants now don't discount what incremental improvements can accomplish over a long stretch of time and in technology it's not even that long a stretch. It wasn't very long ago when Windows was the reigning champion. Where is Windows now?</p>
</blockquote>

<p>In that 2016 post, we saw that people who thought that open source solutions were set to surpass Google any day now appeared to have no idea how many hard problems must be solved to make a mainstream competitor to Google, including real-time indexing of rapidly-updated sites, like Twitter, newspapers, etc., as well as table-stakes level NLP, which is extremely non-trivial. Since 2016, these problems have gotten significantly harder as there's more real-time content to index and users expect much better NLP. The number of things people expect out of their search engine has increased as well, making the problem harder still, so it still appears to be quite difficult to displace Google as a mainstream search engine for, say, a billion users.</p>

<p>On the other hand, if you want to make a useful search engine for a small number of users, that seems easier than ever because Google returns worse results than it used to for many queries. In our test queries, we saw a number of queries where many or most top results were filled with SEO garbage, a problem that was significantly worse than it was a decade ago, even before the rise of LLMs and that continues to get worse. I typically use search engines in a way that doesn't run into this, but when I look at what "normal" users query or if I try naive queries myself, as I did in this post, most results are quite poor, which didn't used to be true.</p>

<p>Another place Google now falls over for me is when finding non-popular pages. I often find that, when I want to find a web page and I correctly remember the contents of the page, even if I do an exact string search, Google won't return the page. Either the page isn't indexed, or the page is effectively not indexed because it lives in some slow corner of the index that doesn't return in time. In order to find the page, I have to remember some text in a page that links to the page (often many clicks removed from the actual page, not just one, so I'm really remembering a page that links to a page that links to a page that links to a page that links to a page and then using archive.org to traverse the links that are now dead), search for that, and then manually navigate the link graph to get to the page. This basically never happened when I searched for something in 2005 and rarely happened in 2015, but this now happens a large fraction of the time I'm looking for something. Even in 2015, Google wasn't actually comprehensive. Just for example, Google search didn't index every tweet. But, at the time, I found Google search better at searching for tweets than Twitter search and I basically never ran across a tweet I wanted to find that wasn't indexed by Google. But now, most of the tweets I want to find aren't returned by Google search<sup id="fnref:T"><a rel="footnote" href="#fn:T">4</a></sup>, even when I search for "[exact string from tweet] site:twitter.com". In the original Page Rank paper, Sergei and Larry said "Because humans can only type or speak a finite amount, and as computers continue improving, text indexing will scale even better than it does now." (and that, while machines can generate an effectively infinite amount of content, just indexing human-generated content seems very useful). Pre-LLM, Google certainly had the resources to index every tweet as well as every human generated utterance on every public website, but they seem to have chosen to devote their resources elsewhere and, relative to its size, the public web appears less indexed than ever, or at least less indexed than it's been since the very early days of web search.</p>

<p>Back when Google returned decent results for simple queries and indexed almost any public page I'd want to find, it would've been very difficult for an independent search engine to return results that I find better than Google's. Marginalia in 2016 would've been nothing more than a curiosity for me since Google would give good-enough results for basically anything where Marginalia returns decent results, and Google would give me the correct result in queries for every obscure page I searched for, something that would be extremely difficult for a small engine. But now that Google effectively doesn't index many pages I want to search for, the relatively small indices that independent search engines have doesn't make them non-starters for me and some of them return less SEO garbage than Google, making them better for my use since I generally don't care about real-time results, don't need fancy NLP (and find that much of it actually makes search results worse for me), don't need shopping integrated into my search results, rarely need image search with understanding of images, etc.</p>

<p>On the question of whether or not a collection of small search engines can provide better results than Google for a lot of users, I don't think this is much of a question because the answer has been a resounding "yes" for years. However, many people don't believe this is so. For example, a Google TLM replied to the bluesky thought leader at the top of this post with</p>

<blockquote>
<p>Somebody tried argue that if the search space were more competitive, with lots of little providers instead of like three big ones, then somehow it would be *more* resistant to ML-based SEO abuse.</p>

<p>And... look, if *google* can't currently keep up with it, how will Little Mr. 5% Market Share do it?</p>
</blockquote>

<p>presumably referring to arguments like <a href="https://buttondown.email/hillelwayne/archive/algorithm-monocultures/">Hillel Wayne's "Algorithm Monocultures"</a>, to which our bluesky thought leader replied</p>

<blockquote>
<p>like 95% of the time, when someone claims that some small, independent company can do something hard better than the market leader can, it’s just cope. economies of scale work pretty well!</p>
</blockquote>

<p>In the past, <a href="https://danluu.com/nothing-works/">we looked at some examples where the market leader provides a poor product and various other players, often tiny, provide better products</a> and in a future post, we'll look at how economies of scale and diseconomies of scale interact in various areas for tech but, for this post, suffice it to say that it's clear that despite the common "econ 101" <a href="https://danluu.com/cocktail-ideas/">cocktail party idea</a> that economies of scale should be the dominant factor for search quality, that doesn't appear to be the case when we look at actual results.</p>

<p>On the question of whether or not Mwmbl's user-curated results can work, I would guess no, or at least not without a lot more moderation. Just browsing to Mwmbl shows the last edit to ranking was by user "betest", who added some kind of blogspam as the top entry for "RSS". It appears to be possible to revert the change, but there's no easily findable way to report the change or the user as spammy.</p>

<p>On the question of whether or not something like Metacrawler, which aggregated results from multiple search engines,  would produce superior results today, that's arguably irrelevant since it would either be impossible to legally run as a commercial service or require prohibitive licensing fees, but it seems plausible that, from a technical standpoint, a modern metacrawler would be fairly good today. Metacrawler quickly became irrelevant because Google returned significantly better results than you would get by aggregating results from other search engines, but it doesn't seem like that's the case today.</p>

<p>Going back to the debate between folks like Xe, who believe that straightforward search queries are inundated with crap, and our thought leader, who believes that "the rending of garments about how even google search is terrible now is pretty overblown", it appears that Xe is correct. Although Google doesn't publicly provide the ability to see what was historically returned for queries, many people remember when straightforward queries generally returned good results. One of the reasons Google took off so quickly in the 90s, even among expert users of AltaVista, who'd become very adept at adding all sorts of qualifiers to queries to get good results, was that you didn't have to do that with Google. But we've now come full circle and we need to add qualifiers, restrict our search to specific sites, etc., to get good results from Google on what used to be simple queries.</p>

<p><i>Thanks to Laurence Tratt, Heath Borders, Viktor Lofgren (who, BTW, I didn't know before writing this post — I only reached out to him to discuss the Marginalia search results after running the queries), Misha Yagudin, @hpincket@fosstodon.org, and Yossi Kreinin for comments/corrections/discussion</i></p>

<h2 id="appendix-other-search-engines">Appendix: Other search engines</h2>

<ul>
<li>DuckDuckGo: in the past, when I've compared DDG to Bing while using an ad blocker, the results have been very similar. I also tried DDG here and, removing the Bing ads, the results aren't as similar as they used to be, but they were still similar enough that it didn't seem worth listing DDG results.</li>
<li>wiby.me: Like Marginalia, this is another search engine made for finding relatively obscure results. I tried four of the above queries on wiby and the results were interesting, in that they were really different than what I got from any other search engine, but wiby didn't return relevant results for the I tried.</li>
<li>searchmysite.net: Somewhat relevant results for some queries, but not as relevant as Marginalia. Many fewer scams and ad-laden pages than Google, Bing, and Kagi.</li>
<li>indieweb-search.jamesg.blog: seemed to be having an outage. "Your request could not be processed due to a server error." for every query.</li>
<li>Teclis: The search box is still there, but any query results in "Teclis.com is closed due to bot abuse. Teclis results are still available through Kagi's search results, explicitly through the 'Non-commercial Web' lens and also as an API.". A note on the front page reads "Teclis results are disabled on the site due to insane amount of bot traffic (99.9% traffic were bots)."</li>
</ul>

<h2 id="appendix-queries-that-return-good-results">Appendix: queries that return good results</h2>

<p>I think that most programmers are likely to be able to get good results to every query, except perhaps the tire width vs. grip query, so here's how I found an ok answer to the tire query:</p>

<p>I tried a youtube search, since <a href="https://mastodon.social/@danluu/111441790762754806">a lot of the best car-related content is now youtube</a>. A youtube video whose title claims to answer the question (the video doesn't actually answer the question) has a comment recommending Carroll Smith's book "Tune To Win". The comment claims that chapter 1 explains why wider tires have more grip, but I couldn't find an explanation anywhere in the book. Chapter 1 does note that race cars typically run wider tires than passenger cars and that passenger cars are moving towards having wider tires and it make some comments about slip angle that give a sketch of an intuitive reason for why you'd end up with better cornering with a wider contact patch, but I couldn't find a comment that explains differences in braking. Also, the book notes that the primary reason for the wider contact patch is that it (indirectly) allows for more less heat buildup, which then lets you design tires that operate over a narrower temperature range, which allows for softer rubber. That may be true, but it doesn't explain much of the observed behavior one might wonder about.</p>

<p>Tune to Win recommends Kummer's The Unified Theory of Tire and Rubber Friction and Hays and Brooke's (actually Browne, but Smith incorrectly says Brooke) The Physics of Tire Traction. Neither of these really explained what's happening either, but looking for similar books turned up Milliken and Millken's Race Car Vehicle Dynamics, which also didn't really explain why but seemed closer to having an explanation. Looking for books similar to Race Car Vehicle Dynamics turned up Guiggiani's The Science of Vehicle Dynamics, which did get at how to think about and model a number of related factors. The last chapter of Guiggiani's book refers to something called the "brush model" (of tires) and searching for "brush model tire width" turned up a reference to Pacejka's Tire and Vehicle Dynamics, which does start to explain why wider tires have better grip and what kind of modeling of tire and vehicle dynamics you need to do to explain easily observed tire behavior.</p>

<p>As we've noted, people have different tricks for getting good results so, if you have a better way of getting a good result here, I'd be interested in hearing about it. But note that, basically every time I have a post that notes that something doesn't work, the most common suggestion will be to do something that's commonly suggested that doesn't work, even though the post explicitly notes that the commonly suggested thing doesn't work. For example, the most common comment I receive about <a href="https://danluu.com/file-consistency/">this post on filesystem correctness</a> is that you can get around all of this stuff by doing the rename trick, even though the post explicitly notes that this doesn't work, explains why it doesn't work, and references a paper which discusses why it doesn't work. A few years later, <a href="https://danluu.com/deconstruct-files/">I gave an expanded talk on the subject</a>, where I noted that people kept suggesting this thing that doesn't work and the most common comment I get on the talk is that you don't need to bother with all of this stuff because you can just do the rename trick. If you have a suggestion for the reason wider tires have better grip or for a search which turns up an explanation, please consider making sure that the explanation is not <a href="#why-do-wider-tires-have-better-grip">one of the standard incorrect explanations noted in this post and that the explanation can account for all of the behavior that one must be able to account for if one is explaining this phenomenon</a>.</p>

<p>On how to get good results for other queries, since this post is already 17000 words, I'll leave that for a future post on how expert vs. non-expert computer users interact with computers.</p>

<h2 id="appendix-summary-of-query-results">Appendix: summary of query results</h2>

<p>For each question, answers are ordered from best to worst, with the metric being my subjective impression of how good the result is. These queries were mostly run in November 2023, although a couple were run in mid-December. When I'm running queries, I very rarely write natural language queries myself. However, normal users often write natural language queries, so I arbitrarily did the "Tire" and "Snow" queries as natural queries. Continuing with the theme of running simple, naive, queries, we used the free version of ChatGPT for this post, which means the queries were run through ChatGPT 3.5.</p>

<p>For the search engines, all queries were run in a fresh incognito window with cleared cookies, with the exception of Kagi, which doesn't allow logged-out searches. For Kagi, the queries were done with a fresh account with no custom personalization or filters, although they were done in sequence with the same account, so it's possible some kind of personalized ranking was applied to the later queries based on the clicks in the earlier queries. These queries were done in Vancouver, BC, which seems to have applied some kind of localized ranking on some search engines.</p>

<ul>
<li>Download youtube videos

<ul>
<li>Ideally, the top hit would be <code>yt-dlp</code> or a thin, graphical, wrapper around <code>yt-dlp</code>. Links to <code>youtube-dl</code> or other less frequently updated projects would also be ok.</li>
<li>Great results (<code>yt-dlp</code> as a top hit, maybe with <code>youtube-dl</code> in there somewhere, and no scams): none</li>
<li>Good results (<code>youtube-dl</code> as a top hit, maybe with <code>yt-dlp</code> in there somewhere, and no scams): none</li>
<li>Ok results ('youtube-dl<code>as a top hit, maybe with</code>yt-dlp` in there somewhere, and fewer scams than other search engines):

<ul>
<li>Marginalia: Top link is for <code>youtube-dl</code>. Most links aren't relevant. Many fewer scams than the big search engines</li>
</ul></li>
<li>Bad results (has some useful links, but also links to a lot of scams)

<ul>
<li>Mwmbl: Some links to bad sites and scams, but fewer than the big search engines. Also has one indirect link to <code>youtube-dl</code> in the top 10 and one for a GUI for <code>youtube-dl</code></li>
<li>Kagi: Mostly links to scammy sites but does have, a couple pages down, a web.archive.org link to the 2010 version of <code>youtube-dl</code></li>
</ul></li>
<li>Very bad results (fails to return any kind of useful result)

<ul>
<li>ChatGPT: basically refuses to answer the question, although you can probably prompt engineer your way to an answer if you don't just naively ask the question you want answered</li>
</ul></li>
<li>Terrible results (fails to return any kind of useful result and is full of scams:

<ul>
<li>Google: Mostly links to sites that try to scam you or charge you for a worse version of free software. Some links to ad-laden listicles which don't have good suggestions. Zero links to good results. Also links to various youtube videos that are the youtube equivalent of blogspam.</li>
<li>Bing: Mostly links to sites that try to scam you or charge you for a worse version of free software. Some links to ad-laden listicles which don't have good suggestions. Arguably zero links to good results (although one could make a case that result #10 is an ok result despite seeming to be malware).</li>
</ul></li>
</ul></li>
<li>Ad blocker

<ul>
<li>Ideally, the top link would be to ublock origin. Failing that, having any link to ublock origin would be good</li>
<li>Great results (ublock origin is top result, no scams):

<ul>
<li>ChatGPT: First suggestion is ublock origin</li>
</ul></li>
<li>Good results (ublock origin is high up, but not the top result; results above ublock origin are either obviously not ad blockers or basically work without payment even if they're not as good as ublock origin; no links that directly try to scam you): none</li>
<li>Ok results (ublock origin is in there somewhere, fewer scams than other search engines with not many scams)

<ul>
<li>Marginalia: 3rd and 4th results gets you to ublock origin and 8th result is ublock origin. Nothing that appears to try to scam you directly and "only" one link to soe kind of SEO ad farm scam (which is much better than the major search engines)</li>
</ul></li>
<li>Bad results (no links to ublock origin and mostly links to things that paywall good features or ad blockers that deliberately let ads through by default):

<ul>
<li>Mwmbl: Lots of irrelevant links and some links to ghostery. One scam link, so fewer scams than commercial search engines</li>
</ul></li>
<li>Very bad results (exclusively or almost exclusively link to ad blockers that paywall good features or, by default, deliberately let through ads)

<ul>
<li>Google: lots of links to ad blockers that "participate in the Acceptable Ads program, where publishers agree to ensure their ads meet certain criteria". Some links to things that appear to be scams. Zero links to ublock origin. Also links to various youtube videos that are the youtube equivalent of blogspam.</li>
<li>Kagi: similar to Google, but with more scams, though fewer than Bing</li>
</ul></li>
<li>Terrible results (exclusively or almost exclusively link to ad blockers that paywall good features or, by default, deliberately let through ads and has a significant number of scams):

<ul>
<li>Bing: similar to Google, but with more scams and without youtube videospam</li>
</ul></li>
</ul></li>
<li>Download Firefox

<ul>
<li>Ideally, we'd get links to download firefox with no fake or scam links</li>
<li>Great results (links to download firefox; no scams):

<ul>
<li>Bing: links to download Firefox</li>
<li>Mwmbl: links to download firefox</li>
<li>Kagi: links to download firefox</li>
</ul></li>
<li>Good:

<ul>
<li>ChatGPT: this is a bit funny to categorize, since these are technically incorrect instructions, but a human should easily be able to decode the instructions and download firefox</li>
</ul></li>
<li>Ok results (some kind of indirect links to download firefox; no scams):

<ul>
<li>Marginalia: indirect links to download Firefox instructions to get to a firefox download</li>
</ul></li>
<li>Bad results (links to download firefox, with scams):

<ul>
<li>Google: top links are all legitimate, but the #7 result is a scam that tries to get you to install badware and the #10 result is an ad that appears to be some kind of scam that wants your credit card info.</li>
</ul></li>
</ul></li>
<li>Why do wider tires have better grip?

<ul>
<li>Ideally, would link to an explanation that clearly explains why and doesn't have an incomplete explanation that can't explain a lot of commonly observed behavior</li>
<li>Great / Good / Ok results: none</li>
<li>Bad results (no results or a very small number of obviously incorrect results):

<ul>
<li>Mwmbl: one obviously incorrect result and no other results</li>
<li>Marginalia: two obviously incorrect results and no other results</li>
</ul></li>
<li>Very bad results: (a very small number of semi-plausible incorrect results)

<ul>
<li>ChatGPT: standard ChatGPT "hallucination" that's probably plausible to a lot of people (it sounds like a lot of incorrect internet comments on the topic, but better written)</li>
</ul></li>
<li>Terrible results (lots of semi-plausible incorrect results, often on ad farms):

<ul>
<li>Google / Bing / Kagi: incorrect ad-laden results with the usual rate of scammy ads</li>
</ul></li>
</ul></li>
<li>Why do they keep making cpu transistors smaller?

<ul>
<li>Ideally, would link to an explanation that clearly explains why. The best explanations I've seen are in <a href="https://en.wikipedia.org/wiki/Very_Large_Scale_Integration">VLSI</a> textbooks, but I've also seen very good explanations in lecture notes and slides</li>
<li>Great results (links to a very good explanation, no scams): none</li>
<li>Good results (links to an ok explanation, no scams): none</li>
<li>Ok results (links to something you can then search on further and get a good explanation if you're good at searching and doesn't rank bad or misleading explanations above the ok explanation):

<ul>
<li>Bing: top set of links had a partial answer that could easily be turned into links to correct answers via more searching. Also had a lot of irrelevant answers and ad-laden SEO'd garbage</li>
</ul></li>
<li>Bad results (no results or a small number of obviously irrelevant results or lots of semi-plausible wrong results with an ok result somewhere):

<ul>
<li>Marginalia: no answers</li>
<li>Mwmbl: one obviously irrelevant answer</li>
<li>Google: 5th link has the right keywords to maybe find the right answer with further searches. Most links have misleading or incorrect partial answers. Lots of links to Quora, which don't answer the question. Also lots of links to other bad SEO'd answers</li>
<li>Kagi: 10th link has a fairly direct path to getting the correct answer, if you scroll down far enough on the 10th link. Other links aren't good.</li>
</ul></li>
<li>Very bad results:

<ul>
<li>ChatGPT: doesn't really answer the question. Asking ChatGPT to explain its answers further causes it "hallucinate" incorrect reasons.</li>
</ul></li>
</ul></li>
<li>Vancouver snow forecast winter 2023

<ul>
<li>I'm not sure what the ideal answer is, but a pretty good one would be to Environment Canada's snow forecast, predicting significantly below normal snow (and above normal temperatures)</li>
<li>Great results (links to Environment Canada winter 2023 multi-month snow forecast as top result or something equivalently good): none</li>
<li>Good results: none</li>
<li>Ok results (links to some kind of semi-plausible winter snow forecast that isn't just made-up garbage to drive ad clicks): none</li>
<li>Bad results (no results or obviously irrelevant results):

<ul>
<li>Marginalia: no results</li>
<li>ChatGPT: incorrect results, but when I accidentally prepended my question with "User\n", then it returned a link to the right website (but in a way that would make it quite difficult to navigate to a decent result), so perhaps a slightly different prompt would pseudo-randomly cause a ok result here?</li>
<li>Mwmbl: a bunch of obviously irrelevant results</li>
</ul></li>
<li>Very bad results: none</li>
<li>Terrible results (links to deliberately faked forecast results):

<ul>
<li>Bing: mostly irrelevant results. The top seemingly-relevant result is the 5th link, but it appears to be some kind of scam site that fabricates fake weather forecasts and makes money by serving ads on the heavily SEO'd site</li>
<li>Kagi: top 4 results are from the scam forecast site that's Bing's 5th link</li>
<li>Google: mostly irrelevant results and the #1 result is a fake answer from a local snow removal company that projects significant snow and cold weather in an attempt to get you to unnecessarily buy snow removal service for the year. Other results are SEO'd garbage that's full of ads
<br></li>
</ul></li>
</ul></li>
</ul>

<h2 id="appendix-detailed-query-results">Appendix: detailed query results</h2>

<h3 id="download-youtube-videos">Download youtube videos</h3>

<p>For our first query, we'll search "download youtube videos" (Xe's suggested search term, "youtube downloader" returns very similar results). The ideal result is <code>yt-dlp</code> or a thin, free, wrapper around <code>yt-dlp</code>. <code>yt-dlp</code> is a fork of <code>youtube-dlc</code>, which is a now defunct fork of <code>youtube-dl</code>, which seems to have very few updates nowadays.. A link to one of these older downloaders also seems ok if they still work.</p>

<h4 id="google">Google</h4>

<ol>
<li>Some youtube downloader site. Has lots of assurances that the website and the tool are safe because they've been checked by "Norton SafeWeb". Interacting with the site at all prompts you to install a browser extension and enable notifications. Trying to download any video gives you a full page pop-over for extension installation for something called CyberShield. There appears to be no way to dismiss the popover without clicking on something to try to install it. After going through the links but then choosing not to install CyberShield, no video downloads. Googling "cybershield chrome extension" returns a knowledge card with "Cyber Shield is a browser extension that claims to be a popup blocker but instead displays advertisements in the browser. When installed, this extension will open new tabs in the browser that display advertisements trying to sell software, push fake software updates, and tech support scams.", so CyberShield appears to be badware.</li>
<li>Some youtube downloader site. Interacting with the site causes a pop-up prompting you to download their browser extension. Putting a video URL in causes a pop-up to some scam site but does also cause the video to download, so it seems to be possible to download youtube videos here if you're careful not to engage with the scams the site tries to trick you into interacting with</li>
<li>PC Magazine listicle on ways to download videos from youtube. Top recommendations are paying for youtube downloads, VLC (which they note didn't work when they tried it), some $15/yr software, some $26/yr software, "FlixGrab", then a warning about how the downloader websites are often scammy and they don't recommend any downloader website. The article has more than one ad per suggestion.</li>
<li>Some youtube downloader site with shady pop-overs that try to trick you into clicking on ads before you even interact with the page</li>
<li>Some youtube downloader site with pop-ups that try to trick you into clicking on scam ads</li>
<li>Some youtube downloader site with pop-ups that try to trick you into clicking on scam ads, e.g., "Samantha 24, vancouver | I want sex, write to WhatsApp | Close / Continue". Clicking anything (any button, or anywhere else on the site tries to get you to install something called "Adblock Ultimate"</li>
<li>ZDNet ZDnet listicle. First suggestion is clipware, which apparently bundles a bunch of malware/adware/junkware with the installer: <a href="https://www.reddit.com/r/software/comments/w9o1by/warning_about_clipgrab/">https://www.reddit.com/r/software/comments/w9o1by/warning_about_clipgrab/</a>. The listicle is full of ads and has an autoplay video</li>
<li>[YouTube video] Over 2 minutes of ads followed by a video on how to buy youtube premium (2M views on video)</li>
<li>[YouTube video] Video that starts off by asking users to watch the whole video (some monetization thing?). The video tries to funnel you to some kind of software to download videos that costs money</li>
<li>[YouTube video] PC Magazine video saying that you probably don't "have to" download videos since you can use the share button, and then suggests reading their story (the one in result #3) on how to download videos</li>
<li>Some youtube downloader site with scam ads. Interacting with the site at all tries to get you to install "Adblock Ultimate"</li>
<li>Some youtube downloader site with pop-ups that try to trick you into clicking on scam ads</li>
<li>Some youtube downloader site with scam ads</li>
</ol>

<p>Out of 10 "normal" results, we have 9 that, in one way or another, try to get you to install badware or are linked to some other kind of ad scam. One page doesn't do this, but it also doesn't suggest the good, free, option for downloading youtube videos and instead suggests a number of paid solutions. We also had three youtube videos, all of which seem to be the video equivalent of SEO blogspam. Interestingly, we didn't get a lot of ads from Google itself <a href="https://twitter.com/danluu/status/823623691246239744">despite that happening the last time I tried turning off my ad blocker to do some Google test queries</a>.</p>

<h4 id="bing">Bing</h4>

<ol>
<li>Some youtube downloader site. This is google (2), which has ads for scam sites</li>
<li>[EXPLORE FURTHER ... "Recommended to you based on what's popular"] Some youtube download site, not one we saw from google. Site has multiple pulsing ads and bills itself as "50% off" for Christmas (this search was done in mid-November). Trying to download any video pulls up a fake progress bar with a "too slow? Try [our program] link". After a while, a link to download the video appears, but it's a trick, and when you click it, it tries to install "oWebster Search extension". Googling "oWebster Search extension" indicates that it's badware that hijacks your browser to show ads. Two of the top three hits are how to install the extension and the rest of the top hits are how to remove this badware. Many of the removal links are themselves scams that install other badware. After not installing this badware, clicking the download link again results in a pop-over that tries to get you to install the site's software. If you dismiss the pop-over and click the download link again, you just get the pop-over link again, so this site appears to be a pure scam that doesn't let you download videos</li>
<li>[EXPLORE FURTHER]. Interacting with the site pops up fake ads with photos of attractive women who allegedly want to chat with you. Clicking the video download button tries to get you to install a <a href="https://github.com/gorhill/uBlock/issues/3027#issuecomment-330077439">copycat ad blocker</a> that <a href="https://www.reddit.com/r/assholedesign/comments/h8pdar/this_ad_blocker_that_gives_you_ads/">displays extra pop-over ads</a>. The site does seem to actually give you a video download, though</li>
<li>[EXPLORE FURTHER] Same as (3)</li>
<li>[EXPLORE FURTHER] Same as Google (1) (that NortonSafeWeb youtube downloader site that tries to scam you)</li>
<li>[EXPLORE FURTHER] A site that converts videos to MP4. I didn't check to see if the site works or is just a scam as the site doesn't even claim to let you download youtube videos</li>
<li>Google (1), again. That NortonSafeWeb youtube downloader site that tries to scam you.</li>
<li>[EXPLORE FURTHER] A link to youtube.com (the main page)</li>
<li>[EXPLORE FURTHER] Some youtube downloader site with a popover that tries to trick you into clicking on an ad. Closing that reveals 12 more ads. There's a scam ad that's made to look like a youtube downloader button. If you scroll past that, there's a text box and a button for trying to download a youtube video. Entering a valid URL results in an error saying there's no video that URL.</li>
<li>Gigantic card that actually has a download button. The download button is fake and just takes you to the site. The site loudly proclaims that the software is not adware, spyware, etc.. Quite a few internet commenters note that their antivirus software tags this software as malware. A lot of comments also indicate that the software doesn't work very well but sometimes works. The site for the software has a an embedded youtube video, which displays "This video has been removed for violating YouTube's Terms of Service". Oddly, the download links for mac and Linux are not for this software and in fact don't download anything at all and are installation instructions for <code>youtube-dl</code>; perhaps this makes sense if the windows version is actually malware. The windows download button takes you to a page that lets you download a windows executable. There's also a link to some kind of ad-laden page that tries to trick you into clicking on ads that look like normal buttons</li>
<li>PC magazine listicle</li>
<li>An ad for some youtube downloader program that claims "345,764,132 downloads today"; searching the name of this product on reddit seems to indicate that it's malware</li>
<li>Ad for some kind of paid downloader software</li>
</ol>

<p>That's the end of the first page.</p>

<p>Like Google, no good results and a lot of scams and software that may not be a scam but is some kind of lightweight skin around an open source project that charges you instead of letting you use the software for free.</p>

<h4 id="marginalia">Marginalia</h4>

<ol>
<li>12-year old answer suggesting youtube-dl, which links to a URL which has been taken down and replaced with "Due to a ruling of the Hamburg Regional Court, access to this website is blocked."</li>
<li>Some SEO'd article, like you see on normal search engines</li>
<li>Leawo YouTube Downloader (I don't know what this is, but a quick search at least doesn't make it immediately obvious that this is some kind of badware, unlike the Google and Bing results)</li>
<li>Some SEO'd listicle, like you see on normal search engines</li>
<li>Bug report for some random software</li>
<li>Some random blogger's recommendation for "4K Video Downloader". A quick search seems to indicate that this isn't a scam or badware, but it does lock some features behind a paywall, and is therefore worse than <code>yt-dlp</code> or some free wrapper around <code>yt-dlp</code></li>
<li>A blog post on how to install and use <code>yt-dlp</code>. The blogpost notes that it used to be about <code>youtube-dl</code>, but has been updated to <code>yt-dlp</code>.</li>
<li>More software that charges you for something you can get for free, although searching for this software on reddit turns up cracks for it</li>
<li>A listicle with bizarrely outdated recommendations, like RealPlayer. The entire blog seems to be full of garbage-quality listicles.</li>
<li>A script to download youtube videos for something called "keyboard maestro", which seems useful if you already use that software, but seems like a poor solution to this problem if you don't already use this software.</li>
</ol>

<p>The best results by a large margin. The first link doesn't work, but you can easily get to <code>youtube-dl</code> from the first link. I certainly wouldn't try Leawo YouTube Downloader, but at least it's not so scammy that searching for the name of the project mostly returns results about how the project is some kind of badware or a scam, which is better than we got from Google or Bing. And we do get a recommendation with <code>yt-dlp</code>, with instructions in the results that's just a blog post from someone who wants to help people who are trying to download youtube videos.</p>

<h4 id="kagi">Kagi</h4>

<ul>
<li>1. That NortonSafeWeb youtube downloader site. Interacting with the site at all prompts you to install a browser extension and enable notifications. Trying to download any video gives you a full page pop-over for extension installation for something called CyberShield. There appears to be no way to dismiss the popover without clicking on something to try to install it</li>
<li>2. Another link to that NortonSafeWeb youtube downloader site. For some reason, this one is tagged with "Dec 20, 2003", apparently indicating that the site is from Dec 20th 2003, although that's quite wrong.</li>
<li>3. Some youtube downloader site. Selecting any video to download pushes you to a site with scam ads.</li>
<li>4. Some youtube downloader site. Interacting with the site at all pops up multiple ads that link to scams and the page wants to enable notifications. A pop-up then appears on top of the ads that says "Ad removed" with a link for details. This is a scam link to another ad.</li>
<li>5. Another link to the above site</li>
<li>6-7. Under a subsection titled "Interesting Finds", there are links to two github repos. One is for transcribing youtube videos to text and the other is for using Google Takeout to backup photos from google photos or your own youtube channel</li>
<li>8. Some youtube downloader site.</li>
<li>9-13. Under a subsection titled "Blast from the Past", 4 irrelevant links and a link to youtube-dl's github page, but the 2010 version at archive.org</li>
<li>14. SEO blogspam for youtube help. Has a link that's allegedly for a "Greasemonkey script for downloading YouTube videos", but the link just goes to a page with scammy ads</li>
<li>15. Some software that charges you $5/mo to download videos from youtube</li>
</ul>

<h4 id="mwmbl">Mwmbl</h4>

<ol>
<li>Some youtube video downloader site, but one that no other search engine returned. There's a huge ad panel that displays "503 NA - Service Deprecating". The download link does nothing except for pop up some other ad panes that then disappear, leaving just the 503 "ad".</li>
<li>$20 software for downloading youtube videos</li>
<li>2016 blog post on how to install and use <code>youtube-dl</code>. Sidebar has two low quality ads which don't appear to be scams and the main body has two ads interspersed, making this extremely low on ads compared to analogous results we've seen from large search engines</li>
<li>Some youtube video download site. Has a giant banner claiming that it's "the only YouTube Downloader that is 100% ad-free and contains no popups.", which is probably not true, but the site does seem to be ad free and not have pop-ups. Download link seems to actually work.</li>
<li>Youtube video on how to install and use <code>youtube-dlg</code> (a GUI wrapper for <code>youtube-dl</code>) on Linux (this query was run from a Mac).</li>
<li>Link to what was a 2007 blogpost on how to download youtube videos, which automatically forwards to a 2020 ad-laden SEO blogspam listicle with bad suggestions. Article has two autoplay videos. Archive.org shows that the 2007 blog post had some reasonable options in it for the time, so this wasn't always a bad result.</li>
<li>A blog post on a major site that's actually a sponsored post trying to get you to a particular video downloader. Searching for comments on this on reddit indicate that users view the app as a waste of money that doesn't work. The site is also full of scammy and misleading ads for other products. E.g., I tried clicking on an ad that purports to save you money on "products". It loaded a fake "checking your computer" animation that supposedly checked my computer for compatibility with the extension and then another fake checking animation, after which I got a message saying that my computer is compatible and I'm eligible to save money. All I have to do is install this extension. Closing that window opens a new tab that reads "Hold up! Do you actually not want automated savings at checkout" with the options "Yes, Get Coupons" and "No, Don't Save". Clicking "No, Don't Save" is actually an ad that takes you back to a link that tries to get you to install a chrome extension.</li>
<li>That "Norton Safe Web" youtube downloader site, except that the link is wrong and is to the version of the site that purports to download instagram videos instead of the one that purports to download youtube videos.</li>
<li>Link to Google help explaining how you can download youtube videos that you personally uploaded</li>
<li>SEO blogspam. It immediately has a pop-over to get you to subscribe to their newsletter. Closing that gives you another pop-over with the options "Subscribe" and "later". Clicking "later" does actually dismiss the 2nd pop-over. After closing the pop-overs, the article has instructions on how to install some software for windows. Searching for reviews of the software returns comments like "This is a PUP/PUA that can download unwanted applications to your pc or even malicious applications."</li>
</ol>

<p>Basically the same as Google or Bing.</p>

<h4 id="chatgpt">ChatGPT</h4>

<p>Since ChatGPT expects more conversational queries, we'll use the prompt "How can I download youtube videos?"</p>

<p>The first attempt, on a Monday at 10:38am PT  returned "Our systems are a bit busy at the moment, please take a break and try again soon.". The second attempt returned an answer saying that one should not download videos without paying for YouTube Premium, but if you want to, you can use third-party apps and websites.  Following up with the question "What are the best third-party apps and websites?" returned another warning that you shouldn't use third-party apps and websites, followed by</p>

<blockquote>
<p>As of my last knowledge update in January 2022, I don't endorse or provide information on specific third-party apps or websites for downloading YouTube videos. It's essential to use caution and adhere to legal and ethical guidelines when it comes to online content.</p>
</blockquote>

<h3 id="ad-blocker">ad blocker</h3>

<p>For our next query, we'll try "ad blocker". We'd like to get <code>ublock origin</code>. Failing that, an ad blocker that, by default, blocks ads. Failing that, something that isn't a scam and also doesn't inject extra ads or its own ads. Although what's best may change at any given moment, comparisons I've seen that don't stack the deck have <a href="https://www.researchgate.net/figure/Performance-benchmark-when-using-an-adblocker-on-the-desktop-version-of-Top150_fig1_318330749">often seemed to show that ublock origin has the best or among the best performance</a>, and ublock origin is free and blocks ads.</p>

<h4 id="google-1">Google</h4>

<ol>
<li>"AdBlock — best ad blocker". Below the fold, notes "AdBlock participates in the Acceptable Ads program, so unobtrusive ads are not blocked", so this doesn't block all ads.</li>
<li>Adblock Plus | The world's #1 free ad blocker. Pages notes "Acceptable Ads are allowed by default to support websites", so this also does not block all ads by default</li>
<li>AdBlock. Page notes that " Since 2015, we have participated in the Acceptable Ads program, where publishers agree to ensure their ads meet certain criteria. Ads that are deemed non-intrusive are shown by default to AdBlock users", so this doesn't block all ads</li>
<li>"Adblock Plus - free ad blocker", same as (2), doesn't block all ads</li>
<li>"AdGuard — World's most advanced adblocker!" Page tries to sell you on some kind of paid software, "AdGuard for Mac". Searching for AdGuard turns up a post <a href="https://www.reddit.com/r/Adguard/comments/16whmsy/is_there_an_adblocker_for_adguards_adblocker_that/">from this person looking for an ad blocker that blocks ads injected by AdGuard</a>. It seems that you can download it for free, but then, if you don't subscribe, they give you more ads?</li>
<li>"AdBlock Pro" on safari store; has in-app purchases. It looks like you have to pay to unlock features like blocking videos</li>
<li>[YouTube] "How youtube is handling the adblock backlash". 30 second video with 15 second ad before the video. Video has no actual content</li>
<li>[YoutTube] "My thoughts on the youtube adblocker drama"</li>
<li>[YouTube] "How to Block Ads online in Google Chrome for FREE [2023]"; first comment on video is "your video doesnt [sic] tell how to stop Youtube adds [sic]". In the video, a person rambles for a bit and then googles <code>ad blocker extension</code> and then clicks the first link (same as our first link), saying, "If I can go ahead and go to my first website right here, so it's basically officially from Google .... [after installing, as a payment screen pops up asking you to pay $30 or a monthly or annual fee]"</li>
<li>"AdBlock for Mobile" on the App Store. It's rated 3.2* on the iOS store. Lots of reviews indicate that it doesn't really work</li>
<li>MalwareBytes ad blocker. A quick search indicates that it doesn't block all ads (unclear if that's deliberate or due to bugs)</li>
<li>"Block ads in Chrome | AdGuard ad blocker", same as (5)</li>
<li>[ad] NordVPN</li>
<li>[ad] "#1 Best Free Ad Blocker (2024) - 100% Free Ad Blocker." Immediately seems scammy in that it has a fake year (this query was run in mid-November 2023). This is for something called TOTAL Ad Block. <a href="https://danluu.com/seo-spam/(https://www.reddit.com/r/Adblock/comments/1412m7l/total_adblock_peoples_experiencesopinions/)">Searching for TOTAL Ad Block turns up results indicating that it's a scammy app that doesn't let you unsubscribe and basically tries to steal your money</a>
15 [ad] 100% Free &amp; Easy Download - Automatic Ad Blocker. Actually for Avast browser and not an ad blocker. <a href="https://palant.info/2020/01/13/pwning-avast-secure-browser-for-fun-and-profit/">A quick search show that this browser has a history of being less secure than just running chromium</a> and that <a href="https://palant.info/2019/10/28/avast-online-security-and-avast-secure-browser-are-spying-on-you/">it collects an unusually large amount of information from users</a>.</li>
</ol>

<p>No links to ublock origin. Some links to scams, though not nearly as many as when trying to get a youtube downloader. Lots of links to ad blockers that deliberately only block some ads by default.</p>

<h4 id="bing-1">Bing</h4>

<ul>
<li>1. [ad] "Automatic Ad Blocker | 100% Free &amp; Easy Download". [link is actually to avast secure browser, so an entire browser and not an ad blocker; from a quick search, this appears to be a wrapper around chromium that [has a history of being less secure than just running chromium](https://palant.info/2020/01/13/pwning-avast-secure-browser-for-fun-and-profit/) [which collects an unusually large amount of information from users](https://palant.info/2019/10/28/avast-online-security-and-avast-secure-browser-are-spying-on-you/)].</li>
<li>2. [ad]  "#1 Best Free Ad Blocker (2023) | 100% Free Ad Blocker". Has a pop-over nag window when you mouse over to the URL bar asking you to install it instead of navigating away. Something called TOTAL ad block. Apparently tries to get to sign up for a subscription [and then makes it very difficult to unsubscribe](https://www.reddit.com/r/Adblock/comments/1412m7l/total_adblock_peoples_experiencesopinions/) (apparently, you can't cancel without a phone call, and when you call and tell them to cancel, they still won't do it unless you threaten to issue a chargeback or block the payment from the bank)</li>
<li>3. [ad] "Best Ad Blocker (2023) | 100% Free Ad Blocker". Seems to be a fake review site that reviews various ad blockers; ublock origin is listed as #5 with 3.5 stars. TOTAL ad block is listed as #1 with 5 stars, is the only 5 stars ad blocker, has a banner that shows that it's the "#1 Free Ad Blocker", is award winning, etc.
<br>
If you then click the link to ublock origin, it takes you to a page that "shows" that ublock origin has 0 stars on trustpilot. There are multiple big buttons that say "click to start blocking ads" that try to get you to install TOTAL ad block. In the bottom right, in what looks like an ad slot, there's an image that says "visit site" for ublock origin. The link doesn't take you to ublock origin and instead takes you a site for [the fake ublock origin](https://www.reddit.com/r/ublock/comments/32mos6/ublock_vs_ublock_origin/).
</li><li>4. [ad] "AVG Free Antivirus 2023 | 100% Free, Secure Download". This at least doesn't pretend to be an ad blocker of any kind.</li>
<li>5. [Explore content from adblockplus.org] A link to the adblock plus blog.</li>
<li>6. [Explore content from adblockplus.org] A link to a list of adblock plus features.</li>
<li>7. "Adblock Plus | The world's #1 free ad blocker". </li>
<li>8-13. Sublinks to various pages on the Adblock Plus site.</li>
</ul>

<p>We're now three screens down from the result, so the equivalent of the above google results is just a bunch of ads and then links to one website. The note that something is an ad is much more subtle than I've seen on any other site. Given <a href="https://twitter.com/danluu/status/823624273516335104">what we know about when users confuse ads with organic search results</a>, it's likely that most users don't realize that the top results are ads and think that the links to scam ad blockers or the fake review site that tries to funnel you into installing a scam ad blocker are organic search results.</p>

<h4 id="marginalia-1">Marginalia</h4>

<ol>
<li>"Is ad-blocker software permissible?" from judaism.stackexchange.com</li>
<li>Blogspam for Ghosterty. Ghostery's pricing page notes that you have to pay for "No Private Sponsored Links", so it seems like some features are behind a pay wall. Wikipedia says "Since July 2018, with version 8.2, Ghostery shows advertisements of its own to users", but it seems like this might be opt-in?</li>
<li><a href="https://shouldiblockads.com/">https://shouldiblockads.com/</a>. Explains why you might want to block ads. First recommendation is ublock origin</li>
<li>"What’s the best ad blocker for you? - Firefox Add-ons Blog". First recommendation is ublock origin. Also provides what appears to be accurate information about other ad blockers.</li>
<li>Blog post that's a personal account of why someone installed an ad blocker.</li>
<li>Opera (browser).</li>
<li>Blog post, anti-anti-adblocker polemic.</li>
<li>ublock origin.</li>
<li>Fairphone forum discussion on whether or not one should install an ad blocker.</li>
<li>SEO site blogspam (as in, the site is an SEO optimization site and this is blogspam designed to generate backlinks and funnel traffic to the site).</li>
</ol>

<p>Probably the best result we've seen so far, in that the third and fourth results suggest ublock origin and the first result is very clearly not an ad blocker. It's unfortunate that the second result is blogspam for Ghostery, but this is still better than we see from Google and Bing.</p>

<h4 id="mwmbl-1">Mwmbl</h4>

<ol>
<li>A bitly link to a "thinkpiece" on ad blocking from a VC thought leader.</li>
<li>A link to cryptojackingtest, which forwards to Opera (the browser).</li>
<li>A link to ghostery.</li>
<li>Another link to ghostery.</li>
<li>A link to something called 1blocker, which appears to be a paid ad blocker. Searching for reviews turns up comments like "I did 1blocker free trial and forgot to cancel so it signed me up for annual for $20 [sic]" (but comments indicate that the ad blocker does work).</li>
<li>Blogspam for Ad Guard. There's a banner ad offering 40% off this ad blocker.</li>
<li>An extremely ad-laden site that appears to be in the search results because it contains the text "ad blocker detected" if you use an ad blocker (I don't see this text on loading the page, but it's in the page preview on Mwmbl). The first page is literally just ads with a "read more" button. Clicking "read more" takes you to a different page that's full of ads that also has the cartoon, which is the "content".</li>
<li>Another site that appears to be in the search results because it contains the text "ad blocker detected".</li>
<li>Malwarebytes ad blocker, which doesn't appear to work.</li>
<li>HN comments for article on youtube ad blocker crackdown. Scrolling to the 41st comment returns a recommendation for ublock origin.</li>
</ol>

<p>Mwmbl lets users suggest results, so I tried signing up to add ublock origin. Gmail put the sign-up email into my spam folder. After adding ublock origin to the search results, it's now the #1 result for "ad blocker" when I search logged out, from an incognito window and all other results are pushed down by one. As mentioned above, the score for Mwmbl is from before I edited the search results and not after.</p>

<h4 id="kagi-1">Kagi</h4>

<ul>
<li>1. "Adblock Plus | The world's #1 free ad blocker".</li>
<li>2-11. Sublinks to other pages on the Adblock Plus website.</li>
<li>12. "AdBlock — best ad blocker".</li>
<li>13. "Adblock Plus - free ad blocker".</li>
<li>14. "YouTube’s Ad Blocker Crackdown", a blog post that quotes and links to discussions of people talking about the titular topic.</li>
<li>15-18. Under a section titled "Interesting Finds", three articles about youtube's crackdown on ad blockers. One has a full page pop-over trying to get you to install TOTAL Adblock with "Close" and "Open" buttons. The "Close" button does nothing and clicking any link or the open button takes to a page advertising TOTAL adblock. There appears to be no way to dismiss the ad and read the actual article without doing something like going to developer tools and deleting the ad elements. The fourth article is titled "The FBI now recommends using an ad blocker when searching the web" and 100% of the above the fold content is the header plus a giant ad. Scrolling down, there are a lot more ads.</li>
<li>19. "AdBlock".</li>
<li>20. Another link from the Adblock site, "Ad Blocker for Chrome - Download and Install AdBlock for Chrome Now!".</li>
<li>21-25. Under a section titled "Blast from the Past", optimal.com ad blocker, a medium article on how to subvert adblock, a blog post from a Mozillan titled "Why Ad Blockers Work" that's a response to Ars Technica's "Why Ad Blocking is devastating to the sites you love", "Why You Need a Network-Wide Ad-Blocker (Part 1)", and "A Popular Ad Blocker Also Helps the Ad Industry", subtitled "Millions of people use the tool Ghostery to block online tracking technology—some may not realize that it feeds data to the ad industry."</li>
</ul>

<p>Similar quality to Google and Bing. Maybe halfway in between in terms of the number of links to scams.</p>

<h4 id="chatgpt-1">ChatGPT</h4>

<p>Here, we tried the prompt. <code>How do I install the best ad blocker?</code></p>

<p>First suggestion is ublock origin. Second suggestion is adblock plus. This seems like the best result by a significant margin.</p>

<h3 id="download-firefox">download firefox</h3>

<h4 id="google-2">Google</h4>

<ul>
<li>1-6. Links to download firefox.</li>
<li>7. Blogspam for firefox download with ads trying to trick you into installing badware.</li>
<li>8-9. Links to download firefox.</li>
<li>10 [ad] Some kind of shady site that claims to have firefox downloads, but where the downloads take you to other sites that try to get you to sign up for an account where they ask for personal information and your credit card number. Also pops up pop-over with window that does the above if you try to actually download firefox. At least one of the sites is some kind of gambling site, so this site might make money off of referring people to gambling sites?</li>
</ul>

<p>Mostly good links, but 2 out of the top 10 links are scams. And <a href="https://twitter.com/danluu/status/822739582177288192">we didn't have a repeat of this situation I saw in 2017, where Google paid to get ranked above Firefox in a search for Firefox</a>. For search queries where very search engine returns a lot of scams, I might rate having 2 out of the top 10 links be scams as "Ok" or perhaps even better but, here, where most search engines return no fake or scam links, I'm rating this as "Bad". You could make a case for "Ok" or "Good" here by saying that the vast majority of users will click one of the top links and never get as far as the 7th link, but I think that if Google is confident enough that's the case that they view it as unproblematic that the 7th and 10th links are scams, they should just only serve up the top links.</p>

<h4 id="bing-2">Bing</h4>

<ul>
<li>1-12. Links to download firefox or closely related links.</li>
<li>13. [ad] Avast browser.</li>
</ul>

<p>That's the entire first page. Seems pretty good. Nothing that looks like a scam.</p>

<h4 id="marginalia-2">Marginalia</h4>

<ul>
<li>1. "Is it better to download Firefox from the website or use the package manager?" on the UNIX stackexchange</li>
<li>2-9. Various links related to firefox, but not firefox downloads</li>
<li>10. "Internet Download Accelerator online help"</li>
</ul>

<p>Definitely worse than Bing, since none of the links are to download Firefox. Depending on how highly you rate users not getting scammed vs. having the exact right link, this might be better or worse than Google. In this post, this scams are relatively highly weighted, so Marginalia ranks above Google here.</p>

<h4 id="mwmbl-2">Mwmbl</h4>

<ul>
<li>1-7. Links to download firefox.</li>
<li>8. A link to a tumblr that has nothing to do with firefox. The title of the tumblr is "Love yourself, download firefox" (that's the title of the entire blog, not a particular blog post).</li>
<li>9. Link to download firefox nightly.</li>
<li>10. Extremely shady link that allegedly downloads firefox. Attempting to download the shady firefox pops up an ad that tries to trick you downloading Opera. I did not run either the Opera or Firefox binaries to see if they're legitimate.</li>
</ul>

<h4 id="kagi-com">kagi.com</h4>

<ul>
<li>1-3. Links to download firefox.</li>
<li>4-5. Under a heading titled "Interesting finds", a 404'd link to a tweet titled "What happens if you try to download and install Firefox on Windows" [which used to note that downloading Firefox on windows results in an OS-level pop-up that recommends Edge instead "to protect your pc"](https://web.archive.org/web/20220403104257/https://twitter.com/plexus/status/1510568329303445507) and some extremely ad-laden article (though, to its credit, the ads don't seem to be scam ads).</li>
<li>6. Link to download firefox.</li>
<li>7-10. 3 links to download very old versions of firefox, and a blog post about some kind of collaboration between firefox and ebay.</li>
<li>11. Mozilla homepage.</li>
<li>12. Link to download firefox.</li>
</ul>

<p>Maybe halfway in between Bing and Marginalia. No scams, but a lot of irrelevant links. Unlike some of the larger search engines, these links are almost all to download the wrong version of firefox, e.g., I'm on a Mac and almost all of the links are for windows downloads.</p>

<h4 id="chatgpt-2">ChatGPT</h4>

<p>The prompt "How do I download firefox?" returned technically incorrect instructions on how to download firefox. The instructions did start with going to the correct site, at which point I think users are likely to be able to download firefox by looking at the site and ignoring the instructions. Seems vaguely similar to marginalia, in that you can get to a download by clicking some links, but it's not exactly the right result. However, I think users are almost certain to find the correct steps and only likely with Marginalia, so ChatGPT is rated more highly than Marginalia for this query.</p>

<h3 id="why-do-wider-tires-have-better-grip">Why do wider tires have better grip?</h3>

<p>Any explanation that's correct must, a minimum, be consistent with the following:</p>

<ul>
<li>Assuming a baseline of a moderately wide tire for the wheel size.

<ul>
<li>Scaling both of these to make both wider than the OEM tire (but still running a setup that fits in the car without serious modifications) generally gives better dry braking and better lap times.</li>
<li>In wet conditions, wider setups often have better braking distances (though this depends a lot on the specific setup) and better lap times, but also aquaplane at lower speeds.</li>
<li>Just increasing the wheel width and using the same tire generally gives you better lap times, within reason.</li>
<li>Just increasing the tire width and leaving wheel width fixed generally results in worse lap times.</li>
</ul></li>
<li>Why tire pressure changes have the impact that they do (I'm not going to define terms in these bullets; if this text doesn't make sense to you, that's ok).

<ul>
<li>At small slip angles, increasing tire pressure results in increased lateral force.</li>
<li>In general, lowering tire pressure increases effective friction coefficient (within reason a semi-reasonable range).</li>
</ul></li>
</ul>

<p>This is one that has a lot of standard incorrect or incomplete answers, including:</p>

<ul>
<li>Wider tires give you more grip because you get more surface area.

<ul>
<li>Wider tires don't, at reasonable tire pressure, give you significantly more surface area.</li>
</ul></li>
<li>Wider tires actually don't give you more grip because friction is surface area times a constant and surface area is mediated by air pressure.

<ul>
<li>It's easily empirically observed that wider tires do, in fact, give you better handling and braking.</li>
</ul></li>
<li>Wider tires let you use a softer compound, so the real reason wider tires give you more grip is via the softer compound.

<ul>
<li>This could be part of an explanation, but I've generally seen this cited as the only explanation. However, wider tires give you more grip independent of having a softer compound. You can even observe this with the same tire by mounting the exact same tire on a wider wheel (within reason).</li>
</ul></li>
<li>The shape of the contact patch when the tire is wider gives you better lateral grip due to [some mumbo jumbo], e.g., "tire load sensitivity" or "dynamic load".

<ul>
<li>Ok, perhaps, but what's the mechanism that gives wider tires more grip when braking? And also, please explain the mumbo jumbo. For my goal of understanding why this happens, if you just use some word but don't explain the mechanism, this isn't fundamentally different than saying that wider tires have better grip due to magic.

<ul>
<li>When there's some kind of explanation of the mumbo jumbo, there will often be an explanation that only applies to aspect of increased grip, e.g., the explanation will really only apply to lateral grip and not explain why braking distances are decreased.</li>
</ul></li>
</ul></li>
</ul>

<h3 id="google-3">Google</h3>

<ul>
<li>1. A "knowledge card" that says "Bigger tires provide a wider contact area that optimizes their performance and traction.", which explains nothing. On clicking the link, it's SEO blogspam with many [incorrect statements, such as "Are wider tires better for snow traction? Or are narrow tires more reliable in the winter months? The simple answer is narrow tires!](https://mastodon.social/@danluu/111441790762754806) Tires with a smaller section width provide more grip in winter conditions. They place higher surface pressure against the road they are being driven on, enabling its snow and ice traction"</li>
<li>2. [Question dropdown] "do wider tires give you more grip?", which correctly says "On a dry road, wider tires will offer more grip than narrow ones, but the risk of aquaplaning will be higher with wide tires.". On clicking the link, there's no explanation of why, let alone an answer to the question we're asking</li>
<li>3. [Question dropdown] "Do bigger tires give you better traction?", which says "What Difference Does The Wheel Size Make? Larger wheels offer better traction, and because they have more rubber on the tire, this also means a better grip on the road", which has a nonsensical explanation of why. On clicking the link, the link appears to be talking about wheel diameter and is not only wrong, but actually answering the wrong question.</li>
<li>4. [Question dropdown] "Why do wider tires have more grip physics?", which then has some of the standard incorrect explanations.</li>
<li>5. "Do wider wheels improve handling?", which says "Wider wheels and wider tires will also lower your steering friction coefficient". On clicking the link, there's no explanation of why nor is there an answer to the question we're asking.</li>
<li>6. "What are the disadvantages of wider tires?", which says "Harder Handling &amp; Steering". On clicking the link, there are multiple incorrect statements and no explanation of why.</li>
<li>7. "Would wider tires increase friction?", which says "Force can be stated as Pressure X Area. For a wide tire, the area is large but the force per unit area is small and vice versa. The force of friction is therefore the same whether the tire is wide or not.". Can't load the page due to a 502 error and the page isn't in archive.org, but this seems fine since the page appears to be wrong</li>
<li>8. "What is the advantage of 20 inch wheels over 18 inch wheels?" Answers a different question. On clicking the link, it's low quality SEO blogspam.</li>
<li>9. "Why do race cars have wide tires?", which says "Wider tires provide more resistance to slippery spots or grit on the road. Race tracks have gravel, dust, rubber beads and oil on them in spots that limit traction. By covering a larger width, the tires can handle small problems like that better. Wider tires have improved wear characteristics.". Perhaps technically correct, but fundamentally not the answer and highly misleading at best.</li>
<li>10-49. Other question dropdowns that are wrong. Usually both wrong and answering the wrong question, but sometimes giving a wrong answer to the right question and sometimes giving the right answer to the wrong question. I am just now realizing that clicking question dropdowns give you more question dropdowns.</li>
<li>50. "Why do wider tires get more grip? : r/cars". The person asks the question I'm asking, concluding with "This feels like a really dumb question because wider tires=more grip just seems intuitive, but I don't know the answer.". The top answer is total nonsense "The smaller surface area has more pressure but the same normal force as a larger surface area. If you distribute the same load across more area, each square inch of tire will have less force it's responsible for holding, and thus is less likely to be overcome by the force from the engine". The #2 answer is a classic reddit answer, "Yeah, take your science bs and throw it out the window.". The #3 answer has a vaguely plausible sounding answer to why wider tires have better lateral grip, but it's still misleading. Like many of the answers, the answer emphasizes how wider tires give you better lateral grip and has a lengthy explanation for why this should be the case, but wider tires also give you shorter braking distances and the provided explanation cannot explain why wider tires have shorter braking distances so must be missing a significant part of the puzzle. Anyway, none of the rest of the answers really even attempt to explain why</li>
<li>51-54. Other reddit answers bunched with this one, which also don't answer the question, although one of them links to https://www.brachengineering.com/content/publications/Wheel-Slip-Model-2006-Brach-Engineering.pdf, which has some good content, though it doesn't answer the question.</li>
<li>55. SEO blogspam for someone's youtube video; video doesn't answer the question.</li>
<li>56. Extremely ad-laden site with popovers that try to trick you into clicking on ads, etc.; has text I've seen on other pages that's been copied over to make an SEO ad farm (and the text has answers that are incorrect)</li>
</ul>

<h4 id="bing-3">Bing</h4>

<ul>
<li>1. Knowledge card which incorrectly states "Larger contact patch with the ground."</li>
<li>2-4. Carousel where none of the links answer the question correctly. (3) from bing is (50) from google search results. (2) isn't wrong, but also doesn't answer the question. (3) is SEO blogspam for someone else's youtube video (same link as google.com 55). The video does not answer the question. (3) and (4) are literally the same link and also don't answer the question</li>
<li>5. "This is why wider tires equals more grip". SEO blogspam for someone else's youtube video. The youtube video does not answer the question.</li>
<li>6-10. [EXPLORE FURTHER] results. (6) is blatantly wrong, (7) is the same link as (3) and (4), (8) is (2), SEO blogspam for someone else's youtube video and the video doesn't answer the question, (9) is s SEO blogspam for someone else's youtube video and the video doesn't answer the question, (10) is generic SEO blogspam with lots of incorrect information</li>
<li>11. Same link as (2) and (8), still SEO blogspam for someone else's youtube video and the video doesn't answer the question</li>
<li>12-13 [EXPLORE FURTHER] results. (12) is some kind of SEO ad farm that tries to get you to make "fake" ad clicks (there are full screen popovers that, if you click them, cause you to click through some kind of ad to some normal site, giving revenue to whoever set up the ad farm). (13) is the website of the person who made one of the two videos that's a common target for SEO blogspam on this topic. It doesn't answer the question, but at least we have the actual source here. </li>
</ul>

<p>From skimming further, many of the other links are the same links as above. No link appears to answer the question.</p>

<h4 id="marginalia-3">Marginalia</h4>

<p>Original query returns zero results. Removing the question mark returns one single result, which is the same as (3) and (4) from bing.</p>

<h4 id="mwmbl-3">Mwmbl</h4>

<ol>
<li>NYT article titled "Why Women Pay Higher Interest". This is the only returned result.</li>
</ol>

<p>Removing the question mark returns an article about bike tires titled "Fat Tires During the Winter: What You Need to Know"</p>

<h4 id="kagi-2">Kagi</h4>

<ol>
<li>A knowledge card that incorrectly reads "wider tire has a greater contact patch with the ground, so can provide traction."</li>
<li>(50) from google</li>
<li>Reddit question with many incorrect answers</li>
<li>Reddit question with many incorrect answers. Top answer is "The same reason that pressing your hand on the desk and sliding it takes more effort than doing the same with a finger. More rubber on the road = more friction".</li>
<li>(3) and (4) from bing</li>
<li>Youtube video titled "Do wider tyres give you more grip?". Clicking the video gives you 1:30 in ads before the video plays. The video is good, but it answers the question in the title of the video and not the question being asked of why this is the case. The first ad appears to be an ad revenue scam. The first link actually takes you to a second link, where any click takes you through some ad's referral link to a product.</li>
<li>"This is why wider tires equals more grip". SEO blogspam for (6)</li>
<li>SEO blogspam for another youtube video</li>
<li>SEO blogspam for (6)</li>
<li>Quora answer where top answer doesn't answer the question and I can't read all of the answers because I'm not logged in or aren't a premium member or something.</li>
<li>Google (56), stolen text from other sites and a site that has popovers that try to trick you into clicking ads</li>
<li>Pre-chat GPT nonsense text and a page that's full of ads. Unusually, the few ads that I clicked on seemed to be normal ads and not scams.</li>
<li>Blogspam for ad farm that has pop-overs that try to get you to install badware.</li>
<li>Page with ChatGPT-sounding nonsense. Has a "Last updated" timestamp that's sever-side generated to match the exact moment you navigated to the page. Page tries to trick you into clicking on ads with full-page popover. Ads don't seem to be scams, as far as I can tell.</li>
<li>Page which incorrectly states "In summary, a wider tire does not give better traction, it is the same traction similar to a more narrow tire.". Has some ads that get you to try to install badware.</li>
</ol>

<h4 id="chatgpt-3">ChatGPT</h4>

<p>Provides a list of "hallucinated" reasons. The list of reasons has better grammar than most web search results, but still incorrect. It's not surprising that ChatGPT can't answer this question, since it often falls over on questions that are both easier to reason about and where the training data will contain many copies of the correct answer, e.g., <a href="https://www.threads.net/@jossfong/post/C1fJe-mJRHx">Joss Fong noted that, when her niece asked ChatGPT about gravity</a>, the response was nonsense: "... That's why a feather floats down slowly but a rock drops quickly — the Earth is pulling them both, but the rock gets pulled harder because it's heavier."</p>

<p>Overall, no search engine gives correct answers. Marginalia seems to be the best here in that it gives only a couple of links to wrong answers and no links to scams.</p>

<h3 id="why-do-they-keep-making-cpu-transistors-smaller">Why do they keep making cpu transistors smaller?</h3>

<p>I had this question when I was in high school and my AP physics teacher explained to me that it was because making the transistors smaller allowed the CPU to be smaller, which let you make the whole computer smaller. Even at age 14, I could see that this was an absurd answer, not really different than today's ChatGPT hallucinations — at the time, computers tended to be much larger than they are now, and full of huge amounts of empty space, with the CPU taking up basically no space relative to the amount of space in the box and, on top of that, CPUs were actually getting bigger and not smaller as computers were getting smaller. I asked some other people and didn't really get an answer. This was also relatively early on the life of the public web and I wasn't able to find an answer other than something like "smaller transistors are faster" or "smaller = less capacitance". But why are they faster? And what makes them have less capacitance? Specifically, what about the geometry causes that to scale so that transistors get faster? It's not, in general, obvious that things should get faster if you shrink them, e.g., if you naively linearly shrink a wire, it doesn't appear that it should get faster at all because the cross sectional area is reduced quadratically, increasing resistance per distance quadratically. But length is also reduced linearly, so total resistance is increased linearly. And then capacitance also decreases linearly, so it all cancels out. Anyway, for transistors, it turns out the same kind of straightforward scaling logic shows that they speed up (at back then, transistors were large enough and wire delay was relatively small enough that you got extremely large increases in performance for shrinking transistor). You could explain this to a high school student who's taken physics in a few minutes if <a href="https://twitter.com/danluu/status/1147984717238562816">you had the right explanation</a>, but I couldn't find an answer to this question until I read a VLSI textbook.</p>

<p>There's now enough content on the web that there must be multiple good explanations out there. Just to check, I used non-naive search terms to find some good results. Let's look at what happens when you use the naive search from above, though.</p>

<h4 id="google-4">Google</h4>

<ul>
<li>1. A knowledge card that reads "Smaller transistors can do more calculations without overheating, which makes them more power efficient.", which isn't exactly wrong but also isn't what I'd consider an answer of why. The article is interesting, but is about another topic and doesn't explain why.</li>
<li>2. [Question dropdown], "Why are transistors getting smaller?". Site has an immediate ad pop-over on opening. Site doesn't really answer the question, saying "Since the first integrated circuit was built in the 1950s, silicon transistors have shrunk following Moore’s law, helping pack more of these devices onto microchips to boost their computing power."</li>
<li>3. [Question dropdown] "Why do transistors need to be small?". Answer is "The capacitance between two conductors is a function of their physical size: smaller dimensions mean smaller capacitances. And because smaller capacitances mean higher speed as well as lower power, smaller transistors can be run at higher clock frequencies and dissipate less heat while doing so", which isn't wrong, but the site doesn't explain the scaling that made things faster as transistors got smaller. The page mostly seems concerned about discrete components and note that "In general, passive components like resistors, capacitors and inductors don’t become much better when you make them smaller: in many ways, they become worse. Miniaturizing these components is therefore done mainly just to be able to squeeze them into a smaller volume, and thereby saving PCB space.", so it's really answering a different question</li>
<li>4. [Question dropdown], "Why microchips are getting smaller?". SEO blogspam that doesn't answer the question other than saying stuff like "smaller is faster"</li>
<li>5. [Question dropdown], "Why are microprocessors getting smaller?". Link is to stackexchange. The top answer is that yield is better and cost goes down when chips are smaller, which I consider a non-answer, in that it's also extremely expensive to make things smaller, so what explains why the cost reduction is there? And, also, even if the cost didn't go down, companies would still want smaller transistors for performance reasons, so this misses a major reason and arguably the main reason.</li>

#2 answer actually sort of explains it, "The reason for this is that as the transistor gate gets smaller, threshold voltage and gate capacitance (required drive current) gets lower.", but is both missing parts of the explanation and doesn't provide the nice, intuitive, physical explanation for why this is the case. Other answers are non-answers like "The CORE reason why CPUs keep getting smaller is simply that, in computing, smaller is more powerful:". It's possible to get to a real explanation by searching for these terms
<li>6. "Why are CPU and GPU manufacturers trying to make ...". Top answer is the non-answer of "Smaller transistors are faster and use less power. Small is good." and since it's quora and I'm not a subscriber, the other answers are obscured by a screen that suggests I start a free trial to "access this answer and support the author as a Quora+ subscriber".</li>
<li>7-10. sub-links to other quora answers. Since I'm not a subscriber, by screen real estate, most of the content is ads. None of the content I could read answered the question.</li>
</ul>

<h4 id="bing-4">Bing</h4>

<ul>
<li>1. Knowledge card with multiple parts. First parts have some mumbo jumbo, but the last part contains a partial answer. If you click on the last part of the answer, it takes you to a stack exchange question that has more detail on the partial answer. There's enough information in the partial answer to do a search and then find a more complete explanation.</li>
<li>2-4. [people also ask] some answers that are sort of related, but don't directly answer the question</li>
<li>5. Stack exchange answer for a different question.</li>
<li>7-10 [explore further] answers to totally unrelated questions, except for 10, which is extremely ad-laden blogspam to a related question that has a bunch of semi-related text with many ads interspersed between the text.</li>
</ul>

<h4 id="kagi-3">Kagi</h4>

<ul>
<li>1. "Why does it take multiple years to develop smaller transistors for CPUs and GPUs?", on r/askscience. Some ok comments, but they answer a different question.</li>
<li>2-5. Other reddit links that don't answer the question. Some of them are people asking this question, but the answers are wrong. Some of the links answer different questions and have quite good answers to those questions.</li>
<li>6. Stackexchange question that has incorrect and misleading answers.</li>
<li>7. Stackexchange question, but a different question.</li>
<li>8. Quora question. The answers I can read without being a member don't really answer the question.</li>
<li>9. Quora question. The answers I can read without being a member don't really answer the question.</li>
<li>10. Metafilter question from 2006. The first answers are fundamentally wrong, but one of the later answers links to the wikipedia page on MOSFET. Unfortunately, the link is to the now-removed anchor #MOSFET_scaling. There's still a scaling section which has a poor explanation. There's also a link to the page on Dennard Scaling, which is technically correct but has a very poor explanation. However, someone could search for more information using these terms and get correct information.</li>
</ul>

<h4 id="marginalia-4">Marginalia</h4>

<p>No results</p>

<h4 id="mwmbl-4">Mwmbl</h4>

<ol>
<li>A link to a Vox article titled "Why do artists keep making holiday albums?". This is the only result.</li>
</ol>

<h4 id="chatgpt-4">ChatGPT</h4>

<p>Has non-answers like "increase performance". Asking ChatGPT to expand on this, with "Please explain the increased performance." results in more non-answers as well as fairly misleading answers, such as</p>

<blockquote>
<p>Shorter Interconnects: Smaller transistors result in shorter distances between them. Shorter interconnects lead to lower resistance and capacitance, reducing the time it takes for signals to travel between transistors. Faster signal propagation enhances the overall speed and efficiency of the integrated circuit ... The reduced time it takes for signals to travel between transistors, combined with lower power consumption, allows for higher clock frequencies</p>
</blockquote>

<p>I could see this seeming plausible to someone with no knowledge of electrical engineering, but this isn't too different from ChatGPT's explanation of gravity, "... That's why a feather floats down slowly but a rock drops quickly — the Earth is pulling them both, but the rock gets pulled harder because it's heavier."</p>

<h3 id="vancouver-snow-forecast-winter-2023">vancouver snow forecast winter 2023</h3>

<p>Good result: Environment Canada's snow forecast, predicting significantly below normal snow (and above normal temperatures)</p>

<h4 id="google-5">Google</h4>

<ol>
<li>Knowledge card from a local snow removal company, incorrectly stating "The forecast for the 2023/2024 season suggests that we can expect another winter marked by ample snowfall and temperatures hovering both slightly above and below the freezing mark. Be prepared ahead of time.". On opening the page, we see that the next sentence is "Have Alblaster [the name of the company] ready to handle your snow removal and salting. We have a proactive approach to winter weather so that you, your staff and your customers need not concern yourself with the approaching storms." and the goal of the link is to get you to buy snow removal services regardless of their necessity by writing a fake forecast.</li>
<li>[question dropdown] "What is the winter prediction for Vancouver 2023?", incorrectly saying that it will be "quite snowy".</li>
<li>[question dropdown] "What kind of winter is predicted for 2023 Canada?" Links to a forecast of Ontario's winter, so not only wrong province, but the wrong coast, and also not actually an answer to the question in the dropdown.</li>
<li>[question dropdown] "What is the winter prediction for B.C. in 2023 2024?" Predicts that B.C. will have a wet and mild winter, which isn't wrong, but doesn't really answer the question.</li>
<li>[question dropdown] "What is the prediction for 2023 2024 winter?" Has a prediction for U.S. weather</li>
<li>Blogspam article that has a lot of pointless text with ads all over. Text is contradictory in various ways and doesn't answer the question. Has huge pop-over ad that covers top half the page</li>
<li>Another blogspam article from the same source. Lots of ads; doesn't answer the question</li>
<li>Ad-laden article that answers some related questions, but not this question</li>
<li>Extremely ad-laden article that's almost unreadable due to the number of ads. Talks a lot about El Nino. Eventually notes that we should see below-normal snow in B.C. due to El Nino, but B.C. is almost 100M km² and the forecast is not the same for all of B.C., so you could maybe hope that the comment about B.C. here applies to Vancouver, but this link only lets you guess at the answer</li>
<li>Very ad-laden article, but does have a map which has map that's labeled "winter precipitation" which appears to be about snow and not rain. Map seems quite different from Environment Canada's map, but it does snow reduced "winter precipitation" over Vancouver, so you might conclude the right thing from this map.</li>
</ol>

<h4 id="bing-5">Bing</h4>

<ul>
<li>1-4. [news carousel] Extremely ad laden articles that don't answer the question. Multiple articles are well over half ads by page area.</li>
<li>5. Some kind of page that appears to have the answer, expect that the data seems to be totally fabricated? There's a graph with day-by-day probability of "winter storm". From when I did the search, there's about an average of about a 50% daily chance of a "snow storm" going forward for the next 2 weeks. Forecasts that don't seem fake have it at 1% or less daily. Page appears to be some kind of SEO'd fake forecast that makes money on ads?</li>
<li>6-8. [more links from same site] Various ad laden pages. One is a "contact us" page where the main "contact us" pane is actually a trick to get you to click on an ad for some kind of monthly payment service that looks like a scam</li>
<li>9-14 [Explore 6 related pages ... recommended to you based on what's popular] Only one link is relevant. That link has a "farmer's almanac" forecast that's fairly different from Environment Canada's forecast. The farmer's almanaic page mainly seems to be an ad to get you to buy farmer's almanic stuff, although it also has conventional ads</li>
</ul>

<h4 id="kagi-4">Kagi</h4>

<ul>
<li>1. Same SEO'd fake forecast as Bing (5)</li>
<li>2-4. More results from scam weather site</li>
<li>5-7. [News] Irrelevant results</li>
<li>8. Spam article from same site as Google (6)</li>
<li>9-13. More SEO spam from the same site</li>
<li>14. Same fake forecast as Google (1)</li>
<li>15. Page is incorrectly tagged is being from "Dec 25, 2009" (it's a recent page) and doesn't contain relevant results</li>
</ul>

<h4 id="marginalia-5">Marginalia</h4>

<p>No results.</p>

<h4 id="mwmbl-5">Mwmbl</h4>

<ul>
<li>1. Ad-laden news article from 2022 about a power outage. Has an autoplay video ad and many other ads as well.</li>
<li>2. 2021 article about how the snow forecast for Philadelphia was incorrect. Article has a slow-loading full-page pop-over that shows up after a few seconds and is full of ads.</li>
<li>3. 2016 article on when the Ohio river last froze over.</li>
<li>4. Some local news site from Oregon with a Feb 2023 article on the snow forecast at the time. Site has an autoplay video ad and is full of other ads. Clicking one of the random ads ("Amazon Hates When You Do Ths, But They Can't Stop You (It's Genius)" results in the ad trying to get you to install a chrome extension. The ad attempts to resemble an organic blog post on a site that's just trying to get you to save money, but if you try to navigate away from the "blog post", you get a full page popover that tries to trick you into installing the chrome extension. Going to the base URL reveals that the entire site is actually a site that's trying to trick users into installing this chrome extension. This is the last result.</li>
</ul>

<h4 id="chatgpt-5">ChatGPT</h4>

<p>"What is the snow forecast for Vancouver in winter of 2023?"</p>

<p>Doesn't answer questions, recommends using a website, app, or weather service.</p>

<p>Asking "Could you please direct me to a weather website, app, or weather service that has the forecast?" causes ChatGPT to return random weather websites that don't have a seasonal snow forecast.</p>

<p>I retried a few times. One time, I accidentally pasted in the entire ChatGPT question, which meant that my question was prepened with "User\n". That time, ChatGPT suggested "the Canadian Meteorological Centre, Environment Canada, or other reputable weather websites". The top response when asking for the correct website was "Environment Canada Weather", which at least has a reasonable seeming seasonal snow forecast somewhere on the website. The other links were still to sites that aren't relevant.</p>

<h2 id="appendix-google-knowledge-card-results">Appendix: Google "knowledge card" results</h2>

<p>In general, I've found Google knowledge card results to be quite poor, <a href="https://twitter.com/sasuke___420/status/1428104132301185029">both for specific questions</a> with <a href="https://twitter.com/danluu/status/1428103276583661570">easily findable answers</a> as well as for silly questions like "when was running invented" which, for years, infamously returned "1748. Running was invented by Thomas Running when he tried to walk twice at the same time" (which was pulled from a Quora answer).</p>

<p>I had a doc where I was collecting every single knowledge card I saw to tabulate the fraction that were correct. I don't know that I'll ever turn that into a post, so here are some "random" queries with their knowledge card result (and, if anyone is curious, most knowledge card results I saw when I was tracking this were incorrect).</p>

<ul>
<li>"oc2 gemini length" (looking for the length of a kind of canoe, an oc2, called a gemini)

<ul>
<li>20″ (this was the length of a baby mentioned in an article that also mentioned the length of the boat, which is 24'7"</li>
</ul></li>
<li>"Feedly revenue"

<ul>
<li>"$5.2M/yr", via a link to a site which appears to just completely fabricate revenue and profit estimates for private companies</li>
</ul></li>
<li>"What airlines fly direct from JFK airport to BLI airport?"

<ul>
<li>"Alaska Airlines - (AS) with 30 direct flights between New York and Bellingham monthly; Delta Air Lines - (DL) with 30 direct flights between JFK and BLI monthly". This sounded plausible, but when I looked this up, this was incorrect. The page it links to has a bunch of text that like "How many morning flights are there from JFK to BLI? Alaska Airlines - (AS) lists, on average, 1 flights departing before 12:00pm, where the first departure from JFK is at 09:30AM and the last departure before noon is at 09:30AM", seemingly with the goal of generating a knowledge card for questions like this. It doesn't really matter that the answers are fabricated since the goal of the site seems to be to get traffic or visibility via knowledge cards</li>
</ul></li>
<li>"Air Canada Vancouver Newark"

<ul>
<li>At the time I did this search, this showed a knowledge card indicating that AC 7082 was going to depart the next day at 11:50am, but no such flight had existed for months and there was certainly not an AC 7082 flight about to depart the next day</li>
</ul></li>
<li>"TYR Hurricane Category 5 neoprene thickness"

<ul>
<li>1.5mm (this is incorrect)</li>
</ul></li>
<li>"Intel number of engineers"

<ul>
<li>(604) 742-3501 (I was looking for the number of engineers that Intel employed, not a phone number, and even if I was looking for a phone number for Intel engineers, I don't think this is it).</li>
</ul></li>
<li>"boston up118s dimensions"

<ul>
<li>"5826298 x 5826899 x 582697 in" (this is a piano and, no, it is not 92 miles long)</li>
</ul></li>
<li>"number of competitive checkers players"

<ul>
<li>2</li>
</ul></li>
<li>"fraser river current speed"

<ul>
<li>"97 to 129 kilometers per hour (60 to 80 mph)" (this is incorrect)</li>
</ul></li>
<li>"futura c-4 surfski weight"

<ul>
<li>"39 pounds" (this is actually the weight of a different surfski; the article this comes from just happens to also mention the futura c-4)</li>
</ul></li>
</ul>


</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[More fun with Apple's internal tools: creating a PDS card (161 pts)]]></title>
            <link>https://www.downtowndougbrown.com/2023/12/more-fun-with-apples-internal-tools-creating-a-pds-card/</link>
            <guid>38819618</guid>
            <pubDate>Sat, 30 Dec 2023 21:56:11 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.downtowndougbrown.com/2023/12/more-fun-with-apples-internal-tools-creating-a-pds-card/">https://www.downtowndougbrown.com/2023/12/more-fun-with-apples-internal-tools-creating-a-pds-card/</a>, See on <a href="https://news.ycombinator.com/item?id=38819618">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
				
<p>In <a href="https://www.downtowndougbrown.com/2023/11/how-apples-developers-reflashed-mac-roms-in-the-90s/" data-type="post" data-id="4539" target="_blank" rel="noreferrer noopener">my last post</a>, I figured out how to use <a href="https://macintoshgarden.org/apps/flash-rom-utility" data-type="link" data-id="https://macintoshgarden.org/apps/flash-rom-utility" target="_blank" rel="noreferrer noopener">Apple’s leaked Flasher utility</a> from the 1990s to reflash a ROM SIMM inside of my Performa 630. It’s basically the Mac equivalent of a BIOS update, but only for Apple’s developers. The research involved in that post was quite a journey of reverse engineering from both a software and hardware perspective. I had to disassemble the code to figure out which computers were compatible and what the software was expecting to find. I also had to create a replica of an Apple development ROM SIMM that was wired exactly the way Macs of the era expected it. Although I was very excited about my discoveries, one big question remained:</p>



<p>What was the purpose of the bottom right half of the main window labeled “PDS ROM Info”? And what would it take to enable it?</p>



<figure><a href="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image.png" target="_blank" rel="noreferrer noopener"><img fetchpriority="high" decoding="async" width="433" height="355" src="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image.png" alt="" srcset="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image.png 433w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image-300x246.png 300w" sizes="(max-width: 433px) 100vw, 433px"></a></figure>



<p>PDS stands for <a href="https://en.wikipedia.org/wiki/Processor_Direct_Slot" data-type="link" data-id="https://en.wikipedia.org/wiki/Processor_Direct_Slot" target="_blank" rel="noreferrer noopener">Processor Direct Slot</a>. It’s an expansion slot that provides most of the CPU’s signals and can be used for adding things like Ethernet, a video card, or an accelerator. If you look at the <a href="https://www.downtowndougbrown.com/2023/11/how-apples-developers-reflashed-mac-roms-in-the-90s/#comment-507695" data-type="link" data-id="https://www.downtowndougbrown.com/2023/11/how-apples-developers-reflashed-mac-roms-in-the-90s/#comment-507695" target="_blank" rel="noreferrer noopener">comments on my last post</a>, you will see some discussion about the PDS cards used by the Flasher app (thanks Al!). It sounds like they were used to flash programmable ROM SIMMs/DIMMs, and there were multiple generations of cards. That makes sense, because the list of compatible models covers a variety of systems with different PDS slots. Some of the Quadra machines like the 700, 900, 650, and 800 have a 140-pin 68040 PDS slot. The LC 475, 575, 580, and 630 have the 96-pin LC PDS slot that came from the original Mac LC, with an extra set of 18 pins that can optionally be used by fancier cards. The 610 has a card slot that takes an adapter board to give you either a NuBus slot or 140-pin PDS slot.</p>



<p>Even though I still have no idea what Apple’s original PDS cards used by developers looked like, I really wanted to rig something up to get the PDS portion of this software working. So I went to work disassembling the Flasher utility and researching classic Mac hardware and Motorola MC680x0 processors.</p>



<p>When I was first disassembling Flasher, I noticed a big table of compatible flash ROMs. A large portion of the entries were marked as PDS, which I wasn’t interested in at the time, so I had mostly ignored them. I spent a little more time investigating them this time around. All of the PDS entries use read and write addresses in the 0xExxxxxxx range, which corresponds with “slot E”. That makes total sense because that’s where Quadra PDS cards are expected to be mapped in memory. Looking through the entries, I found that the Lobos SIMM I replicated is also supported on the PDS side. The base read address is 0xE0000000, while writes use 0xEC000000. Other than that, the table entry seems to be pretty much the same as the entry used for an onboard SIMM of the same type. There are also a bunch of other table entries with additional options that would require further reverse engineering to fully understand. Let’s focus on just this one table entry.</p>



<p>I began to think: what would it take to create a PDS card with a 64-pin ROM SIMM socket so I could program my replica Lobos board through the PDS slot? All it would need to do is map the flash into memory at 0xE0000000 for reads and 0xEC000000 for writes. That doesn’t seem too complicated, right? I decided to jump in and figure it out.</p>



<p>I started by deciding which Mac I would use for this experiment. I opted for my LC 475.</p>



<figure><a href="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/lc475.jpg" target="_blank" rel="noreferrer noopener"><img decoding="async" width="300" height="161" src="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/lc475-300x161.jpg" alt="" srcset="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/lc475-300x161.jpg 300w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/lc475-768x412.jpg 768w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/lc475.jpg 1024w" sizes="(max-width: 300px) 100vw, 300px"></a></figure>



<p>It has an LC PDS slot, which uses a readily available 96-pin Eurocard connector and as an added benefit is the simplest of all of them.</p>



<figure><a href="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/lc475board.jpg" target="_blank" rel="noreferrer noopener"><img decoding="async" width="225" height="300" src="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/lc475board-225x300.jpg" alt="" srcset="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/lc475board-225x300.jpg 225w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/lc475board.jpg 768w" sizes="(max-width: 225px) 100vw, 225px"></a></figure>



<p>Even though the Quadras have 68040s, this slot pretty much pretends to be a 15.6672 MHz 68020 so that cards designed for the original Mac LC will still work. Simple is good! Also, the case is really easy to open up. My Performa 630 would be a poor choice for this experiment because you have to shove the logic board into the case in order to start it up.</p>



<p>I looked at sections 3 and 5 of the <a href="https://www.nxp.com/docs/en/data-sheet/MC68020UM.pdf" data-type="link" data-id="https://www.nxp.com/docs/en/data-sheet/MC68020UM.pdf" target="_blank" rel="noreferrer noopener">MC68020 user manual</a> to get an idea of what kind of logic would need to be implemented by my PDS card. It was intimidating at first, but after spending some time thinking about it, I came to the conclusion that it really isn’t too complicated. Address strobe (/AS) goes low to indicate that a valid address is on the address bus. Data strobe (/DS) also goes low, either at the same time or shortly afterward depending on whether it’s a read or write cycle. The RW signal tells me whether it’s a read or a write.</p>



<p>That’s pretty much it in a nutshell! My PDS card’s job is to detect when an address I care about is being accessed, do the read or write requested, and then briefly drive /DSACK0 and /DSACK1 low to tell the CPU that I completed the operation and it was a 32-bit transfer. Obviously, the card has to do this in a way that follows all timing requirements as stated by the datasheet.</p>



<p>Programmable logic seems like correct solution for this as opposed to a microcontroller. Either that or a bunch of logic gate ICs. I <a href="https://edaplayground.com/x/8m7y" target="_blank" rel="noreferrer noopener">messed around on EDA Playground</a> (a really cool site, by the way) to see what read and write cycles would look like and decide on a strategy to handle them. I made a Verilog testbench that performs a few read and write cycles based on the spec in the 68020 manual. Here’s an example of a read cycle to 0xE000000 assuming no wait states are needed:</p>



<figure><a href="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image-2.png" target="_blank" rel="noreferrer noopener"><img loading="lazy" decoding="async" width="889" height="120" src="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image-2.png" alt="" srcset="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image-2.png 889w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image-2-300x40.png 300w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image-2-768x104.png 768w" sizes="(max-width: 889px) 100vw, 889px"></a></figure>



<p>The read cycle begins with the rising edge of the clock. It puts the address onto the address bus and also signifies whether it’s a read or write. At the next falling edge, it asserts /AS and /DS. This is the signal to my PDS card to actually do something. At the final falling edge, it saves the data that has been presented on the data bus and deasserts /AS and /DS. Writes are similar, but /DS is asserted a cycle later instead.</p>



<p>I found that for both reads and writes, the easiest approach would be to assert /DSACK0 and /DSACK1 immediately as soon as /AS went low. Then I could deassert it when /AS went high again. I didn’t even need to look at /DS. I could use this exact same logic to assert the output enable (/OE) or write enable (/WE) signal on the flash chips too. Here’s what that would look like for a read cycle:</p>



<figure><a href="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image-3.png" target="_blank" rel="noreferrer noopener"><img loading="lazy" decoding="async" width="900" height="180" src="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image-3.png" alt="" srcset="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image-3.png 900w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image-3-300x60.png 300w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image-3-768x154.png 768w" sizes="(max-width: 900px) 100vw, 900px"></a></figure>



<p>A write cycle would look very similar. The CPU will provide data to write on D[31:0] and will assert /DS slightly later than during read cycles. I would just need to pulse the /WE pin of the flash chips instead of /OE.</p>



<p>This arrangement provides plenty of time for the flash chips to do their thing. The /OE or /WE pulse width is about 127 nanoseconds, which is plenty. There is also plenty of setup and hold time on both the falling and rising edge of the /WE pulse for write cycles. The really nice thing about this design is it’s purely combinational logic. The rule is simply: whenever the address matches and /AS is asserted, assert /DSACK and either /OE or /WE, depending on the RW signal.</p>



<p>Determining if the address matches ended up being an interesting rabbit hole. Knowing that PDS cards are mapped to slot E, you might think you need to make sure that A[31:28] == 0xE or something like that. But no, the LC PDS slot is weird. The 96-pin portion of the connector common with earlier LC series Macs doesn’t even have A30 through A28 populated. It only has A31. Also, there’s a whole other 24-bit addressing mode to think about. Apple details this in the <a href="https://cdn.preterhuman.net/texts/computing/apple_hardware_devnotes/Mac%20LC%20475-Quadra%20605.pdf" target="_blank" rel="noreferrer noopener">LC 475 developer note</a>, with a sample circuit for generating a card select signal:</p>



<figure><a href="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image-4.png"><img loading="lazy" decoding="async" width="457" height="275" src="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image-4.png" alt="" srcset="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image-4.png 457w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image-4-300x181.png 300w" sizes="(max-width: 457px) 100vw, 457px"></a></figure>



<p>Looking at FC0 through FC2 is important so that you can differentiate between normal read cycles versus special CPU space cycles such as interrupt acknowledge cycles. FC3 tells you whether 24-bit addressing is enabled. In 24-bit mode, PDS accesses are recognized by A[23:20] equaling 0xE. In 32-bit mode, you just have to check if A31 is high. This all seemed a bit on the complicated side to me, but I was pretty sure I could ignore supporting 24-bit mode because I already knew that the Flasher utility puts the system into 32-bit mode behind the scenes when doing operations. After all, the table entry has a read address of 0xE0000000, which is not a valid address with 24-bit addressing.</p>



<p>It was around this time that I started looking at an LC PDS card that I have on hand: an Apple Ethernet LC Twisted-Pair card. I thought it would be a good opportunity to double check my work and see if my approach was sane, especially since it doesn’t have any special ASICs other than an Ethernet chipset.</p>



<figure><a href="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/appleethernet.jpg" target="_blank" rel="noreferrer noopener"><img loading="lazy" decoding="async" width="1024" height="607" src="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/appleethernet.jpg" alt="" srcset="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/appleethernet.jpg 1024w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/appleethernet-300x178.jpg 300w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/appleethernet-768x455.jpg 768w" sizes="(max-width: 1024px) 100vw, 1024px"></a></figure>



<p>This card has a PROM chip of some kind (U1) that is clearly used as a declaration ROM for identifying itself to the system. This means that the card is going to have some <a href="https://en.wikipedia.org/wiki/Glue_logic" data-type="link" data-id="https://en.wikipedia.org/wiki/Glue_logic" target="_blank" rel="noreferrer noopener">glue logic</a> for hooking up this PROM chip to the address and data buses, which is exactly what I needed to accomplish too. U2 seems to be some kind of PLD (a PAL16V8/GAL16V8 I think) which is definitely in control of /DSACK1 and the flash /OE pin, as well as other stuff like a chip select for the Ethernet chip. It’s looking at a handful of address lines, /AS, /FC3, and some other stuff that wasn’t immediately obvious.</p>



<p>One puzzling thing I found was that FC0-2 didn’t go anywhere on this card. I thought Apple said you needed to use them to make sure you didn’t accidentally treat interrupt acknowledge cycles as read cycles? Well…it turns out that there are other ways for detecting them that don’t require looking at FC0-2. <a href="https://68kmla.org/bb/index.php?threads/lc-pds-card-design-fc0-1-2.46243/" data-type="link" data-id="https://68kmla.org/bb/index.php?threads/lc-pds-card-design-fc0-1-2.46243/" target="_blank" rel="noreferrer noopener">I asked about it on 68kmla</a>. ymk gave me some great advice: if you don’t need the full PDS address space, you can detect interrupt acknowledge cycles by looking at some of the address bits instead. Interrupt acknowledge cycles are guaranteed to have most of the address bits set to 1. This appears to be the approach Apple used on their Ethernet card. I experimentally determined that if A24 is high, the card doesn’t respond. I think it’s looking at this rather than FC0-2. It’s a lot simpler to implement if you don’t need the full address space. I decided to use Apple’s strategy on my card too.</p>



<p>Now I was ready to actually think about making this PDS card. I had an idea of what logic needed to be implemented, and I also was pretty confident about wiring. Just hook up all of the data and address lines from the ROM SIMM socket directly to the PDS slot, and then use a programmable logic device of some kind to handle bus control and flash write/read cycle control.</p>



<p>I had a decent idea of what the Verilog would look like for my glue logic. Something like this:</p>


<div><pre title="">module flashcontroller(a31, a27, a24, rw, as_n, flash_oe_n, flash_we_n, dsack_n);
  input a31;
  input a27;
  input a24;
  input rw;
  input as_n;
  output flash_oe_n;
  output flash_we_n;
  output [1:0] dsack_n;
  
  wire pds_select = a31 &amp; ~a24;
  
  assign flash_oe_n = ~(pds_select &amp; rw &amp; ~as_n);
  assign flash_we_n = ~(pds_select &amp; ~rw &amp; ~as_n &amp; a27);
  assign dsack_n = pds_select &amp; ~as_n ? 2'b00 : 2'bzz;
endmodule
</pre></div>


<p>A note on this: I’m looking at A27 because write cycles in the software are addressed to 0xECxxxxxx. I figured it would make sense to restrict valid write cycles the same way. I just silently ignore write cycles that don’t have A27 high. I could have also looked at A26, but I thought A27 by itself was sufficient.</p>



<p>I wasn’t sure exactly what type of programmable logic device to use for this. I probably could have found a fancy 5V CPLD, but I opted for something pretty simple that could be found in DIP form factor to make for easy prototyping. Microchip’s <a href="https://www.microchip.com/en-us/product/atf22v10c" target="_blank" rel="noreferrer noopener">ATF22V10C</a> seemed like a great candidate.</p>



<p>I quickly realized that Verilog would be useless for this particular task. Simple PLDs seem to be more typically programmed using an old language called CUPL. It wasn’t too crazy to learn. <a href="https://www.microchip.com/en-us/development-tool/wincupl" target="_blank" rel="noreferrer noopener">Microchip provides WinCUPL as a free download</a>. It’s pretty old and buggy, but it gets the job done even in Windows 10. There are also open source alternatives such as <a href="https://github.com/simon-frankau/galette" target="_blank" rel="noreferrer noopener">galette</a>.</p>



<figure><a href="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image-5.png" target="_blank" rel="noreferrer noopener"><img loading="lazy" decoding="async" width="300" height="215" src="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image-5-300x215.png" alt="" srcset="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image-5-300x215.png 300w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image-5-768x552.png 768w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image-5.png 894w" sizes="(max-width: 300px) 100vw, 300px"></a></figure>



<p>Here’s my equivalent logic in CUPL suitable for programming into the 22V10:</p>


<div><pre title="">PIN 2 = A31;
PIN 3 = A27;
PIN 4 = A24;
PIN 5 = RW;
PIN 6 = !AS;

PIN 14 = !FLASH_OE;
PIN 15 = !FLASH_WE;
PIN 16 = !DSACK0;
PIN 17 = !DSACK1;

PDS_SELECT = A31 &amp; !A24;

FLASH_OE = PDS_SELECT &amp; RW &amp; AS;
FLASH_WE = PDS_SELECT &amp; !RW &amp; AS &amp; A27;
DSACK0 = 'b'1;
DSACK1 = 'b'1;
DSACK0.oe = PDS_SELECT &amp; AS;
DSACK1.oe = PDS_SELECT &amp; AS;
</pre></div>


<p>It’s really not that crazy. Just slightly different syntax and you handle active-low logic in the pin definitions, which kind of makes the equations more intuitive. I could see arguments going both ways on whether that’s a good or a bad thing.</p>



<p>Anyway, WinCUPL also came with a simulator so I could create a bunch of sample input vectors to test and make sure it worked as expected in a variety of scenarios. I also eventually put it onto a breadboard for testing with some LEDs. I had a brief moment of panic when I thought the output enables for DSACK weren’t working correctly, but it turns out I was just being dumb and accidentally changing RW when I thought I was changing /AS.</p>



<figure><a href="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/breadboard.jpg" target="_blank" rel="noreferrer noopener"><img loading="lazy" decoding="async" width="225" height="300" src="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/breadboard-225x300.jpg" alt="" srcset="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/breadboard-225x300.jpg 225w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/breadboard.jpg 768w" sizes="(max-width: 225px) 100vw, 225px"></a></figure>



<p>With my logic tested, it was time to throw together a PDS card. Ideally I should have designed a PCB, but by the time a PCB would have arrived, my free time around the holidays would have been over. So instead, I made the crazy decision to build it all on a protoboard. This required hours and hours of soldering. I wanted to design something that was reusable for possibly testing other concepts in the future, so I brought all 96 pins to a header. Soldering 96 tiny wires to 192 pins was…very tedious. Seriously, if you’re going to do this, just design a PCB instead. Don’t be like me.</p>



<figure><a href="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/solderingwire.jpg"><img loading="lazy" decoding="async" width="896" height="517" src="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/solderingwire.jpg" alt="" srcset="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/solderingwire.jpg 896w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/solderingwire-300x173.jpg 300w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/solderingwire-768x443.jpg 768w" sizes="(max-width: 896px) 100vw, 896px"></a></figure>



<p>The end result is messy, but everything is connected! I got better at soldering the wires as time went on. I also added a socket for the ATF22V10C with headers for each pin, along with bigger headers for 5V and GND.</p>



<figure><a href="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/pdscard1.jpg" target="_blank" rel="noreferrer noopener"><img loading="lazy" decoding="async" width="1024" height="430" src="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/pdscard1.jpg" alt="" srcset="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/pdscard1.jpg 1024w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/pdscard1-300x126.jpg 300w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/pdscard1-768x323.jpg 768w" sizes="(max-width: 1024px) 100vw, 1024px"></a></figure>



<figure><a href="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/pdscard2.jpg" target="_blank" rel="noreferrer noopener"><img loading="lazy" decoding="async" width="226" height="300" src="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/pdscard2-226x300.jpg" alt="" srcset="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/pdscard2-226x300.jpg 226w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/pdscard2-768x1021.jpg 768w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/pdscard2.jpg 770w" sizes="(max-width: 226px) 100vw, 226px"></a></figure>



<p>To start out, I decided to do some basic sanity testing to make sure that my PLD design worked properly. I tried to dump memory at 0xE0000000 in MacsBug with no PDS card installed in my LC 475.</p>



<p><code>DM E0000000</code></p>



<p>This results in a bus error:</p>



<figure><a href="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/nocard.jpg" target="_blank" rel="noreferrer noopener"><img loading="lazy" decoding="async" width="500" height="177" src="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/nocard.jpg" alt="" srcset="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/nocard.jpg 500w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/nocard-300x106.jpg 300w" sizes="(max-width: 500px) 100vw, 500px"></a></figure>



<p>The bus error is caused by a timer. If enough time elapses after a read or write cycle has begun and nothing has responded to it, one of Apple’s chips will automatically assert /BERR to terminate the transaction. Otherwise the CPU would happily just wait forever.</p>



<p>Next, I hooked up the bare minimum needed for my PLD to make the CPU happy when it saw a read or write cycle: the address pins, /AS, R/W, and the /DSACK pins. And, of course, 5V and ground.</p>



<figure><a href="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/baremin.jpg" target="_blank" rel="noreferrer noopener"><img loading="lazy" decoding="async" width="1024" height="842" src="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/baremin.jpg" alt="" srcset="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/baremin.jpg 1024w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/baremin-300x247.jpg 300w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/baremin-768x632.jpg 768w" sizes="(max-width: 1024px) 100vw, 1024px"></a></figure>



<p>I inserted the card into my LC 475 and booted it up. The fact that it chimed and booted was a good sign. It meant I didn’t short any of the address lines, data lines, or bus control signals together. It also meant the machine was tolerant of my jumper wires. I retried the MacsBug test and it gave me different results this time:</p>



<figure><a href="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/cardgood.jpg" target="_blank" rel="noreferrer noopener"><img loading="lazy" decoding="async" width="500" height="170" src="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/cardgood.jpg" alt="" srcset="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/cardgood.jpg 500w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/cardgood-300x102.jpg 300w" sizes="(max-width: 500px) 100vw, 500px"></a></figure>



<p>This is excellent! Instead of a bus error, it read back actual data. It’s all 0xFF, which probably makes sense. I’m not providing any data on the data lines yet. Maybe there are pullup resistors that provide a default value of 0xFF when nothing is controlling the bus. I’m not 100% sure. But regardless, there were no bus errors! My PLD made the CPU happy.</p>



<p>Here’s where things got really messy. If you think what I’ve done above is untidy, you ain’t seen nothing yet. I think this might be the jankiest LC PDS card ever created. If there was a Christmas ugly expansion card contest, I think I might win.</p>



<figure><a href="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/simmsocket.jpg" target="_blank" rel="noreferrer noopener"><img loading="lazy" decoding="async" width="1024" height="916" src="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/simmsocket.jpg" alt="" srcset="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/simmsocket.jpg 1024w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/simmsocket-300x268.jpg 300w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/simmsocket-768x687.jpg 768w" sizes="(max-width: 1024px) 100vw, 1024px"></a></figure>



<p>The green PCB is one of my Mac ROM SIMM programmer boards. It’s unpopulated except for the 64-pin ROM SIMM socket and a jumper wire soldered to almost every pin. If you pay close attention to my blog, you might remember it from my <a href="https://www.downtowndougbrown.com/2023/09/porting-my-mac-rom-simm-programmer-from-avr-to-arm/" data-type="post" data-id="3566" target="_blank" rel="noreferrer noopener">next-generation SIMM programmer prototyping</a>. So essentially I just had to hook up almost all of these jumper wires to my PDS card. One by one.</p>



<p>That may sound easy, but it wasn’t. The jumper wires are too short, and it gets more and more difficult to squeeze them in place as you get closer to the end. Tweezers were very helpful for positioning things as I was finishing up. The final result ended up looking fairly chaotic, but hey, everything is connected!</p>



<p>Here it is, installed in my LC 475 in all its glory, with a corner of the programmer PCB resting on the 68LC040 CPU and my replica Lobos Board programmable ROM SIMM installed.</p>



<figure><a href="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/installed.jpg" target="_blank" rel="noreferrer noopener"><img loading="lazy" decoding="async" width="768" height="1024" src="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/installed.jpg" alt="" srcset="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/installed.jpg 768w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/installed-225x300.jpg 225w" sizes="(max-width: 768px) 100vw, 768px"></a></figure>



<p>After my past adventures with accidentally damaging my LC 475 logic board’s onboard flash /WE pin by putting 12V on it, I was very careful to make sure 12V (VPP) was not shorted to any other pins in the circuit.</p>



<p>I cautiously powered on my LC 475. You may notice in the above picture I don’t have a battery installed, which means I have to flip the power switch off and on after the boot chime in order for the onboard video to work correctly.</p>



<p>It still booted just fine, so I didn’t screw anything up with all of my crazy jumper wires hanging around. Well, they might have been briefly broadcasting radio waves to my neighbors, but at least the computer worked. I couldn’t wait to try opening the Flasher utility and seeing if it would detect anything.</p>



<figure><a href="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image-6.png" target="_blank" rel="noreferrer noopener"><img loading="lazy" decoding="async" width="640" height="480" src="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image-6.png" alt="" srcset="https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image-6.png 640w, https://www.downtowndougbrown.com/wp-content/uploads/2023/12/image-6-300x225.png 300w" sizes="(max-width: 640px) 100vw, 640px"></a></figure>



<p>I’m always skeptical when something works on the first try, but it freaking worked. I had wired up every single one of those jumper wires correctly! The PDS ROM Info section showed a four-chip Am28F020 SIMM. This meant that both read and write cycles were working properly, because they’re both needed in order to perform the chip identification procedure.</p>



<p>This screenshot was taken after I had been playing with it for a while and had flashed the LC 475 stock ROM to the SIMM. Here’s a video of the programming process so you can compare it to <a href="https://youtu.be/BRluaJqdlKY" data-type="post" data-id="4539" target="_blank" rel="noreferrer noopener">how onboard ROM SIMM flashing worked</a>.</p>



<figure><p>
<iframe loading="lazy" title="Programming a Mac ROM SIMM using a PDS card in my LC 475" width="500" height="375" src="https://www.youtube.com/embed/S-8Dw2ZpMWw?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe>
</p></figure>



<p>When you program a ROM image through this PDS card, the UI updates as you do it. It tells you that it’s erasing, then programming, and finally verifying. Onboard SIMM programming didn’t allow this, because you can’t do Mac toolbox calls while you’re in the middle of programming your onboard ROM. There was no simple way to update the screen in that case. Also, it just leaves you back in the Flasher utility when it’s finished. It doesn’t automatically reboot like it does after reprogramming the same ROM you booted from.</p>



<p>I hope this trip down Apple developer memory lane is interesting to people out there. It has been a blast reviving this software and being able to share my findings with the world. I honestly could barely sleep last night after I got my PDS card working. I’ve never made anything like this before, and it’s opening up new avenues for me to learn more about hardware design. Is there any interest from people in actually owning one of these programmer cards? Obviously, it would be a polished PCB and not my rat’s nest depicted above. One concern is with so many different PDS slots out there, there would have to be different variants of the card. Either that or one mega card that has all of the required card connectors. That could get expensive though…</p>



<p>Either way, this definitely isn’t the end of this topic. I plan on hacking the Flasher software to also support modern ROM SIMMs in both the internal SIMM socket and the flash card. I’ll definitely share the process of figuring out how to hack the software. I’ve made some good progress on crudely hacking the code to prove the concept, but I want to make sure I do my final hackery the “right way” so that it’s maintainable going forward.</p>
			  
			</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Ugrep – a more powerful, fast, user-friendly, compatible grep (316 pts)]]></title>
            <link>https://ugrep.com/</link>
            <guid>38819262</guid>
            <pubDate>Sat, 30 Dec 2023 21:17:56 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://ugrep.com/">https://ugrep.com/</a>, See on <a href="https://news.ycombinator.com/item?id=38819262">Hacker News</a></p>
<div id="readability-page-1" class="page">





<p>a more powerful, ultra fast, user-friendly, compatible grep
</p><p><a target="_blank" href="https://github.com/Genivia/ugrep/releases">ugrep release 4.4.1</a>

</p><div>
<div>
<p>ugrep installs on
</p><ul>
<li>MacOS: <code><a target="_blank" href="https://formulae.brew.sh/formula/ugrep">brew</a> install ugrep</code>
</li><li>Windows: <code><a target="_blank" href="https://learn.microsoft.com/en-us/windows/package-manager/">winget</a> install Genivia.ugrep</code>
</li><li>Windows: <code><a target="_blank" href="https://community.chocolatey.org/packages/ugrep">choco</a> install ugrep</code>
</li><li>Windows: <code><a target="_blank" href="https://scoop.sh/">scoop</a> install ugrep</code>
</li><li>Alpine: <code>apk add ugrep ugrep-doc</code>
</li><li>Android Termux: <code>pkg install ugrep</code>
</li><li>Arch: <code>pacman -S ugrep</code>
</li><li>CentOS: <code>dnf install ugrep</code>
</li><li>Debian: <code>apt-get install ugrep</code>
</li><li>Fedora: <code>dnf install ugrep</code>
</li><li>FreeBSD: <code>pkg install ugrep</code>
</li><li>NetBSD: <a target="_blank" href="http://cdn.netbsd.org/pub/pkgsrc/current/pkgsrc/textproc/ugrep/README.html">download textproc/ugrep</a>
</li><li>OpenSUSE: <code>zypper install ugrep</code>
</li><li>RHEL: <code>dnf install ugrep</code>
</li><li>Other:
<pre>git clone <a target="_blank" href="https://github.com/Genivia/ugrep">https://github.com/Genivia/ugrep</a>
cd ugrep
./build.sh # build ug and ugrep in ugrep/bin
sudo make install # install as desired
</pre>
</li></ul>
<p>how fast is ugrep?
</p><ul>
<li><a target="_blank" href="https://github.com/Genivia/ugrep-benchmarks">Benchmarks</a>: ugrep is one of the fastest grep
</li><li>New <a href="#index">file indexer</a> to speed up cold FS search
</li></ul>
</div>
<div>
<p><img src="https://ugrep.com/ug.png" alt="ugrep screenshot with TUI"></p><p>Search with a <a href="#TUI">TUI</a> (shown) or from the command line with grep-compatible options.  You can also <a href="#Google">Google search</a> (shown) and <a href="#fuzzy">fuzzy search</a> your files.  Search (nested) zip/tar/pax/cpio <a href="#zip">archives, tarballs and compressed files</a>, search and <a href="#binary">hexdump binary</a>, search PDF, doc, docx, and much more.
</p></div>
</div>

<a name="commands">&nbsp;</a>
<h2>Commands</h2>

<p>Search for patterns in files with the <code>ug</code> and <code>ugrep</code> commands, where

</p><dl>
<dt>ug</dt>                     <dd>uses a .ugrep configuration file with your preferences located in the working directory or in your home directory;<br>the <code>ug+</code> command also searches pdfs, documents, e-books, image metadata</dd>
<dt>ug --save-config <i>OPTIONS</i></dt>
                                <dd>saves a new .ugrep file in the working directory using the current .ugrep configuration and by copying the relevant <tt><i>OPTIONS</i></tt> (if any) to the new .ugrep file</dd>
<dt>ugrep</dt>                  <dd>same as <code>ug</code>, but does not use a .ugrep configuration file: <code>ugrep</code> works best in shell scripts;<br>the <code>ugrep+</code> command also searches pdfs, documents, e-books, image metadata</dd>
</dl>

<p>Examples:

</p><dl>
<dt>ug <i>PATTERN</i></dt>
                                <dd>recursively search for files matching <tt><i>PATTERN</i></tt></dd>
<dt>ug <i>PATTERN</i> <i>FILE</i></dt>
                                <dd>search lines in <tt><i>FILE</i></tt> matching <tt><i>PATTERN</i></tt></dd>
<dt>ug <i>PATTERN</i> <i>DIR</i></dt>
                                <dd>search files in <tt><i>DIR</i></tt> matching <tt><i>PATTERN</i></tt>, excluding sub-directories (like <code>ls DIR</code> takes a <tt><i>DIR</i></tt> to list)</dd>
<dt>ug -r <i>PATTERN</i> <i>DIR</i></dt>
                                <dd><a href="#constraints">recursively search</a> files in <tt><i>DIR</i></tt> matching <tt><i>PATTERN</i></tt>, excluding symlinks</dd>
<dt>ug -rS <i>PATTERN</i> <i>DIR</i></dt>
                                <dd><a href="#constraints">recursively search</a> files in <tt><i>DIR</i></tt> matching <tt><i>PATTERN</i></tt>, <a href="#constraints">including symlinks to files</a> (option <tt>-S</tt>), but not to directories</dd>
<dt>ug -R <i>PATTERN</i> <i>DIR</i></dt>
                                <dd><a href="#constraints">recursively search</a> files in <tt><i>DIR</i></tt> matching <tt><i>PATTERN</i></tt>, including symlinks to files and directories</dd>
<dt>ug -3 <i>PATTERN</i> <i>DIR</i></dt>
                                <dd><a href="#constraints">recursively search</a> files in <tt><i>DIR</i></tt> matching <tt><i>PATTERN</i></tt> as <tt>-r</tt>, but up to 3 levels, i.e. <tt><i>DIR/</i></tt>, <tt><i>DIR/one/</i></tt>, and <tt><i>DIR/one/two/</i></tt></dd>
<dt>ug --save-config --ignore-files --no-tree</dt>
                                <dd>save a .ugrep configuration file that obeys <a href="#constraints">.gitignore file exclusions</a> in recursive searches and turns <a href="#pretty">directory tree output</a> off</dd>
<dt>ug -%% -j -w -Q</dt>
                                <dd>recursively <a href="#Google">Google search files</a> (option <tt>-%%</tt>) with <a href="#modes">smart ignore case</a> (option <tt>-j</tt>) regex patterns matching <a href="#modes">words</a> (option <tt>-w</tt>) in the interactive query <a href="#TUI">TUI</a> (option <tt>-Q</tt>)</dd>
</dl>

<ol>
<li>the regex pattern syntax supports standard <a href="#regex">POSIX ERE</a> by default, like GNU <code>egrep</code>, but also adds syntax to support Unicode by default
</li><li>patterns match Unicode and may include newline breaks <tt>\n</tt> and <tt>\R</tt> to match multiple lines as a single match
</li><li>quote <tt><i>"PATTERN"</i></tt> or <tt><i>'PATTERN'</i></tt> to prevent globbing of the pattern by the shell that may expand <tt>*</tt>, <tt>?</tt> and <tt>[a-z]</tt> into pathnames
</li><li><i>Windows Command Prompt</i> does not parse <tt>'</tt> to quote patterns; you must use <tt>"</tt> instead
</li><li><i>Windows PowerShell</i> does not parse <tt>""</tt> (empty pattern); you must specify <tt>--match</tt> instead
</li><li>an empty pattern <tt>""</tt> matches every line, same as option <tt>--match</tt>
</li><li>multiple <tt><i>FILE</i></tt> and <tt><i>DIR</i></tt> pathname arguments may be specified as search targets; if none are provided, the working directory is recursively searched
</li><li>standard input is searched if standard input is not a terminal, such as a pipe redirect
</li></ol>

<a name="options">&nbsp;</a>
<h2>Options</h2>

<p>Ugrep is compatible with GNU grep and supports GNU grep command-line options.  But ugrep also offers new options and features.  In general, command-line options can be mixed and specified in any order.  Long options <tt>--<i>OPTION</i></tt> may start with <tt>--no-<i>OPTION</i></tt> to disable them.  All short options have long alternatives.  This page shows short options for the most part.  Specify <tt>--stats</tt> to output a final summary search report of options, patterns, and search statistics.

<a name="list">&nbsp;</a>
</p><h3>List matching files</h3>

<dl>
<dt>-l</dt>                     <dd>list matching files</dd>
<dt>-L</dt>                     <dd>list non-matching files</dd>
<dt>-c</dt>                     <dd>count matching lines in files</dd>
<dt>-cv</dt>                    <dd>count non-matching lines in files; option <tt>-v</tt> inverts pattern matching</dd>
<dt>-cu</dt>                    <dd>count all pattern matches by ungrouping multiple matches from lines (option <tt>-u</tt>)</dd>
<dt>-cm1,</dt>                  <dd>count matching lines in files, but skip files with zero matches (include the comma in <tt>-m1,</tt>)</dd>
</dl>

<ol>
<li>if you never want <tt>-c</tt> to output zero match counts, then add <tt>min-count=1</tt> to your ~/.ugrep file (outputing zero match counts is a GNU grep behavior)
</li><li>to disable directory tree-based listings, specify <tt>--no-tree</tt> or permanently add <tt>no-tree</tt> to your ~/.ugrep file
</li><li>listings are sorted by name; to sort by date/time or by size, specify <tt>--sort=changed</tt> or <tt>--sort=size</tt>
</li></ol>

<a name="match">&nbsp;</a>
<h3>Displaying matches, match info, match context</h3>

<dl>
<dt>-H</dt>                     <dd>always output the filename; normally, a filename is not output when searching a single specified file</dd>
<dt>-n</dt>                     <dd>output the line number of a match</dd>
<dt>-k</dt>                     <dd>output the column number of a match</dd>
<dt>-b</dt>                     <dd>output the byte offset of a match</dd>
<dt>-u</dt>                     <dd>ungroup multiple matches from lines to count and output each match separately</dd>
<dt>-C3</dt>                    <dd>output matching lines with 3 lines as context before (option <tt>-B3</tt>) and after (option <tt>-A3</tt>)</dd>
<dt>-y</dt>                     <dd>output matching lines with the rest of the file as context (<tt>--any-line</tt> or <tt>--passthru</tt>)</dd>
<dt>-o</dt>                     <dd>output only the matching part</dd>
<dt>-o -C20</dt>                <dd>output only the matching part with the matching line as context before (option <tt>-B20</tt>) and after (option <tt>-A20</tt>) to fit 40 characters</dd>
<dt>--width</dt>                <dd>truncate lines to the terminal window width; <tt>--width=40</tt> truncates to 40 characters</dd>
</dl>

<a name="modes">&nbsp;</a>
<h3>Pattern matching modes</h3>

<dl>
<dt>-F</dt>                     <dd>search for matching strings, not regex patterns, like GNU <code>fgrep</code>
</dd><dt>-G</dt>                     <dd>BRE pattern syntax, like GNU <code>grep</code> or <code>grep -G</code>
</dd><dt>-P</dt>                     <dd>Perl regex pattern search with PCRE, see also <a href="#regex"><tt>ug --help regex</tt></a></dd>
<dt>-U</dt>                     <dd>non-Unicode ASCII/binary search like GNU grep; patterns such as <tt>\xa3</tt> match a byte, not the U+00a3 multi-byte code point</dd>
<dt>-Y</dt>                     <dd>empty-matching patterns such as <tt>x*y*z*</tt> match all lines like GNU grep, instead of returning useful matches</dd>
<dt>-i</dt>                     <dd>ignore case in matching patterns</dd>
<dt>-j</dt>                     <dd>smart ignore case, enables <tt>-i</tt> when patterns are specified in lower case</dd>
<dt>-w</dt>                     <dd>patterns must match as words and not be part of words</dd>
<dt>-x</dt>                     <dd>patterns must match whole lines from start to end</dd>
<dt>-v</dt>                     <dd>invert pattern matching; output lines that do not match</dd>
<dt>-e <i>PATTERN</i></dt>      <dd>explicitly specify <tt><i>PATTERN</i></tt>; <tt>-e</tt> is used to specify multiple patterns and when specifying a pattern after the <tt><i>FILE</i></tt> argument</dd>
<dt>-N <i>PATTERN</i></dt>      <dd>do not match <tt><i>PATTERN</i></tt> when combined with <tt>-e</tt>; for example <tt>-e "[0-9]+" -N "0+"</tt> matches nonzero numbers</dd>
<dt>-f <i>FILE</i></dt>         <dd>read (additional) patterns from <tt><i>FILE</i></tt></dd>
<dt>-f cpp/names</dt>           <dd>if <tt>cpp/names</tt> is not a local file, then read built-in C++ name-matching patterns (installed in <tt>/.../share/ugrep/patterns/cpp/names</tt>)</dd>
</dl>

<a name="TUI">&nbsp;</a>
<h3>The interactive TUI</h3>

<dl>
<dt>-Q</dt>                     <dd>start TUI to specify search patterns and options interactively</dd>
<dt>-Q -e <i>PATTERN</i></dt>   <dd>start TUI and search for <tt><i>PATTERN</i></tt></dd>
</dl>

<ol>
<li>additional options, files and directories can be specified on the command line to start the TUI search
</li><li><em>ALT-key</em> toggles the option letter corresponding to the key press, for example <em>ALT-L</em> lists matching files (option <tt>-l</tt>) and <em>SHIFT-ALT-C</em> shows context (option <tt>-C3</tt>)
</li><li>navigate to directories and files with <em>Tab</em>, then <em>SHIFT-Tab</em> to go back and restore previous options and patterns (if changed)
</li><li>use the cursor keys, <em>PgUp</em>, <em>PgDn</em> and the scroll wheel to scroll the search results
</li><li><em>CTRL-S</em> jumps to the next directory or file in the results, <em>CTRL-W</em> jumps back
</li><li><em>CTRL-T</em> toggles the split screen file viewer; option <tt>--split</tt> starts the TUI with the split screen
</li><li><em>CTRL-Y</em> displays a file in a pager
</li><li><em>CTRL-Z</em> displays help and the active search options
</li></ol>

<a name="Google">&nbsp;</a>
<h3>Googling files</h3>

<dl>
<dt>-% "foo bar"</dt>           <dd>search files for lines matching both regex patterns <tt>foo</tt> and <tt>bar</tt> anywhere on the same line</dd>
<dt>-F -% "*foo* bar?"</dt>     <dd>search files for lines matching both fixed (option <tt>-F</tt>) strings <tt>*foo*</tt> and <tt>bar?</tt> anywhere on the same line</dd>
<dt>-% "foo -bar"</dt>          <dd>search files for lines matching pattern <tt>foo</tt> that do not match <tt>bar</tt> anywhere on the same line</dd>
<dt>-% "foo bar|baz"</dt>       <dd>search files for lines matching both patterns <tt>foo</tt> and <tt>bar|baz</tt> (<tt>bar OR baz</tt>) anywhere on the same line</dd>
<dt>-% "foo -(bar|baz)"</dt>    <dd>search files for lines matching pattern <tt>foo</tt> that do not match <tt>bar|baz</tt> anywhere on the same line</dd>
<dt>-% "foo -bar -baz"</dt>     <dd>same as above (normalized form)</dd>
<dt>-% 'foo "-bar"'</dt>        <dd>search files for lines matching both patterns <tt>foo</tt> and <tt>-bar</tt>, where <tt>"-bar"</tt> is quoted to match literally "as is"</dd>
<dt>-%% "foo bar"</dt>          <dd>find files matching both patterns <tt>foo</tt> and <tt>bar</tt> anywhere in the same file (<tt>-%%</tt> is the same as <tt>--bool --files</tt>)</dd>
<dt>-%% "foo -bar"</dt>         <dd>find files matching pattern <tt>foo</tt> that do not match <tt>bar</tt> anywhere in the same file (<tt>-%%</tt> is the same as <tt>--bool --files</tt>)</dd>
</dl>

<ol>
<li>option <tt>-%</tt> can be combined with any <a href="#modes">pattern matching modes</a> <tt>-F</tt>, <tt>-G</tt>, <tt>-P</tt>, <tt>-Z</tt> and other options
</li><li>white space is a logical <tt>AND</tt> (lowest precedence)
</li><li>a <tt>|</tt> is a logical <tt>OR</tt> (taking higher precedence than <tt>AND</tt>)
</li><li>white space followed by a <tt>-</tt> is a logical <tt>NOT</tt> (taking highest precedence)
</li><li>quote strings in a pattern with <tt>"</tt> to match literally
</li><li>group patterns with <tt>( )</tt> parentheses
</li><li>the logical operators <tt>AND</tt>, <tt>OR</tt> and <tt>NOT</tt> may also be used, when spaced apart, for example <tt>-% "foo AND NOT (bar OR baz)"</tt>
</li><li>the default search mode is <tt>--lines</tt> to match lines; option <tt>--files</tt> switches the search mode to find files<!-- (also <tt>-%%</tt> specifies both options <tt>--files -%</tt> since 4.3.2) -->
</li></ol>

<a name="fuzzy">&nbsp;</a>
<h3>Fuzzy search</h3>

<dl>
<dt>-Z</dt>                     <dd>approximately match patterns up to one extra, missing or replaced character in the input</dd>
<dt>-Z2</dt>                    <dd>approximately match patterns up to two extra, missing or replaced characters in the input</dd>
<dt>-Z+2</dt>                   <dd>approximately match patterns up to two extra characters in the input</dd>
<dt>-Z-2</dt>                   <dd>approximately match patterns up to two missing characters in the input</dd>
<dt>-Z~2</dt>                   <dd>approximately match patterns up to two replaced characters in the input</dd>
<dt>-Z+-2</dt>                  <dd>approximately match patterns up to two extra or missing characters in the input</dd>
<dt>-c -Z</dt>                  <dd>count approximate matches in files</dd>
<dt>-c -Zbest2</dt>             <dd>count <tt>-Z2</tt> approximate matches in files, but only keep the best matches, i.e. if a file has at least one exact match, then only exact matches are counted</dd>
<dt>-c -Zbest2 --sort=best</dt> <dd>count the best approximate matches in files and sort by best matching files per directory</dd>
</dl>

<ol>
<li>the first character or characters that make up a pattern always match; to approximately match the first character(s), replace it with a <tt>.</tt> or <tt>.?</tt>
</li><li>no whitespace may be given between <tt>-Z</tt> and its argument
</li></ol>

<a name="zip">&nbsp;</a>
<h3>Archives and compressed files</h3>

<dl>
<dt>-z</dt>                     <dd>also search zip/tar/pax/cpio archives, tarballs and gz/Z/bz/bz2/lzma/xz/lz4/zstd/brotli compressed files</dd>
<dt>-z --zmax=2</dt>            <dd>also search archives, tarballs and compressed files stored within archives (max 2 levels)</dd>
<dt>-z -I --zmax=2</dt>         <dd>same as above, but ignore binary files and also those in (nested) archives and compressed files</dd>
<dt>-z -tc,cpp</dt>             <dd>search C and C++ source code files and also those in archives, see also <a href="#types"><tt>ug -tlist</tt></a> for a list of file types</dd>
<dt>-z -g"*.txt,*.md"</dt>      <dd>search files matching the globs <tt>*.txt</tt> and <tt>*.md</tt> and also those in archives, see also <a href="#globs"><tt>ug --help globs</tt></a></dd>
<dt>-z -g"^bak/"</dt>           <dd>exclude all <tt>bak</tt> directories from the search and skip those in archives, see also <a href="#globs"><tt>ug --help globs</tt></a></dd>
</dl>

<a name="binary">&nbsp;</a>
<h3>Binary files and devices</h3>

<dl>
<dt>-I</dt>                     <dd>ignore binary files and exclude them from searches</dd>
<dt>-W</dt>                     <dd>hexdump the binary matches, keeping text matches as is</dd>
<dt>-X</dt>                     <dd>hexdump all matches</dd>
<dt>-UX</dt>                    <dd>hexdump with 8-bit binary patterns instead of Unicode character-based patterns (option <tt>-U</tt>)</dd>
<dt>--hexdump=4a</dt>           <dd>hexdump in 4 columns and output a <tt>*</tt> for hex lines that are identical to the previous line (<tt>a</tt>)</dd>
<dt>--hexdump=4ch</dt>          <dd>hexdump in 4 columns, no character column (<tt>c</tt>), no hex spacing (<tt>h</tt>)</dd>
<dt>--hexdump=4aC3</dt>         <dd>hexdump in 4 columns with 3 hex lines of context before and after (<tt>C3</tt> or <tt>B3A3</tt>)</dd>
<dt>-Dread</dt>                 <dd>also read special devices to search them; danger: can get stuck on a non-responsive device!</dd>
</dl>

<a name="constraints">&nbsp;</a>
<h3>Exclusions and inclusions</h3>

<dl>
<dt>-I</dt>                     <dd>ignore binary files and exclude them from searches</dd>
<dt>-p</dt>                     <dd>never follow symlinks, even when specified on the command line</dd>
<dt>-r</dt>                     <dd>search recursively without following symlinks</dd>
<dt>-rS</dt>                    <dd>search recursively following symlinks to files, but not to directories (option <tt>-S</tt>)</dd>
<dt>-R</dt>                     <dd>search recursively following symlinks to files and directories</dd>
<dt>-.</dt>                     <dd>include hidden files in searches; normally, hidden files are excluded from searching</dd>
<dt>-tc,cpp</dt>                <dd>only search C and C++ source code files, see also <a href="#types"><tt>ug -tlist</tt></a> for a list of file types</dd>
<dt>-Ohpp,cpp</dt>              <dd>shorthand for <tt>-g"*.hpp,*.cpp"</tt> with filename extension globs to search <tt>.hpp</tt> and <tt>.cpp</tt> files</dd>
<dt>-g"*.hpp,*.cpp"</dt>        <dd>only search <tt>.hpp</tt> and <tt>.cpp</tt> files with the specified glob patterns, see also <a href="#globs"><tt>ug --help globs</tt></a></dd>
<dt>-g"src/"</dt>               <dd>only recursively search <tt>src</tt> directories with the specified glob pattern ending in a <tt>/</tt> for directories, see also <a href="#globs"><tt>ug --help globs</tt></a></dd>
<dt>-g"^*.txt,^bak/"</dt>       <dd>do not search <tt>.txt</tt> files and <tt>bak</tt> directories with the specified negated glob patterns, see also <a href="#globs"><tt>ug --help globs</tt></a></dd>
<dt>--iglob="^*.txt,^bak/"</dt> <dd>same as above, but with case-insensitive glob matching (option <tt>--glob-ignore-case</tt> applies to all globs)</dd>
<dt>-K10,99</dt>                <dd>only search files from line 10 up to and including line 99</dd>
<dt>-m1</dt>                    <dd>output only the first matching line</dd>
<dt>-m2,9</dt>                  <dd>only search files with at least two matching lines and output up to and including 9 matching lines</dd>
<dt>-m2,9 -u</dt>               <dd>only search files with at least two matches and output up to and including 9 matches</dd>
<dt>-3</dt>                     <dd>recursively search up to three directory levels deep, i.e. <tt><i>one/</i></tt>, <tt><i>one/two/</i></tt>, and <tt><i>one/two/three/</i></tt></dd>
<dt>-2-3</dt>                   <dd>only recursively search sub-directories at two to three levels deep, i.e. <tt><i>one/two/</i></tt>, and <tt><i>one/two/three/</i></tt></dd>
<dt>--ignore-files</dt>         <dd>obey .gitignore file exclusions in recursive searches</dd>
<dt>--exclude-fs=<i>PATH</i></dt>
                                <dd>do not search the file system associated with <tt><i>PATH</i></tt> (a mounted directory or mount point)</dd>
<dt>--include-fs=.</dt>         <dd>only search the file system associated with <tt>.</tt> (here the working directory is the mount point <tt><i>PATH</i></tt>)</dd>
<dt>--exclude-from=<i>FILE</i></dt>
                                <dd>do not search the files and directories specified as globs in <tt><i>FILE</i></tt>, see also <a href="#globs"><tt>ug --help globs</tt></a></dd>
<dt>--include-from=<i>FILE</i></dt>
                                <dd>only search the files and directories specified as globs in <tt><i>FILE</i></tt>, see also <a href="#globs"><tt>ug --help globs</tt></a></dd>
<dt>--filter=<i>"COMMANDS"</i></dt>
                                <dd>filter files first before searching them by executing a utility on a file based on its type, see also <a href="#filter"><tt>ug --help filter</tt></a></dd>
</dl>

<ol>
<li>to disable searching binary files by default, add <tt>ignore-binary</tt> to your ~/.ugrep file
</li><li>to obey .gitignore file exclusions in recursive searches by default, add <tt>ignore-files</tt> to your ~/.ugrep file
</li></ol>

<a name="formatting">&nbsp;</a>
<h3>Formatted output</h3>

<dl>
<dt>--csv</dt>                  <dd>CSV output format</dd>
<dt>--json</dt>                 <dd>JSON output format</dd>
<dt>--xml</dt>                  <dd>XML output format</dd>
<dt>--format=<i>"FORMAT"</i></dt>
                                <dd>custom output formatting, see also <a href="#format"><tt>ug --help format</tt></a></dd>
</dl>

<ol>
<li>formatting can be combined with other options, such as <tt>-n</tt> to include line numbers
</li></ol>

<a name="pretty">&nbsp;</a>
<h3>Pretty things, more or less</h3>

<dl>
<dt>--pretty</dt>               <dd>enable <tt>-n</tt>, <tt>-T</tt>, <tt>--color</tt>, <tt>--tree</tt>, <tt>--heading</tt>, <tt>--break</tt> and <tt>--sort</tt> when output is sent to a terminal</dd>
<dt>--tree</dt>                 <dd>list files in a directory tree for options <tt>-l</tt> and <tt>-c</tt></dd>
<dt>--heading</dt>              <dd>output the file name as a heading of a matching file</dd>
<dt>--break</dt>                <dd>output an empty line between matching files</dd>
<dt>-T</dt>                     <dd>tabulate line and column numbers to add spacing</dd>
<dt>--color</dt>                <dd>colorize the output when displayed on a terminal (default)</dd>
<dt>--colors=<i>COLORS</i></dt> <dd>specify a color pallette <tt><i>COLORS</i></tt>, see also <a href="#colors"><tt>ug --help colors</tt></a></dd>
<dt>--hyperlink=+</dt>          <dd>embeds hyperlinks in the output when sent to a terminal, with linked line/column numbers when <tt>=+</tt> is specified</dd>
<dt>--pager</dt>                <dd>output to a pager, default is <tt>more</tt> or <tt>less</tt></dd>
<dt>--pager=<i>COMMAND</i></dt> <dd>output to <tt><i>COMMAND</i></tt> as a pager</dd>
<dt>--tag</dt>                  <dd>output matches as <tt>___<i>match</i>___</tt> instead of colorizing them, where <tt>--tag=<i>TAG,TAG</i></tt> outputs <tt><i>TAGmatchTAG</i></tt></dd>
<dt>--replace=<i>"FORMAT"</i></dt>
                                <dd>replace matches in the output by <tt><i>FORMAT</i></tt>, see also <a href="#format"><tt>ug --help format</tt></a>
</dd><dt>--separator=<i>SEP</i></dt> <dd>specify <i>SEP</i> to separate line and column numbers from the match</dd>
<dt>--group-separator=<i>SEP</i></dt>
                                <dd>specify <i>SEP</i> to separate context for options <tt>-ABC</tt></dd>
</dl>

<ol>
<li><code>ug</code> enables <tt>--pretty</tt> and <tt>--sort</tt> by default
</li><li><code>ugrep</code> only enables <tt>--color</tt> by default
</li></ol>

<a name="help">&nbsp;</a>
<h3>Getting help</h3>

<dl>
<dt>--help <i>WHAT</i></dt>     <dd>display help on <tt><i>WHAT</i></tt> you are looking for</dd>
<dt>--help count</dt>           <dd>display help on option <tt>-c</tt> (<tt>--count</tt>) and <tt>-m [MIN,][MAX]</tt> (<tt>--min-count=MIN</tt>, <tt>--max-count=MAX</tt>)</dd>
<dt>--help regex</dt>           <dd>display help with details on regex patterns</dd>
<dt>--help globs</dt>           <dd>display help with details on glob patterns, e.g. for option <tt>-g</tt></dd>
</dl>

<a name="regex">&nbsp;</a>
<h2>Regex</h2>

<center>

<div>
<table>
<tbody><tr><td><tt>.      </tt></td><td>any character except <tt>\n</tt></td></tr>
<tr><td><tt>a      </tt></td><td>the character <tt>a</tt></td></tr>
<tr><td><tt>ab     </tt></td><td>the string <tt>ab</tt></td></tr>
<tr><td><tt>a|b    </tt></td><td><tt>a</tt> or <tt>b</tt></td></tr>
<tr><td><tt>a*     </tt></td><td>zero or more <tt>a</tt>'s</td></tr>
<tr><td><tt>a+     </tt></td><td>one or more <tt>a</tt>'s</td></tr>
<tr><td><tt>a?     </tt></td><td>zero or one <tt>a</tt></td></tr>
<tr><td><tt>a{3}   </tt></td><td>3 <tt>a</tt>'s</td></tr>
<tr><td><tt>a{3,}  </tt></td><td>3 or more <tt>a</tt>'s</td></tr>
<tr><td><tt>a{3,7} </tt></td><td>3 to 7 <tt>a</tt>'s</td></tr>
<tr><td><tt>a*?    </tt></td><td>zero or more <tt>a</tt>'s lazily</td></tr>
<tr><td><tt>a+?    </tt></td><td>one or more <tt>a</tt>'s lazily</td></tr>
<tr><td><tt>a??    </tt></td><td>zero or one <tt>a</tt> lazily</td></tr>
<tr><td><tt>a{3}?  </tt></td><td>3 <tt>a</tt>'s lazily</td></tr>
<tr><td><tt>a{3,}? </tt></td><td>3 or more <tt>a</tt>'s lazily</td></tr>
<tr><td><tt>a{3,7}?</tt></td><td>3 to 7 <tt>a</tt>'s lazily</td></tr>
<tr><td><tt>\.             </tt></td><td>escapes <tt>.</tt> to match <tt>.</tt></td></tr>
<tr><td><tt>\Q...\E        </tt></td><td>the literal string <tt>...</tt></td></tr>
<tr><td><tt>\f             </tt></td><td>form feed</td></tr>
<tr><td><tt>\n             </tt></td><td>newline</td></tr>
<tr><td><tt>\r             </tt></td><td>carriage return</td></tr>
<tr><td><tt>\R             </tt></td><td>any Unicode line break</td></tr>
<tr><td><tt>\t             </tt></td><td>tab</td></tr>
<tr><td><tt>\v             </tt></td><td>vertical tab</td></tr>
<tr><td><tt>\X             </tt></td><td>any character and <tt>\n</tt></td></tr>
<tr><td><tt>\c<i>Z</i>     </tt></td><td>control character <tt>^<i>Z</i></tt></td></tr>
<tr><td><tt>\0             </tt></td><td>NUL</td></tr>
<tr><td><tt>\0<i>ddd</i>   </tt></td><td>octal character code <tt><i>ddd</i></tt></td></tr>
<tr><td><tt>\x<i>hh</i>    </tt></td><td>hex character code <tt><i>hh</i></tt></td></tr>
<tr><td><tt>\x{<i>hhhh</i>}</tt></td><td>Unicode code point U+<tt><i>hhhh</i></tt></td></tr>
<tr><td><tt>\u{<i>hhhh</i>}</tt></td><td>Unicode code point U+<tt><i>hhhh</i></tt></td></tr>
</tbody></table>
</div>

<div>
<table>
<tbody><tr><td><tt>[abc-e]         </tt></td><td>one character <tt>a</tt>,<tt>b</tt>,<tt>c</tt>,<tt>d</tt>,<tt>e</tt></td></tr>
<tr><td><tt>[^abc-e]        </tt></td><td>one char not <tt>a</tt>,<tt>b</tt>,<tt>c</tt>,<tt>d</tt>,<tt>e</tt>,<tt>\n</tt></td></tr>
<tr><td><tt>[[:alnum:]]     </tt></td><td><tt>a</tt>-<tt>z</tt>,<tt>A</tt>-<tt>Z</tt>,<tt>0</tt>-<tt>9</tt></td></tr>
<tr><td><tt>[[:alpha:]]     </tt></td><td><tt>a</tt>-<tt>z</tt>,<tt>A</tt>-<tt>Z</tt></td></tr>
<tr><td><tt>[[:ascii:]]     </tt></td><td>ASCII char <tt>\x00</tt>-<tt>\x7f</tt></td></tr>
<tr><td><tt>[[:blank:]]     </tt></td><td>space or tab</td></tr>
<tr><td><tt>[[:cntrl:]]     </tt></td><td>control characters</td></tr>
<tr><td><tt>[[:digit:]]     </tt></td><td><tt>0</tt>-<tt>9</tt></td></tr>
<tr><td><tt>[[:graph:]]     </tt></td><td>visible characters</td></tr>
<tr><td><tt>[[:lower:]]     </tt></td><td><tt>a</tt>-<tt>z</tt></td></tr>
<tr><td><tt>[[:print:]]     </tt></td><td>visible chars and space</td></tr>
<tr><td><tt>[[:punct:]]     </tt></td><td>punctuation characters</td></tr>
<tr><td><tt>[[:space:]]     </tt></td><td>space,<tt>\t,<tt>\v,<tt>\f,<tt>\r</tt></tt></tt></tt></td></tr>
<tr><td><tt>[[:upper:]]     </tt></td><td><tt>A</tt>-<tt>Z</tt></td></tr>
<tr><td><tt>[[:word:]]      </tt></td><td><tt>a</tt>-<tt>z</tt>,<tt>A</tt>-<tt>Z</tt>,<tt>0</tt>-<tt>9</tt>,<tt>_</tt></td></tr>
<tr><td><tt>[[:xdigit:]]    </tt></td><td><tt>0</tt>-<tt>9</tt>,<tt>a</tt>-<tt>f</tt>,<tt>A</tt>-<tt>F</tt></td></tr>
<tr><td><tt>\p{<i>Class</i>}</tt></td><td>one character in <tt><i>Class</i></tt></td></tr>
<tr><td><tt>\P{<i>Class</i>}</tt></td><td>one char not in <tt><i>Class</i></tt></td></tr>
<tr><td><tt>\d              </tt></td><td>a digit</td></tr>
<tr><td><tt>\D              </tt></td><td>a non-digit</td></tr>
<tr><td><tt>\h              </tt></td><td>a space or tab</td></tr>
<tr><td><tt>\H              </tt></td><td>not a space or tab</td></tr>
<tr><td><tt>\s              </tt></td><td>a whitespace except <tt>\n</tt></td></tr>
<tr><td><tt>\S              </tt></td><td>a non-whitespace</td></tr>
<tr><td><tt>\w              </tt></td><td>a word character</td></tr>
<tr><td><tt>\W              </tt></td><td>a non-word character</td></tr>
</tbody></table>
</div>

<div>
<table>
<tbody><tr><td><tt>^          </tt></td><td>begin of line anchor</td></tr>
<tr><td><tt>$          </tt></td><td>end of line anchor</td></tr>
<tr><td><tt>\b         </tt></td><td>word boundary</td></tr>
<tr><td><tt>\B         </tt></td><td>non-word boundary</td></tr>
<tr><td><tt>\&lt;      </tt></td><td>start of word boundary</td></tr>
<tr><td><tt>\&gt;      </tt></td><td>end of word boundary</td></tr>
<tr><td><tt>(?=...)    </tt></td><td>lookahead (<tt>-P</tt>)</td></tr>
<tr><td><tt>(?!...)    </tt></td><td>negative lookahead (<tt>-P</tt>)</td></tr>
<tr><td><tt>(?&lt;=...)</tt></td><td>lookbehind (<tt>-P</tt>)</td></tr>
<tr><td><tt>(?&lt;!...)</tt></td><td>negative lookbehind (<tt>-P</tt>)</td></tr>
<tr><td><tt>(...)                 </tt></td><td>capturing group (<tt>-P</tt>)</td></tr>
<tr><td><tt>(...)                 </tt></td><td>non-capturing group</td></tr>
<tr><td><tt>(?:...)               </tt></td><td>non-capturing group</td></tr>
<tr><td><tt>(?&lt;<i>X</i>&gt;...)</tt></td><td>capturing, named <tt><i>X</i></tt> (<tt>-P</tt>)</td></tr>
<tr><td><tt>\1                    </tt></td><td>matches group 1 (<tt>-P</tt>)</td></tr>
<tr><td><tt>\g{10}                </tt></td><td>matches group 10 (<tt>-P</tt>)</td></tr>
<tr><td><tt>\g{<i>X</i>}          </tt></td><td>matches group name <i>X</i> (<tt>-P</tt>)</td></tr>
<tr><td><tt>(?#...)               </tt></td><td>comments <tt>...</tt> are ignored</td></tr>
</tbody></table>
</div>

</center>

<ol>
<li>(<tt>-P</tt>): this pattern requires option <tt>-P</tt> for PCRE (Perl regular expressions)
</li><li>ERE (Extended Regular Expression) syntax is the default regex pattern syntax (shown)
</li><li>BRE (Basic Regular Expression) syntax with option <tt>-G</tt> replaces <tt>|</tt> with <tt>\|</tt>, <tt>+</tt> with <tt>\+</tt>, <tt>?</tt> with <tt>\?</tt>, <tt>( )</tt> with <tt>\( \)</tt>, and <tt>{ }</tt> with <tt>\{ \}</tt>
</li></ol>

<a name="globs">&nbsp;</a>
<h2>Globs</h2>

<p>Ugrep supports gitignore-style globbing for all glob-related options <tt>-g</tt>, <tt>--iglob=</tt>, <tt>--exclude=</tt>, <tt>--include=</tt>, <tt>-include-dir=</tt>, <tt>--exclude-dir=</tt>, <tt>--include-from=</tt>, <tt>--exclude-from=</tt>, and <tt>--ignore-files</tt>, where

</p><table>
<tbody><tr><td><tt>*       </tt></td><td>matches anything except <tt>/</tt></td></tr>
<tr><td><tt>?       </tt></td><td>matches any one character except <tt>/</tt></td></tr>
<tr><td><tt>[abc-e] </tt></td><td>matches one character <tt>a</tt>,<tt>b</tt>,<tt>c</tt>,<tt>d</tt>,<tt>e</tt></td></tr>
<tr><td><tt>[^abc-e]</tt></td><td>matches one character not <tt>a</tt>,<tt>b</tt>,<tt>c</tt>,<tt>d</tt>,<tt>e</tt>,<tt>/</tt></td></tr>
<tr><td><tt>[!abc-e]</tt></td><td>matches one character not <tt>a</tt>,<tt>b</tt>,<tt>c</tt>,<tt>d</tt>,<tt>e</tt>,<tt>/</tt></td></tr>
<tr><td><tt>/       </tt></td><td>when used at the start of a glob, matches the working directory</td></tr>
<tr><td><tt>**/     </tt></td><td>matches zero or more directories</td></tr>
<tr><td><tt>/**     </tt></td><td>when at the end of a glob, matches everything after the <tt>/</tt></td></tr>
<tr><td><tt>\?      </tt></td><td>matches a <tt>?</tt> or any other character specified after the backslash</td></tr>
</tbody></table>

<ol>
<li>when a glob pattern is used with a command-line option such as <tt>-g"*.cpp"</tt>, you must quote the glob <tt>"*.cpp"</tt> to prevent the shell from expanding the glob
</li><li>a glob pattern starting with a <tt>^</tt> or a <tt>!</tt> inverts the matching: instead of matching a filename or directory name, the directory or file is ignored and excluded from the search
</li><li>when a glob pattern contains a <tt>/</tt>, the full pathname is matched, otherwise, the basename of a file or directory is matched in recursive searches
</li><li>when a glob pattern starts with a <tt>/</tt>, the glob matches files and directories from the working directory path, not recursively
</li><li>when a glob pattern ends with a <tt>/</tt>, the glob matches directories, not files
</li></ol>

<a name="types">&nbsp;</a>
<h2>File types</h2>

<p>The <tt>-t</tt> argument is a comma-separated list of file types.  A file type matches one or more filename extensions, internally using option <tt>-O</tt> for filename extension matching.  For capitalized file types, the search is expanded to include files with matching file signature magic bytes, internally using option <tt>-M</tt>.  When a type is preceded by a <tt>!</tt> or a <tt>^</tt>, excludes files of the specified type.

</p><table>
<tbody><tr><td><tt>actionscript</tt></td><td>=</td><td><tt>-O as,mxml</tt></td></tr>
<tr><td><tt>         ada</tt></td><td>=</td><td><tt>-O ada,adb,ads</tt></td></tr>
<tr><td><tt>         asm</tt></td><td>=</td><td><tt>-O asm,s,S</tt></td></tr>
<tr><td><tt>         asp</tt></td><td>=</td><td><tt>-O asp</tt></td></tr>
<tr><td><tt>        aspx</tt></td><td>=</td><td><tt>-O master,ascx,asmx,aspx,svc</tt></td></tr>
<tr><td><tt>    autoconf</tt></td><td>=</td><td><tt>-O ac,in</tt></td></tr>
<tr><td><tt>    automake</tt></td><td>=</td><td><tt>-O am,in</tt></td></tr>
<tr><td><tt>         awk</tt></td><td>=</td><td><tt>-O awk</tt></td></tr>
<tr><td><tt>         Awk</tt></td><td>=</td><td><tt>-O awk</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '#!\h*/.*\Wg?awk(\W.*)?\n'</tt></td></tr>
<tr><td><tt>       basic</tt></td><td>=</td><td><tt>-O bas,BAS,cls,frm,ctl,vb,resx</tt></td></tr>
<tr><td><tt>       batch</tt></td><td>=</td><td><tt>-O bat,BAT,cmd,CMD</tt></td></tr>
<tr><td><tt>       bison</tt></td><td>=</td><td><tt>-O y,yy,ymm,ypp,yxx</tt></td></tr>
<tr><td><tt>           c</tt></td><td>=</td><td><tt>-O c,h,H,hdl,xs</tt></td></tr>
<tr><td><tt>         c++</tt></td><td>=</td><td><tt>-O cpp,CPP,cc,cxx,CXX,h,hh,H,hpp,hxx,Hxx,HXX</tt></td></tr>
<tr><td><tt>     clojure</tt></td><td>=</td><td><tt>-O clj</tt></td></tr>
<tr><td><tt>         cpp</tt></td><td>=</td><td><tt>-O cpp,CPP,cc,cxx,CXX,h,hh,H,hpp,hxx,Hxx,HXX</tt></td></tr>
<tr><td><tt>      csharp</tt></td><td>=</td><td><tt>-O cs</tt></td></tr>
<tr><td><tt>         css</tt></td><td>=</td><td><tt>-O css</tt></td></tr>
<tr><td><tt>         csv</tt></td><td>=</td><td><tt>-O csv</tt></td></tr>
<tr><td><tt>        dart</tt></td><td>=</td><td><tt>-O dart</tt></td></tr>
<tr><td><tt>        Dart</tt></td><td>=</td><td><tt>-O dart</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '#!\h*/.*\Wdart(\W.*)?\n'</tt></td></tr>
<tr><td><tt>      delphi</tt></td><td>=</td><td><tt>-O pas,int,dfm,nfm,dof,dpk,dproj,groupproj,bdsgroup,bdsproj</tt></td></tr>
<tr><td><tt>       elisp</tt></td><td>=</td><td><tt>-O el</tt></td></tr>
<tr><td><tt>      elixir</tt></td><td>=</td><td><tt>-O ex,exs</tt></td></tr>
<tr><td><tt>      erlang</tt></td><td>=</td><td><tt>-O erl,hrl</tt></td></tr>
<tr><td><tt>     fortran</tt></td><td>=</td><td><tt>-O for,ftn,fpp,f,F,f77,F77,f90,F90,f95,F95,f03,F03</tt></td></tr>
<tr><td><tt>         gif</tt></td><td>=</td><td><tt>-O gif</tt></td></tr>
<tr><td><tt>         Gif</tt></td><td>=</td><td><tt>-O gif</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M 'GIF87a|GIF89a'</tt></td></tr>
<tr><td><tt>          go</tt></td><td>=</td><td><tt>-O go</tt></td></tr>
<tr><td><tt>      groovy</tt></td><td>=</td><td><tt>-O groovy,gtmpl,gpp,grunit,gradle</tt></td></tr>
<tr><td><tt>         gsp</tt></td><td>=</td><td><tt>-O gsp</tt></td></tr>
<tr><td><tt>     haskell</tt></td><td>=</td><td><tt>-O hs,lhs</tt></td></tr>
<tr><td><tt>        html</tt></td><td>=</td><td><tt>-O htm,html,xhtml</tt></td></tr>
<tr><td><tt>        jade</tt></td><td>=</td><td><tt>-O jade</tt></td></tr>
<tr><td><tt>        java</tt></td><td>=</td><td><tt>-O java,properties</tt></td></tr>
<tr><td><tt>        jpeg</tt></td><td>=</td><td><tt>-O jpg,jpeg</tt></td></tr>
<tr><td><tt>        Jpeg</tt></td><td>=</td><td><tt>-O jpg,jpeg</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '\xff\xd8\xff[\xdb\xe0\xe1\xee]'</tt></td></tr>
<tr><td><tt>          js</tt></td><td>=</td><td><tt>-O js</tt></td></tr>
<tr><td><tt>        json</tt></td><td>=</td><td><tt>-O json</tt></td></tr>
<tr><td><tt>         jsp</tt></td><td>=</td><td><tt>-O jsp,jspx,jthm,jhtml</tt></td></tr>
<tr><td><tt>       julia</tt></td><td>=</td><td><tt>-O jl</tt></td></tr>
<tr><td><tt>      kotlin</tt></td><td>=</td><td><tt>-O kt,kts</tt></td></tr>
<tr><td><tt>        less</tt></td><td>=</td><td><tt>-O less</tt></td></tr>
<tr><td><tt>         lex</tt></td><td>=</td><td><tt>-O l,ll,lmm,lpp,lxx</tt></td></tr>
<tr><td><tt>        lisp</tt></td><td>=</td><td><tt>-O lisp,lsp</tt></td></tr>
<tr><td><tt>         lua</tt></td><td>=</td><td><tt>-O lua</tt></td></tr>
<tr><td><tt>          m4</tt></td><td>=</td><td><tt>-O m4</tt></td></tr>
<tr><td><tt>        make</tt></td><td>=</td><td><tt>-O mk,mak</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-g makefile,Makefile,Makefile.Debug,Makefile.Release</tt></td></tr>
<tr><td><tt>    markdown</tt></td><td>=</td><td><tt>-O md</tt></td></tr>
<tr><td><tt>      matlab</tt></td><td>=</td><td><tt>-O m</tt></td></tr>
<tr><td><tt>        node</tt></td><td>=</td><td><tt>-O js</tt></td></tr>
<tr><td><tt>        Node</tt></td><td>=</td><td><tt>-O js</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '#!\h*/.*\Wnode(\W.*)?\n'</tt></td></tr>
<tr><td><tt>        objc</tt></td><td>=</td><td><tt>-O m,h</tt></td></tr>
<tr><td><tt>      objc++</tt></td><td>=</td><td><tt>-O mm,h</tt></td></tr>
<tr><td><tt>       ocaml</tt></td><td>=</td><td><tt>-O ml,mli,mll,mly</tt></td></tr>
<tr><td><tt>      parrot</tt></td><td>=</td><td><tt>-O pir,pasm,pmc,ops,pod,pg,tg</tt></td></tr>
<tr><td><tt>      pascal</tt></td><td>=</td><td><tt>-O pas,pp</tt></td></tr>
<tr><td><tt>         pdf</tt></td><td>=</td><td><tt>-O pdf</tt></td></tr>
<tr><td><tt>         Pdf</tt></td><td>=</td><td><tt>-O pdf</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '\x25\x50\x44\x46\x2d'</tt></td></tr>
<tr><td><tt>        perl</tt></td><td>=</td><td><tt>-O pl,PL,pm,pod,t,psgi
</tt></td></tr><tr><td><tt>        Perl</tt></td><td>=</td><td><tt>-O pl,PL,pm,pod,t,psgi</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '#!\h*/.*\Wperl(\W.*)?\n'</tt></td></tr>
<tr><td><tt>         php</tt></td><td>=</td><td><tt>-O php,php3,php4,phtml</tt></td></tr>
<tr><td><tt>         Php</tt></td><td>=</td><td><tt>-O php,php3,php4,phtml</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '#!\h*/.*\Wphp(\W.*)?\n'</tt></td></tr>
<tr><td><tt>         png</tt></td><td>=</td><td><tt>-O png</tt></td></tr>
<tr><td><tt>         Png</tt></td><td>=</td><td><tt>-O png</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '\x89PNG\x0d\x0a\x1a\x0a'</tt></td></tr>
<tr><td><tt>      prolog</tt></td><td>=</td><td><tt>-O pl,pro</tt></td></tr>
<tr><td><tt>      python</tt></td><td>=</td><td><tt>-O py</tt></td></tr>
<tr><td><tt>      Python</tt></td><td>=</td><td><tt>-O py</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '#!\h*/.*\Wpython[23]?(\W.*)?\n'</tt></td></tr>
<tr><td><tt>           r</tt></td><td>=</td><td><tt>-O R</tt></td></tr>
<tr><td><tt>         rpm</tt></td><td>=</td><td><tt>-O rpm</tt></td></tr>
<tr><td><tt>         Rpm</tt></td><td>=</td><td><tt>-O rpm</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '\xed\xab\xee\xdb'</tt></td></tr>
<tr><td><tt>         rst</tt></td><td>=</td><td><tt>-O rst</tt></td></tr>
<tr><td><tt>         rtf</tt></td><td>=</td><td><tt>-O rtf</tt></td></tr>
<tr><td><tt>         Rtf</tt></td><td>=</td><td><tt>-O rtf</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '\{\rtf1'</tt></td></tr>
<tr><td><tt>        ruby</tt></td><td>=</td><td><tt>-O rb,rhtml,rjs,rxml,erb,rake,spec</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-g Rakefile</tt></td></tr>
<tr><td><tt>        Ruby</tt></td><td>=</td><td><tt>-O rb,rhtml,rjs,rxml,erb,rake,spec</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-g Rakefile</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '#!\h*/.*\Wruby(\W.*)?\n'</tt></td></tr>
<tr><td><tt>        rust</tt></td><td>=</td><td><tt>-O rs</tt></td></tr>
<tr><td><tt>       scala</tt></td><td>=</td><td><tt>-O scala</tt></td></tr>
<tr><td><tt>      scheme</tt></td><td>=</td><td><tt>-O scm,ss</tt></td></tr>
<tr><td><tt>       shell</tt></td><td>=</td><td><tt>-O sh,bash,dash,csh,tcsh,ksh,zsh,fish</tt></td></tr>
<tr><td><tt>       Shell</tt></td><td>=</td><td><tt>-O sh,bash,dash,csh,tcsh,ksh,zsh,fish</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '#!\h*/.*\W(ba|da|t?c|k|z|fi)?sh(\W.*)?\n'</tt></td></tr>
<tr><td><tt>   smalltalk</tt></td><td>=</td><td><tt>-O st</tt></td></tr>
<tr><td><tt>         sql</tt></td><td>=</td><td><tt>-O sql,ctl</tt></td></tr>
<tr><td><tt>         svg</tt></td><td>=</td><td><tt>-O svg</tt></td></tr>
<tr><td><tt>       swift</tt></td><td>=</td><td><tt>-O swift</tt></td></tr>
<tr><td><tt>         tcl</tt></td><td>=</td><td><tt>-O tcl,itcl,itk</tt></td></tr>
<tr><td><tt>         tex</tt></td><td>=</td><td><tt>-O tex,cls,sty,bib</tt></td></tr>
<tr><td><tt>        text</tt></td><td>=</td><td><tt>-O text,txt,TXT,md,rst</tt></td></tr>
<tr><td><tt>        tiff</tt></td><td>=</td><td><tt>-O tif,tiff</tt></td></tr>
<tr><td><tt>        Tiff</tt></td><td>=</td><td><tt>-O tif,tiff</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '\x49\x49\x2a\x00|\x4d\x4d\x00\x2a'</tt></td></tr>
<tr><td><tt>          tt</tt></td><td>=</td><td><tt>-O tt,tt2,ttml</tt></td></tr>
<tr><td><tt>  typescript</tt></td><td>=</td><td><tt>-O ts,tsx</tt></td></tr>
<tr><td><tt>     verilog</tt></td><td>=</td><td><tt>-O v,vh,sv</tt></td></tr>
<tr><td><tt>        vhdl</tt></td><td>=</td><td><tt>-O vhd,vhdl</tt></td></tr>
<tr><td><tt>         vim</tt></td><td>=</td><td><tt>-O vim</tt></td></tr>
<tr><td><tt>         xml</tt></td><td>=</td><td><tt>-O xml,xsd,xsl,xslt,wsdl,rss,svg,ent,plist</tt></td></tr>
<tr><td><tt>         Xml</tt></td><td>=</td><td><tt>-O xml,xsd,xsl,xslt,wsdl,rss,svg,ent,plist</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M '&lt;\?xml '</tt></td></tr>
<tr><td><tt>        yacc</tt></td><td>=</td><td><tt>-O y</tt></td></tr>
<tr><td><tt>        yaml</tt></td><td>=</td><td><tt>-O yaml,yml</tt></td></tr>
<tr><td><tt>         zig</tt></td><td>=</td><td><tt>-O zig,zon</tt></td></tr>
</tbody></table>

<a name="filter">&nbsp;</a>
<h2>Filters</h2>

<p>A filter utility is associated with one or more filename extensions using the syntax <tt>--filter="ext1,ext2,ext3:command"</tt>.  Options to the specified <tt>command</tt> may be included.  The special option <tt>%</tt> is expanded into the pathname of the file to search.  Filters are applied first when the filename extension matches one of the specified filters, then the output of the filter is searched.  Some examples:

</p><dl>
<dt>--filter="7z:7z x -so %" -W</dt>
                                <dd>search 7zip files as one piece; specify option <tt>-W</tt> to permit binaries in the archive</dd>
<dt>--filter="pdf:pdftotext % -"</dt>
                                <dd>search PDF files, like <code>ug+</code></dd>
<dt>--filter="doc:antiword %"</dt>
                                <dd>search documents, like <code>ug+</code></dd>
<dt>--filter="odt,docx,epub,rtf:pandoc --wrap=preserve -t plain % -o -"</dt>
                                <dd>search documents and e-books, like <code>ug+</code></dd>
<dt>--filter="gif,jpg,jpeg,mpg,mpeg,png,tiff:exiftool %"</dt>
                                <dd>search image metadata, like <code>ug+</code></dd>
<dt>--filter="odt,doc,docx,rtf,xls,xlsx,ppt,pptx:soffice --headless --cat %"</dt>
                                <dd>search documents, spreadsheets and presentations (this is slow)</dd>
<dt>--filter="pem:openssl x509 -text,cer,crt,der:openssl x509 -text -inform der"</dt>
                                <dd>search certificates</dd>
<dt>--filter="jis:iconv -f SHIFT-JIS -t UTF-8"</dt>
                                <dd>search <tt>.jis</tt> files encoded in Shift-JIS format converted to UTF-8</dd>
</dl>

<ol>
<li>a filter utility should be a command or a script that produces standard output (to search)
</li><li>instead of a filename extension alone, it is also possible to specify a file's "magic bytes" regex pattern with <tt>--filter-magic-label=<i>"LABEL:MAGIC"</i></tt> to associate the <tt><i>MAGIC</i></tt> regex pattern when found at the start of a file with a <tt><i>LABEL</i></tt> to be used as a filename extension in a <tt>--filter="<i>LABEL</i>:command"</tt>
</li><li>UTF-8, UTF-16 and UTF-32 input is automatically searched and does not require a filter
</li><li>the Shift-JIS conversion in the example is a special case, option <tt>--encoding=</tt> supports the arguments
  <tt>binary</tt>, <tt>ASCII</tt>, <tt>UTF-8</tt>, <tt>UTF-16</tt>, <tt>UTF-16BE</tt>,
  <tt>UTF-16LE</tt>, <tt>UTF-32</tt>, <tt>UTF-32BE</tt>, <tt>UTF-32LE</tt>, <tt>LATIN1</tt>,
  <tt>ISO-8859-1</tt>, <tt>ISO-8859-2</tt>, <tt>ISO-8859-3</tt>, <tt>ISO-8859-4</tt>,
  <tt>ISO-8859-5</tt>, <tt>ISO-8859-6</tt>, <tt>ISO-8859-7</tt>, <tt>ISO-8859-8</tt>,
  <tt>ISO-8859-9</tt>, <tt>ISO-8859-10</tt>, <tt>ISO-8859-11</tt>, <tt>ISO-8859-13</tt>,
  <tt>ISO-8859-14</tt>, <tt>ISO-8859-15</tt>, <tt>ISO-8859-16</tt>, <tt>MAC</tt>, <tt>MACROMAN</tt>,
  <tt>EBCDIC</tt>, <tt>CP437</tt>, <tt>CP850</tt>, <tt>CP858</tt>, <tt>CP1250</tt>, <tt>CP1251</tt>, <tt>CP1252</tt>,
  <tt>CP1253</tt>, <tt>CP1254</tt>, <tt>CP1255</tt>, <tt>CP1256</tt>, <tt>CP1257</tt>, <tt>CP1258</tt>,
  <tt>KOI8-R</tt>, <tt>KOI8-U</tt>, <tt>KOI8-RU</tt>
</li></ol>

<a name="colors">&nbsp;</a>
<h2>Colors</h2>

<p>The <tt>--colors=</tt> argument is a colon-separated list of parameters, such as <tt>--colors=sl=hy:mt=hyB</tt>, where

</p><table>
<tbody><tr><td><tt>sl=</tt></td><td>selected lines</td></tr>
<tr><td><tt>cx=</tt></td><td>context lines</td></tr>
<tr><td><tt>rv </tt></td><td>swaps the <tt>sl=</tt> and <tt>cx=</tt> capabilities when <tt>-v</tt> is specified</td></tr>
<tr><td><tt>mt=</tt></td><td>matching text in any matching line</td></tr>
<tr><td><tt>ms=</tt></td><td>matching text in a selected line, the substring <tt>mt=</tt> by default</td></tr>
<tr><td><tt>mc=</tt></td><td>matching text in a context line, the substring <tt>mt=</tt> by default</td></tr>
<tr><td><tt>fn=</tt></td><td>file names</td></tr>
<tr><td><tt>ln=</tt></td><td>line numbers</td></tr>
<tr><td><tt>cn=</tt></td><td>column numbers</td></tr>
<tr><td><tt>bn=</tt></td><td>byte offsets</td></tr>
<tr><td><tt>se=</tt></td><td>separators</td></tr>
<tr><td><tt>hl </tt></td><td>hyperlink file names, same as <tt>--hyperlink</tt></td></tr>
<tr><td><tt>qp=</tt></td><td>TUI prompt</td></tr>
<tr><td><tt>qe=</tt></td><td>TUI errors</td></tr>
<tr><td><tt>qr=</tt></td><td>TUI regex</td></tr>
<tr><td><tt>qm=</tt></td><td>TUI regex meta characters</td></tr>
<tr><td><tt>ql=</tt></td><td>TUI regex lists and literals</td></tr>
<tr><td><tt>qb=</tt></td><td>TUI regex braces</td></tr>
</tbody></table>

<p>Multiple <a target="_blank" href="https://en.wikipedia.org/wiki/ANSI_escape_code#SGR_(Select_Graphic_Rendition)_parameters">SGR codes</a> may be specified for a single parameter when separated by a semicolon, for example <tt>--colors="mt=1;31"</tt> specifies bright red.  For quick and easy color specification, the corresponding single-letter color names may be used in place of numeric SGR codes and semicolons are not required to separate color names, for example <tt>--colors=mt=hr</tt> specifies bright red.  Color letters and numeric codes may be mixed.  The following SGR codes have corresponding letter designations:

</p><table>
<tbody><tr><td>0   </td><td><tt>n</tt></td><td>normal font and color     </td><td>2   </td><td><tt>f </tt></td><td>faint (not widely supported)</td></tr>
<tr><td>1   </td><td><tt>h</tt></td><td>highlighted bold font     </td><td>21  </td><td><tt>H </tt></td><td>highlighted bold off</td></tr>
<tr><td>4   </td><td><tt>u</tt></td><td>underline                 </td><td>24  </td><td><tt>U </tt></td><td>underline off</td></tr>
<tr><td>7   </td><td><tt>i</tt></td><td>invert video              </td><td>27  </td><td><tt>I </tt></td><td>invert off</td></tr>
<tr><td>30  </td><td><tt>k</tt></td><td>black text                </td><td>90  </td><td><tt>+k</tt></td><td>bright gray text</td></tr>
<tr><td>31  </td><td><tt>r</tt></td><td>red text                  </td><td>91  </td><td><tt>+r</tt></td><td>bright red text</td></tr>
<tr><td>32  </td><td><tt>g</tt></td><td>green text                </td><td>92  </td><td><tt>+g</tt></td><td>bright green text</td></tr>
<tr><td>33  </td><td><tt>y</tt></td><td>yellow text               </td><td>93  </td><td><tt>+y</tt></td><td>bright yellow text</td></tr>
<tr><td>34  </td><td><tt>b</tt></td><td>blue text                 </td><td>94  </td><td><tt>+b</tt></td><td>bright blue text</td></tr>
<tr><td>35  </td><td><tt>m</tt></td><td>magenta text              </td><td>95  </td><td><tt>+m</tt></td><td>bright magenta text</td></tr>
<tr><td>36  </td><td><tt>c</tt></td><td>cyan text                 </td><td>96  </td><td><tt>+c</tt></td><td>bright cyan text</td></tr>
<tr><td>37  </td><td><tt>w</tt></td><td>white text                </td><td>97  </td><td><tt>+w</tt></td><td>bright white text</td></tr>
<tr><td>40  </td><td><tt>K</tt></td><td>black background          </td><td>100 </td><td><tt>+K</tt></td><td>bright gray background</td></tr>
<tr><td>41  </td><td><tt>R</tt></td><td>dark red background       </td><td>101 </td><td><tt>+R</tt></td><td>bright red background</td></tr>
<tr><td>42  </td><td><tt>G</tt></td><td>dark green background     </td><td>102 </td><td><tt>+G</tt></td><td>bright green background</td></tr>
<tr><td>43  </td><td><tt>Y</tt></td><td>dark yellow backgrounda   </td><td>103 </td><td><tt>+Y</tt></td><td>bright yellow background</td></tr>
<tr><td>44  </td><td><tt>B</tt></td><td>dark blue background      </td><td>104 </td><td><tt>+B</tt></td><td>bright blue background</td></tr>
<tr><td>45  </td><td><tt>M</tt></td><td>dark magenta background   </td><td>105 </td><td><tt>+M</tt></td><td>bright magenta background</td></tr>
<tr><td>46  </td><td><tt>C</tt></td><td>dark cyan background      </td><td>106 </td><td><tt>+C</tt></td><td>bright cyan background</td></tr>
<tr><td>47  </td><td><tt>W</tt></td><td>dark white background     </td><td>107 </td><td><tt>+W</tt></td><td>bright white background</td></tr>
</tbody></table>

<p>The default color scheme is <tt>cx=33:</tt> <tt>mt=1;31:</tt> <tt>fn=1;35:</tt> <tt>ln=1;32:</tt> <tt>cn=1;32:</tt> <tt>bn=1;32:</tt> <tt>se=36:</tt> <tt>qp=1;32:</tt> <tt>qe=1;37;41:</tt> <tt>qm=1;32:</tt> <tt>ql=36:</tt> <tt>qb=1;35</tt>

<a name="format">&nbsp;</a>
</p><h2>Custom output formatting</h2>

<p>Formatted output and match replacement puts you in full control of the output.  In fact, CSV (<tt>--csv</tt>), JSON (<tt>--json</tt>) and XML (<tt>--xml</tt>) are all produced this way.

</p><table>
<tbody><tr><td><tt>--format-begin=<i>"FORMAT"</i></tt></td><td>format string for beginning the search</td></tr>
<tr><td><tt>--format-open=<i>"FORMAT"</i> </tt></td><td>format string for opening a file when a match was found</td></tr>
<tr><td><tt>--format=<i>"FORMAT"</i>      </tt></td><td>format string for each match in a file</td></tr>
<tr><td><tt>--format-close=<i>"FORMAT"</i></tt></td><td>format string for closing a file when a match was found</td></tr>
<tr><td><tt>--format-end=<i>"FORMAT"</i>  </tt></td><td>format string for ending the search</td></tr>
<tr><td><tt>--replace=<i>"FORMAT"</i>     </tt></td><td>replace matches in the output with the specified formatted string</td></tr>
</tbody></table>

<p>where <tt><i>FORMAT</i></tt> may contain any text and the following format fields:

</p><table>
<tbody><tr><td><tt>%F                   </tt></td><td>if option <tt>-H</tt> is used: the file pathname and separator</td></tr>
<tr><td><tt>%[TEXT]F             </tt></td><td>if option <tt>-H</tt> is used: <tt>TEXT</tt>, the file pathname and separator</td></tr>
<tr><td><tt>%f                   </tt></td><td>the file pathname</td></tr>
<tr><td><tt>%a                   </tt></td><td>the file basename without directory path</td></tr>
<tr><td><tt>%p                   </tt></td><td>the directory path to the file</td></tr>
<tr><td><tt>%z                   </tt></td><td>the pathname in a (compressed) archive, without <tt>{</tt> and <tt>}</tt></td></tr>
<tr><td><tt>%H                   </tt></td><td>if option <tt>-H</tt> is used: the quoted pathname and separator, <tt>\"</tt> and <tt>\\</tt> replace <tt>"</tt> and <tt>\</tt></td></tr>
<tr><td><tt>%[TEXT]H             </tt></td><td>if option <tt>-H</tt> is used: <tt>TEXT</tt>, the quoted pathname and separator, \" and \\ replace " and \</td></tr>
<tr><td><tt>%h                   </tt></td><td>the quoted file pathname, <tt>\"</tt> and <tt>\\</tt> replace <tt>"</tt> and <tt>\</tt></td></tr>
<tr><td><tt>%N                   </tt></td><td>if option <tt>-n</tt> is used: the line number and separator</td></tr>
<tr><td><tt>%[TEXT]N             </tt></td><td>if option <tt>-n</tt> is used: <tt>TEXT</tt>, the line number and separator</td></tr>
<tr><td><tt>%n                   </tt></td><td>the line number of the match</td></tr>
<tr><td><tt>%K                   </tt></td><td>if option <tt>-k</tt> is used: the column number and separator</td></tr>
<tr><td><tt>%[TEXT]K             </tt></td><td>if option <tt>-k</tt> is used: <tt>TEXT</tt>, the column number and separator</td></tr>
<tr><td><tt>%k                   </tt></td><td>the column number of the match</td></tr>
<tr><td><tt>%B                   </tt></td><td>if option <tt>-b</tt> is used: the byte offset and separator</td></tr>
<tr><td><tt>%[TEXT]B             </tt></td><td>if option <tt>-b</tt> is used: <tt>TEXT</tt>, the byte offset and separator</td></tr>
<tr><td><tt>%b                   </tt></td><td>the byte offset of the match</td></tr>
<tr><td><tt>%T                   </tt></td><td>if option <tt>-T</tt> is used: <tt>TEXT</tt> and a tab character</td></tr>
<tr><td><tt>%[TEXT]T             </tt></td><td>if option <tt>-T</tt> is used: <tt>TEXT</tt> and a tab character</td></tr>
<tr><td><tt>%t                   </tt></td><td>a tab character</td></tr>
<tr><td><tt>%[SEP]$              </tt></td><td>set field separator to <tt>SEP</tt> for the rest of the format fields</td></tr>
<tr><td><tt>%[TEXT]&lt;          </tt></td><td>if the first match: <tt>TEXT</tt></td></tr>
<tr><td><tt>%[TEXT]&gt;          </tt></td><td>if not the first match: <tt>TEXT</tt></td></tr>
<tr><td><tt>%,                   </tt></td><td>if not the first match: a comma, same as <tt>%[,]&lt;</tt></td></tr>
<tr><td><tt>%:                   </tt></td><td>if not the first match: a colon, same as <tt>%[:]&gt;</tt></td></tr>
<tr><td><tt>%;                   </tt></td><td>if not the first match: a semicolon, same as <tt>%[;]&gt;</tt></td></tr>
<tr><td><tt>%|                   </tt></td><td>if not the first match: a vertical bar, same as <tt>%[|]&gt;</tt></td></tr>
<tr><td><tt>%S                   </tt></td><td>if not the first match: separator, see also <tt>%[SEP]$</tt></td></tr>
<tr><td><tt>%[TEXT]S             </tt></td><td>if not the first match: <tt>TEXT</tt> and separator, see also <tt>%[SEP]$</tt></td></tr>
<tr><td><tt>%s                   </tt></td><td>the separator, see also <tt>%[TEXT]S</tt> and <tt>%[SEP]$</tt></td></tr>
<tr><td><tt>%~                   </tt></td><td>a newline character</td></tr>
<tr><td><tt>%+                   </tt></td><td>if option <tt>--heading</tt> is used: <tt>%F</tt> and a newline character, suppress all <tt>%F</tt> and <tt>%H</tt> afterward</td></tr>
<tr><td><tt>%m                   </tt></td><td>the number of matches, sequential (or number of matching files with <tt>--format-end</tt>)</td></tr>
<tr><td><tt>%M                   </tt></td><td>the number of matching lines (or number of matching files with <tt>--format-end</tt>)</td></tr>
<tr><td><tt>%O                   </tt></td><td>the matching line is output as is (a raw string of bytes)</td></tr>
<tr><td><tt>%o                   </tt></td><td>the match is output as is (a raw string of bytes)</td></tr>
<tr><td><tt>%Q                   </tt></td><td>the matching line as a quoted string, <tt>\"</tt> and <tt>\\</tt> replace <tt>"</tt> and <tt>\</tt></td></tr>
<tr><td><tt>%q                   </tt></td><td>the match as a quoted string, <tt>\"</tt> and <tt>\\</tt> replace <tt>"</tt> and <tt>\</tt></td></tr>
<tr><td><tt>%C                   </tt></td><td>the matching line formatted as a quoted C/C++ string</td></tr>
<tr><td><tt>%c                   </tt></td><td>the match formatted as a quoted C/C++ string</td></tr>
<tr><td><tt>%J                   </tt></td><td>the matching line formatted as a quoted JSON string</td></tr>
<tr><td><tt>%j                   </tt></td><td>the match formatted as a quoted JSON string</td></tr>
<tr><td><tt>%V                   </tt></td><td>the matching line formatted as a quoted CSV string</td></tr>
<tr><td><tt>%v                   </tt></td><td>the match formatted as a quoted CSV string</td></tr>
<tr><td><tt>%X                   </tt></td><td>the matching line formatted as XML character data</td></tr>
<tr><td><tt>%x                   </tt></td><td>the match formatted as XML character data</td></tr>
<tr><td><tt>%w                   </tt></td><td>the width of the match, counting (wide) characters</td></tr>
<tr><td><tt>%d                   </tt></td><td>the size of the match, counting bytes</td></tr>
<tr><td><tt>%e                   </tt></td><td>the ending byte offset of the match</td></tr>
<tr><td><tt>%Z                   </tt></td><td>the edit distance cost of an approximate match with option <tt>-Z</tt></td></tr>
<tr><td><tt>%u                   </tt></td><td>select unique lines only unless option <tt>-u</tt> is used</td></tr>
<tr><td><tt>%1 %2 ... %9         </tt></td><td>the first regex group capture of the match, and so on up to group <tt>%9</tt>, requires option <tt>-P</tt></td></tr>
<tr><td><tt>%[NUM]#              </tt></td><td>the regex group capture <tt>NUM</tt>; requires option <tt>-P</tt></td></tr>
<tr><td><tt>%[NUM]b              </tt></td><td>the byte offset of the group capture <tt>NUM</tt>; requires option <tt>-P</tt></td></tr>
<tr><td><tt>%[NUM]e              </tt></td><td>the ending byte offset of the group capture <tt>NUM</tt>; requires option <tt>-P</tt></td></tr>
<tr><td><tt>%[NUM]d              </tt></td><td>the byte length of the group capture <tt>NUM</tt>; requires option <tt>-P</tt></td></tr>
<tr><td><tt>%[NUM1|NUM2|...]#    </tt></td><td>the first group capture <tt>NUM</tt> in the list that matched; requires option <tt>-P</tt></td></tr>
<tr><td><tt>%[NUM1|NUM2|...]b    </tt></td><td>the byte offset of the first group capture <tt>NUM</tt> in the list that matched; requires option <tt>-P</tt></td></tr>
<tr><td><tt>%[NUM1|NUM2|...]e    </tt></td><td>the ending byte offset of the first group capture <tt>NUM</tt> in the list that matched; requires option <tt>-P</tt></td></tr>
<tr><td><tt>%[NUM1|NUM2|...]d    </tt></td><td>the byte length of the first group capture <tt>NUM</tt> in the list that matched; requires option <tt>-P</tt></td></tr>
<tr><td><tt>%[NAME]#             </tt></td><td>the <tt>NAME</tt>d group capture; requires option <tt>-P</tt> and capturing pattern <tt>(?&lt;NAME&gt;PATTERN)</tt></td></tr>
<tr><td><tt>%[NAME]b             </tt></td><td>the byte offset of the <tt>NAME</tt>d group capture; requires option <tt>-P</tt> and capturing pattern <tt>(?&lt;NAME&gt;PATTERN)</tt></td></tr>
<tr><td><tt>%[NAME]e             </tt></td><td>the ending byte offset of the <tt>NAME</tt>d group capture; requires option <tt>-P</tt> and capturing pattern <tt>(?&lt;NAME&gt;PATTERN)</tt></td></tr>
<tr><td><tt>%[NAME]d             </tt></td><td>the byte length of the <tt>NAME</tt>d group capture; requires option <tt>-P</tt> and capturing pattern <tt>(?&lt;NAME&gt;PATTERN)</tt></td></tr>
<tr><td><tt>%[NAME1|NAME2|...]#  </tt></td><td>the first <tt>NAME</tt>d group capture in the list that matched; requires option <tt>-P</tt> and capturing pattern <tt>(?&lt;NAME&gt;PATTERN)</tt></td></tr>
<tr><td><tt>%[NAME1|NAME2|...]b  </tt></td><td>the byte offset of the first <tt>NAME</tt>d group capture in the list that matched; requires option <tt>-P</tt> and capturing pattern <tt>(?&lt;NAME&gt;PATTERN)</tt></td></tr>
<tr><td><tt>%[NAME1|NAME2|...]e  </tt></td><td>the ending byte offset of the first <tt>NAME</tt>d group capture in the list that matched; requires option <tt>-P</tt> and capturing pattern <tt>(?&lt;NAME&gt;PATTERN)</tt></td></tr>
<tr><td><tt>%[NAME1|NAME2|...]d  </tt></td><td>the byte length of the first <tt>NAME</tt>d group capture in the list that matched; requires option <tt>-P</tt> and capturing pattern <tt>(?&lt;NAME&gt;PATTERN)</tt></td></tr>
<tr><td><tt>%G                   </tt></td><td>all group capture indices/names of the match</td></tr>
<tr><td><tt>%[TEXT1|TEXT2|...]G  </tt></td><td>all <tt>TEXT</tt> indexed by group capture indices that matched; requires option <tt>-P</tt></td></tr>
<tr><td><tt>%g                   </tt></td><td>the group capture index of the match or 1</td></tr>
<tr><td><tt>%[TEXT1|TEXT2|...]g  </tt></td><td>the <tt>TEXT</tt> indexed by the first group capture index that matched; requires option <tt>-P</tt></td></tr>
<tr><td><tt>%%                   </tt></td><td>the percentage sign</td></tr>
</tbody></table>

<ol>
<li>output for <tt>--csv</tt> is internally produced with
<pre>--format-open='%+'
--format='%[,]$%H%N%K%B%V%~%u'
</pre>
</li><li>output for <tt>--json</tt> is internally produced with
<pre>--format-begin='['
--format-open='%,%~  {%~    %[,%~    ]$%["file": ]H"matches": ['
--format='%,%~      { %[, ]$%["line": ]N%["column": ]K%["offset": ]B"match": %J }%u'
--format-close='%~    ]%~  }'
--format-end='%~]%~'
</pre>
</li><li>output for <tt>--xml</tt> is internally produced with
<pre>--format-begin='&lt;grep&gt;%~'
--format-open='  &lt;file%[]$%[ name=]H&gt;%~'
--format='    &lt;match%[\"]$%[ line=\"]N%[ column=\"]K%[ offset=\"]B&gt;%X&lt;/match&gt;%~%u'
--format-close='  &lt;/file&gt;%~'
--format-end='&lt;/grep&gt;%~'
</pre>
</li><li>to output replaced matches in a file while keeping the rest of the file unchanged, use option <tt>--replace=<i>"FORMAT"</i></tt> and <tt>-y</tt> (<tt>--any-line</tt> or <tt>--passthru</tt>)
</li><li>to replace matches with corresponding text substitutions, you can use <tt>-P "(PATTERN1)|(PATTERN2)|...|(PATTERNn)"</tt> <tt>--replace="%[TEXT1|TEXT2|...|TEXTn]g"</tt> for example <tt>-P -iw "(one)|(two)|(three)" --replace="%[ūnum|duo|tria]g"</tt>
</li></ol>

<a name="index">&nbsp;</a>
<h2>Indexing</h2>

<p>The new <a target="_blank" href="https://github.com/Genivia/ugrep-indexer"><tt>ugrep-indexer</tt></a> tool indexes a directory tree to accelerate cold searching.  File searching is generally slow when a file system on a drive is not cached in memory, i.e. when most files are "cold".  Indexing accelerates recursive searching by performing a quick check on precomputed indexes to only search those files that may match.

</p><p>Indexed-based search with ugrep is safe and never skips new or updated files that may now match.  If any files and directories are added or changed after indexing, then ugrep will search these additions and changes made to the file system by comparing file and directory time stamps to the indexing time stamp.  When many files were added or changed, then you may want to re-index to bring the indexes up to date.  Re-indexing is incremental, it will not take as much time as the initial indexing process.

</p><p>Please note that indexing is effective for large file systems on slower storage media or when searching many zip and tarball archives.  Indexing won't speed up regular file searching on fast nVME SSDs, for example.

</p><dl>
<dt>ugrep-indexer -Iz -v</dt>  <dd>recursively (re-)index the working directory tree, ignore binary files (option <tt>-I</tt>), index archives and compressed files (option <tt>-z</tt>), showing verbose output (option <tt>-v</tt>)</dd>
<dt>ugrep-indexer -Iz -v <i>PATH</i></dt>
                               <dd>same as above, but (re-)index the specified directory tree <tt><i>PATH</i></tt></dd>
<dt>ugrep-indexer -f -0 -Iz -v <i>PATH</i></dt>
                               <dd>force full re-indexing with lowest index match accuracy to minimize index files (option <tt>-0</tt> for zero, default is <tt>-5</tt> for five)</dd>
<dt>ugrep-indexer -c <i>PATH</i></dt>
                               <dd>check the directory tree <tt><i>PATH</i></tt> indexes, the default is to check the working directory tree</dd>
<dt>ugrep-indexer -d <i>PATH</i></dt>
                               <dd>delete the hidden index files from the directory tree <tt><i>PATH</i></tt>, the default is to delete index files from the working directory tree</dd>
<dt>ug --index -Iz <i>OPTIONS</i> <i>PATTERN</i></dt>
                               <dd>perform an index-based recursive search, ignore binary files (option <tt>-I</tt>), also search archives and compressed files (option <tt>-z</tt>)</dd>
<dt>ug --index -r -Iz <i>OPTIONS</i> <i>PATTERN</i> <i>PATH</i></dt>
                               <dd>same as above, but perform an index-based recursive search on the specified directory tree <tt><i>PATH</i></tt></dd>
<dt>ug --index <i>OPTIONS</i> <i>PATTERN</i> <i>FILE</i></dt>
                               <dd>search <tt><i>FILE</i></tt>, but <u>not using an index</u> (only <u>recursive searching</u> is accelerated)
</dd></dl>

<ol>
<li><tt>ugrep-indexer</tt> option <tt>-v</tt> reports progress; to create a log, redirect <tt>ugrep-indexer</tt> output to a log file
</li><li><tt>ugrep-indexer</tt> option <tt>-S</tt> follows symlinks to files, never follows symlinks to directories
</li><li><tt>ugrep-indexer</tt> option <tt>--ignore-files</tt> obeys gitignore files
</li><li><tt>ugrep-indexer</tt> options <tt>-z --zmax=2</tt> index nested archives and tarballs
</li><li><tt>ug</tt> option <tt>--index</tt> works with all other search options, except for options <tt>-P</tt>, <tt>-Z</tt>, <tt>-v</tt> and <tt>--filter</tt>
</li><li><tt>ug</tt> option <tt>--stats</tt> reports index-based search details, including false positives; false positives are reduced with higher indexing accuracy and/or by using more specific search patterns
</li></ol>

<a name="bugs">&nbsp;</a>
<h2>Bugs</h2>

<p>If you found a bug or an issue, then please report it at <a href="https://github.com/Genivia/ugrep/issues">https://github.com/Genivia/ugrep/issues</a>

<a name="license">&nbsp;</a>
</p><h2>License</h2>

<p>Ugrep is open source BSD-3 licensed:

</p><div>
<table>
<tbody><tr><th>Permissions</th></tr>
<tr><td>✔️  commercial use</td></tr>
<tr><td>✔️  modification</td></tr>
<tr><td>✔️  distribution</td></tr>
<tr><td>✔️  private use</td></tr>
</tbody></table>
</div>

<div>
<table>
<tbody><tr><th>Limitations</th></tr>
<tr><td>❌ liability</td></tr>
<tr><td>❌ warranty</td></tr>
</tbody></table>
</div>

<div>
<table>
<tbody><tr><th>Conditions</th></tr>
<tr><td>ⓘ  include license</td></tr>
<tr><td>ⓘ  copyright notice</td></tr>
</tbody></table>
</div>

<p>Ugrep is written by Robert A. van Engelen, Copyright (c) 2023 Robert A. van Engelen, Genivia Inc.

</p><p>The ugrep author received the 🏆 <a href="https://opensource.googleblog.com/2022/03/Announcing-First-Group-of-Google-Open-Source-Peer-Bonus-Winners-in-2022.html">Google Peer Bonus Award 2022</a> for developing ugrep

</p><p>Ugrep project repo: <a href="https://github.com/Genivia/ugrep">https://github.com/Genivia/ugrep</a> ⭐️ thank you for starring the project!

</p><p>Ugrep uses the RE/flex regex library: <a href="https://github.com/Genivia/RE-flex">https://github.com/Genivia/RE-flex</a>

</p><p>Ugrep <tt>-P</tt> uses the PCRE2 library: <a href="https://www.pcre.org/">https://www.pcre.org</a>

</p><hr>

<p><small>See also: <a target="_blank" href="https://www.gnu.org/software/grep/">gnu grep</a>, <a taget="_blank" href="https://man.freebsd.org/cgi/man.cgi?grep(1)">bsd grep</a>, <a target="_blank" href="https://git-scm.com/docs/git-grep">git grep</a>, <a target="_blank" href="https://man7.org/linux/man-pages/man1/pcregrep.1.html">pcre grep</a>, <a href="https://www.usenix.org/legacy/publications/library/proceedings/wu.pdf">agrep</a>, <a target="_blank" href="https://beyondgrep.com/">ack</a>, <a target="_blank" href="https://geoff.greer.fm/ag/">ag</a>, <a target="_blank" href="https://docs.rs/crate/ripgrep/0.2.7">rg</a>, <a target="_blank" href="https://sift-tool.org/">sift</a></small>

</p><p><small>Last updated: Fri Dec 22, 2023</small>

</p><hr>




</div>]]></description>
        </item>
        <item>
            <title><![CDATA[Claude Bragdon: Drawings of the Fourth Dimension (2022) (132 pts)]]></title>
            <link>https://socks-studio.com/2022/10/23/claude-bragdon-drawings/</link>
            <guid>38819030</guid>
            <pubDate>Sat, 30 Dec 2023 20:56:23 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://socks-studio.com/2022/10/23/claude-bragdon-drawings/">https://socks-studio.com/2022/10/23/claude-bragdon-drawings/</a>, See on <a href="https://news.ycombinator.com/item?id=38819030">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><main><article aria-label="Claude Bragdon: Drawings of the Fourth Dimension (1913-1915)" itemscope="" itemtype="https://schema.org/CreativeWork"><div itemprop="text">
<p>American architect <a rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Claude_Fayette_Bragdon" target="_blank">Claude Fayette Bragdon</a> (1866-1946) was also an artist, writer and stage designer. He was based in Rochester, NY where he built his masterpiece, the New York Central Railroad Station in 1909. His design work and philosophy were influenced mainly by <a rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Theosophy" target="_blank">theosophy</a>, a form of esoterism that preached the soul’s spiritual emancipation. Bragdon wrote architectural theory texts influenced by his spiritual beliefs and technological discoveries like the x-ray vision.</p>



<p><br>An extremely skilled draftsman, Bragdon associated his texts with complex illustrations in pen and ink inspired by Japanese drawings with an emphasis on a balanced composition and on the relevance of lines. His texts fostered a vision of projective and fourth-dimension geometry as tools able to reach beyond the limits of the three-dimensional world and outside the mental constraints of human perception.</p>



<blockquote><p>We can never see, for instance four-dimensional pictures with our bodily eyes, but we can with our mental and inner eye.<br></p></blockquote>



<p><br>In <em><a href="https://archive.org/details/aprimerhighersp00braggoog/page/n65/mode/thumb" target="_blank" rel="noreferrer noopener">A primer of higher space</a></em> (1913) he attempted to provide a visual representation of the fourth dimension through two-dimensional projective drawings. In 1915, he published <em><a href="https://www.amazon.com/Projective-Ornament-Claude-Bragdon/dp/1494127598" target="_blank" rel="noreferrer noopener">Projective Ornament</a></em>, an essay focusing on ornament as a capital subject for the development of modern architecture, following Louis Sullivan’s research. Bragdon proposed an ornament derived from the two-dimensional projections of the fourth-dimensional space. A series of decorative patterns appear from folded-down axonometric representations of four-dimensional figures. </p>



<p>Following is a selection of illustrations from these two books.</p>







<figure><img decoding="async" fetchpriority="high" width="2500" height="1863" src="https://socks-studio.com/img/blog/bragdon-01.jpg" alt="" srcset="https://socks-studio.com/img/blog/bragdon-01.jpg 2500w, https://socks-studio.com/img/blog/bragdon-01-768x572.jpg 768w, https://socks-studio.com/img/blog/bragdon-01-1536x1145.jpg 1536w, https://socks-studio.com/img/blog/bragdon-01-2048x1526.jpg 2048w" sizes="(max-width: 2500px) 100vw, 2500px" data-old-src="https://socks-studio.com/wp-content/plugins/jquery-image-lazy-loading/images/grey.gif" data-original="https://socks-studio.com/img/blog/bragdon-01.jpg"></figure>







<figure><img decoding="async" width="1726" height="2426" src="https://socks-studio.com/img/blog/bragdon-02.jpg" alt="" srcset="https://socks-studio.com/img/blog/bragdon-02.jpg 1726w, https://socks-studio.com/img/blog/bragdon-02-768x1079.jpg 768w, https://socks-studio.com/img/blog/bragdon-02-1093x1536.jpg 1093w, https://socks-studio.com/img/blog/bragdon-02-1457x2048.jpg 1457w" sizes="(max-width: 1726px) 100vw, 1726px" data-old-src="https://socks-studio.com/wp-content/plugins/jquery-image-lazy-loading/images/grey.gif" data-original="https://socks-studio.com/img/blog/bragdon-02.jpg"></figure>







<figure><img decoding="async" width="1244" height="1836" src="https://socks-studio.com/img/blog/bragdon-03.jpg" alt="" srcset="https://socks-studio.com/img/blog/bragdon-03.jpg 1244w, https://socks-studio.com/img/blog/bragdon-03-768x1133.jpg 768w, https://socks-studio.com/img/blog/bragdon-03-1041x1536.jpg 1041w" sizes="(max-width: 1244px) 100vw, 1244px" data-old-src="https://socks-studio.com/wp-content/plugins/jquery-image-lazy-loading/images/grey.gif" data-original="https://socks-studio.com/img/blog/bragdon-03.jpg"></figure>







<figure><img decoding="async" loading="lazy" width="1000" height="1490" src="https://socks-studio.com/img/blog/bragdon-04.jpg" alt="" srcset="https://socks-studio.com/img/blog/bragdon-04.jpg 1000w, https://socks-studio.com/img/blog/bragdon-04-768x1144.jpg 768w" sizes="(max-width: 1000px) 100vw, 1000px" data-old-src="https://socks-studio.com/wp-content/plugins/jquery-image-lazy-loading/images/grey.gif" data-original="https://socks-studio.com/img/blog/bragdon-04.jpg"></figure>







<figure><img decoding="async" loading="lazy" width="1134" height="1685" src="https://socks-studio.com/img/blog/bragdon-05.jpg" alt="" srcset="https://socks-studio.com/img/blog/bragdon-05.jpg 1134w, https://socks-studio.com/img/blog/bragdon-05-768x1141.jpg 768w, https://socks-studio.com/img/blog/bragdon-05-1034x1536.jpg 1034w" sizes="(max-width: 1134px) 100vw, 1134px" data-old-src="https://socks-studio.com/wp-content/plugins/jquery-image-lazy-loading/images/grey.gif" data-original="https://socks-studio.com/img/blog/bragdon-05.jpg"></figure>







<figure><img decoding="async" loading="lazy" width="1251" height="1882" src="https://socks-studio.com/img/blog/bragdon-06.jpg" alt="" srcset="https://socks-studio.com/img/blog/bragdon-06.jpg 1251w, https://socks-studio.com/img/blog/bragdon-06-768x1155.jpg 768w, https://socks-studio.com/img/blog/bragdon-06-1021x1536.jpg 1021w" sizes="(max-width: 1251px) 100vw, 1251px" data-old-src="https://socks-studio.com/wp-content/plugins/jquery-image-lazy-loading/images/grey.gif" data-original="https://socks-studio.com/img/blog/bragdon-06.jpg"></figure>







<figure><img decoding="async" loading="lazy" width="1021" height="1536" src="https://socks-studio.com/img/blog/bragdon-07.jpg" alt="" srcset="https://socks-studio.com/img/blog/bragdon-07.jpg 1021w, https://socks-studio.com/img/blog/bragdon-07-768x1155.jpg 768w" sizes="(max-width: 1021px) 100vw, 1021px" data-old-src="https://socks-studio.com/wp-content/plugins/jquery-image-lazy-loading/images/grey.gif" data-original="https://socks-studio.com/img/blog/bragdon-07.jpg"></figure>











<figure><img decoding="async" loading="lazy" width="1401" height="2098" src="https://socks-studio.com/img/blog/bragdon-08.jpg" alt="" srcset="https://socks-studio.com/img/blog/bragdon-08.jpg 1401w, https://socks-studio.com/img/blog/bragdon-08-768x1150.jpg 768w, https://socks-studio.com/img/blog/bragdon-08-1026x1536.jpg 1026w, https://socks-studio.com/img/blog/bragdon-08-1368x2048.jpg 1368w" sizes="(max-width: 1401px) 100vw, 1401px" data-old-src="https://socks-studio.com/wp-content/plugins/jquery-image-lazy-loading/images/grey.gif" data-original="https://socks-studio.com/img/blog/bragdon-08.jpg"></figure>







<figure><img decoding="async" loading="lazy" width="1415" height="2096" src="https://socks-studio.com/img/blog/bragdon-09.jpg" alt="" srcset="https://socks-studio.com/img/blog/bragdon-09.jpg 1415w, https://socks-studio.com/img/blog/bragdon-09-768x1138.jpg 768w, https://socks-studio.com/img/blog/bragdon-09-1037x1536.jpg 1037w, https://socks-studio.com/img/blog/bragdon-09-1383x2048.jpg 1383w" sizes="(max-width: 1415px) 100vw, 1415px" data-old-src="https://socks-studio.com/wp-content/plugins/jquery-image-lazy-loading/images/grey.gif" data-original="https://socks-studio.com/img/blog/bragdon-09.jpg"></figure>







<figure><img decoding="async" loading="lazy" src="https://socks-studio.com/img/blog/bragdon-10.jpg" alt="" width="800" height="1422" data-old-src="https://socks-studio.com/wp-content/plugins/jquery-image-lazy-loading/images/grey.gif" data-original="https://socks-studio.com/img/blog/bragdon-10.jpg"></figure>



<figure><img decoding="async" loading="lazy" width="1772" height="2560" src="https://socks-studio.com/img/blog/bragdon-11-scaled.jpg" alt="" srcset="https://socks-studio.com/img/blog/bragdon-11-scaled.jpg 1772w, https://socks-studio.com/img/blog/bragdon-11-768x1110.jpg 768w, https://socks-studio.com/img/blog/bragdon-11-1063x1536.jpg 1063w, https://socks-studio.com/img/blog/bragdon-11-1418x2048.jpg 1418w" sizes="(max-width: 1772px) 100vw, 1772px" data-old-src="https://socks-studio.com/wp-content/plugins/jquery-image-lazy-loading/images/grey.gif" data-original="https://socks-studio.com/img/blog/bragdon-11-scaled.jpg"></figure>







<figure><img decoding="async" loading="lazy" src="https://socks-studio.com/img/blog/bragdon-12.jpg" alt="" width="800" height="461" data-old-src="https://socks-studio.com/wp-content/plugins/jquery-image-lazy-loading/images/grey.gif" data-original="https://socks-studio.com/img/blog/bragdon-12.jpg"></figure>











<p>Check out the research work by Jonathan Massey, author of <em><a rel="noreferrer noopener" href="https://upittpress.org/books/9780822943624/" target="_blank">Crystal and Arabesque, Claude Bragdon, Ornament, and Modern Architecture</a></em> (University of Pittsburgh Press, 2009) and of a <a rel="noreferrer noopener" href="https://umich.academia.edu/JonathanMassey" target="_blank">series of articles</a> on the architect.</p>












<!--<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="https://socks-studio.com/2022/10/23/claude-bragdon-drawings/"
    dc:identifier="https://socks-studio.com/2022/10/23/claude-bragdon-drawings/"
    dc:title="Claude Bragdon: Drawings of the Fourth Dimension (1913-1915)"
    trackback:ping="https://socks-studio.com/2022/10/23/claude-bragdon-drawings/trackback/" />
</rdf:RDF>-->
</div></article>	<!-- #respond -->
	</main></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[EU Cyber Resilience Act: What does it mean for open source? (148 pts)]]></title>
            <link>https://berthub.eu/articles/posts/eu-cra-what-does-it-mean-for-open-source/</link>
            <guid>38818734</guid>
            <pubDate>Sat, 30 Dec 2023 20:23:28 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://berthub.eu/articles/posts/eu-cra-what-does-it-mean-for-open-source/">https://berthub.eu/articles/posts/eu-cra-what-does-it-mean-for-open-source/</a>, See on <a href="https://news.ycombinator.com/item?id=38818734">Hacker News</a></p>
<div id="readability-page-1" class="page"><article lang="en">
  

  
  

  <div>
  <meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@bert_hu_bert">
<meta name="twitter:creator" content="@bert_hu_bert">
<meta name="twitter:title" content="EU CRA: What does it mean for open source?">
<meta name="twitter:description" content="Overview of what the EU CRA will mean for open source">
<meta name="twitter:image" content="https://berthub.eu/articles/christian-lue-8Yw6tsB8tnc-unsplash.jpg">
<p>The final compromise text of the EU Cyber Resilience Act is <a href="https://eur-lex.europa.eu/legal-content/EN/TXT/PDF/?uri=CONSIL:ST_17000_2023_INIT">now officially available</a>, and various open source voices are currently opining on it. This is a complex act and other parts of the open source world (like the <a href="https://newsroom.eclipse.org/news/announcements/cra-should-support-open-practices-open-source-and-development-european-open">Eclipse Foundation</a> and <a href="https://blog.nlnetlabs.nl/open-source-software-vs-the-cyber-resilience-act/">NLNet Labs</a>) have been hard at work to advocate with the EU and member states to get a CRA that is good for open source. I’ve also been <a href="https://berthub.eu/articles/posts/eu-cra-best-open-source-security/">highly critical</a>.</p>
<p>Regulation is never fun, especially when it applies to you. And governments do not have a good track record where it comes to regulating computers. Given this, many in the open source community are worried about the upcoming EU Cyber Resilience Act.</p>
<p>I wrote about the various problems of the act <a href="https://berthub.eu/articles/posts/eu-cra-secure-coding-solution/">here</a> and <a href="https://berthub.eu/articles/posts/eu-cra-practicalities/">here</a>. I also discussed <a href="https://berthub.eu/articles/posts/eu-cra-best-open-source-security/">the open source ecosystem and the CRA</a>. Finally, I described the binding nature of the words in the CRA <a href="https://berthub.eu/articles/posts/eu-cra-recitals-comments-compiler-judge/">on the position of open source</a>.</p>
<center>
<p><img src="https://berthub.eu/articles/christian-lue-8Yw6tsB8tnc-unsplash.jpg" alt=""><br>
Photo by <a href="https://unsplash.com/@christianlue?utm_content=creditCopyText&amp;utm_medium=referral&amp;utm_source=unsplash">Christian Lue</a> on <a href="https://unsplash.com/photos/blue-and-yellow-star-flag-8Yw6tsB8tnc?utm_content=creditCopyText&amp;utm_medium=referral&amp;utm_source=unsplash">Unsplash</a></p>

</center>
<p>For clarity, I’m not paid by the EU (at least not for this work), but I do feel the need to defend the actual contents of the CRA against some of the unfounded and misguided pieces people are writing now.</p>
<h2 id="the-challenge">The challenge</h2>
<p>The state of computing security is dire, and governments around the world have rightly decided things can’t go on like this.</p>
<p>But the question is always, what do you regulate, and how? If we compare things to <a href="https://berthub.eu/articles/posts/cybersecurity-is-like-food-safety/">food safety</a>, governments do not regulate how you cook at home. They do regulate your ingredients however.</p>
<p>Once you start providing food for larger groups of people, even free of charge, even for charity, you have to adhere to professional standards. This is no fun, but for your health it doesn’t matter if your food poisoning came from a charity event or from a commercial restaurant.</p>
<p>The CRA comes with lots of rules on how software should be developed, tested, audited and supported. If all these rules applied to open source, the consequences would be terrible. I’m not planning to hire a compliance department to <a href="https://github.com/berthubert/trifecta">get my new open source image sharing software</a> out there!</p>
<h2 id="generic-regulatory-anger-versus-does-this-apply-to-me">Generic regulatory anger versus does this apply to me</h2>
<p>We tend to be worried about two things: regulation in general, and how it would apply to us. A generic feeling that governments should stay out of software, versus the chances they’ll come for OUR software. These are two separate concerns.</p>
<p>In this post I’m going to focus entirely on the second part. Some organizations are so unhappy with the mere existence of regulation that they can no longer think clearly about if or how it would apply to them.</p>
<p>So let’s see what the actual text says.</p>
<blockquote>
<p>Note: I’ve elided some repetitive phrases from the CRA quotations for legibility, do <a href="https://eur-lex.europa.eu/legal-content/EN/TXT/PDF/?uri=CONSIL:ST_17000_2023_INIT">check the original text to be sure</a>.</p>
</blockquote>
<h2 id="the-scope">The scope</h2>
<p>The CRA regulates commercial activity: “(10) This Regulation applies to economic operators only in relation to products with digital elements made available on the market, hence supplied for distribution or use on the Union market <strong>in the course of a commercial activity</strong>.”</p>
<p>This is an encouraging start for open source. If anyone wants the CRA to regulate open source authors or companies, they first have to establish that what you are doing is a “commercial activity”. Now, earlier incarnations of the CRA did not provide great guidance on what a commercial activity is. There were justified worries that if someone tried hard enough, they could try to claim that open source was also a “commercial activity”. I <a href="https://berthub.eu/articles/posts/eu-cra-best-open-source-security/">described that situation earlier</a>.</p>
<p>In the final CRA compromise, a lot of clarification has been added. Let’s start with the big ones:</p>
<ul>
<li>(10c) .. the provision of free and open-source software products that are <strong>not monetised by their manufacturers</strong> is not considered a commercial activity.</li>
<li>(10c) This Regulation does not apply to natural or legal persons <strong>who contribute source code to free and open-source products that are not under their responsibility</strong>.</li>
</ul>
<p>So if you are not “monetizing” your open source product, you can stop reading here, the CRA does not apply to  you. And if you submit any PRs or code or patches to other people’s open source, you are also completely in the clear, no matter what <em>they</em> are up to.</p>
<blockquote>
<p>As an example, Google maintains an image library called <a href="https://developers.google.com/speed/webp/download">libwebp</a>. It was recently involved in a worldwide rushed security update because of serious security problems. The CRA however does not apply to libwebp per se since Google is not in any way monetizing it. But do read on for why Google will be on the hook anyhow.</p>
</blockquote>
<p>But, what if someone supports you with money, hardware or code:</p>
<ul>
<li>(10c) the mere fact that an open-source software product <strong>receives financial support by manufacturers
or that manufacturers contribute to the development of such a product</strong> should not in itself determine that the activity is of commercial nature.</li>
<li>(10) Accepting donations <strong>without the intention of making a profit</strong> should not be considered to be a commercial activity.</li>
</ul>
<p>But what if you make regular software releases that people rely on:</p>
<ul>
<li>(10c) In addition, the mere presence of regular releases in itself <strong>does not lead</strong> to the conclusion that a product is supplied in the course of a commercial activity</li>
</ul>
<p>But what if you are an open source non-profit that receives money (for development)?</p>
<ul>
<li>(10c).. for the purpose of this Regulation, the development of products qualifying as free and open-source software by not-for-profit organisations should <strong>not be considered a commercial activity</strong> as long as the organisation is <strong>set up in a way that ensures that all earnings after cost are used to achieve not-for-profit objectives</strong>.</li>
</ul>
<p>But what if you are an open source non-profit foundation and someone pays you for actual technical support for your open source product?</p>
<ul>
<li>(10) The supply in the course of a commercial activity might be characterized not only by charging a price for a product, but also by charging a price for technical support services <strong>when this does not serve only the recuperation of actual costs</strong>.</li>
</ul>
<p>But what if you forked a product from a very commercial VC-backed company, so the product has a commercial <em>history</em>:</p>
<ul>
<li>(10c) The mere circumstances under which the product has been developed, or how the development has been financed should therefore <strong>not be taken into account</strong> when determining the commercial or non-commercial nature of that activity.</li>
</ul>
<p>But what if there are very commercial users of your open source that are making money with your thing?</p>
<ul>
<li>(10c) Furthermore, the supply of products qualifying as free and open-source software components intended for integration by other manufacturers into their own products should <strong>only</strong> be considered as making available on the market if the component is monetised by its <strong>original</strong> manufacturer.</li>
</ul>
<p>But what if you are a Linux distribution (like Debian) hosting tons of other people’s open source:</p>
<ul>
<li>(10e) The sole act of hosting products on open repositories, <strong>including through package managers</strong> or on collaboration platforms, <strong>does not</strong> in itself constitute making available on the market of a product with digital elements.</li>
</ul>
<p>Given all this, almost all actual open source projects should be in the clear. There is however pain for those doing ‘fauxpen source’ projects, or those that are doing regular commercial sales of things that come with source.</p>
<h2 id="what-about-open-source-users">What about open source <em>users</em>?</h2>
<p>The CRA recognizes that software, open or closed, consists of components and libraries, and it has some fine words on who is responsible for those: the people making available software on the market as part of a commercial activity.</p>
<p>But the buck does indeed stop there - if someone uses the open source you author, you are in no way on the hook for their commercial use of it. People that integrate your stuff should perform their own due diligence:</p>
<ul>
<li>(18a) When integrating components sourced from third parties in products during the design and development phase, in order to ensure that the products are designed, developed and produced in accordance with the essential requirements provided for in Annex I to this Regulation, manufacturers should exercise <strong>due diligence</strong> with regard to those
components, <strong>including free and open-source software components that have not been made available on the market</strong>.</li>
</ul>
<p>Interestingly, as part of this due diligence, integrators (and governments!) could initiate or sponsor ‘attestations’ of the security level of open source components. This would be a great boost for open source security:</p>
<ul>
<li>(10f) The security attestation programmes should be conceived in such a way that not only legal or natural persons developing or contributing to the development of a product qualifying as free and open-source software can initiate or finance an attestation <strong>but also third-parties, such as manufacturers that integrate such products into their own products, users, or European and national public administrations</strong>.</li>
</ul>
<p>Open source projects that get email with questions from commercial users about their “CRA status” should take the opportunity to remind integrators of their responsibilities.</p>
<p>Also interesting is that under article 10(4a), integrators are <strong>obliged</strong> to share any vulnerabilities they have found in a component with the (open source) manufacturer, including any patches they might have developed:</p>
<ul>
<li>10(4a) Manufacturers shall, <strong>upon identifying a vulnerability in a component</strong>, including in an open source-component, which is integrated in the product with digital elements, <strong>report the vulnerability</strong> to the person or entity manufacturing or maintaining the component. (…) Where manufacturers have developed a software or hardware modification to address the vulnerability in that component, they shall <strong>share the relevant code</strong> or documentation with the person or entity manufacturing or maintaining the component</li>
</ul>
<p>I mentioned Google’s libwebp earlier, and how Google is not on the hook directly for that library since they don’t monetize it. However, Google Chrome relies on libwebp, which means Google should perform due diligence on it, because Chrome is most certainly monetized.</p>
<h2 id="things-that-are-commercial">Things that are commercial</h2>
<p>The CRA is very clear that it is not all about money. For example, if you try to make users “pay with their data” as a condition of using your product, that is commercial. Or, if you tie your open source product to paid services:</p>
<ul>
<li>(10) an intention to monetise, for instance by providing a software platform through which the manufacturer monetises other services, by requiring as a condition for use <strong>the processing of personal data for reasons other than exclusively for improving the security, compatibility or interoperability of the software</strong>,  or by accepting donations exceeding the costs associated with the design, development and provision of a product with digital elements.</li>
</ul>
<p>If you run open source for profit that is not intended to achieve not-for-profit objectives (see recital 10c), that really is commercial.</p>
<p>In general, the CRA is very lenient about actual open source, even when sponsored or when authored by very commercial organizations, even when accepting money to cover support costs. And even if your non-profit makes money from the open source, but spends it on non-profit objectives, that is fine.</p>
<p>But if you try to offer your open source as part of some kind of ultimately commercial deal, the CRA will definitely extend to you.</p>
<h2 id="the-open-source-software-steward">The open-source software steward</h2>
<p>There is a specific part of the CRA that applies to “Open-source software stewards”, which appear to be professional entities:</p>
<ul>
<li>(18a) ‘open-source software steward’ means any legal person, other than a manufacturer,
which has the purpose or objective to systematically provide support on a sustained basis
for the development of <strong>specific products</strong> with digital elements qualifying as free and
open-source software that are intended for commercial activities, and ensures the
viability of those products;</li>
</ul>
<p>There is also a recital:</p>
<ul>
<li>(10d) Taking into account the cybersecurity importance of many free and open-source software products with digital elements that are published but, within the meaning of this Regulation, not made available on the market, legal persons which provide support on a sustained basis for the development of such products with digital elements qualifying as free and open-source software, which are intended for commercial activities, and play a main role in ensuring the viability of those products (‘open-source software stewards’) should be subject to a <strong>light-touch and tailor-made regulatory regime</strong>.</li>
</ul>
<p>And it goes on:</p>
<ul>
<li>This includes certain foundations as well as entities that develop and publish free and open-source software in a business
context, such as not-for-profit entities developing free and open-source software in a business context. This regulatory regime should take account of their specific nature and compatibility with the type of obligations imposed. It should only cover free and open-source software products with digital elements that are ultimately intended for commercial activities, such as for integration into commercial services or into monetised products with digital elements.</li>
</ul>
<p>Now, it is not clear to me who exactly would be considered an open-source software steward. The Python Foundation? The Linux Foundation? The SQLite Consortium? Eclipse? It would be great to know.</p>
<p>These stewards have certain obligations:</p>
<ul>
<li>Open-source software stewards shall put in place and document in a verifiable manner a cybersecurity policy to foster the development of a secure product with digital elements as well as an effective handling of vulnerabilities by the developers of that product.</li>
</ul>
<p>This should not be a problem.</p>
<ul>
<li>It shall also foster the <strong>voluntary reporting</strong> of vulnerabilities as laid down in Article 11a by the developers of that product.</li>
</ul>
<p>There has been a lot of noise on this reporting and how it might suck, but it is voluntary.</p>
<p>Next up:</p>
<ul>
<li>Open-source software stewards shall cooperate with the market surveillance authorities, at their request, with a view to mitigating the cybersecurity risks posed by a product with digital elements qualifying as free and open-source software.</li>
</ul>
<p>In other words, the government could show up and make you cooperate in mitigating a cybersecurity risk in your software. I realize this might rub people the wrong way. Might they not come with bogus reports of cybersecurity risks? They very much might. It is for this reason we should engage constructively with the EU (see the end of this document).</p>
<p>Furthermore, the open-source software steward:</p>
<ul>
<li>(11.1) shall <em>notify</em> any actively exploited vulnerability contained in the product with digital elements that it becomes aware of simultaneously to the <a href="https://www.enisa.europa.eu/topics/incident-response/csirt-inventory/certs-by-country-interactive-map">CSIRT</a> designated as coordinator, in accordance with paragraph 7 of this Article, and to <a href="https://www.enisa.europa.eu/">ENISA</a>.
The manufacturer shall notify that actively exploited vulnerability via the <strong>single reporting platform</strong> established in Article 11b.</li>
</ul>
<p>This then goes on to clarify that the notification needs to include the “<strong>general nature</strong> of the exploit and of the respective
vulnerability as well as any corrective or mitigating measures taken, and corrective or mitigating measures that users can take. The notification shall also indicate, where applicable, how sensitive the manufacturer deems the notified information
to be”.</p>
<p>Note that this <strong>does not mean handing over the details of your zero days to the government</strong>.</p>
<p>Stewards also need to notify the CSIRT and ENISA about any severe incidents in their organization/network/infrastructure that could impact the security of their software (11.3).</p>
<p>Finally, stewards should inform impacted users about actively exploited vulnerabilities, or severe incidents that have an impact on the security of their products (11.8).</p>
<p>Rounding off, in recital 65 (Art. 53(10a)(b)), the CRA says that if open-source software stewards do not comply with these rules, there will be no monetary fines.</p>
<p>This light-touch regime might not be light enough for some people, but it appears this is aimed at professional organisations with staff and industry sponsorship, so I suspect they’ll be able to deal with this.</p>
<h2 id="you-dont-get-a-blanket-opt-out-because-the-source-is-out-there">You don’t get a blanket opt-out because the source is out there</h2>
<p>I realize the above will not satisfy everyone in the open source world. Some feel that being open source should come with a blanket opt-out from any form of regulation. We even put it in our licenses:</p>
<blockquote>
<p>Copyright (C) 2022 Free Software Foundation, Inc.<br>
License GPLv3+: GNU GPL version 3 or later <a href="http://gnu.org/licenses/gpl.html">http://gnu.org/licenses/gpl.html</a><br>
This is free software: you are free to change and redistribute it.<br>
There is NO WARRANTY, to the extent permitted by law.</p>
</blockquote>
<p>But do note the last part of the last sentence - “to the extent permitted by law”. Computing is now important enough that regulation has come for us all, at least to some extent.</p>
<h2 id="some-specific-bits-on-the-debian-statement">Some specific bits on the Debian statement</h2>
<p>The <a href="https://bits.debian.org/2023/12/debian-statement-cyber-resillience-act.md.html">Debian statement</a> appears to be based on an earlier version of the CRA.</p>
<p>It for example says “Knowing whether software is commercial or not isn’t feasible, neither in Debian nor in most free software projects”. Under the CRA there is no need to figure that out for Debian.</p>
<p>“Having to get legal advice before giving a gift to society will discourage many developers” - the final version of the CRA is clear that if you are giving a gift, the CRA does not apply to you anyhow. There is now a very clear statement on that (see above).</p>
<p>“Imposing requirements such as those proposed in the act makes it legally perilous for others to redistribute our work” - the CRA now has specific notes that such redistribution is not in scope.</p>
<p>I hope that the most awesome Debian project could take a good look at what <a href="https://eur-lex.europa.eu/legal-content/EN/TXT/PDF/?uri=CONSIL:ST_17000_2023_INIT">the current version of the CRA says</a>, and perhaps come up with a new statement.</p>
<h2 id="whats-next">What’s next</h2>
<p>The EU Cyber Resilience Act still has a long way to go before it enters into force. The open source community can play a large role here by lending its expertise to make sure things work out as intended.</p>
<p>Specifically, the EU has tasked CEN/CENELEC to draft secure software development standards, and I could think of nothing better than the open source community to contribute to that process. Here is our invitation:</p>
<ul>
<li>(6b) When preparing measures for the implementation of this Regulation, the Commission shall consult and take into account the views of relevant stakeholders, such as relevant Member States’ authorities, private sector, including micro, small and medium-sized enterprises, <strong>open-source software community</strong>, consumer associations, academia, and relevant Union agencies or bodies or expert groups established at Union level.</li>
</ul>
<p>Throughout the CRA process, various EU institutes and member state governments have been very receptive of the views of the open source community, and I see no reason why this should not continue.</p>
<p>Furthermore, the CRA virtually creates a new process whereby industry can come together to sponsor security documentation, attestations, audits or even security work on open source products. The European Commission is empowered to create templates and regulations for such procedures, and input from the open source community would surely be helpful to turn that into a success.</p>
<p>If we play this right, open source could finally gain support from industry, because the CRA means people that integrate our work are now formally on the hook for it.</p>

</div>

  



</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Amazon allegedly resells damaged books (180 pts)]]></title>
            <link>https://twitter.com/joabaldwin/status/1741145625809559933</link>
            <guid>38818578</guid>
            <pubDate>Sat, 30 Dec 2023 20:07:15 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://twitter.com/joabaldwin/status/1741145625809559933">https://twitter.com/joabaldwin/status/1741145625809559933</a>, See on <a href="https://news.ycombinator.com/item?id=38818578">Hacker News</a></p>
Couldn't get https://twitter.com/joabaldwin/status/1741145625809559933: Error: Request failed with status code 400]]></description>
        </item>
        <item>
            <title><![CDATA[Amazon's Silent Sacking (375 pts)]]></title>
            <link>https://justingarrison.com/blog/2023-12-30-amazons-silent-sacking/</link>
            <guid>38818319</guid>
            <pubDate>Sat, 30 Dec 2023 19:42:50 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://justingarrison.com/blog/2023-12-30-amazons-silent-sacking/">https://justingarrison.com/blog/2023-12-30-amazons-silent-sacking/</a>, See on <a href="https://news.ycombinator.com/item?id=38818319">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>

    
    
    <h5>
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <rect x="4" y="5" width="16" height="16" rx="2"></rect>
        <line x1="16" y1="3" x2="16" y2="7"></line>
        <line x1="8" y1="3" x2="8" y2="7"></line>
        <line x1="4" y1="11" x2="20" y2="11"></line>
        <rect x="8" y="15" width="2" height="2"></rect>
      </svg>
      Posted on 
  
    December 30, 2023
  


      
        &nbsp;•&nbsp;
      
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <circle cx="12" cy="12" r="9"></circle>
        <polyline points="12 7 12 12 15 15"></polyline>
      </svg>
      6&nbsp;minutes
      &nbsp;•
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"></path>
        <path d="M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"></path>
        <line x1="3" y1="6" x2="3" y2="19"></line>
        <line x1="12" y1="6" x2="12" y2="19"></line>
        <line x1="21" y1="6" x2="21" y2="19"></line>
      </svg>
      1187&nbsp;words
      
    </h5>
    

    <p><em>This is not financial advice and I am not an expert.</em></p>
<p>Amazon has a stock problem.
It’s not only Amazon, but they have more to lose.
If you’re a customer, that’s going to be bad for your business too.</p>
<p>In 2023 Amazon laid off more than 27,000 people.
While that’s a big number it’s a deceptively small percentage for a company with more than 1.6 million employees (1.7%).</p>
<p>The vast majority of those layoffs happened in retail where a majority of Amazon’s employees work.
When layoffs <a href="https://www.businessinsider.com/amazon-layoffs" target="_blank" rel="noopener">hit AWS</a>
 it was mostly areas that were not revenue generating or had lower margins.</p>
<p>But publicly laying off 27,000 isn’t good for business–at least not immediately.</p>
<p><img src="https://justingarrison.com/img/amazon-stock-graph-2023.jpg" alt="A graph of Amazon&amp;rsquo;s stock price"></p>
<p>The low stock at the beginning of the year is before the mass layoffs when operating expenses were high.
Then Andy <a href="https://www.aboutamazon.com/news/company-news/andy-jassy-update-on-amazon-return-to-office" target="_blank" rel="noopener">announced return to office (RTO) initiatives</a>
, but nothing changed.</p>
<p>I was told repeatedly it wouldn’t affect me or the teams I worked with.
Then in the summer that changed.</p>
<p>The negative press associated with layoffs wasn’t good.
But the most effective way to reduce operational expenses was to get rid of all the expensive people.
How could they force people to leave without severance packages or en masse?
Making them miserable and silently sacking them.</p>
<p>So RTO was enforced.
And people started leaving in droves.
If they weren’t leaving they were looking, or at minimum waiting for their next RSU payout.</p>
<p>In my small sphere of people there wasn’t a single person under an L7 that didn’t want out.
From what I could gather this mostly came down to compensation.</p>
<p>Independent contributors (IC) and managers that are L7 or above generally make $400k-$800k and for that much money they’re willing to put up with some inconveniences.
Since Amazon’s pay is roughly 40% stock, they only make that much money so long as the stock stays up.</p>
<p>If Amazon keeps lowering their operating costs their earnings go up and stock rises.
At the cost of burning out everyone doing the work.</p>
<h2 id="welcome-to-day-2">Welcome to Day 2</h2>
<p>As customers are cutting their own costs, $1 spent on AWS is worth less than it was last year.
Every trend line still goes up and to the right, but growth is slowing.</p>
<p>Customers aren’t coming to the cloud for VMs and ludicrously expensive network anymore.
They want higher levels of abstraction that AWS has historically been terrible at delivering.</p>
<p>Couple that with <a href="https://www.lastweekinaws.com/blog/aws-degenerative-ai-blunder/" target="_blank" rel="noopener">Amazon trailing in AI</a>
 and the most effective way Amazon can grow is by reducing costs.
The biggest cost is people.</p>
<p>Many teams at Amazon have been in a hiring freeze for over a year.
And now they’re chasing away the people they do have.</p>
<p>Amazon has shifted from a leader to a follower.
From my perspective it’s not going well.</p>
<p>Amazon hasn’t put in the decade of AI research Google has.
It doesn’t partner with external companies as good as Microsoft.
The high margin services AWS was built on (e.g. network egress) is being <a href="https://www.cloudflare.com/developer-platform/r2/" target="_blank" rel="noopener">given away for free</a>
 by compeditors.</p>
<p>Amazon is good at identifying real world problems they’ve faced from running an extremely large online store and logistics.
Generative AI hasn’t been a problem Amazon has identified needed to be fixed (or even deeply worked on) until it was costing them business deals.</p>
<h2 id="no-more-pizza-teams">No more pizza teams</h2>
<p>When I started at Amazon I was impressed that service teams were independent.
It was the <a href="https://martinfowler.com/bliki/TwoPizzaTeam.html" target="_blank" rel="noopener">purest implementation of devops</a>
 I had never seen before.
Especially at Amazon’s scale.</p>
<p>Then I realized how expensive it is.
There are only a handful of centralized teams at Amazon.
Those are almost all tools and compliance teams.</p>
<p>Pipelines, SDKs, and security are centralized.
All components of a service team are self-contained as part of that team.
It turns out that devops is a very expensive org chart.</p>
<p>Many of the service teams have lost a lot of institutional knowledge as part of RTO.
Teams were lean before 2023, now they’re emaciated.</p>
<p>Teams can’t keep innovating when they’re just trying to keep the lights on.
They can’t maintain on-call schedules without the ability to take vacation or sick days.</p>
<p>The next logical step to reduce costs is to centralize expertise.
It’s the reason many large companies have database administration, network engineering, or platform teams.</p>
<p>They’ll have to give up on autonomy to reduce duplication.
Amazon has never had a platform engineering team or site reliability engineers (SRE).
I suspect in 2024 they’ll start to reorg into a more centralized friendly org chart.</p>
<p>They won’t call the teams that because those titles come from Google, but they’ll effectively be the same.
They’ll centralize to create “better collaboration” but in reality it’ll be because they can’t lower margins enough to keep their earnings calls positive.</p>
<h2 id="outages-ahead">Outages ahead</h2>
<p>I suspect there’ll be a major AWS outage in 2024.
No amount of multi-region redundancy will protect you.</p>
<p>There has already been <a href="https://www.linkedin.com/posts/brucebawest_the-new-frequency-of-large-scale-events-at-activity-7109656617100484608-uGmJ" target="_blank" rel="noopener">an increase in large scale events (LSE) throughout Amazon</a>
, but AWS is so big most customers don’t notice.
This is a direct result of RTO and Amazon’s silent sacking of thousands of people.</p>
<p>Amazon isn’t incentivized to publicly share LSEs.
Only outages customers notice are worthy of a dashboard update, but even those are quickly swept under the “all greens” dashboard.</p>
<p>Amazon is an operationally strong company.
Much stronger than any company I’ve worked for before.</p>
<p>But those operational practices depend on people.
When people are eliminated to raise the stock price bar, operational practices suffer.</p>
<h2 id="amazon-wont-fire-me">Amazon won’t fire me</h2>
<p>On September 1st, 2023 I was told by my skip level manager and VP that my team and an adjacent team were being eliminated.
They claimed we all did such good work that they wanted us to remain at Amazon.
“We still have a job, just not a role.”</p>
<p>I was skeptical of how it was communicated–or rather not communicated–by management and I asked if severance was an option.
I was repeatedly told it would be once we’d exhausted other options.</p>
<p>They told us our number one priority was to find another job.
Every role we found had significant downsides.
Lower pay, lower title, RTO, or various other things.</p>
<p>It was clear they wanted us to take a different role we could quit later.
My management wanted to retain the headcount, but couldn’t do layoffs.</p>
<p>October 16th I asked my VP for the severance I was told would be available.
He let me know HR wasn’t aware of what he was doing and he would have to get approval.
It would take some time.</p>
<p>Every week for the next 2 1/2 months I asked for an update on my employment and severance package.
I was either ghosted or given a variety of excuses.
It’s now December 30th and I’m currently still employed by Amazon.</p>
<p>It hasn’t only been happening to my team.
This has been happening in multiple areas as Amazon silently sacks people without being required to give them severance or announce layoffs.
I’ve heard similar tactics being used at other companies–mostly large companies–and it’ll only continue in 2024 as they make decisions that drive short term profits over all else.</p>


    

    
  </article></div>]]></description>
        </item>
    </channel>
</rss>