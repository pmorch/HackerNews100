<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Sun, 10 Dec 2023 13:00:06 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Linux: Ext4 data corruption in 6.1.64-1 (118 pts)]]></title>
            <link>https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843</link>
            <guid>38589389</guid>
            <pubDate>Sun, 10 Dec 2023 05:33:19 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843">https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843</a>, See on <a href="https://news.ycombinator.com/item?id=38589389">Hacker News</a></p>
<div id="readability-page-1" class="page">
<h2>Debian Bug report logs - 
<a href="mailto:1057843@bugs.debian.org">#1057843</a><br>
linux: ext4 data corruption in 6.1.64-1</h2>
<p><a href="https://bugs.debian.org/cgi-bin/version.cgi?found=linux%2F6.1.64-1;absolute=0;info=1;package=src%3Alinux;fixed=linux%2F6.1.66-1;collapse=1"><img alt="version graph" src="https://bugs.debian.org/cgi-bin/version.cgi?found=linux%2F6.1.64-1;absolute=0;height=2;package=src%3Alinux;width=2;fixed=linux%2F6.1.66-1;collapse=1"></a></p>




<p><a href="mailto:1057843@bugs.debian.org">Reply</a> or <a href="mailto:1057843-subscribe@bugs.debian.org">subscribe</a> to this bug.</p>
<p>Toggle useless messages</p>

<div><hr><p>
<a name="1"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, debian-release@lists.debian.org, carnil@debian.org, adsb@debian.org, Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt; -->
<!-- time:1702130943 -->
<strong>Report forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, debian-release@lists.debian.org, carnil@debian.org, adsb@debian.org, Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;</code>:<br>
<code>Bug#1057843</code>; Package <code>src:linux</code>.
 (Sat, 09 Dec 2023 14:09:03 GMT) (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=2">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=2">mbox</a>, <a href="#1">link</a>).</p></div>

<div><hr><p>
<a name="3"></a>
<!-- request_addr: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- time:1702130943 -->
<strong>Acknowledgement sent</strong>
to <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>:<br>
New Bug report received and forwarded.  Copy sent to <code>debian-release@lists.debian.org, carnil@debian.org, adsb@debian.org, Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;</code>.
 (Sat, 09 Dec 2023 14:09:03 GMT) (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=4">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=4">mbox</a>, <a href="#3">link</a>).</p></div>

<hr><p><a name="5"></a><a name="msg5"></a><a href="#5">Message #5</a> received at submit@bugs.debian.org (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=5">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=5">mbox</a>, <a href="mailto:1057843@bugs.debian.org?In-Reply-To=%3C170213085751.880636.15744973723197230632.reportbug%40eldamar.lan%3E&amp;subject=Re%3A%20linux%3A%20ext4%20data%20corruption%20in%206.1.64-1&amp;References=%3C170213085751.880636.15744973723197230632.reportbug%40eldamar.lan%3E&amp;body=On%20Sat%2C%2009%20Dec%202023%2015%3A07%3A37%20%2B0100%20Salvatore%20Bonaccorso%20%3Ccarnil%40debian.org%3E%20wrote%3A%0A%3E%20Source%3A%20linux%0A%3E%20Version%3A%206.1.64-1%0A%3E%20Severity%3A%20grave%0A%3E%20Tags%3A%20upstream%0A%3E%20Justification%3A%20causes%20non-serious%20data%20loss%0A%3E%20X-Debbugs-Cc%3A%20debian-release%40lists.debian.org%2C%20carnil%40debian.org%2C%20adsb%40debian.org%0A%3E%20%0A%3E%20Hi%0A%3E%20%0A%3E%20I%27m%20filling%20this%20for%20visibility.%0A%3E%20%0A%3E%20There%20might%20be%20a%20ext4%20data%20corruption%20issue%20with%20the%20kernel%20released%0A%3E%20in%20the%2012.3%20bookworm%20point%20release%20%28which%20is%20addressed%20in%206.1.66%0A%3E%20upstream%20already%29.%0A%3E%20%0A%3E%20The%20report%20about%20the%20regression%20and%20some%20details%3A%0A%3E%20%0A%3E%20https%3A%2F%2Flore.kernel.org%2Fstable%2F20231205122122.dfhhoaswsfscuhc3%40quack3%2F%0A%3E%20%0A%3E%20Regards%2C%0A%3E%20Salvatore%0A%3E%20%0A%3E%20%0A">reply</a>):</p>

<pre>Source: linux
Version: 6.1.64-1
Severity: grave
Tags: upstream
Justification: causes non-serious data loss
X-Debbugs-Cc: debian-release@lists.debian.org, carnil@debian.org, adsb@debian.org

Hi

I'm filling this for visibility.

There might be a ext4 data corruption issue with the kernel released
in the 12.3 bookworm point release (which is addressed in 6.1.66
upstream already).

The report about the regression and some details:

<a href="https://lore.kernel.org/stable/20231205122122.dfhhoaswsfscuhc3@quack3/">https://lore.kernel.org/stable/20231205122122.dfhhoaswsfscuhc3@quack3/</a>

Regards,
Salvatore


</pre>

<div><hr><p>
<a name="6"></a>
<!-- command:tag -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1702132023 -->
<!-- new_data:
$new_data = {
              &#39;keywords&#39; =&gt; &#39;confirmed upstream&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;keywords&#39; =&gt; &#39;upstream&#39;
            };
-->
<strong>Added tag(s) confirmed.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 09 Dec 2023 14:27:03 GMT) (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=7">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=7">mbox</a>, <a href="#6">link</a>).</p></div>



<div><hr><p>
<a name="10"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt; -->
<!-- time:1702132562 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;</code>:<br>
<code>Bug#1057843</code>; Package <code>src:linux</code>.
 (Sat, 09 Dec 2023 14:36:02 GMT) (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=11">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=11">mbox</a>, <a href="#10">link</a>).</p></div>

<div><hr><p>
<a name="12"></a>
<!-- request_addr: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- time:1702132562 -->
<strong>Acknowledgement sent</strong>
to <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;</code>.
 (Sat, 09 Dec 2023 14:36:02 GMT) (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=13">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=13">mbox</a>, <a href="#12">link</a>).</p></div>

<hr><p><a name="14"></a><a name="msg14"></a><a href="#14">Message #14</a> received at 1057843@bugs.debian.org (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=14">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=14">mbox</a>, <a href="mailto:1057843@bugs.debian.org?In-Reply-To=%3CZXR6p7Ze8RwcC3Ax%40eldamar.lan%3E&amp;subject=Re%3A%20Bug%231057843%3A%20linux%3A%20ext4%20data%20corruption%20in%206.1.64-1&amp;References=%3C170213085751.880636.15744973723197230632.reportbug%40eldamar.lan%3E%0A%20%3CZXR6p7Ze8RwcC3Ax%40eldamar.lan%3E&amp;body=On%20Sat%2C%209%20Dec%202023%2015%3A33%3A11%20%2B0100%20Salvatore%20Bonaccorso%20%3Ccarnil%40debian.org%3E%20wrote%3A%0A%3E%20Running%20the%20single%20test%20with%20ext4%3A%0A%3E%20%0A%3E%20%23%20LTP_SINGLE_FS_TYPE%3Dext4%20LTP_DEV_FS_TYPE%3Dext4%20.%2Fpreadv03_64%0A%3E%20tst_device.c%3A96%3A%20TINFO%3A%20Found%20free%20device%200%20%27%2Fdev%2Floop0%27%0A%3E%20tst_test.c%3A1690%3A%20TINFO%3A%20LTP%20version%3A%2020230929-194-g5c096b2cf%0A%3E%20tst_test.c%3A1574%3A%20TINFO%3A%20Timeout%20per%20run%20is%200h%2000m%2030s%0A%3E%20tst_supported_fs_types.c%3A149%3A%20TINFO%3A%20WARNING%3A%20testing%20only%20ext4%0A%3E%20tst_supported_fs_types.c%3A90%3A%20TINFO%3A%20Kernel%20supports%20ext4%0A%3E%20tst_supported_fs_types.c%3A55%3A%20TINFO%3A%20mkfs.ext4%20does%20exist%0A%3E%20tst_test.c%3A1650%3A%20TINFO%3A%20%3D%3D%3D%20Testing%20on%20ext4%20%3D%3D%3D%0A%3E%20tst_test.c%3A1105%3A%20TINFO%3A%20Formatting%20%2Fdev%2Floop0%20with%20ext4%20opts%3D%27%27%20extra%20opts%3D%27%27%0A%3E%20mke2fs%201.47.0%20%285-Feb-2023%29%0A%3E%20tst_test.c%3A1119%3A%20TINFO%3A%20Mounting%20%2Fdev%2Floop0%20to%20%2Ftmp%2FLTP_preWBHd7l%2Fmntpoint%20fstyp%3Dext4%20flags%3D0%0A%3E%20preadv03.c%3A102%3A%20TINFO%3A%20Using%20block%20size%20512%0A%3E%20preadv03.c%3A77%3A%20TFAIL%3A%20Buffer%20wrong%20at%200%20have%2062%20expected%2061%0A%3E%20preadv03.c%3A77%3A%20TFAIL%3A%20Buffer%20wrong%20at%200%20have%2062%20expected%2061%0A%3E%20preadv03.c%3A66%3A%20TFAIL%3A%20preadv%28O_DIRECT%29%20read%200%20bytes%2C%20expected%20512%0A%3E%20%0A%3E%20Summary%3A%0A%3E%20passed%20%20%200%0A%3E%20failed%20%20%203%0A%3E%20broken%20%20%200%0A%3E%20skipped%20%200%0A%3E%20warnings%200%0A%3E%20%0A%3E%20%0A">reply</a>):</p>

<pre>Running the single test with ext4:

# LTP_SINGLE_FS_TYPE=ext4 LTP_DEV_FS_TYPE=ext4 ./preadv03_64
tst_device.c:96: TINFO: Found free device 0 '/dev/loop0'
tst_test.c:1690: TINFO: LTP version: 20230929-194-g5c096b2cf
tst_test.c:1574: TINFO: Timeout per run is 0h 00m 30s
tst_supported_fs_types.c:149: TINFO: WARNING: testing only ext4
tst_supported_fs_types.c:90: TINFO: Kernel supports ext4
tst_supported_fs_types.c:55: TINFO: mkfs.ext4 does exist
tst_test.c:1650: TINFO: === Testing on ext4 ===
tst_test.c:1105: TINFO: Formatting /dev/loop0 with ext4 opts='' extra opts=''
mke2fs 1.47.0 (5-Feb-2023)
tst_test.c:1119: TINFO: Mounting /dev/loop0 to /tmp/LTP_preWBHd7l/mntpoint fstyp=ext4 flags=0
preadv03.c:102: TINFO: Using block size 512
preadv03.c:77: TFAIL: Buffer wrong at 0 have 62 expected 61
preadv03.c:77: TFAIL: Buffer wrong at 0 have 62 expected 61
preadv03.c:66: TFAIL: preadv(O_DIRECT) read 0 bytes, expected 512

Summary:
passed   0
failed   3
broken   0
skipped  0
warnings 0


</pre>

<div><hr><p>
<a name="15"></a>
<!-- command:tag -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1702132743 -->
<!-- new_data:
$new_data = {
              &#39;keywords&#39; =&gt; &#39;upstream fixed-upstream confirmed&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;keywords&#39; =&gt; &#39;confirmed upstream&#39;
            };
-->
<strong>Added tag(s) fixed-upstream.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 09 Dec 2023 14:39:03 GMT) (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=16">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=16">mbox</a>, <a href="#15">link</a>).</p></div>

<div><hr><p>
<a name="17"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt; -->
<!-- time:1702133822 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;</code>:<br>
<code>Bug#1057843</code>; Package <code>src:linux</code>.
 (Sat, 09 Dec 2023 14:57:02 GMT) (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=18">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=18">mbox</a>, <a href="#17">link</a>).</p></div>

<div><hr><p>
<a name="19"></a>
<!-- request_addr: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- time:1702133822 -->
<strong>Acknowledgement sent</strong>
to <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;</code>.
 (Sat, 09 Dec 2023 14:57:02 GMT) (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=20">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=20">mbox</a>, <a href="#19">link</a>).</p></div>

<hr><p><a name="21"></a><a name="msg21"></a><a href="#21">Message #21</a> received at 1057843@bugs.debian.org (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=21">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=21">mbox</a>, <a href="mailto:1057843@bugs.debian.org?body=On%20Sat%2C%209%20Dec%202023%2015%3A53%3A03%20%2B0100%20Salvatore%20Bonaccorso%20%3Ccarnil%40debian.org%3E%20wrote%3A%0A%3E%20Hi%2C%0A%3E%20%0A%3E%20On%20Sat%2C%20Dec%2009%2C%202023%20at%2003%3A07%3A37PM%20%2B0100%2C%20Salvatore%20Bonaccorso%20wrote%3A%0A%3E%20%3E%20Source%3A%20linux%0A%3E%20%3E%20Version%3A%206.1.64-1%0A%3E%20%3E%20Severity%3A%20grave%0A%3E%20%3E%20Tags%3A%20upstream%0A%3E%20%3E%20Justification%3A%20causes%20non-serious%20data%20loss%0A%3E%20%3E%20X-Debbugs-Cc%3A%20debian-release%40lists.debian.org%2C%20carnil%40debian.org%2C%20adsb%40debian.org%0A%3E%20%3E%20%0A%3E%20%3E%20Hi%0A%3E%20%3E%20%0A%3E%20%3E%20I%27m%20filling%20this%20for%20visibility.%0A%3E%20%3E%20%0A%3E%20%3E%20There%20might%20be%20a%20ext4%20data%20corruption%20issue%20with%20the%20kernel%20released%0A%3E%20%3E%20in%20the%2012.3%20bookworm%20point%20release%20%28which%20is%20addressed%20in%206.1.66%0A%3E%20%3E%20upstream%20already%29.%0A%3E%20%3E%20%0A%3E%20%3E%20The%20report%20about%20the%20regression%20and%20some%20details%3A%0A%3E%20%3E%20%0A%3E%20%3E%20https%3A%2F%2Flore.kernel.org%2Fstable%2F20231205122122.dfhhoaswsfscuhc3%40quack3%2F%0A%3E%20%0A%3E%206.1.66%20upstream%20fixes%20the%20issue%3A%0A%3E%20%0A%3E%20%23%20uname%20-a%0A%3E%20Linux%20bookworm-amd64%206.1.0-15-amd64%20%231%20SMP%20PREEMPT_DYNAMIC%20Debian%206.1.66-1%20%282023-12-06%29%20x86_64%20GNU%2FLinux%0A%3E%20%23%20LTP_SINGLE_FS_TYPE%3Dext4%20LTP_DEV_FS_TYPE%3Dext4%20.%2Fpreadv03_64%0A%3E%20tst_device.c%3A96%3A%20TINFO%3A%20Found%20free%20device%200%20%27%2Fdev%2Floop0%27%0A%3E%20tst_test.c%3A1690%3A%20TINFO%3A%20LTP%20version%3A%2020230929-194-g5c096b2cf%0A%3E%20tst_test.c%3A1574%3A%20TINFO%3A%20Timeout%20per%20run%20is%200h%2000m%2030s%0A%3E%20tst_supported_fs_types.c%3A149%3A%20TINFO%3A%20WARNING%3A%20testing%20only%20ext4%0A%3E%20tst_supported_fs_types.c%3A90%3A%20TINFO%3A%20Kernel%20supports%20ext4%0A%3E%20tst_supported_fs_types.c%3A55%3A%20TINFO%3A%20mkfs.ext4%20does%20exist%0A%3E%20tst_test.c%3A1650%3A%20TINFO%3A%20%3D%3D%3D%20Testing%20on%20ext4%20%3D%3D%3D%0A%3E%20tst_test.c%3A1105%3A%20TINFO%3A%20Formatting%20%2Fdev%2Floop0%20with%20ext4%20opts%3D%27%27%20extra%20opts%3D%27%27%0A%3E%20mke2fs%201.47.0%20%285-Feb-2023%29%0A%3E%20tst_test.c%3A1119%3A%20TINFO%3A%20Mounting%20%2Fdev%2Floop0%20to%20%2Ftmp%2FLTP_preGGYjTj%2Fmntpoint%20fstyp%3Dext4%20flags%3D0%0A%3E%20preadv03.c%3A102%3A%20TINFO%3A%20Using%20block%20size%20512%0A%3E%20preadv03.c%3A87%3A%20TPASS%3A%20preadv%28O_DIRECT%29%20read%20512%20bytes%20successfully%20with%20content%20%27a%27%20expectedly%0A%3E%20preadv03.c%3A87%3A%20TPASS%3A%20preadv%28O_DIRECT%29%20read%20512%20bytes%20successfully%20with%20content%20%27a%27%20expectedly%0A%3E%20preadv03.c%3A87%3A%20TPASS%3A%20preadv%28O_DIRECT%29%20read%20512%20bytes%20successfully%20with%20content%20%27b%27%20expectedly%0A%3E%20%0A%3E%20Summary%3A%0A%3E%20passed%20%20%203%0A%3E%20failed%20%20%200%0A%3E%20broken%20%20%200%0A%3E%20skipped%20%200%0A%3E%20warnings%200%0A%3E%20%0A%3E%20Regards%2C%0A%3E%20Salvatore%0A%3E%20%0A%3E%20%0A&amp;References=%3C170213085751.880636.15744973723197230632.reportbug%40eldamar.lan%3E%0A%20%3CZXR_TwLmkoTlM7Il%40eldamar.lan%3E&amp;subject=Re%3A%20Bug%231057843%3A%20linux%3A%20ext4%20data%20corruption%20in%206.1.64-1&amp;In-Reply-To=%3CZXR_TwLmkoTlM7Il%40eldamar.lan%3E">reply</a>):</p>

<pre>Hi,

On Sat, Dec 09, 2023 at 03:07:37PM +0100, Salvatore Bonaccorso wrote:
&gt; Source: linux
&gt; Version: 6.1.64-1
&gt; Severity: grave
&gt; Tags: upstream
&gt; Justification: causes non-serious data loss
&gt; X-Debbugs-Cc: debian-release@lists.debian.org, carnil@debian.org, adsb@debian.org
&gt; 
&gt; Hi
&gt; 
&gt; I'm filling this for visibility.
&gt; 
&gt; There might be a ext4 data corruption issue with the kernel released
&gt; in the 12.3 bookworm point release (which is addressed in 6.1.66
&gt; upstream already).
&gt; 
&gt; The report about the regression and some details:
&gt; 
&gt; <a href="https://lore.kernel.org/stable/20231205122122.dfhhoaswsfscuhc3@quack3/">https://lore.kernel.org/stable/20231205122122.dfhhoaswsfscuhc3@quack3/</a>

6.1.66 upstream fixes the issue:

# uname -a
Linux bookworm-amd64 6.1.0-15-amd64 #1 SMP PREEMPT_DYNAMIC Debian 6.1.66-1 (2023-12-06) x86_64 GNU/Linux
# LTP_SINGLE_FS_TYPE=ext4 LTP_DEV_FS_TYPE=ext4 ./preadv03_64
tst_device.c:96: TINFO: Found free device 0 '/dev/loop0'
tst_test.c:1690: TINFO: LTP version: 20230929-194-g5c096b2cf
tst_test.c:1574: TINFO: Timeout per run is 0h 00m 30s
tst_supported_fs_types.c:149: TINFO: WARNING: testing only ext4
tst_supported_fs_types.c:90: TINFO: Kernel supports ext4
tst_supported_fs_types.c:55: TINFO: mkfs.ext4 does exist
tst_test.c:1650: TINFO: === Testing on ext4 ===
tst_test.c:1105: TINFO: Formatting /dev/loop0 with ext4 opts='' extra opts=''
mke2fs 1.47.0 (5-Feb-2023)
tst_test.c:1119: TINFO: Mounting /dev/loop0 to /tmp/LTP_preGGYjTj/mntpoint fstyp=ext4 flags=0
preadv03.c:102: TINFO: Using block size 512
preadv03.c:87: TPASS: preadv(O_DIRECT) read 512 bytes successfully with content 'a' expectedly
preadv03.c:87: TPASS: preadv(O_DIRECT) read 512 bytes successfully with content 'a' expectedly
preadv03.c:87: TPASS: preadv(O_DIRECT) read 512 bytes successfully with content 'b' expectedly

Summary:
passed   3
failed   0
broken   0
skipped  0
warnings 0

Regards,
Salvatore


</pre>

<div><hr><p>
<a name="22"></a>
<!-- command:tag -->
<!-- requester: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1702139223 -->
<!-- new_data:
$new_data = {
              &#39;keywords&#39; =&gt; &#39;upstream confirmed pending fixed-upstream&#39;
            };
-->
<!-- old_data:
$old_data = {
              &#39;keywords&#39; =&gt; &#39;upstream fixed-upstream confirmed&#39;
            };
-->
<strong>Added tag(s) pending.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 09 Dec 2023 16:27:03 GMT) (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=23">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=23">mbox</a>, <a href="#22">link</a>).</p></div>

<div><hr><p>
<a name="24"></a>
<!-- request_addr: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- time:1702144808 -->
<strong>Reply sent</strong>
to <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>:<br>
You have taken responsibility.
 (Sat, 09 Dec 2023 18:00:08 GMT) (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=25">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=25">mbox</a>, <a href="#24">link</a>).</p></div>

<div><hr><p>
<a name="26"></a>
<!-- request_addr: Salvatore Bonaccorso &lt;carnil@debian.org&gt; -->
<!-- time:1702144808 -->
<strong>Notification sent</strong>
to <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>:<br>
Bug acknowledged by developer.
 (Sat, 09 Dec 2023 18:00:08 GMT) (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=27">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=27">mbox</a>, <a href="#26">link</a>).</p></div>

<hr><p><a name="28"></a><a name="msg28"></a><a href="#28">Message #28</a> received at 1057843-close@bugs.debian.org (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=28">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=28">mbox</a>, <a href="mailto:1057843@bugs.debian.org?body=On%20Sat%2C%2009%20Dec%202023%2017%3A56%3A32%20%2B0000%20Debian%20FTP%20Masters%20%3Cftpmaster%40ftp-master.debian.org%3E%20wrote%3A%0A%3E%20Source%3A%20linux%0A%3E%20Source-Version%3A%206.1.66-1%0A%3E%20Done%3A%20Salvatore%20Bonaccorso%20%3Ccarnil%40debian.org%3E%0A%3E%20%0A%3E%20We%20believe%20that%20the%20bug%20you%20reported%20is%20fixed%20in%20the%20latest%20version%20of%0A%3E%20linux%2C%20which%20is%20due%20to%20be%20installed%20in%20the%20Debian%20FTP%20archive.%0A%3E%20%0A%3E%20A%20summary%20of%20the%20changes%20between%20this%20version%20and%20the%20previous%20one%20is%0A%3E%20attached.%0A%3E%20%0A%3E%20Thank%20you%20for%20reporting%20the%20bug%2C%20which%20will%20now%20be%20closed.%20%20If%20you%0A%3E%20have%20further%20comments%20please%20address%20them%20to%201057843%40bugs.debian.org%2C%0A%3E%20and%20the%20maintainer%20will%20reopen%20the%20bug%20report%20if%20appropriate.%0A%3E%20%0A%3E%20Debian%20distribution%20maintenance%20software%0A%3E%20pp.%0A%3E%20Salvatore%20Bonaccorso%20%3Ccarnil%40debian.org%3E%20%28supplier%20of%20updated%20linux%20package%29%0A%3E%20%0A%3E%20%28This%20message%20was%20generated%20automatically%20at%20their%20request%3B%20if%20you%0A%3E%20believe%20that%20there%20is%20a%20problem%20with%20it%20please%20contact%20the%20archive%0A%3E%20administrators%20by%20mailing%20ftpmaster%40ftp-master.debian.org%29%0A%3E%20%0A%3E%20%0A%3E%20-----BEGIN%20PGP%20SIGNED%20MESSAGE-----%0A%3E%20Hash%3A%20SHA512%0A%3E%20%0A%3E%20Format%3A%201.8%0A%3E%20Date%3A%20Sat%2C%2009%20Dec%202023%2016%3A48%3A39%20%2B0100%0A%3E%20Source%3A%20linux%0A%3E%20Architecture%3A%20source%0A%3E%20Version%3A%206.1.66-1%0A%3E%20Distribution%3A%20bookworm%0A%3E%20Urgency%3A%20medium%0A%3E%20Maintainer%3A%20Debian%20Kernel%20Team%20%3Cdebian-kernel%40lists.debian.org%3E%0A%3E%20Changed-By%3A%20Salvatore%20Bonaccorso%20%3Ccarnil%40debian.org%3E%0A%3E%20Closes%3A%201032104%201057790%201057843%0A%3E%20Changes%3A%0A%3E%20%20linux%20%286.1.66-1%29%20bookworm%3B%20urgency%3Dmedium%0A%3E%20%20.%0A%3E%20%20%20%20%2A%20New%20upstream%20stable%20update%3A%0A%3E%20%20%20%20%20%20https%3A%2F%2Fwww.kernel.org%2Fpub%2Flinux%2Fkernel%2Fv6.x%2FChangeLog-6.1.65%0A%3E%20%20%20%20%20%20-%20afs%3A%20Fix%20afs_server_list%20to%20be%20cleaned%20up%20with%20RCU%0A%3E%20%20%20%20%20%20-%20afs%3A%20Make%20error%20on%20cell%20lookup%20failure%20consistent%20with%20OpenAFS%0A%3E%20%20%20%20%20%20-%20%5Barm64%2Carmhf%5D%20drm%2Fpanel%3A%20simple%3A%20Fix%20Innolux%20G101ICE-L01%20bus%20flags%0A%3E%20%20%20%20%20%20-%20%5Barm64%2Carmhf%5D%20drm%2Fpanel%3A%20simple%3A%20Fix%20Innolux%20G101ICE-L01%20timings%0A%3E%20%20%20%20%20%20-%20wireguard%3A%20use%20DEV_STATS_INC%28%29%0A%3E%20%20%20%20%20%20-%20ata%3A%20pata_isapnp%3A%20Add%20missing%20error%20check%20for%20devm_ioport_map%28%29%0A%3E%20%20%20%20%20%20-%20%5Bx86%5D%20drm%2Fi915%3A%20do%20not%20clean%20GT%20table%20on%20error%20path%0A%3E%20%20%20%20%20%20-%20%5Barm64%2Carmhf%5D%20drm%2Frockchip%3A%20vop%3A%20Fix%20color%20for%20RGB888%2FBGR888%20format%20on%20VOP%0A%3E%20%20%20%20%20%20%20%20full%0A%3E%20%20%20%20%20%20-%20HID%3A%20fix%20HID%20device%20resource%20race%20between%20HID%20core%20and%20debugging%20support%0A%3E%20%20%20%20%20%20-%20ipv4%3A%20Correct%2Fsilence%20an%20endian%20warning%20in%20__ip_do_redirect%0A%3E%20%20%20%20%20%20-%20net%3A%20usb%3A%20ax88179_178a%3A%20fix%20failed%20operations%20during%20ax88179_reset%0A%3E%20%20%20%20%20%20-%20net%2Fsmc%3A%20avoid%20data%20corruption%20caused%20by%20decline%0A%3E%20%20%20%20%20%20-%20%5Barmhf%5D%20arm%2Fxen%3A%20fix%20xen_vcpu_info%20allocation%20alignment%0A%3E%20%20%20%20%20%20-%20%5Bamd64%2Carm64%5D%20amd-xgbe%3A%20handle%20corner-case%20during%20sfp%20hotplug%0A%3E%20%20%20%20%20%20-%20%5Bamd64%2Carm64%5D%20amd-xgbe%3A%20handle%20the%20corner-case%20during%20tx%20completion%0A%3E%20%20%20%20%20%20-%20%5Bamd64%2Carm64%5D%20amd-xgbe%3A%20propagate%20the%20correct%20speed%20and%20duplex%20status%0A%3E%20%20%20%20%20%20-%20afs%3A%20Return%20ENOENT%20if%20no%20cell%20DNS%20record%20can%20be%20found%0A%3E%20%20%20%20%20%20-%20afs%3A%20Fix%20file%20locking%20on%20R%2FO%20volumes%20to%20operate%20in%20local%20mode%0A&amp;In-Reply-To=%3CE1rC1Z2-0039fW-ST%40fasolo.debian.org%3E&amp;References=%3CE1rC1Z2-0039fW-ST%40fasolo.debian.org%3E&amp;subject=Re%3A%20Bug%231057843%3A%20fixed%20in%20linux%206.1.66-1">reply</a>):</p>

<pre>Source: linux
Source-Version: 6.1.66-1
Done: Salvatore Bonaccorso &lt;carnil@debian.org&gt;

We believe that the bug you reported is fixed in the latest version of
linux, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 1057843@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Salvatore Bonaccorso &lt;carnil@debian.org&gt; (supplier of updated linux package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Format: 1.8
Date: Sat, 09 Dec 2023 16:48:39 +0100
Source: linux
Architecture: source
Version: 6.1.66-1
Distribution: bookworm
Urgency: medium
Maintainer: Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;
Changed-By: Salvatore Bonaccorso &lt;carnil@debian.org&gt;
Closes: <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1032104">1032104</a> <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057790">1057790</a> <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843">1057843</a>
Changes:
 linux (6.1.66-1) bookworm; urgency=medium
 .
   * New upstream stable update:
     <a href="https://www.kernel.org/pub/linux/kernel/v6.x/ChangeLog-6.1.65">https://www.kernel.org/pub/linux/kernel/v6.x/ChangeLog-6.1.65</a>
     - afs: Fix afs_server_list to be cleaned up with RCU
     - afs: Make error on cell lookup failure consistent with OpenAFS
     - [arm64,armhf] drm/panel: simple: Fix Innolux G101ICE-L01 bus flags
     - [arm64,armhf] drm/panel: simple: Fix Innolux G101ICE-L01 timings
     - wireguard: use DEV_STATS_INC()
     - ata: pata_isapnp: Add missing error check for devm_ioport_map()
     - [x86] drm/i915: do not clean GT table on error path
     - [arm64,armhf] drm/rockchip: vop: Fix color for RGB888/BGR888 format on VOP
       full
     - HID: fix HID device resource race between HID core and debugging support
     - ipv4: Correct/silence an endian warning in __ip_do_redirect
     - net: usb: ax88179_178a: fix failed operations during ax88179_reset
     - net/smc: avoid data corruption caused by decline
     - [armhf] arm/xen: fix xen_vcpu_info allocation alignment
     - [amd64,arm64] amd-xgbe: handle corner-case during sfp hotplug
     - [amd64,arm64] amd-xgbe: handle the corner-case during tx completion
     - [amd64,arm64] amd-xgbe: propagate the correct speed and duplex status
     - afs: Return ENOENT if no cell DNS record can be found
     - afs: Fix file locking on R/O volumes to operate in local mode
     - mm,kfence: decouple kfence from page granularity mapping judgement
     - i40e: use ERR_PTR error print in i40e messages
     - i40e: Fix adding unsupported cloud filters
     - [arm64] USB: dwc3: qcom: fix resource leaks on probe deferral
     - [arm64] USB: dwc3: qcom: fix ACPI platform device leak
     - lockdep: Fix block chain corruption
     - cifs: minor cleanup of some headers
     - smb3: allow dumping session and tcon id to improve stats analysis and
       debugging
     - cifs: print last update time for interface list
     - cifs: distribute channels across interfaces based on speed
     - cifs: account for primary channel in the interface list
     - cifs: fix leak of iface for primary channel
     - ext4: add a new helper to check if es must be kept
     - ext4: factor out __es_alloc_extent() and __es_free_extent()
     - ext4: use pre-allocated es in __es_insert_extent()
     - ext4: use pre-allocated es in __es_remove_extent()
     - ext4: using nofail preallocation in ext4_es_remove_extent()
     - ext4: using nofail preallocation in ext4_es_insert_delayed_block()
     - ext4: using nofail preallocation in ext4_es_insert_extent()
     - ext4: fix slab-use-after-free in ext4_es_insert_extent()
     - ext4: make sure allocate pending entry not fail
     - NFSD: Fix "start of NFS reply" pointer passed to nfsd_cache_update()
     - NFSD: Fix checksum mismatches in the duplicate reply cache
     - ACPI: resource: Skip IRQ override on ASUS ExpertBook B1402CVA
     - swiotlb-xen: provide the "max_mapping_size" method
     - bcache: replace a mistaken IS_ERR() by IS_ERR_OR_NULL() in
       btree_gc_coalesce()
     - md: fix bi_status reporting in md_end_clone_io
     - bcache: fixup multi-threaded bch_sectors_dirty_init() wake-up race
     - io_uring/fs: consider link-&gt;flags when getting path for LINKAT
     - [s390x] dasd: protect device queue against concurrent access
     - USB: serial: option: add Luat Air72*U series products
     - hv_netvsc: fix race of netvsc and VF register_netdevice
     - hv_netvsc: Fix race of register_netdevice_notifier and VF register
     - hv_netvsc: Mark VF as slave before exposing it to user-mode
     - dm-delay: fix a race between delay_presuspend and delay_bio
     - bcache: check return value from btree_node_alloc_replacement()
     - bcache: prevent potential division by zero error
     - bcache: fixup init dirty data errors
     - bcache: fixup lock c-&gt;root error
     - USB: serial: option: add Fibocom L7xx modules
     - USB: serial: option: fix FM101R-GL defines
     - USB: serial: option: don't claim interface 4 for ZTE MF290
     - usb: typec: tcpm: Skip hard reset when in error recovery
     - [arm64,armhf] USB: dwc2: write HCINT with INTMASK applied
     - [arm64,armhf] usb: dwc3: Fix default mode initialization
     - [arm64,armhf] usb: dwc3: set the dma max_seg_size
     - [arm64] USB: dwc3: qcom: fix software node leak on probe errors
     - [arm64] USB: dwc3: qcom: fix wakeup after probe deferral
     - io_uring: fix off-by one bvec index
     <a href="https://www.kernel.org/pub/linux/kernel/v6.x/ChangeLog-6.1.66">https://www.kernel.org/pub/linux/kernel/v6.x/ChangeLog-6.1.66</a>
     - cifs: Fix FALLOC_FL_ZERO_RANGE by setting i_size if EOF moved
     - cifs: Fix FALLOC_FL_INSERT_RANGE by setting i_size after EOF moved
     - smb: client: report correct st_size for SMB and NFS symlinks
     - pinctrl: avoid reload of p state in list iteration
     - firewire: core: fix possible memory leak in create_units()
     - mmc: sdhci-pci-gli: Disable LPM during initialization
     - mmc: cqhci: Increase recovery halt timeout
     - mmc: cqhci: Warn of halt or task clear failure
     - mmc: cqhci: Fix task clearing in CQE error recovery
     - mmc: block: Retry commands in CQE error recovery
     - mmc: block: Do not lose cache flush during CQE error recovery
     - mmc: block: Be sure to wait while busy in CQE error recovery
     - ALSA: hda: Disable power-save on KONTRON SinglePC
     - ALSA: hda/realtek: Headset Mic VREF to 100%
     - ALSA: hda/realtek: Add supported ALC257 for ChromeOS
     - dm-verity: align struct dm_verity_fec_io properly
     - scsi: Change SCSI device boolean fields to single bit flags
     - scsi: sd: Fix system start for ATA devices
     - drm/amd: Enable PCIe PME from D3
     - drm/amdgpu: Force order between a read and write to the same address
     - drm/amd/display: Include udelay when waiting for INBOX0 ACK
     - drm/amd/display: Remove min_dst_y_next_start check for Z8
     - drm/amd/display: Use DRAM speed from validation for dummy p-state
     - drm/amd/display: Update min Z8 residency time to 2100 for DCN314
     - drm/amd/display: fix ABM disablement
     - dm verity: initialize fec io before freeing it
     - dm verity: don't perform FEC for failed readahead IO
     - nvme: check for valid nvme_identify_ns() before using it
     - [x86] cpufreq/amd-pstate: Fix the return value of amd_pstate_fast_switch()
     - dma-buf: fix check in dma_resv_add_fence
     - bcache: revert replacing IS_ERR_OR_NULL with IS_ERR
     - [amd64] iommu/vt-d: Add MTL to quirk list to skip TE disabling
     - [powerpc*] KVM: PPC: Book3S HV: Fix KVM_RUN clobbering FP/VEC user
       registers
     - [powerpc*] Don't clobber f0/vs0 during fp|altivec register save
       (Closes: #<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1032104">1032104</a>)
     - btrfs: add dmesg output for first mount and last unmount of a filesystem
     - btrfs: ref-verify: fix memory leaks in btrfs_ref_tree_mod()
     - btrfs: fix off-by-one when checking chunk map includes logical address
     - btrfs: send: ensure send_fd is writable
     - btrfs: make error messages more clear when getting a chunk map
     - btrfs: fix 64bit compat send ioctl arguments not initializing version
       member
     - Input: xpad - add HyperX Clutch Gladiate Support
     - wifi: cfg80211: fix CQM for non-range use
     - [arm64,armhf] USB: xhci-plat: fix legacy PHY double init
     - USB: core: Change configuration warnings to notices
     - usb: config: fix iteration issue in 'usb_get_bos_descriptor()'
     - ipv4: igmp: fix refcnt uaf issue when receiving igmp query packet
     - [arm64] dpaa2-eth: increase the needed headroom to account for alignment
     - net: stmmac: xgmac: Disable FPE MMC interrupts
     - r8169: prevent potential deadlock in rtl8169_close
     - [x86] KVM: x86: Fix lapic timer interrupt lost after loading a snapshot.
     - PCI: Lengthen reset delay for VideoPropulsion Torrent QN16e card
     - spi: Fix null dereference on suspend
     - drm/amd/display: Restore rptr/wptr for DMCUB as workaround
     - drm/amd/display: Guard against invalid RPTR/WPTR being set
     - [armhf] cpufreq: imx6q: don't warn for disabling a non-existing frequency
     - [armhf] cpufreq: imx6q: Don't disable 792 Mhz OPP unnecessarily
     - [amd64] iommu/vt-d: Omit devTLB invalidation requests when TES=0
     - [amd64] iommu/vt-d: Allocate pasid table in device probe path
     - [amd64] iommu/vt-d: Add device_block_translation() helper
     - [amd64] iommu/vt-d: Disable PCI ATS in legacy passthrough mode
     - [amd64] iommu/vt-d: Make context clearing consistent with context mapping
     - drm/amd/pm: fix a memleak in aldebaran_tables_init
     - mmc: core: add helpers mmc_regulator_enable/disable_vqmmc
     - mmc: sdhci-sprd: Fix vqmmc not shutting down after the card was pulled
     - drm/amd/display: Expand kernel doc for DC
     - drm/amd/display: clean code-style issues in dcn30_set_mpc_shaper_3dlut
     - drm/amd/display: Fix the delta clamping for shaper LUT
     - drm/amd/display: Fix MPCC 1DLUT programming
     - r8169: disable ASPM in case of tx timeout
     - r8169: fix deadlock on RTL8125 in jumbo mtu mode (Closes: #<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057790">1057790</a>)
     - xen: Allow platform PCI interrupt to be shared
     - xen: simplify evtchn_do_upcall() call maze
     - [x86] xen: fix percpu vcpu_info allocation
     - [x86] apic/msi: Fix misconfigured non-maskable MSI quirk
     - iomap: update ki_pos a little later in iomap_dio_complete
       (Closes: #<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843">1057843</a>)
 .
   [ Salvatore Bonaccorso ]
   * Bump ABI to 15
   * [rt] Update to 6.1.66-rt19
Checksums-Sha1:
 75d087cfc109545360cb85628ca2068a656f58bf 290924 linux_6.1.66-1.dsc
 bec397772676a6f06e2fde4c2328bcdc0beaea06 137491816 linux_6.1.66.orig.tar.xz
 af301e107224490faeda530343f96f17c0684f71 1580256 linux_6.1.66-1.debian.tar.xz
 348664cfbc75b567cf6256557f0c3d09fc8f7997 7065 linux_6.1.66-1_source.buildinfo
Checksums-Sha256:
 769e7dae9fe82bc29b55eb606fda6b0cc6221294a2ba3d7e7fcc78de84683f61 290924 linux_6.1.66-1.dsc
 71edfafca7cd8eaae26a8d29c1091bd39cfc2d196de38570b159c94f0d3e1ad5 137491816 linux_6.1.66.orig.tar.xz
 907af29ab9ff38594df378ba5c60619110389b92ba2a09a21adc0382f76e0240 1580256 linux_6.1.66-1.debian.tar.xz
 342dddfc2e87c8e8211e130e19253e23c1f5952036f29b4c9a7f9273c074d94a 7065 linux_6.1.66-1_source.buildinfo
Files:
 505a701b509c26df837dc4a6ff0f0844 290924 kernel optional linux_6.1.66-1.dsc
 ea8af00da46c0f6392324e83554102a2 137491816 kernel optional linux_6.1.66.orig.tar.xz
 307f584ef754457e172ad498979cba6c 1580256 kernel optional linux_6.1.66-1.debian.tar.xz
 2f1f205c788b2a730a7e7a89145dbf7d 7065 kernel optional linux_6.1.66-1_source.buildinfo

-----BEGIN PGP SIGNATURE-----

iQKmBAEBCgCQFiEERkRAmAjBceBVMd3uBUy48xNDz0QFAmV0kZ5fFIAAAAAALgAo
aXNzdWVyLWZwckBub3RhdGlvbnMub3BlbnBncC5maWZ0aGhvcnNlbWFuLm5ldDQ2
NDQ0MDk4MDhDMTcxRTA1NTMxRERFRTA1NENCOEYzMTM0M0NGNDQSHGNhcm5pbEBk
ZWJpYW4ub3JnAAoJEAVMuPMTQ89ErmUP/RZZN1ZMRy2nqQWPqXDrMUci6fOWcUCj
ZPAH/B9D9/+FYyRylJz8NENzJj82ZfNAUdKNMG0odp85pe6UOwvi6qMVIrsM3UrB
AQEbzEA0CS8XSTD2qdmOe2EaWHi0LvnopIQRGFy5Z3auQOk+EADbibRi2qZjM0Te
+Y1++jfXXLjbY5o+2oJMzaxZLBYRBcQizWfRKWjX4tmwcAZppABFShB5XEBlbeKx
8TZ6HhacpW3UImc1CTi8wFeO3T27bn4HQ9mLeW5vLh8bzbB3wnzmFzOn2wJj8Qf8
lRe6+oolFewZ57hBJjvDoK4CwQ9hapwPMJpAaG1NpE4QXIAAapb3OD5DP8vpsoTQ
bORrs3kvDRCA1ooCmGaEW7JBlolLl/mMxrIR4yGMzkXnA37UmAJ/PfmAJJO81J+H
cAhHdicTGrs6KQfNBBQzHC9vBJZNJ3Z5PpAXUncGQUDRueEz9kJXdwzZDkOf5DCC
JHrBXn7EZQLANXTeCg0za6/29VwURbSmUWXLk914sHb4xEPO/ivOpZAT8baB0JTV
hF8J6rzTyqsbv7gOFgOgrCCCvh5XU9Nvl7W3mRIHwiCdBKr39goL2V1S08kt0bmS
RLW+46T5U3Flcr5UGoIoEoBsav16aaHfaQ7mx182GGoAJqUf6tM4PuC4mDt1W4pQ
4o6djxs85N9S
=gQo4
-----END PGP SIGNATURE-----



</pre>

<div><hr><p>
<a name="29"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt; -->
<!-- time:1702195205 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;</code>:<br>
<code>Bug#1057843</code>; Package <code>src:linux</code>.
 (Sun, 10 Dec 2023 08:00:05 GMT) (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=30">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=30">mbox</a>, <a href="#29">link</a>).</p></div>

<div><hr><p>
<a name="31"></a>
<!-- request_addr: Stephan Verbücheln &lt;verbuecheln@posteo.de&gt; -->
<!-- time:1702195205 -->
<strong>Acknowledgement sent</strong>
to <code>Stephan Verbücheln &lt;verbuecheln@posteo.de&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;</code>.
 (Sun, 10 Dec 2023 08:00:05 GMT) (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=32">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=32">mbox</a>, <a href="#31">link</a>).</p></div>

<hr><p><a name="33"></a><a name="msg33"></a><a href="#33">Message #33</a> received at 1057843@bugs.debian.org (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=33">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=33">mbox</a>, <a href="mailto:1057843@bugs.debian.org?body=On%20Sun%2C%2010%20Dec%202023%2007%3A56%3A36%20%2B0000%20Stephan%20%3D%3FISO-8859-1%3FQ%3FVerb%3DFCcheln%3F%3D%20%3Cverbuecheln%40posteo.de%3E%20wrote%3A%0A%3E%20Are%20there%20any%20guidelines%20for%20affected%20users%20who%20already%20updated%20before%0A%3E%20they%20got%20the%20warning%3F%0A%3E%20%0A%3E%20Interesting%20questions%20for%20affected%20users%3A%0A%3E%20-%20Is%20it%20safe%20to%20assume%20that%20other%20filesystems%20%28like%20BTRFS%29%20are%20not%0A%3E%20affected%3F%0A%3E%20-%20Does%20this%20cause%20filesystem%20corruption%20or%20only%20file%20corruption%3F%0A%3E%20-%20Does%20this%20affect%20metadata%20or%20only%20file%20contents%3F%0A%3E%20-%20Is%20there%20a%20way%20to%20detect%20corrupted%20files%3F%0A%3E%20-%20If%20metadata%20is%20not%20affected%2C%20is%20it%20safe%20to%20assume%20that%20all%20files%20with%0A%3E%20a%20modification%20date%20older%20than%20the%20update%20are%20fine%3F%0A%3E%20-%20Does%20it%20help%20to%20shut%20down%20services%20%28such%20as%20Apache%29%20or%20the%20whole%0A%3E%20machine%20until%20the%20fix%20is%20available%3F%0A%3E%20%0A%3E%20%0A%3E%20%0A&amp;References=%3C170213085751.880636.15744973723197230632.reportbug%40eldamar.lan%3E%0A%09%20%3CZXR_TwLmkoTlM7Il%40eldamar.lan%3E%0A%20%3Ceb683128391f1068690f55df4383d7e585d89cb5.camel%40posteo.de%3E&amp;subject=Re%3A%20Bug%231057843%3A%20Guidelines%20for%20affected%20users&amp;In-Reply-To=%3Ceb683128391f1068690f55df4383d7e585d89cb5.camel%40posteo.de%3E">reply</a>):</p>

<pre>Are there any guidelines for affected users who already updated before
they got the warning?

Interesting questions for affected users:
- Is it safe to assume that other filesystems (like BTRFS) are not
affected?
- Does this cause filesystem corruption or only file corruption?
- Does this affect metadata or only file contents?
- Is there a way to detect corrupted files?
- If metadata is not affected, is it safe to assume that all files with
a modification date older than the update are fine?
- Does it help to shut down services (such as Apache) or the whole
machine until the fix is available?



</pre>

<div><hr><p>
<a name="34"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt; -->
<!-- time:1702201323 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;</code>:<br>
<code>Bug#1057843</code>; Package <code>src:linux</code>.
 (Sun, 10 Dec 2023 09:42:03 GMT) (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=35">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=35">mbox</a>, <a href="#34">link</a>).</p></div>

<div><hr><p>
<a name="36"></a>
<!-- request_addr: Dale Richards &lt;dale@dalerichards.net&gt; -->
<!-- time:1702201323 -->
<strong>Acknowledgement sent</strong>
to <code>Dale Richards &lt;dale@dalerichards.net&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;</code>.
 (Sun, 10 Dec 2023 09:42:03 GMT) (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=37">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=37">mbox</a>, <a href="#36">link</a>).</p></div>

<hr><p><a name="38"></a><a name="msg38"></a><a href="#38">Message #38</a> received at 1057843@bugs.debian.org (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=38">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=38">mbox</a>, <a href="mailto:1057843@bugs.debian.org?In-Reply-To=%3Ca722c3143849adf970ef67050861bf686dfb6933.camel%40dalerichards.net%3E&amp;References=%3Ca722c3143849adf970ef67050861bf686dfb6933.camel%40dalerichards.net%3E&amp;subject=Re%3A%20Bug%231057843%3A%20Guidelines%20for%20affected%20users&amp;body=On%20Sun%2C%2010%20Dec%202023%2009%3A39%3A21%20%2B0000%20Dale%20Richards%20%3Cdale%40dalerichards.net%3E%20wrote%3A%0A%3E%20On%20Sun%2C%2010%20Dec%202023%2007%3A56%3A36%20%2B0000%20Stephan%20%3D%3FISO-8859-%0A%3E%201%3FQ%3FVerb%3DFCcheln%3F%3D%20%3Cverbuecheln%40posteo.de%3E%20wrote%3A%0A%3E%20%3E%0A%3E%20%3E%20-%20Is%20it%20safe%20to%20assume%20that%20other%20filesystems%20%28like%20BTRFS%29%20are%20not%0A%3E%20%3E%20affected%3F%0A%3E%20%3E%20-%20Does%20this%20cause%20filesystem%20corruption%20or%20only%20file%20corruption%3F%0A%3E%20%3E%20-%20Does%20this%20affect%20metadata%20or%20only%20file%20contents%3F%0A%3E%20%3E%20-%20Is%20there%20a%20way%20to%20detect%20corrupted%20files%3F%0A%3E%20%3E%20-%20If%20metadata%20is%20not%20affected%2C%20is%20it%20safe%20to%20assume%20that%20all%20files%0A%3E%20with%0A%3E%20%3E%20a%20modification%20date%20older%20than%20the%20update%20are%20fine%3F%0A%3E%20%3E%20-%20Does%20it%20help%20to%20shut%20down%20services%20%28such%20as%20Apache%29%20or%20the%20whole%0A%3E%20%3E%20machine%20until%20the%20fix%20is%20available%3F%0A%3E%20%0A%3E%20The%20bug%20appears%20to%20be%20triggered%20when%20an%20-%3Eend_io%20handler%20returns%20a%20non-%0A%3E%20zero%20value%20to%20iomap%20after%20a%20direct%20IO%20write.%0A%3E%20%0A%3E%20It%20looks%20like%20the%20ext4%20handler%20is%20the%20only%20one%20that%20returns%20non-zero%20in%0A%3E%20kernel%206.1.64%2C%20so%20for%20now%20one%20can%20assume%20that%20only%20ext4%20filesystems%20are%0A%3E%20affected.%0A%3E%20%0A%3E%20The%20bug%20corrupts%20file%20data%20during%20a%20direct%20write%20operation%2C%20so%20I%20would%0A%3E%20also%20assume%20that%20files%20last%20modified%20before%206.1.64%20was%20installed%20will%0A%3E%20not%20be%20corrupted.%0A%3E%20%0A%3E%20As%20far%20as%20I%20can%20tell%2C%20the%20corruption%20only%20affects%20file%20data%20%28not%0A%3E%20metadata%29%20but%20perhaps%20someone%20with%20more%20kernel%20experience%20than%20me%20can%0A%3E%20confirm.%0A%3E%20%0A%3E%20Best%20regards%2C%0A%3E%20Dale%20Richards%0A%3E%20%0A%3E%20%0A%3E%20%0A">reply</a>):</p>

<pre>On Sun, 10 Dec 2023 07:56:36 +0000 Stephan =?ISO-8859-
1?Q?Verb=FCcheln?= &lt;verbuecheln@posteo.de&gt; wrote:
&gt;
&gt; - Is it safe to assume that other filesystems (like BTRFS) are not
&gt; affected?
&gt; - Does this cause filesystem corruption or only file corruption?
&gt; - Does this affect metadata or only file contents?
&gt; - Is there a way to detect corrupted files?
&gt; - If metadata is not affected, is it safe to assume that all files
with
&gt; a modification date older than the update are fine?
&gt; - Does it help to shut down services (such as Apache) or the whole
&gt; machine until the fix is available?

The bug appears to be triggered when an -&gt;end_io handler returns a non-
zero value to iomap after a direct IO write.

It looks like the ext4 handler is the only one that returns non-zero in
kernel 6.1.64, so for now one can assume that only ext4 filesystems are
affected.

The bug corrupts file data during a direct write operation, so I would
also assume that files last modified before 6.1.64 was installed will
not be corrupted.

As far as I can tell, the corruption only affects file data (not
metadata) but perhaps someone with more kernel experience than me can
confirm.

Best regards,
Dale Richards



</pre>

<div><hr><p>
<a name="39"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt; -->
<!-- time:1702202583 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;</code>:<br>
<code>Bug#1057843</code>; Package <code>src:linux</code>.
 (Sun, 10 Dec 2023 10:03:03 GMT) (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=40">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=40">mbox</a>, <a href="#39">link</a>).</p></div>

<div><hr><p>
<a name="41"></a>
<!-- request_addr: Umberto Zappi &lt;uzappi@gmail.com&gt; -->
<!-- time:1702202583 -->
<strong>Acknowledgement sent</strong>
to <code>Umberto Zappi &lt;uzappi@gmail.com&gt;</code>:<br>
Extra info received and forwarded to list.  Copy sent to <code>Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;</code>.
 (Sun, 10 Dec 2023 10:03:03 GMT) (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=42">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=42">mbox</a>, <a href="#41">link</a>).</p></div>

<hr><p><a name="43"></a><a name="msg43"></a><a href="#43">Message #43</a> received at 1057843@bugs.debian.org (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=43">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=43">mbox</a>, <a href="mailto:1057843@bugs.debian.org?body=On%20Sun%2C%2010%20Dec%202023%2010%3A58%3A31%20%2B0100%20Umberto%20Zappi%20%3Cuzappi%40gmail.com%3E%20wrote%3A%0A%3E%20Are%20there%20any%20guidelines%20for%20affected%20users%20who%20already%20updated%20before%0A%3E%20they%20got%20the%20warning%3F%0A%3E%20%0A%3E%20For%20example%2C%20is%20it%20fine%20to%20start%20with%20the%20previous%20kernel%0A%3E%206.1.0-13-amd64%20%28version%206.1.55-1%29%20%3F%0A%3E%20%0A%3E%20Thanks%0A%3E%20UmbertoZ.%0A&amp;References=%3CCAD0%3Df%2BDguJ%3Dti9tvcvB1XJ%2Bsjcs-dRUKJvL4Lnv%2BzcbSDKSjbA%40mail.gmail.com%3E&amp;subject=Re%3A%20Bug%231057843%3A%20Guidelines%20for%20affected%20users%20which%20use%20etx4&amp;In-Reply-To=%3CCAD0%3Df%2BDguJ%3Dti9tvcvB1XJ%2Bsjcs-dRUKJvL4Lnv%2BzcbSDKSjbA%40mail.gmail.com%3E">reply</a>):</p>

<pre>[<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?att=0;bug=1057843;msg=43">Message part 1</a> (text/plain, inline)]</pre>
<pre>Are there any guidelines for affected users who already updated before
they got the warning?

For example, is it fine to start with the previous kernel
6.1.0-13-amd64 (version 6.1.55-1) ?

Thanks
UmbertoZ.
</pre>
<pre>[<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?att=1;bug=1057843;msg=43">Message part 2</a> (text/html, inline)]</pre>

<hr>
<p>Send a report that <a href="https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=1057843">this bug log contains spam</a>.</p>
<hr>
<address>Debian bug tracking system administrator &lt;<a href="mailto:owner@bugs.debian.org">owner@bugs.debian.org</a>&gt;.
Last modified:
<!--timestamp-->Sun Dec 10 11:56:12 2023<!--end timestamp-->; 
Machine Name:
<!--machinename-->buxtehude<!--machinename-->
<p>
<a href="https://www.debian.org/Bugs/">Debian Bug tracking system</a>
</p>
<p>
  Debbugs is free software and licensed under the terms of the GNU
  Public License version 2. The current version can be obtained
  from <a href="https://bugs.debian.org/debbugs-source/">https://bugs.debian.org/debbugs-source/</a>.
</p>
<p>
Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.
</p>
</address>



</div>]]></description>
        </item>
        <item>
            <title><![CDATA[Trippy – A Network Diagnostic Tool (136 pts)]]></title>
            <link>https://trippy.cli.rs/</link>
            <guid>38588858</guid>
            <pubDate>Sun, 10 Dec 2023 03:46:43 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://trippy.cli.rs/">https://trippy.cli.rs/</a>, See on <a href="https://news.ycombinator.com/item?id=38588858">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
      
      
      

      <p><a href="https://github.com/fujiapple852/trippy/actions/workflows/ci.yml"><img src="https://github.com/fujiapple852/trippy/workflows/CI/badge.svg" alt="Continuous integration"></a>
<a href="https://crates.io/crates/trippy/0.9.0"><img src="https://img.shields.io/crates/v/trippy.svg" alt="Crate"></a>
<a href="https://repology.org/project/trippy/versions"><img src="https://repology.org/badge/tiny-repos/trippy.svg" alt="Packaging status"></a>
<a href="https://matrix.to/#/#trippy-dev:matrix.org"><img src="https://img.shields.io/badge/matrix/trippy-dev:matrix.org-blue" alt="#trippy-dev:matrix.org"></a></p>

<h2 id="trippy">Trippy</h2>

<p>Trippy combines the functionality of traceroute and ping and is designed to assist with the analysis of networking
issues.</p>

<p><img src="https://trippy.cli.rs/assets/0.8.0/trippy.gif" alt="trippy"></p>

<h2 id="navigation">Navigation</h2>

<!-- TOC -->

<ul>
  <li><a href="#trippy">Trippy</a>
    <ul>
      <li><a href="#features">Features</a></li>
      <li><a href="#versions">Versions</a></li>
      <li><a href="#distributions">Distributions</a></li>
      <li><a href="#privileges">Privileges</a></li>
      <li><a href="#usage-examples">Usage Examples</a></li>
      <li><a href="#command-reference">Command Reference</a></li>
      <li><a href="#theme-reference">Theme Reference</a></li>
      <li><a href="#key-bindings-reference">Key Bindings Reference</a></li>
      <li><a href="#configuration-reference">Configuration Reference</a></li>
      <li><a href="#frequently-asked-questions">Frequently Asked Questions</a></li>
      <li><a href="#acknowledgements">Acknowledgements</a></li>
      <li><a href="#license">License</a></li>
    </ul>
  </li>
</ul>

<!-- TOC -->

<h2 id="features">Features</h2>

<ul>
  <li>Trace using multiple protocols:
    <ul>
      <li><code>ICMP</code>, <code>UDP</code> &amp; <code>TCP</code></li>
      <li><code>IPv4</code> &amp; <code>IPv6</code></li>
    </ul>
  </li>
  <li>Customizable tracing options:
    <ul>
      <li>packet size &amp; payload pattern</li>
      <li>start and maximum time-to-live (TTL)</li>
      <li>minimum and maximum round duration</li>
      <li>round end grace period &amp; maximum number of unknown hops</li>
      <li>source &amp; destination port (<code>TCP</code> &amp; <code>UDP</code>)</li>
      <li>source address and source interface</li>
      <li><code>TOS</code> (aka <code>DSCP + ECN</code>)</li>
    </ul>
  </li>
  <li>Support for <code>classic</code>, <code>paris</code>
and <code>dublin</code> <a href="https://en.wikipedia.org/wiki/Equal-cost_multi-path_routing">Equal Cost Multi-path Routing</a>
strategies (<a href="https://github.com/fujiapple852/trippy/issues/274">tracking issue</a>)</li>
  <li>RFC4884 <a href="https://datatracker.ietf.org/doc/html/rfc4884">ICMP Multi-Part Messages</a>
    <ul>
      <li>Generic Extension Objects</li>
      <li>MPLS Label Stacks</li>
    </ul>
  </li>
  <li>Unprivileged mode</li>
  <li>Tui interface:
    <ul>
      <li>Trace multiple targets simultaneously from a single instance of Trippy</li>
      <li>Per hop stats (sent, received, loss%, last, avg, best, worst, stddev &amp; status)</li>
      <li>Per hop round-trip-time (RTT) history and frequency distributing charts</li>
      <li>Interactive chart of RTT for all hops in a trace with zooming capability</li>
      <li>Interactive GeoIp world map</li>
      <li>Isolate and filter by individual tracing flows</li>
      <li>Customizable color theme &amp; key bindings</li>
      <li>Configuration via both command line arguments and a configuration file</li>
      <li>Show multiple hosts per hop with ability to cap display to N hosts and show frequency %</li>
      <li>Show hop details and navigate hosts within each hop</li>
      <li>Freeze/unfreeze the Tui, reset the stats, flush the cache, preserve screen on exit</li>
      <li>Responsive UI with adjustable refresh rate</li>
      <li>Hop privacy</li>
    </ul>
  </li>
  <li>DNS:
    <ul>
      <li>Use system, external (Google <code>8.8.8.8</code> or Cloudflare <code>1.1.1.1</code>) or custom resolver</li>
      <li>Lazy reverse DNS queries</li>
      <li>Lookup <a href="https://en.wikipedia.org/wiki/Autonomous_system_(Internet)">autonomous system</a> number (ASN) and name</li>
    </ul>
  </li>
  <li>GeoIp:
    <ul>
      <li>Lookup and display GeoIp information from local <code>mmdb</code> files</li>
    </ul>
  </li>
  <li>Generate tracing reports:
    <ul>
      <li><code>json</code>, <code>csv</code> &amp; tabular (pretty-printed and markdown)</li>
      <li>Tracing <code>flows</code> report</li>
      <li>Graphviz <code>dot</code> charts</li>
      <li>configurable reporting cycles</li>
    </ul>
  </li>
  <li>Runs on multiple platform (macOS, Linux, NetBSD, FreeBSD, Windows)</li>
  <li>Capabilities aware application (Linux only)</li>
</ul>

<h2 id="versions">Versions</h2>

<p>The following table lists ths versions of Trippy that are available and links to the corresponding release note and
documentation:</p>

<table>
  <thead>
    <tr>
      <th>Version</th>
      <th>Release Date</th>
      <th>Status</th>
      <th>Release Note</th>
      <th>Documentation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0.10.0-dev</td>
      <td>n/a</td>
      <td>Development</td>
      <td>n/a</td>
      <td><a href="https://github.com/fujiapple852/trippy/tree/master">docs</a></td>
    </tr>
    <tr>
      <td>0.9.0</td>
      <td>2023-11-30</td>
      <td>Current</td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/tag/0.9.0">note</a></td>
      <td><a href="https://github.com/fujiapple852/trippy/tree/0.9.0">docs</a></td>
    </tr>
    <tr>
      <td>0.8.0</td>
      <td>2023-05-15</td>
      <td>Previous</td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/tag/0.8.0">note</a></td>
      <td><a href="https://github.com/fujiapple852/trippy/tree/0.8.0">docs</a></td>
    </tr>
    <tr>
      <td>0.7.0</td>
      <td>2023-03-25</td>
      <td>Deprecated</td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/tag/0.7.0">note</a></td>
      <td><a href="https://github.com/fujiapple852/trippy/tree/0.7.0">docs</a></td>
    </tr>
    <tr>
      <td>0.6.0</td>
      <td>2022-08-19</td>
      <td>Deprecated</td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/tag/0.6.0">note</a></td>
      <td><a href="https://github.com/fujiapple852/trippy/tree/0.6.0">docs</a></td>
    </tr>
  </tbody>
</table>

<blockquote>
  <p>[!NOTE]
Only the <em>latest patch versions</em> of both the <em>current</em> and <em>previous</em> releases of Trippy are supported.</p>
</blockquote>

<h2 id="distributions">Distributions</h2>

<p><a href="https://repology.org/project/trippy/versions"><img src="https://repology.org/badge/vertical-allrepos/trippy.svg" alt="Packaging status"></a></p>

<h3 id="cargo">Cargo</h3>

<p><a href="https://crates.io/crates/trippy/0.9.0"><img src="https://img.shields.io/crates/v/trippy" alt="Crates.io"></a></p>



<h3 id="snap-linux">Snap (Linux)</h3>

<p><a href="https://snapcraft.io/trippy"><img src="https://snapcraft.io/trippy/badge.svg" alt="trippy"></a></p>



<h3 id="homebrew-macos">Homebrew (macOS)</h3>

<p><a href="https://formulae.brew.sh/formula/trippy"><img src="https://repology.org/badge/version-for-repo/homebrew/trippy.svg" alt="Homebrew package"></a></p>



<h3 id="winget-windows">WinGet (Windows)</h3>

<p><a href="https://github.com/microsoft/winget-pkgs/tree/master/manifests/f/FujiApple/Trippy/0.9.0"><img src="https://repology.org/badge/version-for-repo/winget/trippy.svg" alt="winget package"></a></p>



<h3 id="scoop-windows">Scoop (Windows)</h3>

<p><a href="https://github.com/ScoopInstaller/Main/blob/master/bucket/trippy.json"><img src="https://repology.org/badge/version-for-repo/scoop/trippy.svg" alt="Scoop package"></a></p>



<h3 id="netbsd">NetBSD</h3>

<p><a href="https://pkgsrc.se/net/trippy"><img src="https://repology.org/badge/version-for-repo/pkgsrc_current/trippy.svg" alt="pkgsrc current package"></a></p>



<h3 id="freebsd">FreeBSD</h3>

<p><a href="https://www.freshports.org/net/trippy/"><img src="https://repology.org/badge/version-for-repo/freebsd/trippy.svg" alt="FreeBSD port"></a></p>



<h3 id="pacman-arch-linux">Pacman (Arch Linux)</h3>

<p><a href="https://archlinux.org/packages/extra/x86_64/trippy"><img src="https://repology.org/badge/version-for-repo/arch/trippy.svg" alt="Arch package"></a></p>



<h3 id="nix">Nix</h3>

<p><a href="https://github.com/NixOS/nixpkgs/blob/master/pkgs/tools/networking/trippy/default.nix"><img src="https://repology.org/badge/version-for-repo/nix_unstable/trippy.svg" alt="nixpkgs unstable package"></a></p>



<h3 id="docker">Docker</h3>

<p><a href="https://hub.docker.com/r/fujiapple/trippy/"><img src="https://img.shields.io/docker/v/fujiapple/trippy" alt="Docker Image Version (latest by date)"></a></p>

<div><pre><code>docker run <span>-it</span> fujiapple/trippy
</code></pre></div>

<h3 id="binary-asset-download">Binary Asset Download</h3>

<table>
  <thead>
    <tr>
      <th>OS</th>
      <th>Arch</th>
      <th>Env</th>
      <th>Current</th>
      <th>Previous</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Linux</td>
      <td><code>x86_64</code></td>
      <td><code>gnu</code></td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/download/0.9.0/trippy-0.9.0-x86_64-unknown-linux-gnu.tar.gz">0.9.0</a></td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/download/0.8.0/trippy-0.8.0-x86_64-unknown-linux-gnu.tar.gz">0.8.0</a></td>
    </tr>
    <tr>
      <td>Linux</td>
      <td><code>x86_64</code></td>
      <td><code>musl</code></td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/download/0.9.0/trippy-0.9.0-x86_64-unknown-linux-musl.tar.gz">0.9.0</a></td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/download/0.8.0/trippy-0.8.0-x86_64-unknown-linux-musl.tar.gz">0.8.0</a></td>
    </tr>
    <tr>
      <td>Linux</td>
      <td><code>aarch64</code></td>
      <td><code>gnu</code></td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/download/0.9.0/trippy-0.9.0-aarch64-unknown-linux-gnu.tar.gz">0.9.0</a></td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/download/0.8.0/trippy-0.8.0-aarch64-unknown-linux-gnu.tar.gz">0.8.0</a></td>
    </tr>
    <tr>
      <td>Linux</td>
      <td><code>aarch64</code></td>
      <td><code>musl</code></td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/download/0.9.0/trippy-0.9.0-aarch64-unknown-linux-musl.tar.gz">0.9.0</a></td>
      <td>n/a</td>
    </tr>
    <tr>
      <td>Linux</td>
      <td><code>arm7</code></td>
      <td><code>gnueabihf</code></td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/download/0.9.0/trippy-0.9.0-armv7-unknown-linux-gnueabihf.tar.gz">0.9.0</a></td>
      <td>n/a</td>
    </tr>
    <tr>
      <td>Linux</td>
      <td><code>arm7</code></td>
      <td><code>musleabi</code></td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/download/0.9.0/trippy-0.9.0-armv7-unknown-linux-musleabi.tar.gz">0.9.0</a></td>
      <td>n/a</td>
    </tr>
    <tr>
      <td>Linux</td>
      <td><code>arm7</code></td>
      <td><code>musleabihf</code></td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/download/0.9.0/trippy-0.9.0-armv7-unknown-linux-musleabihf.tar.gz">0.9.0</a></td>
      <td>n/a</td>
    </tr>
    <tr>
      <td>macOS</td>
      <td><code>x86_64</code></td>
      <td><code>darwin</code></td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/download/0.9.0/trippy-0.9.0-x86_64-apple-darwin.tar.gz">0.9.0</a></td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/download/0.8.0/trippy-0.8.0-x86_64-apple-darwin.tar.gz">0.8.0</a></td>
    </tr>
    <tr>
      <td>macOS</td>
      <td><code>aarch64</code></td>
      <td><code>darwin</code></td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/download/0.9.0/trippy-0.9.0-aarch64-apple-darwin.tar.gz">0.9.0</a></td>
      <td>n/a</td>
    </tr>
    <tr>
      <td>Windows</td>
      <td><code>x86_64</code></td>
      <td><code>msvc</code></td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/download/0.9.0/trippy-0.9.0-x86_64-pc-windows-msvc.zip">0.9.0</a></td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/download/0.8.0/trippy-0.8.0-x86_64-pc-windows-msvc.zip">0.8.0</a></td>
    </tr>
    <tr>
      <td>Windows</td>
      <td><code>x86_64</code></td>
      <td><code>gnu</code></td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/download/0.9.0/trippy-0.9.0-x86_64-pc-windows-gnu.zip">0.9.0</a></td>
      <td>n/a</td>
    </tr>
    <tr>
      <td>Windows</td>
      <td><code>aarch64</code></td>
      <td><code>msvc</code></td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/download/0.9.0/trippy-0.9.0-aarch64-pc-windows-msvc.zip">0.9.0</a></td>
      <td>n/a</td>
    </tr>
    <tr>
      <td>FreeBSD</td>
      <td><code>x86_64</code></td>
      <td>n/a</td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/download/0.9.0/trippy-0.9.0-x86_64-unknown-freebsd.tar.gz">0.9.0</a></td>
      <td>n/a</td>
    </tr>
    <tr>
      <td>NetBSD</td>
      <td><code>x86_64</code></td>
      <td>n/a</td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/download/0.9.0/trippy-0.9.0-x86_64-unknown-netbsd.tar.gz">0.9.0</a></td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/download/0.8.0/trippy-0.8.0-x86_64-unknown-netbsd.tar.gz">0.8.0</a></td>
    </tr>
    <tr>
      <td>RPM</td>
      <td><code>x86_64</code></td>
      <td><code>gnu</code></td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/download/0.9.0/trippy-0.9.0-x86_64.rpm">0.9.0</a></td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/download/0.8.0/trippy-0.8.0-x86_64.rpm">0.8.0</a></td>
    </tr>
    <tr>
      <td>Debian</td>
      <td><code>x86_64</code></td>
      <td><code>gnu</code></td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/download/0.9.0/trippy_x86_64-unknown-linux-gnu_0.9.0_amd64.deb">0.9.0</a></td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/download/0.8.0/trippy_x86_64-unknown-linux-gnu_0.8.0_amd64.deb">0.8.0</a></td>
    </tr>
    <tr>
      <td>Debian</td>
      <td><code>x86_64</code></td>
      <td><code>musl</code></td>
      <td><a href="https://github.com/fujiapple852/trippy/releases/download/0.9.0/trippy_x86_64-unknown-linux-musl_0.9.0_amd64.deb">0.9.0</a></td>
      <td>n/a</td>
    </tr>
  </tbody>
</table>

<h2 id="privileges">Privileges</h2>

<p>Trippy normally requires elevated privileges due to the use of raw sockets. Enabling the required privileges for your
platform can be achieved in several ways, as outlined below. Trippy can also be used without elevated privileged on
certain platforms, with some limitations.</p>

<h3 id="unix">Unix</h3>

<p>1: Run as <code>root</code> user via <code>sudo</code>:</p>



<p>2: <code>chown</code> <code>trip</code> as the <code>root</code> user and set the <code>setuid</code> bit:</p>

<div><pre><code><span>sudo chown </span>root <span>$(</span>which trip<span>)</span> <span>&amp;&amp;</span> <span>sudo chmod</span> +s <span>$(</span>which trip<span>)</span>
</code></pre></div>

<p>3: [Linux only] Set the <code>CAP_NET_RAW</code> capability:</p>

<div><pre><code><span>sudo </span>setcap CAP_NET_RAW+p <span>$(</span>which trip<span>)</span>
</code></pre></div>

<blockquote>
  <p>[!NOTE]<br>
Trippy is a capability aware application and will add <code>CAP_NET_RAW</code> to the effective set if it is present in the
allowed set. Trippy will drop all capabilities after creating the raw sockets.</p>
</blockquote>

<h3 id="windows">Windows</h3>

<p>Trippy must be run with Administrator privileges on Windows.</p>

<h3 id="unprivileged-mode">Unprivileged mode</h3>

<p>Trippy allows running in an unprivileged mode for all tracing modes (<code>ICMP</code>, <code>UDP</code> and <code>TCP</code>) on platforms which support
that feature.</p>

<blockquote>
  <p>[!NOTE]
Unprivileged mode is currently only supported on macOS. Linux support is possible and may be added in the future.
Unprivileged mode is not supported on NetBSD, FreeBSD or Windows as these platforms do not support
the <code>IPPROTO_ICMP</code> socket type. See <a href="https://github.com/fujiapple852/trippy/issues/101">#101</a> for further information.</p>
</blockquote>

<p>The unprivileged mode can be enabled by adding the <code>--unprivileged</code> (<code>-u</code>) command line flag or by adding
the <code>unprivileged</code> entry in the <code>trippy</code> section of the <a href="#configuration-reference">configuration file</a>:</p>

<div><pre><code><span>[trippy]</span>
<span>unprivileged</span> <span>=</span> <span>true</span>
</code></pre></div>

<blockquote>
  <p>[!NOTE]
The <code>paris</code> and <code>dublin</code> <code>ECMP</code> strategies are not supported in unprivileged mode as these require
manipulating the <code>UDP</code> and <code>IP</code> and headers which in turn requires the use of a raw socket.</p>
</blockquote>

<h2 id="usage-examples">Usage Examples</h2>

<p>Basic usage with default parameters:</p>



<p>Trace without requiring elevated privileges (supported platforms only, see <a href="#privileges">privileges</a>):</p>

<div><pre><code>trip example.com <span>--unprivileged</span>
</code></pre></div>

<p>Trace using the <code>udp</code> (or <code>tcp</code> or <code>icmp</code>) protocol (also aliases <code>--icmp</code>, <code>--udp</code> &amp; <code>--tcp</code>):</p>



<p>Trace to multiple targets simultaneously (<code>icmp</code> protocol only,
see <a href="https://github.com/fujiapple852/trippy/issues/72">#72</a>):</p>

<div><pre><code>trip example.com google.com crates.io
</code></pre></div>

<p>Trace with a minimum round time of <code>250ms</code> and a grace period of <code>50ms</code>:</p>

<div><pre><code>trip example.com <span>-i</span> 250ms <span>-g</span> 50ms
</code></pre></div>

<p>Trace with a custom first and maximum <code>time-to-live</code>:</p>

<div><pre><code>trip example.com <span>--first-ttl</span> 2 <span>--max-ttl</span> 10
</code></pre></div>

<p>Use custom destination port <code>443</code> for <code>tcp</code> tracing:</p>

<div><pre><code>trip example.com <span>-p</span> tcp <span>-P</span> 443
</code></pre></div>

<p>Use custom source port <code>5000</code> for <code>udp</code> tracing:</p>

<div><pre><code>trip example.com <span>-p</span> udp <span>-S</span> 5000
</code></pre></div>

<p>Use the <code>dublin</code> (or <code>paris</code>) ECMP routing strategy for <code>udp</code> with fixed source and destination ports:</p>

<div><pre><code>trip example.com <span>-p</span> udp <span>-R</span> dublin <span>-S</span> 5000 <span>-P</span> 3500
</code></pre></div>

<p>Trace with a custom source address:</p>

<div><pre><code>trip example.com <span>-p</span> tcp <span>-A</span> 127.0.0.1
</code></pre></div>

<p>Trace with a source address determined by the IPv4 address for interface <code>en0</code>:</p>

<div><pre><code>trip example.com <span>-p</span> tcp <span>-I</span> en0
</code></pre></div>

<p>Trace using <code>IPv6</code>:</p>



<p>Generate a <code>json</code> (or <code>csv</code>, <code>pretty</code>, <code>markdown</code>) tracing report with 5 rounds of data:</p>

<div><pre><code>trip example.com <span>-m</span> json <span>-C</span> 5
</code></pre></div>

<p>Generate a <a href="https://graphviz.org/">Graphviz</a> <code>DOT</code> file report of all tracing flows for a TCP trace after 5 rounds:</p>

<div><pre><code>trip example.com <span>--tcp</span> <span>-m</span> dot <span>-C</span> 5
</code></pre></div>

<p>Generate a textual report of all tracing flows for a UDP trace after 5 rounds:</p>

<div><pre><code>trip example.com <span>--udp</span> <span>-m</span> flows <span>-C</span> 5
</code></pre></div>

<p>Perform DNS queries using the <code>google</code> DNS resolver (or <code>cloudflare</code>, <code>system</code>, <code>resolv</code>):</p>

<div><pre><code>trip example.com <span>-r</span> google
</code></pre></div>

<p>Lookup AS information for all discovered IP addresses (not yet available for the <code>system</code> resolver,
see <a href="https://github.com/fujiapple852/trippy/issues/66">#66</a>):</p>

<div><pre><code>trip example.com <span>-r</span> google <span>-z</span>
</code></pre></div>

<p>Lookup and display <code>short</code> (or <code>long</code> or <code>location</code> or <code>off</code>) GeoIp information from a <code>mmdb</code> file:</p>

<div><pre><code>trip example.com <span>--geoip-mmdb-file</span> GeoLite2-City.mmdb <span>--tui-geoip-mode</span> short
</code></pre></div>

<p>Parse <code>icmp</code> extensions:</p>



<p>Hide the IP address, hostname and GeoIp for the first two hops:</p>

<div><pre><code>trip example.com <span>--tui-privacy-max-ttl</span> 2
</code></pre></div>

<p>Customize the color theme:</p>

<div><pre><code>trip example.com <span>--tui-theme-colors</span> bg-color<span>=</span>blue,text-color<span>=</span>ffff00
</code></pre></div>

<p>List all Tui items that can have a custom color theme:</p>

<div><pre><code>trip <span>--print-tui-theme-items</span>
</code></pre></div>

<p>Customize the key bindings:</p>

<div><pre><code>trip example.com <span>--tui-key-bindings</span> previous-hop<span>=</span>k,next-hop<span>=</span>j,quit<span>=</span>shift-q
</code></pre></div>

<p>List all Tui commands that can have a custom key binding:</p>

<div><pre><code>trip <span>--print-tui-binding-commands</span>
</code></pre></div>

<p>Specify the location of the Trippy config file:</p>

<div><pre><code>trip example.com <span>--config-file</span> /path/to/trippy.toml
</code></pre></div>

<p>Generate a template configuration file:</p>

<div><pre><code>trip <span>--print-config-template</span> <span>&gt;</span> trippy.toml
</code></pre></div>

<p>Generate <code>bash</code> shell completions (or <code>fish</code>, <code>powershell</code>, <code>zsh</code>, <code>elvish</code>):</p>



<p>Run in <code>silent</code> tracing mode and output <code>compact</code> trace logging with <code>full</code> span events:</p>

<div><pre><code>trip example.com <span>-m</span> silent <span>-v</span> <span>--log-format</span> compact <span>--log-span-events</span> full
</code></pre></div>

<h2 id="command-reference">Command Reference</h2>

<blockquote>
  <p>[!NOTE]
Trippy command line arguments may be given in any order and my occur both before and after the targets.</p>
</blockquote>

<div><pre><code>A network diagnostic tool

Usage: trip [OPTIONS] [TARGETS]...

Arguments:
  [TARGETS]...
          A space delimited list of hostnames and IPs to trace

Options:
  -c, --config-file &lt;CONFIG_FILE&gt;
          Config file

  -m, --mode &lt;MODE&gt;
          Output mode [default: tui]

          Possible values:
          - tui:      Display interactive TUI
          - stream:   Display a continuous stream of tracing data
          - pretty:   Generate an pretty text table report for N cycles
          - markdown: Generate a markdown text table report for N cycles
          - csv:      Generate a CSV report for N cycles
          - json:     Generate a JSON report for N cycles
          - dot:      Generate a Graphviz DOT file for N cycles
          - flows:    Display all flows
          - silent:   Do not generate any tracing output for N cycles

  -u, --unprivileged
          Trace without requiring elevated privileges on supported platforms
          [default: false]

  -p, --protocol &lt;PROTOCOL&gt;
          Tracing protocol [default: icmp]

          Possible values:
          - icmp: Internet Control Message Protocol
          - udp:  User Datagram Protocol
          - tcp:  Transmission Control Protocol

      --udp
          Trace using the UDP protocol

      --tcp
          Trace using the TCP protocol

      --icmp
          Trace using the ICMP protocol

  -4, --ipv4
          Use IPv4 only

  -6, --ipv6
          Use IPv6 only

  -P, --target-port &lt;TARGET_PORT&gt;
          The target port (TCP &amp; UDP only) [default: 80]

  -S, --source-port &lt;SOURCE_PORT&gt;
          The source port (TCP &amp; UDP only) [default: auto]

  -A, --source-address &lt;SOURCE_ADDRESS&gt;
          The source IP address [default: auto]

  -I, --interface &lt;INTERFACE&gt;
          The network interface [default: auto]

  -i, --min-round-duration &lt;MIN_ROUND_DURATION&gt;
          The minimum duration of every round [default: 1s]

  -T, --max-round-duration &lt;MAX_ROUND_DURATION&gt;
          The maximum duration of every round [default: 1s]

  -g, --grace-duration &lt;GRACE_DURATION&gt;
          The period of time to wait for additional ICMP responses after the
          target has responded [default: 100ms]

      --initial-sequence &lt;INITIAL_SEQUENCE&gt;
          The initial sequence number [default: 33000]

  -R, --multipath-strategy &lt;MULTIPATH_STRATEGY&gt;
          The Equal-cost Multi-Path routing strategy (UDP only) [default:
          classic]

          Possible values:
          - classic:
            The src or dest port is used to store the sequence number
          - paris:
            The UDP `checksum` field is used to store the sequence number
          - dublin:
            The IP `identifier` field is used to store the sequence number

  -U, --max-inflight &lt;MAX_INFLIGHT&gt;
          The maximum number of in-flight ICMP echo requests [default: 24]

  -f, --first-ttl &lt;FIRST_TTL&gt;
          The TTL to start from [default: 1]

  -t, --max-ttl &lt;MAX_TTL&gt;
          The maximum number of TTL hops [default: 64]

      --packet-size &lt;PACKET_SIZE&gt;
          The size of IP packet to send (IP header + ICMP header + payload)
          [default: 84]

      --payload-pattern &lt;PAYLOAD_PATTERN&gt;
          The repeating pattern in the payload of the ICMP packet [default: 0]

  -Q, --tos &lt;TOS&gt;
          The TOS (i.e. DSCP+ECN) IP header value (TCP and UDP only) [default: 0]

  -e, --icmp-extensions
          Parse ICMP extensions

      --read-timeout &lt;READ_TIMEOUT&gt;
          The socket read timeout [default: 10ms]

  -r, --dns-resolve-method &lt;DNS_RESOLVE_METHOD&gt;
          How to perform DNS queries [default: system]

          Possible values:
          - system:     Resolve using the OS resolver
          - resolv:     Resolve using the `/etc/resolv.conf` DNS configuration
          - google:     Resolve using the Google `8.8.8.8` DNS service
          - cloudflare: Resolve using the Cloudflare `1.1.1.1` DNS service

  -y, --dns-resolve-all
          Trace to all IPs resolved from DNS lookup [default: false]

      --dns-timeout &lt;DNS_TIMEOUT&gt;
          The maximum time to wait to perform DNS queries [default: 5s]

  -z, --dns-lookup-as-info
          Lookup autonomous system (AS) information during DNS queries [default:
          false]

  -a, --tui-address-mode &lt;TUI_ADDRESS_MODE&gt;
          How to render addresses [default: host]

          Possible values:
          - ip:   Show IP address only
          - host: Show reverse-lookup DNS hostname only
          - both: Show both IP address and reverse-lookup DNS hostname

      --tui-as-mode &lt;TUI_AS_MODE&gt;
          How to render AS information [default: asn]

          Possible values:
          - asn:          Show the ASN
          - prefix:       Display the AS prefix
          - country-code: Display the country code
          - registry:     Display the registry name
          - allocated:    Display the allocated date
          - name:         Display the AS name

      --tui-icmp-extension-mode &lt;TUI_ICMP_EXTENSION_MODE&gt;
          How to render ICMP extensions [default: off]

          Possible values:
          - off:  Do not show `icmp` extensions
          - mpls: Show MPLS label(s) only
          - full: Show full `icmp` extension data for all known extensions
          - all:  Show full `icmp` extension data for all classes

      --tui-geoip-mode &lt;TUI_GEOIP_MODE&gt;
          How to render GeoIp information [default: short]

          Possible values:
          - off:      Do not display GeoIp data
          - short:    Show short format
          - long:     Show long format
          - location: Show latitude and Longitude format

  -M, --tui-max-addrs &lt;TUI_MAX_ADDRS&gt;
          The maximum number of addresses to show per hop [default: auto]

  -s, --tui-max-samples &lt;TUI_MAX_SAMPLES&gt;
          The maximum number of samples to record per hop [default: 256]

      --tui-max-flows &lt;TUI_MAX_FLOWS&gt;
          The maximum number of flows to show [default: 64]

      --tui-preserve-screen
          Preserve the screen on exit [default: false]

      --tui-refresh-rate &lt;TUI_REFRESH_RATE&gt;
          The Tui refresh rate [default: 100ms]

      --tui-privacy-max-ttl &lt;TUI_PRIVACY_MAX_TTL&gt;
          The maximum ttl of hops which will be masked for privacy [default: 0]

      --tui-theme-colors &lt;TUI_THEME_COLORS&gt;
          The TUI theme colors [item=color,item=color,..]

      --print-tui-theme-items
          Print all TUI theme items and exit

      --tui-key-bindings &lt;TUI_KEY_BINDINGS&gt;
          The TUI key bindings [command=key,command=key,..]

      --print-tui-binding-commands
          Print all TUI commands that can be bound and exit

  -C, --report-cycles &lt;REPORT_CYCLES&gt;
          The number of report cycles to run [default: 10]

  -G, --geoip-mmdb-file &lt;GEOIP_MMDB_FILE&gt;
          The MaxMind City GeoLite2 mmdb file

      --generate &lt;GENERATE&gt;
          Generate shell completion

          [possible values: bash, elvish, fish, powershell, zsh]

      --print-config-template
          Print a template toml config file and exit

      --log-format &lt;LOG_FORMAT&gt;
          The debug log format [default: pretty]

          Possible values:
          - compact: Display log data in a compact format
          - pretty:  Display log data in a pretty format
          - json:    Display log data in a json format
          - chrome:  Display log data in Chrome trace format

      --log-filter &lt;LOG_FILTER&gt;
          The debug log filter [default: trippy=debug]

      --log-span-events &lt;LOG_SPAN_EVENTS&gt;
          The debug log format [default: off]

          Possible values:
          - off:    Do not display event spans
          - active: Display enter and exit event spans
          - full:   Display all event spans

  -v, --verbose
          Enable verbose debug logging

  -h, --help
          Print help (see a summary with '-h')

  -V, --version
          Print version
</code></pre></div>

<h2 id="theme-reference">Theme Reference</h2>

<p>The following table lists the default Tui color theme. These can be overridden with the <code>--tui-theme-colors</code> command
line option.</p>

<table>
  <thead>
    <tr>
      <th>Item</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bg-color</code></td>
      <td>The default background color</td>
      <td><code>Black</code></td>
    </tr>
    <tr>
      <td><code>border-color</code></td>
      <td>The default color of borders</td>
      <td><code>Gray</code></td>
    </tr>
    <tr>
      <td><code>text-color</code></td>
      <td>The default color of text</td>
      <td><code>Gray</code></td>
    </tr>
    <tr>
      <td><code>tab-text-color</code></td>
      <td>The color of the text in traces tabs</td>
      <td><code>Green</code></td>
    </tr>
    <tr>
      <td><code>hops-table-header-bg-color</code></td>
      <td>The background color of the hops table header</td>
      <td><code>White</code></td>
    </tr>
    <tr>
      <td><code>hops-table-header-text-color</code></td>
      <td>The color of text in the hops table header</td>
      <td><code>Black</code></td>
    </tr>
    <tr>
      <td><code>hops-table-row-active-text-color</code></td>
      <td>The color of text of active rows in the hops table</td>
      <td><code>Gray</code></td>
    </tr>
    <tr>
      <td><code>hops-table-row-inactive-text-color</code></td>
      <td>The color of text of inactive rows in the hops table</td>
      <td><code>DarkGray</code></td>
    </tr>
    <tr>
      <td><code>hops-chart-selected-color</code></td>
      <td>The color of the selected series in the hops chart</td>
      <td><code>Green</code></td>
    </tr>
    <tr>
      <td><code>hops-chart-unselected-color</code></td>
      <td>The color of the unselected series in the hops chart</td>
      <td><code>Gray</code></td>
    </tr>
    <tr>
      <td><code>hops-chart-axis-color</code></td>
      <td>The color of the axis in the hops chart</td>
      <td><code>DarkGray</code></td>
    </tr>
    <tr>
      <td><code>frequency-chart-bar-color</code></td>
      <td>The color of bars in the frequency chart</td>
      <td><code>Green</code></td>
    </tr>
    <tr>
      <td><code>frequency-chart-text-color</code></td>
      <td>The color of text in the bars of the frequency chart</td>
      <td><code>Gray</code></td>
    </tr>
    <tr>
      <td><code>flows-chart-bar-selected-color</code></td>
      <td>The color of the selected flow bar in the flows chart</td>
      <td><code>Green</code></td>
    </tr>
    <tr>
      <td><code>flows-chart-bar-unselected-color</code></td>
      <td>The color of the unselected flow bar in the flows chart</td>
      <td><code>DarkGray</code></td>
    </tr>
    <tr>
      <td><code>flows-chart-text-current-color</code></td>
      <td>The color of the current flow text in the flows chart</td>
      <td><code>LightGreen</code></td>
    </tr>
    <tr>
      <td><code>flows-chart-text-non-current-color</code></td>
      <td>The color of the non-current flow text in the flows chart</td>
      <td><code>White</code></td>
    </tr>
    <tr>
      <td><code>samples-chart-color</code></td>
      <td>The color of the samples chart</td>
      <td><code>Yellow</code></td>
    </tr>
    <tr>
      <td><code>help-dialog-bg-color</code></td>
      <td>The background color of the help dialog</td>
      <td><code>Blue</code></td>
    </tr>
    <tr>
      <td><code>help-dialog-text-color</code></td>
      <td>The color of the text in the help dialog</td>
      <td><code>Gray</code></td>
    </tr>
    <tr>
      <td><code>settings-dialog-bg-color</code></td>
      <td>The background color of the settings dialog</td>
      <td><code>blue</code></td>
    </tr>
    <tr>
      <td><code>settings-tab-text-color</code></td>
      <td>The color of the text in settings dialog tabs</td>
      <td><code>green</code></td>
    </tr>
    <tr>
      <td><code>settings-table-header-text-color</code></td>
      <td>The color of text in the settings table header</td>
      <td><code>black</code></td>
    </tr>
    <tr>
      <td><code>settings-table-header-bg-color</code></td>
      <td>The background color of the settings table header</td>
      <td><code>white</code></td>
    </tr>
    <tr>
      <td><code>settings-table-row-text-color</code></td>
      <td>The color of text of rows in the settings table</td>
      <td><code>gray</code></td>
    </tr>
    <tr>
      <td><code>map-world-color</code></td>
      <td>The color of the map world diagram</td>
      <td><code>white</code></td>
    </tr>
    <tr>
      <td><code>map-radius-color</code></td>
      <td>The color of the map accuracy radius circle</td>
      <td><code>yellow</code></td>
    </tr>
    <tr>
      <td><code>map-selected-color</code></td>
      <td>The color of the map selected item box</td>
      <td><code>green</code></td>
    </tr>
    <tr>
      <td><code>map-info-panel-border-color</code></td>
      <td>The color of border of the map info panel</td>
      <td><code>gray</code></td>
    </tr>
    <tr>
      <td><code>map-info-panel-bg-color</code></td>
      <td>The background color of the map info panel</td>
      <td><code>black</code></td>
    </tr>
    <tr>
      <td><code>map-info-panel-text-color</code></td>
      <td>The color of text in the map info panel</td>
      <td><code>gray</code></td>
    </tr>
  </tbody>
</table>

<p>The supported colors are:</p>

<ul>
  <li><code>Black</code>, <code>Red</code>, <code>Green</code>, <code>Yellow</code>, <code>Blue</code>, <code>Magenta</code>, <code>Cyan</code>, <code>Gray</code>, <code>DarkGray</code>, <code>LightRed</code>, <code>LightGreen</code>, <code>LightYellow</code>, <code>LightBlue</code>, <code>LightMagenta</code>, <code>LightCyan</code>, <code>White</code></li>
</ul>

<p>Color names are case-insensitive and may contain dashes. Raw hex values, such as <code>ffffff</code> for white, may also be used.</p>

<h2 id="key-bindings-reference">Key Bindings Reference</h2>

<p>The following table lists the default Tui command key bindings. These can be overridden with the <code>--tui-key-bindings</code>
command line option.</p>

<table>
  <thead>
    <tr>
      <th>Command</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>toggle-help</code></td>
      <td>Toggle help</td>
      <td><code>h</code></td>
    </tr>
    <tr>
      <td><code>toggle-help-alt</code></td>
      <td>Toggle help (alternative binding)</td>
      <td><code>?</code></td>
    </tr>
    <tr>
      <td><code>toggle-settings</code></td>
      <td>Toggle settings</td>
      <td><code>s</code></td>
    </tr>
    <tr>
      <td><code>next-hop</code></td>
      <td>Select next hop</td>
      <td><code>down</code></td>
    </tr>
    <tr>
      <td><code>previous-hop</code></td>
      <td>Select previous hop</td>
      <td><code>up</code></td>
    </tr>
    <tr>
      <td><code>next-trace</code></td>
      <td>Select next trace</td>
      <td><code>right</code></td>
    </tr>
    <tr>
      <td><code>previous-trace</code></td>
      <td>Select previous trace</td>
      <td><code>left</code></td>
    </tr>
    <tr>
      <td><code>next-hop-address</code></td>
      <td>Select next hop address</td>
      <td><code>.</code></td>
    </tr>
    <tr>
      <td><code>previous-hop-address</code></td>
      <td>Select previous hop address</td>
      <td><code>,</code></td>
    </tr>
    <tr>
      <td><code>address-mode-ip</code></td>
      <td>Show IP address only</td>
      <td><code>i</code></td>
    </tr>
    <tr>
      <td><code>address-mode-host</code></td>
      <td>Show hostname only</td>
      <td><code>n</code></td>
    </tr>
    <tr>
      <td><code>address-mode-both</code></td>
      <td>Show both IP address and hostname</td>
      <td><code>b</code></td>
    </tr>
    <tr>
      <td><code>toggle-freeze</code></td>
      <td>Toggle freezing the display</td>
      <td><code>ctrl+f</code></td>
    </tr>
    <tr>
      <td><code>toggle-chart</code></td>
      <td>Toggle the chart</td>
      <td><code>c</code></td>
    </tr>
    <tr>
      <td><code>toggle-map</code></td>
      <td>Toggle the GeoIp map</td>
      <td><code>m</code></td>
    </tr>
    <tr>
      <td><code>toggle-flows</code></td>
      <td>Toggle the flows</td>
      <td><code>f</code></td>
    </tr>
    <tr>
      <td><code>toggle-privacy</code></td>
      <td>Toggle the hop privacy</td>
      <td><code>p</code></td>
    </tr>
    <tr>
      <td><code>expand-hosts</code></td>
      <td>Expand the hosts shown per hop</td>
      <td><code>]</code></td>
    </tr>
    <tr>
      <td><code>expand-hosts-max</code></td>
      <td>Expand the hosts shown per hop to the maximum</td>
      <td><code>}</code></td>
    </tr>
    <tr>
      <td><code>contract-hosts</code></td>
      <td>Contract the hosts shown per hop</td>
      <td><code>[</code></td>
    </tr>
    <tr>
      <td><code>contract-hosts-min</code></td>
      <td>Contract the hosts shown per hop to the minimum</td>
      <td><code>{</code></td>
    </tr>
    <tr>
      <td><code>chart-zoom-in</code></td>
      <td>Zoom in the chart</td>
      <td><code>=</code></td>
    </tr>
    <tr>
      <td><code>chart-zoom-out</code></td>
      <td>Zoom out the chart</td>
      <td><code>-</code></td>
    </tr>
    <tr>
      <td><code>clear-trace-data</code></td>
      <td>Clear all trace data</td>
      <td><code>ctrl+r</code></td>
    </tr>
    <tr>
      <td><code>clear-dns-cache</code></td>
      <td>Flush the DNS cache</td>
      <td><code>ctrl+k</code></td>
    </tr>
    <tr>
      <td><code>clear-selection</code></td>
      <td>Clear the current selection</td>
      <td><code>esc</code></td>
    </tr>
    <tr>
      <td><code>toggle-as-info</code></td>
      <td>Toggle AS info display</td>
      <td><code>z</code></td>
    </tr>
    <tr>
      <td><code>toggle-hop-details</code></td>
      <td>Toggle hop details</td>
      <td><code>d</code></td>
    </tr>
    <tr>
      <td><code>quit</code></td>
      <td>Quit the application</td>
      <td><code>q</code></td>
    </tr>
  </tbody>
</table>

<p>The supported modifiers are: <code>shift</code>, <code>ctrl</code>, <code>alt</code>, <code>super</code>, <code>hyper</code> &amp; <code>meta</code>. Multiple modifiers may be specified, for
example <code>ctrl+shift+b</code>.</p>

<h2 id="configuration-reference">Configuration Reference</h2>

<p>Trippy can be configured with via command line arguments or an optional configuration file. If a given configuration
item is specified in both the configuration file and via a command line argument then the latter will take precedence.</p>

<p>The configuration file location may be provided to Trippy via the <code>-c</code> (<code>--config-file</code>) argument. If not provided,
Trippy will attempt to locate a <code>trippy.toml</code> or <code>.trippy.toml</code> configuration file in one of the following locations:</p>

<ul>
  <li>The current directory</li>
  <li>The user home directory</li>
  <li>the XDG config directory (Unix only): <code>$XDG_CONFIG_HOME</code> or <code>~/.config</code></li>
  <li>the Windows data directory (Windows only): <code>%APPDATA%</code></li>
</ul>

<p>An annotated template configuration file is available
for <a href="https://github.com/fujiapple852/trippy/blob/0.8.0/trippy-config-sample.toml">0.8.0</a>
and <a href="https://github.com/fujiapple852/trippy/blob/0.9.0/trippy-config-sample.toml">0.9.0</a>.</p>

<p>Trippy (version <code>0.9.0</code> or later) can generate a template configuration file:</p>

<div><pre><code>trip <span>--print-config-template</span> <span>&gt;</span> trippy.toml
</code></pre></div>

<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>

<h3 id="why-does-trippy-show-awaiting-data">Why does Trippy show “Awaiting data…”?</h3>

<blockquote>
  <p>[!IMPORTANT]<br>
If you are using Windows you
<em>must</em> <a href="#how-do-i-allow-incoming-icmp-traffic-in-the-windows-defender-firewall">configure</a>
the Windows Defender firewall to allow incoming ICMP traffic</p>
</blockquote>

<p>When Trippy shows “Awaiting data…” it means that it has received zero responses for the probes sent in a trace. This
indicates that either probes are not being sent or, more typically, responses are not being received.</p>

<p>Check that local and network firewalls allow ICMP traffic and that the system <code>traceroute</code> (or <code>tracert.exe</code> on
Windows) works as expected. Note that on Windows, even if <code>tracert.exe</code> works as expected, you
<em>must</em> <a href="#how-do-i-allow-incoming-icmp-traffic-in-the-windows-defender-firewall">configure</a> the Windows Defender
firewall to allow incoming ICMP traffic.</p>

<p>For deeper diagnostics you can run tools such as https://www.wireshark.org and https://www.tcpdump.org to verify that
icmp requests and responses are being send and received.</p>



<h3 id="how-do-i-allow-incoming-icmp-traffic-in-the-windows-defender-firewall">How do I allow incoming ICMP traffic in the Windows Defender firewall?</h3>

<p>The Windows Defender firewall rule can be created using PowerShell:</p>

<div><pre><code>New-NetFirewallRule <span>-DisplayName</span> <span>"ICMP Trippy Allow"</span> <span>-Name</span> ICMP_TRIPPY_ALLOW <span>-Protocol</span> ICMPv4 <span>-Action</span> Allow
</code></pre></div>

<p>The rule can be enabled and disabled as follows:</p>

<div><pre><code>Enable-NetFirewallRule ICMP_TRIPPY_ALLOW
Disable-NetFirewallRule ICMP_TRIPPY_ALLOW
</code></pre></div>

<p>The Windows Defender firewall rule may also be configured manually,
see <a href="https://github.com/fujiapple852/trippy/issues/578#issuecomment-1565149826">here</a> for a step-by-step guide.</p>

<h2 id="acknowledgements">Acknowledgements</h2>

<p>Trippy is made possible by <a href="https://github.com/ratatui-org/ratatui">ratatui</a> (
formerly <a href="https://github.com/fdehau/tui-rs">tui-rs</a>),
<a href="https://github.com/crossterm-rs/crossterm">crossterm</a> as well
as <a href="https://github.com/fujiapple852/trippy/blob/master/Cargo.toml">several</a> foundational Rust libraries.</p>

<p>Trippy draws heavily from <a href="https://github.com/traviscross/mtr">mtr</a> and also incorporates ideas
from both <a href="https://github.com/libparistraceroute/libparistraceroute">libparistraceroute</a>
&amp; <a href="https://github.com/insomniacslk/dublin-traceroute">Dublin Traceroute</a>.</p>

<p>The Trippy networking code is inspired by <a href="https://github.com/libpnet/libpnet">pnet</a> and some elements of that codebase
are incorporated in Trippy.</p>

<p>The <a href="https://en.wikipedia.org/wiki/Autonomous_system_(Internet)">AS</a> data is retrieved from
the <a href="https://team-cymru.com/community-services/ip-asn-mapping/#dns">IP to ASN Mapping Service</a> provided
by <a href="https://team-cymru.com/">Team Cymru</a>.</p>

<p>The <a href="https://trippy.cli.rs/">trippy.cli.rs</a> CNAME hosting is provided by <a href="https://cli.rs/">cli.rs</a>.</p>

<h2 id="license">License</h2>

<p>This project is distributed under the terms of the Apache License (Version 2.0).</p>

<p>Unless you explicitly state otherwise, any contribution intentionally submitted for inclusion in time by you, as defined
in the Apache-2.0 license, shall be licensed as above, without any additional terms or conditions.</p>

<p>See <a href="https://trippy.cli.rs/LICENSE">LICENSE</a> for details.</p>

<p>Copyright 2022 <a href="https://github.com/fujiapple852/trippy/graphs/contributors">Trippy Contributors</a></p>


      
      
      
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Factors driving a productivity explosion (114 pts)]]></title>
            <link>https://fortune.com/2023/12/09/what-is-fueling-productivity-boom-four-reasons/</link>
            <guid>38588012</guid>
            <pubDate>Sun, 10 Dec 2023 01:10:26 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://fortune.com/2023/12/09/what-is-fueling-productivity-boom-four-reasons/">https://fortune.com/2023/12/09/what-is-fueling-productivity-boom-four-reasons/</a>, See on <a href="https://news.ycombinator.com/item?id=38588012">Hacker News</a></p>
<div id="readability-page-1" class="page"><p>America is back to work. The productivity of U.S. workers grew 5.2% in the third quarter, according to the latest <a href="https://www.bls.gov/productivity/" target="_self" rel="">Bureau of Labor Statistics report</a>, released Wednesday. That’s the fastest pace of growth since the third quarter of 2020. Productivity also grew last quarter, by 2.4%, making these the first two consecutive quarters of productivity growth in nearly three years.&nbsp;</p><div>



<p>That’s a welcome turn of fate after <a href="https://fortune.com/2023/05/05/remote-work-productivity-5-straight-quarters-decline-gregory-daco/" target="_self" rel="">five consecutive quarters</a> of declining productivity, the reasons for which have been up for plenty of debate. The dispute has been raging <a href="https://fortune.com/2023/08/03/remote-workers-less-productive-research/" target="_self" rel="">for years now</a> as executives and workers alike attempt to uncover what exactly leads to lowered output and morale. Many CEOs have <a href="https://fortune.com/2023/11/14/remote-work-productivity-goldman-sachs-nyu-total-factor-thomas-philippon/" target="_self" rel="">pointed fingers</a> at remote work, arguing that languishing on the couch has made it significantly easier for employees to extend less effort—which over time yanks total company production down. But the data <a href="https://fortune.com/2023/08/04/remote-work-productivity-second-quarter-gdp-growth-return-to-office/" target="_self" rel="">hasn’t borne that out</a>—offices have been no more full as productivity rose. And economists have <a href="https://fortune.com/2023/05/05/remote-work-productivity-5-straight-quarters-decline-gregory-daco/" target="_self" rel="">mainly chalked the decline up to</a> everything from sluggish economic activity to higher-than-usual job turnover.&nbsp;&nbsp;&nbsp;</p>



<p>It may be too soon to tell if last quarter’s productivity surge is a flash in the pan—or what exactly is fueling the growth—but it still might be worth getting excited about. The productivity boom is very encouraging, according to Gregory Daco, chief economist at EY-Parthenon, the global strategy consulting segment of <a href="https://fortune.com/company/ey/" target="_blank" rel="">EY</a>, a Big Four consultancy firm.&nbsp;</p>



<p>“We’ve seen something that rarely occurs outside recessions: Productivity accelerated in a pro-cyclical manner, in line with the overall pace of economic activity, and positive growth in terms of the labor market,” he tells <em>Fortune.&nbsp;</em></p>



<p>Essentially, Daco adds, productivity has rebounded above its 2017-to-2019 norms, which he believes indicates that it’s “not just a quick bounceback,” but actually stronger than the prior trend—a positive development.&nbsp;</p>



<p>It’s underpinned by four main factors unique to our current circumstances, Daco posits: Less turnover, more solid flexible arrangements, upped attention to costs, and more meticulous investing. Conspicuously missing from this list? A return to office, which Daco maintains has a negligible impact on productivity. (Future of work experts <a href="https://fortune.com/2023/11/30/wfh-rates-2026-nick-bloom/" target="_self" rel="">could have told you that</a> all along.)&nbsp;&nbsp;</p>



<h2><strong>Big Four</strong></h2>



<p>When the U.S. reported its fifth straight quarter of productivity declines <a href="https://fortune.com/2023/05/05/remote-work-productivity-5-straight-quarters-decline-gregory-daco/" target="_self" rel="">back in May</a>—the longest such stretch since World War II—it followed two years of the <a href="https://fortune.com/2023/10/03/number-of-people-quitting-pre-pandemic-rates/" target="_self" rel="">Great Resignation</a> and <a href="https://fortune.com/2023/06/21/gen-z-millennial-employees-job-hopping/" target="_self" rel="">job hopping</a>. “When an employee that’s been there for a few months has to train someone who just joined—and that person may not necessarily stay for that long—that creates a massive productivity hit,” Daco says. “The person that’s been there for three months won’t be anywhere near as productive as the person there for multiple years.” Then the cycle repeats: Having them train someone else will mean the <em>next</em> person will be even <em>less</em> efficient.</p>



<p>But such worker churn has since fallen from its <a href="https://fortune.com/2023/10/19/ceo-departures-highest-level-on-record-great-resignation/" target="_self" rel="">fever pitch</a>—the quits rate has <a href="https://fortune.com/2023/10/03/number-of-people-quitting-pre-pandemic-rates/" target="_self" rel="">dropped back</a> to its 2019 rate. “Employees are staying longer with their employers, and attrition rates are much lower,” Daco explains, adding that this makes employees better trained and more efficient.</p>



<p>Another thing that’s changed—adapting to hybrid work. Earlier this year, many workers were still navigating this workplace compromise. Now, most office workers log on remotely just shy of 30% of the time, and that figure <a href="https://fortune.com/preview/2023/12/08/productivity-boom-ey-parthenon-reasons/" target="_self" rel="">hasn’t moved</a> in many months. That <a href="https://fortune.com/2023/09/12/hybrid-work-new-norm-return-to-office/" target="_self" rel="">hybrid work has become the norm</a> means fewer organizational changes, which means more time to actually focus on the work.&nbsp;</p>



<p>Being in a “post-pandemic shock environment” is why we had five consecutive quarters of contraction in productivity, Daco says. “Now we’re getting more settled, and people are finding balance in their flexible arrangements, and that’s driving more productive outputs.”</p>



<p>The other two factors are more external. Last year, inflation <a href="https://fortune.com/2023/06/13/inflation-cools-may-cpi-consumer-price-index-report-economy-recession/" target="_self" rel="">hit a 40-year-high</a>. That left businesses paying extra attention to cost management, cutting back on expenses like <a href="https://fortune.com/2022/11/14/elon-musk-twitter-employee-free-meal-perks-cut/" target="_self" rel="">free lunch </a>and even resorting to <a href="http://layoffs.fyi/" target="_self" rel="">rounds of layoffs</a>. Now, the story in late 2023 into 2024 is one of cost fatigue, which Daco says is a bit of a departure from the inflation narrative that characterized the 2020s thus far.&nbsp;</p>



<p>“Everyone is fatigued by the elevated costs of goods, services, labor, capital, interest rates, inventory—everything,” he says. “So bosses don’t want to let good talent go.” Instead, they’re having to find ways to improve productivity, such as investing in increased employee engagement and long-term retention and leveraging technological innovations like generative A.I.</p>



<p>And, in an environment where the cost of capital and interest rates <a href="https://fortune.com/2023/10/12/long-term-interest-rates-spiking-could-recessionor-us-economy-carlsson-szlezak-swartz/" target="_self" rel="">are spiking</a>, businesses scrutinize their decisions much more than they would otherwise in a strong economic climate. “You’re going to be much more careful with your investments,” Daco says. “That means that you’re going to focus on the investment decisions that bring the highest returns.”&nbsp;</p>



<p>In other words: No unnecessary spending or innovation—focus on the most lucrative business levers, and divert all the resources and productivity to them.&nbsp;</p>



<h2><strong>Office attendance and work output? Not so black and white </strong></h2>



<p>Bolstered by Daco’s four-point explanation, the new BLS data puts to rest the idea that <a href="https://fortune.com/2023/11/30/wfh-rates-2026-nick-bloom/" target="_self" rel=""><em>where </em>work happens</a> is consequential in the productivity debate. Experts have <a href="https://fortune.com/2023/07/20/hybrid-work-problems-annie-dean-meta-atlassian/" target="_self" rel="">maintained that exact point</a> for years.&nbsp;</p>



<p>Evidence of productivity differences between remote and in-person work isn’t black and white, Daco says; there’s a “huge diffusion” of gains and losses. “I don’t know if return-to-office policies have had much of an effect one way or another, because the arguments are clear both ways,” he adds. “It really depends on the culture and the reasoning behind the [policies].”</p>



<p>Often when someone is forced to do something, they tend to be less efficient, he says. Once people feel more comfortable and stable in an arrangement, their productivity tends to recover.&nbsp;</p>



<p>Asked point blank whether a move towards greater in-person attendance may definitively improve productivity, Daco demurs. “I’m not answering the question, because there isn’t any clear-cut evidence that [this year’s Labor Day mandates] really shifted things that much.”&nbsp;</p>



<p>By the time many of those <a href="https://fortune.com/2023/09/06/remote-work-return-to-office-ceos-gamble-pandemic-hybrid-policy/" target="_self" rel="">Labor Day mandates</a> were instated, they were already in place to some degree, and the half-and-half in-person split wasn’t entirely new. And, running counter to remote work expert Nick Bloom’s prediction that remote work will eventually <a href="https://fortune.com/2023/08/31/ai-remote-workers-threat-nick-bloom-work-from-home/" target="_self" rel="">edge out office work</a> as the dominant format, Daco says he expects an increase in office work in coming years.</p>



<p>“We’ll never get back to—well, never say never—but we’re unlikely to get back to 100% office attendance,” he says. “But I wouldn’t be surprised if we still creep back up, especially if labor market conditions start to deteriorate and we see layoffs and more unemployment.”&nbsp;</p>



<p>At that point, he says, the incentive will be greater for workers to be present instead of out of sight—which, they’d hope, would make their bosses <a href="https://fortune.com/2023/11/15/remote-work-makes-it-easier-to-fire-ken-griffin-citadel/" target="_self" rel="">hesitant to fire them first</a>. Though of course, bosses could also take the approach of assessing workers on their productivity rates. Which, conveniently, are doing pretty well these days.</p></div><p>Subscribe to the CEO Daily newsletter to get the CEO perspective on the biggest headlines in business. <a href="https://www.fortune.com/newsletters/ceo-daily?&amp;itm_source=fortune&amp;itm_medium=article_tout&amp;itm_campaign=ceo_daily" target="_self" rel="">Sign up</a> for free.</p></div>]]></description>
        </item>
        <item>
            <title><![CDATA[65% increase in "significant" Air Traffic Control incidents in 2023 (191 pts)]]></title>
            <link>https://www.nytimes.com/2023/12/02/business/air-traffic-controllers-safety.html</link>
            <guid>38587340</guid>
            <pubDate>Sat, 09 Dec 2023 23:35:13 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.nytimes.com/2023/12/02/business/air-traffic-controllers-safety.html">https://www.nytimes.com/2023/12/02/business/air-traffic-controllers-safety.html</a>, See on <a href="https://news.ycombinator.com/item?id=38587340">Hacker News</a></p>
Couldn't get https://www.nytimes.com/2023/12/02/business/air-traffic-controllers-safety.html: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Open source alternative to ChatGPT and ChatPDF-like AI tools (193 pts)]]></title>
            <link>https://github.com/SecureAI-Tools/SecureAI-Tools</link>
            <guid>38587052</guid>
            <pubDate>Sat, 09 Dec 2023 23:02:07 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/SecureAI-Tools/SecureAI-Tools">https://github.com/SecureAI-Tools/SecureAI-Tools</a>, See on <a href="https://news.ycombinator.com/item?id=38587052">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 tabindex="-1" dir="auto">SecureAI Tools</h2>
<p dir="auto">Private and secure AI tools for everyone's productivity.</p>
<p dir="auto"><a href="https://discord.gg/YTyPGHcYP9" rel="nofollow"><img src="https://camo.githubusercontent.com/fa9f3bc30878e81e1f1185116459d5c7545de20691b02704fc3e02c242531b65/68747470733a2f2f646362616467652e76657263656c2e6170702f6170692f7365727665722f595479504748635950393f7374796c653d666c617426636f6d706163743d74727565" alt="Discord" data-canonical-src="https://dcbadge.vercel.app/api/server/YTyPGHcYP9?style=flat&amp;compact=true"></a></p>
<h2 tabindex="-1" dir="auto">Highlights</h2>
<ul dir="auto">
<li><strong>Chat with AI</strong>: Allows you to chat with AI models (i.e. ChatGPT).</li>
<li><strong>Chat with Documents</strong>: Allows you to chat with documents (PDFs for now). Demo videos below</li>
<li><strong>Local inference</strong>: Runs AI models locally. Supports 100+ open-source (and semi-open-source) AI models through <a href="https://ollama.ai/library" rel="nofollow">Ollama</a>.</li>
<li><strong>Built-in authentication</strong>: A simple email/password authentication so it can be opened to internet and accessed from anywhere.</li>
<li><strong>Built-in user management</strong>: So family members or coworkers can use it as well if desired.</li>
<li><strong>Self-hosting optimized</strong>: Comes with necessary scripts and docker-compose files to get started in under 5 minutes.</li>
<li><strong>Lightweight</strong>: A simple web app with SQLite DB to avoid having to run docker container for DB. Data is persisted on host machine through docker volumes</li>
</ul>
<h2 tabindex="-1" dir="auto">Demos</h2>
<h4 tabindex="-1" dir="auto">Chat with documents demo: OpenAI's GPT3.5</h4>
<p dir="auto"><a href="https://www.youtube.com/watch?v=Br2D3G9O47s" rel="nofollow"><img src="https://camo.githubusercontent.com/9c020ee9a9c39f400b5b609ffc5980fa34bcc4bbc372221d0c9c8c62c9ceb95e/68747470733a2f2f696d672e796f75747562652e636f6d2f76692f427232443347394f3437732f302e6a7067" alt="Chat with documents demo: OpenAI's GPT3.5" data-canonical-src="https://img.youtube.com/vi/Br2D3G9O47s/0.jpg"></a></p>
<h4 tabindex="-1" dir="auto">Chat with documents demo: Locally running Mistral (M2 MacBook)</h4>
<p dir="auto"><a href="https://www.youtube.com/watch?v=UvRHL6f_w74" rel="nofollow"><img src="https://camo.githubusercontent.com/491fb33329828504bbdc3ca9a1a5669f14916ab88a8828a0775a3cc3bb093f48/68747470733a2f2f696d672e796f75747562652e636f6d2f76692f557652484c36665f7737342f302e6a7067" alt="Chat with documents demo: Locally running Mistral" data-canonical-src="https://img.youtube.com/vi/UvRHL6f_w74/0.jpg"></a></p>
<h2 tabindex="-1" dir="auto">Install</h2>
<h3 tabindex="-1" dir="auto">Docker Compose [Recommended]</h3>
<h4 tabindex="-1" dir="auto">1. Create a directory</h4>
<div data-snippet-clipboard-copy-content="mkdir secure-ai-tools &amp;&amp; cd secure-ai-tools"><pre><code>mkdir secure-ai-tools &amp;&amp; cd secure-ai-tools
</code></pre></div>
<h4 tabindex="-1" dir="auto">2. Run set-up script</h4>
<p dir="auto">The script downloads <code>docker-compose.yml</code> and generates a <code>.env</code> file with sensible defaults.</p>
<div dir="auto" data-snippet-clipboard-copy-content="curl -sL https://github.com/SecureAI-Tools/SecureAI-Tools/releases/latest/download/set-up.sh | sh"><pre>curl -sL https://github.com/SecureAI-Tools/SecureAI-Tools/releases/latest/download/set-up.sh <span>|</span> sh</pre></div>
<h4 tabindex="-1" dir="auto">3. [Optional] Edit <code>.env</code> file</h4>
<p dir="auto">Customize the <code>.env</code> file created in the above step to your liking.</p>
<h4 tabindex="-1" dir="auto">4. [Optional] On Linux machine with Nvidia GPUs, enable GPU support</h4>
<p dir="auto">To accelerate inference on Linux machines, you will need to enable GPUs. This is not strictly required as the inference service will run on CPU-only mode as well, but it will be slow on CPU. So if your machine has Nvidia GPU then this step is recommended.</p>
<ol dir="auto">
<li>Install <a href="https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html#installation" rel="nofollow">Nvidia container toolkit</a> if not already installed.</li>
<li>Uncomment the <code>deploy:</code> block in <code>docker-compose.yml</code> file. It gives inference service access to Nvidia GPUs.</li>
</ol>
<h4 tabindex="-1" dir="auto">5. Run docker compose</h4>

<h4 tabindex="-1" dir="auto">6. Post-installation set-up</h4>
<ol dir="auto">
<li>
<p dir="auto">Login at <a href="http://localhost:28669/log-in" rel="nofollow">http://localhost:28669/log-in</a> using the initial credentials below, and change the password.</p>
<ul dir="auto">
<li>
<p dir="auto">Email</p>
<div data-snippet-clipboard-copy-content="bruce@wayne-enterprises.com"><pre><code>bruce@wayne-enterprises.com
</code></pre></div>
</li>
<li>
<p dir="auto">Password</p>

</li>
</ul>
</li>
<li>
<p dir="auto">Set up the AI model by going to <a href="http://localhost:28669/-/settings?tab=ai" rel="nofollow">http://localhost:28669/-/settings?tab=ai</a></p>
</li>
<li>
<p dir="auto">Navigate to <a href="http://localhost:28669/-" rel="nofollow">http://localhost:28669/-</a> and start using AI tools</p>
</li>
</ol>
<h2 tabindex="-1" dir="auto">Features wishlist</h2>
<p dir="auto">A set of features on our todo list (in no particular order).</p>
<ul dir="auto">
<li>✅ Chat with documents</li>
<li>✅ Support for OpenAI, Claude etc APIs</li>
<li>Support for markdown rendering</li>
<li>Chat sharing</li>
<li>Mobile friendly UI</li>
<li>Specify AI model at chat-creation time</li>
<li>Prompt templates library</li>
</ul>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[A Matter of Millimeters: The story of Qantas flight 32 (434 pts)]]></title>
            <link>https://admiralcloudberg.medium.com/a-matter-of-millimeters-the-story-of-qantas-flight-32-bdaa62dc98e7</link>
            <guid>38586773</guid>
            <pubDate>Sat, 09 Dec 2023 22:30:35 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://admiralcloudberg.medium.com/a-matter-of-millimeters-the-story-of-qantas-flight-32-bdaa62dc98e7">https://admiralcloudberg.medium.com/a-matter-of-millimeters-the-story-of-qantas-flight-32-bdaa62dc98e7</a>, See on <a href="https://news.ycombinator.com/item?id=38586773">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><div><a rel="noopener follow" href="https://admiralcloudberg.medium.com/?source=post_page-----bdaa62dc98e7--------------------------------"><div aria-hidden="false"><p><img alt="Admiral Cloudberg" src="https://miro.medium.com/v2/resize:fill:88:88/2*pZPMtIONqtJYi2xHYD_Ivg.jpeg" width="44" height="44" loading="lazy" data-testid="authorPhoto"></p></div></a></div><figure><figcaption>Officials observe damage to the engine of a Qantas A380 after it made an emergency landing in Singapore. (Reuters)</figcaption></figure><p id="8705">On the 4th of November 2010, a Qantas Airbus A380 was rocked by a catastrophic engine failure minutes after takeoff from Singapore, hurling fragments of a turbine disk through its wings and fuselage in multiple locations. The explosion damaged almost every major system on the airplane, from the flight controls and fuel tanks to hydraulics and pneumatics. Faced with a barrage of diverse failure warnings and an airplane of uncertain integrity, the flight crew worked together to make a series of critical decisions that would get their enormous airplane back on the ground. And in the end, despite one curveball after another — including landing gear problems, loss of braking power, and an engine that refused to shut down — they not only landed the plane, but did so without putting a scratch on any of the 469 passengers and crew.</p><p id="5ab9">The cause of the incident would ultimately be traced deep inside the number two engine to a single oil pipe that had been manufactured with a wall that was slightly too thin. How this seemingly tiny defect came about, and how it nearly brought down the world’s largest passenger plane, represent a story equally as fascinating as that of the flight itself, tracing back years to encompass questionable drawing board decisions, hidden flaws in the machining logic, and faulty assumptions about engine behavior. Time and time again, the problem slipped through the gaps in the system, tumbling down the long slope toward disaster — only to be stopped at the last moment, not only by the pilots themselves, but by a number of explicit protections built into the design of the A380, each of which played a crucial role in containing the fallout from a failure that exceeded the manufacturer’s worst expectations. The story of Qantas flight 32, as told herein, is therefore not only the tale of a dramatic emergency, but a testament to the safety of aviation today — a story that should make every reader feel a little less fearful of flight.</p><p id="1a65">◊◊◊</p><figure><figcaption>A brand new Airbus A380 takes to the skies. (Pascal Le Segretain)</figcaption></figure><p id="dab4">Introduced to service in 2007, the double decker, four-engine A380 is by far the largest passenger aircraft in the world, exceeding the vaunted Boeing 747 in almost every measurement. Awesome to behold and pleasant to fly, there’s not much to dislike about the A380 — unless you’re an airline, in which case most major carriers dismissed the behemoth as too large for their operating models. Indeed, analysts’ assessment today is that the A380 was built for a market that had shrunk considerably by the time it actually entered service, and as a result, production ended in 2021 with only 254 built, some of which have already been scrapped. For an extraordinarily expensive aircraft equipped with some of the most advanced technology of any airliner, the collective result of immense effort and imagination, such a fate is unfortunate, but the reasons behind it, and the future of the type, are topics for a different article.</p><p id="5896">Despite the above, some airlines did find the A380 suitable for their operations, including Qantas, the flag carrier of Australia. Qantas ordered 10 A380s to be delivered in 2008, of which eight are still flying today. It was the very first of these, registered as VH-OQA and nicknamed Nancy-Bird Walton after the pioneering Australian aviator, that would come to be involved in the events of the 4th of November 2010.</p><figure><figcaption>VH-OQA, the aircraft involved in the accident. (Andrei Dimofte)</figcaption></figure><p id="5e90">On that date, VH-OQA arrived in Singapore for a scheduled stopover on a marathon London-to-Sydney trip, where it took on fuel, passengers, and a new flight crew for the last leg to Australia. The plane was essentially full, with 440 of 450 passenger seats filled, plus a massive complement of 29 crewmembers, including no less than five pilots. Although the A380 is normally flown by only two pilots, Qantas had also rostered a second officer as a relief crewmember; a check airman was conducting a line check on the captain; and another check airman was training the first check airman, so the cockpit was certainly crowded.</p><p id="ff17">In command, and under examination, was 53-year-old Captain Richard Champion de Crespigny, a veteran airman with over 15,000 hours of experience and 32 years in aviation. The other crewmembers consisted of First Officer Matt Hicks, Second Officer Mark Johnson, Check Captain Harry Wubben, and Senior Check Captain David Evans. The five crewmembers had a combined 140 years in aviation and 71,000 hours of flying experience, an incredible total that is rarely equaled.</p><p id="70ee">At 9:56 a.m. local time, with Captain de Crespigny at the controls, Qantas flight 32 departed Singapore and proceeded southeast across the strait toward Indonesia, passing over the densely populated island of Batam. All parameters still appeared normal as the A380 climbed through 7,000 feet, four minutes after takeoff. There was no indication that a catastrophic failure was in fact just seconds away.</p><p id="bece">◊◊◊</p><figure><figcaption>A Rolls-Royce Trent 900 engine with a man for scale. (Wikimedia user Tangopaso)</figcaption></figure><p id="4196">The Airbus A380 is powered by four massive Rolls-Royce RB211 Trent 900-series high-bypass turbofan engines, each producing up to 84,000 lbf of thrust. Designed specifically for the A380, the Trent 900 was produced at several locations in the United Kingdom and was sold in competition with the American-built GP7200 jointly developed by Pratt &amp; Whitney and General Electric.</p><p id="9d52">Understanding what happened aboard Qantas flight 32 requires that I subject you to a description of the structure of certain very specific parts of the engine.</p><p id="e805">Like all high-bypass jet engines, the Trent 900 consists of four main sections: the fan, the compressors, the combustion chamber, and the turbines. During normal operation, air is forced backward and pressurized by a series of increasingly powerful compressors before being fed into the combustion chamber, where it is mixed with fuel and ignited. The combustion creates mechanical energy that spins a series of turbines, which in turn power the compressors, as well as the fan at the front of the engine, which accelerates large quantities of so-called bypass air around the outside of the engine core to generate most of the thrust output.</p><figure><figcaption>Locations of turbines and compressors on the Trent 900. (FAA)</figcaption></figure><p id="dcf5">Most turbofan engines examined in my articles have a high pressure compressor and a low pressure compressor, which correspond to high- and low-pressure turbines. These turbines are connected to their respective compressor sections by concentric drive shafts. However, the Trent 900 differs from this layout slightly, because it also has an intermediate pressure compressor with a corresponding intermediate pressure turbine, in between the high and low pressure sections. It also differs in that the fan itself doubles as the low pressure compressor. (From now on, for brevity’s sake, the abbreviations LP, IP, and HP will be used for low pressure, intermediate pressure, and high pressure, respectively.)</p><figure><figcaption>In this cutaway diagram of the IP turbine area, I’ve drawn blue boxes around the components mentioned in the following paragraph. (ATSB)</figcaption></figure><p id="48a2">On the Trent 900, the HP and IP turbine sections at the rear of the engine each consist of a single-stage turbine disk. Blades around the circumference of each disk capture mechanical energy from hot combustion gases flowing through what is known as the “annulus gas path.” These gases spin the disk, which is attached by a drive arm to its associated drive shaft. The shaft then transfers the turbine’s rotational energy forward to the corresponding compressor at the front of the engine.</p><figure><figcaption>This clip from an FAA video helps visualize the cutaway of the HP/IP bearing assembly. Note the location of the bearing chamber, which is depicted full of oil, and the pipe leading into it. Watch the full video here: <a href="https://www.youtube.com/watch?v=sYxVin_FFxQ" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=sYxVin_FFxQ</a></figcaption></figure><p id="dfc8">In order to support the turbine disks and shafts while still allowing them to rotate freely, the engine features a complex system of bearings. The HP and IP turbine sections have a common bearing assembly, called the HP/IP bearing hub, which encircles the drive shafts and holds them in place while allowing free rotation of the shafts within.</p><p id="d60c">To prevent wear on the bearings, the space inside the bearing hub, called the bearing chamber, is constantly filled with pressurized oil that keeps everything gliding smoothly. This oil is supplied primarily by an oil feed pipe that runs from the main engine oil supply, past the annulus gas path, and down into the HP/IP bearing hub, where it injects oil through a filter and into the bearing chamber.</p><p id="d009">The structure of the bearing hub consists of an inner and outer hub section, such that an empty buffer space exists between the bearing chamber and the rest of the engine. The oil feed pipe runs through both sections in order to reach the bearing chamber. The last segment of this pipe, a few centimeters in length, is welded in place during manufacture of the bearing hub, and the main portion of the pipe is fitted to it later. This fixed final segment that passes through the buffer space between the inner and outer sections of the HP/IP bearing hub is called the “stub pipe.”</p><p id="5d37">For reasons that will be examined in detail later, this tiny oil feed stub pipe triggered an escalating sequence of events within the space of mere seconds as Qantas flight 32 climbed away from Singapore.</p><p id="1540">Within the №2 engine, located in the inboard position on the left wing, a crack in the oil feed stub pipe caused it to begin leaking oil less than four minutes after takeoff. The leak was small, but the oil within the pipe was highly pressurized, resulting in an atomized spray into the buffer space between the inner and outer sections of the HP/IP bearing hub. The temperature inside this buffer space was likely between 365 and 375˚C, well above the 280-degree auto-ignition temperature of the engine oil, so the spray immediately ignited.</p><figure><figcaption>An FAA animation of the failure sequence leading up to the explosion aboard Qantas 32, annotated by me. This should be really helpful for visualizing the following paragraph. (FAA)</figcaption></figure><p id="eb6e">At the forward end of the bearing hub, a triple seal is attached to the hub structure to isolate the buffer space, which has a low internal pressure, from the area behind the high pressure turbine disk, where pressure is higher. But as the fire in the buffer space expanded, it impinged upon this seal, causing it to fail. With the low-pressure area no longer sealed off, highly pressurized air from the annulus gas path was drawn toward it, bursting down past the high pressure turbine disk and into the buffer space. This rush of air coming in through the forward end of the buffer space blasted the fire aft, propelling it like a blowtorch against the corresponding seal at the other end, which also failed. The burning oil “blowtorch” was then able to make direct contact with the drive arm connecting the IP turbine disk to its drive shaft, located directly behind the HP/IP bearing hub. Already under considerable stress as a result of normal engine operation, the drive arm failed under the withering heat within a matter of seconds.</p><p id="8614">This entire sequence, from the initiation of the oil leak to the failure of the drive arm, lasted considerably less than one minute.</p><figure><figcaption>The turbine disk disintegrates. (ATSB)</figcaption></figure><p id="66fa">Now, with the drive arm broken, the IP turbine disk was not directly connected to anything, which is (to use the technical jargon) a really big problem. A turbine disk is subjected to considerable mechanical energy from the annulus gas path, and that doesn’t go away when the drive arm breaks, but what does go away is any ability to transfer that energy somewhere other than the turbine disk itself. During normal operations, this energy is used to turn the intermediate compressors, which requires considerable force. But this load path only exists when the turbine disk is connected to the drive shaft, so when the drive arm broke, the only way for the disk to absorb all that energy was to spin faster… and faster… and faster…</p><p id="bea9">Within the space of four seconds, the energy from the annular gas flow accelerated the IP turbine past its critical speed, until centrifugal forces exceeded the ultimate strength of the nickel alloy disk. The red-hot, wildly spinning disk instantly fractured into several sections, which rocketed outward in multiple directions at incomprehensible speed.</p><figure><figcaption>The disk fragments neatly ripped out everything within the disk’s plane of rotation. (ATSB)</figcaption></figure><p id="60d0">Engine designers do their best to make sure that the engine structure can contain flying debris like individual fan and turbine blades, but the amount of energy contained within those types of projectiles is a fraction of that within a piece of a burst disk. For engineering purposes, disk fragments are assumed to have infinite energy at the moment of release; they will cut through any reasonable material and cannot be contained.</p><p id="c241">When the IP turbine disk on Qantas flight 32 suddenly burst, nothing could stop the resulting fragments, which cut through the engine case and cowling like butter, cleaving a neat circumferential fissure all the way around the engine within the plane where the disk used to be. Within a fraction of a second, one of these disk fragments exited the engine downward and to the left, propelled toward the distant ground, but several more traveled in the opposite direction. One fragment shot to the right, entered the belly area below the cargo hold, plowed through several structural stringers and wire bundles, then exited out the other side, never to be seen again. Two more fragments rocketed upward, carving paths of destruction through the interior of the left wing before emerging from its upper surface, at which point they too disappeared into space. Numerous smaller pieces, such as dislodged turbine blades and fragments of engine structure, also peppered various parts of the aircraft, including the wings and fuselage.</p><figure><figcaption>The trajectories of the various fragments. (ATSB)</figcaption></figure><p id="9749">On board the plane, the pilots and passengers heard two distinct bangs in very short succession, which were followed in the cockpit by a sudden, overwhelming cascade of warnings. The plane yawed slightly to the left and the autothrust system disconnected. Recognizing that a serious malfunction had occurred, Captain de Crespigny pressed the altitude hold button on the autopilot to level the plane, and then everyone’s attention turned to the ECAM.</p><p id="7051">The Electronic Centralized Aircraft Monitoring system, or ECAM, presents the crew with warnings, cautions, and advisories related to the degradation or failure of a huge range of aircraft systems, along with the associated abnormal or emergency procedures. A feature of most modern airliners, ECAM displays have transformed the way pilots deal with in-flight emergencies, helping ensure swift and correct action in response to almost any conceivable mechanical failure. Today, this system would be put to the test.</p><p id="9357">The first message to appear on the ECAM screen was an ENG 2 TURBINE OVERHEAT warning, which was followed within the next 20 seconds by another 34 messages of varying alert levels. The highest priority messages, displayed at the top of the list, all indicated a major problem with the №2 engine, but strangely enough, not its outright failure, because the engine — minus the IP turbine disk and everything in line with it — was in fact still turning. Following the indicated ECAM actions, Captain de Crespigny reduced power to the damaged engine, but instead of correcting the problem, an “ENG 2 FIRE” warning flashed on the screen for one or two seconds, then disappeared.</p><figure><figcaption>A flight crewmember took this photo of the instrument panel during the flight, showing several messages, including a red “warning” level message, on the ECAM display. (ATSB)</figcaption></figure><p id="5ff0">As First Officer Hicks made a pan-pan call to air traffic control, one level short of “mayday,” the crew decided that the engine was likely severely damaged and elected to shut it down. As they moved to reduce power, an ENG 2 FAIL message finally appeared on the ECAM. The pilots also attempted to actuate both of the engine’s two built-in fire extinguishers, but only one of them actually fired, and neither of the confirmation lights illuminated. However, as they scrolled through the seemingly unending list of ECAM alerts, only one or two of which could be displayed at one time, it became clear that the engine and its fire extinguishers were hardly the only systems having issues.</p><p id="f41b">When the fragments of the IP turbine disk passed through the wing and belly of the A380, they caused considerable secondary damage along the way, not only to the №2 engine but also to the left wing fuel tank, which sprang a leak; the leading edge wing slat extension mechanism, which took a direct hit; and the aircraft’s electrical system. Additionally, two wire looms in the leading edge of the wing and in the belly area were completely severed, collectively affecting about 650 wires that carried critical information to and from almost every conceivable aircraft system. A brief and hardly exhaustive summary of the damage to the aircraft included impact damage to the left wing upper and lower skin, front spar, internal ribs, and wing-to-fuselage joint; loss of control over the green (left) hydraulic pumps; degradation of the yellow (right) hydraulic system; loss of AC electrical power from engines 1 and 2; loss of one of four AC power distribution systems; loss of functionality of all leading edge slats; partial loss of functionality of the spoilers and ailerons; degradation of control over all remaining engines, resulting in loss of the autothrust system; loss of functionality of the left wing landing gear brakes and anti-skid on the right wing gear brakes; severe disruption of the pneumatic system; loss of both the №1 and №2 low fuel pressure shutoff valves; degradation of the fuel quantity indicating system; reduction in fuel transfer capability; loss of the fuel jettison system; loss of fire protection capability on engines 1 and 2; and much more besides.</p><figure><figcaption>A map of operational flight controls surfaces [green] and inoperative surfaces [red]. (ATSB)</figcaption></figure><p id="3733">One of the most serious malfunctions was the loss of the green hydraulic system. Although the system itself was not breached, the severed wires stopped all the green hydraulic pumps, resulting in a loss of pressure that rendered inoperative all systems reliant upon it. Unlike some other wide body aircraft, the A380 has only two hydraulic systems — green and yellow — which mainly supply the left and right sides of the aircraft, respectively. Instead of more redundant hydraulic systems, the A380 has independent backup hydraulic actuators on each individual flight control surface, ensuring that even a total loss of both hydraulic systems will result in minimal flight control difficulties. Nevertheless, direct damage had degraded the plane’s roll control, eliminating the left middle aileron (the A380 has three on each wing) and left wing spoilers 4 and 6. The loss of green hydraulic pressure also caused the failure of the outboard ailerons on both wings, spoilers 2 and 8 on each wing, and spoiler 4 on the right wing. However, the built-in redundancy in the A380 was so great that the remaining spoiler and aileron panels were sufficient to maneuver the airplane despite what amounted to a 65% loss of roll control capability.</p><p id="2987">Initially, the hydraulic system indications confused the crew. Their initial impression was that the damage was confined to the left side of the airplane, so they were surprised to see an indication related to the yellow (right) hydraulic system mixed in with all the other ECAM messages, and they briefly considered whether the messages might be spurious. The same possibility was considered by Qantas technicians on the ground, who were receiving live telemetry data from the aircraft. But by accessing detailed electronic status pages for each aircraft system and cross-checking what was not working, the pilots were able to come to the conclusion that all the failures were most likely real.</p><figure><figcaption>A passenger took this photo in flight, showing turbine fragment exit holes in the upper surface of the wing. (ATSB)</figcaption></figure><p id="6f42">At that point the crew needed to make a decision: should they land immediately, or should they wait to action all of the abnormal procedures associated with the dozens of ECAM messages? Assessing that the aircraft was controllable with the autopilot both on and off, they eventually came to an agreement that it was safe to remain airborne, and that they would rather make sure all crewmembers had a complete understanding of the health of every aircraft system before coming in for a landing. The last thing they needed was a surprise on final approach that would force them to go around.</p><p id="4fbd">Having chosen this course of action, the crew requested clearance to enter a holding pattern, and ATC granted them permission to circle over the ocean northeast of Singapore. The crew estimated that it would take at least 30 minutes to work through all of the ECAM actions.</p><p id="5692">In the meantime, the cabin crew had been attempting to get the pilots’ attention using the emergency call button, but all the pilots were so focused on the failures that they initially didn’t notice. Only now did they send Second Officer Mark Johnson to assess the situation in the cabin, whereupon a Qantas pilot riding as a passenger in the upper deck drew his attention to the in-flight entertainment system, which featured a live view of the aircraft from a tail-mounted camera. The digital stream clearly showed a much more literal stream of fuel pouring from the left wing and into the aircraft’s wake, which was also visible with the naked eye from the lower deck. Johnson proceeded down to check for himself, at which point he also observed for the first time that there were two gaping holes in the top of the left wing, surrounded by jagged metal, where the turbine disk fragments had exited.</p><p id="4acc">According to Check Captain David Evans, the cabin crew were concerned that so many passengers were watching the live feed from the tail camera, but in a collective decision, the pilots elected not to turn it off because, in their view, the feed suddenly cutting out would probably be more alarming than anything that could be seen on it.</p><p id="ec59">◊◊◊</p><figure><figcaption>Part of the turbine disk caused serious damage to a building. (ATSB/Posmetro newspaper)</figcaption></figure><p id="3a4e">Meanwhile on the ground, events were taking an unexpected turn. On Batam Island in Indonesia, debris from the №2 engine plunged into a populated area shortly after the failure, resulting in surprise and alarm. Among the debris was a large portion of the failed IP turbine disk, which fell with such force that it cleaved straight through a building, razing a brick wall. Thankfully, no one on Batam was hurt by the debris. However, photographs of locals holding airplane wreckage in what appeared to be Qantas livery were soon posted to Twitter, where they were taken as indications that a Qantas airplane had actually crashed somewhere over Batam. Qantas engineers already knew that the plane was still flying, but they were unable to contact the crew to find out more information. And outside that bubble, the news that a Qantas A380 had possibly gone down spread so quickly that even investors reacted while the plane was still in the air. In fact, the first time Qantas’s CEO learned of the situation was when he received a call asking why the company’s stock price was dropping.</p><figure><figcaption>People collect pieces of the fallen engine cowling on Batam. (Reuters)</figcaption></figure><p id="3597">Up in the air, such concerns were far from the minds of the crew. Working through one ECAM procedure after another, they slowly stabilized various disrupted systems, but as they did so, one problem in particular was getting worse: their fuel situation. With fuel leaking prodigiously from the left wing tank, an imbalance had developed between the left and right wings, prompting an ECAM alert instructing them to open the fuel transfer valves to equalize the fuel levels. However, with a leak clearly occurring and other ECAM messages indicating damage to the fuel transfer system, after a detailed discussion the pilots concluded that following the computer’s instructions would be inadvisable — a great example of why experience and judgment are still necessary even on an aircraft as highly automated as the A380.</p><p id="95dd">In the end, it took 55 minutes to clear all of the ECAM messages, an unprecedented length of time that was certainly far beyond anything any of the pilots had previously imagined. But even then, more considerations remained before they could land. Most notably, the airplane was still more than 40 tons over its maximum landing weight, and among the failures that had occurred was the loss of the fuel jettison system, so it would be impossible to reduce their weight by dumping fuel. The possibility of remaining in the air until they had burned the extra fuel was considered, but with an increasing fuel imbalance between the right and left wings and a 65% loss of roll control, the pilots determined that this would be irresponsible. Their conclusion was that they had to land soon, even if they were over the maximum weight. But would any of the runways at Singapore be long enough to accommodate a significantly overweight A380 with degraded brakes, several faulty spoilers, and no reverse thrust on engine 2? There was certainly reason to doubt.</p><figure><figcaption>The complete flight path of flight 32, including its extensive hold. (ATSB)</figcaption></figure><p id="0409">In order to find out for sure, Captain de Crespigny instructed the two Check Captains to determine their required landing distance using the Airbus performance software installed on laptop computers stored in the cockpit. The detailed software allowed them to enter various parameters including the weather, runway condition, and any systems failures, and then calculate whether it was possible to land. But when everything had been entered, the program spit out an unhelpful answer: “no result.”<br> When calculating the landing distance, the software applied a generic “operational coefficient” to account conservatively for variations in pilot techniques that could result in less efficient deceleration. The problem, as investigators would later discover, was that the software applied the coefficient again whenever another system failure was added. With so many system failures on the aircraft, the coefficient was applied a total of 9 times, resulting in a calculated landing distance considerably greater than the length of the available runway. However, Check Captain Evans was able to fix the problem by manually entering their actual landing weight, overriding the program’s assumption of a maximum landing weight. By specifying an landing weight in excess of the maximum, the system logic changed to apply the operational coefficient only once — for unrelated and obscure reasons — and lo and behold, when he ran the numbers this time, the computer said they could just barely land on any of the 4,000-meter runways at Singapore Changi Airport, with only 100 meters to spare. It wasn’t much, but with no better runways anywhere nearby, it would have to do.</p><figure><figcaption>Indonesian police pose with a fallen piece of the airplane. (AP)</figcaption></figure><p id="1b49">Finally ready to commit, Captain de Crespigny now removed the aircraft from its holding pattern and began maneuvering for approach. The crew requested fire trucks on landing due to the fuel leak, and advised the cabin crew to prepare for an on-ground emergency if they overran the runway. They aligned with the runway from considerably farther away than usual in order minimize maneuvering, since the controls felt rather sluggish — mainly the result of the degraded roll control. Captain de Crespigny subsequently carried out further manual control checks during the approach to make sure that the controllability characteristics remained consistent as First Officer Hicks progressively extended the flaps. The pilots also decided to leave engines 1 and 4 at a constant thrust level and adjust their airspeed using only engine 3, because that engine was least affected by the various electronic control system failures.</p><p id="4004">The problems only continued, however. Due to the failure of the green hydraulic system, the landing gear did not drop when the gear lever was selected “down,” forcing the pilots to use a backup system that gravity drops the gear instead. Fortunately, this was successful. Captain de Crespigny also had to maintain a very narrow airspeed band, because there was only a fine margin between the slowest safe speed in the air, below which they would stall, and the highest safe speed on touchdown, above which they would overrun the runway. De Crespigny later recalled that the safe band between these speeds was probably only three or four knots. At one point, the airplane even generated an automatic low energy alert, warning that their airspeed was dropping too low for their present configuration — so de Crespigny increased power slightly on engine 3, and the alert went away.</p><p id="3866">Nevertheless, with the help of the Airbus’s still operational fly-by-wire system and mostly undamaged controls, de Crespigny was able to thread the needle, greasing it onto runway 20C at Changi Airport at 11:46, just shy of two hours after the flight took off. A stall warning briefly sounded just before touchdown, but a split second later they were on the ground and the matter was moot. The pilots applied those brakes that were still working, activated reverse thrust on engine 3 — the A380 only has reversers on its inboard engines — and hoped that it would be enough. The deceleration was not exactly exuberant, but considering how much it takes to stop something the size of an A380 even on a good day, it was impressive enough. Nevertheless, it was not until fairly late in the rollout that the pilots felt certain that they would stop on the runway, and ultimately the performance software was not far off the mark: by the time the plane ground to a halt, only 150 meters remained of the 4,000-meter runway.</p><figure><figcaption>Firefighters spray foam on the airplane after its emergency landing. (Reuters)</figcaption></figure><p id="de92">And yet at that point, even if some of the passengers thought their ordeal was over, it turned out that there was more to come. As the pilots shut down the engines, they observed that the brake temperature on the left body gear brakes had risen alarmingly. These had been the only working brakes on the left side of the aircraft and were subject to considerable strain during the landing, causing them to overheat; the overheating in turn caused four tires to deflate. To make matters worse, fuel was still leaking from the wing, and there was genuine concern that a fire could erupt if spilled fuel contacted the hot brakes. And on top of that, when engines 3 and 4 were shut down, the plane lost electrical power, and when they tried to start the auxiliary power unit, it wouldn’t hook up the electrical system because of damage to the distribution infrastructure. Operating solely on emergency electrical power, the plane now had only one working VHF radio, and it took a few moments for the crew to figure out which one that was so that de Crespigny could contact the airport fire services.</p><figure><figcaption>People disembark from flight 32. (Richard de Crespigny)</figcaption></figure><p id="7d03">Upon making contact with the fire crew, de Crespigny urged them to cool down the brakes, but the firefighter in charge replied with surprising news: the №1 engine was still running, even though the crew had already carried out the shutdown procedure. Damage to systems in the wing had rendered the №1 fuel shutoff valves inoperative, preventing the crew from shutting the engine down by normal means. Both fire extinguisher bottles in engine №1 were also inoperative, preventing the crew from shutting it down by pulling the emergency fire handle. Unable to resolve the issue, de Crespigny instead urged firefighters to approach the brakes while staying as far as possible from the inlet and exhaust ends of the №1 engine. If firefighters got too close to the inlet, they could be sucked into the fan; alternatively, approaching too close behind would result in severe burns, not to mention the jet blast. Nevertheless, the fire crews managed to get close enough to douse the brakes with foam, averting a conflagration.</p><p id="5d18">Throughout this period, the crew also debated whether or not to evacuate the passengers. An evacuation is not always an easy call: statistics show that around 5 to 10% of passengers who evacuate by the emergency escape slides sustain serious injuries, and with 440 passengers on board, including elderly and disabled, that was potentially a rather large number of people. Considering that the fire risk had been tamped down, the crew ultimately agreed that the safest place for the passengers was on the plane — at least for the moment. The flight attendants were asked to move to their stations on the right side of the aircraft to be ready for an emergency evacuation, should the calculus suddenly change, while the pilots attempted to call for a set of stairs to be brought to the aircraft. But with the only working radio being used to liaison with the firefighters, the only other working communications systems aboard the powered-down airplane were the pilots’ cell phones. It took quite some time, and several abortive attempts, before they managed to get through to someone at Qantas who could call the airport services company at Changi Airport and tell them to send a set of boarding stairs.</p><figure><figcaption>Firefighters attempt to drown the still-running №1 engine. (Reuters)</figcaption></figure><p id="8955">After 50 minutes aboard the increasingly sweltering airplane — without power, there was no air conditioning — the stairs finally arrived, and the disembarkation began. It ultimately took an hour to get everyone off through a single exit in an orderly manner, but in the end, all 440 passengers walked away without a single injury.</p><p id="0740">As for the still-running №1 engine, Qantas engineers eventually concluded that the only way to shut it down was to drown it with firefighting foam. Firefighters then poured huge amounts of water and foam into the intake, which proved successful, as the engine finally spooled down and stopped at 14:53, more than three hours after the aircraft landed.</p><p id="e852">◊◊◊</p><figure><figcaption>The crew of flight 32; from left to right: Mark Johnson, Matt Hicks, Richard de Crespigny, David Evans, and Harry Wubben. (Richard de Crespigny)</figcaption></figure><p id="a7ba">The news that the crippled Qantas A380 had landed safely in Singapore came as a great relief to all, especially those who were on board the airplane, who immediately heaped praise on the crew. Captain de Crespigny, in an exemplary act of professionalism, even handed out his personal phone number and stayed for two hours in the Qantas lounge in Singapore to answer passengers’ questions about the flight. He and his crew were hailed as heroes, and not without reason. The sheer number of failures aboard the A380 eclipsed almost any other incident, at least on an aircraft with modern failure monitoring technology. Levelheaded decision-making, teamwork, and crew resource management helped the crew collectively determine the course of action least likely to result in injury or loss of life, with perfect results.</p><p id="0e19">The aircraft itself, however, helped quite a lot. The design of the flight control system ensured that the impact on controllability was limited, even with serious damage to the ailerons and the loss of one of two hydraulic systems. Despite its size, the A380 is known to respond very gracefully to control inputs thanks to the design of its fly-by-wire system, which during the incident remained fully intact, allowing the pilots to focus primarily on decision-making rather than handling the airplane. The ECAM and the detailed systems pages also helped the pilots take full stock of the extent of the failures in a way that was not necessarily possible two decades earlier. Without minimizing the actions of the crew in any way, it’s also fair to say that the design of the A380 incorporated such redundancy and such high safety margins that the risk of a catastrophic crash was probably very low, even with so much damage to the airplane.</p><figure><figcaption>Dark colored residue inside the fuel tank near the breaches testified to a brief flash fire. (ATSB)</figcaption></figure><p id="4acb">However, there were a couple of places where the potential for worse damage existed. It goes without saying that if any of the turbine fragments had entered the passenger cabin, there would have been injuries, if not fatalities, even if the plane later landed safely. And perhaps even more worrying, investigators later found signs of a very brief flash fire inside the left wing fuel tank, which likely occurred when an extremely hot turbine fragment contacted fuel vapors in the tank ullage. Research conducted as part of the investigation into the 1996 crash of TWA flight 800, which was caused by an explosion of the center fuel tank, found that the wing tanks on commercial airliners contained flammable fuel-air mixtures around 7% of the time. However, on Qantas flight 32, the temperature in the tank was too low for the fuel-air mixture to reach a flammable concentration, and investigators determined that the brief ignition of vapors during passage of the turbine fragment likely failed to raise the temperature of the rest of the fuel sufficiently to sustain combustion. Had this fuel continued to burn, causing an explosion or sustained wing fire, then the outcome could have been very different.</p><figure><figcaption>Severed wires in the wing leading edge. (ATSB)</figcaption></figure><p id="b8cd">Even though these worst case scenarios didn’t happen, the level of damage was still far beyond anything Airbus or Rolls-Royce had anticipated, and both companies were keen to know why — as were investigators with the Australian Transport Safety Bureau (ATSB), who were charged with finding out. Initial efforts established that an oil leak caused an internal fire that led to the failure of the IP turbine disk drive arm, as described previously. But that didn’t answer one of the manufacturers’ most burning questions, which was why the disk was allowed to overspeed until it burst — because according to the engine’s design philosophy, this should never have happened.</p><p id="d712">The risk posed by a burst engine disk, whether it’s a fan, compressor, or turbine, is well known in the industry. Numerous catastrophic accidents have occurred as a result of burst disks, either due to overspeed or material defects. Demonstrated side effects of burst disks include severe flight control damage (<a rel="noopener" href="https://admiralcloudberg.medium.com/fields-of-fortune-the-crash-of-united-airlines-flight-232-9cf65ae14c68">see United flight 232, Sioux City, Iowa, 1989,</a> in which fan disk debris resulted in the failure of all hydraulic systems, a loss of control on landing, and 111 deaths); direct fatal impacts to passengers (<a rel="noopener" href="https://admiralcloudberg.medium.com/written-in-metal-the-story-of-delta-air-lines-flight-1288-1205599c1b55">see Delta flight 1288, Pensacola, Florida, 1996,</a> in which a compressor disk entered the passenger cabin on takeoff, killing two passengers); and in-flight fires (<a rel="noopener" href="https://admiralcloudberg.medium.com/under-the-iron-curtain-the-crashes-of-lot-polish-airlines-flights-007-and-5055-f0f1c0ba4a64">see LOT Polish Airlines flight 5055, Warsaw, Poland, 1987,</a> which crashed after a fragment of a burst turbine disk started a fire in the baggage compartment, killing 183). Accidents such as these inform aircraft certification guidelines, which classify a disk failure as a “hazardous” event whose probability must be “extremely remote” (defined as one event or less per 100 million operating hours). And just in case such an event were to happen anyway, rules introduced following the United accident in Sioux City also require manufacturers to minimize the potential secondary failures that could occur as a result, which was part of why the A380 had individual backup hydraulics for all critical control surfaces.</p><figure><figcaption>Officials inspect the damaged №2 engine. (Reuters)</figcaption></figure><p id="31ed">In general, the accident aboard flight 32 demonstrated that the requirements for damage minimization were met, with the exception of the resultant inability to cut fuel to the №1 engine, which was explicitly defined in certification guidelines as undesirable. This success alone distinguished it from previous, fatal disk release accidents. But Rolls-Royce was concerned that the disk burst at all. During development of the Trent 900, the company calculated that in the event that the IP turbine disk became disconnected from the drive shaft, the disk would not accelerate fast enough to burst. Essentially, it was believed that without the turbine to drive it, the IP compressor would decelerate until air no longer flowed smoothly over its blades, causing a compressor stall that would subsequently spread to the HP compressor behind it. This should lead to an engine surge, in which the disruption of airflow through the compressor section allows pressurized air from the combustion chamber to surge forward toward the front of the engine. In theory, this would reduce the amount of air flowing rearward through the annulus gas path and over the IP turbine, relieving the load on the turbine and preventing it from accelerating beyond its critical speed.</p><p id="a052">A key assumption here was that the IP compressor stall would happen faster than the advanced electronic engine control system could detect the surge and reduce fuel flow, which would bring down the combustion chamber pressure to clear the surge and restore normal airflow. In the actual event, investigators found that although the IP compressor stalled and a surge occurred, the automatic reduction in fuel flow came swiftly enough to enable the partial recovery of the HP compressor, which resumed forcing pressurized air into the combustion chamber and thence over the turbine. This unexpectedly robust airflow provided the mechanical energy required to accelerate the IP turbine disk beyond its critical speed. Rolls-Royce engineers were unable to conclusively determine why this occurred. Nevertheless, to prevent it from happening again, the company developed an IP turbine overspeed function for the electronic engine control that directly monitors the IP turbine disk and instantly cuts fuel flow to the engine if the disk starts spinning too fast.</p><p id="3d9e">◊◊◊</p></div><div><p id="03b1">Of course, if you’ve gotten this far, then you’re probably aware that one critical question remains. This entire chain of events began when the oil feed stub pipe — remember that? — developed a leak. If you need a refresher, this was the short segment of pipe that passed through the outer and inner sections of the bearing hub to deliver oil to the bearing chamber. So why did this happen?</p><p id="14f4">The answer, as it turns out, was visible to the naked eye. When investigators removed the faulty pipe, they found that one wall of the pipe was simply too thin. Unable to withstand the stresses of normal operation, it began suffering from metal fatigue and failed after only 677 flights.</p><figure><figcaption>How the oil feed stub pipe and its fittings were constructed. (ATSB, annotations mine)</figcaption></figure><p id="014e">The oil feed stub pipe was designed to have a slightly wider inner diameter at the bottom end in order to accommodate a filter. This required widening the interior diameter of the pipe by drilling a “counter bore” in from one end, as shown above. The center of the counter bore should be aligned with the center of the main bore. But on the stub pipe recovered from the failed Qantas engine, the counter bore was displaced to one side by approximately half a millimeter, resulting in an irregular wall thickness that varied from 1.42 mm on one side to only 0.35 mm on the other. It was this extra thin part of the pipe wall that failed on flight 32.</p><p id="b98e">The story of how the counter bore became offset by half a millimeter has implications that far outstrip the physical size of the error. The following section is going to involve some fairly complex discussions of the design and manufacturing process, but I hope you’ll bear with me.</p><figure><figcaption>How the bores for the stub pipe were defined according to the design drawings. (ATSB, annotations mine)</figcaption></figure><p id="bafb">When the designs for the HP/IP bearing hub assembly were drawn up during the early 2000s, the design engineers followed standard practice by defining the position and dimensions of the oil feed stub pipe and associated features relative to a fixed point, referred to as a “datum.” This point, designated datum AA, was defined as the hole in the outer section of the bearing hub through which the oil feed stub pipe passes on its way to the bearing chamber. This hole will henceforth be known as the “outer clearance hole.” All other aspects of the stub pipe fitting were positioned with respect to the centerline of this hole.</p><p id="c311">In line with the outer clearance hole, the designs also called for an “interference bore” in the inner hub into which the bottom end of the stub pipe would fit. The interference bore was designed to be very slightly narrower than the stub pipe so that the pipe end, once tapped firmly into place within it, would be held inside by friction. This bore was required to be centered on datum AA so as to keep it perfectly aligned with the outer clearance hole.</p><p id="a407">Next, an “inner hub counter bore” would be drilled in from the inside of the inner hub, meeting in the middle with the interference bore. This was the hole through which the oil from the stub pipe would enter the bearing chamber.</p><p id="2407">Then, once these holes were machined, the oil feed stub pipe itself would be inserted through the outer clearance hole and into the interference bore, then welded in place.</p></div><div><p id="6465">Finally, working from the inside through the inner hub counter bore, the stub pipe counter bore would be drilled to a specified depth to accommodate the filter. (This was the bore that was later found to be offset by half a millimeter.) According to the design specifications, the stub pipe counter bore should be in line with datum AA, with a tolerance of Ø 0.10 mm. In plain English, that means that the center of the counter bore should lie within a 0.10-mm-diameter circle centered on datum AA. It does not mean that the bore can be 0.10 mm from the datum, but rather <em>that the bore can lie within 0.05 mm of the datum in any direction, for a total range of possible positions measuring 0.10 mm across.</em> (Hereinafter, the term “offset” refers to the distance of a given point from the datum, while the terms “tolerance” and “non-conformance,” indicated with the “Ø” symbol, refer to the diameter of a circle centered on the datum with its edge at the given point. As confusing as this may be for some readers, this is how tolerances are measured in real life engineering, so if engineers can deal with it, so can you (hopefully).)</p><figure><figcaption>How the stub pipe and its fittings were defined according to the manufacturing stage drawings. (ATSB, annotations mine)</figcaption></figure><p id="78a8">In any case, when it came time to plan the actual manufacture of the bearing hub assembly, some changes had to be made to this process. The basic problem was that once the oil feed stub pipe was inserted into the hub assembly, it would no longer be possible for the machining computer to find the location of datum AA, because the outer clearance hole by which it was defined would be too full of stub pipe. That meant that it would be impossible to determine exactly where the oil feed stub pipe counter bore should subsequently be drilled.</p><p id="bb4c">In order to fix this problem, Rolls-Royce manufacturing engineers decided to redefine the position of the stub pipe counter bore with relation to a new datum, named datum M, which corresponded to the center of the inner hub counter bore. At the same time, the tolerance for the stub pipe counter bore was changed from Ø 0.10 mm to Ø 0.20 mm for unknown reasons. But the bigger problem was that the position of the stub pipe itself was determined by the position of the interference bore, which was still defined by datum AA. Because the position of the inner hub counter bore did not have a specified tolerance relative to datum AA — in fact, in the original design plan, its position didn’t matter much at all — there was no direct assurance that datum M would line up with datum AA, and thus it could not be assured that the stub pipe would line up with its own counter bore either. At this point you might already be starting to see the problem.</p><figure><figcaption>How the series of bores was actually drilled. (ATSB, annotations mine)</figcaption></figure><p id="4890">The actual manufacturing process, based on the above specifications that were written into the manufacturing stage drawings, proceeded as follows. First, the basic hub assemblies were delivered to the Rolls-Royce machining plant in Hucknall, UK, with the outer clearance hole already drilled (and datum AA thus defined), but without the interference bore or the inner hub counter bore (datum M). Instead, a reference hole was drilled, with reference to datum AA, in the location that would later become the inner hub counter bore. A temporary timing pin was inserted into this reference hole, which was then used by the computerized machining equipment to orient the hub so that the machining arm aligned with datum AA. So far so good.</p><p id="4b4c">Subsequently, the interference bore was drilled, with reference to datum AA. Then came the most dastardly part: in order to drill the inner hub counter bore, the timing pin had to be removed, but the machine also needed to remember its location in order to know where to drill. Therefore, the machining computer used specialized probes to measure and record the position of the timing pin within three-dimensional space, allowing subsequent removal of the pin. At that point the only thing ensuring the correct alignment of the inner hub counter bore — and thus datum M, and thus the stub pipe counter bore — was the assumption that the recorded position of the timing pin remained accurate.</p><figure><figcaption>Can you see the offset in the drilled position of the inner hub counter bore? (ATSB)</figcaption></figure><p id="b667">Unfortunately, that assumption proved incorrect. The problem was that while the interference bore had been drilled from the outside, the inner hub counter bore had to be drilled from the inside, which necessitated the reconfiguration of the clamps holding the hub assembly in place, in order to make room for the machining arm. During this process, the hub assembly sometimes — but not always — shifted imperceptibly.</p><p id="5634">If the hub shifted, then when the machining process resumed, the recorded location of the timing pin (and thus datum AA) would by slightly offset from its actual, new location, and the machine would subsequently drill the inner hub counter bore offset by an equal amount. That meant that datum M — again, defined as the center of the inner hub counter bore — would also be offset from datum AA by that amount.</p><p id="b4db">Subsequently, the stub pipe was inserted through the outer clearance hole and into the interference bore, where it was welded in place. The stub pipe counter bore was then drilled into the end of the pipe with reference to datum M, which, again, would be offset if the hub had shifted. In the case of the components involved in the accident, the hub presumably shifted by just under half a millimeter, resulting in an equal offset of both the inner hub counter bore and the stub pipe counter bore relative to the pipe itself. As a side effect, one wall of the pipe was too thin.</p><figure><figcaption>The final product is created with a thin stub pipe wall. The best way to notice this offset of the stub pipe counter bore is by measuring the position of the interference bore relative to datum M. Measuring the interference bore relative to datum AA will not reveal the error. (ATSB)</figcaption></figure><p id="5f50">In the original design, no stub pipe wall thickness was specified; instead, adequate wall thickness was ensured by the alignment of both the pipe (via the interference bore) and its counter bore with the same datum (AA). The fact that this assurance could be lost when using the reworked manufacturing process was not recognized at the time, nor were the subsequent inspections tailored to find such a defect.</p><p id="7fa8">In this regard, two inspections are of note, both of which involved the use of a computerized coordinate machine, or CMM. One of these, known as OP 230, involved only the measurement of the stub pipe counter bore position relative to datum M, which provided no useful information as to its position relative to the pipe itself. A visual inspection was also conducted at this stage, but it was not possible for an inspector to observe the stub pipe wall thickness at the counter bore because this end of the pipe was welded inside the interference bore, completely out of sight.</p><p id="6d6e">Another inspection, called OP 70, occurred prior to OP 230 and presented a better opportunity to notice the error. During this inspection, the CMM measured the position of the interference bore relative to datum M, even though it was machined with reference to datum AA. If datum M and datum AA were offset by more than the specified tolerance for the interference bore, this should have caused the CMM to report an error in the position of the interference bore. The tolerance for this bore was supposed to be Ø 0.05 mm according to the design drawings, but was changed to Ø 0.5 mm in the manufacturing drawings without explanation. Even so, the non-conformance on the accident hub was between Ø 0.90 and Ø 0.98 (an offset of 0.45–0.49 mm), which should have been flagged by the machine. The CMM records from the accident hub were not retained, so it was not possible for investigators to confirm that the error was actually registered. However, even if it was, a follow-up inspection might have concluded that the error was false — because the manufacturing drawings specified the position of the interference bore relative to datum AA, and inspectors were generally unaware that the CMM was actually measuring the position of the bore relative to datum M. Therefore, if inspectors saw that the position of the interference bore was flagged as out of tolerance, they could refer to the manufacturing drawings, check the bore’s position with reference to datum AA, find everything to be normal, and give the hub a clean bill of health.</p><figure><figcaption>A coordinate measuring machine used at the Hucknall facility. (ATSB)</figcaption></figure><p id="7b08">For the above reasons, numerous HP/IP bearing assembly hubs were released for service with oil feed stub pipe walls that may or may not have been too thin. No one was aware of this until 2009, after the accident hub was manufactured, when Hucknall Casings and Structures decided to change the datum for the oil feed stub pipe counter bore in order to simplify the manufacturing process. The change called for the use of datum AF, which was defined as the center of the pipe’s main bore, to position the pipe’s counter bore. Subsequently, two previously manufactured stub pipe counter bores were measured against this new datum and found to have a non-conformance of Ø 0.5 mm (or an offset of 0.25 mm, about half that of the accident pipe). As a reminder, the tolerance for the stub pipe counter bore was supposed to be Ø 0.20 (for a maximum permissible offset of 0.1 mm).</p><p id="8af6">This problem was soon called to the attention of a design engineer, who escalated it up the chain of command in order to figure out what to do about the approximately 100 oil feed stub pipes that had already been released for service. At issue was whether the error would have safety implications. If there were no safety implications, then the plant could issue what it termed a “retrospective concession,” allowing the improperly manufactured products to remain in service. But if there were safety implications, then there would need to be corrective actions, perhaps even a recall. In order to find out, a manufacturing engineer was assigned to conduct a statistical analysis of the likely distribution of oil stub pipe counter bore non-conformances based on measurements taken on nine previously manufactured hubs that were still at the facility. Using a statistical analysis program, the engineer found that the likely maximum non-conformance of any stub pipe counter bore was Ø 0.7 mm (an offset of 0.35 mm). Engineering calculations showed that the resulting wall thickness would not seriously alter the service life of the stub pipe, which meant that there was no safety implications.</p><figure><figcaption>The revised manufacturing datum was much more robust, but the implications for previously produced hub assemblies were not adequately appreciated. (ATSB)</figcaption></figure><p id="2b98">In reality, this statistical analysis was flawed because of the low number of data points, and the lack of assurance that the dataset of nine hubs was representative of hubs manufactured in previous years. Therefore, the result should really have been read as “a maximum likely non-conformance of Ø 0.7 mm plus or minus an uncertainty factor of unspecified magnitude.” However, the engineer was unfamiliar with the statistical analysis program and failed to clearly convey this uncertainty in the report that was submitted to the Non-Conformance Authority, the engineer empowered to make decisions about the acceptability of non-conformances. The Non-Conformance Authority took the report to mean that there were no safety implications, and signed off on the retroactive concession allowing the affected pipes, including the accident pipe, to remain in service.</p><p id="dd46">Investigators noted that according to Rolls-Royce’s internal procedures, a retrospective concession also required the signatures of the Business Quality Director and more importantly the Chief Engineer, who had the power to decide whether any fleet-wide actions were warranted. Neither of these signatures were obtained for the retrospective concession that was granted to the oil feed stub pipes. The ATSB observed that the Hucknall facility was using the same paperwork for retrospective concessions as it used for concessions on non-conforming parts that were caught in-house, which did not require these extra signatures, so no signature field for them was provided. There was also nothing on the paperwork to indicate whether a concession was retrospective or not. As such, the Non-Conformance Authority might have been unaware that they lacked the right to unilaterally approve the concession without the consent of a higher-ranking engineer.</p><p id="8d31">◊◊◊</p><figure><figcaption>Another view of the damaged engine. (ATSB)</figcaption></figure><p id="d612">After the accident, measurements were taken on all in-service HP/IP bearing oil feed stub pipes to determine the alignment of their counter bores. The majority were outside the Ø 0.20 mm tolerance on the manufacturing drawings, and several of them had non-conformances greater than the Ø 0.7 mm predicted by the statistical analysis. Four of the stub pipes had non-conformances even greater than the accident pipe, and two were found to have a staggering non-conformance in the vicinity of Ø 1.2 mm. These pipes likely would have failed in service, potentially causing repeats of the Qantas incident, had they not been caught.</p><p id="41f7">Investigators also criticized the culture within the Hucknall facility that manufactured the HP/IP bearing hubs, identifying signs of complacency and widespread procedural non-compliance. A paperwork review showed that the required signatures were missing from 131 out of 138 retrospective concessions issued between 2009 and 2011, and a large number of minor non-conformances had not been properly handled through the normal chain of command. An internal review in 2007 had also previously found that the Hucknall facility lacked a “strong focus on quality within the business.” This appeared to extend to the creation of the original manufacturing drawings, which had been altered from the design drawings without the consent of the design engineers. Furthermore, initial inspections at the start of the production run were supposed to verify that the manufacturing process was creating products that satisfied the “design intent,” but the initial products were checked against the manufacturing drawings, not the design drawings. This verification was circular in nature and did nothing to ensure that the design intent was actually met. Had the design drawings been used, as procedures demanded, engineers likely would have been discovered that the process was not producing stub pipes with the required tolerances.</p><p id="b31e">◊◊◊</p><figure><figcaption>Another passenger view of the upper wing surface damage. (Reuters)</figcaption></figure><p id="0fd0">Following the accident, a long list of safety actions were taken to prevent a recurrence and incorporate lessons learned. A non-exhaustive list of these safety actions includes the following:</p><p id="b3a3">· Qantas temporarily grounded its A380 fleet between November 4 to November 27, 2010.</p><p id="9958">· The European Aviation Safety Agency issued an airworthiness directive mandating inspections of all Trent 900 oil feed stub pipes.</p><p id="3705">· Rolls-Royce developed an IP turbine overspeed protection system. Airbus issued a mandatory service bulletin requiring its installation on All A380s within 10 flights.</p><p id="b61b">· The entire original production run of HP/IP bearing hubs was removed from service and scrapped. All other HP/IP bearing hubs with an oil feed stub pipe wall thickness less than 0.7 mm were also removed from service.</p><p id="9bdc">· Rolls-Royce revised its procedures to ensure consultation between manufacturing and design engineers over the design intent of newly introduced parts.</p><p id="d73d">· A number of efforts were initiated to change the culture around non-conformances at the Hucknall facility.</p><p id="b015">· Rolls-Royce ended the practice of retrospective concessions and instituted a new program for dealing with non-conforming parts that escaped into service.</p><p id="8ced">· Airbus modified the landing performance software to more accurately predict the actual performance of the airplane at all landing weights.</p><p id="dfff">Collectively, these reforms have done much to ensure that Rolls-Royce continues to produce quality products, and to maintain the perfect safety record of the Airbus A380, which to date has never suffered an accident resulting in injury to passengers.</p><p id="959f">◊◊◊</p><figure><figcaption>Large sections of the airplane’s wing had to be replaced, among other repairs, but it eventually flew again. (Qantas)</figcaption></figure><p id="70b1">If you have made it this far, I first of all commend your patience, and/or your nerdiness. And second, I will speculate that everything you’ve read thus far has probably left a positive impression of modern aviation safety. The sequence of events required to merely wound, not kill, this Airbus A380 was absurdly long, passing numerous gates at which the progress toward disaster could have been stopped. And yet the system still held its ground. According to the swiss cheese model of safety, an accident happens when the holes in the stacked swiss cheese slices align, allowing a hazard to pass straight through unhindered. The hazard in this case penetrated countless swiss cheese slices, from the drawing board to the manufacturing floor to the inspection room and beyond. But the industry has put up so many slices of cheese that even this impressive run was insufficient to put a scratch on so much as a single passenger. Even the airplane itself ultimately survived: after a marathon repair that lasted 535 days and cost $139 million, the A380 Nancy-Bird Walton triumphantly returned to the skies in 2012.</p><p id="0a27">A number of intangible lessons can be drawn from both the successes and failures along the road to Qantas 32, from the continued importance of experience and judgment in the cockpit, to the negative consequences of believing that a tiny non-conformance couldn’t possibly be consequential. The fact remains that a deviation of less than half a millimeter nearly brought down the world’s largest passenger airliner. Aviation is, and has always been, unforgiving of even the smallest flaws. The devices, designs, and decisions that kept Qantas flight 32 in the air didn’t appear from nothing, but are rather the collective result of rules, regulations, and forward-thinking policies imposed by people upon that unforgiving substrate. In that sense, the upshot of the drama aboard flight 32 is that at the end of the day, the system is working.</p><p id="883e">_______________________________________________________________</p><p id="2f3b"><em>Don’t forget to listen to Controlled Pod Into Terrain, my new podcast (with slides!), where I discuss aerospace disasters with my cohosts Ariadne and J! </em><a href="https://www.youtube.com/@ControlledPodIntoTerrain" rel="noopener ugc nofollow" target="_blank"><em>Check out our channel here</em></a><em>, and </em><a href="https://www.youtube.com/watch?v=sEEuyZ4_qHo" rel="noopener ugc nofollow" target="_blank"><em>listen to our latest episode, in which we break down the incredibly poor decision-making aboard Pinnacle Airlines flight 3701. </em></a><em>Alternatively, download audio-only versions via </em><a href="https://rss.com/podcasts/cpit/" rel="noopener ugc nofollow" target="_blank"><em>RSS.com</em></a><em>, or look us up on Spotify!</em></p><p id="7809">_______________________________________________________________</p><p id="52c0"><a href="https://www.reddit.com/r/CatastrophicFailure/comments/18eg22j/2010_the_near_crash_of_qantas_flight_32_an_engine/?" rel="noopener ugc nofollow" target="_blank">Join the discussion of this article on Reddit</a></p><p id="5f25"><a href="https://www.patreon.com/Admiral_Cloudberg" rel="noopener ugc nofollow" target="_blank">Support me on Patreon</a> (Note: I do not earn money from views on Medium!)</p><p id="af1f"><a href="https://twitter.com/KyraCloudy" rel="noopener ugc nofollow" target="_blank">Follow me on Twitter</a></p><p id="c488">Visit <a href="https://www.reddit.com/r/AdmiralCloudberg/" rel="noopener ugc nofollow" target="_blank">r/admiralcloudberg</a> to read and discuss over 250 similar articles</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Gooey: Turn almost any Python command line program into a full GUI application (581 pts)]]></title>
            <link>https://github.com/chriskiehl/Gooey</link>
            <guid>38586767</guid>
            <pubDate>Sat, 09 Dec 2023 22:30:02 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/chriskiehl/Gooey">https://github.com/chriskiehl/Gooey</a>, See on <a href="https://news.ycombinator.com/item?id=38586767">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 tabindex="-1" dir="auto">Gooey</h2>
<p dir="auto">Turn (almost) any Python 3 Console Program into a GUI application with one line</p>
<p dir="auto">
    <a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/1-0-4-title-card.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/1-0-4-title-card.png"></a>
</p>
<h2 tabindex="-1" dir="auto">Table of Contents</h2>
<ul dir="auto">
<li><a href="#gooey">Gooey</a></li>
<li><a href="#table-of-contents">Table of contents</a></li>
<li><a href="#latest-update">Latest Update</a></li>
<li><a href="#quick-start">Quick Start</a>
<ul dir="auto">
<li><a href="#installation-instructions">Installation Instructions</a></li>
<li><a href="#usage">Usage</a></li>
<li><a href="#examples">Examples</a></li>
</ul>
</li>
<li><a href="#what-is-it">What It Is</a></li>
<li><a href="#why">Why Is It</a></li>
<li><a href="#who-is-this-for">Who is this for</a></li>
<li><a href="#how-does-it-work">How does it work</a></li>
<li><a href="#internationalization">Internationalization</a></li>
<li><a href="#global-configuration">Global Configuration</a></li>
<li><a href="#layout-customization">Layout Customization</a></li>
<li><a href="#run-modes">Run Modes</a>
<ul dir="auto">
<li><a href="#advanced">Full/Advanced</a></li>
<li><a href="#basic">Basic</a></li>
<li><a href="#no-config">No Config</a></li>
</ul>
</li>
<li><a href="#menus">Menus</a></li>
<li><a href="#dynamic-validation">Dynamic Validation</a></li>
<li><a href="#lifecycle-events-and-ui-control">Lifecycle Events and UI control</a></li>
<li><a href="#showing-progress">Showing Progress</a>
<ul dir="auto">
<li><a href="#elapsed--remaining-time">Elapsed / Remaining Time</a></li>
</ul>
</li>
<li><a href="#customizing-icons">Customizing Icons</a></li>
<li><a href="#packaging">Packaging</a></li>
<li><a href="#screenshots">Screenshots</a></li>
<li><a href="#wanna-help">Contributing</a></li>
<li><a href="#image-credits">Image Credits</a></li>
</ul>
<hr>
<h2 tabindex="-1" dir="auto">Quick Start</h2>
<h3 tabindex="-1" dir="auto">Installation instructions</h3>
<p dir="auto">The easiest way to install Gooey is via <code>pip</code></p>

<p dir="auto">Alternatively, you can install Gooey by cloning the project to your local directory</p>
<div data-snippet-clipboard-copy-content="git clone https://github.com/chriskiehl/Gooey.git"><pre><code>git clone https://github.com/chriskiehl/Gooey.git
</code></pre></div>
<p dir="auto">run <code>setup.py</code></p>

<h3 tabindex="-1" dir="auto">Usage</h3>
<p dir="auto">Gooey is attached to your code via a simple decorator on whichever method has your <code>argparse</code> declarations (usually <code>main</code>).</p>
<div data-snippet-clipboard-copy-content="from gooey import Gooey

@Gooey      <--- all it takes! :)
def main():
  parser = ArgumentParser(...)
  # rest of code"><pre><code>from gooey import Gooey

@Gooey      &lt;--- all it takes! :)
def main():
  parser = ArgumentParser(...)
  # rest of code
</code></pre></div>
<p dir="auto">Different styling and functionality can be configured by passing arguments into the decorator.</p>
<div data-snippet-clipboard-copy-content="# options
@Gooey(advanced=Boolean,          # toggle whether to show advanced config or not 
       language=language_string,  # Translations configurable via json
       auto_start=True,           # skip config screens all together
       target=executable_cmd,     # Explicitly set the subprocess executable arguments
       program_name='name',       # Defaults to script name
       program_description,       # Defaults to ArgParse Description
       default_size=(610, 530),   # starting size of the GUI
       required_cols=1,           # number of columns in the &quot;Required&quot; section
       optional_cols=2,           # number of columns in the &quot;Optional&quot; section
       dump_build_config=False,   # Dump the JSON Gooey uses to configure itself
       load_build_config=None,    # Loads a JSON Gooey-generated configuration
       monospace_display=False)   # Uses a mono-spaced font in the output screen
)
def main():
  parser = ArgumentParser(...)
  # rest of code"><pre><code># options
@Gooey(advanced=Boolean,          # toggle whether to show advanced config or not 
       language=language_string,  # Translations configurable via json
       auto_start=True,           # skip config screens all together
       target=executable_cmd,     # Explicitly set the subprocess executable arguments
       program_name='name',       # Defaults to script name
       program_description,       # Defaults to ArgParse Description
       default_size=(610, 530),   # starting size of the GUI
       required_cols=1,           # number of columns in the "Required" section
       optional_cols=2,           # number of columns in the "Optional" section
       dump_build_config=False,   # Dump the JSON Gooey uses to configure itself
       load_build_config=None,    # Loads a JSON Gooey-generated configuration
       monospace_display=False)   # Uses a mono-spaced font in the output screen
)
def main():
  parser = ArgumentParser(...)
  # rest of code
</code></pre></div>
<p dir="auto">See: <a href="#how-does-it-work">How does it Work</a> section for details on each option.</p>
<p dir="auto">Gooey will do its best to choose sensible widget defaults to display in the GUI. However, if more fine tuning is desired, you can use the drop-in replacement <code>GooeyParser</code> in place of <code>ArgumentParser</code>. This lets you control which widget displays in the GUI. See: <a href="#gooeyparser">GooeyParser</a></p>
<div data-snippet-clipboard-copy-content="from gooey import Gooey, GooeyParser

@Gooey
def main():
  parser = GooeyParser(description=&quot;My Cool GUI Program!&quot;) 
  parser.add_argument('Filename', widget=&quot;FileChooser&quot;)
  parser.add_argument('Date', widget=&quot;DateChooser&quot;)
  ..."><pre><code>from gooey import Gooey, GooeyParser

@Gooey
def main():
  parser = GooeyParser(description="My Cool GUI Program!") 
  parser.add_argument('Filename', widget="FileChooser")
  parser.add_argument('Date', widget="DateChooser")
  ...
</code></pre></div>
<h3 tabindex="-1" dir="auto">Examples</h3>
<p dir="auto">Gooey downloaded and installed? Great! Wanna see it in action? Head over the the <a href="https://github.com/chriskiehl/GooeyExamples">Examples Repository</a> to download a few ready-to-go example scripts. They'll give you a quick tour of all Gooey's various layouts, widgets, and features.</p>
<p dir="auto"><a href="https://github.com/chriskiehl/GooeyExamples/archive/master.zip">Direct Download</a></p>
<h2 tabindex="-1" dir="auto">What is it?</h2>
<p dir="auto">Gooey converts your Console Applications into end-user-friendly GUI applications. It lets you focus on building robust, configurable programs in a familiar way, all without having to worry about how it will be presented to and interacted with by your average user.</p>
<h2 tabindex="-1" dir="auto">Why?</h2>
<p dir="auto">Because as much as we love the command prompt, the rest of the world looks at it like an ugly relic from the early '80s. On top of that, more often than not programs need to do more than just one thing, and that means giving options, which previously meant either building a GUI, or trying to explain how to supply arguments to a Console Application. Gooey was made to (hopefully) solve those problems. It makes programs easy to use, and pretty to look at!</p>
<h2 tabindex="-1" dir="auto">Who is this for?</h2>
<p dir="auto">If you're building utilities for yourself, other programmers, or something which produces a result that you want to capture and pipe over to another console application (e.g. *nix philosophy utils), Gooey probably isn't the tool for you. However, if you're building 'run and done,' around-the-office-style scripts, things that shovel bits from point A to point B, or simply something that's targeted at a non-programmer, Gooey is the perfect tool for the job. It lets you build as complex of an application as your heart desires all while getting the GUI side for free.</p>
<h2 tabindex="-1" dir="auto">How does it work?</h2>
<p dir="auto">Gooey is attached to your code via a simple decorator on whichever method has your <code>argparse</code> declarations.</p>
<div data-snippet-clipboard-copy-content="@Gooey
def my_run_func():
  parser = ArgumentParser(...)
  # rest of code"><pre><code>@Gooey
def my_run_func():
  parser = ArgumentParser(...)
  # rest of code
</code></pre></div>
<p dir="auto">At run-time, it parses your Python script for all references to <code>ArgumentParser</code>. (The older <code>optparse</code> is currently not supported.) These references are then extracted, assigned a <code>component type</code> based on the <code>'action'</code> they provide, and finally used to assemble the GUI.</p>
<h4 tabindex="-1" dir="auto">Mappings:</h4>
<p dir="auto">Gooey does its best to choose sensible defaults based on the options it finds. Currently, <code>ArgumentParser._actions</code> are mapped to the following <code>WX</code> components.</p>
<table>
<thead>
<tr>
<th>Parser Action</th>
<th>Widget</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>store</td>
<td>TextCtrl</td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f54e9f5e-07c5-11e5-86e5-82f011c538cf.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f54e9f5e-07c5-11e5-86e5-82f011c538cf.png"></a></td>
</tr>
<tr>
<td>store_const</td>
<td>CheckBox</td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f538c850-07c5-11e5-8cbe-864badfa54a9.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f538c850-07c5-11e5-8cbe-864badfa54a9.png"></a></td>
</tr>
<tr>
<td>store_true</td>
<td>CheckBox</td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f538c850-07c5-11e5-8cbe-864badfa54a9.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f538c850-07c5-11e5-8cbe-864badfa54a9.png"></a></td>
</tr>
<tr>
<td>store_False</td>
<td>CheckBox</td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f538c850-07c5-11e5-8cbe-864badfa54a9.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f538c850-07c5-11e5-8cbe-864badfa54a9.png"></a></td>
</tr>
<tr>
<td>version</td>
<td>CheckBox</td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f538c850-07c5-11e5-8cbe-864badfa54a9.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f538c850-07c5-11e5-8cbe-864badfa54a9.png"></a></td>
</tr>
<tr>
<td>append</td>
<td>TextCtrl</td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f54e9f5e-07c5-11e5-86e5-82f011c538cf.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f54e9f5e-07c5-11e5-86e5-82f011c538cf.png"></a></td>
</tr>
<tr>
<td>count</td>
<td>DropDown &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f53ccbe4-07c5-11e5-80e5-510e2aa22922.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f53ccbe4-07c5-11e5-80e5-510e2aa22922.png"></a></td>
</tr>
<tr>
<td>Mutually Exclusive Group</td>
<td>RadioGroup</td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f553feb8-07c5-11e5-9d5b-eaa4772075a9.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f553feb8-07c5-11e5-9d5b-eaa4772075a9.png"></a></td>
</tr>
<tr>
<td>choice &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>DropDown</td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f54e4da6-07c5-11e5-9e66-d8e6d7f18ac6.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f54e4da6-07c5-11e5-9e66-d8e6d7f18ac6.png"></a></td>
</tr>
</tbody>
</table>
<h3 tabindex="-1" dir="auto">GooeyParser</h3>
<p dir="auto">If the above defaults aren't cutting it, you can control the exact widget type by using the drop-in <code>ArgumentParser</code> replacement <code>GooeyParser</code>. This gives you the additional keyword argument <code>widget</code>, to which you can supply the name of the component you want to display. Best part? You don't have to change any of your <code>argparse</code> code to use it. Drop it in, and you're good to go.</p>
<p dir="auto"><strong>Example:</strong></p>
<div data-snippet-clipboard-copy-content="from argparse import ArgumentParser
....

def main(): 
    parser = ArgumentParser(description=&quot;My Cool Gooey App!&quot;)
    parser.add_argument('filename', help=&quot;name of the file to process&quot;) "><pre><code>from argparse import ArgumentParser
....

def main(): 
    parser = ArgumentParser(description="My Cool Gooey App!")
    parser.add_argument('filename', help="name of the file to process") 
</code></pre></div>
<p dir="auto">Given then above, Gooey would select a normal <code>TextField</code> as the widget type like this:</p>
<p dir="auto">
    <a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f5393e20-07c5-11e5-88e9-c153fc3ecfaa.PNG"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f5393e20-07c5-11e5-88e9-c153fc3ecfaa.PNG"></a>
</p>
<p dir="auto">However, by dropping in <code>GooeyParser</code> and supplying a <code>widget</code> name, you can display a much more user friendly <code>FileChooser</code></p>
<div data-snippet-clipboard-copy-content="from gooey import GooeyParser
....

def main(): 
    parser = GooeyParser(description=&quot;My Cool Gooey App!&quot;)
    parser.add_argument('filename', help=&quot;name of the file to process&quot;, widget='FileChooser') "><pre><code>from gooey import GooeyParser
....

def main(): 
    parser = GooeyParser(description="My Cool Gooey App!")
    parser.add_argument('filename', help="name of the file to process", widget='FileChooser') 
</code></pre></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f53ae23e-07c5-11e5-8757-c8aa6f3013b5.PNG"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f53ae23e-07c5-11e5-8757-c8aa6f3013b5.PNG"></a></p>
<p dir="auto"><strong>Custom Widgets:</strong></p>
<table>
<thead>
<tr>
<th>Widget</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>DirChooser, FileChooser, MultiFileChooser, FileSaver, MultiFileSaver</td>
<td><p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f5483b28-07c5-11e5-9d01-1935635fc22d.gif"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f5483b28-07c5-11e5-9d01-1935635fc22d.gif" width="400" data-animated-image=""></a></p></td>
</tr>
<tr>
<td>DateChooser/TimeChooser   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f544756a-07c5-11e5-86d6-862ac146ad35.gif"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f544756a-07c5-11e5-86d6-862ac146ad35.gif" width="400" data-animated-image=""></a></p> <p dir="auto">Please note that for both of these widgets the values passed to the application will always be in <a href="https://www.wxpython.org/Phoenix/docs/html/wx.DateTime.html#wx.DateTime.FormatISOTime" rel="nofollow">ISO format</a> while localized values may appear in some parts of the GUI depending on end-user settings.</p></td>
</tr>
<tr>
<td>PasswordField</td>
<td><p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/28953722-eae72cca-788e-11e7-8fa1-9a1ef332a053.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/28953722-eae72cca-788e-11e7-8fa1-9a1ef332a053.png" width="400"></a></p></td>
</tr>
<tr>
<td>Listbox</td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/31590191-fadd06f2-b1c0-11e7-9a49-7cbf0c6d33d1.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/31590191-fadd06f2-b1c0-11e7-9a49-7cbf0c6d33d1.png" alt="image"></a></td>
</tr>
<tr>
<td>BlockCheckbox</td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/46922288-9296f200-cfbb-11e8-8b0d-ddde08064247.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/46922288-9296f200-cfbb-11e8-8b0d-ddde08064247.png" alt="image"></a> <br> The default InlineCheck box can look less than ideal if a large help text block is present. <code>BlockCheckbox</code> moves the text block to the normal position and provides a short-form <code>block_label</code> for display next to the control. Use <code>gooey_options.checkbox_label</code> to control the label text</td>
</tr>
<tr>
<td>ColourChooser   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://user-images.githubusercontent.com/21027844/72672451-0752aa80-3a0f-11ea-86ed-8303bd3e54b5.gif"><img src="https://user-images.githubusercontent.com/21027844/72672451-0752aa80-3a0f-11ea-86ed-8303bd3e54b5.gif" width="400" data-animated-image=""></a></p></td>
</tr>
<tr>
<td>FilterableDropdown</td>
<td><p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/chriskiehl/GooeyImages/images/readme-images/filterable-dropdown.gif"><img src="https://raw.githubusercontent.com/chriskiehl/GooeyImages/images/readme-images/filterable-dropdown.gif" width="400" data-animated-image=""></a></p></td>
</tr>
<tr>
<td>IntegerField</td>
<td><p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/integer-field.PNG"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/integer-field.PNG" width="400"></a></p></td>
</tr>
<tr>
<td>DecimalField</td>
<td><p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/decimal-field.PNG"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/decimal-field.PNG" width="400"></a></p></td>
</tr>
<tr>
<td>Slider</td>
<td><p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/slider.PNG"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/slider.PNG" width="400"></a></p></td>
</tr>
</tbody>
</table>
<h2 tabindex="-1" dir="auto">Internationalization</h2>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f52e9f1a-07c5-11e5-8f31-36a8fc14ac02.jpg"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f52e9f1a-07c5-11e5-8f31-36a8fc14ac02.jpg"></a></p>
<p dir="auto">Gooey is international ready and easily ported to your host language. Languages are controlled via an argument to the <code>Gooey</code> decorator.</p>
<div data-snippet-clipboard-copy-content="@Gooey(language='russian')
def main(): 
    ... "><pre><code>@Gooey(language='russian')
def main(): 
    ... 
</code></pre></div>
<p dir="auto">All program text is stored externally in <code>json</code> files. So adding new language support is as easy as pasting a few key/value pairs in the <code>gooey/languages/</code> directory.</p>
<p dir="auto">Thanks to some awesome <a href="https://github.com/chriskiehl/Gooey/graphs/contributors">contributors</a>, Gooey currently comes pre-stocked with over 18 different translations!</p>
<p dir="auto">Want to add another one? Submit a <a href="https://github.com/chriskiehl/Gooey/compare">pull request!</a></p>
<hr>
<h2 tabindex="-1" dir="auto">Global Configuration</h2>
<p dir="auto">Just about everything in Gooey's overall look and feel can be customized by passing arguments to the decorator.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Summary</th>
</tr>
</thead>
<tbody>
<tr>
<td>encoding</td>
<td>Text encoding to use when displaying characters (default: 'utf-8')</td>
</tr>
<tr>
<td>use_legacy_titles</td>
<td>Rewrites the default argparse group name from "Positional" to "Required". This is primarily for retaining backward compatibility with previous versions of Gooey (which had poor support/awareness of groups and did its own naive bucketing of arguments).</td>
</tr>
<tr>
<td>advanced</td>
<td>Toggles whether to show the 'full' configuration screen, or a simplified version</td>
</tr>
<tr>
<td>auto_start</td>
<td>Skips the configuration all together and runs the program immediately</td>
</tr>
<tr>
<td>language</td>
<td>Tells Gooey which language set to load from the <code>gooey/languages</code> directory.</td>
</tr>
<tr>
<td>target</td>
<td>Tells Gooey how to re-invoke itself. By default Gooey will find python, but this allows you to specify the program (and arguments if supplied).</td>
</tr>
<tr>
<td>suppress_gooey_flag</td>
<td>Should be set when using a custom <code>target</code>. Prevent Gooey from injecting additional CLI params</td>
</tr>
<tr>
<td>program_name</td>
<td>The name displayed in the title bar of the GUI window. If not supplied, the title defaults to the script name pulled from <code>sys.argv[0]</code>.</td>
</tr>
<tr>
<td>program_description</td>
<td>Sets the text displayed in the top panel of the <code>Settings</code> screen. Defaults to the description pulled from <code>ArgumentParser</code>.</td>
</tr>
<tr>
<td>default_size</td>
<td>Initial size of the window</td>
</tr>
<tr>
<td>fullscreen</td>
<td>start Gooey in fullscreen mode</td>
</tr>
<tr>
<td>required_cols</td>
<td>Controls how many columns are in the Required Arguments section <br> <g-emoji alias="warning">⚠️</g-emoji> <strong>Deprecation notice:</strong> See <a href="https://github.com/chriskiehl/Gooey#layout-customization">Layout Customization</a> for modern layout controls</td>
</tr>
<tr>
<td>optional_cols</td>
<td>Controls how many columns are in the Optional Arguments section <br> <g-emoji alias="warning">⚠️</g-emoji> <strong>Deprecation notice:</strong> See <a href="https://github.com/chriskiehl/Gooey#layout-customization">Layout Customization</a> for modern layout controls</td>
</tr>
<tr>
<td>dump_build_config</td>
<td>Saves a <code>json</code> copy of its build configuration on disk for reuse/editing</td>
</tr>
<tr>
<td>load_build_config</td>
<td>Loads a <code>json</code> copy of its build configuration from disk</td>
</tr>
<tr>
<td>monospace_display</td>
<td>Uses a mono-spaced font in the output screen <br> <g-emoji alias="warning">⚠️</g-emoji> <strong>Deprecation notice:</strong> See <a href="https://github.com/chriskiehl/Gooey#layout-customization">Layout Customization</a> for modern font configuration</td>
</tr>
<tr>
<td>image_dir</td>
<td>Path to the directory in which Gooey should look for custom images/icons</td>
</tr>
<tr>
<td>language_dir</td>
<td>Path to the directory in which Gooey should look for custom languages files</td>
</tr>
<tr>
<td>disable_stop_button</td>
<td>Disable the <code>Stop</code> button when running</td>
</tr>
<tr>
<td>show_stop_warning</td>
<td>Displays a warning modal before allowing the user to force termination of your program</td>
</tr>
<tr>
<td>force_stop_is_error</td>
<td>Toggles whether an early termination by the shows the success or error screen</td>
</tr>
<tr>
<td>show_success_modal</td>
<td>Toggles whether or not to show a summary modal after a successful run</td>
</tr>
<tr>
<td>show_failure_modal</td>
<td>Toggles whether or not to show a summary modal on failure</td>
</tr>
<tr>
<td>show_restart_button</td>
<td>Toggles whether or not to show the restart button at the end of execution</td>
</tr>
<tr>
<td>run_validators</td>
<td>Controls whether or not to have Gooey perform validation before calling your program</td>
</tr>
<tr>
<td>poll_external_updates</td>
<td>(Experimental!) When True, Gooey will call your code with a <code>gooey-seed-ui</code> CLI argument and use the response to fill out dynamic values in the UI (See: <a href="#using-dynamic-values">Using Dynamic Values</a>)</td>
</tr>
<tr>
<td>use_cmd_args</td>
<td>Substitute any command line arguments provided at run time for the default values specified in the Gooey configuration</td>
</tr>
<tr>
<td>return_to_config</td>
<td>When True, Gooey will return to the configuration settings window upon successful run</td>
</tr>
<tr>
<td>progress_regex</td>
<td>A text regex used to pattern match runtime progress information. See: <a href="#showing-progress">Showing Progress</a> for a detailed how-to</td>
</tr>
<tr>
<td>progress_expr</td>
<td>A python expression applied to any matches found via the <code>progress_regex</code>. See: <a href="#showing-progress">Showing Progress</a> for a detailed how-to</td>
</tr>
<tr>
<td>hide_progress_msg</td>
<td>Option to hide textual progress updates which match the <code>progress_regex</code>. See: <a href="#showing-progress">Showing Progress</a> for a detailed how-to</td>
</tr>
<tr>
<td>disable_progress_bar_animation</td>
<td>Disable the progress bar</td>
</tr>
<tr>
<td>timing_options</td>
<td>This contains the options for displaying time remaining and elapsed time, to be used with <code>progress_regex</code> and <code>progress_expr</code>. <a href="#elapsed--remaining-time">Elapsed / Remaining Time</a>. Contained as a dictionary with the options <code>show_time_remaining</code> and <code>hide_time_remaining_on_complete</code>. Eg: <code>timing_options={'show_time_remaining':True,'hide_time_remaining_on_complete':True}</code></td>
</tr>
<tr>
<td>show_time_remaining</td>
<td>Disable the time remaining text see <a href="#elapsed--remaining-time">Elapsed / Remaining Time</a></td>
</tr>
<tr>
<td>hide_time_remaining_on_complete</td>
<td>Hide time remaining on complete screen see <a href="#elapsed--remaining-time">Elapsed / Remaining Time</a></td>
</tr>
<tr>
<td>requires_shell</td>
<td>Controls whether or not the <code>shell</code> argument is used when invoking your program. <a href="https://stackoverflow.com/questions/3172470/actual-meaning-of-shell-true-in-subprocess#3172488" rel="nofollow">More info here</a></td>
</tr>
<tr>
<td>shutdown_signal</td>
<td>Specifies the <code>signal</code> to send to the child process when the <code>stop</code> button is pressed. See <a href="https://github.com/chriskiehl/Gooey/tree/master/docs">Gracefully Stopping</a> in the docs for more info.</td>
</tr>
<tr>
<td>navigation</td>
<td>Sets the "navigation" style of Gooey's top level window. <br>Options: <table> <thead> <tr><th>TABBED</th><th>SIDEBAR</th></tr></thead> <tbody> <tr> <td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/34464826-2a946ba2-ee47-11e7-92a4-4afeb49dc9ca.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/34464826-2a946ba2-ee47-11e7-92a4-4afeb49dc9ca.png" width="200" height="auto"></a></td><td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/34464847-9918fbb0-ee47-11e7-8d5f-0d42631c2bc0.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/34464847-9918fbb0-ee47-11e7-8d5f-0d42631c2bc0.png" width="200" height="auto"></a></td></tr></tbody></table></td>
</tr>
<tr>
<td>sidebar_title</td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/34472159-1bfedbd0-ef10-11e7-8bc3-b6d69febb8c3.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/34472159-1bfedbd0-ef10-11e7-8bc3-b6d69febb8c3.png" width="250" height="auto"></a> Controls the heading title above the SideBar's navigation pane. Defaults to: "Actions"</td>
</tr>
<tr>
<td>show_sidebar</td>
<td>Show/Hide the sidebar in when navigation mode == <code>SIDEBAR</code></td>
</tr>
<tr>
<td>body_bg_color</td>
<td>HEX value of the main Gooey window</td>
</tr>
<tr>
<td>header_bg_color</td>
<td>HEX value of the header background</td>
</tr>
<tr>
<td>header_height</td>
<td>height in pixels of the header</td>
</tr>
<tr>
<td>header_show_title</td>
<td>Show/Hide the header title</td>
</tr>
<tr>
<td>header_show_subtitle</td>
<td>Show/Hide the header subtitle</td>
</tr>
<tr>
<td>footer_bg_color</td>
<td>HEX value of the Footer background</td>
</tr>
<tr>
<td>sidebar_bg_color</td>
<td>HEX value of the Sidebar's background</td>
</tr>
<tr>
<td>terminal_panel_color</td>
<td>HEX value of the terminal's panel</td>
</tr>
<tr>
<td>terminal_font_color</td>
<td>HEX value of the font displayed in Gooey's terminal</td>
</tr>
<tr>
<td>terminal_font_family</td>
<td>Name of the Font Family to use in the terminal</td>
</tr>
<tr>
<td>terminal_font_weight</td>
<td>Weight of the font (<code>constants.FONTWEIGHT_NORMAL</code>, <code>constants.FONTWEIGHT_XXX</code>)</td>
</tr>
<tr>
<td>terminal_font_size</td>
<td>Point size of the font displayed in the terminal</td>
</tr>
<tr>
<td>error_color</td>
<td>HEX value of the text displayed when a validation error occurs</td>
</tr>
<tr>
<td>richtext_controls</td>
<td>Switch on/off the console support for terminal control sequences (limited support for font weight and color). Defaults to : False. See <a href="https://github.com/chriskiehl/Gooey/tree/master/docs">docs</a> for additional details</td>
</tr>
<tr>
<td>menus</td>
<td>Show custom menu groups and items (see: <a href="#menus">Menus</a></td>
</tr>
<tr>
<td>clear_before_run</td>
<td>When true, previous output will be cleared from the terminal when running program again</td>
</tr>
</tbody>
</table>
<h2 tabindex="-1" dir="auto">Layout Customization</h2>
<p dir="auto">You can achieve fairly flexible layouts with Gooey by using a few simple customizations.</p>
<p dir="auto">At the highest level, you have several overall layout options controllable via various arguments to the Gooey decorator.</p>
<table>
<thead>
<tr>
<th><code>show_sidebar=True</code></th>
<th><code>show_sidebar=False</code></th>
<th><code>navigation='TABBED'</code></th>
<th><code>tabbed_groups=True</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/34464847-9918fbb0-ee47-11e7-8d5f-0d42631c2bc0.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/34464847-9918fbb0-ee47-11e7-8d5f-0d42631c2bc0.png" width="400"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/35487799-762aa308-0434-11e8-8eb3-1e9fab2d13ae.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/35487799-762aa308-0434-11e8-8eb3-1e9fab2d13ae.png" width="400"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/34464835-5ba9b0e4-ee47-11e7-9561-55e3647c2165.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/34464835-5ba9b0e4-ee47-11e7-9561-55e3647c2165.png" width="400"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/34464826-2a946ba2-ee47-11e7-92a4-4afeb49dc9ca.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/34464826-2a946ba2-ee47-11e7-92a4-4afeb49dc9ca.png" width="400"></a></td>
</tr>
</tbody>
</table>
<p dir="auto"><strong>Grouping Inputs</strong></p>
<p dir="auto">By default, if you're using Argparse with Gooey, your inputs will be split into two buckets: <code>positional</code> and <code>optional</code>. However, these aren't always the most descriptive groups to present to your user. You can arbitrarily bucket inputs into logic groups and customize the layout of each.</p>
<p dir="auto">With <code>argparse</code> this is done via <code>add_argument_group()</code></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/35487956-a4c9915e-0436-11e8-8a11-fd21528aedf0.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/35487956-a4c9915e-0436-11e8-8a11-fd21528aedf0.png" width="410"></a></p>
<div data-snippet-clipboard-copy-content="parser = ArgumentParser()
search_group = parser.add_argument_group(
    &quot;Search Options&quot;, 
    &quot;Customize the search options&quot;
)"><pre><code>parser = ArgumentParser()
search_group = parser.add_argument_group(
    "Search Options", 
    "Customize the search options"
)
</code></pre></div>
<p dir="auto">You can add arguments to the group as normal</p>
<div data-snippet-clipboard-copy-content="search_group.add_argument(
    '--query', 
    help='Base search string'
) "><pre><code>search_group.add_argument(
    '--query', 
    help='Base search string'
) 
</code></pre></div>
<p dir="auto">Which will display them as part of the group within the UI.</p>
<h2 tabindex="-1" dir="auto">Run Modes</h2>
<p dir="auto">Gooey has a handful of presentation modes so you can tailor its layout to your content type and user's level or experience.</p>
<h3 tabindex="-1" dir="auto">Advanced</h3>
<p dir="auto">The default view is the "full" or "advanced" configuration screen. It has two different layouts depending on the type of command line interface it's wrapping. For most applications, the flat layout will be the one to go with, as its layout matches best to the familiar CLI schema of a primary command followed by many options (e.g. Curl, FFMPEG).</p>
<p dir="auto">On the other side is the Column Layout. This one is best suited for CLIs that have multiple paths or are made up of multiple little tools each with their own arguments and options (think: git). It displays the primary paths along the left column, and their corresponding arguments in the right. This is a great way to package a lot of varied functionality into a single app.</p>
<p dir="auto">
<a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f06a36cc-08ad-11e5-843e-9322df96d4d6.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f06a36cc-08ad-11e5-843e-9322df96d4d6.png"></a>
</p>
<p dir="auto">Both views present each action in the <code>Argument Parser</code> as a unique GUI component. It makes it ideal for presenting the program to users which are unfamiliar with command line options and/or Console Programs in general. Help messages are displayed along side each component to make it as clear as possible which each widget does.</p>
<p dir="auto"><strong>Setting the layout style:</strong></p>
<p dir="auto">Currently, the layouts can't be explicitly specified via a parameter (on the TODO!). The layouts are built depending on whether or not there are <code>subparsers</code> used in your code base. So, if you want to trigger the <code>Column Layout</code>, you'll need to add a <code>subparser</code> to your <code>argparse</code> code.</p>
<p dir="auto">It can be toggled via the <code>advanced</code> parameter in the <code>Gooey</code> decorator.</p>
<div data-snippet-clipboard-copy-content="@gooey(advanced=True)
def main():
    # rest of code   "><pre><code>@gooey(advanced=True)
def main():
    # rest of code   
</code></pre></div>
<hr>
<h3 tabindex="-1" dir="auto">Basic</h3>
<p dir="auto">The basic view is best for times when the user is familiar with Console Applications, but you still want to present something a little more polished than a simple terminal. The basic display is accessed by setting the <code>advanced</code> parameter in the <code>gooey</code> decorator to <code>False</code>.</p>
<div data-snippet-clipboard-copy-content="@gooey(advanced=False)
def main():
    # rest of code  "><pre><code>@gooey(advanced=False)
def main():
    # rest of code  
</code></pre></div>
<p dir="auto">
    <a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f53a4306-07c5-11e5-8e63-b510d6db9953.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f53a4306-07c5-11e5-8e63-b510d6db9953.png"></a>
</p>
<hr>
<h3 tabindex="-1" dir="auto">No Config</h3>
<p dir="auto">No Config pretty much does what you'd expect: it doesn't show a configuration screen. It hops right to the <code>display</code> section and begins execution of the host program. This is the one for improving the appearance of little one-off scripts.</p>
<p dir="auto">To use this mode, set <code>auto_start=True</code> in the Gooey decorator.</p>
<div dir="auto" data-snippet-clipboard-copy-content="@Gooey(auto_start=True) 
def main (): 
    ... "><pre><span>@<span>Gooey</span>(<span>auto_start</span><span>=</span><span>True</span>)</span> 
<span>def</span> <span>main</span> (): 
    ... </pre></div>
<p dir="auto">
    <a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f54fe6f2-07c5-11e5-92e4-f72a2ae12862.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/f54fe6f2-07c5-11e5-92e4-f72a2ae12862.png"></a>
</p>
<hr>
<h3 tabindex="-1" dir="auto">Menus</h3>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/47250909-74782a00-d3df-11e8-88ac-182d06c4435a.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/47250909-74782a00-d3df-11e8-88ac-182d06c4435a.png" alt="image"></a></p>
<blockquote>
<p dir="auto">Added 1.0.2</p>
</blockquote>
<p dir="auto">You can add a Menu Bar to the top of Gooey with customized menu groups and items.</p>
<p dir="auto">Menus are specified on the main <code>@Gooey</code> decorator as a list of maps.</p>
<div data-snippet-clipboard-copy-content="@Gooey(menu=[{}, {}, ...])"><pre><code>@Gooey(menu=[{}, {}, ...])
</code></pre></div>
<p dir="auto">Each map is made up of two key/value pairs</p>
<ol dir="auto">
<li><code>name</code> - the name for this menu group</li>
<li><code>items</code> - the individual menu items within this group</li>
</ol>
<p dir="auto">You can have as many menu groups as you want. They're passed as a list to the <code>menu</code> argument on the <code>@Gooey</code> decorator.</p>
<div data-snippet-clipboard-copy-content="@Gooey(menu=[{'name': 'File', 'items: []},
             {'name': 'Tools', 'items': []},
             {'name': 'Help', 'items': []}])"><pre><code>@Gooey(menu=[{'name': 'File', 'items: []},
             {'name': 'Tools', 'items': []},
             {'name': 'Help', 'items': []}])
</code></pre></div>
<p dir="auto">Individual menu items in a group are also just maps of key / value pairs. Their exact key set varies based on their <code>type</code>, but two keys will always be present:</p>
<ul dir="auto">
<li><code>type</code> - this controls the behavior that will be attached to the menu item as well as the keys it needs specified</li>
<li><code>menuTitle</code> - the name for this MenuItem</li>
</ul>
<p dir="auto">Currently, three types of menu options are supported:</p>
<ul dir="auto">
<li>AboutDialog</li>
<li>MessageDialog</li>
<li>Link</li>
<li>HtmlDialog</li>
</ul>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/47251026-9ffc1400-d3e1-11e8-9095-982a6367561b.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/47251026-9ffc1400-d3e1-11e8-9095-982a6367561b.png" width="400" height="auto"></a></p>
<p dir="auto"><strong>About Dialog</strong> is your run-of-the-mill About Dialog. It displays program information such as name, version, and license info in a standard native AboutBox.</p>
<p dir="auto">Schema</p>
<ul dir="auto">
<li><code>name</code> - (<em>optional</em>)</li>
<li><code>description</code> - (<em>optional</em>)</li>
<li><code>version</code> - (<em>optional</em>)</li>
<li><code>copyright</code> - (<em>optional</em>)</li>
<li><code>license</code> - (<em>optional</em>)</li>
<li><code>website</code> - (<em>optional</em>)</li>
<li><code>developer</code> - (<em>optional</em>)</li>
</ul>
<p dir="auto">Example:</p>
<div data-snippet-clipboard-copy-content="{
    'type': 'AboutDialog',
    'menuTitle': 'About',
    'name': 'Gooey Layout Demo',
    'description': 'An example of Gooey\'s layout flexibility',
    'version': '1.2.1',
    'copyright': '2018',
    'website': 'https://github.com/chriskiehl/Gooey',
    'developer': 'http://chriskiehl.com/',
    'license': 'MIT'
}"><pre><code>{
    'type': 'AboutDialog',
    'menuTitle': 'About',
    'name': 'Gooey Layout Demo',
    'description': 'An example of Gooey\'s layout flexibility',
    'version': '1.2.1',
    'copyright': '2018',
    'website': 'https://github.com/chriskiehl/Gooey',
    'developer': 'http://chriskiehl.com/',
    'license': 'MIT'
}
</code></pre></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/47250925-bbfeb600-d3df-11e8-88a8-5ba838e9466d.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/47250925-bbfeb600-d3df-11e8-88a8-5ba838e9466d.png" width="400" height="auto"></a></p>
<p dir="auto"><strong>MessageDialog</strong> is a generic informational dialog box. You can display anything from small alerts, to long-form informational text to the user.</p>
<p dir="auto">Schema:</p>
<ul dir="auto">
<li><code>message</code> - (<em>required</em>) the text to display in the body of the modal</li>
<li><code>caption</code> - (<em>optional</em>) the caption in the title bar of the modal</li>
</ul>
<p dir="auto">Example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="{
    'type': 'MessageDialog',
    'menuTitle': 'Information',
    'message': 'Hey, here is some cool info for ya!',
    'caption': 'Stuff you should know'
}"><pre>{
    <span>'type'</span>: <span>'MessageDialog'</span>,
    <span>'menuTitle'</span>: <span>'Information'</span>,
    <span>'message'</span>: <span>'Hey, here is some cool info for ya!'</span>,
    <span>'caption'</span>: <span>'Stuff you should know'</span>
}</pre></div>
<p dir="auto"><strong>Link</strong> is for sending the user to an external website. This will spawn their default browser at the URL you specify.</p>
<p dir="auto">Schema:</p>
<ul dir="auto">
<li><code>url</code> - (<em>required</em>) - the fully qualified URL to visit</li>
</ul>
<p dir="auto">Example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="{
    'type': 'Link',
    'menuTitle': 'Visit Out Site',
    'url': 'http://www.example.com'
}"><pre>{
    <span>'type'</span>: <span>'Link'</span>,
    <span>'menuTitle'</span>: <span>'Visit Out Site'</span>,
    <span>'url'</span>: <span>'http://www.example.com'</span>
}</pre></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/docs/menus/html-dialog.PNG"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/docs/menus/html-dialog.PNG" width="400" height="auto"></a></p>
<p dir="auto"><strong>HtmlDialog</strong> gives you full control over what's displayed in the message dialog (bonus: people can copy/paste text from this one!).</p>
<p dir="auto">Schema:</p>
<ul dir="auto">
<li><code>caption</code> - (<em>optional</em>) the caption in the title bar of the modal</li>
<li><code>html</code> - (<em>required</em>) the html you want displayed in the dialog. Note: only a small subset of HTML is supported. <a href="https://wxpython.org/Phoenix/docs/html/html_overview.html" rel="nofollow">See the WX docs for more info</a>.</li>
</ul>
<p dir="auto">Example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="{
    'type': 'HtmlDialog',
    'menuTitle': 'Fancy Dialog!',
    'caption': 'Demo of the HtmlDialog',
    'html': '''
    <body bgcolor=&quot;white&quot;>
        <img src=/path/to/your/image.png&quot; /> 
        <h1>Hello world!</h1> 
        <p><font color=&quot;red&quot;>Lorem ipsum dolor sit amet, consectetur</font></p>
    </body>
    '''
}
"><pre>{
    <span>'type'</span>: <span>'HtmlDialog'</span>,
    <span>'menuTitle'</span>: <span>'Fancy Dialog!'</span>,
    <span>'caption'</span>: <span>'Demo of the HtmlDialog'</span>,
    <span>'html'</span>: <span>'''</span>
<span>    &lt;body bgcolor="white"&gt;</span>
<span>        &lt;img src=/path/to/your/image.png" /&gt; </span>
<span>        &lt;h1&gt;Hello world!&lt;/h1&gt; </span>
<span>        &lt;p&gt;&lt;font color="red"&gt;Lorem ipsum dolor sit amet, consectetur&lt;/font&gt;&lt;/p&gt;</span>
<span>    &lt;/body&gt;</span>
<span>    '''</span>
}</pre></div>
<p dir="auto"><strong>A full example:</strong></p>
<p dir="auto">Two menu groups ("File" and "Help") with four menu items between them.</p>
<div dir="auto" data-snippet-clipboard-copy-content="@Gooey(
    program_name='Advanced Layout Groups',
    menu=[{
        'name': 'File',
        'items': [{
                'type': 'AboutDialog',
                'menuTitle': 'About',
                'name': 'Gooey Layout Demo',
                'description': 'An example of Gooey\'s layout flexibility',
                'version': '1.2.1',
                'copyright': '2018',
                'website': 'https://github.com/chriskiehl/Gooey',
                'developer': 'http://chriskiehl.com/',
                'license': 'MIT'
            }, {
                'type': 'MessageDialog',
                'menuTitle': 'Information',
                'caption': 'My Message',
                'message': 'I am demoing an informational dialog!'
            }, {
                'type': 'Link',
                'menuTitle': 'Visit Our Site',
                'url': 'https://github.com/chriskiehl/Gooey'
            }]
        },{
        'name': 'Help',
        'items': [{
            'type': 'Link',
            'menuTitle': 'Documentation',
            'url': 'https://www.readthedocs.com/foo'
        }]
    }]
)"><pre><span>@<span>Gooey</span>(</span>
<span>    <span>program_name</span><span>=</span><span>'Advanced Layout Groups'</span>,</span>
<span>    <span>menu</span><span>=</span>[{</span>
<span>        <span>'name'</span>: <span>'File'</span>,</span>
<span>        <span>'items'</span>: [{</span>
<span>                <span>'type'</span>: <span>'AboutDialog'</span>,</span>
<span>                <span>'menuTitle'</span>: <span>'About'</span>,</span>
<span>                <span>'name'</span>: <span>'Gooey Layout Demo'</span>,</span>
<span>                <span>'description'</span>: <span>'An example of Gooey<span>\'</span>s layout flexibility'</span>,</span>
<span>                <span>'version'</span>: <span>'1.2.1'</span>,</span>
<span>                <span>'copyright'</span>: <span>'2018'</span>,</span>
<span>                <span>'website'</span>: <span>'https://github.com/chriskiehl/Gooey'</span>,</span>
<span>                <span>'developer'</span>: <span>'http://chriskiehl.com/'</span>,</span>
<span>                <span>'license'</span>: <span>'MIT'</span></span>
<span>            }, {</span>
<span>                <span>'type'</span>: <span>'MessageDialog'</span>,</span>
<span>                <span>'menuTitle'</span>: <span>'Information'</span>,</span>
<span>                <span>'caption'</span>: <span>'My Message'</span>,</span>
<span>                <span>'message'</span>: <span>'I am demoing an informational dialog!'</span></span>
<span>            }, {</span>
<span>                <span>'type'</span>: <span>'Link'</span>,</span>
<span>                <span>'menuTitle'</span>: <span>'Visit Our Site'</span>,</span>
<span>                <span>'url'</span>: <span>'https://github.com/chriskiehl/Gooey'</span></span>
<span>            }]</span>
<span>        },{</span>
<span>        <span>'name'</span>: <span>'Help'</span>,</span>
<span>        <span>'items'</span>: [{</span>
<span>            <span>'type'</span>: <span>'Link'</span>,</span>
<span>            <span>'menuTitle'</span>: <span>'Documentation'</span>,</span>
<span>            <span>'url'</span>: <span>'https://www.readthedocs.com/foo'</span></span>
<span>        }]</span>
<span>    }]</span>
<span>)</span></pre></div>
<hr>
<h3 tabindex="-1" dir="auto">Dynamic Validation</h3>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/34464861-0e82c214-ee48-11e7-8f4a-a8e00721efef.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/34464861-0e82c214-ee48-11e7-8f4a-a8e00721efef.png" width="400" height="auto"></a></p>
<blockquote>
<p dir="auto"><g-emoji alias="warning">⚠️</g-emoji>
Note! This functionality is experimental and likely to be unstable. Its API may be changed or removed altogether. Feedback/thoughts on this feature is welcome and encouraged!</p>
</blockquote>
<blockquote>
<p dir="auto"><g-emoji alias="warning">⚠️</g-emoji>
See <a href="https://github.com/chriskiehl/Gooey/blob/master">Release Notes</a> for guidance on upgrading from 1.0.8 to 1.2.0</p>
</blockquote>
<p dir="auto">Before passing the user's inputs to your program, Gooey can optionally run a special pre-flight validation to check that all arguments pass your specified validations.</p>
<p dir="auto"><strong>How does it work?</strong></p>
<p dir="auto">Gooey piggy backs on the <code>type</code> parameter available to most Argparse Argument types.</p>
<div dir="auto" data-snippet-clipboard-copy-content="parser.add_argument('--some-number', type=int)
parser.add_argument('--some-number', type=float)"><pre><span>parser</span>.<span>add_argument</span>(<span>'--some-number'</span>, <span>type</span><span>=</span><span>int</span>)
<span>parser</span>.<span>add_argument</span>(<span>'--some-number'</span>, <span>type</span><span>=</span><span>float</span>)</pre></div>
<p dir="auto">In addition to simple builtins like <code>int</code> and <code>float</code>, you can supply your own function to the <code>type</code> parameter to vet the incoming values.</p>
<div dir="auto" data-snippet-clipboard-copy-content="def must_be_exactly_ten(value): 
    number = int(value) 
    if number == 10:
        return number
    else: 
        raise TypeError(&quot;Hey! you need to provide exactly the number 10!&quot;)
        
        
def main(): 
    parser = ArgumentParser()
    parser.add_argument('--ten', type=must_be_exactly_ten)"><pre><span>def</span> <span>must_be_exactly_ten</span>(<span>value</span>): 
    <span>number</span> <span>=</span> <span>int</span>(<span>value</span>) 
    <span>if</span> <span>number</span> <span>==</span> <span>10</span>:
        <span>return</span> <span>number</span>
    <span>else</span>: 
        <span>raise</span> <span>TypeError</span>(<span>"Hey! you need to provide exactly the number 10!"</span>)
        
        
<span>def</span> <span>main</span>(): 
    <span>parser</span> <span>=</span> <span>ArgumentParser</span>()
    <span>parser</span>.<span>add_argument</span>(<span>'--ten'</span>, <span>type</span><span>=</span><span>must_be_exactly_ten</span>)</pre></div>
<p dir="auto"><strong>How to enable the pre-flight validation</strong></p>
<p dir="auto">By default, Gooey won't run the validation. Why? This feature is fairly experimental and does a lot of intense Monkey Patching behind the scenes. As such, it's currently opt-in.</p>
<p dir="auto">You enable to validation by telling Gooey you'd like to subscribe to the <code>VALIDATE_FORM</code> event.</p>
<div dir="auto" data-snippet-clipboard-copy-content="from gooey import Gooey, Events 

@Gooey(use_events=[Events.VALIDATE_FORM])
def main(): 
    ... "><pre><span>from</span> <span>gooey</span> <span>import</span> <span>Gooey</span>, <span>Events</span> 

<span>@<span>Gooey</span>(<span>use_events</span><span>=</span>[<span>Events</span>.<span>VALIDATE_FORM</span>])</span>
<span>def</span> <span>main</span>(): 
    ... </pre></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/dynamic-validation-1-2-0.JPG"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/dynamic-validation-1-2-0.JPG"></a></p>
<p dir="auto">Now, when you run Gooey, before it invokes your main program, it'll send a separate pre-validation check and record any issues raised from your <code>type</code> functions.</p>
<p dir="auto"><strong>Full Code Example</strong></p>
<div data-snippet-clipboard-copy-content="from gooey import Gooey, Events
from argparse import ArgumentParser

def must_be_exactly_ten(value):
    number = int(value)
    if number == 10:
        return number
    else:
        raise TypeError(&quot;Hey! you need to provide exactly the number 10!&quot;)

@Gooey(program_name='Validation Example', use_events=[Events.VALIDATE_FORM])
def main():
    parser = ArgumentParser(description=&quot;Checkout this validation!&quot;)
    parser.add_argument('--ten', metavar='This field should be 10', type=must_be_exactly_ten)
    args = parser.parse_args()
    print(args)"><pre><code>from gooey import Gooey, Events
from argparse import ArgumentParser

def must_be_exactly_ten(value):
    number = int(value)
    if number == 10:
        return number
    else:
        raise TypeError("Hey! you need to provide exactly the number 10!")

@Gooey(program_name='Validation Example', use_events=[Events.VALIDATE_FORM])
def main():
    parser = ArgumentParser(description="Checkout this validation!")
    parser.add_argument('--ten', metavar='This field should be 10', type=must_be_exactly_ten)
    args = parser.parse_args()
    print(args)
</code></pre></div>
<hr>
<h2 tabindex="-1" dir="auto">Lifecycle Events and UI control</h2>
<blockquote>
<p dir="auto"><g-emoji alias="warning">⚠️</g-emoji>
Note! This functionality is experimental. Its API may be changed or removed altogether. Feedback on this feature is welcome and encouraged!</p>
</blockquote>
<p dir="auto">As of 1.2.0, Gooey now exposes coarse grain lifecycle hooks to your program. This means you can now take additional follow-up actions in response to successful runs or failures and even control the current state of the UI itself!</p>
<p dir="auto">Currently, two primary hooks are exposed:</p>
<ul dir="auto">
<li><code>on_success</code></li>
<li><code>on_error</code></li>
</ul>
<p dir="auto">These fire exactly when you'd expect: after your process has completed.</p>
<p dir="auto"><strong>Anatomy of an lifecycle handler</strong>:</p>
<p dir="auto">Both <code>on_success</code> and <code>on_error</code> have the same type signature.</p>
<div dir="auto" data-snippet-clipboard-copy-content="from typing import Mapping, Any, Optional
from gooey.types import PublicGooeyState  

def on_success(args: Mapping[str, Any], state: PublicGooeyState) -> Optional[PublicGooeyState]:
    &quot;&quot;&quot;
    You can do anything you want in the handler including 
    returning an updated UI state for your next run!   
    &quot;&quot;&quot; 
    return state
    
def on_error(args: Mapping[str, Any], state: PublicGooeyState) -> Optional[PublicGooeyState]:
    &quot;&quot;&quot;
    You can do anything you want in the handler including 
    returning an updated UI state for your next run!   
    &quot;&quot;&quot; 
    return state    "><pre><span>from</span> <span>typing</span> <span>import</span> <span>Mapping</span>, <span>Any</span>, <span>Optional</span>
<span>from</span> <span>gooey</span>.<span>types</span> <span>import</span> <span>PublicGooeyState</span>  

<span>def</span> <span>on_success</span>(<span>args</span>: <span>Mapping</span>[<span>str</span>, <span>Any</span>], <span>state</span>: <span>PublicGooeyState</span>) <span>-&gt;</span> <span>Optional</span>[<span>PublicGooeyState</span>]:
    <span>"""</span>
<span>    You can do anything you want in the handler including </span>
<span>    returning an updated UI state for your next run!   </span>
<span>    """</span> 
    <span>return</span> <span>state</span>
    
<span>def</span> <span>on_error</span>(<span>args</span>: <span>Mapping</span>[<span>str</span>, <span>Any</span>], <span>state</span>: <span>PublicGooeyState</span>) <span>-&gt;</span> <span>Optional</span>[<span>PublicGooeyState</span>]:
    <span>"""</span>
<span>    You can do anything you want in the handler including </span>
<span>    returning an updated UI state for your next run!   </span>
<span>    """</span> 
    <span>return</span> <span>state</span>    </pre></div>
<ul dir="auto">
<li><strong>args</strong> This is the parsed Argparse object (e.g. the output of <code>parse_args()</code>). This will be a mapping of the user's arguments as existed when your program was invoked.</li>
<li><strong>state</strong> This is the current state of Gooey's UI. If your program uses subparsers, this currently just lists the state of the active parser/form. Whatever updated version of this state you return will be reflected in the UI!</li>
</ul>
<p dir="auto"><strong>Attaching the handlers:</strong></p>
<p dir="auto">Handlers are attached when instantiating the <code>GooeyParser</code>.</p>
<div dir="auto" data-snippet-clipboard-copy-content="parser = GooeyParser(
    on_success=my_success_handler,
    on_failure=my_failure_handler)"><pre><span>parser</span> <span>=</span> <span>GooeyParser</span>(
    <span>on_success</span><span>=</span><span>my_success_handler</span>,
    <span>on_failure</span><span>=</span><span>my_failure_handler</span>)</pre></div>
<p dir="auto"><strong>Subscribing to the lifecycle events</strong></p>
<p dir="auto">Just like <a href="#dynamic-validation">Validation</a>, these lifecycle events are opt-in. Pass the event you'd like to subscribe to into the <code>use_events</code> Gooey decorator argument.</p>
<div dir="auto" data-snippet-clipboard-copy-content="from gooey import Gooey, Events 

@Gooey(use_events=[Events.ON_SUCCESS, Events.ON_ERROR])
def main(): 
    ... "><pre><span>from</span> <span>gooey</span> <span>import</span> <span>Gooey</span>, <span>Events</span> 

<span>@<span>Gooey</span>(<span>use_events</span><span>=</span>[<span>Events</span>.<span>ON_SUCCESS</span>, <span>Events</span>.<span>ON_ERROR</span>])</span>
<span>def</span> <span>main</span>(): 
    ... </pre></div>
<hr>
<h2 tabindex="-1" dir="auto">Showing Progress</h2>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/45590349-55bbda80-b8eb-11e8-9aed-b4fe377756ac.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/45590349-55bbda80-b8eb-11e8-9aed-b4fe377756ac.png" width="420"></a></p>
<p dir="auto">Giving visual progress feedback with Gooey is easy! If you're already displaying textual progress updates, you can tell Gooey to hook into that existing output in order to power its Progress Bar.</p>
<p dir="auto">For simple cases, output strings which resolve to a numeric representation of the completion percentage (e.g. <code>Progress 83%</code>) can be pattern matched and turned into a progress bar status with a simple regular expression (e.g. <code>@Gooey(progress_regex=r"^progress: (\d+)%$")</code>).</p>
<p dir="auto">For more complicated outputs, you can pass in a custom evaluation expression (<code>progress_expr</code>) to transform regular expression matches as needed.</p>
<p dir="auto">Output strings which satisfy the regular expression can be hidden from the console via the <code>hide_progress_msg</code> parameter (e.g. <code>@Gooey(progress_regex=r"^progress: (\d+)%$", hide_progress_msg=True)</code>.</p>
<p dir="auto"><strong>Regex and Processing Expression</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="@Gooey(progress_regex=r&quot;^progress: (?P<current>\d+)/(?P<total>\d+)$&quot;,
       progress_expr=&quot;current / total * 100&quot;)"><pre><span>@<span>Gooey</span>(<span>progress_regex</span><span>=</span><span>r"^progress: (?P&lt;current&gt;\d+)/(?P&lt;total&gt;\d+)$"</span>,</span>
<span>       <span>progress_expr</span><span>=</span><span>"current / total * 100"</span>)</span></pre></div>
<p dir="auto"><strong>Program Output:</strong></p>
<div data-snippet-clipboard-copy-content="progress: 1/100
progress: 2/100
progress: 3/100
..."><pre><code>progress: 1/100
progress: 2/100
progress: 3/100
...
</code></pre></div>
<p dir="auto">There are lots of options for telling Gooey about progress as your program is running. Checkout the <a href="https://github.com/chriskiehl/GooeyExamples">Gooey Examples</a> repository for more detailed usage and examples!</p>
<h3 tabindex="-1" dir="auto">Elapsed / Remaining Time</h3>
<p dir="auto">Gooey also supports tracking elapsed / remaining time when progress is used! This is done in a similar manner to that of the project <a href="https://github.com/tqdm/tqdm">tqdm</a>. This can be enabled with <code>timing_options</code>, the <code>timing_options</code> argument takes in a dictionary with the keys <code>show_time_remaining</code> and <code>hide_time_remaining_on_complete</code>. The default behavior is True for <code>show_time_remaining</code> and False for <code>hide_time_remaining_on_complete</code>. This will only work when <code>progress_regex</code> and <code>progress_expr</code> are used.</p>
<div dir="auto" data-snippet-clipboard-copy-content="@Gooey(progress_regex=r&quot;^progress: (?P<current>\d+)/(?P<total>\d+)$&quot;,
       progress_expr=&quot;current / total * 100&quot;,
       timing_options = {
        'show_time_remaining':True,
        'hide_time_remaining_on_complete':True,
    })"><pre><span>@<span>Gooey</span>(<span>progress_regex</span><span>=</span><span>r"^progress: (?P&lt;current&gt;\d+)/(?P&lt;total&gt;\d+)$"</span>,</span>
<span>       <span>progress_expr</span><span>=</span><span>"current / total * 100"</span>,</span>
<span>       <span>timing_options</span> <span>=</span> {</span>
<span>        <span>'show_time_remaining'</span>:<span>True</span>,</span>
<span>        <span>'hide_time_remaining_on_complete'</span>:<span>True</span>,</span>
<span>    })</span></pre></div>
<hr>
<h2 tabindex="-1" dir="auto">Customizing Icons</h2>
<p dir="auto">Gooey comes with a set of six default icons. These can be overridden with your own custom images/icons by telling Gooey to search additional directories when initializing. This is done via the <code>image_dir</code> argument to the <code>Gooey</code> decorator.</p>
<div data-snippet-clipboard-copy-content="@Gooey(program_name='Custom icon demo', image_dir='/path/to/my/image/directory')
def main():
    # rest of program"><pre><code>@Gooey(program_name='Custom icon demo', image_dir='/path/to/my/image/directory')
def main():
    # rest of program
</code></pre></div>
<p dir="auto">Images are discovered by Gooey based on their <em>filenames</em>. So, for example, in order to supply a custom configuration icon, simply place an image with the filename <code>config_icon.png</code> in your images directory. These are the filenames which can be overridden:</p>
<ul dir="auto">
<li>program_icon.png</li>
<li>success_icon.png</li>
<li>running_icon.png</li>
<li>loading_icon.gif</li>
<li>config_icon.png</li>
<li>error_icon.png</li>
</ul>
<h2 tabindex="-1" dir="auto">Packaging</h2>
<p dir="auto">Thanks to some <a href="https://github.com/chriskiehl/Gooey/issues/58" data-hovercard-type="issue" data-hovercard-url="/chriskiehl/Gooey/issues/58/hovercard">awesome contributors</a>, packaging Gooey as an executable is super easy.</p>
<p dir="auto">The tl;dr <a href="https://github.com/pyinstaller/pyinstaller">pyinstaller</a> version is to drop this <a href="https://raw.githubusercontent.com/chriskiehl/Gooey/master/docs/packaging/build-win.spec" rel="nofollow">build.spec</a> into the root directory of your application. Edit its contents so that the <code>APPPNAME</code> and <code>name</code> are relevant to your project and the <code>pathex</code> value points to your applications root, then execute <code>pyinstaller -F --windowed build.spec</code> to bundle your app into a ready-to-go executable.</p>
<p dir="auto">Detailed step by step instructions can be found <a href="https://github.com/chriskiehl/Gooey/blob/master/docs/packaging/Packaging-Gooey.md">here</a>.</p>
<h2 tabindex="-1" dir="auto">Screenshots</h2>
<table>
<thead>
<tr>
<th>Flat Layout</th>
<th>Column Layout</th>
<th>Success Screen</th>
<th>Error Screen</th>
<th>Warning Dialog</th>
</tr>
</thead>
<tbody>
<tr>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/4414e54e-0965-11e5-964b-f717a7adaac6.jpg"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/4414e54e-0965-11e5-964b-f717a7adaac6.jpg"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/4411b824-0965-11e5-905a-3a2b5df0efb3.jpg"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/4411b824-0965-11e5-905a-3a2b5df0efb3.jpg"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/44165442-0965-11e5-8edf-b8305353285f.jpg"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/44165442-0965-11e5-8edf-b8305353285f.jpg"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/4410dcce-0965-11e5-8243-c1d832c05887.jpg"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/4410dcce-0965-11e5-8243-c1d832c05887.jpg"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/4415432c-0965-11e5-9190-17f55460faf3.jpg"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/4415432c-0965-11e5-9190-17f55460faf3.jpg"></a></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Custom Groups</th>
<th>Tabbed Groups</th>
<th>Tabbed Navigation</th>
<th>Sidebar Navigation</th>
<th>Input Validation</th>
</tr>
</thead>
<tbody>
<tr>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/34464824-c044d57a-ee46-11e7-9c35-6e701a7c579a.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/34464824-c044d57a-ee46-11e7-9c35-6e701a7c579a.png"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/34464826-2a946ba2-ee47-11e7-92a4-4afeb49dc9ca.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/34464826-2a946ba2-ee47-11e7-92a4-4afeb49dc9ca.png"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/34464835-5ba9b0e4-ee47-11e7-9561-55e3647c2165.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/34464835-5ba9b0e4-ee47-11e7-9561-55e3647c2165.png"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/34464847-9918fbb0-ee47-11e7-8d5f-0d42631c2bc0.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/34464847-9918fbb0-ee47-11e7-8d5f-0d42631c2bc0.png"></a></td>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/34464861-0e82c214-ee48-11e7-8f4a-a8e00721efef.png"><img src="https://github.com/chriskiehl/GooeyImages/raw/images/readme-images/34464861-0e82c214-ee48-11e7-8f4a-a8e00721efef.png"></a></td>
</tr>
</tbody>
</table>
<hr>
<h2 tabindex="-1" dir="auto">Wanna help?</h2>
<p dir="auto">Code, translation, documentation, or graphics? All pull requests are welcome. Just make sure to checkout <a href="https://github.com/chriskiehl/Gooey/blob/master/CONTRIBUTING.md">the contributing guidelines</a> first.</p>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Firefox Keeps Getting Faster (263 pts)]]></title>
            <link>https://blog.mozilla.org/en/products/quick-as-a-fox-firefox-keeps-getting-faster/</link>
            <guid>38586512</guid>
            <pubDate>Sat, 09 Dec 2023 22:00:02 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.mozilla.org/en/products/quick-as-a-fox-firefox-keeps-getting-faster/">https://blog.mozilla.org/en/products/quick-as-a-fox-firefox-keeps-getting-faster/</a>, See on <a href="https://news.ycombinator.com/item?id=38586512">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="page">
    <p><a href="#content">Skip to content</a></p><!-- #masthead -->
    <p>
      <h4>Search</h4>
          </p>

    <div id="content">
  <main id="main">

    
<article id="post-73563">
  

  <div>
    
<figure><img decoding="async" fetchpriority="high" width="1024" height="683" src="https://blog.mozilla.org/wp-content/blogs.dir/278/files/2021/06/fx_website_meta-image_tips-tricks_alt-04-1024x683.png" alt="" srcset="https://blog.mozilla.org/wp-content/blogs.dir/278/files/2021/06/fx_website_meta-image_tips-tricks_alt-04-1024x683.png 1024w, https://blog.mozilla.org/wp-content/blogs.dir/278/files/2021/06/fx_website_meta-image_tips-tricks_alt-04-300x200.png 300w, https://blog.mozilla.org/wp-content/blogs.dir/278/files/2021/06/fx_website_meta-image_tips-tricks_alt-04-768x512.png 768w, https://blog.mozilla.org/wp-content/blogs.dir/278/files/2021/06/fx_website_meta-image_tips-tricks_alt-04-1000x667.png 1000w, https://blog.mozilla.org/wp-content/blogs.dir/278/files/2021/06/fx_website_meta-image_tips-tricks_alt-04.png 1200w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>Web browsing is a pervasive part of modern life, and the quality of the experience directly affects the quality of your day. When your tasks are disrupted by slow or unresponsive pages, it is frustrating and distracting. As such, performance is a key component of <a href="https://www.mozilla.org/en-US/about/webvision/full/#performance">Mozilla’s vision</a> for the web.</p>



<p>To deliver against our vision and enable a better online experience for everyone, we’ve been working hard on making Firefox even faster. We’re extremely happy to report that this has resulted in a significant improvement in speed over the past year.</p>



<h2><strong>Improvements on benchmarks</strong></h2>



<p>One way to judge browser performance is by using industry benchmarks. We have seen measurable improvements here, specifically around the popular benchmark <a href="https://browserbench.org/Speedometer2.1/">Speedometer 2.1</a>.&nbsp; This benchmark measures browser responsiveness by simulating user interactions (such as manipulating a list of to-do items).</p>



<figure><img decoding="async" src="https://lh7-us.googleusercontent.com/JycfLdWVg3aahOa4S-3l3AH7d2uJnmwIHJODCVjjhIjGoHDGdw5zIZ9ZhLnBW8e6geZKoZCF4Gj9CbwTU-WZ1-a6aMucqREb8rgRVM4YCtq-yn-VEf5Q59JrsQS0JpnrHI7jvjdwg9Yl5rpt6y9ei-Y" alt=""></figure>



<p>Since January 2023, Firefox’s Speedometer score has improved by 50%, a significant performance improvement for our users.</p>



<h2><strong>Performance on the web</strong></h2>



<p>Yes, benchmarks matter, but it’s worth pointing out they only simulate what a user could experience. It was important for us to verify that the performance improvements were actually being felt by users.</p>



<p>We’ve observed improvements on performance metrics that matter. In particular, pages are appearing 15% faster on average:</p>



<figure><img decoding="async" src="https://lh7-us.googleusercontent.com/CCucpMvQ1P91Vumz-WgDN8EjbYWX9wM8agpIxsZrNFCc4P1rwU-OI1FFFYW6_q46WKQ8HGokmSn4gMF2_xImZX1suuBgz0Tpzs_lQwQtJ_oYPppavTB7DdSXdrpeXRhTHydR8U2U_bkE5jbpDZ-nUHU" alt=""></figure>



<p>It is extremely gratifying to see that the improvements in benchmark scores are actually being felt by Firefox users everywhere. If you’re interested in getting more technical details, check out our recent <a href="https://hacks.mozilla.org/2023/10/down-and-to-the-right-firefox-got-faster-for-real-users-in-2023/">blog post on Mozilla Hacks</a>.&nbsp;</p>



<p>It’s been an exciting year for the Firefox Performance team – and we’re not stopping any time soon. This is a preview of the work we’ve been doing, and we’ll be sharing more technical detailed posts in the next few weeks on <a href="https://hacks.mozilla.org/">Mozilla Hacks.</a>&nbsp;</p>



<a href="https://www.mozilla.org/en-US/firefox/new?utm_medium=mozilla-websites&amp;utm_source=blog.mozilla.org&amp;utm_content=inline-cta">
  <p><img width="512" height="512" src="https://blog.mozilla.org/wp-content/blogs.dir/278/files/2020/12/Fx-Browser-icon-fullColor-512-512x512.png" alt="" decoding="async" srcset="https://blog.mozilla.org/wp-content/blogs.dir/278/files/2020/12/Fx-Browser-icon-fullColor-512.png 512w, https://blog.mozilla.org/wp-content/blogs.dir/278/files/2020/12/Fx-Browser-icon-fullColor-512-300x300.png 300w, https://blog.mozilla.org/wp-content/blogs.dir/278/files/2020/12/Fx-Browser-icon-fullColor-512-150x150.png 150w" sizes="(max-width: 512px) 100vw, 512px">  </p>
  <div>
     <h3>Get Firefox</h3>      <p><span>Get the browser that protects what’s important</span>   </p></div>
</a>
  </div>

</article><!-- #post-73563 -->

  </main><!-- #main -->
  

<div id="related-articles">
    <h2>Related Articles</h2>
    
  </div>



</div><!-- #content -->

<!-- Newsletter -->



</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Sneakers Film Promotional Floppy (142 pts)]]></title>
            <link>https://archive.org/details/Sneakers_Film_Promotional_Floppy</link>
            <guid>38585213</guid>
            <pubDate>Sat, 09 Dec 2023 19:45:30 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://archive.org/details/Sneakers_Film_Promotional_Floppy">https://archive.org/details/Sneakers_Film_Promotional_Floppy</a>, See on <a href="https://news.ycombinator.com/item?id=38585213">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="descript" itemprop="description"><p>Released in conjuction with the computer hacking movie "Sneakers" (1992), this floppy-based "computer press kit" contained many of the aspects of regular movie press kits, including cast bios, plots, and information on all aspects of production. It was intended for press, and as such is both "locked up" (via passwords) but also endeavored to help the same press get through the barriers as quickly as possible.&nbsp;</p><p>The balancing act between technical complexity and simplicity to ensure promotion is quite notable.&nbsp;</p><div><p>The program in question is DOS-based, and was released in 1992 as part of a package of both written and computer-based information.</p><p>This floppy is from the collection of Marcin Wichary.</p></div>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Amazon Has an Honesty Issue (165 pts)]]></title>
            <link>https://www.bentasker.co.uk/posts/blog/opinion/amazon-parcel-contents-get-stolen-and-then-amazon-tries-to-keep-payment.html</link>
            <guid>38584230</guid>
            <pubDate>Sat, 09 Dec 2023 18:18:43 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.bentasker.co.uk/posts/blog/opinion/amazon-parcel-contents-get-stolen-and-then-amazon-tries-to-keep-payment.html">https://www.bentasker.co.uk/posts/blog/opinion/amazon-parcel-contents-get-stolen-and-then-amazon-tries-to-keep-payment.html</a>, See on <a href="https://news.ycombinator.com/item?id=38584230">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<p>Amazon has been our retailer of first-resort for <em>years</em>: ordering on Amazon is quick, convenient and (on average) tends to have lower prices. Even our TV was originally bought via Amazon Prime.</p>
<p>Over the course of that time, there's inevitably been the odd issue with ordered items, but they were all resolved quickly and easily via the customer-service text chat (although <strong>finding</strong> that chat can be a bit of a pain).</p>
<p>Even as recently as a couple of months ago, if asked,  I'd have said that it's generally been a fairly positive experience.</p>
<p>In November, though, my opinion of Amazon changed pretty significantly. </p>
<p>We experienced an issue with a high-value item not being delivered and, since that, have been left stuck in a state of financial limbo. Despite initially accepting that there was an issue with the delivery, Amazon have not issued a refund and have even contested credit card charge-backs.</p>
<p>With the benefit of hindsight and a bit of searching online, it seems that this is something that others have been experiencing too, so I thought that it might be helpful to post about our experience (so far) as well as what I think that the underlying issues at Amazon actually are.</p>
<!-- TEASER_END -->

<hr>
<h4>Contents</h4>
<p>This has turned into quite a long post, although hopefully it's relatively easy to read through. All the same, for ease of navigation, here's a table of contents:</p>

<ul>
<li>
<a href="https://www.bentasker.co.uk/posts/blog/opinion/amazon-parcel-contents-get-stolen-and-then-amazon-tries-to-keep-payment.html#background">Background</a><ul>
<li><a href="https://www.bentasker.co.uk/posts/blog/opinion/amazon-parcel-contents-get-stolen-and-then-amazon-tries-to-keep-payment.html#background">Ordering and "delivery"</a></li>
<li><a href="https://www.bentasker.co.uk/posts/blog/opinion/amazon-parcel-contents-get-stolen-and-then-amazon-tries-to-keep-payment.html#raising_with_amazon">Raising with Amazon</a></li>
<li><a href="https://www.bentasker.co.uk/posts/blog/opinion/amazon-parcel-contents-get-stolen-and-then-amazon-tries-to-keep-payment.html#refund_is_where">Where's my refund?</a></li>
<li><a href="https://www.bentasker.co.uk/posts/blog/opinion/amazon-parcel-contents-get-stolen-and-then-amazon-tries-to-keep-payment.html#chargeback">Chargeback</a></li>
<li><a href="https://www.bentasker.co.uk/posts/blog/opinion/amazon-parcel-contents-get-stolen-and-then-amazon-tries-to-keep-payment.html#chargeback_failed">Chargeback Failed</a></li>
</ul>
</li>
<li>
<a href="https://www.bentasker.co.uk/posts/blog/opinion/amazon-parcel-contents-get-stolen-and-then-amazon-tries-to-keep-payment.html#analysis">Analysis</a><ul>
<li><a href="https://www.bentasker.co.uk/posts/blog/opinion/amazon-parcel-contents-get-stolen-and-then-amazon-tries-to-keep-payment.html#playing_dumb">Amazon Like Playing Dumb</a></li>
<li><a href="https://www.bentasker.co.uk/posts/blog/opinion/amazon-parcel-contents-get-stolen-and-then-amazon-tries-to-keep-payment.html#otp_make_things_standout">Advertising High*Value Packages</a></li>
<li><a href="https://www.bentasker.co.uk/posts/blog/opinion/amazon-parcel-contents-get-stolen-and-then-amazon-tries-to-keep-payment.html#blame_management">Management Driven?</a></li>
</ul>
</li>
<li><a href="https://www.bentasker.co.uk/posts/blog/opinion/amazon-parcel-contents-get-stolen-and-then-amazon-tries-to-keep-payment.html#now">Current Status</a></li>
<li><a href="https://www.bentasker.co.uk/posts/blog/opinion/amazon-parcel-contents-get-stolen-and-then-amazon-tries-to-keep-payment.html#the_future">The Future</a></li>
<li><a href="https://www.bentasker.co.uk/posts/blog/opinion/amazon-parcel-contents-get-stolen-and-then-amazon-tries-to-keep-payment.html#conclusion">Closing Thoughts</a></li>
</ul>
<hr>

<h3>Background</h3>
<h4>Ordering and "delivery"</h4>
<p>Before writing about the broader issues that I think Amazon have, I'll lay out the course of events:</p>
<ul>
<li>On Nov 1, I ordered an Xbox Series X bundle, along with an additional controller (and charging pack) for delivery the next day (because, you know, Amazon Prime)</li>
<li>Two sets of packages were dispatched: the Xbox in one, the rest of the stuff in another</li>
<li>Because it's a high value item, Amazon sent me an email noting that I needed to provide a one-time code to the driver on receipt</li>
<li>The <code>My Orders</code> page suggested that everything would be delivered "by" <code>14:30</code>
</li>
<li>At about <code>14:15</code> the doorbell went. I was downstairs so only took a few seconds to get to the front door, <em>just in time</em> to see a white van speeding off</li>
<li>There were several boxes (turns out my other half had also ordered some stuff), but no Xbox</li>
<li>Given I hadn't been asked for a code, I figured the Xbox was going to be delivered separately so looked in <code>My Orders</code> again: <strong>nothing</strong> showed as having been delivered and the tracking showed the driver as being 9 stops away. Weird, but maybe he was out of coverage?</li>
<li>About <code>18:30</code>, whilst I was cooking dinner, the doorbell went again</li>
<li>Stood in our (now dark) porch was a driver, with a package clearly visible next to him - he wanted a code before he'd hand the parcel over </li>
<li>I provided the code, took the package and went back inside.</li>
</ul>
<p>I initially went back to cooking dinner (because leaving food to burn on the hob isn't a great idea), but then figured I should check the Xbox before stashing it ahead of Christmas (which was <em>very</em> lucky - otherwise I wouldn't have found any of this out until weeks later).</p>
<p>When I opened the box though, I didn't find an Xbox, I found this:</p>
<p><img alt="Photo of the contents of the box: snickers chew bars, bounty chew bars, an air freshener and a box of flash detergent" src="https://www.bentasker.co.uk/images/BlogItems/amazons_theft_issue/20231102_00_contents_of_box.jpg"></p>
<p>Clearly someone had nicked it and filled the box with crap to make up the weight!</p>
<p>Personally, I felt (and still feel) that it was probably the driver - the way that the delivery of the other parcels had occurred was just plain <strong>weird</strong>. Drivers shooting off quickly isn't all that unusual, but this was fast even by their standards and the online tracking was <em>way out</em> . </p>
<p>Looking in my inbox, the "Your package has been delivered" mails for those earlier parcels didn't arrive until <code>16:41</code>. Normally they arrive more or less immediately after delivery: Is that the result of delays in Amazon's systems, or did the driver not mark them as delivered until later to give himself cover for the time spent swapping the parcel out?</p>
<p>For those who are wondering, the driver requesting a code before handing over the parcel is consistent with the instructions that Amazon send to customers:</p>
<p><img alt="Screenshot of Amazons notification mail. The final paragraph reads: For security, the recipient of this package must provide this one-time password or last to digits of the delivery address phone number to driver in-person to receive the package. Do not communicate this password or your phone number to the driver over phone or intercom" src="https://www.bentasker.co.uk/images/BlogItems/amazons_theft_issue/amazon_otp_mail.png"></p>
<p>Even if it occurred to the customer that they might need to, it's not possible to check the contents of the parcel first, because you <em>have to give the code to even receive it</em>.</p>
<hr>

<h4>Raising with Amazon</h4>
<p>I hopped straight into the customer service chat, expecting that - like previous experiences - this would be dealt with reasonably easily.</p>
<p>Amazon's customer service, though, really needed things spelling out for them. I got transferred 4 times, sometimes immediately after the previous transfer.</p>
<p>Eventually though, I was told that Amazon needed a couple of days to investigate before they could replace or refund the item:</p>
<p><img alt="Screenshot of chat with Amazon support. In it, I spell out to them why I think it's the driver and then they say they need to investigate which will take 24-46 hours " src="https://www.bentasker.co.uk/images/BlogItems/amazons_theft_issue/chat_day_1.png"></p>
<p>Although I'd have liked a resolution there and then, a couple of days wasn't a huge ask. At the time, I (somewhat naively) took that as a sign that Amazon were <em>actually interested</em> in identifying and dealing with the thief.</p>
<p>Unfortunately, a few days later, I'd heard nothing more from Amazon. I checked my access logs and found that no-one had even visited the link I'd provided for the photo of the box's contents.</p>
<p>So, I hopped back onto their live-chat.</p>
<p>This time, when I mentioned the photo, I was given a customer services email to send it to. A few minutes later, after the rep had checked my mail, they came back to me in the chat to confirm that they'd initiate a return</p>
<p><img alt="Screenshot of chat with Amazon support. Having looked at my photo they say they can see that I've not received an Xbox and offer to initiate a return" src="https://www.bentasker.co.uk/images/BlogItems/amazons_theft_issue/chat_2_1.png"></p>
<p>I did have some concern about this though - that box was my evidence - I didn't want it returned only for Amazon to say "your return didn't contain an Xbox", so I asked explicitly if that was going to be an issue</p>
<p><img alt="Screenshot of chat with Amazon support. I ask whether it's going to be an issue that there wont be an Xbox in the returned box and the adviser specifically says that it will not be a problem" src="https://www.bentasker.co.uk/images/BlogItems/amazons_theft_issue/chat_2_2.png"></p>
<p>I didn't have much choice but to take a leap of faith and, after all, Amazon are a multi-national retailer who care about customer service and their reputation, right?</p>
<p>My one remaining concern was how long it was going to take for the refund to come through - after all Christmas was approaching and I was currently short one (very expensive) present.</p>
<p><img alt="Screenshot of chat with Amazon support. I ask how long a refund will take and am told 5-7 days upon receipt of the returned item." src="https://www.bentasker.co.uk/images/BlogItems/amazons_theft_issue/chat_2_3.png"></p>
<p>Although a gift-card refund would be processed quicker, the timeline for refund to my card was reasonable. I didn't really want to buy the replacement from Amazon, after all, can you imagine the difficulties if the same thing happened a second time?</p>
<p>The adviser triggered the return process and I received an email with a QR code to take to the post office along with the parcel. The next morning, the parcel was on its way back to the mothership.</p>
<p>Upon dispatch, Royal mail provide a tracking code, so I can show that the package was delivered to Amazon on the 8th of November 2023.</p>
<hr>

<h4>Where's my refund?</h4>
<p>A week later, I still hadn't received a refund, so I checked <code>My Orders</code> and saw that it hadn't yet been approved (but the interface suggested that it would be in the next few days).</p>
<p>That date came and went and every time that I checked, the projected date slipped back until, eventually, the interface flipped over to claiming they hadn't received the return <em>at all</em>.</p>
<p>It's since switched back to acknowledging receipt, but providing no estimation for the refund to be issued.</p>
<p><img alt="Screenshot of Amazon's refund status view, showing the item as received, but refund not issued" src="https://www.bentasker.co.uk/images/BlogItems/amazons_theft_issue/amazon_returns_interface.png"></p>
<p>So, <em>back into the chat</em> I went.</p>
<p>At this point I was beyond frustrated, but it isn't right to abuse support staff, so I opened by explaining that I knew that it wasn't the advisers fault personally, but that I was absolutely furious with Amazon: it was 3 weeks since their delivery chain had stolen our item and I was still without refund, leaving me facing the prospect of having to settle a credit card bill containing something that I hadn't received.</p>
<p>The adviser apologised but said that the refund needed to go through additional approvals and wouldn't be <strong>authorised</strong> until 6th December:</p>
<p><img alt="Screenshot of chat with Amazon support. CS adviser explains that because it's over 220 GBP in value it takes more than a month for the refund to be reflected on our account." src="https://www.bentasker.co.uk/images/BlogItems/amazons_theft_issue/chat_3_1.png"></p>
<p>Worse than that, the 6th wasn't even when we'd <strong>get</strong> the refund, just when it'd be processed. They still wanted 14 days after that for issuance of the refund</p>
<p><img alt="Screenshot of chat with Amazon support. CS adviser explains that because it's over 220 GBP in value it takes more than a month for the refund to be reflected on our account." src="https://www.bentasker.co.uk/images/BlogItems/amazons_theft_issue/chat_3_2.png"></p>
<p>So, just to put Amazon's proposed timeline into context:</p>
<ul>
<li>01 Nov: order placed</li>
<li>01 Nov: money taken</li>
<li>02 Nov: box delivered</li>
<li>02 Nov: Amazon delay things</li>
<li>06 Nov: Return initiated</li>
<li>30 Nov: Credit card statement issued/paid</li>
<li>06 Dec: Refund to be approved</li>
<li>20 Dec: Refund to be paid</li>
</ul>
<p>In fact, the date of the 20th of December is actually me being <em>being generous</em>, because the adviser said 14 <strong>business</strong> days, so, in practice, we might not even have seen a refund <strong>this year</strong>.</p>
<p>Put simply, following on from one of their staff stealing our purchase, Amazon wanted us to remain in a state of financial limbo for the better part of 2 months, spending Christmas wondering whether we'd ever see our money again.</p>
<hr>

<h4>Chargeback</h4>
<p>As much as I <em>wanted</em> to tell Amazon to GFY, I instead politely explained to the adviser that the timeline was unacceptable and that I'd be contacting my credit card provider to invoke a chargeback under <a href="https://www.financial-ombudsman.org.uk/consumers/complaints-can-help/credit-borrowing-money/goods-services-bought-credit">Section 75 of the Consumer Credit Act</a>.</p>
<p>I'd paid for the order using an American Express card, so I contacted them: Amex are fairly notorious for backing their customers, so I figured we'd be made right relatively quickly.</p>
<p>I logged into Amex's portal and found that filing a dispute is <em>really</em> simple: </p>
<ol>
<li>Find the relevant transaction </li>
<li>Click the <code>Dispute payment</code> link</li>
<li>Fill out a multiple choice form</li>
<li>Upload any evidence (I uploaded copies of my chat with Amazon etc)</li>
</ol>
<p>Once I'd submitted the dispute, Amex suspended the line item from my statement (so I <strong>wouldn't</strong> have to pay for something I hadn't received that month) and contacted Amazon to let them know the transaction had been disputed.</p>
<p>Two days later, on 23 Nov, I received an email from Amazon, with the following:</p>
<blockquote>
<p>We are writing to let you know that the credit or debit card issuing bank has raised a dispute regarding the transaction below.</p>
<p>To help us resolve this matter, please reply to this email and explain the reason for disputing this charge.</p>
<p>You will find the transaction details below.</p>
</blockquote>
<p>I'm sure they <em>could</em> have looked up my chat history if I directed them to it, but at this point I was feeling a little cynical and decided that it'd be better to lay everything out again, allowing it to later be referred back to if the need arose.</p>
<p>I sent Amazon a fairly concise email re-providing timelines as well as explaining that I'd filed a chargeback because Amazon's proposed timelines would have left me at a significant financial disadvantage over Christmas:</p>
<p><img alt="Screenshot of chat with Amazon support. CS adviser explains that because it's over 220 GBP in value it takes more than a month for the refund to be reflected on our account." src="https://www.bentasker.co.uk/images/BlogItems/amazons_theft_issue/cb_email.png"></p>
<p>The response that I received from Amazon later that day was short and to the point:</p>
<blockquote>
<p>We received your email. We are currently working with your card issuer to resolve this dispute.</p>
<p>Card issuers usually resolve chargeback disputes within 30 days, but sometimes it can take longer. If you need more information or wish to cancel any disputes, please contact your card issuer.</p>
</blockquote>
<p>Although I was still feeling cynical, I took this to mean that Amazon would probably go back to Amex and accept the dispute <em>apart from</em> the <code>£72.25</code> that I'd authorised them to take for the controller and battery pack.</p>
<p>I heard nothing from either Amazon or Amex for nearly two weeks, but such was my trust in Amex's reputation that I felt quite comfortable popping out to a <strong>trustworthy</strong> retailer and collecting, in person, an Xbox Series X to ensure that we could give the intended present (I did, however, make that retailer open the box whilst we were still in store, just to be safe).</p>
<hr>

<h4>Chargeback Failed</h4>
<p>On the 6th of December 2023 I received a snail-mail letter from Amex, which noted that:</p>
<p><img alt="Snippet of letter from Amex: The merchant has now sent us a copy of the documentation for your reference. The merchant has provided proof of delivery" src="https://www.bentasker.co.uk/images/BlogItems/amazons_theft_issue/amex_letter_snippet.png"></p>
<p>Amex were intending to re-apply the charge to my statement, putting me back on the hook to pay for an Xbox that I hadn't received.</p>
<p>What <strong>possible</strong> evidence could Amazon have provided in order to prove delivery of an Xbox that hadn't been in the box? </p>
<p><img alt="Snippet of letter from detailing response from Amazon. I highlighted a section which reads: The customer has successfully used this shipping address for 83 number of orders that were previously processed and weren't disputed. Please have the customer carefully review the order details." src="https://www.bentasker.co.uk/images/BlogItems/amazons_theft_issue/amex_letter_snippet_2.png"></p>
<p>Essentially, they hadn't - they'd simply suggested that delivery to our address has always been fine before and that maybe <em>I'd</em> messed up somehow?</p>
<p>It was <strong>astonishingly</strong> clear that Amazon's chargeback department either <strong>hadn't read</strong> my reply or <strong>had decided to ignore it</strong>.</p>
<p>What <em>really</em> concerned me, though, was that American Express clearly hadn't read the provided information <em>either</em>. If they had, it would have taken them all of 3 seconds to realise that what Amazon had said was <strong>completely irrelevant</strong> to the dispute, not to mention that <strong>Amazon had accepted</strong> that there was an issue in the customer service chats.</p>
<p>I picked up the phone, called Amex customer services and <em>instructed</em> them to re-open the dispute. </p>
<p>I explained that it was obvious that they hadn't actually investigated, that Amazon's chargeback department had emailed me after the chargeback was raised and that their response to Amex wasn't consistent with either my reply or the complaint itself. As a result, I was asked to upload copies of the email chain with Amazon.</p>
<p>At this point, I was really quite annoyed, so as well as uploading copies of the Amazon emails I uploaded a file called <code>Attention_Amex.pdf</code> containing a note to them explaining my displeasure at the closing of the dispute, pointing out why Amazon's response was obviously bunk and suggesting that they pull their finger out:</p>
<p><img alt="Snippet of note I sent to amex: Please investigate this dispute *properly*. Under s75 if the consumer credit act my agreement is with you, if you are unable to resolve this, please clearly state that this is the case as my next step will be to initiate legal action." src="https://www.bentasker.co.uk/images/BlogItems/amazons_theft_issue/amex_instruction.png"></p>
<p>Still annoyed, that night, I also emailed Jeff Bezos ('cos why not?) to ask if he was aware that his chargeback department seemed to be in the habit of misleading credit card providers.</p>
<p>Which, brings us round to today. </p>
<p>Currently, I'm still waiting to hear back from Amex on the chargeback or (if by some miracle it happens) from Bezos on having set his team straight. In the meantime, I've been preparing for the possibility of taking legal action because I am <strong>not</strong> paying for an Xbox that wasn't delivered.</p>
<hr>

<h3>Analysis: The Real Problems</h3>
<p><img alt="Modified version of the Amazon A-Z logo - I've inverted the arrow to turn the smile upside down. It looks like a sad face" src="https://www.bentasker.co.uk/images/BlogItems/amazons_theft_issue/a-z-sad-shrunk.png"></p>
<p>Moving onto the analysis then.</p>
<p>It'd be easy to think that the biggest problem is that things are getting nicked from within Amazon's supply chain. </p>
<p>As we'll quickly explore, though, I think Amazon's problems are <strong>much more</strong> severe and run much more deeply than that.</p>
<hr>

<h4>Amazon Like Playing Dumb</h4>
<p>When I first contacted Amazon's customer support, I had to lay out in no uncertain terms that the item had clearly been nicked by someone on Amazon's side. </p>
<p>They were <em>intent</em> on treating it as a wrong-item received claim, which I didn't want:</p>
<ol>
<li>On the day, I was full of <a href="https://buckyoharetoadwars.fandom.com/wiki/Righteous_Indignation">righteous indignation</a> and ideally wanted the driver to be nailed to the nearest wall</li>
<li>I was concerned that it being treated as a wrong-item return would lead to Amazon later trying to dispute the refund (don't I feel vindicated...)</li>
</ol>
<p>In my second chat with customer services, I didn't push so hard on the "it's been nicked" front because I'd reached the point that I just <em>wanted my money back</em> and it seemed to be the path of least resistance.</p>
<p>The thing is, though, I should not have needed to explain it to Amazon's staff in the first place.</p>
<p>I'm <a href="https://www.bentasker.co.uk/posts/blog/security/playing-around-with-bings-ai-chatbot.html">no particular fan of Chat-GPT</a> but <em>even Bing's chat</em> can figure out what likely went on:</p>
<p><img alt="Screenshot of a question being provided to Bing chat. It reads: Consider this: A consumer orders a high value item from an online retailer. Because it's high value, the retailer requires the consumer to communicate a one time password to the delivery driver on delivery - the package is marked as requiring this code. After receipt and provision of the code, the consumer opens the package and finds that their high value item is not in it - it's instead full of low value items such as chocolate bars. What do you think might have happened here? " src="https://www.bentasker.co.uk/images/BlogItems/amazons_theft_issue/bing_chat_1.png"><img alt="Screenshot of part of Bings response, reading: The consumer was a victim of an item not received scam, where the seller sent the correct item to the consumer, but the delivery driver or someone else intercepted the package and replaced the high-value item with low-value items. The delivery driver or the thief then used the one time password to confirm the delivery and avoid suspicion. " src="https://www.bentasker.co.uk/images/BlogItems/amazons_theft_issue/bing_chat_2.png"></p>
<p>It's not like this form of theft is even particularly new to Amazon, it's even previously been covered by large publications:</p>
<ul>
<li><a href="https://www.forbes.com/sites/barrycollins/2022/07/23/amazons-one-time-passwords-backfire-on-customers/">Forbes: Amazon's one-time codes backfire on customers </a></li>
<li><a href="https://www.which.co.uk/news/article/amazon-one-time-passwords-customers-report-item-thefts-and-parcels-being-switched-ait1r3T6wfnz">Which?: Amazon one-time passwords: customers report item thefts &amp; parcels being switched</a></li>
<li><a href="https://www.which.co.uk/news/article/scamwatch-an-amazon-delivery-driver-tricked-me-and-stole-my-new-phone-a0lED0s92Efz">Scamwatch: An Amazon Delivery driver tricked me and stole my parcel</a></li>
</ul>
<p>A quick search online shows that social media is awash with customers complaining of stuff being stolen and Amazon's subsequent reluctance to issue refunds.</p>
<p>It follows, then, that Amazon <strong>cannot</strong> be unaware of the rot that exists within their own system, suggesting that they have consciously chosen to try and let customers carry the financial consequences of their corporate impotence.</p>
<p>Anecdotal reports suggest that this year is <a href="https://www.theguardian.com/money/2023/jul/08/parcel-thefts-from-uk-doorsteps-soaring-new-figures-reveal"><em>particularly bad</em> </a> for thefts of Amazon parcels, with drivers reportedly even being so bold as to photograph packages on people's doorstep before stealing them.</p>
<p>By not acting decisively to address the theft occurring within it's delivery organ, Amazon has fomented an environment where thieves believe that they can act with impunity.</p>
<p>This billionaire-owned behemoth's sloping shoulders and general ineptitude leaves their customers suffering through no fault of their own.</p>
<hr>

<h4>Advertising High-Value Packages</h4>
<p>Amazon presumably implemented one-time passwords out of concern that high value items were going missing (and, presumably, to address some incidence of consumer fraud).</p>
<p>The problem is, those packages are now <strong>clearly marked</strong> as being of value - the need for a OTP screams to <em>everyone</em> in the delivery chain that "this" might be worth nicking.</p>
<p>That could never end well in an environment where taking packages is seemingly almost risk free for logistics staff.</p>
<p>I wouldn't be surprised, at all, if the introduction of OTP coincided with an <strong>increase</strong> in overall theft. </p>
<p>I'm sure that Amazon will have statistics, but given their apparent reluctance to record occurrences of theft as such, I suspect that their numbers don't accurately reflect reality. Even if they do, there's still the risk that some level of management is focused only on one metric (a reduction in recorded incidences of consumer fraud) to the exclusion of all else.</p>
<hr>

<h4>Management Driven?</h4>
<p>It's not unusual, when dealing with a company, to find that your experience differs a bit based on the customer service agent that you get - people in front-line roles tend to each have their own approach to exploring and resolving issues (those differences are what tends to make people good at their jobs).</p>
<p>Reading about other's experiences with Amazon online, it's quite clear that Amazon would <strong>like</strong> us to believe that it's the customer service agents who are at fault. News stories often note that, when challenged by the media, Amazon explain that</p>
<blockquote>
<p>a customer service agent had misinformed you and has received further training.</p>
</blockquote>
<p>However, I don't believe that this is likely to truly be the case:</p>
<ol>
<li>My own interactions with their customer service teams <strong>do not support</strong> this contention: the staff did not come across as obstructive in the least and a return <strong>was</strong> even arranged - the holdup came when the refund had to be sent for approval.</li>
<li>Amazon's chargeback department clearly <strong>have</strong> been, at best, obstructive. It seems unlikely that chargebacks are handled by frontline customer-service staff, being more of a finance function.</li>
<li>It's abundantly clear from reports online that this issue is quite widespread. If a large number of customer service agents <strong>are</strong>, in fact, misinformed this would suggest that there's an issue with Amazon's training and/or internal policies - ergo, there's a <em>systemic issue</em> that Amazon is failing to address and is choosing to scapegoat agents instead (something that would be entirely consistent with our understanding of <a href="https://www.theguardian.com/technology/2021/mar/25/amazon-delivery-workers-bathrooms-memo">their attitude to employees</a>).</li>
</ol>
<p>Personally, I consider it far more likely that <em>someone</em> within Amazon's management chain is trying to achieve an arbitrary set of figures or targets. They're pushing for this, at all costs, with the result that customer welfare and <strong>what's right</strong> isn't considered <em>at all</em>. </p>
<p>Putting it bluntly, I'm not sure whether Amazon have considered a move into agriculture, but I'd say they're quite adept at shovelling a <em>certain something</em>.</p>
<hr>

<h3>The Current Situation</h3>
<p>At time of writing, my case is still unresolved - sooner or later I'll get a letter from American Express detailing their conclusions and will have to take it from there.</p>
<p>About the time that I emailed Bezos (who, obviously, was busy with <a href="https://www.youtube.com/watch?v=FpdHtGr2_KI">more important things</a>), I realised that I'd started using the word "contempt" in relation to the way that Amazon had been treating us. </p>
<p>It turns out that I'm not alone and the word "contempt" turns up elsewhere: <a href="https://www.theguardian.com/money/2023/nov/14/amazon-shows-contempt-for-uk-law-over-parcel-thefts">Amazon shows ‘contempt’ for UK law over parcel thefts</a>. </p>
<p>Now, Amazon <em>haven't</em> asked me for a crime number and if they did, I'd argue that it's not actually on <strong>me</strong> to acquire one in the first place: the Xbox was not stolen <em>from me</em>, it was stolen <em>from Amazon</em>. The criminal action was against the retailer and my dispute is <strong>entirely</strong> civil: Amazon have not fulfilled their side of the contract by delivering the Xbox that I paid for.</p>
<p>I am <strong>extremely</strong> privileged in that I'm not relying on that money for food and heat.</p>
<p>That doesn't make Amazon's behaviour any less contemptible though: I <em>could</em> equally well be a single-parent who'd saved all year for a special present and was now facing the choice of a present-less Christmas, or having to sacrifice something else to free up money to purchase a replacement Xbox. </p>
<p>The fact that Amazon could equally be doing, or do, the same to someone who <em>is</em> in that position was a big motivator in writing this post.</p>
<p>Whilst I am <strong>very</strong> fortunate not to be in that position, it doesn't make me immune from stress and certainly doesn't make me any less annoyed.</p>
<p><img alt="Gif of the Friends scene where Ross says I'm indignant, as a consumer! whilst holding a pack of rubbers" src="https://www.bentasker.co.uk/images/BlogItems/amazons_theft_issue/indignant.gif"></p>
<p>The pack of johnnies that Ross is holding are a little more pertinent than you might think: I've never been afraid to <a href="https://www.bentasker.co.uk/images/benscomputer_no-ip_org_Archive/blog/Tiscali.php.html">stand on principle</a> and, given the opportunity, I'd be <em>more</em> than happy to f..k Amazon's day up as much as possible.</p>
<p>Unfortunately, however, that's not <em>quite</em> how all of this works.</p>
<p>I made the purchase with a credit card and, as a result, the law holds that my contract is with American Express and <em>not</em> Amazon. It's American Express who have the legal duty to make me whole.</p>
<p>So, if this <em>does</em> get to the point that I need to start legal action (and, I absolutely will), Amex are the unfortunate middle-man who will end up taking Amazon's well-deserved breach-of-contract kicking.</p>
<p>Of course, at time of writing, American Express aren't <em>entirely</em> without fault themselves.</p>
<p>I'm <strong>hugely</strong> disappointed at their handling of the chargeback so far: They were <em>supposed</em> to be one of the <strong>good</strong> credit-card providers but, presumably, have made cutbacks, with levels of customer service suffering as a result.</p>
<hr>

<h4>The Future</h4>
<p>I don't know exactly what the future holds for this case, other than that I've every intention of fighting harder than a honey-badger with a sore-head.</p>
<p>Beyond that though, the rules of the future are relatively straightforward</p>
<ul>
<li>Never buy anything of any meaningful value (if anything at all) from Amazon <em>ever again</em>
</li>
<li>Assume that Amazon absolutely do not act in good faith, do not give them the benefit of any trust</li>
<li>If something does turn up needing an OTP, refuse the delivery and repurchase elsewhere</li>
</ul>
<p>If we reach the point of legal action, I suspect that I'll also need to look for a new credit card provider - I can't imagine that Amex won't respond by disinviting me from using their services.</p>
<hr>

<h4>Closing Thoughts</h4>
<p>Amazon's handling of the case aggrieves me far more than the initial theft does. In a supply chain the size of Amazon it's inevitable that there are sometimes going to be some bad apples. As with <em>all things customer facing</em>, the bit that matters is not the initial incident so much as how you respond to it. Clearly, Amazon have <em>utterly failed</em> in that respect.</p>
<p>Until the response to the chargeback came through, I was quite willing to give Amazon the benefit of Hanlon's Razor (Never attribute to malice that which is adequately explained by stupidity). However, with the response that they sent to Amex, it became hard not to conclude that any signs of ineptitude are not, in fact, deliberate.</p>
<p>I'm disappointed in Amex's initial handling of the chargeback, but if I were being generous, I'd say that a significant part of the problem is their web portal over-simplifying the process. It's <em>very easy</em> to file a chargeback, but it's all done with multiple choice answers: there is no means to provide context or detail other than uploading files of evidence.</p>
<p>I <em>suspect</em> that what's happened, is that Amex have seen the "Item not received" selection in the multiple choice and followed a script without reviewing any of the rest of the dispute.</p>
<p>It doesn't excuse it, but if the root of it is bad UI, then there is hope that Amex could fix things for future customers.</p>
<p>Casual readers of my site may have noticed, by now, that I've gone to some lengths to avoid my usual... uh... application of language in this post: I wanted to make sure that the post could get past corporate web filters, hopefully one day even being seen within Amazon itself.</p>
<p><a name="are_you_an_amazon_senior_manager"></a>
However, it would be remiss of me not to also honestly communicate my current feelings towards the relevant levels of Amazon's management, which I shall do via the medium of meme:</p>
<p><img alt="Meme of a raised middle finger. Can't fully repeat the words because filters but it says, go blank yourself, then do it twice more" src="https://www.bentasker.co.uk/images/BlogItems/amazons_theft_issue/to_amazon.jpg"></p>
<p>I'd also suggest turning it sideways and repeating.</p>
<p>As a closing note, if you do find that you are affected by similar then please, please, try not to take it out on the front-line staff: it's not their fault that they work for a shower of morally corrupt nobs.</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Doug Engelbart’s 1968 demo (253 pts)]]></title>
            <link>https://dougengelbart.org/content/view/209/</link>
            <guid>38583881</guid>
            <pubDate>Sat, 09 Dec 2023 17:45:06 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://dougengelbart.org/content/view/209/">https://dougengelbart.org/content/view/209/</a>, See on <a href="https://news.ycombinator.com/item?id=38583881">Hacker News</a></p>
Couldn't get https://dougengelbart.org/content/view/209/: Error: timeout of 10000ms exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[Backdoor found in secure TETRA radios (200 pts)]]></title>
            <link>https://www.cryptomuseum.com/radio/tetra/burst.htm</link>
            <guid>38583489</guid>
            <pubDate>Sat, 09 Dec 2023 17:02:29 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.cryptomuseum.com/radio/tetra/burst.htm">https://www.cryptomuseum.com/radio/tetra/burst.htm</a>, See on <a href="https://news.ycombinator.com/item?id=38583489">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><td>
<a href="https://www.cryptomuseum.com/radio/tetra/index.htm"><p>TETRA</p></a>&nbsp;&nbsp;<a href="https://www.cryptomuseum.com/crypto/algo/tea/1.htm"><p>TEA1 →</p></a><a href="https://www.cryptomuseum.com/crypto/algo/taa"><p>TAA →</p></a>&nbsp;&nbsp;        
        <p><span color="#F52E00">9 August 2023 —</span>
We are now able to share the reverse-engineered <a href="#pub"><span data-balloon-pos="up" aria-label="Jump to: C-source code">C-source code</span></a> of
the <span aria-label="TETRA Authentication Algorithm" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/taa">TAA1</a></span>, <span aria-label="TETRA Encryption Algorithm 1" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea/1.htm">TEA1</a></span>, <span aria-label="TETRA Encryption Algorithm 2" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea/2.htm">TEA2</a></span> and <span aria-label="TETRA Encryption Algorithm 3" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea/3.htm">TEA3</a></span> algorithms. This clearly shows
the weakness in <span aria-label="TETRA Encryption Algorithm 1" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea/1.htm">TEA1</a></span>. Also published is a paper on TETRA:BURST,
written by the Midnight Blue researchers Carlo Meijer, Wouter Bokslag
and Jos Wetzels.
<span color="#E7E">➤</span>&nbsp;<a href="#pub">More</a>
        </p>
        
        
        <p>
          <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
<b>Vulnerabilities in TETRA radio networks</b>
<p>

On 24 July 2023, researchers of the Dutch security firm
<a href="https://www.cryptomuseum.com/manuf/midnightblue"><span data-balloon-pos="up" aria-label="More about: Midnight Blue">Midnight Blue</span></a> revealed
that they had found five vulnerabilities in the authentication and
encryption algorithms of the <span aria-label="Terrestrial Trunked Radio" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/radio/tetra/index.htm">TETRA</a></span> radio network, which is used in
the critical infrastructure of more than 100 countries.
Two of the vulnerabilities are deemed critical. One of them
appears to be an intentional <i><span aria-label="deliberate weaking of a cipher system with the aim to provide covert access" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/intel/nsa/backdoor.htm">backdoor</a></span></i> <a href="#ref_1">[1]</a>.
</p><table><tbody><tr><td>
            <p><img src="https://www.cryptomuseum.com/radio/tetra/svg/tetraburst.svg">
            </p>
            </td></tr><tr><td>
          </td></tr></tbody></table>
<br>
The vulnerabilities were discovered during the course of 2020, and were
reported to the <span aria-label="National Cyber Security Centre (Netherlands)" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/intel/index.htm#ncsc">NCSC</a></span> in the Netherlands in December of that year. It was
decided to hold off public disclosure until July 2023, to give emergency
services and equipment suppliers the ability to patch the equipment.
</span>
          </p>
<br>        
        <p>
          <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
Several algorithm suites and cryptographic primitives are used at the
core of the TETRA protocol, in particular <span aria-label="TETRA Authentication Algorithm" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/taa">TAA</a></span> for authentication,
and <span aria-label="TETRA Encryption Algorithm" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea">TEA</a></span> for encryption.
As these algorithms are secret, they have never been
publicly disclosed and, hence, have never been subjected to in-depth
public scrutiny. In order to find any vulnerabilities in the
code, the researchers therefore first had to <i>reverse-engineer</i> the
<span aria-label="TETRA Authentication Algorithm" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/taa">TAA</a></span> and <span aria-label="TETRA Encryption Algorithm" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea">TEA</a></span> algorithms, which appeared to be not trivial at all.
<p>

The reverse-engineering project — codenamed RE:TETRA — was started
on 1 January 2020, with funding from the non-profit
<a href="https://nlnet.nl/" target="_blank"><span data-balloon-pos="up" aria-label="nlnet.nl (off-site)">NLnet foundation</span></a>, as part of the latter's
European Commission supported <a href="https://nlnet.nl/PET/" target="_blank"><span data-balloon-pos="up" aria-label="nlnet.nl (off-site)">NGI0 PET fund</span></a>.
Once the reverse-engineering was completed, the researchers were
able to isolate and analyse the cryptographic functions.
</p></span>
          </p>
<br>        <a name="platform"></a>
        
        <p>
          <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
For reverse-engineering, a <span color="#F52E00">Motorola MTM-5400</span>
commercial off-the-shelf (<span data-balloon-pos="up" aria-label="Commercial Off-The-Shelf">COTS</span>) mobile radio was used,
along with associated firmware upgrades obtained through
amateur radio forums. Reading the contents of a firmware upgrade
is not trivial though, as it is heavily encrypted and relies
on a Trusted Execution Environment (<span data-balloon-pos="up" aria-label="Trusted Execution Environment">TEE</span>), embedded in
the core processor of the radio.
          </span>
          </p>
<br>        <table>
          <tbody><tr>
          <td>
          <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
The MTM-5000 series is built around a Texas Instruments
OMAP-L138 System on Chip (<span data-balloon-pos="up" aria-label="System on Chip">SoC</span>), which contains an
<span data-balloon-pos="up" aria-label="Advanced RISC Machines">ARM</span> core and <span data-balloon-pos="up" aria-label="Texas Instruments">TI</span> C6748 <span data-balloon-pos="up" aria-label="Digital Signal Processor">DSP</span>.
It offers secure boot by means of <span data-balloon-pos="up" aria-label="Trusted Execution Environment">TEE</span>,
as a result of which confidential code can be loaded
and executed without revealing its implementation.
This is how the <span aria-label="Terrestrial Trunked Radio" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/radio/tetra/index.htm">TETRA</a></span> algorithms are protected.
<p>

In order to execute arbitrary code on the <span data-balloon-pos="up" aria-label="Advanced RISC Machines">ARM</span> core,
the researchers first had to exploit another series of
known vulnerabilities, using a serial AT command interface
as the attack surface and performing a cache-timing side
channel attack.
          </p></span></td>
          <td>&nbsp;&nbsp;</td>
          <td>
          <table><tbody><tr><td>
<a href="https://www.cryptomuseum.com/radio/tetra/img/motorola_mtm5400.jpg">            <p><img src="https://www.cryptomuseum.com/radio/tetra/img/motorola_mtm5400_small.jpg" alt="Click to see more" width="298" height="199">
            </p>
            </a>
            </td></tr><tr><td>
          </td></tr></tbody></table>
          </td></tr>
        </tbody></table>
<br>        <p>
          <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
With the <span data-balloon-pos="up" aria-label="Advanced RISC Machines">ARM</span> core and the <span data-balloon-pos="up" aria-label="Digital Signal Processor">DSP</span> now firmly under control of the attackers,
the MBM-5000 series can be used as a development platform for researchers,
allowing in-depth security research into <span aria-label="Terrestrial Trunked Radio" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/radio/tetra/index.htm">TETRA</a></span>, which will hopefully
improve overall <span aria-label="Terrestrial Trunked Radio" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/radio/tetra/index.htm">TETRA</a></span> security.
The <a href="https://www.cryptomuseum.com/manuf/midnightblue"><span data-balloon-pos="up" aria-label="More about: Midnight Blue">Midnight Blue</span></a> researchers have announced
that they will publicly release the tools for unpacking Motorola
firmware upgrade packages, as well as utilities for instrumenting, debugging,
monitoring and packet injection.
</span>
          </p>
<br>        
        <p>
          <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
Once the software had been reverse-engineered, the researchers were
able to do in-depth security research with the aim to find vulnerabilities
and ultimately mount an attack. Over the course of one year,
the following vulnerabilities were discovered:
          </span>
          </p>
<br>        <p>
          <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
          <ol>
            <li><a href="#flaw1">Dependence on network time</a><br>
The Air Interface Encryption (<span data-balloon-pos="up" aria-label="Air Interface Encryption">AIE</span>) keystream relies on network time,
which is publicly broadcast in an unauthenticated manner. This allows
for <i>decryption oracle attacks</i> and may lead to loss of
confidentiality and authenticity. This vulnerability is deemed critical.
<br>
            <div>
<p><b>CVE-2022-24401 ·</b>
This problem can be fixed by installing a firmware upgrade.
</p><p>★★★★★</p>
            </div>
            </li><li><a href="#flaw2">Backdoor in TEA1</a><br>
The TEA1 algorithm has a <i><span aria-label="deliberate weaking of a cipher system with the aim to provide covert access" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/intel/nsa/backdoor.htm">backdoor</a></span></i> that reduces the original
80-bit key to a size which is trivially brute-forceable on consumer
hardware in minutes. This is a critical flaw that leads to loss of
confidentiality and authenticity. The researchers believe that this
is a deliberately created weakness to provide intelligence services
access to the traffic.
<br>
            <div>
<p><b>CVE-2022-24402 ·</b>
This problem can be fixed by using <span data-balloon-pos="up" aria-label="end-to-end encryption">E2EE</span> on top of TEA1.
</p><p>★★★★★</p>
            </div>
            </li><li><span color="#F52E00">Lack of ciphertext authentication</span><br>
The lack of ciphertext authentication of <span data-balloon-pos="up" aria-label="Air Interface Encryption">AIE</span> allows for
malleability attacks. This may eventually lead to loss of authenticity.
<br>
            <div>
<p><b>CVE-2022-24404 ·</b>
This problem can be fixed by installing a firmware upgrade.
</p><p>★★★★</p>
            </div>
            </li><li><span color="#F52E00">Weak anonymisation</span><br>
The cryptographic scheme used to obfuscate radio identities, has a weak
design that allows attackers to deanonymize and track users.
<br>
            <div>
<p><b>CVE-2022-24403 ·</b>
This problem can be fixed by using <span data-balloon-pos="up" aria-label="end-to-end encryption">E2EE</span> on top of TEA1.
</p><p>★★★</p>
            </div>
            </li><li><span color="#F52E00">DCK can be set to 0</span><br>
A flaw in the authentication algorithm allows attackers to set the
Derived Cipher Key (<span data-balloon-pos="up" aria-label="Derived Cipher Key">DCK</span>) to 0.
This may lead to loss of authenticity and partial loss of confidentially.
<br>
            <div>
<p><b>CVE-2022-24400 ·</b>
This problem can be fixed by migrating to TAA2 (long-term).
</p><p>★</p>
            </div>
          </li></ol>
        </span></p>
        <a name="etsi"></a>
        
        <p>
          <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
The <span aria-label="Terrestrial Trunked Radio" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/radio/tetra/index.htm">TETRA</a></span> encryption algorithms were implemented in 1996 and 1997 by
or on behalf of the
<a href="https://www.cryptomuseum.com/org/etsi/index.htm#sage"><span data-balloon-pos="up" aria-label="More about: Security Experts Group">Security Experts Group</span></a> of the
<a href="https://www.cryptomuseum.com/org/etsi/index.htm"><span data-balloon-pos="up" aria-label="More about: European Telecommunications ...">European Telecommunications Standards Insitute</span></a>
(<span aria-label="ETSI Security Algorithms Group of Experts" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/org/etsi/index.htm#sage">ETSI-SAGE</a></span>).
It is ETSI's policy not to disclose their cryptographic algorithms
and not to submit them to public in-depth security research,
other than validation by the other <span aria-label="ETSI Security Algorithms Group of Experts" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/org/etsi/index.htm#sage">ETSI-SAGE</a></span> members, claiming that
<i>obscurity</i> is also a form of <i>security</i> <a href="#ref_7">[7]</a>. Researchers
often see this as a violation of <i>Kerckhoffs's Principle</i> however <a href="#ref_5">[5]</a>,
which in the long run can potentially lead to weak exploitable systems.
<p>

On the day of the TETRA:BURST disclosures,
<span aria-label="European Telecommunications Standards Institute" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/org/etsi/index.htm">ETSI</a></span> issued a press statement in which the findings of the
researchers were largely downplayed, claiming that improvements
were already underway and that no actual exploitations of operational
networks were known at the time <a href="#ref_6">[6]</a>.
</p><p>

The Midnight Blue researchers have since demonstrated real-life
exploitations of some of the vulnerabilities, for example at the
2023 Blackhat Conference in Las Vegas (USA). They have shown that
<span aria-label="Terrestrial Trunked Radio" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/radio/tetra/index.htm">TETRA</a></span> communications secured with the <span aria-label="TETRA Encryption Algorithm 1" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea/1.htm">TEA1</a></span> encryption algorithm
can be broken in one minute on a regular commercial laptop and in 12 hours
on a classic laptop from 1998 <a href="#pub_3">[III]</a>.
</p></span>
          </p>
<br>        
        
<br>        <a name="demo"></a>
        
        <a name="flaw1"></a>
        
        
<br>        <table>
          <tbody><tr>
          <td>
          <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
In the video below, the first critical vulnerability (CVE-2022-24401) is
demonstrated. It shows a <i>decryption oracle attack</i> that is based on the
fact that the Air Interface Encryption (<span data-balloon-pos="up" aria-label="Air Interface Encryption">AIE</span>) keystream relies on network time,
which is publicly broad­cast in an unauthenticated manner. The video shows a
lab setup in which an instrumented base station is used as an attacker platform.
<br>
          </span></td>
          <td>&nbsp;&nbsp;</td>
          <td>
          <div>
          <iframe width="298" height="200" src="https://www.youtube.com/embed/oJjTiO6C9xs" frameborder="0" allowfullscreen=""></iframe>
        </div>
        </td></tr>
      </tbody></table>
<br>      
<br>      <a name="flaw2"></a>
      
      
<br>      <table>
        <tbody><tr>
        <td>
        <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
Midnight Blue researchers discovered a <i><span aria-label="deliberate weaking of a cipher system with the aim to provide covert access" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/intel/nsa/backdoor.htm">backdoor</a></span></i> in the <span aria-label="TETRA Encryption Algorithm 1" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea/1.htm">TEA1</a></span>
encryption algorithm, which had clearly been added deliberately, probably
to give inteligence services access to the system.
In the video below, the <span aria-label="TETRA Encryption Algorithm 1" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea/1.htm">TEA1</a></span> backdoor is demonstrated on a real network.
After breaking the initial key — one minute on a regular laptop —
the rest of the traffic can be read without any problems.
<br>
        </span></td>
        <td>&nbsp;&nbsp;</td>
        <td>
        <div>
        <iframe width="298" height="200" src="https://www.youtube.com/embed/-m9UTJLt4uw" frameborder="0" allowfullscreen=""></iframe>
      </div>
      </td></tr>
    </tbody></table>
<br>    
<br>    
    
<br>    <table>
      <tbody><tr>
      <td>
      <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
After the TETRA:BURST vulnerabilities were dis­closed on 24 July 2023,
the European standards body <span aria-label="European Telecommunications Standards Institute" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/org/etsi/index.htm">ETSI</a></span> downplayed the
discoveries, saying that the short <span aria-label="TETRA Encryption Algorithm 1" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea/1.htm">TEA1</a></span> key is not a real <span aria-label="deliberate weaking of a cipher system with the aim to provide covert access" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/intel/nsa/backdoor.htm">backdoor</a></span>,
and that a key length of 32 bits was appropriate when the standard was
issued in the late 1990s.
<p>

To bust these claims, the researchers have run their <span aria-label="TETRA Encryption Algorithm 1" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea/1.htm">TEA1</a></span> cracking
tool on an old 1998 Toshiba laptop, running Microsoft Windows 95
on a Pentium II at 266 MHz. The key was found after 12.5 hours,
which demonstrates that even in the late 1990s an attack would
have been realistic.
</p></span></td>
      <td>&nbsp;&nbsp;</td>
      <td>
      <div>
      <iframe width="298" height="200" src="https://www.youtube.com/embed/u2pbCu7zDrA" frameborder="0" allowfullscreen=""></iframe>
    </div>
    </td></tr>
  </tbody></table>
<br>  
<br>  
  
<br>  <a name="tea"></a>
  
  <p>
    <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
<span aria-label="TETRA Encryption Algorithm" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea">TEA</a></span> is a set of encryption algorithms that can be used for
Air Interface Encryption (<span data-balloon-pos="up" aria-label="Air Interface Encryption">AIE</span>) in the <span aria-label="Terrestrial Trunked Radio" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/radio/tetra/index.htm">TETRA</a></span> communications system.
It consists of four variants (<span aria-label="TETRA Encryption Algorithm 1" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea/1.htm">TEA1</a></span>, <span aria-label="TETRA Encryption Algorithm 2" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea/2.htm">TEA2</a></span>, <span aria-label="TETRA Encryption Algorithm 3" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea/3.htm">TEA3</a></span> and <span aria-label="TETRA Encryption Algorithm 4" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea/4.htm">TEA4</a></span>), with
differing levels of security, depending on the application. The algorithms
are simple yet strong, and can easily be implemented in both hard- and
software. All <span aria-label="TETRA Encryption Algorithm" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea">TEA</a></span> variants use an 80-bit key.
<p>

The structure of the <span aria-label="TETRA Authentication Algorithm" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/taa">TAA</a></span> and <span aria-label="TETRA Encryption Algorithm" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea">TEA</a></span> algorithms, including the
HURDLE block cipher used in <span aria-label="TETRA Authentication Algorithm" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/taa">TAA</a></span>, is described in detail in a paper
by Carlo Meijer, Wouter Bokslag and Jos Wetzels — all
involved in the TETRA:BURST vulnerability research at
<a href="https://www.cryptomuseum.com/manuf/midnightblue"><span data-balloon-pos="up" aria-label="More about: Midnight Blue">Midnight Blue</span></a> <a href="#pub_1">[I]</a>.
</p><span color="#E7E">➤</span>&nbsp;<a href="https://www.cryptomuseum.com/radio/tetra/files/tetra_paper.pdf">Read the paper</a>
<br><span color="#E7E">➤</span>&nbsp;<a href="https://www.cryptomuseum.com/radio/tetra/files/tetracrypto.zip">Reverse-engineered source code</a>
<br><span color="#E7E">➤</span>&nbsp;<a href="https://www.cryptomuseum.com/crypto/algo/tea">Overview of TEA algorithms</a>
</span>
    </p>
<br>  <a name="tea1"></a>
  
  <p>
    <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
The <span aria-label="TETRA Encryption Algorithm 1" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea/1.htm">TEA1</a></span> algorithm was intended for commercial applications and
restricted export.
Its structure is very similar to <a href="#tea2"><span data-balloon-pos="up" aria-label="Jump to: TEA2">TEA2</span></a>,
but the 80-bit key is manipulated in such a way that it becomes
a 32-bit key, which can be broken with a brute-force attack
on a regular commercial laptop in around one minute.
The source code snippet below shows how the key length is reduced.
    </span>
    </p>
<br>  <div>
    <pre>     int32_t tea1_init_key_register(const uint8_t *lpKey) {
         int32_t dwResult = 0;
         for (int i = 0; i &lt; 10; i++) {
             dwResult = (dwResult &lt;&lt; 8) |
             g_abTea1Sbox[((dwResult &gt;&gt; 24) ^ lpKey[i] ^ dwResult) &amp; 0xff];
         }
         return dwResult;
     }
     
    </pre>
</div>
<p>
  <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
The key consists of 80 bits, which is equal to 10 bytes.
In the above code, the 10 bytes are processed one at a time, and then shifted
into the result (<p>dwResult</p>) register. However, as the <p>dwResult</p>
register is only 32 bits wide, the first 48 bits are shifted out
and the key consists of the last 32 bits only, which is trivially
short for a brute-force attack.
<p>

Although the short key length can be seen as a <i><span aria-label="deliberate weaking of a cipher system with the aim to provide covert access" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/intel/nsa/backdoor.htm">backdoor</a></span></i>
— it is a deliberate weakening —
this is disputed by the original developer, as it was done in plain
sight and not hidden in some complex code, function or table <a href="#ref_3">[3]</a>.
The short key length was simply an <span aria-label="European Telecommunications Standards Institute" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/org/etsi/index.htm">ETSI</a></span> requirement.
Any company that had to implement the algorithm in its equipment,
had access to the design specification and must have been aware
of the limitation <a href="#ref_3">[3]</a>.
This is corroborated by Gert Roelofsen in an interview with
De Volkskrant on 29 July 2023, in which he states that the government
had been aware of it for the past 30 years <a href="#ref_2">[2]</a>. At the time, Roelofsen
was on the <span aria-label="European Telecommunications Standards Institute" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/org/etsi/index.htm">ETSI</a></span> experts team on behalf of <span aria-label="Koninklijke PTT Nederland" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/manuf/ptt">KPN</a></span>.
</p><span color="#E7E">➤</span>&nbsp;<a href="https://www.cryptomuseum.com/crypto/algo/tea/1.htm">More about TEA1</a>
</span>
  </p>
<br><a name="tea2"></a>

<p>
  <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
<span aria-label="TETRA Encryption Algorithm 2" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea/2.htm">TEA2</a></span> was developed for European emergency services, and is arguably
the strongest of the four algorithms. It uses the full 80-bit key
length. If we assume that a 32-bit key can be broken in one
minute – as with <a href="#tea1"><span data-balloon-pos="up" aria-label="Jump to: TEA1">TEA1</span></a> above – we can calculate how long it would take
to brute-force an 80-bit key. As each bit doubles the required time,
the total time needed is:
<center>
60 × 2<sup>48</sup> [sec] ≈ <b>535 milion years</b>
</center>
  </span>
  </p>
<br><p>
  <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
If there is no known way to break the cipher other than by means of
a brute-force attack, this algorithm can be assumed secure.
<span color="#E7E">➤</span>&nbsp;<a href="https://www.cryptomuseum.com/crypto/algo/tea/2.htm">More about TEA2</a>
</span>
  </p>
<br><a name="tea3"></a>

<p>
  <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
<span aria-label="TETRA Encryption Algorithm 3" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea/3.htm">TEA3</a></span> is intended for emergency services outside Europe.
It is similar to <span aria-label="TETRA Encryption Algorithm 2" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea/2.htm">TEA2</a></span> and does not have the weakness of
<span aria-label="TETRA Encryption Algorithm 1" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea/1.htm">TEA1</a></span> (i.e. the reduced key length). Although it is likely that
<span aria-label="TETRA Encryption Algorithm 3" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea/3.htm">TEA3</a></span> is stronger than <span aria-label="TETRA Encryption Algorithm 1" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea/1.htm">TEA1</a></span> and <span aria-label="TETRA Encryption Algorithm 4" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea/4.htm">TEA4</a></span>, it is also likely
that it is weaker than <span aria-label="TETRA Encryption Algorithm 2" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea/2.htm">TEA2</a></span>. So far, the researchers have not found
any weaknesses in this cipher, but acknowledge the need for further
research.
<span color="#E7E">➤</span>&nbsp;<a href="https://www.cryptomuseum.com/crypto/algo/tea/3.htm">More about TEA3</a>
</span>
  </p>
<br><a name="tea4"></a>

<p>
  <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
The <span aria-label="TETRA Encryption Algorithm 4" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea/4.htm">TEA4</a></span> algorithm is intended for commercial use and restricted
access, just like <span aria-label="TETRA Encryption Algorithm 1" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea/1.htm">TEA1</a></span>, which suggests that it also has a
built-in weakness. However, as no implementation of this
cipher was available on the Motorola target MTM-5400 platform,
the researchers were unable to review the algorithm.
It seems likely though, that it has similar weaknesses to <span aria-label="TETRA Encryption Algorithm 1" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/crypto/algo/tea/1.htm">TEA1</a></span>.
<span color="#E7E">➤</span>&nbsp;<a href="https://www.cryptomuseum.com/crypto/algo/tea/4.htm">More about TEA4</a>
</span>
  </p>
<br>
<p>
  <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
Although there is no direct proof of actual exploitation of a <span aria-label="Terrestrial Trunked Radio" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/radio/tetra/index.htm">TETRA</a></span>
network, it seems likely that malicious parties are interested in reading
or interfering with <span aria-label="Terrestrial Trunked Radio" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/radio/tetra/index.htm">TETRA</a></span> traffic. The simple fact that no exploitations
are known <a href="#ref_6">[6]</a>, does not mean that they do not exist.
The TETRA:BURST
project shows that reverse-engineering of the cryptographic primitives
is feasible with limited resources.
<p>

A weakness like the reduced key
length of <a href="#tea1"><span data-balloon-pos="up" aria-label="Jump to: TEA1">TEA1</span></a> is so obvious that it will certainly have been
noticed and exploited. Apart from the possibility of reverse-engineering,
an adversary would not be hampered by legal restrictions,
and might use leaked or stolen documentation instead.
</p></span>
  </p>
<br>
<p>
  <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
Below is a timeline of events since the start of the reverse-engineering
project RE:TETRA on 1 January 2021 and the first public disclosure on 24 July
2023. The Dutch <span aria-label="National Cyber Security Centre (Netherlands)" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/intel/index.htm#ncsc">NCSC</a></span> (<span aria-label="National Cyber Security Centre (Netherlands)" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/intel/index.htm#ncsc">NCSC-NL</a></span>) was informed in December 2021, after which
meetings were held with the law enforcement and intelligence communities,
as well as with <span aria-label="European Telecommunications Standards Institute" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/org/etsi/index.htm">ETSI</a></span> and the vendors. Shortly afterwards, on 2 February 2022,
preliminary advice was distributed to the various stakeholders and <span data-balloon-pos="up" aria-label="Computer Emergency Respnse Team">CERT</span>s.
The remainder of 2022 and the first half of 2023 were used for coordination
and advisory sessions with stake­holders, allowing manufacturers to come
up with firmware patches, updates or workarounds.
<table><tbody><tr><td>
    <p><img src="https://www.cryptomuseum.com/radio/tetra/svg/tetraburst_timeline.svg">
    </p>
    </td></tr><tr><td>
  </td></tr></tbody></table>
<br>
The time between the first contact with <span aria-label="National Cyber Security Centre (Netherlands)" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/intel/index.htm#ncsc">NCSC-NL</a></span> and the public disclosure
of the vulnerabilities, is a carefully chosen tradeoff between giving
asset owners as much time as possible and the right of the public to know.
The 1.5+ years inbetween were used to find as many stakeholders as
possible and inform/advice them, so that software updates and mitigations
could be devoloped.
</span>
  </p>
<br><a name="events"></a>

<p>
  <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
The Midnight Blue researchers will present their finding at the following
events and conferences:
  </span>
  </p>
<br><p>
  <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
  <ul>
    <li><a href="https://www.blackhat.com/us-23/" target="_blank"><p><s>2023 Aug 9</s></p><s>Blackhat 2023, Las Vegas (USA)</s></a>    </li><li><a href="https://www.usenix.org/conference/usenixsecurity23" target="_blank"><p><s>2023 Aug 11</s></p><s>Usenix Security, Anaheim (Germany)</s></a>    </li><li><a href="https://defcon.org/html/defcon-31/dc-31-index.html" target="_blank"><p><s>2023 Aug 13</s></p><s>DEF CON, Las Vegas (USA)</s></a>    </li><li><a href="https://events.ccc.de/camp/2023/infos/" target="_blank"><p><s>2023 Aug 15-19</s></p><s>CCC summer camp, Berlin (Germany)</s></a>    </li><li><a href="https://one-conference.nl/" target="_blank"><p>2023 Oct 3</p>ONE conference, The Hague (Netherlands)</a>    </li><li><a href="https://insightevents.dk/isc-cph/program/" target="_blank"><p>2023 Nov 14</p>ISC, Copenhagen (Denmark)</a>  </li></ul>
</span></p><a name="pub"></a>

<p>
  <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
  <ol type="I">
    <a name="pub_1"></a>
    <li><a href="https://www.cryptomuseum.com/radio/tetra/files/tetra_paper.pdf">Carlo Meijer, Wouter Bokslag and Jos Wetzels,<br><i>All cops are broadcasting: TETRA under scrutiny</i></a><br>
Paper submitted to Crypto Museum. 9 August 2023.
    </li><li><a href="https://www.cryptomuseum.com/radio/tetra/files/tetracrypto.zip">Full source code of TAA1, TEA1, TEA2 and TEA3 algorithms in C</a><br>
Reverse-engineered and used for analysis and real life tests.<br>
Midnight Blue, 9 August 2023.
    </li><li><a href="https://www.cryptomuseum.com/radio/tetra/files/tetra_pres_20230809.pdf"><i>All Cops Are Broadcasting, Breaking TETRA after decades in the shadows</i></a><br>
Presentation by Jos Wetzels, Carlo Meijer and Wouter Bokslag at Black Hat 2023.<br>
Midnight Blue, 9 August 2023
  </li></ol>
</span></p>

<p>
  <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
  <ul>
    <li><a href="https://github.com/MidnightBlueLabs/TETRA_burst" target="_blank">Midnight Blue, TETRA burst sources</a><br>
  </li></ul>
</span></p>
<a name="data"></a>

<p>
  <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
  <ol type="a">
    <a name="data_1"></a>
    <li><a href="https://www.ti.com/product/OMAP-L138" target="_blank">OMAP-L138 processor documentation</a><br>
Texas Instruments website.
    </li><li><a href="https://www.ti.com/product/TMS320C6748" target="_blank">TMS320 DSP documentation</a><br>
Texas Instruments website.
  </li></ol>
</span></p>
<a name="ref"></a>

<p>
  <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
  <ol>
    <a name="ref_1"></a>
    <li><a href="https://www.midnightblue.nl/tetraburst" target="_blank">TETRA:BURST</a><br>
Midnight Blue, 24 July 2023.
    </li><li><a href="https://bit.ly/43UXoYd" target="_blank">Huib Modderkolk, <i>Overheid weet al dertig jaar van 'achterdeur' in beveiliging radiocommunicatie</i></a><br>
De Volkskrant, 29 July 2023.
    </li><li><a href="https://ceesjansen.nl/category/nieuws" target="_blank">Cees Jansen, TEA co-developer at Philips Crypto BV</a><br>
Personal correspondence.
Crypto Museum, 2 August 2023.
    </li><li><a href="https://ref2014impact.azurewebsites.net/casestudies2/refservice.svc/GetCaseStudyPDF/30193" target="_blank">Royal Holloway, University of London, <i>Impact case study (REF3b)</i></a><br>
<i><a href="https://ref2014impact.azurewebsites.net/casestudies2/refservice.svc/GetCaseStudyPDF/30193" target="_blank">Design of a block cipher used in TETRA secure radio.</a></i><br>
REF2014. Undated but probably 2014.
    </li><li><a href="https://en.wikipedia.org/wiki/Kerckhoffs's_principle" target="_blank">Wikipedia, <i>Kerckhoffs's principle</i></a><br>
Retrieved 5 August 2023.
    </li><li><a href="https://bit.ly/447xMaw" target="_blank">ETSI and TCCA Statement to<br>TETRA Security Algorithms Research Findings Publication on 24 July 2023</a><br>
<span aria-label="European Telecommunications Standards Institute" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/org/etsi/index.htm">ETSI</a></span>/TCCA. Sophia Antipolis, 24 July 2023.
    </li><li><a href="https://zetter.substack.com/p/interview-with-the-etsi-standards" target="_blank">Kim Zetter, <i>Interview with the ETSI Standards Organisation That Created TETRA "Backdoor"</i></a><br>
Interview between Kim Zetter and Brian Murgatroyd, Chairman  ETSI TC TETRA.<br>
Zero Day website, 25 July 2023.
    </li><li><a href="https://bit.ly/447xMaw" target="_blank">ETSI and TCCA Statement to<br>TETRA Security Algorithms Research Findings Publication on 24 July 2023</a><br>
<span aria-label="European Telecommunications Standards Institute" data-balloon-pos="up"><a href="https://www.cryptomuseum.com/org/etsi/index.htm">ETSI</a></span>/TCCA. Sophia Antipolis, 24 July 2023.
  </li></ol>
</span></p>

<p>
  <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
  <ul>
    <li><a href="https://www.cryptomuseum.com/crypto/algo/taa">TAA algorithm</a><br>
    </li><li><a href="https://www.cryptomuseum.com/crypto/algo/tea">TEA algorithms</a><br>
    </li><li><a href="https://www.cryptomuseum.com/radio/tetra/index.htm">TETRA radio network</a><br>
    </li><li><a href="https://www.cryptomuseum.com/manuf/midnightblue">About Midnight Blue</a><br>
  </li></ul>
</span></p>

<p>
  <span size="-1" face="Lucida Grande,Arial,Verdana,sans-serif" color="#555555">
  <ul>
    <li><a href="https://www.rtl-sdr.com/tetra-kit-a-new-open-source-tetra-decoder" target="_blank">TETRA Kit, open source TETRA decoder for RTL-SDR</a><br>
  </li></ul>
</span></p>
</td></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Make Apps for Linux (270 pts)]]></title>
            <link>https://makealinux.app</link>
            <guid>38583399</guid>
            <pubDate>Sat, 09 Dec 2023 16:50:49 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://makealinux.app">https://makealinux.app</a>, See on <a href="https://news.ycombinator.com/item?id=38583399">Hacker News</a></p>
<div id="readability-page-1" class="page">
<!-- preloader start -->

<!-- preloader end -->

<header>
  <p>
    <nav>
      <a href="https://makealinux.app/"> Make a Linux App </a>
    </nav>
  </p>
</header>


<div>
			<p><img src="https://makealinux.app/images/vscodium-akira.png" alt="">
			</p>
			<div>
					<h2>Make Apps for Linux</h2>
					<p>Desktop and mobile Linux users have a healthy appetite for new software. Linux app stores and repositories lack applications compared to their proprietary counterparts.</p>
<p>Technical enthusiasts are encouraged to direct their passion and creativity towards creating fresh apps for Linux users.</p>
<p>Too often they fall into the trap of creating more Linux distributions. We don’t need more Linux distributions. Stop making Linux distributions, make applications instead.</p>

					
			</div>
	</div>
<div id="feature">
      <div>
        <p>
          <h2>Why create more applications</h2>
        </p>
      </div>
      <div>
        
        <div>
          <h4>Scratch an Itch</h4>
          <p>Ever had an idea for an application you personally need? You may find others have a similar desire for your application idea. Scratch that itch.</p>
        </div>
        
        <div>
          <h4>Broaden the ecosystem</h4>
          <p>New applications can inspire new developers on Linux. Building applications in the open allows developers even newer than yourself to learn and get started. Help build the next Linux app generation.</p>
        </div>
        
        <div>
          <h4>Be creative</h4>
          <p>Developing applications is a naturally creative endeavour. The sense of fulfilment gained when completing a project can be very rewarding. Exercise that half of your brain.</p>
        </div>
        
      </div>
      <p><img src="https://makealinux.app/images/gnome-software.png" alt="">
      </p>
      <div>
          
        <div>
          <h4>Collaborate</h4>
          <p>Building applications fosters communities. Linux communities often want to help developers succeed. Make something people want, and build a group of fans and contributors around it.</p>
        </div>
        
        <div>
          <h4>Learn new skills</h4>
          <p>Developing applications is a sought-after skill. There are many free training resources to help you learn to develop software. Level up your résumé!</p>
        </div>
        
        <div>
          <h4>Earn a wage</h4>
          <p>Build popular paid applications and services. It’s a myth that Linux users don’t support developers financially. Use this as an opportunity to create a new source of income for yourself.</p>
        </div>
        
      </div>
    </div>

<div>
      <p><img src="https://makealinux.app/images/distro-timeline.png" alt="">
      </p>
      <div>
          <h2>Target all the Linux distributions</h2>
          <p>Unlike other platforms, Linux is a very diverse target. There are hundreds of Linux distributions, some more popular than others. Once published though, applications can generally work everywhere.</p>
<p>There are well documented software packaging and distribution systems which enable developers to get their applications into the hands of users.</p>
<p>Each developer framework and Linux distribution will have their own recommended route to users. When you’re ready to share your creation, the development documentation will signpost their suggested packaging guides.</p>

        </div>
    </div>



<div>
    <div>
        <p>
          <h2>Where to start</h2>
        </p>
      </div>
    
    <div>
      <p><img src="https://makealinux.app/images/gnome-builder.png" alt="">
      </p>
      <div>
          <h4>GNOME</h4>
          <p>The GNOME project builds the popular GNOME Shell desktop, and enables development based around Gjs and Gtk. Popular programming languages may be used with Gtk, including Python, C, C++, Rust, and even Javascript.</p>
          
          
          <p><a href="https://developer.gnome.org/">GNOME Developer Center</a>
          
          
        </p></div>
    </div>
    
    <div>
      <div>
          <h4>KDE Frameworks</h4>
          <p>KDE produces the widely-used Plasma desktop and the tools and frameworks to create applications. The KDE Frameworks have enabled the development of many diverse desktop applications. KDE Frameworks primarily leverage the Qt toolkit and C++ programming language.</p>
          
          
          <p><a href="https://develop.kde.org/docs">KDE Frameworks Getting Started</a>
          
          
        </p></div>
      <p><img src="https://makealinux.app/images/kde-kdevelop.png" alt="">
      </p>
    </div>
    
    
    <div>
      <p><img src="https://makealinux.app/images/elementary-code.png" alt="">
      </p>
      <div>
          <h4>elementary OS</h4>
          <p>elementary OS is a fast, open, and privacy-respecting replacement for Windows and macOS. The developers have built a desktop and ecosystem in which developers build applications. Their developer guide recommends Vala and Gtk for application development.</p>
          
          
          <p><a href="https://developer.elementary.io/">elementary OS Developer Guide</a>
          
          
        </p></div>
    </div>
    
    <div>
      <div>
          <h4>Electron</h4>
          <p>Electron enables developers to build cross-platform desktop apps with JavaScript, HTML, and CSS. Electron developers can leverage the vast library of node modules to build their own applications on web technologies.</p>
          
          
          <p><a href="https://www.electronjs.org/docs">Electron Documentation</a>
          
          
        </p></div>
      <p><img src="https://makealinux.app/images/electron-atom.png" alt="">
      </p>
    </div>
    
    
    <div>
      <p><img src="https://makealinux.app/images/ubuntu-touch.png" alt="">
      </p>
      <div>
          <h4>Ubuntu Touch</h4>
          <p>Ubuntu Touch is an open source operating system designed to run on a variety of devices from phones to tablets and PCs. Native Ubuntu Touch applications are made using QML or HTML with their behavior defined in JavaScript, C++, Python, Rust or Go.</p>
          
          
          <p><a href="https://docs.ubports.com/en/latest/appdev/index.html">Ubuntu Touch Documentation</a>
          
          
        </p></div>
    </div>
    
  </div>


<div id="testimonial">
      <div>
        <p>
          <h2>Developer opinion</h2>
        </p>
      </div>
      
      <div>
          <p>We need to ensure a thriving app ecosystem to bring Linux to the masses. Our dream of an open desktop, accessible to all can only be achieved by enabling everyone to develop for Linux.</p>
          
        </div>
      
      <div>
          <p>To make Linux the operating system we all want, we need great apps. Join us, you will find the tools to create everything you ever imagined!</p>
          <div>
            <p><img src="https://makealinux.app/images/avatars/aleix_pol.jpg" alt="Aleix Pol"></p><h4>Aleix Pol</h4>
            <p><span>President of the KDE e.V. and hacker</span>
          </p></div>
        </div>
      
      <div>
          <p>There’s a unique opportunity with desktop Linux to not only build great apps, but to help shape platform APIs and influence the overall direction of the desktop you’re publishing on.</p>
          <div>
            <p><img src="https://makealinux.app/images/avatars/daniel_fore.jpg" alt="Daniel Foré"></p><h4>Daniel Foré</h4>
            <p><span>Founder, elementary</span>
          </p></div>
        </div>
      
      <div>
          <p>Working on Linux apps is a completely different experience from developing for a closed ecosystem. Though we’re technically competitors, in the end, we’re all collaborating on the same bigger vision.</p>
          <div>
            <p><img src="https://makealinux.app/images/avatars/jan_sprinz.jpg" alt="Jan Sprinz"></p><h4>Jan Sprinz</h4>
            <p><span>Member of the Board of the UBports Foundation</span>
          </p></div>
        </div>
      
    </div>


<div>
    <div>
        <p>
          <h2>Sharing Your Creation</h2>
        </p>
      </div>
    
    <div>
      <p><img src="https://makealinux.app/images/packaging/appcenter.png" alt="">
      </p>
      <div>
          <h4>AppCenter</h4>
          <p>Publish and monetize your app on AppCenter, the open, pay-what-you-want app store and build service for indie developers. Publish without disrupting your workflow—the AppCenter Dashboard integrates with GitHub for releases and issue tracking.</p>
          
          
          <p><a href="https://developer.elementary.io/">AppCenter Dashboard</a>
          
          
        </p></div>
    </div>
    
    <div>
      <div>
          <h4>AppImage</h4>
          <p>Distribute your desktop Linux application in the AppImage format and win users running all common Linux distributions. Package once and run everywhere. Reach users on all major desktop distributions.</p>
          
          
          <p><a href="https://docs.appimage.org/packaging-guide/index.html">AppImage Packaging Guide</a>
          
          
        </p></div>
      <p><img src="https://makealinux.app/images/packaging/appimage.png" alt="">
      </p>
    </div>
    
    
    <div>
      <p><img src="https://makealinux.app/images/packaging/flatpak.png" alt="">
      </p>
      <div>
          <h4>Flatpak</h4>
          <p>Flatpak is a framework for distributing desktop applications on Linux. It has been created by developers who have a long history of working on the Linux desktop, and is run as an independent open source project.</p>
          
          
          <p><a href="https://docs.flatpak.org/en/latest/">Flatpak Documentation</a>
          
          
        </p></div>
    </div>
    
    <div>
      <div>
          <h4>Open Build Service</h4>
          <p>The openSUSE Build Service is the public instance of the Open Build Service (OBS) used for development of the openSUSE distribution and to offer packages from same source for Fedora, Debian, Ubuntu, SUSE Linux Enterprise and other distributions.</p>
          
          
          <p><a href="https://en.opensuse.org/Portal:Packaging">openSUSE Build Service Help</a>
          
          
        </p></div>
      <p><img src="https://makealinux.app/images/packaging/obs.png" alt="">
      </p>
    </div>
    
    
    <div>
      <p><img src="https://makealinux.app/images/packaging/snapcraft.png" alt="">
      </p>
      <div>
          <h4>Snapcraft</h4>
          <p>Snapcraft is a powerful and easy to use command line tool for building snaps. Snaps are app packages for desktop, cloud and IoT that are easy to install, secure, cross-platform and dependency-free.</p>
          
          
          <p><a href="https://snapcraft.io/docs/snapcraft-overview">Snapcraft Documentation</a>
          
          
        </p></div>
    </div>
    
  </div>































</div>]]></description>
        </item>
        <item>
            <title><![CDATA[NeurIPS 2023 Posters Cluster Visualization (101 pts)]]></title>
            <link>https://neurips2023.vizhub.ai/</link>
            <guid>38582870</guid>
            <pubDate>Sat, 09 Dec 2023 15:52:49 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://neurips2023.vizhub.ai/">https://neurips2023.vizhub.ai/</a>, See on <a href="https://news.ycombinator.com/item?id=38582870">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><div><p data-svelte-h="svelte-18a8c3">Tips</p> <p>Alt-Click for openreview <br> Shift+Click for Neurips Poster</p>      <p data-svelte-h="svelte-pum1nt">Filter by Substring</p>                 <p data-svelte-h="svelte-14y9avb">Options</p> <p><label> reduce
                    overlap (costly)</label> </p></div> <p>      <svg viewBox="0 0 820 820" width="NaN"><text x="20" y="30">Loading &amp; calculating layout ...</text><g></g><g transform="translate(10,10)"></g></svg> </p> <div><p data-svelte-h="svelte-24ndwr">Cluster Summary</p>  <div><p>Select a range of papers by drawing a cluster rectangle (hold and drag
        mouse) on top of the projection landscape.</p></div></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Apple to move key iPad engineering resources to Vietnam (121 pts)]]></title>
            <link>https://asia.nikkei.com/Spotlight/Supply-Chain/Apple-to-move-key-iPad-engineering-resources-to-Vietnam</link>
            <guid>38582000</guid>
            <pubDate>Sat, 09 Dec 2023 14:05:57 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://asia.nikkei.com/Spotlight/Supply-Chain/Apple-to-move-key-iPad-engineering-resources-to-Vietnam">https://asia.nikkei.com/Spotlight/Supply-Chain/Apple-to-move-key-iPad-engineering-resources-to-Vietnam</a>, See on <a href="https://news.ycombinator.com/item?id=38582000">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p><img full="https://www.ft.com/__origami/service/image/v2/images/raw/https%3A%2F%2Fcms-image-bucket-production-ap-northeast-1-a7d2.s3.ap-northeast-1.amazonaws.com%2Fimages%2F4%2F3%2F4%2F2%2F46952434-1-eng-GB%2Fvietnam+ipad.jpg?source=nar-cms" src="https://www.ft.com/__origami/service/image/v2/images/raw/https%3A%2F%2Fcms-image-bucket-production-ap-northeast-1-a7d2.s3.ap-northeast-1.amazonaws.com%2Fimages%2F4%2F3%2F4%2F2%2F46952434-1-eng-GB%2Fvietnam+ipad.jpg?width=700&amp;fit=cover&amp;gravity=faces&amp;dpr=2&amp;quality=medium&amp;source=nar-cms" onerror="this.src = '/bundles/app/images/placeholder.jpg?ez'; this.alt = '(placeholder image)'" alt="" loading="lazy"></p><p><span data-trackable="caption">    Vietnam is emerging as an increasingly important production hub for Apple as the iPhone maker seeks to reduce its dependence on China. (Nikkei&nbsp;montage/Source photos by AP)&nbsp;


</span></p><p><span data-trackable="timestamp" data-test="timestamp" data-time-utc="December 08, 2023 04:39 UTC" data-updated="false" data-show-full="true" datetime="December 08, 2023 04:39 UTC"><time>December 8, 2023 13:39 JST</time><span> | </span><a href="https://asia.nikkei.com/Location/Southeast-Asia/Vietnam">Vietnam</a></span></p><div id="article-body-preview" data-article-body="" data-trackable="bodytext" data-paragraph-count="13" data-word-count="607" data-text-length="3812"><p>TAIPEI -- Apple is for the first time allocating product development resources for the iPad to Vietnam, sources briefed on the matter said, a major step toward strengthening the Southeast Asian country's position as an alternative manufacturing hub outside of China.</p><p>Apple is working with China's BYD, a key iPad assembler, to move new product introduction (NPI) resources to Vietnam. NPI involves a tech company like Apple collaborating with suppliers on the design and development of new products to make sure the blueprints are doable. This is the first time Apple has shifted NPI resources to Vietnam for such a core device.</p></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Scrambling eggs for Spotify with Knuth's Fibonacci hashing (139 pts)]]></title>
            <link>https://pncnmnp.github.io/blogs/fibonacci-hashing.html</link>
            <guid>38581959</guid>
            <pubDate>Sat, 09 Dec 2023 14:00:17 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://pncnmnp.github.io/blogs/fibonacci-hashing.html">https://pncnmnp.github.io/blogs/fibonacci-hashing.html</a>, See on <a href="https://news.ycombinator.com/item?id=38581959">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
      <p><a id="rss-feed" href="https://pncnmnp.github.io/rss.xml">If you like this blog post, do subscribe to my RSS feed</a></p>
      <h2>First Published: 08/12/23</h2>
      <blockquote>
        <i>
          He was very late in returning -- so late, that I knew that the concert
          could not have detained him all the time. Dinner was on the table
          before he appeared.
          <br>
          "It was magnificent," he said, as he took his seat. "Do you remember
          what Darwin says about music? He claims that the power of producing
          and appreciating it existed among the human race long before the power
          of speech was arrived at. Perhaps that is why we are so subtly
          influenced by it. There are vague memories in our souls of those misty
          centuries when the world was in its childhood."
          <br>
          "That's rather a broad idea," I remarked.
          <br>
          "One's ideas must be as broad as Nature if they are to interpret
          Nature," he answered.
        </i>
        <br>
        - A Study in Scarlet, Arthur Conan Doyle
      </blockquote>
      <p>
        A few weeks back, while browsing Hacker News’
        <a href="https://news.ycombinator.com/pool">second chance pool</a>, I
        came across a
        <a href="https://engineering.atspotify.com/2014/02/how-to-shuffle-songs/">2014 blog post from Spotify</a>
        discussing how to shuffle songs.
      </p>
      <p>
        Now, at first glance, you might think, “How challenging could it be to
        shuffle songs in a playlist? Can we not randomly shuffle them out?”
      </p>
      <p>
        You see, that’s precisely the approach Spotify initially took. They used
        the
        <a href="https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle">Fisher–Yates shuffle</a>
        to do this. Say you have five songs from three artists, as illustrated
        in the figure below:
      </p>
      <figure>
        <img src="https://pncnmnp.github.io/blogs/pics/fibonacci-hashing/songs-artists.png" alt="Songs and Artists">
        <figcaption>
          <i>Figure 1: 5 songs from 3 artists in a playlist</i>
        </figcaption>
      </figure>
      <p>
        The modern implementation of Fisher–Yates shuffle is an \(O(n)\) time
        algorithm and can be described as follows:
      </p>
      <ol>
        <li>
          To shuffle an array \(a\) of \(n\) elements (indices \(0..n-1\)):
        </li>
        <li>
          For \(i\) from \(n - 1\) down to \(1\) do
        </li>
        <ol>
          <li>
            \(j \leftarrow \) random integer such that \( 0 \le j \le i \)
          </li>
          <li>exchange \(a[j]\) and \(a[i]\)</li>
        </ol>
      </ol>
      <p>Using the figure above, we can visualize the algorithm:</p>
      <figure>
        <img src="https://pncnmnp.github.io/blogs/pics/fibonacci-hashing/fisher-yates.png" alt="Fisher Yates Shuffle">
        <figcaption>
          <i>Figure 2: Fisher Yates Shuffle</i>
        </figcaption>
      </figure>
      <p>
        Now, this was all fine for the Sweden-based team till they faced a
        fascinating issue. In their words:
      </p>
      <blockquote>
        ..... We noticed some users complaining about our shuffling algorithm
        playing a few songs from the same artist right after each other. The
        users were asking “Why isn’t your shuffling random?”. We responded “Hey!
        Our shuffling is random!”
      </blockquote>
      <blockquote>
        At first we didn’t understand what the users were trying to tell us by
        saying that the shuffling is not random, but then we read the comments
        more carefully and noticed that some people don’t want the same artist
        playing two or three times within a short time period.
      </blockquote>
      <blockquote>
        ..... If you just heard a song from a particular artist, that doesn’t
        mean that the next song will be more likely from a different artist in a
        perfectly random order. However, the old saying says that the user is
        always right, so we decided to look into ways of changing our shuffling
        algorithm so that the users are happier. We learned that they don’t like
        perfect randomness.
      </blockquote>
      <p>
        Fascinating indeed! To create an illusion of randomness -
        <i>randomness with artists evenly spread throughout the playlist</i> -
        the engineers drew inspiration from a
        <a href="https://keyj.emphy.de/balanced-shuffle/">2007 blog-post by Martin Fiedler</a>.
      </p>
      <p>
        Fiedler’s algorithm is divided into two parts:
        <b>the merge algorithm</b> and <b>the fill algorithm</b>. Initially, the
        songs to be shuffled are <i>categorized</i> based on their artist. For
        instance, assume that we now have three artists and ten songs in our
        playlist. Then,
      </p>
      <figure>
        <img src="https://pncnmnp.github.io/blogs/pics/fibonacci-hashing/categorization-step.png" alt="Categorization step">
        <figcaption>
          <i>Figure 3: Categorization step in Fiedler’s algorithm using 10 songs
            from 3 artists.</i>
        </figcaption>
      </figure>
      <p>
        The <i>fill algorithm</i> aims to distribute dummy tracks evenly among
        shorter categories to match the length of the longest one. This step is
        followed by the <i>merge algorithm</i>, which combines tracks from
        different categories to form a single playlist in a column-wise fashion.
      </p>
      <p>
        For example, with the categories mentioned earlier, the fill algorithm
        would:
      </p>
      <figure>
        <img src="https://pncnmnp.github.io/blogs/pics/fibonacci-hashing/fill-algorithm.png" alt="Fill algorithm">
        <figcaption>
          <i>Figure 4: Fill algorithm in Fiedler’s algorithm</i>
        </figcaption>
      </figure>
      <p>
        Subsequently, the merge algorithm would create a final playlist as
        follows:
      </p>
      <figure>
        <img src="https://pncnmnp.github.io/blogs/pics/fibonacci-hashing/merge-algorithm.png" alt="Merge algorithm">
        <figcaption>
          <i>Figure 5: Merge algorithm in Fiedler’s algorithm</i>
        </figcaption>
      </figure>
      <p>
        While this method distributes the songs quite efficiently, as mentioned
        by Spotify, it is complicated and potentially slow in certain scenarios,
        particularly due to the numerous randomization operations.
      </p>
      <p>
        Spotify suggested drawing inspiration from existing dithering
        algorithms, like
        <a href="https://en.wikipedia.org/wiki/Floyd%E2%80%93Steinberg_dithering">Floyd–Steinberg dithering</a>, to spread each artist as evenly as possible. Although they don't
        provide specific details of their algorithm, the basic concept they
        describe is as follows:
      </p>
      <blockquote>
        Let’s say we have 4 songs from The White Stripes as in the picture
        above. This means that they should appear roughly every 25% of the
        length of the playlist. We spread out the 4 songs along a line, but
        their distance will vary randomly from about 20% to 30% to make the
        final order look more random.
      </blockquote>
      <blockquote>
        We introduce a random offset in the beginning; otherwise all first songs
        would end up at position 0.
      </blockquote>
      <blockquote>
        We also shuffle the songs by the same artist among each other. Here we
        can use Fisher-Yates shuffle or apply the same algorithm recursively,
        for example we could prevent songs from the same album playing too close
        to each other.
      </blockquote>
      <p>
        After reading Spotify’s blog post, an idea struck me! You see, a year
        ago, I wrote a small library to generate aesthetically pleasing colors
        in the
        <a href="https://en.wikipedia.org/wiki/HSL_and_HSV">HSV (hue, saturation, value) space</a>.
      </p>
      <figure>
        <img src="https://pncnmnp.github.io/blogs/pics/fibonacci-hashing/hsv-space.png" alt="HSV color space">
        <figcaption>
          <i>Figure 6: HSV color space. This image is
            <a href="https://commons.wikimedia.org/wiki/File:HSV_color_solid_cylinder_saturation_gray.png">
              licensed under CC BY-SA 3.0</a>.</i>
        </figcaption>
      </figure>
      <p>
        But how do we define "aesthetically pleasing colors"? And what's the
        connection to shuffling algorithms?
      </p>
      <p>
        Let's consider an example where we need to pick five colors to label a
        chart. Choosing these colors randomly from the RGB space can be quite
        problematic. Some colors, especially on darker backgrounds, can make
        text hard to read. Moreover, it is possible to end up with colors that
        are too similar to each other.
      </p>
      <p>
        Addressing the issue of dark or light backgrounds turns out to be
        relatively straightforward – <i>avoid the RGB space</i> and instead,
        <i>use the HSV space with fixed saturation and value</i>. However, even
        then, there's a high chance of selecting colors that are too close on
        the color spectrum. In other words,
        <b>the selection can be too random</b>, and we might prefer colors that
        are distributed as evenly as possible across the entire color spectrum.
      </p>
      <p>
        To achieve this, my library employed <b>Fibonacci hashing</b>. The
        algorithm I implemented
        <a href="https://martin.ankerl.com/2009/12/09/how-to-create-random-colors-programmatically/">was proposed by Martin Leitner‑Ankerl</a>. It utilizes the reciprocal of <b>golden ratio</b>: \[ \Phi^{-1} =
        \dfrac{\sqrt{5} - 1}{2} \approx 0.618033988749895 \]
      </p>

      <p>
        As Martin explains in his blog, one of the intriguing properties of the
        golden ratio is that
        <i>
          each subsequent hash value divides the interval into which it falls in
          accordance with the golden ratio!
        </i>
      </p>
      <p>
        To better understand Fibonacci hashing, let us explore it through the
        perspective of Donald Knuth’s
        <a href="https://en.wikipedia.org/wiki/The_Art_of_Computer_Programming">The Art of Computer Programming, Volume 3</a>.
      </p>
      <p>
        The foundation of Fibonacci hashing is based upon the
        <a href="https://en.wikipedia.org/wiki/Three-gap_theorem">
          three-distance theorem</a>. This theorem states: Suppose \(\theta\) is an irrational number. When
        the points \(\theta\), \((2*theta) % 1\), ….., \((n*theta) % 1\) are
        placed on a line segment ranging from \(0\) to \(1\) (inclusive), the
        \(n + 1\) line segments formed will have at most three distinct lengths.
        Furthermore, the next point \(((n+1)*theta) % 1\)
        <b>will fall into one of the largest existing segments</b>.
      </p>
      <p>
        Consider the largest existing segment, spanning from \(a\) to \(c\)
        (inclusive), being divided into two parts: \(a\) to \(b\) and \(b\) to
        \(c\). If one of these parts is more than twice the length of the other,
        we call this division a <i>bad break</i>. Using the three-distance
        theorem, it can be shown that the two numbers \(\Phi^{-1}\) (<b>the reciprocal of golden ratio!</b>) and \(1 - \Phi^{-1}\) lead to the most uniformly distributed
        sequences among all numbers \(\theta\) between \(0\) and \(1\). In other
        words, a break break will occur unless \(\Phi^{-1}\) or \(1 -
        \Phi^{-1}\) are used.
      </p>
      <p>
        Using the theory described above, we can now define
        <b>Fibonacci hashing</b>. However, before diving into that, it is
        important to first understand <b>multiplicative hashing</b>.
        Multiplicative hashing involves multiplying a key \(K\) by a constant
        \(\alpha\). The fractional part of this product is then used to
        determine the index in a hash table.
        <i>
          Fibonacci hashing is a specific variant of multiplicative hashing
        </i>
        where the constant \(\alpha\) is set to be the reciprocal of the golden
        ratio \(\Phi^{-1}\).
      </p>
      <p>
        And that’s it! We can start at a random hue value between 0 and 1 (this
        will be our initial key \(K_1\)) and use the Fibonacci hashing from that
        point to evenly select colors on the color spectrum.
      </p>
      <figure>
        <img src="https://pncnmnp.github.io/blogs/pics/fibonacci-hashing/colors-fibonacci-hashing.png" alt="Colors generated using Fibonacci hashing">
        <figcaption>
          <i>Figure 8: Colors generated using Fibonacci hashing.</i>
        </figcaption>
      </figure>
      <p>
        So how can we apply all of this to shuffle songs? Well, the algorithm I
        came up with is as follows:
      </p>
      <ol>
        <li>
          <b>Categorization Function:</b> Let \(S\) be the set of all songs in
          the playlist. Define a categorization function \(C: S \rightarrow A\),
          where \(A\) is the set of artists. This function assigns each song in
          \(S\) to an artist in \(A\).
        </li>
        <li>
          <b>Shuffle Songs per Artist:</b> For each artist \(a \in A\), shuffle
          the subset of \(S\) where \(C(s) = A\) for all \(s\) in the subset.
        </li>
        <li>
          <b>Shuffle Artist List:</b> Let \(A’\) be the list of all artists.
          Apply a random permutation \(\pi\) to \(A’\).
        </li>
        <li>
          <b>Initialize Playlist \(P\)</b>: Let \(P\) be an empty list that will
          store the final shuffled songs.
        </li>
        <li>
          <b>Set Parameters:</b> Initialize \(K=1\) and let \(N = |A|\) (the
          total number of artists).
        </li>
        <li>
          <b>Select Artist Index:</b> Compute the index \(I = \lfloor ((K *
          0.618033988749895) \% 1) * N) \rfloor \).
        </li>
        <li>
          <b>Add Songs to \(P\)</b>: Remove the first song from the list of
          songs corresponding to the artist at \(A’[I]\) and append it to \(P\).
        </li>
        <li><b>Update Parameters:</b> Increment \(K\) by 1.</li>
        <li>
          <b>Update Artist List:</b> If the artist at \(A’[I]\) has no remaining
          songs, decrement \(N\) by 1 and remove the artist from \(A’\).
        </li>
        <li>
          <b>Loop Through:</b> Repeat steps 6 to 9 until \(A’\) is empty. When
          empty, return \(P\).
        </li>
      </ol>
      <figure>
        <img src="https://pncnmnp.github.io/blogs/pics/fibonacci-hashing/shuffle-with-fibonacci-hashing.png" alt="Algorithm for shuffling songs using Fibonacci hashing">
        <figcaption>
          <i>Figure 9: An illustration of the above algorithm for shuffling
            songs using Fibonacci hashing.</i>
        </figcaption>
      </figure>
      <p>
        If we use a hash table in the categorization function and an array to
        store the list of all artists, then the overall time complexity of the
        algorithm would be \(O(S)\).
      </p>
      <p>
        To compare this algorithm against the naive Fisher-Yates shuffle, I used
        a measure that calculates the ratio of the count of adjacent song pairs
        by the same artist to the total number of songs in the playlist minus
        one. That is,
      </p>
      <pre><code>def measure(shuffled_songs):
    clusters = sum(
        1
        for i in range(len(shuffled_songs) - 1)
        if shuffled_songs[i][‘artist’] == shuffled_songs[i + 1][‘artist’]
    )
    return clusters / (len(shuffled_songs) - 1)    
</code></pre>
      <p>
        When the playlist contains songs only from one artist, this measure will
        be 1. Conversely, when no adjacent song pairs are by the same artist,
        the measure will return 0.
      </p>
      <p>
        Using fuzzy testing on a maximum of ten artists, with each having up to
        ten songs, I generated a million playlists and calculated the statistics
        for the above algorithm (A) and the fisher-yates shuffle (B). The
        results were as follows:
      </p>
      <ul>
        <li>
          A - Mean: 0.11831, Median: 0.05263, Mode: 0.0, p25: 0.02040, p75:
          0.14814, p90: 0.33333, p95: 0.5
        </li>
        <li>
          B - Mean: 0.23296, Median: 0.18181, Mode: 0.33333, p25: 0.12121, p75:
          0.29629, p90: 0.46666, p95: 0.58333
        </li>
      </ul>
      <p>
        At first glance, the p95 result might seem surprising. However, this
        occurs in cases where the fuzzy testing populates a playlist
        predominantly with songs from a single artist, rendering optimal
        shuffling infeasible. When a minimum of four songs per artist were used,
        the results were:
      </p>
      <ul>
        <li>
          A - Mean: 0.05948, Median: 0.03703, Mode: 0.0, p25: 0.01694, p75:
          0.07843, p90: 0.14285, p95: 0.2
        </li>
        <li>
          B - Mean: 0.17223, Median: 0.15555, Mode: 0.2, p25: 0.10909, p75:
          0.21875, p90: 0.29268, p95: 0.34482
        </li>
      </ul>
      <p>
        The results look decent. I’d expect Fiedler’s algorithm to have a
        near-zero mean, however, the simplicity and speed of the above algorithm
        does look appealing to me.
      </p>
      <p>
        And that’s it folks! I hope you enjoyed this little journey. Happy
        exploring!
      </p>
      <h2>Addendum</h2>
      <p>
        Recently, I was exploring the “History” section in Knuth’s TAOCP volume
        3 to trace back the history of hashing. In it, Knuth states that:
      </p>
      <blockquote>
        The idea of hashing appears to have been originated by H. P. Luhn, who
        wrote an internal IBM memorandum in January 1953 that suggested the use
        of chaining; in fact, his suggestion was one of the first applications
        of linked linear lists.
      </blockquote>
      <p>
        Unfortunately, I couldn't locate the memo. It seems they never made it
        public. However, I stumbled upon a nice paper from 1953 in which he
        discusses
        <a href="http://jonathanstray.com/papers/Luhn-SearchEngine-1953.pdf">enhancing search engines by refining sets</a>.
      </p>
      <p>
        Knuth also references Arnold I. Dumey, who appears to be the first to
        describe hash tables in open literature.
        <a href="https://archive.org/details/sim_computers-and-people_1956-12_5_12/page/n5/mode/2up">
          I was able to retrieve his paper </a>.
      </p>
      <p>
        Dumey initiates with an \(O(log\; n)\) solution using the "twenty
        questions" game, subsequently explaining how we'd be better off if we
        could do computation before we access the memory. I found his
        introduction to the hash function rather intriguing:
      </p>
      <blockquote>
        A certain manufacturing company had a parts and assemblies list of many
        thousands of items. A mixed digital and alphabetic system of numbering
        items was used, of six positions in all. Eight complex machines or
        assemblies were sold to the public. These had item numbers taken from
        the general system. In setting up a punch card control system on these
        eight items it was first proposed to record the entire six digit number
        for each item. However, examination of the eight assembly numbers
        disclosed that no two were alike on the fourth digit. It was therefore
        sufficient, for sorting purposes, merely to record the fourth digit,
        thereby releasing five badly needed information spaces for other
        purposes.
      </blockquote>
      <blockquote>
        This rather extreme case indicates that an examination of the item
        description may disclose a built-in redunancy which can be used to cut
        the field down to practical size.
      </blockquote>
      <p>He further discusses handling duplicates and introduces chaining:</p>
      <blockquote>
        Adjust the addressing scheme, according to a method which will be
        described later, to reduce the number of direct addresses, and use the
        excess locations to store overflows. Put the overflow address at the
        tail end of stored item information. What the best reduction is varies
        from case to case. Note that the expectation of the number of accesses
        to be made goes up when these methods are used. At each access we check
        by using the complete item description, usually.
      </blockquote>
      <p>
        And discusses how a somewhat efficient hash address can be constructed
        by dividing a prime number and using the remainder:
      </p>
      <blockquote>
        Consider the item description as though it were a number in the scale of
        37 or whatever. Or write it as a binary number by using the appropriate
        punched tape coding. Divide this number by a number slightly less than
        the number of addressable locations (the writer prefers the nearest
        prime). Throw away the quotient. Use the remainder as the address,
        adjusting to base 10, as the case may be.
      </blockquote>
      
      <p><a id="back-link" href="https://pncnmnp.github.io/blog.html">←</a>
    </p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Murder is a pixel art ECS game engine in C# (293 pts)]]></title>
            <link>https://github.com/isadorasophia/murder</link>
            <guid>38581852</guid>
            <pubDate>Sat, 09 Dec 2023 13:42:52 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/isadorasophia/murder">https://github.com/isadorasophia/murder</a>, See on <a href="https://news.ycombinator.com/item?id=38581852">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><p dir="auto">
<a target="_blank" rel="noopener noreferrer" href="https://github.com/isadorasophia/murder/blob/main/media/logo-8x-1.png"><img width="450" src="https://github.com/isadorasophia/murder/raw/main/media/logo-8x-1.png" alt="Murder logo"></a>
</p>
<h2 tabindex="-1" dir="auto">Welcome to Murder Engine!</h2>
<h4 tabindex="-1" dir="auto">This is the source for Murder Engine, a pixel art ECS game engine built on top of MonoGame.</h4>
<p dir="auto">
<a href="https://github.com/isadorasophia/murder/actions/workflows/ci.yml"><img src="https://github.com/isadorasophia/murder/actions/workflows/ci.yml/badge.svg" alt="Publish release"></a>
<a href="https://github.com/isadorasophia/murder/blob/main/LICENSE"><img src="https://camo.githubusercontent.com/0cbd3ab5884c08be7090105a2993810414350eb7fd9e488efe4fa3b07f07e101/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f697361646f7261736f706869612f6d75726465722e737667" alt="License" data-canonical-src="https://img.shields.io/github/license/isadorasophia/murder.svg"></a>
<a href="https://discord.gg/zF6axz9nQy" rel="nofollow"><img src="https://camo.githubusercontent.com/e44f4fd3262b1a8b52ec7533d780fe1cf99806ff683ea735f9d8489730b20e90/68747470733a2f2f646362616467652e76657263656c2e6170702f6170692f7365727665722f7a463661787a396e51793f7374796c653d666c6174" data-canonical-src="https://dcbadge.vercel.app/api/server/zF6axz9nQy?style=flat"></a>
</p>
<blockquote>
<p dir="auto">🚧👷 <strong>Warning</strong> Proceed at your own risk. This is an in-development engine, which is another way of saying that it will change <em>quite a lot</em>. We do our best to keep release branches stable, but expect a lot of breaking changes and things that are not perfect (yet!).</p>
</blockquote>
<h3 tabindex="-1" dir="auto">How to build it?</h3>
<p dir="auto">If you're good at just digging examples and figuring things out, I recommend starting out with our <a href="https://github.com/isadorasophia/neocityexpress">game jam project</a> or the <a href="https://github.com/isadorasophia/hellomurder">Hello World project</a>. These projects show what to expect from the Murder architecture and how to create a world, entities and components, which ECS is all about.</p>
<blockquote>
<p dir="auto">...I realize this is quite redundant because the Hello World references this repository as a documentation source, but hang with me.</p>
</blockquote>
<p dir="auto">This is what the architecture looks like:</p>
<div data-snippet-clipboard-copy-content="└── root 
    └── resources
    └── src
        ├── game
        │   ├── bin (final game)
        │   ├── packed
        │   └── resources
        └── game.editor
            ├── bin (game editor)
            └── resources"><pre><code>└── root 
    └── resources
    └── src
        ├── game
        │   ├── bin (final game)
        │   ├── packed
        │   └── resources
        └── game.editor
            ├── bin (game editor)
            └── resources
</code></pre></div>
<p dir="auto">You may notice that <strong>there is no external editor.exe</strong>, only your own project. This is so you can have full control of your project! Very similar of what you expect developing a <a href="https://www.monogame.net/" rel="nofollow">MonoGame</a> project, for example.</p>
<p dir="auto">The idea of a separate project for the editor is that editor code never touches your beautiful and efficient game code, and you can do whatever you want on the editor side.</p>
<p dir="auto">There is no nuget package for Murder yet, so the recommended way is to keep a git submodule to reference in your .csproj, <a href="https://github.com/isadorasophia/hellomurder/blob/main/src/HelloMurder/HelloMurder.csproj">see example</a>.</p>
<p dir="auto">For more information on how the ECS applies to the engine, I recommend checking out the documentation for <a href="https://github.com/isadorasophia/bang">Bang</a>, the framework that Murder uses.</p>
<h3 tabindex="-1" dir="auto">Requirements</h3>
<p dir="auto">We support developing (which means, running the editor) on <strong>Linux, MacOS, Windows</strong> and even <strong>SteamDeck</strong>. All you really need is .NET 8 SDK installed. The game obviously also ships to all these architectures.</p>
<p dir="auto">Console support is still on progress.</p>
<h3 tabindex="-1" dir="auto">Contributing</h3>
<p dir="auto">This is still super early, but feel free to contact me or <a href="http://saint11.org/" rel="nofollow">saint11</a> if you have any suggestions. I am very interested in people trying it out and any feedback you may have!</p>
<h3 tabindex="-1" dir="auto">✨ Editor examples</h3>
<p dir="auto">
<a target="_blank" rel="noopener noreferrer" href="https://github.com/isadorasophia/murder/blob/main/media/screenshot0.png"><img src="https://github.com/isadorasophia/murder/raw/main/media/screenshot0.png" alt="Murder logo"></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/isadorasophia/murder/blob/main/media/screenshot1.png"><img src="https://github.com/isadorasophia/murder/raw/main/media/screenshot1.png" alt="Murder logo"></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/isadorasophia/murder/blob/main/media/screenshot2.png"><img src="https://github.com/isadorasophia/murder/raw/main/media/screenshot2.png" alt="Murder logo"></a>
</p>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Single-Dose Psilocybin for Major Depressive Disorder: Randomized Clinical Trial (101 pts)]]></title>
            <link>https://jamanetwork.com/journals/jama/fullarticle/2808950</link>
            <guid>38581735</guid>
            <pubDate>Sat, 09 Dec 2023 13:22:24 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://jamanetwork.com/journals/jama/fullarticle/2808950">https://jamanetwork.com/journals/jama/fullarticle/2808950</a>, See on <a href="https://news.ycombinator.com/item?id=38581735">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-userhasaccess="True">
    

            <p><a id="249226446"></a>
<span>Key Points</span></p><p><strong>Question</strong>&nbsp;
    <span>What are the efficacy and safety of psilocybin in patients with major depressive disorder?</span></p><p><strong>Findings</strong>&nbsp;
    <span>In a randomized, placebo-controlled, 6-week trial in 104 adults, a 25-mg dose of psilocybin administered with psychological support was associated with a rapid and sustained antidepressant effect, measured as change in depressive symptom scores, compared with active placebo. No serious treatment-emergent adverse events occurred.</span></p><p><strong>Meaning</strong>&nbsp;
    <span>A 25-mg dose of psilocybin was well tolerated and may hold promise as a treatment for major depressive disorder when combined with psychological support.</span></p>            
<p><strong>Importance</strong>&nbsp;
    <span>Psilocybin shows promise as a treatment for major depressive disorder (MDD).</span></p><p><strong>Objective</strong>&nbsp;
    <span>To evaluate the magnitude, timing, and durability of antidepressant effects and safety of a single dose of psilocybin in patients with MDD.</span></p><p><strong>Design, Setting, and Participants</strong>&nbsp;
    <span>In this phase 2 trial conducted between December 2019 and June 2022 at 11 research sites in the US, participants were randomized in a 1:1 ratio to receive a single dose of psilocybin vs niacin placebo administered with psychological support. Participants were adults aged 21 to 65 years with a <i>Diagnostic and Statistical Manual of Mental Disorders, Fifth Edition</i> diagnosis of MDD of at least 60 days’ duration and moderate or greater symptom severity. Exclusion criteria included history of psychosis or mania, active substance use disorder, and active suicidal ideation with intent. Participants taking psychotropic agents who otherwise met inclusion/exclusion criteria were eligible following medication taper. Primary and secondary outcomes and adverse events (AEs) were assessed at baseline (conducted within 7 days before dosing) and at 2, 8, 15, 29, and 43 days after dosing.</span></p><p><strong>Interventions</strong>&nbsp;
    <span>Interventions were a 25-mg dose of synthetic psilocybin or a 100-mg dose of niacin in identical-appearing capsules, each administered with psychological support.</span></p><p><strong>Main Outcomes and Measures</strong>&nbsp;
    <span>The primary outcome was change in central rater–assessed Montgomery-Asberg Depression Rating Scale (MADRS) score (range, 0-60; higher scores indicate more severe depression) from baseline to day 43. The key secondary outcome measure was change in MADRS score from baseline to day 8. Other secondary outcomes were change in Sheehan Disability Scale score from baseline to day 43 and MADRS-defined sustained response and remission. Participants, study site personnel, study sponsor, outcome assessors (raters), and statisticians were blinded to treatment assignment.</span></p><p><strong>Results</strong>&nbsp;
    <span>A total of 104 participants (mean [SD] age, 41.1 [11.3] years; 52 [50%] women) were randomized (51 to the psilocybin group and 53 to the niacin group). Psilocybin treatment was associated with significantly reduced MADRS scores compared with niacin from baseline to day 43 (mean difference,−12.3 [95% CI, −17.5 to −7.2]; <i>P</i> &lt;.001) and from baseline to day 8 (mean difference, −12.0 [95% CI, −16.6 to −7.4]; <i>P</i> &lt; .001). Psilocybin treatment was also associated with significantly reduced Sheehan Disability Scale scores compared with niacin (mean difference, −2.31 [95% CI, 3.50-1.11]; <i>P</i> &lt; .001) from baseline to day 43. More participants receiving psilocybin had sustained response (but not remission) than those receiving niacin. There were no serious treatment-emergent AEs; however, psilocybin treatment was associated with a higher rate of overall AEs and a higher rate of severe AEs.</span></p><p><strong>Conclusions and Relevance</strong>&nbsp;
    <span>Psilocybin treatment was associated with a clinically significant sustained reduction in depressive symptoms and functional disability, without serious adverse events. These findings add to increasing evidence that psilocybin—when administered with psychological support—may hold promise as a novel intervention for MDD.</span></p><p><strong>Trial Registration</strong>&nbsp;
    <span>ClinicalTrials.gov Identifier: <a href="https://classic.clinicaltrials.gov/ct2/show/NCT03866174">NCT03866174</a></span></p>            
            
            <p>Interest in the therapeutic potential of the psychedelic psilocybin has skyrocketed in recent years, spurred in part by increasing awareness of the limitations of currently approved pharmacological treatments for major depressive disorder (MDD)<sup><a href="#joi230092r1" data-tab-toggle=".tab-nav-references">1</a></sup><sup>-<a href="#joi230092r1" data-tab-toggle=".tab-nav-references">5</a></sup> and in part by recent studies suggesting that psilocybin engenders a rapid antidepressant response that far outlasts the presence of the drug in the body.<sup><a href="#joi230092r6" data-tab-toggle=".tab-nav-references">6</a></sup><sup>-<a href="#joi230092r6" data-tab-toggle=".tab-nav-references">15</a></sup><a name="q1"></a><span> However, recent critiques highlight notable limitations in many of these studies,<sup><a href="#joi230092r16" data-tab-toggle=".tab-nav-references">16</a></sup><sup>-<a href="#joi230092r16" data-tab-toggle=".tab-nav-references">19</a></sup> including small sample sizes, assessments by raters likely to be functionally unblinded, an open or waitlist comparator design, and an inadequate assessment of adverse events (AEs).</span> Larger recent studies have addressed these issues to various degrees, but report primary end points of short duration,<sup><a href="#joi230092r14" data-tab-toggle=".tab-nav-references">14</a></sup><sup>,<a href="#joi230092r15" data-tab-toggle=".tab-nav-references">15</a></sup> leaving open the question of the long-term clinical utility of psilocybin for an often chronic condition such as MDD.</p>            <p>The current study seeks to address these issues using a randomized, multiblinded design that compared a single dose of psilocybin with an active placebo comparator (niacin), with outcome assessments conducted by blinded centralized raters to examine the timing of onset of action, durability of benefit, and safety profile of psilocybin over a 6-week period.</p>            
            <div>

                            <p>
                                Study Design Overview and Oversight
                            </p>
                        </div>
            <p>This randomized, 2-group, phase 2 clinical trial was designed to evaluate the efficacy of psilocybin vs niacin (active placebo) administered with psychological support in patients with MDD. The trial was conducted at 11 US sites from December 2019 to June 2022 (list of sites provided in eTable 1 in <a data-tab-toggle=".tab-nav-supplemental" href="#note-JOI230092-1">Supplement 3</a>). The study was conducted in accordance with the International Conference on Harmonization Good Clinical Practice Guideline. Participants provided written informed consent before engaging in study-specific procedures. The protocol was approved by a central institutional review board (Western Institutional Review Board Copernicus Group) and/or site institutional review boards. The trial protocol is available in <a data-tab-toggle=".tab-nav-supplemental" href="#note-JOI230092-1">Supplement 1</a> and the statistical analysis plan is available in <a data-tab-toggle=".tab-nav-supplemental" href="#note-JOI230092-1">Supplement 2</a>.</p>            
            <p>Recruitment occurred through a study-specific website, clinical programs at participating institutions, advertisements, and national clinician-focused and patient-advocate listservs. Eligible participants were medically healthy adults aged 21 to 65 years who met <i>Diagnostic and Statistical Manual of Mental Disorders, Fifth Edition</i> (<i>DSM-5</i>) criteria for MDD with a current depressive episode of at least 60 days assessed by the <i>Structured Clinical Interview for DSM-5 Disorders Clinical Version</i>.<sup><a href="#joi230092r20" data-tab-toggle=".tab-nav-references">20</a></sup> Participants were required to have a central rater–assessed Montgomery-Asberg Depression Rating Scale (MADRS) total score greater than or equal to 28 at screening, with less than or equal to 30% improvement in MADRS score during a 7- to 35-day period to allow for a psychiatric medication taper if indicated (including not receiving antidepressants for ≥2 weeks or 5 half-lives, whichever was longer), to ensure randomized participants met criteria for moderate to severe MDD at the baseline assessment. Additional exclusion criteria included personal or first-degree family history of psychosis or mania, moderate/severe alcohol or drug use disorder, being unable/unwilling to discontinue prohibited psychotropic medications, use of a psychedelic drug in the past 5 years or more than 10 lifetime uses, active suicidal ideation with intent or plan, or suicidal behavior in the past 12 months. There were no exclusions for number of prior depressive episodes, length of current episode, maximum symptom severity, or number of previous pharmacological or behavioral treatments, with the exception of history of deep brain or vagus nerve stimulation, which were exclusionary as a proxy for severe treatment resistance. See the study protocol in <a data-tab-toggle=".tab-nav-supplemental" href="#note-JOI230092-1">Supplement 1</a> for a full list of inclusion and exclusion criteria. Participants were queried regarding demographic information by site personnel; race and ethnicity were collected in accordance with the US Food and Drug Administration guidance document <i>Collection of Race and Ethnicity Data in Clinical Trials</i>.<sup><a href="#joi230092r21" data-tab-toggle=".tab-nav-references">21</a></sup></p>            
            <p>Following the 7- to 35-day screening period to allow for a medication taper if needed, participants who continued to meet eligibility criteria completed baseline assessments followed by 6 to 8 hours of preparation. On the day of dosing (ie, receipt of the intervention), eligible participants were randomized in a 1:1 ratio using permuted blocks with random block sizes of 2, 4, and 6, with randomization stratified by site, to receive a single 25-mg oral dose of psilocybin or 100-mg dose of niacin. Randomization was administered centrally by the study’s clinical research organization via the Advantage eClinical data system. Statistical programs generated for randomization by unblinded statistical staff at the clinical research organization included a master medication list program that generated a random blinded bottle number code and associated treatment for each bottle and a treatment assignment program that assigned participants to a treatment. Bottles were labeled by the drug distributor with a blinded bottle number prior to distribution to sites. On the day of dosing, after participants were confirmed to be eligible, the data system identified the participant’s treatment assignment based on the treatment table. The data system then identified a bottle shown to be available on site containing the appropriate treatment. Only the blinded bottle number was then displayed to site staff for treatment administration.</p>            <p><a name="q2"></a><span>Niacin was used as an active placebo that produces an acute physiological response (flushing) thought to aid in blinding.<sup><a href="#joi230092r8" data-tab-toggle=".tab-nav-references">8</a></sup><sup>,<a href="#joi230092r22" data-tab-toggle=".tab-nav-references">22</a></sup></span> Study drug administration occurred on the same day as randomization (day 1), no later than 7 days following the baseline assessment. Postdosing assessments were conducted on days 2, 8, 15, 29, and 43. Participants, study sponsor, and study site personnel were blinded to treatment group until unblinding following data lock.</p>            <p>Study drugs were administered within a “set and setting” protocol<sup><a href="#joi230092r23" data-tab-toggle=".tab-nav-references">23</a></sup> that was identical for participants randomized to receive either psilocybin or niacin placebo and that included (1) 6 to 8 hours of preparatory sessions with 2 facilitators between the baseline assessment and the day of dosing, (2) a 7- to 10-hour dosing session conducted in a comfortable room under the supervision of the same  facilitators, and (3) 4 hours of postdose integration sessions during which participants were invited to discuss their dosing experience with the facilitators. All set and setting sessions (eg, preparatory, dosing, integration) were protocolized and communicated via instructions in a manual for clinical facilitators. During the dosing session, participants were encouraged to wear eyeshades and listen to a curated playlist on headphones. Lead facilitators were doctoral-level psychologists or physicians with MDD treatment experience and co-facilitators held a minimum of a bachelor’s degree in a mental health–related field. All facilitators completed study-specific training prior to engaging with participants.</p>            
            <p>The primary study outcome was between-group difference in mean change of central rater–assessed MADRS score from baseline to day 43. MADRS is a 10-item scale with a scoring range of 0 to 60, with higher scores indicating more severe depression.<sup><a href="#joi230092r24" data-tab-toggle=".tab-nav-references">24</a></sup> A minimal clinically important difference (MCID) in change in MADRS score was not prespecified, although depression trial literature supports a placebo-adjusted change in score as low as 2 and as high as 9 and an absolute change from pretreatment of 6 as clinically meaningful and a change of 12 as clinically substantial.<sup><a href="#joi230092r25" data-tab-toggle=".tab-nav-references">25</a></sup><sup>,<a href="#joi230092r26" data-tab-toggle=".tab-nav-references">26</a></sup> To reduce the risk of functional unblinding of raters, all MADRS assessments, including those at screening and baseline, were conducted via telephone<sup><a href="#joi230092r27" data-tab-toggle=".tab-nav-references">27</a></sup><sup>,<a href="#joi230092r28" data-tab-toggle=".tab-nav-references">28</a></sup> by trained, remote central raters who maintained interrater reliability and were blinded to participant treatment assignment, study visit, and the specifics of the protocol and study design.</p>            <p>The key secondary outcome was change in total MADRS score from baseline to day 8. Additional secondary outcomes included change in Sheehan Disability Scale (SDS) score from baseline to day 43 and proportion of participants with a sustained depressive symptom response, defined a priori as at least a 50% reduction from baseline MADRS score at days 8, 15, 29, and 43, and sustained depressive symptom remission, defined a priori as MADRS score less than or equal to 10 at days 8, 15, 29, and 43. The SDS comprises self-rated items that measure the extent to which psychiatric symptoms have impaired functioning in patients’ work/school, social, and family/home responsibilities. Scores for each section range from 0 to 10,<sup><a href="#joi230092r29" data-tab-toggle=".tab-nav-references">29</a></sup> and the total score was calculated as the mean score of all 3 sections. No MCID is defined for active vs control interventions. If the work/school section was not applicable, the mean score was calculated as the mean of social life and family/home responsibilities. Administration of the SDS at baseline and postdosing assessments was overseen by trained and blinded site raters.</p>            <p>Exploratory outcomes included scores on the Clinical Global Impressions Scale, Hamilton Anxiety Rating Scale, Quality of Life Enjoyment and Satisfaction Questionnaire, Symptoms of Major Depressive Disorder Scale, and the Oxford Depression Questionnaire (to assess emotional blunting). These exploratory assessments were completed by self-report overseen by blinded and trained site raters at baseline and all postdosing assessments.</p>            
            <p>AEs were collected from enrollment through the end of study and were graded for severity, seriousness, and relationship to study product by site principal investigators. Treatment-emergent AEs (TEAEs) were considered any AE that occurred after drug administration. Among TEAEs, an AE was classified as “related” if there was a reasonable possibility that the study drug caused the event as judged by site principal investigators. Solicited adverse events included (1) active suicidal ideation assessed with the Columbia Suicide Severity Rating Scale (C-SSRS) administered by site personnel or MADRS item 10 and verified by clinical assessment, (2) elevated blood pressure or heart rate requiring medication, (3) drug overdose with suicidal intent, (4) headache, (5) nausea, and (6) visual perceptual effects. Serious AEs were classified as those resulting in any of a list of negative health outcomes (eg, death, inpatient hospitalization, significant or persistent incapacity, congenital birth defect/abnormality) following the standard definition.<sup><a href="#joi230092r30" data-tab-toggle=".tab-nav-references">30</a></sup></p>            
            <p>The US Food and Drug Administration initially recommended day 8 as the primary end point, so the study was powered on the assumption of a mean change in MADRS score from baseline to day 8 of 18 points and from baseline to day 43 of 17 points in the psilocybin group. In the niacin group, a mean change in MADRS score of 10 points was assumed for all postdosing assessments. An SD of 10 points was assumed for both groups. With the expectation of a 5% dropout rate by day 8 and an additional 7.5% dropout rate by day 43 and 2-sided α of .05, a sample size of 100 participants resulted in 92% power for the primary day 43 end point and 98% power for the key secondary day 8 end point. The US Food and Drug Administration subsequently recommended changing the primary end point to day 43; in response, the sample size was increased from 80 to 100 to account for additional dropout expected with the longer-term primary outcome follow-up.</p>            <p>The primary efficacy analysis was a de facto estimand conducted on the intent-to-treat (ITT) population that included all randomized participants analyzed according to randomized treatment group. Analyses of other efficacy outcomes used a similar approach. The per-protocol (PP) population included a subset of the ITT population that received study drug, completed day 8 and day 43 MADRS assessments, and had no major protocol deviations affecting the primary or secondary outcomes. The safety population included all randomized participants who received a study drug. Safety data were analyzed according to the intervention received.</p>            <p>Analysis of continuous outcomes used a mixed-effects model for repeated measures with an unstructured covariance matrix, adjusted for the baseline score of the relevant outcome assessment, site, sex, and treatment-resistant depression (TRD) status as fixed effects with no imputation of missing data. Time was included as a categorical variable, and a treatment × time effect was included to evaluate between-group differences in mean scores at each point. Sensitivity analyses using multiple imputation methods were run for the primary and key secondary outcomes. Sustained depressive symptom response and remission were assessed using logistic regression models adjusted for sex and TRD, with site excluded due to low participant counts at some sites resulting in model convergence issues. In addition to odds ratios (ORs) with 95% CIs, absolute differences with 95% CIs were also calculated.</p>            <p>A sequential significance testing procedure was used to control the overall α level at .05 for primary and secondary end points. Two-sided tests were used in the following prespecified order with testing halted the first time the null hypothesis is not rejected (ie, first <i>P</i> value ≥.05): change in MADRS score from baseline to day 43, change in MADRS score from baseline to day 8, change in SDS score from baseline to day 43, sustained depressive symptom response, and sustained depressive symptom remission. No procedure for α-level control was applied for exploratory end points, therefore <i>P</i> values reported for these outcomes in eTables 4-8 in <a data-tab-toggle=".tab-nav-supplemental" href="#note-JOI230092-1">Supplement 3</a> should be considered nominal (ie, not adjusted for multiple comparisons).</p>            <p>Incidence of AEs was summarized using counts, percentages, and Clopper-Pearson 95% CIs for the following protocol-defined study periods: enrollment through day 43, dosing (day 1) through day 9, and day 10 through day 43. Relative incidence for TEAEs was calculated by dividing the percentage of participants experiencing an event in the psilocybin treatment group by the percentage in the niacin group and were presented with Wald 95% CIs. Percent difference in AEs between groups with 95% CIs were also calculated.</p>            <p>All statistical analyses were performed using SAS, version 9.4 (SAS Institute). See the statistical analysis plan in <a data-tab-toggle=".tab-nav-supplemental" href="#note-JOI230092-1">Supplement 2</a> for additional details.</p>            
            
            <p>Among 1529 potential participants who completed prescreening, 347 signed informed consent, 240 were excluded at screening, 3 were excluded prior to randomization, and 104 were randomized, received the study drug, and comprised the ITT population (51 in the psilocybin group and 53 in the niacin group) (<a href="#joi230092f1" data-tab-toggle=".tab-nav-figure-table">Figure 1</a>). Median (IQR) time between enrollment and randomization on the morning of dosing was comparable for the 2 groups (28 [21-36] days for psilocybin and 28 [20-35] days for niacin). Enrollment by study site is detailed in eTable 1 in <a data-tab-toggle=".tab-nav-supplemental" href="#note-JOI230092-1">Supplement 3</a>.</p>            <p>One participant randomized to receive psilocybin received the incorrect treatment, resulting in 50 participants receiving psilocybin and 54 receiving niacin. Baseline characteristics of the ITT population are provided in <a href="#joi230092t1" data-tab-toggle=".tab-nav-figure-table">Table 1</a>. Mean (SD) participant age was 40.4 (10.9) years in the psilocybin group and 41.8 (11.7) years in the niacin group; half were men and the majority (89%) were White. Ten participants (19.6%) in the psilocybin group and 13 (24.5%) in the niacin group reported previous lifetime use of a psychedelic. Median (IQR) length of the current depressive episode was 53 (25-135) weeks for psilocybin vs 81 (26-145) weeks for niacin; 4 participants (8%) in the psilocybin group vs 10 (19%) in the niacin group were experiencing a first episode (the remainder were experiencing a recurrent disorder). Seven participants in the psilocybin group vs 6 in the niacin group (12.5% of the ITT sample) met criteria for TRD. The median (IQR) number of prior pharmacologic treatments in the current episode was 1 (0-2) for both groups. Fifteen participants (29%) in the psilocybin group and 8 (15%) in the niacin group completed a medication taper prior to dosing. By 6 weeks, 1 participant in the psilocybin group and 9 in the niacin group had withdrawn or been lost to follow-up; 3 participants in the psilocybin group and 3 in the niacin group started antidepressant medication prior to study completion at day 43, of whom 2 participants in the psilocybin group and 1 in the niacin group also commenced psychotherapy prior to study completion. No participants withdrew due to an AE.</p>            
            <p><a name="q3"></a><span>The psilocybin-treated group showed greater change vs niacin in central rater–assessed MADRS score from baseline to day 43 (mean difference, −12.3 [95% CI, −17.5 to −7.2]; <i>P</i> &lt;.001) (<a href="#joi230092t2" data-tab-toggle=".tab-nav-figure-table">Table 2</a> and <a href="#joi230092f2" data-tab-toggle=".tab-nav-figure-table">Figure 2</a>) and from baseline to day 8 (key secondary end point) (mean difference, −12.0 [95% CI, −16.6 to −7.4]; <i>P</i> &lt; .001).</span> Similar results were observed for day 15 and day 29 (<a href="#joi230092f2" data-tab-toggle=".tab-nav-figure-table">Figure 2</a>) and in multiple imputation sensitivity analyses accounting for missing data (1 psilocybin and 9 niacin participant measures missing and imputed at day 43 and 0 psilocybin and 3 niacin participant measures missing and imputed at day 8; see eTable 2 and eAppendix in <a data-tab-toggle=".tab-nav-supplemental" href="#note-JOI230092-1">Supplement 3</a> for full details). More participants receiving psilocybin than niacin had sustained depressive symptom response (20/48 [42%] vs 5/44 [11%]; adjusted absolute difference, 30.3 [95% CI, 13.5-47.1]; <i>P</i> = .002; OR, 5.6 [95% CI, 1.9-16.7]; <i>P</i> = .002) (<a href="#joi230092t2" data-tab-toggle=".tab-nav-figure-table">Table 2</a>). Sustained depressive symptom remission rate appeared greater with psilocybin, but the difference was not statistically significant (12/48 [25%] for psilocybin vs 4/44 [9.1%] for niacin; adjusted absolute difference, 15.9 [95% CI, 1.0-30.8]; <i>P</i> = .05; OR, 3.4 [95% CI, 1.0-11.5]) (<a href="#joi230092t2" data-tab-toggle=".tab-nav-figure-table">Table 2</a>). Rates of response and remission at each postdosing assessment are shown in eTable 3 in <a data-tab-toggle=".tab-nav-supplemental" href="#note-JOI230092-1">Supplement 3</a>. Mean change difference in SDS-assessed functional disability score from baseline to day 43 was greater in the psilocybin vs niacin group (−2.31 [95% CI, 3.50-1.11]; <i>P</i> &lt; .001) (<a href="#joi230092t2" data-tab-toggle=".tab-nav-figure-table">Table 2</a>). Psilocybin treatment was associated with improvements in various exploratory end points, including reductions in global disease severity, self-reported depressive and anxiety symptoms, and improvement in quality of life, while having no effect on emotional blunting (eTables 4-8 in <a data-tab-toggle=".tab-nav-supplemental" href="#note-JOI230092-1">Supplement 3</a>).</p>            <p>Results in the PP population of 81 participants (45 in the psilocybin group and 36 in the niacin group, excluding 5 [10%] in the psilocybin and 8 [15%] in the niacin group, due to major protocol deviations likely to impact primary or secondary outcomes; see eAppendix and eFigure 1 in <a data-tab-toggle=".tab-nav-supplemental" href="#note-JOI230092-1">Supplement 3</a> for details) were similar in direction, magnitude, and significance to results in the ITT population, with the exception that the difference in sustained remission between psilocybin- and niacin-treated participants became statistically significant (12/44 [27%] with psilocybin vs 3/36 [8%] with niacin; adjusted absolute difference, 18.9% [95% CI, 3.0%-34.9%]; OR, 4.0 [95% CI, 1.0-15.7]; <i>P</i> = .04) (eTable 9 in <a data-tab-toggle=".tab-nav-supplemental" href="#note-JOI230092-1">Supplement 3</a>).</p>            
            <p>In the safety population (<a href="#joi230092f1" data-tab-toggle=".tab-nav-figure-table">Figure 1</a>), 44 of 50 participants (88%) receiving psilocybin and 33 of 54 (61%) receiving niacin reported at least 1 AE through day 43. Three serious AEs occurred between enrollment and randomization (nephrolithiasis; incisional hernia, obstructive; and appendicitis; <a href="#joi230092t3" data-tab-toggle=".tab-nav-figure-table">Table 3</a>). From randomization on the day of dosing (day 1) through day 9, a total of 41 of 50 participants (82%) in the psilocybin group experienced at least 1 drug-related TEAE vs 24 of 54 (44%) in the niacin group (difference, 38% [95% CI, 20.6%-41.3%]; relative incidence [RI], 1.8 [95% CI, 1.3-1.8]). Severe related AEs through day 9 were reported by 4 of 50 participants (8%) receiving psilocybin (migraine in 1 participant, headache in 1 participant, illusion in 1 participant [all solicited], and panic attack and paranoia in 1 participant) vs 0 in the niacin group. The rates of mild and moderate drug-related TEAEs in the same period were higher for psilocybin vs niacin (mild: difference, 35% [95% CI, 17.9%-52.9%]; RI, 1.8 [95% CI, 1.1-1.8]); moderate: difference, 18% [95% CI, 5.8%-30.8%]; RI, 2.3 [95% CI, 1.0-5.7]). From day 10 through day 43, related TEAEs were reported by 2 of 50 participants (4%) in the psilocybin group vs 1 of 53 (2%) receiving niacin (difference, 2% [95% CI, −4.4% to 8.7%]; RI, 2.1 [95% CI, 0.2-22.7]) (<a href="#joi230092t3" data-tab-toggle=".tab-nav-figure-table">Table 3</a>).</p>            <p>Solicited AEs were reported by 38 of 50 participants (76%) receiving psilocybin vs 16 of 54 (30%) receiving niacin (difference, 46% [95% CI, 29.4%-63.4%]; RI, 2.6 [95% CI, 1.7-4.0]). The majority of solicited events were mild (73 of 91 total events [80%] in the psilocybin group and 22 of 23 total events [96%] in the niacin group). Severe solicited events were reported by 3 participants receiving psilocybin (2 headaches and 1 visual perceptual effects) and 1 headache was reported in a participant receiving niacin. The most common solicited AE was headache in 33 of 50 participants (66%) receiving psilocybin and 13 of 54 participants (24%) receiving niacin (difference, 42% [95% CI, 27.3%-57.6%]; RI, 2.7 [95% CI, 1.6-4.6]), followed by nausea in 24 of 50 participants (48%) receiving psilocybin  and 3 of 54 participants (6%) receiving niacin (difference, 42% [95% CI, 24.5%-59.3%]; RI, 8.6 [95% CI, 2.8-26.9]). Visual perceptual effects (assessed following resolution of acute drug effects) were reported by 22/50 (44%) psilocybin participants on the day of dosing and by 3/50 (6%) after the dosing day, all resolved by study conclusion (See <a href="#joi230092t3" data-tab-toggle=".tab-nav-figure-table">Table 3</a> for details). Based on C-SSRS or MADRS Item 10 scores and confirmed by clinical assessment, no suicidal or self-injurious behavior occurred during the trial and all instances of suicidal ideation were considered passive. One participant receiving psilocybin and 5 in the niacin group had an increase in C-SSRS suicidal ideation score from baseline to end of trial (eTables 10 and 11 in <a data-tab-toggle=".tab-nav-supplemental" href="#note-JOI230092-1">Supplement</a>). No clinically significant changes in vital signs or clinical laboratory tests were observed.</p>            
            <p>In this phase 2 study, treatment with a 25-mg dose of psilocybin administered with psychological support was associated with a statistically and clinically significant reduction in depressive symptoms compared with a niacin placebo, assessed as change in total MADRS score and as rates of sustained response. The 15.9% difference in sustained remission rates between the groups was not significantly different. Improvements in depression were apparent within 8 days of psilocybin dosing, consistent with a rapid onset of action, and were maintained across the 6-week follow-up period, without attenuation of the effect, and with higher point prevalence rates of MADRS-defined response and remission than has been observed in recent psilocybin studies of TRD.<sup><a href="#joi230092r10" data-tab-toggle=".tab-nav-references">10</a></sup><sup>,<a href="#joi230092r14" data-tab-toggle=".tab-nav-references">14</a></sup> Although an MCID was not specified a priori for this study, the 12.3-point difference in change in score between the psilocybin and niacin groups is larger than the upper limit active placebo difference in the literature of 9 points and the 19.1-point reduction in MADRS score from baseline to day 43 in the psilocybin group is larger than the 12-point difference shown to reflect substantial clinical improvement in patients with TRD.<sup><a href="#joi230092r25" data-tab-toggle=".tab-nav-references">25</a></sup> In contrast to prior psilocybin trials for depression,<sup><a href="#joi230092r8" data-tab-toggle=".tab-nav-references">8</a></sup><sup>,<a href="#joi230092r14" data-tab-toggle=".tab-nav-references">14</a></sup><sup>,<a href="#joi230092r15" data-tab-toggle=".tab-nav-references">15</a></sup> there was not a significant reduction in depressive symptoms or a psilocybin/placebo difference in depressive symptom status at the day 2 assessment (ie, 1 day after dosing) (<a href="#joi230092f2" data-tab-toggle=".tab-nav-figure-table">Figure 2</a> and <a href="#joi230092t2" data-tab-toggle=".tab-nav-figure-table">Table 2</a>). This may reflect the fact that to maintain central rater blinding, the 7-day recall period used for all other MADRS assessments was maintained at day 2, with the result that the majority of recall period for the day 2 assessment covered the predosing period during which depressive symptoms remained elevated, based on results from the Symptoms of Major Depressive Disorder Scale (eTable 7 in <a data-tab-toggle=".tab-nav-supplemental" href="#note-JOI230092-1">Supplement 3</a>).</p>            <p>Psilocybin also improved psychosocial functioning compared with niacin as shown by mean difference in SDS score change. Similar results were observed in the per-protocol population and in sensitivity analyses. Psilocybin treatment was associated with improvement in various exploratory end points, including reduced overall disease severity, anxiety and self-reported depressive symptoms, and improved quality of life (eTables 4-7 in <a data-tab-toggle=".tab-nav-supplemental" href="#note-JOI230092-1">Supplement 3</a>). Psilocybin treatment did not evince the type of emotional blunting reported with standard antidepressant medicines (eTable 8 in <a data-tab-toggle=".tab-nav-supplemental" href="#note-JOI230092-1">Supplement 3</a>).<sup><a href="#joi230092r31" data-tab-toggle=".tab-nav-references">31</a></sup></p>            <p>Psilocybin was generally well-tolerated, with most AEs being of mild or moderate severity and generally limited to the acute dosing period. The 8% rate of severe adverse events in participants receiving psilocybin was similar to the 10% rate reported in the study by Goodwin et al in participants with TRD treated with a single 25-mg dose of psilocybin.<sup><a href="#joi230092r14" data-tab-toggle=".tab-nav-references">14</a></sup> However, in contradistinction to the study by Goodwin et al, no clinically confirmed active suicidal ideation or suicidal behavior occurred in either randomized group. No serious TEAEs were reported in the current study; however, psilocybin treatment was associated with a higher rate of overall AEs and a higher rate of severe AEs compared with niacin, with these severe AEs being known effects of psilocybin.<sup><a href="#joi230092r17" data-tab-toggle=".tab-nav-references">17</a></sup> Moreover, psychedelics may produce AEs not captured by standard rating scales or may induce unrecognized new psychiatric conditions even as they improve target syndromes.<sup><a href="#joi230092r32" data-tab-toggle=".tab-nav-references">32</a></sup></p>            
            <p>Several limitations in this study warrant consideration. First, the success of allocation blinding was not assessed, and it is likely that the acute psychoactive effects of psilocybin produced some degree of functional unblinding that may have contributed to the observed effect in psilocybin-treated participants and the increased dropout rate in niacin-treated participants.<sup><a href="#joi230092r33" data-tab-toggle=".tab-nav-references">33</a></sup> To help address this issue, the current study used off-site centralized raters to reduce the potential impact of unblinding on the assessment of outcomes. Nonetheless, recent data demonstrating high rates of functional unblinding in a randomized, placebo-controlled trial of psilocybin for alcohol use disorder highlight a possible role for measuring blinding effectiveness in future studies of agents with acute psychoactive effects.<sup><a href="#joi230092r33" data-tab-toggle=".tab-nav-references">33</a></sup></p>            <p>Second, the use of niacin as active placebo may have increased believability of the comparator condition and enhanced the placebo response, given that placebo response rates in the current study were equivalent to those seen in response to a low-dose psilocybin comparator in participants with TRD and larger than the effect of an inactive placebo in a recent study in participants with MDD.<sup><a href="#joi230092r14" data-tab-toggle=".tab-nav-references">14</a></sup><sup>,<a href="#joi230092r15" data-tab-toggle=".tab-nav-references">15</a></sup> Nonetheless, placebo response rates in the current study are smaller than are typically observed with daily placebo pills,<sup><a href="#joi230092r34" data-tab-toggle=".tab-nav-references">34</a></sup> which may have inflated the placebo-adjusted effect size compared with studies of standard antidepressants in patients with MDD. As a complement to traditional placebo-controlled trials, a better understanding of the contribution that placebo effects make to the antidepressant efficacy of psilocybin might be gained via use of novel comparators (eg, ketamine) that induce acute effects to aid with blinding while failing to generally produce the type of sustained antidepressant response observed with psilocybin.</p>            <p>Third, relevant to the important question of durability of effect with time-limited treatments, the 6-week (day 43) postdosing primary end point in the current study is longer than primary end points in recent randomized, double-blind, placebo-controlled trials of single-dose psilocybin for TRD (3 weeks) or MDD (2 weeks),<sup><a href="#joi230092r14" data-tab-toggle=".tab-nav-references">14</a></sup><sup>,<a href="#joi230092r15" data-tab-toggle=".tab-nav-references">15</a></sup> although one of these studies included a longer, 12-week, overall follow-up period during which the antidepressant effect of psilocybin waned in the TRD study group.<sup><a href="#joi230092r14" data-tab-toggle=".tab-nav-references">14</a></sup> Whether the sustained antidepressant effect observed in the current study reflects the low rate of treatment resistance (13%) or some other factor is unknown. Similarly, the current study does not allow inferences to be drawn regarding whether the antidepressant effect would have diminished over subsequent weeks or been maintained, although it is intriguing that a small open trial of two doses of psilocybin in MDD—as opposed to TRD—found evidence for maintenance of effect in many participants out to a year post-dosing.<sup><a href="#joi230092r12" data-tab-toggle=".tab-nav-references">12</a></sup> Regardless, it will be essential to conduct rigorous, large-scale, longer-term, follow-up studies to better understand how to best use psilocybin in often chronic conditions such as MDD or TRD.</p>            <p>Fourth, that psilocybin and niacin were administered within an identical, fully protocolized program of psychological support is a strength of the current study. All study facilitators received extensive training; however, fidelity to the psychological support protocol by study facilitators was not assessed, leaving open the possibility that at least some degree of between-participant variability in response may be attributable to unknown differences in psychological support provided by facilitators, rather than direct biological effects of psilocybin per se. This study limitation highlights the importance of better understanding potential benefits and harms that may be engendered by the psychological/psychotherapeutic components of psilocybin assisted therapy.</p>            <p>Fifth, as with the majority of recent clinical trials of psychedelics,<sup><a href="#joi230092r35" data-tab-toggle=".tab-nav-references">35</a></sup> a major limitation of the current study is a lack of participant ethnic and racial diversity. The current study sample was predominantly White, non-Hispanic, and from upper socioeconomic echelons. Whether psilocybin would be more, less, or equivalently effective in a more ethnically, racially, and socioeconomically diverse sample is an urgent question that must be addressed in future studies by actively employing strategies shown to increase recruitment and retention of racial and ethnic minoritized populations and other underrepresented groups in clinical trials of psychedelic agents.<sup><a href="#joi230092r36" data-tab-toggle=".tab-nav-references">36</a></sup></p>            
            <p>In this randomized trial, a single 25-mg dose of psilocybin administered with psychosocial support was associated with clinically and statistically significant reductions in depressive symptoms and improvement in measures of functional disability compared with a 100-mg dose of niacin placebo administered under an identical protocol. No serious TEAEs occurred during the study, but psilocybin treatment was associated with an increase rate of overall, solicited, and severe TEAEs, most of which occurred during or immediately after the dosing period. These findings add to evidence that psilocybin—when administered with psychological support—may hold promise as a novel intervention for MDD.</p>            <div>
                                <p><a href="#top" data-tab-toggle=".tab-nav-full-text">Back to top</a></p><p>
                                Article Information
                            </p>
                        </div>
<p><strong>Accepted for Publication:</strong> July 13, 2023.</p><p><strong>Published Online:</strong> August 31, 2023. doi:10.1001/jama.2023.14530</p><p><strong>Corresponding Author:</strong> Charles L. Raison, MD, Usona Institute, 2800 Woods Hollow Rd, Fitchburg, WI 53711 (<a href="mailto:charles.raison@usonainstitute.org" target="_blank">charles.raison@usonainstitute.org</a>).</p><p><strong>Author Contributions:</strong> Drs Raison and Davis had full access to all of the data in the study and take responsibility for the integrity of the data and the accuracy of the data analysis. Drs Griffiths and Ross contributed equally.</p><p><i>Concept and design:</i> Raison, Kakar, Kelmendi, Tarpley, Utzinger, Linton, Ross.</p><p><i>Acquisition, analysis, or interpretation of data:</i> Raison, Sanacora, Woolley, Heinzerling, Dunlop, R. Brown, Hassman, Trivedi, Robison, Gukasyan, Nayak, Hu, O'Donnell, Sloshower, Penn, Bradley, Kelly, Mletzko, Nicholas, Hutson, Lenoch, Warchol, Gapasin, Davis, Nelson-Douthit, Wilson, C. Brown, Griffiths.</p><p><i>Drafting of the manuscript:</i> Raison, Woolley, Kelmendi, Mletzko, Nicholas, Gapasin, Nelson-Douthit, C. Brown.</p><p><i>Critical review of the manuscript for important intellectual content:</i> Sanacora, Woolley, Heinzerling, Dunlop, R. Brown, Kakar, Hassman, Trivedi, Robison, Gukasyan, Nayak, Hu, O'Donnell, Sloshower, Penn, Bradley, Kelly, Hutson, Tarpley, Utzinger, Lenoch, Warchol, Gapasin, Davis, Wilson, C. Brown, Linton, Ross, Griffiths.</p><p><i>Statistical analysis:</i> Raison, Wilson, C. Brown.</p><p><i>Obtained funding:</i> Woolley, Linton.</p><p><i>Administrative, technical, or material support:</i> Raison, Woolley, R. Brown, Hassman, Trivedi, Robison, Nayak, Hu, O'Donnell, Kelmendi, Bradley, Kelly, Mletzko, Nicholas, Hutson, Tarpley, Utzinger, Lenoch, Warchol, Gapasin, Davis, Nelson-Douthit, Linton, Ross.</p><p><i>Supervision:</i> Raison, Woolley, Heinzerling, R. Brown, Trivedi, Robison, Nayak, Sloshower, Penn, Nicholas, Griffiths.</p><p><i>Other - study therapist, co-PI of study at NYU site:</i> Hu.</p><p><i>Other - participated in training research site staff/facilitators:</i> Utzinger.</p><p><strong>Conflict of Interest Disclosures:</strong> Dr Raison reported receiving personal fees from Usona Institute and grants to Usona Institute from Dr. Bronner's All-One, Fournier Family Foundation, Good Ventures, Steven and Alexandra Cohen Foundation, Tiny Blue Dot Foundation, Turnbull Family Foundation, and William A. Linton during the conduct of the study and personal fees from Novartis, Sage/Biogen, Emory Healthcare, and Vail Health outside the submitted work. Dr Sanacora reported receiving grants from Usona Institute during the conduct of the study and personal fees from Ancora/Embark, Aptinyx, Atai, Axsome Therapeutics, Biogen, Boehringer Ingelheim, Bristol-Myers Squibb, Clexio, Cowen, Denovo Biopharma, ECR1, EMA Wellness, Engrail Therapeutics, Gilgamesh, Intra-Cellular Therapies, Janssen, KOA Health, Levo Therapeutics, Lundbeck, Merck, MiCure, Navitor Pharmaceuticals, Neurocrine, Novartis, Noven Pharmaceuticals, Otsuka, Perception Neuroscience, Praxis Therapeutics, Relmada Therapeutics, Sage Pharmaceuticals, Seelos Pharmaceuticals, Taisho Pharmaceuticals, Valeant, Vistagen Therapeutics, and XW Labs; equity in Freedom Biosciences, Biohaven Pharmaceuticals, and Tetricus; and grants from Janssen and Merck outside the submitted work and having a patent for #8,778,979 issued from Biohaven for glutmatergic drugs and a patent for 047162-7177P1 (00754) pending from Freedom for combination of immunemodulating and glutamatergic treatments. Dr Woolley reported receiving grants from UCSF Research Allocation Program during the conduct of the study and personal fees from Alexander Shulgin Research Institute, Alvarius, Boxer Capital, Filament Health, Gilgamesh Pharmaceuticals, Guidepoint, Silo Pharmaceuticals, and Travistock Company outside the submitted work. Dr Heinzerling reported working for Usona Institute as a site primary investigator during the conduct of the study and receiving personal fees from MindMed outside the submitted work. Dr Dunlop reported receiving grants from Usona Institute during the conduct of the study and grants from Compass Pathways and Boehringer Ingelheim and personal fees from Cerebral Therapeutics, Otsuka, NRx Pharmaceuticals, Myriad Neuroscience, Sage, and the Department of Defense outside the submitted work. Dr R. Brown reported receiving grants from Usona Institute during the conduct of the study. Dr Robison reported receiving grants from Usona Institute during the conduct of the study and grants from MindMed, Janssen, Merck, Neurocrine Biosciences, Alto Neuroscience, Clexio Biosciences, and Otsuka and personal fees from Janssen and MAPS Public Benefit Corporation outside the submitted work. Dr Gukasyan reported receiving grants from Usona Institute during the conduct of the study and grants to support the Center for Psychedelic and Consciousness Research from Steven and Alexandra Cohen Foundation, Tim Ferriss, Matt Mullenweg, Craig Nerenberg, and Blake Mycoskie outside the submitted work. Dr Nayak reported receiving philanthropic support for Hopkins Center for Psychedelic and Consciousness Research from Steven and Alexandra Cohen Foundation, Tim Ferriss, Matt Mullenweg, Blake Mycoskie, and Craig Nerenberg outside the submitted work. Dr Kelmendi reported receiving nonfinancial support from Usona Institute and grants from Yale University during the conduct of the study and grants from NIMH outside the submitted work. Dr Sloshower reported receiving personal fees from Usona Institute outside the submitted work. Dr Penn reported receiving grants from Usona Institute during the conduct of the study and grants from Multidisciplinary Association for Psychedelics Studies, Filament; personal fees from Compass Pathways, Mindmed, and Alexander Shulgin Research Institute; and serving on an advisory board or steering committee or teaching for Tactogen, Osmind, North American Center for Continuing Medical Education, California Institute for Integral Studies, and Berkeley Center for Psychedelics outside the submitted work. Dr Kelly reported having stock in MindMed, Numinus Wellness, and Noetic Fund outside the submitted work. Dr Nicholas reported receiving funding support from Usona Institute during the conduct of the study and personal fees from MindMed and Multidisciplinary Association for Psychedelic Studies Public Benefit Corp outside the submitted work. Dr Tarpley reported receiving grants to Usona Institute from Dr. Bronner's All-One, Fournier Family Foundation, Good Ventures, Steven and Alexandra Cohen, Tiny Blue Dot Foundation, Turnbull Family Foundation, and William A. Linton and personal fees from Usona Institute (salaried employee) during the conduct of the study. Dr Utzinger reported receiving grants from Dr. Bronner’s All-One, Fournier Family Foundation, Good Ventures, Steven and Alexandra Cohen Foundation, Tiny Blue Dot Foundation, Turnbull Family Foundation, William A. Linton and personal fees from Usona Institute as a salaried employee during the conduct of the study and personal fees from Promega Corporation as a salaried employee; and spouse being a board member of or owning shares in Cylerity Corporation, HealthBridge Financial, Concord Health,  and Ambershore Group and being a board member on the Board of Psychedelic Medicines and Therapies, which aims to develop a credentialing process for licensed health care professionals, and a guest faculty member for CIIS and Synthesis, both educational organizations that developed training programs to educate future clinicians/facilitators in psychedelic medicine. Dr Lenoch reported receiving grants to Usona Institute from Dr. Bronner's All-One, Fournier Family Foundation, Good Ventures, Steven and Alexandra Cohen Foundation, Tiny Blue Dot Foundation, Turnbull Family Foundation, and William A. Linton and personal fees from Usona Institute as a salaried employee during the conduct of the study. Dr Warchol reported receiving grants from Dr. Bronner's All-One, Fournier Family Foundation, Good Ventures, Steven and Alexandra Cohen Foundation, Tiny Blue Dot Foundation, Turnbull Family Foundation, and William A. Linton and personal fees from Usona Institute as a salaried employee during the conduct of the study. Dr Gapasin reported receiving grants from Dr. Bronner's All-One, Fournier Family Foundation, Good Ventures, Steven and Alexandra Cohen Foundation, Turnbull Family Foundation, and William A. Linton and personal fees from Usona Institute as a salaried employee during the conduct of the study. Dr Davis reported receiving grants to Usona Institute from Dr. Bronner's All-One, Fournier Family Foundation, Good Ventures, Steven and Alexandra Cohen Foundation, Tiny Blue Dot Foundation, Turnbull Family Foundation, and William A. Linton and personal fees from Usona Institute as a salaried employee during the conduct of the study. Dr Nelson-Douthit reported receiving personal fees from Usona Institute during the conduct of the study. Dr Linton reported receiving grants to Usona Institute from Dr. Bronner's All-One, Fournier Family Foundation, Good Ventures, Steven and Alexandra Cohen Foundation, Tiny Blue Dot Foundation, Turnbull Family Foundation, and William A. Linton during the conduct of the study; receiving travel expenses from Usona Institute outside the submitted work; and being executive director of Usona Institute and CEO and chairman of Promega Corporation (Life Science supplier). Dr Ross reported receiving grants from Usona Institute during the conduct of the study and grants from National Institute on Drug Abuse, National Cancer Institute, Heffter Research Institute, Council on Spiritual Practices, Multidisciplinary Association of Psychedelic Studies, Reset Pharmaceuticals, and MindMed outside the submitted work and being listed as a co-inventor in patent applications related to the use of psilocybin to treat psychiatric and existential distress in cancer, filed by New York University Grossman School of Medicine and licensed by Reset Pharmaceuticals (N420838US and N419987US). Dr Griffiths reported receiving grants and partial salary support from Johns Hopkins Center for Psychedelic and Consciousness Research during the conduct of the study and personal fees from Heffter Research Institute for serving on the board of directors outside the submitted work. No other disclosures were reported.</p><p><strong>Funding/Support:</strong> Usona Institute Inc, a 501(c)(3) medical research organization, sponsored the study, supplied psilocybin synthesized under current Good Manufacturing Practice regulations, and funded the study.</p><p><strong>Role of the Funder/Sponsors:</strong> The sponsor designed the study and oversaw a clinical research organization (Emmes Company, Inc) that supervised the study, managed the collection and analysis of study data, and provided an initial draft of the manuscript Methods and Results sections. The sponsor interpreted study data, wrote the manuscript, and made the decision to submit the manuscript for publication.</p><p><strong>Data Sharing Statement:</strong> See <a data-tab-toggle=".tab-nav-supplemental" href="#note-JOI230092-1">Supplement 4</a>.</p>            
<div><div><p><a id="joi230092r4">4.</a></p><p>Almohammed
        &nbsp;OA﻿, Alsalem
        &nbsp;AA﻿, Almangour
        &nbsp;AA﻿, Alotaibi
        &nbsp;LH﻿, Al Yami
        &nbsp;MS﻿, Lai
        &nbsp;L﻿. &nbsp;Antidepressants and health-related quality of life (HRQoL) for patients with depression: analysis of the medical expenditure panel survey from the United States.&nbsp;﻿ <i xmlns:helper="urn:XsltStringHelper">&nbsp;PLoS One</i>. 2022;17(4):e0265928. doi:<a href="http://dx.doi.org/10.1371/journal.pone.0265928">10.1371/journal.pone.0265928</a><a href="https://www.ncbi.nlm.nih.gov/pubmed/35442954" target="_blank" xmlns:helper="urn:XsltStringHelper">PubMed</a><a href="https://scholar.google.com/scholar_lookup?title=Antidepressants%20and%20health-related%20quality%20of%20life%20%28HRQoL%29%20for%20patients%20with%20depression%3A%20analysis%20of%20the%20medical%20expenditure%20panel%20survey%20from%20the%20United%20States.&amp;author=OA%20Almohammed&amp;author=AA%20Alsalem&amp;author=AA%20Almangour&amp;author=LH%20Alotaibi&amp;author=MS%20Al%20Yami&amp;author=L%20Lai&amp;publication_year=2022&amp;journal=PLoS%20One&amp;volume=17&amp;pages=" target="_blank" xmlns:helper="urn:XsltStringHelper">Google Scholar</a><a href="https://doi.org/10.1371/journal.pone.0265928" target="_blank" xmlns:helper="urn:XsltStringHelper">Crossref</a><span data-targetid="10.1371/journal.pone.0265928" xmlns:helper="urn:XsltStringHelper"> </span></p></div><div><p><a id="joi230092r5">5.</a></p><p>Gastaldon
        &nbsp;C﻿, Schoretsanitis
        &nbsp;G﻿, Arzenton
        &nbsp;E﻿, 
    &nbsp;et al. &nbsp;Withdrawal syndrome following discontinuation of 28 antidepressants: pharmacovigilance analysis of 31,688 reports from the WHO spontaneous reporting database.&nbsp;﻿ <i xmlns:helper="urn:XsltStringHelper">&nbsp;Drug Saf</i>. 2022;45(12):1539-1549. doi:<a href="http://dx.doi.org/10.1007/s40264-022-01246-4">10.1007/s40264-022-01246-4</a><a href="https://www.ncbi.nlm.nih.gov/pubmed/36400895" target="_blank" xmlns:helper="urn:XsltStringHelper">PubMed</a><a href="https://scholar.google.com/scholar_lookup?title=Withdrawal%20syndrome%20following%20discontinuation%20of%2028%20antidepressants%3A%20pharmacovigilance%20analysis%20of%2031%2C688%20reports%20from%20the%20WHO%20spontaneous%20reporting%20database.&amp;author=C%20Gastaldon&amp;author=G%20Schoretsanitis&amp;author=E%20Arzenton&amp;publication_year=2022&amp;journal=Drug%20Saf&amp;volume=45&amp;pages=1539-1549" target="_blank" xmlns:helper="urn:XsltStringHelper">Google Scholar</a><a href="https://doi.org/10.1007/s40264-022-01246-4" target="_blank" xmlns:helper="urn:XsltStringHelper">Crossref</a><span data-targetid="10.1007/s40264-022-01246-4" xmlns:helper="urn:XsltStringHelper"> </span></p></div><div><p><a id="joi230092r6">6.</a></p><p>Griffiths
        &nbsp;RR﻿, Johnson
        &nbsp;MW﻿, Carducci
        &nbsp;MA﻿, 
    &nbsp;et al. &nbsp;Psilocybin produces substantial and sustained decreases in depression and anxiety in patients with life-threatening cancer: a randomized double-blind trial.&nbsp;﻿ <i xmlns:helper="urn:XsltStringHelper">&nbsp;J Psychopharmacol</i>. 2016;30(12):1181-1197. doi:<a href="http://dx.doi.org/10.1177/0269881116675513">10.1177/0269881116675513</a><a href="https://www.ncbi.nlm.nih.gov/pubmed/27909165" target="_blank" xmlns:helper="urn:XsltStringHelper">PubMed</a><a href="https://scholar.google.com/scholar_lookup?title=Psilocybin%20produces%20substantial%20and%20sustained%20decreases%20in%20depression%20and%20anxiety%20in%20patients%20with%20life-threatening%20cancer%3A%20a%20randomized%20double-blind%20trial.&amp;author=RR%20Griffiths&amp;author=MW%20Johnson&amp;author=MA%20Carducci&amp;publication_year=2016&amp;journal=J%20Psychopharmacol&amp;volume=30&amp;pages=1181-1197" target="_blank" xmlns:helper="urn:XsltStringHelper">Google Scholar</a><a href="https://doi.org/10.1177/0269881116675513" target="_blank" xmlns:helper="urn:XsltStringHelper">Crossref</a><span data-targetid="10.1177/0269881116675513" xmlns:helper="urn:XsltStringHelper"> </span></p></div><div><p><a id="joi230092r7">7.</a></p><p>Agin-Liebes
        &nbsp;GI﻿, Malone
        &nbsp;T﻿, Yalch
        &nbsp;MM﻿, 
    &nbsp;et al. &nbsp;Long-term follow-up of psilocybin-assisted psychotherapy for psychiatric and existential distress in patients with life-threatening cancer.&nbsp;﻿ <i xmlns:helper="urn:XsltStringHelper">&nbsp;J Psychopharmacol</i>. 2020;34(2):155-166. doi:<a href="http://dx.doi.org/10.1177/0269881119897615">10.1177/0269881119897615</a><a href="https://www.ncbi.nlm.nih.gov/pubmed/31916890" target="_blank" xmlns:helper="urn:XsltStringHelper">PubMed</a><a href="https://scholar.google.com/scholar_lookup?title=Long-term%20follow-up%20of%20psilocybin-assisted%20psychotherapy%20for%20psychiatric%20and%20existential%20distress%20in%20patients%20with%20life-threatening%20cancer.&amp;author=GI%20Agin-Liebes&amp;author=T%20Malone&amp;author=MM%20Yalch&amp;publication_year=2020&amp;journal=J%20Psychopharmacol&amp;volume=34&amp;pages=155-166" target="_blank" xmlns:helper="urn:XsltStringHelper">Google Scholar</a><a href="https://doi.org/10.1177/0269881119897615" target="_blank" xmlns:helper="urn:XsltStringHelper">Crossref</a><span data-targetid="10.1177/0269881119897615" xmlns:helper="urn:XsltStringHelper"> </span></p></div><div><p><a id="joi230092r8">8.</a></p><p>Ross
        &nbsp;S﻿, Bossis
        &nbsp;A﻿, Guss
        &nbsp;J﻿, 
    &nbsp;et al. &nbsp;Rapid and sustained symptom reduction following psilocybin treatment for anxiety and depression in patients with life-threatening cancer: a randomized controlled trial.&nbsp;﻿ <i xmlns:helper="urn:XsltStringHelper">&nbsp;J Psychopharmacol</i>. 2016;30(12):1165-1180. doi:<a href="http://dx.doi.org/10.1177/0269881116675512">10.1177/0269881116675512</a><a href="https://www.ncbi.nlm.nih.gov/pubmed/27909164" target="_blank" xmlns:helper="urn:XsltStringHelper">PubMed</a><a href="https://scholar.google.com/scholar_lookup?title=Rapid%20and%20sustained%20symptom%20reduction%20following%20psilocybin%20treatment%20for%20anxiety%20and%20depression%20in%20patients%20with%20life-threatening%20cancer%3A%20a%20randomized%20controlled%20trial.&amp;author=S%20Ross&amp;author=A%20Bossis&amp;author=J%20Guss&amp;publication_year=2016&amp;journal=J%20Psychopharmacol&amp;volume=30&amp;pages=1165-1180" target="_blank" xmlns:helper="urn:XsltStringHelper">Google Scholar</a><a href="https://doi.org/10.1177/0269881116675512" target="_blank" xmlns:helper="urn:XsltStringHelper">Crossref</a><span data-targetid="10.1177/0269881116675512" xmlns:helper="urn:XsltStringHelper"> </span></p></div><div><p><a id="joi230092r17">17.</a></p><p>Breeksema
        &nbsp;JJ﻿, Kuin
        &nbsp;BW﻿, Kamphuis
        &nbsp;J﻿, van den Brink
        &nbsp;W﻿, Vermetten
        &nbsp;E﻿, Schoevers
        &nbsp;RA﻿. &nbsp;Adverse events in clinical treatments with serotonergic psychedelics and MDMA: a mixed-methods systematic review.&nbsp;﻿ <i xmlns:helper="urn:XsltStringHelper">&nbsp;J Psychopharmacol</i>. 2022;36(10):1100-1117. doi:<a href="http://dx.doi.org/10.1177/02698811221116926">10.1177/02698811221116926</a><a href="https://www.ncbi.nlm.nih.gov/pubmed/36017784" target="_blank" xmlns:helper="urn:XsltStringHelper">PubMed</a><a href="https://scholar.google.com/scholar_lookup?title=Adverse%20events%20in%20clinical%20treatments%20with%20serotonergic%20psychedelics%20and%20MDMA%3A%20a%20mixed-methods%20systematic%20review.&amp;author=JJ%20Breeksema&amp;author=BW%20Kuin&amp;author=J%20Kamphuis&amp;author=W%20van%20den%20Brink&amp;author=E%20Vermetten&amp;author=RA%20Schoevers&amp;publication_year=2022&amp;journal=J%20Psychopharmacol&amp;volume=36&amp;pages=1100-1117" target="_blank" xmlns:helper="urn:XsltStringHelper">Google Scholar</a><a href="https://doi.org/10.1177/02698811221116926" target="_blank" xmlns:helper="urn:XsltStringHelper">Crossref</a><span data-targetid="10.1177/02698811221116926" xmlns:helper="urn:XsltStringHelper"> </span></p></div><div><p><a id="joi230092r19">19.</a></p><p>Aday
        &nbsp;JS﻿, Heifets
        &nbsp;BD﻿, Pratscher
        &nbsp;SD﻿, Bradley
        &nbsp;E﻿, Rosen
        &nbsp;R﻿, Woolley
        &nbsp;JD﻿. &nbsp;Great expectations: recommendations for improving the methodological rigor of psychedelic clinical trials.&nbsp;﻿ <i xmlns:helper="urn:XsltStringHelper">&nbsp;Psychopharmacology (Berl)</i>. 2022;239(6):1989-2010. doi:<a href="http://dx.doi.org/10.1007/s00213-022-06123-7">10.1007/s00213-022-06123-7</a><a href="https://www.ncbi.nlm.nih.gov/pubmed/35359159" target="_blank" xmlns:helper="urn:XsltStringHelper">PubMed</a><a href="https://scholar.google.com/scholar_lookup?title=Great%20expectations%3A%20recommendations%20for%20improving%20the%20methodological%20rigor%20of%20psychedelic%20clinical%20trials.&amp;author=JS%20Aday&amp;author=BD%20Heifets&amp;author=SD%20Pratscher&amp;author=E%20Bradley&amp;author=R%20Rosen&amp;author=JD%20Woolley&amp;publication_year=2022&amp;journal=Psychopharmacology%20%28Berl%29&amp;volume=239&amp;pages=1989-2010" target="_blank" xmlns:helper="urn:XsltStringHelper">Google Scholar</a><a href="https://doi.org/10.1007/s00213-022-06123-7" target="_blank" xmlns:helper="urn:XsltStringHelper">Crossref</a><span data-targetid="10.1007/s00213-022-06123-7" xmlns:helper="urn:XsltStringHelper"> </span></p></div><div><p><a id="joi230092r20">20.</a></p><p>First
        &nbsp;MB﻿, Williams
        &nbsp;JBW﻿, Karg
        &nbsp;RS﻿, Spitzer
        &nbsp;RL﻿. <i xmlns:helper="urn:XsltStringHelper">&nbsp;The Structured Clinical Interview for DSM-5 Disorders: Clinical Version</i>.  American Psychiatric Association; 2015.</p></div><div><p><a id="joi230092r25">25.</a></p><p>Turkoz
        &nbsp;I﻿, Alphs
        &nbsp;L﻿, Singh
        &nbsp;J﻿, 
    &nbsp;et al. &nbsp;Clinically meaningful changes on depressive symptom measures and patient-reported outcomes in patients with treatment-resistant depression.&nbsp;﻿ <i xmlns:helper="urn:XsltStringHelper">&nbsp;Acta Psychiatr Scand</i>. 2021;143(3):253-263. doi:<a href="http://dx.doi.org/10.1111/acps.13260">10.1111/acps.13260</a><a href="https://www.ncbi.nlm.nih.gov/pubmed/33249552" target="_blank" xmlns:helper="urn:XsltStringHelper">PubMed</a><a href="https://scholar.google.com/scholar_lookup?title=Clinically%20meaningful%20changes%20on%20depressive%20symptom%20measures%20and%20patient-reported%20outcomes%20in%20patients%20with%20treatment-resistant%20depression.&amp;author=I%20Turkoz&amp;author=L%20Alphs&amp;author=J%20Singh&amp;publication_year=2021&amp;journal=Acta%20Psychiatr%20Scand&amp;volume=143&amp;pages=253-263" target="_blank" xmlns:helper="urn:XsltStringHelper">Google Scholar</a><a href="https://doi.org/10.1111/acps.v143.3" target="_blank" xmlns:helper="urn:XsltStringHelper">Crossref</a><span data-targetid="10.1111/acps.v143.3" xmlns:helper="urn:XsltStringHelper"> </span></p></div><div><p><a id="joi230092r26">26.</a></p><p>Hengartner
        &nbsp;MP﻿, Plöderl
        &nbsp;M﻿. &nbsp;Estimates of the minimal important difference to evaluate the clinical significance of antidepressants in the acute treatment of moderate-to-severe depression.&nbsp;﻿ <i xmlns:helper="urn:XsltStringHelper">&nbsp;BMJ Evid Based Med</i>. 2022;27(2):69-73. doi:<a href="http://dx.doi.org/10.1136/bmjebm-2020-111600">10.1136/bmjebm-2020-111600</a><a href="https://www.ncbi.nlm.nih.gov/pubmed/33593736" target="_blank" xmlns:helper="urn:XsltStringHelper">PubMed</a><a href="https://scholar.google.com/scholar_lookup?title=Estimates%20of%20the%20minimal%20important%20difference%20to%20evaluate%20the%20clinical%20significance%20of%20antidepressants%20in%20the%20acute%20treatment%20of%20moderate-to-severe%20depression.&amp;author=MP%20Hengartner&amp;author=M%20Pl%C3%B6derl&amp;publication_year=2022&amp;journal=BMJ%20Evid%20Based%20Med&amp;volume=27&amp;pages=69-73" target="_blank" xmlns:helper="urn:XsltStringHelper">Google Scholar</a><a href="https://doi.org/10.1136/bmjebm-2020-111600" target="_blank" xmlns:helper="urn:XsltStringHelper">Crossref</a><span data-targetid="10.1136/bmjebm-2020-111600" xmlns:helper="urn:XsltStringHelper"> </span></p></div><div><p><a id="joi230092r27">27.</a></p><p>Kobak
        &nbsp;KA﻿, Williams
        &nbsp;JB﻿, Jeglic
        &nbsp;E﻿, Salvucci
        &nbsp;D﻿, Sharp
        &nbsp;IR﻿. &nbsp;Face-to-face versus remote administration of the Montgomery-Asberg Depression Rating Scale using videoconference and telephone.&nbsp;﻿ <i xmlns:helper="urn:XsltStringHelper">&nbsp;Depress Anxiety</i>. 2008;25(11):913-919. doi:<a href="http://dx.doi.org/10.1002/da.20392">10.1002/da.20392</a><a href="https://www.ncbi.nlm.nih.gov/pubmed/17941100" target="_blank" xmlns:helper="urn:XsltStringHelper">PubMed</a><a href="https://scholar.google.com/scholar_lookup?title=Face-to-face%20versus%20remote%20administration%20of%20the%20Montgomery-Asberg%20Depression%20Rating%20Scale%20using%20videoconference%20and%20telephone.&amp;author=KA%20Kobak&amp;author=JB%20Williams&amp;author=E%20Jeglic&amp;author=D%20Salvucci&amp;author=IR%20Sharp&amp;publication_year=2008&amp;journal=Depress%20Anxiety&amp;volume=25&amp;pages=913-919" target="_blank" xmlns:helper="urn:XsltStringHelper">Google Scholar</a><a href="https://doi.org/10.1002/da.v25:11" target="_blank" xmlns:helper="urn:XsltStringHelper">Crossref</a><span data-targetid="10.1002/da.v25:11" xmlns:helper="urn:XsltStringHelper"> </span></p></div><div><p><a id="joi230092r31">31.</a></p><p>Marazziti
        &nbsp;D﻿, Mucci
        &nbsp;F﻿, Tripodi
        &nbsp;B﻿, 
    &nbsp;et al. &nbsp;Emotional blunting, cognitive impairment, bone fractures, and bleeding as possible side effects of long-term use of SSRIs.&nbsp;﻿ <i xmlns:helper="urn:XsltStringHelper">&nbsp;Clin Neuropsychiatry</i>. 2019;16(2):75-85.<a href="https://www.ncbi.nlm.nih.gov/pubmed/34908941" target="_blank" xmlns:helper="urn:XsltStringHelper">PubMed</a><a href="https://scholar.google.com/scholar_lookup?title=Emotional%20blunting%2C%20cognitive%20impairment%2C%20bone%20fractures%2C%20and%20bleeding%20as%20possible%20side%20effects%20of%20long-term%20use%20of%20SSRIs.&amp;author=D%20Marazziti&amp;author=F%20Mucci&amp;author=B%20Tripodi&amp;publication_year=2019&amp;journal=Clin%20Neuropsychiatry&amp;volume=16&amp;pages=75-85" target="_blank" xmlns:helper="urn:XsltStringHelper">Google Scholar</a></p></div><div><p><a id="joi230092r33">33.</a></p><p>Bogenschutz
        &nbsp;MP﻿, Ross
        &nbsp;S﻿, Bhatt
        &nbsp;S﻿, 
    &nbsp;et al. &nbsp;Percentage of heavy drinking days following psilocybin-assisted psychotherapy vs placebo in the treatment of adult patients with alcohol use disorder: a randomized clinical trial.&nbsp;﻿ <i xmlns:helper="urn:XsltStringHelper">&nbsp;JAMA Psychiatry</i>. 2022;79(10):953-962. doi:<a href="http://jamanetwork.com/article.aspx?doi=10.1001/jamapsychiatry.2022.2096">10.1001/jamapsychiatry.2022.2096</a><a href="https://www.ncbi.nlm.nih.gov/pubmed/36001306" target="_blank" xmlns:helper="urn:XsltStringHelper">PubMed</a><a href="https://scholar.google.com/scholar_lookup?title=Percentage%20of%20heavy%20drinking%20days%20following%20psilocybin-assisted%20psychotherapy%20vs%20placebo%20in%20the%20treatment%20of%20adult%20patients%20with%20alcohol%20use%20disorder%3A%20a%20randomized%20clinical%20trial.&amp;author=MP%20Bogenschutz&amp;author=S%20Ross&amp;author=S%20Bhatt&amp;publication_year=2022&amp;journal=JAMA%20Psychiatry&amp;volume=79&amp;pages=953-962" target="_blank" xmlns:helper="urn:XsltStringHelper">Google Scholar</a><a href="https://doi.org/10.1001/jamapsychiatry.2022.2096" target="_blank" xmlns:helper="urn:XsltStringHelper">Crossref</a><span data-targetid="10.1001/jamapsychiatry.2022.2096" xmlns:helper="urn:XsltStringHelper"> </span></p></div><div><p><a id="joi230092r36">36.</a></p><p>Williams
        &nbsp;MT﻿, Reed
        &nbsp;S﻿, Aggarwal
        &nbsp;R﻿. &nbsp;Culturally informed research design issues in a study of MDMA-assisted psychotherapy for posttraumatic stress disorder.&nbsp;﻿ <i xmlns:helper="urn:XsltStringHelper">&nbsp;J Psychedelic Stud</i>. 2019;4(1):40-50. doi:<a href="http://dx.doi.org/10.1556/2054.2019.016">10.1556/2054.2019.016</a><a href="https://scholar.google.com/scholar_lookup?title=Culturally%20informed%20research%20design%20issues%20in%20a%20study%20of%20MDMA-assisted%20psychotherapy%20for%20posttraumatic%20stress%20disorder.&amp;author=MT%20Williams&amp;author=S%20Reed&amp;author=R%20Aggarwal&amp;publication_year=2019&amp;journal=J%20Psychedelic%20Stud&amp;volume=4&amp;pages=40-50" target="_blank" xmlns:helper="urn:XsltStringHelper">Google Scholar</a><a href="https://doi.org/10.1556/2054.2019.016" target="_blank" xmlns:helper="urn:XsltStringHelper">Crossref</a><span data-targetid="10.1556/2054.2019.016" xmlns:helper="urn:XsltStringHelper"> </span></p></div></div>

</div></div>]]></description>
        </item>
    </channel>
</rss>