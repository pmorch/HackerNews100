<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Sun, 14 Apr 2024 22:00:06 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Show HN: I made a tool to clean and convert any webpage to Markdown (153 pts)]]></title>
            <link>https://markdowndown.vercel.app/</link>
            <guid>40033490</guid>
            <pubDate>Sun, 14 Apr 2024 19:03:58 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://markdowndown.vercel.app/">https://markdowndown.vercel.app/</a>, See on <a href="https://news.ycombinator.com/item?id=40033490">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><div><p>Convert any webpage to a clean markdown<br> w/ images downloaded.</p></div><div><p><h3>Options</h3></p><div><p><label for="remove-noncontent">Remove non-content elements</label></p><p><label for="remove-images">Download images locally and link them</label></p><p><label for="apply-gpt">Apply GPT Filter on Markdown</label></p></div></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The Kate Editor on the different supported operating systems (134 pts)]]></title>
            <link>https://cullmann.io/posts/kate-on-all-platforms-2024/</link>
            <guid>40032869</guid>
            <pubDate>Sun, 14 Apr 2024 17:47:00 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://cullmann.io/posts/kate-on-all-platforms-2024/">https://cullmann.io/posts/kate-on-all-platforms-2024/</a>, See on <a href="https://news.ycombinator.com/item?id=40032869">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>

<article>
   
  <div><h2 id="unix-like-systems-with-x11-or-wayland">Unix like systems with X11 or Wayland</h2>
<p>All <a href="https://en.wikipedia.org/wiki/Unix">Unix like systems</a> with either <a href="https://en.wikipedia.org/wiki/X_Window_System">X11</a> or <a href="https://en.wikipedia.org/wiki/Wayland_(protocol)">Wayland</a> are well supported since ever.</p>
<p>Linux with X11 and now Wayland is for a long time the primary system on that Kate work happens.</p>
<p>Over the years it was, like most of the <a href="https://apps.kde.org/">KDE applications</a>, ported to various <a href="https://en.wikipedia.org/wiki/Berkeley_Software_Distribution">BSD</a> variants.</p>
<p>Be it some mainstream Linux distribution like <a href="https://fedoraproject.org/">Fedora</a> or a niche one like <a href="http://nixos.org/">NixOS</a>, Kate is available as binary package.
You love BSD?
From <a href="https://freebsd.org/">FreeBSD</a> to <a href="https://openbsd.org/">OpenBSD</a>, you can get a Kate package via your normal package system.</p>
<p>And in the normal case, you can just build it from source on your own, all needed patches should be in our repositories upstream.
If that is not the case for your system, please help to upstream them.</p>
<p>Below the current state of the master branch compiled on NixOS unstable with Wayland.</p>
<center><a href="https://cullmann.io/posts/kate-on-all-platforms-2024/images/2024-kate-linux-wayland.png" target="_blank"><img width="700" src="https://cullmann.io/posts/kate-on-all-platforms-2024/images/2024-kate-linux-wayland-small.png"></a></center>
<p>How to compile Kate on your own on a Unix like system and start to help to develop it can be found out <a href="https://kate-editor.org/build-it/">here</a>.</p>
<h2 id="windows">Windows</h2>
<p>Since several years there are activities in the KDE community to provide our libraries and applications for <a href="https://en.wikipedia.org/wiki/Microsoft_Windows">Windows</a>.</p>
<p>Even if that is a non-free platform, we can reach out to new users and developers that might later be then even interested to switch a full open platform.</p>
<p>Progress is slow, but steady.
We have Kate and some other applications in the official <a href="https://apps.microsoft.com/search/publisher?name=KDE+e.V.">Windows Store</a> and nightly build for more of them.
With reasonable effort you can develop Kate on Windows with <a href="https://community.kde.org/Get_Involved/development/Windows">Craft</a>.</p>
<p>Below the current state of the master branch running on Windows 11 inside VirtualBox.</p>
<center><a href="https://cullmann.io/posts/kate-on-all-platforms-2024/images/2024-kate-windows.png" target="_blank"><img width="700" src="https://cullmann.io/posts/kate-on-all-platforms-2024/images/2024-kate-windows-small.png"></a></center>
<p>If you like to try that, use the nighly installer linked on the <a href="https://kate-editor.org/get-it/">Kate website</a>.</p>
<h2 id="macos">macOS</h2>
<p>Beside Windows, the major other non-free platform Kate tries to support is <a href="https://en.wikipedia.org/wiki/MacOS">macOS</a>.</p>
<p>We have nighly build available for that and you can, like on Windows, develop Kate with the help of <a href="https://community.kde.org/Get_Involved/development/Mac">Craft</a>.</p>
<p>Below the current state of the master branch running native on my M2 ARM Mac Mini.</p>
<center><a href="https://cullmann.io/posts/kate-on-all-platforms-2024/images/2024-kate-macos.png" target="_blank"><img width="700" src="https://cullmann.io/posts/kate-on-all-platforms-2024/images/2024-kate-macos-small.png"></a></center>
<p>Same as for Windows, if you like to try that, use the nighly installer for either ARM or Intel Macs linked on the <a href="https://kate-editor.org/get-it/">Kate website</a>.</p>
<h2 id="other-platforms">Other Platforms</h2>
<p>Naturally there are more than the above mentioned operating systems around.</p>
<p>Beside the mobile ones like <a href="https://en.wikipedia.org/wiki/Android_(operating_system)">Android</a> and <a href="https://en.wikipedia.org/wiki/IOS">iOS</a> that are not that interesting for Kate, many other desktop operating systems exist.</p>
<p>Even if the Kate team itself doesn’t put active work it them, that doesn’t mean Kate can’t run there.</p>
<p>Without any active work on our side, for example a Kate port for <a href="https://www.haiku-os.org/">Haiku</a> was done.
Some one-liner patches for that got even upstreamed.</p>
<p>If you work on some port of our stuff and need to upstream stuff, please contact us.
Even if you work on a non-mainstream system, as long as the patches are not too intrusive, we are interested to have them.</p>
<h2 id="help-us">Help us!</h2>
<p>Naturally the most of our developers are working on the Linux or some BSD.</p>
<p>That means the other systems are always in need of more people to help out, both on the programming and testing side.</p>
<p>For Kate, testing should be easy, grab a nighly build for Windows or macOS on the <a href="https://kate-editor.org/get-it/">Kate website</a>.
Or even better, get <a href="https://community.kde.org/Craft">Craft</a> running, that will make it easier to contribute, too.</p>
<p>One recent topic that needs love is the removal of <a href="https://en.wikipedia.org/wiki/D-Bus">DBus</a> for Windows/macOS/Android and other systems that don’t use it normally.</p>
<p>If you are up to help with that, <a href="https://invent.kde.org/packaging/craft-blueprints-kde/-/issues/17">here</a> that is coordinated.
The current state is already sufficient that the nightly builds of Kate no longer hang on e.g. macOS, but still some frameworks like KIO will need more work.</p>
<p>Just don’t get that wrong, DBus is great on the Linux or BSD systems that use it natively, but it is a pain on systems that have no notion of DBus and leads there to hangs or the spawning of unwanted processes.
Beside that, the usefulness is low there, as there are no services on the bus to communicate with anyways.</p>
<h2 id="feedback">Feedback</h2>
<p>You can provide feedback on the matching <a href="https://lemmy.kde.social/post/1121189">KDE Social</a> or <a href="https://www.reddit.com/r/kde/comments/1c3z0g4/kate_on_all_platforms_2024/">reddit</a> post.</p>


  </div>

  
</article>
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Interview with Senior JavaScript Developer 2024 [video] (115 pts)]]></title>
            <link>https://www.youtube.com/watch?v=aWfYxg-Ypm4</link>
            <guid>40032363</guid>
            <pubDate>Sun, 14 Apr 2024 16:38:58 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.youtube.com/watch?v=aWfYxg-Ypm4">https://www.youtube.com/watch?v=aWfYxg-Ypm4</a>, See on <a href="https://news.ycombinator.com/item?id=40032363">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Hospitals that make profits should pay taxes (228 pts)]]></title>
            <link>https://www.statnews.com/2024/04/14/nonprofit-hospitals-turn-profit-charity-care-tax-exempt-status/</link>
            <guid>40032233</guid>
            <pubDate>Sun, 14 Apr 2024 16:23:30 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.statnews.com/2024/04/14/nonprofit-hospitals-turn-profit-charity-care-tax-exempt-status/">https://www.statnews.com/2024/04/14/nonprofit-hospitals-turn-profit-charity-care-tax-exempt-status/</a>, See on <a href="https://news.ycombinator.com/item?id=40032233">Hacker News</a></p>
<div id="readability-page-1" class="page"><section>
	<p><span><span>A</span></span>s diligent taxpayers breathe a sigh of relief that the hassle of filing their tax forms is over for another year, the Internal Revenue Service continues to let most U.S. hospitals <a href="https://kffhealthnews.org/news/article/nonprofit-hospitals-tax-breaks-community-benefit/" target="_blank" rel="noopener">pay nothing</a> in federal taxes. It’s time for Congress to take a hard look at the IRS’s hand in health care.</p>
<p>The agency uses a vague “community benefit” standard to liberally grant tax-exempt status to so-called nonprofit hospitals even as many of them are financially taking advantage of sick Americans with inflated medical bills. Several of my Johns Hopkins colleagues and I <a href="https://jamanetwork.com/journals/jama/fullarticle/2737183" target="_blank" rel="noopener">published</a> a study in the Journal of the American Medical Association showing that some nonprofit hospitals sue and garnish the wages of low-income patients who can’t afford to pay their medical bills. Where’s the community benefit in that? Nonprofit hospitals are supposed to be compassionate and merciful, not predatory and ruthless.</p>
<p>Many hospitals force people who are suffering and seeking care in earnest to sign their financial life away as a condition of treatment. Some make <a href="https://www.nytimes.com/2022/06/30/well/live/surprise-medical-bills.html" target="_blank" rel="noopener">contesting a bill</a> difficult and others <a href="https://thehill.com/policy/healthcare/4107837-just-over-a-third-of-hospitals-are-complying-with-price-transparency-rules-report/" target="_blank" rel="noopener">do not comply</a> with the federal <a href="https://www.cms.gov/priorities/key-initiatives/hospital-price-transparency/hospitals" target="_blank" rel="noopener">hospital transparency rule</a> which requires hospitals to post prices for common shoppable services. The most recent money game that nonprofit hospitals are dialing up is adding billions of dollars in <a href="https://www.wsj.com/health/healthcare/hidden-hospital-fees-cost-patients-hundreds-of-dollars-0024cd95" target="_blank" rel="noopener">“facility fees”</a> for routine care. These billing tricks are fleecing everyday Americans. Congress could make them disappear overnight if it passed a law disqualifying hospitals that use them from getting the coveted tax-exempt benefit.</p>
<p>Many tax-exempt hospitals argue that they provide millions of dollars in free care. But here’s what’s really going on: Much of what they call free care is emergency care that hospitals are required to provide by law (the 1986 <a href="https://www.cms.gov/medicare/regulations-guidance/legislation/emergency-medical-treatment-labor-act" target="_blank" rel="noopener">Emergency Medical Treatment and Labor Act</a> requires hospitals to care for anyone who walks in with an emergent condition). But after the care has been provided, patients are often hounded for payment, often at an artificially inflated price. Hospitals then report the difference between their high sticker price and what they actually collect after shaking down a patient as charity care.</p>
<p>But that’s not charity. In a twist of irony, a 2021 study <a href="https://www.healthaffairs.org/doi/abs/10.1377/hlthaff.2020.01627" target="_blank" rel="noopener">published in Health Affairs</a> found that for-profit hospitals provided 65% <em>more</em> charity care than nonprofit ones.</p>
<p>The bar for receiving tax-exempt status should not be simply abiding by the law.</p>
		
		
<p>Hospitals leaders across the nation have told me that they need to avoid federal taxes in order to survive. But the way taxes work, businesses are taxed only on their profits. Some hospitals hide their profits in cost-shift accounting and loan refinancing, even engaging in aggressive real estate and venture capital investing. According to <a href="https://projects.propublica.org/nonprofits/organizations/951644600" target="_blank" rel="noopener">public tax records</a>, Cedars Sinai in Beverly Hills had an income surplus of $750 million in 2022 and paid no federal taxes. Memorial Sloan Kettering Cancer Center in New York had $400 million and also paid no federal taxes. The top three hospital administrators there made nearly $20 million in salaries.</p>
<p>Try booking an appointment at these or any nonprofit hospital and see if you can do it without insurance or cash up front. It’s nearly impossible. Most nonprofit hospitals will refuse to schedule appointments, even cancer care, unless you financially qualify by showing your ability to pay.</p>
<p>If hospitals schedule appointments and operations only for people who financially qualify, arguing that they are a business, they should pay their fair share of taxes like every other American business. A Kaiser Family Foundation <a href="https://www.kff.org/health-costs/issue-brief/the-estimated-value-of-tax-exemption-for-nonprofit-hospitals-was-about-28-billion-in-2020/" target="_blank" rel="noopener">study</a> estimated the total value of tax exemptions for nonprofit hospitals was $28 billion in 2020 alone. By my calculation, that’s equivalent to a $107 tax credit for every American who filed a return that year.</p>
<p>Momentum to stop this gaming of the system is growing. In August, a bipartisan group of U.S. senators including Bill Cassidy and Elizabeth Warren <a href="https://www.cassidy.senate.gov/newsroom/press-releases/cassidy-colleagues-probe-potential-abuse-of-tax-exempt-status-by-nonprofit-hospitals/" target="_blank" rel="noopener">demanded more transparency</a> from the IRS on the issue after a <a href="https://www.gao.gov/assets/gao-23-106777.pdf" target="_blank" rel="noopener">General Accountability Office report</a> found that the agency “did not have a well-documented process” to ensure that hospitals met tax-exempt criteria.</p>
			
		
<p>In October, Bernie Sanders, the chair of the Senate Health, Education, Labor and Pensions committee stressed the need to address the problem. “Many nonprofit hospital systems across the country are failing to provide low-income Americans with the affordable medical care required by their nonprofit status — despite receiving billions in tax benefits and providing exorbitant compensation packages to their senior executives,” he said in a <a href="https://www.help.senate.gov/chair/newsroom/press/news-chairman-sanders-releases-new-report-showing-major-nonprofit-hospital-systems-exploiting-tax-breaks-and-prioritizing-ceo-pay-over-helping-patients-afford-medical-care" target="_blank" rel="noopener">statement</a>.</p>
<p>In another sign that government officials are getting fed up with hospitals paying no taxes, in 2023 a Pennsylvania judge revoked a hospital’s property tax exemption. This action came after the Pottstown school district sued the hospital, arguing that its special tax treatment resulted in <a href="https://whyy.org/articles/pa-hospitals-revoked-property-tax-exemption/" target="_blank" rel="noopener">$900,000 less revenue</a> for the school each year.</p>
<p>It’s not just the IRS’s lackadaisical approach to hospitals that’s mind-boggling. It’s also the agency’s hostility to direct primary care and other creative strategies developed by doctors to address chronic diseases. The IRS does not allow individuals or families who subscribe to direct primary care — a type of intensive primary care that takes extra time to focus on prevention — to include that cost as a tax-deductible health savings account expense. A <a href="https://trumpwhitehouse.archives.gov/presidential-actions/executive-order-improving-price-quality-transparency-american-healthcare-put-patients-first/#:~:text=potentially%20including%20direct%20primary%20care%20arrangements%20and%20healthcare%20sharing%20ministries%2C%20as%20eligible%20medical%20expenses" target="_blank" rel="noopener">2019 White House executive order</a> challenged this position to no avail. Last month, the IRS sternly <a href="https://www.irs.gov/newsroom/irs-alert-beware-of-companies-misrepresenting-nutrition-wellness-and-general-health-expenses-as-medical-care-for-fsas-hsas-hras-and-msas" target="_blank" rel="noopener">warned</a> Americans that they cannot use their own health savings account to buy healthy foods as directed by their doctors.</p>
<p>The IRS continues to propagate a reactionary approach to sickness rather than a proactive approach to health. Chronic diseases are the leading cause of death in the U.S. and consume a majority of the $4.5 trillion Americans <a href="https://www.cms.gov/data-research/statistics-trends-and-reports/national-health-expenditure-data/nhe-fact-sheet" target="_blank" rel="noopener">spend on health care</a>. The current Whac-a-Mole system isn’t working. Most American adults take <a href="https://www.consumerreports.org/prescription-drugs/too-many-meds-americas-love-affair-with-prescription-medication/" target="_blank" rel="noopener">4 or more prescription medications</a> regularly, making the U.S. the most medicated population in the world. The country needs to try <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7023959/" target="_blank" rel="noopener">new approaches</a> to health.</p>
<p>Instead of scolding Americans who sign up for direct primary care or want to eat healthier foods, the IRS should hold hospitals accountable for the taxes they should be paying.</p>
<p><em>Marty Makary, M.D., M.P.H., is a professor at the Johns Hopkins School of Medicine and Carey Business School and author of the forthcoming book </em><a href="https://www.bloomsbury.com/us/blind-spots-9781639735310/" target="_blank" rel="noopener"><em>“Blind Spots: When medicine gets it wrong and what it means for our health”</em></a><em> (Bloomsbury Press, Sept. 2024).</em></p>
<p>
<h2>LETTER TO THE EDITOR</h2>
<h4>Have an opinion on this essay? <a href="https://statnews.com/submit-a-letter-to-the-editor/?subject=Hospitals%20that%20make%20profits%20should%20pay%20taxes" target="_blank" rel="noopener">Submit a letter to the editor here</a>.</h4>
</p>
</section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Roku says hackers gained access to 576k accounts in latest data-breach incident (116 pts)]]></title>
            <link>https://www.wsj.com/tech/roku-says-hackers-gained-access-to-576-000-accounts-in-latest-data-breach-incident-8f73ab15</link>
            <guid>40031256</guid>
            <pubDate>Sun, 14 Apr 2024 14:23:25 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.wsj.com/tech/roku-says-hackers-gained-access-to-576-000-accounts-in-latest-data-breach-incident-8f73ab15">https://www.wsj.com/tech/roku-says-hackers-gained-access-to-576-000-accounts-in-latest-data-breach-incident-8f73ab15</a>, See on <a href="https://news.ycombinator.com/item?id=40031256">Hacker News</a></p>
Couldn't get https://www.wsj.com/tech/roku-says-hackers-gained-access-to-576-000-accounts-in-latest-data-breach-incident-8f73ab15: Error: Request failed with status code 401]]></description>
        </item>
        <item>
            <title><![CDATA[Redis Re-Implemented with SQLite (163 pts)]]></title>
            <link>https://github.com/nalgeon/redka</link>
            <guid>40030746</guid>
            <pubDate>Sun, 14 Apr 2024 12:51:51 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/nalgeon/redka">https://github.com/nalgeon/redka</a>, See on <a href="https://news.ycombinator.com/item?id=40030746">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/nalgeon/redka/blob/main/logo.svg"><img alt="Redka" src="https://github.com/nalgeon/redka/raw/main/logo.svg" height="80"></a></p>
<p dir="auto">Redka aims to reimplement the good parts of Redis with SQLite, while remaining compatible with Redis API.</p>
<p dir="auto">Notable features:</p>
<ul dir="auto">
<li>Data does not have to fit in RAM.</li>
<li>ACID transactions.</li>
<li>SQL views for better introspection and reporting.</li>
<li>Both in-process (Go API) and standalone (RESP) servers.</li>
<li>Redis-compatible commands and wire protocol.</li>
</ul>
<p dir="auto">This is a work in progress. See below for the current status and roadmap.</p>
<p dir="auto"><a href="#commands">Commands</a> •
<a href="#installation">Installation</a> •
<a href="#usage">Usage</a> •
<a href="#persistence">Persistence</a> •
<a href="#performance">Performance</a> •
<a href="#roadmap">Roadmap</a> •
<a href="#more-information">More</a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Commands</h2><a id="user-content-commands" aria-label="Permalink: Commands" href="#commands"></a></p>
<p dir="auto">Redka aims to support five core Redis data types: strings, lists, sets, hashes, and sorted sets.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Strings</h3><a id="user-content-strings" aria-label="Permalink: Strings" href="#strings"></a></p>
<p dir="auto">Strings are the most basic Redis type, representing a sequence of bytes. Redka supports the following string-related commands:</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Go API</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>DECR</code></td>
<td><code>DB.Str().Incr</code></td>
<td>Decrements the integer value of a key by one.</td>
</tr>
<tr>
<td><code>DECRBY</code></td>
<td><code>DB.Str().Incr</code></td>
<td>Decrements a number from the integer value of a key.</td>
</tr>
<tr>
<td><code>GET</code></td>
<td><code>DB.Str().Get</code></td>
<td>Returns the value of a key.</td>
</tr>
<tr>
<td><code>GETSET</code></td>
<td><code>DB.Str().GetSet</code></td>
<td>Sets the key to a new value and returns the prev value.</td>
</tr>
<tr>
<td><code>INCR</code></td>
<td><code>DB.Str().Incr</code></td>
<td>Increments the integer value of a key by one.</td>
</tr>
<tr>
<td><code>INCRBY</code></td>
<td><code>DB.Str().Incr</code></td>
<td>Increments the integer value of a key by a number.</td>
</tr>
<tr>
<td><code>INCRBYFLOAT</code></td>
<td><code>DB.Str().IncrFloat</code></td>
<td>Increments the float value of a key by a number.</td>
</tr>
<tr>
<td><code>MGET</code></td>
<td><code>DB.Str().GetMany</code></td>
<td>Returns the values of one or more keys.</td>
</tr>
<tr>
<td><code>MSET</code></td>
<td><code>DB.Str().SetMany</code></td>
<td>Sets the values of one or more keys.</td>
</tr>
<tr>
<td><code>MSETNX</code></td>
<td><code>DB.Str().SetManyNX</code></td>
<td>Sets the values of one or more keys when all keys don't exist.</td>
</tr>
<tr>
<td><code>PSETEX</code></td>
<td><code>DB.Str().SetExpires</code></td>
<td>Sets the value and expiration time (in ms) of a key.</td>
</tr>
<tr>
<td><code>SET</code></td>
<td><code>DB.Str().Set</code></td>
<td>Sets the value of a key.</td>
</tr>
<tr>
<td><code>SETEX</code></td>
<td><code>DB.Str().SetExpires</code></td>
<td>Sets the value and expiration (in sec) time of a key.</td>
</tr>
<tr>
<td><code>SETNX</code></td>
<td><code>DB.Str().SetNotExists</code></td>
<td>Sets the value of a key when the key doesn't exist.</td>
</tr>
</tbody>
</table>
<p dir="auto">The following string-related commands are not planned for 1.0:</p>
<div data-snippet-clipboard-copy-content="APPEND  GETDEL  GETEX  GETRANGE  LCS  SETRANGE  STRLEN  SUBSTR"><pre><code>APPEND  GETDEL  GETEX  GETRANGE  LCS  SETRANGE  STRLEN  SUBSTR
</code></pre></div>
<p dir="auto"><h3 tabindex="-1" dir="auto">Lists</h3><a id="user-content-lists" aria-label="Permalink: Lists" href="#lists"></a></p>
<p dir="auto">Lists are lists of strings sorted by insertion order. Redka aims to support the following list-related commands in 1.0:</p>
<div data-snippet-clipboard-copy-content="LINDEX  LINSERT  LLEN  LPOP  LPUSHX  LRANGE  LREM  LSET
LTRIM  RPOP  RPOPLPUSH  RPUSH  RPUSHX"><pre><code>LINDEX  LINSERT  LLEN  LPOP  LPUSHX  LRANGE  LREM  LSET
LTRIM  RPOP  RPOPLPUSH  RPUSH  RPUSHX
</code></pre></div>
<p dir="auto"><h3 tabindex="-1" dir="auto">Sets</h3><a id="user-content-sets" aria-label="Permalink: Sets" href="#sets"></a></p>
<p dir="auto">Sets are unordered collections of unique strings. Redka aims to support the following set-related commands in 1.0:</p>
<div data-snippet-clipboard-copy-content="SADD  SCARD  SDIFF  SDIFFSTORE  SINTER  SINTERSTORE
SISMEMBER  SMEMBERS  SMOVE  SPOP  SRANDMEMBER  SREM
SUNION  SUNIONSTORE"><pre><code>SADD  SCARD  SDIFF  SDIFFSTORE  SINTER  SINTERSTORE
SISMEMBER  SMEMBERS  SMOVE  SPOP  SRANDMEMBER  SREM
SUNION  SUNIONSTORE
</code></pre></div>
<p dir="auto"><h3 tabindex="-1" dir="auto">Hashes</h3><a id="user-content-hashes" aria-label="Permalink: Hashes" href="#hashes"></a></p>
<p dir="auto">Hashes are field-value (hash)maps. Redka supports the following hash-related commands:</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Go API</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>HDEL</code></td>
<td><code>DB.Hash().Delete</code></td>
<td>Deletes one or more fields and their values.</td>
</tr>
<tr>
<td><code>HEXISTS</code></td>
<td><code>DB.Hash().Exists</code></td>
<td>Determines whether a field exists.</td>
</tr>
<tr>
<td><code>HGET</code></td>
<td><code>DB.Hash().Get</code></td>
<td>Returns the value of a field.</td>
</tr>
<tr>
<td><code>HGETALL</code></td>
<td><code>DB.Hash().Items</code></td>
<td>Returns all fields and values.</td>
</tr>
<tr>
<td><code>HINCRBY</code></td>
<td><code>DB.Hash().Incr</code></td>
<td>Increments the integer value of a field.</td>
</tr>
<tr>
<td><code>HINCRBYFLOAT</code></td>
<td><code>DB.Hash().IncrFloat</code></td>
<td>Increments the float value of a field.</td>
</tr>
<tr>
<td><code>HKEYS</code></td>
<td><code>DB.Hash().Keys</code></td>
<td>Returns all fields.</td>
</tr>
<tr>
<td><code>HLEN</code></td>
<td><code>DB.Hash().Len</code></td>
<td>Returns the number of fields.</td>
</tr>
<tr>
<td><code>HMGET</code></td>
<td><code>DB.Hash().GetMany</code></td>
<td>Returns the values of multiple fields.</td>
</tr>
<tr>
<td><code>HMSET</code></td>
<td><code>DB.Hash().SetMany</code></td>
<td>Sets the values of multiple fields.</td>
</tr>
<tr>
<td><code>HSCAN</code></td>
<td><code>DB.Hash().Scanner</code></td>
<td>Iterates over fields and values.</td>
</tr>
<tr>
<td><code>HSET</code></td>
<td><code>DB.Hash().SetMany</code></td>
<td>Sets the values of one ore more fields.</td>
</tr>
<tr>
<td><code>HSETNX</code></td>
<td><code>DB.Hash().SetNotExists</code></td>
<td>Sets the value of a field when it doesn't exist.</td>
</tr>
<tr>
<td><code>HVALS</code></td>
<td><code>DB.Hash().Exists</code></td>
<td>Returns all values.</td>
</tr>
</tbody>
</table>
<p dir="auto">The following hash-related commands are not planned for 1.0:</p>

<p dir="auto"><h3 tabindex="-1" dir="auto">Sorted sets</h3><a id="user-content-sorted-sets" aria-label="Permalink: Sorted sets" href="#sorted-sets"></a></p>
<p dir="auto">Sorted sets are collections of unique strings ordered by each string's associated score. Redka aims to support the following sorted set related commands in 1.0:</p>
<div data-snippet-clipboard-copy-content="ZADD  ZCARD  ZCOUNT  ZINCRBY  ZINTERSTORE  ZRANGE
ZRANK  ZREM  ZSCORE"><pre><code>ZADD  ZCARD  ZCOUNT  ZINCRBY  ZINTERSTORE  ZRANGE
ZRANK  ZREM  ZSCORE
</code></pre></div>
<p dir="auto"><h3 tabindex="-1" dir="auto">Key management</h3><a id="user-content-key-management" aria-label="Permalink: Key management" href="#key-management"></a></p>
<p dir="auto">Redka supports the following key management (generic) commands:</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Go API</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>DEL</code></td>
<td><code>DB.Key().Delete</code></td>
<td>Deletes one or more keys.</td>
</tr>
<tr>
<td><code>EXISTS</code></td>
<td><code>DB.Key().Count</code></td>
<td>Determines whether one or more keys exist.</td>
</tr>
<tr>
<td><code>EXPIRE</code></td>
<td><code>DB.Key().Expire</code></td>
<td>Sets the expiration time of a key (in seconds).</td>
</tr>
<tr>
<td><code>EXPIREAT</code></td>
<td><code>DB.Key().ExpireAt</code></td>
<td>Sets the expiration time of a key to a Unix timestamp.</td>
</tr>
<tr>
<td><code>KEYS</code></td>
<td><code>DB.Key().Keys</code></td>
<td>Returns all key names that match a pattern.</td>
</tr>
<tr>
<td><code>PERSIST</code></td>
<td><code>DB.Key().Persist</code></td>
<td>Removes the expiration time of a key.</td>
</tr>
<tr>
<td><code>PEXPIRE</code></td>
<td><code>DB.Key().Expire</code></td>
<td>Sets the expiration time of a key in ms.</td>
</tr>
<tr>
<td><code>PEXPIREAT</code></td>
<td><code>DB.Key().ExpireAt</code></td>
<td>Sets the expiration time of a key to a Unix ms timestamp.</td>
</tr>
<tr>
<td><code>RANDOMKEY</code></td>
<td><code>DB.Key().Random</code></td>
<td>Returns a random key name from the database.</td>
</tr>
<tr>
<td><code>RENAME</code></td>
<td><code>DB.Key().Rename</code></td>
<td>Renames a key and overwrites the destination.</td>
</tr>
<tr>
<td><code>RENAMENX</code></td>
<td><code>DB.Key().RenameNotExists</code></td>
<td>Renames a key only when the target key name doesn't exist.</td>
</tr>
<tr>
<td><code>SCAN</code></td>
<td><code>DB.Key().Scanner</code></td>
<td>Iterates over the key names in the database.</td>
</tr>
</tbody>
</table>
<p dir="auto">The following generic commands are not planned for 1.0:</p>
<div data-snippet-clipboard-copy-content="COPY  DUMP  EXPIRETIME  MIGRATE  MOVE  OBJECT  PEXPIRETIME
PTTL  RESTORE  SORT  SORT_RO  TOUCH  TTL  TYPE  UNLINK
WAIT  WAITAOF"><pre><code>COPY  DUMP  EXPIRETIME  MIGRATE  MOVE  OBJECT  PEXPIRETIME
PTTL  RESTORE  SORT  SORT_RO  TOUCH  TTL  TYPE  UNLINK
WAIT  WAITAOF
</code></pre></div>
<p dir="auto"><h3 tabindex="-1" dir="auto">Transactions</h3><a id="user-content-transactions" aria-label="Permalink: Transactions" href="#transactions"></a></p>
<p dir="auto">Redka supports the following transaction commands:</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Go API</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>DISCARD</code></td>
<td><code>DB.View</code> / <code>DB.Update</code></td>
<td>Discards a transaction.</td>
</tr>
<tr>
<td><code>EXEC</code></td>
<td><code>DB.View</code> / <code>DB.Update</code></td>
<td>Executes all commands in a transaction.</td>
</tr>
<tr>
<td><code>MULTI</code></td>
<td><code>DB.View</code> / <code>DB.Update</code></td>
<td>Starts a transaction.</td>
</tr>
</tbody>
</table>
<p dir="auto">Unlike Redis, Redka's transactions are fully ACID, providing automatic rollback in case of failure.</p>
<p dir="auto">The following transaction commands are not planned for 1.0:</p>

<p dir="auto"><h3 tabindex="-1" dir="auto">Server/connection management</h3><a id="user-content-serverconnection-management" aria-label="Permalink: Server/connection management" href="#serverconnection-management"></a></p>
<p dir="auto">Redka supports only a couple of server and connection management commands:</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Go API</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ECHO</code></td>
<td>—</td>
<td>Returns the given string.</td>
</tr>
<tr>
<td><code>FLUSHDB</code></td>
<td><code>DB.Key().DeleteAll</code></td>
<td>Remove all keys from the database.</td>
</tr>
</tbody>
</table>
<p dir="auto">The rest of the server and connection management commands are not planned for 1.0.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Installation</h2><a id="user-content-installation" aria-label="Permalink: Installation" href="#installation"></a></p>
<p dir="auto">Redka can be installed as a standalone Redis-compatible server, or as a Go module for in-process use.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Standalone server</h2><a id="user-content-standalone-server" aria-label="Permalink: Standalone server" href="#standalone-server"></a></p>
<p dir="auto">Redka server is a single-file binary. Download it from the <a href="https://github.com/nalgeon/redka/releases">releases</a>.</p>
<p dir="auto">Linux (x86 CPU only):</p>
<div dir="auto" data-snippet-clipboard-copy-content="curl -L -O &quot;https://github.com/nalgeon/redka/releases/download/v0.2.0/redka_linux_amd64.zip&quot;
unzip redka_linux_amd64.zip
chmod +x redka"><pre>curl -L -O <span><span>"</span>https://github.com/nalgeon/redka/releases/download/v0.2.0/redka_linux_amd64.zip<span>"</span></span>
unzip redka_linux_amd64.zip
chmod +x redka</pre></div>
<p dir="auto">macOS (both x86 and ARM/Apple Silicon CPU):</p>
<div dir="auto" data-snippet-clipboard-copy-content="curl -L -O &quot;https://github.com/nalgeon/redka/releases/download/v0.2.0/redka_darwin_amd64.zip&quot;
unzip redka_darwin_amd64.zip
# remove the build from quarantine
# (macOS disables unsigned binaries)
xattr -d com.apple.quarantine redka
chmod +x redka"><pre>curl -L -O <span><span>"</span>https://github.com/nalgeon/redka/releases/download/v0.2.0/redka_darwin_amd64.zip<span>"</span></span>
unzip redka_darwin_amd64.zip
<span><span>#</span> remove the build from quarantine</span>
<span><span>#</span> (macOS disables unsigned binaries)</span>
xattr -d com.apple.quarantine redka
chmod +x redka</pre></div>
<p dir="auto">Or pull with Docker as follows (x86/ARM):</p>
<div dir="auto" data-snippet-clipboard-copy-content="docker pull nalgeon/redka"><pre>docker pull nalgeon/redka</pre></div>
<p dir="auto">Or build from source (requires Go 1.22 and GCC):</p>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/nalgeon/redka.git
cd redka
make setup build
# the path to the binary after the build
# will be ./build/redka"><pre>git clone https://github.com/nalgeon/redka.git
<span>cd</span> redka
make setup build
<span><span>#</span> the path to the binary after the build</span>
<span><span>#</span> will be ./build/redka</span></pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">Go module</h2><a id="user-content-go-module" aria-label="Permalink: Go module" href="#go-module"></a></p>
<p dir="auto">Install the module as follows:</p>
<div dir="auto" data-snippet-clipboard-copy-content="go get github.com/nalgeon/redka"><pre>go get github.com/nalgeon/redka</pre></div>
<p dir="auto">You'll also need an SQLite driver. Use <code>github.com/mattn/go-sqlite3</code> if you don't mind CGO. Otherwise use a pure Go driver <code>modernc.org/sqlite</code>. Install either with <code>go get</code> like this:</p>
<div dir="auto" data-snippet-clipboard-copy-content="go get github.com/mattn/go-sqlite3"><pre>go get github.com/mattn/go-sqlite3</pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">Usage</h2><a id="user-content-usage" aria-label="Permalink: Usage" href="#usage"></a></p>
<p dir="auto">Redka can be used as a standalone Redis-compatible server, or as an embeddable in-process server with Go API.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Standalone server</h3><a id="user-content-standalone-server-1" aria-label="Permalink: Standalone server" href="#standalone-server-1"></a></p>
<p dir="auto">Redka server is a single-file binary. After downloading and unpacking the release asset, run it as follows:</p>
<div data-snippet-clipboard-copy-content="redka [-h host] [-p port] [db-path]"><pre><code>redka [-h host] [-p port] [db-path]
</code></pre></div>
<p dir="auto">For example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="./redka
./redka data.db
./redka -h 0.0.0.0 -p 6379 data.db"><pre>./redka
./redka data.db
./redka -h 0.0.0.0 -p 6379 data.db</pre></div>
<p dir="auto">Server defaults are host <code>localhost</code>, port <code>6379</code> and empty DB path.</p>
<p dir="auto">Running without a DB path creates an in-memory database. The data is not persisted in this case, and will be gone when the server is stopped.</p>
<p dir="auto">You can also run Redka with Docker as follows:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# database inside the container
# will be lost when the container stops
docker run --rm -p 6379:6379 nalgeon/redka

# persistent database
# using the /path/to/data host directory
docker run --rm -p 6379:6379 -v /path/to/data:/data nalgeon/redka

# in-memory database, custom post
docker run --rm -p 6380:6380 nalgeon/redka redka -h 0.0.0.0 -p 6380"><pre><span><span>#</span> database inside the container</span>
<span><span>#</span> will be lost when the container stops</span>
docker run --rm -p 6379:6379 nalgeon/redka

<span><span>#</span> persistent database</span>
<span><span>#</span> using the /path/to/data host directory</span>
docker run --rm -p 6379:6379 -v /path/to/data:/data nalgeon/redka

<span><span>#</span> in-memory database, custom post</span>
docker run --rm -p 6380:6380 nalgeon/redka redka -h 0.0.0.0 -p 6380</pre></div>
<p dir="auto">Server defaults in Docker are host <code>0.0.0.0</code>, port <code>6379</code> and DB path <code>/data/redka.db</code>.</p>
<p dir="auto">Once the server is running, connect to it using <code>redis-cli</code> or an API client like <code>redis-py</code> or <code>go-redis</code> — just as you would with Redis.</p>
<div dir="auto" data-snippet-clipboard-copy-content="redis-cli -h localhost -p 6379"><pre>redis-cli -h localhost -p 6379</pre></div>
<div data-snippet-clipboard-copy-content="127.0.0.1:6379> echo hello
&quot;hello&quot;
127.0.0.1:6379> set name alice
OK
127.0.0.1:6379> get name
&quot;alice&quot;"><pre><code>127.0.0.1:6379&gt; echo hello
"hello"
127.0.0.1:6379&gt; set name alice
OK
127.0.0.1:6379&gt; get name
"alice"
</code></pre></div>
<p dir="auto"><h3 tabindex="-1" dir="auto">In-process server</h3><a id="user-content-in-process-server" aria-label="Permalink: In-process server" href="#in-process-server"></a></p>
<p dir="auto">The primary object in Redka is the <code>DB</code>. To open or create your database, use the <code>redka.Open()</code> function:</p>
<div dir="auto" data-snippet-clipboard-copy-content="package main

import (
    &quot;log&quot;

    _ &quot;github.com/mattn/go-sqlite3&quot;
    &quot;github.com/nalgeon/redka&quot;
)

func main() {
    // Open or create the data.db file.
    db, err := redka.Open(&quot;data.db&quot;, nil)
    if err != nil {
        log.Fatal(err)
    }
    // Always close the database when you are finished.
    defer db.Close()
    // ...
}"><pre><span>package</span> main

<span>import</span> (
    <span>"log"</span>

    _ <span>"github.com/mattn/go-sqlite3"</span>
    <span>"github.com/nalgeon/redka"</span>
)

<span>func</span> <span>main</span>() {
    <span>// Open or create the data.db file.</span>
    <span>db</span>, <span>err</span> <span>:=</span> <span>redka</span>.<span>Open</span>(<span>"data.db"</span>, <span>nil</span>)
    <span>if</span> <span>err</span> <span>!=</span> <span>nil</span> {
        <span>log</span>.<span>Fatal</span>(<span>err</span>)
    }
    <span>// Always close the database when you are finished.</span>
    <span>defer</span> <span>db</span>.<span>Close</span>()
    <span>// ...</span>
}</pre></div>
<p dir="auto">Don't forget to import the driver (here I use <code>github.com/mattn/go-sqlite3</code>). Using <code>modernc.org/sqlite</code> is slightly different, see <a href="https://github.com/nalgeon/redka/blob/main/example/modernc/main.go">example/modernc/main.go</a> for details.</p>
<p dir="auto">To open an in-memory database that doesn't persist to disk, use the following path:</p>
<div dir="auto" data-snippet-clipboard-copy-content="// All data is lost when the database is closed.
redka.Open(&quot;file:redka?mode=memory&amp;cache=shared&quot;)"><pre><span>// All data is lost when the database is closed.</span>
<span>redka</span>.<span>Open</span>(<span>"file:redka?mode=memory&amp;cache=shared"</span>)</pre></div>
<p dir="auto">After opening the database, call <code>redka.DB</code> methods to run individual commands:</p>
<div dir="auto" data-snippet-clipboard-copy-content="db.Str().Set(&quot;name&quot;, &quot;alice&quot;)
db.Str().Set(&quot;age&quot;, 25)

count, err := db.Key().Count(&quot;name&quot;, &quot;age&quot;, &quot;city&quot;)
slog.Info(&quot;count&quot;, &quot;count&quot;, count, &quot;err&quot;, err)

name, err := db.Str().Get(&quot;name&quot;)
slog.Info(&quot;get&quot;, &quot;name&quot;, name, &quot;err&quot;, err)"><pre><span>db</span>.<span>Str</span>().<span>Set</span>(<span>"name"</span>, <span>"alice"</span>)
<span>db</span>.<span>Str</span>().<span>Set</span>(<span>"age"</span>, <span>25</span>)

<span>count</span>, <span>err</span> <span>:=</span> <span>db</span>.<span>Key</span>().<span>Count</span>(<span>"name"</span>, <span>"age"</span>, <span>"city"</span>)
<span>slog</span>.<span>Info</span>(<span>"count"</span>, <span>"count"</span>, <span>count</span>, <span>"err"</span>, <span>err</span>)

<span>name</span>, <span>err</span> <span>:=</span> <span>db</span>.<span>Str</span>().<span>Get</span>(<span>"name"</span>)
<span>slog</span>.<span>Info</span>(<span>"get"</span>, <span>"name"</span>, <span>name</span>, <span>"err"</span>, <span>err</span>)</pre></div>
<div data-snippet-clipboard-copy-content="count count=2 err=<nil>
get name=&quot;alice&quot; err=<nil>"><pre><code>count count=2 err=&lt;nil&gt;
get name="alice" err=&lt;nil&gt;
</code></pre></div>
<p dir="auto">See the full example in <a href="https://github.com/nalgeon/redka/blob/main/example/simple/main.go">example/simple/main.go</a>.</p>
<p dir="auto">Use transactions to batch commands. There are <code>View</code> (read-only transaction) and <code>Update</code> (writable transaction) methods for this:</p>
<div dir="auto" data-snippet-clipboard-copy-content="updCount := 0
err := db.Update(func(tx *redka.Tx) error {
    err := tx.Str().Set(&quot;name&quot;, &quot;bob&quot;)
    if err != nil {
        return err
    }
    updCount++

    err = tx.Str().Set(&quot;age&quot;, 50)
    if err != nil {
        return err
    }
    updCount++
    return nil
})
slog.Info(&quot;updated&quot;, &quot;count&quot;, updCount, &quot;err&quot;, err)"><pre><span>updCount</span> <span>:=</span> <span>0</span>
<span>err</span> <span>:=</span> <span>db</span>.<span>Update</span>(<span>func</span>(<span>tx</span> <span>*</span>redka.<span>Tx</span>) <span>error</span> {
    <span>err</span> <span>:=</span> <span>tx</span>.<span>Str</span>().<span>Set</span>(<span>"name"</span>, <span>"bob"</span>)
    <span>if</span> <span>err</span> <span>!=</span> <span>nil</span> {
        <span>return</span> <span>err</span>
    }
    <span>updCount</span><span>++</span>

    <span>err</span> <span>=</span> <span>tx</span>.<span>Str</span>().<span>Set</span>(<span>"age"</span>, <span>50</span>)
    <span>if</span> <span>err</span> <span>!=</span> <span>nil</span> {
        <span>return</span> <span>err</span>
    }
    <span>updCount</span><span>++</span>
    <span>return</span> <span>nil</span>
})
<span>slog</span>.<span>Info</span>(<span>"updated"</span>, <span>"count"</span>, <span>updCount</span>, <span>"err"</span>, <span>err</span>)</pre></div>
<div data-snippet-clipboard-copy-content="updated count=2 err=<nil>"><pre><code>updated count=2 err=&lt;nil&gt;
</code></pre></div>
<p dir="auto">See the full example in <a href="https://github.com/nalgeon/redka/blob/main/example/tx/main.go">example/tx/main.go</a>.</p>
<p dir="auto">See the <a href="https://pkg.go.dev/github.com/nalgeon/redka" rel="nofollow">package documentation</a> for API reference.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Persistence</h2><a id="user-content-persistence" aria-label="Permalink: Persistence" href="#persistence"></a></p>
<p dir="auto">Redka stores data in a SQLite database using the following tables:</p>
<div data-snippet-clipboard-copy-content="rkey
---
id       integer primary key
key      text not null
type     integer not null    -- 1 string, 2 list, 3 set, 4 hash, 5 sorted set
version  integer not null    -- incremented when the key value is updated
etime    integer             -- expiration timestamp in unix milliseconds
mtime    integer not null    -- modification timestamp in unix milliseconds

rstring
---
key_id   integer not null    -- FK -> rkey.id
value    blob not null

rhash
---
key_id   integer not null    -- FK -> rkey.id
field    text not null
value    blob not null"><pre><code>rkey
---
id       integer primary key
key      text not null
type     integer not null    -- 1 string, 2 list, 3 set, 4 hash, 5 sorted set
version  integer not null    -- incremented when the key value is updated
etime    integer             -- expiration timestamp in unix milliseconds
mtime    integer not null    -- modification timestamp in unix milliseconds

rstring
---
key_id   integer not null    -- FK -&gt; rkey.id
value    blob not null

rhash
---
key_id   integer not null    -- FK -&gt; rkey.id
field    text not null
value    blob not null
</code></pre></div>
<p dir="auto">To access the data with SQL, use views instead of tables:</p>

<div data-snippet-clipboard-copy-content="┌────────┬──────┬───────┬───────┬─────────────────────┐
│ key_id │ key  │ value │ etime │        mtime        │
├────────┼──────┼───────┼───────┼─────────────────────┤
│ 1      │ name │ alice │       │ 2024-04-03 16:58:14 │
│ 2      │ age  │ 50    │       │ 2024-04-03 16:34:52 │
└────────┴──────┴───────┴───────┴─────────────────────┘"><pre><code>┌────────┬──────┬───────┬───────┬─────────────────────┐
│ key_id │ key  │ value │ etime │        mtime        │
├────────┼──────┼───────┼───────┼─────────────────────┤
│ 1      │ name │ alice │       │ 2024-04-03 16:58:14 │
│ 2      │ age  │ 50    │       │ 2024-04-03 16:34:52 │
└────────┴──────┴───────┴───────┴─────────────────────┘
</code></pre></div>
<p dir="auto"><code>etime</code> and <code>mtime</code> are in UTC.</p>
<p dir="auto">There is a separate view for every data type:</p>

<p dir="auto"><h2 tabindex="-1" dir="auto">Performance</h2><a id="user-content-performance" aria-label="Permalink: Performance" href="#performance"></a></p>
<p dir="auto">I've compared Redka with Redis using <a href="https://redis.io/docs/management/optimization/benchmarks/" rel="nofollow">redis-benchmark</a> with the following parameters:</p>
<ul dir="auto">
<li>10 parallel connections</li>
<li>1000000 requests</li>
<li>10000 randomized keys</li>
<li>GET/SET commands</li>
</ul>
<p dir="auto">SQLite settings:</p>
<div data-snippet-clipboard-copy-content="pragma journal_mode = wal;
pragma synchronous = normal;
pragma temp_store = memory;
pragma mmap_size = 268435456;
pragma foreign_keys = on;"><pre><code>pragma journal_mode = wal;
pragma synchronous = normal;
pragma temp_store = memory;
pragma mmap_size = 268435456;
pragma foreign_keys = on;
</code></pre></div>
<p dir="auto">Hardware: Apple M1 8-core CPU, 16GB RAM</p>
<p dir="auto">Results:</p>
<div data-snippet-clipboard-copy-content="redis-server --appendonly no
redis-benchmark -p 6379 -q -c 10 -n 1000000 -r 10000 -t get,set

SET: 133262.25 requests per second, p50=0.055 msec
GET: 139217.59 requests per second, p50=0.055 msec"><pre><code>redis-server --appendonly no
redis-benchmark -p 6379 -q -c 10 -n 1000000 -r 10000 -t get,set

SET: 133262.25 requests per second, p50=0.055 msec
GET: 139217.59 requests per second, p50=0.055 msec
</code></pre></div>
<div data-snippet-clipboard-copy-content="./redka -p 6380 data.db
redis-benchmark -p 6380 -q -c 10 -n 1000000 -r 10000 -t get,set

SET: 22551.47 requests per second, p50=0.255 msec
GET: 56802.05 requests per second, p50=0.119 msec"><pre><code>./redka -p 6380 data.db
redis-benchmark -p 6380 -q -c 10 -n 1000000 -r 10000 -t get,set

SET: 22551.47 requests per second, p50=0.255 msec
GET: 56802.05 requests per second, p50=0.119 msec
</code></pre></div>
<p dir="auto">So while Redka is 2-6 times slower than Redis (not surprising, since we are comparing a relational database to a key-value data store), it can still do 23K writes/sec and 57K reads/sec, which is pretty good if you ask me.</p>
<p dir="auto">Note that running in a container may result in poorer performance.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Roadmap</h2><a id="user-content-roadmap" aria-label="Permalink: Roadmap" href="#roadmap"></a></p>
<p dir="auto">The project is on its way to 1.0.</p>
<p dir="auto">The 1.0 release will include the following features from Redis 2.x (which I consider the "golden age" of the Redis API):</p>
<ul dir="auto">
<li>✅ Strings.</li>
<li>⬜ Lists.</li>
<li>⬜ Sets.</li>
<li>✅ Hashes.</li>
<li>⏳ Sorted sets.</li>
<li>✅ Key management.</li>
<li>✅ Transactions.</li>
</ul>
<p dir="auto">✅ = done, ⏳ = in progress, ⬜ = next in line</p>
<p dir="auto">Future versions may include additional data types (such as streams, HyperLogLog or geo), features like publish/subscribe, and more commands for existing types.</p>
<p dir="auto">Features I'd rather not implement even in future versions:</p>
<ul dir="auto">
<li>Lua scripting.</li>
<li>Authentication and ACLs.</li>
<li>Multiple databases.</li>
<li>Watch/unwatch.</li>
</ul>
<p dir="auto">Features I definitely don't want to implement:</p>
<ul dir="auto">
<li>Cluster.</li>
<li>Sentinel.</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">More information</h2><a id="user-content-more-information" aria-label="Permalink: More information" href="#more-information"></a></p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Contributing</h3><a id="user-content-contributing" aria-label="Permalink: Contributing" href="#contributing"></a></p>
<p dir="auto">Contributions are welcome. For anything other than bugfixes, please first open an issue to discuss what you want to change.</p>
<p dir="auto">Be sure to add or update tests as appropriate.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Acknowledgements</h3><a id="user-content-acknowledgements" aria-label="Permalink: Acknowledgements" href="#acknowledgements"></a></p>
<p dir="auto">Redka would not be possible without these great projects and their creators:</p>
<ul dir="auto">
<li><a href="https://redis.io/" rel="nofollow">Redis</a> (<a href="https://github.com/antirez">Salvatore Sanfilippo</a>). It's such an amazing idea to go beyond the get-set paradigm and provide a convenient API for more complex data structures.</li>
<li><a href="https://sqlite.org/" rel="nofollow">SQLite</a> (<a href="https://www.sqlite.org/crew.html" rel="nofollow">D. Richard Hipp</a>). The in-process database powering the world.</li>
<li><a href="https://github.com/tidwall/redcon">Redcon</a> (<a href="https://github.com/tidwall">Josh Baker</a>). A very clean and convenient implementation of a RESP server.</li>
</ul>
<p dir="auto">Logo font by <a href="https://ektype.in/" rel="nofollow">Ek Type</a>.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">License</h3><a id="user-content-license" aria-label="Permalink: License" href="#license"></a></p>
<p dir="auto">Copyright 2024 <a href="https://antonz.org/" rel="nofollow">Anton Zhiyanov</a>.</p>
<p dir="auto">The software is available under the BSD-3-Clause license.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Stay tuned</h3><a id="user-content-stay-tuned" aria-label="Permalink: Stay tuned" href="#stay-tuned"></a></p>
<p dir="auto">★ <a href="https://antonz.org/subscribe/" rel="nofollow">Subscribe</a> to stay on top of new features.</p>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The Guide to Stock Options Conversations (116 pts)]]></title>
            <link>https://zaidesanton.substack.com/p/the-guide-to-stock-options-conversations</link>
            <guid>40030721</guid>
            <pubDate>Sun, 14 Apr 2024 12:45:18 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://zaidesanton.substack.com/p/the-guide-to-stock-options-conversations">https://zaidesanton.substack.com/p/the-guide-to-stock-options-conversations</a>, See on <a href="https://news.ycombinator.com/item?id=40030721">Hacker News</a></p>
<div id="readability-page-1" class="page"><div dir="auto"><p>TLDR: you should help your employees make sense of their stock options. </p><p><strong>When they start</strong><span>, help them understand how different scenarios will play out for them.</span></p><p><span>If they </span><strong>stay for a long time or are promoted</strong><span> - make sure they get additional grants. </span></p><p><strong>When they leave</strong><span> - help them gather the information they need to make a decision. Explain the 3 different scenarios, and how it’ll affect them - the company going bankrupt, being sold for the current valuation, and being sold for 10X. </span></p><p><span>Stock options help you </span><strong>align the employees' interests with the company's success.</strong></p><p>People don’t talk about stock options for multiple reasons:</p><ol><li><p><span>The “Assume your equity will be worth nothing” mantra. Especially in 2024, people prefer to treat stock options as</span><strong> a lottery ticket and not as an investment.</strong><span> </span></p></li><li><p><span>All the (unneeded) </span><strong>secrecy</strong><span> around the compensation package - you are not allowed to talk about your salary and stock options with other employees, and in some places not even with your manager.</span></p></li><li><p><strong>Companies make it hard to understand</strong><span> the value of your stock options. </span></p></li></ol><p><span> and </span><a href="https://www.linkedin.com/in/marcorogers/" rel="">Marco Rogers</a><span> had </span><a href="https://safeforwork.substack.com/p/023-startup-equity-the-obvious-yet" rel="">a great discussion about that topic</a><span>, which inspired me to write this article.</span></p><p>They mentioned that it’s our role as managers to:</p><blockquote><p><span>…</span><strong>Give people the info they need to think critically about equity.</strong><span> That means thinking about the probability of options being worth a lot vs. nothing vs. somewhere in the middle.</span></p><p><strong>Without equity, a startup job is just another job!</strong><span> Companies may see employees walking away from equity as letting them keep more for themselves. But this is terribly short-sighted, it takes away a major motivational factor for employees to work hard and stick with the company.&nbsp;</span></p></blockquote><p>I’m going to try to help you do that. You can also do your employees a favor, and just forward them this article :)</p><p>But first, a basic explanation of stock options:</p><p><em><span>For a deeper explanation,</span><a href="https://www.mystockoptions.com/articles/stock-options-101-the-essentials" rel=""> read this article.</a></em></p><p>Every company, including private ones like startups, is divided into parts called shares. These shares represent ownership in the company. For example, if a company has 1,000 shares in total and you own 200 of them, you own 20% of the company.</p><p>Stock options are a special deal companies offer to their employees, giving them the right to buy shares at a specific price, known as the exercise price (or grant price/strike price), after a certain period has passed. This is a way for companies to reward employees and encourage them to stay longer and work towards making the company more successful. </p><p>If the company's value increases, so does the value of its shares. This allows employees to buy shares at the lower exercise price and potentially sell them at a higher market price, making a profit.</p><p><strong>Stock options align the employees' interests with the company's success.</strong></p><p><span>The sad truth is that companies </span><a href="https://safeforwork.substack.com/p/023-startup-equity-the-obvious-yet" rel="">make it very hard for people to understand</a><span> the numbers behind stock options:</span></p><blockquote><p><strong>Marco: </strong><span>When employees try to learn more about equity, they can end up feeling like they’re not smart enough to understand the value of their equity and I think that's on purpose.</span></p><p><strong>Jen: </strong><span>I know for a fact that recruiters at many companies don’t want you to ask too many questions.&nbsp;</span></p><p><strong>Marco:</strong><span> I would go even further than that – the information imbalance has the deck stacked against employees. </span><strong>Companies don’t provide all the information</strong><span> that employees need to make informed decisions. So that’s one reason people simply opt out of the conversation altogether. </span></p></blockquote><p><span>When starting at a startup, an engineer usually gets a stock options grant, with a </span><a href="https://www.investopedia.com/ask/answers/09/what-is-cliff-vesting.asp" rel="">4-year vesting period, with 1-year cliff</a><span>. What they don’t know, is what they’ve actually got. </span><strong>What’s the worth of those options?</strong></p><p>You can help them with 3 simple questions:</p><p>This is the basic value they’ll need for any future discussion. What is the price they’ll need to pay to buy the share? </p><p>In some companies, the initial job contracts are misleading, and mention a nominal price of $0.01. In reality, when you get the option grant contract (usually after the next board meeting), it’s a higher value. </p><p>In my opinion, this should be discussed during the contract phase, but this is rarely the case, as companies deem it private information. </p><p><span>The crazy part is that even after you join - </span><strong>if you don’t ask, nobody will tell you. </strong></p><p>This information can help you understand if you are ‘in the money’ - meaning the exercise price is lower than the current share price.</p><p>A liquidation event = an Acquisition / Merge / IPO / Secondary sale. </p><p>You can play out a hypothetical scenario with them, just to explain the concept: “Let’s you got 1000 options, with an exercise price of $10, and the current share price is $15.”</p><ul><li><p><span>What can they gain if they sell for the </span><strong>current</strong><span> share price? - They’ll need to pay $10K, and will get $15K - a $5K profit.</span></p></li><li><p><span>What will they gain in the </span><strong>10X scenario? - </strong><span>They’ll pay the same $10K, but will get $150K - a $140K profit. Note that the bigger the company grows, the less impact the exercise price has. </span><br><em>This calculation doesn’t take into account the dilution during future funding rounds.</em></p></li></ul><p>If after having this conversation, the employee is left with the feeling: ”hmmm, even in the 10X scenario that’s not too much, I thought I’d make more” - you need to discuss it with your manager. Maybe you need to offer better packages.</p><p><a href="https://review.firstround.com/the-right-way-to-grant-equity-to-your-employees/" rel="">This article offers a valuable perspective</a><span> to see if your company is good at incentivizing employees:</span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5043275f-8ef4-439c-afcc-d296fffc1674_666x435.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5043275f-8ef4-439c-afcc-d296fffc1674_666x435.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5043275f-8ef4-439c-afcc-d296fffc1674_666x435.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5043275f-8ef4-439c-afcc-d296fffc1674_666x435.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5043275f-8ef4-439c-afcc-d296fffc1674_666x435.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5043275f-8ef4-439c-afcc-d296fffc1674_666x435.png" width="594" height="387.97297297297297" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/5043275f-8ef4-439c-afcc-d296fffc1674_666x435.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:435,&quot;width&quot;:666,&quot;resizeWidth&quot;:594,&quot;bytes&quot;:97317,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5043275f-8ef4-439c-afcc-d296fffc1674_666x435.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5043275f-8ef4-439c-afcc-d296fffc1674_666x435.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5043275f-8ef4-439c-afcc-d296fffc1674_666x435.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5043275f-8ef4-439c-afcc-d296fffc1674_666x435.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p><span>I’ll not get too deep into that, if you want to read about the best practices of additional stock options grants, </span><a href="https://review.firstround.com/the-right-way-to-grant-equity-to-your-employees/" rel="">go read the article mentioned above.</a></p><p>Just make sure you have a grasp of how it works in your company. You’ll be surprised how much you can affect those things. </p><p><a href="https://safeforwork.substack.com/p/023-startup-equity-the-obvious-yet" rel="">Marco shared his story in the article:</a></p><blockquote><p>After Yammer, I joined another startup as the first engineer, and I ended up vesting quite a bit of equity. When it was time to leave, I had some very serious conversations with my family. We made the bet and put down a lot of money to exercise, then spent 3.5 years waiting. Finally, the news came that the company was going public, and I got an even bigger check than I had from Yammer. I started reconnecting with coworkers and it was… heartbreaking.</p><p><span>Just heartbreaking. People told me, </span><strong>“I didn't understand equity, it seemed too expensive to exercise, so I didn’t do anything.”</strong><span> It’s tough, because the period I worked for that company was pretty grueling, but I can tell you what makes up for it: money. Money makes up for a lot of regret. It really solidified the stance that I'm laying out right now, which is that you can't ignore the value of equity.</span></p></blockquote><p>Do NOT take this story as advice that you should tell your employees to always exercise their options! That is definitely not the case. </p><p><span>The lesson is that </span><strong>most people approach this decision in ignorance</strong><span>. They think something along the lines of: “I need to pay $30K to exercise my options. The chances of actually seeing money from it are very low, so it’s not worth that money”.</span></p><p>Let’s say your employee vested 1000 shares, with an exercise price of $30 for each. So to exercise (=buy) all of them, they’ll need to spend $30K, not a small sum. </p><p><span>In my opinion, it’s our job as managers to help them </span><strong>make the right decision, for THEM.</strong></p><p>What do they need to consider before making the decision:</p><p>Similar to the question in the first section - this is the most critical question, it is the value the investors in the last round paid for their shares. </p><p>There is a HUGE difference between these 2 cases:</p><ul><li><p>A current share price of $50, which prices your shares at $50K. In this case, if you don’t buy the shares, you are leaving $20K ‘on the table’.</p></li><li><p><span>A current share price of $300. In this case, your shares are priced at $300K </span><strong>right now</strong><span>, and you’ll be leaving $270K ‘on the table’. </span></p></li></ul><p>As an insider, people think they have better knowledge, but usually, they just get emotionally involved in the decision. I don’t have data to back that up, but I’m sure that employees that were fired, are much less likely to exercise their options. Their logic could be “If this company chose to fire a great employee like me, there is no chance they’ll succeed”.</p><p>It’s much better to use cold data and take into account the stage of the company. This is just an example, you don’t really need exact numbers:</p><p>Buying your shares is NOT a bet, but an investment. The employee needs to decide if they want to make it, and how much to spend on it.</p><p><span>It’s not all-or-nothing! They can buy just some of their shares. If they are not willing to spend any money, they can use companies such as </span><a href="https://join.equitybee.com/" rel="">Equitybee</a><span>, which lets “you exercise your stock options with no out-of-pocket cost so you can profit from a future IPO.” [Not sponsored, and I’ve never tried them]. </span></p><p>Once they have the information, they need to consider 3 options:</p><ol><li><p><strong>You will lose 100% of your investment</strong><span> - the most likely option. Will you be angry at yourself for spending that money? Will it create a conflict in the family? Or will you be able to brush it off?</span></p></li><li><p><span>The company will be sold </span><strong>close to the current value - </strong><span>how much will you make? </span></p></li><li><p><span>The company will be sold for </span><strong>10x the current value</strong><span> - </span><strong>how will you feel if won’t be a part of it? </strong><span>Is it a life-changing event, and you will regret it your whole life? </span></p></li></ol><p>In the end, only the employee can make that decision, but you can provide A LOT of help in gathering the information and laying out the facts.</p><p><span>It’s important to understand that this could be one of the </span><strong>most critical investment decisions</strong><span> the employee will make their whole life. And as such, it needs to be considered carefully. I would even go as far as to recommend talking to a financial advisor for personalized advice.</span></p><p>I know that most people think that I went a little overboard with the guidance to employees. Until the companies do a better job of it, and there will be better education and common knowledge - I think it’s our job as managers to fill the gaps. </p><p><span>If the subjects of stocks, VCs, and money interest you, I recommend you subscribe to </span></p><p><span> and </span></p><p><span>.</span></p><ul><li><p><a href="https://randsinrepose.com/archives/the-update-the-vent-and-the-disaster" rel="">This is BY FAR the best article I’ve read on 1:1 meetings</a><span>, by </span></p><span> </span></li><li><p><a href="https://read.perspectiveship.com/p/inversion" rel="">What we should do to make our teams miserable</a><span> (the inversion mental model) by </span></p><span> </span></li><li><p><a href="https://enginuity.substack.com/p/manager-leader-mentor" rel="">The multiple forms of leadership - Manager, Leader, Mentor,</a><span> by </span></p><span> </span></li></ul></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Godot as an Embeddable Game Engine (104 pts)]]></title>
            <link>https://tirania.org/blog/archive/2024/Apr-23.html</link>
            <guid>40029628</guid>
            <pubDate>Sun, 14 Apr 2024 08:30:09 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://tirania.org/blog/archive/2024/Apr-23.html">https://tirania.org/blog/archive/2024/Apr-23.html</a>, See on <a href="https://news.ycombinator.com/item?id=40029628">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
	<h2 id="embeddable-game-engine">Embeddable Game Engine</h2>
<p><img src="https://migueldeicaza.github.io/SwiftGodotDocs/images/SwiftGodot%20Header.png" width="240">
Many years ago, when working at Xamarin, where we were building cross-platform
libraries for mobile developers, we wanted to offer both 2D and 3D gaming
capabilities for our users in the form of adding 2D or 3D content to their
mobile applications.</p>
<p>For 2D, we contributed and developed assorted Cocos2D-inspired libraries.</p>
<p>For 3D, the situation was more complex. We funded a few over the years, and we
contributed to others over the years, but nothing panned out (the
history of this is worth a dedicated post).</p>
<p>Around 2013, we looked around, and there were two contenders at the
time, one was an embeddable engine with many cute features but not great UI
support called Urho, and the other one was a <a href="https://en.wikipedia.org/wiki/Godot_(game_engine)">Godot</a>, which had a great IDE, but
did not support being embedded.</p>
<p>I reached out to Juan at the time to discuss whether Godot could be turned into
such engine.   While I tend to take copious notes of all my meetings, those
notes sadly were gone as part of the Microsoft acquisition, but from what I can
remember Juan told me, "Godot is not what you are looking for" in two dimensions,
there were no immediate plans to turn it into an embeddable library, and it was
not as advanced as Urho, so he recommended that I go with Urho.</p>
<p>We invested heavily in binding Urho and created
<a href="https://github.com.xamarin/urho">UrhoSharp</a> that would go into becoming a <a href="https://devblogs.microsoft.com/xamarin/bring-3d-models-life-augmented-reality-urhosharp/">great
3D library for our C# users</a> and worked not only on every desktop and mobile
platform, but we did a ton of work to make it great for AR and VR headsets.
Sadly, Microsoft's management left UrhoSharp to die.</p>
<p>Then, the maintainer of Urho stepped down, and Godot became one of the most
popular open-source projects in the world.</p>
<p>Last year, @Faolan-Rad <a href="https://github.com/godotengine/godot/pull/72883">contributed a patch to Godot</a> to turn it into a library
that could be embedded into applications.   I used this library to build
<a href="https://github.com/migueldeicaza/SwiftGodotKit">SwiftGodotKit</a> and have been
very happy with it ever since - allowing people to embed Godot content into
their application.</p>
<p>However, the patch had severe limitations; it could only ever run one Godot game as
an embedded system and could not do much more.   The folks at <a href="https://www.smirk.gg/">Smirk
Software</a> wanted to take this further. They wanted to host
independent Godot scenes in their app and have more control over those so
they could sprinkle Godot content at their heart's content on their mobile app.</p>
<p>They funded some initial work to do this and hired <a href="https://migeran.com/">Gergely
Kis's company</a> to do this work.</p>
<p>Gergely demoed this work at GodotCon last year.   I came back very excited from
GodotCon and I decided to turn my <a href="https://x.com/migueldeicaza/status/1723765594653167892">prototype Godot on iPad</a> into a <a href="https://blog.la-terminal.net/igodot/">complete
product</a>.</p>
<p>One of the features that I needed was the ability to embed chunks of Godot in
discrete components in my iPad UI, so we worked with Gergely to productize and
polish this patch for general consumption.</p>
<p>Now, there is a <a href="https://github.com/godotengine/godot/pull/90510">complete patch under review</a> to allow people to embed arbitrary
Godot scenes into their apps.   For SwiftUI users, this means that you can embed a Godot scene into a <code>View</code> and display and control it at will.</p>
<p>Hopefully, the team will accept this change into Godot, and once this is done, I will
update SwiftGodotKit to get these new capabilities to Swift users (bindings for
other platforms and languages are left as an exercise to the reader).</p>
<p>It only took a decade after talking to Juan, but I am back firmly in Godot land.</p>

</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Problem with selling developer tools is that devs have no purchasing authority (192 pts)]]></title>
            <link>https://twitter.com/d_feldman/status/1779203622351339955</link>
            <guid>40029283</guid>
            <pubDate>Sun, 14 Apr 2024 07:13:20 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://twitter.com/d_feldman/status/1779203622351339955">https://twitter.com/d_feldman/status/1779203622351339955</a>, See on <a href="https://news.ycombinator.com/item?id=40029283">Hacker News</a></p>
Couldn't get https://twitter.com/d_feldman/status/1779203622351339955: Error: Request failed with status code 400]]></description>
        </item>
        <item>
            <title><![CDATA[Obituary for a Quiet Life (1015 pts)]]></title>
            <link>https://bittersoutherner.com/feature/2023/obituary-for-a-quiet-life</link>
            <guid>40028643</guid>
            <pubDate>Sun, 14 Apr 2024 04:24:38 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://bittersoutherner.com/feature/2023/obituary-for-a-quiet-life">https://bittersoutherner.com/feature/2023/obituary-for-a-quiet-life</a>, See on <a href="https://news.ycombinator.com/item?id=40028643">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-block-type="2" data-border-radii="{&quot;topLeft&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;value&quot;:0.0},&quot;topRight&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;value&quot;:0.0},&quot;bottomLeft&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;value&quot;:0.0},&quot;bottomRight&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;value&quot;:0.0}}" id="block-yui_3_17_2_1_1683818697887_232641">
  <p>What I’ll miss most is the sound of his voice, cooked up in the North Carolina mountains out of remnants from across an ocean. <em>There</em> always <em>thar</em>, <em>fire</em> always <em>far</em>. I loved the phrase <em>ever which a’way but loose</em>. Loved how things <em>liked to happen</em>. How <em>hello</em> was <em>what do you say</em> and how <em>being still</em> meant <em>setting awhile</em>.&nbsp;&nbsp;</p><p>Even his voice was quiet, throaty and clipped in the way of men in these mountains — a voice meant for conversations beyond a crowd, meant for the group of men eyeing the door, aiming to be outside where it’d be easier to talk about nothing or just as soon not talk at all.&nbsp;</p><p>He could go hours without saying a word, but a flash of wit always waited on his tongue. For nearly 70 years he kept up a constant, good-natured banter with Grandma over anything and everything.&nbsp;</p><p>“I can’t rightly remember,” she said on one of my story-seeking visits.</p><p>“You’re getting too old to remember all that, woman.”</p><p>“I surely am.”</p><p>“I know the feeling.”</p><p>A month before he passed, faded and worn down to a wheelchair, his head still popped up when Grandma walked into the kitchen: “Hey thar, pretty girl.”&nbsp;</p><p>The morning after Grandma called me, I took my boys by to see Papaw for the last time. He’d been unresponsive for a day, but when we entered the bedroom, he was awake again. He couldn’t find his voice — he’d been breathing through his mouth, and his throat was too dry to speak up — so I leaned in. He looked to my sons and said, “Hey, fellers.”</p><p>They waved.&nbsp;</p><p>“I love you,” I told him.</p><p>“Love you, buddy,” he whispered.&nbsp;</p><p>“You done good,” I said because that’s how he would’ve said it, but also because that’s how I meant it. He’d done so much good, even if it couldn’t be listed on official records or captured in the stat sheet of an obituary. The good of his life was ever-rippling water, quiet and steady, and my boys and I would long be swept up in it.&nbsp;</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Making Truth Social Comply with the AGPL (159 pts)]]></title>
            <link>https://boehs.org/node/truth-social</link>
            <guid>40028338</guid>
            <pubDate>Sun, 14 Apr 2024 03:10:40 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://boehs.org/node/truth-social">https://boehs.org/node/truth-social</a>, See on <a href="https://news.ycombinator.com/item?id=40028338">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><dl><dt><strong><a href="https://boehs.org/locations/">in</a></strong></dt><dd><a href="https://boehs.org/in/blog">blog</a></dd><dt><strong>date</strong></dt><dd><span itemprop="datePublished" content="Sat Apr 13 2024 00:00:00 GMT+0000 (Coordinated Universal Time)">4/13/2024</span></dd></dl><hr><p>A hot minute ago, there was this interesting trend of Republicans being ostracized by mainstream social media, then forming their own. In these places, their version of the truth can proliferate without the moderation they’ve grown to despise. To do this, the conventional strategy is to reskin open-source social media platforms without attribution. There is, of course, a certain irony to the fact that the labor they exploit is frequently performed by liberals, queers, socialists, and other groups they’ve sworn to destroy, but I digress.</p><p>Luckily, the platforms they leech off are not entirely defenseless. The code of Mastodon is released under the AGPL, a strict open source license that prevents redistribution without disclosure of derivative source code.&nbsp; Both gab and Truth Social have been identified as derivative work of Mastodon, and hence both are bound by the provisions of the AGPL. Mastodon has successfully defended its codebase a number of times, including in 2021, when they successfully convinced Truth Social to release its code. Truth Social continued these releases until December 20th, 2022, when the uploads stopped. How embarrassing.</p><p>To conduct a request under the AGPL, I need to prove that Truth Social uses AGPL licensed code, and that I have accessed said code. The latter is incredibly easy — the login page fetches <code>/api/v1/instance</code>, which is a pretty distinct Mastodon characteristic. Still, what’s to say that they didn’t just do a faithful, clean room implementation of the Mastodon API? The login page source code makes zero reference to ‘Mastodon’, so I was playing with this familiar API looking for a tell.</p><p>Yeah, I think I found it.</p><p><img src="https://boehs.org/assets/Pasted%20image%2020240411112921.png"></p><p>With this in mind, I set my sights on the legal department. Somehow, I doubted they would reply to me.</p><p><img src="https://boehs.org/assets/Pasted%20image%2020240411113030.png"></p><p>I also started poking around on the frontend, which is unambiguously powered by Soapbox, another piece of software licensed under the AGPL.</p><p><img src="https://boehs.org/assets/Pasted%20image%2020240411114228.png"></p><p>They also make “open source” releases of Soapbox. I was curious if these releases would be up-to-date (they aren’t), but what I found was really quite interesting:</p><p><img src="https://boehs.org/assets/Pasted%20image%2020240411115229.png"></p><p>Simply uploading your compiled code and calling it “open source” does <em>not</em> count as compliance, even if it was up-to-date.</p><p>At this point, the SFC was taking interest. While I have more than enough grounds for the above request, if they don’t comply, the next challenge before a public exposé is proving that the <em>Mastodon</em> codebase has actually been changed since its last open source release. This, of course, is incredibly plausible, given the frontend code obviously has. But we need proof.</p><p>Kindly, I was provided with a Truth Social account (I do not want my phone number on there, in the event that a little birdie gives maia arson crimew another issue of “<a href="https://maia.crimew.gay/posts/meet-the-shitpoasters/">the shitposters</a>”). I then clicked around, and discovered the following endpoints in a minute:</p><pre><code>/api/v4/truth/ads?device=desktop
/api/v1/truth/policies/pending
/api/v1/truth/carousels/suggestions
/api/v1/truth/policies/pending
/api/v1/groups/tags
</code></pre><p>Unsurprisingly, Mastodon does not have an ads endpoint. It also doesn’t have a v4 API. Neither does the open source release.</p><p>The truth directory does exist. It’s at <code>/app/controllers/api/v1/truth/</code>. Unfortunately for Trump Media &amp; Technology Group, the files are missing here.</p><pre><code>$ tree app/controllers/api/v1/truth
app/controllers/api/v1/truth
├── admin
│ &nbsp; └── accounts_controller.rb
├── emails_controller.rb
├── passwords_controller.rb
└── trending
&nbsp; &nbsp; └── truths_controller.rb
$ rg carousels | wc -l
0
</code></pre><p>Of course, Republicans are categorically inclusive, which is why they bundle code from a <em>third</em> fediverse codebase that’s AGPL licensed — Pleroma:</p><p><img src="https://boehs.org/assets/Pasted%20image%2020240411135059.png"><br>(nice localization, btw).</p><p>I was, of course, expecting this to go nowhere. I’m just Evan. TMTG could just drag their feet with the hopes that I give up. I, of course, had no intent of doing so — I was very serious when I said that I would take this matter to the press if I had to. Surprisingly, however, this story doesn’t end with a public boxing match between me and the 45th president. I decided that I would give them 7 days before escalating. This weekend, I received an email stating that they had complied — 2 days before my internal deadline. I checked the source code and sure enough, it is up-to-date as far as I can tell. I’ve released it here:</p><p><a href="https://github.com/boehs/truthsocial/tree/main">Automatically updated dump of Truth Social’s source code (reskinned Mastodon)</a></p><p>Once again, this was absolutely not the outcome I expected. Some people might be <em>disappointed</em> by it. I might be relieved. After I sent that email, I was a little worried about what I was getting myself into. The <em>Truth Social Legal Team</em>. Imagine. But it went my way. The real takeaway is that you do have power. Don’t be scared of the big guys. Speak their language, play on their court. Stand up for what you believe in. You can win. Finally, I want to thank Truth Social for complying appropriately. While we couldn’t be further apart politically, I respect that they followed the law in a timely manner without a fight.</p><p>In terms of the code — I haven’t looked at it yet. It’s diverged significantly from Mastodon, but the resemblance is there. They’ve cherry-picked specific commits from upstream, but not all of them. I’m sure there are some <a href="https://infosec.exchange/@bontchev/112257849039442072">goodies to be found</a>. I encourage all of you to go looking for them alongside me, as that is your right. Tell me what you find. God speed.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: PostgreSQL index advisor (320 pts)]]></title>
            <link>https://github.com/supabase/index_advisor</link>
            <guid>40028111</guid>
            <pubDate>Sun, 14 Apr 2024 02:14:36 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/supabase/index_advisor">https://github.com/supabase/index_advisor</a>, See on <a href="https://news.ycombinator.com/item?id=40028111">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><h2 tabindex="-1" dir="auto">PostgreSQL Index Advisor</h2><a id="user-content-postgresql-index-advisor" aria-label="Permalink: PostgreSQL Index Advisor" href="#postgresql-index-advisor"></a></p>
<p dir="auto">
<a href="https://github.com/supabase/index_advisor/blob/main"><img src="https://camo.githubusercontent.com/fcbb85cdafab586a5805e2d34c6bb52a01c0c07858f4ae92d570b60d4ca010e7/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f706f737467726573716c2d31332b2d626c75652e737667" alt="PostgreSQL version" height="18" data-canonical-src="https://img.shields.io/badge/postgresql-13+-blue.svg"></a>
<a href="https://github.com/supabase/index_advisor/blob/master/LICENSE"><img src="https://camo.githubusercontent.com/d9cf21745199186ea8db42f6c4220b8ca3bef5a5cb7b96b95c108456afea6100/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f73757061626173652f696e6465785f61647669736f72" alt="License" height="18" data-canonical-src="https://img.shields.io/github/license/supabase/index_advisor"></a>
<a href="https://github.com/supabase/index_advisor/actions"><img src="https://github.com/supabase/index_advisor/actions/workflows/test.yml/badge.svg" alt="tests" height="18"></a>
</p>
<p dir="auto">A PostgreSQL extension for recommending indexes to improve query performance.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/supabase/index_advisor/blob/main/docs/img/dashboard.png"><img src="https://github.com/supabase/index_advisor/raw/main/docs/img/dashboard.png" alt="Dashboard"></a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Features</h2><a id="user-content-features" aria-label="Permalink: Features" href="#features"></a></p>
<ul dir="auto">
<li>Supports generic parameters e.g. <code>$1</code>, <code>$2</code></li>
<li>Supports materialized views</li>
<li>Identifies tables/columns obfuscaed by views</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">API</h2><a id="user-content-api" aria-label="Permalink: API" href="#api"></a></p>
<p dir="auto"><h4 tabindex="-1" dir="auto">Description</h4><a id="user-content-description" aria-label="Permalink: Description" href="#description"></a></p>
<p dir="auto">For a given <em>query</em>, searches for a set of SQL DDL <code>create index</code> statements that improve the query's execution time;</p>
<p dir="auto"><h4 tabindex="-1" dir="auto">Signature</h4><a id="user-content-signature" aria-label="Permalink: Signature" href="#signature"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="index_advisor(query text)
returns
    table  (
        startup_cost_before jsonb,
        startup_cost_after jsonb,
        total_cost_before jsonb,
        total_cost_after jsonb,
        index_statements text[],
        errors text[]
    )"><pre>index_advisor(query <span>text</span>)
returns
    table  (
        startup_cost_before jsonb,
        startup_cost_after jsonb,
        total_cost_before jsonb,
        total_cost_after jsonb,
        index_statements <span>text</span>[],
        errors <span>text</span>[]
    )</pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">Usage</h2><a id="user-content-usage" aria-label="Permalink: Usage" href="#usage"></a></p>
<p dir="auto">For a minimal example, the <code>index_advisor</code> function can be given a single table query with a filter on an unindexed column.</p>
<div dir="auto" data-snippet-clipboard-copy-content="create extension if not exists index_advisor cascade;

create table book(
  id int primary key,
  title text not null
);

select
    *
from
  index_advisor('select book.id from book where title = $1');
"><pre>create extension if not exists index_advisor cascade;

<span>create</span> <span>table</span> <span>book</span>(
  id <span>int</span> <span>primary key</span>,
  title <span>text</span> <span>not null</span>
);

<span>select</span>
    <span>*</span>
<span>from</span>
  index_advisor(<span><span>'</span>select book.id from book where title = $1<span>'</span></span>);
</pre></div>
<div dir="auto" data-snippet-clipboard-copy-content=" startup_cost_before | startup_cost_after | total_cost_before | total_cost_after |                  index_statements                   | errors
---------------------+--------------------+-------------------+------------------+-----------------------------------------------------+--------
 0.00                | 1.17               | 25.88             | 6.40             | {&quot;CREATE INDEX ON public.book USING btree (title)&quot;},| {}

(1 row)"><pre> startup_cost_before | startup_cost_after | total_cost_before | total_cost_after |                  index_statements                   | errors
---------------------+--------------------+-------------------+------------------+-----------------------------------------------------+--------
 0.00                | 1.17               | 25.88             | 6.40             | {"CREATE INDEX ON public.book USING btree (title)"},| {}

(1 row)</pre></div>
<p dir="auto">More complex queries may generate additional suggested indexes</p>
<div dir="auto" data-snippet-clipboard-copy-content="create extension if not exists index_advisor cascade;

create table author(
    id serial primary key,
    name text not null
);

create table publisher(
    id serial primary key,
    name text not null,
    corporate_address text
);

create table book(
    id serial primary key,
    author_id int not null references author(id),
    publisher_id int not null references publisher(id),
    title text
);

create table review(
    id serial primary key,
    book_id int references book(id),
    body text not null
);

select
    *
from
    index_advisor('
        select
            book.id,
            book.title,
            publisher.name as publisher_name,
            author.name as author_name,
            review.body review_body
        from
            book
            join publisher
                on book.publisher_id = publisher.id
            join author
                on book.author_id = author.id
            join review
                on book.id = review.book_id
        where
            author.id = $1
            and publisher.id = $2
    ');
"><pre>create extension if not exists index_advisor cascade;

<span>create</span> <span>table</span> <span>author</span>(
    id <span>serial</span> <span>primary key</span>,
    name <span>text</span> <span>not null</span>
);

<span>create</span> <span>table</span> <span>publisher</span>(
    id <span>serial</span> <span>primary key</span>,
    name <span>text</span> <span>not null</span>,
    corporate_address <span>text</span>
);

<span>create</span> <span>table</span> <span>book</span>(
    id <span>serial</span> <span>primary key</span>,
    author_id <span>int</span> <span>not null</span> <span>references</span> author(id),
    publisher_id <span>int</span> <span>not null</span> <span>references</span> publisher(id),
    title <span>text</span>
);

<span>create</span> <span>table</span> <span>review</span>(
    id <span>serial</span> <span>primary key</span>,
    book_id <span>int</span> <span>references</span> book(id),
    body <span>text</span> <span>not null</span>
);

<span>select</span>
    <span>*</span>
<span>from</span>
    index_advisor(<span><span>'</span></span>
<span>        select</span>
<span>            book.id,</span>
<span>            book.title,</span>
<span>            publisher.name as publisher_name,</span>
<span>            author.name as author_name,</span>
<span>            review.body review_body</span>
<span>        from</span>
<span>            book</span>
<span>            join publisher</span>
<span>                on book.publisher_id = publisher.id</span>
<span>            join author</span>
<span>                on book.author_id = author.id</span>
<span>            join review</span>
<span>                on book.id = review.book_id</span>
<span>        where</span>
<span>            author.id = $1</span>
<span>            and publisher.id = $2</span>
<span>    <span>'</span></span>);
</pre></div>
<div dir="auto" data-snippet-clipboard-copy-content=" startup_cost_before | startup_cost_after | total_cost_before | total_cost_after |                  index_statements                         | errors
---------------------+--------------------+-------------------+------------------+-----------------------------------------------------------+--------
 27.26               | 12.77              | 68.48             | 42.37            | {&quot;CREATE INDEX ON public.book USING btree (author_id)&quot;,   | {}
                                                                                    &quot;CREATE INDEX ON public.book USING btree (publisher_id)&quot;,
                                                                                    &quot;CREATE INDEX ON public.review USING btree (book_id)&quot;}
(3 rows)"><pre> startup_cost_before | startup_cost_after | total_cost_before | total_cost_after |                  index_statements                         | errors
---------------------+--------------------+-------------------+------------------+-----------------------------------------------------------+--------
 27.26               | 12.77              | 68.48             | 42.37            | {"CREATE INDEX ON public.book USING btree (author_id)",   | {}
                                                                                    "CREATE INDEX ON public.book USING btree (publisher_id)",
                                                                                    "CREATE INDEX ON public.review USING btree (book_id)"}
(3 rows)</pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">Install</h2><a id="user-content-install" aria-label="Permalink: Install" href="#install"></a></p>
<p dir="auto">Requires Postgres with <a href="https://github.com/HypoPG/hypopg">hypopg</a> installed.</p>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/supabase/index_advisor.git
cd index_advisor
sudo make install"><pre>git clone https://github.com/supabase/index_advisor.git
<span>cd</span> index_advisor
sudo make install</pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">Run Tests</h2><a id="user-content-run-tests" aria-label="Permalink: Run Tests" href="#run-tests"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="make install; make installcheck"><pre>make install<span>;</span> make installcheck</pre></div>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Fast and secure translation on your local machine with a GUI (141 pts)]]></title>
            <link>https://github.com/XapaJIaMnu/translateLocally</link>
            <guid>40027866</guid>
            <pubDate>Sun, 14 Apr 2024 01:22:49 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/XapaJIaMnu/translateLocally">https://github.com/XapaJIaMnu/translateLocally</a>, See on <a href="https://news.ycombinator.com/item?id=40027866">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><h2 tabindex="-1" dir="auto">translateLocally</h2><a id="user-content-translatelocally" aria-label="Permalink: translateLocally" href="#translatelocally"></a></p>
<p dir="auto">Fast and secure translation on your local machine with a GUI, powered by marian and Bergamot.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Downloads</h2><a id="user-content-downloads" aria-label="Permalink: Downloads" href="#downloads"></a></p>
<p dir="auto">You can download the latest automatic build for Windows, Linux and Mac from the <a href="https://github.com/XapaJIaMnu/translateLocally/releases">releases</a> github tab or from the <a href="https://translatelocally.com/" rel="nofollow">official website</a>. We also have compatibility builds for Windows and Mac that aim to cover very old hardware and M1.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Compile from source</h2><a id="user-content-compile-from-source" aria-label="Permalink: Compile from source" href="#compile-from-source"></a></p>
<p dir="auto">Bringing fast and secure machine translation to the masses! To build and run</p>
<div dir="auto" data-snippet-clipboard-copy-content="mkdir build
cd build
cmake ..
# this step is only necessary when compiling on ARM
# cmake should give you the absolute path of the command that needs to run:
# $GITHUB_WORKSPACE/cmake/fix_ruy_build.sh $GITHUB_WORKSPACE ${{github.workspace}}/build`
make -j5
./translateLocally"><pre>mkdir build
<span>cd</span> build
cmake ..
<span><span>#</span> this step is only necessary when compiling on ARM</span>
<span><span>#</span> cmake should give you the absolute path of the command that needs to run:</span>
<span><span>#</span> $GITHUB_WORKSPACE/cmake/fix_ruy_build.sh $GITHUB_WORKSPACE ${{github.workspace}}/build`</span>
make -j5
./translateLocally</pre></div>
<p dir="auto">Requires <code>QT&gt;=5 libarchive intel-mkl-static</code>. We make use of the <code>QT&gt;=5 network</code>, <code>QT&gt;=5 linguisticTool</code> and <code>QT&gt;=5 svg</code> components. Depending on your distro, those may be split in separate package from your QT package (Eg <code>qt{6/7}-tools-dev</code>; <code>qt{5/6}-svg</code> or <code>libqt5svg5-dev</code>). QT6 is fully supported and its use is encouraged. <code>intel-mkl-static</code> may be part of <code>mkl</code> or <code>intel-mkl</code> packages.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Ubuntu 20.04 build dependencies:</h3><a id="user-content-ubuntu-2004-build-dependencies" aria-label="Permalink: Ubuntu 20.04 build dependencies:" href="#ubuntu-2004-build-dependencies"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="sudo apt-get install -y libpcre++-dev qttools5-dev qtbase5-dev libqt5svg5-dev libarchive-dev libpcre2-dev"><pre>sudo apt-get install -y libpcre++-dev qttools5-dev qtbase5-dev libqt5svg5-dev libarchive-dev libpcre2-dev</pre></div>
<p dir="auto"><h3 tabindex="-1" dir="auto">Ubuntu 22.04 build dependencies:</h3><a id="user-content-ubuntu-2204-build-dependencies" aria-label="Permalink: Ubuntu 22.04 build dependencies:" href="#ubuntu-2204-build-dependencies"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="sudo apt-get install -y libxkbcommon-x11-dev libpcre++-dev libvulkan-dev libgl1-mesa-dev qt6-base-dev qt6-base-dev-tools qt6-tools-dev qt6-tools-dev-tools qt6-l10n-tools qt6-translations-l10n libqt6svg6-dev libarchive-dev libpcre2-dev"><pre>sudo apt-get install -y libxkbcommon-x11-dev libpcre++-dev libvulkan-dev libgl1-mesa-dev qt6-base-dev qt6-base-dev-tools qt6-tools-dev qt6-tools-dev-tools qt6-l10n-tools qt6-translations-l10n libqt6svg6-dev libarchive-dev libpcre2-dev</pre></div>
<p dir="auto"><h4 tabindex="-1" dir="auto">Install MKL for Ubuntu (Any)</h4><a id="user-content-install-mkl-for-ubuntu-any" aria-label="Permalink: Install MKL for Ubuntu (Any)" href="#install-mkl-for-ubuntu-any"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="wget -qO- &quot;https://apt.repos.intel.com/intel-gpg-keys/GPG-PUB-KEY-INTEL-SW-PRODUCTS-2019.PUB&quot; | sudo apt-key add -
  sudo sh -c &quot;echo deb https://apt.repos.intel.com/mkl all main > /etc/apt/sources.list.d/intel-mkl.list&quot;
  sudo apt-get update -o Dir::Etc::sourcelist=&quot;/etc/apt/sources.list.d/intel-mkl.list&quot;
  sudo apt-get install -y --no-install-recommends intel-mkl-64bit-2020.0-088"><pre>wget -qO- <span><span>"</span>https://apt.repos.intel.com/intel-gpg-keys/GPG-PUB-KEY-INTEL-SW-PRODUCTS-2019.PUB<span>"</span></span> <span>|</span> sudo apt-key add -
  sudo sh -c <span><span>"</span>echo deb https://apt.repos.intel.com/mkl all main &gt; /etc/apt/sources.list.d/intel-mkl.list<span>"</span></span>
  sudo apt-get update -o Dir::Etc::sourcelist=<span><span>"</span>/etc/apt/sources.list.d/intel-mkl.list<span>"</span></span>
  sudo apt-get install -y --no-install-recommends intel-mkl-64bit-2020.0-088</pre></div>
<p dir="auto"><h3 tabindex="-1" dir="auto">Archlinux build dependencies</h3><a id="user-content-archlinux-build-dependencies" aria-label="Permalink: Archlinux build dependencies" href="#archlinux-build-dependencies"></a></p>
<div data-snippet-clipboard-copy-content="# pacman -S libarchive pcre2 protobuf qt6-base qt6-svg intel-oneapi-mkl"><pre><code># pacman -S libarchive pcre2 protobuf qt6-base qt6-svg intel-oneapi-mkl
</code></pre></div>
<p dir="auto"><h3 tabindex="-1" dir="auto">OpenBlas</h3><a id="user-content-openblas" aria-label="Permalink: OpenBlas" href="#openblas"></a></p>
<p dir="auto">We technically support building against OpenBLAS as a BLAS provider, but we <strong>strongly discourage it</strong>. The performance offered by OpenBLAS is significantly lower than that of Intel's MKL, regardless of the CPU manufacturer. Furthermore, OpenBLAS enables OpenMP parallelization by default, but unfortunately our matrices are too small to take advantage of OpenMP and we end up with up to 100x slowdown compared MKL in the worst case scenario with the majority of end users not aware of how to debug this issue. How sad.</p>
<p dir="auto">If you <em>really</em> want to use OpenBLAS instead you can do:</p>
<div dir="auto" data-snippet-clipboard-copy-content="mkdir build
cd build
cmake .. -DBLAS_LIBRARIES=-lblas -DCBLAS_LIBRARIES=-lcblas
make -j6
OMP_NUM_THREADS=1 ./translateLocally # disable OpenMP parallelization."><pre>mkdir build
<span>cd</span> build
cmake .. -DBLAS_LIBRARIES=-lblas -DCBLAS_LIBRARIES=-lcblas
make -j6
OMP_NUM_THREADS=1 ./translateLocally <span><span>#</span> disable OpenMP parallelization.</span></pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">MacOS Build</h2><a id="user-content-macos-build" aria-label="Permalink: MacOS Build" href="#macos-build"></a></p>
<p dir="auto">On MacOS, translateLocally doesn't rely on MKL, but instead on Apple accelerate. If you want to build a portable executable that is able to run on multiple machines, we recommend using Qt's distribution of Qt, as opposed to homebrew's due to issues with <a href="https://github.com/XapaJIaMnu/translateLocally/issues/69" data-hovercard-type="issue" data-hovercard-url="/XapaJIaMnu/translateLocally/issues/69/hovercard">macdeployqt</a>. To produce a <code>.dmg</code>do:</p>
<div dir="auto" data-snippet-clipboard-copy-content="mkdir build
cd build
cmake ..
cmake --build . -j3 --target translateLocally-bin translateLocally.dmg"><pre>mkdir build
<span>cd</span> build
cmake ..
cmake --build <span>.</span> -j3 --target translateLocally-bin translateLocally.dmg</pre></div>
<p dir="auto">Alternatively, if you wish to sign and notarize the <code>.dmg</code>for distribution, you may use <a href="https://github.com/XapaJIaMnu/translateLocally/blob/master/dist/macdmg.sh">macdmg.sh</a></p>
<div dir="auto" data-snippet-clipboard-copy-content="mkdir build
cd build
cmake ..
make -j5
../dist/macdmg.sh ."><pre>mkdir build
<span>cd</span> build
cmake ..
make -j5
../dist/macdmg.sh <span>.</span></pre></div>
<p dir="auto">Check the script for the environment variables that you need to set if you want to take advantage of signing and notarization.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Windows Build</h2><a id="user-content-windows-build" aria-label="Permalink: Windows Build" href="#windows-build"></a></p>
<p dir="auto">On Windows, we recommend using <a href="https://github.com/Microsoft/vcpkg">vcpkg</a> to install all necessary packages and Visual Studio to perform the build.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Command line interface</h2><a id="user-content-command-line-interface" aria-label="Permalink: Command line interface" href="#command-line-interface"></a></p>
<p dir="auto">translateLocally supports using the command line to perform translations. Example usage:</p>
<div dir="auto" data-snippet-clipboard-copy-content="./translateLocally --help
Usage: ./translateLocally [options]
A secure translation service that performs translations for you locally, on your own machine.

Options:
  -h, --help                     Displays help on commandline options.
  --help-all                     Displays help including Qt specific options.
  -v, --version                  Displays version information.
  -l, --list-models              List locally installed models.
  -a, --available-models         Connect to the Internet and list available
                                 models. Only shows models that are NOT
                                 installed locally or have a new version
                                 available online.
  -d, --download-model <output>  Connect to the Internet and download a model.
  -r, --remove-model <output>    Remove a model from the local machine. Only
                                 works for models managed with translateLocally.
  -m, --model <model>            Select model for translation.
  -i, --input <input>            Source translation text (or just used stdin).
  -o, --output <output>          Target translation output (or just used
                                 stdout)."><pre>./translateLocally --help
Usage: ./translateLocally [options]
A secure translation service that performs translations <span>for</span> you locally, on your own machine.

Options:
  -h, --help                     Displays <span>help</span> on commandline options.
  --help-all                     Displays <span>help</span> including Qt specific options.
  -v, --version                  Displays version information.
  -l, --list-models              List locally installed models.
  -a, --available-models         Connect to the Internet and list available
                                 models. Only shows models that are NOT
                                 installed locally or have a new version
                                 available online.
  -d, --download-model <span>&lt;</span>output<span>&gt;</span>  Connect to the Internet and download a model.
  -r, --remove-model <span>&lt;</span>output<span>&gt;</span>    Remove a model from the <span>local</span> machine. Only
                                 works <span>for</span> models managed with translateLocally.
  -m, --model <span>&lt;</span>model<span>&gt;</span>            Select model <span>for</span> translation.
  -i, --input <span>&lt;</span>input<span>&gt;</span>            Source translation text (or just used stdin).
  -o, --output <span>&lt;</span>output<span>&gt;</span>          Target translation output (or just used
                                 stdout).</pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">Downloading models from CLI</h2><a id="user-content-downloading-models-from-cli" aria-label="Permalink: Downloading models from CLI" href="#downloading-models-from-cli"></a></p>
<p dir="auto">Models can be downloaded from the GUI or the CLI. For the CLI model management you need to:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ ./translateLocally -a
Czech-English type: base version: 1; To download do -d cs-en-base
German-English type: base version: 2; To download do -d de-en-base
English-Czech type: base version: 1; To download do -d en-cs-base
English-German type: base version: 2; To download do -d en-de-base
English-Estonian type: tiny version: 1; To download do -d en-et-tiny
Estonian-English type: tiny version: 1; To download do -d et-en-tiny
Icelandic-English type: tiny version: 1; To download do -d is-en-tiny
Norwegian (Bokmal)-English type: tiny version: 1; To download do -d nb-en-tiny
Norwegian (Nynorsk)-English type: tiny version: 1; To download do -d nn-en-tiny

$ ./translateLocally -d en-et-tiny
Downloading English-Estonian type: tiny...
100% [############################################################]
Model downloaded succesffully! You can now invoke it with -m en-et-tiny"><pre>$ ./translateLocally -a
Czech-English type: base version: 1<span>;</span> To download <span>do</span> -d cs-en-base
German-English type: base version: 2<span>;</span> To download <span>do</span> -d de-en-base
English-Czech type: base version: 1<span>;</span> To download <span>do</span> -d en-cs-base
English-German type: base version: 2<span>;</span> To download <span>do</span> -d en-de-base
English-Estonian type: tiny version: 1<span>;</span> To download <span>do</span> -d en-et-tiny
Estonian-English type: tiny version: 1<span>;</span> To download <span>do</span> -d et-en-tiny
Icelandic-English type: tiny version: 1<span>;</span> To download <span>do</span> -d is-en-tiny
Norwegian (Bokmal)-English type: tiny version: 1<span>;</span> To download <span>do</span> -d nb-en-tiny
Norwegian (Nynorsk)-English type: tiny version: 1<span>;</span> To download <span>do</span> -d nn-en-tiny

$ ./translateLocally -d en-et-tiny
Downloading English-Estonian type: tiny...
100% [<span><span>#</span>###########################################################]</span>
Model downloaded succesffully<span>!</span> You can now invoke it with -m en-et-tiny</pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">Removing models from the CLI</h2><a id="user-content-removing-models-from-the-cli" aria-label="Permalink: Removing models from the CLI" href="#removing-models-from-the-cli"></a></p>
<p dir="auto">Models can be removed from the GUI or the CLI. For the CLI model removal, you need to:</p>
<div dir="auto" data-snippet-clipboard-copy-content="./translateLocally -r en-et-tiny
Model English-Estonian type tiny successfully removed."><pre>./translateLocally -r en-et-tiny
Model English-Estonian <span>type</span> tiny successfully removed.</pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">Listing available models</h2><a id="user-content-listing-available-models" aria-label="Permalink: Listing available models" href="#listing-available-models"></a></p>
<p dir="auto">The avialble models can be listed with <code>-l</code></p>
<div dir="auto" data-snippet-clipboard-copy-content="./translateLocally -l
Czech-English type: tiny version: 1; To invoke do -m cs-en-tiny
German-English type: tiny version: 2; To invoke do -m de-en-tiny
English-Czech type: tiny version: 1; To invoke do -m en-cs-tiny
English-German type: tiny version: 2; To invoke do -m en-de-tiny
English-Spanish type: tiny version: 1; To invoke do -m en-es-tiny
Spanish-English type: tiny version: 1; To invoke do -m es-en-tiny"><pre>./translateLocally -l
Czech-English type: tiny version: 1<span>;</span> To invoke <span>do</span> -m cs-en-tiny
German-English type: tiny version: 2<span>;</span> To invoke <span>do</span> -m de-en-tiny
English-Czech type: tiny version: 1<span>;</span> To invoke <span>do</span> -m en-cs-tiny
English-German type: tiny version: 2<span>;</span> To invoke <span>do</span> -m en-de-tiny
English-Spanish type: tiny version: 1<span>;</span> To invoke <span>do</span> -m en-es-tiny
Spanish-English type: tiny version: 1<span>;</span> To invoke <span>do</span> -m es-en-tiny</pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">Translating a single sentence</h2><a id="user-content-translating-a-single-sentence" aria-label="Permalink: Translating a single sentence" href="#translating-a-single-sentence"></a></p>
<p dir="auto">Note that customising the translator settings can only be done via the GUI.</p>
<div dir="auto" data-snippet-clipboard-copy-content="echo &quot;Me gustaria comprar la casa verde&quot; | ./translateLocally -m es-en-tiny"><pre><span>echo</span> <span><span>"</span>Me gustaria comprar la casa verde<span>"</span></span> <span>|</span> ./translateLocally -m es-en-tiny</pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">Translating a whole dataset</h2><a id="user-content-translating-a-whole-dataset" aria-label="Permalink: Translating a whole dataset" href="#translating-a-whole-dataset"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="sacrebleu -t wmt13 -l en-es --echo ref > /tmp/es.in
./translateLocally -m es-en-tiny -i /tmp/es.in -o /tmp/en.out"><pre>sacrebleu -t wmt13 -l en-es --echo ref <span>&gt;</span> /tmp/es.in
./translateLocally -m es-en-tiny -i /tmp/es.in -o /tmp/en.out</pre></div>
<p dir="auto">Note that if you are using the macOS translateLocally.app version, the <code>-i</code> and <code>-o</code> options are not able to read most files. You can use pipes instead, e.g.</p>
<div dir="auto" data-snippet-clipboard-copy-content="translateLocally.app/Contents/MacOS/translateLocally -m es-en-tiny < input.txt > output.txt"><pre>translateLocally.app/Contents/MacOS/translateLocally -m es-en-tiny <span>&lt;</span> input.txt <span>&gt;</span> output.txt</pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">Pivoting and piping</h2><a id="user-content-pivoting-and-piping" aria-label="Permalink: Pivoting and piping" href="#pivoting-and-piping"></a></p>
<p dir="auto">The command line interface can be used to chain several translation models to achieve pivot translation, for example Spanish to German.</p>
<div dir="auto" data-snippet-clipboard-copy-content="sacrebleu -t wmt13 -l en-es --echo ref > /tmp/es.in
cat /tmp/es.in | ./translateLocally -m es-en-tiny | ./translateLocally -m en-de-tiny -o /tmp/de.out"><pre>sacrebleu -t wmt13 -l en-es --echo ref <span>&gt;</span> /tmp/es.in
cat /tmp/es.in <span>|</span> ./translateLocally -m es-en-tiny <span>|</span> ./translateLocally -m en-de-tiny -o /tmp/de.out</pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">NativeMessaging interface</h2><a id="user-content-nativemessaging-interface" aria-label="Permalink: NativeMessaging interface" href="#nativemessaging-interface"></a></p>
<p dir="auto">translateLocally can integrate with other applications and browser extensions using <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Native_messaging" rel="nofollow">native messaging</a>. This functionality is similar to using pipes on the command line, except that the message format is JSON which allows you to specify options per input fragment, and the translated fragments are returned when they become available as opposed to the input order.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Limitations</h2><a id="user-content-limitations" aria-label="Permalink: Limitations" href="#limitations"></a></p>
<p dir="auto">Right now there is a 10MB message limit for incoming messages. This matches the limitations of Firefox. Responses are limited to about 4GB due to the native messaging message format.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Using NativeMessaging from Python</h2><a id="user-content-using-nativemessaging-from-python" aria-label="Permalink: Using NativeMessaging from Python" href="#using-nativemessaging-from-python"></a></p>
<p dir="auto">Start translateLocally in a subprocess with the <code>-p</code> option, and pass it messages <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Native_messaging#app_side" rel="nofollow">formatted as described here</a> to its stdin. All supported messages are described in the <a href="https://github.com/XapaJIaMnu/translateLocally/blob/master/src/cli/NativeMsgIface.h">NativeMsgIface.h</a> file.</p>
<p dir="auto">There is an example, <a href="https://github.com/XapaJIaMnu/translateLocally/blob/master/scripts/native_client.py">native_client.py</a>, that demonstrates how to use translateLocally as an async Python API.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Using NativeMessaging from browser extensions</h2><a id="user-content-using-nativemessaging-from-browser-extensions" aria-label="Permalink: Using NativeMessaging from browser extensions" href="#using-nativemessaging-from-browser-extensions"></a></p>
<p dir="auto">Right now, the functionality is only automatically available to Firefox and Chrome.</p>
<p dir="auto">translateLocally automatically registers itself with Firefox when you start translateLocally in GUI mode. Then you can install the <a href="https://github.com/jelmervdl/firefox-translations/releases">Firefox translation addon</a>. After installation of the addon, go into the addon settings and pick "translateLocally" as translation provider.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Developing your own browser extension</h3><a id="user-content-developing-your-own-browser-extension" aria-label="Permalink: Developing your own browser extension" href="#developing-your-own-browser-extension"></a></p>
<p dir="auto">Due to the way Firefox and Chrome call translateLocally, you will need to add your browser extension id to the translateLocally source code before it is able to accept native messages.</p>
<p dir="auto">Add your extension id to <a href="https://github.com/XapaJIaMnu/translateLocally/blob/master/src/constants.h">constants.h</a> and rebuild translateLocally from source. Once you start it in GUI mode, it will re-register itself with support for your extension.</p>
<p dir="auto">If you want your extension id added to translateLocally permanently, please open an issue or send us a pull request!</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Importing custom models</h2><a id="user-content-importing-custom-models" aria-label="Permalink: Importing custom models" href="#importing-custom-models"></a></p>
<p dir="auto">translateLocally supports importing custom models. translateLocally uses the <a href="https://github.com/browsermt/marian-dev">Bergamot</a> fork of <a href="https://github.com/marian-nmt/marian-dev">marian</a>. As such, it supports the vast majority marian models out of the box. You can just train your marian model and place it a directory.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Basic model import</h2><a id="user-content-basic-model-import" aria-label="Permalink: Basic model import" href="#basic-model-import"></a></p>
<p dir="auto">The directory structure of a translateLocally model looks like this:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ tree my-custom-model
my-custom-model/
├── config.intgemm8bitalpha.yml
├── model_info.json
├── model.npz
└── vocab.deen.spm"><pre>$ tree my-custom-model
my-custom-model/
├── config.intgemm8bitalpha.yml
├── model_info.json
├── model.npz
└── vocab.deen.spm</pre></div>
<p dir="auto">The <code>config.intgemm8bitalpha.yml</code> name is hardcoded, and so is <code>model_info.json</code>. Everything else could have an arbitrary name. translateLocally will load the model according to the settings specified in <code>config.intgemm8bitalpha.yml</code>. These are just normal marian configuration options. <code>model_info.json</code> contains metadata about the model:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ cat model_info.json 
{
  &quot;modelName&quot;: &quot;German-English tiny&quot;,
  &quot;shortName&quot;: &quot;de-en-tiny&quot;,
  &quot;type&quot;:      &quot;tiny&quot;,
  &quot;src&quot;:       &quot;German&quot;,
  &quot;trg&quot;:       &quot;English&quot;,
  &quot;version&quot;:   2.0,
  &quot;API&quot;:       1.0
}"><pre>$ cat model_info.json 
{
  <span><span>"</span>modelName<span>"</span></span>: <span><span>"</span>German-English tiny<span>"</span></span>,
  <span><span>"</span>shortName<span>"</span></span>: <span><span>"</span>de-en-tiny<span>"</span></span>,
  <span><span>"</span>type<span>"</span></span>:      <span><span>"</span>tiny<span>"</span></span>,
  <span><span>"</span>src<span>"</span></span>:       <span><span>"</span>German<span>"</span></span>,
  <span><span>"</span>trg<span>"</span></span>:       <span><span>"</span>English<span>"</span></span>,
  <span><span>"</span>version<span>"</span></span>:   2.0,
  <span><span>"</span>API<span>"</span></span>:       1.0
}</pre></div>
<p dir="auto">Once the files are in place, tar the model:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ tar -czvf my-custom-model.tar.gz my-custom-model"><pre>$ tar -czvf my-custom-model.tar.gz my-custom-model</pre></div>
<p dir="auto">And you can import it via the GUI: Open translateLocally and go to <strong>Edit -&gt; Translator Settings -&gt; Languages -&gt; Import model</strong> and navigate to the archive you created.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Quantising the model</h2><a id="user-content-quantising-the-model" aria-label="Permalink: Quantising the model" href="#quantising-the-model"></a></p>
<p dir="auto">The process described above will create a model usable by translateLocally, albeit not a very efficient one. In order to create an efficient model we recommend that you quantise the model to 8-bit integers. You can do that by downloading and compiling the <a href="https://github.com/browsermt/marian-dev">Bergamot</a> fork of marian, and using <code>marian-conv</code> to create the quantised model:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$MARIAN/marian-conv -f input_model.npz -t output_model.bin --gemm-type intgemm8"><pre><span>$MARIAN</span>/marian-conv -f input_model.npz -t output_model.bin --gemm-type intgemm8</pre></div>
<p dir="auto">And then changing your configuration <code>config.intgemm8bitalpha.yml</code> to point to this new model, as well as appending <code>gemm-precision: int8shift</code> to it.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Further increasing performance</h2><a id="user-content-further-increasing-performance" aria-label="Permalink: Further increasing performance" href="#further-increasing-performance"></a></p>
<p dir="auto"><strong>For best results, we strongly recommend that you use student models.</strong> Instructions on how to create one + scripts can be found <a href="https://github.com/browsermt/students/tree/master/train-student">here</a> and a detailed video tutorial and explanations are available <a href="https://nbogoychev.com/efficient-machine-translation/" rel="nofollow">here</a>. Student models are typically at least 8X faster than teacher models such as the transformer-base preset.</p>
<p dir="auto">You can further achive another 30%-40% performance boost if you precompute the quantisation multipliers of the model and you use a lexical shortlist. The process for those is described in details at the Bergamot project's <a href="https://github.com/browsermt/students/tree/master/train-student#5-8-bit-quantization">Github</a>. Remember that you need to use the <a href="https://github.com/browsermt/marian-dev">Bergamot</a> fork of Marian.</p>
<p dir="auto">Example script that converts a marian model to the most efficient 8-bit representation can also be found at Bergamot's <a href="https://github.com/browsermt/students/blob/master/esen/esen.student.tiny11/speed.cpu.intgemm8bitalpha.sh">Github</a>.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">External repositories</h2><a id="user-content-external-repositories" aria-label="Permalink: External repositories" href="#external-repositories"></a></p>
<p dir="auto">We support custom repositories. You can add a custom repository from the Settings-&gt;Repositories menu. An example repository file can seen <a href="https://translatelocally.com/models.json" rel="nofollow">here</a>. Currently available repositories:</p>
<ul dir="auto">
<li>Bergamot: <a href="https://translatelocally.com/models.json" rel="nofollow">https://translatelocally.com/models.json</a></li>
<li>OpusMT: <a href="https://object.pouta.csc.fi/OPUS-MT-models/app/models.json" rel="nofollow">https://object.pouta.csc.fi/OPUS-MT-models/app/models.json</a></li>
</ul>
<p dir="auto">The Bergamot repository is the one used by default. The OpusMT one needs to be added by the user, if the user desires to do so.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Acknowledgements</h2><a id="user-content-acknowledgements" aria-label="Permalink: Acknowledgements" href="#acknowledgements"></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/XapaJIaMnu/translateLocally/master/eu-logo.png"><img src="https://raw.githubusercontent.com/XapaJIaMnu/translateLocally/master/eu-logo.png" width="10%"></a></p>
<p dir="auto">This project has received funding from the European Union’s Horizon 2020 research and innovation programme under grant agreement No 825303.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Bergamot</h2><a id="user-content-bergamot" aria-label="Permalink: Bergamot" href="#bergamot"></a></p>
<p dir="auto">This project was made possible through the combined effort of all researchers and partners in the Bergamot project <a href="https://browser.mt/partners/" rel="nofollow">https://browser.mt/partners/</a> . The translation models are prepared as part of the Bergamot project <a href="https://github.com/browsermt/students">https://github.com/browsermt/students</a> . The translation engine used is <a href="https://github.com/browsermt/bergamot-translator">https://github.com/browsermt/bergamot-translator</a> which is based on marian <a href="https://github.com/marian-nmt/marian-dev">https://github.com/marian-nmt/marian-dev</a> .</p>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Super Mario 64's invisible walls explained [video] (129 pts)]]></title>
            <link>https://www.youtube.com/watch?v=YsXCVsDFiXA</link>
            <guid>40027249</guid>
            <pubDate>Sat, 13 Apr 2024 23:42:28 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.youtube.com/watch?v=YsXCVsDFiXA">https://www.youtube.com/watch?v=YsXCVsDFiXA</a>, See on <a href="https://news.ycombinator.com/item?id=40027249">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Ford Mustang Mach-E using BlueCruise at time of crash: NTSB (148 pts)]]></title>
            <link>https://fordauthority.com/2024/04/ford-mustang-mach-e-using-bluecruise-at-time-of-crash-ntsb/</link>
            <guid>40026732</guid>
            <pubDate>Sat, 13 Apr 2024 22:26:41 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://fordauthority.com/2024/04/ford-mustang-mach-e-using-bluecruise-at-time-of-crash-ntsb/">https://fordauthority.com/2024/04/ford-mustang-mach-e-using-bluecruise-at-time-of-crash-ntsb/</a>, See on <a href="https://news.ycombinator.com/item?id=40026732">Hacker News</a></p>
Couldn't get https://fordauthority.com/2024/04/ford-mustang-mach-e-using-bluecruise-at-time-of-crash-ntsb/: Error: Request failed with status code 403]]></description>
        </item>
    </channel>
</rss>