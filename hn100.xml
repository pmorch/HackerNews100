<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Sat, 16 Mar 2024 17:00:05 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Cloudflare loses 22% of its domains in Freenom .tk shutdown (137 pts)]]></title>
            <link>https://www.netcraft.com/blog/cloudflare-loses-22-of-its-domains-in-freenom-tk-shutdown/</link>
            <guid>39725303</guid>
            <pubDate>Sat, 16 Mar 2024 12:24:54 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.netcraft.com/blog/cloudflare-loses-22-of-its-domains-in-freenom-tk-shutdown/">https://www.netcraft.com/blog/cloudflare-loses-22-of-its-domains-in-freenom-tk-shutdown/</a>, See on <a href="https://news.ycombinator.com/item?id=39725303">Hacker News</a></p>
<div id="readability-page-1" class="page"><div itemprop="text">
			
<p>A staggering 12.6 million domains on TLDs controlled by <a href="https://www.freenom.com/en/index.html?lang=en">Freenom</a> (<strong>.tk</strong>, <strong>.cf</strong> and <strong>.gq</strong>) have been shut down and no longer resolve, leading to a significant reduction in the number of websites hosted by <a href="https://www.cloudflare.com/en-gb/">Cloudflare</a>.</p>



<p>The disappearance of these websites was spotted during our monthly Web Server Survey and represents a 98.7% drop from the number of Freenom domains that were resolvable last month.</p>



<figure><img fetchpriority="high" decoding="async" width="2263" height="1305" src="https://www.netcraft.com/wp-content/uploads/2024/03/freenom.svg" alt=""></figure>



<p>Nearly all <strong>.tk</strong>, <strong>.cf</strong> and <strong>.gq</strong> domains have effectively disappeared.</p>



<p>The <strong>.tk</strong>, <strong>.cf</strong> and <strong>.gq</strong> TLDs are country code top-level domains (ccTLDs) for Tokelau, Central African Republic, and Equatorial Guinea. They were officially intended to be used by entities connected with these countries, but this was very rarely the case.</p>



<p>The huge drop is likely the culmination of a series of events that started last year, when <a href="https://www.netcraft.com/blog/impact-of-freenom-halting-registrations-on-cybercrime/">Freenom was sued by Meta for ignoring abuse complaints</a>. Freenom subsequently paused new domain registrations in March 2023, and Netcraft noticed a dramatic reduction in the amount of cybercrime across two TLDs that later moved away from the provider (<strong>.ga</strong> and <strong>.ml</strong>).</p>



<p>Finally, on 12 February 2024, Freenom announced that it had decided to exit the domain name business, including the operation of registries. The same press release (which has since been removed but is archived <a href="https://web.archive.org/web/20240219215920/https://www.freenom.com/en/freenom_pressstatement_02122024_v0100.pdf">here</a>) also announced that Freenom had resolved the Meta lawsuit on confidential monetary and business terms.</p>



<h3>Cloudflare losses</h3>



<p>The affected domains represent a big loss for <a href="https://www.cloudflare.com/en-gb/">Cloudflare</a>, with <strong>.tk</strong>, <strong>.cf</strong> and <strong>.gq</strong> previously accounting for 23.1% of all domains hosted on its platform – and nearly all of these have now gone.</p>



<p>The combined amount of <strong>.tk</strong>, <strong>.cf</strong> and <strong>.gq</strong> domains hosted by Cloudflare has fallen by 99.8% since our March 2024 Web Server Survey, leading to a noticeable 22.0% drop in the total number of all domains hosted by Cloudflare.</p>



<figure><img decoding="async" width="2263" height="1305" src="https://www.netcraft.com/wp-content/uploads/2024/03/cloudflare.svg" alt="" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></figure>



<p>All <em>domains</em> hosted by Cloudflare.<br>(Note sites like <strong><em>foo</em>.example.tk</strong> and <strong><em>bar</em>.example.tk</strong> would be counted as a single domain)</p>



<p>The <strong>.tk</strong> top level domain was the most popular of those operated by Freenom. Last month it accounted for 16.2% of all domains hosted by Cloudflare, but very few of these were used by popular websites. Amongst Netcraft’s top million websites dataset, there were only 59 sites across 57 <strong>.tk</strong> domains. 36 of these still resolve, which suggests they are paid-for domains.</p>



<p>But to the vast majority who registered these domain names for free, their sudden disappearance came as a bit of a surprise. Amongst the debate in the <a href="https://community.cloudflare.com/t/dot-tk-domains/612359">Cloudflare</a> <a href="https://community.cloudflare.com/t/the-site-got-down-suddenly-with-dns-probe-finished-nxdomain-and-err-name-not-resolved-error/612747">and </a><a href="https://www.reddit.com/r/freenom/comments/1akf1cv/every_domain_is_now_down/">Reddit </a>communities, some customers reported being able to get their domain names <a href="https://www.reddit.com/r/freenom/comments/1akf1cv/comment/kphvtrf/">back up and running</a> by having their domains marked as “paid domains”. </p>



<figure><img decoding="async" width="1024" height="573" src="https://www.netcraft.com/wp-content/uploads/2024/03/image-3-1024x573.png" alt="" srcset="https://www.netcraft.com/wp-content/uploads/2024/03/image-3-1024x573.png 1024w, https://www.netcraft.com/wp-content/uploads/2024/03/image-3-300x168.png 300w, https://www.netcraft.com/wp-content/uploads/2024/03/image-3-768x430.png 768w, https://www.netcraft.com/wp-content/uploads/2024/03/image-3-1536x859.png 1536w, https://www.netcraft.com/wp-content/uploads/2024/03/image-3.png 1620w" sizes="(max-width: 1024px) 100vw, 1024px" data-src="https://www.netcraft.com/wp-content/uploads/2024/03/image-3-1024x573.png" data-srcset="https://www.netcraft.com/wp-content/uploads/2024/03/image-3-1024x573.png 1024w, https://www.netcraft.com/wp-content/uploads/2024/03/image-3-300x168.png 300w, https://www.netcraft.com/wp-content/uploads/2024/03/image-3-768x430.png 768w, https://www.netcraft.com/wp-content/uploads/2024/03/image-3-1536x859.png 1536w, https://www.netcraft.com/wp-content/uploads/2024/03/image-3.png 1620w" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></figure>



<p>The Freenom website claims new registrations are temporarily out-of-order due to “technical issues”.</p>



<h3>When did the shutdown happen?</h3>



<p>The number of SSL certificates successfully issued to <strong>.tk</strong> domains provides a good indication of when the shutdown took effect, particularly as the two largest certificate authorities – Google and Let’s Encrypt – only issue <em>domain validated</em> certificates.</p>



<p>The issuance and renewal process for a domain validated certificate involves sending an HTTP request to the website it will be issued for, and so each subject domain must be resolvable for the process to succeed.</p>



<figure><img decoding="async" width="992" height="463" src="https://www.netcraft.com/wp-content/uploads/2024/03/image-5.png" alt="" srcset="https://www.netcraft.com/wp-content/uploads/2024/03/image-5.png 992w, https://www.netcraft.com/wp-content/uploads/2024/03/image-5-300x140.png 300w, https://www.netcraft.com/wp-content/uploads/2024/03/image-5-768x358.png 768w" sizes="(max-width: 992px) 100vw, 992px" data-src="https://www.netcraft.com/wp-content/uploads/2024/03/image-5.png" data-srcset="https://www.netcraft.com/wp-content/uploads/2024/03/image-5.png 992w, https://www.netcraft.com/wp-content/uploads/2024/03/image-5-300x140.png 300w, https://www.netcraft.com/wp-content/uploads/2024/03/image-5-768x358.png 768w" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="></figure>



<p>Certificates issued to <strong>.tk</strong> domains (hourly).</p>



<p>This graph shows the shutdown taking noticeable effect between 8 – 10 February 2024, crucially a few days before Freenom issued the 12 February press statement where it announced its exit from the domain name business. This lack of notice clearly caught lots of people by surprise.</p>



<p>The small trickle of issuances thereafter represents the small number of <strong>.tk</strong> domains that are still active, including those marked as “paid domains”.</p>



<p>The free and easily acquired domain names that Freenom used to provide were unsurprisingly attractive to criminals and were used to host many phishing sites, malware, and other types of cyberattacks. Consequently, one positive side effect of the shutdown is that the number of malicious URLs that we block on the affected TLDs has fallen by 86.9% since December 2023.</p>



<p>You can read more about the impacts on cybercrime in the aftermath of Freenom’s original announcement on the <a href="https://www.netcraft.com/blog/impact-of-freenom-halting-registrations-on-cybercrime/">Netcraft Blog</a>.</p>
		</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Fuzzing Ladybird with tools from Google Project Zero (188 pts)]]></title>
            <link>https://awesomekling.substack.com/p/fuzzing-ladybird-with-tools-from</link>
            <guid>39725057</guid>
            <pubDate>Sat, 16 Mar 2024 11:49:57 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://awesomekling.substack.com/p/fuzzing-ladybird-with-tools-from">https://awesomekling.substack.com/p/fuzzing-ladybird-with-tools-from</a>, See on <a href="https://news.ycombinator.com/item?id=39725057">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><article><div dir="auto"><p><span>While </span><a href="https://ladybird.dev/" rel="">Ladybird</a><span> does an okay job with well-formed web content, I thought it would be useful to throw some security research tools at it and see what kind of issues it might reveal. So today we’ll be using “</span><strong><a href="https://github.com/googleprojectzero/domato" rel="">Domato</a></strong><a href="https://github.com/googleprojectzero/domato" rel=""> 🍅</a><span>”, a DOM fuzzer from </span><a href="https://googleprojectzero.blogspot.com/" rel="">Google Project Zero</a><span>, to stress test Ladybird and fix some issues found along the way.</span></p><p>The way this works is that Domato generates randomized web pages with lots of mostly-valid but strange HTML, CSS and JavaScript. I then load these pages into a debug build of Ladybird and observe what happens.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9bd74774-78da-4188-ab8b-dc3fbd2622c1_1741x1105.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9bd74774-78da-4188-ab8b-dc3fbd2622c1_1741x1105.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9bd74774-78da-4188-ab8b-dc3fbd2622c1_1741x1105.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9bd74774-78da-4188-ab8b-dc3fbd2622c1_1741x1105.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9bd74774-78da-4188-ab8b-dc3fbd2622c1_1741x1105.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9bd74774-78da-4188-ab8b-dc3fbd2622c1_1741x1105.png" width="1456" height="924" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/9bd74774-78da-4188-ab8b-dc3fbd2622c1_1741x1105.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:924,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:663971,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9bd74774-78da-4188-ab8b-dc3fbd2622c1_1741x1105.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9bd74774-78da-4188-ab8b-dc3fbd2622c1_1741x1105.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9bd74774-78da-4188-ab8b-dc3fbd2622c1_1741x1105.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9bd74774-78da-4188-ab8b-dc3fbd2622c1_1741x1105.png 1456w" sizes="100vw" fetchpriority="high"></picture></div></a><figcaption>Domato generates HTML pages of roughly 500 KiB in size, filled with “interesting” JS, CSS and HTML to surprise and delight your browser engine!</figcaption></figure></div><p>The Domato README boasts a ton of bugs discovered in all major browsers, so I have no doubt it will find some in ours as well. Here we go!</p><p>Unsurprisingly, it took less than a second to find the first issue! The output produced by Domato is actually 562 KiB, but I was able to reduce it to the following:</p><pre><code>&lt;body&gt;
&lt;script&gt;
let mfrac = document.createElement("mfrac");
mfrac.appendChild(document.createElement("th"));
document.body.appendChild(mfrac);
&lt;/script&gt;</code></pre><p>I’ve compiled Ladybird with UBSAN (Undefined Behavior SANitizer) for this test, and I get the following very helpful trace output:</p><pre><code><strong>LibWeb/HTML/HTMLTableCellElement.cpp:55:36: runtime error: member call on null pointer of type 'Web::DOM::Node'
</strong><span>#0 0x7e9bfa1610dd in table_containing_cell LibWeb/HTML/HTMLTableCellElement.cpp:55:36
#1 0x7e9bfa1610dd in Web::HTML::HTMLTableCellElement::apply_presentational_hints(Web::CSS::StyleProperties&amp;) const LibWeb/HTML/HTMLTableCellElement.cpp:101:33
#2 0x7e9bf97c22d1 in Web::CSS::StyleComputer::compute_cascaded_values(Web::CSS::StyleProperties&amp;, Web::DOM::Element&amp;, AK::Optional&lt;Web::CSS::Selector::PseudoElement::Type&gt;, bool&amp;, Web::CSS::StyleComputer::ComputeStyleMode) const LibWeb/CSS/StyleComputer.cpp:1448:17
#3 0x7e9bf97e5899 in Web::CSS::StyleComputer::compute_style_impl(Web::DOM::Element&amp;, AK::Optional&lt;Web::CSS::Selector::PseudoElement::Type&gt;, Web::CSS::StyleComputer::ComputeStyleMode) const LibWeb/CSS/StyleComputer.cpp:2231:5
#4 0x7e9bf97e447e in Web::CSS::StyleComputer::compute_style(Web::DOM::Element&amp;, AK::Optional&lt;Web::CSS::Selector::PseudoElement::Type&gt;) const LibWeb/CSS/StyleComputer.cpp:2202:12
#5 0x7e9bf9a7e60c in Web::DOM::Element::recompute_style() LibWeb/DOM/Element.cpp:575:64</span></code></pre><p>It’s a good old-fashioned null pointer dereference!</p><p><span>As it turns out, we’ve implemented </span><code>&lt;th&gt;</code><span> and </span><code>&lt;td&gt;</code><span> elements with the assumption that there’s always a </span><code>&lt;table&gt;</code><span> somewhere above it in the DOM tree. We probably believed this because the following is not allowed by the HTML parser:</span></p><p><code>&lt;mfrac&gt;&lt;th&gt;</code></p><p><span>If you load the above markup in a spec-compliant browser, it will create a single </span><code>&lt;mfrac&gt;</code><span> element with nothing inside it.</span></p><p><span>However, when creating DOM nodes manually using JavaScript API, you can break some of the rules that the parser has to follow, and indeed put a </span><code>&lt;th&gt;</code><span> inside an </span><code>&lt;mfrac&gt;</code><span>!</span></p><p>Here’s the buggy function:</p><pre><code>HTMLTableElement const&amp; table_containing_cell(HTMLTableCellElement const&amp; node)
{
    auto parent_node = node.parent();
&nbsp;&nbsp;&nbsp; while (!is&lt;HTML::HTMLTableElement&gt;(parent_node))
  &nbsp;&nbsp;    parent_node = parent_node-&gt;parent();
 &nbsp;&nbsp;&nbsp;return static_cast&lt;HTML::HTMLTableElement const&amp;&gt;(*parent_node);
}</code></pre><p><span>It’s used to implement the ancient feature where </span><code>&lt;table border=3&gt;</code><span> and </span><code>&lt;table padding=5&gt;</code><span> applies CSS border and padding to each table cell, and not just the table box itself.</span></p><p><span>The fix is simply to stop assuming that </span><code>&lt;th&gt;</code><span> and </span><code>&lt;td&gt;</code><span> elements always have a containing </span><code>&lt;table&gt;</code><span> in the ancestor chain. We don’t need the </span><code>table_containing_cell</code><span> helper but can instead simply replace this:</span></p><pre><code>auto const&amp; table_element = table_containing_cell(*this);</code></pre><p>With this:</p><pre><code>auto const table_element = first_ancestor_of_type&lt;HTMLTableElement&gt;();
if (!table_element)
    return;</code></pre><p><span>And we’re done with issue #1! </span><a href="https://github.com/SerenityOS/serenity/commit/b9bacb3ff49ba675f9875434d646fb1b34d2c0df" rel="">(Fix committed here.)</a></p><p>We continue executing the fuzzer and once again, within less than 1 second, we hit a new problem. The Domato output is 472 KiB, but it whittles down to this:</p><pre><code>&lt;script&gt;
&nbsp;&nbsp;&nbsp;&nbsp;var parser = new DOMParser();
&nbsp;&nbsp;&nbsp;&nbsp;var doc = parser.parseFromString("", "text/html");
&nbsp;&nbsp;&nbsp;&nbsp;var body = doc.createElement("body");
&nbsp;&nbsp;&nbsp;&nbsp;body.onblur = null;
&lt;/script&gt;</code></pre><p>When opened in Ladybird, we fail like so:</p><pre><code>VERIFICATION FAILED: m_ptr at LibJS/Heap/GCPtr.h:174
#1&nbsp; JS::GCPtr&lt;Web::HTML::Window&gt;::operator* at LibJS/Heap/GCPtr.h:174
#2&nbsp; Web::DOM::Document::window at LibWeb/DOM/Document.h:320
#3&nbsp; Web::HTML::HTMLBodyElement::global_event_handlers_to_event_target at LibWeb/HTML/HTMLBodyElement.cpp:104
#4&nbsp; Web::HTML::GlobalEventHandlers::set_onblur at LibWeb/HTML/GlobalEventHandlers.cpp:24
#5&nbsp; Web::Bindings::HTMLElementPrototype::onblur_setter at LibWeb/Bindings/HTMLElementPrototype.cpp:1153</code></pre><p><span>The reason things go wrong here is due to the special behavior of </span><code>onfoo</code><span> event handler attributes on the </span><code>&lt;body&gt;</code><span> element. For compatibility with ancient web content, assignments to </span><code>document.body.onfoo</code><span> must forward to </span><code>window.onfoo</code><span>. However, documents created via </span><code>DOMParser</code><span> </span><em>do not have a window object!</em></p><p>It turns out we’ve misunderstood this detail in our implementation, and structured our internal object model as if every document always has a window. Oops!</p><p><span>The fix is to make </span><code>Document::window()</code><span> return a nullable value, and then handle null in a bajillion places. When assigning </span><code>document.body.onblur</code><span> in a window-less document, we now simply do nothing, same as other browsers.</span></p><p><a href="https://github.com/SerenityOS/serenity/commit/b98a2be96bf03562ec21e80b48d4b3b97ad74cd6" rel="">(Fix committed here.)</a></p><p>Modern browsers have to support SVG both inline in HTML, and also as an external image format. This adds a whole host of new edge cases and interesting interactions.</p><p>For example, SVG allows declaring gradients that reference other gradients to inherit their colors. As it turns out, we hadn’t considered the case where a gradient references itself:</p><pre><code>&lt;svg&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;linearGradient id="oops" href="#oops"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;rect fill="url(#oops)" /&gt;
&lt;/svg&gt;</code></pre><p>The SVG above would cause our implementation to loop forever as it attempted to follow the chain of referenced gradients. Oops, indeed!</p><p>The obvious fix is to stop following the chain of linked gradients if the current gradient references itself. However, that doesn’t cover reference cycles that span multiple steps like so:</p><pre><code>&lt;svg&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;linearGradient id="lol" href="#lmao"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;linearGradient id="lmao" href="#even"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;linearGradient id="even" href="#lol"/&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&lt;rect fill="url(#lol)" /&gt;
&lt;/svg&gt;</code></pre><p>To properly handle cyclical references, we have to keep track of all the gradients we’ve visited, and stop following the chain if we encounter a gradient we’ve already visited before.</p><p>Curiously, Firefox actually complains about these kind of gradients in their developer console:</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb10a9009-633b-453e-ba7f-610dcb2af2f5_842x40.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb10a9009-633b-453e-ba7f-610dcb2af2f5_842x40.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb10a9009-633b-453e-ba7f-610dcb2af2f5_842x40.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb10a9009-633b-453e-ba7f-610dcb2af2f5_842x40.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb10a9009-633b-453e-ba7f-610dcb2af2f5_842x40.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb10a9009-633b-453e-ba7f-610dcb2af2f5_842x40.png" width="842" height="40" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/b10a9009-633b-453e-ba7f-610dcb2af2f5_842x40.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:40,&quot;width&quot;:842,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb10a9009-633b-453e-ba7f-610dcb2af2f5_842x40.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb10a9009-633b-453e-ba7f-610dcb2af2f5_842x40.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb10a9009-633b-453e-ba7f-610dcb2af2f5_842x40.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb10a9009-633b-453e-ba7f-610dcb2af2f5_842x40.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p><a href="https://github.com/SerenityOS/serenity/commit/2e0297d7035a807d4a18c89c8b310ec06bef005d" rel="">(Fix committed here.)</a></p><p>This one is interesting:</p><pre><code>&lt;iframe&gt;&lt;/iframe&gt;
&lt;script&gt;
&nbsp;&nbsp;&nbsp;&nbsp;window.onload = function() {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let iframe = document.querySelector("iframe")
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let iframeWindow = iframe.contentWindow;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iframe.remove();
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iframeWindow.getSelection();
&nbsp;&nbsp;&nbsp;&nbsp;}
&lt;/script&gt;</code></pre><p>The above test would crash like this:</p><pre><code><strong>LibWeb/HTML/WindowProxy.cpp:161:136: runtime error: reference binding to null pointer of type 'const BrowsingContext'</strong><span>
#0 0x77367675cadf in Web::HTML::WindowProxy::internal_get(JS::PropertyKey const&amp;, JS::Value, JS::CacheablePropertyMetadata*) const LibWeb/HTML/WindowProxy.cpp:161:5
#1 0x773670c4fcca in JS::Bytecode::get_by_id(JS::VM&amp;, AK::DeprecatedFlyString const&amp;, JS::Value, JS::Value, JS::Bytecode::PropertyLookupCache&amp;) LibJS/Bytecode/CommonImplementations.h:105:18
#2 0x773670c182d5 in JS::Bytecode::Op::GetById::execute_impl(JS::Bytecode::Interpreter&amp;) const LibJS/Bytecode/Interpreter.cpp:1088:28
#3 0x773670bc8e1f in execute LibJS/Bytecode/Op.h:1898:9
#4 0x773670bc8e1f in JS::Bytecode::Interpreter::run_bytecode() LibJS/Bytecode/Interpreter.cpp:409:38</span></code></pre><p><span>As it turns out, this is actually a bug in the HTML spec! When an iframe is removed from the DOM, its content document is detached from its browsing context. However, when getting or setting a property on a window object, we run a spec algorithm called </span><strong>"check if an access between two browsing contexts should be reported"</strong><span> which inspects the browsing context of the “accessor” and “accessed” window. The spec incorrectly assumed that both windows have an associated browsing context at the time of property access.</span></p><p><a href="https://github.com/whatwg/html/issues/10192" rel="">I’ve opened an issue against the HTML spec</a><span>, and patched this in Ladybird in the meantime by adding a null check.</span></p><p>Finding spec bugs is actually one of my favorite things while working on Ladybird. It allows us to improve the specs for everyone by submitting a bug report or fix.</p><p><a href="https://github.com/SerenityOS/serenity/commit/ad843b6e4a4404a4897b587711f9ce97a4504ed0" rel="">(Fix committed here.)</a></p><p>When opening the next page, it just wouldn’t finish loading. It just sat there chewing 100% CPU.</p><p>Here’s the reduction:</p><pre><code>&lt;div id="one"&gt;&lt;/div&gt;&lt;div id="two"&gt;&lt;/div&gt;
&lt;script&gt;
&nbsp;&nbsp;&nbsp;&nbsp;two.before(one);
&lt;/script&gt;</code></pre><p><span>This was a mistake in the implementation of </span><code>before()</code><span>, which has to find the first preceding sibling of </span><code>&lt;div id=”two”&gt;</code><span> that isn’t one of its arguments (i.e </span><code>&lt;div id=”one”&gt;</code><span> in this case.) We had the following loop mistake in the implementation:</span></p><pre><code>while (auto previous_sibling = node-&gt;previous_sibling()) {
&nbsp; &nbsp; // check if previous_sibling is one of the arguments
}</code></pre><p><span>The problem here is that we kept fetching </span><code>node-&gt;previous_sibling</code><span>, instead of continuing to follow the sibling chain via </span><code>previous_sibling-&gt;previous_sibling</code><span>.</span></p><p>Here’s how I fixed it:</p><pre><code>for (auto sibling = node-&gt;previous_sibling(); sibling; sibling = sibling-&gt;previous_sibling()) {

&nbsp; &nbsp; // check if previous_sibling is one of the arguments

}</code></pre><p><a href="https://github.com/SerenityOS/serenity/commit/35f359c51c787153cd17c7289664ab87146241ea" rel="">(Fix committed here.)</a></p><p>This can probably go on for quite some time, so let’s call it a day. We found five real bugs, one of which was a spec bug, and were able to fix all of them.</p><p>Even though things went basically as I expected, it’s still quite interesting just how quickly we fall apart when confronted with strange and unexpected inputs. Fuzzers like Domato are an amazing resource for anyone who wants to make their software more robust.</p><p>The next step here will be to get Ladybird to the point where we can handle a sustained onslaught of fuzzed inputs. And once it’s reasonably stable, we can start running it automatically in the cloud somewhere, and hopefully shake out even more issues.</p></div></article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Mozilla will be retiring the Mozilla Location Service (145 pts)]]></title>
            <link>https://github.com/mozilla/ichnaea/issues/2065</link>
            <guid>39724505</guid>
            <pubDate>Sat, 16 Mar 2024 09:41:24 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/mozilla/ichnaea/issues/2065">https://github.com/mozilla/ichnaea/issues/2065</a>, See on <a href="https://news.ycombinator.com/item?id=39724505">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-turbo-body="">
      


    <div>
      <p><a href="#start-of-content">Skip to content</a>
      <span data-view-component="true">
    <span data-view-component="true"></span>
</span></p><react-partial partial-name="keyboard-shortcuts-dialog" data-ssr="false">
  
  
  
</react-partial>



      

        

            


<header role="banner" data-color-mode="light" data-light-theme="light" data-dark-theme="dark">
  

  <div>
          <nav aria-label="Global">
            <ul>
                <li>
      
      <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Actions&quot;,&quot;label&quot;:&quot;ref_cta:Actions;&quot;}" href="https://github.com/features/actions">
      
      <div>
        <p>Actions</p><p>
        Automate any workflow
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Packages&quot;,&quot;label&quot;:&quot;ref_cta:Packages;&quot;}" href="https://github.com/features/packages">
      
      <div>
        <p>Packages</p><p>
        Host and manage packages
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Security&quot;,&quot;label&quot;:&quot;ref_cta:Security;&quot;}" href="https://github.com/features/security">
      
      <div>
        <p>Security</p><p>
        Find and fix vulnerabilities
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Codespaces&quot;,&quot;label&quot;:&quot;ref_cta:Codespaces;&quot;}" href="https://github.com/features/codespaces">
      
      <div>
        <p>Codespaces</p><p>
        Instant dev environments
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Copilot&quot;,&quot;label&quot;:&quot;ref_cta:Copilot;&quot;}" href="https://github.com/features/copilot">
      
      <div>
        <p>Copilot</p><p>
        Write better code with AI
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Code review&quot;,&quot;label&quot;:&quot;ref_cta:Code review;&quot;}" href="https://github.com/features/code-review">
      
      <div>
        <p>Code review</p><p>
        Manage code changes
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Issues&quot;,&quot;label&quot;:&quot;ref_cta:Issues;&quot;}" href="https://github.com/features/issues">
      
      <div>
        <p>Issues</p><p>
        Plan and track work
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Discussions&quot;,&quot;label&quot;:&quot;ref_cta:Discussions;&quot;}" href="https://github.com/features/discussions">
      
      <div>
        <p>Discussions</p><p>
        Collaborate outside of code
      </p></div>

    
</a></li>

            </ul>
          </div>
</li>


                <li>
      
      
</li>


                <li>
      
      <div>
          <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to GitHub Sponsors&quot;,&quot;label&quot;:&quot;ref_cta:GitHub Sponsors;&quot;}" href="https://github.com/sponsors">
      
      <div>
        <p>GitHub Sponsors</p><p>
        Fund open source developers
      </p></div>

    
</a></li>

            </ul>
          </div>
          <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to The ReadME Project&quot;,&quot;label&quot;:&quot;ref_cta:The ReadME Project;&quot;}" href="https://github.com/readme">
      
      <div>
        <p>The ReadME Project</p><p>
        GitHub community articles
      </p></div>

    
</a></li>

            </ul>
          </div>
          
      </div>
</li>


                <li>
    <a data-analytics-event="{&quot;category&quot;:&quot;Header menu top item (logged out)&quot;,&quot;action&quot;:&quot;click to go to Pricing&quot;,&quot;label&quot;:&quot;ref_cta:Pricing;&quot;}" href="https://github.com/pricing">Pricing</a>
</li>

            </ul>
          </nav>

        <div>
                


<qbsearch-input data-scope="repo:mozilla/ichnaea" data-custom-scopes-path="/search/custom_scopes" data-delete-custom-scopes-csrf="H2sHX5u6b_qygYwjVOs8l-20McarYcv_UIY_wLuDoXq2bz5ov88-UjOI8b5KgP8fTIUVbWFjZ-5sWKotmzvFYg" data-max-custom-scopes="10" data-header-redesign-enabled="false" data-initial-value="" data-blackbird-suggestions-path="/search/suggestions" data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations" data-current-repository="mozilla/ichnaea" data-current-org="mozilla" data-current-owner="" data-logged-in="false" data-copilot-chat-enabled="false" data-blackbird-indexed-repo-csrf="<esi:include src=&quot;/_esi/rails_csrf_token_form_hidden?r=l4vxNKpZB1sFyChwoHBj7p%2FrQ9610rmXmNswCjxi%2Bnn%2Ba%2FMl6PgKXV%2FpPO8BO4e7zW2VSTs4QW7Vq%2FxNUx9rG5vR6YTIydStZcORNBF4jYzRv%2BoCCh5ulwul06wMGvoE60lkJOK1i9UA1Do8u3ssxzcBdGLsGrigPaKcmtweSSQoZW8kllZk9SjDzQMHJ6U0qwTGZkw1i675bpeLc%2FKF7%2FjXSUdlivF7%2B6mZh2QF%2BZ5rYPo5vU%2FUCay%2FuwxDtWhVqyzMZoIsAQMV%2Fklw4oxR0TuhxEpPavbrJMeKQlIDijn1adn4ChIgmlzTbSlvkvfJQ9veGjtBRwknySPC3HBdRAOsOwQWJqNbH4M2QYxLE6K7NojdddGJeuiI8Rwipeej7pO%2FxOKTo1G%2B6mi59L7I%2FNro%2Ff0xGQgcbcZH43yxdPpswbUTxOU7mElWNjopjpzDTCAL%2F4MesutLZvx2YCqxLXVPAXOH7FLsBwy9HnOAI6Wdps0g%2B6z1A2UJajC2rMzEMw2saS7DZernL5nEjkvoetsOT2IjIASIb60%3D--QOvBI2Rs5OTsjPh4--7l4m391dBkjIacfFlAMtLA%3D%3D&quot; />">
  
  
  <div>
    
<dialog-helper>
  <dialog data-target="qbsearch-input.feedbackDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" id="feedback-dialog" aria-modal="true" aria-labelledby="feedback-dialog-title" aria-describedby="feedback-dialog-description" data-view-component="true">
    <div data-view-component="true">
    <p>
      <h2 id="feedback-dialog-title">
        Provide feedback
      </h2>
    </p>
    
  </div>
      <scrollable-region data-labelled-by="feedback-dialog-title">
        
      </scrollable-region>
      
</dialog></dialog-helper>

    <custom-scopes data-target="qbsearch-input.customScopesManager">
    
<dialog-helper>
  <dialog data-target="custom-scopes.customScopesModalDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" id="custom-scopes-dialog" aria-modal="true" aria-labelledby="custom-scopes-dialog-title" aria-describedby="custom-scopes-dialog-description" data-view-component="true">
    <div data-view-component="true">
    <p>
      <h2 id="custom-scopes-dialog-title">
        Saved searches
      </h2>
        <h2 id="custom-scopes-dialog-description">Use saved searches to filter your results more quickly</h2>
    </p>
    
  </div>
      <scrollable-region data-labelled-by="custom-scopes-dialog-title">
        
      </scrollable-region>
      
</dialog></dialog-helper>
    </custom-scopes>
  </div>
</qbsearch-input>

            <p><a href="https://github.com/signup?ref_cta=Sign+up&amp;ref_loc=header+logged+out&amp;ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&amp;source=header-repo&amp;source_repo=mozilla%2Fichnaea" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/mozilla/ichnaea/issues/2065&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="980001f8b17eea4ac32351041717f09fdf22bfec0edcbb5c9c01ff87ffec1a69" data-analytics-event="{&quot;category&quot;:&quot;Sign up&quot;,&quot;action&quot;:&quot;click to sign up for account&quot;,&quot;label&quot;:&quot;ref_page:/<user-name>/<repo-name>/voltron/issues_fragments/issue_layout;ref_cta:Sign up;ref_loc:header logged out&quot;}">
              Sign up
            </a>
        </p></div>
      </div>
</header>

      
    </div>

  








    


    
    <include-fragment data-base-src="https://github.com/notifications/beta/shelf"></include-fragment>






  <div itemscope="" itemtype="http://schema.org/SoftwareSourceCode" data-commit-hovercards-enabled="" data-discussion-hovercards-enabled="" data-issue-and-pr-hovercards-enabled="">
    <main id="js-repo-pjax-container">
      
  


  
      
    

    






  
  <div id="repository-container-header" data-turbo-replace="">

      

        


          <nav data-pjax="#js-repo-pjax-container" aria-label="Repository" data-view-component="true">

  
    <div data-view-component="true">      <action-menu data-select-variant="none" data-view-component="true">
  <focus-group direction="vertical" mnemonics="" retain="">
    <tool-tip id="tooltip-dfb4facb-9671-4890-a4a2-a531c8b8cb15" for="action-menu-c677db56-f8db-44d0-b6de-77ca236acd88-button" popover="manual" data-direction="s" data-type="label" data-view-component="true">Additional navigation options</tool-tip>


<anchored-position id="action-menu-c677db56-f8db-44d0-b6de-77ca236acd88-overlay" anchor="action-menu-c677db56-f8db-44d0-b6de-77ca236acd88-button" side="outside-bottom" anchor-offset="normal" popover="auto" data-view-component="true">
  </anchored-position>  </focus-group>
</action-menu></div>
</nav>

  </div>

  



<turbo-frame id="repo-content-turbo-frame" target="_top" data-turbo-action="advance">
    <div id="repo-content-pjax-container" data-channel="eyJjIjoiaXNzdWU6MjE4NDU3MTExNzp0aW1lbGluZSIsInQiOjE3MTA2MDEyMDV9--62b4f47008ceced2ade9135ed7c1b5319de85e696fbef556228a35f86cc1c229" data-url="/mozilla/ichnaea/issues/2065/show_partial?partial=issues%2Ftitle&amp;sticky=true" data-gid="I_kwDOAJFJeM6CNejt" data-morpheus-enabled="false" data-pjax="" data-turbo-frame="">



          
<details>
  <summary data-ga-click="Issues, create new issue, view:issue_show location:issue_header style:button logged_in:false">
    
    New issue
  </summary>
  <details-dialog aria-label="Sign up for GitHub">
            <div>
  <p>
  <strong>Have a question about this project?</strong> Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
  </p>

  <!-- '"` --><!-- </textarea></xmp> -->
  <p>By clicking “Sign up for GitHub”, you agree to our <a href="https://docs.github.com/terms" target="_blank">terms of service</a> and
  <a href="https://docs.github.com/privacy" target="_blank">privacy statement</a>. We’ll occasionally send you account related emails.</p>

  <p>
    Already on GitHub?
    <a data-ga-click="(Logged out) New issue modal, clicked Sign in, text:sign-in" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;new issue modal&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://github.com/mozilla/ichnaea/issues/2065&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="f045e9bba9af6b1b79364b400273949959ceac629560f1dfa77780103812fae1" href="https://github.com/login?return_to=%2Fmozilla%2Fichnaea%2Fissues%2Fnew%2Fchoose">Sign in</a>
    to your account
  </p>
</div>
  </details-dialog>
</details>
        
      </div>

</turbo-frame>


    </main>
  </div>

          




    <cookie-consent id="cookie-consent-banner" data-initial-cookie-consent-allowed="" data-cookie-consent-required="true"></cookie-consent>


  

    <template id="site-details-dialog">
  <details class="details-reset details-overlay details-overlay-dark lh-default color-fg-default hx_rsm" open="">
    <summary role="button" aria-label="Close dialog"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast hx_rsm-dialog hx_rsm-modal">
      <button class="Box-btn-octicon m-0 btn-octicon position-absolute right-0 top-0" type="button" aria-label="Close dialog" data-close-dialog="">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
      </button>
      <div class="octocat-spinner my-6 js-details-dialog-spinner"></div>
    </details-dialog>
  </details>
</template>

    

    <template id="snippet-clipboard-copy-button">
  <div class="zeroclipboard-container position-absolute right-0 top-0">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn js-clipboard-copy m-2 p-0 tooltipped-no-delay" data-copy-feedback="Copied!" data-tooltip-direction="w">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon m-2">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none m-2">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div>
</template>
<template id="snippet-clipboard-copy-button-unpositioned">
  <div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div>
</template>




    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[AutoDev: Automated AI-driven development by Microsoft (122 pts)]]></title>
            <link>https://arxiv.org/abs/2403.08299</link>
            <guid>39724356</guid>
            <pubDate>Sat, 16 Mar 2024 09:03:06 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arxiv.org/abs/2403.08299">https://arxiv.org/abs/2403.08299</a>, See on <a href="https://news.ycombinator.com/item?id=39724356">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content-inner">
    
    
                
    <p><a href="https://arxiv.org/pdf/2403.08299">Download PDF</a>
    <a href="https://arxiv.org/html/2403.08299v1">HTML (experimental)</a></p><blockquote>
            <span>Abstract:</span>The landscape of software development has witnessed a paradigm shift with the advent of AI-powered assistants, exemplified by GitHub Copilot. However, existing solutions are not leveraging all the potential capabilities available in an IDE such as building, testing, executing code, git operations, etc. Therefore, they are constrained by their limited capabilities, primarily focusing on suggesting code snippets and file manipulation within a chat-based interface. To fill this gap, we present AutoDev, a fully automated AI-driven software development framework, designed for autonomous planning and execution of intricate software engineering tasks. AutoDev enables users to define complex software engineering objectives, which are assigned to AutoDev's autonomous AI Agents to achieve. These AI agents can perform diverse operations on a codebase, including file editing, retrieval, build processes, execution, testing, and git operations. They also have access to files, compiler output, build and testing logs, static analysis tools, and more. This enables the AI Agents to execute tasks in a fully automated manner with a comprehensive understanding of the contextual information required. Furthermore, AutoDev establishes a secure development environment by confining all operations within Docker containers. This framework incorporates guardrails to ensure user privacy and file security, allowing users to define specific permitted or restricted commands and operations within AutoDev. In our evaluation, we tested AutoDev on the HumanEval dataset, obtaining promising results with 91.5% and 87.8% of Pass@1 for code generation and test generation respectively, demonstrating its effectiveness in automating software engineering tasks while maintaining a secure and user-controlled development environment.
    </blockquote>

    <!--CONTEXT-->
    
  </div><div>
      <h2>Submission history</h2><p> From: Michele Tufano [<a href="https://arxiv.org/show-email/d9255482/2403.08299">view email</a>]      <br>    <strong>[v1]</strong>
        Wed, 13 Mar 2024 07:12:03 UTC (273 KB)<br>
</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Affordable Wheel Based Refreshable Braille Display (150 pts)]]></title>
            <link>https://jacquesmattheij.com/refreshablebraille/BrailleDisplayProject.html</link>
            <guid>39724312</guid>
            <pubDate>Sat, 16 Mar 2024 08:52:48 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://jacquesmattheij.com/refreshablebraille/BrailleDisplayProject.html">https://jacquesmattheij.com/refreshablebraille/BrailleDisplayProject.html</a>, See on <a href="https://news.ycombinator.com/item?id=39724312">Hacker News</a></p>
<div id="readability-page-1" class="page"><p><span>These are my notes on the Braille display project</span></p><p><span>Intro</span></p><p><span>On HN</span><sup><a href="#ftnt1" id="ftnt_ref1">[1]</a></sup><span>&nbsp;I came into contact with Mahmoud Al-Qudsi (</span><span><a href="mailto:mqudsi@neosmart.net">mqudsi@neosmart.net</a></span><span>) , who mentioned that he'd been working off-and-on on a braille reader that is both affordable and easy to manufacture. He sent me a some files and pointed to a patent</span><sup><a href="#ftnt2" id="ftnt_ref2">[2]</a></sup><span>&nbsp;that he took out on a device that uses octagonal wheels with codes on them, 8 to a wheel, two wheels side by side. His main frustration stemmed from the fact that in spite of dirt cheap mass produced devices with ridiculous precision an affordable braille reader simply doesn't exist. Devices are expensive, fragile and hard to get. This prompted me (Jacques) to offer my help and so we started mailing back and forth. Initially I think Mahmoud got a bit put off by my 'eager puppy enthusiasm', not hindered by any knowledge or experience I quickly ran into the limits of what is easily doable. But the sketch that Mahmoud made showed promise even if it had some serious issues which were the main reason why he never really got it to work. He abandoned the patent and seemed hopelessly stuck.</span></p><ul><li><span>some loose facts:</span></li></ul><ul><li><span>40 million blind people worldwide</span></li><li><span>lots of them in undeveloped countries</span></li><li><span>but even in developed countries access to readers is limited</span></li></ul><ul><li><span>Possibilities for economies of scale (which also lines up with actuator mechanisms)</span></li></ul><ul><li><span>per-dot</span></li></ul><ul><li><span>pins themselves</span></li><li><span>per-dot actuators</span></li></ul><ul><li><span>per-cell</span></li></ul><ul><li><span>cell housing</span></li></ul><ul><li><span>per-line</span></li></ul><ul><li><span>manufacture a whole line at once (should be cheaper than individual cells)</span></li><li><span>per-line actuators (rows and columns)</span></li></ul><ul><li><span>per-device</span></li></ul><ul><li><span></span></li><li><span>challenges</span></li></ul><ul><li><span>Braille letters were defined outside of a technological frame of reference so (fortunately) ease of use by the blind trumped any kind of acknowledgement of the technological impact of those definitions, which has a massive effect on the ease with which a Braille display can be constructed. In summary: it is a very hard mechanical problem. The size of the mechanical components is really small and the result is that standard (read: cheap) actuators all fail to satisfy the constraints placed on size and placement within the device. The result of this is that the Braille displays that are available tend to be really expensive, with the most affordable at $700 for a 40 cell 8 dot display or about $2 / dot. This price point seems to be the absolute lowest with the vast majority of the display at a fair multiple of that. Intuitively it should be possible to do *much* better than that.</span></li></ul><ul><li><span>Dimensional specifications</span><sup><a href="#ftnt3" id="ftnt_ref3">[3]</a></sup><span>&nbsp;</span></li></ul><ul><li><span>dot specifications 1.6 mm dia, 2.5 mm between dots</span></li><li><span>cell specifications 7.6 mm wide</span></li><li><span>line specifications 10 mm high</span></li></ul><ul><li><span>leverage maker scene</span></li></ul><ul><li><span>arduino's, teensy's etc</span></li><li><span>various io components</span></li><li><span>3D printers</span></li><li><span>laser cutters?</span></li></ul><ul><li><span>various possible parts</span></li></ul><ul><li><span>motors</span></li></ul><ul><li><span>motors have a downside of being power hungry and they consume a lot of space and are heavy but I don't see a way around either having a massive number of actuators or a much smaller number of motors. Either way a large number of motors or other actuators also increases cost for the drive electronics.</span></li><li><span>nema 8 (20 mm) stepper </span><span><a href="https://www.google.com/url?q=https://www.adafruit.com/product/4411&amp;sa=D&amp;source=editors&amp;ust=1709891107831374&amp;usg=AOvVaw2UwolehZWpss8ZgYSFShio">https://www.adafruit.com/product/4411</a></span><span>&nbsp;</span></li><li><span><a href="https://www.google.com/url?q=https://www.omc-stepperonline.com/nema-8-stepper-motor&amp;sa=D&amp;source=editors&amp;ust=1709891107831656&amp;usg=AOvVaw2k7YSftB7DouOhEMpDsJgf">https://www.omc-stepperonline.com/nema-8-stepper-motor</a></span><span>&nbsp;</span></li><li><span><a href="https://www.google.com/url?q=https://joy-it.net/en/products/NEMA08-03&amp;sa=D&amp;source=editors&amp;ust=1709891107831808&amp;usg=AOvVaw0r6YLRZeJUQ-oi79eI_cp6">https://joy-it.net/en/products/NEMA08-03</a></span><span>&nbsp;</span></li><li><span><a href="https://www.google.com/url?q=https://nl.aliexpress.com/w/wholesale-nema-8-stepper-motor.html?g%3Dy%26SearchText%3Dnema%2B8%2Bstepper%2Bmotor%26sortType%3Dprice_asc&amp;sa=D&amp;source=editors&amp;ust=1709891107831991&amp;usg=AOvVaw0qhWnHQzR2hKxa_Y38LsUV">https://nl.aliexpress.com/w/wholesale-nema-8-stepper-motor.html?g=y&amp;SearchText=nema+8+stepper+motor&amp;sortType=price_asc</a></span><span>&nbsp;</span></li><li><span>RC servos</span></li><li><span><a href="https://www.google.com/url?q=https://www.youtube.com/watch?v%3D2vAoOYF3m8U&amp;sa=D&amp;source=editors&amp;ust=1709891107832186&amp;usg=AOvVaw16-jNLjsB126En45IIN3TW">https://www.youtube.com/watch?v=2vAoOYF3m8U</a></span><span>&nbsp;linear RC servo</span></li></ul><ul><li><span>Dot Actuators</span></li></ul><ul><li><span>ballpoint pen like mechanism</span></li></ul><ul><li><span>pros</span></li></ul><ul><li><span>cheap</span></li><li><span>locks in place</span></li><li><span>once locked zero power consumption</span></li></ul><ul><li><span>cons</span></li></ul><ul><li><span>noisy</span></li><li><span>bulky</span></li></ul><ul><li><span>voice coils</span></li><li><span>piezo</span></li><li><span>wax (expansion) based</span></li><li><span>jack (screw) based raise &amp; lower</span></li><li><span>cams per row or column</span></li><li><span>2d + z per-dot actuator ('x/y addressable push</span></li><li><span>plastic slide with some actuator mechanism attached</span></li></ul><ul><li><span>magnets</span></li></ul><ul><li><span><a href="https://www.google.com/url?q=https://www.magnetenspecialist.nl/winkel/schijfmagneten/schijfmagneet-2-x-2-mm/&amp;sa=D&amp;source=editors&amp;ust=1709891107833365&amp;usg=AOvVaw3LGU5e3Rv7GadZy-6jSGxq">https://www.magnetenspecialist.nl/winkel/schijfmagneten/schijfmagneet-2-x-2-mm/</a></span><sup><a href="#cmnt1" id="cmnt_ref1">[a]</a></sup><sup><a href="#cmnt2" id="cmnt_ref2">[b]</a></sup><span>&nbsp;</span></li><li><span><a href="https://www.google.com/url?q=https://www.supermagnete.nl/eng/disc-magnets-neodymium/disc-magnet-1mm-1mm_S-01-01-N&amp;sa=D&amp;source=editors&amp;ust=1709891107833775&amp;usg=AOvVaw0JFqXlnM-_x2tGo-vOv929">https://www.supermagnete.nl/eng/disc-magnets-neodymium/disc-magnet-1mm-1mm_S-01-01-N</a></span><span>&nbsp; </span></li><li><span><a href="https://www.google.com/url?q=https://www.guysmagnets.com/neodymium-magnets-c11/2-mm-x-1-mm-n38-grade-disk-pack-of-100-p29404&amp;sa=D&amp;source=editors&amp;ust=1709891107833951&amp;usg=AOvVaw2-lejY9HhfdjHj1IBOGcn7">https://www.guysmagnets.com/neodymium-magnets-c11/2-mm-x-1-mm-n38-grade-disk-pack-of-100-p29404</a></span><span>&nbsp;</span></li></ul><ul><li><span>Different ways of achieving the display</span></li></ul><ul><li><span><a href="https://www.google.com/url?q=https://www.youtube.com/watch?app%3Ddesktop%26v%3DrjWfIiaOFR4&amp;sa=D&amp;source=editors&amp;ust=1709891107834293&amp;usg=AOvVaw1Gathwy6eYpkj2cFn0gJcs">https://www.youtube.com/watch?app=desktop&amp;v=rjWfIiaOFR4</a></span><span>&nbsp;mechanical odometer counter like mechanism to drive the cells, each row in a cell would be one wheel, with a cam driving the dot pins up or down as required.</span></li><li><span></span></li></ul><ul><li><span>Mahmoud's design</span></li></ul><ul><li><span>very interesting, clever use of both materials and space, lots of ideas that I have not seen elsewhere or done much worse elsewhere &nbsp; &nbsp; </span></li></ul><ul><li><span>I like the vertical use of the wheels because it means the motion of the readers finger does not immediately result in the wheels moving even if they are not locked</span></li><li><span>complex and expensive drive train, I especially do not like the clutches</span></li><li><span>there is no re-use of pattern partials so you need a full 360 which makes a side drive a necessity</span></li><li><span>complex mechanical linkages</span></li><li><span>some pretty expensive parts such as miniature worm gears</span></li><li><span>not very wear proof</span></li><li><span>many single points of failure</span></li><li><span>very high manufacturing precision required</span></li><li><span>looks fragile</span></li><li><span>hard to service</span></li><li><span>but: if you can get it to work probably still cheaper than anything on the market</span></li></ul><ul><li><span></span></li><li><span>external resources</span></li></ul><ul><li><span><a href="https://www.google.com/url?q=https://en.wikipedia.org/wiki/Refreshable_braille_display&amp;sa=D&amp;source=editors&amp;ust=1709891107835247&amp;usg=AOvVaw0PJ2TsjIO4wQfxwBRCI1NK">https://en.wikipedia.org/wiki/Refreshable_braille_display</a></span><span>&nbsp;</span></li><li><span><a href="https://www.google.com/url?q=https://up.codes/s/braille&amp;sa=D&amp;source=editors&amp;ust=1709891107835412&amp;usg=AOvVaw0CHA_-AK2Y5yer9ak_Y-Pt">https://up.codes/s/braille</a></span><span>&nbsp;</span></li><li><span>online Braille encoder </span><span><a href="https://www.google.com/url?q=https://www.brailletranslator.org/&amp;sa=D&amp;source=editors&amp;ust=1709891107835543&amp;usg=AOvVaw3hp6mrqxH5pnaeS1RLO4pJ">https://www.brailletranslator.org/</a></span><span>&nbsp;</span></li><li><span><a href="https://www.google.com/url?q=https://tsapps.nist.gov/publication/get_pdf.cfm?pub_id%3D151464&amp;sa=D&amp;source=editors&amp;ust=1709891107835689&amp;usg=AOvVaw0z7XPBlAPaClThDfNesp2d">https://tsapps.nist.gov/publication/get_pdf.cfm?pub_id=151464</a></span><span>&nbsp;</span></li><li><span></span></li></ul><ul><li><span>products on the market already</span></li></ul><ul><li><span>An overview article on the American Foundation for the Blind website: </span><span><a href="https://www.google.com/url?q=https://www.afb.org/node/16207/refreshable-braille-displays&amp;sa=D&amp;source=editors&amp;ust=1709891107835936&amp;usg=AOvVaw219EYUb3ptGdN4Bq9YXpf6">https://www.afb.org/node/16207/refreshable-braille-displays</a></span><span>&nbsp;interestingly, it quotes $3500 to $15000 for the devices but does not have the Orbit 20 on it </span><span>which seems strange as that one is priced very competitively</span><sup><a href="#cmnt3" id="cmnt_ref3">[c]</a></sup><sup><a href="#cmnt4" id="cmnt_ref4">[d]</a></sup><span>&nbsp;compared to the ones that they do list.</span></li><li><span>The Orbit 20</span></li></ul><ul><li><span><a href="https://www.google.com/url?q=http://www.orbitresearch.com/product/orbit-reader-20/&amp;sa=D&amp;source=editors&amp;ust=1709891107836275&amp;usg=AOvVaw2UEyrij1kOBhuH8lbeH-kF">http://www.orbitresearch.com/product/orbit-reader-20/</a></span><span>&nbsp;</span></li><li><span><a href="https://www.google.com/url?q=https://nfb.org/sites/default/files/images/nfb/publications/bm/bm17/bm1709/bm170912.htm&amp;sa=D&amp;source=editors&amp;ust=1709891107836438&amp;usg=AOvVaw17hmElNDJ_btFJrkTu0K95">https://nfb.org/sites/default/files/images/nfb/publications/bm/bm17/bm1709/bm170912.htm</a></span></li><li><span><a href="https://www.google.com/url?q=https://www.youtube.com/watch?v%3DUMtuYVHIfog&amp;sa=D&amp;source=editors&amp;ust=1709891107836569&amp;usg=AOvVaw3fKg7rfDs77FeQO79eny2I">https://www.youtube.com/watch?v=UMtuYVHIfog</a></span><span>&nbsp;video which shows the display refreshing</span></li><li><span>17x11x3 cm</span></li></ul><ul><li><span>The 'Gold Standard' </span><span><a href="https://www.google.com/url?q=https://lexima-reinecker.nl/brailliant-bi-40x/&amp;sa=D&amp;source=editors&amp;ust=1709891107836749&amp;usg=AOvVaw3TjTRDTF1hgDc5p9tn1kXm">https://lexima-reinecker.nl/brailliant-bi-40x/</a></span><span>&nbsp;(about 3500 euros)</span></li><li><span><a href="https://www.google.com/url?q=https://www.techno-vision.co.uk/product/canute-360/&amp;sa=D&amp;source=editors&amp;ust=1709891107836909&amp;usg=AOvVaw2mmaiCCAtaiWLfjdU3j0Mt">https://www.techno-vision.co.uk/product/canute-360/</a></span><span>&nbsp;The Canute, 1900 pounds for the number of cells that's very cheap. Super noisy, terribly slow but it works. Update: It looks like it uses Mahmoud's wheels!</span></li><li><span>Baum 'David' </span><span><a href="https://www.google.com/url?q=https://upload.wikimedia.org/wikipedia/commons/9/98/Baum_David_System_90_%2528cropped%2529.jpg&amp;sa=D&amp;source=editors&amp;ust=1709891107837095&amp;usg=AOvVaw3rud2JOTd_iClMzDMtNfJk">https://upload.wikimedia.org/wikipedia/commons/9/98/Baum_David_System_90_%28cropped%29.jpg</a></span><span>&nbsp;</span></li></ul><ul><li><span>Interesting projects&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li></ul><ul><li><span>This one definitely rates a mention, Radek posted it in the chat, I had discarded it because 'non conformant' braille size but let's keep it because of the sheer innovation: </span></li></ul><p><span><a href="https://www.google.com/url?q=https://www.youtube.com/watch?v%3DBXi1tG78AW4%26ab_channel%3DVijayVarada&amp;sa=D&amp;source=editors&amp;ust=1709891107837386&amp;usg=AOvVaw0Uos_MA_sBW4FBeNHB-AIe">https://www.youtube.com/watch?v=BXi1tG78AW4&amp;ab_channel=VijayVarada</a></span><span>&nbsp;The essence is an excentric with two states per pixel.</span></p><ul><li><span><a href="https://www.google.com/url?q=https://www.youtube.com/watch?v%3DsBBqdEnZPck&amp;sa=D&amp;source=editors&amp;ust=1709891107837565&amp;usg=AOvVaw38VfYPwudiJw5bJLAQxzgC">https://www.youtube.com/watch?v=sBBqdEnZPck</a></span><span>&nbsp;fascinating wheel driven display, such incredible mechanical complexity.</span></li></ul><p><span><a href="https://www.google.com/url?q=https://nfb.org/sites/default/files/images/nfb/publications/bm/bm17/bm1709/bm170912.htm&amp;sa=D&amp;source=editors&amp;ust=1709891107837838&amp;usg=AOvVaw3OQ7_30YqE6CeqU-68FJ17">https://nfb.org/sites/default/files/images/nfb/publications/bm/bm17/bm1709/bm170912.htm</a></span></p><p><span>Challenges</span></p><ul><li><span>this is a complex undertaking that will require</span></li></ul><ul><li><span>electronics</span></li><li><span>mechanical parts</span></li><li><span>electro magnetics</span></li><li><span>extreme precision because of the size of the output</span></li><li><span>software</span></li></ul><ul><li><span>it will require a lot of time, it looks superficially easy but to stay the course and make at least one satisfactory working device is going to take months if not years</span></li><li><span>the temptation will always be to start over along some new and promising avenue, once a direction is picked for execution it should be maintained until there is a working device or it is a confirmed dead-end</span></li><li><span>it will cost a fair amount of money to make a working prototype</span></li><li><span>a working cell is the major challenge, everything else can wait until that one is solved</span></li><li><span>I can't read braille myself so I can't really test the machine once it is there but I can check registration</span></li><li><span>avoid burn-out</span></li><li><span></span></li></ul><p><span>Assumptions about relative importance of criteria</span></p><p><span>for an MVP one or more of these can be relaxed to the point where it starts to become useful for actually users of the device.</span></p><ul><li><span>safety</span></li></ul><ul><li><span>fingers should never ever be at risk</span></li><li><span>hair or clothing or jewelry should not be able to get entangled</span></li><li><span>absolutely fire-proof</span></li><li><span>impact and drop resistant, the device may break but may not become unsafe</span></li></ul><ul><li><span>comfortable to use</span></li></ul><ul><li><span>low noise</span></li><li><span>low weight</span></li><li><span>long off-power use</span></li><li><span>support all 'standard' software and use cases</span></li></ul><ul><li><span>character/dot quality</span></li></ul><ul><li><span>dots equally high</span></li><li><span>dots equally spaced</span></li><li><span>dots perfectly lined up</span></li><li><span>dots don't move when you touch them.</span></li></ul><ul><li><span>character width, 7.6 mm is the standard and that should be respected</span></li><li><span>line of text quality </span></li></ul><ul><li><span>perfect alignment</span></li></ul><ul><li><span>little heat rejection</span></li><li><span>long service life, excellent MTBF</span></li></ul><ul><li><span>low moving parts count</span></li><li><span>rugged design</span></li><li><span>waterproof </span></li><li><span>dust and grime proof</span></li><li><span>easy to service, preferably without tools, better still if it can be done without sight (almost a must)</span></li><li><span>as near as possible to solid state</span></li></ul><ul><li><span>price is also very important, more affordable opens up the device to more people aim for $5/cell</span></li></ul><ul><li><span>low cost materials</span></li><li><span>as little fancy tooling as possible</span></li><li><span>easy to manufacture</span></li></ul><ul><li><span>line-to-line distance is more critical than height of the device</span></li><li><span>low power consumption</span></li></ul><ul><li><span>USB C powered</span></li></ul><ul><li><span>speed of update</span></li></ul><ul><li><span>0.5 Hz</span></li></ul><ul><li><span>nice to haves (for now…</span></li></ul><ul><li><span>bitmap capability</span></li><li><span>alternative power sources</span></li></ul><ul><li><span>battery powered</span></li></ul><ul><li><span>cursor and line buttons</span></li></ul><p><span>Market Notes</span></p><p><span>In general all the devices that are on the market seem to be a mixture between nice ideas, engineered by people who were first and foremost looking at things from a usability/durability perspective rather than price point (even the 'cheap' ones and technically none of them are really cheap). </span></p><p><span>The ones that were made with a specific price point in mind seem to have all overrun the target price point, sometimes by a considerable margin (x2 or close to that), and the more rugged and feature complete devices go for a multiple. They are all very small in terms of the number</span></p><p><span>of characters they can display, there simply isn't the equivalent of an 80x25 or something like</span></p><p><span>that on the market at all, let alone at an affordable price point. Based on the per cell price</span></p><p><span>of the Orbit 20 ($35) such a device would cost a whopping $70K!! And that's the equivalent</span></p><p><span>of a 1980's text terminal. </span></p><p><span>It also seems as if there is an element of graft in there. It's fairly obvious that the blind themselves are more or less at the mercy of whatever is out there and they are very good at justifying why these things should be expensive ('niche market', 'lots of money spent on research') and so on. I don't think that anybody doing this is really doing it to rip off the blind but in the end they don't mind making a lot of money. </span></p><p><span>There is the 'dot6', which is a glorified dymo label printer that costs $1000, the equivalent manual device for sighted people sans electronics is $10. Overengineering and over-thinking solutions seems to be another issue.</span></p><p><span>Per cell prices range from $7 (the Canute) on the low and to $100 on the high side. </span></p><p><span>Studies</span></p><p><span>As with everything, talk is cheap. It's easy to come up with a hundred different ways of doing this. Most of them you can discard right off the bat simply because they are too expensive, too power consuming, too fragile or too complex. But some are at least in principle promising enough to at least try them.</span></p><p><span>Because of the limitations of the tools I have at my disposal (3D printer, laser cutter, various hand tools) I'm going to first make some 4:1 scale models. Those are large enough that you can debug the concept and evaluate it and small enough for some 'pretend' use to see if they would function as intended. </span></p><p><span>For now I will use only common stuff that I can get my hands on ready made off the shelf or bespoke stuff that is printed with the 3D printer. The laser cutter may be useful in some capacity but I don't think wood is the right kind of material for this project, it would cause all kinds of complications and jams and it isn't very wear proof.</span></p><p><span>I've dated them from the pictures. &nbsp;</span></p><p><span>Study #1; 'Pen Clicker' (Feb 22)</span></p><p><span>My first idea for doing this super cheap is to try to get the parts for the dots down into the cents realm using cheap mass manufacturing techniques such as injection molding. Robert's ball point pen experiments gave the idea to try to use a ball point pen like mechanism per dot. This provides immediate locking and per-pin addressable display capability. The downside is that the mechanisms are fairly large (typically about 7 mm cross section) because there is plenty of room inside a pen. </span></p><p><span>You then still need to have a dot, row or cell capable method of changing the state of the pins. Accuracy of the addressing method is a bit of an issue, at 2.5 mm pin spacing there isn't a whole lot of room but by making the 'target' as large as possible (say, 2.2 mm) and a 'pusher' pin that is less than half that size (say, 1 mm) you could get this to feasible </span><span>if</span><span>&nbsp;you can make the bi-stable pin mechanism in the first place. You'd also need to be able to sense the position of a pin (in or out) so that you can recover from power failure or any other state change that goes unrecorded. Here is an image of a test setup, scale 4:1 with 6 cheap retractable pens:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image12.jpg" title=""></span></p><p><span>I think this would work. You could make a very cheap matrix display with it but it would be fairly slow to update and it would be quite noisy because of the bi-stable nature of the mechanism (which results in two clicks per set or reset). Miniaturaization would be tricky, especially the casing (which would have to be 2.5 mm at maximum diameter). You might be able to improve a little it on that by placing the actual pins offset from the center and moving the mechanisms out as far as the wall thickness to the next pin would allow within the body of the cell.</span></p><p><span>It would not live very long though, I can't find any reliable statistics on how long a pen retraction mechanism would last but regardless these are *much* (2.5x) smaller and would wear correspondingly faster. You could set up a bunch of cells and do an accelerated aging test to get a good idea of how reliable such a device would be. </span></p><p><span>For now I'm parking this one because it has a lot of already visible issues and has a very large number of parts (4 per pin, rider, case, spring). But maybe I'll revisit it for a matrix display.</span></p><p><span>Study #2, Odometer (Feb 23)</span></p><p><span>Cars from before the age of electronics had a mechanical odometer that is set up as a number of side-by-side wheels that each cound a decade. When a wheel reaches '0' it carries the next wheel to the left along to the next digit and so on. These are cheap to manufacture and have the advantage that you can drive the whole thing from a single motor, though updating the last wheel requires an exponentially higher number of moves for the first.</span></p><p><span>My initial thought was to make a number of cams that push spring loaded pins up or down. Each wheel would drive either 2 or 4 pins. But at a reasonable scale for actual use that concept would quickly fail: the cams would wear very rapidly and it would get awfully crowded in there with precision parts on par with what a typical watchmaker would put out. Much too expensive. </span></p><p><span>Then I realized that it might be possible to put the dots immediately on the wheels. that way you don't need any pushrods or slides or way to fixate the rods as long as the wheels can't be driven directly by the user, &nbsp;the downside is the wheel rotates in the direction of the reading so you need to work against that. But the greatly reduced parts count (no springs required and no physically separate pins) makes it more than worth trying this out. What's funny is that Mahmouds original 8 code wheel already had this but I was so focused on cams and 'proper' pins that I totally forgot this and I didn't like the diameter and shape of the wheel.</span></p><p><span>Here is a photo of a trial two dot wide wheel:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image81.jpg" title=""></span></p><p><span>The dots protrude from the side of the wheel. To reduce the amount of rotation required to produce a pattern you can replicate the dots at different angles on the wheel, at least two offset by 180 degrees are possible (half the number of rotations required) and possibly even three. Another option to reduce the number of rotations is to allow the mechanism to spin in either direction, this would give you the option to move backwards if that gives a quicker path to the required combination.</span></p><p><span>Here is a model with three wheels in place: </span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image36.jpg" title=""></span></p><p><span>Rotating a wheel through 4 different angles gives you zero dots, one on the left, one on the right or two dots. That way you need two blank spaces and two dots for all four combinations of two dots, which saves you half the rotation. For a six dot cell with one replica of the two dot pattern you'd have to spin the third wheel across three positions maximum (from 00 through 01, 11 and then 10) so that's three 'carry' operations, the previous wheel would then have to spin through three whole revolutions (so 18 carry operations) and the first wheel would go through nine. </span></p><p><span>With two patterns (00 11 00 11) a carry every half revolution the second wheel would have to spin 1.5 turns and the first through 4.5. </span></p><p><span>If you can put three patterns on a wheel (00 11 00 11 00 11) then the second wheel would spin once and the first woud spin twice. Two revolutions to pick any combination of 64 possibilities worst case, and on average only one revolution because on average you'd be only half the distance from the pattern that you want. That sounds very doable. Another interesting part here is that you could drive the first wheel through two small solenoids, one on the left and one on the right of the initial wheel mounted solidly to the axle.</span></p><p><span>This would protect against backdriving the wheels (modulo some slop in the gearing). It might also be possible to pick a suitable gear ratio to drive the wheels directly one to the other but it would be very hard not to have wheels 'in the middle' between two positions in order to position the furthest ones, similar to how when a clock indicates quarter past three the hour hand is already one quarter under way towards the '4' position.</span></p><p><span>Now the 2.5 mm inter dot spacing requirement actually helps us rather than that it hinders because it may help to allow us to squeeze in three patterns on a wheel. 360/3 is 120 per pattern, with each of the pattern elements (dot or space) offset by 30 degrees. That's nice because it squeezes the dots closer together making them protrude a bit further because they are both closer to the maximum protrusion due to the smaller angle (+- 15 degrees rather than +- 22.5 degrees). Here is a pattern wheel with three sets of patterns. </span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image56.jpg" title=""></span></p><p><span>Placing this wheel is a bit harder than the one with two patterns because there is always something sticking out but it is still doable. It *might* even be possible to add another pattern but that would require a trick to place the wheels, they would have to travel through the sidewalls somehow. Maybe you could cut every other sidewall out completely so that the wheels can temporarily move into the adjacent slot while traveling upwards towards their installed position but that's a bit awkward. </span></p><p><span>You can clearly see that the two dots are spaced closer than on the first wheels with only one pattern, the inter-dot distance is 7 mm here, which corresponds with roughly 3:1 scale factor. The wheel itself however is still at 4:1 so that's not 100% fair. It might be worth trying to scale the wheel down to 3:1 rather than 4:1 to see if such an intermediary step is useful but I'd rather first finish the whole thing so that it conceptually works, then scale it down to say 2:1, make that work and then finally get it as close to the required size as possible while still keeping a functional unit. </span></p><p><span>Note that in a real design that whole wheel is only 7.5 mm across, so the definition of the patterns is going to be much harder to achieve than scaled up. A 2:1 version still worked quite well but a 1:1 version did not have enough resolution to be able to even resolve the dots with the eye, let alone by touch.</span></p><p><span>An interesting observation: when you move the patterns clockwise side-to-side they go through the following sequence (with the middle two positions being at the top of the wheel): 110000 011000 001100 000100. If you don't turn the wheel through a whole revolution and you use only one 'three patterns' segment of the wheel that means that you can replace the wheel with a simple lever with the two dots at the top rotating across only 90 degrees. The starting position would be '0', then the first is 30, the second 60 and the final one 90 degrees. </span></p><p><span>Either extreme would be automatically 'locking', one extreme because you could run the side into a block, the other because it is blank so you'd have the four zeros covered (the wheels won't spontaneously rise out of their slots) and one of the ones. That leaves three 'one' positions to be somehow locked. Another option would be to add two more positions to engage the carry to the next slot (but that would increase the covered angle to 150 degrees for an 'up' and a 'down' carry position), or you could drive each wheel individually (right away much more expensive).</span></p><p><span>Study #3, 3 dot wheels; orientation vertical (Feb 23)</span></p><p><span>Mahmoud's design has a lot going for it, it uses fewer drive train components but the ones he has used are fragile and expensive and I think there are some possible ways to substantially improve on the design. For starters, he uses 8 distinct faces, one for each of the possible 8 3-bit combinations. This requires a full 360 to position the wheel. It does allow for elegance at the edges where the pattern approaches the casing but that's a lesser problem in my opinion so it may be better to ignore that for now and focus on the thing that matters most: that the dots line up in *exactly* the expected place and that the drive train isn't going to be too complex. Because within a single character there is no room for positioning errors at all.</span></p><p><span>By laying the sequences out so that they overlap the number of positions on the wheel is reduced a lot: 000, 001, 010, 011, 100, 101, 110, 111 becomes 01110100 which when wrapped around the wheel allow you to select all of the combinations. But that has 45 degrees per position, which is not ideal because the middle position will be much more raised than the side ones. You can compress the pattern quite a bit, at 22.5 degrees per position you need 180 degrees for the full pattern and as with concept #2 you can use 15 degrees and then the whole thing fits in 120 degrees of the wheel, so you can put three full patterns on a wheel. The matching pattern is then at most 1/6th of a turn away from where you are right now.</span></p><p><span>Another option is to use the other 240 degrees for the drivetrain, either by turning the bottom of the wheel into a gear or, even more elegant by using the whole thing as a motor. This is interesting for several reasons: the motors themselves are obvious weak spots, they require some kind of downgearing and/or a feedback mechanism and they are probably going to be at right angles to the wheels to give them enough space to work. </span></p><p><span>Here is a sample with a 3 pattern wheel:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image45.jpg" title=""></span></p><p><span>There is already quite a bit of room on the side so the wheel could be made thinner without penalty. There is quite a bit of gap between the dots, they are pretty easy to discern, the only part that is not so elegant is that the 'skirt' where the dots duck under the top surface is quite large relative to the size of the dots. The wheel is also about 2.7 times bigger in diameter than what would be ideal, at 27 mm versus the 10 that the specification requires. But the 'Orbit Slate 520' does much worse than that!</span></p><p><span><a href="https://www.google.com/url?q=https://www.orbitresearch.com/product/orbit-slate-520-multi-line-refreshable-braille-display/&amp;sa=D&amp;source=editors&amp;ust=1709891107845220&amp;usg=AOvVaw2-HXtchvkEC44xbicGa7pf">https://www.orbitresearch.com/product/orbit-slate-520-multi-line-refreshable-braille-display/</a></span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image41.png" title=""></span></p><p><span>So that should not be a problem at all for now, better to have slightly oversized lines than no lines at all. The dot pitch works out to about 3.3 mm vertically, that's not ideal and it should be reduced by 30% to be standard conformant. There are two principal ways of doing this, the first would be to scale the whole thing down (part of that will have to happen anyway), another way is to further reduce the angle until we get to the right dot spacing. I think that's the most interesting option because it would further reduce the movement of the wheel during repositioning and it would maybe allow for a fourth pattern. Note that even a partial fourth pattern would be useful.</span></p><p><span>It is also time to reduce the wheel width a bit and to space any two adjacent wheels the right distance apart. And to make two characters side-by-side again instead of mis-using the old case.</span></p><p><span>Study #4; thinner wheels (Feb 23)</span></p><p><span>This one is a lot slimmer than the previous ones. It uses wheels that are not quite the right size (still too thick) but much closer to where we should be. It has three patterns per wheel, two wheels side-by-side per cell and two cells side by side for a two character setup. This brings the size of the dots and the inter-dot spacing much closer to conformance than before.</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image15.jpg" title=""></span></p><p><span>Having the three patterns on a wheel means we need to be able to move through 120-15 degrees for all 8 patterns to be exposed. I wonder if you'd only use a single pattern whether it would be possible to run the remaining 2/3rds of the wheel into a stepper with 8 positions. In hard drives such an arrangement is used to position the heads. A single magnet in the center could be used by the two wheels next to it (flattened in the middle) so that a coil riding the magnet would rotate the wheel. Hard drives use a servo mechanism and piezo electrics for the final detailed drive movement but we don't need that kind of precision, at 15 degrees per step all we need is a coarse positioning system with some kind of holding torque that doesn't break the bank in terms of BOM or assembly costs. </span></p><p><span>The feedback could be provided by a very basic quadrature encoder using leds on either side of the wheels or by deadheading it from a fixed reference point (for instance: a stop). An alternative would be to embed a magnet in half of the wheel and to put a bunch of coils next to it, each coil would pull the magnet towards it for that to become the indexed position. Travel from one coil to the next would dependent on the distance from the center of the wheel to where the coils live, this could be a multiple of the distance for the dots at the expensive of height and line spacing due to the increased swing of the arm. </span></p><p><span>A really steampunk version of this would use a spring and a pullrope, with the actual positioning mechanism somewhere else. To avoid calibration issues the return stop point would have to be reset upon power up (the point at which the wheel comes out of its rest position). The motors would live off to the side of the whole thing and take up as much space as you want. This is interesting, but fragile and hard to assemble and service but it would be pretty quick. </span></p><p><span>Another option is to use a travelling arrangement like in the Orbit 20 where a selector mechanism moves the wheel to the right position and then somehow locks it. I'm not a real fan of that arrangement, it has single points of failure and it's dead slow. For a larger display that simply wouldn't work unless you were really smart about the updates.</span></p><p><span>&nbsp;On the plus side if you did it for both axis it would probably be very cheap to build. The locking could possible be achieved by a ball loaded by a spring with a bunch of corresponding holes in the wheel, but from experience I know that assembling such devices is a complete nightmare. Another option might be that the presence of the setter carriage would automatically unlock the wheel, for instance by a relatively powerful magnet pulling back on the wheel lock. Moving the carriage would cause the lock to re-engage. That would also require a spring or there could be an embedded magnet to push the lock back into its position.</span></p><p><span>Study 5, Even thinner wheels (Feb 23)</span></p><p><span>These are the first dots that are as good as conformant. </span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image85.jpg" title=""></span></p><p><span>The wheels are thin, only 2.6 mm (so off by 1/10th compared to what I was shooting for). Three patterns to a wheel like before. What's nice is that the pins are now so closely spaced they don't drop as much for the outer two pins. This makes it much easier to read the code.</span></p><p><span>Wheel diameter is about 27 mm. I didn't feel like making a casing for these thin wheels because it's pretty obvious that they will work, *if* you manage to drive them. Looking at the wheels side by side made me wonder if I couldn't use the pins themselves as the driving mechanism. That's possible in theory if it weren't for those large blank spots. This is a bigger problem than it may seem at first glance because any kind of drivetrain would have to engage with the wheels deeper than the pins if it is to work at all. But using a relatively 'sharp' (or deep, depending on how you want to look at it) wormgear you could probably do it. With one major serious problem which is that 2.5 mm over there is another such wheel which also wants to be driven, independently. </span></p><p><span>Which made me wonder how big a single wheel with all 64 combinations would be. The braille standard says that you can have a minimum dot spacing of 2.3 mm with 1.5 mm dots. 64 x 2.3 is 147 linear millimeters, which results in a wheel that is 46 mm diameter. That is *very* far from ideal. *But*, and this is a huge advantage, suddenly the drive problem is relatively easy to solve, you just index that one wheel to get a reference and then you rotate it into position, done. It is self locking (property of worm gears, as Mahmoud also noted) and it reduces the number of moving parts per cell to one plus a small motor. That's well into 'doable' territory at the expense of the line spacing. But as noted above in the bit about the Orbit 520 that's not entirely out of bounds though it would have been far nicer to be more compact. </span></p><p><span>At 46 mm / wheel an 80x10 line screen would be 61 cm wide and 46 high (no other buttons or controls taken into account). That's too big to take with you, but then again, 80 wide is the larger dimension. At 40x10 it would be in the large laptop domain. The 'deep' wormgear will be a pain but unless you want to use two motors at different angles it would be tricky to do much better. The wormgear would have to be only a little bit deeper than the dots, and the dots could be reduced in depth (they are probably a bit on the deep side right now) so hopefully not too bad. Another option, at the expense of some more wheel diameter might be to compress the patterns a bit and to have a 'dummy' part of the wheel that is all 'ones' so that we never have to drive the wheel on the bare part.</span></p><p><span>So that's worth a try. </span></p><p><span>Study 6; whole character wheels (Feb 24)</span></p><p><span>A single wheel, 46 mm diameter with all of the patterns on it in one go, 64 different index positions each of which expose a new combination at the top face. The wheel will use 1.5 mm dots on a 2.3 mm spacing (tightest spacing allowed under the standard), with 0.8 mm between the dots so that's 1.5*2 + 0.8 = 3.8 mm wide. Compared to the 7.6 mm that a cell can be wide this is fairly luxurious and it is possible that a drive from the side is also an option but for now let's pretend we're driving with the dots themselves. Reducing the size of the 'space' between two letters would allow for closer packing but that may not work for readers, I just don't know. Some kind of feedback will be required so that we know exactly what the position of the wheel is, or, alternatively we can drive the whole thing with a stepper.</span></p><p><span>But first let's make a wheel. I tried twice to make the 64 slot wheel by hand assembling the codes into a long sequence 64 positions long that contains all the codes but I kept running into problems and had to backtrack. After the second time I gave up on trying to do it by hand and I wrote a piece of code to do it. These are the side-by-side codes:</span></p><p><span>&nbsp;0011101000111011101001111011111001011010000010011001011010000010</span></p><p><span>&nbsp;0011111111110110110110100100011011001011011001010010000010010000</span></p><p><span>The top one encodes the left hand wheel, the bottom the right hand one. All combinations are present so this wheel can generate all 6 dot braille codes. </span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image42.jpg" title=""></span></p><p><span>You could make index holes and positioning holes in the wheels to tell you where it is positioned. This could live on a thin circuit board positioned above the shaft. The front of the circuitboard could shine IR on an scale that is either embossed or it might be enough just to know when the index point is passing by. Another alternative would be to have 64 holes, one for each character position and one extra hole for the index. The lower part of the casing can house the rest of the drive hardware.</span></p><p><span>Crazy idea… So, now that we have the wheel with all of the 64 possible 6 bit character codes on them for 6-dot braille it still requires a motor per character, or some other drivetrain + locking mechanism. A simple drivetrain would require a gear on the side of the wheel, an idler gear and a wormgear. That's two sloppy interactions (resulting in wobbly characters) and complexity. That's also the expensive part and that's where everybody seems to run into the wall. They either economize and make carriages with bi-stable pins, solenoids, or they make it super expensive (or both…). But what if you didn't have to do that? Blind people read with their fingers and their fingers can't be everywhere at once. There are only so many spots where they could be and typically they will scan a line of text with their fingers. More experienced users may use multiple fingers next to each other and use the other hand to steady themselves when moving line-by-line. There is a great video here that shows the process: </span><span><a href="https://www.google.com/url?q=https://www.youtube.com/watch?v%3DpQLxJ2-zwVk&amp;sa=D&amp;source=editors&amp;ust=1709891107848014&amp;usg=AOvVaw2yj8XbP0eaOXZIwauT6TZV">https://www.youtube.com/watch?v=pQLxJ2-zwVk</a></span><span>&nbsp;</span></p><p><span>But what if we cheated? What if we only concentrated on those letters where fingers are, or even more extreme if we only concentrated on *one* letter at the time per line of text. This would allow you to move *all* of the letter positions using a single motor. As long as you're 'there' by the time the person has their finger on the spot and the character doesn't seem to move then that's fine. A single motor would be a bit rough though, because when scanning left-to-right for instance you'd want the next letter to be in place just before the reader reaches it but not too early or you'd be interfering with the previous one. So maybe two or even three motors per line (previous, current and next characters) would be sufficient to create the illusion of a line of text. Alternatively you might have a couple of motors per so many characters.</span></p><p><span>You'd need some way of figuring out where the users' fingers are and in which direction they are moving so that you'd have enough time to make the adjustment.</span></p><p><span>*If* - big if - this works it would create massive cost savings, you'd only need the one motor (or a couple of them) and an indexing mechanism per line of text. In an even more extreme example you'd be driving all of the lines at the same time as long as you only read one character at the time that'd be fine. It wouldn't be very wear friendly though. And the whole idea feels a bit like a meatgrinder so it would be quite important to ensure that you would never get your hair caught in there (which is a safety issue with any wheel based device). </span></p><p><span>Driving the wheels from underneath could happen batch wise as well by having multiple 'driveshafts' run from left to right under the wheels. Gears could be pulled into contact with the wheels and the driveshafts to rotate the wheels to the next desired position. Multiple wheels that need to spin in the same direction could be engaged at once and if a wheel is at the right spot it could disengage while the rest would continue. Once all wheels would be positioned correctly the drive motor(s) would stop moving.</span></p><p><span>If you have any slop at all in the drivetrain then the wheels can move a bit when the user reads the characters. This is more than a little bit annoying, the distance between the dots and the size of the dots is such that even a small upset can cause a character to be mis-read. The consequences (think online banking or something like that) can be pretty bad so mis-reading and mis-positioning should be treated as failure of the concept. In order to fixate the wheels they can be locked into place after movement (and unlocked prior to movement) in many different ways, but possibly one of the simplest and effective ways to do so is to simply compress a block of characters (ideally a whole line of characters). That causes the sides of the wheels to come into contact with a large amount of surface of the casing and this will cause a lot of friction stopping the wheels from moving by accident. One way to do this would be to have a servo that pulls down on a wedge that locks the main shaft under compression. Prior to repositioning you'd move the lock up again and then all the wheels on that shaft could be spun. If the wheels are all locked to the main shaft using splines then that isn't necessary. Another option is to use the shaft as a means of selecting which bank of gears will move. This will require some space (as much as you need for the movement) to the side of the character lines. </span></p><p><span>Yet another way to drive the wheels would be to have a magnetic clutch ride along with the wheel, the bulk of the clutch could live inside the wheel itself, the counterpart would spin along with the shaft. The clutch would not even have to be perfect, as long as some movement happens you can just keep it engaged until the wheel reaches position. This is difficult for another reason which is that you some how need to provide power to the wheel itself, but that may be solvable (though probably not all that cheap). Another potential issue is that a magnetic clutch requires a field that may well extend past the wheel that you're interested in causing torque on the adjacent wheels. If those are supposed to keep moving that isn't a problem but if they aren't then it may cause a wheel to move that should not be moving.</span></p><p><span>Another option would be for all of the wheels to try to start moving but only those that are unlocked would actually move. This would require a fairly precise locking/unlocking mechanism but that may well be a lot simpler than powering and selecting clutches. Each wheel could have an embedded metal disc and next to the wheel you could spin a fairly powerful disk magnet or a number of smaller ones embedded in a carrier. Having one central carrier per two wheels would reduce the number of magnets required and would ensure symmetrical forces on the magnet bearing drive wheel. Yet another option would be a friction drive on the main shaft that is easy to lock out again. This would require the wheels to spin quite freely (so we don't need a lot of friction to move them). </span></p><p><span>It may be possible to have an 'addressable lock' that consists of a stepper and a magnet on a belt. Where the magnet is the corresponding lock will engage or disengage dependent on the direction of the current, all of the wheels would be given the same lock or unlock command but only one would actually do it.</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image86.jpg" title=""></span></p><p><span>Two large wheels side-by-side in a casing, the casing isn't ideal yet and the skirt does not nicely line up with the tops of the dots. But this is 'draft' mode so very coarse layers and there is some play on the shaft. Fine tuning all that should make it a lot better. There are 5 rows of dots exposed in the window, that's two too many and shielding those from the reader is going to be tricky, the angular step between the dots is such that they are arriving nearly flat (good for the reading!) but that also means that the first two dots outside of the ones we are interested in are going to be *nearly* at the right height for reading. I'm not really sure how to deal with that yet, I can have some kind of cover over that part so your finger slides along the cover or maybe some other trick. One elegant way would be to have a depression that matches the shape of a finger at the spot where the centerline of the characters is, that way the 'high' parts would automatically cover slots -2 and +2 and slots -1, 0, and 1 would be neatly exposed.</span></p><p><span>If that works well then it might even allow for an even higher dot which would definitely be nice to have. &nbsp;</span></p><p><span>A wheel like this takes about 20 minutes to print in 'coarse' mode and an hour or more in fine mode. But if that makes workable parts that would already be a real victory. I think I should tune the dimensions and then move on to the drive train problem.</span></p><p><span>Study #7, Finger shaped depression in the casing (Feb 24)</span></p><p><span>The big wheels expose too many dots, this is a problem and it should be remedied. I don't see any way of solving this without bending the rules a bit. I'd like the top of the display to be perfectly flat but that simply doens't work with those large wheels, the initial drop at the top of the wheel arch is too low to reliably move the next and previous dots below the horizon. Very annoying. But with a very slight depression in the casing (alternative point of view: with a higher roof over the exposed parts that shouldn't be exposed) you can solve that problem.</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image67.jpg" title=""></span></p><p><span>The wheels are in between two 'proper' positions in this image and you can see that by the time they've rotated through to a registered spot that the dots in -2 and +2 positions relative to the center (the code you are interested in) will be under the overhang. </span></p><p><span>It's a difficult decision. On the one hand I'd like to make it 'perfect' but if 'perfect' means unaffordable then that is even more of a non-starter. I will have to ask a blind person whether they believe this trade-off is worth it. </span></p><p><span>I've done a lot of sketching and thinking about a way to drive the wheels reliably and without too much extra cost and I think it can be done with a single motor for the whole device (no matter how many lines it has). The basic idea is super simple: the main shaft is driven by a motor, shafts can be coupled on to the next or, alternatively you could have a motor per shaft ($, heavier). The shafts themselves would look like ordinary shafts but they really aren't. Inside the shafts at the 7.6 mm pitch (identical to the character pitch) there are embedded magnets. These line up with magnets embedded in the wheels. This then transfers a little bit of torque (up to the strength of the field coupling) from the one to the other. If it works really well you might even be able to replace the magnet in the wheel with a steel insert (which would be much cheaper). A steel ring with inward pointing teeth could work. But first I'll try the magnets. Either way, the really good news about this method is that this 'magnetic limited slip clutch' provides protection against stuff breaking if a wheel should get jammed and it transfers torque at the same time. There is still the problem of the wheel in frictive contact with the shaft, especially an issue if the wheel is stationary but the shaft is moving. That will need to be solved. </span></p><p><span>Another thing that needs to be solved is the locking of the wheel. For this purpose the wheels will need some kind of arrestor and a detection mechanism to work out when they are in the right position. I think this can be done with a relay like contraption that pulls a brake or a segment of a gear away from a toothed ring on the inside of the wheel. That way the wheel will only want to lock in place when it is exactly centered on a character and releasing the lock will provide that centering action even if the wheel is still a bit before or even past the position we're shooting for. &nbsp;A ring of locking gear teeth could be made in the wall of the wheel, then the unlock/lock action would be to retrieve a pin and to release it again. The pin head would be shaped like a triangle so that it would push the wheel into it's exact position. </span></p><p><span>In a perfect world the only points of contact with the moving parts are the end bearings of the shaft, and for every wheel the point where the arrestor makes conact with the wheel rim. But unfortunately the shaft is also a point of contact. You could make it larger to increase the wear area but that would also increase friction and reduce available space for electronics and the arrestor. Maybe a small ball bearing could be press-fit into the wheel. But small ball bearings arent't cheap. </span></p><p><span>Study #8, Hollow wheel, index holes, spokes (Feb 25)</span></p><p><span>This is starting to look like alien jewelry:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image10.jpg" title=""></span></p><p><span>This didn't happen without some problems. The registration slits are super thin, only about .5 mm and as a result getting the first layer to be proper didn't work the first three tries. Finally after a very thorough cleaning of the printer bed I got a usable wheel out of it but clearly this isn't going to work for any kind of volume, besides that this wheel took a whopping 1h 20m to print. Not ideal, to put it mildly. </span></p><p><span>In this picture you can see the light shining through the registration slits so it did eventually work:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image29.jpg" title=""></span></p><p><span>But I would like a more reliable design that isn't as finicky to print. </span></p><p><span>While this was printing I was playing around with some options for locking the wheel and the first two (re-use of the slits and half circles cut out in the inner part of the rim) didn't really look good and didn't give me a feeling that they would be reliable.</span></p><p><span>So I re-did the whole thing, removed the spoke holes and added a ring of teeth to the bottom of the wheel. </span></p><p><span>That looks more reliable, the idea is that a spring loaded pin with a triangular (or just pointy!) head aims for the valley between two of the teeth. That should then lock the wheel in place and guide it. </span></p><p><span>Thinking about this a bit more: *if* that guidance works across 1/3rd of a tooth then that implies that you can use three of those 'lockers' to move the wheel around stepwise. That would require two of them to be powered up at all time (two *per wheel*) and that's a bit power hungry, but once locked in place it might be possible to release the other two without the wheel moving away from its set position. Two 'unlocks' would create a move. The 'dominant one' (the one that actually lines up with a slot) could be given a stronger spring so that the other two can be relaxed without being able to overpower the one that matters. Or maybe they'd cancel out (because they are both resting on opposite sides of a tooth). </span></p><p><span>This is quite interesting: it allows for stepwise movement of the wheel in a completely mechanical and automatically locking manner, kind of a mechanical three phase drive. I'm a bit afraid that it would be noisy, but that's mostly a matter of the material of the locking pins and whether they click against something in the back. In the Yamaha disklavier piano's there are massive solenoids that have been dampened to the point that you don't hear them at all. But there they have a lot of space to work with.</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image23.jpg" title=""></span></p><p><span>If that works we no longer need a motor, the two magnets per wheel can be dropped and the wheel boss can be made the full 7.6 mm, so it will carry the wheel much better. We no longer need the slits other than a single 'home' slit to make sure we can sync up after the unit has lost power. The shaft that everything is mounted on would then be completely passive.</span></p><p><span>Another option would be to create a 'pancake' stepper motor with four small permanent magnets as the rotor and eight coils as the stator windings. That's pretty tricky though, even at only 64 steps per revolution that would require a lot of very precise engineering. It *might* be possible to use only four coils and a completely passive rotor (no magnets, just some steel teeth). To lock that you'd need some power though.</span></p><p><span>I'm a bit worried that if the lock/unlock mechanism would be used to drive the wheel that it might result in either a lot of noise or premature wear of the springs. We *could* use magnets instead of springs but that has it's own set of problems (it is also quite costly).</span></p><p><span>And I'm not even sure if it will work. If it does though, it might be worth it to try an accelerated aging test to see how long that setup lives. </span></p><p><span>These are about 10mm on the side:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image48.jpg" title=""></span><span>&nbsp;</span></p><p><span>So maybe that 'stepper' motor isn't such a bad idea. Another option would be to use only three coils, and to have the three coils offset by 1/3rd of a tooth. I really like the idea of making the wheels the centerpiece of everything, so they can be the code carriers, the indexer, the lock and eventually possibly even the motors. But a standard motor as the main component for the drive train also has its advantages, it ensures that that bit will be solid and reliable and more or less standard. It also keeps the wheels simple and robust and it wouldn't need a custom piece of metal to ride inside the wheel. Though such components may well be unavoidable. I would really have liked to have everything except for the wheels the wheel casing and the circuit board to be 'off the shelf' but that may simply not be a possibility with this project.</span></p><p><span>If you want to drive the wheel as a stepper rotor then the coils would have to be centered over the teeth. There would be 4 times 16 poles, so each coil engagement would immediately move the rotor to a new letter position. The advantage of doing that is that motor + lock are one and the same, you just keep the coil running at a lower current to fix the wheel in position. </span></p><p><span>Another advantage is that we can use standard double-H bridges to power the motor and likely (because it doesn't have any opposing force) it wouldn't take all that much power unless you *really* tried to stop it. But in that case it's fine if you succeed with that rather than that it shreds your fingers (because all of those dots at high speeds of rotation are probably an excellent way to get hurt, it already feels like very coarse sandpaper).</span></p><p><span>4 coils + 16 magnets spaced around the wheel would give you that, but 16 magnets is quite expensive (they're typically $.20 or so each). More coils = fewer magnets, but coils are also not cheap. But coils can magnetize more than one part of the device, you can add a little piece of metal and bend it up in a different place to move the magnetic field around. Before long you'll be making an actual stepper :)</span></p><p><span>But steppers make a lot of torque and we don't actually need that so maybe we can get away with much higher resistance coils and thin metal or even without any magnets at all, just metal inserts into the wheel at 16 spots. That's worth trying.</span></p><p><span>A simple metal insert would be a small nut pressed into a cavity in the wheel. The coils would have to ride pretty close to the metal to be able to attract it but I don't see any reason why that could not work.</span></p><p><span>A test with a single magnet in one slot and a small not in the oppositng one would give an idea of whether or not this can work or not.</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image28.jpg" title=""></span></p><p><span>Not exactly high grade CAD work, but at least it shows the idea. So the four coils have a common wire and one that goes to the drive unit. Depending on whether you want 'full step' or 'half step' you'll need either 16 or 8 magnets and for 'half step' the stator pieces would have to be twice as far apart. Probably half step will require a bit more power because the coils are going to be much further away from the magnet. But it will cost much less per wheel. If the system already works with just a captive nut to attract then it is probably better to go with full step.</span></p><p><span>So, all that work to put those blocker teeth in there look to have been for nothing I find this idea too intriguing and I would like to try it. If it works it might just be the solution to all of the remaining engineering problems, it would also make the whole thing come in at an affordable price point.</span></p><p><span>Study #9, stepper integrated in the wheel (Feb 25)</span></p><p><span>There are two major variations on this theme: coils inside the wheel (more compact, less assembly friendly) or coils outside of the wheel (far less compact, but *much* easier to put together). For now I'm going with the coils outside of the wheel option. that will make it much easier to test things and if at some point I can get this to work and it looks reliable enough (and so that the neighboring wheels don't interfere, which is still a bit of a worry) then I can see if I can move the coils to the inside of the wheel (all that wasted space…). </span></p><p><span>So, for the first time we're going to have some electricity involved. The redesigned wheel looks like this:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image33.jpg" title=""></span></p><p><span>and yes, it is horribly ugly but right now I don't care about anything else but the drive and the lock because that seems to be pretty much the only hard problem that is left. One hard problem will be to ensure that with so many coils drawing power in the machine that we don't end up either overdrawing the power supply or emptying it too quickly (very important if the device ends up being battery powered). </span></p><p><span>This isn't a trivial problem to solve, but there are some hints about what might help: the current required to move the wheel to a new position could be substantial, but once it is there holding it there should be far less power draw. The power draw will probably be directly proportional to the amount of space between the coil core and the insert (magnet or piece of iron). And finally, you only need to 'hold' those wheels that are being read and maybe there is a way to detect the presence of a finger (capacitive, for instance) which would then allow you to ramp up the holding torque briefly. The wheels shouldn't all move at the same time, that will draw too much power but you can set an upper limit and then only pass the remaining information down the line when everybody 'upstream' is quiet. You could update multiple lines at once.</span></p><p><span>I think i2c is a nice and simple bus to use to string the devices together, alternatively something like what the WS2812B LEDs use might be applicable (though it runs at clockrates far in excess of what we need here). Either way, the idea is to daisy chain the wheels one to the next so that the microcontroller has a very easy time of interfacing with a display (essentially just one or two io bits).</span></p><p><span>The stepper test will use four coils, and 16 inserts for a full step test and four coils 8 inserts for a half step test. I'm fairly sure that 'quarter steps' will not work (the distance from the coil to the thing that it attracts is just too large) and I'd already be very happy if half stepping works (and works reliably enough that the wheels position accurately).</span></p><p><span>I'll need to finesse some coils for the test, maybe I can strip some print relais down and re-use the coils from those. Ideally the coils would end up mounted on the circuit board inside the wheels but for now I'll just make a test rig with a single wheel to see if it will spin at all.</span></p><p><span>If this stepper trick works I won't be using the encoder ring other than a single index pulse. But it might be somewhat useful: you could use the encoder ring to detect that a wheel is blocked because you didn't see the corresponding edges from the detector. Oh, I just realized you only need 32 holes for the encoder, you can use the rising *and* the falling edge separately. Just line up the edge with the slot. That would at least make the encoder holes a bit more manageable. And 'maximum light' (center hole) and 'minimum light' (center block) are also useful signals so maybe even 16 holes would still work though then the holes would get quite large and you are probably going to lose accuracy. But it might be enough to detect a stuck wheel, especially if you can store the minima and maxima of an unobstructed run for comparison.</span></p><p><span>Here is the wheel loaded up with little (6x2mm) neo's. I tried rotating the wheel with just some M3 nuts in there but it wouldn't work at all, basically you have to be within two mm or so before it would have any effect (5V coil from a small relay).</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image68.jpg" title=""></span></p><p><span>But with the neo's in there it worked reasonably well (that is, it attracted over a large enough distance that I think that I will be able to get the wheel to spin).. The big issue with this arrangement is that the next wheel over (and so on) will have another 8 neos in it. Once those all line up they will want to be close to each other far more than either of them wants to align with any electromagnets that happen to be close. So it does not immediately look as if this is going to work. A normal motor has a lot of metal short circuiting the magnets and here we do not have that so those stray fields are quite a problem. One possible solution would be to have a steel insert with some fingers focusing the magnetic field outward. Then you can load that up with magnets the strength is enough to interact with the coil but not so much that it affects the neighboring wheels. (and quite probably even the wheels in neighboring lines as well!!).</span></p><p><span>These little neos are ridiculously strong, the coil could *barely* pick up an M3 nut but the neos (which are 1/20th or so of the volume of the coil) will happily pick up a pair of pliers!! </span></p><p><span>Shielding with either mu-metal or plain steel between wheels is of course also an option but more cost and complexity, and it will use up some of that precious space.</span></p><p><span>Another thing that might work is to drive one wheel from the inside and the next one from the outside alternating the position of the neo's. This may work but it would be very easy to have a positioning error on the wheel that is driven from the inside because of the angular errors multiplying across the much longer difference in radius between where the magnets are placed and where the read-out takes place.</span></p><p><span>Another option, not quite as nice but it would work: little motors with a tiny pulley driving a much larger pulley integrated into the side of the wheel. The encoder would take care of the positioning and the motor would start up if the user would try to move the wheel outside of where it is supposed to be. You'd need two sets of LEDs and photo diodes for quadrature encoding and then you could even spin the rotor backwards and forwards at will. Not bad in itself, but a motor per character really adds up weight wise (of course, so does every other drive train). The advantage of that would be that it would be using no power unless a wheel was moving (or being forced to move). Another disadvantage is noise, those motors would have to be isolated really well.</span></p><p><span>Little motors might not live for very long though. Usually they are 'toy grade' and anything more serious would right away cost a lot. What's little? Well, check these out: 3 mm for the small one and 6 mm for the larger ones! </span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image80.jpg" title=""></span></p><p><span>These are from a toy helicopter (remote controlled, no less) which sell for 35 bucks including a remote controller. So those motors can't be more than pennies but building them deep into the device would mean that if the motor fails you have a complicated service to perform. making the character cells 'pluggable' would remove that problem. </span></p><p><span>Study #10, Stepper test, (Feb 25)</span></p><p><span>Running the wheel as a stepper isn't all that simple, you need four coils very precisely positioned around the wheel and you need a bunch of electronics to drive them in sequence otherwise the wheel won't turn. It's a pretty crappy stepper in that it really only has four spots where it drives the wheel rather than in many places but we don't need to develop much torque, just enough to overcome the friction on the shaft. </span></p><p><span>Here is a sketch of a simple test stand, a base with four dismantled relays positioned strategically around the wheel (only one relay in the picture, the other three are the squares on the paper). Each relay is offset just so that it can attract the next magnet in sequence. Between two full steps the 'half steps' double the number of positions we can select. This is a bit tricky and highly dependent on the consistency of the positioning of the coils, the number of windings, the current stability and the strength of the magnets. But since it saves half the magnets I think it is worth trying to see if that gives satisfactory results.</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image25.jpg" title=""></span></p><p><span>The wheel could be made the full width of the slot minus just enough room to smuggle out the coil wires, and a metal base to hold the whole thing to shield the neighboring wheels. That way adjacent magnets would not interfere with each other. Having the wheels that wide would help too with embedding the magnets, using really small ones (say, 2 mm) and fewer ones would also help to reduce the chances of the magnets interfering with each other. </span></p><p><span>Coils would lay flat on top of one another with the pole pieces protruding from between the coils. Those pole pieces would have to be very thin to allow for room to be left over for the coils themselves! You'd have to make them from thin sheet steel (lamination steel, very good magnetic properties). They'd be 0.4 mm each so with a wall of 1 mm on the wheel and 1 mm between cells that leaves 5.6 mm for two coils and four stacked laminations, which isn't a whole lot. Maybe the outer wall could serve as one of the pole pieces but then it would lose some of its shielding properties.</span></p><p><span>Another possibility is to have one coil on the inside and one on the outside, the one on the outside would live in the bottom half the case and the other would use the whole circle on the inside. The inside one would have a shorter arm so probably less accuracy and less holding/moving torque.</span></p><p><span>Josef Prusa should get a statue, a bit more than an hour to make the test stand:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image57.jpg" title=""></span></p><p><span>Some more relay mutilation</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image78.jpg" title=""></span></p><p><span>A lot of fiddling later I have it working!!</span><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image60.jpg" title=""></span></p><p><span>Initial tests: a bit noisy, probably due to inaccuracies in the machinery but when it is running slowly you can't really hear it. This should be easily fixable using more accuracy (for instance less axle play). The prints for both the wheel and the test stand itself were 'draft' mode so 0.3 mm layers, That alone probably accounts for a lot of the noise and there is some play in the shaft. </span></p><p><span>There is almost no torque. I don't want the system to have too much torque anyway but this is just way too little. The speed is pretty impressive, in full step mode it will go down to about 60 steps per second, and in half step mode to a very impressive 200 steps per second. That's 3.5 revolutions / second, and because you're always within half a revolution of the character you want that's 1/7th of a second update time!</span></p><p><span>So what we have now is a four pole, 8 magnet 32 step per revolution operating in 'half step' mode. Accuracy isn't very high yet, I can clearly see that some steps are not quite moving enough and others a bit too much. This is likely due to various inaccuracies as well as the fact that half-stepping isn't the most accurate thing that you can do with a stepper. Using 16 magnets would solve that (4*16 = 64), but it would cost quite a bit more and I'd like to reduce the parts count and cost rather than to increase it.</span></p><p><span>Hard to believe this worked on the first try even with the crappy setup, the low supply voltage and the less-than-ideal mechanics.</span></p><p><span>Next step will be to tighten up the mechanics a bit, all that slop really doesn't help and I'll add a bearing to make it more quiet. That should also improve precision. I'll reduce the air-gap between the magnets and the coils a bit which should improve the torque and probably the overshoot (which is quite noticable when stepping slowly). Adding a bearing was easy, I found a computer fan that had two really cute 8 mm bearings in it so I took it apart and used those. The inner dia is 3 mm so I've just snapped off the old 'shaft' (for want of a better name), drilled a 3 mm hole and stuck a drill in there. That's good enough for now and immediately it is a lot more quiet and it also spins much faster. Interestingly, there is now so little friction in the system that any dampening effects are gone and you really start to see how the magnetic fields act like a spring or an elastic band. </span></p><p><span>I can now see three full paths to the finish line: the current mechanism with either the steppers moved 'inboard' or outboard in the corners of the device (or in an extreme case: both, for maximum torque, though that would be more expensive than strictly necessary). Another option is to use a servo mechanism with an encoder and a regular little DC motor. This would require a drive component (gear or belt) as well (finicky and not a good life span). And finally a stepper motor such as is used in CD drives to engage with gear theeth on the side of the boss on the wheel. This would be pretty tight, those have worm gears that are three millimeters wide. The one big advantage of that method would be a very high holding torque even when not powered, but it would wear like crazy and likely not live long, especially not if a wheel should ever get jammed, the motor would just shear off the pins.</span></p><p><span>And you'd be dependent on sourcing those things and if there is no longer any economy of scale (for instance: because CD drives are very much out of fashion which really is already happening) then you would no longer able to make the device.</span></p><p><span>I'm a bit worried about the accuracy in half step mode. I could switch to 8 coils with 8 magnets or take the easy way out with 4 coils and 16 magnets, so I'll do that instead. That way I'm 100% sure that the angular movement is accurate and any registration error is eliminated. it's a bit crowded around the circumference if the wheel with these large magnets (hah, when I first started working with them I though they were small…), but presumably we can improve on that by using smaller diameter magnets or by using a single disk magnet with a bunch of fingers under it. You could alternate positive and negative poles like that as well which might open up some other possibilities. </span></p><p><span>What I really like about driving the thing on the outside of the wheel is that you have the full width to work with and if you use smaller magnets in the core of the wheel you minimize the chance of interference with the neighboring wheels because the distance between the magnets is a bit larger.</span></p><p><span>Another issue I've noticed is that the wheel wobbles a bit at the perimeter. This isn't extremely obvious but it might cause friction, wear and tracking errors near the top with the dots moving side-to-side. A full thickness wheel would eliminate that because it would ride against both sides of the case, but ideally I'd want the wheel to be free of the sides of the case by a tiny margin to cut down on wear.</span></p><p><span>Next step: a 16 magnet wheel and a 5.625 degree offset set of coils.</span></p><p><span>Study #11, 5.625° steps, 16 magnet rotor (Feb 25)</span></p><p><span>This necessitates a new test stand because the coils need to be re-positioned. I had to make a new one anyway to better place the 3 mm shaft at the center (I eyeballed the second test with the old one, it worked but it probably was a bit off-center).</span></p><p><span>Another issue is that the wall thickness is getting a bit low and the force required to push the magnets in is rather high. Between the two of them the wheel cracked in one spot. And the center boss that the bearing presses into is too thin so that will need to be fattened up a bit and maybe made higher to further reduce the wobble. It might be possible to make a 'fat' wheel in which case there could be a second bearing on the other wall. </span></p><p><span>Not the most productive day so far :( One of the sticking points is that with the wheel expanded to 16 magnets that there are a lot of opportunities for a magnet to meet something that it really likes. And once that happens you need more torque than the coils can (currently) provide to unstick it. This is a problem because with 4 poles and 16 magnets there is simply no way the coils are able to make the rotor move except for when they are 'lucky' and there is no nice match between an unpowered coil core and a magnet. As soon as that happens it is game over, and on average that seems to happen every 4 steps.</span></p><p><span>This is the second, higher version of the rotor with the thicker wall):</span><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image14.jpg" title=""></span></p><p><span>I see absolutely nothing wrong with it, but I can't get it to move.</span></p><p><span>This needs to be solved before there will be progress again. One way to solve it would be to double the number of motor poles, but that's difficult because of the way the coils are set up. Essentially by the time you do a full 360 you've lost one pole that you will not be able to make up. </span></p><p><span>One solution that I've thought of would be to give more (rather than fewer) magnets something to lock on to, that whey they will cancel out and the rotor should spin more freely without locking. The trick will be to balance the forces in such a way that it all adds up to 0. I'm going to try to achieve this using little nuts embedded in between the coil slots and one more at the last station. That way it does't take up more space on the test stand (that was empty space anyway). </span></p><p><span>Quite a few hours later… still no progress. This is frustrating. I don't quite understand what is going on. There is almost zero torque and the wheel twitches a bit but doesn't move to a new position. I'm going to make yet another wheel with the magnets radially to see if that narrows the field radiated by the wheel enough that it stops locking up. But it also doesn't really lock up, it spins quite freely if you give it a shove, it is when it is moving slowly that it starts to behave quite odd. Why 8 magnets worked flawlessly and 16 magnets doesn't work at all I don't quite get. You'd say that the only difference would be that the 16 magnet version would move with more accuracy but apparently things are not so simple. </span></p><p><span>I must be missing something very obvious here but it isn't cooking. </span></p><p><span>Study #12, radial magnets (feb 26)</span></p><p><span>This also doesn't seem to solve the problem, though it does seem to cog much less than before.</span></p><p><span>Interesting finding: at very low voltage and with slow pulse trains without any passive bits of metal it *does* actually move. Apparently the friction is so low now that the overshoot is tremendous and if you &nbsp;use a lot of power and then move too fast to the next pulse then you overshoot! </span></p><p><span>Ok, found it. That was *very* annoying. The ground of one of the coils had become disconnected inside its sleeve! Absolutely invisible. But now it is working as expected. I noticed because the current consumption didn't match what I expected during one phase engaged. </span></p><p><span>A lock might still be useful. But it need not work on a per-character basis, it is probably fine to lock a whole line at once, and to unlock the line briefly if a character on the line changes. If cells are to be 'modular' this will require some trickery with fixing the cell in place, ideally you could exchange them without any tooling and a lock from below that works on all of the cells at once would probably interfere with that goal. </span></p><p><span>Another thing I'm still concerned about is to what degree a cell is going to have an effect on the cell next to it. And if cells can be individually locked/unlocked you could protect against that to some degree, for instance by unlocking all the odd cells first, updating them and then locking them, then do the same for the even cells. The metal bits weren't useful so I'm going to remove them again, so we're back to using the test stand V2 and both wheels (with radial and axial magnets) work. The radial one works slightly better, it starts up at a lower voltage too and it stabilizes sooner.</span></p><p><span>Here it is running at speed:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image17.jpg" title=""></span></p><p><span>I'm not usually happy about motion blur but this time I am :) </span></p><p><span>This is the rotor when it isn't moving:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image63.jpg" title=""></span></p><p><span>It's dead quiet by the </span><sup><a href="#cmnt5" id="cmnt_ref5">[e]</a></sup><span>way, you can't hear it at all even with your ears practically glued to the device. This looks very promising. I'm still using half stepping but the wheel does not come to a stop on any of the odd numbered positions so there is always a character exposed.</span></p><p><span>The 16 magnet wheel is fairly heavy so it will build up a lot of momentum as it moves, especially when going faster.. This manifests as overshoot when you try to stop it. A ramp-up-coast-ramp-down approach might eliminate some of that.</span></p><p><span>So, now that this works: what to do about those coils? These are pretty big and ugly to boot, it would be nice to replace them with something that is *much* easier to integrate into the device and preferably not scavenged from relays. </span></p><p><span>I see two possibilities: the first is to stuff the coils into the four 'unused' corners of the square enclosing the wheel. That should in theory be plenty of space, but the angular offset may cause some issues there. Also, 16 magnets at $0.20 each is a big chunk of money, and a lot of work to assemble. It would be nice to replace them with a single magnet that is much larger and a metal spider for the stator. That will also be easier to assemble and in theory would allow for a 256 per rotation stepper, so four positions between each of the steps. The coil offsets would then be much smaller than they are now (5.625 / 4). </span></p><p><span>Another option is to place the coils inside the wheel. That's easier said than done but there are a lot of advantages to doing so: it allows the coils to use spiders so they'd work on the whole circle at once (probably much better torque) and the outer portion of the wheel would still be available for electronics. It would make things a little harder in terms of cooling. Yet another option with the coils on the outside would be to use a 'short circuit' rotor that contains metal that feeds the magnetic field to an opposing coil. That way there would be no permanent magnets at all, which would save a lot of money.</span></p><p><span>The number of options is increasing and that's nice but it also increases the chances of following dead ends. I like the radial setup, it probably will work best when using coils outside of the wheel but if the coils move to the inside of the wheel then the radial setup uses a lot of space in the wheel and that space can not be used for coils. </span></p><p><span>Coils inside are also nice in that it may be possible to use only a fraction of the number of magnets that we are using right now, one on one side of the stator and one on the other. </span></p><p><span>This seems like the best solution, but making four stacked coils that small is going to be very hard, essentially there is only 5 mm or so (wall, circuiit board, coils, spiders(4!), wheel, next wall) for that whole stack and that isn't a lot. This also increases the risk of interference with the next wheel because the coils at the extremes are very close to their counterparts in the next character cell. Applying 'holding current' to the wheels next door is probably going to be a requirement. Each set of coils would be offset half a tooth from the other. Some passive shielding metal could also be made part of the wheel but an airgap might work better and maybe the field will be contained enough by the spiders. </span></p><p><span>You could also make the four coils as quarters of the space inside the wheel (but then you'd need all 16 magnets again). </span></p><p><span>It might be possible to do away with the walls in that arrangement as well. You could just have a stack of wheels spinning side-by-side with a tiny gap between them. That would allow for maximum space for the coils but wiring them would become a nightmare (you'd have five wires come out of each character slot that need to make it to the controller somehow). </span></p><p><span>Yet another option is to put two coils on the inside and two on the outside. This would require some careful balancing of the forces so that you don't end up wiht a lot of torque on the one set and very little on the other. It would also be bad in that the outer coils appear to work best with the radial arrangement but the inner ones need that space so they more or less dictate the use of the axial shape. </span></p><p><span>Yet more possibilities: drive the coils with an H-bridge rather than to have four independent coils and reverse polarity to get the effect of four coils while using only two?</span></p><p><span>Torque (holding torque or moving torque) could be increased by running the coils that are not attracing the magnets in reverse. That would cause the magnets to want to avoid that space. This should be relatively easy to test: reverse the coils and drive three of them on and one off.</span></p><p><span>Ok, so that actually works. I just reversed the state of the output bits after reversing coil polarity and it does exactly what it should do. That trick will work with any magnet/coil arrangement, it's mostly a matter of drive electronics, ideally you'd use an H-bridge per coil (so 4 H-bridges of 4 transistors each) so that you can reverse the polarity of the coils. Then you'd drive 3 to exclude and one to attract the magnet for max torque.</span></p><p><span>Funny thought: you could do 'blinking text' by rocking the wheels up and down a fraction of a character. This may seem like a useless gimick but you can use it for cursors and such, and you could even use it to make a gray scale like effect if you withdraw the wheel a bit into the casing ('fading out the text'). Gray scale is a bit rude in the context of blindness but the effect would be analogous, the text would sink into the page in the most literal sense possible. </span></p><p><span>Yet another option do drive the motors. One problem with the way things are arranged right now is that the field has to travel through the face of the wheels. This makes things awkward: the faces have the studs on them which increases the air gap and the magnets have to ride a bit back from the face to allow for some material to remain. A possible improvement would be to lay all of the magnets flat in the wheel in cavities you'd then drive the wheel from below (if you think of the wheel as flat instead of upright the way it is going to be mounted in the case). </span></p><p><span>That's interesting for many reasons: the airgap can now be reduced to an absolute minimum, you could probably use *far* smaller magnets which would reduce the weight of the wheel considerably and it might be possible to put the coils directly on the circuit board as part of the traces instead of as a separate component. This would also greatly enhance the placement of the coils and would allow you to drive *all* of the magnets rather than just the four that happen to be in front of the coils. That's worth a try I think, but circuit boards and such will have to wait until we are approaching something like a final design so better to make another test stand and another wheel.</span></p><p><span>I also tried a quick alternative version with inserts in between the coils to improve on the fact that the magnets keep seeing a different amount of metal (which is the root cause of cogging) but that didn't help. (teststand #11/2)</span></p><p><span>Study #12, magnets flat, drive from the side (Feb 26)</span></p><p><span>This wheel is a bit more tricky than the ones so far. There is only a very thin layer of material for the base of the wheel and now the forces acting on the wheel will work directly against that thin layer rather than across the wheel towards the drive shaft. Any kind of play in the bearings or flex in the material will immediately have an effect on the wheel itself as well as on the positioning of the wheel in the readout window. Smaller magnets would certainly help but I only have the 6 mm x 2 mm round ones right now to play around with so I'll have to live with that. Another issue is that now the magnet fields and the drive fields are aligned across the long axis of the device rather than into the space around it. This massively increases the potential for one character to affect its neighbors. </span></p><p><span>You can combat that in a number of ways: apply holding torque to the neighbors that aren't supposed to move. Synchronize movement between neighbors as much as possible (this creates some very non-local control problems which would massively complicate the software). Shield neighboring characters from each other magnetically. For instance if you made the wheels of steel with a plastic rim with the dots on them that would be one way to create a shield that doesn't require extra space. That would add a weight penalty though, and accelerating and decelerating more mass means that the machine uses more power.</span></p><p><span>Driving this wheel, even temporarily is harder than driving the previous versions, those could be driven from the space around them (which is plentiful in these test setups). But this wheel with the magnets oriented flat is a lot harder to drive, the drive magnets will have to move under the wheel somehow. But since that is how they will eventually be deployed we may as well embrace it. I'm envisioning some kind of enclosure that you slide the coils into. This will be a lot more compact than before so I'll have to make sure that there is enough room.</span></p><p><span>Another lock option: to short circuit the coils that are not in the path of alignment so that any magnet that wants to move into that slot will be repelled by its own mirror image field. &nbsp;</span></p><p><span>The wheel is done:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image20.jpg" title=""></span></p><p><span>&nbsp;The drive side is the other side, the magnets are almost (.5 mm) on the surface so that's going to be a tiny air gap. This is even more suitable for a thin spider riding side the wheel with a few of these magnets to get a field. </span></p><p><span>And now that I have this wheel and I've thought about a way to drive it I suddenly see that there may be a way to get that original idea with the three bits on top of each other or two bits side-by side to work. But that can wait for now but it is a nice option to have just in case this becomes a dead end, or if we can make that one work better.</span></p><p><span>I can see some inherent advantages to this bigger wheel, for instance it always lines up the two columns, it levels the wear across a much larger number of dots so that should help longevity, it's super simple to assemble (just pop the wheel + circuit board into a case) and it is locked in one direction of movement by the design itself, you only need to stop the wheel from rotating. </span></p><p><span>But the smaller one is *smaller* and that's a huge advantage, it would probably be cheaper to make, would use less power, can't lose synchronization and update faster. Besides, the smaller ones doesn't even need a whole wheel, all it would take is 1/3rd of a wheel at 24 mm radius or so. With that 8 mm bearing that means that only 16 mm would be required for the 'wheel'. The left and right side of that cell would be driven at different distances from the center so they don't interfere. A casing that size is a lot smaller than the one for the big wheel (but there would also be less stuff in the casing), and that's a serious challenge. </span></p><p><span>Here is a sketch of what that could look like both halves would be partially concentric: </span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image88.jpg" title=""></span></p><p><span>I'm pretty sure you could make that work and I will re-visit this once I have all of the challenges of the bigger wheel figured out. There are probably many more lessons left to learn from that. Next up, the testbed to drive this wheel. </span></p><p><span>Hm, yet another idea about that partial wheel version: it could even be voice coil activated, where you would calibrate the amount of current required for a given deflection.</span></p><p><span>Study #13, test driving the flat magnet wheel (Feb 27)</span></p><p><span>The testbed took a while to make, it wasn't obvious from the beginning how to lay it all out, I ended up tweaking the other testbed until I had a good enough version to play with, here it is:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image19.jpg" title=""></span></p><p><span>The coils live in the four spaces, the wheel rests on top of the shaft like before. But the magnets are now pointing 'up' (which in a real device would be from the right hand side of the wheel). I'm running out of PLA (the 3D printer has been running pretty much non-stop for the last week) so I've put a bunch on order. Silly details but it could easily cost a day or two if I had not noticed. I couldn't bring the magnets in close enough like this, so I made another one to open up the centers and to move the magnets in further towards the center, this also required trimming the base of the coils so the coils wouldn't interfere with each other. </span></p><p><span>And here is the wheel to go with it:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image44.jpg" title=""></span></p><p><span>Note the super thin layer at the bottom that retains the magnets. This could be reduced to zero if you really wanted but then you have to glue the magnets in place which I won't do for now.</span></p><p><span>But… it didn't work. The problem is that the magnets are so strong that they will overpower the magnetic field generated by the coils by a considerable margin. The effect is that the magnets will lock on on the cores of the relay coils and that will be that. The 'weak' version was better in that sense, the distance between the cores and the magnets was so large that the coils made a difference. But once the airgap is down to nothing it is game over. This cogging effect is a major showstopper, but I have an idea on how to improve on it.</span></p><p><span>It's interesting though, I learned a ton about how the magnetic fields in a motor or generator balance. I made a windmil a decade and a half ago and all that knowledge comes in very handy right now, but there is a major difference between getting a power generating device not to cog and doing the same thing with a stepper motor whose position is expressed in thousandths of a degree. That is a wholy different kind of demand.</span></p><p><span>What I've also decided is that for now I'm willing to compromise on:</span></p><ul><li><span>power requirements</span></li><li><span>costs</span></li><li><span>surface level (see the indentation)</span></li><li><span>line to line distance</span></li><li><span>speed of update</span></li><li><span>service life</span></li><li><span>serviceability</span></li><li><span>size of the whole machine</span></li><li><span>weight</span></li><li><span>how solidly the characters are locked (they can wiggle but they should always spring back)</span></li></ul><p><span>I do not care if it takes a nuclear power station to run it as long as it works and I don't care how much a single item will cost. Things I'm definitely not willing to compromise on</span></p><ul><li><span>character quality</span></li><li><span>inter-character distance</span></li><li><span>correct character displayed</span></li><li><span>full 6 bit set</span></li><li><span>sound level</span></li><li><span></span></li></ul><p><span>Study #14, very flat coreless coils (Feb 27)</span></p><p><span>So, what if you didn't need those cores? Just have cores that are all copper without any metal inserts to focus the magnetic field. This would require a ridiculously small airgap to work, but since we have no space to begin with I see that as an advantage and it might also help against wheels interfering with each other. The 'runaway fieldlines' are still quite focused when you are close to the coil, they start to spread sideways in the airgap and the whole point of the metal core of an electromagnet is that you focus those lines to where you want them: the exact center of the coil. But metal also introduces complications, for instance you might end up permanently magnetizing the core (so you'd need to de-Gauss the core!). </span></p><p><span>First step is to make a bunch of electro magnets, I scrounged up an old solenoid from an electric piano, and made a coil body and wound it. That seemed to work. Then I printed a bunch of absolutely tiny cores. These are 20 mm across but only 5 mm high, the lower right ones are the lids the rest are the core bodies. They're obviously not very strong at that thickness so removing them from the printer bed was a bit of a chore but it worked.</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image66.jpg" title=""></span></p><p><span>This is what they look like assembled (USB connector for scale):</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image27.jpg" title=""></span></p><p><span>And here is the assembled coil on test stand #6.</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image53.jpg" title=""></span></p><p><span>I wished I could say that that did the trick, but alas. As you can see on the lower picture the winding of the coil (on a cordless drill) pushed out the retaining flange so it rides a lot higher than it should have and that means that the airgap is much larger than it was meant to be.</span></p><p><span>For a quick test I put in a 2 mm drill to serve as temporary core but that of course immediately cogged like mad, enough to pull the wheel over! So this isn't going to work as is. </span></p><p><span>I did get to practice my coil winding skills and now I'll go and make another testbed that will hopefully eliminate the cogging issue.</span></p><p><span>Study #15, More Metal (Feb 27)</span></p><p><span>If coreless isn't going to work (and there are many reasons why it seems that that isn't going to work unless everything is 100% flat and there is absolutely zero play in the bearings, which is not exactly the case with the ones that I have) the we could alternatively fill up as much of the unused space with metal to make sure that the magnets always see an equal amount of it. The only differentating factor left then is the magnetic field of the coils as if the metal isn't there at all and that's the best way to focus the field as well which means the whole assembly will be a little bit more forgiving. </span></p><p><span>Here is teststand #7, the little m3 bolts have been screwed in until their heads are flush with the plate and the center hole is another m3 bolt running through the bearings. </span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image74.jpg" title=""></span></p><p><span>The wheel isn't the nicest wheel so far, it got a bit messed up during the printing, and if you fix it using a screw with that ball bearing in it (which is the wrong bearing) then you end up with the wheel at a slight tilt. </span></p><p><span>&nbsp;</span><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image58.jpg" title=""></span></p><p><span>But even with not all of the screw holes populated you can already tell that this will probably reduce the cogging a lot more. So I'll print up another wheel with a taller bearing support in the middle so that I can run two bearings and a thicker base so that the shaft has more length to align with.</span></p><p><span>Incidentally, that 'blinking text' idea may have more merit than I thought at first. You could subtly lower and raise the height of the character in the cell causing it to 'fade out' (this would require jacking up or down the whole assembly, which is a pretty complicated problem to begin with) and you could use it to display color by associating colors with frequency of vibration. Even a single octave would already give 12 different colors that you could recognize and two octaves would give 24 (or 14 if you just want 'white' keys).</span></p><p><span>Study #16, Thicker base, taller bearing support</span></p><p><span>This is just an incremental improvement over #15, but it really should tighten up the tolerances further. I've noticed one more thing that I can improve which is that the space next to the final two holes is large enough for another hole so I'll add that manually (I've already printed the base and don't feel like waiting another hour for an improved one). </span></p><p><span>Here is the base (which is used 'upside down', the part that touched the plate of the 3D printer is the side that faces the wheel):</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image55.jpg" title=""></span></p><p><span>You can clearly see the two reworked holes. This is the bottom (away from the wheel):</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image51.jpg" title=""></span><span>:</span></p><p><span>This can also be improved on: the magnets could rise a bit creating gap underneath and in that gap you could ride the screw heads (which are technically speaking the ends of the magetnetic poles of the electro magnets. This helps because it will even out the metal distribution under neath the wheel and hence will help align the fields with the magnets. It may be that with smaller magnets that will work against you but that I can not test that yet. Narrower magnets will also allow for narrower field poles so more room for windings (not a whole lot but ever little bit matters). That gap is not that simple: it requires the magnet support to start at a non-zero Z coordinate and that's something that is pretty tricky for a 3D printer. But maybe it will work, I will definitely try it. The ability to move the metal to the core of the wheel gives back some very valuable space and we don't exactly have a whole lot of that. This is the wheel with the bearings in it. The m3 nut is to give it something to ride against the base with, otherwise the wheel bearing will get into contact with the base and then there is a lot of friction so we need to offset the center of the bearing by just a tiny little bit. I would have rather done without that but for now this is fine, it's just a trial after all.</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image61.jpg" title=""></span></p><p><span>The top of the wheel shows the extended wheel thickness to make up for the crappy bearing quality. Eventually a wheel should have a much larger diameter bearing in it. with a good press fit and a ground shaft running through the center for much more precise positioning. We could probably do away with a lot of the possible alignment problems by making the rim of the wheel the full cell width with a tiny gap to the next wheel. But that would stop the 'per cell independent' open and I think that's a powerful one to have (for instance: to improve serviceability, just pop out a cell and replace it) </span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image50.jpg" title=""></span></p><p><span>Here is the base with the screws for the coils and the dummy screws in. </span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image16.jpg" title=""></span></p><p><span>The reverse clearly shows which is which. </span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image49.jpg" title=""></span></p><p><span>But… Mother Nature is suspiciously hard to fool. It still cogs like mad. A test with a single magnet in a wheel shows clearly what's going on: the dummy screws don't have enough meat to eliminate the cogging, it is reduced a little bit but it is still there. So remove the dummy screws again and replace them with full sized screws.</span></p><p><span>Study #17, all screws full length (Feb 28)</span></p><p><span>This is what it looks like:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image47.jpg" title=""></span></p><p><span>Ok, so that actually improves things quite a bit. It obviously makes placing the coils that much harder but the problem really does seem to be related to the total mass of iron being a particular position. This makes me wonder if you could replace dummy screws with a horizontally aligned chunk of metal or whether it actually has to be real thing at 90 degrees to the wheel. </span></p><p><span>Another option then would be to do away with the 'dummy' metal (though you could potentially use that to add another 8 coils and possibly do away with 8 of the magnets but as I noted in a previous bit that probably isn't effective cost wise, especially once you start using smaller magnets). </span></p><p><span>There is still some cogging which I attribute to: the wheel not being perfectly level (that's going to be one really difficult to satisfy requirement in a production design, it has to sit *exactly* right and at the top of the wheel the user is more or less on purpose trying to angle it by the scanning movement). </span></p><p><span>One very obvious factor that causes some of the cogging is the fact that the ninth spot is a slightly larger gap. I wonder what would happen if we simply divide the circle into 18 exactly equal parts and treat the result as a slightly longer track. 18 isn't a nice number to divide by. But you could use three coil groups like that and get 3x16 = 48 steps. Not enough, so then 3x 22 magnets for 66 positions instead of 64. That would work, just leave the last two spots blank (though this will slightly reduce the character height or you'd have to use a slightly larger wheel).</span></p><p><span>But I'm still a bit puzzled why 16 x 4 doesn't 'just work'. The fact that they line up and cause cogging is now easily explained because the magnets seek the cores of the screws but with only 8 screws present all positions should be of equal value and yet it cogs like mad. I really don't quite get that.</span></p><p><span>Many hours of endless tweaking of screws later. Ok, it *does* work, or, at least, it could work. But it really doesn't. And the reason why is an interesting one. The shaft hole isn't perfectly perpendicular to the surface of the testbed. So the wheel with the magnets rides a little bit closer to some of the screws than to others. you can adjust for that by screwing that screw 'out' a bit so there is less metal. Keep on looking which ones are the dominant ones every time you spin the wheel and eventually you can get it to be almost even.</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image82.jpg" title=""></span></p><p><span>Some more testing: and it also seems as though not all magnets are created equal. Some are quite a bit stronger than others and this upsets the balance as well. Interesting because so far I assumed that all neos from a batch are the same but that does not appear to be the case. This might be an explanation for some of the other things I've seen as well. </span></p><p><span>But: matching neos or endless tweaking of screws is simply not an option, it needs to work regardless. If you go for 64 poles inside of a space that is 33 millimeters in diameter that gives you approximately 3.14 * 33 = ~100 mm of length to work with. Each pole would be only 1.5 mm wide or so.</span></p><p><span>Still, that's 'doable', you could make the pole shoes out of steel wire and bend them into the right shape or the whole thing could be 3d printed with the pole shoes inserted into the print.</span></p><p><span>Another option with far fewer poles would be to go completely based on reluctance alone. No permanent magnets (cheap!), just a bit of laminate. 18 coils (9 stator phases) and 8 stator poles would do the job. It would give 72 possible positions though, which is not ideal but we can fill in the remainder with blanks on the wheel (or maybe some spares for the most frequently used letters so we can do wear leveling or increased speed because they are closer?).</span></p><p><span>What I really like about that particular option (besides the price) is the fact that without permanent magnets where will be no cogging at all. The downside is that we'll need a hold-down soluion or we'll be expending more power.</span></p><p><span>Study #18, reluctance, 9 coil stator, 8 pole rotor (28/Feb)</span><span>&nbsp;</span></p><p><span>This is just a small variation on the previous setup, really. The base has been re-done to evenly divide all of the coils across the 360 degrees (40 degrees per coil) and the wheel has been set up with 8 m3 nuts as rotor core. Obviously that's not ideal, there is no 4-fold symmetry and the coil does not connect back to itself (though it might be possible to run a passive through to the other side, you could run the magnets to either side of the passive to repel but that would require 9 H-bridges to drive it). There simply isn't space for that, the coils would be dia and with a 1 mm coil body and 3 mm core that would leave you half a mm for the windings themselves. So instead we alternate side-to-side, which gives 9 usable coils.</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image34.jpg" title=""></span></p><p><span>Top view, that's the cheapest wheel so far :) :</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image70.jpg" title=""></span></p><p><span>Coils are 10 mm high for now, with each coil 12 mm diameter. Inner diameter is 3.5 mm so there isn't a whole lot of winding space.</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image18.jpg" title=""></span></p><p><span>That's 250 windings, the wire is .15 mm thick. I've left some space in the coil because I'm pretending that I can wind nicer coils that are lower. There also is some slop in the coil body relative to the 3 mm steel core so it might be possible to make that a bit narrower stil which would allow squeezing in another 3 layers of coils, say 75 more turns. Coil resistance is 5 Ohms, so at 5V this thing would burn up in a few seconds. And torque is obviously minimal.</span></p><p><span>Winding these is a complete PITA, this took an hour or so:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image79.jpg" title=""></span></p><p><span>Driving this will not be fun. the darlington chip that I've used so far only had 4 of its internal 7 transistor pairs wired up so that won't be enough, you need 9. I can add two more dairlington pairs the old fashioned way (and a flyback diode to protect them) or add another chip, but they're expensive. Another option would be to do all of the driver circuitry with discrete components but that will eat up a lot more circuit board space. It will be expensive and with this many coils they will need to be wound from angel hair and currents will be very low so the field per coil will be minimal. I don't think I've wound this many coils since the windmill project and there at least I could see the wire. You get 72 steps per revoluion (9x8) so there will be ~12% wasted space on the wheel.</span></p><p><span>I've wired up five of the coils with four of them connected to an output of the driver board:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image65.jpg" title=""></span></p><p><span>It's a bit crowded under there. I didn't quite get enough attraction out of the coils even at a whopping 0.9 A which I expect them to survive for no more than 10 seconds. Essentially these are fuses that are abused for their magnetic properties.</span></p><p><span>&nbsp;</span><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image43.jpg" title=""></span></p><p><span>Interesting: I briefly tried with magnets instead of a spider or nuts on top of the wheel and cogging is *very* low. Wonder what's going on with that.</span></p><p><span>So, overall not very successful. It took almost a day to make this one and I expected more of it, to be honest but it's fine, I can see that I cut a lot of corners: half the coils, no short-circuit along the back and the rotor is only driven from one side instead of two. But I like it a lot more than the 8 + one half scheme from the previous test and it has better symmetry. Cogging is clearly much less. </span></p><p><span>In spite of the lack of success I learned a lot from this one: </span></p><ul><li><span>symmetry really matters</span></li><li><span>coils need to have many more turns to be practical at these voltages and currents</span></li><li><span>4 stator poles is a practical maximum because otherwise wiring and drive get too complicated and coils get too small</span></li><li><span>cogging may not be a disadvantage, if used strategically it can solve part of the lock problem, the other part would be provided by a holding current (at the expense of some power consumption)</span></li><li><span>the amount of field strength the electromagnet puts out needs to exceed the field strength of any permanent magnets to overcome the cogging.</span></li><li><span>3D printing coils really is practical and you could automate the winding process fairly easily.</span></li><li><span>passive rotors (even without magnets) are a real option and if a full magnetic circuit can be achieved they'll probably have fairly impressive movement torque but essentially no holding torque at all unless they are fully powered up so you'll see a lot of power consumption and possibly the coils will run hot or need cooling.</span></li></ul><p><span>I'm sure someone that has studied EE would have a great time reading about all of these very basic things but for me they're not quite new, it's just that the scale at which this all manifests is making it much harder than I thought it would be. The windmill that I built also had a cogging issue which we solved by throwing away some of the field in the stator (rotating the laminations across 1/3rd of a pole). For power generation that's an easily solved problem: you just have a tiny little bit less power. But for positioning that's not so simple to solve: a positioning error in a direct drive stepper is essentially unforgivable. You could correct for it on the wheel but that would make the script uneven and that's not what I want and I think that's a rule that should not be broken. Characters should be identical and dots from one cell to the next should line up perfectly (I just added this to the constraints list, I had totally missed it as a constraint). </span></p><p><span>The holding torque is much better than the torque available for movement. This suggests a very weird variation on the drive theme, add on massive winding of only a few turns to the coils and use that for the movement by pulsing it with a very high current for a very short time. That would cause the wheel to start moving, and then immediately you engage the coil with many windings to stop it from moving just as it is about to pass the center. That way you arrest the movement and provide holding torque. That second coil could be wound with even thinner wire and could have thousands of turns allowing it to be energized for a long time without using a whole lot of current/power. There is the issue of inducing a very high voltage in the coil with lots of windings by the other one, after all this is really just a transformer so that would need to be dealt with somehow.</span></p><p><span>Of all the studies so far this one was *by far* the most elaborate one but it really lays bare some of the major remaining challenges and I'm happy I built it, since the windmill project this is the most elaborate electro mechanical device that I've made and I am now far more confident that this project has multiple feasible solutions. Adding higher resistance coils with many more windings and a magnetic circuit would be obvious ways to improve it substantially but I'll leave that for now because I know that can be done, it's just that I don't think the 9 coils version of the design warrants that kind of effort, it's essentially a dead end for many reasons.</span></p><p><span>Study #19, tri-phase, 16 pole rotor (29/Feb)</span></p><p><span>After the previous study I think drive train complexity should be reduced as much as possible. </span></p><p><span>The furthest that I can reduce it is to go for 3 phases x 22 rotor poles. That gives 66 possibilities which is a little wasted space but that's acceptable. You could do two phases as well, which would get you there exactly (4 basic steps and 16 magnets) and you'd have even more turns, and one coil reduction may not be worth it. Still, the two are very close and which one is the better one I can't really tell right now. It's tempting to just do a three phase drive with 16 magnets for 48 positions, at 7.5 degrees per step. I have plenty of wheels for that and I only need to see what kind of drive power and torque I can get out of that. And when I get smaller magnets I can put 22 on the perimeter and test with that. </span></p><p><span>The relays can be re-used again to drive it but I'll need another base to hold them, and I don't really like using the relays because they're scavenged but in principle it is fine for testing. The coils from the previous test are too weak to be of much use, they have very few turns and need a huge amount of current to do anything useful. </span></p><p><span>I could print a little universal relay holder that can then be glued at the right angle and radius from the wheel. A simple raised rim on the base would give you something to position the relay holders against. Angle markers every 5 degrees would allow you to easily pick out an angle to try.</span></p><p><span>I'm very confident that this one will work (thought the electronics will be nasty) and gives a lot of space for the coils because there are only three of them. but the placement of the coils is a bit tricky, they'd have to live under the wheel but for maximum torque you want the magnets to be near the outside. A little lamination could be made that routes the field from the top of the coil to the rim where the magnets are, and the bottom part of the coil would route the opposite pole to the other side. </span></p><p><span>That way you have only three coils but you still inject the field at two spots around the perimeter, once to attract the manget you're interested in and to repel the ones that you are not! This would double the effect of the coil at the expense of a tricky bit of metal fabrication. But a 3d printed stator with metal embedded in it might work (though placing the coil would get a bit more of a problem). Anyway, that's for later, first get this one to work, then make a version with the right number of steps.</span></p><p><span>Building it was pretty quick, I've done enough of these now that I no longer stare at the 3D printer to see if it will all work or not. I did notice that my tools have a strong tendency to become magnetized! Wonder why… </span></p><p><span>So, this is what the 3 phase setup looks like, the three coils are at 0, 127.5 and 255 degree positions. That means one of them is always in front of a magnet. Like with a two phase stepper that requires a bi-polar drive using H briges. </span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image90.jpg" title=""></span></p><p><span>The coils are wired up in 'delta' mode for a bit more torque (at the cost of more current</span><sup><a href="#ftnt4" id="ftnt_ref4">[4]</a></sup><span>), that means that they alternately pull the rotor towards them and push it away again but that really only works if the next magnet is in the reverse orientation. So half the magnets would have to have their north pole facing inward, the other half facing outward. </span></p><p><span>Each phase is offset by 120 degrees *within* the alternating pair of magnets on the rotor, and those are 22.5 degrees apart hence the 7.5 and then 15 degrees offset. So the phases will alternatively see 'nothing', a North pole, 'nothing' and a South pole, after that the whole cycle starts over again. </span></p><p><span>Study #20, Three phase stepper driver (29/Feb)</span></p><p><span>Approximating a sinusoidal drive with binary control is less than perfect (to put it very mildly), ideally you'd want to better approximate the shape of the wave, but PWM might help here to do that. It's pretty cray to have essentially a miniature tri-phase inverter inside a single character cell!</span></p><p><span>Tri-phase requires the drive to be bi-polar, This requires H-bridges</span><sup><a href="#ftnt5" id="ftnt_ref5">[5]</a></sup><span>&nbsp;to drive the windings, with every winding alternating between -, 0 and '+'. Here is a phase relation diagram to show what's going on, time is moving left-to-right indicated by the angles:</span></p><p><span>&nbsp;</span><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image59.jpg" title=""></span></p><p><span>Time between two magnet pairs is 360 degrees, the magnets can be imagined to try to 'match' the closest opposite of their own fields (because opposite poles attract). So think of the magnets as trying to 'ride' the peaks (followed by the South poles) and the valleys (followed by the North poles) of the the waves. Ideally you'd drive the phases with nicely changing wave forms but that is something that would consume power like crazy and waste most of it as heat (transistors like to be 'on' or 'off', not to sit in the middle where they act as resistors converting power into heat).</span></p><p><span>One way to solve that is to use PWM</span><sup><a href="#ftnt6" id="ftnt_ref6">[6]</a></sup><span>, you very rapidly</span><sup><a href="#ftnt7" id="ftnt_ref7">[7]</a></sup><span>&nbsp;switch the phase on and off to simulate an in-between voltage. That might give precise positioning even with fewer magnets but for now I'm going to stick with the plan to use 22 of them.</span></p><p><span>When phase R is at its peak at t=90 degrees it will have a South pole in front of it and 270 degrees (so 22.5 degrees of angle with 16 magnets) it will have a North pole in front of it. 180 degrees later at t 450 (or 90 again…) the cycle repeats. So that's two magnets that both have seen their 'ideal' spot, which means that the step is complete. Meanwhile phase s is doing the same thing, but 120 degrees offset: at t=210 it will face a South pole (but of a different magnet than the one that R saw, after all the coils are in completely different spots on the circumference), at 390 (or 30, if you wish) it will face a North pole and so on. And for phase T the North pole is present at 330 degrees of phase angle and the South pole will be present at 150 degrees.</span></p><p><span>And that's for six index positions of the rotor (2 magnets, 3 positions each). Here is the driving sequence for the best timing in steps of 15 degrees of phase, so 12 of these need to tick by for one full magnet step of the rotor (180 degrees of phase), with only those angles mentioned where there is a change:</span></p><a id="t.a10b4249c0d2e6ba463b754b82a5c5ea0a1e75cc"></a><a id="t.0"></a><table><tbody><tr><td colspan="1" rowspan="1"><p><span>phase angle (time)</span></p></td><td colspan="1" rowspan="1"><p><span>Phase R</span></p></td><td colspan="1" rowspan="1"><p><span>Phase S</span></p></td><td colspan="1" rowspan="1"><p><span>Phase t</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>15</span></p><p><span>45</span></p><p><span>75</span></p><p><span>105</span></p><p><span>135</span></p><p><span>165</span></p><p><span>195</span></p><p><span>225</span></p><p><span>255</span></p><p><span>285</span></p><p><span>315</span></p><p><span>345</span></p></td><td colspan="1" rowspan="1"><p><span>0</span></p><p><span>+</span></p><p><span>+</span></p><p><span>+</span></p><p><span>0</span></p><p><span>0</span></p><p><span>0</span></p><p><span>-</span></p><p><span>-</span></p><p><span>-</span></p><p><span>0</span></p><p><span>0</span></p></td><td colspan="1" rowspan="1"><p><span>-</span></p><p><span>-</span></p><p><span>0</span></p><p><span>0</span></p><p><span>0</span></p><p><span>+</span></p><p><span>+</span></p><p><span>+</span></p><p><span>0</span></p><p><span>0</span></p><p><span>0</span></p><p><span>-</span></p></td><td colspan="1" rowspan="1"><p><span>0</span></p><p><span>0</span></p><p><span>0</span></p><p><span>-</span></p><p><span>-</span></p><p><span>-</span></p><p><span>0</span></p><p><span>0</span></p><p><span>0</span></p><p><span>+</span></p><p><span>+</span></p><p><span>+</span></p></td></tr></tbody></table><p><span>Phase angles 30(S), 90(R), 150(T), 210(S), 270(R), 330(T), &nbsp;are the 'full' step positions even if nothing changes at those particular times. One coil is 'on' while the other two are 'off'. Which is a nice reflection of the fact that you can command a motor to move but it will take some time to get there (look at say 75 degrees, that's when you switch off phase 'S' so the dominant phase is now 'R' but that doesn't mean that it immediately is in the dominant position, that movement will take 15 degrees of phase angle 'time' which corresponds to some actual wall clock time). &nbsp;</span></p><p><span>So, that would be the Rolls-Royce of three phase stepper driving, requiring three full H-bridges with six full step positions and six half steps in between. But we're cheap so we do it with three half bridges instead. This makes our approximation even more coarse, with only 6 possibilities.</span></p><p><span>Unfortunately I don't have any H-bridges lying around so I've put in an order and it should be here tomorrow. That's kind of annoying. I could cobble my own together but that's a nasty little circuit with 4 darlington pairs per bridge and I need three of them so it is probably even faster just to wait for the delivery.</span></p><p><span>I wonder what would happen if you left out half of the magnets, it might be that there would be enough remaining torque from the remaining ones to move the rotor around, but I do suspect that the positions where those magnets would be the dominant ones are going to be imprecise so better not to do that.</span></p><p><span>I've found two integrated circuits with H bridges in them, the L298N and the L293D. Both are *seriously* overpowered for this application, and probably a lot more expensive than need be. And you need 1.5 of them per character cell (though the other half could be shared with the next door neighbor cell). These are relatively expensive parts but the number of coils is now only three per character cell so that should create some savings.</span></p><p><span>Wiring this all up is going to be a bit odd, you use three half H bridges that normally would be used in pairs to drive one winding each but here we will combine them like this:</span></p><p><span>+ --------------------</span></p><p><span>&nbsp; &nbsp; | &nbsp; &nbsp; | &nbsp; &nbsp; |</span></p><p><span>&nbsp; &nbsp; / &nbsp; &nbsp; / &nbsp; &nbsp; /</span></p><p><span>&nbsp; &nbsp; | &nbsp;u &nbsp;| &nbsp;v &nbsp;| &nbsp;w</span></p><p><span>&nbsp; &nbsp; +UUUUU+UUUUU+UUUUU+--to 'R'</span></p><p><span>&nbsp; &nbsp;R| &nbsp; &nbsp;S| &nbsp; &nbsp;T|</span></p><p><span>&nbsp; &nbsp; / &nbsp; &nbsp; / &nbsp; &nbsp; /</span></p><p><span>&nbsp; &nbsp; | &nbsp; &nbsp; | &nbsp; &nbsp; |</span></p><p><span>- --------------------</span></p><p><span>Each vertical pair of switches is controlled by a single bit, so when one switch is on the other is off and vv.</span></p><p><span>What is interesting about that is that if you look at the problem naively you might think that you need three full H bridges to drive the motor, but you can optimize by connecting the points that have the same voltage for each coil pair together. At any given moment there is one phase negative, one zero and one positive. This helps to do away with half of the H-bridges. So then you're left with three halves with the coil pairs in the middle. </span></p><p><span>The coils are labelled u,v and w. R,S and T are the phases. Current will flow through the coils as a result of what R, S and T are set to. The big trick is that there are multiple ways of saying '0', you could leave all half bridges de-energized and that would be 0,0,0. Or you could switch both R and S to be high, then for the coil between them that too would be a 0! So even if a half bridge doesn't have a '0' input that doesn't matter because if both R and S are '+' then for coil u that's a zero. </span></p><p><span>Three bits of input give eight possibilities two of which leave the windings all idle, the remaining six correspond to each of the full step positions with two windings on at all times:</span></p><p><span>&nbsp;angle pos bits &nbsp; R S T &nbsp; &nbsp;U V W &nbsp; &nbsp;</span></p><p><span>&nbsp; &nbsp; &nbsp; &nbsp; 0 &nbsp;000 &nbsp; &nbsp;- - - &nbsp; &nbsp;0 0 0 all coils are off</span></p><p><span>&nbsp; 270 &nbsp; 1 &nbsp;001 &nbsp; &nbsp;- - + &nbsp; &nbsp;0 + - &nbsp;</span></p><p><span>&nbsp; 150 &nbsp; 2 &nbsp;010 &nbsp; &nbsp;- + - &nbsp; &nbsp;+ - 0 &nbsp; </span></p><p><span>&nbsp; 210 &nbsp; 3 &nbsp;011 &nbsp; &nbsp;- + + &nbsp; &nbsp;+ 0 -</span></p><p><span>&nbsp; &nbsp;30 &nbsp; 4 &nbsp;100 &nbsp; &nbsp;+ - - &nbsp; &nbsp;- 0 +</span></p><p><span>&nbsp; 220 &nbsp; 5 &nbsp;101 &nbsp; &nbsp;+ - + &nbsp; &nbsp;- + 0</span></p><p><span>&nbsp; &nbsp;90 &nbsp; 6 &nbsp;110 &nbsp; &nbsp;+ + - &nbsp; &nbsp;0 - +</span></p><p><span>&nbsp; &nbsp; &nbsp; &nbsp; 7 &nbsp;111 &nbsp; &nbsp;+ + + &nbsp; &nbsp;0 0 0 all coils are off</span></p><p><span>Current will only flow when one side of the connection is a + and the other a -. &nbsp;And adjacent phases are always going to be either opposite (- and + or + and -) or one or both will be zero (0,+ / +,0 / 0,- / -,0 / 0,0). That means that you can drive one side of each of those connected coils with the same half H-bridge. &nbsp;</span></p><p><span>The driving order is 4,6,2,3,1,5 so that all coils see the sequence - - 0 + + 0 offset by 120 degrees which corresponds to the 30,90,150,210,270 and 330 angles from the phase diagram (so only the peaks).</span></p><p><span>One reason why a two phase stepper may work out really well is because then you could in theory combine the space outside of the wheel in the corners *and* inside of the wheel divided into four quadrants for 8 coils in two phases in total. That would be extremely efficient use of all of the available space, with tri-phase that won't work. </span></p><p><span>So maybe it will be two phase drive after all, at the expensive of another half H-bridge you'd have fewer magnets, more torque, and so on). But first let's try this one.</span></p><p><span>Study #21, tiny magnets wheel (29/Feb)</span></p><p><span>Christmas arrived a bit early, I just got these in the mail:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image5.jpg" title=""></span></p><p><span>That's 250 of them, to save you some counting, 2x1 mm. Just seeing these is inspiring, I suddenly see two more ways of building the device:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image89.jpg" title=""></span></p><p><span>That's the most direct way of solving the problem so far, just have a tiny little solenoid that lifts the pin. Two variations on that The first is to lock the pin in place with a second tiny solenoid driving a horizontal non-magnetic block in place into the space vacated by the magnet. Another variation would be to stagger the adjacent pins so there is more room to drive them. This most likely isn't an original idea but it *seems* feasible anyway so I should definitely try it. But I suspect that play in the pins is going to basically doom any kind of guided pin principle to lesser quality lettering. But it may well be the only version where the line spacing can be done properly.</span></p><p><span>The whole thing could be injection molded on a per-cell basis. 8 pin dip housing underneath a single cell which you robotically assemble (because there is no way you're going to be handling these in quantity). Cells then get placed into a circuit board. Maybe the coils can be part of the circuit board again? How much can these little magnets lift? That I need an answer for. They can at least lift their own weight, then they need to lift the pin as well and overcome the friction of the hole. A regular plastic capped sewing pin has 3.4 mm diameter at the top and the pin itself is 0.6 mm. That top could easily be be ground down (just stick them in a steel guide along the edge, fix in place and run the guide progressively closer to a grinding wheel, that should turn them down in no time. So now there are possibly three completely different paths to a solution: large character wheel, small 3 bit wheels side-by-side and direct drive of the pins using the world's tinyest solenoids.</span></p><p><span>But first, that 22 miniature magnets wheel. </span></p><p><span>Here is a single small magnet on top of a single 'big' one on top of an M3 bolt, 6 mm screwhead and 3 mm threaded rod, hard to discern because it is hard to focus on the magnet:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image6.jpg" title=""></span></p><p><span>So these have 1/6th of the volume of the larger ones. In fact they are so small you can fit them behind every other set of dots on the wheel! Oh, and you can fit them behind *every* dot if you slide them in from the top or the bottom alternating… this is really interesting. I can already see the robotic assembly line forming in my head</span><sup><a href="#ftnt8" id="ftnt_ref8">[8]</a></sup><span>&nbsp;:) That's wasted energy right now but it helps to keep motivated so I don't envision myself doing microscopic pick-and-place on finicky little magnets. </span></p><p><span>I'm going to have to set up a magnetically safe workbench and keep proper accounting of where all the magnets are because these things are dangerous. The first wheel didn't really come out usable, the magnet size is slightly larger than the holes. This isn't a problem, we're operating at the edge of the feature size of what you can 3D print so we have to tweak things a bit to come out the way we want them. Keep in mind that 3D printing is a pretty imprecise process: you squeeze plastic out of a hot nozzle like toothpaste and then press it into the plastic already there. Some of that plastic will deform and end up in your carefully sized hole. Keep in mind too that this is printed in 'draft' mode with a 0.3 mm layer so it could be a lot more precise (but the weel orientation is flat so that shouldn't matter too much, it will help however with the definition of the dots, arguably the most important part of the wheel). The speed difference is worth it though, in draft printing these wheels takes 25 minutes each. I've added 0.2 mm to the thickness and the width of the magnets. I've also doubled the number of magnets and added a second ring of magnets on the other side to see if you can fit 64 of them. </span></p><p><span>If that works then that same trick can be used to put 44 magnets into the tri-phase wheel for 132 addressable positions. We don't really need that though, and 22 magnets is already quite the expense, but it does give one massive advantage: if you pull that trick with 64 magnets you could more or less lock the wheel in place because there is now always a magnet dead center on a letter position and that means you can apply a strong field to that position and every other position around the bottom of the wheel. &nbsp;</span></p><p><span>You could make the wheels out of two halves that are glued together in the middle (with registration pins to make sure they match up exactly). that way the magnets would be fully embedded in the wheel. You'd press the magnets in halfway on either side, then press once half on top of the other with some glue. Or maybe injection mold the whole thing in two steps, first a magnet carrier and then the plastic around it. </span></p><p><span>The second wheel just finished printing, it works better than the previous one in the sense that the magnets fit into the holes, I managed to put one in. To my surprise it immediately moved to the next vacant slot, the cavities line up perfectly (the way they should) but that means that there is a 2 mm high racetrack on the *inside* of the wheel. Accidental re-invention of the roller bearing. Hilarious, but not really what I intended, so I'll make the slots end in a half cylinder.</span></p><p><span>So, I've changed the wheel again because that didn't really work. The changes are to put a half round pocket at the bottom of the hole, this reduces the size of the gap between adjacent holes to the point that a magnet can't migrate. I've also added a pin hole to the bottom of the pocket so that you can push a magnet back out again if you want to. This ensures that you'll be able recover from an assembly error, such as to place a magnet the wrong way around.</span></p><p><span>I've also noticed that it is utterly impossible to spot the magnet in a hole once it is in, this is a nastly complication. You can use a magnet on the outside of the wheel though, to verify its presence or absence. And it might be a good idea to angle the sides of the hole to help guide the magnet into its intended position. </span></p><p><span>Another shoutout to the makers of OpenSCAD, it is incredible software and it hasn't crashed even once in more than a week of continuous use. Rendering is slow, especially if the shapes are complex, but that's about my only complaint (and previewing is plenty fast). Rendering the current wheel design takes about 13 minutes. Half the time it takes to print it.</span></p><p><span>I've gotten religious about cleaning the print bed prior to each print, there is a lot of detail in these and it is very fine so the first layer outlines that are made without any kind of connection to something else (so they have a well defined outline) need to stick immediately without coming loose. That has happened a couple of times now and it always ruins the print. So 10 seconds to clean prior to printing saves a lot of time on failed prints and PLA gone to waste.</span></p><p><span>45 minutes later… the print came out fine, but the first time I stuck a pin in a hole to see if it would work (prudent, just in case) I wrecked the wheel. The holes simple come out too small. But zooming in on the hole shows exactly why this is borderline anyway. The tiny pinholes are formed by running a perimeter around them, but the magnet slot right next to it is formed in the same way. The two interfere with each other and some of the plastic of the one is smeared into the other and vice versa. </span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image73.jpg" title=""></span></p><p><span>The dots on that wheel are spaced 2.3 mm apart and the dots themselves are 1.5 mm across, to give you an idea of what you're looking at. &nbsp;Short of using a much finer nozzle I don't see a way to solve this easily and I don't have any spare nozzles. Which is a thing I only just realized, if the 3D printer breaks I'm really up the creek without a paddle, I should probably order some spares just in case. </span></p><p><span>So instead of just widening the pin holes I will also offset them towards the center of the wheel (the magnet positions are more important than the pin holes). That will strengthen the walls a bit and will allow for a slightly larger hole. Another improvement is to angle the holes away from the magnets towards the center of the wheel. That way there is even less interference between the perimeter of the pinholes and the holes for the magnets and there is more wall. </span></p><p><span>I've found it often really hard to visualize what happens when I make an insert, to the point that it started to really bug me. I've wasted countless hours tweaking things this way and that to get a result that is satisfactory and it often felt like trial and error instead of by design. This is especially noticeable when things are already rotated into place and you want to change a detail. The way I will do this from now on is to treat the whole of the insert as an object, render that positive to visualize it centered around the origin and then to move it into place from outside of the object in its final position and to rotate it only then (as a complete whole) and subtract. That takes a lot of the frustrationg out of designing more complex cavities. A single magnet was doable, a magnet hole with a pocket at the bottom was harder and the one with the offset angled holes drove me nuts and took an hour. Then I decided to do the whole thing first as an object and that worked very well, took 10 minutes (still too long, probably but I'm still learning OpenSCAD as we go along) and it was much easier to see what's going on by looking at an object rather than the hole created in a workpiece by that object. </span></p><p><span>Those little neos are ridiculously powerful. I just did a bunch of tests to see how much they will lift and they lift 35 grams effortlessly. I estimate the 250 magnets weigh 5 grams or so, so that puts them at 0.2 grams each give or take. So they lift 175 times their own weight. </span></p><p><span>I have so many unfinished threads still that I'm starting to lose track so I'll list them here, I really should read all of these notes top to bottom to see if there is anything that I missed. That's how these projects usually go. You have a single starting point then you follow a track and it bifurcates and so on until you have many parallel but promising tracks and then they drop out again one-by-one until there is only one left. Or none… Here is the list of ideas that still need testing:</span></p><ul><li><span>revisit the small wheels with only 8 side-by-side codes on them</span></li><li><span>22/44 magnet wheels in tri-phase mode</span></li><li><span>32/64 magnet wheels in two phase mode</span></li><li><span>16 magnet wheel in tri-phase mode (this was waiting on the H-bridge, I just found one so I can finish that one now)</span></li><li><span>drive the two phase wheels from the inside and the outside all at once with four coils per phase (opposing sides, diagonally crossing in at the shaft)</span></li><li><span>pin and solenoid based system using the 2 mm magnets</span></li><li><span>tri-phase or two phase drive across the underside of the wheel</span></li><li><span>test the locking of the wheel when having more than one magnet in a known orientation at the bottom.</span></li></ul><p><span>Five test wheels later and I still don't have one with mounted magnets :( This is tricky, the difficulty factor just jumped up 10x or so. If you think about it conceptually, magnets 1/3rd the width and ½ the height it doesn't feel all that different. But if you try to handle them it hits home hard: this stuff is tiny. I'm printing up some tools to make basic tasks easier (separate a magnet from the stack for instance, that's something that should be trivially easy but it really isn't). Then I'll have another go at trying to assemble a wheel.</span></p><p><span>I'm also going to mark the faces of the magnets so that I know for sure which way I'm handling them. Each magnet is placed manually, that too is annoying (and error prone to boot). </span></p><p><span>I built a little tool to help unstack the magnets:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image7.jpg" title=""></span></p><p><span>It's pretty simple, really, you feed in magnets into the block in a stack, then you slide the other part through underneath and all the holes fill up with magnets (you need to do this on a steel backing to get it to work reliably). The I unstacked 64 magnets and put a dab of paint on the one side to help identify the polarity. Afterwards I figured better save than sorry and checked each magnet again to make sure they're sitting right side up before painting. Out of 64 magnets 15 (!!!) where the wrong way up. So much for being paranoid, I thought I might find one, maybe two. </span></p><p><span>Here they are all pretty blue on one side. </span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image83.jpg" title=""></span></p><p><span>The paint took forever to dry so I decided to take my chances and try assembling a wheel at the risk of having to pull out a magnet (which seems pretty much impossible).</span></p><p><span>That didn't go quite as easy as I would have liked but in the end it did work. Working with these magnets is like trying to build houses of cards with rice grains that have a will of their own. They'll jump like fleas if you don't pay attention. One of them escaped so fast I didn't spot where it went by my son Rob was paying better attention and recovered it stuck to a table leg. </span></p><p><span>This project has a unique level of challenges. Another problem is that they are just too small to reliably see while you're handing them, they are so tiny that if you try to hold on to one it just disappears. And I though tthose other magnets were tiny, they now seem huge.</span></p><p><span>After so many hours of working on this here is - finally - the assembled wheel with 64 magnets in it, 32 inserted from one side and 32 from the other. The top face looks half decent.</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image84.jpg" title=""></span></p><p><span>The bottom face is a different story:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image71.jpg" title=""></span></p><p><span>If you zoom in on the wheel you can see in more detail what's going on:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image24.jpg" title=""></span></p><p><span>So the gap the magnets rest in is 1 mm high, the pinhole is about 1 mm diameter and the 3D printed features are about 0.3 to 0.5. When you look at it like this 3D printing is even more fascinating: the fact that it works at all with such a messy process.</span></p><p><span>I tried the wheel with some bearing in it while pointing a magnet at it from the side and I'm a bit surprised to admit that not much is happening. The field *seems* very weak, much weaker than expected. Think this may be do to two factors. The first is that such a tiny disc lives or dies by the airgap, and there is just way too much of that. The second reason is that the magnets that I'm using to test it with all have pole faces that are 6 mm across, so they see at least two and posisbly even three magnets. That doesn't help. So when trying to run this wheel it will be super important to have the poles line up *just so* with the magnets and to make them of a diameter to match the magnet faces. That will be a challenge but I think that will be the only way to get this wheel to spin.</span></p><p><span>I can't believe it took 5 tries to get this one to be good enough to assemble, it is borderline possible with just hand tools but I won't be making many wheels like this. It's just too finicky and error prone.</span></p><p><span>Study #22, tri phase stepper driver part II (1/Mar)</span></p><p><span>I have an L293 now, it turned out we had one lying around after all. So time to test the alternating pole wheel with 16 magnets and a driver for it. This will be interesting because I suspect that tri-phase will work a lot better than one-out-of-four or lots of little coils. Tesla wasn't stupid: three phases give a very nice optimum between ease of manufacture, torque and simplicity of drive &nbsp;(either for a motor or as a generator). In industry it is pretty much universal, all industrial gear runs on three phase alternating current motors. You also get the star/delta option for free.</span></p><p><span>But they're normally not just a few mm thick and they don't have pole pieces that are this small so it will be an interesting challenge in many ways. First to assemble the driver hardware on the breadboard so I can drive it with the Rasperry Pi. </span></p><p><span>And it worked! </span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image52.jpg" title=""></span></p><p><span>Noticeably more torque than before, it ramps up smoother and it only uses three output bits on the controller. One fewer coil as well. I had a funny little setback again, couldn't find for a long time why the L293 didn't power up. It turned out that one of those cheapie jumper wires was borked. I'm going to do a continuity test on *all* of my experimental wires because I'm a bit done with these detours through debug land only to find out it is something basic like that. What is also interesting is that this wheel already starts rotating with the coils at only 3V, that's half as much as with the four coil drive before which only really started moving at 5.5 to 6V.</span></p><p><span>Really happy that it works and so smoothly. Doing this with the 64 magnet wheel is going to be super challenging: the linear distance between two magnets of the same polarity is only 5 millimeters, the distance between the top and bottom dots on a character cell. This of course always was the problem to solve but now it becomes very real and the three 120 degree offset phases will have to divide that 5 mm into three equal portions, in angles it will be 11.5 degrees (2x5.625 which is 360/65) so 3.833 degrees difference between the subsequent phases. That means that whichever phase exactly lines up with the slot is the one that *always* has a magnet in front of it, either as a + or a - 180 degrees later. That should give pretty good hold torque as well (though, as I wrote earlier the wheel doesn't feel as if there is a whole lot of fieldstrength, so we'll see how well it works in practice, we do have the option of hitting multiple magnets now, in fact as many as we want, and we could in theory make the one that lines up with the dots much more beefy so it has more holding strength).</span></p><p><span>If driving these from below will work with sufficient strength then we can do away with a lot of bits and pieces, the wheels can be the full 7.6 regulation millimeter thickness (including the space between characters) and the whole stack of wheels can sit passively on a shaft. That would be a major simplification (though it would make it slightly harder to service the device if a wheel should need to be replaced but you could simply pop out the whole shaft and replace that instead and have the other one refurbished, the cost of the shaft is mostly bearing, plastic and magnets). </span></p><p><span>And the 'space' between letters could have a printed version of the letter to the left on it as well so a sighted person can read along with a blind person and quickly verify if the machine is working properly.</span></p><p><span>Study #23, Driving the 64 magnet wheel with tri-phase (1/Mar)</span></p><p><span>So, this one is going to be a bit tricky. The tiny magnets leave 1/3rd of 5 mm (so 1.66 mm) per pole. Schematically it looks like this:</span></p><p><span>|&lt;---------5 mm---------&gt;|</span></p><p><span>+SSSSSSSSSS+ &nbsp;+NNNNNNNNNN+</span></p><p><span>| &nbsp;magnet &nbsp;| &nbsp;| &nbsp;magnet &nbsp;| etc</span></p><p><span>+NNNNNNNNNN+ &nbsp;+SSSSSSSSSS+</span></p><p><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;AIRGAP</span></p><p><span>+------+ +------+ +------+ </span></p><p><span>| pole | | pole | | pole |</span></p><p><span>+------+ +------+ +------+</span></p><p><span>&nbsp;-3.833 &nbsp; &nbsp; &nbsp;0 &nbsp; &nbsp; 3.833</span></p><p><span>So the coil on the right is energized opposite of the coil on the left and the coil in the middle is off. 180 degrees of phase later the situation is reversed and the wheel has moved exactly one letter position. </span></p><p><span>Given that the magnets are flat and that they don't have a lot of field minimizing the airgap will be quite important as well as hitting as many of them as possible. A single magnet will *probably* not be enough to pull the wheel along but if we hit more and more of them it should work.</span></p><p><span>Stator manufacturing is going to be another exercise in patience. Because everything is so small I really would like to use proper laminations to minimize eddy currents but making those gives me nightmares. You really should make those with tool-and-die but that's not a process amendable to trial and error so I'll have to hand make the first batch of them. I've also been thinking a lot about the wheel surface itself, the dots are small and made of plastic (PLA for now) and I suspect they will wear away pretty quickly. Some sort of coating would be good, and I'm leaning towards a cold liquid enamel. That has nice properties, it's super smooth and should be fairly durable, definitely compared to the plastic (toxicity? wear? thermal stability?).</span></p><p><span>I think we should try to hit at least 5 magnets in any position so that's 3 stator pieces with 5 pole shoes each. I'm not sure if I have anything suitable for laminations, I could scavenge it from a transformer and try a couple of them to take the thinnest material. One elegant way to get more holding torque is to have the coils that are 'on' when a character is in position to be larger. </span></p><p><span>If the movement torque can be made large enough that it can overcome some friction that would allow for stronger damping of the movement which in turn would help with overshoot (my son Luca: 'use a bad bearing to deal with the overshoot'). That might actually work and why not: use bronze bushings or something like that to create a 'bad bearing' that still has enough strength to least really long. It would consume a little bit more power though.</span></p><p><span>If the coils are on the inside of the poleshoe body then there is a trade-off between how many magnets you can hit and how large the coil can be, between two same polarity magnets there is only 5 mm so that gives you 5 mm total for both the coil, the coil body and the pole metal itself. That's not a whole lot of room. So maybe it would be better to leave out every other pole, instead of 1,2,3,4,5 you'd only use 1,3,5 and use much larger coils. I think that would work out as a net positive: larger coils = more coil turns and you'd get far more than twice the number of windings and lose only 40% of the poles. So I think I will try that strategy first. </span></p><p><span>I could put the magnets behind the pole body and use a single large coil with the pole shoes sticking out of the center of the large coil. That might work even better but would require a lot more space (height, mostly). I've let go of the idea of driving the wheel from the inside, but it may actually be a good idea to revive that principle. You could use the full wheel minus a thin skin to keep it all connected and then you'd be able to hit a full 120 degrees of the magnets. So that would allow you to drive 32/3 = 10 magnets at the time. You could do both… You could also use a 5x2x1 mm flat bar magnet, the 2 mm would be the width, the 1 mm the depth and the 5 mm the height. That way you'd go from 3.14 cubic mm magnet per slot to 10 cubic mm. Another option is to use the backs of the magnets to magnetize a pole shoe that comes out in between two magnets. That might not be a bad idea: the magnets would be used twice, both for their N and S sides at the same time. But then you couldn't drive them on both sides.</span></p><p><span>Yet another drive option: the 'rattler'. I don't particularly like it because I suspect it would be really noisy but you could have a ratchet on the side of the wheel and a solenoid pulling it through the 64 consecutive steps. The same concept might work for the 8 combination wheel with the 8th pull on the lever causing a reset to the beginning. Weak points: springs, multple moving parts per cell.</span></p><p><span>An improvement on messing around with tiny magnets might be to use a single disc magnet with a hole in it in the middle of two tiny 'hamstercages' with interlocking fingers like so:</span></p><p><span>NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN</span></p><p><span>&nbsp; N &nbsp; N &nbsp; N &nbsp; N &nbsp; N &nbsp; N &nbsp; N &nbsp; N &nbsp; N &nbsp;</span></p><p><span>S N S N S N S N S N S N S N S N S N S</span></p><p><span>S &nbsp; S &nbsp; S &nbsp; S &nbsp; S &nbsp; S &nbsp; S &nbsp; S &nbsp; S &nbsp; S</span></p><p><span>SSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS</span></p><p><span>You could stack 4 mm worth of magnet in the middle with two 0.4mm thick laminations on top of them to guide the field to the teeth and have plenty left over for wall for the wheel and cell separator. Those would be directly exposed to the drive coils so the airgap would be absolutely minimal. This may well be one of the most efficient and powerful solutions, but you would not be able to drive it from inside the wheel. </span></p><p><span>Lots of fiddling with OpenScad later:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image38.jpg" title=""></span></p><p><span>It took me a while to figure out how to do that swept arc segment. That's a really useful component though, I'll definitely be using it more often. So, the idea is to have multiple poles that hit the magnets from the side with a step in between to allow for fair sized coils. For the first tests I'll make the poles out of M3 bolts, that's the quickest way to verify if this work and the lost power can be made up for in extra current ;) . Aligning these is going to be really nasty, the screws won't have a whole lot to set up against, basically just the threads in the hole. </span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image54.jpg" title=""></span></p><p><span>You can just make out the holes in the supports. This also does nothing with the other pole of the stators, so half the field is wasted.</span></p><p><span>Here is the first test:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image9.jpg" title=""></span></p><p><span>That realy didn't work. The airgap is pretty big and there just wasn't enough field passed on from the relay coils to the bolts to make this work. But this one did work:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image39.jpg" title=""></span></p><p><span>Well… it moves, and it actually moves to the right spot. So that's a win I guess. But in spite of drawing considerable power (a whopping 0.5 Amps) it isn't exactly a torque monster, those tiny neo's are super impressive once you are *very* close but at this distance (est: 1.8 mm which is *almost* the thickness of the magnets) most of the field is lost. It's also super slow.</span></p><p><span>I'm not quite sure how to improve considerably on this: there just isn't a lot of space for the magnets, we have three steps per character position so we could save there (that's that 22 magnets with three phases idea). The coils are already super large, much larger than I want them to be but thinner wire would help to cram more windings in while reducing the current a bit so that should give better consumption. I could replace the wheel with those squirrel cages for something that is easier to keep captive and much, much easier to assemble (and cheaper).</span></p><p><span>And finally I could add more coils but we're already at or over the budget (maximum would be about 100 degrees of angle before you exceed the sides. one possibility would be to make a very complex stator piece that would be just a single piece with the three coil phases inserted on top of each other (alternating slots). This would be quite efficient space wise and would allow the use of both the negative and positive poles.</span></p><p><span>But it would require some pretty complex thin metal fabrication. Combining that with the hamster wheel mentioned higher up would be interesting.</span></p><p><span>Study #24, It's all about the Airgap (2/Mar)</span></p><p><span>The airgap (the space between the outer magnet surface and the stator poles) is *much* too large. This is a problem because it means a lot of the field leaks away short circuiting around the magnet's side. I estimate the airgap to be 1.8 mm which is almost the thickness of the magnets so you can expect that most of it never makes it to the pole. On top of that the poles are too wide, they're Bolts and even though they are very cheap they are also made of the wrong metal *and* they're still too thick. </span></p><p><span>I did some experiments (and sacrificed the 64 tiny magnet wheel in the process, but fine, this one would never be used for real anyway and is just to help figuring out the drivetrain). If going through the front of the wheel including the braille dots isn't an option then maybe it could be done just to the side of that. So I ground off the dots to get in closer to the magnets with the poles and I trimmed the bolt tips down to about 2mm. That was just a quick job on the grinder so it isn't pretty but the lessons learned are much the same, before and after for the bolts:</span></p><a id="t.34c968869fbbdaac8fff0fec79919d98042a1192"></a><a id="t.1"></a><p><span>That already worked a lot better, it's a tiny change but the difference in torque is massive and given how the density of the field increases exponentially as you approach the magnet I suspect that getting closer could improve things much further still. 4V, 0.3A, 400 steps/sec, at 7V, 0.6A 700(!!) steps/second and 8V, 0.7A 1000(!!!) steps / second. so it is really important to get the stator as close as possible. </span></p><p><span>It doesn't have a lot of torque, but that might be an advantage safetywise, and combined with a hall sensor that picks up the magnets it could work as a closed loop system. One extra magnet behind the dots to synchronize to the zero position would round it off. And maybe coils made of thinner wire. This looks like it will work all the way.</span></p><p><span>The wheel itself would now be the regulation 7.6 mm thick, the magnetic rotor part would ride *just* below the surface of the space area and the pole piece would sit just outside that underneath. Obviously the wheel diameter is far from ideal, but there may be the option to use belts with the braille dots on them. Belts would serpentine around idlers underneath the face to be driven by a geartrain. This would probably be much more compact than what we have now, but I suspect it would be a bit more delicate. </span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image72.jpg" title=""></span></p><p><span>That could be very compact depending on the minimum bending radius of the belt, and if you use a belt. The two inner idlers should be arranged in such a way that they don't run into the dots. This has one more advantage that you can use a pretty tall gearing from the motor to the gear the belt runs across and if the belt and the gears have matching teeth you can use the same surface on the gear to drive both. I really like this arrangement because it seems to have endless possibilities for space optimizations which might even get you to perfect standards compliant braille. But it's far more complex mechanically and probably much less reliable, and belt material won't be good dot material (relatively soft, so wear prone).</span></p><p><span>Study #25, A better stator (3/Mar)</span></p><p><span>I can't really think of a way to do a proper 3 phase stator with overlapping coils at this size, that's frustrating, but it makes good sense: the size of the slots would be absolutely miniscule and you wouldn't get a lot of windings in there anyway. For instance for the windmill that I made for 16 magnets we had 3 times as many slots, so 48, because it's three phases. That was tight but doable, the stator was a full 300 mm in diameter and even so the fronts of the stator poles (the 'fingers') were quite </span><span>small</span><sup><a href="#cmnt6" id="cmnt_ref6">[f]</a></sup><span>. So I'll compromise and focus on the fronts of the stator poles and create as large a slot for a single phase behind it as I can without exceeding the width. That way we capture the bulk of the field and we have at least some room to work with.</span></p><p><span>Something like this, each phase gets two coils and one negative finger for the reverse of the field:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image69.jpg" title=""></span></p><p><span>That looks doable, but keep in mind that those mounting holes are only 3 mm diameter, the slot entrances are only 1 mm and the slots themselves are 2x deep... </span></p><p><span>But when you export the svg and transfer it to a template it suddenly looks a lot less doable:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image77.jpg" title=""></span></p><p><span>That's something for a goldsmith, I don't think I'm cut out for that level of detail. But I'll give it a try to see if this can be done. But even if I manage to make the piece what am I going to line the slots with? Even paper would already be pretty thick and eat away a fair amount of the slots.I don't think this is going to work. I can see that I can shave a bit of the height which immediately translates into the devices being that much lower and every little bit counts because we're already way too high as it is, which is good, and maybe a mm or two off the sides (but there I don't really need it). I could sacrifice that center pole had hope that the longer magnetic circuit around the back to the other phase slots could substitute for that. </span></p><p><span>That's probably a good idea, and make the slot fingers straight as well and the slots deeper at the back. And move the mounting holes to the middle where there is no interference with any area we want to stuff copper into, there is too little of that as it is. The current setup with the large coils has about 250 windings per coil and there are three coils per phase so that's 750 windings. We need a reasonable fraction of that to get this to work.</span></p><p><span>Study #26, A better stator, part II (3/Mar)</span></p><p><span>What I can actually make and what is manufacturable are two different things but I'm constrained by the tools and the materials I have at hand because I don't want to start throwing vast amounts of money at this - yet. I first want to get to any acceptable solution and then iteraratively improve on that because I think that constraint will force me to keep thinking in ways that result in a cheap and easy to manufacture device. Cost of labor is going to be a major part of this project and if that can be kept down and capital expense to get set up making them is small then there will be more adoption. </span></p><p><span>The stator from the previous study *probably* can be made, but I can't make it so it's a non-starter. But it can serve as a starting point for one that can be made, here is one that is much simpler and that I can make:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image4.png" title=""></span></p><p><span>The dots are the centers that I can use for drilling and then the rest is endless hacksaw and grinding work, eventually this would be stamped using tool-and-die.</span></p><p><span>Note that the mounting holes interfere with the magnetic circuit too much, there would need to be the equivalent of the steel in the fingers on the thinnest part of the back brace between them. </span></p><p><span>While driving today I was thinking about this stator a lot and how frustrating it is that the coils interfere with each other when I suddenly realized they don't *have* to interfere at all. You could wind the coils around the back of the stator just the same! But then there are only two spots where you can wind coils so you'd need to add another set of fingers. But that would increase the space for coils tremendously, and it might make it possible the shorten the fingers a bit as well. The mounting holes would need to move but that's a minor detail.</span></p><p><span>And right now the 9 coils that I have are active on 6 spots at once, the rest of the field is lost (because there are always two phases active there are always 6 coils out of the 9 energized at any point in time). So these six 'fingers' are a very close equivalent to that, only now none of the field is wasted, so it should use much less power to get the same amount of torque and speed.</span></p><p><span>Another option is to wind the coils for the outer two fingers where the mounting holes are indicated in the drawing and the middle ones on stator fingers. Not ideal beacuse the middle coils and the coils wound on the back would interfere. You could overcome that by moving the rightmost phase outward by one spot and then doing the same to the middle one. </span></p><p><span>Better probably to just treat the 'fingers' as the teeth on beefier poles and then to wind the coils around the poles to let the teeth complete the circuit. That's probably the easiest way to hit a larger number of magnets without having tiny coils. Something like this:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image37.png" title=""></span></p><p><span>That way there is ample room for coils and the whole thing still fits comfortably within the envelope dictated by the diameter of the wheel. At the expense of some height.</span></p><p><span>And there was one final optimization to make, to minimize the width of the coil supports:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image31.png" title=""></span></p><p><span>Given the space constraints I don't think that you can get much more out of this, maybe make the center hole in the coil supports a triangle but that would be minimal gain. Keep in mind that the stator + the height of *both* sides of the coil can't exceed the width of a character (7.6 mm), with a 2 mm stator that means that you have (assuming a skin of 1 mm for the coil body) only 4.6 mm for the copper on both sides, or so 2.3 mmtotal. With an 8 mm core length, effectively 7 (subtract the caps) you are left with 7x2.3 mm cross section for the coils, which will hold about 900 windings tops of .15 mm wire. If you wind *really* nicely. At .1 mm you would be able to double that. Which actually would be half decent. </span></p><p><span>But you won't be doing that well if you wind the coils by hand so a test setup will underperform considerably compared to a professionally manufactured coil and the same goes for the stator steel itself, it is of the wrong steel (too quick to saturate) and it isn't laminated (so you'll get eddy currents).</span></p><p><span>The reason for the endless fiddling with the design of the laminate is that 3D printing and laswer cutting are pretty quick for me, but making stuff out of 2 mm thick steel is a lot of hard labor and I'd like to really get this one right the first time I make it. But I really like this one (though I see some possibe optimizations) so I'm going to try it and to make a set of matching coils.</span></p><p><span>Study # 27, A better stator, part III (4/Mar)</span></p><p><span>First the coil bodies and a little tool to assmble them and wind them:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image62.jpg" title=""></span></p><p><span>The idea behind the tool is that you can stuff two halves of the coil holder on there, glue them without it getting stuck to the holder and then slide the whole thing off. This makes assembling the coil holders much quicker. And when winding you can slide a coil holder on the tool, then wind it without your fingers getting in the way of the wire all the time. These coil holders maximize the space, they're exactly 7.6 mm wide.</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image46.jpg" title=""></span></p><p><span>Trial fit on the lamination, this worked quite well so I'm going to wind the coils.</span></p><p><span>Or not…</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image13.jpg" title=""></span></p><p><span>These are so delicate. But ok, toss it and wind another one. I tried salvaging the wire, not because I'm quite that cheap but because I'm not sure if I have enough of it, but failed.</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image30.jpg" title=""></span></p><p><span>And… Success!! So, that's the first time I have achieved the main challenge, the character is standard width, it registers perfectly and it moves when it has to. In a way the challnge is over, from here on it is improvements on this theme and other tracks that I've left unexplored.</span></p><p><span>But in many other ways this is really just the beginning, what in the industry would be called a 'proof of concept'. it demonstrates that there is in fact a solution. Proper engineering, cost reduction, design with ease of manufacturing in mind and so on will all improve it considerably, so from here on in things can really only improve. There is one thing (ok, many things, but that one is dominant) that I'm not happy about which is that at 46 mm cross section and a good 64 in height it is larger than I would have liked. </span></p><p><span>Moving the coils under the wheel would solve at least the height issue (but the wheel would be the same size as it is now). It has less torque than I would like, and it would need more holding torque. But I suspect that having the stator exposed to more of the magnets at once (right now it sees less than 10% of the magnets!) would improve that considerably.</span></p><p><span>The cost for this iteration (estimate):</span></p><p><span>The bearing I estimate at $.10 or so in quantity (it can be a slide bearing, no ball bearing required) two concentric pieces of bronze is all it takes. The magnets are $.2 each in this quantity but drop to $0.02 in larger quantities so that's a $1.30 worth of magnets, 50 cents worth of copper wire and a cent or two of steel and another $.20 or so for the plastic. Say $2 for the mechanical and electromechanical bits. </span></p><p><span>That leaves $3 in the budget for the electronics and the assembly. I'm pretty sure that can be done. </span></p><p><span>But this really is a starting point, from here on in it is optimization on size, cost, power consumption, lifespan, torque, holding torque etc.</span></p><p><span>Study #28, Coils to the inside (5/Mar)</span></p><p><span>Lots of CAD work later I came up with this (exploded view to show what's going on):</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image40.png" title=""></span></p><p><span>It's a pretty massive change, the coils will move to the inside, change orientation and much more complicated stator pieces will be made that hit 90% of the magnets. Drawing this was hard enough, making it will be a lot harder, but that only goes for the prototypes, this is the first design where I'm really taking manufacturing into account and if you look carefully you'll see all kinds of little details that make it possible to mass manufacture these for very little money. For instance, the stator metal has, right at the point where the fingers make that right angle a tiny little step inwards over half the metal thickness. That is so that you can bend the fingers using a tool and die at the same time that you cut them. It's a single operation, bend, cut, eject. &nbsp;Still missing: the metal cores for the coils, but those should be easy to add. </span></p><p><span>What's nice about this design is that it uses the space extremely efficiently, and that it uses almost all of the magnets (or actually, ⅔ because one phase is always idle). The previous design hits 6 magnets maximum. I could not think of an easy way to rope in the remaining magnets, unlike the previous design you can't just connect the backs (or at least, I don't *think* you can but now I'm wondering if that is correct or not, it may be that i'm actually wrong about this).</span></p><p><span>The bigger question is whether or not I am able to manufacture this here with the tools that I've got, those stator pieces are pretty challenging, especially given the gaps to the wheel at the top and the sides are tiny. But I'll give it a try. The coils shoud pose no big problems, they're essentially just a beefed up version of the ones I made before, 12 mm diameter, 5.5 mm high (which is a good indication of how thin everything else is given that the total budget is 7.1 mm) so that leaves 4 mm of height x 9/2 = 20.25 mm^2 if I got it all right and that multiplied by two again, so 40.5 mm^2 because there are two coils per phase. Compared to the previous one at 16.1 that's a huge improvement especially when combined with the number of extra magnets that get hit. Those coils should be about 1100 windings of .15 mm each. </span></p><p><span>So I expect this one to do far better than the previous one, if I can actually make it. It may be necessary to make the inner core of the coils a little bit thicker so that we don't saturate the core. I think it is possible to squeeze one more magnet hit out of two of the phases but I'll let that be, it's only a few percent gain and it would make those two phases more powerful than the other one which may introduce cogging. Better to keep things balanced.</span></p><p><span>I'm a bit concerned about the wheel wall thickness and the number of magnets that we're pulling on at the same time, that could flex the wheel. If that happens then I'll need to increase the wheel wall at the expense of coil space (which would really hurt). Another fix would be to strengthen the wheel wall, for instance by making the wall of steel. But for now I'll stick with plastic because just injection molding plastic is a lot cheaper than mixed metal/plastic parts.</span></p><p><span>There is an error in that nice exploded view above, can you spot it</span><sup><a href="#ftnt9" id="ftnt_ref9">[9]</a></sup><span>? (hint: angle).</span></p><p><span>Oooh, this hurts: I've just found this: </span></p><p><span><a href="https://www.google.com/url?q=https://www.utopiamechanicus.com/article/braille-display-2017/&amp;sa=D&amp;source=editors&amp;ust=1709891107911388&amp;usg=AOvVaw0zB9wKnfS0sKW_hZ3krrD1">https://www.utopiamechanicus.com/article/braille-display-2017/</a></span></p><p><span>It's like looking at my own wheel, the thing is more or less a perfect twin. I could have saved myself a ton of time by doing a more thorough search. It even has the window!! But in a way that is logical, form really follows function here. The big difference is the drivetrain, that one is going to have a lot of slop in it, and it will be expensive. And we seem to have found a different way to line up the codes.</span></p><p><span>Study #29, Coils on the inside, part II (6/Mar)</span></p><p><span>Easier drawn than done that one. I've been at it for about a day now, non-stop filing, hacksawing and printing little helper tools and it is slowly getting there. This is a tricky thing to make (and it may not work…).</span></p><p><span>&nbsp;</span><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image2.jpg" title=""></span></p><p><span>I made 4 3D prints of the stator metal pieces, two for each part (top and bottom are slightly and confusingly different), then bolted those to some .75 mm steel sheet (I wanted 0.5 but couldn't find it locally). The the first round of filing to rough cut the shapes:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image3.jpg" title=""></span></p><p><span>That's a couple of hours worth of work. I cheated and used the dremel for a bit but ended up hitting my fingers more than the steel (because it wants to climb all the time) so back to manual.</span></p><p><span>Then I made a simple tool to be able to fold the finger exactly the right way:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image8.jpg" title=""></span></p><p><span>One folded, one to go</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image64.jpg" title=""></span></p><p><span>The teeth are supposed to be close to each other but not to touch:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image87.jpg" title=""></span></p><p><span>Then some more filing because I love it so much:</span><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image32.jpg" title=""></span></p><p><span>And then a test fit of a stator inside the wheel:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image76.jpg" title=""></span></p><p><span>and after printing a setof coil bodies a test of all the parts except the top stator part inside the wheel:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image11.jpg" title=""></span></p><p><span>It all fits, but I'm pretty skeptical about whether it will work or not, with a permanent magnet in between the two stator pieces I hardly noticed any gap on the stator sides where the magnet faces will be. I even tried with the 2x1 mm magnets to make sure I'm not accidentally seeing more than one pole at once but that didn't seem to matter much either. Only one way to find out…</span></p><p><span>Study #30, coils on the inside, part III (7/Mar)</span></p><p><span>I just put the magnets in the first wheel, but only the bottom, the top just wouldn't work, the plastic would shatter and those magnets that went in went at the weirdest angles and one of them broke. Very frustrating. It did work, after a fashion, and better than epected, it has quite a bit of torque, but it wouldn't move a whole sequence of steps and that's most likely because the positive half of the magnets was missing. </span></p><p><span>Another issue was that a number of the 'teeth' stood out enough that they were rubbing the inside of the wheel, very careful pusing with a small screwdriver fixed that so the wheel spins much more freely now. The top plate is only .5 mm now, that makes it very flexible. But any change in height there directly affects the amount of space available for coils.</span></p><p><span>Then there is the matter of flux flow from the coil cores to the stator laminations. I'm using simple M3 bolts for this right now because I don't have the means to properly join a steel post to the laminations on closing without risking damage to the coils. You'd need to hammer that in and that will most likely crush the coils in ways that are not at all healthy. So the bolts are a stand-in, but they have problems: for one then need to be countersunk at the top of the wheel because if they are not that robs you of even more space inside the wheel and height is very much at a premium. For another the bottom nuts are on the other side of the plastic of the test-stand, where they can't transfer any flux at all! </span></p><p><span>And I only realized that after I'd put the whole thing together including hot gluing all the wiring in place. Here is what it looks like:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image21.jpg" title=""></span></p><p><span>So that's a pretty substantial dilemma, I don't feel like re-doing all of this and yet it may stop the whole thing from working because only half the teeth are active. I've come up with a partial fix: remove one nut from each phase, thread the bolt back out until it is free of the plastic of the test stand and then increase the size of the hole in the plastic to the point where the nut can go in entirely. That will at least improve the cross section of the area where the flux travels through that nasty 90 degree corner. another thing that mighthelp is to chop off the long ends of the bolts sticking out the bottom. and if I hot-glue the whole assembly in place I might even get away with removing the other three bolts and increasing the size of the holes there as well. But that's pretty risky. What a dumb mistake. Alternatively, once the first three bolts are done then maybe add some washers and nuts to fix the whole thing in place and then do the other three?</span></p><p><span>I hate rework. </span></p><p><span>I've redesigned the wheel a bit. I noticed that the red plastic is a bit more brittle than the black that I used before and so much less forgiving of having force applied, such as when inserting magnets. A whole bunch of them broke out while trying to insert them. So now I've laid out the insert to be V shaped leading down into the pocket where the magnet will sit. That way insertion is a lot easier and needs far less force. We'll see how well that works in practice, especially the ones inserted from the top need to travel down quite a bit before they're in the right spot.</span></p><p><span>The redesigned wheel was a lot easier to load with magnets, that's the good bit. The bad bit is that it still didn't work, not even with three of the bottom nuts moved much closer to the surface of the stator plate (touching it).</span></p><p><span>Hah! Victory…</span></p><p><span>So, those bolts sticking out… that was it, chop the bolts, boom, instant movement. I had a suspicion but I actually didn't think the difference would be this big. &nbsp;But it still doesn't run very smoothly, though it does have a lot of torque when it does work. I think there are still a couple of things that might be off, for instance, every third tick is really harder than the other two, that suggests that the angle of placement of the pole pieces isn't optimal (which will be extremely annoying to fix), and there is the chance that those remaining three bolts (that are still not properly touching the bottom of the stator) are still too little in contact to transfer sufficient field to the stator. That's a tricky one to fix though. </span></p><p><span>But, I have very high confidence that those two can be solved and that this concept of 'motor in the wheel' will work. The big question really is how much more efficiency a proper motor designer can squeeze out of this envelope.</span></p><p><span>Hm… ok, so it did look like it was working, but more testing, especially with low speed turned up some issues. Some more investigating later: I've made a major mistake in calculating the angles of the blocks of poles for each of the phases, I don't know what I was thinking but for some reason I re-started the calculation for each phase from a multiple of 120 degrees. I guess I tried spreading them out across the circle nicely (which worked) but in the process messed up the link between one phase and the next (or previous one) which should always be 11.25 / 3 difference. But offsetting it by a multiple of 120 degrees totally upset that because that's implicitly adding another 1.875 degrees to each step. The really tricky part is that this means that the stators are wrong, but the individual phases can be re-used without having to go through another 10 hours of rework, if I can somehow fix the position of the stator parts without changing the relative position of the holes within them. It's worth trying to do this because of the time saved to make two completely new stator pieces. I'll just cut them into three pieces, re-use the coils (if I can keep them alive) and bolt it all to a new teststand. And it looked so good :(</span></p><p><span>Study #31, Reworked stator parts (8/Mar)</span></p><p><span>Reworking the stator was a real pain. It's super delicate when the coils aren't properly tied down and of course one of the coil hookups broke during the disassembly of the previous test stand. But I really didn't want to make another stator. So what I ended up doing is cut the connecting bits between the stator sections for each phase and reposition them on a new stand, then wire the whole thing up again.</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image35.jpg" title=""></span></p><p><span>Here you can clearly see the gaps between the stator segments for each phase. I've also used some proper cable terminators so I don't end up melting the screws right out of the base when making the connection, PLA is a thermoplast after all and heating those screws to the point where I can solder on the copper rings was a bit of a challenge. This is much easier.</span></p><p><span>After wiring it all up the moment of truth:</span></p><p><span><img alt="" src="https://jacquesmattheij.com/refreshablebraille/images/image75.jpg" title=""></span></p><p><span>And yes, this time it worked properly, it can step really nice and slow and quite fast as well and has a lot of torque and is still as quiet as before.</span></p><p><span>So, with that entry this ends the 'large wheel' section, this is my contribution to that particular way of solving the problem. Someone with manufacturing experience and much more knowledge about materials and electromagnetics should take over at this point to productize this. Prototypes are easy, products are hard and I know that to take this concept to market is going to be a pretty substantial undertaking. But from a bill-of-materials point of view this is about as cheap as you can make it, you're looking at stuff that made in quantity in the far East would sell for less than that it would take to ship it.</span></p><p><span>I will park this project for a bit now and focus on other things that need attention, then at some point in the near future, if there is still interest I'll tackle the side-by-side 3 bit wheels and finally the matrix based displays. This one, from an invention perspective is done, the rest is 'a mere matter of engineering'. Elapsed wall clock time: 16 days since the start, number of hours: I'd rather not tell…</span></p><hr><p><a href="#ftnt_ref4" id="ftnt4">[4]</a><span>&nbsp;I wonder how well that will mesh with using the very coarse approximated sine-wave, because in a normal situation you'd gradually ramp those currents up and down and here it is all or nothing, but I lack the imagination to be able to accurately predict what will happen. </span></p><p><a href="#ftnt_ref5" id="ftnt5">[5]</a><span>&nbsp;For a two-phase motor that would be two full H-bridges.</span></p><p><a href="#ftnt_ref6" id="ftnt6">[6]</a><span>&nbsp;That's exactly how micro-stepping stepper drivers work, you modulate the duty cycle of the windings to position the rotor in between stable positions. Depending on the implementation this can be fairly accurate.</span></p><p><a href="#ftnt_ref7" id="ftnt7">[7]</a><span>&nbsp;Fast enough that you wouldn't hear the pulses as sound. </span></p><p><a href="#ftnt_ref8" id="ftnt8">[8]</a><span>&nbsp;Rotate the wheel indexed to position guided by the index hole, eject a magnet from a stack of magnets in a borehole by advancing exactly 1 mm, then slide the magnet down into the hole until seated. Definitely doable, and you could similar techniques for other magnet orientations.</span></p><p><a href="#ftnt_ref9" id="ftnt9">[9]</a><span>&nbsp;Spoiler alert: I forgot to add the 11.5/3 offset to the phases so they're all exactly at 120 degrees instead of 0, 123.8333, 247.6666</span></p><div><p><a href="#cmnt_ref1" id="cmnt1">[a]</a><span>alternatief als te groot is (wel veel duurder):</span></p><p><span>https://www.supermagnete.nl/eng/disc-magnets-neodymium/disc-magnet-1mm-1mm_S-01-01-N?origin=pla&amp;kwd=&amp;adwords_nl_eng-shot&amp;gad_source=1&amp;gclid=CjwKCAiA_tuuBhAUEiwAvxkgTjJYkOFXnHoTzY839_dQU-fNihIKT5cvo3wy1ztwPYHbeTsUomIt_BoCleMQAvD_BwE</span></p></div><p><a href="#cmnt_ref2" id="cmnt2">[b]</a><span>ok, added that link to the document</span></p><p><a href="#cmnt_ref3" id="cmnt3">[c]</a><span>uit het artikel&nbsp;As of this writing, the Orbit Reader 20 is not yet ready to be sold to the general market. There simply aren't enough units to go around. However, the supply issues are being addressed, to the point where suppliers are now declaring that the Orbit Reader 20 is coming soon. And as far as I know, the price appears to be set at $449.</span></p><p><a href="#cmnt_ref4" id="cmnt4">[d]</a><span>in de orbit shop it is $699, I think that is from a while ago.</span></p><p><a href="#cmnt_ref5" id="cmnt5">[e]</a><span>re-read up to here</span></p><p><a href="#cmnt_ref6" id="cmnt6">[f]</a><span>dig up a picture</span></p></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Telefunken Datenspeicher (106 pts)]]></title>
            <link>https://retrocomputing.stackexchange.com/questions/29676/what-is-this-large-device-labelled-telefunken-datenspeicher-and-how-does-it-wo</link>
            <guid>39724161</guid>
            <pubDate>Sat, 16 Mar 2024 08:11:18 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://retrocomputing.stackexchange.com/questions/29676/what-is-this-large-device-labelled-telefunken-datenspeicher-and-how-does-it-wo">https://retrocomputing.stackexchange.com/questions/29676/what-is-this-large-device-labelled-telefunken-datenspeicher-and-how-does-it-wo</a>, See on <a href="https://news.ycombinator.com/item?id=39724161">Hacker News</a></p>
<div id="readability-page-1" class="page"><div itemprop="text">
                
<h2>It's a Demonstrator for an ALU and Memory.</h2>
<p>It's a serial ALU with registers, data path and a 6 byte storage, falling short to be a CPU.</p>
<hr>
<p>An <a href="https://en.wikipedia.org/wiki/Arithmetic_logic_unit" rel="noreferrer">ALU</a> (German as well <a href="https://de.wikipedia.org/wiki/Arithmetisch-logische_Einheit" rel="noreferrer">ALU</a>, sometimes 'Rechenwerk') is a function unit to combine two inputs, usually called A/B, according to defined rules into an output (called C).</p>
<p>The whole setup is somewhere half way between an ALU, a CPU and a computer as it additionally features registers and memory and data paths between them, but falls short of having a program sequencer or storage. Except for the memory it's best described with the German term <a href="https://de.wikipedia.org/wiki/Rechenwerk" rel="noreferrer">Rechenwerk</a> - <a href="https://en.wikipedia.org/wiki/Execution_unit" rel="noreferrer">Execution Unit</a> in today's view (although that being defined slightly different).</p>
<p>If it had an instruction unit, all of the buttons would be control lines from an instruction decode stage (<a href="https://de.wikipedia.org/wiki/Befehlsdecoder" rel="noreferrer">Befehlsdecoder</a>) (or a horizonal code word) setting the behaviour of each element for one execution cycle (<a href="https://de.wikipedia.org/wiki/Befehlszyklus#3._Befehl_ausf%C3%BChren" rel="noreferrer">Befehlsausführung</a>).</p>
<hr>
<p><strong><em>Please Note</em> All of the below are assumptions made from the pictures shown</strong> so take it with an appropriate amount of caution.</p>
<hr>
<blockquote>
<p>We found this device in our school.</p>
</blockquote>
<p>Neat, would love to have something like that at our <a href="https://blog.computeum.org/" rel="noreferrer">museum</a>.</p>
<blockquote>
<p>Does anyone know what this can do exactly, and how it could work?</p>
</blockquote>
<p>It seems like a simple Serial ALU. Operation get put in at AT/ET/EX, Data from A register or O/L and B-Register.</p>
<h2>Schematics are DIN 40700 based</h2>
<p>The best way to look up the exact function would be reading the schematics, which are printed right on top. The equations are rather straight forward as it's build from only AND, OR and FlipFlop. The schematic language is used according to DIN 40700 (*1):</p>
<p><strong><a href="https://en.wikipedia.org/wiki/AND_gate" rel="noreferrer">AND</a></strong> (<a href="https://de.wikipedia.org/wiki/Und-Gatter" rel="noreferrer">Und</a>)</p>
<p><a href="https://i.stack.imgur.com/UZQ5i.png" rel="noreferrer"><img src="https://i.stack.imgur.com/UZQ5i.png" alt="AND Gate"></a></p>
<p><strong><a href="https://en.wikipedia.org/wiki/OR_gate" rel="noreferrer">OR</a></strong> (<a href="https://de.wikipedia.org/wiki/Oder-Gatter" rel="noreferrer">Oder</a>)</p>
<p><a href="https://i.stack.imgur.com/LFm7M.png" rel="noreferrer"><img src="https://i.stack.imgur.com/LFm7M.png" alt="OR Gate"></a></p>
<p><strong><a href="https://en.wikipedia.org/wiki/Flip-flop_(electronics)" rel="noreferrer">FlipFlop</a></strong> (<a href="https://de.wikipedia.org/wiki/Flipflop" rel="noreferrer">Bistabile Kippstufe</a>)</p>
<p><a href="https://i.stack.imgur.com/5wIdJ.png" rel="noreferrer"><img src="https://i.stack.imgur.com/5wIdJ.png" alt="JK-FlipFlop"></a></p>
<p><em>(Most likely of the shown <a href="https://en.wikipedia.org/wiki/Flip-flop_(electronics)#JK_flip-flop" rel="noreferrer">JK type</a>)</em></p>
<blockquote>
<p>We managed to input values into the bit storage on the top, but nothing more. Can we calculate things by using the registers?</p>
</blockquote>
<p>As far as I can tell, yes.</p>
<blockquote>
<p>It would be already helpful to know what the symbols like AD, EX, AS,… mean. Or the dial with just 7 and 8 on it.</p>
</blockquote>
<h2>Operator Table</h2>
<p>First estimate for all buttons</p>
<ul>
<li>Top Row - <strong>Memory Access</strong>
<ul>
<li><strong><kbd>SETZEN</kbd></strong> -&gt; Wert Speichern (Set)</li>
<li><strong><kbd>A</kbd></strong>..<strong><kbd>F</kbd></strong> -&gt; Speicheradresse (Storage Address Selection)</li>
<li><strong><kbd>LÖSCHEN</kbd></strong> -&gt; Löschen (Clear)</li>
<li>Second Row - <strong>Function</strong></li>
<li>Block 1
<ul>
<li><strong><kbd>A-SP</kbd></strong> -&gt; A - Speicher (A - Storage)</li>
</ul>
</li>
<li>Block 2 - <strong>ALU Operation</strong>
<ul>
<li><strong><kbd>AD</kbd></strong> -&gt; Addition (Addition)</li>
<li><strong><kbd>ET</kbd></strong> -&gt; Et (&amp;) (See Below)</li>
<li><strong><kbd>EX</kbd></strong> -&gt; EXclusive oder (exclusive or)</li>
</ul>
</li>
<li>Block 3
<ul>
<li><strong><kbd>UMKEHREN</kbd></strong> Richtung Umkehren (Reverse Direction) (See Below)</li>
</ul>
</li>
</ul>
</li>
<li>Third Row - <strong>Register Transfer Operation</strong>
<ul>
<li>Block 1 Data - <strong>Operation on A</strong>
<ul>
<li><strong><kbd>AS</kbd></strong> -&gt; A Setzen/Speichern (Set A)</li>
<li><strong><kbd>AR</kbd></strong> -&gt; A Rückführung (Cycle A back to A)</li>
<li><strong><kbd>AB</kbd></strong> -&gt; A nach B (Move A to B)</li>
</ul>
</li>
<li>Block 2 Data - <strong>Operation on B</strong>
<ul>
<li><strong><kbd>BS</kbd></strong> -&gt; B Setzen/Speichern (Set A)</li>
<li><strong><kbd>BR</kbd></strong> -&gt; B Rückführung (Cycle B back to B)</li>
<li><strong><kbd>BA</kbd></strong> -&gt; B nach A (Move B to A)</li>
</ul>
</li>
</ul>
</li>
<li>Fourth Row
<ul>
<li>Left (Main) block - <strong>Data Input</strong>
<ul>
<li><strong><kbd>1</kbd></strong>..<strong><kbd>128</kbd></strong> -&gt; Input Data Value</li>
</ul>
</li>
<li>Right (Below Dial) - <strong>Single stepping</strong>
<ul>
<li><strong><kbd>O</kbd></strong> -&gt; Single Bit Data Input (See Below)</li>
<li><strong><kbd>L</kbd></strong> -&gt; Single Bit Data Input (")</li>
<li><strong><kbd>TAKT</kbd></strong> -&gt; Tact, one clock pulse</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong><kbd>ET</kbd></strong> is Latin for 'and' and the <a href="https://de.wikipedia.org/wiki/Et-Zeichen" rel="noreferrer">German name</a> for the '&amp;' symbol, commonly known as 'Und' (And) Symbol or 'Kaufmännisches Und' (Commercial And) or  'Firmen-Und' (Company-And) as it's often used in company names.</p>
<p><strong><kbd>UMKEHREN</kbd></strong> is 'Reverse Direction' (*2). A mystery  first. Considering it being located in the function control row and coloured black like <strong><kbd>A-SP</kbd></strong>, not white like the ALU functions, it might be about memory transfer direction. That would make sense by assuming that pressing <strong><kbd>A-SP</kbd></strong> connects lines O/L to the memory and <strong><kbd>UMKEHREN</kbd></strong> defines direction. When not pressed A transfers to memory, pressed transfers memory to A.</p>
<p>Connecting the memory for reading <em>and</em> writing at O/L als resolves why there are no other connections visible used for writing (*3). Except that the circuitry as drawn does not allow to read A at O/L. So while the operation seems plausible, the location memory writes are connected is still unclear.</p>
<p>The Dial works as clock circuit. A rotary dial emits 1..10 of pulses according to the value dialled (10 = 0). thus 7 and 8 are there to emit 7 or 8 clock pules. The other values are simply blocked as they make no sense with an 8 bit system.</p>
<p>On the main table O/L are data entry lines to feed the A register an external value. Most likely those two buttons enable loading of the value selected at the fourth row (or from memory).</p>
<p>Combined with the <strong><kbd>TAKT</kbd></strong> (tact) those buttons may work as a single step clocking instead of using the dial to handle a full 8 bit word at once. If that's true, then pressing <strong><kbd>TAKT</kbd></strong> will give a single clock pulse, while <strong><kbd>O</kbd></strong>/<strong><kbd>L</kbd></strong> can provide a single bit input value - if needed according to transfer mode setting (see above). This also explains why they are located at the dial - aka the central clock generator:)</p>
<h2>Main Table</h2>
<p>The main table is structured in three blocks:</p>
<ul>
<li>B-Register at the top</li>
<li>ALU in the middle (kind of framed by black clock lines)</li>
<li>A-Register on the bottom</li>
</ul>
<p>All logic symbols are according to DIN 40700. All connections are colour coded using</p>
<ul>
<li>Red/Green for <em>Data</em></li>
<li>Black for <em>Clock</em></li>
<li>Yellow for <em>ALU Operation</em></li>
<li>Blue for <em>Data Transfer Control</em></li>
</ul>
<p>Buttons are coloured</p>
<ul>
<li>White for Data and Control Input for ALU and Registers</li>
<li>Black for other all functions and</li>
</ul>
<p>Most of the symbols at the keyboard correspond directly to the same inputs visible on the main table, except for the register name:</p>
<ul>
<li>A-Register -&gt; Alu-Register, i.e. target for computation (and usually as well a source)</li>
<li>B-Register -&gt; Secondary value</li>
<li>U-Register -&gt; Übertrag (Carry)</li>
</ul>
<p>In addition the symbols O and L on the main board seem to correspond with the data output of the memory block, as well as the single step block at the operators panel.</p>
<h2>Memory Table</h2>
<p>The memory table seems to be an optional add-on as the main Block only marks a single external input (O/L) and no corresponding output. At least when going by schematics. Otherwise O/L could as well be used as output to memory.  Then again, mechanically the setup seems to fold into a single carrying case, right?</p>
<h2>Function</h2>
<p>The <strong>one bit ALU</strong> is formed by a network of AND/OR gates visible in the middle combining the operation (AD/ET/EX) with data input from A and B input (top 4 red/green lines below the B-register, coming from A/B registers) and a carry input (only enabled for additions).</p>
<p>C output comes from the second stage OR gates (the wide ones) and goes to the A register. A carry is created by two AND gates looking at the data value for that bit</p>
<p>The ALU works serial, one bit at a time. Each operation results in a new bit (shifted into A) and a carry value stored at U-Register to be used with the next data bit(s).</p>
<p>The <strong>A-Register</strong> holds the last result of any ALU operation and serves as A input for ALU operation. It can be feed from four sources</p>
<ul>
<li>Reload (feedback) of it's previous value (Enabled by AR)</li>
<li>Load from B (enabled by BA)</li>
<li>ALU result (lines from those wide OR-gates)</li>
<li>Load from external source (lines O/L)</li>
</ul>
<p>The later is most likely the way data is entered from console or memory. As mentioned the way (connection) data is transferred <em>to</em> memory is still unclear. It could as well work using O/L, but then the schematic is missing that part.</p>
<p>The <strong>B-register</strong> register can only be fed from the A-register or its previous value.</p>
<p>Both registers also feature <strong>Input Enable Function</strong>. Here xS (x=A or B) allows a register is to be set with a 'new' input value. This is important as serial operation is by default destructive, i.e if no 'new' value is selected the register will be cleared afterwards.</p>
<h2>Operation</h2>
<p>Operation <em>seems</em> rather straight forward, <strong>although it might need a few trials to get it right</strong>. Examples</p>
<p>Before each example/step unset all buttons.</p>
<ol>
<li><p>Load A from Keyboard</p>
<ul>
<li>Set value on <strong><kbd>1</kbd></strong>..<strong><kbd>128</kbd></strong> buttons</li>
<li>Set <strong><kbd>AS</kbd></strong> so A gets loaded</li>
<li><strong><kbd>Dial 8</kbd></strong> and enjoy</li>
</ul>
</li>
<li><p>Transfer A to B</p>
<ul>
<li>Set <strong><kbd>AB</kbd></strong></li>
<li>If the value in A is tobe retained
<ul>
<li>Set <strong><kbd>AS</kbd></strong> to enable setting of A</li>
<li>Set <strong><kbd>AR</kbd></strong> to reload A with A</li>
</ul>
</li>
<li><strong><kbd>Dial 8</kbd></strong> and watch</li>
</ul>
</li>
<li><p>Add B to A</p>
<ul>
<li>Set <strong><kbd>AD</kbd></strong> to select ALU function for addition</li>
<li>Set <strong><kbd>AS</kbd></strong> to store the result in A</li>
<li>If the value in B is to be retained
<ul>
<li>Set <strong><kbd>BS</kbd></strong> to enable setting of B</li>
<li>Set <strong><kbd>BR</kbd></strong> to reload B with B</li>
</ul>
</li>
<li><strong><kbd>Dial 8</kbd></strong> and listen</li>
</ul>
</li>
</ol>
<p>And so on...</p>
<p>Of course fun only starts by combination - like adding two numbers is done by sequence of 1,2,1,3. You're program and sequencer of this CPU, so do your job :)</p>
<p>Sounds like several very engaging class hours to analyze and document that device. Lucky kids!</p>
<hr>
<p>At that point several experiments should be done to validate above assumptions. For example storing to memory with and without  <strong><kbd>AR</kbd></strong> pressed to see if the write data is taken directly from A output or at/near O/L.</p>
<hr>
<h3>Sidenote:</h3>
<p>What I loved most is how clear and self defining the labelling is. Not just because of straight language, but equally by <em>not</em> using any self referencing technological terms - that kind of words "everyone knows", but in fact only experts in that area know - if at all - and use with laymen because of that assumption. Misuse being just a quantum leap away. Not so with this device.</p>
<hr>
<p>*1 - The symbols might be a bit unusual for people grown up using US style symbols or younger folks more familiar with those square IEC boxes. German Wiki has a <a href="https://de.wikipedia.org/wiki/Logikgatter#Typen_von_Logikgattern_und_Symbolik" rel="noreferrer">comparison table</a>.</p>
<p>*2 - Interpreting this as reversing or inverting bits doesn't make much sense, as there is no logic visible, neither for reversing nor inverting all bits. Also reversing would be 'Umdrehen', while inverting is 'Invertieren' in German</p>
<p>*3 - Too bad as it would prohibit any exchange operation.</p>
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Libraries struggle to afford e-books, seek new laws in fight with publishers (146 pts)]]></title>
            <link>https://abcnews.go.com/US/wireStory/libraries-struggle-afford-demand-books-seek-new-state-108035200</link>
            <guid>39724045</guid>
            <pubDate>Sat, 16 Mar 2024 07:47:11 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://abcnews.go.com/US/wireStory/libraries-struggle-afford-demand-books-seek-new-state-108035200">https://abcnews.go.com/US/wireStory/libraries-struggle-afford-demand-books-seek-new-state-108035200</a>, See on <a href="https://news.ycombinator.com/item?id=39724045">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-testid="prism-article-body"><p><span>HARTFORD, Conn. -- </span>Whenever bestselling author Robin Cook releases a new medical thriller, the head of the public library in West Haven knows demand for digital copies will be high. So will the price.</p><p>Like many libraries, West Haven has been grappling with the soaring costs of e-books and audiobooks. The digital titles often come with a price tag that’s far higher than what consumers pay. While one hardcover copy of Cook’s latest novel costs the library $18, it costs $55 to lease a digital copy — a price that can't be haggled with publishers.</p><p>And for that, the e-book expires after a limited time, usually after one or two years, or after 26 checkouts, whichever comes first. While e-books purchased by consumers can last into perpetuity, libraries need to renew their leased e-material.</p><p>The modestly funded West Haven Library has spent more than $12,000 over the last three years to lease just 276 additional digital titles beyond what patrons can access through a consortium of public libraries. Eighty-four of those books are no longer available. If that same amount had been spent on paper books, it would have covered about 800 titles.</p><p>“Imagine if a playground was built at a school with tax dollars, only to be taken down after two years of use," librarian Colleen Bailie said at a recent public hearing.</p><p>Publishers, however, argue the arrangement is fair considering e-book licenses for libraries allow numerous patrons to “borrow” them and the per-reader cost is much less expensive than the per-reader rate. </p><p>Librarians in several states have been pushing for legislation to rein in the costs and restrictions on electronic material, which has been growing in popularity since the COVID-19 pandemic. Patrons are stuck on long waiting lists for audio and e-books, and digital offerings are limited. </p><p>This year, lawmakers in states including Connecticut, Massachusetts, Illinois, Hawaii and New Hampshire have proposed bills aimed at closing the affordability gap. A bill was introduced in Virginia but was tabled in February.</p><p>They face strong opposition from the publishing industry, which argues the legislation undermines intellectual property values and will harm the publishing ecosystem.</p><p>“They do have a funding problem, but the answer is not to take it out of the pockets of authors and destroy the rights of creators and pass unconstitutional legislation,” said Shelley Husband, senior vice president of government affairs at the Association of American Publishers, noting how more people than ever can access e-material that might otherwise have been purchased from booksellers.</p><p> Readers across the globe borrowed 662 million e-books, audiobooks and digital magazines last year, up 19% since 2022, according to data provided by OverDrive, the main distributor of digital content for libraries and schools.</p><p>Libraries Online Inc., a Connecticut interlibrary consortium, is currently spending roughly $20,000 a month on e-books for its 38 members. Replacing expired titles consumes 20% of the consortium’s budget, said e-book committee chair, Rebecca Harlow.</p><p>“If we replaced all of the content that has expired this year, the cost would exceed our entire annual budget for e-books,” Harlow recently told lawmakers. “We have completely lost the ability to build a library collection.”</p><p>The consortium leases fewer than 30 books a month for children and 30 books a month for teens, she said.</p><p>Dumping e-books and audio books isn’t considered an option for libraries with patrons like Casey Rosseau, 53, of West Hartford, Connecticut.</p><p>Rosseau, an information technology worker, has worsening eyesight. He reads about 200 audiobooks a year using OverDrive’s Libby app on his phone, and is typically on waiting lists for months at a time for the most coveted titles.</p><p>“I’ve always gone to the library to get the latest John Grisham or the latest James Patterson (novel),” he said. “Those come out so often that you have to have really deep pockets in order to be able to afford to buy them.”</p><p>In 2021, Maryland passed a law that would have required publishers to make e-books available on “reasonable terms” to libraries if they were being offered to the general public. That was struck down by a judge in 2022, after publishers successfully argued that federal copyright law bars states from regulating publishing transactions. New York Gov. Kathy Hochul vetoed a similar measure in 2021.</p><p>Many of the latest legislative proposals try a different approach.</p><p>An Illinois bill would void contracts between libraries and publishers that include certain provisions, such as restricting a library’s right to determine loan periods for licensed electronic material. Massachusetts and Connecticut are looking at similar proposals.</p><p>“Basically, rather than telling the publishers that they have to do anything in particular, our bill would tell the libraries on what terms they can make deals with the publishers,” said Connecticut state Rep. Matt Blumenthal, a Democrat.</p><p>Husband, of the Association of American Publishers, said she sees no real difference between the overturned Maryland law and these latest efforts. Last year, organizations representing publishers, booksellers and authors formed The Protect the Creative Economy Coalition to oppose state legislation.</p><p>But Julie Holden, assistant library director for the Cranston Public Library in Rhode Island, said that without legislative change, local librarians will not only continue to face financial strain, they’ll be bogged down examining lists of expiring digital leases to decide whether they can justify spending more money to renew each one.</p><p>“Taxpayers who fund our public libraries deserve better. Way better,” she said.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Brain Waves Appear to Wash Out Waste During Sleep (288 pts)]]></title>
            <link>https://jamanetwork.com/journals/jama/fullarticle/2816616</link>
            <guid>39723704</guid>
            <pubDate>Sat, 16 Mar 2024 06:01:07 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://jamanetwork.com/journals/jama/fullarticle/2816616">https://jamanetwork.com/journals/jama/fullarticle/2816616</a>, See on <a href="https://news.ycombinator.com/item?id=39723704">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-userhasaccess="True">
    

            <p>Many important cellular functions occur during sleep, including the brain’s removal of waste and toxins. However, researchers previously lacked an understanding of the mechanisms behind this complex process. Now, research involving mice <a href="https://doi.org/10.1038/s41586-024-07108-6">recently published</a> in <i>Nature</i> suggests that brain waves are responsible for the self-cleansing.</p>            <p>Researchers observed neurons in the brains of sleeping mice. As neurons fired electrical signals, they acted as coordinated pumps, producing rhythmic waves that appeared to flush cerebrospinal fluid through brain tissue, washing out waste. After the researchers silenced certain areas of the brain to stop the waves, cerebrospinal fluid lost the ability to flow, leaving detritus in place.</p>            <p>First author Li-Feng Jiang-Xie, PhD, of the Washington University School of Medicine, noted in a <a href="https://www.eurekalert.org/news-releases/1035658">press release</a> that this knowledge has potential implications for neurological conditions such as Alzheimer disease and Parkinson disease, in which the accumulation of metabolic waste and “junk proteins” can lead to neurodegeneration.</p>            
                        <div>
                                <p><a href="#top" data-tab-toggle=".tab-nav-full-text">Back to top</a></p><p>
                                Article Information
                            </p>
                        </div>
<p><strong>Published Online:</strong> March 15, 2024. doi:10.1001/jama.2024.2077</p>

</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Reddit's Sale of User Data for AI Training Draws FTC Investigation (115 pts)]]></title>
            <link>https://www.wired.com/story/reddits-sale-user-data-ai-training-draws-ftc-investigation/</link>
            <guid>39722836</guid>
            <pubDate>Sat, 16 Mar 2024 02:35:33 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.wired.com/story/reddits-sale-user-data-ai-training-draws-ftc-investigation/">https://www.wired.com/story/reddits-sale-user-data-ai-training-draws-ftc-investigation/</a>, See on <a href="https://news.ycombinator.com/item?id=39722836">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-journey-hook="client-content" data-testid="BodyWrapper"><p>The Google deal was one of <a href="https://www.wired.com/story/inside-reddit-protest-ipo/">a “small number” of data licensing wins</a> that Reddit has been pitching to investors as it seeks to drum up interest for shares being sold in its IPO. Reddit CEO Steve Huffman in the investor pitch described the company’s data as invaluable. “We expect our data advantage and intellectual property to continue to be a key element in the training of future” AI systems, he wrote.</p><p>In <a data-offer-url="https://blog.google/inside-google/company-announcements/expanded-reddit-partnership/" data-event-click="{&quot;element&quot;:&quot;ExternalLink&quot;,&quot;outgoingURL&quot;:&quot;https://blog.google/inside-google/company-announcements/expanded-reddit-partnership/&quot;}" href="https://blog.google/inside-google/company-announcements/expanded-reddit-partnership/" rel="noopener" target="_blank">a blog post</a> last month about the Reddit AI deal, Google vice president Rajan Patel said tapping the service’s data would provide valuable new information, without being specific about its uses. “Google will now have efficient and structured access to fresher information, as well as enhanced signals that will help us better understand Reddit content and display, train on, and otherwise use it in the most accurate and relevant ways,” Patel wrote.</p><p>The FTC had previously shown concern about how data gets passed around in the AI market. In January, the agency announced it was requesting information from Microsoft and its partner and ChatGPT developer OpenAI about their multibillion-dollar relationship. Amazon, Google, and AI chatbot maker Anthropic were also questioned about their own partnerships, the FTC said. The agency’s chair, Lina Khan, described its concern as being whether the partnerships between big companies and upstarts would lead to unfair competition.</p><p>Reddit has been licensing data to other companies for a number of years, mostly to help them understand what people are saying about them online. Researchers and software developers have used Reddit data to study online behavior and build add-ons for the platform. More recently, Reddit has contemplated selling data to help algorithmic traders looking for an edge on Wall Street.</p><p>Licensing for AI-related purposes is a newer line of business, one Reddit launched after it became clear that the conversations it hosts helped train up the AI models behind chatbots including ChatGPT and Gemini. Reddit last July introduced fees for large-scale access to user posts and comments, saying its content should not be plundered for free.</p><p>That move had the consequence of shutting down an ecosystem of free apps and add ons for reading or enhancing Reddit. Some users staged a rebellion, shutting down parts of Reddit for days. The potential for further user protests had been one of the main risks the company disclosed to potential investors ahead of its trading debut expected next Thursday—until the FTC letter arrived.</p><p><em>Updated March 15, 2024, 8 pm EDT: This article was updated to disclose that Advance, owner of WIRED's publisher Condé Nast, has a stake in Reddit.</em></p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Is modern mass media a mind prison? (107 pts)]]></title>
            <link>https://jasonpargin.substack.com/p/is-modern-mass-media-a-mind-prison</link>
            <guid>39722013</guid>
            <pubDate>Sat, 16 Mar 2024 00:07:37 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://jasonpargin.substack.com/p/is-modern-mass-media-a-mind-prison">https://jasonpargin.substack.com/p/is-modern-mass-media-a-mind-prison</a>, See on <a href="https://news.ycombinator.com/item?id=39722013">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><article><div dir="auto"><p><strong>WARNING: The following images are stupid and tragic and you will only find them funny if you are a bad person, like me.</strong></p><p><span>These are screengrabs from a Qanon hangout where users are complaining that </span><a href="https://twitter.com/QOrigins/status/1763656087184736585" rel="">their loved ones have all abandoned them</a><span>:</span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe559213e-0e57-44da-aa0c-7f354f0d9929_502x562.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe559213e-0e57-44da-aa0c-7f354f0d9929_502x562.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe559213e-0e57-44da-aa0c-7f354f0d9929_502x562.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe559213e-0e57-44da-aa0c-7f354f0d9929_502x562.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe559213e-0e57-44da-aa0c-7f354f0d9929_502x562.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe559213e-0e57-44da-aa0c-7f354f0d9929_502x562.png" width="502" height="562" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/e559213e-0e57-44da-aa0c-7f354f0d9929_502x562.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:562,&quot;width&quot;:502,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:126361,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe559213e-0e57-44da-aa0c-7f354f0d9929_502x562.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe559213e-0e57-44da-aa0c-7f354f0d9929_502x562.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe559213e-0e57-44da-aa0c-7f354f0d9929_502x562.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe559213e-0e57-44da-aa0c-7f354f0d9929_502x562.png 1456w" sizes="100vw" fetchpriority="high"></picture></div></a></figure></div><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F40b9800d-0056-45e7-8631-5865f8ac6bee_502x250.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F40b9800d-0056-45e7-8631-5865f8ac6bee_502x250.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F40b9800d-0056-45e7-8631-5865f8ac6bee_502x250.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F40b9800d-0056-45e7-8631-5865f8ac6bee_502x250.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F40b9800d-0056-45e7-8631-5865f8ac6bee_502x250.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F40b9800d-0056-45e7-8631-5865f8ac6bee_502x250.png" width="502" height="250" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/40b9800d-0056-45e7-8631-5865f8ac6bee_502x250.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:250,&quot;width&quot;:502,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:67428,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F40b9800d-0056-45e7-8631-5865f8ac6bee_502x250.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F40b9800d-0056-45e7-8631-5865f8ac6bee_502x250.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F40b9800d-0056-45e7-8631-5865f8ac6bee_502x250.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F40b9800d-0056-45e7-8631-5865f8ac6bee_502x250.png 1456w" sizes="100vw"></picture></div></a></figure></div><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa272fd15-8440-4f3a-8c85-cd304be8fefc_502x322.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa272fd15-8440-4f3a-8c85-cd304be8fefc_502x322.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa272fd15-8440-4f3a-8c85-cd304be8fefc_502x322.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa272fd15-8440-4f3a-8c85-cd304be8fefc_502x322.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa272fd15-8440-4f3a-8c85-cd304be8fefc_502x322.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa272fd15-8440-4f3a-8c85-cd304be8fefc_502x322.png" width="502" height="322" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/a272fd15-8440-4f3a-8c85-cd304be8fefc_502x322.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:322,&quot;width&quot;:502,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:95274,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa272fd15-8440-4f3a-8c85-cd304be8fefc_502x322.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa272fd15-8440-4f3a-8c85-cd304be8fefc_502x322.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa272fd15-8440-4f3a-8c85-cd304be8fefc_502x322.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa272fd15-8440-4f3a-8c85-cd304be8fefc_502x322.png 1456w" sizes="100vw"></picture></div></a></figure></div><p><span>And not to </span><em>totally </em><span>change the subject, but I unscientifically asked my Twitter followers if they’d stopped speaking to any family members due to a difference in political views and almost 44% said they had:</span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe43e8fc2-2ca1-4221-94bd-f52682293337_504x344.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe43e8fc2-2ca1-4221-94bd-f52682293337_504x344.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe43e8fc2-2ca1-4221-94bd-f52682293337_504x344.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe43e8fc2-2ca1-4221-94bd-f52682293337_504x344.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe43e8fc2-2ca1-4221-94bd-f52682293337_504x344.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe43e8fc2-2ca1-4221-94bd-f52682293337_504x344.png" width="504" height="344" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/e43e8fc2-2ca1-4221-94bd-f52682293337_504x344.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:344,&quot;width&quot;:504,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:15333,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe43e8fc2-2ca1-4221-94bd-f52682293337_504x344.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe43e8fc2-2ca1-4221-94bd-f52682293337_504x344.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe43e8fc2-2ca1-4221-94bd-f52682293337_504x344.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe43e8fc2-2ca1-4221-94bd-f52682293337_504x344.png 1456w" sizes="100vw"></picture></div></a></figure></div><p>This sounds like a great time to talk about the one huge conspiracy theory that I secretly believe, so buckle up:</p><p><em><strong><span>Before we start, my next novel is up for pre-order! If you want a signed hardcover you can only </span><a href="https://www.parnassusbooks.net/blackbox" rel="">get them here</a><span>. All the other buy links, including audio, </span><a href="https://static.macmillan.com/static/smp/starting-to-worry-about/" rel="">are right here</a><span>. If you want to read the first two chapters to get a sense of what you’re buying, </span><a href="https://read.macmillan.com/lp/im-starting-to-worry-about-this-black-box-excerpt/" rel="">here you go</a><span>.</span></strong></em></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2de2f229-6b97-4d1d-b986-8e66fee6ed00_350x522.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2de2f229-6b97-4d1d-b986-8e66fee6ed00_350x522.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2de2f229-6b97-4d1d-b986-8e66fee6ed00_350x522.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2de2f229-6b97-4d1d-b986-8e66fee6ed00_350x522.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2de2f229-6b97-4d1d-b986-8e66fee6ed00_350x522.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2de2f229-6b97-4d1d-b986-8e66fee6ed00_350x522.png" width="350" height="522" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/2de2f229-6b97-4d1d-b986-8e66fee6ed00_350x522.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:522,&quot;width&quot;:350,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:164641,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2de2f229-6b97-4d1d-b986-8e66fee6ed00_350x522.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2de2f229-6b97-4d1d-b986-8e66fee6ed00_350x522.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2de2f229-6b97-4d1d-b986-8e66fee6ed00_350x522.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2de2f229-6b97-4d1d-b986-8e66fee6ed00_350x522.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>The first thing you need to understand is that the alienation the Qanon types endure is a feature, not a bug. </p><p>This is the same mechanism that allows cults to survive, a technique experts call, “Encourage the members to act like weird assholes so that nobody else will want to be friends with them.” It is necessary, because social isolation keeps fragile beliefs intact. This is why political outrage influencers have always trained their followers to repeat talking points in the most off-putting, dehumanizing tone possible.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb17ddb80-623d-429b-a117-99f1b0b09d21_400x617.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb17ddb80-623d-429b-a117-99f1b0b09d21_400x617.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb17ddb80-623d-429b-a117-99f1b0b09d21_400x617.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb17ddb80-623d-429b-a117-99f1b0b09d21_400x617.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb17ddb80-623d-429b-a117-99f1b0b09d21_400x617.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb17ddb80-623d-429b-a117-99f1b0b09d21_400x617.png" width="400" height="617" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/b17ddb80-623d-429b-a117-99f1b0b09d21_400x617.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:617,&quot;width&quot;:400,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:489997,&quot;alt&quot;:&quot;The cover of Ann Coulter's book, \&quot;How to Talk to a Liberal (if you must)\&quot;&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="The cover of Ann Coulter's book, &quot;How to Talk to a Liberal (if you must)&quot;" title="The cover of Ann Coulter's book, &quot;How to Talk to a Liberal (if you must)&quot;" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb17ddb80-623d-429b-a117-99f1b0b09d21_400x617.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb17ddb80-623d-429b-a117-99f1b0b09d21_400x617.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb17ddb80-623d-429b-a117-99f1b0b09d21_400x617.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb17ddb80-623d-429b-a117-99f1b0b09d21_400x617.png 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>For example, this was 20 years ago</figcaption></figure></div><p><span>Knowing this, </span><strong>we should be suspicious of </strong><em><strong>anyone</strong></em><strong> who implies that cutting off loved ones is a virtue</strong><span>. It tends to be a method of control.</span></p><p><span>Now </span><em>obviously</em><span> only a true bastard would suggest that, say, a trans teenager should be forced to spend time around her openly transphobic father, or that anyone owes it to their racist grandpa to listen to his rants about how Trump’s border wall should include sniper nests. Even if they’re just parroting something they saw on Facebook, some positions are less about policy preferences and more about an ugliness in the heart.</span></p><p><em>And</em><span>, also, at the same time, it is not at all clear at exactly what point you stop cutting people off. You avoid the racist granddad, but what about the non-racist sister who herself remains close with the old man? Isn’t her continued relationship a betrayal, a way of condoning and thus perpetuating the bigotry?</span></p><p><a href="https://www.pewresearch.org/short-reads/2020/04/24/most-democrats-who-are-looking-for-a-relationship-would-not-consider-dating-a-trump-voter/" rel="">Something like seven in ten Democrats say they wouldn’t date a Trump supporter</a><span>, but would they date the best friend of a Trump supporter? How about a lovely, kind-hearted woman who is not herself homophobic but whose church calls gay marriage a sin? The internet is lousy with posts about which books on a partner’s shelf </span><a href="https://www.quora.com/What-book-is-an-immediate-red-flag-for-you-when-someone-says-it-s-their-favorite" rel="">are “red flags”</a><span>, along with </span><a href="https://www.themarysue.com/color-us-shocked-most-women-dont-want-to-date-joe-rogan-fans/" rel="">what podcasts they listen to</a><span> and what </span><a href="https://www.buzzfeed.com/angelaandaloro/red-flag-tv-movie-characters" rel="">movies they watch</a><span>. We are told that good people create filters around themselves to strain out the undesirables.</span></p><p>If I seem suspicious of this trend, it’s because there’s a larger context here that we cannot ignore…</p><p>Quick, what do the following have in common:</p><p><em><a href="https://www.foxnews.com/us/cities-across-country-perfect-storm-crimes-carjackings-spike-higher-2020-levels" rel="">Fox News</a></em><a href="https://www.foxnews.com/us/cities-across-country-perfect-storm-crimes-carjackings-spike-higher-2020-levels" rel=""> reports</a><span> about a wave of carjackings by out-of-control youths;</span></p><p><span>Endless </span><a href="https://twitter.com/search?q=yelled%20at%20for%20wearing%20covid%20mask&amp;src=typed_query&amp;f=top" rel="">Twitter threads</a><span> from users who were accosted by strangers about their Covid mask usage;</span></p><p><span>Countless </span><a href="https://www.reddit.com/r/LetsNotMeet/comments/eijo77/tinder_nightmare/" rel="">Reddit posts</a><span> about Tinder dates turning out to be  psychopaths;</span></p><p><a href="https://www.refinery29.com/en-gb/overcoming-the-ick" rel="">A massively viral TikTok trend</a><span> in which young people declare that certain totally innocuous behaviors give them “the ick”, a visceral disgust that justifies rejecting the offending person forever.</span></p><p>I believe what they have in common is that, intentionally or not, they all inevitably lead the audience to the same conclusion:</p><p><em><strong>In-person interaction is hazardous to your body, mind and reputation. The only truly safe space is at home, in front of a screen.&nbsp;</strong></em></p><p>This is the one conspiracy theory I truly believe, that mass media’s relentless “stranger danger” propaganda serves the same purpose as a cult’s rules against fraternizing with the heretics. And it’s the worst kind of conspiracy in that I don’t think the conspirators have any idea what they’re doing. </p><p><span>Broadcast news has known for 70 years that ratings go up when they shriek that the streets are full of rapists and murderers, so that’s what they shriek. Creating a generation of viewers too scared to go outside at night or to let their children go </span><em>anywhere</em><span> unsupervised was just a side effect. You know, the same as how the oil companies weren’t </span><em>trying </em><span>to make the planet warmer, but…</span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd521fe39-bbae-4c38-94aa-958c3111a7aa_500x332.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd521fe39-bbae-4c38-94aa-958c3111a7aa_500x332.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd521fe39-bbae-4c38-94aa-958c3111a7aa_500x332.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd521fe39-bbae-4c38-94aa-958c3111a7aa_500x332.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd521fe39-bbae-4c38-94aa-958c3111a7aa_500x332.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd521fe39-bbae-4c38-94aa-958c3111a7aa_500x332.png" width="500" height="332" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/d521fe39-bbae-4c38-94aa-958c3111a7aa_500x332.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:332,&quot;width&quot;:500,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:78473,&quot;alt&quot;:&quot;A screen grab from twitter of a user saying that kids should not be allowed to go on sleepovers&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="A screen grab from twitter of a user saying that kids should not be allowed to go on sleepovers" title="A screen grab from twitter of a user saying that kids should not be allowed to go on sleepovers" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd521fe39-bbae-4c38-94aa-958c3111a7aa_500x332.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd521fe39-bbae-4c38-94aa-958c3111a7aa_500x332.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd521fe39-bbae-4c38-94aa-958c3111a7aa_500x332.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd521fe39-bbae-4c38-94aa-958c3111a7aa_500x332.png 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>This was followed by a whole thread of stories about horrific crimes occurring on sleepovers</figcaption></figure></div><p><span>I assume you’ve seen me post this data before but just so you’re caught up: Yes, we are </span><a href="https://www.washingtonpost.com/business/2019/03/29/share-americans-not-having-sex-has-reached-record-high/" rel="">having less sex than ever</a><span>...</span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F22910836-5a33-4892-8995-3d925435495e_502x383.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F22910836-5a33-4892-8995-3d925435495e_502x383.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F22910836-5a33-4892-8995-3d925435495e_502x383.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F22910836-5a33-4892-8995-3d925435495e_502x383.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F22910836-5a33-4892-8995-3d925435495e_502x383.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F22910836-5a33-4892-8995-3d925435495e_502x383.png" width="502" height="383" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/22910836-5a33-4892-8995-3d925435495e_502x383.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:383,&quot;width&quot;:502,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:51468,&quot;alt&quot;:&quot;A graph showing that sexlessness among young men has quadrupled in the last 30 years&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="A graph showing that sexlessness among young men has quadrupled in the last 30 years" title="A graph showing that sexlessness among young men has quadrupled in the last 30 years" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F22910836-5a33-4892-8995-3d925435495e_502x383.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F22910836-5a33-4892-8995-3d925435495e_502x383.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F22910836-5a33-4892-8995-3d925435495e_502x383.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F22910836-5a33-4892-8995-3d925435495e_502x383.png 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption></figcaption></figure></div><p><span>... and that’s for the same reason </span><a href="https://www.npr.org/2024/02/12/1229891045/police-crime-baltimore-san-francisco-minneapolis-murder-statistics" rel="">violent crime has fallen</a><span>, which is that there are certain things you can’t do if you don’t leave the house and </span><a href="https://www.theatlantic.com/ideas/archive/2024/02/america-decline-hanging-out/677451/" rel="">many of us have stopped doing that</a><span>.</span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9914de83-92a8-48f8-8191-8d611cce976c_502x363.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9914de83-92a8-48f8-8191-8d611cce976c_502x363.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9914de83-92a8-48f8-8191-8d611cce976c_502x363.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9914de83-92a8-48f8-8191-8d611cce976c_502x363.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9914de83-92a8-48f8-8191-8d611cce976c_502x363.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9914de83-92a8-48f8-8191-8d611cce976c_502x363.png" width="502" height="363" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/9914de83-92a8-48f8-8191-8d611cce976c_502x363.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:363,&quot;width&quot;:502,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:35064,&quot;alt&quot;:&quot;A graph showing that the trend of teens hanging out with friends has fallen dramatically since the 1970s&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="A graph showing that the trend of teens hanging out with friends has fallen dramatically since the 1970s" title="A graph showing that the trend of teens hanging out with friends has fallen dramatically since the 1970s" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9914de83-92a8-48f8-8191-8d611cce976c_502x363.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9914de83-92a8-48f8-8191-8d611cce976c_502x363.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9914de83-92a8-48f8-8191-8d611cce976c_502x363.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9914de83-92a8-48f8-8191-8d611cce976c_502x363.png 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>Yes, the crash happens exactly when smartphones become ubiquitous</figcaption></figure></div><p><a href="https://www.washingtonpost.com/business/2019/03/22/americans-are-getting-more-miserable-theres-data-prove-it/" rel="">Also down: happiness</a><span>.</span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b511f03-eaf2-4748-a1c5-6a8a7ab4d9ad_502x418.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b511f03-eaf2-4748-a1c5-6a8a7ab4d9ad_502x418.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b511f03-eaf2-4748-a1c5-6a8a7ab4d9ad_502x418.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b511f03-eaf2-4748-a1c5-6a8a7ab4d9ad_502x418.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b511f03-eaf2-4748-a1c5-6a8a7ab4d9ad_502x418.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b511f03-eaf2-4748-a1c5-6a8a7ab4d9ad_502x418.png" width="502" height="418" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/4b511f03-eaf2-4748-a1c5-6a8a7ab4d9ad_502x418.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:418,&quot;width&quot;:502,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:56502,&quot;alt&quot;:&quot;A graph showing American self-reported happiness has been dropping since the early 1990s&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="A graph showing American self-reported happiness has been dropping since the early 1990s" title="A graph showing American self-reported happiness has been dropping since the early 1990s" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b511f03-eaf2-4748-a1c5-6a8a7ab4d9ad_502x418.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b511f03-eaf2-4748-a1c5-6a8a7ab4d9ad_502x418.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b511f03-eaf2-4748-a1c5-6a8a7ab4d9ad_502x418.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F4b511f03-eaf2-4748-a1c5-6a8a7ab4d9ad_502x418.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>I’m not saying that teens have stopped having sex because they’re too busy canceling each other over their political views, I’m saying that a whole bunch of different currents are pulling us in the same direction. This is what the system “wants” in the sense that entire multibillion dollar industries have arisen to fill social voids. DoorDash doesn’t make a dime if you go out and eat with friends, Uber would have to dissolve if everyone had a buddy who could drive them to the airport and a whole bunch of influencers would have to get real jobs if it wasn’t for a generation of lonely kids willing to settle for parasocial friendships.</p><p><span>Sure, there are still forces pushing the other direction. Bars and casinos and strip clubs still exist in the same way that newspapers and phone booths still exist, in that they are steadily losing because they represent the more expensive, dirtier and less convenient option. For the winning side—Team Screen—there was just one problem, which is that a lack of friends (or “popularity”) has typically been the most shameful trait in society. But what if it turned out that </span><em>enjoying shallow distractions in solitude was the most logical, ethical option</em><span>? </span></p><p><span>It seems to me that whenever a system wants to pacify the public, the one surefire method is to paint the lazy choice as heroic. Thus, if you say out loud that you think it’s probably bad if a sixteen year-old spends two hours a day watching porn, a chorus of the loudest voices will reply that you must hate sex workers, that you clearly favor suppressing expression and hold puritanical views of the body. “That’s right,” says the dude with 250 tabs open in his browser. “If you think about it, I </span><em>am</em><span> advancing feminism by masturbating alone, in the dark, to a video called ‘Horny Schoolgirl Gets Punished By Hornier Gym Coach.’”</span></p><p><span>I know what you’re all thinking: “Jason, you make your living on the goddamned internet, half your income is from </span><a href="https://www.tiktok.com/@jasonkpargin" rel="">your bafflingly popular TikTok account</a><span>. Put on your crown, King Hypocrite! It’s just a ring of dog turds we painted gold.”&nbsp;</span></p><p><span>My friends, it is so much worse than you know. I was alienating classmates and co-workers while you were still a gleam in your daddy’s eye. This is me reporting to you from the scene, someone who spent the 90s beating </span><em>Donkey Kong Country</em><span> over and over while the other kids were at the lake. </span></p><p><span>And what I remember from those days is that this kind of loneliness is counterintuitive, in that the longer I went without friendship, </span><em>the higher my standards for friendship became</em><span>. A single awkward conversation with another kid was enough to make me avoid them forever. These days, you see that everywhere, the filter designed to let nothing through. No one has a higher bar for female beauty than the incel, as no real woman looks like their OnlyFans girls and none can offer their frictionless one-way flow of pleasure. “I’ll stop being alone as soon as I can find a companion who literally never makes demands or disagrees!” </span></p><p>I have spent the last 30 years watching the entire culture slowly come to adopt the impossibly fine people-filter ethos. Hugely popular sitcoms were based entirely on characters finding petty-but-relatable reasons to harshly judge friends, acquaintances and strangers.&nbsp;</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26717a42-c6d0-4e4e-8c8c-73cb052ec960_384x218.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26717a42-c6d0-4e4e-8c8c-73cb052ec960_384x218.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26717a42-c6d0-4e4e-8c8c-73cb052ec960_384x218.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26717a42-c6d0-4e4e-8c8c-73cb052ec960_384x218.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26717a42-c6d0-4e4e-8c8c-73cb052ec960_384x218.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26717a42-c6d0-4e4e-8c8c-73cb052ec960_384x218.png" width="384" height="218" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/26717a42-c6d0-4e4e-8c8c-73cb052ec960_384x218.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:218,&quot;width&quot;:384,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:110479,&quot;alt&quot;:&quot;A screenshot from Seinfeld, of Elaine yelling at somebody&quot;,&quot;title&quot;:&quot;&quot;,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="A screenshot from Seinfeld, of Elaine yelling at somebody" title="A screenshot from Seinfeld, of Elaine yelling at somebody" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26717a42-c6d0-4e4e-8c8c-73cb052ec960_384x218.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26717a42-c6d0-4e4e-8c8c-73cb052ec960_384x218.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26717a42-c6d0-4e4e-8c8c-73cb052ec960_384x218.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F26717a42-c6d0-4e4e-8c8c-73cb052ec960_384x218.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>And then came the rise of “cringe” comedy, relentlessly hammering home the visceral horror of inescapable awkward social situations.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f9f9b03-01c8-4929-b5fc-924ae3a84cba_400x264.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f9f9b03-01c8-4929-b5fc-924ae3a84cba_400x264.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f9f9b03-01c8-4929-b5fc-924ae3a84cba_400x264.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f9f9b03-01c8-4929-b5fc-924ae3a84cba_400x264.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f9f9b03-01c8-4929-b5fc-924ae3a84cba_400x264.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f9f9b03-01c8-4929-b5fc-924ae3a84cba_400x264.png" width="400" height="264" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/0f9f9b03-01c8-4929-b5fc-924ae3a84cba_400x264.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:264,&quot;width&quot;:400,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:269095,&quot;alt&quot;:&quot;A screen shot from the BBC version of The Office, of David Brent being cringe&quot;,&quot;title&quot;:&quot;&quot;,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="A screen shot from the BBC version of The Office, of David Brent being cringe" title="A screen shot from the BBC version of The Office, of David Brent being cringe" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f9f9b03-01c8-4929-b5fc-924ae3a84cba_400x264.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f9f9b03-01c8-4929-b5fc-924ae3a84cba_400x264.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f9f9b03-01c8-4929-b5fc-924ae3a84cba_400x264.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f9f9b03-01c8-4929-b5fc-924ae3a84cba_400x264.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>And of course the most popular dramas were cop procedurals that took place in a society that’s 40% bloodthirsty deviants. </p><p><span>By 2012 or so, Tumblr was producing endless discussion about which relationships were “problematic.” What’s </span><a href="https://www.thethings.com/celebrity-couples-with-disturbing-age-gaps" rel="">an unacceptable age gap</a><span> between partners? Or income gap? Are romantic co-worker relationships </span><em>ever</em><span> appropriate? Isn’t </span><em>any</em><span> power imbalance in a relationship coercive and suspicious? Speaking of which, be wary of</span><a href="https://www.independent.co.uk/voices/johnny-depp-amber-heard-trial-brexit-b2096704.html" rel=""> befriending anyone who disagrees about the Johnny Depp vs Amber Heard case</a><span>, that’s a major red flag. </span></p><p><span>Remember: novelty is the lifeblood of media. That means the stakes have to keep rising higher and higher, toward greater outrage, more grotesque cultural enemies and endless </span><a href="https://www.marketwatch.com/story/single-iphone-owners-dont-want-to-date-someone-with-an-android-phone-2017-02-07" rel="">new categories of undesirables</a><span>.</span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb247401d-ffa3-42a0-8fcb-6ae1e92ad653_502x291.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb247401d-ffa3-42a0-8fcb-6ae1e92ad653_502x291.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb247401d-ffa3-42a0-8fcb-6ae1e92ad653_502x291.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb247401d-ffa3-42a0-8fcb-6ae1e92ad653_502x291.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb247401d-ffa3-42a0-8fcb-6ae1e92ad653_502x291.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb247401d-ffa3-42a0-8fcb-6ae1e92ad653_502x291.png" width="502" height="291" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/b247401d-ffa3-42a0-8fcb-6ae1e92ad653_502x291.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:291,&quot;width&quot;:502,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:39304,&quot;alt&quot;:&quot;A headline showing that iphone users say they won't date Android users&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="A headline showing that iphone users say they won't date Android users" title="A headline showing that iphone users say they won't date Android users" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb247401d-ffa3-42a0-8fcb-6ae1e92ad653_502x291.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb247401d-ffa3-42a0-8fcb-6ae1e92ad653_502x291.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb247401d-ffa3-42a0-8fcb-6ae1e92ad653_502x291.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb247401d-ffa3-42a0-8fcb-6ae1e92ad653_502x291.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>The arguments come from radically different directions and rely on wildly different rationale, but they all agree that we must err on the side of avoidance. </p><p>This is getting kind of dark, let’s pause for a music break:</p><div id="youtube2-sLLQFLXz6VE" data-attrs="{&quot;videoId&quot;:&quot;sLLQFLXz6VE&quot;,&quot;startTime&quot;:null,&quot;endTime&quot;:null}" data-component-name="Youtube2ToDOM"><p><iframe src="https://www.youtube-nocookie.com/embed/sLLQFLXz6VE?rel=0&amp;autoplay=0&amp;showinfo=0&amp;enablejsapi=0" frameborder="0" loading="lazy" gesture="media" allow="autoplay; fullscreen" allowautoplay="true" allowfullscreen="true" width="728" height="409"></iframe></p></div><p>“Hold on,” some of you are saying, “how can you insist that pop culture drives us relentlessly into the arms of an all-screens lifestyle when so many movies are specifically about how screens are bad? A quarter century ago, every third film was about how tech and cubicles were disconnecting us from what made us human...&nbsp;</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe5f1ca65-11ef-4be7-a66b-da6eb405cbf4_551x932.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe5f1ca65-11ef-4be7-a66b-da6eb405cbf4_551x932.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe5f1ca65-11ef-4be7-a66b-da6eb405cbf4_551x932.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe5f1ca65-11ef-4be7-a66b-da6eb405cbf4_551x932.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe5f1ca65-11ef-4be7-a66b-da6eb405cbf4_551x932.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe5f1ca65-11ef-4be7-a66b-da6eb405cbf4_551x932.png" width="551" height="932" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/e5f1ca65-11ef-4be7-a66b-da6eb405cbf4_551x932.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:932,&quot;width&quot;:551,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:885165,&quot;alt&quot;:&quot;Screenshots from Fight Club, The Matrix, Office Space and American Beauty of the protagonists looking sad in cubicles&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="Screenshots from Fight Club, The Matrix, Office Space and American Beauty of the protagonists looking sad in cubicles" title="Screenshots from Fight Club, The Matrix, Office Space and American Beauty of the protagonists looking sad in cubicles" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe5f1ca65-11ef-4be7-a66b-da6eb405cbf4_551x932.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe5f1ca65-11ef-4be7-a66b-da6eb405cbf4_551x932.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe5f1ca65-11ef-4be7-a66b-da6eb405cbf4_551x932.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe5f1ca65-11ef-4be7-a66b-da6eb405cbf4_551x932.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p><span>...and that was so long ago that at least two of those films had key scenes take place in phone booths. </span><em>Wall-E</em><span> even predicted a comfortable, sexless dystopia.”</span></p><p>The trick these stories pull is subtle but crucial to understand: The world of the screens, they say, is boring and tedious. Breaking free means embracing the exciting, sexy danger of Real Life.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb04c1db-d368-4089-a921-8dc05090224f_450x672.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb04c1db-d368-4089-a921-8dc05090224f_450x672.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb04c1db-d368-4089-a921-8dc05090224f_450x672.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb04c1db-d368-4089-a921-8dc05090224f_450x672.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb04c1db-d368-4089-a921-8dc05090224f_450x672.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb04c1db-d368-4089-a921-8dc05090224f_450x672.png" width="450" height="672" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/eb04c1db-d368-4089-a921-8dc05090224f_450x672.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:672,&quot;width&quot;:450,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:691248,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb04c1db-d368-4089-a921-8dc05090224f_450x672.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb04c1db-d368-4089-a921-8dc05090224f_450x672.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb04c1db-d368-4089-a921-8dc05090224f_450x672.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb04c1db-d368-4089-a921-8dc05090224f_450x672.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p><span>This accurately portrays the situation about as well as </span><em>Spider-Man</em><span> accurately portrays the effects of a spider bite. Media will always be more entertaining than real life for the same reason a Frappuccino will always be more delicious than creek water: it was specifically engineered to be so.&nbsp;It’s also the reason the Qanon conspiracy will always be more entertaining to think about than the boring, run-of-the-mill corruption in the headlines.</span></p><p>I actually believe this to be the single most successful technique for social control in the 21st Century, convincing those most eager for change that it can only come through thrilling and glorious action, a battle of pure good versus pure evil. “Why bother voting on this boring bond issue? I’m not leaving the house for anything less than a war to overthrow capitalism! And don’t ask me to hang out unless you agree, I don’t befriend class traitors.”</p><p><span>The truth that the system is so afraid of us learning—and that we’re happy to let them keep from us—is that actually changing the world requires a stunning amount of tedious, quiet work, of dry reading and learning and organizing and slowly changing obstinate minds. Mathematically, this includes engaging at least </span><em>some </em><span>minds you previously considered ignorant or hateful. And this persuasion occurs, not through flashy performative acts, but by slowly earning trust until your opponents </span><em>want </em><span>to agree with you. </span></p><p>The system wants you to equate tedious work with neutered slavery and to equate liberation with sexy drama because it knows the opposite is true, that if you restrict yourself to flashy and dramatic solutions, you will be exactly as useful to the status quo as any other sedentary daydreamer. There is a reason the system has no problem feeding you a steady stream of fantasies about violently overthrowing it.&nbsp;</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb2a8f1a5-8735-4b87-b5ff-ca9eff75cc9b_350x525.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb2a8f1a5-8735-4b87-b5ff-ca9eff75cc9b_350x525.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb2a8f1a5-8735-4b87-b5ff-ca9eff75cc9b_350x525.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb2a8f1a5-8735-4b87-b5ff-ca9eff75cc9b_350x525.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb2a8f1a5-8735-4b87-b5ff-ca9eff75cc9b_350x525.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb2a8f1a5-8735-4b87-b5ff-ca9eff75cc9b_350x525.png" width="350" height="525" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/b2a8f1a5-8735-4b87-b5ff-ca9eff75cc9b_350x525.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:525,&quot;width&quot;:350,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:425460,&quot;alt&quot;:&quot;A poster for the film How To Blow Up a Pipeline&quot;,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="A poster for the film How To Blow Up a Pipeline" title="A poster for the film How To Blow Up a Pipeline" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb2a8f1a5-8735-4b87-b5ff-ca9eff75cc9b_350x525.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb2a8f1a5-8735-4b87-b5ff-ca9eff75cc9b_350x525.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb2a8f1a5-8735-4b87-b5ff-ca9eff75cc9b_350x525.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb2a8f1a5-8735-4b87-b5ff-ca9eff75cc9b_350x525.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p><span>The reality is that the amount of focus and desire required to blow up the occasional building or pipeline is </span><em>nothing</em><span> compared to the lifetime of quiet labor required to understand the system well enough to actually build a better one. And that better world, if it arrives, will require the cooperation of some truly unpleasant people, because all of civilization is nothing but truly unpleasant people learning to peacefully cooperate.&nbsp;</span></p><p>Meanwhile, I will continue to make my living in this very media ecosystem and who knows, maybe this post is just one more layer of the Matrix. Side note: This is secretly what my upcoming novel is about.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc95c6f88-0c2c-46a9-80e8-afc0f8f523cc_350x522.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc95c6f88-0c2c-46a9-80e8-afc0f8f523cc_350x522.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc95c6f88-0c2c-46a9-80e8-afc0f8f523cc_350x522.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc95c6f88-0c2c-46a9-80e8-afc0f8f523cc_350x522.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc95c6f88-0c2c-46a9-80e8-afc0f8f523cc_350x522.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc95c6f88-0c2c-46a9-80e8-afc0f8f523cc_350x522.png" width="350" height="522" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/c95c6f88-0c2c-46a9-80e8-afc0f8f523cc_350x522.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:522,&quot;width&quot;:350,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:164641,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc95c6f88-0c2c-46a9-80e8-afc0f8f523cc_350x522.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc95c6f88-0c2c-46a9-80e8-afc0f8f523cc_350x522.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc95c6f88-0c2c-46a9-80e8-afc0f8f523cc_350x522.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc95c6f88-0c2c-46a9-80e8-afc0f8f523cc_350x522.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p><em><strong><span>If you want a signed hardcover you can only </span><a href="https://www.parnassusbooks.net/blackbox" rel="">get them here</a><span>. All the other buy links, including audio, </span><a href="https://static.macmillan.com/static/smp/starting-to-worry-about/" rel="">are right here</a><span>. If you want to read the first two chapters to get a sense of what you’re buying, </span><a href="https://read.macmillan.com/lp/im-starting-to-worry-about-this-black-box-excerpt/" rel="">here you go</a><span>.</span></strong></em></p><p data-attrs="{&quot;url&quot;:&quot;https://jasonpargin.substack.com/p/is-modern-mass-media-a-mind-prison?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share&quot;,&quot;text&quot;:&quot;Share&quot;,&quot;action&quot;:null,&quot;class&quot;:null}" data-component-name="ButtonCreateButton"><a href="https://jasonpargin.substack.com/p/is-modern-mass-media-a-mind-prison?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share" rel=""><span>Share</span></a></p></div></article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The United States has its first large offshore wind farm, with more to come (176 pts)]]></title>
            <link>https://apnews.com/article/orsted-offshore-wind-new-york-south-fork-climate-cbb9360388d91be1368dd91ba35aa384</link>
            <guid>39721158</guid>
            <pubDate>Fri, 15 Mar 2024 22:00:31 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://apnews.com/article/orsted-offshore-wind-new-york-south-fork-climate-cbb9360388d91be1368dd91ba35aa384">https://apnews.com/article/orsted-offshore-wind-new-york-south-fork-climate-cbb9360388d91be1368dd91ba35aa384</a>, See on <a href="https://news.ycombinator.com/item?id=39721158">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
                                        <p>America’s first commercial-scale offshore wind farm is officially open, a long-awaited moment that helps pave the way for a succession of large wind farms.</p><p>Danish wind energy developer Ørsted and the utility Eversource built a 12-turbine wind farm called South Fork Wind 35 miles (56 kilometers) east of Montauk Point, New York. New York Gov. Kathy Hochul went to Long Island Thursday to announce that the turbines are delivering clean power to the local electric grid, flipping a massive light switch to “turn on the future.” Interior Secretary Deb Haaland was also on hand.</p><p>Achieving commercial scale is a turning point for the industry, but what’s next? Experts say the nation needs a major buildout of this type of clean electricity to address climate change. </p><p>Offshore wind is central to both <span><a data-gtm-enhancement-style="LinkEnhancementA" href="https://apnews.com/article/binde-offshore-wind-power-plan-announcement-1cfa8537ac0dafa87f2d388502f53e18">national</a></span> and <span><a data-gtm-enhancement-style="LinkEnhancementA" href="https://apnews.com/article/new-york-offshore-wind-projects-f712af2d09f896b2dba04c3bc1edaa06">state plans</a></span> to transition to a carbon-free electricity system. The Biden administration has approved six commercial-scale offshore wind energy projects, and auctioned lease areas for offshore wind for the first time off the Pacific and Gulf of Mexico coasts. New York picked two more projects last month to power more than 1 million homes. </p>
    

<p>This is just the beginning, Hochul said. She said the completion of South Fork shows that New York will aggressively pursue climate change solutions to save future generations from a world that otherwise could be dangerous. <span><a data-gtm-enhancement-style="LinkEnhancementA" href="https://apnews.com/article/offshore-wind-farm-orsted-eversource-biden-south-fork-new-york-a94722b3f4a52e93580ad15a2de257a0">South Fork can generate 132 megawatts</a></span> of offshore wind energy to power more than 70,000 homes. </p>



<p>“It’s great to be first, we want to make sure we’re not the last. That’s why we’re showing other states how it can be done, why we’re moving forward, on to other projects,” Hochul told The Associated Press in an exclusive interview before the announcement. </p>
    
<p>“This is the date and the time that people will look back in the history of our nation and say, ‘This is when it changed,’” Hochul added.</p>
    

<p>South Fork will generate more than four times the power of a five-turbine pilot project developed earlier off the coast of Rhode Island, and unlike that subsidized test project, was developed after Orsted and Eversource were chosen in a competitive bidding process to supply power to Long Island. The Long Island Power Authority first approved this project in 2017. The blades for the 12 Siemens Gamesa turbines reach speeds of more than 200 miles per hour (350 kilometers per hour). </p><p>Ørsted CEO Mads Nipper called the opening a major milestone that proves large offshore wind farms can be built, both in the United States and in other countries with little or no offshore wind energy currently. </p><p>With South Fork finished, Ørsted and Eversource are turning their attention to the work they will do offshore beginning this spring for a wind farm more than five times its size. Revolution Wind will be Rhode Island and Connecticut’s first commercial-scale offshore wind farm, capable of powering more than 350,000 homes next year. The site where the cable will connect in Rhode Island is already under construction.</p><p>In New York, the state said last month it would negotiate a contract with Ørsted and Eversource for an even larger wind farm, Sunrise Wind, to power 600,000 homes. The Norwegian company Equinor was picked for its Empire Wind 1 project to power more than 500,000 New York homes. Both aim to start providing power in 2026. </p>
    

<p>After years of planning and development, 2024 is a year of action— building projects that will deliver sizeable amounts of clean power to the grid, said David Hardy, group executive vice president and CEO Americas at Ørsted.</p><p>Ørsted, formerly DONG Energy, for Danish Oil and Natural Gas, <span><a data-gtm-enhancement-style="LinkEnhancementA" href="https://apnews.com/article/offshore-wind-power-orsted-mads-nipper-eed40962a99ad867e090fd90a15cbff6">started aggressively building wind farms</a></span> off the coast of Denmark, the U.K. and Germany in 2008. The company sold off the North Sea oil and gas assets on which it had built its identity to focus on clean energy, becoming Ørsted. It’s now one of the biggest wind power developers.</p><p>The first U.S. offshore wind farm was supposed to be a project off the coast of Massachusetts known as Cape Wind. A Massachusetts developer proposed the project in 2001. It failed after years of local opposition and litigation. </p>
    

<p>Turbines began spinning off Rhode Island’s Block Island as a pilot project in 2016. But with just five of them, it’s not a commercial-scale wind farm.</p><p><span><a data-gtm-enhancement-style="LinkEnhancementA" href="https://apnews.com/article/offshore-wind-orsted-cancellation-biden-new-jersey-3f2ff7c9832210ce862f6e7179fae439">Last year brought challenges</a></span> for the nascent U.S. offshore wind industry, as Ørsted and other developers canceled projects in the Northeast that they said were no longer financially feasible. High inflation, supply chain disruptions and the rising cost of capital and building materials were making projects more expensive as developers were trying to get the first large U.S. offshore wind farms opened. </p><p>Industry leaders expect 2024 to be a better year, as interest rates come down and states ask for more offshore wind to meet their climate goals. </p><p>The nation’s second large offshore wind farm, Vineyard Wind, is expected to open later this year off the coast of Massachusetts, too. <span><a data-gtm-enhancement-style="LinkEnhancementA" href="https://apnews.com/article/offshore-wind-electricity-vineyard-turbines-power-grid-181842ca65a801b2cdea5e434e8a5f28">The first five turbines are providing power</a></span> for about 30,000 homes and businesses in Massachusetts. When all 62 turbines are spinning, they’ll generate enough electricity for 400,000 homes and businesses. Avangrid and Copenhagen Infrastructure Partners are the joint owners of that project.</p>
    

<p>The Biden administration wants enough offshore wind energy to power 10 million homes by 2030. Interior Secretary Haaland said that “America’s clean energy transition is not a dream for a distant future— it’s happening right here and right now.” </p><h2>___</h2><p>The Associated Press’ climate and environmental coverage receives financial support from multiple private foundations. AP is solely responsible for all content. Find AP’s <span><a data-gtm-enhancement-style="LinkEnhancementA" href="https://www.ap.org/about/standards-for-working-with-outside-groups/" target="_blank" rel="noopener">standards</a></span> for working with philanthropies, a list of supporters and funded coverage areas at <span><a data-gtm-enhancement-style="LinkEnhancementA" href="https://www.ap.org/discover/Supporting-AP" target="_blank" rel="noopener">AP.org</a></span>.</p>
                                    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[GhostRace: Exploiting and mitigating speculative race conditions (120 pts)]]></title>
            <link>https://www.vusec.net/projects/ghostrace/</link>
            <guid>39720508</guid>
            <pubDate>Fri, 15 Mar 2024 20:43:41 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.vusec.net/projects/ghostrace/">https://www.vusec.net/projects/ghostrace/</a>, See on <a href="https://news.ycombinator.com/item?id=39720508">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="main-content" role="main">

			
<article id="post-2940" class="page">
	<!-- .entry-header -->
	<div>
		
<p><strong>Exploiting and Mitigating Speculative Race Conditions</strong></p>



<h3><a href="https://www.cve.org/CVERecord?id=CVE-2024-2193" target="_blank" rel="noreferrer noopener">GhostRace: CVE-2024-2193</a></h3>



<p>Race conditions arise when multiple threads attempt to access a shared resource without proper synchronization, often leading to vulnerabilities such as concurrent use-after-free. To mitigate their occurrence, operating systems rely on synchronization primitives such as mutexes, spinlocks, etc.</p>



<p><strong>In this work, we present GhostRace, the first security analysis of these primitives on speculatively executed code paths.</strong></p>



<p><strong>Our key finding is that all the common synchronization primitives implemented using conditional branches (<a href="#mutex-lock">Figure 1</a>) can be microarchitecturally bypassed on speculative paths using a Spectre-v1 attack, turning all architecturally race-free critical regions into Speculative Race Conditions (SRCs), allowing attackers to leak information from the target software.</strong></p>


<div>
<figure id="mutex-lock"><img decoding="async" src="https://lh7-us.googleusercontent.com/A5mtFcjtk0myeLsZ-QqmBi7iFv_h_3wrIdzAVSwGwRiFe35KkzdgkIIiCjko7ORcEoCf7B8-PvbAlpf8nJ92oFNDS3uFdaVSm24VCzdK5dSBPSK-WUKDkXSRf-bWNxK6-Bru6g4W0iC8zA8x3UFcy9Q" alt="Figure 1: Top part: The core implementation of the mutex_lock synchronization primitive in the Linux x86-64 kernel, with the conditional branch that can be abused to craft SRCs in red. Bottom part: The branch ultimately checks the outcome of the lock cmpxchgq instruction, which does not serialize the execution." title="Figure 1"><figcaption><em>Figure 1: Top part: The core implementation of the mutex_lock synchronization primitive in the Linux x86-64 kernel, with the conditional branch that can be abused to craft SRCs in red. Bottom part: The branch ultimately checks the outcome of the lock cmpxchgq instruction, which does not serialize the execution.</em></figcaption></figure></div>


<hr>



<p><strong>Our <a href="http://download.vusec.net/papers/ghostrace_sec24.pdf" target="_blank" rel="noreferrer noopener">GhostRace Paper (PDF)</a> is accepted for publication at the 33rd USENIX Security Symposium 2024.</strong> <strong>This is a joint project with the <a href="https://ibm.github.io/system-security-research-updates/2024/03/12/ghostrace" target="_blank" rel="noreferrer noopener">Systems Security Research Group</a> at IBM Research Europe</strong>.</p>







<hr>



<h2>Speculative Synchronization Primitives</h2>



<p><strong>Our analysis shows <em>all </em>the other common write-side synchronization primitives in the Linux kernel are ultimately implemented through a conditional branch and are therefore vulnerable to speculative race conditions. </strong></p>



<p>To experimentally confirm this intuition, we tested all such synchronization primitives under speculative execution after mistraining the vulnerable branch. <strong>In all cases, we confirmed transient execution of the guarded critical region despite another victim thread already architecturally executing in the region.</strong> To determine the transient window size, we measured the maximum number of speculative load instructions we could speculatively execute inside the critical region (<a href="#speculative-window">Figure 2</a>).</p>


<div>
<figure id="speculative-window"><img decoding="async" src="https://lh7-us.googleusercontent.com/W2JoafY-Chy0JQdu9ihuVmr0G2gq3U4P4RAjvjVbZXGSqvG6Qy2MDPB6SUWb1UnYEHwM0rWRbl33eND2PK9oIS0mGWPxvPy7KfOca9oGK5Ewfe8MFPMYkz2TM6rjmAX6x4pZA7O_aGcACISPdxgYo1U" alt="Figure 2: Transient window size for different write-side synchronization mechanisms, i.e., the number of speculative loads that leave an observable microarchitectural trace." title="Figure 2"><figcaption><em>Figure 2: Speculative window size for different write-side synchronization mechanisms, i.e., the number of speculative loads that leave an observable microarchitectural trace.</em></figcaption></figure></div>


<h2>SCUAF Gadget Scanner</h2>



<p>To investigate the severity of SRCs, <strong>we concentrate on Speculative Concurrent Use-After-Free (SCUAF) and statically scan the Linux kernel with Coccinelle (<a href="#cocci-script">Figure 3</a>),</strong> <strong>discovering 1,283 potentially exploitable gadgets</strong>.</p>


<div>
<figure id="cocci-script"><img decoding="async" src="https://lh7-us.googleusercontent.com/k-oVgKvuKIRcC7XY9rj2RwuZKN54Dri-xlgnKnGXf5fDlNeptlXJI8F-yZSkpfi_1r3x2RnsCxjyAynYRgt_jCOBKOUskRZfC2Rxpy1ko3hWRSVZo_mr0JdMV34y235LlLOVpOQ9K01R_rckQ-0AFWE" alt="Figure 3: Simplified Cocci scripts (left Free and right Use) scanning for SCUAF gadgets in the Linux kernel." title="Figure 3"><figcaption><em>Figure 3: Simplified Cocci scripts (left Free and right Use) scanning for SCUAF gadgets in the Linux kernel.</em></figcaption></figure></div>


<h3><a href="https://lore.kernel.org/lkml/2024022614-unhappily-python-2cd0@gregkh/" target="_blank" rel="noreferrer noopener">IPI Storming: CVE-2024-26602</a></h3>



<p>To win an SRC, we need to interrupt the execution of the victim process at the right point (i.e., when the dangling pointer is created), and keep the victim there forever so that the attacker can perform the SCUAF attack. In order to achieve this, we created a new exploitation technique called Inter-Process Interrupt (IPI) Storming, which consists of infinitely flooding the victim process’s CPU core with IPIs once interrupted so that it never finishes handling the incoming interrupts, <strong>resulting in creating an unbounded exploitation window that allows the attacker to execute an arbitrary number of SCUAF invocations to mount an end-to-end attack within a single race window.</strong> In <a href="#IPI-storming">Figure 4</a> we show how the increasing number of storming SMTs widens the UAF exploitation window.</p>


<div>
<figure id="IPI-storming"><img decoding="async" src="https://lh7-us.googleusercontent.com/MKaHNmZBeMuo9s0UQxTYuDHsvBHGF5ESIx38LAav9IXwcfpG_CG3UULkDrWFNzyjjrydVIHnFz6O172oktSAiegAkwsqeSHiv_NsTjtdFYM1SVsBsStW4TpdawvWe12sXRrIuhBoiBjINO969rMiI4k" alt="Figure 4: Size of the UAF exploitation window vs. number of IPI storming cores targeting the victim core." title="Figure 4"><figcaption><em>Figure 4: Size of the UAF exploitation window vs. number of IPI storming cores targeting the victim core.</em> Our test CPU contains 16 cores and 24 SMTs.</figcaption></figure></div>


<h3>SCUAF Information Disclosure Attacks</h3>



<p>Furthermore, we show that SCUAF information disclosure attacks (<a href="#SCUAF-attack">Figure 5</a>) on the kernel are feasible and can match the reliability of typical Spectre attacks, with <strong>our proof of concept leaking kernel memory at 12 KB/s</strong>.</p>


<div>
<figure id="SCUAF-attack"><img decoding="async" src="https://lh7-us.googleusercontent.com/fwbNm1aDJw8BM6BTUTesMeblQ3_umrNPB86olhS8i8HDwionIkY1lXfnzn6DhPXp4SDQRjdYeqO1YK2ry_j-A5DPqYOrhlQRBbEEzVgq9P-OikA5ZBc6gTx0FKHoP86RgRCvlQ_q1MhE8PdPZE0lEbg" alt="Figure 5: Speculative information disclosure attack exploiting a speculative race condition. Steps 1-4 and 8-10 run in user mode, issuing syscalls to trigger the relevant kernel code. The other steps run in kernel mode. Our gadget scanner identified the nfc_hci_msg_tx_work function as a SCUAF gadget in the Linux kernel." title="Figure 5"><figcaption><em>Figure 5: Speculative information disclosure attack exploiting a speculative race condition. Steps 1-4 and 8-10 run in user mode, issuing syscalls to trigger the relevant kernel code. The other steps run in kernel mode. Our gadget scanner identified the nfc_hci_msg_tx_work function as a SCUAF gadget in the Linux kernel.</em></figcaption></figure></div>


<h2 id="code">Code</h2>



<p>You can find a minimalistic PoC exemplifying the concept of SRC in a step-by-step single-threaded fashion, Coccinelle SCUAF-scanning scripts, and 1200+ SCUAF gadgets found in the Linux kernel at <a href="https://github.com/vusec/ghostrace" target="_blank" rel="noreferrer noopener">https://github.com/vusec/ghostrace</a></p>



<h2 id="affected-hw-sw">Affected Hardware &amp; Software</h2>



<p>While we have explicitly focused on x86 and Linux in the paper, SRCs also affect other hardware and software targets.</p>



<p><strong>Hardware</strong>: We have confirmed that all the major hardware vendors are affected by SRCs since, regardless of the particular compare-and-exchange instruction implementation, the conditional branch that follows is subject to branch (mis)prediction. In other words, all the microarchitectures affected by Spectre-v1 are also affected by SRCs.</p>



<p><strong>Software</strong>: Any target relying on conditional branches to determine whether to enter critical regions—a common design pattern that extends well beyond Linux—is vulnerable to SRCs.</p>



<p><strong>In summary, any software, e.g., operating system, hypervisor, etc., implementing synchronization primitives through conditional branches without any serializing instruction on that path and running on any microarchitecture (e.g., x86, ARM, RISC-V, etc.), which allows conditional branches to be speculatively executed, is vulnerable to SRCs. As in other speculative execution attacks, this allows leaking data from the target software.</strong></p>



<h2 id="mitigation">Mitigation</h2>



<p>To address the new attack surface,<strong> we also propose a generic SRC mitigation to serialize all the affected synchronization primitives on Linux </strong>(i.e., adding an <code>lfence</code> instruction after the <code>lock cmpxchq</code> in <a href="#mutex-lock">Figure 1</a>)<strong>.</strong> Our mitigation requires minimal kernel changes <strong>(i.e., 2 LoC)</strong> <strong>and incurs only ≈5% geomean performance overhead on LMBench.</strong></p>



<h2 id="disclosure">Disclosure</h2>



<p>We disclosed Speculative Race Conditions to the major hardware vendors (Intel, AMD, ARM, and IBM) and the Linux kernel in late 2023.</p>



<p>Hardware vendors have further notified other affected software (OS/hypervisors) vendors, and all parties have acknowledged the reported issue (<a href="https://www.cve.org/CVERecord?id=CVE-2024-2193" target="_blank" rel="noreferrer noopener"><strong>CVE-2024-2193</strong></a>). Specifically, AMD responded with an explicit impact statement (i.e., “existing [Spectre-v1] mitigations apply”), pointing to the attacks relying on conditional branch mis-speculation, like Spectre-v1.</p>



<p><strong>The Linux kernel developers have no immediate plans to implement our proposed serialization of synchronization primitives due to performance concerns</strong>. However, they confirmed the IPI storming issue (<a href="https://lore.kernel.org/lkml/2024022614-unhappily-python-2cd0@gregkh/" target="_blank" rel="noreferrer noopener"><strong>CVE-2024-26602</strong></a>) and <strong>implemented an </strong><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=944d5fe50f3f03daacfea16300e656a1691c4a23" target="_blank" rel="noreferrer noopener"><strong>IPI rate-limiting feature</strong></a> to address the CPU saturation issue by adding a synchronization mutex on the path of sys_membarrier and avoiding its concurrent execution on multiple cores. <strong>Unfortunately, as our experiments show (Figure 4), hindering IPI storming primitives (i.e., 0 storming cores) is insufficient to close the attack surface completely.</strong></p>



<h2>Acknowledgments</h2>



<p>We would like to thank the anonymous reviewers for their feedback, Andrew Cooper for his early comments on the paper, Julia Lawall for the Coccinelle clarifications, and Alessandro Sorniotti for the early discussions about the project. This work was partially supported by Intel Corporation through the “Allocamelus” project, by the Dutch Research Council (NWO) through project “INTERSECT”, and by the European Union’s Horizon Europe program under grant agreement No. 101120962 (“Rescale”).</p>
	</div><!-- .entry-content -->
</article><!-- #post-2940 -->

		</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Great Ideas in Theoretical Computer Science (253 pts)]]></title>
            <link>https://www.cs251.com</link>
            <guid>39720388</guid>
            <pubDate>Fri, 15 Mar 2024 20:30:45 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.cs251.com">https://www.cs251.com</a>, See on <a href="https://news.ycombinator.com/item?id=39720388">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<p>
<h2>Great Ideas in Theoretical Computer Science</h2>
<h2>Great Ideas in Theoretical Computer Science</h2>
<h2>Great Ideas in Theoretical Computer Science</h2>
<h2>Great Ideas in Theoretical Computer Science</h2>
<h2>Great Ideas in Theoretical Computer Science</h2>
</p>
</div><div>
<p><img src="https://www.cs251.com/static/images/cs251_pic.jpg">
</p>
<div>
<p>Welcome to <span>CS251</span> at <a href="https://www.cmu.edu/">CMU</a>!</p>
<p>This course is about the rigorous study of computation, which is a fundamental component of our universe, the societies we live in, the new technologies we discover, as well as the minds we use to understand these things. Therefore, having the right language and tools to study computation is important. In this course, we explore some of the central results and questions regarding the nature of computation.</p>
</div>
</div><div>



<div>
<p><span>MODULE 1</span>
</p>
<p><span>MODULE 1</span>
<span>Introduction</span>
</p>
</div>
<div>
<div>
<p><img src="https://www.cs251.com/static/images/Module_Introduction.jpg">
</p>
</div>
<div>
<p>Welcome to CS251! In this module, our main goal is to explain at a high-level what theoretical computer science is about and set the right context for the material covered in the future.</p>
<p>In the first part of the course, we want to build up formally/mathematically, the important notions related to computation and algorithms. We start this journey here by discussing how to formally represent data and how to formally define the concept of a computational problem.</p>
</div>
</div>
<div>
<p><span>MODULE 2</span>
</p>
<p><span>MODULE 2</span>
<span>Finite Automata</span>
</p>
</div>
<div>
<div>
<p><img src="https://www.cs251.com/static/images/Module_Finite_Automata.jpg">
</p>
</div>
<div>
<p>The goal of this module is to introduce you to a simple (and restricted) model of computation known as <em>deterministic finite automata</em> (DFA). This model is interesting to study in its own right, and has very nice applications, however, our main motivation to study this model is to use it as a stepping stone towards formally defining the notion of an <em>algorithm</em> in its full generality. Treating deterministic finite automata as a warm-up, we would like you to get comfortable with how one formally defines a model of computation, and then proves interesting theorems related to the model. Along the way, you will start getting comfortable with using a bit more sophisticated mathematical notation than you might be used to. You will see how mathematical notation helps us express ideas and concepts accurately, succinctly and clearly.</p>
</div>
</div>
<div>
<p><span>MODULE 3</span>
</p>
<p><span>MODULE 3</span>
<span>Formalizing Computation</span>
</p>
</div>
<div>
<div>
<p><img src="https://www.cs251.com/static/images/Module_Formalizing_Computation.jpg">
</p>
</div>
<div>
<p>In this module, our main goal is to introduce the definition of a Turing machine, which is the standard mathematical model for any kind of computational device. As such, this definition is very foundational. As we discuss in lecture, the physical Church-Turing thesis asserts that any kind of physical device or phenomenon, when viewed as a computational process mapping input data to output data, can be simulated by some Turing machine. Thus, rigorously studying Turing machines does not just give us insights about what our laptops can or cannot do, but also tells us what the universe can and cannot do computationally. This module kicks things off with examples of computable problems. In the next module, we will start exploring the limitations of computation.</p>
</div>
</div>
<div>
<p><span>MODULE 4</span>
</p>
<p><span>MODULE 4</span>
<span>Limits of Computation</span>
</p>
</div>
<div>
<div>
<p><img src="https://www.cs251.com/static/images/Module_Limits_of_Computation.jpg">
</p>
</div>
<div>
<p>In this module, we prove that most problems are undecidable, and give some explicit examples of undecidable problems. The two key techniques we use are diagonalization and reductions. These are two of the most fundamental concepts in mathematics and computer science.</p>
</div>
</div>
<div>
<p><span>MODULE 5</span>
</p>
<p><span>MODULE 5</span>
<span>Limits of Human Reasoning</span>
</p>
</div>
<div>
<div>
<p><img src="https://www.cs251.com/static/images/Module_Limits_of_Human_Reasoning.jpg">
</p>
</div>
<div>
<p>The late 19th to early 20th century was an important time in mathematics. With various problems arising with the usual way of doing mathematics and proving things, it became clear that there was a need to put mathematical reasoning on a secure foundation. In other words, there was a need to mathematically formalize mathematical reasoning itself. As mathematicians took on the task of formalizing mathematics, two things started to become clear. First, a complete formalization of mathematics was not going to be possible. Second, formalization of mathematics involves formalizing what we informally understand as “algorithm” or “computation”. This is because one of the defining features of mathematical reasoning is that it is a computation. In this module we will make this connection explicit and see how the language of theoretical computer science can be effectively used to answer important questions in the foundations of mathematics.</p>
</div>
</div>



<div>
<p><span>MODULE 6</span>
</p>
<p><span>MODULE 6</span>
<span>Time Complexity</span>
</p>
</div>
<div>
<div>
<p><img src="https://www.cs251.com/static/images/Module_Time_Complexity.jpg">
</p>
</div>
<div>
<div>
<p>So far, we have formally defined what a computational/decision problem is, what an algorithm is, and saw that most (decision) problems are undecidable. We also saw some explicit and interesting examples of undecidable problems. Nevertheless, it turns out that many problems that we care about are actually decidable. So the next natural thing to study is the computational complexity of problems. If a problem is decidable, but the most efficient algorithm solving it takes vigintillion computational steps even for reasonably sized inputs, then practically speaking, that problem is still undecidable. In a sense, computational complexity is the study of practical computability.</p>
<p>Even though computational complexity can be with respect to various resources like time, memory, randomness, and so on, we will be focusing on arguably the most important one: time complexity. In this module, we will set the right context and language to study time complexity.</p>
</div>

<div>
<p>
To be added (under construction).
</p>
</div>
</div>
</div>
<div>
<p><span>MODULE 7</span>
</p>
<p><span>MODULE 7</span>
<span>Graph Theory</span>
</p>
</div>
<div>
<div>
<p><img src="https://www.cs251.com/static/images/Module_Graph_Theory.jpg">
</p>
</div>
<div>
<div>
<p>In the study of computational complexity of languages and computational problems, graphs play a very fundamental role. This is because an enormous number of computational problems that arise in computer science can be abstracted away as problems on graphs, which model pairwise relations between objects. This is great for various reasons. For one, this kind of abstraction removes unnecessary distractions about the problem and allows us to focus on its essence. Second, there is a huge literature on graph theory, so we can use this arsenal to better understand the computational complexity of graph problems. Applications of graphs are too many and diverse to list here, but we’ll name a few to give you an idea: communication networks, finding shortest routes in various settings, finding matchings between two sets of objects, social network analysis, kidney exchange protocols, linguistics, topology of atoms, and compiler optimization.</p>
<p>This module introduces basic graph theoretic concepts as well as some of the fundamental graph algorithms.</p>
</div>

<div>
<p>
To be added (under construction).
</p>
</div>
</div>
</div>
<div>
<p><span>MODULE 8</span>
</p>
<p><span>MODULE 8</span>
<span>P vs NP</span>
</p>
</div>
<div>
<div>
<p><img src="https://www.cs251.com/static/images/Module_P_vs_NP.jpg">
</p>
</div>
<div>
<div>
<p>In this module, we introduce the complexity class NP and discuss the most important open problem in computer science: the P vs NP problem. The class NP contains many natural and well-studied languages that we would love to decide in polynomial time. In particular, if we could decide the languages in NP efficiently, this would lead to amazing applications. For instance, in mathematics, proofs to theorems with reasonable length proofs would be found automatically by computers. In artificial intelligence, many machine learning tasks we struggle with would be easy to solve (like vision recognition, speech recognition, language translation and comprehension, etc). Many optimization tasks would become efficiently solvable, which would affect the economy in a major way. Another main impact would happen in privacy and security. We would say “bye” to public-key cryptography which is being used heavily on the internet today. (We will learn about public-key cryptography in a later module.) These are just a few examples; there are many more.</p>
<p>Our goal in this module is to present the formal definition of NP, and discuss how it relates to P. We also discuss the notion of NP-completeness (which is intimately related to the question of whether NP equals P) and give several examples of NP-complete languages.</p>
</div>

<div>
<p>
To be added (under construction).
</p>
</div>
</div>
</div>
<div>
<p><span>MODULE 9</span>
</p>
<p><span>MODULE 9</span>
<span>Randomized Algorithms</span>
</p>
</div>
<div>
<div>
<p><img src="https://www.cs251.com/static/images/Module_Randomized_Algorithms.jpg">
</p>
</div>
<div>
<div>
<p>Randomness is an essential concept and tool in modeling and analyzing nature. Therefore, it should not be surprising that it also plays a foundational role in computer science. For many problems, solutions that make use of randomness are the simplest, most efficient and most elegant solutions. And in many settings, one can prove that randomness is absolutely required to achieve a solution. (We mention some concrete examples in lecture.)</p>
<p>One of the primary applications of randomness to computer science is randomized algorithms. A randomized algorithm is an algorithm that has access to a randomness source like a random number generator, and a randomized algorithm is allowed to err with a very small probability of error. There are computational problems that we know how to solve efficiently using a randomized algorithms, however, we do not know how to solve those problems efficiently with a deterministic algorithm (i.e. an algorithm that does not make use of randomness). In fact, one of the most important open problems in computer science asks whether every efficient randomized algorithm has a deterministic counterpart solving the same problem. In this module, we start by reviewing probability theory, and then introduce the concept of randomized algorithms.</p>
</div>

<div>
<p>
To be added (under construction).
</p>
</div>
</div>
</div>
<div>
<p><span>MODULE 10</span>
</p>
<p><span>MODULE 10</span>
<span>Cryptography</span>
</p>
</div>
<div>
<div>
<p><img src="https://www.cs251.com/static/images/Module_Cryptography.jpg">
</p>
</div>
<div>
<div>
<p>The quest for secure communication in the presence of adversaries is an ancient one. From Caesar shift to the sophisticated Enigma machines used by Germans during World War 2, there have been a variety of interesting cryptographic protocols used in history. But it wasn’t until the computer science revolution in the mid 20th century when the field of cryptography really started to flourish. In fact, it is fair to say that the study of computational complexity completely revolutionized cryptography. The key idea is to observe that any adversary would be computationally bounded just like anyone else. And we can exploit the computational hardness of certain problems to design beautiful cryptographic protocols for many different tasks. In this module, we will first review the mathematical background needed (modular arithmetic), and then present some of the fundamental cryptographic protocols to achieve secure communication.</p>
</div>

<div>
<p>
To be added (under construction).
</p>
</div>
</div>
</div>

<div>
<p>
Highlights of Theoretical Computer Science
</p>
</div>

<div>
<p><span>MODULE 11</span>
</p>
<p><span>MODULE 11</span>
<span>Extra Topics</span>
</p>
</div>
<div>
<div>
<p><img src="https://www.cs251.com/static/images/Module_Extra_Topics.jpg">
</p>
</div>
<div>
<div>
<p>In this module, we present a selection of highlights from theoretical computer science.</p>
</div>

<div>
<p>
To be added (under construction).
</p>
</div>
</div>
</div>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Zig, Rust, and Other Languages (124 pts)]]></title>
            <link>https://notes.eatonphil.com/2024-03-15-zig-rust-and-other-languages.html</link>
            <guid>39720187</guid>
            <pubDate>Fri, 15 Mar 2024 20:11:56 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://notes.eatonphil.com/2024-03-15-zig-rust-and-other-languages.html">https://notes.eatonphil.com/2024-03-15-zig-rust-and-other-languages.html</a>, See on <a href="https://news.ycombinator.com/item?id=39720187">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
          <p>Having worked a bit in Zig, Rust, Go and now C, I think there are a
few common topics worth having a fresh conversation on: automatic
memory management, the standard library, and explicit allocation.</p>
<p>Zig is not a mature language. But it has made enough useful choices
for a number of companies to invest in it and run it in
production. The useful choices make Zig worth talking about.</p>
<p>Go and Rust are mature languages. But they have both made questionable
choices that seem worth talking about.</p>
<p>All of these languages are developed by highly intelligent folks I
personally look up to. And your choice to use any one of these is
certainly fine, whichever it is.</p>
<p>The positive and negative choices particular languages made, though, are
worth talking about as we consider what a systems programming language
10 years from now would look like. Or how these languages themselves
might evolve in the next 10 years.</p>
<p>My perspective is mostly building distributed databases. So the points
that I bring up may have no relevance to the kind of work you do, and
that's alright. Moreover, I'm already aware most of these opinions are
not shared by the language maintainers, and that's ok too. I am not
writing to convince anyone.</p>
<h3 id="automatic-memory-management">Automatic memory management</h3><p>One of my bigger issues with Zig is that it doesn't support RAII. You
can defer cleanup to the end of a block; and this is half of the
problem. But only RAII will allow for smart pointers and automatic
(not manual) reference counting. RAII is an excellent option to
default to, but in Zig you aren't allowed to. In contrast, even C
"supports" automatic cleanup (via compiler extensions).</p>
<p>But most of the time, arenas are fine. Postgres is written in C and
memory is almost entirely managed through nested arenas (called
"memory contexts") that get cleaned up when some subset of a task
finishes, recursively. Zig has builtin support for arenas, which is
great.</p>
<h3 id="standard-library">Standard library</h3><p>It seems regrettable that some languages have been shipping smaller
standard libraries. Smaller standard libraries seem to encourage users
of the language to install more transitively-unvetted third-party
libraries, which increases build time and build flakiness, and which
increases bitrot over time as unnecessary breaking changes occur.</p>
<p>People have been making jokes about <code>node_modules</code> for a decade now, but
this problem is just as bad in Rust codebases I've seen. And to a
degree it happens in Java and Go as well, though their larger standard
libraries allow you to get further without dependencies.</p>
<p>Zig has a good standard library, which may be Go and Java tier in a
few years. But one goal of their package manager seemed to be
to allow the standard library to be broken up; made smaller. For
example, JSON support moving out of the standard library into a
package. I don't know if that is actually the planned direction. I
hope not.</p>
<p>Having a large standard library doesn't mean that the programmer
shouldn't be able to swap out implementations easily as needed. But
all that is required is for the standard library to define an
<strong>interface</strong> along with the standard library implementation.</p>
<p>The small size of the standard library doesn't just affect developers
using the language, it even encourages developers of the language
itself to depend on libraries owned by individuals.</p>
<p>Take a look at the transitive dependencies of an official Node.js
package like
<a href="https://github.com/nodejs/node-gyp/blob/main/package.json#L25">node-gyp</a>. Is
it really the ideal outcome of a small standard library to encourage
dependence in official libraries on libraries owned by individuals,
like <a href="https://github.com/sindresorhus/env-paths">env-paths</a>, that
haven't been modified in 3 years? 68 lines of code. Is it not safer at
this point to vendor that code? i.e. copy the <code>env-paths</code> code into
<code>node-gyp</code>.</p>
<p>Similarly, if you go looking for compression support in Rust, there's
none in the standard library. But you may notice the
<a href="https://github.com/rust-lang/flate2-rs">flate2-rs</a> repo under the
official <a href="https://github.com/rust-lang">rust-lang</a> GitHub
namespace. If you look at its transitive dependencies:
<a href="https://github.com/rust-lang/flate2-rs/blob/main/Cargo.toml#L23">flate2-rs</a>
depends on (an individual's)
<a href="https://github.com/Frommi/miniz_oxide/blob/master/miniz_oxide/Cargo.toml#L20">miniz_oxide</a>
which depends on (an individual's)
<a href="https://github.com/jonas-schievink/adler">adler</a> that hasn't been
updated in 4 years. 300 lines of code including tests. Why not vendor
this code? It's the habits a small standard library builds that seem
to encourage everyone not to.</p>
<p>I don't mean these necessarily constitute a supply-chain risk. I'm not
talking about
<a href="https://www.theregister.com/2016/03/23/npm_left_pad_chaos/">left-pad</a>. But
the pattern is sort of clear. Even official packages may end up
depending on external party packages, because the commitment to a
small standard library meant omitting stuff like compression,
checksums, and common OS paths.</p>
<p>It's a tradeoff and maybe makes the job of the standard library
maintainer easier. But I don't think this is the ideal
situation. Dependencies are useful but should be kept to a reasonable
minimum.</p>
<p>Hopefully languages end up more like Go than like Rust in
this regard.</p>
<h3 id="explicit-allocation">Explicit allocation</h3><p>When folk discuss the Zig standard library's pattern of requiring an
allocator argument for every method that allocates, they often talk
about the benefit of swapping out allocators or the benefit of being
able to handle OOM failures.</p>
<p>Both of these seem pretty niche to me. For example, in Zig tests you
are encouraged to pass around a debug allocator that tells you about
memory leaks. But this doesn't seem too different from compiling a C
project with a debug allocator or compiling with different sanitizers
on and running tests against the binary produced. In both cases you
mostly deal with allocators at a global level depending on the
environment you're running the code in (production or tests).</p>
<p>The real benefit of explicit allocations to me is much more
trivial. You basically can't code a method in Zig without
acknowledging allocations.</p>
<p>This is particularly useful for hotpath code. Take an iterator for
example. It has a <code>new()</code> method, a <code>next()</code> method, and a <code>done()</code>
method. In most languages, it's basically impossible at the syntax or
compiler-level to know if you are allocating in the <code>next()</code> method. You
may know because you know the behavior of all the code in <code>next()</code> by
heart. But that won't happen all the time.</p>
<p>Zig is practically alone in that if you write the <code>next()</code> method and
and don't pass an allocator to any method in the <code>next()</code> body,
nothing in that <code>next()</code> method will allocate.</p>
<p>In any other language it might not be until you run a profiler that
you notice an allocation that should have been done once in <code>new()</code>
accidentally ended up in <code>next()</code> instead.</p>
<p>On the other hand, for all the same reasons, writing Zig is kind of a
pain because everything takes an allocator!</p>
<p>Explicit allocation is not intrinsic to Zig, the language. It is a
convention that is prevalent in the standard library. There is still a
global allocator and any user of Zig could decide to use the global
allocator. At which point you've got implicit allocation. So explicit
allocation as a convention isn't a perfect solution.</p>
<p>But it, by default, gives you a level of awareness of allocations you
just can't get from typical Go or Rust or C code, depending on the
project's practices. Perhaps it's possible to switch off the Go, Rust
and C standard library and use one where all functions that allocate
do require an allocator.</p>
<p>But explicitly passing allocators is still sort of a visual hack.</p>
<p>I think the ideal situation in the future will be that every language
supports annotating blocks of code as <code>must-not-allocate</code> or something
along those lines. Either the compiler will enforce this and fail if
you seem to allocate in a block marked <code>must-not-allocate</code>, or it will
panic during runtime so you can catch this in tests.</p>
<p>This would be useful beyond static programming languages. It would be
as interesting to annotate blocks in JavaScript or Python as
<code>must-not-allocate</code> too.</p>
<p>Otherwise the current state of things is that you'd normally configure
this sort of thing at the global level. Saying "there must not be
any allocations in this entire program" just doesn't seem as useful in
general as being able to say "there must not be any allocations in
this one block".</p>
<h4 id="optional,-not-required,-allocator-arguments">Optional, not required, allocator arguments</h4><p>Rust has nascent support for passing an allocator to methods that
allocate. But it's optional. From what I understand, C++ STL is like
this too.</p>
<p>These are both super useful for programming extensions. And it's one
of the reasons I think Zig makes a ton of sense for Postgres
extensions specifically. Because it was only and always ever built for
running in an environment with someone else's allocator.</p>
<h3 id="praise-for-zig,-rust,-and-go-tooling">Praise for Zig, Rust, and Go tooling</h3><p>All three of these have really great first-party tooling including
build system, package management, test runners and formatters. The
idea that the language should provide a great environment to code in
(end-to-end) makes things simpler and nicer for programmers.</p>
<h3 id="meandering-non-conclusion">Meandering non-conclusion</h3><p>Use the language you want to use. Zig and Rust are both nice
alternatives to writing vanilla C.</p>
<p>On the other hand, I've been pleasantly surprised writing Postgres C.
How high level it is. It's almost a separate language since you're
often dealing with user-facing constructs, like Postgres's Datum
objects which represent what you might think of as a cell in a
Postgres database. And you can use all the same functions provided for
Postgres SQL for working with Datums, but from C.</p>
<p>I've also been able work a bit on Postgres extensions in Rust with
<a href="https://github.com/pgcentralfoundation/pgrx">pgrx</a> lately, which I
hope to write about soon. And when I saw
<a href="https://github.com/xataio/pgzx">pgzx</a> for writing Postgres extensions in Zig
I was excited to spend some time with that too.</p>
<blockquote><p lang="en" dir="ltr">Wrote a post on my wishlist for Zig and Rust. Focused on automatic memory management, the standard library, and explicit allocation.<a href="https://t.co/dvynizU9V2">https://t.co/dvynizU9V2</a> <a href="https://t.co/iTXp5QVxj0">pic.twitter.com/iTXp5QVxj0</a></p>— Phil Eaton (@eatonphil) <a href="https://twitter.com/eatonphil/status/1768725864923931033?ref_src=twsrc%5Etfw">March 15, 2024</a></blockquote> 

	</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Nix is a better Docker image builder than Docker's image builder (393 pts)]]></title>
            <link>https://xeiaso.net/talks/2024/nix-docker-build/</link>
            <guid>39720007</guid>
            <pubDate>Fri, 15 Mar 2024 19:56:47 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://xeiaso.net/talks/2024/nix-docker-build/">https://xeiaso.net/talks/2024/nix-docker-build/</a>, See on <a href="https://news.ycombinator.com/item?id=39720007">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            
    

    


<article>
    
    <p>
        Fri Mar 15 2024
    </p>

    

    <div><div><h2><big>$50 of Fly.io Credits</big></h2><p>Coupon code <a href="http://fly.io/ref/go-fly-nix"><code>go-fly-nix</code></a>. Only valid for new accounts that have not used a DevRel coupon code before.</p></div><div><h2><big>Slides and Video</big></h2><p>Slides: <a href="https://drive.google.com/file/d/18-Bz9422oyQH1KKkguHirWr_dEsbB6pT/view?usp=sharing">Google Drive</a><br>
Script: <a href="https://drive.google.com/file/d/1sNhkcT1IlqtFYTj-gg8-gneC604PcTrH/view?usp=sharing">Google Drive</a><br>
Video: <strong>Coming Soon!</strong></p></div></div>
<div><p><img alt="Cadey is coffee" loading="lazy" src="https://cdn.xeiaso.net/sticker/cadey/coffee/64"></p><div><p>&lt;<a href="https://xeiaso.net/characters#cadey"><b>Cadey</b></a>&gt; </p><p>A full copy of the talk will be available later today. The video may take
longer. Conference wifi is horrible.</p></div></div>
<h2>The Talk</h2>
<figure><picture><source type="image/avif" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/001.avif"><source type="image/webp" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/001.webp"><img alt="The title slide of the talk. It features a hot air balloon breaking into a shipping container with a crowbar. Art by Annie Rugyt." loading="lazy" src="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/001.jpg"></picture><figcaption>The title slide of the talk. It features a hot air balloon breaking into a shipping container with a crowbar. Art by Annie Rugyt.</figcaption></figure>
<p>Hi, I'm Xe Iaso and today I'm gonna get to talk with you about one of my favourite tools: Nix. Nix is many things, but my super hot take is that it's a much better Docker image builder than Docker's image builder.</p>
<p>As many of you know, Nix is a tool that makes it easy to build packages based on the instructions you give it using its little domain-specific language. For reasons which are an exercise to the listener, this language is also called Nix.</p>
<p>A Nix package can be just about anything, but usually you'll see Nix being used to build software packages, your own custom python tooling, OS hard drive image, or container images.</p>
<p>If you've never used it before, Nix is gonna seem a bit weird. It's going to feel like you're doing a lot of work up front, and that's because at some level it is. You're doing work today that you would have done in a few months anyways. I'll get into more detail about this as the talk goes on.</p>
<figure><picture><source type="image/avif" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/005.avif"><source type="image/webp" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/005.webp"><img alt="Slide 2024/nix-docker-builder/005" loading="lazy" src="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/005.jpg"></picture></figure>
<p>As I said, I'm Xe Iaso. I'm the Senior Technophilosopher at Fly.io where I do developer relations. My friends and loved ones can attest that I have a slight tendency to write on my blog. I've been using Nix and NixOS across all of my personal and professional projects for the last four years. I live in Ottawa with my husband.</p>
<p>It's the morning and I know we're all waiting for that precious bean juice to kick in. Let's get that blood pumping with a little exercise. If you've read my blog before, can you raise your hand?</p>
<p>(Ad-lib on the number of hands raised)</p>
<p>Okay, that's good. Raise your hand if this is your first introduction to Nix or NixOS.</p>
<p>(Ad-lib again)</p>
<p>How about if you're a Nix or NixOS expert? Raise your hand if you'd call yourself a Nix or NixOS expert.</p>
<p>(Ad-lib again)</p>
<p>Finally, Raise your hand if you got into Nix or NixOS because of my blog.</p>
<p>(Ad-lib again)</p>
<p>Alright thanks, you can lower your hands now.</p>
<p>This talk is a bit more introductory. There's a mixed audience here of people that are gonna be more hardcore Nix users and people that have probably never heard of Nix before. I want this talk to be a bridge so that those of you who are brand new to Nix can understand what it's about and why you should care. For those of you who have ascended the mortal plane with NixOS powers, maybe this can help you realize where we're needed most. Today I'm gonna cover what Nix is, why it's better than Docker at making Docker images, and some neat second-order properties of Nix that makes it so much more efficient in the long run.</p>
<figure><picture><source type="image/avif" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/008.avif"><source type="image/webp" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/008.webp"><img alt="The holy trinity of Nix, showing that Nix the language, the package manager, and the OS are different facets of the same thing." loading="lazy" src="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/008.jpg"></picture><figcaption>The holy trinity of Nix, showing that Nix the language, the package manager, and the OS are different facets of the same thing.</figcaption></figure>
<p>Nix is just a package manager, right? Well, it's a bit more. It's a package manager, a language, and an operating system. It's kind of a weird balance because they all have the name "Nix", but you can use this handy diagram to split the differences. You use Nix the language to make Nix the package manager build packages. Those packages can be anything from software to entire NixOS images.</p>
<p>This is compounded by the difficulty of adopting Nix at work if you have anything but a brand new startup or homelab that's willing to burn down everything and start anew with Nix. Nix is really different than what most developers are used to, which makes it difficult to cram into existing battle-worn CI/CD pipelines.</p>
<p>This is not sustainable. I'm afraid that if there's not a bridge like this, Nix will wilt and die because of the lack of adoption.</p>
<p>I want to show you how to take advantage of Nix today somewhere that it's desperately needed: building and deploying container images.</p>
<figure><picture><source type="image/avif" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/012.avif"><source type="image/webp" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/012.webp"><img alt="The docker logo on a sky background." loading="lazy" src="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/012.jpg"></picture><figcaption>The docker logo on a sky background.</figcaption></figure>
<p>To say that Docker won would be an understatement. My career started just about the same time that Docker left public beta. Docker and containerization has been adopted so widely that I'd say that Docker containers have become the de-facto universal package format of the Internet. Modern platforms like Fly.io, Railway, and Render could let people run arbitrary VM images or Linux programs in tarball slugs, but they use Docker images because that works out better for everyone.</p>
<figure><picture><source type="image/avif" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/013.avif"><source type="image/webp" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/013.webp"><img alt="The docker logo with a badly photoshopped muscle-bound beefy arm on a sky background." loading="lazy" src="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/013.jpg"></picture><figcaption>The docker logo with a badly photoshopped muscle-bound beefy arm on a sky background.</figcaption></figure>
<p>This gives people a lot of infrastructure superpowers and the advantages make the thing sell itself. It's popular for a reason. It solves real-world problems that previously required complicated cross-team coordination. No more arguing with your sysadmin or SRE team over upgrading your local fork of Ubuntu to chase the dragon with package dependencies!</p>
<p>However, there's just one fatal flaw:</p>
<p>Docker builds are not deterministic. Not even slightly. Sure, the average docker file you find on the internet will build 99.99% of the time, but that last 0.01% is where the real issues come into play.</p>
<p>Speaking as a former wielder of the SRE shouting pager, that last 0.01% of problems ends up coming into play at 4am. Always 4am, never while you are at work.</p>
<div><p><img alt="Cadey is coffee" loading="lazy" src="https://cdn.xeiaso.net/sticker/cadey/coffee/64"></p><div><p>&lt;<a href="https://xeiaso.net/characters#cadey"><b>Cadey</b></a>&gt; </p><p>Ask me how I know.</p></div></div>
<p>One of the biggest problems that doesn't sound like a problem at first is that Docker builds have access to the public Internet. This is needed to download packages from the Ubuntu repositories, but that also means that it's hard to go back and recreate the exact state of the Ubuntu repositories when you inevitably need to recreate an image at a future date.</p>
<p>Remember, Ubuntu 18.04 is going out of support this year! You're going to have a flag day finding out what depends on that version of Ubuntu when things break and not any sooner.</p>
<p>Even more fun, adding packages to a docker image the naïve way means that you get wasted space. If you run <code>apt-get upgrade</code> at the beginning of your docker build, you can end up replacing files in the container image. Those extra files end up being some "wasted space" shadow copies that will add up over time, especially with AWS charging you per millibyte of disk space and network transfer or whatever.</p>
<div><p><img alt="Aoi is wut" loading="lazy" src="https://cdn.xeiaso.net/sticker/aoi/wut/64"></p><div><p>&lt;<a href="https://xeiaso.net/characters#aoi"><b>Aoi</b></a>&gt; </p><p>What if we had the ability to know all of the dependencies that are needed
ahead of time and then just use those? What if your builds didn't need an
internet connection at all?</p></div></div>
<figure><picture><source type="image/avif" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/021.avif"><source type="image/webp" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/021.webp"><img alt="The Nix/NixOS logo on a purple and black gradient background." loading="lazy" src="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/021.jpg"></picture><figcaption>The Nix/NixOS logo on a purple and black gradient background.</figcaption></figure>
<p>This is the real advantage of Nix when compared to docker builds. Nix lets you know exactly what you're depending on ahead of time and then can break that into the fewest docker layers possible. This means that pushing updates to your programs only means that the minimal number of changes are actually made. You don't need to wait for apt or npm to install your dependencies yet again just to change a single line of code in your service.</p>
<p>I think one of the best ways to adopt it is to use it to build docker images. This helps you bridge the gap so that you can experiment with new tools without breaking too much of your existing workflows.</p>
<p>As an example, let's say I have a Go program that gives you quotes from Douglas Adams. I want to deploy it to a platform that only takes Docker images, like Fly.io, Railway, or Google Cloud Functions.</p>
<p>In order to do this, I'd need to do a few things: First, I'd need to build the program into a package with Nix and make sure it works. Then I'd need to turn that into a docker image, load it into my docker daemon, and push it to their registry. Finally I can deploy my application and everyone can benefit from the wisdom of days gone past.</p>
<p>Here's what that package definition looks like in my project's Nix flake. Let's break this down into parts.</p>
<pre><code><span>bin <span>=</span> pkgs<span>.</span>buildGoModule <span>{</span>
</span><span>  pname <span>=</span> <span>"douglas-adams-quotes"</span><span>;</span>
</span><span>  <span>inherit</span> version<span>;</span>
</span><span>  src <span>=</span> <span>./.</span><span>;</span>
</span><span>  vendorHash <span>=</span> <span>null</span><span>;</span>
</span><span><span>}</span><span>;</span>
</span></code></pre>
<p>This project is in a Go module, so <code>pkgs.buildGoModule</code> tells Nix to use the Go module template. That template will set everything up for us: mainly the Go compiler, a C compiler for CGo code, and downloading any external dependencies for you.</p>
<p>Here are the arguments to the <code>buildGoModule</code> function: a package name, the version, the path to the source code, and the hash of the external dependencies.</p>
<p>The name of the package is "Douglas Adams Quotes" in kebab case, the version is automagically generated from the git commit of the service, the source code is in the current working directory, and I don't need anything beyond Go's standard library. If you need external dependencies, you can specify the hash of all the dependencies here or use <a href="https://github.com/nix-community/gomod2nix"><code>gomod2nix</code></a> to automate this (it's linked in the description at the end of the talk).</p>
<pre><code><span># nix build .#bin
</span></code></pre>
<p>Now that we have a package definition, you can build it with nix build dot hash bin. That makes Nix build the bin package in your flake and put the result in dot slash result.</p>
<p>Next comes building that into a Docker image with the dockerTools family of helpers. dockerTools lets you take that Nix package you just made and put it and all its dependencies into a Docker image so you can deploy it.</p>
<figure><picture><source type="image/avif" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/031.avif"><source type="image/webp" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/031.webp"><img alt="An onion and an onion with an X over it. An onion is a visual metaphor for layered Docker images." loading="lazy" src="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/031.jpg"></picture><figcaption>An onion and an onion with an X over it. An onion is a visual metaphor for layered Docker images.</figcaption></figure>
<p>There's two basic ways to use it, making a layered image and a non-layered image.</p>
<p>A non-layered image is the simplest way to use Nix to build a docker image. It takes the program, its dependencies, any additional things like TLS root certificates and puts it all into a folder to be exposed as a single-layer docker image.</p>
<p>This works, but it doesn't really let us take advantage of the benefits of Nix. Making any change to a non-layered image means you have to push all of the things that haven't changed. Nix knows what all your dependencies are, so it should be able to take advantage of that when building a container image. Why should you have to upload new copies of glibc and the python interpreter over and over?</p>
<figure><picture><source type="image/avif" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/034.avif"><source type="image/webp" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/034.webp"><img alt="An onion pointing to a bunch of folders with Nix packages in its layers." loading="lazy" src="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/034.jpg"></picture><figcaption>An onion pointing to a bunch of folders with Nix packages in its layers.</figcaption></figure>
<p>Nix also lets you make a layered image. A layered image puts every dependency into its own image layer so you only upload the parts of your image that have actually changed. Made an update to the webp library to fix a trivial bounds checking vulnerability because nobody writes those libraries in memory-safe languages? The only thing that'd need to be uploaded is that single webp library layer.</p>
<p>The reason why this works is that there's a dirty secret deep into Docker that nobody can really take advantage of: Docker has a content-aware store baked into the heart of it, but because <code>docker build</code> isn't made with it in mind, nothing is really able to take advantage of it.</p>
<p>Except Nix! A layered image means that every package is in its own layer, so glibc only needs to get uploaded once...</p>
<div><p><img alt="Cadey is coffee" loading="lazy" src="https://cdn.xeiaso.net/sticker/cadey/coffee/64"></p><div><p>&lt;<a href="https://xeiaso.net/characters#cadey"><b>Cadey</b></a>&gt; </p><p>...until we find yet another trivial memory safety vulnerability in glibc
that's been ignored for my entire time on this planet and need to have a fire
day rebuilding everything to cope.</p></div></div>
<p>Here's what a layered docker image build for that Douglas Adams quotes service would look like:</p>
<pre><code><span>docker <span>=</span> pkgs<span>.</span>dockerTools<span>.</span>buildLayeredImage <span>{</span>
</span><span>  name <span>=</span> <span>"registry.fly.io/douglas-adams-quotes"</span><span>;</span>
</span><span>  tag <span>=</span> <span>"latest"</span><span>;</span>
</span><span>  config<span>.</span>Cmd <span>=</span> <span>"<span><span>$</span><span>{</span>bin<span>}</span></span>/bin/douglas-adams-quotes"</span><span>;</span>
</span><span><span>}</span><span>;</span>
</span></code></pre>
<p>Again, let's break it down.</p>
<p>You start by saying that you want to build a layered image by calling the <code>dockerTools.buildLayeredImage</code> function with the image name and tag, just like you would with <code>docker build</code>. Now comes the fun part: the rest of the container image.</p>
<pre><code><span>config<span>.</span>Cmd <span>=</span> <span>"<span><span>$</span><span>{</span>bin<span>}</span></span>/bin/douglas-adams-quotes"</span><span>;</span>
</span></code></pre>
<p>Just tell Nix that the container should run the built version of the Douglas Adams quotes server and bam, everything'll be copied over for you. Glibc will make it over as well as whatever detritus you need to make Glibc happy these days.</p>
<p>If you need to add something like the CA certificate root, you can specify it with the <code>contents</code> argument. You can use this to add any package from nixpkgs into your image. My website uses this to add Typst, Deno, and Dhall tools to the container.</p>
<pre><code><span>docker <span>=</span> pkgs<span>.</span>dockerTools<span>.</span>buildLayeredImage <span>{</span>
</span><span>  name <span>=</span> <span>"registry.fly.io/douglas-adams-quotes"</span><span>;</span>
</span><span>  tag <span>=</span> <span>"latest"</span><span>;</span>
</span><span>  contents <span>=</span> <span>with</span> pkgs<span>;</span> <span>[</span> cacert <span>]</span><span>;</span> <span># &lt;--</span>
</span><span>  config<span>.</span>Cmd <span>=</span> <span>"<span><span>$</span><span>{</span>bin<span>}</span></span>/bin/douglas-adams-quotes"</span><span>;</span>
</span><span><span>}</span><span>;</span>
</span></code></pre>
<p>Then you type in <code>nix build .#docker</code> and whack enter. A shiny new image will show up in <code>./result</code>.</p>
<pre><code><span>nix build .#docker
</span></code></pre>
<p>Load it using <code>docker load &lt; ./result</code> and it'll be ready for deployment.</p>
<pre><code><span>docker load &lt; ./result
</span></code></pre>
<p>TODO: embed video</p>
<p>Opening the image in <code>dive</code>, we see that every layer adds another package from nixpkgs until you get to the end where it all gets tied together and any contents are symlinked to the root of the image.</p>
<figure><picture><source type="image/avif" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/045.avif"><source type="image/webp" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/045.webp"><img alt="A successful slide with a lot of cheery imagery." loading="lazy" src="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/045.jpg"></picture><figcaption>A successful slide with a lot of cheery imagery.</figcaption></figure>
<p>And that's it! All that's left is to deploy it to the cloud and find out if you just broke production. It should be fine, right?</p>
<p>The really cool part is that this will work for the cases where you have single images exposed from a code repository, but that content-aware hackery doesn't end at making just one of your services faster to upload.</p>
<figure><picture><source type="image/avif" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/050.avif"><source type="image/webp" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/050.webp"><img alt="A diagram showing several programs sharing the same layers." loading="lazy" src="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/050.jpg"></picture><figcaption>A diagram showing several programs sharing the same layers.</figcaption></figure>
<p>If you have multiple services in the same repository, they'll share docker layers between each other. For free. Without any extra configuration. I don't think you can even dream of doing this with Docker without making a bunch of common base images that have a bunch of tools and bloat that some of your services will never make use of.</p>
<p>As a practical example, I have a repo I call <a href="https://github.com/Xe/x">"x"</a>. It's full of a decade's worth of side projects, experiments, and tools that help me explore various bits of technology. It's also a monorepo for a bunch of other projects:</p>
<figure><picture><source type="image/avif" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/049.avif"><source type="image/webp" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/049.webp"><img alt="A diagram showing several programs sharing the same layers." loading="lazy" src="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/049.jpg"></picture><figcaption>A diagram showing several programs sharing the same layers.</figcaption></figure>
<p>This is a lot of stuff and I don't expect anyone to read that, so I made the text small enough to discourage it. Most of it is deployed across like three platforms too, but I've been slowly converging on one common deployment backbone by shoving everything into Docker images.</p>
<figure><picture><source type="image/avif" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/050.avif"><source type="image/webp" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/050.webp"><img alt="A diagram showing several programs sharing the same layers." loading="lazy" src="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/050.jpg"></picture><figcaption>A diagram showing several programs sharing the same layers.</figcaption></figure>
<p>Pushing updates to any one of these services also pushes parts of the updates to most of the other ones. This saves me a lot of time and money across my plethora of projects. Take that, Managed NAT Gateway!</p>
<p>Oh no, I think I sense it, you do too right? It's the pedantry alert! Yes in theory I could take advantage of Docker caching to build the images just as efficiently as Nix, but then my build steps would have to look like this:</p>
<figure><picture><source type="image/avif" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/052.avif"><source type="image/webp" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/052.webp"><img alt="A giant depressing mess of wires." loading="lazy" src="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/052.jpg"></picture><figcaption>A giant depressing mess of wires.</figcaption></figure>
<p>Sure, you can do it, but you'd end up with unmaintainable balls of mud that would have you install shared libraries into their own layers and then you risk invoking the wrath of general protection fault. Not only would you have to turn the network stack back on during builds (there goes reproducibility!), I'd have to rejigger search paths, compiler flags, CGO-related goat sacrifices and more. It'd just be a mess.</p>
<pre><code><span>docker <span>=</span> pkgs<span>.</span>dockerTools<span>.</span>buildLayeredImage <span>{</span>
</span><span>  name <span>=</span> <span>"registry.fly.io/douglas-adams-quotes"</span><span>;</span>
</span><span>  tag <span>=</span> <span>"latest"</span><span>;</span>
</span><span>  contents <span>=</span> <span>with</span> pkgs<span>;</span> <span>[</span> cacert <span>]</span><span>;</span>
</span><span>  config<span>.</span>Cmd <span>=</span> <span>"<span><span>$</span><span>{</span>bin<span>}</span></span>/bin/douglas-adams-quotes"</span><span>;</span>
</span><span><span>}</span><span>;</span>
</span></code></pre>
<p>Look at this though, it's just so much simpler. It takes the package and shoves it into a container for you so you don't need to care about the details. It's so much more beautiful in comparison.</p>
<p>Above all though, the biggest advantage Nix gives you is the ability to travel back in time and build software exactly as it was in the past. This lets you recreate a docker image exactly at a later point in the future when facts and circumstances demand because that one on-prem customer had apparently never updated their software and was experiencing a weird bug.</p>
<p>This means that in theory, when you write package builds today, you're taking from that time you would have spent in the future to recreate it. You don't just build your software though, you crystallize a point in time that describes the entire state of the world including your software to get the resulting packages and docker images.</p>
<p>I've been working on a project called <a href="https://cdn.xeiaso.net/">XeDN</a> for a few years. Here's how easy it is to build a version from 14 months ago:</p>
<pre><code><span>nix build github:Xe/x/567fdc2#xedn-docker
</span></code></pre>
<p>That's it. That's the entire command. I say that I want to build the <a href="https://github.com/Xe/x">GitHub repo Xe/x</a> at an arbitrary commit hash and get the xedn-docker target. I can then load it into my docker daemon and then I have the exact same bytes I had back then, Go 1.19 and all.</p>
<p>This party trick isn't as easy to pull off with vanilla docker builds unless you pay a lot for storage.</p>
<p>An even cooler part of that is that most of the code didn't even need to be rebuilt thanks to the fact that I upload all of my builds into a Nix cache. A Nix cache lets you put the output of Nix commands into a safe place so that they don't need to be run again in the future. This means that developer laptops don't all need to build new versions of nokogiri every time it's bumped ever so slightly. It'll already be built for you with the power of the cloud.</p>
<p>I have that uploaded into a cache through <a href="https://garnix.io/">Garnix</a>, which I use to do CI on all of my flakes projects. Garnix is effortless. Turn it on and then wait for it to report build status on every commit. It's super great because I don't have to think about it.</p>
<figure><picture><source type="image/avif" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/060.avif"><source type="image/webp" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/060.webp"><img alt="A terrible picture of my homelab." loading="lazy" src="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/060.jpg"></picture><figcaption>A terrible picture of my homelab.</figcaption></figure>
<p>I even have all of my homelab machine configurations built with Garnix so that when they update every evening, they just pull the newest versions of their config from the Garnix cache instead of building it themselves. Around 7pm or so I hear them reboot after the day of a kernel upgrade. It's really great.</p>
<p>Not to mention never having to ever wait for my custom variant of Iosevka to build on my MacBook or shellbox.</p>
<p>In conclusion:</p>
<ul>
<li>Nix is a better docker image builder than docker's image builder.</li>
<li>Nix makes you specify the results, not the steps you take to get there.</li>
<li>Building Docker images with Nix makes adopting Nix easy if you already use Docker.</li>
<li>Nix makes docker images that share layers between parts of your monorepo.</li>
<li>Nix lets you avoid building code that was built in the past thanks to binary caches.</li>
<li>And you end up with normal, ordinary container images that you can deploy anywhere. Even platforms like AWS, Google Cloud, or Fly.io.</li>
</ul>
<figure><picture><source type="image/avif" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/068.avif"><source type="image/webp" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/068.webp"><img alt="A slide listing everyone I have to thank for the talk." loading="lazy" src="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/068.jpg"></picture><figcaption>A slide listing everyone I have to thank for the talk.</figcaption></figure>
<p>Before I get all of this wrapped up, I want to thank everyone on this list for their input, feedback, and more to help this talk shine. Thank you so much!</p>
<figure><picture><source type="image/avif" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/069.avif"><source type="image/webp" srcset="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/069.webp"><img alt="A conclusion slide showing information about me and the link to this page." loading="lazy" src="https://cdn.xeiaso.net/file/christine-static/talks/2024/nix-docker-builder/069.jpg"></picture><figcaption>A conclusion slide showing information about me and the link to this page.</figcaption></figure>
<p>And thank you for watching! I've been Xe Iaso and I'm gonna linger around afterwards for questions. If I don't get to you and you really want a question answered, please email <a href="mailto:dockerimage@xeserv.us">dockerimage@xeserv.us</a>. I promise I'll get back to you as soon as possible.</p>
<p>If you want to work with me to make developer relations better, my employer Fly.io is hiring. Catch up with me if you want stickers!</p>
<p>I have some extra information linked at the QR code on screen. This includes the source code for the Douglas Adams quotes server so you can clone it on your laptop and play around with it.</p>
<p>Be well, all.</p>

    <hr>

    

    

    <p>Facts and circumstances may have changed since publication. Please contact me before jumping to conclusions if something seems wrong or unclear.</p>

    <p>Tags: </p>

    <a href="">View slides</a>
</article>
        </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Boeing whistleblower before death: "If anything happens, it's not suicide" (195 pts)]]></title>
            <link>https://futurism.com/the-byte/boeing-whistleblower-warning-not-suicide</link>
            <guid>39718672</guid>
            <pubDate>Fri, 15 Mar 2024 17:55:59 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://futurism.com/the-byte/boeing-whistleblower-warning-not-suicide">https://futurism.com/the-byte/boeing-whistleblower-warning-not-suicide</a>, See on <a href="https://news.ycombinator.com/item?id=39718672">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="incArticle"><h2>"I know that he did not commit suicide."</h2><h2>Curious Causes</h2><p>As Boeing continues <a href="https://futurism.com/the-byte/jet-tire-falls-off">to be in the news</a> for its <a href="https://futurism.com/the-byte/plane-wing-breaking-footage">repeatedly</a> <a href="https://futurism.com/the-byte/boeing-plane-fire">malfunctioning</a> <a href="https://futurism.com/the-byte/boeing-trouble-crack-cockpit">planes</a>, the fallout from one ex-employee's death continues — and new reports complicate the coroner's initial suicide ruling.</p><p>In an <a href="https://abcnews4.com/news/local/if-anything-happens-its-not-suicide-boeing-whistleblowers-prediction-before-death-south-carolina-abc-news-4-2024">interview with Charleston, South Carolina's&nbsp;<em>ABC4 News</em></a>, a friend of Boeing whistleblower John Barnett, whose body was found dead in a car parked in a hotel lot amid his testimony against his former employer last weekend, said that he warned her that something might happen to him.</p><p>"I said, 'Aren't you scared?'" the woman, who gave only her first name Jennifer, told the local broadcaster. "And he said, 'No, I ain't scared, but if anything happens to me, it's not suicide.'"</p><p>Jennifer said that Barnett's words were spoken ahead of his deposition against Boeing. At the time, he'd mentioned that the company had retaliated against him for raising safety concerns before — which was, indeed, the subject of his Occupational Safety and Health Administration (OSHA) <a href="https://www.corporatecrimereporter.com/news/200/john-barnett-on-why-he-wont-fly-on-a-boeing-787-dreamliner/">complaint</a> that led to his now-unfinished deposition.</p><p>The woman, who lives in the whistleblower's home state of Louisiana where he'd moved in recent years to take care of his aging mother, said that that cryptic warning has come back to haunt her since Barnett's death, which a coroner in Charleston says was self-inflicted.</p><p>"I know that he did not commit suicide," Jennifer told <em>ABC4</em>. "There's no way. He loved life too much. He loved his family too much. He loved his brothers too much to put them through what they're going through right now."</p><h2>Hearsay</h2><p>She's not alone in that sentiment either, it seems.</p><p>In a statement to&nbsp;<em>Futurism</em>, Barnett's attorneys said that they also "<a href="https://futurism.com/boeing-whistleblowers-lawyers-statement">didn't see any indication</a>" that the whistleblower may have been planning to take his own life, and that he'd seemed in "good spirits" as his deposition was coming to a close.</p><p>Not everyone close to the longtime Boeing quality control manager agrees with that sentiment, however.</p><p>In an <a href="https://www.seattletimes.com/business/boeing-787-whistleblower-found-dead-in-apparent-suicide/">interview with the&nbsp;<em>Seattles Times</em></a>, Barnett's niece, Katelyn Gillespie, said that her "fun uncle" had become "stressed and depressed" in recent months as his ex-employer was in the news amid the same kinds of safety concerns he'd raised and ultimately resigned over.</p><p>"He battled a lot due to the Boeing stuff," the whistleblower's niece said. "It took a major toll on him."</p><p>Despite the Charleston County coroner's preliminary autopsy report on the cause of death being a self-inflicted gunshot wound and that local police found, <a href="https://www.live5news.com/2024/03/12/brave-honest-man-boeing-whistleblowers-attorneys-release-statement-his-death/">per the city's <em>Live 5 News</em></a>, "some sort of note," authorities said they are still actively investigating the case while awaiting an official coroner's ruling.</p><p>As in other <a href="https://www.theguardian.com/politics/2013/jul/16/david-kelly-death-10-years-on">suspicious</a> <a href="https://www.cbsnews.com/sacramento/news/dhs-whistleblower-philip-haney-death-ruled-suicide/">whistleblower</a> <a href="https://foreignpolicy.com/2022/05/17/robert-mcfarlane-death-national-security-advisor-iran-contra/">suicides</a>, it's almost impossible for anyone to know exactly what happened when Barnett died — but with this new claim from someone close to Barnett, things just got a lot more complicated.</p><p><strong>More on Boeing:</strong> <a href="https://futurism.com/the-byte/pilot-boeing-gauges-nosedive"><em>Pilot Lost Control of Boeing Jet Because Gauges “Went Blank," Causing Nosedive</em></a></p><br></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Ollama now supports AMD graphics cards (596 pts)]]></title>
            <link>https://ollama.com/blog/amd-preview</link>
            <guid>39718558</guid>
            <pubDate>Fri, 15 Mar 2024 17:47:20 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://ollama.com/blog/amd-preview">https://ollama.com/blog/amd-preview</a>, See on <a href="https://news.ycombinator.com/item?id=39718558">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
      
      <h2>March 14, 2024</h2>
      <section>
        <p><a href="https://ollama.com/download"><img src="https://ollama.com/public/blog/amd-preview.png" alt="Ollama AMD"></a></p>

<p>Ollama now supports AMD graphics cards in preview on Windows and Linux. All the features of Ollama can now be accelerated by AMD graphics cards on Ollama for <a href="https://ollama.com/download/linux">Linux</a> and <a href="https://ollama.com/download/windows">Windows</a>.</p>

<video autoplay="" controls="">
  <source src="https://github.com/ollama/ollama/assets/3325447/671a8031-1915-448e-b033-16b367b359d9" type="video/mp4">
</video>

<h2>Supported graphics cards</h2>

<table>
<thead>
<tr>
<th>Family</th>
<th>Supported cards and accelerators</th>
</tr>
</thead>

<tbody>
<tr>
<td>AMD Radeon RX</td>
<td><code>7900 XTX</code> <code>7900 XT</code> <code>7900 GRE</code> <code>7800 XT</code> <code>7700 XT</code> <code>7600 XT</code> <code>7600</code> <br><code>6950 XT</code> <code>6900 XTX</code> <code>6900XT</code> <code>6800 XT</code> <code>6800</code><br><code>Vega 64</code> <code>Vega 56</code></td>
</tr>

<tr>
<td>AMD Radeon PRO</td>
<td><code>W7900</code> <code>W7800</code> <code>W7700</code> <code>W7600</code> <code>W7500</code> <br><code>W6900X</code> <code>W6800X Duo</code> <code>W6800X</code> <code>W6800</code><br><code>V620</code> <code>V420</code> <code>V340</code> <code>V320</code><br><code>Vega II Duo</code> <code>Vega II</code> <code>VII</code> <code>SSG</code></td>
</tr>

<tr>
<td>AMD Instinct</td>
<td><code>MI300X</code> <code>MI300A</code> <code>MI300</code><br><code>MI250X</code> <code>MI250</code> <code>MI210</code> <code>MI200</code><br><code>MI100</code> <code>MI60</code> <code>MI50</code></td>
</tr>
</tbody>
</table>
<p>Support for more AMD graphics cards is coming soon.</p>

<h2>Get started</h2>

<p>To get started with Ollama with support for AMD graphics cards, download Ollama for <a href="https://ollama.com/download/linux">Linux</a> or <a href="https://ollama.com/download/windows">Windows</a>.</p>

      </section>
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[OpenVPN Is Open to VPN Fingerprinting (132 pts)]]></title>
            <link>https://arxiv.org/abs/2403.03998</link>
            <guid>39718389</guid>
            <pubDate>Fri, 15 Mar 2024 17:34:09 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arxiv.org/abs/2403.03998">https://arxiv.org/abs/2403.03998</a>, See on <a href="https://news.ycombinator.com/item?id=39718389">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content-inner">
    
    
                
    <p><a href="https://arxiv.org/pdf/2403.03998">Download PDF</a>
    <a href="https://arxiv.org/html/2403.03998v1">HTML (experimental)</a></p><blockquote>
            <span>Abstract:</span>VPN adoption has seen steady growth over the past decade due to increased public awareness of privacy and surveillance threats. In response, certain governments are attempting to restrict VPN access by identifying connections using "dual use" DPI technology. To investigate the potential for VPN blocking, we develop mechanisms for accurately fingerprinting connections using OpenVPN, the most popular protocol for commercial VPN services. We identify three fingerprints based on protocol features such as byte pattern, packet size, and server response. Playing the role of an attacker who controls the network, we design a two-phase framework that performs passive fingerprinting and active probing in sequence. We evaluate our framework in partnership with a million-user ISP and find that we identify over 85% of OpenVPN flows with only negligible false positives, suggesting that OpenVPN-based services can be effectively blocked with little collateral damage. Although some commercial VPNs implement countermeasures to avoid detection, our framework successfully identified connections to 34 out of 41 "obfuscated" VPN configurations. We discuss the implications of the VPN fingerprintability for different threat models and propose short-term defenses. In the longer term, we urge commercial VPN providers to be more transparent about their obfuscation approaches and to adopt more principled detection countermeasures, such as those developed in censorship circumvention research.
    </blockquote>

    <!--CONTEXT-->
    
  </div><div>
      <h2>Submission history</h2><p> From: Diwen Xue [<a href="https://arxiv.org/show-email/af7c5f54/2403.03998">view email</a>]      <br>    <strong>[v1]</strong>
        Wed, 6 Mar 2024 19:15:02 UTC (25,370 KB)<br>
</p></div></div>]]></description>
        </item>
    </channel>
</rss>