<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Wed, 20 Nov 2024 01:30:02 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Why is Apple Rosetta 2 fast? (2022) (118 pts)]]></title>
            <link>https://dougallj.wordpress.com/2022/11/09/why-is-rosetta-2-fast/</link>
            <guid>42188407</guid>
            <pubDate>Tue, 19 Nov 2024 21:42:02 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://dougallj.wordpress.com/2022/11/09/why-is-rosetta-2-fast/">https://dougallj.wordpress.com/2022/11/09/why-is-rosetta-2-fast/</a>, See on <a href="https://news.ycombinator.com/item?id=42188407">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
		
<p>Rosetta 2 is remarkably fast when compared to other x86-on-ARM emulators. I’ve spent a little time looking at how it works, out of idle curiosity, and found it to be quite unusual, so I figured I’d put together my notes.<a rel="me" href="https://mastodon.social/@dougall"></a></p>



<p>My understanding is a bit rough, and is mostly based on reading the ahead-of-time translated code, and making inferences about the runtime from that. Let me know if you have any corrections, or find any tricks I’ve missed.</p>



<figure><a href="https://dougallj.wordpress.com/wp-content/uploads/2022/11/fupg8ipuuaehi0a-1.jpg"><img data-attachment-id="1483" data-permalink="https://dougallj.wordpress.com/2022/11/09/why-is-rosetta-2-fast/fupg8ipuuaehi0a-1/" data-orig-file="https://dougallj.wordpress.com/wp-content/uploads/2022/11/fupg8ipuuaehi0a-1.jpg" data-orig-size="1790,1050" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="fupg8ipuuaehi0a-1" data-image-description="" data-image-caption="" data-medium-file="https://dougallj.wordpress.com/wp-content/uploads/2022/11/fupg8ipuuaehi0a-1.jpg?w=300" data-large-file="https://dougallj.wordpress.com/wp-content/uploads/2022/11/fupg8ipuuaehi0a-1.jpg?w=628" src="https://dougallj.wordpress.com/wp-content/uploads/2022/11/fupg8ipuuaehi0a-1.jpg?w=1024" alt="" width="614" height="359" srcset="https://dougallj.wordpress.com/wp-content/uploads/2022/11/fupg8ipuuaehi0a-1.jpg?w=1024 1024w, https://dougallj.wordpress.com/wp-content/uploads/2022/11/fupg8ipuuaehi0a-1.jpg?w=612 612w, https://dougallj.wordpress.com/wp-content/uploads/2022/11/fupg8ipuuaehi0a-1.jpg?w=1224 1224w, https://dougallj.wordpress.com/wp-content/uploads/2022/11/fupg8ipuuaehi0a-1.jpg?w=150 150w, https://dougallj.wordpress.com/wp-content/uploads/2022/11/fupg8ipuuaehi0a-1.jpg?w=300 300w" sizes="(max-width: 614px) 100vw, 614px"></a><figcaption>IDA Pro screenshot: side-by-side comparison of Rosetta 2 ahead-of-time code, and the original x86 code, for a function incorrectly named “parity64”, that computes the 8-bit parity an argument using the x86 parity-flag.</figcaption></figure>



<h2>Ahead-of-time translation</h2>



<p>Rosetta 2 translates the entire text segment of the binary from x86 to ARM up-front. It also supports just-in-time (JIT) translation, but that is used relatively rarely, avoiding both the direct runtime cost of compilation, and any indirect instruction and data cache effects.</p>



<p>Other interpreters typically translate code in execution order, which can allow faster startup times, but doesn’t preserve code locality.</p>



<h2>Usually one-to-one translation</h2>



<p>[<em>Correction:</em> an earlier version of this post said that every ahead-of-time translated instruction was a valid entry point. While I still believe it would be valid to jump to almost any ahead-of-time translated instruction, the lookup tables used do not allow for this. I believe this is an optimisation to keep the lookup size small. The prologue/epilogue optimisation was also discovered after the initial version of this post.]</p>



<p>Each x86 instruction is translated to one or more ARM instructions once within the ahead-of-time binary (with the exception of NOPs, which are ignored). When an indirect jump or call sets the instruction pointer to an arbitrary offset in the text segment, the runtime will look up the corresponding translated instruction, and branch there.</p>



<p>This uses an x86 to ARM lookup table that contains all function starts, and other basic blocks that are otherwise not referenced. If it misses this, for example while handling a switch-statement, it can fall back to the JIT.</p>



<p>To allow for precise exception handling, sampling profiling, and attaching debuggers, Rosetta 2 maintains a mapping from translated ARM instructions to their original x86 address, and guarantees that the state will be canonical between each instruction.</p>



<p>This almost entirely prevents inter-instruction optimisations. There are two known exceptions. The first is an “unused-flags” optimisation, which avoids calculating x86 flags value if they are not used before being overwritten on every path from a flag-setting instruction. The other combines function prologues and epilogues, combining push and pop instructions and delaying updates of the stack pointer. In the ARM to x86 address mapping these appear as though they were a single instruction.</p>



<p>There are some tradeoffs to keeping state canonical between each instruction:</p>



<ul>
<li>Either all emulated register values must be kept in host registers, or you need load or store instructions every time certain registers are used. 64-bit x86 has half as many registers as 64-bit ARM, so this isn’t a problem for Rosetta 2, but it would be a significant drawback to this technique for emulating 64-bit ARM on x86, or PPC on 64-bit ARM.</li>



<li>There are very few inter-instruction optimisations, leading to surprisingly poor code generation in some cases. However, in general, the code has already been generated by an optimising compiler for x86, so the benefits of many optimisations would be limited.</li>
</ul>



<p>However there are significant benefits:</p>



<ul>
<li>Generally translating each instruction only once has significant instruction-cache benefits –&nbsp;other emulators typically cannot reuse code when branching to a new target.</li>



<li>Precise exceptions, without needing to store much more information than instruction boundaries.</li>



<li>The debugger (LLDB) works with x86 binaries, and can attach to Rosetta 2 processes.</li>



<li>Having fewer optimisations simplifies code generation, making translation faster. Translation speed is important for both first-start time (where tens of megabytes of code may be translated), and JIT translation time, which is critical to the performance of applications that use JIT compilers.</li>
</ul>



<p>Optimising for the instruction-cache might not <em>seem</em> like a significant benefit, but it typically is in emulators, as there’s already an expansion-factor when translating between instruction sets. Every one-byte x86 push becomes a four byte ARM instruction, and every read-modify-write x86 instruction is three ARM instructions (or more, depending on addressing mode). And that’s if the perfect instruction is available. When the instructions have slightly different semantics, even more instructions are needed to get the required behaviour.</p>



<p>Given these constraints, the goal is generally to get as close to one-ARM-instruction-per-x86-instruction as possible, and the tricks described in the following sections allow Rosetta to achieve this surprisingly often. This keeps the expansion-factor as low as possible. For example, the instruction size expansion factor for an sqlite3 binary is ~1.64x (1.05MB of x86 instructions vs 1.72MB of ARM instructions).</p>



<p>(The two lookups (one from x86 to ARM and the other from ARM to x86) are found via the fragment list found in <strong>LC_AOT_METADATA</strong>. Branch target results are cached in a hash-map. Various structures can be used for these, but in one binary the performance-critical x86 to ARM mapping used a two-level binary search, and the much larger, less-performance-critical ARM to x86 mapping used a top-level binary search, followed by a linear scan through bit-packed data.)</p>



<h2>Memory layout</h2>



<p>An <strong>ADRP</strong> instruction followed by an <strong>ADD</strong> is used to emulate x86’s RIP-relative addressing. This is limited to a +/-1GB range. Rosetta 2 places the translated binary after the non-translated binary in memory, so you roughly have [untranslated code][data][translated code][runtime support code]. This means that <strong>ADRP</strong> can reference data and untranslated code as needed. Loading the runtime support functions immediately after the translated code also allows translated code to make direct calls into the runtime.</p>



<h2>Return address prediction</h2>



<p>All performant processors have a return-address-stack to allow branch prediction to correctly predict return instructions.</p>



<p>Rosetta 2 takes advantage of this by rewriting x86 <strong>CALL</strong> and <strong>RET</strong> instructions to ARM <strong>BL</strong> and <strong>RET</strong> instructions (as well as the architectural loads/stores and stack-pointer adjustments). This also requires some extra book-keeping, saving the expected x86 return-address and the corresponding translated jump target on a special stack when calling, and validating them when returning, but it allows for correct return prediction.</p>



<p>This trick is also used in the GameCube/Wii emulator Dolphin.</p>



<h2>ARM flag-manipulation extensions</h2>



<p>A lot of overhead comes from small differences in behaviour between x86 and ARM, like the semantics of flags. Rosetta 2 uses the ARM flag-manipulation extensions (FEAT_FlagM and FEAT_FlagM2) to handle these differences efficiently.</p>



<p>For example, x86 uses “subtract-with-borrow”, whereas ARM uses “subtract-with-carry”. This effectively inverts the carry flag when doing a subtraction, as opposed to when doing an addition. As <strong>CMP</strong> is a flag-setting subtraction without a result, it’s much more common to use the flags from a subtraction than an addition, so Rosetta 2 chooses inverted as the canonical form of the carry flag. The <strong>CFINV</strong> instruction (carry-flag-invert) is used to invert the carry after any <strong>ADD</strong> operation where the carry flag is used or may escape (and to rectify the carry flag, when it’s the input to an add-with-carry instruction).</p>



<p>x86 shift instructions also require complicated flag handling, as it shifts bits into the carry flag. The <strong>RMIF</strong> instruction (rotate-mask-insert-flags) is used within rosetta to move an arbitrary bit from a register into an arbitrary flag, which makes emulating fixed-shifts (among other things) relatively efficient. Variable shifts remain relatively inefficient if flags escape, as the flags must not be modified when shifting by zero, requiring a conditional branch.</p>



<p>Unlike x86, ARM doesn’t have any 8-bit or 16-bit operations. These are generally easy to emulate with wider operations (which is how compilers implement operations on these values), with the small catch that x86 requires preserving the original high-bits. However, the <strong>SETF8</strong> and <strong>SETF16</strong> instructions help to emulate the flag-setting behaviour of these narrower instructions.</p>



<p>Those were all from FEAT_FlagM. The instructions from FEAT_FlagM2 are <strong>AXFLAG</strong> and <strong>XAFLAG</strong>, which convert floating-point condition flags to/from a mysterious “external format”. By some strange coincidence, this format is x86, so these instruction are used when dealing with floating point flags.</p>



<h2>Floating-point handling</h2>



<p>x86 and ARM both implement IEEE-754, so the most common floating-point operations are almost identical. One exception is the handling of the different possible bit patterns underlying NaN values, and another is whether tininess is detected before or after rounding. Most applications won’t mind if you get this wrong, but some will, and to get it right would require expensive checks on every floating-point operation. Fortunately, this is handled in hardware.</p>



<p>There’s a standard ARM alternate floating-point behaviour extension (FEAT_AFP) from ARMv8.7, but the M1 design predates the v8.7 standard, so Rosetta 2 uses a non-standard implementation.</p>



<p>(What a coincidence – the “alternative” happens to exactly match x86. It’s quite funny to me that ARM will put “Javascript” in the description of an instruction, but needs two different euphemisms for “x86”.)</p>



<h2>Total store ordering (TSO)</h2>



<p>One non-standard ARM extension available on the Apple M1 that has been widely publicised is hardware support for TSO (total-store-ordering), which, when enabled, gives regular ARM load-and-store instructions the same ordering guarantees that loads and stores have on an x86 system.</p>



<p>As far as I know this is not part of the ARM standard, but it also isn’t Apple specific: Nvidia Denver/Carmel and Fujitsu A64fx are other 64-bit ARM processors that also implement TSO (<a href="https://twitter.com/marcan42/status/1534053625110351872">thanks to marcan for these details</a>).</p>



<h2>Apple’s secret extension</h2>



<p>There are only a handful of different instructions that account for 90% of all operations executed, and, near the top of that list are addition and subtraction. On ARM these can optionally set the four-bit NZCV register, whereas on x86 these always set six flag bits: CF, ZF, SF and OF (which correspond well-enough to NZCV), as well as PF (the parity flag) and AF (the adjust flag).</p>



<p>Emulating the last two in software is possible (and seems to be supported by Rosetta 2 for Linux), but can be rather expensive. Most software won’t notice if you get these wrong, but some software will. The Apple M1 has an undocumented extension that, when enabled, ensures instructions like <strong>ADDS</strong>, <strong>SUBS</strong> and <strong>CMP</strong> compute PF and AF and store them as bits 26 and 27 of NZCV respectively, providing accurate emulation with no performance penalty.</p>



<h2>Fast hardware</h2>



<p>Ultimately, the M1 is incredibly fast. By being so much wider than comparable x86 CPUs, it has a remarkable ability to avoid being throughput-bound, even with all the extra instructions Rosetta 2 generates. In some cases (iirc, IDA Pro) there really isn’t much of a speedup going from Rosetta 2 to native ARM.</p>



<h2>Conclusion</h2>



<p>I believe there is room for performance improvement in Rosetta 2, by performing more inter-instruction optimisations. However, this would come at the cost of significantly increased complexity (especially for debugging and exception handling), and increased translation times.</p>



<p>Engineering is about making the right tradeoffs, and I’d say Rosetta 2 has done exactly that. While other emulators might require inter-instruction optimisations for performance, Rosetta 2 is able to trust a fast CPU, generate code that respects its caches and predictors, and solve the messiest problems in hardware.</p>



<p>You can follow me at <a href="https://mastodon.social/@dougall"></a><a href="https://mastodon.social/@dougall">@dougall@mastodon.social</a>.</p>



<h2>Update: SSE2 support</h2>



<p>After reading some comments I realised this was a significant omission from the original post. Rosetta 2 provides full emulation for the SSE2 SIMD instruction set. These instructions have been enabled in compilers by default for many years, so this would have been required for compatibility. However, all common operations are translated to a reasonably-optimised sequence of NEON operations. This is critical to the performance of software that has been optimised to use these instructions.</p>



<p>Many emulators also use this SIMD to SIMD translation approach, but other use SIMD to scalar, or call out to runtime support functions for each SIMD operation.</p>



<h2>Update: Unused flag optimisation</h2>



<p>This is one of two inter-instruction optimisations mentioned earlier, but it deserves its own section. Rosetta 2 avoids computing flags when they are unused and don’t escape. This means that even with the flag-manipulation instructions, the vast majority of flag-setting x86 instructions can be translated to non-flag-setting ARM instructions, with no fix-up required. This improves instruction count and size a lot.</p>



<p>It’s even more valuable for Rosetta 2 in Linux VMs. In VMs, Rosetta is unable to enable the Apple parity-flag extension, and instead computes the value manually. (It may or may not also compute the adjust-flag). This is relatively expensive, so it’s very valuable to avoid it.</p>



<h2>Update: Prologue/epilogue combining</h2>



<p>The last inter-instruction optimisation I’m aware of is prologue/epilogue combining. Rosetta 2 finds groups of instructions that set up or tear down stack frames, and merges them, pairing loads and stores, and delaying stack-pointer updates. This is equivalent to the “stack engine” found in hardware implementations of x86.</p>



<p>For example, the following prologue:</p>



<pre><code>push rbp
mov rbp, rsp
push rbx
push rax</code></pre>



<p>Becomes:</p>



<pre><code>stur x5, [x4,#-8]
sub x5, x4, #8
stp x0, x3, [x4,#-0x18]!</code></pre>



<p>This greatly reduces the number of loads, stores, and arithmetic instructions that modify the stack-pointer, improving performance and code size. These paired loads and stores execute as a single operation on the Apple M1, which, as far as I know, isn’t possible on x86 CPUs, giving Rosetta 2 an advantage here.</p>



<h2>Appendix: Research Method</h2>



<p>This exploration was based on the methods and information described in Koh M. Nakagawa’s excellent <a href="https://ffri.github.io/ProjectChampollion/">Project Champollion</a>.</p>



<p>To see ahead-of-time translated Rosetta code, I believe I had to disable SIP, compile a new x86 binary, give it a unique name, run it, and then run <strong>otool -tv /var/db/oah/*/*/unique-name.aot</strong> (or use your tool of choice – it’s just a Mach-O binary). This was done on an old version of macOS, so things may have changed and improved since then.</p>



<h2>Update: Appendix: Compatibility</h2>



<p>Although it has nothing to do with why Rosetta 2 is fast, there are a couple of impressive compatibility features that seem worth mentioning.</p>



<p>Rosetta 2 has a full, slow, software implementation of x87’s 80-bit floating point numbers. This allows software that uses those instructions to run correctly. Windows on Arm approaches this by using 64-bit float operations, which generally works, but the decreased precision cause problems on in rare cases. Most software either doesn’t use x87, or was designed to run on older hardware, so even though this emulation is slow, the performance typically works out.</p>



<p>[<em>Update: </em>An earlier version of this post stated that I didn’t believe Windows on Arm handled x87. Thanks to kode54 for correcting this in a comment.]</p>



<p>Rosetta 2 also apparently supports the full 32-bit instruction set for Wine. Support for native 32-bit macOS applications was dropped prior to the launch of Apple Silicon, but support for the 32-bit x86 instruction set allegedly lives on. (I haven’t investigated this myself.)</p>




			</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Open Riak – open, modern Riak fork (121 pts)]]></title>
            <link>https://github.com/OpenRiak</link>
            <guid>42187766</guid>
            <pubDate>Tue, 19 Nov 2024 20:29:30 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/OpenRiak">https://github.com/OpenRiak</a>, See on <a href="https://news.ycombinator.com/item?id=42187766">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="" data-view-component="true">
  

  
  <div>
    
    <article itemprop="text"><p dir="auto"><h2 dir="auto">The OpenRiak Project</h2><a id="user-content-the-openriak-project" aria-label="Permalink: The OpenRiak Project" href="#the-openriak-project"></a></p>
<p dir="auto">Promoting an open, modern Riak</p>
</article>
  </div>

  

    <div>

  <h2>
        Popular repositories

    <span data-view-component="true">
      <span>Loading</span>
</span>
    <span role="status" aria-live="polite" data-error-text="Something went wrong." data-success-text="Order updated."></span>
  </h2>

    <ol>

    <li>
      <div>
          

            <p>
              Forked from <a href="https://github.com/basho/riak">basho/riak</a>
            </p>

          <p>
            Riak is a decentralized datastore from Basho Technologies.
          </p>

          <p>
              <span>
  <span></span>
  <span itemprop="programmingLanguage">Shell</span>
</span>

              <a href="https://github.com/OpenRiak/riak/stargazers">
                <svg aria-label="stars" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z"></path>
</svg>
                55
              </a>
          </p>
        </div>
    </li>

    <li>
      
    </li>

    <li>
      <div>
          

            <p>
              Forked from <a href="https://github.com/basho/riak_core">basho/riak_core</a>
            </p>

          <p>
            Distributed systems infrastructure used by Riak.
          </p>

          <p>
              <span>
  <span></span>
  <span itemprop="programmingLanguage">Erlang</span>
</span>

              <a href="https://github.com/OpenRiak/riak_core/stargazers">
                <svg aria-label="stars" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z"></path>
</svg>
                6
              </a>
              <a href="https://github.com/OpenRiak/riak_core/forks">
                <svg aria-label="fork" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"></path>
</svg>
                1
              </a>
          </p>
        </div>
    </li>

    <li>
      
    </li>

    <li>
      
    </li>

    <li>
      
    </li>
</ol>

</div>


    <div id="org-profile-repositories">
      <h3>
        
        Repositories
      </h3>
      
      <div id="org-repositories" data-delay-results="">
    <p><span data-autosearch-results="">Showing 10 of 71 repositories</span></p><div data-view-component="true">
  
  
    <ul data-view-component="true">
        <li data-view-component="true">          <div itemprop="owns" itemtype="http://schema.org/Code" itemscope="itemscope" data-view-component="true">
  
    <div data-view-component="true">
      
      <p><span data-view-component="true"><a id="commit-activity-link-878406039" href="https://github.com/OpenRiak/redbug/graphs/commit-activity" data-view-component="true">
        </a><tool-tip id="tooltip-bf52abda-ae59-4406-ac75-b4426e522155" for="commit-activity-link-878406039" popover="manual" data-direction="s" data-type="label" data-view-component="true">OpenRiak/redbug’s past year of commit activity</tool-tip></span>
</p></div>
    <div data-view-component="true">

        <p><span>
  <span></span>
  <span itemprop="programmingLanguage">Erlang</span>
</span>


        <span aria-label="0 stars" data-view-component="true">
          0
</span>
        <span data-view-component="true">
          MIT
</span></p><a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:forks&quot;}" aria-label="47 forks" href="https://github.com/OpenRiak/redbug/forks" data-view-component="true">
          
          47
</a>
      <a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:issues&quot;}" aria-label="0 issues" href="https://github.com/OpenRiak/redbug/issues" data-view-component="true">
        
        0
</a>

      <a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:pull_requests&quot;}" aria-label="0 pull requests" href="https://github.com/OpenRiak/redbug/pulls" data-view-component="true">
        
        0
</a>
      <p><span data-view-component="true">
          Updated <relative-time datetime="2024-11-06T21:24:00Z">Nov 6, 2024</relative-time>
</span></p></div></div>
</li>
        <li data-view-component="true">          <div itemprop="owns" itemtype="http://schema.org/Code" itemscope="itemscope" data-view-component="true">
  
    <div data-view-component="true">
      
      <p><span data-view-component="true"><a id="commit-activity-link-682081244" href="https://github.com/OpenRiak/riak_kv/graphs/commit-activity" data-view-component="true">
        </a><tool-tip id="tooltip-27e1b8a9-b351-4e3d-ba58-077145e421f2" for="commit-activity-link-682081244" popover="manual" data-direction="s" data-type="label" data-view-component="true">OpenRiak/riak_kv’s past year of commit activity</tool-tip></span>
</p></div>
    <div data-view-component="true">

        <p><span>
  <span></span>
  <span itemprop="programmingLanguage">Erlang</span>
</span></p><a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:stars&quot;}" aria-label="1 star" href="https://github.com/OpenRiak/riak_kv/stargazers" data-view-component="true">
          
          1
</a>

        <a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:forks&quot;}" aria-label="243 forks" href="https://github.com/OpenRiak/riak_kv/forks" data-view-component="true">
          
          243
</a>
      <a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:issues&quot;}" aria-label="14 issues" href="https://github.com/OpenRiak/riak_kv/issues" data-view-component="true">
        
        14
</a>

      <a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:pull_requests&quot;}" aria-label="4 pull requests" href="https://github.com/OpenRiak/riak_kv/pulls" data-view-component="true">
        
        4
</a>
      <p><span data-view-component="true">
          Updated <relative-time datetime="2024-11-06T13:39:07Z">Nov 6, 2024</relative-time>
</span></p></div></div>
</li>
        <li data-view-component="true">          <div itemprop="owns" itemtype="http://schema.org/Code" itemscope="itemscope" data-view-component="true">
  
    <div data-view-component="true">
      
      <p><span data-view-component="true"><a id="commit-activity-link-729513573" href="https://github.com/OpenRiak/riak_logger/graphs/commit-activity" data-view-component="true">
        </a><tool-tip id="tooltip-758a8342-7c35-4147-86e4-805f6370b5b0" for="commit-activity-link-729513573" popover="manual" data-direction="s" data-type="label" data-view-component="true">OpenRiak/riak_logger’s past year of commit activity</tool-tip></span>
</p></div>
    <div data-view-component="true">

        <p><span>
  <span></span>
  <span itemprop="programmingLanguage">Erlang</span>
</span></p><a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:stars&quot;}" aria-label="1 star" href="https://github.com/OpenRiak/riak_logger/stargazers" data-view-component="true">
          
          1
</a>
        <p><span data-view-component="true">
          Apache-2.0
</span>
        <span aria-label="0 forks" data-view-component="true">
          0
</span></p><a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:issues&quot;}" aria-label="0 issues" href="https://github.com/OpenRiak/riak_logger/issues" data-view-component="true">
        
        0
</a>

      <a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:pull_requests&quot;}" aria-label="0 pull requests" href="https://github.com/OpenRiak/riak_logger/pulls" data-view-component="true">
        
        0
</a>
      <p><span data-view-component="true">
          Updated <relative-time datetime="2024-11-05T16:37:20Z">Nov 6, 2024</relative-time>
</span></p></div></div>
</li>
        <li data-view-component="true">          <div itemprop="owns" itemtype="http://schema.org/Code" itemscope="itemscope" data-view-component="true">
  
    <div data-view-component="true">
      <div data-view-component="true">
        <p><a itemprop="name codeRepository" data-hovercard-type="repository" data-hovercard-url="/OpenRiak/riak/hovercard" data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:repo_nwo&quot;}" href="https://github.com/OpenRiak/riak" data-view-component="true">
          riak
</a>
        <span title="Label: Public" data-view-component="true">
          Public
</span>
          <span data-view-component="true">
            Forked from
            <a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:parent&quot;}" href="https://github.com/basho/riak" data-view-component="true">
              basho/riak
</a></span></p><p itemprop="description" data-view-component="true">
            Riak is a decentralized datastore from Basho Technologies.
</p></div>
      <p><span data-view-component="true"><a id="commit-activity-link-682613702" href="https://github.com/OpenRiak/riak/graphs/commit-activity" data-view-component="true">
        </a><tool-tip id="tooltip-2fc2b75c-567a-46b2-93ae-baeddb94574b" for="commit-activity-link-682613702" popover="manual" data-direction="s" data-type="label" data-view-component="true">OpenRiak/riak’s past year of commit activity</tool-tip></span>
</p></div>
    <div data-view-component="true">

        <p><span>
  <span></span>
  <span itemprop="programmingLanguage">Shell</span>
</span></p><a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:stars&quot;}" aria-label="55 stars" href="https://github.com/OpenRiak/riak/stargazers" data-view-component="true">
          
          55
</a>
        <p><span data-view-component="true">
          Apache-2.0
</span></p><a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:forks&quot;}" aria-label="574 forks" href="https://github.com/OpenRiak/riak/forks" data-view-component="true">
          
          574
</a>
      <a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:issues&quot;}" aria-label="3 issues" href="https://github.com/OpenRiak/riak/issues" data-view-component="true">
        
        3
</a>

      <a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:pull_requests&quot;}" aria-label="1 pull request" href="https://github.com/OpenRiak/riak/pulls" data-view-component="true">
        
        1
</a>
      <p><span data-view-component="true">
          Updated <relative-time datetime="2024-11-05T13:45:27Z">Nov 5, 2024</relative-time>
</span></p></div></div>
</li>
        <li data-view-component="true">          <div itemprop="owns" itemtype="http://schema.org/Code" itemscope="itemscope" data-view-component="true">
  
    <div data-view-component="true">
      
      <p><span data-view-component="true"><a id="commit-activity-link-866563686" href="https://github.com/OpenRiak/riak-docs/graphs/commit-activity" data-view-component="true">
        </a><tool-tip id="tooltip-5c3e8f7e-5496-4738-a3ef-347b7c4ea8da" for="commit-activity-link-866563686" popover="manual" data-direction="s" data-type="label" data-view-component="true">OpenRiak/riak-docs’s past year of commit activity</tool-tip></span>
</p></div>
    <div data-view-component="true">

        <p><span>
  <span></span>
  <span itemprop="programmingLanguage">SCSS</span>
</span></p><a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:stars&quot;}" aria-label="1 star" href="https://github.com/OpenRiak/riak-docs/stargazers" data-view-component="true">
          
          1
</a>

        <p><span aria-label="0 forks" data-view-component="true">
          0
</span></p><a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:issues&quot;}" aria-label="0 issues" href="https://github.com/OpenRiak/riak-docs/issues" data-view-component="true">
        
        0
</a>

      <a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:pull_requests&quot;}" aria-label="0 pull requests" href="https://github.com/OpenRiak/riak-docs/pulls" data-view-component="true">
        
        0
</a>
      <p><span data-view-component="true">
          Updated <relative-time datetime="2024-10-31T09:46:05Z">Oct 31, 2024</relative-time>
</span></p></div></div>
</li>
        <li data-view-component="true">          <div itemprop="owns" itemtype="http://schema.org/Code" itemscope="itemscope" data-view-component="true">
  
    <div data-view-component="true">
      
      <p><span data-view-component="true"><a id="commit-activity-link-879726974" href="https://github.com/OpenRiak/ranch/graphs/commit-activity" data-view-component="true">
        </a><tool-tip id="tooltip-4eeb7807-49ca-48f0-b57a-61ea684e56f5" for="commit-activity-link-879726974" popover="manual" data-direction="s" data-type="label" data-view-component="true">OpenRiak/ranch’s past year of commit activity</tool-tip></span>
</p></div>
    <div data-view-component="true">

        <p><span>
  <span></span>
  <span itemprop="programmingLanguage">Erlang</span>
</span>


        <span aria-label="0 stars" data-view-component="true">
          0
</span>
        <span data-view-component="true">
          ISC
</span></p><a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:forks&quot;}" aria-label="344 forks" href="https://github.com/OpenRiak/ranch/forks" data-view-component="true">
          
          344
</a>
      <a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:issues&quot;}" aria-label="0 issues" href="https://github.com/OpenRiak/ranch/issues" data-view-component="true">
        
        0
</a>

      <a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:pull_requests&quot;}" aria-label="0 pull requests" href="https://github.com/OpenRiak/ranch/pulls" data-view-component="true">
        
        0
</a>
      <p><span data-view-component="true">
          Updated <relative-time datetime="2024-10-29T14:05:43Z">Oct 29, 2024</relative-time>
</span></p></div></div>
</li>
        <li data-view-component="true">          <div itemprop="owns" itemtype="http://schema.org/Code" itemscope="itemscope" data-view-component="true">
  
    <div data-view-component="true">
      
      <p><span data-view-component="true"><a id="commit-activity-link-682082416" href="https://github.com/OpenRiak/hyper/graphs/commit-activity" data-view-component="true">
        </a><tool-tip id="tooltip-2aefef74-b3d4-4b67-ac61-747998b0056c" for="commit-activity-link-682082416" popover="manual" data-direction="s" data-type="label" data-view-component="true">OpenRiak/hyper’s past year of commit activity</tool-tip></span>
</p></div>
    <div data-view-component="true">

        <p><span>
  <span></span>
  <span itemprop="programmingLanguage">Erlang</span>
</span>


        <span aria-label="0 stars" data-view-component="true">
          0
</span>
        <span data-view-component="true">
          MIT
</span></p><a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:forks&quot;}" aria-label="28 forks" href="https://github.com/OpenRiak/hyper/forks" data-view-component="true">
          
          28
</a>
      <a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:issues&quot;}" aria-label="0 issues" href="https://github.com/OpenRiak/hyper/issues" data-view-component="true">
        
        0
</a>

      <a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:pull_requests&quot;}" aria-label="0 pull requests" href="https://github.com/OpenRiak/hyper/pulls" data-view-component="true">
        
        0
</a>
      <p><span data-view-component="true">
          Updated <relative-time datetime="2024-10-29T14:01:31Z">Oct 29, 2024</relative-time>
</span></p></div></div>
</li>
        <li data-view-component="true">          <div itemprop="owns" itemtype="http://schema.org/Code" itemscope="itemscope" data-view-component="true">
  
    <div data-view-component="true">
      
      <p><span data-view-component="true"><a id="commit-activity-link-682069673" href="https://github.com/OpenRiak/ibrowse/graphs/commit-activity" data-view-component="true">
        </a><tool-tip id="tooltip-51551c8e-c911-43e4-9829-dc36942e5aea" for="commit-activity-link-682069673" popover="manual" data-direction="s" data-type="label" data-view-component="true">OpenRiak/ibrowse’s past year of commit activity</tool-tip></span>
</p></div>
    <div data-view-component="true">

        <p><span>
  <span></span>
  <span itemprop="programmingLanguage">Erlang</span>
</span>


        <span aria-label="0 stars" data-view-component="true">
          0
</span></p><a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:forks&quot;}" aria-label="199 forks" href="https://github.com/OpenRiak/ibrowse/forks" data-view-component="true">
          
          199
</a>
      <a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:issues&quot;}" aria-label="0 issues" href="https://github.com/OpenRiak/ibrowse/issues" data-view-component="true">
        
        0
</a>

      <a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:pull_requests&quot;}" aria-label="0 pull requests" href="https://github.com/OpenRiak/ibrowse/pulls" data-view-component="true">
        
        0
</a>
      <p><span data-view-component="true">
          Updated <relative-time datetime="2024-10-29T13:49:22Z">Oct 29, 2024</relative-time>
</span></p></div></div>
</li>
        <li data-view-component="true">          <div itemprop="owns" itemtype="http://schema.org/Code" itemscope="itemscope" data-view-component="true">
  
    <div data-view-component="true">
      
      <p><span data-view-component="true"><a id="commit-activity-link-682586345" href="https://github.com/OpenRiak/riak_repl/graphs/commit-activity" data-view-component="true">
        </a><tool-tip id="tooltip-6a9a69e3-edfe-4b41-a265-6bc0c2157ae2" for="commit-activity-link-682586345" popover="manual" data-direction="s" data-type="label" data-view-component="true">OpenRiak/riak_repl’s past year of commit activity</tool-tip></span>
</p></div>
    <div data-view-component="true">

        <p><span>
  <span></span>
  <span itemprop="programmingLanguage">Erlang</span>
</span>


        <span aria-label="0 stars" data-view-component="true">
          0
</span></p><a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:forks&quot;}" aria-label="32 forks" href="https://github.com/OpenRiak/riak_repl/forks" data-view-component="true">
          
          32
</a>
      <a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:issues&quot;}" aria-label="0 issues" href="https://github.com/OpenRiak/riak_repl/issues" data-view-component="true">
        
        0
</a>

      <a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:pull_requests&quot;}" aria-label="0 pull requests" href="https://github.com/OpenRiak/riak_repl/pulls" data-view-component="true">
        
        0
</a>
      <p><span data-view-component="true">
          Updated <relative-time datetime="2024-10-29T09:44:05Z">Oct 29, 2024</relative-time>
</span></p></div></div>
</li>
        <li data-view-component="true">          <div itemprop="owns" itemtype="http://schema.org/Code" itemscope="itemscope" data-view-component="true">
  
    <div data-view-component="true">
      
      <p><span data-view-component="true"><a id="commit-activity-link-877803163" href="https://github.com/OpenRiak/parse_trans/graphs/commit-activity" data-view-component="true">
        </a><tool-tip id="tooltip-fe17ab2b-4024-4a90-a182-8451954b9b50" for="commit-activity-link-877803163" popover="manual" data-direction="s" data-type="label" data-view-component="true">OpenRiak/parse_trans’s past year of commit activity</tool-tip></span>
</p></div>
    <div data-view-component="true">

        <p><span>
  <span></span>
  <span itemprop="programmingLanguage">Erlang</span>
</span>


        <span aria-label="0 stars" data-view-component="true">
          0
</span>
        <span data-view-component="true">
          Apache-2.0
</span></p><a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:forks&quot;}" aria-label="123 forks" href="https://github.com/OpenRiak/parse_trans/forks" data-view-component="true">
          
          123
</a>
      <a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:issues&quot;}" aria-label="0 issues" href="https://github.com/OpenRiak/parse_trans/issues" data-view-component="true">
        
        0
</a>

      <a data-analytics-event="{&quot;category&quot;:&quot;profiles:org_repos_list_item&quot;,&quot;action&quot;:&quot;click&quot;,&quot;label&quot;:&quot;target:pull_requests&quot;}" aria-label="0 pull requests" href="https://github.com/OpenRiak/parse_trans/pulls" data-view-component="true">
        
        0
</a>
      <p><span data-view-component="true">
          Updated <relative-time datetime="2024-10-28T15:22:28Z">Oct 28, 2024</relative-time>
</span></p></div></div>
</li>
</ul>  
</div></div>
  </div>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Using Erlang hot code updates (137 pts)]]></title>
            <link>https://underjord.io/how-i-use-erlang-hot-code-updates.html</link>
            <guid>42187761</guid>
            <pubDate>Tue, 19 Nov 2024 20:29:03 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://underjord.io/how-i-use-erlang-hot-code-updates.html">https://underjord.io/how-i-use-erlang-hot-code-updates.html</a>, See on <a href="https://news.ycombinator.com/item?id=42187761">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content">
<main>
    <hr>
    <article>
        
        <small>2024-11-19</small>
        <p>
            Underjord is a <a href="https://underjord.io/team.html">tiny, wholesome team</a> doing Elixir consulting and contract work. If
            you
            like
            the writing you should really try the code. See our <a href="https://underjord.io/services.html">services</a> for more
            information.
        </p>
        <p>One of the Erlang ecosystem’s spiciest nerd snipes are hot code updates. Because it can do it. In ways that almost no other runtime can.</p>
<p>I use Elixir which builds on Erlang and has the same capabilities.</p>
<p>The standard way of doing Elixir releases via <code>mix release</code> does not support Erlang hot code updates. As in, it will not generate the necessary files for you. And if you do want to do it there are several blog posts you need to stitch together or you need to use the Erlang docs in great detail. Learn You Some Erlang has <a href="https://learnyousomeerlang.com/relups">documented much of it</a> of course. AppSignal also has a neat guide on <a href="https://blog.appsignal.com/2021/07/27/a-guide-to-hot-code-reloading-in-elixir.html">hot code reloading in Elixir</a>.</p>
<p>Bryan Hunter and Chris Keathley are both people I listen when they speak because it tends to be interesting, challenging and something I just might not have heard before. Both have described hot code updates as something that people should learn and use. I imagine Whatsapp’s initial engineering crew would agree. They did pretty well.</p>
<p>Of course we do use it. But mostly for trivial things.</p>
<p>Anyone using IEx <code>r MyModule</code> or <code>recompile</code> are doing hot code updates. But reloading a module in development on you local machine doesn’t feel all that spicy. It is cool and useful but feels like an incremental compile or watcher/builder type of thing.</p>
<p>I use it constantly <a href="https://underjord.io/unpacking-elixir-iot-embedded-nerves.html">with Nerves</a>. When developing on an embedded Elixir device and needing to tune some numbers, or reworking a module, pasting into the IEx is faster than uploading new firmware and waiting for the reboot. I stop and start parts of the applications or just terminate the relevant GenServer if I need a state reset.</p>
<p>I’ve also used it for remote devices over <a href="https://github.com/nerves-hub/nerves_hub_web">NervesHub</a>’s built in web console that offers an IEx prompt. When debugging a misbehaving Real Time Clock it was pretty nice to just paste chunks of utility functions and relevant I2C-calls over to the device to get clear answers about what it was doing.</p>
<p>I’d love to see more tooling for the full-blown delivery of hot code updates on top of Elixir’s <code>mix release</code> tooling. Or in the vein of the predecessor <code>distillery</code>. I don’t think there are any shortcuts for doing a correct hot code update. Much like database migrations they require care. And you’ll need to know how you dependencies react to hot code updates and many other interesting topics.</p>
<p>This was just a quick one in case people are curious how Erlang’s hot code updates are actually used, day-to-day, in Elixir.</p>
<p>If you have comments or questions you can find me on the fediverse via <a href="https://twitter.com/lawik">@lawik</a> or email me at <a href="mailto:lars@underjord.io">lars@underjord.io</a>.</p>

        <p>
            Underjord is a <a href="https://underjord.io/team.html">4 people team</a> doing Elixir consulting and contract work. If you like
            the writing you should really try the code. See our <a href="https://underjord.io/services.html">services</a> for more
            information.
        </p>
        <p>
            Note: Or try the videos on <a href="https://youtube.com/c/underjord">the YouTube
                channel</a>.
        </p>
        
    </article>

    <hr>

    

    <hr>
</main>

        </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[When did estimates turn into deadlines? (161 pts)]]></title>
            <link>https://domainanalysis.io/p/architecture-modernization-execution</link>
            <guid>42187506</guid>
            <pubDate>Tue, 19 Nov 2024 20:03:10 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://domainanalysis.io/p/architecture-modernization-execution">https://domainanalysis.io/p/architecture-modernization-execution</a>, See on <a href="https://news.ycombinator.com/item?id=42187506">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><article><div dir="auto"><p><strong>Can I please return to my vacation days in early October?&nbsp;</strong></p><p><span>After my unforgettable and fun vacation in </span><a href="https://english.visitseoul.net/" rel="">Seoul</a><span> and </span><a href="https://nomadicsamuel.com/city-guides/sokcho-travel-guide" rel="">Sokcho</a><span>, my original plan was to write about Systems Thinking and the book I read, "</span><a href="https://www.amazon.com/dp/0060839872" rel="">Zen and the Art of Motorcycle Maintenance</a><span>" by Robert Pirsig. </span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F567f5889-d0b7-4149-8ed4-d225e33674dc_1290x1526.heic" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F567f5889-d0b7-4149-8ed4-d225e33674dc_1290x1526.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F567f5889-d0b7-4149-8ed4-d225e33674dc_1290x1526.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F567f5889-d0b7-4149-8ed4-d225e33674dc_1290x1526.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F567f5889-d0b7-4149-8ed4-d225e33674dc_1290x1526.heic 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F567f5889-d0b7-4149-8ed4-d225e33674dc_1290x1526.heic" width="1290" height="1526" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/567f5889-d0b7-4149-8ed4-d225e33674dc_1290x1526.heic&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1526,&quot;width&quot;:1290,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:390657,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/heic&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null,&quot;isProcessing&quot;:false}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F567f5889-d0b7-4149-8ed4-d225e33674dc_1290x1526.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F567f5889-d0b7-4149-8ed4-d225e33674dc_1290x1526.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F567f5889-d0b7-4149-8ed4-d225e33674dc_1290x1526.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F567f5889-d0b7-4149-8ed4-d225e33674dc_1290x1526.heic 1456w" sizes="100vw" fetchpriority="high"></picture></div></a><figcaption>The Great Buddha at Seoraksan National Park, South Korea</figcaption></figure></div><p>But all it takes is a moment, which has lasted more than two weeks, and I feel my life has turned upside down. The last two weeks have been quite literally a car wreck.&nbsp;</p><ul><li><p>First, the Sunday before the US elections, while pulling over for a paramedic, I got rear-ended by a monster pickup truck. I am fine, thankfully, but my car still is not.&nbsp;</p></li><li><p>Second, I really believed that the company I work for, the New York Times, would avoid the ULP strike by the tech workers by agreeing to a fair contract before the US elections. That did not happen. And I don't want to discuss the US election results because that hurt will not go away anytime soon. Meanwhile, my colleagues and I went on an 8-day ULP strike. Since the company refused to bargain with us while we were on strike, we decided to end the strike and return to work earlier this week. We would like to get the contract we deserve soon.</p></li><li><p>I am trying very hard to return back to functioning, I must be succeeding because here I am, able to write some words!&nbsp;</p></li></ul><p><strong>Estimates - Is it an Art or Science?&nbsp;</strong></p><p>My car has been in the auto body repair shop for the past two weeks, and I am still trying to get an estimate of its damages. I am learning that it's an interesting domain:&nbsp;</p><ul><li><p>First, the insurance adjuster submits what they think is the damage to the car to the repair shop. Let's say this is $15000</p></li><li><p>Next, the repair shop submits what they think is the damage back to the insurance company. Let's say it's $18000, and the shop estimates it would take 30 days to fix it.&nbsp;</p></li><li><p>Eventually, the insurance adjuster and the repair shop expert meet to assess the damage together. Let's say the insurance adjuster approves this new estimate from the repair shop. The repair shop then starts with the repair process. At least this is my understanding so far.&nbsp;</p></li></ul><p><strong>Unforeseen Issues</strong></p><p>But what if there is damage that can't be seen yet? Let's say the repair shop is in the process of doing the repairs they notice additional damage. Or they put the car on the frame machine to see if there is damage to the frame. In a unibody frame, it's not just the point of impact of the frame; some of the effects can also transfer to the back of the frame. So they'll have to inspect it to assess the full damage. They might start unassembling the car and notice more damage that was not originally on the estimate. Now what?&nbsp;</p><p><strong>Emergent Solutions&nbsp;</strong></p><p>Let's say, based on the new findings, it's going to cost an additional $20,000. They now need the approval of the insurance company to proceed. So they write up the new findings with the new cost and send a supplemental repair for approval. The insurance company will determine whether, at this point, it still makes sense to proceed with the repair or call it a total loss. And, of course, there are guidelines and rules to determine that. Let's assume it's not a total loss. The insurance company then approves the additional cost of repair.&nbsp;</p><p><strong>Real Talk or Crazy Talk?</strong></p><p>Can you imagine if the insurance company started arguing with the repair shop, asking them—no—telling them that they would only pay the $18,000 and not the additional $20,000 because that was the original estimate? Does that sound ridiculous to you? It does to me, too. Thank heavens, reality does not operate like this.&nbsp;</p><p><strong>Isn't Complex Software Architecture Modernization the same?&nbsp;</strong></p><p>When you are in the process of modernizing legacy software, you are in the realm of complex software. When you look at it from the outside, you see some obvious things, and based on experience and expertise, you come up with an initial estimate. This is the repair shop's original estimate of $18,000</p><p>As you are in the process, you start uncovering additional complexity. This complexity could be similar to some hidden damages the repair shop discovered after un-assembling the parts, or this could be significant frame damage that the repair shop discovered. What do you do? You need additional approvals to proceed at this point.&nbsp;</p><p><strong>Good Leaders Ask the Right Questions</strong></p><p>The right questions are asked if you are in a healthy software development environment when you bubble these problems up. How complex is this problem? What are the different ways of solving this? What are the tradeoffs? Are there workarounds or alternate solutions to this?&nbsp;</p><p>Suppose the questions start leading to how you did not see this complexity, how you missed this, why it is taking so long, and you are beholden to the original estimated dates? May the force be with you and your team to give you the strength to see this through. Hopefully, your modernization journey will be a short and successful one.&nbsp;</p><p><strong>To Proceed or call it a Total Loss?</strong></p><p>I have been involved in both types of modernization projects. Cases where the supplemental cost gets approved, and work proceeds until the next step,&nbsp; rinse and repeat until the project has come to completion. I've also seen total loss, i.e.&nbsp; the project got canned because it was too expensive to proceed, and it would cost more than it was worth. It's not easy deciding this, and there are frameworks and decision workshops to try and choose the direction.&nbsp;</p><p><strong>Is this a complex context or a complicated context?</strong></p><p><span>I urge you to read the excellent article from David J Snowden and Mary E Boone on,</span><a href="https://hbr.org/2007/11/a-leaders-framework-for-decision-making" rel=""> “A Leaders Framework for Decision Making”</a><span>. Using the Cynefin framework, motorcycle maintenance or auto repair might fall under the complicated context. In order to fix the car, the expert technician, after having listened to how the collision happened, also has to analyze and test multiple factors, such as unseen damage, frame damage, etc., to determine the best course of action for the car.&nbsp;</span></p><p>However, in a complex context, you can only decide whether or not it is right or wrong in hindsight, i.e. after you've tried the thing. Does this jive more and more with complex legacy modernization software projects? I.e. you try something and learn that the integration you thought would work doesn’t work or you uncover a completely new behavior you never knew existed and you now have to account for it?&nbsp; </p><p>There is no fixed path when modernizing a complex legacy system. There is no rulebook to follow. You try, experiment, discover, solve, and move on to the next piece until you're done.&nbsp;</p><p><strong>Denial - Anger - Bargaining - Depression - Acceptance??</strong></p><p>When modernizing applications, if we understand that this effort falls somewhere between Complex and Complicated Contexts, we can implement the right sort of gauges to see how to proceed and determine success. Applying the process of estimates for a complex context is wrong. It’s like trying to use a hammer as a solution for every screw or a lug nut!&nbsp;Sometimes you need a screwdriver and sometimes you need a wrench!</p><p>Curveballs in modernization projects are just a reality. You can't foresee every outcome ahead of time. No amount of upfront analysis would lead you to a perfect data model. There will be new learnings almost every step of the way. Data Models will have to change based on the complexity you have uncovered. So it's a matter of when, not if, for curveballs. When a curveball hits and the estimate changes, take a step forward instead of getting angry or blaming folks or trying to do a what-if analysis on how best to bring the schedule in. </p><p><span>When you’re dealing with curveballs, which </span><a href="https://continuousdelivery.com/implementing/culture/" rel="">Ron Westrum’s defined model of culture</a><span> does your organization adopt? Power-Oriented where messengers who inform about the curveballs are shot and failure leads to&nbsp; scapegoated, Rule-Oriented where the messengers who inform about the curveballs are ignored and failure leads to justice or Performance- Oriented where the messengers who inform about the curveballs are trained and failure leads to enquiry?&nbsp;</span></p><p>As long as the problem you're trying to solve is still relevant and still meets the business needs, take it one step at a time. Ultimately the software you are trying to modernize is for users.&nbsp;</p><p><strong>Tip for Leaders Leading Modernization Initiatives</strong></p><p><span>To quote from the same </span><a href="https://hbr.org/2007/11/a-leaders-framework-for-decision-making" rel="">article</a><span>, "Leaders who don't recognize that a complex domain requires a more experimental mode of management may become impatient when they don't seem to be achieving the results they were aiming for. They may also find it difficult to tolerate failure, an essential aspect of experimental understanding. If they try to overcontrol the organization, they will preempt the opportunity for informative patterns to emerge. Leaders who try to impose order in a complex context will fail. Still, those who set the stage, step back a bit, allow patterns to emerge, and determine which ones are desirable will succeed".&nbsp;</span></p><p><strong>A New Hope</strong></p><p>Either way I will be ok, whether the repair company is able to fix my car or the insurance company deems it a total loss. The system works. I wish I could say the same for modernization projects and the awful industry practice about how much ceremony we attribute to estimates, completely forgetting that an estimate means an approximate of the actual. I hope more and more software companies and leadership use the proper framework for measuring success. I hope this leaves you with some ideas on implementing changes or at least questioning the practices if they seem wrong.&nbsp;</p><p><em>"I've wondered why it took us so long to catch on. We saw it, and yet we didn't see it. Or rather we were trained not to see it. Conned perhaps into thinking that the real action was metropolitan and all this was just boring hinterland. It was a puzzling thing. The truth knocks on the door and you say, "Go away. I'm looking for the truth." And so it goes away. Puzzling."</em></p><p><em>― Robert Pirsig</em></p></div></article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Hand Tracking for Mouse Input (139 pts)]]></title>
            <link>https://chernando.com/blog/2023/07/23/hand-tracking-for-mouse-input.html</link>
            <guid>42185842</guid>
            <pubDate>Tue, 19 Nov 2024 17:18:14 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://chernando.com/blog/2023/07/23/hand-tracking-for-mouse-input.html">https://chernando.com/blog/2023/07/23/hand-tracking-for-mouse-input.html</a>, See on <a href="https://news.ycombinator.com/item?id=42185842">Hacker News</a></p>
<div id="readability-page-1" class="page"><div aria-label="Content">
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>The other day I saw the launch of Apple Vision Pro, the whole thing was very interesting, but one thing that caught my attention was the finger input. It seems very intuitive, by using the finger pinching as sort of like a cursor or mouse input. I figured I want to try it out, so I took it upon myself to create it.</p>

<video autoplay="" loop="" width="100%" controls="" muted="" preload="none" poster="https://i.imgur.com/fMaKvGG.jpeg">
  <source src="https://i.imgur.com/fMaKvGG.mp4" type="video/mp4">
</video>

<p><em>Apple Vision Pro input using finger pinching action</em></p>

<h2 id="game-plan">Game Plan</h2>

<p>The goal here is to use the hand as an input device for computer. It should be able to handle clicking and moving the mouse cursor. In order to do this, we obviously need a camera, and for starter, let’s point the camera to face downwards, since that is basically where the hands will be when using a computer. Next we need some sort of way to detect the hand and fingers position for controlling the mouse. For this, I will be using <a href="https://developers.google.com/mediapipe" target="_blank">MediaPipe</a> from Google. The best way I can describe MediaPipe is, a set of prebuilt solutions for ML, and it happens to have a hand landmarker feature, which is what we needed. Lastly we will need to somehow simulate the mouse input.</p>

<p><img src="https://i.imgur.com/P19M4Ha.jpeg" alt="MediaPipe hand landmark detection"></p>

<p><em>MediaPipe hand landmark detection</em></p>

<p><img src="https://i.imgur.com/CptH0au.jpeg" alt="High level design of the system"></p>

<p><em>High level design of the system</em></p>

<h2 id="first-trial">First Trial</h2>

<p>Starting with this, we can use the python version of MediaPipe, and have <a href="https://docs.opencv.org/4.x/dd/d43/tutorial_py_video_display.html" target="_blank">OpenCV</a> read the camera feed and input it to MediaPipe, then utilize the hand landmarks to simulate the mouse, simple right? Except that this doesn’t work very well. I’ve only got into the OpenCV with MediaPipe and I found that it is super laggy.</p>

<video autoplay="" loop="" width="100%" controls="" muted="" preload="none" poster="https://i.imgur.com/NXoHagh.jpeg">
  <source src="https://i.imgur.com/NXoHagh.mp4" type="video/mp4">
</video>

<p><em>Python version is super laggy, something to do with OpenCV</em></p>

<p>After some researching, turns out it was because it has something to do with the OpenCV, related to how the <code>waitKey</code> function works. I still haven’t found out the fix yet, so I suppose we’re skipping python altogether to save time and sanity.</p>

<h2 id="a-stupid-idea">A Stupid Idea</h2>

<p>During research for using MediaPipe, I found out about the web version of the library through its demo. And for some reason the web version ran very smoothly. I figured I can use the web version instead of the python version. Just one problem though, how would I control the mouse using a browser? So, I came up with a crazy idea, since I can run the MediaPipe locally, what if I have a python backend running to simulate the mouse? I just have to figure out how to communicate the MediaPipe frontend to the Python backend.</p>

<video autoplay="" loop="" width="100%" controls="" muted="" preload="none" poster="https://i.imgur.com/8pZJXVD.jpeg">
  <source src="https://i.imgur.com/8pZJXVD.mp4" type="video/mp4">
</video>

<p><em>Web version running smoothly</em></p>

<h2 id="simulating-the-mouse">Simulating the Mouse</h2>

<p>For the MediaPipe frontend to communicate with the Python backend, I need to have it work through some sort of method. I thought of 3 ways, which are simple HTTP request, <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API">WebSocket</a>, and <a href="https://grpc.io/" target="_blank">gRPC</a> with streaming. The HTTP request is immediately out of the picture, considering I need the latency to be as low as possible. This left me with 2 options that are both for streaming data. I decided to use WebSocket because it allows for realtime communication between the client and the server, which is needed for our use case, plus I’m not too familiar with gRPC.</p>

<p>I setup a simple WebSocket server in python which will accept a JSON string message containing the x and y coordinate to move the mouse to. I then just have to connect the coordinates of one of the finger to be sent to the backend, in this case I’ll be using the thumb tip.</p>

<p><img src="https://i.imgur.com/IVFKzqI.jpeg" alt="WebSocket server receiving information to control the mouse"></p>

<p><em>WebSocket server receiving information to control the mouse</em></p>

<video autoplay="" loop="" width="100%" controls="" muted="" preload="none" poster="https://i.imgur.com/9P2Yo0J.jpeg">
  <source src="https://i.imgur.com/9P2Yo0J.mp4" type="video/mp4">
</video>

<p><em>Using a web browser to control the mouse</em></p>

<p>And it worked! Surprisingly very well even, however it feels very wrong though, controlling it using the browser. In any case, the latency is not that noticeable, I suppose there might be some inefficiency. But for now let’s just ignore that.</p>

<p>Next is the clicking logic. To detect a click, we need to detect a pinch action, between the thumb and index finger. To do this, we just have to measure the distance between the thumb tip and index finger tip, this is using <a href="https://en.wikipedia.org/wiki/Euclidean_distance" target="_blank">Euclidean distance</a>. If it is less than a certain threshold, we will invoke a mouse down event, and if it is greater than the threshold, we will invoke the mouse up event. Notice that we are using mouse down and up instead of click, this is to support dragging action.</p>

<p>This solution works fine, however, there is a problem if we were to move the hand closer to the camera. Since we are moving a 3D object in 2D space, by moving the hand closer to the camera, the distance between the finger tips also gets larger.</p>

<p><img src="https://i.imgur.com/qAnCM7Q.jpeg" alt="Distance between finger tip, far vs close to the camera"></p>

<p><em>Distance between finger tip, far vs close to the camera</em></p>

<p>To solve this issue, we can implement a workaround to use a relative distance instead. By calculating the distance between the finger tips and the respective knuckles, where the distance will get larger the closer the hand is to the camera, we can compare this distance to the distance between the tip. This way we get a proper finger tips distance regardless if the hand is closer or far away from the camera.</p>

<p><img src="https://i.imgur.com/6hwT1b9.jpeg" alt="Calculating relative distance between finger tips"></p>

<p><em>Calculating relative distance between finger tips</em></p>

<h2 id="the-jitter">The Jitter</h2>

<p>Next problem to solve is the jitter. Notice that even when my hand is not moving, and rested on the table, the cursor is still shaking. This is inherently caused by the hand landmarker model, and the only way to really fix this is to use a better model. However not all hopes are lost. For now, we can implement a simple moving average for the cursor position, this way it doesn’t jitter so much, and the movement become smooth. The only thing is, the higher the buffer for the moving average, the higher the latency as well. While we are at this, I added buffer to the pinch state as well, because it usually does a false negative while doing pinching and moving at the same time.</p>

<video autoplay="" loop="" width="100%" controls="" muted="" preload="none" poster="https://i.imgur.com/kKCgesw.jpeg">
  <source src="https://i.imgur.com/kKCgesw.mp4" type="video/mp4">
</video>

<p><em>Cursor is jittering while no hand movement</em></p>

<p><img src="https://i.imgur.com/XnwQKkT.jpeg" alt="Using moving average to smoothen the movement"></p>

<p><em>Using moving average to smoothen the movement</em></p>

<video autoplay="" loop="" width="100%" controls="" muted="" preload="none" poster="https://i.imgur.com/Vn5FfXU.jpeg">
  <source src="https://i.imgur.com/Vn5FfXU.mp4" type="video/mp4">
</video>

<p><em>Movement is much smoother with moving average</em></p>

<p>Another improvement we can add is a safe zone for edges of the screen. As it is now, the cursor position is based on the thumb tip coordinates. Due to this, to reach the edge of the screen we need to put the hand all the way to the edge, and in doing so, the hand is no longer fully visible. To solve this, we can implement a simple linear transformation to convert the coordinates. For this, I am basically adding a padding on each side of the edges. This way we can solve the problem of the hand not being fully visible.</p>

<p><img src="https://i.imgur.com/dDitISx.jpeg" alt="Linear transformation implementation"></p>

<p><em>Linear transformation implementation</em></p>

<p><img src="https://i.imgur.com/U8kTDTB.jpeg" alt="Before and after padding illustration"></p>

<p><em>Before and after padding illustration</em></p>

<h2 id="a-better-idea">A Better idea</h2>

<p>Let’s go back to the latency inefficiency thing I mentioned earlier. Not only am I facing this issue, but also the fact that I need to have the tab always open for the cursor to function. We want to maintain using the web version of MediaPipe and also have it running even when the tab is not active. After some researching, one suitable option is to use <a href="https://tauri.app/">Tauri</a>, a framework for building desktop apps using web technology and Rust, because it can run the web frontend as a standalone program and the Rust backend can be used to communicate with the frontend much more efficiently. This can be used to simulate the mouse input we had in python. I just have to adjust some of my code. Not knowing any Rust, I did use Google and ChatGPT for implementing this.</p>

<p><img src="https://i.imgur.com/dT9Xwma.jpeg" alt="Tauri Github Page"></p>

<p><em>Tauri Github Page</em></p>

<p><img src="https://i.imgur.com/FTP4cGn.jpeg" alt="Tauri Github Page"></p>

<p><em>Rust backend to control the mouse</em></p>

<p><img src="https://i.imgur.com/EhBP6Yt.jpeg" alt="Javascript code calling the Rust backend"></p>

<p><em>Javascript code calling the Rust backend</em></p>

<p>Putting it all together, here is the result.</p>

<video autoplay="" loop="" width="100%" controls="" muted="" preload="none" poster="https://i.imgur.com/FKLTpZ8.jpeg">
  <source src="https://i.imgur.com/FKLTpZ8.mp4" type="video/mp4">
</video>

<p><em>Using hand tracking to simulate mouse input</em></p>

<h2 id="developing-another-mode">Developing another mode</h2>

<p>At this point, the project should’ve been finished, but I took some time to watch YouTube video related to hand tracking input. I found that Meta Quest has a hand gesture input, which is equally cool. If in the Apple Vision Pro, you need to have the eye tracking sensor to know where the cursor is pointed, in the Meta Quest, you just have to point your hand or finger to the “screen”. I figured, why not also add this mode so the camera can face forward, and user just have to point their finger towards the screen.</p>

<video autoplay="" loop="" width="100%" controls="" muted="" preload="none" poster="https://i.imgur.com/BoBUSZA.jpeg">
  <source src="https://i.imgur.com/BoBUSZA.mp4" type="video/mp4">
</video>

<p><em>Meta Quest hand tracking feature. credit: “Tricks Tips Fix” on Youtube</em></p>

<p>In order to determine where the finger is pointing, we can’t only use where it is located in the x and y coordinates like we did for the down facing mode. Instead, first we need to know what angle is the finger pointing at. Second, we also need to know the Z distance between the camera and the finger, these values will be used for calculating where the cursor will “land” on the screen basically.</p>

<p><img src="https://i.imgur.com/2VuVSZe.jpeg" alt="Illustration on determining where the cursor will land on the screen"></p>

<p><em>Illustration on determining where the cursor will land on the screen</em></p>

<p>For the angle, we can simply pick 2 points from the hand landmark, and by using some trigonometry we can determine the angle. We do this for the YZ angle and XZ angle to have both the horizontal and vertical angle. For the distance, this is quite tricky, because the Z axis in the hand landmark does not mean how far it is from the screen, it is just the Z distance between the finger point and the wrist point. So in order to determine distance, we will have to play around with the scale. Remember earlier where I mentioned about distance between finger points is larger when hand is closer to the screen, and smaller when the hand is further from the screen. I’m basically using this information to calculate the distance from the camera to the hand.</p>

<p><img src="https://i.imgur.com/GxyTr84.jpeg" alt="Example for Y axis, using the angle of the finger, along with the distance to screen, we can find the cursor Y value"></p>

<p><em>Example for Y axis, using the angle of the finger, along with the distance to screen, we can find the cursor Y value</em></p>

<p><img src="https://i.imgur.com/BwT0mAR.jpeg" alt="The Formula"></p>

<p><em>The Formula</em></p>

<p>Testing the front facing mode, I am experiencing more shaking than the down facing mode. Even with the moving average, the shaking is still unbearable. So I seek a better alternative to this method, and found the <a href="https://gery.casiez.net/1euro/" target="_blank">One Euro Filter</a>. It is a type of low pass filter, which basically does smoothing for noisy input, that is our cursor. I did have to tweak some parameter to make it usable as we are adjusting for lower jittering but also reasonable latency. In addition to that, I added some thresholding for the angle in order to further reduce the jittering. And it is somewhat usable now! I also ended up changing the moving average into One Euro Filter for the down facing mode for better latency.</p>

<video autoplay="" loop="" width="100%" controls="" muted="" preload="none" poster="https://i.imgur.com/Q2B3lO3.jpeg">
  <source src="https://i.imgur.com/Q2B3lO3.mp4" type="video/mp4">
</video>

<p><em>Mouse is jittering like crazy even with moving average</em></p>

<video autoplay="" loop="" width="100%" controls="" muted="" preload="none" poster="https://i.imgur.com/rHn03Mm.jpeg">
  <source src="https://i.imgur.com/rHn03Mm.mp4" type="video/mp4">
</video>

<p><em>After adding One Euro Filter and thresholding, the mouse movement is relatively tame, but still jittery</em></p>

<p>In the end, however, it is not all sunshine and roses, as there are some major problems for the front facing mode. The first biggest one is the shaking input. At certain position and angle, for some reason the MediaPipe readings will be very shaky, rendering all the filter and smoothing useless. The second one is when pinching the fingers together, there is a slight drift, making it hard to click something as the cursor just drifts away. These issues are inherently present within the model, and I figured no amount of smoothing and filtering can fix this besides fixing the actual model.</p>

<video autoplay="" loop="" width="100%" controls="" muted="" preload="none" poster="https://i.imgur.com/7AC0EdT.jpeg">
  <source src="https://i.imgur.com/7AC0EdT.mp4" type="video/mp4">
</video>

<p><em>Certain position of the hand where the hand landmarks result is very shaky</em></p>

<video autoplay="" loop="" width="100%" controls="" muted="" preload="none" poster="https://i.imgur.com/3lKsaiJ.jpeg">
  <source src="https://i.imgur.com/3lKsaiJ.mp4" type="video/mp4">
</video>

<p><em>Mouse is drifting when fingers are pinched</em></p>

<h2 id="conclusion">Conclusion</h2>

<p>In this project, I did what I set out to make, which is to create a cursor or mouse input like the one from the Apple Vision Pro, plus the Meta Quest headset. I had fun working on this project as I get to try some cool tech like MediaPipe, Tauri, Rust and doing some maths for this to work. You can find the project in the repository below. I’ve only tested this on Windows, it may or may not work on Linux or MacOS.</p>

<p><a href="https://github.com/reynaldichernando/pinch" target="_blank">reynaldichernando/pinch</a></p>

<p>Here are some video demos for the final result.</p>

<video autoplay="" loop="" width="100%" controls="" muted="" preload="none" poster="https://i.imgur.com/QW5PoP8.jpeg">
  <source src="https://i.imgur.com/QW5PoP8.mp4" type="video/mp4">
</video>

<p><em>Interacting with the down facing mode</em></p>

<video autoplay="" loop="" width="100%" controls="" muted="" preload="none" poster="https://i.imgur.com/SbxrnMf.jpeg">
  <source src="https://i.imgur.com/SbxrnMf.mp4" type="video/mp4">
</video>

<p><em>Interacting with the front facing mode</em></p>

<p>All in all, I would say the down facing mode works quite reliably, while the front facing mode is still unstable given the issues I mentioned.</p>

<p>Some notes</p>

<ul>
  <li>To minimize some of the drift when pinching, resting the thumb on the side of the middle finger tip can help.</li>
  <li>For the angle calculation in front facing mode, especially vertical angle, I added an offset, due to the camera being placed at the top of the screen, this is to correct the cursor being lower than where the finger is pointing.</li>
  <li>I have yet to find a way to make the Tauri app work in background, so minimizing the window will stop the cursor. So, to change window, just click the desired window without minimizing the Tauri window.</li>
</ul>

  </div>
</article>

      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Physically accurate black hole simulation using your iPhone camera (221 pts)]]></title>
            <link>https://apps.apple.com/us/app/black-hole-vision/id6737292448</link>
            <guid>42185668</guid>
            <pubDate>Tue, 19 Nov 2024 17:06:11 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://apps.apple.com/us/app/black-hole-vision/id6737292448">https://apps.apple.com/us/app/black-hole-vision/id6737292448</a>, See on <a href="https://news.ycombinator.com/item?id=42185668">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
  
<!---->
<!---->
<!---->
    

<!---->
    <section>
      <h2>iPhone Screenshots</h2>
  
</section>


  <div dir="" data-test-bidi=""><p>What would the world around you look like if you were staring at a black hole? </p><p>This application places a black hole in the field of view of your iPhone’s camera and gravitationally "lenses" the resulting live video feeds just as a black hole would warp the light from surrounding stars. The resulting "Black Hole Vision" reveals interesting features of black hole lensing, including a "photon ring" of strongly lensed images around the black hole. The measurement of this photon ring will be the target of future astronomical observations from space with the Black Hole Explorer: an orbit satellite that will take the sharpest images in the history of astronomy! To learn more about BHEX, head over to https://www.blackholeexplorer.org/.</p><p>The code is open source and freely available on GitHub at https://github.com/graveltr/BlackHoleVision, along with documentation that explains the underlying black hole lensing equations and how they are implemented in Black Hole Vision.</p><p>The code was written at Vanderbilt University by Trevor Gravely with input from Dr. Roman Berens and Prof. Alex Lupsasca. This project was supported by CAREER award PHY-2340457 and grant AST-2307888 from the National Science Foundation.</p><p>License: This app includes a port of the GNU Scientific Library's (GSL) implementation of Jacobi elliptic functions and the elliptic integrals to Metal. It is licensed under the GNU General Public License v3.0 (GPL-3.0). You can view the full license and obtain a copy of the source code at: https://github.com/graveltr/BlackHoleVision.</p></div>

<!---->
  <section>
    <div>
      <h2>What’s New</h2>
        

    </div>
    <div>
          <p dir="false" data-test-bidi="">Version 2.0 now includes a rotating (Kerr) black hole. The user can also change the value of the spin of the rotating black hole.</p>


      </div>
  </section>

      <section>
      <p>
        <h2>
          Ratings and Reviews
        </h2>

        <!---->
      </p>

        


      

<!---->    </section>


<!---->
<!---->
<!---->
  <section>
  <div>
    <h2>
      App Privacy
    </h2>

    


  </div>

  <p>
    The developer, <span>Alexandru Lupsasca</span>, indicated that the app’s privacy practices may include handling of data as described below. For more information, see the <a href="https://github.com/graveltr/BlackHoleVision/blob/main/privacy-policy.md">developer’s privacy policy</a>.
  </p>

  <div>
        
        <h3>Data Not Collected</h3>
        <p>The developer does not collect any data from this app.</p>
<!---->      </div>

    <p>Privacy practices may vary, for example, based on the features you use or your age. <a href="https://apps.apple.com/story/id1538632801">Learn&nbsp;More</a></p>
</section>


<section>
  <div>
    <h2>Information</h2>
    <dl>
        <p>
          <dt>Seller</dt>
          <dd>
              Alexandru Lupsasca
          </dd>
        </p>
        <p>
          <dt>Size</dt>
          <dd aria-label="67.1 megabytes">67.1 MB</dd>
        </p>
        <p>
          <dt>Category</dt>
          <dd>
              <a href="https://itunes.apple.com/us/genre/id6017" data-metrics-click="{&quot;actionType&quot;:&quot;navigate&quot;,&quot;actionUrl&quot;:&quot;https://itunes.apple.com/us/genre/id6017&quot;,&quot;targetType&quot;:&quot;link&quot;,&quot;targetId&quot;:&quot;GenrePage&quot;}">
                Education
              </a>
          </dd>
        </p>
      <div>
        <dt>Compatibility</dt>
          <dd>
              <dl>
                <dt>
                  iPhone
                </dt>
                <dd>Requires iOS 17.5 or later.
                </dd>
              </dl>
              <dl>
                <dt>
                  Mac
                </dt>
                <dd>Requires macOS&nbsp;14.5 or later and a Mac with Apple&nbsp;M1&nbsp;chip or later.
                </dd>
              </dl>
          </dd>
      </div>
<!---->      
      
<!---->      <p>
        <dt>Copyright</dt>
        <dd>© 2024 Alexandru Lupsasca</dd>
      </p>
        <p>
          <dt>Price</dt>
          <dd>Free</dd>
        </p>
<!---->
    </dl>
  </div>
  <div>
    <ul>
<!---->        <li>
          <a data-metrics-click="{&quot;actionType&quot;:&quot;navigate&quot;,&quot;targetType&quot;:&quot;link&quot;,&quot;targetId&quot;:&quot;LinkToAppSupport&quot;}" href="https://github.com/graveltr/BlackHoleVision">
            App Support
          </a>
        </li>
        <li>
          <a data-metrics-click="{&quot;actionType&quot;:&quot;navigate&quot;,&quot;targetType&quot;:&quot;link&quot;,&quot;targetId&quot;:&quot;LinkToPrivacyPolicy&quot;}" href="https://github.com/graveltr/BlackHoleVision/blob/main/privacy-policy.md">
            Privacy Policy
          </a>
        </li>
<!----><!---->    </ul>
  </div>
</section>

<section>
  <ul>
<!---->      <li>
        <a data-metrics-click="{&quot;actionType&quot;:&quot;navigate&quot;,&quot;targetType&quot;:&quot;link&quot;,&quot;targetId&quot;:&quot;LinkToAppSupport&quot;}" href="https://github.com/graveltr/BlackHoleVision">
          App Support
        </a>
      </li>
<!---->      <li>
        <a data-metrics-click="{&quot;actionType&quot;:&quot;navigate&quot;,&quot;targetType&quot;:&quot;link&quot;,&quot;targetId&quot;:&quot;LinkToPrivacyPolicy&quot;}" href="https://github.com/graveltr/BlackHoleVision/blob/main/privacy-policy.md">
          Privacy Policy
        </a>
      </li>
  </ul>
</section>

<!---->
<!---->
<!---->
<!---->

<!---->

<!----></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Shift Left Is the Tip of the Iceberg (129 pts)]]></title>
            <link>https://semiengineering.com/shift-left-is-the-tip-of-the-iceberg/</link>
            <guid>42183561</guid>
            <pubDate>Tue, 19 Nov 2024 14:06:36 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://semiengineering.com/shift-left-is-the-tip-of-the-iceberg/">https://semiengineering.com/shift-left-is-the-tip-of-the-iceberg/</a>, See on <a href="https://news.ycombinator.com/item?id=42183561">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>

					<p>Shift left is evolving from a buzzword into a much broader shift in design methodology and EDA tooling, and while it’s still early innings there is widespread agreement that it will be transformative.</p>
<p>The semiconductor industry has gone through many changes over the past few decades. Some are obvious, but others happen because of a convergence of multiple factors that require systemic change in the process itself, which is the case today. On the surface, <a href="https://semiengineering.com/knowledge_centers/eda-design/methodologies-and-flows/shift-left/">shift left</a> may look like a minor change involving optimization strategies, or the introduction of new metrics, but this is a fundamental move from an insular semiconductor perspective to the start of the systems’ age of design. What is perhaps even more surprising is that the push for change is coming from all sides of the existing flow.</p>
<p>This is not the first time the industry has faced such challenges. “Shame on us if the institutional fog of war has caused us to forget those lessons,” says Rob Knoth, group director for strategy and new ventures at <a href="https://semiengineering.com/entities/cadence-design-systems/">Cadence</a>. “We have experienced this multiple times. We have been faced with a scope that is broader than the tools we have, based on physics or phenomena, or that aren’t perfectly captured by the tool you have. We have faced deadlines that are too aggressive to be able to do a perfect job. People who have succeeded in those epics are the ones who are honest about what can they simulate, what can they estimate, and how it will impact the people up and downstream of them.”</p>
<p>The change encompasses many areas, some of which are itemized below:</p>
<p><strong>Change in optimization focus</strong>: Optimization strategies have shifted from simple power, performance, and area (PPA) metrics to system-level metrics, such as performance per watt. “If you go back into the 1990s, 2000s, the road map was very clear,” says Chris Auth, director of advanced technology programs at Intel Foundry. “Just make things smaller, make things faster, make things cheaper. We are seeing that spread out into a variety of different avenues. PPA optimization is just one thing you do, but there are lots of other things including thermal or frequency per watt that you now optimize for. I don’t think the story is fully written on how to do that.”</p>
<p><strong>3D-ICs</strong>: Chiplets are more than just fabricated pieces of IP. They are changing many aspects of the development flow. “3D-IC is changing the market and industry,” says HeeSoo Lee, segment lead for high-speed design at <a href="https://semiengineering.com/entities/keysight-technologies/">Keysight</a>. “PPA now involves multiple disciplines. You are not vertically structured any longer. You are incorporating a lot of different blocks into a system design. How do you optimize that from a system perspective? What are the languages you are going to use to talk to those different die or different functional blocks? It places interesting market demands for chiplets, or heterogeneous integration, for the system level. We need to optimize system performance by utilizing different die, and then optimize the entire package performance.”</p>
<p>How those die are arranged, assembled, validated, and tested remains a significant challenge, however, and some of that work can be done ahead of time through pre-assembled, pre-integrated chiplets. “The workload and software is where differentiation is happening,” said Christopher Rumpf, senior director of automotive at <a href="https://semiengineering.com/entities/arm/">Arm</a>. “So we will still sell IP products, but we are now assembling them into larger subsystems.”</p>
<p><strong>Increased interdependence</strong>: All metrics become connected to each other as we get closer to the limits imposed by physics. “The goal in design closure is to optimize across multiple variables, based on certain conditions or inputs provided by the user,” says Manoj Chacko, senior director of product management at <a href="https://semiengineering.com/entities/synopsys-inc/">Synopsys</a>. “In addition to PPA, there is now R, for reliability or robustness. This started when we had to consider IR voltage drop, which was impacting performance. Techniques to mitigate that were developed. Then we see variability — of the devices, and device behavior changing based on the neighbors and its context — and that is impacting the performance of a design and impacting power.”</p>
<p><strong>Domain-specific design</strong>: Gone are the days of general-purpose design. In many industries, bespoke silicon is the only way to achieve the necessary design characteristics. “You’ve gone from general compute to more workload specific applications,” says Intel’s Auth. “Everybody has a different way that they need to push the technology. PPA is a component, but there’s a lot of things that PPA doesn’t cover.”</p>
<p>This is especially evident in automotive design. “If you think about a car, it’s a real system modeling challenge,” said Jean-Marie Brunet, vice president and general manager for hardware-assisted verification at <a href="https://semiengineering.com/entities/mentor-a-siemens-business/">Siemens EDA</a>. “They have different sampling rates, different clocks, different accuracy of the models. How do those things talk to each other? It’s an industry integration challenge, which is why we have digital twins. They can give you a visual representation of the end device or system. This is an incredible synchronization and integration challenge, and it’s a very heavy compute platform environment. You have to make a decision about which software will work with specific hardware.”</p>
<p><strong>System design</strong>: The system is no longer just the hardware. Ravi Poddar, senior leader and advisor for the semiconductor industry at AWS, noted that Volvo reportedly has about 120 ECUs, 100 million lines of source code, and 3 million functions in 30 million places in that source code.[1]</p>
<p>“We’re seeing a shift left using software and virtual twins,” Poddar said. “This includes virtual hardware in the loop, and it requires you to test early and test often.”</p>
<p>Software is now an integral part of hardware design, but the development schedules often are different for hardware and software. “The software is always missing when doing analysis of the system and the hardware,” says Ahmed Hamza, solution architect for the cybertronic system engineering initiative at Siemens EDA. “You build a system, but if you don’t know what software will run on the system, the whole equation will change. Hardware, system and software are the three pieces that we need to put together early enough in the analysis that it will impact how the future system engineering is done.”</p>
<p>What hasn’t changed is the way we have to approach the problem. “The key thing about optimization is that as you go through the flow, your degrees of freedom decrease,” says Marc&nbsp;Swinnen, director of product marketing at <a href="https://semiengineering.com/entities/ansys/">Ansys</a>. “In the beginning, you have many degrees of freedom, so your potential optimization is much higher. As you go further down the flow, your degrees of freedom reduce. The potential goes down.”</p>
<p>Engineers like to divide and conquer. “We cannot do everything at the same time,” says Keysight’s Lee. “We know the order in which things need to be worked out. Of course, not everything is equally critical for every single application or use case. Some designs are more focused on the system performance while others are more focused on power. Every engineer or system architect has their own charter to go in and optimize. We are entering a new era where it’s not completely stabilized or mature.”</p>
<p><strong>Holistic Optimization</strong><br>
What is achievable at any given step in the development flow is limited by predictive uncertainty. “When you make a change in your design, let’s say power, there is the signal, but there is also noise, which means there is uncertainty,” says Ansys’ Swinnen. “The actual power could be a bit higher or lower, because you don’t have the wires, you don’t perform the exact synthesis. There’s a noise level in your information and given the amount of uncertainty you have at a given stage you can only optimize down to the noise level. Beyond that, any information could be spurious. You are wasting your time, you’re just randomly generating numbers, but have no idea if it’s really lower or higher. You’re limited by that noise band, and once you hit the noise band, it’s time to move on to the next step, because there’s no more optimization that makes sense at this step, even relative.”</p>
<p>Where to start an analysis is highly dependent on optimization goals. “What you need is a good software solution that can simulate the entire system that you’re going to have,” says Auth. “Then you can optimize each of the components. You end up with a lot of very customized software that simulates a variety of these things. It simulates thermals, it simulates frequency or something like that. There’s a big opportunity for software that can give you a better answer to the designer as to the best way to optimize the technology.”</p>
<p>But it’s essential understand the accuracy of the models or information being used. “A simple way to describe it is ‘garbage in, garbage out,'” says Lee. “How good is the model that represents each of the die in a heterogeneous integration? If your model is not accurate enough, and you’re building optimization on top of it, then you are optimizing based on garbage. While simulation technologies are super powerful, they need to address all the ingredients in the right way so that accuracy is preserved. If you don’t have those technologies and models, then you’re going to develop something based on the wrong input data.”</p>
<p>In the past, the industry has developed abstractions that help preserve necessary accuracy while reducing computation time. “At the front end, you don’t have metrics,” says Swinnen. “You use proxies. For example, power density is a good proxy for thermal. For timing at the RT level, you use a wire-load model based on fan-out. As you go into placement, you use Manhattan distance. Then as you go to routing, it’s net length. The router is not actually looking at timing. The placer is not looking at timing. Each step has its proxy, which gets better and better, and it’s only when the routing is done that you finally have an RC model. That’s not a proxy anymore. Now you have the actual simulatable delay of the wire.”</p>
<p>This means you must constantly assess what is possible both in terms of accuracy and affordable compute power. “What help do you need to improve the accuracy of your process? You may need some creativity to try strategies that didn’t work in the past,” says Cadence’s Knoth. “Maybe you didn’t have the compute horsepower to do all the simulations you needed, and today you might. When we’re talking about PPA optimization strategies, and most recently we saw this with power, you didn’t have enough horsepower to integrate vectors into the design optimization phase. Well now the algorithms are better, the estimation techniques are more accurate, the simulation horsepower is better. You can start integrating some data that in the past you just estimated, and now you can actually measure it.”</p>
<p>Better estimates allow for more optimization and automation. “Designing a network on chip (NoC) requires analysis based on physical design,” says Andy Nightingale, vice president of product management and marketing at <a href="https://semiengineering.com/entities/arterisip/">Arteris</a>. “When you control aspects of the physical placement, coupled with many analysis tools, we can build an explorer tool that lets you run traffic profiles. You can push tons of transactions to any part of the network, and you can see how it performs in a worst-case scenario in terms of the quality of service scheme, the width of the interfaces, and other parameters. You’ve got a good idea of wire length in the design, you’ve got a good idea of what the placement is going to look like, you’ve got a good idea of what the latency and bandwidths are going to look like across the network. All those things combine to give a really good starting point to the next stage in the process.”</p>
<p>The system level is where you have greatest degrees of freedom. “The majority of the power and performance optimization — something like 70% to 80% — is decided during the earliest part of the design phase with architectural decisions,” says Ninad Huilgol, founder and CEO of Innergy Systems. “Architects typically have some way of performing what-if simulations to decide the optimum architecture. Increasingly, this area is being helped by advanced power modeling that can perform virtual simulations to estimate power and performance.”</p>
<p>Without the necessary estimation tools, there are limits to what can be achieved. “The thing about predictive uncertainty is that there are two ways to go about it,” says Swinnen. “You guard-band, or you invest more in measuring it. Guard-banding is the easy way. You just make very big margins, but that increases the noise band and limits your ability to optimize. In some cases, this is not immediately obvious. Guard-banding limits the amount of early optimization you can do and forces you to optimize further down the pike.”</p>
<p>Chiplets are one area where this may be happening. “If you talk about backside power, or stacking chips, it’s not sufficient just to think about one chip’s thermals,” says Auth. “You also have to consider its impact on the chips next to it. You have to know how the system is going to exercise it. Previously, we focused on optimizing one die or one chiplet, but when it’s in a bigger package with multiple chiplets, the optimization of one die is a little bit less important than the optimization for the overall package that you’re going to end up with.”</p>
<p>This can create difficulties if the development is not completely top down. “Optimizing system and module metrics is a complementary and evolutionary process,” says Kinjal Dave, senior director of product management in Arm’s Client Line of Business. “While we are increasingly seeing more time and resources being spent on the system level, module metrics are crucial during development phases when a complete system has not yet been established. In the early stages of development, you often can’t construct a full system because not all functionalities are finalized. Hence, you continue analyzing those module metrics and gradually incorporate more system-level metrics later in the development process.”</p>
<p>The industry has work to do before some of this becomes possible. “Hardware teams and EDA tools spend a lot of time performing analysis, but unfortunately this information does not have a path back to the system engineer,” says Siemens’ Hamza. “At the beginning of the analysis, they need some metrics. They need to understand what’s going on. There is immediate information that system engineer can benefit from. What if we could make it available in a language and a form that they can read and understand? That would change the whole concept of system engineering.”</p>
<p>The lack of information means you have no choice but to use guard-bands. “As you shift left, you’re not going to have complete knowledge,” says Auth. “You’re going to put some guard rails up. And you are planning that when you get more knowledge in the future, you’ll be able to alleviate some of that guard banding and get more performance in the future.”</p>
<p>Shift left is attempting to move an increasing amount of information forward, but it needs to move out from the existing hardware focus into software and systems as well. “You need to ask the what-if questions at the top level versus the bottom level,” says Arteris’ Nightingale. “You make an untimed model of your design and drop the software onto it, so you get an idea of what the software is going to be demanding of the system. Then you refine that down from that top-level view to say what hardware components are required. You’ll never converge if you say, I’m going to start with X type of processor, and Y type of system fabric and try and end up with a result. You have to start with the end application in mind, and then work down from that.”</p>
<p>To solve the problem, everyone has to come to the same table. “The semiconductor industry has achieved the scale that we have because we’ve accepted a certain number of rules,” says Knoth. “To do that, we haven’t always done everything that the process is capable of. If you go outside the silicon and you go to the package world, you go to the PCB world, you go to the mechanical world, there is much less rigidity. We’re going to see some flow outwards of more standardization. And we’re already seeing this at the chiplet level, with more standards getting put in place.”</p>
<p><strong>Conclusion</strong><br>
While shift left is gaining a lot of attention, there is a broader transformation underway. It involves players that were never included in the past, and they often talk different languages and have their own methodologies in place. In many cases the changes that need to be made are not just technical. They also impact the organization’s structure. New tools and methodologies have to produce good results based on the level of investment they require, both from the EDA perspective and the design houses, and they need to keep in mind the long-term direction and goals.</p>
<p>This is not going to be solved in a year or two. It requires rebuilding of the entire flow, which ultimately will bring systems engineering and semiconductor development under a single umbrella.</p>
<p>—Ed Sperling contributed to this report.</p>
<p><strong>Reference</strong></p>
<ol>
<li>Vard Antinyan, technology and strategy leader, software engineering, at Volvo Group.</li>
</ol>
<p><em><strong>Related Stories</strong><br>
<a href="https://semiengineering.com/shift-left-extend-right-stretch-sideways/">Shift Left, Extend Right, Stretch Sideways</a><br>
Development flows are evolving as an increasing number of optimization factors become interlinked. Shift left is just one piece of it.<br>
<a href="https://semiengineering.com/is-ppa-relevant-today/">Is PPA Relevant Today</a><br>
Power, performance, and area/cost have been the three optimization targets for decades, but are they pertinent for today’s complex systems?</em></p>

					<br>

				</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Joint Declaration by Ministers of Germany, France, Poland, Italy, Spain, UK (110 pts)]]></title>
            <link>https://www.auswaertiges-amt.de/en/newsroom/news/-/2685538</link>
            <guid>42182897</guid>
            <pubDate>Tue, 19 Nov 2024 12:55:38 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.auswaertiges-amt.de/en/newsroom/news/-/2685538">https://www.auswaertiges-amt.de/en/newsroom/news/-/2685538</a>, See on <a href="https://news.ycombinator.com/item?id=42182897">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-css="c-rte"><p><strong>In Warsaw today, the Foreign Ministers of the Weimar Triangle from Germany, France and Poland discussed Europe’s security policy challenges with the Foreign Ministers of Italy, Spain and the United Kingdom as well as the designated High Representative of the European Union for Foreign Affairs and Security Policy. </strong></p><p><strong>Read the joint declaration here:</strong></p><p>We, the Foreign Ministers of France, Germany, Italy, Poland, Spain and the United Kingdom, have come together today, recognizing that our common security is challenged as never before in our lifetimes.</p><p>Russia is systematically attacking European security architecture.</p><p>For the last 1,000 days, in its war of aggression against Ukraine, Russia has killed many thousands and repeatedly violated international law.</p><p>Russia’s reckless revisionism and constant refusal to stop the aggression and engage in meaningful talks challenges peace, freedom and prosperity on the European continent and in the transatlantic area.</p><p>Russia is increasingly reliant on partners such as Iran and North Korea in order to sustain its illegal warfare.</p><p>Moscow’s escalating hybrid activities against <abbr title="North Atlantic Treaty Organization">NATO</abbr> and <abbr title="European Union">EU</abbr> countries are also unprecedented in their variety and scale, creating significant security risks.</p><p>To live up to this historic challenge, we are determined to stand united with our European and transatlantic partners to think and act big on European security. European countries must play a still greater role in assuring our own security, acting alongside our transatlantic and global partners.</p><p>Today, we therefore consider it imperative to:</p><ul><li>reaffirm the enduring role of a strong and united <abbr title="North Atlantic Treaty Organization">NATO</abbr> as a bedrock of European defence and security, based on strong transatlantic bond, and ironclad commitment to defend each other, and fair burden-sharing;</li><li>strengthen <abbr title="North Atlantic Treaty Organization">NATO</abbr> by stepping up our security and defence expenditure, in line with our previous commitments, while reaffirming that, in many cases, expenditure beyond 2% of GDP will be needed to address rising threats to security and meet the requirements to deter and defend across all domains in the Euro-Atlantic area.</li><li>strengthen Europe’s security and defence, using all levers available to us, including the economic and financing power of the European Union and by reinforcing Europe’s industrial base. To this aim, we will build on the work in <abbr title="North Atlantic Treaty Organization">NATO</abbr>, the European Union, among groups of Allies and with likeminded countries, discuss innovative financing, and remove obstacles to defence trade and investment;</li><li>invest in our critical military capabilities, including air defence, deep precision strikes, drones and integrated logistics, as well as in critical infrastructure and cyber defence, while investing in research and development, and using new technologies;</li><li>enhance resilience to cognitive warfare and hybrid threats in Europe, also through the relevant <abbr title="European Union">EU</abbr> mechanisms, and promote the resilience of our societies,</li><li>further step up our military, economic and financial support for Ukraine, while welcoming the 50 billion dollar G7 loan to ensure that Ukraine has sufficient resources for the next year;</li><li>remain steadfast in our support for a just and lasting peace for Ukraine, based on the <abbr title="United Nations">UN</abbr> Charter, reaffirming that peace can only be negotiated with Ukraine, with European, American and G7 partners by its side, and in making sure that the aggressor will bear consequences, also financial ones, of its illegal acts that violate rules set out in the <abbr title="United Nations">UN</abbr> Charter,</li><li>continue deterring Russia, thwarting Putin’s ability to sustain his war of aggression, and constraining the build-up of Russia’s military capabilities, including through restrictive measures.</li></ul><p>We underline our steadfast commitment to a European security architecture based on the principles of the <abbr title="United Nations">UN</abbr> Charter and the <abbr title="Organization for Security and Co-operation in Europe">OSCE</abbr>, which have been gravely violated by Russia in recent years.</p><p>We are convinced that this is the moment when we must deliver and ensure that our citizens live in peace, freedom and prosperity. To this end, further integration between the <abbr title="European Union">EU</abbr> member states, closer cooperation between the <abbr title="European Union">EU</abbr> and the UK, and enhanced cooperation between <abbr title="North Atlantic Treaty Organization">NATO</abbr> and the European Union will be key. We consider this also a unique opportunity to renew the foundations of our transatlantic relations with the United States of America by strengthening <abbr title="North Atlantic Treaty Organization">NATO</abbr> and ensuring fair burden sharing within the Alliance.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Rust library for numerical integration of real-valued functions (105 pts)]]></title>
            <link>https://github.com/mtantaoui/Integrate</link>
            <guid>42182784</guid>
            <pubDate>Tue, 19 Nov 2024 12:41:08 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/mtantaoui/Integrate">https://github.com/mtantaoui/Integrate</a>, See on <a href="https://news.ycombinator.com/item?id=42182784">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><h2 tabindex="-1" dir="auto">Integrate</h2><a id="user-content-integrate" aria-label="Permalink: Integrate" href="#integrate"></a></p>
<p dir="auto"><a href="https://crates.io/crates/integrate" rel="nofollow"><img src="https://camo.githubusercontent.com/decd4b9139ba81da02c1dad55ac933e0963179c7c03f90ee82c8110491fb5fb9/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f762f696e746567726174652e737667" alt="Integrate crate" data-canonical-src="https://img.shields.io/crates/v/integrate.svg"></a>
<a href="https://docs.rs/integrate" rel="nofollow"><img src="https://camo.githubusercontent.com/d9e51d1dfc562a38ce08fb75099be0c75341136e5b7348ec2b84c2bf422264f2/68747470733a2f2f696d672e736869656c64732e696f2f646f637372732f696e746567726174652f6c6174657374" alt="Integrate documentation" data-canonical-src="https://img.shields.io/docsrs/integrate/latest"></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/53788bb70a95951367650402b70d398fb69333f4a23506f5fc2c58fbdfbf7458/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f72757374632d312e36332b2d7265642e737667"><img src="https://camo.githubusercontent.com/53788bb70a95951367650402b70d398fb69333f4a23506f5fc2c58fbdfbf7458/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f72757374632d312e36332b2d7265642e737667" alt="minimum rustc 1.63" data-canonical-src="https://img.shields.io/badge/rustc-1.63+-red.svg"></a>
<a href="https://github.com/mtantaoui/Integrate/actions"><img src="https://github.com/mtantaoui/Integrate/actions/workflows/main.yml/badge.svg" alt="build status"></a></p>
<p dir="auto">Integrate is a small, lightweight Rust library for performing numerical integration of real-valued functions. It is designed to integrate functions, providing a simple and efficient way to approximate definite integrals using various numerical methods.</p>
<p dir="auto">Numerical integration is concerned with developing algorithms to
approximate the integral of a function <math-renderer data-static-url="https://github.githubassets.com/static" data-run-id="eb5df0eb922c2c83a02b68fbf058e889">$f(x)$</math-renderer>. The most commonly used algorithms
are Newton-Cotes formulas, Romberg's method, Gaussian quadrature, and to
lesser extents Hermite's formulas and certain adaptive techniques.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Features</h2><a id="user-content-features" aria-label="Permalink: Features" href="#features"></a></p>
<p dir="auto">Integrate supports a variety of numerical integration techniques:</p>
<ul dir="auto">
<li>
<p dir="auto">Newton-Cotes methods:</p>
<ul dir="auto">
<li>Rectangle Rule.</li>
<li>Trapezoidal Rule.</li>
<li>Simpson's Rule.</li>
<li>Newton's 3/8 Rule.</li>
</ul>
</li>
<li>
<p dir="auto">Gauss quadrature methods:</p>
<ul dir="auto">
<li>Gauss-Legendre.</li>
<li>Gauss-Laguerre.</li>
<li>Gauss-Hermite.</li>
<li>Gauss-Chebyshev First Kind.</li>
<li>Gauss-Chebyshev Second Kind.</li>
</ul>
</li>
<li>
<p dir="auto">Adaptive Methods:</p>
<ul dir="auto">
<li>Adaptive Simpson's method</li>
</ul>
</li>
<li>
<p dir="auto">Romberg’s method.</p>
</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Caveats</h2><a id="user-content-caveats" aria-label="Permalink: Caveats" href="#caveats"></a></p>
<p dir="auto">All of the numerical integration techniques listed above assume that
the integrand is continuous on the interval of integration. The error
estimates generally require that the integrands are differentiable of
whatever order is required so that the formula for the error estimate
makes sense. Below is a check list which one should verify before using
any of the numerical algorithms.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Integrand check list</h3><a id="user-content-integrand-check-list" aria-label="Permalink: Integrand check list" href="#integrand-check-list"></a></p>
<ul dir="auto">
<li>
<p dir="auto">Are there any singularities of the integrand in the interval of integration?</p>
<ul dir="auto">
<li>
<p dir="auto">If there are, then can they be removed?</p>
</li>
<li>
<p dir="auto">A function which has jump discontinuities can be integrated by splitting
the interval of integration into subintervals on which the function is continuous,
and then numerically integrate over each subinterval and add the results.</p>
</li>
<li>
<p dir="auto">Using integration by parts certain types of singular integrals can be
expressed as the sum of a function and a non-singular integral.</p>
</li>
<li>
<p dir="auto">In other cases, an approximation of the integral in a small neighborhood of
the singularity can be obtained by hand and the interval of integration can be
split into three intervals in which numerical integration can be used on
two of them.</p>
</li>
</ul>
</li>
<li>
<p dir="auto">Does the function oscillate over the region of integration? If it does,
then make sure that the step size is chosen to be smaller than the wave length
of the function. The interval of integration can also be split into subintervals
in which each subinterval is half a wave length and the algorithm is applied
to each subinterval.</p>
</li>
</ul>
<p dir="auto"><h3 tabindex="-1" dir="auto">Installation</h3><a id="user-content-installation" aria-label="Permalink: Installation" href="#installation"></a></p>
<p dir="auto">To use the <code>Integrate</code> crate in your Rust project, add the following line to your <code>Cargo.toml</code>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="[dependencies]
integrate = &quot;0.1.0&quot;"><pre>[<span>dependencies</span>]
<span>integrate</span> = <span><span>"</span>0.1.0<span>"</span></span></pre></div>
<p dir="auto"><h3 tabindex="-1" dir="auto">Contribution</h3><a id="user-content-contribution" aria-label="Permalink: Contribution" href="#contribution"></a></p>
<p dir="auto">Feel free to submit issues or pull requests for bug fixes, new features, or other improvements. Contributions are welcome!</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">License</h3><a id="user-content-license" aria-label="Permalink: License" href="#license"></a></p>
<p dir="auto">This project is licensed under the MIT License – see the LICENSE file for details. Opening a pull request is assumed to signal agreement with these licensing terms.</p>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[OpenStreetMap's New Vector Tiles (356 pts)]]></title>
            <link>https://tech.marksblogg.com/osm-mvt-vector-tiles.html</link>
            <guid>42182519</guid>
            <pubDate>Tue, 19 Nov 2024 12:03:02 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://tech.marksblogg.com/osm-mvt-vector-tiles.html">https://tech.marksblogg.com/osm-mvt-vector-tiles.html</a>, See on <a href="https://news.ycombinator.com/item?id=42182519">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="article_text">
            <p>OpenStreetMap (OSM) has been hosting raster tiles of its dataset for much of its 20-year history. These maps have had their rules and styles defined ahead of their rendering and present the end user with static PNGs. Below is a screenshot of the area around the Burj Khalifa in Dubai.</p>
<p><a href="https://tech.marksblogg.com/theme/images/osm_mvt/Screenshot_20241119_124330_Brave.jpg"><img alt="OSM" src="https://tech.marksblogg.com/theme/images/osm_mvt/Screenshot_20241119_124330_Brave.jpg"></a></p><p>This week, OSM began hosting vector tiles in Mapbox Vector Tiles (MVT) format.</p>
<p>This allows for the end user to adjust the style and rendering rules as well as extract the underlying information within each of the tiles. Imagery should appear much sharper and switching the language of the labels should become possible.</p>
<p>Below is the same area in Dubai but rendered with OSM's new vector tiles.</p>
<p><a href="https://tech.marksblogg.com/theme/images/osm_mvt/Screenshot_20241119_124340_Brave.jpg"><img alt="OSM" src="https://tech.marksblogg.com/theme/images/osm_mvt/Screenshot_20241119_124340_Brave.jpg"></a></p><p>The raster imagery OSM produced used larger iconography for points of interest (POI) but I suspect it is only a matter of time before the OSM community releases some spectacular and fine-tuned styles for the new vector tiles.</p>
<p><a href="https://tech.marksblogg.com/theme/images/osm_mvt/Screenshot_20241119_124405_Brave.jpg"><img alt="OSM" src="https://tech.marksblogg.com/theme/images/osm_mvt/Screenshot_20241119_124405_Brave.jpg"></a></p><p>This is the current iteration of the tiles rendering with a style sheet that I'll discuss in further detail below.</p>
<p><a href="https://tech.marksblogg.com/theme/images/osm_mvt/Screenshot_20241119_124410_Brave.jpg"><img alt="OSM" src="https://tech.marksblogg.com/theme/images/osm_mvt/Screenshot_20241119_124410_Brave.jpg"></a></p><p>In this post, I'll walk through visualising and analysing OSM's vector tiles.</p>
<div id="my-workstation">
<h2>My Workstation</h2>
<p>I'm using a 6 GHz Intel Core <a href="https://www.intel.com/content/www/us/en/products/sku/236773/intel-core-i9-processor-14900k-36m-cache-up-to-6-00-ghz/specifications.html">i9-14900K</a> CPU. It has 8 performance cores and 16 efficiency cores with a total of 32 threads and 32 MB of L2 cache. It has a liquid cooler attached and is housed in a spacious, full-sized, Cooler Master HAF 700 computer case. I've come across videos on YouTube where people have managed to overclock the i9-14900KF to <a href="https://www.youtube.com/watch?v=fb7pl7PZOYo">9.1 GHz</a>.</p>
<p>The system has 96 GB of DDR5 RAM clocked at 6,000 MT/s and a 5th-generation, Crucial T700 4 TB NVMe M.2 SSD which can read at speeds up to 12,400 MB/s. There is a heatsink on the SSD to help keep its temperature down. This is my system's C drive.</p>
<p>The system is powered by a 1,200-watt, fully modular, Corsair Power Supply and is sat on an ASRock Z790 Pro RS Motherboard.</p>
<p>I'm running Ubuntu 22 LTS via Microsoft's Ubuntu for Windows on Windows 11 Pro. In case you're wondering why I don't run a Linux-based desktop as my primary work environment, I'm still using an Nvidia GTX 1080 GPU which has better driver support on Windows and I use ArcGIS Pro from time to time which only supports Windows natively.</p>
</div>
<div id="installing-prerequisites">
<h2>Installing Prerequisites</h2>
<p>I'll use Python and a few other tools to help visualise OSM's data in this post.</p>
<div><pre><span></span>$<span> </span>sudo<span> </span>apt<span> </span>update
$<span> </span>sudo<span> </span>apt<span> </span>install<span> </span><span>\</span>
<span>    </span>jq<span> </span><span>\</span>
<span>    </span>python3-pip<span> </span><span>\</span>
<span>    </span>python3-virtualenv
</pre></div>
<p>I'll set up a Python Virtual Environment and install some dependencies.</p>
<div><pre><span></span>$<span> </span>python3<span> </span>-m<span> </span>venv<span> </span>~/.osm_mvt
$<span> </span><span>source</span><span> </span>~/.osm_mvt/bin/activate
$<span> </span>pip<span> </span>install<span> </span><span>\</span>
<span>    </span><span>"leafmap[maplibre]"</span><span> </span><span>\</span>
<span>    </span>mapbox_vector_tile<span> </span><span>\</span>
<span>    </span>morecantile<span> </span><span>\</span>
<span>    </span>notebook
</pre></div>
<p>I'll use DuckDB, along with its <a href="https://github.com/isaacbrodsky/h3-duckdb">H3</a>, <a href="https://duckdb.org/docs/extensions/json">JSON</a>, <a href="https://community-extensions.duckdb.org/extensions/lindel.html">Lindel</a>, <a href="https://duckdb.org/docs/data/parquet/overview">Parquet</a> and <a href="https://duckdb.org/docs/extensions/spatial.html">Spatial</a> extensions, in this post.</p>
<div><pre><span></span>$<span> </span><span>cd</span><span> </span>~
$<span> </span>wget<span> </span>-c<span> </span>https://github.com/duckdb/duckdb/releases/download/v1.1.3/duckdb_cli-linux-amd64.zip
$<span> </span>unzip<span> </span>-j<span> </span>duckdb_cli-linux-amd64.zip
$<span> </span>chmod<span> </span>+x<span> </span>duckdb
$<span> </span>~/duckdb
</pre></div>
<div><pre><span></span><span>INSTALL</span><span> </span><span>h3</span><span> </span><span>FROM</span><span> </span><span>community</span><span>;</span>
<span>INSTALL</span><span> </span><span>lindel</span><span> </span><span>FROM</span><span> </span><span>community</span><span>;</span>
<span>INSTALL</span><span> </span><span>json</span><span>;</span>
<span>INSTALL</span><span> </span><span>parquet</span><span>;</span>
<span>INSTALL</span><span> </span><span>spatial</span><span>;</span>
</pre></div>
<p>I'll set up DuckDB to load every installed extension each time it launches.</p>

<div><pre><span></span>.timer on
.width 180
LOAD h3;
LOAD lindel;
LOAD json;
LOAD parquet;
LOAD spatial;
</pre></div>
<p>The maps in this post were rendered with <a href="https://www.qgis.org/en/site/forusers/download.html">QGIS</a> version 3.40. QGIS is a desktop application that runs on Windows, macOS and Linux. The application has grown in popularity in recent years and has ~15M application launches from users all around the world each month.</p>
</div>
<div id="osm-s-vector-tiles-in-qgis">
<h2>OSM's Vector Tiles in QGIS</h2>
<p>You can view OSM's vector tiles, along with an example style sheet in QGIS by clicking the Layer Menu -&gt; Add Layer -&gt; Add Vector Tile Layer.</p>
<p>Create a new connection and set its Style URL to:</p>
<div><pre><span></span>https://pnorman.github.io/tilekiln-shortbread-demo/colorful.json
</pre></div>
<p>Then set the Source URL to:</p>
<div><pre><span></span>https://vector.openstreetmap.org/shortbread_v1/{z}/{x}/{y}.mvt
</pre></div>
<p>Below is what the connection UI should look like. Click OK and then Add to add OSM's vector tiles to your project.</p>
<p><a href="https://tech.marksblogg.com/theme/images/osm_mvt/qgis-bin_StwIB57kOY.png"><img alt="OSM" src="https://tech.marksblogg.com/theme/images/osm_mvt/qgis-bin_StwIB57kOY.png"></a></p><p>Below is a rendering of Dubai with the connection that was set up above.</p>
<p><a href="https://tech.marksblogg.com/theme/images/osm_mvt/qgis-bin_cEKxMUuySP.png"><img alt="OSM" src="https://tech.marksblogg.com/theme/images/osm_mvt/qgis-bin_cEKxMUuySP.png"></a></p><p>The style sheet is optional and without it, QGIS can still render the vector data, albeit with colours it'll pick randomly.</p>
<p><a href="https://tech.marksblogg.com/theme/images/osm_mvt/qgis-bin_h51w6JgL8o.jpg"><img alt="OSM" src="https://tech.marksblogg.com/theme/images/osm_mvt/qgis-bin_h51w6JgL8o.jpg"></a></p><p>The only <a href="https://github.com/qgis/QGIS/issues/59492">issue</a> I've come across is the rendering of iconography seems to be off. Other mapping tools can render the sprites for this style just fine but they appear as blurry black icons in QGIS for some reason.</p>
<p><a href="https://tech.marksblogg.com/theme/images/osm_mvt/qgis-bin_iDuU6d7COD.png"><img alt="OSM" src="https://tech.marksblogg.com/theme/images/osm_mvt/qgis-bin_iDuU6d7COD.png"></a>
</p></div>
<div id="osm-s-vector-tiles-in-leafmap">
<h2>OSM's Vector Tiles in Leafmap</h2>
<p>I'll create a configuration folder for Jupyter Notebook and set a password.</p>
<div><pre><span></span>$<span> </span>mkdir<span> </span>-p<span> </span>~/.jupyter
$<span> </span>jupyter-notebook<span> </span>password
</pre></div>
<p>The following will launch Jupyter Notebook. Note it'll run under your user's permissions and expose any files in its current directory or below to anyone who knows the password you set. I'll run the server from an empty folder as a safety precaution.</p>
<div><pre><span></span>$<span> </span>mkdir<span> </span>-p<span> </span>~/empty
$<span> </span><span>cd</span><span> </span>~/empty
$<span> </span>jupyter-notebook<span> </span><span>\</span>
<span>        </span>--no-browser<span> </span><span>\</span>
<span>        </span>--ip<span>=</span><span>127</span>.0.0.1<span> </span><span>\</span>
<span>        </span>--NotebookApp.iopub_data_rate_limit<span>=</span><span>100000000</span>
</pre></div>
<p>I'll open <a href="http://127.0.0.1:8888/">http://127.0.0.1:8888/</a> and type in the password I set above. I'll click the "New" button in the top right and pick "Python 3 (ipykernel)" to create a new notebook to work in.</p>
<p>Below I'll render the area around the Burj Khalifa again. The POI icons render properly.</p>
<div><pre><span></span><span>import</span> <span>leafmap.maplibregl</span> <span>as</span> <span>leafmap</span>


<span>m</span> <span>=</span> <span>leafmap</span><span>.</span><span>Map</span><span>(</span><span>style</span><span>=</span><span>'https://pnorman.github.io/tilekiln-shortbread-demo/colorful.json'</span><span>)</span>
<span>m</span>
</pre></div>
<p><a href="https://tech.marksblogg.com/theme/images/osm_mvt/Screenshot_20241119_132440.png"><img alt="OSM" src="https://tech.marksblogg.com/theme/images/osm_mvt/Screenshot_20241119_132440.png"></a>
</p></div>
<div id="analysis-ready-data">
<h2>Analysis-Ready Data</h2>
<p>Below I'll download a zoom-level 14 tile near the Burj Khalifa.</p>
<p>I'll first get its tile x and y values from its approximate longitude and latitude.</p>
<div><pre><span></span>$<span> </span><span>echo</span><span> </span><span>"[55.27, 25.2]"</span><span> </span><span>\</span>
<span>    </span><span>|</span><span> </span>morecantile<span> </span>tiles<span> </span><span>14</span>
</pre></div>

<p>I'll then use those values to build the tile URL and download its contents.</p>
<div><pre><span></span>$<span> </span>wget<span> </span>https://vector.openstreetmap.org/shortbread_v1/14/10707/7006.mvt
</pre></div>
<p>The following will convert the 114 KB MVT file into a 1.4 MB JSON file.</p>

<div><pre><span></span><span>import</span> <span>json</span>
<span>import</span> <span>math</span>

<span>import</span> <span>mapbox_vector_tile</span>


<span># From https://gis.stackexchange.com/questions/475398/</span>
<span>def</span> <span>pixel2deg</span><span>(</span><span>xtile</span><span>,</span> <span>ytile</span><span>,</span> <span>zoom</span><span>,</span> <span>xpixel</span><span>,</span> <span>ypixel</span><span>,</span> <span>extent</span><span>=</span><span>4096</span><span>):</span>
    <span>n</span>       <span>=</span> <span>2.0</span> <span>**</span> <span>zoom</span>
    <span>xtile</span>   <span>=</span> <span>xtile</span> <span>+</span> <span>(</span><span>xpixel</span> <span>/</span> <span>extent</span><span>)</span>
    <span>ytile</span>   <span>=</span> <span>ytile</span> <span>+</span> <span>((</span><span>extent</span> <span>-</span> <span>ypixel</span><span>)</span> <span>/</span> <span>extent</span><span>)</span>
    <span>lon_deg</span> <span>=</span> <span>(</span><span>xtile</span> <span>/</span> <span>n</span><span>)</span> <span>*</span> <span>360.0</span> <span>-</span> <span>180.0</span>
    <span>lat_rad</span> <span>=</span> <span>math</span><span>.</span><span>atan</span><span>(</span><span>math</span><span>.</span><span>sinh</span><span>(</span><span>math</span><span>.</span><span>pi</span> <span>*</span> <span>(</span><span>1</span> <span>-</span> <span>2</span> <span>*</span> <span>ytile</span> <span>/</span> <span>n</span><span>)))</span>
    <span>lat_deg</span> <span>=</span> <span>math</span><span>.</span><span>degrees</span><span>(</span><span>lat_rad</span><span>)</span>

    <span>return</span> <span>(</span><span>lon_deg</span><span>,</span> <span>lat_deg</span><span>)</span>


<span>open</span><span>(</span><span>'7006.mvt.json'</span><span>,</span> <span>'w'</span><span>)</span><span>.</span><span>write</span><span>(</span>
    <span>json</span><span>.</span><span>dumps</span><span>(</span>
        <span>mapbox_vector_tile</span><span>.</span><span>decode</span><span>(</span>
            <span>tile</span><span>=</span><span>open</span><span>(</span><span>'7006.mvt'</span><span>,</span> <span>'rb'</span><span>)</span><span>.</span><span>read</span><span>(),</span>
            <span>transformer</span><span>=</span><span>lambda</span> <span>x</span><span>,</span> <span>y</span><span>:</span> <span>pixel2deg</span><span>(</span><span>10707</span><span>,</span> <span>7006</span><span>,</span> <span>14</span><span>,</span> <span>x</span><span>,</span> <span>y</span><span>))))</span>
</pre></div>
<p>Below are the top-level keys for the tile.</p>
<div><pre><span></span>$<span> </span>jq<span> </span>-S<span> </span>keys<span> </span><span>7006</span>.mvt.json
</pre></div>
<div><pre><span></span><span>[</span>
<span>  </span><span>"addresses"</span><span>,</span>
<span>  </span><span>"bridges"</span><span>,</span>
<span>  </span><span>"buildings"</span><span>,</span>
<span>  </span><span>"ferries"</span><span>,</span>
<span>  </span><span>"land"</span><span>,</span>
<span>  </span><span>"ocean"</span><span>,</span>
<span>  </span><span>"pier_lines"</span><span>,</span>
<span>  </span><span>"pier_polygons"</span><span>,</span>
<span>  </span><span>"place_labels"</span><span>,</span>
<span>  </span><span>"pois"</span><span>,</span>
<span>  </span><span>"public_transport"</span><span>,</span>
<span>  </span><span>"sites"</span><span>,</span>
<span>  </span><span>"street_labels"</span><span>,</span>
<span>  </span><span>"street_polygons"</span><span>,</span>
<span>  </span><span>"streets"</span><span>,</span>
<span>  </span><span>"streets_labels_points"</span><span>,</span>
<span>  </span><span>"water_polygons"</span><span>,</span>
<span>  </span><span>"water_polygons_labels"</span>
<span>]</span>
</pre></div>
<p>I'll extract the POIs into their own JSON file and open it in DuckDB.</p>
<div><pre><span></span>$<span> </span>jq<span> </span>.pois<span> </span><span>7006</span>.mvt.json<span> </span><span>\</span>
<span>    </span>&gt;<span> </span><span>7006</span>.pois.mvt.json
$<span> </span>~/duckdb
</pre></div>
<p>Below are the records where a cuisine value is present.</p>
<div><pre><span></span><span>.</span><span>maxrows</span><span> </span><span>10</span>

<span>SELECT</span><span> </span><span>geom</span><span>,</span>
<span>       </span><span>amenity</span><span>,</span>
<span>       </span><span>cuisine</span>
<span>FROM</span><span>   </span><span>ST_READ</span><span>(</span><span>'7006.pois.mvt.json'</span><span>)</span>
<span>WHERE</span><span>  </span><span>cuisine</span><span> </span><span>IS</span><span> </span><span>NOT</span><span> </span><span>NULL</span><span>;</span>
</pre></div>
<div><pre><span></span>┌───────────────────────────────────────────────┬────────────┬─────────────┐
│                     geom                      │  amenity   │   cuisine   │
│                   geometry                    │  varchar   │   varchar   │
├───────────────────────────────────────────────┼────────────┼─────────────┤
│ POINT (55.27600407600403 25.19474315833422)   │ restaurant │ french      │
│ POINT (55.27602016925812 25.194947029527537)  │ fast_food  │ greek       │
│ POINT (55.27712523937225 25.194786845047236)  │ restaurant │ american    │
│ POINT (55.27717888355255 25.194961591742572)  │ restaurant │ lebanese    │
│ POINT (55.27799963951111 25.19481596951387)   │ restaurant │ lebanese    │
│                      ·                        │  ·         │    ·        │
│                      ·                        │  ·         │    ·        │
│                      ·                        │  ·         │    ·        │
│ POINT (55.265355706214905 25.189505493297244) │ cafe       │ coffee_shop │
│ POINT (55.265318155288696 25.189209381318772) │ restaurant │ asian       │
│ POINT (55.265103578567505 25.189209381318772) │ restaurant │ persian     │
│ POINT (55.263118743896484 25.18939384460301)  │ fast_food  │ chicken     │
│ POINT (55.263070464134216 25.189340447365243) │ restaurant │ pizza       │
├───────────────────────────────────────────────┴────────────┴─────────────┤
│ 67 rows (10 shown)                                             3 columns │
└──────────────────────────────────────────────────────────────────────────┘
</pre></div>
<p>The null_percentage and approx_unique fields below give you an idea of how well-populated this tile's dataset is.</p>
<div><pre><span></span><span>.</span><span>maxrows</span><span> </span><span>100</span>

<span>SUMMARIZE</span><span> </span><span>FROM</span><span> </span><span>ST_READ</span><span>(</span><span>'7006.pois.mvt.json'</span><span>);</span>
</pre></div>
<div><pre><span></span>┌─────────────────────────┬─────────────┬─────────────────────────────────────────────┬──────────────────────────────────────────────┬───────────────┬───────┬───────┬───────┬───────┬───────┬───────┬─────────────────┐
│       column_name       │ column_type │                     min                     │                     max                      │ approx_unique │  avg  │  std  │  q25  │  q50  │  q75  │ count │ null_percentage │
│         varchar         │   varchar   │                   varchar                   │                   varchar                    │     int64     │ int32 │ int32 │ int32 │ int32 │ int32 │ int64 │  decimal(9,2)   │
├─────────────────────────┼─────────────┼─────────────────────────────────────────────┼──────────────────────────────────────────────┼───────────────┼───────┼───────┼───────┼───────┼───────┼───────┼─────────────────┤
│ emergency               │ VARCHAR     │ fire_hydrant                                │ fire_hydrant                                 │             1 │       │       │       │       │       │   474 │           99.16 │
│ name                    │ VARCHAR     │ % Arabica                                   │ نافورة دبي                                   │           258 │       │       │       │       │       │   474 │           29.96 │
│ name_de                 │ VARCHAR     │ % Arabica                                   │ نافورة دبي                                   │           264 │       │       │       │       │       │   474 │           29.96 │
│ name_en                 │ VARCHAR     │ % Arabica                                   │ مول دبي حمامات +تواليت                       │           245 │       │       │       │       │       │   474 │           29.96 │
│ amenity                 │ VARCHAR     │ atm                                         │ waste_basket                                 │            27 │       │       │       │       │       │   474 │           31.86 │
│ atm                     │ BOOLEAN     │ false                                       │ true                                         │             2 │       │       │       │       │       │   474 │           97.68 │
│ historic                │ VARCHAR     │ memorial                                    │ monument                                     │             2 │       │       │       │       │       │   474 │           99.37 │
│ housename               │ VARCHAR     │ Level 3, Souk al Bahar                      │ Level 3, Souk al Bahar                       │             1 │       │       │       │       │       │   474 │           99.79 │
│ leisure                 │ VARCHAR     │ ice_rink                                    │ swimming_pool                                │             3 │       │       │       │       │       │   474 │           96.41 │
│ man_made                │ VARCHAR     │ surveillance                                │ tower                                        │             2 │       │       │       │       │       │   474 │           98.52 │
│ office                  │ VARCHAR     │ diplomatic                                  │ diplomatic                                   │             1 │       │       │       │       │       │   474 │           99.58 │
│ recycling:glass_bottles │ BOOLEAN     │ false                                       │ false                                        │             1 │       │       │       │       │       │   474 │           99.79 │
│ recycling:paper         │ BOOLEAN     │ false                                       │ false                                        │             1 │       │       │       │       │       │   474 │           99.79 │
│ recycling:clothes       │ BOOLEAN     │ false                                       │ false                                        │             1 │       │       │       │       │       │   474 │           99.79 │
│ recycling:scrap_metal   │ BOOLEAN     │ false                                       │ false                                        │             1 │       │       │       │       │       │   474 │           99.79 │
│ shop                    │ VARCHAR     │ bakery                                      │ travel_agency                                │            19 │       │       │       │       │       │   474 │           83.76 │
│ tourism                 │ VARCHAR     │ hotel                                       │ viewpoint                                    │             5 │       │       │       │       │       │   474 │           91.35 │
│ housenumber             │ VARCHAR     │ 13                                          │ roof top sofitel downtown                    │            18 │       │       │       │       │       │   474 │           95.99 │
│ cuisine                 │ VARCHAR     │ american                                    │ turkish;lebanese;kebab                       │            39 │       │       │       │       │       │   474 │           85.86 │
│ religion                │ VARCHAR     │ muslim                                      │ muslim                                       │             1 │       │       │       │       │       │   474 │           99.16 │
│ denomination            │ VARCHAR     │ sunni                                       │ sunni                                        │             1 │       │       │       │       │       │   474 │           99.79 │
│ tower:type              │ VARCHAR     │ defensive                                   │ defensive                                    │             1 │       │       │       │       │       │   474 │           99.37 │
│ geom                    │ GEOMETRY    │ POINT (55.2777099609375 25.196383826354648) │ POINT (55.27044653892517 25.187825897783735) │           511 │       │       │       │       │       │   474 │            0.00 │
├─────────────────────────┴─────────────┴─────────────────────────────────────────────┴──────────────────────────────────────────────┴───────────────┴───────┴───────┴───────┴───────┴───────┴───────┴─────────────────┤
│ 23 rows                                                                                                                                                                                                   12 columns │
└──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
</pre></div>
</div>

        </div><p>
            Thank you for taking the time to read this post. I offer both consulting and hands-on development services to clients in North America and Europe. If you'd like to discuss how my offerings can help your business please contact me via <a href="https://uk.linkedin.com/in/marklitwintschik/">LinkedIn</a>.
        </p></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Embed an SQLite database in your PostgreSQL table (158 pts)]]></title>
            <link>https://github.com/frectonz/pglite-fusion</link>
            <guid>42182146</guid>
            <pubDate>Tue, 19 Nov 2024 11:02:32 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/frectonz/pglite-fusion">https://github.com/frectonz/pglite-fusion</a>, See on <a href="https://news.ycombinator.com/item?id=42182146">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><h2 tabindex="-1" dir="auto">pglite-fusion</h2><a id="user-content-pglite-fusion" aria-label="Permalink: pglite-fusion" href="#pglite-fusion"></a></p>
<p dir="auto">Embed an SQLite database in your PostgreSQL table. AKA multitenancy has been solved.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Usage</h2><a id="user-content-usage" aria-label="Permalink: Usage" href="#usage"></a></p>
<p dir="auto">Run a PostgreSQL database that has <code>pglite-fusion</code> already installed.</p>
<div dir="auto" data-snippet-clipboard-copy-content="docker run --network=host frectonz/pglite-fusion"><pre>docker run --network=host frectonz/pglite-fusion</pre></div>
<p dir="auto">Connect to the PostgreSQL database using <code>psql</code>.</p>
<div dir="auto" data-snippet-clipboard-copy-content="psql postgresql://postgres@localhost:5432/"><pre>psql postgresql://postgres@localhost:5432/</pre></div>
<p dir="auto">Here's some demo usage.</p>
<div dir="auto" data-snippet-clipboard-copy-content="-- Load PG extension
CREATE EXTENSION pglite_fusion;

-- Create a table with an SQLite column
CREATE TABLE people (
    name     TEXT NOT NULL,
    database SQLITE DEFAULT execute_sqlite(
        empty_sqlite(),
        'CREATE TABLE todos (task TEXT)'
    )
);

-- Insert a row into the people table
INSERT INTO people VALUES ('frectonz');

-- Create a todo for &quot;frectonz&quot;
UPDATE people
SET database = execute_sqlite(
    database,
    'INSERT INTO todos VALUES (''solve multitenancy'')'
)
WHERE name = 'frectonz';

-- Create a todo for &quot;frectonz&quot;
UPDATE people
SET database = execute_sqlite(
    database,
    'INSERT INTO todos VALUES (''buy milk'')'
)
WHERE name = 'frectonz';

-- Fetch frectonz's info
SELECT 
    name, 
    (
        SELECT json_agg(get_sqlite_text(sqlite_row, 0))
        FROM query_sqlite(
            database, 
            'SELECT * FROM todos'
        )
    ) AS todos
FROM 
    people 
WHERE 
    name = 'frectonz';"><pre><span><span>--</span> Load PG extension</span>
CREATE EXTENSION pglite_fusion;

<span><span>--</span> Create a table with an SQLite column</span>
<span>CREATE</span> <span>TABLE</span> <span>people</span> (
    name     <span>TEXT</span> <span>NOT NULL</span>,
    database SQLITE DEFAULT execute_sqlite(
        empty_sqlite(),
        <span><span>'</span>CREATE TABLE todos (task TEXT)<span>'</span></span>
    )
);

<span><span>--</span> Insert a row into the people table</span>
<span>INSERT INTO</span> people <span>VALUES</span> (<span><span>'</span>frectonz<span>'</span></span>);

<span><span>--</span> Create a todo for "frectonz"</span>
<span>UPDATE</span> people
<span>SET</span> database <span>=</span> execute_sqlite(
    database,
    <span><span>'</span>INSERT INTO todos VALUES (<span>'</span><span>'</span>solve multitenancy<span>'</span><span>'</span>)<span>'</span></span>
)
<span>WHERE</span> name <span>=</span> <span><span>'</span>frectonz<span>'</span></span>;

<span><span>--</span> Create a todo for "frectonz"</span>
<span>UPDATE</span> people
<span>SET</span> database <span>=</span> execute_sqlite(
    database,
    <span><span>'</span>INSERT INTO todos VALUES (<span>'</span><span>'</span>buy milk<span>'</span><span>'</span>)<span>'</span></span>
)
<span>WHERE</span> name <span>=</span> <span><span>'</span>frectonz<span>'</span></span>;

<span><span>--</span> Fetch frectonz's info</span>
<span>SELECT</span> 
    name, 
    (
        <span>SELECT</span> json_agg(get_sqlite_text(sqlite_row, <span>0</span>))
        <span>FROM</span> query_sqlite(
            database, 
            <span><span>'</span>SELECT * FROM todos<span>'</span></span>
        )
    ) <span>AS</span> todos
<span>FROM</span> 
    people 
<span>WHERE</span> 
    name <span>=</span> <span><span>'</span>frectonz<span>'</span></span>;</pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">Build it from source</h2><a id="user-content-build-it-from-source" aria-label="Permalink: Build it from source" href="#build-it-from-source"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="git clone git@github.com:frectonz/pglite-fusion.git 
cd pglite-fusion
nix develop
cargo pgrx init # this will take some time, since you will compiling postgres from source
cargo pgrx run # this will drop you into a psql repl, you can then follow the example shown above"><pre>git clone git@github.com:frectonz/pglite-fusion.git 
<span>cd</span> pglite-fusion
nix develop
cargo pgrx init <span><span>#</span> this will take some time, since you will compiling postgres from source</span>
cargo pgrx run <span><span>#</span> this will drop you into a psql repl, you can then follow the example shown above</span></pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">API Documentation</h2><a id="user-content-api-documentation" aria-label="Permalink: API Documentation" href="#api-documentation"></a></p>
<p dir="auto"><h3 tabindex="-1" dir="auto"><code>empty_sqlite</code></h3><a id="user-content-empty_sqlite" aria-label="Permalink: empty_sqlite" href="#empty_sqlite"></a></p>
<p dir="auto">Creates an empty SQLite database and returns it as a binary object. This can be used to initialize an empty SQLite database in a PostgreSQL column.</p>
<p dir="auto"><h4 tabindex="-1" dir="auto">Example Usage:</h4><a id="user-content-example-usage" aria-label="Permalink: Example Usage:" href="#example-usage"></a></p>

<hr>
<p dir="auto"><h3 tabindex="-1" dir="auto"><code>query_sqlite</code></h3><a id="user-content-query_sqlite" aria-label="Permalink: query_sqlite" href="#query_sqlite"></a></p>
<p dir="auto">Executes a SQL query on a SQLite database stored as a binary object and returns the result as a table of JSON-encoded rows. This function is useful for querying SQLite databases stored in PostgreSQL columns.</p>
<p dir="auto"><h4 tabindex="-1" dir="auto">Parameters:</h4><a id="user-content-parameters" aria-label="Permalink: Parameters:" href="#parameters"></a></p>
<ul dir="auto">
<li><code>sqlite</code>: The SQLite database to query, stored as a binary object.</li>
<li><code>query</code>: The SQL query string to execute on the SQLite database.</li>
</ul>
<p dir="auto"><h4 tabindex="-1" dir="auto">Example Usage:</h4><a id="user-content-example-usage-1" aria-label="Permalink: Example Usage:" href="#example-usage-1"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="SELECT * FROM query_sqlite(
    database, 
    'SELECT * FROM todos'
);"><pre><span>SELECT</span> <span>*</span> <span>FROM</span> query_sqlite(
    database, 
    <span><span>'</span>SELECT * FROM todos<span>'</span></span>
);</pre></div>
<hr>
<p dir="auto"><h3 tabindex="-1" dir="auto"><code>execute_sqlite</code></h3><a id="user-content-execute_sqlite" aria-label="Permalink: execute_sqlite" href="#execute_sqlite"></a></p>
<p dir="auto">Executes a SQL statement (such as <code>INSERT</code>, <code>UPDATE</code>, or <code>DELETE</code>) on a SQLite database stored as a binary object. The updated SQLite database is returned as a binary object, allowing further operations on it.</p>
<p dir="auto"><h4 tabindex="-1" dir="auto">Parameters:</h4><a id="user-content-parameters-1" aria-label="Permalink: Parameters:" href="#parameters-1"></a></p>
<ul dir="auto">
<li><code>sqlite</code>: The SQLite database to execute the SQL query on, stored as a binary object.</li>
<li><code>query</code>: The SQL statement to execute on the SQLite database.</li>
</ul>
<p dir="auto"><h5 tabindex="-1" dir="auto">Example Usage:</h5><a id="user-content-example-usage-2" aria-label="Permalink: Example Usage:" href="#example-usage-2"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="UPDATE people
SET database = execute_sqlite(
    database,
    'INSERT INTO todos VALUES (''solve multitenancy'')'
)
WHERE name = 'frectonz';"><pre><span>UPDATE</span> people
<span>SET</span> database <span>=</span> execute_sqlite(
    database,
    <span><span>'</span>INSERT INTO todos VALUES (<span>'</span><span>'</span>solve multitenancy<span>'</span><span>'</span>)<span>'</span></span>
)
<span>WHERE</span> name <span>=</span> <span><span>'</span>frectonz<span>'</span></span>;</pre></div>
<hr>
<p dir="auto"><h3 tabindex="-1" dir="auto"><code>get_sqlite_text</code></h3><a id="user-content-get_sqlite_text" aria-label="Permalink: get_sqlite_text" href="#get_sqlite_text"></a></p>
<p dir="auto">Extracts a text value from a specific column in a row returned by <code>query_sqlite</code>. Use this function to retrieve text values from query results.</p>
<p dir="auto"><h4 tabindex="-1" dir="auto">Parameters:</h4><a id="user-content-parameters-2" aria-label="Permalink: Parameters:" href="#parameters-2"></a></p>
<ul dir="auto">
<li><code>sqlite_row</code>: A row from the results of <code>query_sqlite</code>.</li>
<li><code>index</code>: The index of the column to extract from the row.</li>
</ul>
<p dir="auto"><h4 tabindex="-1" dir="auto">Example Usage:</h4><a id="user-content-example-usage-3" aria-label="Permalink: Example Usage:" href="#example-usage-3"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="SELECT get_sqlite_text(sqlite_row, 0) 
FROM query_sqlite(database, 'SELECT * FROM todos');"><pre><span>SELECT</span> get_sqlite_text(sqlite_row, <span>0</span>) 
<span>FROM</span> query_sqlite(database, <span><span>'</span>SELECT * FROM todos<span>'</span></span>);</pre></div>
<hr>
<p dir="auto"><h3 tabindex="-1" dir="auto"><code>get_sqlite_integer</code></h3><a id="user-content-get_sqlite_integer" aria-label="Permalink: get_sqlite_integer" href="#get_sqlite_integer"></a></p>
<p dir="auto">Extracts an integer value from a specific column in a row returned by <code>query_sqlite</code>. Use this function to retrieve integer values from query results.</p>
<p dir="auto"><h4 tabindex="-1" dir="auto">Parameters:</h4><a id="user-content-parameters-3" aria-label="Permalink: Parameters:" href="#parameters-3"></a></p>
<ul dir="auto">
<li><code>sqlite_row</code>: A row from the results of <code>query_sqlite</code>.</li>
<li><code>index</code>: The index of the column to extract from the row.</li>
</ul>
<p dir="auto"><h4 tabindex="-1" dir="auto">Example Usage:</h4><a id="user-content-example-usage-4" aria-label="Permalink: Example Usage:" href="#example-usage-4"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="SELECT get_sqlite_integer(sqlite_row, 1) 
FROM query_sqlite(database, 'SELECT * FROM todos');"><pre><span>SELECT</span> get_sqlite_integer(sqlite_row, <span>1</span>) 
<span>FROM</span> query_sqlite(database, <span><span>'</span>SELECT * FROM todos<span>'</span></span>);</pre></div>
<hr>
<p dir="auto"><h3 tabindex="-1" dir="auto"><code>get_sqlite_real</code></h3><a id="user-content-get_sqlite_real" aria-label="Permalink: get_sqlite_real" href="#get_sqlite_real"></a></p>
<p dir="auto">Extracts a real (floating-point) value from a specific column in a row returned by <code>query_sqlite</code>. Use this function to retrieve real number values from query results.</p>
<p dir="auto"><h4 tabindex="-1" dir="auto">Parameters:</h4><a id="user-content-parameters-4" aria-label="Permalink: Parameters:" href="#parameters-4"></a></p>
<ul dir="auto">
<li><code>sqlite_row</code>: A row from the results of <code>query_sqlite</code>.</li>
<li><code>index</code>: The index of the column to extract from the row.</li>
</ul>
<p dir="auto"><h4 tabindex="-1" dir="auto">Example Usage:</h4><a id="user-content-example-usage-5" aria-label="Permalink: Example Usage:" href="#example-usage-5"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="SELECT get_sqlite_real(sqlite_row, 2) 
FROM query_sqlite(database, 'SELECT * FROM todos');"><pre><span>SELECT</span> get_sqlite_real(sqlite_row, <span>2</span>) 
<span>FROM</span> query_sqlite(database, <span><span>'</span>SELECT * FROM todos<span>'</span></span>);</pre></div>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Listen to what gets lost when an MP3 is made (2015) (137 pts)]]></title>
            <link>https://www.vox.com/2015/3/4/8147377/mp3-compressed-ghosts</link>
            <guid>42181467</guid>
            <pubDate>Tue, 19 Nov 2024 09:23:43 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.vox.com/2015/3/4/8147377/mp3-compressed-ghosts">https://www.vox.com/2015/3/4/8147377/mp3-compressed-ghosts</a>, See on <a href="https://news.ycombinator.com/item?id=42181467">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="zephr-anchor"><p>The MP3, the file type of most songs you listen to on a computer, is compressed. Part of the reason people love vinyl records so much (even though they <a href="http://www.vox.com/2014/4/19/5626058/vinyls-great-but-its-not-better-than-cds">don’t necessarily sound “better”</a> than digital formats), is that they are closer in format to the way you would actually hear a song if you were standing in the room with Rihanna instead of listening to “FourFiveSeconds” on your phone.</p><p>Compression happened because (especially in the 1990s when this change was happening) file size needed to be small enough to live on your computer in mass quantities without slowing it down. Now, many computers have the space for higher-quality formats, but the MP3 format has become an industry standard. And information is lost as songs are converted to MP3 format.</p><p>The very first song to become an MP3 was Suzanne Vega’s “Tom’s Diner.” A German engineer played the song over and over again as he tried to squeeze the song into a smaller size without changing its sound too much. Here’s “Tom’s Diner” in its MP3 format.</p><div><p><iframe frameborder="0" src="https://www.youtube.com/embed/-26hsZqwveA" height="480" width="640"></iframe></p></div><p>The MP3 format can reduce the file size of a song as much as 10-fold, but in the process something has to be filtered out. Which sounds get filtered out of a song to make the file smaller was determined in 1993 by a group of European sound engineers using songs like Tracy Chapman’s “Fast Car,” and Vega’s “Tom’s Diner.” In 1994, MP3s became a public format and, after the advent and widespread use of the internet, they are now the primary format that most people listen to music in.</p><p>But what happened to those filtered out sounds?</p><p>Ryan MaGuire, a a Ph.D. student in Composition and Computer Technologies at the University of Virginia Center for Computer Music, created a project called “moDernisT” to find out. McGuire’s project pulls out those missing sounds and lets them live on their own. Here is the lost material from “Tom’s Diner” as found by MaGuire:</p><div><p><iframe src="https://player.vimeo.com/video/107845118" width="500" height="375" frameborder="0"></iframe></p></div><p>You can hear so many unnecessarily rejected sounds. The buzzing of the small diner, in the first verse for example, and even some of Vega’s softer vocal tones in verse 5.</p><p>What MaGuire has proved here is that the songs we listen to every single day are not the exact master copy that the artist recorded and wanted for us to hear. Instead, they are slightly stripped versions of their art run through a set of standards created by a bunch of engineers in 1993. For many people, that won’t matter. The songs sound almost the same, but the compression of music into an MP3 format is an important question to weigh when considering artistic intent and analyzing songs that aren’t exactly the original.</p><div><p>For a heavier analysis, check out<a href="http://theghostinthemp3.com/theghostinthemp3.html"> MaGuire’s personal </a>findings and his <a href="https://soundcloud.com/magwhyr">Soundcloud account</a>.</p></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Fair coins tend to land on the side they started: Evidence from 350,757 flips (321 pts)]]></title>
            <link>https://www.researchgate.net/publication/374700857_Fair_coins_tend_to_land_on_the_same_side_they_started_Evidence_from_350757_flips</link>
            <guid>42181345</guid>
            <pubDate>Tue, 19 Nov 2024 09:03:50 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.researchgate.net/publication/374700857_Fair_coins_tend_to_land_on_the_same_side_they_started_Evidence_from_350757_flips">https://www.researchgate.net/publication/374700857_Fair_coins_tend_to_land_on_the_same_side_they_started_Evidence_from_350757_flips</a>, See on <a href="https://news.ycombinator.com/item?id=42181345">Hacker News</a></p>
Couldn't get https://www.researchgate.net/publication/374700857_Fair_coins_tend_to_land_on_the_same_side_they_started_Evidence_from_350757_flips: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[How to Build a Chess Engine and Fail (112 pts)]]></title>
            <link>https://obrhubr.org/chess-engine</link>
            <guid>42180597</guid>
            <pubDate>Tue, 19 Nov 2024 06:38:58 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://obrhubr.org/chess-engine">https://obrhubr.org/chess-engine</a>, See on <a href="https://news.ycombinator.com/item?id=42180597">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
	<h2 id="what-is-the-current-state-of-chess-engines">What is the current state of chess engines?</h2>

<p>A Chess-AI is something of a rite of passage for every software engineer, as is a snake clone or a calculator console application. If you did not try to build one yet, you are certainly missing out (or preserving your own sanity, whatever you prefer). Between the <a href="https://www.chessprogramming.org/Main_Page">chessprogrammingwiki.org</a> and other online resources this is now a pretty well explored field, but that is not to say that innovation is impossible and nothing changed since the days of Deep Blue (the first ever chess computer the officially beat a grandmaster).</p>

<p>In recent years Stockfish, the most advanced computer chess engine, has gotten a major upgrade in the form of a NNUE, a fast neural network of sorts which is used as it’s evaluation function. An evaluation function does exactly what it sounds like, it is used by the engine to evaluate the current position. The replacement of the hand-crafted evaluation function by a neural network seems to be just one more example of the <a href="http://www.incompleteideas.net/IncIdeas/BitterLesson.html">Bitter Lesson</a>.</p>

<p>Today I would group chess engines into two categories: “explore the most possibilities as fast as possible” (Stockfish) and “have a very sophisticated evaluation function in the form of a neural network” (Leela Chess Zero).</p>

<h2 id="what-is-left-for-amateurs-such-as-myself-then">What is left for amateurs, such as myself then?</h2>

<p>Sebastian Lague has the perfect answer to that question: a <a href="https://www.youtube.com/watch?v=iScy18pVR58">competition</a> that imposes an arbitrary limit on the length of your engines code. To be exact every participant has a maximum of 1024 tokens at his disposal to craft the best chess bot they can. Sounds like a lot, or extremely little depending on your conception of tokens. In this case a token is the smallest unit the compiler can see, with some exceptions. Therefore your 28 character Java like variable <code>ChessEngineBotThinkingBoardGamePiecePlayerMoverFactory</code> will only count as a single token, while <code>{</code> also counts as one. You also cannot load external files or use certain functions to extract variable names, which is enforced by limiting the allowed namespaces.</p>

<h2 id="trying-to-improve-the-evaluation-function">Trying to improve the evaluation function</h2>

<p>This limitation prevents the implementation of any neural networks or complex evaluation functions necessary for chess engines of the second type described above. This naturally would lead participants to choose to implement an efficient algorithm to search as much of the game tree as possible.</p>

<p>Despite this, I wanted to do something akin to knowledge distillation, inspired by the <a href="https://www.chessprogramming.org/Stockfish_NNUE">NNUE of Stockfish</a>, that uses the current board as an input and applies the weights and biases of the model to come up with a number.</p>

<p>If, instead of using a complex network, we used a single 8x8 grid of weights for each type of piece, we could distil the game knowledge of powerful engines into a very small number of bytes. This evaluation function could then still be “plug and play” with a traditional Minimax engine and give our engine a crucial competitive advantage, while still staying inside the allowed 1024 tokens.</p>

<p>(To anyone familiar with chess engine programming, this is essentially a <a href="https://www.chessprogramming.org/Piece-Square_Tables">PST</a>, a piece square table. What’s new here is the way it’s values will be fine-tuned.)</p>

<h2 id="the-idea">The Idea</h2>

<p>A very basic approach for creating an evaluation function is adding up the values of each piece a player has on the board and calculating the difference between these values for both players, which gives a score. Instead of assigning a static value to each type of piece (8 for a queen, 3 for a knight etc…) we weight their value based on their position on the field. One basic improvement we could make is to increase the value of a pawn the further it progresses up the board.</p>

<p><img src="https://obrhubr.org/assets/chess-engine/6bb234dacbdd09a4b74399d0cd462e3d.webp" alt="Basic piece square table." srcset="https://obrhubr.org/assets/chess-engine/6bb234dacbdd09a4b74399d0cd462e3d.webp 499w, https://obrhubr.org/assets/chess-engine/6bb234dacbdd09a4b74399d0cd462e3d-480.webp 480w, https://obrhubr.org/assets/chess-engine/6bb234dacbdd09a4b74399d0cd462e3d-320.webp 320w" sizes="(max-width: 800px) 100vw, (min-width: 801px) 800px" width="499" height="500"></p>

<p>Instead, copying the idea of the NNUE, we “train” our model on a lot of games and could come up with very sophisticated weighting strategies. We assign a value to every square of the board a piece could stand on, and do that for every type of piece. To evaluate a position, we would only need to add the value of the squares every piece stands on.</p>

<p>For the implementation, we would need to save the weights of each square of each piece to an array. To evaluate we take a bitboard (<code>1</code> means a piece is present on the square, <code>0</code> indicates that no piece is there) representing the different pieces on the board as an array, and multiply it and the model’s weights together. The result would be a board with only the values of the squares left, that have a piece currently standing on them. Summing the values of the 6 different boards (6 piece types: pawn, knight, bishop, rook, queen, king) together for each player and subtracting them gives us a value in the format of the classic stockfish evaluation: <code>-1.5</code> for example to represent black winning by a certain margin, <code>+7.9</code> to represent white having a very powerful advantage.</p>

<p><img src="https://obrhubr.org/assets/chess-engine/59c448dbbf4c0046375589710e8a0445.webp" alt="Diagram illustrating the evaluation function using the piece square table." srcset="https://obrhubr.org/assets/chess-engine/59c448dbbf4c0046375589710e8a0445.webp 3550w, https://obrhubr.org/assets/chess-engine/59c448dbbf4c0046375589710e8a0445-800.webp 800w, https://obrhubr.org/assets/chess-engine/59c448dbbf4c0046375589710e8a0445-720.webp 720w, https://obrhubr.org/assets/chess-engine/59c448dbbf4c0046375589710e8a0445-640.webp 640w, https://obrhubr.org/assets/chess-engine/59c448dbbf4c0046375589710e8a0445-480.webp 480w, https://obrhubr.org/assets/chess-engine/59c448dbbf4c0046375589710e8a0445-320.webp 320w" sizes="(max-width: 800px) 100vw, (min-width: 801px) 800px" width="3550" height="800"></p>

<h2 id="implementing-the-genetic-algorithm-and-training">Implementing the genetic algorithm and training</h2>

<p>The question that remains is that of setting the value for each of the squares of the boards. Here, a tried and tested technique of machine learning seemed perfect: genetic algorithms. The issue with traditional techniques of training machine learning models in this context is that there are no nodes and edges to tune the values of using back and forward propagation.</p>

<p>Genetic algorithms on the contrary don’t use these more sophisticated techniques, and just mutate the values of the boards randomly between generations, always selecting the best of the current generation. Our training would therefore look something like this: we instantiate the model with randomly selected numbers between some boundary. We then evaluate these “weights” to assign a fitness to each and at the end we select the very best. We then slightly but still randomly mutate the values to create 500 or more children and test their fitness again.</p>

<p><img src="https://obrhubr.org/assets/chess-engine/f0b3936b7457d28c933641f75129320d.webp" alt="Diagram illustrating genetic algorithms." srcset="https://obrhubr.org/assets/chess-engine/f0b3936b7457d28c933641f75129320d.webp 1260w, https://obrhubr.org/assets/chess-engine/f0b3936b7457d28c933641f75129320d-800.webp 800w, https://obrhubr.org/assets/chess-engine/f0b3936b7457d28c933641f75129320d-720.webp 720w, https://obrhubr.org/assets/chess-engine/f0b3936b7457d28c933641f75129320d-640.webp 640w, https://obrhubr.org/assets/chess-engine/f0b3936b7457d28c933641f75129320d-480.webp 480w, https://obrhubr.org/assets/chess-engine/f0b3936b7457d28c933641f75129320d-320.webp 320w" sizes="(max-width: 800px) 100vw, (min-width: 801px) 800px" width="1260" height="1052"></p>

<p>We repeat this for a few hundred generations and we would be left with a single model that has been optimized for the fitness function.</p>

<p>Now we have the issue of defining an appropriate fitness function, to make sure we really chose the models that have the best chance of producing accurate evaluations. To do this I downloaded a large number of lichess and chess engine games from the internet in PGN format. PGN stands for “portable game notation” and it encodes chess games into a series of moves with a bit of metadata.</p>

<div><pre><code><span>[</span><span>Event</span> <span>"</span><span>F/S Return Match</span><span>"</span><span>]</span>
<span>...</span>
<span>[</span><span>White</span> <span>"</span><span>Fischer, Robert J.</span><span>"</span><span>]</span>
<span>[</span><span>Black</span> <span>"</span><span>Spassky, Boris V.</span><span>"</span><span>]</span>
<span>[</span><span>Result</span> <span>"</span><span>1/2-1/2</span><span>"</span><span>]</span>

<span>1</span><span>.</span> <span>e4</span> <span>{</span> <span>[</span><span>%</span><span>eval</span> <span>0.17</span><span>]</span> <span>[</span><span>%</span><span>clk</span> <span>0</span><span>:</span><span>00</span><span>:</span><span>30</span><span>]</span> <span>}</span> <span>1</span><span>...</span> <span>c5</span> <span>{</span> <span>[</span><span>%</span><span>eval</span> <span>0.19</span><span>]</span> <span>[</span><span>%</span><span>clk</span> <span>0</span><span>:</span><span>00</span><span>:</span><span>30</span><span>]</span> <span>}</span> 
<span>2</span><span>.</span> <span>Nf3</span> <span>{</span> <span>[</span><span>%</span><span>eval</span> <span>0.25</span><span>]</span> <span>[</span><span>%</span><span>clk</span> <span>0</span><span>:</span><span>00</span><span>:</span><span>29</span><span>]</span> <span>}</span> <span>2</span><span>...</span> <span>Nc6</span> <span>{</span> <span>[</span><span>%</span><span>eval</span> <span>0.33</span><span>]</span> <span>[</span><span>%</span><span>clk</span> <span>0</span><span>:</span><span>00</span><span>:</span><span>30</span><span>]</span> <span>}</span> 
<span>[...]</span>
<span>13</span><span>.</span> <span>b3</span> <span>$4</span> <span>{</span> <span>[</span><span>%</span><span>eval</span> <span>-</span><span>4.14</span><span>]</span> <span>[</span><span>%</span><span>clk</span> <span>0</span><span>:</span><span>00</span><span>:</span><span>02</span><span>]</span> <span>}</span> <span>13</span><span>...</span> <span>Nf4</span> <span>$2</span> <span>{</span> <span>[</span><span>%</span><span>eval</span> <span>-</span><span>2.73</span><span>]</span> <span>[</span><span>%</span><span>clk</span> <span>0</span><span>:</span><span>00</span><span>:</span><span>21</span><span>]</span> <span>}</span> <span>0</span><span>-</span><span>1</span>
</code></pre></div>

<p>I then extracted the evaluation for each position and stored these for training, resulting in a few hundreds of thousands of lines of chess positions.</p>

<p>This seemingly random string is actually a <a href="https://de.wikipedia.org/wiki/Forsyth-Edwards-Notation">FEN</a> string, which stores the position of each chess pieces, therefore encoding the board. Paired with the evaluation that a powerful chess engine assigned to it, this was the perfect dataset to train my own engine.</p>

<div><pre><code><span>{</span><span>
    </span><span>"positions"</span><span>:</span><span> </span><span>[</span><span>
        </span><span>{</span><span>
            </span><span>"fen"</span><span>:</span><span> </span><span>"rnbqkbnr/pp1ppppp/8/2p5/4P3/8/PPPP1PPP/RNBQKBNR w KQkq - 0 2"</span><span>,</span><span>
            </span><span>"eval"</span><span>:</span><span> </span><span>0.19</span><span>
        </span><span>}</span><span>
	</span><span>]</span><span>
</span><span>}</span><span>
</span></code></pre></div>

<p>The fitness function would consist of evaluating a position with the values of the boards that the model has and taking the difference of that and the actual evaluation of the position. To get the best child in a generation we would then take the one with the lowest overall score, which means it has evaluated the positions closest to the actual evaluation.</p>

<h2 id="disappointing-results">Disappointing results</h2>

<p>My enthusiasm for this idea quickly ebbed away very quickly once I realized how long training would take and also how bad the first dozen generations really were. Plugging in the values of the best models produced mediocre results, even against very weak opponents.</p>

<p>What was wrong? Distilling the knowledge stored in the NNUE, which is pretty small but still about 50MBs large, into only 24576 values was too much. The loss of context that my implementation had by design was crippling it’s ability. The different boards for each piece that make up the model do not consider their position relative to other pieces. Moving the queen to c6 would be evaluated as equally good, whether it blundered the queen to a pawn or delivered a beautiful checkmate.</p>

<p>But adding the additional context that stockfish provides it’s NNUE was simply not possible for the amount of tokens that the challenge bestowed upon us.</p>

<h2 id="how-does-the-nnue-solve-this-problem">How does the NNUE solve this problem?</h2>

<p><img src="https://obrhubr.org/assets/chess-engine/32d8925bbb1bf60d7408d8313e2443ec.webp" alt="Comparison between Stockfish’s NNUE weights and the piece square tables used by my bot." srcset="https://obrhubr.org/assets/chess-engine/32d8925bbb1bf60d7408d8313e2443ec.webp 1674w, https://obrhubr.org/assets/chess-engine/32d8925bbb1bf60d7408d8313e2443ec-800.webp 800w, https://obrhubr.org/assets/chess-engine/32d8925bbb1bf60d7408d8313e2443ec-720.webp 720w, https://obrhubr.org/assets/chess-engine/32d8925bbb1bf60d7408d8313e2443ec-640.webp 640w, https://obrhubr.org/assets/chess-engine/32d8925bbb1bf60d7408d8313e2443ec-480.webp 480w, https://obrhubr.org/assets/chess-engine/32d8925bbb1bf60d7408d8313e2443ec-320.webp 320w" sizes="(max-width: 800px) 100vw, (min-width: 801px) 800px" width="1674" height="560"></p>

<p><a href="https://github.com/official-stockfish/nnue-pytorch/blob/master/docs/nnue.md#what-is-nnue">Stockfish’s NNUE</a> is essentially made up of a heavily overparametrised input layer and a simple 4 layer network behind it. What this means is that instead of using bitboards representing the positions of the different pieces as inputs and applying the weights and biases, it instead gives the NNUE the positions of every single piece in relation to every single king position. This provides the network the necessary context to evaluate the position, which our simplified version lacked.</p>

<p>Concretely this translates to a model architecture consisting of 2x45056 inputs. It has two sides, one for the side that currently moves and the opposing side. Where does 45056 come from? For each of the two input halves, there are 11 other piece types to consider in relation to the king of the current side and there are then 64 squares a piece could be on for 64 squares the king could be on.</p>

<p>For example, if white is to move, there are 11 other piece types (W Queen, W Rook, W Bishop, W Knight, W Pawn, B King, B Queen, B Rook, B Bishop, B Knight, B Pawn) that have to be taken into account. For each of the pieces on the board, we would then get the pair of <code>(king position, piece positions)</code>, and activate the corresponding input node of the network.</p>

<p><img src="https://obrhubr.org/assets/chess-engine/e9ab53336453783922c30c0bf838ade3.webp" alt="Diagram illustrating how the NNUE works." srcset="https://obrhubr.org/assets/chess-engine/e9ab53336453783922c30c0bf838ade3.webp 2916w, https://obrhubr.org/assets/chess-engine/e9ab53336453783922c30c0bf838ade3-800.webp 800w, https://obrhubr.org/assets/chess-engine/e9ab53336453783922c30c0bf838ade3-720.webp 720w, https://obrhubr.org/assets/chess-engine/e9ab53336453783922c30c0bf838ade3-640.webp 640w, https://obrhubr.org/assets/chess-engine/e9ab53336453783922c30c0bf838ade3-480.webp 480w, https://obrhubr.org/assets/chess-engine/e9ab53336453783922c30c0bf838ade3-320.webp 320w" sizes="(max-width: 800px) 100vw, (min-width: 801px) 800px" width="2916" height="1044"></p>

<p>This graphic from the <a href="https://www.chessprogramming.org/Main_Page">chessprogrammingwiki.org</a> nicely summarizes the reset of the model architecture.</p>

<p><img src="https://obrhubr.org/assets/chess-engine/fe0b0091d0b0219fd0689c3eb12c0fc2.webp" alt="Diagram of the NNUE’s architecture" srcset="https://obrhubr.org/assets/chess-engine/fe0b0091d0b0219fd0689c3eb12c0fc2.webp 658w, https://obrhubr.org/assets/chess-engine/fe0b0091d0b0219fd0689c3eb12c0fc2-640.webp 640w, https://obrhubr.org/assets/chess-engine/fe0b0091d0b0219fd0689c3eb12c0fc2-480.webp 480w, https://obrhubr.org/assets/chess-engine/fe0b0091d0b0219fd0689c3eb12c0fc2-320.webp 320w" sizes="(max-width: 800px) 100vw, (min-width: 801px) 800px" width="658" height="601"></p>

<p>This architecture also allows the highly optimized evaluation of the network that makes Stockfish so fast. As long as the king does not move, you only have to update a single input node to recompute the evaluation for each move.</p>



<p>While the ultra-high rate of compression from 2x45065 inputs to only 6x8x8 is clearly too high, a more conservative approach might be able to identify unused or less impactful inputs or nodes in the stockfish NNUE to apply a “pruning” of sorts. Some positions such as (…, pa1) and others where the pawns would have to walk backwards are not even possible and <strong>I assume naively</strong> could easily be removed from the network.</p>

<h2 id="addendum">Addendum</h2>

<p><em>EDIT - 08.10.2024:</em> I added this section to highlight some interesting technical behind the scenes information. If you are interested in building your own chess engine or in debugging complex recursive algorithms, I recommend reading the <a href="https://github.com/obrhubr/chess-challenge-participation?tab=readme-ov-file#building-a-tool-to-debug-the-bot">section about debugging on GitHub</a> and about the other technical topics just below in the readme.</p>

<h3 id="debugging">Debugging</h3>

<p>The dashboard I built shows depth reached, the amount of nodes traversed and the memory consumed by hash tables storing certain evaluations among others.</p>

<p>The engine dumps this information into a JSON file with each iteration, which is picked up by the server and refreshes the dashboard. Monitoring applications this way is common for web development, where distributed systems are otherwise impossible to debug.</p>

<p><img src="https://obrhubr.org/assets/chess-engine/ccee14a7efbf0635149fe31ef9427cb0.webp" alt="Graphical interface of my debugging tool." srcset="https://obrhubr.org/assets/chess-engine/ccee14a7efbf0635149fe31ef9427cb0.webp 1697w, https://obrhubr.org/assets/chess-engine/ccee14a7efbf0635149fe31ef9427cb0-800.webp 800w, https://obrhubr.org/assets/chess-engine/ccee14a7efbf0635149fe31ef9427cb0-720.webp 720w, https://obrhubr.org/assets/chess-engine/ccee14a7efbf0635149fe31ef9427cb0-640.webp 640w, https://obrhubr.org/assets/chess-engine/ccee14a7efbf0635149fe31ef9427cb0-480.webp 480w, https://obrhubr.org/assets/chess-engine/ccee14a7efbf0635149fe31ef9427cb0-320.webp 320w" sizes="(max-width: 800px) 100vw, (min-width: 801px) 800px" width="1697" height="1257"></p>

<p>The information on the bottom right is especially helpful to debug some complex issues with mates. It shows the best move chosen and the evaluation, but also the sequence of moves the engine explored to determine this course of action.</p>

<p>Inspection of deeper internal states allows us humans to understand the engine’s rationale for a certain move. For example by visualising the final state of the board at depth <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span></span> (if both players play optimally).</p>

<h3 id="beyond-pruned-minimax">Beyond pruned Minimax</h3>

<p>I also wanted to add more detail about advanced techniques for engine programming that I came across.</p>

<p>After setting up your basic minimax framework, you are then free to have fun. There are tried and tested algorithms, but it’s especially fun trying to tack your on additions onto your progressively more powerful engine.</p>

<p>Below is the list of optimisations I implemented, as they are the lowest hanging fruits.</p>

<h3 id="transposition-tables">Transposition tables</h3>

<p>To avoid wasting cycles by recomputing the optimal move for nodes that were already visited, the engine uses transposition tables. A hash of the board is used as the key under which the best move (as calculated at depth <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span></span>) is persisted.</p>

<p>The dashboard also allows us to inspect the usage rates of the transposition tables, which is interesting for optimisation and sizing the table.</p>

<h3 id="quiescence-search-and-search-extensions">Quiescence search and search extensions</h3>

<p>Sometimes, stopping the search at depth <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span></span> is harmful to the evaluation, as the board is in a “hot” state, where both players are trading pieces. In these cases, it makes sense to extend the search a bit further, until the evaluation stabilises.</p>

<p>This is the problem <a href="https://www.chessprogramming.org/Quiescence_Search">quiescence search</a> solves. By continuing the search just a bit longer, the engine achieves more accurate results. It works by only exploring captures, until there are only normal moves left. If we didn’t perform this type of search extensions, some unrealised threats wouldn’t be included in the analysis. For example, a pawn threatening to take a queen in the next move wouldn’t matter at all if we stop at the depth just before, as the lost queen wouldn’t be included.</p>

<h3 id="time-management-and-early-exit">Time management and early exit</h3>

<p>A very difficult aspect of designing an engine is deciding on the amount of time to give it for each move. A basic example would be allocating more time in the endgame to catch a mate that otherwise might be missed. My approach to this issue is documented in the readme, but I am not happy with my results.</p>





</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Rats Learned to Drive–and They Love It (215 pts)]]></title>
            <link>https://theconversation.com/im-a-neuroscientist-who-taught-rats-to-drive-their-joy-suggests-how-anticipating-fun-can-enrich-human-life-239029</link>
            <guid>42179774</guid>
            <pubDate>Tue, 19 Nov 2024 03:12:19 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://theconversation.com/im-a-neuroscientist-who-taught-rats-to-drive-their-joy-suggests-how-anticipating-fun-can-enrich-human-life-239029">https://theconversation.com/im-a-neuroscientist-who-taught-rats-to-drive-their-joy-suggests-how-anticipating-fun-can-enrich-human-life-239029</a>, See on <a href="https://news.ycombinator.com/item?id=42179774">Hacker News</a></p>
<div id="readability-page-1" class="page"><div itemprop="articleBody">
    <p>We crafted our first rodent car from a plastic cereal container. After trial and error, my colleagues and I found that rats could learn to drive forward by grasping a small wire that acted like a gas pedal. Before long, they were steering with surprising precision to reach a Froot Loop treat. </p>

<p>As expected, rats housed in enriched environments – complete with toys, space and companions – learned to drive faster than those in standard cages. This finding supported the idea that <a href="https://doi.org/10.1016/j.bbr.2019.112309">complex environments enhance neuroplasticity</a>: the brain’s ability to change across the lifespan in response to environmental demands.</p>

<p>After we published our research, the story of driving rats <a href="https://www.netflix.com/title/81318943">went viral</a> <a href="https://www.cbc.ca/documentaries/the-nature-of-things/why-rats-can-teach-us-a-lot-about-relieving-stress-1.6711679">in the media</a>. The project continues in my lab with new, improved rat-operated vehicles, or ROVs, designed by robotics professor <a href="https://www.rmc.edu/profile/john-w-mcmanus/">John McManus</a> and his students. These upgraded electrical ROVs – featuring rat-proof wiring, indestructible tires and ergonomic driving levers – are akin to a rodent version of Tesla’s Cybertruck.</p>

<p><a href="https://scholar.google.com/citations?user=elVzfF0AAAAJ&amp;hl=en">As a neuroscientist</a> <a href="https://www.kellylambertlab.com/">who advocates for</a> housing and testing laboratory animals in natural habitats, I’ve found it amusing to see how far we’ve strayed from my lab practices with this project. Rats typically prefer dirt, sticks and rocks over plastic objects. Now, we had them driving cars.</p>

<p>But humans didn’t evolve to drive either. Although our ancient ancestors didn’t have cars, <a href="https://www.doi.org/10.1126/science.aad7445">they had flexible brains</a> that enabled them to acquire new skills – fire, language, stone tools and agriculture. And some time after the invention of the wheel, humans made cars.</p>

<p>Although cars made for rats are far from anything they would encounter in the wild, we believed that driving represented an interesting way to study how rodents acquire new skills. Unexpectedly, we found that the rats had an intense motivation for their driving training, often jumping into the car and revving the “lever engine” before their vehicle hit the road. Why was that?</p>

<figure>
            <p><iframe data-src="https://www.youtube.com/embed/1by4qHbTZ74?wmode=transparent&amp;start=0" frameborder="0" allowfullscreen="" width="100%" height="400"></iframe></p>
            <figcaption><span>Some rats training to drive press a lever before their car is placed on the track, as if they’re eagerly anticipating the ride ahead.</span></figcaption>
          </figure>

<h2>The new destination of joy</h2>

<p>Concepts from introductory psychology textbooks took on a new, hands-on dimension in our rodent driving laboratory. Building on foundational learning approaches such as <a href="https://openstax.org/books/psychology-2e/pages/6-3-operant-conditioning">operant conditioning</a>, which reinforces targeted behavior through strategic incentives, we trained the rats step-by-step in their driver’s ed programs. </p>

<p>Initially, they learned basic movements, such as climbing into the car and pressing a lever. But with practice, these simple actions evolved into more complex behaviors, such as steering the car toward a specific destination. </p>

<p>The rats also taught me something profound one morning during the pandemic.</p>

<p>It was the summer of 2020, a period marked by emotional isolation for almost everyone on the planet, even laboratory rats. When I walked into the lab, I noticed something unusual: The three driving-trained rats eagerly ran to the side of the cage, jumping up like my dog does when asked if he wants to take a walk.</p>

<p>Had the rats always done this and I just hadn’t noticed? Were they just eager for a Froot Loop, or anticipating the drive itself? Whatever the case, they appeared to be feeling something positive – perhaps excitement and anticipation. </p>

<p>Behaviors associated with positive experiences are associated with joy in humans, but what about rats? Was I seeing something akin to joy in a rat? Maybe so, considering that neuroscience research is increasingly suggesting that <a href="https://doi.org/10.1111/brv.12965">joy and positive emotions</a> play a critical role in the health of both human and nonhuman animals.</p>

<p>With that, my team and I shifted focus from topics such as how chronic stress influences brains to how positive events – and anticipation for these events – shape neural functions. </p>

<figure>
            <a href="https://images.theconversation.com/files/627862/original/file-20241024-15-grjngf.jpg?ixlib=rb-4.1.0&amp;q=45&amp;auto=format&amp;w=1000&amp;fit=clip"><p><img alt="Two rats in a 'car' made of an open glass box and four wheels" data-src="https://images.theconversation.com/files/627862/original/file-20241024-15-grjngf.jpg?ixlib=rb-4.1.0&amp;q=45&amp;auto=format&amp;w=754&amp;fit=clip" data-srcset="https://images.theconversation.com/files/627862/original/file-20241024-15-grjngf.jpg?ixlib=rb-4.1.0&amp;q=45&amp;auto=format&amp;w=600&amp;h=338&amp;fit=crop&amp;dpr=1 600w, https://images.theconversation.com/files/627862/original/file-20241024-15-grjngf.jpg?ixlib=rb-4.1.0&amp;q=30&amp;auto=format&amp;w=600&amp;h=338&amp;fit=crop&amp;dpr=2 1200w, https://images.theconversation.com/files/627862/original/file-20241024-15-grjngf.jpg?ixlib=rb-4.1.0&amp;q=15&amp;auto=format&amp;w=600&amp;h=338&amp;fit=crop&amp;dpr=3 1800w, https://images.theconversation.com/files/627862/original/file-20241024-15-grjngf.jpg?ixlib=rb-4.1.0&amp;q=45&amp;auto=format&amp;w=754&amp;h=424&amp;fit=crop&amp;dpr=1 754w, https://images.theconversation.com/files/627862/original/file-20241024-15-grjngf.jpg?ixlib=rb-4.1.0&amp;q=30&amp;auto=format&amp;w=754&amp;h=424&amp;fit=crop&amp;dpr=2 1508w, https://images.theconversation.com/files/627862/original/file-20241024-15-grjngf.jpg?ixlib=rb-4.1.0&amp;q=15&amp;auto=format&amp;w=754&amp;h=424&amp;fit=crop&amp;dpr=3 2262w" sizes="(min-width: 1466px) 754px, (max-width: 599px) 100vw, (min-width: 600px) 600px, 237px" src="https://images.theconversation.com/files/627862/original/file-20241024-15-grjngf.jpg?ixlib=rb-4.1.0&amp;q=45&amp;auto=format&amp;w=754&amp;fit=clip"></p></a>
            <figcaption>
              <span>Rats hitting the road in their custom-made cruisers.</span>
              <span><span>Kelly Lambert</span>, <a href="http://creativecommons.org/licenses/by-nd/4.0/">CC BY-ND</a></span>
            </figcaption>
          </figure>

<p>Working with postdoctoral fellow <a href="https://neuroscience.richmond.edu/faculty/stryon/">Kitty Hartvigsen</a>, I designed a new protocol that used waiting periods to ramp up anticipation before a positive event. Bringing <a href="https://theconversation.com/hes-pavlov-and-were-the-dogs-how-associative-learning-really-works-in-human-psychology-86191">Pavlovian conditioning</a> into the mix, rats had to wait 15 minutes after a Lego block was placed in their cage before they received a Froot Loop. They also had to wait in their transport cage for a few minutes before entering Rat Park, their play area. We also added challenges, such as making them shell sunflower seeds before eating. </p>

<p>This became our <a href="https://www.abstractsonline.com/pp8/#!/20433/presentation/21386">Wait For It</a> research program. We dubbed this new line of study UPERs – unpredictable positive experience responses – where rats were trained to wait for rewards. In contrast, control rats received their rewards immediately. After about a month of training, we expose the rats to different tests to determine how waiting for positive experiences affects how they learn and behave. We’re currently peering into their brains to map the neural footprint of extended positive experiences.</p>

<p>Preliminary results suggest that rats required to wait for their rewards show signs of shifting from a pessimistic cognitive style to an optimistic one in a test designed to measure rodent optimism. They performed better on cognitive tasks and were bolder in their problem-solving strategies. We linked this program to our lab’s broader interest in <a href="https://www.youtube.com/watch?v=gOJL3gjc8ak">behaviorceuticals</a>, a term I coined to suggest that experiences can alter brain chemistry similarly to pharmaceuticals. </p>

<p>This research provides further support of how anticipation can reinforce behavior. Previous work with lab rats has shown that rats pressing a bar for cocaine – a stimulant that increases dopamine activation – <a href="https://doi.org/10.1038/422573a">already experience a surge of dopamine</a> as they anticipate a dose of cocaine. </p>

<h2>The tale of rat tails</h2>

<p>It wasn’t just the effects of anticipation on rat behavior that caught our attention. One day, a student noticed something strange: One of the rats in the group trained to expect positive experiences had its tail straight up with a crook at the end, resembling the handle of an old-fashioned umbrella. </p>

<p>I had never seen this in my decades of working with rats. Reviewing the video footage, we found that the rats trained to anticipate positive experiences were more likely to hold their tails high than untrained rats. But what, exactly, did this mean?</p>

<figure>
            <a href="https://images.theconversation.com/files/627807/original/file-20241023-15-pkvl6x.jpg?ixlib=rb-4.1.0&amp;q=45&amp;auto=format&amp;w=1000&amp;fit=clip"><p><img alt="Rat beside a small house, its tail curved up like an umbrella handle" data-src="https://images.theconversation.com/files/627807/original/file-20241023-15-pkvl6x.jpg?ixlib=rb-4.1.0&amp;q=45&amp;auto=format&amp;w=237&amp;fit=clip" data-srcset="https://images.theconversation.com/files/627807/original/file-20241023-15-pkvl6x.jpg?ixlib=rb-4.1.0&amp;q=45&amp;auto=format&amp;w=600&amp;h=431&amp;fit=crop&amp;dpr=1 600w, https://images.theconversation.com/files/627807/original/file-20241023-15-pkvl6x.jpg?ixlib=rb-4.1.0&amp;q=30&amp;auto=format&amp;w=600&amp;h=431&amp;fit=crop&amp;dpr=2 1200w, https://images.theconversation.com/files/627807/original/file-20241023-15-pkvl6x.jpg?ixlib=rb-4.1.0&amp;q=15&amp;auto=format&amp;w=600&amp;h=431&amp;fit=crop&amp;dpr=3 1800w, https://images.theconversation.com/files/627807/original/file-20241023-15-pkvl6x.jpg?ixlib=rb-4.1.0&amp;q=45&amp;auto=format&amp;w=754&amp;h=542&amp;fit=crop&amp;dpr=1 754w, https://images.theconversation.com/files/627807/original/file-20241023-15-pkvl6x.jpg?ixlib=rb-4.1.0&amp;q=30&amp;auto=format&amp;w=754&amp;h=542&amp;fit=crop&amp;dpr=2 1508w, https://images.theconversation.com/files/627807/original/file-20241023-15-pkvl6x.jpg?ixlib=rb-4.1.0&amp;q=15&amp;auto=format&amp;w=754&amp;h=542&amp;fit=crop&amp;dpr=3 2262w" sizes="(min-width: 1466px) 754px, (max-width: 599px) 100vw, (min-width: 600px) 600px, 237px" src="https://images.theconversation.com/files/627807/original/file-20241023-15-pkvl6x.jpg?ixlib=rb-4.1.0&amp;q=45&amp;auto=format&amp;w=237&amp;fit=clip"></p></a>
            <figcaption>
              <span>Rat tails can signal how they’re feeling.</span>
              <span><span>Kelly Lambert</span>, <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA</a></span>
            </figcaption>
          </figure>

<p>Curious, I posted a picture of the behavior on social media. Fellow neuroscientists identified this as a gentler form of what’s called <a href="https://doi.org/10.1111%2Fj.1476-5381.1960.tb00277.x">Straub tail</a>, typically seen in rats given the opioid morphine. This S-shaped curl is also <a href="https://doi.org/10.1016/0306-3623(93)90022-p">linked to dopamine</a>. When dopamine is blocked, the Straub tail behavior subsides.</p>

<p>Natural forms of opiates and dopamine – key players in brain pathways that diminish pain and enhance reward – seem to be telltale ingredients of the elevated tails in our anticipation training program. Observing tail posture in rats adds a new layer to our understanding of rat emotional expression, reminding us that emotions are expressed throughout the entire body.</p>

<p>While we can’t directly ask rats whether they like to drive, we devised a behavioral test to assess their motivation to drive. This time, instead of only giving rats the option of driving to the Froot Loop Tree, they could also make a shorter journey on foot – or paw, in this case.</p>

<p>Surprisingly, two of the three rats chose to take the less efficient path of turning away from the reward and running to the car to drive to their Froot Loop destination. This response suggests that the rats enjoy both the journey and the rewarding destination. </p>

<iframe src="https://player.vimeo.com/video/1010972750?h=e738d94f6a&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479frameborder=&quot;0&quot;" allow="autoplay; fullscreen; picture-in-picture; clipboard-write" title="Enjoying the Ride" width="100%" height="400"></iframe>

<h2>Rat lessons on enjoying the journey</h2>

<p>We’re not the only team investigating positive emotions in animals. </p>

<p>Neuroscientist <a href="https://scholar.google.com/citations?user=8BYBejUAAAAJ&amp;hl=en">Jaak Panksepp</a> famously <a href="https://doi.org/10.1016/s0031-9384(03)00159-8">tickled rats</a>, demonstrating their <a href="https://doi.org/10.1111/brv.12965">capacity for joy</a>. </p>

<p>Research has also shown that desirable low-stress rat environments <a href="https://doi.org/10.1038%2Fnn2061">retune their brains’ reward circuits</a>, such as the nucleus accumbens. When animals are housed in their favored environments, the area of the nucleus accumbens that responds to appetitive experiences expands. Alternatively, when rats are housed in stressful contexts, the fear-generating zones of their nucleus accumbens expand. It is as if the brain is a piano the environment can tune. </p>

<p>Neuroscientist Curt Richter also made the case for <a href="https://doi.org/10.1097/00006842-195705000-00004">rats having hope</a>. In a study that wouldn’t be permitted today, rats swam in glass cylinders filled with water, eventually drowning from exhaustion if they weren’t rescued. Lab rats frequently handled by humans swam for hours to days. Wild rats gave up after just a few minutes. If the wild rats were briefly rescued, however, their survival time extended dramatically, sometimes by days. It seemed that being rescued gave the rats hope and spurred them on. </p>

<p>The driving rats project has opened new and unexpected doors in my behavioral neuroscience research lab. While it’s vital to study negative emotions such as fear and stress, positive experiences also shape the brain in significant ways. </p>

<p>As animals – human or otherwise – navigate the unpredictability of life, anticipating positive experiences helps drive a persistence to keep searching for life’s rewards. In a world of immediate gratification, these rats offer insights into the neural principles guiding everyday behavior. Rather than pushing buttons for instant rewards, they remind us that planning, anticipating and enjoying the ride may be key to a healthy brain. That’s a lesson my lab rats <a href="https://www.penguinrandomhouse.com/books/306554/the-lab-rat-chronicles-by-kelly-lambert/">have taught me well</a>.</p>
  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Maslow 4: Large format CNC routing made accessible (223 pts)]]></title>
            <link>https://www.maslowcnc.com</link>
            <guid>42179467</guid>
            <pubDate>Tue, 19 Nov 2024 02:09:27 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.maslowcnc.com">https://www.maslowcnc.com</a>, See on <a href="https://news.ycombinator.com/item?id=42179467">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="siteWrapper">
      
      

      

















  




      <main id="page" role="main">
        
          
<article id="sections" data-page-sections="65ca6afc66d2140907d44f4c">
  
  
    
    


  
  


<div data-blend-mode="NORMAL" data-block-type="2" data-border-radii="{&quot;topLeft&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;value&quot;:0.0},&quot;topRight&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;value&quot;:0.0},&quot;bottomLeft&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;value&quot;:0.0},&quot;bottomRight&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;value&quot;:0.0}}" id="block-yui_3_17_2_1_1719505256024_5809" data-fluid-engine="true" data-test="page-section" data-section-theme="white" data-section-id="667d993a594ec703d827db6a" data-controller="SectionWrapperController" data-current-styles="{
                &quot;imageOverlayOpacity&quot;: 0.15,
                &quot;backgroundWidth&quot;: &quot;background-width--full-bleed&quot;,
                &quot;sectionHeight&quot;: &quot;section-height--custom&quot;,
                &quot;customSectionHeight&quot;: 17,
                &quot;horizontalAlignment&quot;: &quot;horizontal-alignment--center&quot;,
                &quot;verticalAlignment&quot;: &quot;vertical-alignment--middle&quot;,
                &quot;contentWidth&quot;: &quot;content-width--wide&quot;,
                &quot;customContentWidth&quot;: 50,
                &quot;backgroundColor&quot;: &quot;&quot;,
                &quot;sectionTheme&quot;: &quot;white&quot;,
                &quot;sectionAnimation&quot;: &quot;none&quot;,
                &quot;backgroundMode&quot;: &quot;image&quot;
              }" data-current-context="{
                &quot;video&quot;: {
                  &quot;playbackSpeed&quot;: 0.5,
                  &quot;filter&quot;: 1,
                  &quot;filterStrength&quot;: 0,
                  &quot;zoom&quot;: 0,
                  &quot;videoSourceProvider&quot;: &quot;none&quot;
                },
                &quot;backgroundImageId&quot;: null,
                &quot;backgroundMediaEffect&quot;: {
                  &quot;type&quot;: &quot;none&quot;
                },
                &quot;divider&quot;: {
                  &quot;enabled&quot;: false
                },
                &quot;typeName&quot;: &quot;page&quot;
              }" data-animation="none" data-fluid-engine-section="">
  <p>Large format CNC routing made accessible. </p>
</div>

  
    
    


  
  


<section data-test="page-section" data-section-theme="black" data-section-id="65ca700aa680da7c8339b9a4" data-controller="SectionWrapperController" data-current-styles="{
                &quot;backgroundImage&quot;: {
                  &quot;id&quot;: &quot;65ca702d35eb326f426420fc&quot;,
                  &quot;recordType&quot;: 2,
                  &quot;addedOn&quot;: 1707765805583,
                  &quot;updatedOn&quot;: 1707765805649,
                  &quot;workflowState&quot;: 1,
                  &quot;publishOn&quot;: 1707765805583,
                  &quot;authorId&quot;: &quot;57e561e720099e0d7a7f6ac8&quot;,
                  &quot;systemDataId&quot;: &quot;106b2512-9ad7-4c93-9e0c-7e7371ae6c8f&quot;,
                  &quot;systemDataVariants&quot;: &quot;5472x3648,100w,300w,500w,750w,1000w,1500w,2500w&quot;,
                  &quot;systemDataSourceType&quot;: &quot;JPG&quot;,
                  &quot;filename&quot;: &quot;DSC00224.JPG&quot;,
                  &quot;mediaFocalPoint&quot;: {
                    &quot;x&quot;: 0.5,
                    &quot;y&quot;: 0.5,
                    &quot;source&quot;: 3
                  },
                  &quot;colorData&quot;: {
                    &quot;topLeftAverage&quot;: &quot;f2edea&quot;,
                    &quot;topRightAverage&quot;: &quot;f3e2ca&quot;,
                    &quot;bottomLeftAverage&quot;: &quot;f8f7f7&quot;,
                    &quot;bottomRightAverage&quot;: &quot;f4e4cf&quot;,
                    &quot;centerAverage&quot;: &quot;f1e0c7&quot;,
                    &quot;suggestedBgColor&quot;: &quot;afa69a&quot;
                  },
                  &quot;urlId&quot;: &quot;7psmspsj15vny9c36qin4t0i282cdw&quot;,
                  &quot;title&quot;: &quot;&quot;,
                  &quot;body&quot;: null,
                  &quot;likeCount&quot;: 0,
                  &quot;commentCount&quot;: 0,
                  &quot;publicCommentCount&quot;: 0,
                  &quot;commentState&quot;: 2,
                  &quot;unsaved&quot;: false,
                  &quot;author&quot;: {
                    &quot;id&quot;: &quot;57e561e720099e0d7a7f6ac8&quot;,
                    &quot;displayName&quot;: &quot;Bar Smith&quot;,
                    &quot;firstName&quot;: &quot;Bar&quot;,
                    &quot;lastName&quot;: &quot;Smith&quot;,
                    &quot;avatarUrl&quot;: &quot;https://lh6.googleusercontent.com/-zoczKGcoUv0/AAAAAAAAAAI/AAAAAAAAANM/D1ESsW_w_Gc/photo.jpg?sz=50&quot;,
                    &quot;websiteUrl&quot;: &quot;&quot;,
                    &quot;bio&quot;: &quot;&quot;,
                    &quot;avatarAssetUrl&quot;: &quot;https://lh6.googleusercontent.com/-zoczKGcoUv0/AAAAAAAAAAI/AAAAAAAAANM/D1ESsW_w_Gc/photo.jpg?sz=50&quot;
                  },
                  &quot;assetUrl&quot;: &quot;https://images.squarespace-cdn.com/content/v1/57e561e720099e0d7a7f6aca/106b2512-9ad7-4c93-9e0c-7e7371ae6c8f/DSC00224.JPG&quot;,
                  &quot;contentType&quot;: &quot;image/jpeg&quot;,
                  &quot;items&quot;: [ ],
                  &quot;pushedServices&quot;: { },
                  &quot;pendingPushedServices&quot;: { },
                  &quot;originalSize&quot;: &quot;5472x3648&quot;,
                  &quot;recordTypeLabel&quot;: &quot;image&quot;
                },
                &quot;imageOverlayOpacity&quot;: 0.15,
                &quot;backgroundWidth&quot;: &quot;background-width--full-bleed&quot;,
                &quot;sectionHeight&quot;: &quot;section-height--large&quot;,
                &quot;customSectionHeight&quot;: 1,
                &quot;horizontalAlignment&quot;: &quot;horizontal-alignment--center&quot;,
                &quot;verticalAlignment&quot;: &quot;vertical-alignment--middle&quot;,
                &quot;contentWidth&quot;: &quot;content-width--wide&quot;,
                &quot;customContentWidth&quot;: 50,
                &quot;sectionTheme&quot;: &quot;black&quot;,
                &quot;sectionAnimation&quot;: &quot;none&quot;,
                &quot;backgroundMode&quot;: &quot;image&quot;
              }" data-current-context="{
                &quot;video&quot;: {
                  &quot;playbackSpeed&quot;: 0.5,
                  &quot;filter&quot;: 1,
                  &quot;filterStrength&quot;: 0,
                  &quot;zoom&quot;: 0,
                  &quot;videoSourceProvider&quot;: &quot;none&quot;
                },
                &quot;backgroundImageId&quot;: null,
                &quot;backgroundMediaEffect&quot;: {
                  &quot;type&quot;: &quot;none&quot;
                },
                &quot;divider&quot;: {
                  &quot;enabled&quot;: false
                },
                &quot;typeName&quot;: &quot;page&quot;
              }" data-animation="none" data-fluid-engine-section="">
  <div>
    
      
        
        
          





  



<p><img alt="" data-src="https://images.squarespace-cdn.com/content/v1/57e561e720099e0d7a7f6aca/106b2512-9ad7-4c93-9e0c-7e7371ae6c8f/DSC00224.JPG" data-image="https://images.squarespace-cdn.com/content/v1/57e561e720099e0d7a7f6aca/106b2512-9ad7-4c93-9e0c-7e7371ae6c8f/DSC00224.JPG" data-image-dimensions="5472x3648" data-image-focal-point="0.5,0.5" data-load="false" elementtiming="nbf-background" src="https://images.squarespace-cdn.com/content/v1/57e561e720099e0d7a7f6aca/106b2512-9ad7-4c93-9e0c-7e7371ae6c8f/DSC00224.JPG" width="5472" height="3648" sizes="(max-width: 799px) 200vw, 100vw" srcset="https://images.squarespace-cdn.com/content/v1/57e561e720099e0d7a7f6aca/106b2512-9ad7-4c93-9e0c-7e7371ae6c8f/DSC00224.JPG?format=100w 100w, https://images.squarespace-cdn.com/content/v1/57e561e720099e0d7a7f6aca/106b2512-9ad7-4c93-9e0c-7e7371ae6c8f/DSC00224.JPG?format=300w 300w, https://images.squarespace-cdn.com/content/v1/57e561e720099e0d7a7f6aca/106b2512-9ad7-4c93-9e0c-7e7371ae6c8f/DSC00224.JPG?format=500w 500w, https://images.squarespace-cdn.com/content/v1/57e561e720099e0d7a7f6aca/106b2512-9ad7-4c93-9e0c-7e7371ae6c8f/DSC00224.JPG?format=750w 750w, https://images.squarespace-cdn.com/content/v1/57e561e720099e0d7a7f6aca/106b2512-9ad7-4c93-9e0c-7e7371ae6c8f/DSC00224.JPG?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/57e561e720099e0d7a7f6aca/106b2512-9ad7-4c93-9e0c-7e7371ae6c8f/DSC00224.JPG?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/57e561e720099e0d7a7f6aca/106b2512-9ad7-4c93-9e0c-7e7371ae6c8f/DSC00224.JPG?format=2500w 2500w" fetchpriority="low" loading="lazy" decoding="async" data-loader="sqs"></p>
      
    
    </div>
  <div data-blend-mode="NORMAL" data-block-type="2" data-border-radii="{&quot;topLeft&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;value&quot;:0.0},&quot;topRight&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;value&quot;:0.0},&quot;bottomLeft&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;value&quot;:0.0},&quot;bottomRight&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;value&quot;:0.0}}" id="block-4aa76b9b45139c0dcca8" data-fluid-engine="true">

<p>
  <h3>&nbsp;Bring your big ideas into the world. </h3>
</p>




















  
  



</div>
  
</section>

  
    
    


  
  


<div data-fluid-engine="true" data-test="page-section" data-section-theme="" data-section-id="65ca757c308eb71bb1755644" data-controller="SectionWrapperController" data-current-styles="{
                &quot;imageOverlayOpacity&quot;: 0.15,
                &quot;backgroundWidth&quot;: &quot;background-width--full-bleed&quot;,
                &quot;sectionHeight&quot;: &quot;section-height--medium&quot;,
                &quot;customSectionHeight&quot;: 10,
                &quot;horizontalAlignment&quot;: &quot;horizontal-alignment--center&quot;,
                &quot;verticalAlignment&quot;: &quot;vertical-alignment--middle&quot;,
                &quot;contentWidth&quot;: &quot;content-width--wide&quot;,
                &quot;customContentWidth&quot;: 50,
                &quot;backgroundColor&quot;: &quot;&quot;,
                &quot;sectionTheme&quot;: &quot;&quot;,
                &quot;sectionAnimation&quot;: &quot;none&quot;,
                &quot;backgroundMode&quot;: &quot;image&quot;
              }" data-current-context="{
                &quot;video&quot;: null,
                &quot;backgroundImageId&quot;: null,
                &quot;backgroundMediaEffect&quot;: null,
                &quot;divider&quot;: null,
                &quot;typeName&quot;: &quot;page&quot;
              }" data-animation="none" data-fluid-engine-section=""><div data-blend-mode="NORMAL" data-block-type="2" data-border-radii="{&quot;topLeft&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;value&quot;:0.0},&quot;topRight&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;value&quot;:0.0},&quot;bottomLeft&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;value&quot;:0.0},&quot;bottomRight&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;value&quot;:0.0}}" id="block-yui_3_17_2_1_1707764704688_30288">
  <p><span><h2>Bring it to life. Whatever it is…</h2></span></p>
</div><div data-blend-mode="NORMAL" data-block-type="2" data-border-radii="{&quot;topLeft&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;value&quot;:0.0},&quot;topRight&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;value&quot;:0.0},&quot;bottomLeft&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;value&quot;:0.0},&quot;bottomRight&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;value&quot;:0.0}}" id="block-yui_3_17_2_1_1721758943748_5036">

<p><br>We think that the world will be a more exciting and interesting place if everyone has access to the ability to bring big human scale things from the digital world into the physical world. Our goal is to make large format CNC routing accessible.</p>




















  
  



</div></div>

  
    
    


  
  


<div data-card-theme="" data-section-id="65ca75bb18e225357e3f4b00" data-section-title-enabled="false" data-space-below-section-title-value="120" data-space-below-section-title-unit="px" data-layout-width="inset" data-test="page-section" data-section-theme="white" data-controller="SectionWrapperController" data-current-styles="{
                &quot;imageFocalPoint&quot;: {
                  &quot;x&quot;: 0.5,
                  &quot;y&quot;: 0.5
                },
                &quot;imageOverlayOpacity&quot;: 0.3,
                &quot;backgroundColor&quot;: &quot;white&quot;,
                &quot;sectionTheme&quot;: &quot;white&quot;,
                &quot;imageEffect&quot;: &quot;none&quot;,
                &quot;backgroundMode&quot;: &quot;image&quot;,
                &quot;backgroundImage&quot;: null
              }" data-current-context="{
                &quot;video&quot;: {
                  &quot;filter&quot;: 1,
                  &quot;videoFallbackContentItem&quot;: null,
                  &quot;nativeVideoContentItem&quot;: null,
                  &quot;videoSourceProvider&quot;: &quot;none&quot;
                },
                &quot;backgroundImageId&quot;: null,
                &quot;backgroundMediaEffect&quot;: {
                  &quot;type&quot;: &quot;none&quot;
                },
                &quot;divider&quot;: {
                  &quot;enabled&quot;: false
                },
                &quot;typeName&quot;: &quot;page&quot;
              }" data-animation="" data-json-schema-section="">
  

  
    










































<ul data-controller="UserItemsListSimple" data-num-columns="4" data-content-order="media-first" data-alignment-vertical="stretch" data-section-id="65ca75bb18e225357e3f4b00" data-current-context="{
                &quot;userItems&quot;: [ {
                  &quot;title&quot;: &quot;Furniture&quot;,
                  &quot;description&quot;: &quot;<p class=\&quot;\&quot; style=\&quot;white-space:pre-wrap;\&quot;>Table by forums member Jacob<\/p>&quot;,
                  &quot;button&quot;: {
                    &quot;buttonText&quot;: &quot;Make It&quot;,
                    &quot;buttonLink&quot;: &quot;#&quot;
                  },
                  &quot;imageId&quot;: &quot;65ca7609ffd4cd6261052a42&quot;,
                  &quot;image&quot;: {
                    &quot;id&quot;: &quot;65ca7609ffd4cd6261052a42&quot;,
                    &quot;recordType&quot;: 2,
                    &quot;addedOn&quot;: 1707767305423,
                    &quot;updatedOn&quot;: 1707767305495,
                    &quot;workflowState&quot;: 1,
                    &quot;publishOn&quot;: 1707767305423,
                    &quot;authorId&quot;: &quot;57e561e720099e0d7a7f6ac8&quot;,
                    &quot;systemDataId&quot;: &quot;e0ca9854-dab4-4ee0-af52-068bf97b7ebb&quot;,
                    &quot;systemDataVariants&quot;: &quot;750x563,100w,300w,500w,750w&quot;,
                    &quot;systemDataSourceType&quot;: &quot;JPG&quot;,
                    &quot;filename&quot;: &quot;Jacob+table+2.jpg&quot;,
                    &quot;mediaFocalPoint&quot;: {
                      &quot;x&quot;: 0.5,
                      &quot;y&quot;: 0.5,
                      &quot;source&quot;: 3
                    },
                    &quot;colorData&quot;: {
                      &quot;topLeftAverage&quot;: &quot;9e8a6b&quot;,
                      &quot;topRightAverage&quot;: &quot;9f805b&quot;,
                      &quot;bottomLeftAverage&quot;: &quot;9b896e&quot;,
                      &quot;bottomRightAverage&quot;: &quot;dbd2c3&quot;,
                      &quot;centerAverage&quot;: &quot;8b816e&quot;,
                      &quot;suggestedBgColor&quot;: &quot;a48d72&quot;
                    },
                    &quot;urlId&quot;: &quot;s073sw83vjg5j5xc0mii60wvyndqvr&quot;,
                    &quot;title&quot;: &quot;&quot;,
                    &quot;body&quot;: null,
                    &quot;likeCount&quot;: 0,
                    &quot;commentCount&quot;: 0,
                    &quot;publicCommentCount&quot;: 0,
                    &quot;commentState&quot;: 2,
                    &quot;unsaved&quot;: false,
                    &quot;author&quot;: {
                      &quot;id&quot;: &quot;57e561e720099e0d7a7f6ac8&quot;,
                      &quot;displayName&quot;: &quot;Bar Smith&quot;,
                      &quot;firstName&quot;: &quot;Bar&quot;,
                      &quot;lastName&quot;: &quot;Smith&quot;,
                      &quot;avatarUrl&quot;: &quot;https://lh6.googleusercontent.com/-zoczKGcoUv0/AAAAAAAAAAI/AAAAAAAAANM/D1ESsW_w_Gc/photo.jpg?sz=50&quot;,
                      &quot;websiteUrl&quot;: &quot;&quot;,
                      &quot;bio&quot;: &quot;&quot;,
                      &quot;avatarAssetUrl&quot;: &quot;https://lh6.googleusercontent.com/-zoczKGcoUv0/AAAAAAAAAAI/AAAAAAAAANM/D1ESsW_w_Gc/photo.jpg?sz=50&quot;
                    },
                    &quot;assetUrl&quot;: &quot;https://images.squarespace-cdn.com/content/v1/57e561e720099e0d7a7f6aca/e0ca9854-dab4-4ee0-af52-068bf97b7ebb/Jacob%2Btable%2B2.jpg&quot;,
                    &quot;contentType&quot;: &quot;image/jpeg&quot;,
                    &quot;items&quot;: [ ],
                    &quot;pushedServices&quot;: { },
                    &quot;pendingPushedServices&quot;: { },
                    &quot;originalSize&quot;: &quot;750x563&quot;,
                    &quot;recordTypeLabel&quot;: &quot;image&quot;
                  }
                }, {
                  &quot;title&quot;: &quot;Signs&quot;,
                  &quot;description&quot;: &quot;<p class=\&quot;\&quot; style=\&quot;white-space:pre-wrap;\&quot;>Sign by forums member Jeebiss<\/p>&quot;,
                  &quot;button&quot;: {
                    &quot;buttonText&quot;: &quot;Make It&quot;
                  },
                  &quot;imageId&quot;: &quot;65ca766731a62c20f3873cb3&quot;,
                  &quot;image&quot;: {
                    &quot;id&quot;: &quot;65ca766731a62c20f3873cb3&quot;,
                    &quot;recordType&quot;: 2,
                    &quot;addedOn&quot;: 1707767399585,
                    &quot;updatedOn&quot;: 1707767399661,
                    &quot;workflowState&quot;: 1,
                    &quot;publishOn&quot;: 1707767399585,
                    &quot;authorId&quot;: &quot;57e561e720099e0d7a7f6ac8&quot;,
                    &quot;systemDataId&quot;: &quot;f88140cf-113d-40f5-87f1-75875fa2229f&quot;,
                    &quot;systemDataVariants&quot;: &quot;500x667,100w,300w,500w&quot;,
                    &quot;systemDataSourceType&quot;: &quot;JPG&quot;,
                    &quot;filename&quot;: &quot;Jeebiss+Coffee+Bicycle+sign+2.jpg&quot;,
                    &quot;mediaFocalPoint&quot;: {
                      &quot;x&quot;: 0.5,
                      &quot;y&quot;: 0.5,
                      &quot;source&quot;: 3
                    },
                    &quot;colorData&quot;: {
                      &quot;topLeftAverage&quot;: &quot;777167&quot;,
                      &quot;topRightAverage&quot;: &quot;756f68&quot;,
                      &quot;bottomLeftAverage&quot;: &quot;9c7e4d&quot;,
                      &quot;bottomRightAverage&quot;: &quot;b3a394&quot;,
                      &quot;centerAverage&quot;: &quot;7b5f3c&quot;,
                      &quot;suggestedBgColor&quot;: &quot;867a6a&quot;
                    },
                    &quot;urlId&quot;: &quot;5q9vqwxhft3lgqzpulddf2se1kb5kc&quot;,
                    &quot;title&quot;: &quot;&quot;,
                    &quot;body&quot;: null,
                    &quot;likeCount&quot;: 0,
                    &quot;commentCount&quot;: 0,
                    &quot;publicCommentCount&quot;: 0,
                    &quot;commentState&quot;: 2,
                    &quot;unsaved&quot;: false,
                    &quot;author&quot;: {
                      &quot;id&quot;: &quot;57e561e720099e0d7a7f6ac8&quot;,
                      &quot;displayName&quot;: &quot;Bar Smith&quot;,
                      &quot;firstName&quot;: &quot;Bar&quot;,
                      &quot;lastName&quot;: &quot;Smith&quot;,
                      &quot;avatarUrl&quot;: &quot;https://lh6.googleusercontent.com/-zoczKGcoUv0/AAAAAAAAAAI/AAAAAAAAANM/D1ESsW_w_Gc/photo.jpg?sz=50&quot;,
                      &quot;websiteUrl&quot;: &quot;&quot;,
                      &quot;bio&quot;: &quot;&quot;,
                      &quot;avatarAssetUrl&quot;: &quot;https://lh6.googleusercontent.com/-zoczKGcoUv0/AAAAAAAAAAI/AAAAAAAAANM/D1ESsW_w_Gc/photo.jpg?sz=50&quot;
                    },
                    &quot;assetUrl&quot;: &quot;https://images.squarespace-cdn.com/content/v1/57e561e720099e0d7a7f6aca/f88140cf-113d-40f5-87f1-75875fa2229f/Jeebiss%2BCoffee%2BBicycle%2Bsign%2B2.jpg&quot;,
                    &quot;contentType&quot;: &quot;image/jpeg&quot;,
                    &quot;items&quot;: [ ],
                    &quot;pushedServices&quot;: { },
                    &quot;pendingPushedServices&quot;: { },
                    &quot;originalSize&quot;: &quot;500x667&quot;,
                    &quot;recordTypeLabel&quot;: &quot;image&quot;
                  }
                }, {
                  &quot;title&quot;: &quot;Art&quot;,
                  &quot;description&quot;: &quot;<p class=\&quot;\&quot; style=\&quot;white-space:pre-wrap;\&quot;>Art by forums member Badaboom Berlin<\/p>&quot;,
                  &quot;button&quot;: {
                    &quot;buttonText&quot;: &quot;Make It&quot;
                  },
                  &quot;imageId&quot;: &quot;65ca768e6f7e5410bfd56682&quot;,
                  &quot;image&quot;: {
                    &quot;id&quot;: &quot;65ca768e6f7e5410bfd56682&quot;,
                    &quot;recordType&quot;: 2,
                    &quot;addedOn&quot;: 1707767438938,
                    &quot;updatedOn&quot;: 1707767439008,
                    &quot;workflowState&quot;: 1,
                    &quot;publishOn&quot;: 1707767438938,
                    &quot;authorId&quot;: &quot;57e561e720099e0d7a7f6ac8&quot;,
                    &quot;systemDataId&quot;: &quot;2b5b1c35-7ae6-42ae-901f-b4febf11ebeb&quot;,
                    &quot;systemDataVariants&quot;: &quot;690x460,100w,300w,500w&quot;,
                    &quot;systemDataSourceType&quot;: &quot;JPG&quot;,
                    &quot;filename&quot;: &quot;badaboomberlin2.jpg&quot;,
                    &quot;mediaFocalPoint&quot;: {
                      &quot;x&quot;: 0.5,
                      &quot;y&quot;: 0.5,
                      &quot;source&quot;: 3
                    },
                    &quot;colorData&quot;: {
                      &quot;topLeftAverage&quot;: &quot;40506a&quot;,
                      &quot;topRightAverage&quot;: &quot;38c0b5&quot;,
                      &quot;bottomLeftAverage&quot;: &quot;46616d&quot;,
                      &quot;bottomRightAverage&quot;: &quot;659cbb&quot;,
                      &quot;centerAverage&quot;: &quot;528ba5&quot;,
                      &quot;suggestedBgColor&quot;: &quot;6b8794&quot;
                    },
                    &quot;urlId&quot;: &quot;7dz2hsag96nc5jvq406k9dl6pk0gzn&quot;,
                    &quot;title&quot;: &quot;&quot;,
                    &quot;body&quot;: null,
                    &quot;likeCount&quot;: 0,
                    &quot;commentCount&quot;: 0,
                    &quot;publicCommentCount&quot;: 0,
                    &quot;commentState&quot;: 2,
                    &quot;unsaved&quot;: false,
                    &quot;author&quot;: {
                      &quot;id&quot;: &quot;57e561e720099e0d7a7f6ac8&quot;,
                      &quot;displayName&quot;: &quot;Bar Smith&quot;,
                      &quot;firstName&quot;: &quot;Bar&quot;,
                      &quot;lastName&quot;: &quot;Smith&quot;,
                      &quot;avatarUrl&quot;: &quot;https://lh6.googleusercontent.com/-zoczKGcoUv0/AAAAAAAAAAI/AAAAAAAAANM/D1ESsW_w_Gc/photo.jpg?sz=50&quot;,
                      &quot;websiteUrl&quot;: &quot;&quot;,
                      &quot;bio&quot;: &quot;&quot;,
                      &quot;avatarAssetUrl&quot;: &quot;https://lh6.googleusercontent.com/-zoczKGcoUv0/AAAAAAAAAAI/AAAAAAAAANM/D1ESsW_w_Gc/photo.jpg?sz=50&quot;
                    },
                    &quot;assetUrl&quot;: &quot;https://images.squarespace-cdn.com/content/v1/57e561e720099e0d7a7f6aca/2b5b1c35-7ae6-42ae-901f-b4febf11ebeb/badaboomberlin2.jpg&quot;,
                    &quot;contentType&quot;: &quot;image/jpeg&quot;,
                    &quot;items&quot;: [ ],
                    &quot;pushedServices&quot;: { },
                    &quot;pendingPushedServices&quot;: { },
                    &quot;originalSize&quot;: &quot;690x460&quot;,
                    &quot;recordTypeLabel&quot;: &quot;image&quot;
                  }
                }, {
                  &quot;title&quot;: &quot;Big ideas made real&quot;,
                  &quot;description&quot;: &quot;<p class=\&quot;\&quot; style=\&quot;white-space:pre-wrap;\&quot;>Boat by forums member Sonny_Lacey<\/p>&quot;,
                  &quot;button&quot;: {
                    &quot;buttonText&quot;: &quot;Make It&quot;
                  },
                  &quot;imageId&quot;: &quot;65ca76df76048f2f416c1b65&quot;,
                  &quot;image&quot;: {
                    &quot;id&quot;: &quot;65ca76df76048f2f416c1b65&quot;,
                    &quot;recordType&quot;: 2,
                    &quot;addedOn&quot;: 1707767519014,
                    &quot;updatedOn&quot;: 1707767519094,
                    &quot;workflowState&quot;: 1,
                    &quot;publishOn&quot;: 1707767519014,
                    &quot;authorId&quot;: &quot;57e561e720099e0d7a7f6ac8&quot;,
                    &quot;systemDataId&quot;: &quot;f93b5335-04bd-4047-89a5-a372459880c7&quot;,
                    &quot;systemDataVariants&quot;: &quot;374x500,100w,300w&quot;,
                    &quot;systemDataSourceType&quot;: &quot;JPG&quot;,
                    &quot;filename&quot;: &quot;Sonny_Lacy+boat+1.jpg&quot;,
                    &quot;mediaFocalPoint&quot;: {
                      &quot;x&quot;: 0.5,
                      &quot;y&quot;: 0.5,
                      &quot;source&quot;: 3
                    },
                    &quot;colorData&quot;: {
                      &quot;topLeftAverage&quot;: &quot;7e796f&quot;,
                      &quot;topRightAverage&quot;: &quot;786e68&quot;,
                      &quot;bottomLeftAverage&quot;: &quot;aba297&quot;,
                      &quot;bottomRightAverage&quot;: &quot;736a60&quot;,
                      &quot;centerAverage&quot;: &quot;ae9281&quot;,
                      &quot;suggestedBgColor&quot;: &quot;7e7063&quot;
                    },
                    &quot;urlId&quot;: &quot;6n6yrlwlb1vmso1re5rc0pw2kw3y6l&quot;,
                    &quot;title&quot;: &quot;&quot;,
                    &quot;body&quot;: null,
                    &quot;likeCount&quot;: 0,
                    &quot;commentCount&quot;: 0,
                    &quot;publicCommentCount&quot;: 0,
                    &quot;commentState&quot;: 2,
                    &quot;unsaved&quot;: false,
                    &quot;author&quot;: {
                      &quot;id&quot;: &quot;57e561e720099e0d7a7f6ac8&quot;,
                      &quot;displayName&quot;: &quot;Bar Smith&quot;,
                      &quot;firstName&quot;: &quot;Bar&quot;,
                      &quot;lastName&quot;: &quot;Smith&quot;,
                      &quot;avatarUrl&quot;: &quot;https://lh6.googleusercontent.com/-zoczKGcoUv0/AAAAAAAAAAI/AAAAAAAAANM/D1ESsW_w_Gc/photo.jpg?sz=50&quot;,
                      &quot;websiteUrl&quot;: &quot;&quot;,
                      &quot;bio&quot;: &quot;&quot;,
                      &quot;avatarAssetUrl&quot;: &quot;https://lh6.googleusercontent.com/-zoczKGcoUv0/AAAAAAAAAAI/AAAAAAAAANM/D1ESsW_w_Gc/photo.jpg?sz=50&quot;
                    },
                    &quot;assetUrl&quot;: &quot;https://images.squarespace-cdn.com/content/v1/57e561e720099e0d7a7f6aca/f93b5335-04bd-4047-89a5-a372459880c7/Sonny_Lacy%2Bboat%2B1.jpg&quot;,
                    &quot;contentType&quot;: &quot;image/jpeg&quot;,
                    &quot;items&quot;: [ ],
                    &quot;pushedServices&quot;: { },
                    &quot;pendingPushedServices&quot;: { },
                    &quot;originalSize&quot;: &quot;374x500&quot;,
                    &quot;recordTypeLabel&quot;: &quot;image&quot;
                  }
                } ],
                &quot;styles&quot;: {
                  &quot;imageFocalPoint&quot;: {
                    &quot;x&quot;: 0.5,
                    &quot;y&quot;: 0.5
                  },
                  &quot;imageOverlayOpacity&quot;: 0.3,
                  &quot;backgroundColor&quot;: &quot;white&quot;,
                  &quot;sectionTheme&quot;: &quot;white&quot;,
                  &quot;imageEffect&quot;: &quot;none&quot;,
                  &quot;backgroundMode&quot;: &quot;image&quot;,
                  &quot;backgroundImage&quot;: null
                },
                &quot;video&quot;: {
                  &quot;filter&quot;: 1,
                  &quot;videoFallbackContentItem&quot;: null,
                  &quot;nativeVideoContentItem&quot;: null,
                  &quot;videoSourceProvider&quot;: &quot;none&quot;
                },
                &quot;backgroundImageFocalPoint&quot;: null,
                &quot;backgroundImageId&quot;: null,
                &quot;options&quot;: {
                  &quot;maxColumns&quot;: 4,
                  &quot;isCardEnabled&quot;: true,
                  &quot;isMediaEnabled&quot;: true,
                  &quot;isTitleEnabled&quot;: true,
                  &quot;isBodyEnabled&quot;: true,
                  &quot;isButtonEnabled&quot;: false,
                  &quot;mediaAspectRatio&quot;: &quot;circle&quot;,
                  &quot;layoutWidth&quot;: &quot;inset&quot;,
                  &quot;mediaWidth&quot;: {
                    &quot;value&quot;: 100,
                    &quot;unit&quot;: &quot;%&quot;
                  },
                  &quot;mediaAlignment&quot;: &quot;center&quot;,
                  &quot;contentWidth&quot;: {
                    &quot;value&quot;: 100,
                    &quot;unit&quot;: &quot;%&quot;
                  },
                  &quot;titleAlignment&quot;: &quot;center&quot;,
                  &quot;bodyAlignment&quot;: &quot;center&quot;,
                  &quot;buttonAlignment&quot;: &quot;center&quot;,
                  &quot;titlePlacement&quot;: &quot;center&quot;,
                  &quot;bodyPlacement&quot;: &quot;center&quot;,
                  &quot;buttonPlacement&quot;: &quot;center&quot;,
                  &quot;cardVerticalAlignment&quot;: &quot;stretch&quot;,
                  &quot;contentOrder&quot;: &quot;media-first&quot;,
                  &quot;verticalPaddingTop&quot;: {
                    &quot;value&quot;: 6.6,
                    &quot;unit&quot;: &quot;vmax&quot;
                  },
                  &quot;verticalPaddingBottom&quot;: {
                    &quot;value&quot;: 6.6,
                    &quot;unit&quot;: &quot;vmax&quot;
                  },
                  &quot;spaceBetweenColumns&quot;: {
                    &quot;value&quot;: 20,
                    &quot;unit&quot;: &quot;px&quot;
                  },
                  &quot;spaceBetweenRows&quot;: {
                    &quot;value&quot;: 20,
                    &quot;unit&quot;: &quot;px&quot;
                  },
                  &quot;spaceBetweenContentAndMedia&quot;: {
                    &quot;value&quot;: 10,
                    &quot;unit&quot;: &quot;%&quot;
                  },
                  &quot;spaceBelowTitle&quot;: {
                    &quot;value&quot;: 10,
                    &quot;unit&quot;: &quot;%&quot;
                  },
                  &quot;spaceBelowBody&quot;: {
                    &quot;value&quot;: 10,
                    &quot;unit&quot;: &quot;%&quot;
                  },
                  &quot;cardPaddingTop&quot;: {
                    &quot;value&quot;: 10,
                    &quot;unit&quot;: &quot;%&quot;
                  },
                  &quot;cardPaddingRight&quot;: {
                    &quot;value&quot;: 10,
                    &quot;unit&quot;: &quot;%&quot;
                  },
                  &quot;cardPaddingBottom&quot;: {
                    &quot;value&quot;: 10,
                    &quot;unit&quot;: &quot;%&quot;
                  },
                  &quot;cardPaddingLeft&quot;: {
                    &quot;value&quot;: 10,
                    &quot;unit&quot;: &quot;%&quot;
                  },
                  &quot;titleFontSize&quot;: &quot;heading-2&quot;,
                  &quot;bodyFontSize&quot;: &quot;paragraph-2&quot;,
                  &quot;buttonFontSize&quot;: &quot;button-medium&quot;,
                  &quot;customOptions&quot;: {
                    &quot;customTitleFontSize&quot;: {
                      &quot;value&quot;: 1.2,
                      &quot;unit&quot;: &quot;rem&quot;
                    },
                    &quot;customBodyFontSize&quot;: {
                      &quot;value&quot;: 0.9,
                      &quot;unit&quot;: &quot;rem&quot;
                    },
                    &quot;customButtonFontSize&quot;: {
                      &quot;value&quot;: 0.8,
                      &quot;unit&quot;: &quot;rem&quot;
                    }
                  }
                },
                &quot;layout&quot;: &quot;simple&quot;,
                &quot;isSectionTitleEnabled&quot;: false,
                &quot;sectionTitle&quot;: &quot;<p class=\&quot;\&quot; style=\&quot;white-space:pre-wrap;\&quot;>Bring it to life. Whatever it is…<\/p>&quot;,
                &quot;spaceBelowSectionTitle&quot;: {
                  &quot;value&quot;: 120,
                  &quot;unit&quot;: &quot;px&quot;
                },
                &quot;sectionTitleAlignment&quot;: &quot;center&quot;,
                &quot;isSectionButtonEnabled&quot;: false,
                &quot;sectionButton&quot;: {
                  &quot;buttonText&quot;: &quot;Make It&quot;,
                  &quot;buttonLink&quot;: &quot;#&quot;,
                  &quot;buttonNewWindow&quot;: false
                },
                &quot;sectionButtonSize&quot;: &quot;medium&quot;,
                &quot;sectionButtonAlignment&quot;: &quot;center&quot;,
                &quot;spaceAboveSectionButton&quot;: {
                  &quot;value&quot;: 120,
                  &quot;unit&quot;: &quot;px&quot;
                }
              }" data-media-alignment="center" data-title-alignment="center" data-body-alignment="center" data-button-alignment="center" data-title-placement="center" data-body-placement="center" data-button-placement="center" data-layout-width="inset" data-title-font-unit="rem" data-description-font-unit="rem" data-button-font-unit="rem" data-space-between-rows="20px" data-space-between-columns="20px" data-vertical-padding-top-value="6.6" data-vertical-padding-bottom-value="6.6" data-vertical-padding-top-unit="vmax" data-vertical-padding-bottom-unit="vmax">
  
    
    <li data-is-card-enabled="true">
      
      
      
        
  
      
  


        <div>

      
        <h2>Furniture</h2>
      

      
        <p>Table by forums member Jacob</p>
      

    </div>

      
      
    </li>
  
    
    <li data-is-card-enabled="true">
      
      
      
        
  
      
  


        <div>

      
        <h2>Signs</h2>
      

      
        <p>Sign by forums member Jeebiss</p>
      

    </div>

      
      
    </li>
  
    
    <li data-is-card-enabled="true">
      
      
      
        
  
      
  


        <div>

      
        <h2>Art</h2>
      

      
        <p>Art by forums member Badaboom Berlin</p>
      

    </div>

      
      
    </li>
  
    
    <li data-is-card-enabled="true">
      
      
      
        
  
      
  


        <div>

      
        <h2>Big ideas made real</h2>
      

      
        <p>Boat by forums member Sonny_Lacey</p>
      

    </div>

      
      
    </li>
  
</ul>

  

  

  

  
</div>

  
    
    


  
  




  
    
    


  
  




  
</article>


          

          
            
          
        
      </main>
      
        

      
    </div></div>]]></description>
        </item>
    </channel>
</rss>