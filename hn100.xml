<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Sun, 28 Apr 2024 21:00:04 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[A small lathe built in a Japanese prison camp (171 pts)]]></title>
            <link>http://www.lathes.co.uk/bradley-pow-lathe/</link>
            <guid>40190542</guid>
            <pubDate>Sun, 28 Apr 2024 18:16:26 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="http://www.lathes.co.uk/bradley-pow-lathe/">http://www.lathes.co.uk/bradley-pow-lathe/</a>, See on <a href="https://news.ycombinator.com/item?id=40190542">Hacker News</a></p>
<div id="readability-page-1" class="page"><div width="354" height="51">

<p><span face="Arial" color="#000000" size="2"><b>If you think making a lathe at home is difficult, this might just encourage you to have a go. This is a true testament to human ingenuity.</b></span><span face="Arial" size="2"><i><b><br></b></i></span>
</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Williams-Sonoma fined $3.18M for falsely labeling products 'Made in USA' (138 pts)]]></title>
            <link>https://www.scrippsnews.com/business/company-news/williams-sonoma-fined-3-18-million-dollars-for-falsely-labeling-products-as-made-in-usa</link>
            <guid>40190446</guid>
            <pubDate>Sun, 28 Apr 2024 18:03:59 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.scrippsnews.com/business/company-news/williams-sonoma-fined-3-18-million-dollars-for-falsely-labeling-products-as-made-in-usa">https://www.scrippsnews.com/business/company-news/williams-sonoma-fined-3-18-million-dollars-for-falsely-labeling-products-as-made-in-usa</a>, See on <a href="https://news.ycombinator.com/item?id=40190446">Hacker News</a></p>
<div id="readability-page-1" class="page"><div itemprop="articleBody"><p>Williams-Sonoma could be paying a hefty fine for claiming a small chunk of its products were "Made in USA" when they weren't.</p><p>In a federal court filing on Monday, the Federal Trade Commission asked a judge to sign an order that would fine the luxury home goods company $3.18 million for violating a <a href="https://www.ftc.gov/news-events/news/press-releases/2020/07/ftc-approves-final-order-settling-charges-williams-sonoma-inc-made-overly-broad-misleading-made-usa" data-cms-ai="0">2020 order</a> regarding the same false label claims. Williams-Sonoma settled those charges and was required to pay $1 million to the FTC, and the following year, it submitted a report describing how it had complied with every provision in the order.</p><p>However, the FTC's new claims state the company has violated the order with multiple deceptive U.S.-origin claims in the years since — including on three products in July 2021, when it filed the compliance order.</p><p>One such claim, which the FTC says Williams-Sonoma made between April 2022 and August 2023, involved certain PBTeen mattress pads that were advertised as "crafted in America from domestic and imported materials." The federal body said in numerous instances, those products were actually "wholly imported" from China.</p><p>The FTC said this finding led them to discover six other products on the retailer's websites that were advertised as American-made despite either containing foreign components or being processed internationally. It states Williams-Sonoma couldn't demonstrate the validity of its own claims, and the retailer admitted to <a href="https://www.reuters.com/business/retail-consumer/williams-sonoma-is-fined-by-us-ftc-over-made-usa-claims-2024-04-23/" data-cms-ai="0">Reuters</a> that the allegations made in the complaint were true.</p><p>Williams-Sonoma ranked No. 1,469 on Forbes' largest companies in the world list last year. With brands under its own moniker, Pottery Barn, West Elm and more, the company raked in nearly $8.7 billion in sales last year.</p><p>It's interesting to question, however, if U.S.-made labels have at all contributed to the company's success.</p><p>One survey last year found two-thirds of its 1,000 respondents said they regularly sought out "Made in America" products, and 50% said they'd be willing to pay more for them. Another survey from the <a href="https://reshoringinstitute.org/wp-content/uploads/2020/09/made-in-usa-survey.pdf" data-cms-ai="0">Reshoring Institute</a>in 2020 found over 69% of respondents preferred American-made products, and more than 80% were willing to pay 10% to 20% more for them.</p></div><p>Copyright 2024 Scripps Media, Inc. All rights reserved. This material may not be published, broadcast, rewritten, or redistributed.</p></div>]]></description>
        </item>
        <item>
            <title><![CDATA[LoRA+: Efficient Low Rank Adaptation of Large Models (152 pts)]]></title>
            <link>https://arxiv.org/abs/2402.12354</link>
            <guid>40188511</guid>
            <pubDate>Sun, 28 Apr 2024 13:41:14 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arxiv.org/abs/2402.12354">https://arxiv.org/abs/2402.12354</a>, See on <a href="https://news.ycombinator.com/item?id=40188511">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content-inner">
    
    
                
    <p><a href="https://arxiv.org/pdf/2402.12354">View PDF</a></p><blockquote>
            <span>Abstract:</span>In this paper, we show that Low Rank Adaptation (LoRA) as originally introduced in Hu et al. (2021) leads to suboptimal finetuning of models with large width (embedding dimension). This is due to the fact that adapter matrices A and B in LoRA are updated with the same learning rate. Using scaling arguments for large width networks, we demonstrate that using the same learning rate for A and B does not allow efficient feature learning. We then show that this suboptimality of LoRA can be corrected simply by setting different learning rates for the LoRA adapter matrices A and B with a well-chosen ratio. We call this proposed algorithm LoRA$+$. In our extensive experiments, LoRA$+$ improves performance (1-2 $\%$ improvements) and finetuning speed (up to $\sim$ 2X SpeedUp), at the same computational cost as LoRA.
    </blockquote>

    <!--CONTEXT-->
    
  </div><div>
      <h2>Submission history</h2><p> From: Soufiane Hayou [<a href="https://arxiv.org/show-email/cd69fa73/2402.12354">view email</a>]      <br>    <strong>[v1]</strong>
        Mon, 19 Feb 2024 18:33:49 UTC (548 KB)<br>
</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Zed Decoded: Rope and SumTree (119 pts)]]></title>
            <link>https://zed.dev/blog/zed-decoded-rope-sumtree</link>
            <guid>40187971</guid>
            <pubDate>Sun, 28 Apr 2024 12:00:44 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://zed.dev/blog/zed-decoded-rope-sumtree">https://zed.dev/blog/zed-decoded-rope-sumtree</a>, See on <a href="https://news.ycombinator.com/item?id=40187971">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><article><header></header><p>For this second post in <strong>Zed Decoded</strong>, our blog &amp; video series in which we're taking a closer look at how Zed is built, I've talked to Zed's three co-founders —&nbsp;Nathan, Max, Antonio — about the data structure at the heart of Zed: the rope.</p>
<div><div><p><b>Companion Video</b>: <!-- -->Rope &amp; SumTree</p><p>This post comes with a 1hr companion video, in which Thorsten, Nathan, Antonio, and Max use Zed to look at how Zed uses the Rope and SumTree types. It's a loose conversation in which we write and read a lot of code to understand how the rope in Zed works and is implemented.</p><p>Watch the video here:<!-- --> <a href="https://youtu.be/uUu9eFNNbjg">https://youtu.be/uUu9eFNNbjg</a></p></div><p><img src="https://zed.dev/img/post/zed-decoded-rope-sumtree/thumbnail.jpg" width="230" height="150"></p></div>
<p>Going in I knew that data structures to represent text are a favorite topic in text editor circles. I had also used the <code>Rope</code> type in the Zed codebase and knew a little bit about ropes.</p>
<p>What I didn't really understand was how Zed's rope is implemented and what that implementation enables. So I asked Nathan, Max, and Antonio about it. They've been writing code on top, below and inside the rope for years now. And, as it turns out, Zed's rope isn't really a rope, at least not in the classical sense. It's very impressive, but first: what's a rope?</p>
<h2 id="why-not-a-string"><span data-br=":R4nbrrrqbf9la:" data-brr="1">Why not a string?</span></h2>
<p>One of the most important things a text editor has to do is to represent text in memory. When you open a file in a text editor, you expect to see its contents and want to navigate through it, and — hey, that's where the name comes from —&nbsp;you also want to <em>edit</em> the text.</p>
<p>To do that, a text editor has to load the file contents into memory — you can't just let the user stare at the raw bytes on disk. You also <em>want</em> to keep it in memory, because not every change should immediately be saved to disk.</p>
<p>So the question is: how do you represent the text in memory?</p>
<p>My naive first choice would be to use a string. Good old string. Our best friend from when we started programming. Why not use a string? It's how we represent text in memory all the time. It's not immediately obvious that that would be a bad choice, right?</p>
<p>Hey, I bet you <em>could</em> go a long way with a string, but there are some problems with strings that prevent them from being the best choice, especially once you start dealing with large files and want your program to still be efficient and responsive.</p>
<h3 id="problems-with-strings"><span data-br=":Ranbrrrqbf9la:" data-brr="1">Problems with strings</span></h3>
<p>Strings are usually allocated as a continuous block of memory. That can make edits inefficient. Say you have a file with 20k lines in a string and you want to insert a word right in the middle of that string. In order to do that, you have to make room for the new word in the middle of the string, so that you still end up with a string that's a continuous block of memory. And to make room, you have to move all of the text that would come after your newly inserted word. And moving here really means making allocations. In the worst case you have to move everything —&nbsp;all 20k lines —&nbsp;to make room for your new word.</p>
<p>Or say you want to delete a word: you can't just poke a hole in a string, because that would mean it isn't a string — a continuous block of memory — anymore. Instead you have to move all the characters except the ones you deleted, so that you end up with a single, continuous block of memory again, this time without the deleted word.</p>
<p>When dealing with small files and small strings, these aren't problems. We all do similar string operations all day every day, right? Yes, but most of the time we're talking about relatively small strings. When you're dealing with large files and thus large strings or a lot of edits (maybe even at the same time — hello multiple cursors!) these things —&nbsp;allocations, moving strings in memory —&nbsp;become problems.</p>
<p>And that's not even touching on all the other requirements a text editor might have of its text representation.</p>
<p>Navigation, for example. What if the user wants to jump to line 523? With a string and without any other data, you'd have to go through the string, character by character, and count the line breaks in it to find out where in the string line 523 is. And then what if the user presses the down-arrow ten times to go down ten lines and wants to end up in the same column? You'll again have to start counting line breaks in your string and then find the right offset after the last line break.</p>
<p>Or, say you want to draw a horizontal scrollbar at the bottom of your editor. To know how big the scroll thumb has to be, you have to know how long the longest line in the file is. Same thing again: you have to go through the string and count the lines and this time keeping track of the length of each line too.</p>
<p>Or what if the text file you want to load into your editor is larger than 1GB and the language you used to implement your text editor can <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/length">only represent strings up to 1GB</a>? You might say "1GB of string should be enough for everybody" but that only tells me you haven't talked to enough users of text editors yet.</p>
<p>Kidding aside, I think we've established that strings probably aren't the best solution to represent text in a text editor.</p>
<p>So what else can we use?</p>
<h2 id="whats-better-than-a-string"><span data-br=":Rknbrrrqbf9la:" data-brr="1">What's better than a string?</span></h2>
<p>If you really love strings, you might now be thinking "better than a string? easy: multiple strings." And you wouldn't be that far off! Some editors <em>do</em> represent text as an array-of-lines with each line being a string. VS Code's <a href="https://code.visualstudio.com/blogs/2018/03/23/text-buffer-reimplementation">Monaco editor worked that way for quite a while</a>, but an array of strings can still be plagued by the same problems as a single string. Excessive memory consumption and performance issues made the VS Code team look for something better.</p>
<p>Luckily, there are better things than strings. Builders of text editors have long ago realized that strings aren't the best tool for the job and have come up with other data structures to represent text.</p>
<p>The most popular ones, as far as I can tell, are <a href="https://en.wikipedia.org/wiki/Gap_buffer">gap buffers</a>, <a href="https://en.wikipedia.org/wiki/Piece_table">piece tables</a>, and <a href="https://en.wikipedia.org/wiki/Rope_(data_structure)">ropes</a>.</p>
<p>They each have their pros and cons and I'm not here to compare them in detail. It's enough to know that they are all significantly better than strings and different editors made different decisions in face of different trade-offs and ended up with different data structures. To give you a taste: <a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Buffer-Gap.html">Emacs uses gap buffers</a>, VS Code uses <a href="https://code.visualstudio.com/blogs/2018/03/23/text-buffer-reimplementation">a twist on piece tables</a>, Vim has <a href="https://github.com/vim/vim/blob/master/src/memline.c#L15">its own tree data structure</a>, and Helix <a href="https://github.com/helix-editor/helix/blob/master/docs/architecture.md">uses a rope</a>.</p>
<p>Zed, too, uses a rope. So let's take a look at the rope and see what advantages that has over a string.</p>
<h2 id="ropes"><span data-br=":Rqnbrrrqbf9la:" data-brr="1">Ropes</span></h2>
<p>Here's how Wikipedia explains what a rope is:</p>
<blockquote>
<p>A rope is a type of binary tree where each leaf (end node) holds a string and a length (also known as a "weight"), and each node further up the tree holds the sum of the lengths of all the leaves in its left subtree.</p>
</blockquote>
<p>Instead of a continuous block of memory, a rope is a tree and its leaves are the characters of the text it represents.</p>
<p>Here's what the text <code>"This is a rope"</code> would look like in a rope:</p>
<div><figure><img src="https://zed.dev/img/post/zed-decoded-rope-sumtree/rope.png" alt="A rope representing &quot;This is a rope&quot;"><figcaption>A rope representing "This is a rope"</figcaption></figure></div>
<p>You might now be thinking that this is a lot more complex than a string and you'd be right — it is. But here's the crucial bit that makes this a rope triumph over strings in many cases: the leaves - <code>"This", " is ", "a ", "rope"</code> —&nbsp;are essentially <em>immutable</em>. Instead of modifying strings, you modify the tree. Instead of poking holes in strings and moving parts of it around it memory, you modify the tree to get a new string. And by now, we as programmers have figured out how to efficiently work with trees.</p>
<p>Let's use the example from above again: deleting a word at a certain position in the text. With a string, you'd have to reallocate all of the text that comes after the word, possibly the whole string. With a rope, you find the start and end positions of the word you want to delete, then split the tree at these two positions so you have four trees, you throw away the middle two trees (that only contain the deleted word), concatenate the other two, then rebalance the tree. Yes, <em>it does</em> sound like a lot and it does require some algorithmic finesse under the hood, but the memory and performance improvements over strings are very real: instead of moving things around in memory, you only have to update a few pointers. That might look silly for a text as short as <code>"This is a rope"</code>, but it pays off big time when you have very large texts.</p>
<p>I understand that this is very abstract, so let me show you. Let's take a look at Zed's rope implementation.</p>
<h2 id="zeds-rope-implementation"><span data-br=":R13nbrrrqbf9la:" data-brr="1">Zed's rope implementation</span></h2>
<p>Zed has its own rope implementation in its own crate: <a href="https://github.com/zed-industries/zed/blob/ae3c641bbee2029fb4588d008e45ddb783593622/crates/rope/src/rope.rs"><code>rope</code></a>. (One reason for why Zed has its own implementation instead of using a library is that a lot of libraries didn't exist when the Zed founders laid the groundwork for Zed in 2017.)</p>
<p>The main type in the <code>rope</code> crate is <code>Rope</code>. Here's how you'd use it:</p>
<figure data-rehype-pretty-code-figure=""><div><pre tabindex="0" data-language="rust" data-theme="light-plus"><code data-language="rust" data-theme="light-plus"><span data-line=""><span>let</span><span> mut</span><span> rope</span><span> = </span><span>Rope</span><span>::</span><span>new</span><span>();</span></span>
<span data-line=""><span>rope</span><span>.</span><span>push</span><span>(</span><span>"Hello World! This is your captain speaking."</span><span>);</span></span></code></pre></div></figure>
<p>So far, so similar to <code>String</code>. Now let's say we have two ropes:</p>
<figure data-rehype-pretty-code-figure=""><div><pre tabindex="0" data-language="rust" data-theme="light-plus"><code data-language="rust" data-theme="light-plus"><span data-line=""><span>let</span><span> mut</span><span> rope1</span><span> = </span><span>Rope</span><span>::</span><span>new</span><span>();</span></span>
<span data-line=""><span>rope1</span><span>.</span><span>push</span><span>(</span><span>"Hello World!"</span><span>);</span></span>
<span data-line=""> </span>
<span data-line=""><span>let</span><span> mut</span><span> rope2</span><span> = </span><span>Rope</span><span>::</span><span>new</span><span>();</span></span>
<span data-line=""><span>rope2</span><span>.</span><span>push</span><span>(</span><span>"This is your captain speaking."</span><span>);</span></span></code></pre></div></figure>
<p>If we want to concatenate them, all we have to do is this:</p>
<figure data-rehype-pretty-code-figure=""><div><pre tabindex="0" data-language="rust" data-theme="light-plus"><code data-language="rust" data-theme="light-plus"><span data-line=""><span>rope1</span><span>.</span><span>append</span><span>(</span><span>rope2</span><span>);</span></span>
<span data-line=""> </span>
<span data-line=""><span>assert_eq!</span><span>(</span></span>
<span data-line=""><span>    rope1</span><span>.</span><span>text</span><span>(),</span></span>
<span data-line=""><span>    "Hello World! This is your captain speaking."</span><span>.</span><span>to_string</span><span>()</span></span>
<span data-line=""><span>);</span></span></code></pre></div></figure>
<p>The call to <code>rope1.append</code> connects the two trees — <code>rope1</code> and <code>rope2</code> —&nbsp;by building a new tree that contains both. That's barely more than updating a few pointers. Compare that to strings: if you concatenate two strings, you'll have to move at least one of them in memory so that they end up next to each, forming a continuous block. Often you have to move both of them, because there's not enough space after the first string. Again: the text in this example is laughably short, but what if someone wants to have ten copies of the 25k line <a href="https://sqlite.org/amalgamation.html">SQLite amalgamation</a> in a single file?</p>
<p>What about replacing a word?</p>
<figure data-rehype-pretty-code-figure=""><div><pre tabindex="0" data-language="rust" data-theme="light-plus"><code data-language="rust" data-theme="light-plus"><span data-line=""><span>// Construct a rope</span></span>
<span data-line=""><span>let</span><span> mut</span><span> rope</span><span> = </span><span>Rope</span><span>::</span><span>new</span><span>();</span></span>
<span data-line=""><span>rope</span><span>.</span><span>push</span><span>(</span><span>"One coffee, please. Black, yes."</span><span>);</span></span>
<span data-line=""> </span>
<span data-line=""><span>// Replace characters 4 to 10 (0-indexed) with "guinness".</span></span>
<span data-line=""><span>rope</span><span>.</span><span>replace</span><span>(</span><span>4</span><span>..</span><span>10</span><span>, </span><span>"guinness"</span><span>);</span></span>
<span data-line=""><span>assert_eq!</span><span>(</span><span>rope</span><span>.</span><span>text</span><span>(), </span><span>"One guinness, please. Black, yes."</span><span>);</span></span></code></pre></div></figure>
<p>What happens under the hood:</p>
<ul>
<li><code>replace()</code> creates a new rope that contains all of the nodes of the original <code>rope</code>, up until the 5th character (<code>c</code>)</li>
<li>the new text, <code>guinness</code>, is appended to the new rope</li>
<li>the rest of the original <code>rope</code>, everything after character 11, is appended to the new rope</li>
</ul>
<p>Deleting a word? Just replace it with <code>""</code>:</p>
<figure data-rehype-pretty-code-figure=""><div><pre tabindex="0" data-language="rust" data-theme="light-plus"><code data-language="rust" data-theme="light-plus"><span data-line=""><span>let</span><span> mut</span><span> rope</span><span> = </span><span>Rope</span><span>::</span><span>new</span><span>();</span></span>
<span data-line=""><span>rope</span><span>.</span><span>push</span><span>(</span><span>"One coffee, please. Black, yes."</span><span>);</span></span>
<span data-line=""><span>rope</span><span>.</span><span>replace</span><span>(</span><span>4</span><span>..</span><span>10</span><span>, </span><span>""</span><span>);</span></span></code></pre></div></figure>
<p>These operations are very quick even when dealing with large amounts of text, because then most of the nodes in the tree can be reused and only have to be rewired.</p>
<p>But what happens with the word that was deleted, <code>"coffee"</code>? The leaf nodes that contain these characters will get automatically cleaned up as soon as no other node references them anymore. That's what immutable leaf nodes in ropes enable: when a rope is mutated, or a new rope is constructed from an old one, or two ropes are merged into a new one, essentially all that's changing are references to leaf nodes. And those <a href="https://en.wikipedia.org/wiki/Reference_counting">references are counted</a>: as soon as there's no reference to a node anymore, the node gets cleaned up, deallocated.</p>
<p>To be precise and get technical: the leaf nodes, the ones containing the actual text, aren't fully immutable in Zed's rope implementation. These leaf nodes have a maximum length and if, say, text gets appended to a rope and the new text is short enough to fit into the last leaf node without exceeding its maximum length, then that leaf node will be mutated and the text appended to it.</p>
<p>On a conceptual level, though, you can think of the rope as a persistent data structure and its nodes as reference-counted immutable nodes in a tree. That's what makes it a better choice than the string and brings us back to the question we skipped above: why did Zed chose a rope instead of one of the other data structures?</p>
<h2 id="why-use-a-rope-in-zed"><span data-br=":R1mnbrrrqbf9la:" data-brr="1">Why use a rope in Zed?</span></h2>
<p>Zed's goal is to be a high-performance code editor. Strings, as we saw, won't get you to high-performance. So what do you use instead? Gap buffers, ropes, piece tables?</p>
<p>There isn't a single, obvious best choice here. It all comes down to specific requirements and trade-offs you're willing to make to meet those requirements.</p>
<p>Maybe you've heard that <a href="https://coredumped.dev/2023/08/09/text-showdown-gap-buffers-vs-ropes/">gap buffers can be faster than ropes</a>, or that they're easier to understand, or that piece tables are more elegant. That may be true, yes, but that still doesn't mean they're an obvious choice over, for example, a rope. Here's what <a href="https://github.com/emacs-ng/emacs-ng/issues/378#issuecomment-907680382">the author of <code>ropey</code>, a popular rope implementation in Rust, wrote about the performance trade-offs between ropes and gap buffers</a>:</p>
<blockquote>
<p>Ropes make a different performance trade-off, being a sort of "jack of all trades". They're not amazing at anything, but they're always solidly good with <code>O(log N)</code> performance. They're not the best choice for an editor that only supports local editing patterns, since they leave a lot of performance on the table compared to gap buffers in that case (again, even for huge documents). But for an editor that encourages non-localized edits, or just wants flexibility in that regard, they're a great choice because they always have good performance, whereas gap buffers degrade poorly with unfavorable editing patterns.</p>
</blockquote>
<p>Ropes are "not amazing at anything, but they're always solidly good." It depends on what you want to do, or what you want your editor to be able to do.</p>
<p>So what if you really want to make use of all the cores in your CPU? In <a href="https://coredumped.dev/2023/08/09/text-showdown-gap-buffers-vs-ropes/">"Text showdown: Gap Buffers vs Ropes"</a> concurrency&nbsp;is mentioned in a paragraph at the end:</p>
<blockquote>
<p>Ropes have other benefits besides good performance. Both Crop and Ropey [note: both are rope implementations in Rust] support concurrent access from multiple threads. This lets you take snapshots to do asynchronous saves, backups, or multi-user edits. This isn't something you could easily do with a gap buffer.</p>
</blockquote>
<p>In the <a href="https://youtu.be/uUu9eFNNbjg">companion video</a> you can hear what Max said about this paragraph: "Yeah, it matters more than any of that other stuff." Nathan added that "we use that all over the place", with "that" being concurrent access, snapshots, multi-user edits, asynchronous operations.</p>
<p>In other words: concurrent access to the text in a buffer was a hard requirement for Zed and that's why the rope ended up being the top choice.</p>
<p>Here's an example of how deeply ingrained concurrent access to text is into Zed: when you edit a buffer in Zed, with syntax highlighting enabled, <a href="https://github.com/zed-industries/zed/blob/a0fa8a489bb4af98059e5a064c7fac2a77b49aff/crates/language/src/buffer.rs#L1000-L1016">a snapshot of the buffer's text content is sent to a background thread</a> in which it's re-parsed using <a href="https://tree-sitter.github.io/tree-sitter/">Tree-sitter</a>. That happens on every edit and it's very, very fast and efficient, since the snapshots don't require a full copy of the text. All that's needed is to bump a reference count, because the reference-counting for the nodes in Zed's rope is implemented with <a href="https://doc.rust-lang.org/std/sync/struct.Arc.html"><code>Arc</code></a>, Rust's "thread-safe reference-counting pointer".</p>
<p>That brings us to the most important bit: how Zed's rope is implemented. Because it isn't implemented like the classic rope you see on Wikipedia and its implementation gives Zed's rope certain properties that other rope implementations might not have and that implementation is actually what put the rope ahead of other data structures.</p>
<h2 id="its-not-a-rope-its-a-sumtree"><span data-br=":R22nbrrrqbf9la:" data-brr="1">It's not a rope, it's a SumTree</span></h2>
<p>Zed's rope is not a classic binary-tree rope, it's a SumTree. If you <a href="https://github.com/zed-industries/zed/blob/ae3c641bbee2029fb4588d008e45ddb783593622/crates/rope/src/rope.rs#L29">open up the definition of Zed's <code>Rope</code></a>, you'll see that it's nothing more than a <code>SumTree</code> of <code>Chunk</code>s:</p>
<figure data-rehype-pretty-code-figure=""><div><pre tabindex="0" data-language="rust" data-theme="light-plus"><code data-language="rust" data-theme="light-plus"><span data-line=""><span>struct</span><span> Rope</span><span> {</span></span>
<span data-line=""><span>    chunks</span><span>: </span><span>SumTree</span><span>&lt;</span><span>Chunk</span><span>&gt;,</span></span>
<span data-line=""><span>}</span></span>
<span data-line=""> </span>
<span data-line=""><span>struct</span><span> Chunk</span><span>(</span><span>ArrayString</span><span>&lt;{ </span><span>2</span><span> * </span><span>CHUNK_BASE</span><span> }&gt;);</span></span></code></pre></div></figure>
<p>A <code>Chunk</code> is an <code>ArrayString</code>, which comes from the <a href="https://docs.rs/arrayvec/latest/arrayvec/"><code>arrayvec</code> crate</a> and allows storing strings inline and not on the heap somewhere else. Meaning: a <code>Chunk</code> is a collection of characters. <code>Chunk</code>s are the leafs in the SumTree and contain <em>at most</em> <code>2 * CHUNK_BASE</code> characters. In release builds of Zed, <code>CHUNK_BASE</code> is <code>64</code>.</p>
<p>So then what is a SumTree? Ask Nathan and he'll say that the SumTree is "the soul of Zed". But a slightly more technical description of a SumTree is this:</p>
<p>A <code>SumTree&lt;T&gt;</code> is a B+ tree in which each leaf node contains multiple items of type <code>T</code> and a <code>Summary</code> for each <code>Item</code>. Internal nodes contain a <code>Summary</code> of the items in its subtree.</p>
<p>And here are the type definitions to match, which you can <a href="https://github.com/zed-industries/zed/blob/6721c91ab000cea73ab30209c4a57bd1e2e2ce56/crates/sum_tree/src/sum_tree.rs#L37">find in the <code>sum_tree</code> crate</a>:</p>
<figure data-rehype-pretty-code-figure=""><div><pre tabindex="0" data-language="rust" data-theme="light-plus"><code data-language="rust" data-theme="light-plus"><span data-line=""><span>struct</span><span> SumTree</span><span>&lt;</span><span>T</span><span>: </span><span>Item</span><span>&gt;(</span><span>pub</span><span> Arc</span><span>&lt;</span><span>Node</span><span>&lt;</span><span>T</span><span>&gt;&gt;);</span></span>
<span data-line=""> </span>
<span data-line=""><span>enum</span><span> Node</span><span>&lt;</span><span>T</span><span>: </span><span>Item</span><span>&gt; {</span></span>
<span data-line=""><span>    Internal</span><span> {</span></span>
<span data-line=""><span>        height</span><span>: </span><span>u8</span><span>,</span></span>
<span data-line=""><span>        summary</span><span>: </span><span>T</span><span>::</span><span>Summary</span><span>,</span></span>
<span data-line=""><span>        child_summaries</span><span>: </span><span>ArrayVec</span><span>&lt;</span><span>T</span><span>::</span><span>Summary</span><span>, { </span><span>2</span><span> * </span><span>TREE_BASE</span><span> }&gt;,</span></span>
<span data-line=""><span>        child_trees</span><span>: </span><span>ArrayVec</span><span>&lt;</span><span>SumTree</span><span>&lt;</span><span>T</span><span>&gt;, { </span><span>2</span><span> * </span><span>TREE_BASE</span><span> }&gt;,</span></span>
<span data-line=""><span>    },</span></span>
<span data-line=""><span>    Leaf</span><span> {</span></span>
<span data-line=""><span>        summary</span><span>: </span><span>T</span><span>::</span><span>Summary</span><span>,</span></span>
<span data-line=""><span>        items</span><span>: </span><span>ArrayVec</span><span>&lt;</span><span>T</span><span>, { </span><span>2</span><span> * </span><span>TREE_BASE</span><span> }&gt;,</span></span>
<span data-line=""><span>        item_summaries</span><span>: </span><span>ArrayVec</span><span>&lt;</span><span>T</span><span>::</span><span>Summary</span><span>, { </span><span>2</span><span> * </span><span>TREE_BASE</span><span> }&gt;,</span></span>
<span data-line=""><span>    },</span></span>
<span data-line=""><span>}</span></span>
<span data-line=""><span>trait</span><span> Item</span><span>: </span><span>Clone</span><span> {</span></span>
<span data-line=""><span>    type</span><span> Summary</span><span>: </span><span>Summary</span><span>;</span></span>
<span data-line=""> </span>
<span data-line=""><span>    fn</span><span> summary</span><span>(&amp;</span><span>self</span><span>) -&gt; </span><span>Self</span><span>::</span><span>Summary</span><span>;</span></span>
<span data-line=""><span>}</span></span></code></pre></div></figure>
<p>So what's a <code>Summary</code>? Anything you want! The only requirement is that you need to be able to add multiple summaries together, to create a sum of summaries:</p>
<figure data-rehype-pretty-code-figure=""><div><pre tabindex="0" data-language="rust" data-theme="light-plus"><code data-language="rust" data-theme="light-plus"><span data-line=""><span>trait</span><span> Summary</span><span>: </span><span>Default</span><span> + </span><span>Clone</span><span> + </span><span>fmt</span><span>::</span><span>Debug</span><span> {</span></span>
<span data-line=""><span>    type</span><span> Context</span><span>;</span></span>
<span data-line=""> </span>
<span data-line=""><span>    fn</span><span> add_summary</span><span>(&amp;</span><span>mut</span><span> self</span><span>, </span><span>summary</span><span>: &amp;</span><span>Self</span><span>, </span><span>cx</span><span>: &amp;</span><span>Self</span><span>::</span><span>Context</span><span>);</span></span>
<span data-line=""><span>}</span></span></code></pre></div></figure>
<p>But I know you just rolled your eyes at that, so let's make it more concrete.</p>
<p>Since the <code>Rope</code> is a <code>SumTree</code> and each item in the SumTree has to have a summary, here's the <code>Summary</code> that's associated with each node in Zed's <code>Rope</code>:</p>
<figure data-rehype-pretty-code-figure=""><div><pre tabindex="0" data-language="rust" data-theme="light-plus"><code data-language="rust" data-theme="light-plus"><span data-line=""><span>struct</span><span> TextSummary</span><span> {</span></span>
<span data-line=""><span>    /// Length in UTF-8</span></span>
<span data-line=""><span>    len</span><span>: </span><span>usize</span><span>,</span></span>
<span data-line=""><span>    /// Length in UTF-16 code units</span></span>
<span data-line=""><span>    len_utf16</span><span>: </span><span>OffsetUtf16</span><span>,</span></span>
<span data-line=""><span>    /// A point representing the number of lines and the length of the last line</span></span>
<span data-line=""><span>    lines</span><span>: </span><span>Point</span><span>,</span></span>
<span data-line=""><span>    /// How many `char`s are in the first line</span></span>
<span data-line=""><span>    first_line_chars</span><span>: </span><span>u32</span><span>,</span></span>
<span data-line=""><span>    /// How many `char`s are in the last line</span></span>
<span data-line=""><span>    last_line_chars</span><span>: </span><span>u32</span><span>,</span></span>
<span data-line=""><span>    /// How many UTF-16 code units are in the last line</span></span>
<span data-line=""><span>    last_line_len_utf16</span><span>: </span><span>u32</span><span>,</span></span>
<span data-line=""><span>    /// The row idx of the longest row</span></span>
<span data-line=""><span>    longest_row</span><span>: </span><span>u32</span><span>,</span></span>
<span data-line=""><span>    /// How many `char`s are in the longest row</span></span>
<span data-line=""><span>    longest_row_chars</span><span>: </span><span>u32</span><span>,</span></span>
<span data-line=""><span>}</span></span></code></pre></div></figure>
<p>All nodes in the SumTree — internal and leaf nodes —&nbsp;have such a summary, containing information about its subtree. The leaf nodes have a summary of their <code>Chunk</code>s and the internal nodes have a summary that is <em>the sum of the summaries of its child nodes</em>, recursively down the tree.</p>
<p>Let's say we have the following text:</p>
<div><pre><code>Hello World!
This is
your captain speaking.
Are you
ready for take-off?
</code></pre></div>
<p>5 lines of text. If this is pushed into a Zed <code>Rope</code>, the <code>SumTree</code> beneath the <code>Rope</code> would look like this, simplified:</p>
<div><figure><img src="https://zed.dev/img/post/zed-decoded-rope-sumtree/sumtree_diagram.png" alt="A SumTree representing &quot;Hello World!\nThis is\nyour captain speaking.\nAre you\nready for take-off?\n&quot; with some summary fields left out"><figcaption>A SumTree representing "Hello World!\nThis is\nyour captain speaking.\nAre you\nready for take-off?\n" with some summary fields left out</figcaption></figure></div>
<p>(I left out some of the fields of <code>TextSummary</code> to keep the diagram small-ish and also adjusted the maximum size of the chunks and maximum number of children per node. In a release-build of Zed, all five lines of the text would fit in a single node.)</p>
<p>Even with only three summary fields — <code>len</code>, <code>lines</code>, <code>longest_row_chars</code> —&nbsp;we can see that the summaries of the internal nodes are the sum of their child nodes summaries.</p>
<p>The root node's summary tells us about the complete text, the complete <code>Rope</code>: 72 characters, 5 lines, and the longest line has 22 characters (<code>your captain speaking.\n</code>). The internal nodes tell is about parts of the text. The left internal node here tells us, for example, that it's <code>38</code> characters from <code>"Hell"</code> to <code>"spea"</code> (including newline characters) and that there are two line breaks in that part of the text.</p>
<p>Okay, you might be thinking, a B+ tree with summarized summaries —&nbsp;what does that buy us?</p>
<h2 id="traversing-a-sumtree"><span data-br=":R2onbrrrqbf9la:" data-brr="1">Traversing a SumTree</span></h2>
<p>The SumTree is a concurrency-friendly B-tree that not only gives us a persistent, copy-on-write data structure to represent text, but through its summaries it also indexes the data in the tree and allows us to traverse the tree along dimensions of the summaries in <code>O(log n)</code> time.</p>
<p>In Max's words, the SumTree is "not conceptually a map. It's more like a <code>Vec</code> that has these special indexing features where you can store any sequence of items you want. You decide the order and it just provides these capabilities to seek and slice."</p>
<p>Don't think of it as a tree that allows you to lookup values associated with keys (although it <em>can</em> do that), but think of it as a tree that allows you lookup items based on the summaries of each item and all the items that come before it in the tree.</p>
<p>Or, in other words: the items in a SumTree are ordered. Their summaries are also ordered. The SumTree allows you find any item in the tree in <code>O(log N)</code> time by traversing the tree from root to leaf node and deciding which node to visit based on the node's summary.</p>
<p>Say we have a <code>Rope</code> with three lines of text in it:</p>
<figure data-rehype-pretty-code-figure=""><div><pre tabindex="0" data-language="rust" data-theme="light-plus"><code data-language="rust" data-theme="light-plus"><span data-line=""><span>let</span><span> mut</span><span> rope</span><span> = </span><span>Rope</span><span>::</span><span>new</span><span>();</span></span>
<span data-line=""><span>rope</span><span>.</span><span>push</span><span>(</span><span>"Line one.</span><span>\n</span><span>"</span><span>);</span></span>
<span data-line=""><span>rope</span><span>.</span><span>push</span><span>(</span><span>"This is the second line.</span><span>\n</span><span>"</span><span>);</span></span>
<span data-line=""><span>rope</span><span>.</span><span>push</span><span>(</span><span>"This is three.</span><span>\n</span><span>"</span><span>);</span></span></code></pre></div></figure>
<p>Once the <code>Rope</code> is constructed, it looks like this:</p>
<div><figure><img src="https://zed.dev/img/post/zed-decoded-rope-sumtree/sumtree_three_lines.png" alt="A SumTree representing &quot;Line one.\nThis is the second line.\nThis is three.\n&quot; with some summary fields left out"><figcaption>A SumTree representing "Line one.\nThis is the second line.\nThis is three.\n" with some summary fields left out</figcaption></figure></div>
<p>Like we said above: each leaf node will hold multiple <code>Chunk</code>s and each leaf node's summary will contain information about the text in its <code>Chunk</code>s. The type of that summary is <code>TextSummary</code> from above. That means each node's summary can tell us about the <code>len</code> of the text in its chunks, the lines &amp; rows in them, the longest line, and all the other fields of <code>TextSummary</code>. The internal nodes in the SumTree then contain summaries of the summaries.</p>
<p>And since the items in the tree — internal nodes, leaf nodes, chunks —&nbsp;are <em>ordered</em> we can traverse that tree very efficiently, because the SumTree allows us to <em>traverse the tree based on the values in the summaries</em>. It allows us to seek along a single <em>dimension</em>, a single field for example, of a given summary.</p>
<p>Say we want to find out what the line and column in the rope is at the absolute offset <code>26</code>. Meaning: what's at character 26? In order to find out, we can traverse this three-line <code>rope</code> along the <code>len</code> field of the <code>TextSummary</code>. Because the <code>len</code> field, when added up from left to right, <em>is</em> an absolute offset. So in order to find what's at absolute offset <code>26</code>, we traverse down the tree, taking left or right turns, depending on the <code>len</code> value in the summaries of the internal nodes, until we end up at the leaf node we want:</p>
<figure data-rehype-pretty-code-figure=""><div><pre tabindex="0" data-language="rust" data-theme="light-plus"><code data-language="rust" data-theme="light-plus"><span data-line=""><span>let</span><span> point</span><span> = </span><span>rope</span><span>.</span><span>offset_to_point</span><span>(</span><span>26</span><span>);</span></span>
<span data-line=""><span>assert_eq!</span><span>(</span><span>point</span><span>.row, </span><span>1</span><span>);</span></span>
<span data-line=""><span>assert_eq!</span><span>(</span><span>point</span><span>.column, </span><span>16</span><span>);</span></span></code></pre></div></figure>
<p>On the surface, the call to <code>rope.offset_to_point(26)</code> converts an absolute 0-based offset (<code>26</code>) into a row and column (<code>1</code> and <code>16</code>). What happens inside of <code>offset_to_point</code> is that a cursor traverses the SumTree until it finds the items where the aggregated <code>len</code> of the <code>TextSummary</code> is <code>&gt;= 26</code>. Once it found the first leaf node where that's true, it finds the exact chunk where the offset matches and parks the cursor there. On the way there, it not only kept counting the <code>len</code> field of the summaries it came across, but it also aggregated the <code>lines</code> field, which contains <code>row</code> and <code>column</code>. Neat, right?</p>
<p>Here's what I just described but in actual code, here's the <code>offset_to_point</code> method on the <code>Rope</code>:</p>
<figure data-rehype-pretty-code-figure=""><div><pre tabindex="0" data-language="rust" data-theme="light-plus"><code data-language="rust" data-theme="light-plus"><span data-line=""><span>fn</span><span> offset_to_point</span><span>(&amp;</span><span>self</span><span>, </span><span>offset</span><span>: </span><span>usize</span><span>) -&gt; </span><span>Point</span><span> {</span></span>
<span data-line=""><span>    if</span><span> offset</span><span> &gt;= </span><span>self</span><span>.</span><span>summary</span><span>().len {</span></span>
<span data-line=""><span>        return</span><span> self</span><span>.</span><span>summary</span><span>().lines;</span></span>
<span data-line=""><span>    }</span></span>
<span data-line=""><span>    let</span><span> mut</span><span> cursor</span><span> = </span><span>self</span><span>.chunks.</span><span>cursor</span><span>::&lt;(</span><span>usize</span><span>, </span><span>Point</span><span>)&gt;();</span></span>
<span data-line=""><span>    cursor</span><span>.</span><span>seek</span><span>(&amp;</span><span>offset</span><span>, </span><span>Bias</span><span>::</span><span>Left</span><span>, &amp;());</span></span>
<span data-line=""><span>    let</span><span> overshoot</span><span> = </span><span>offset</span><span> - </span><span>cursor</span><span>.</span><span>start</span><span>().</span><span>0</span><span>;</span></span>
<span data-line=""><span>    cursor</span><span>.</span><span>start</span><span>().</span><span>1</span></span>
<span data-line=""><span>        + </span><span>cursor</span></span>
<span data-line=""><span>            .</span><span>item</span><span>()</span></span>
<span data-line=""><span>            .</span><span>map_or</span><span>(</span><span>Point</span><span>::</span><span>zero</span><span>(), |</span><span>chunk</span><span>| </span><span>chunk</span><span>.</span><span>offset_to_point</span><span>(</span><span>overshoot</span><span>))</span></span>
<span data-line=""><span>}</span></span></code></pre></div></figure>
<p>What it does is the following:</p>
<ul>
<li>sanity checks that the offset isn't past the end of the whole <code>Rope</code></li>
<li>creates a cursor that seeks along the <code>usize</code> (offset) and <code>Point</code> (a <code>Point</code> is a struct with two fields: <code>row</code> and <code>column</code>) dimensions, aggregating both while doing that</li>
<li>once it found an item at <code>offset</code>, it calculates the overshoot: the <code>offset</code> we're looking for might be in the middle of a single chunk and <code>cursor.start().0</code> is the <code>usize</code> (offset) at the start of a given chunk</li>
<li>take the lines up to the start of the current chunk (<code>cursor.start().1</code>) — which is the summary of <code>TextSummary.len</code> of the complete tree to the left of the current item!</li>
<li>add them to the lines at the offset in the, possibly, middle of the chunk (<code>chunk.offset_to_point(overshoot)</code>)</li>
</ul>
<p>The most interesting bit here is, of course, the cursor that's constructed with <code>self.chunks.cursor::&lt;(usize, Point)&gt;()</code>. This particular cursor has two dimensions and allows you to seek to a value on one dimension (<code>usize</code>) in the given <code>SumTree</code> and in the same operation also get the sum of the second dimension, the <code>Point</code>, at a particular cursor position.</p>
<p>The beauty of that is that it can do that in <code>O(log N)</code> time, because each internal node contains a summary of summaries (meaning: the total <code>len</code> of all items in its subtree in this case) and it can skip over all of those where <code>len &lt; 26</code>. In the diagram above, you can see that we don't even have to traverse the first two leaf nodes.</p>
<p>Isn't that amazing? There's more.</p>
<h2 id="using-the-sumtree"><span data-br=":R3dnbrrrqbf9la:" data-brr="1">Using the SumTree</span></h2>
<p>You can also traverse the <code>SumTree</code> the other way around, seeking along lines/rows and getting the final offset:</p>
<figure data-rehype-pretty-code-figure=""><div><pre tabindex="0" data-language="rust" data-theme="light-plus"><code data-language="rust" data-theme="light-plus"><span data-line=""><span>// Go from offset to point:</span></span>
<span data-line=""><span>let</span><span> point</span><span> = </span><span>rope</span><span>.</span><span>offset_to_point</span><span>(</span><span>55</span><span>);</span></span>
<span data-line=""><span>assert_eq!</span><span>(</span><span>point</span><span>.row, </span><span>2</span><span>);</span></span>
<span data-line=""><span>assert_eq!</span><span>(</span><span>point</span><span>.column, </span><span>6</span><span>);</span></span>
<span data-line=""> </span>
<span data-line=""><span>// Go from point to offset:</span></span>
<span data-line=""><span>let</span><span> offset</span><span> = </span><span>rope</span><span>.</span><span>point_to_offset</span><span>(</span><span>Point</span><span>::</span><span>new</span><span>(</span><span>2</span><span>, </span><span>6</span><span>));</span></span>
<span data-line=""><span>assert_eq!</span><span>(</span><span>offset</span><span>, </span><span>55</span><span>);</span></span></code></pre></div></figure>
<p>And — you probably guessed it —&nbsp;<code>point_to_offset</code> looks exactly like <code>offset_to_point</code>, except that the dimensions with which the cursor is constructed are flipped:</p>
<figure data-rehype-pretty-code-figure=""><div><pre tabindex="0" data-language="rust" data-theme="light-plus"><code data-language="rust" data-theme="light-plus"><span data-line=""><span>fn</span><span> point_to_offset</span><span>(&amp;</span><span>self</span><span>, </span><span>point</span><span>: </span><span>Point</span><span>) -&gt; </span><span>usize</span><span> {</span></span>
<span data-line=""><span>    if</span><span> point</span><span> &gt;= </span><span>self</span><span>.</span><span>summary</span><span>().lines {</span></span>
<span data-line=""><span>        return</span><span> self</span><span>.</span><span>summary</span><span>().len;</span></span>
<span data-line=""><span>    }</span></span>
<span data-line=""><span>    let</span><span> mut</span><span> cursor</span><span> = </span><span>self</span><span>.chunks.</span><span>cursor</span><span>::&lt;(</span><span>Point</span><span>, </span><span>usize</span><span>)&gt;();</span></span>
<span data-line=""><span>    cursor</span><span>.</span><span>seek</span><span>(&amp;</span><span>point</span><span>, </span><span>Bias</span><span>::</span><span>Left</span><span>, &amp;());</span></span>
<span data-line=""><span>    let</span><span> overshoot</span><span> = </span><span>point</span><span> - </span><span>cursor</span><span>.</span><span>start</span><span>().</span><span>0</span><span>;</span></span>
<span data-line=""><span>    cursor</span><span>.</span><span>start</span><span>().</span><span>1</span></span>
<span data-line=""><span>        + </span><span>cursor</span></span>
<span data-line=""><span>            .</span><span>item</span><span>()</span></span>
<span data-line=""><span>            .</span><span>map_or</span><span>(</span><span>0</span><span>, |</span><span>chunk</span><span>| </span><span>chunk</span><span>.</span><span>point_to_offset</span><span>(</span><span>overshoot</span><span>))</span></span>
<span data-line=""><span>}</span></span></code></pre></div></figure>
<p>This seeking along one dimension and aggregating (summarizing!) along multiple dimensions is made possible by some <a href="https://github.com/zed-industries/zed/blob/6721c91ab000cea73ab30209c4a57bd1e2e2ce56/crates/sum_tree/src/sum_tree.rs#L43-L94">very clever Rust code</a> that I won't explain in detail, but the short version is this.</p>
<p>Given a <code>TextSummary</code> like the following (which we already saw in full above) and a <code>ChunkSummary</code> that wraps it...</p>
<figure data-rehype-pretty-code-figure=""><div><pre tabindex="0" data-language="rust" data-theme="light-plus"><code data-language="rust" data-theme="light-plus"><span data-line=""><span>struct</span><span> TextSummary</span><span> {</span></span>
<span data-line=""><span>    len</span><span>: </span><span>usize</span><span>,</span></span>
<span data-line=""><span>    lines</span><span>: </span><span>Point</span><span>,</span></span>
<span data-line=""> </span>
<span data-line=""><span>    // [...]</span></span>
<span data-line=""><span>}</span></span>
<span data-line=""> </span>
<span data-line=""><span>struct</span><span> ChunkSummary</span><span> {</span></span>
<span data-line=""><span>    text</span><span>: </span><span>TextSummary</span><span>,</span></span>
<span data-line=""><span>}</span></span></code></pre></div></figure>
<p>... we can define the <code>len</code> and <code>lines</code> fields as <code>sum_tree::Dimensions</code>:</p>
<figure data-rehype-pretty-code-figure=""><div><pre tabindex="0" data-language="rust" data-theme="light-plus"><code data-language="rust" data-theme="light-plus"><span data-line=""><span>impl</span><span>&lt;'</span><span>a</span><span>&gt; </span><span>sum_tree</span><span>::</span><span>Dimension</span><span>&lt;'</span><span>a</span><span>, </span><span>ChunkSummary</span><span>&gt; </span><span>for</span><span> usize</span><span> {</span></span>
<span data-line=""><span>    fn</span><span> add_summary</span><span>(&amp;</span><span>mut</span><span> self</span><span>, </span><span>summary</span><span>: &amp;'</span><span>a</span><span> ChunkSummary</span><span>, </span><span>_</span><span>: &amp;()) {</span></span>
<span data-line=""><span>        *</span><span>self</span><span> += </span><span>summary</span><span>.text.len;</span></span>
<span data-line=""><span>    }</span></span>
<span data-line=""><span>}</span></span>
<span data-line=""> </span>
<span data-line=""><span>impl</span><span>&lt;'</span><span>a</span><span>&gt; </span><span>sum_tree</span><span>::</span><span>Dimension</span><span>&lt;'</span><span>a</span><span>, </span><span>ChunkSummary</span><span>&gt; </span><span>for</span><span> Point</span><span> {</span></span>
<span data-line=""><span>    fn</span><span> add_summary</span><span>(&amp;</span><span>mut</span><span> self</span><span>, </span><span>summary</span><span>: &amp;'</span><span>a</span><span> ChunkSummary</span><span>, </span><span>_</span><span>: &amp;()) {</span></span>
<span data-line=""><span>        *</span><span>self</span><span> += </span><span>summary</span><span>.text.lines;</span></span>
<span data-line=""><span>    }</span></span>
<span data-line=""><span>}</span></span></code></pre></div></figure>
<p>With that we can then <a href="https://github.com/zed-industries/zed/blob/6721c91ab000cea73ab30209c4a57bd1e2e2ce56/crates/sum_tree/src/sum_tree.rs#L323-L329">construct cursors</a> for a given <code>sum_tree::Dimension</code> or a <em>tuple of dimensions</em> (which is what we did above with <code>(usize, Point)</code>).</p>
<p>Once constructed, the cursor can then seek along any <code>Dimension</code> we have defined and aggregate either the complete <code>TextSummary</code> or just a single <code>Dimension</code> of a given summary type.</p>
<p>Or we can also seek along a single dimension and then get the whole summary once the cursor has found the target:</p>
<figure data-rehype-pretty-code-figure=""><div><pre tabindex="0" data-language="rust" data-theme="light-plus"><code data-language="rust" data-theme="light-plus"><span data-line=""><span>let</span><span> mut</span><span> rope</span><span> = </span><span>Rope</span><span>::</span><span>new</span><span>();</span></span>
<span data-line=""><span>rope</span><span>.</span><span>push</span><span>(</span><span>"This is the first line.</span><span>\n</span><span>"</span><span>);</span></span>
<span data-line=""><span>rope</span><span>.</span><span>push</span><span>(</span><span>"This is the second line.</span><span>\n</span><span>"</span><span>);</span></span>
<span data-line=""><span>rope</span><span>.</span><span>push</span><span>(</span><span>"This is the third line.</span><span>\n</span><span>"</span><span>);</span></span>
<span data-line=""> </span>
<span data-line=""><span>// Construct cursor:</span></span>
<span data-line=""><span>let</span><span> mut</span><span> cursor</span><span> = </span><span>rope</span><span>.</span><span>cursor</span><span>(</span><span>0</span><span>);</span></span>
<span data-line=""><span>// Seek it to offset 55 and get the `TextSummary` at that offset:</span></span>
<span data-line=""><span>let</span><span> summary</span><span> = </span><span>cursor</span><span>.</span><span>summary</span><span>::&lt;</span><span>TextSummary</span><span>&gt;(</span><span>55</span><span>);</span></span>
<span data-line=""><span>assert_eq!</span><span>(</span><span>summary</span><span>.len, </span><span>55</span><span>);</span></span>
<span data-line=""><span>assert_eq!</span><span>(</span><span>summary</span><span>.lines, </span><span>Point</span><span>::</span><span>new</span><span>(</span><span>2</span><span>, </span><span>6</span><span>));</span></span>
<span data-line=""><span>assert_eq!</span><span>(</span><span>summary</span><span>.longest_row_chars, </span><span>24</span><span>);</span></span></code></pre></div></figure>
<p>The cursor stopped in the middle of line 2, at column 6, and up until that location the <code>longest_row_chars</code> in the summaries was <code>24</code>.</p>
<p>This is very, very powerful stuff. To scratch the surface: it allows us to easily convert between UTF8 rows/columns and UTF16 rows/columns, which is <a href="https://matklad.github.io/2023/10/12/lsp-could-have-been-better.html#Coordinates">sometimes required when working with the language server protocol (LSP)</a>. Just seek to a UTF8 <code>Point</code> and aggregate the UTF16 <code>Points</code>:</p>
<figure data-rehype-pretty-code-figure=""><div><pre tabindex="0" data-language="rust" data-theme="light-plus"><code data-language="rust" data-theme="light-plus"><span data-line=""><span>fn</span><span> point_to_point_utf16</span><span>(&amp;</span><span>self</span><span>, </span><span>point</span><span>: </span><span>Point</span><span>) -&gt; </span><span>PointUtf16</span><span> {</span></span>
<span data-line=""><span>    if</span><span> point</span><span> &gt;= </span><span>self</span><span>.</span><span>summary</span><span>().lines {</span></span>
<span data-line=""><span>        return</span><span> self</span><span>.</span><span>summary</span><span>().</span><span>lines_utf16</span><span>();</span></span>
<span data-line=""><span>    }</span></span>
<span data-line=""><span>    let</span><span> mut</span><span> cursor</span><span> = </span><span>self</span><span>.chunks.</span><span>cursor</span><span>::&lt;(</span><span>Point</span><span>, </span><span>PointUtf16</span><span>)&gt;();</span></span>
<span data-line=""><span>    cursor</span><span>.</span><span>seek</span><span>(&amp;</span><span>point</span><span>, </span><span>Bias</span><span>::</span><span>Left</span><span>, &amp;());</span></span>
<span data-line=""><span>    // ... you know the rest ...</span></span>
<span data-line=""><span>}</span></span></code></pre></div></figure>
<p>But there's more and I could go on and on and on and show more examples or use big words like <a href="https://xi-editor.io/docs/rope_science_02.html">monoid homomorphism</a>, but I'll stop here. You get the idea — the <code>SumTree</code>, a thread-safe, snapshot-friendly, copy-on-write B+ tree is very powerful and can be used for more than "just" text, which is why it's everywhere in Zed. Yes, literally.</p>
<h2 id="everythings-a-sumtree"><span data-br=":R3vnbrrrqbf9la:" data-brr="1">Everything's a SumTree</span></h2>
<p>Currently there are <a href="https://sourcegraph.com/search?q=context:global+repo:%5Egithub%5C.com/zed-industries/zed%24+lang:rust+content:%22:+SumTree%3C%22&amp;patternType=keyword&amp;sm=0">over 20 uses of the <code>SumTree</code> in Zed</a>. The <code>SumTree</code> is not only used as the basis for the <code>Rope</code>, but in many different places. The list of files in a project is a <code>SumTree</code>. The information returned by <code>git blame</code> is stored in a <code>SumTree</code>. Messages in the chat channel: <code>SumTree</code>. Diagnostics: <code>SumTree</code>.</p>
<p>At the very core of Zed sits a data structured called <code>DisplayMap</code> that contains all the information about how a given buffer of text should be displayed —&nbsp;where the folds go, which lines wrap, where the inlay hints are displayed, ... —&nbsp;and it looks like this:</p>
<figure data-rehype-pretty-code-figure=""><div><pre tabindex="0" data-language="rust" data-theme="light-plus"><code data-language="rust" data-theme="light-plus"><span data-line=""><span>struct</span><span> DisplayMap</span><span> {</span></span>
<span data-line=""><span>    /// The buffer that we are displaying.</span></span>
<span data-line=""><span>    buffer</span><span>: </span><span>Model</span><span>&lt;</span><span>MultiBuffer</span><span>&gt;,</span></span>
<span data-line=""><span>    /// Decides where the [`Inlay`]s should be displayed.</span></span>
<span data-line=""><span>    inlay_map</span><span>: </span><span>InlayMap</span><span>,</span></span>
<span data-line=""><span>    /// Decides where the fold indicators should be and tracks parts of a source file that are currently folded.</span></span>
<span data-line=""><span>    fold_map</span><span>: </span><span>FoldMap</span><span>,</span></span>
<span data-line=""><span>    /// Keeps track of hard tabs in a buffer.</span></span>
<span data-line=""><span>    tab_map</span><span>: </span><span>TabMap</span><span>,</span></span>
<span data-line=""><span>    /// Handles soft wrapping.</span></span>
<span data-line=""><span>    wrap_map</span><span>: </span><span>Model</span><span>&lt;</span><span>WrapMap</span><span>&gt;,</span></span>
<span data-line=""><span>    /// Tracks custom blocks such as diagnostics that should be displayed within buffer.</span></span>
<span data-line=""><span>    block_map</span><span>: </span><span>BlockMap</span><span>,</span></span>
<span data-line=""><span>    /// Regions of text that should be highlighted.</span></span>
<span data-line=""><span>    text_highlights</span><span>: </span><span>TextHighlights</span><span>,</span></span>
<span data-line=""><span>    /// Regions of inlays that should be highlighted.</span></span>
<span data-line=""><span>    inlay_highlights</span><span>: </span><span>InlayHighlights</span><span>,</span></span>
<span data-line=""> </span>
<span data-line=""><span>    // [...]</span></span>
<span data-line=""><span>}</span></span></code></pre></div></figure>
<p>Guess what? All of these use a <code>SumTree</code> under the hood and in a future post we will explore them, but the point I want to make now is this:</p>
<p>The Zed co-founders didn't so much decide to use a rope over a gap buffer or over a piece table. They started with the <code>SumTree</code>, recognized how powerful it is, how it fits Zed's requirements, and then built the rope on top of it.</p>
<p>The rope may be at the heart of Zed, but the SumTree is, to quote Nathan again, "the soul of Zed".</p><hr></article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Zilog Z80 CPU – Modern, free and open source silicon clone (287 pts)]]></title>
            <link>https://github.com/rejunity/z80-open-silicon</link>
            <guid>40187656</guid>
            <pubDate>Sun, 28 Apr 2024 11:03:45 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/rejunity/z80-open-silicon">https://github.com/rejunity/z80-open-silicon</a>, See on <a href="https://news.ycombinator.com/item?id=40187656">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/rejunity/z80-open-silicon/workflows/gds/badge.svg"><img src="https://github.com/rejunity/z80-open-silicon/workflows/gds/badge.svg" alt=""></a> <a target="_blank" rel="noopener noreferrer" href="https://github.com/rejunity/z80-open-silicon/workflows/docs/badge.svg"><img src="https://github.com/rejunity/z80-open-silicon/workflows/docs/badge.svg" alt=""></a> <a target="_blank" rel="noopener noreferrer" href="https://github.com/rejunity/z80-open-silicon/workflows/test/badge.svg"><img src="https://github.com/rejunity/z80-open-silicon/workflows/test/badge.svg" alt=""></a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Announcement</h2><a id="user-content-announcement" aria-label="Permalink: Announcement" href="#announcement"></a></p>
<p dir="auto">On April 15 of 2024 Zilog has <a href="https://www.mouser.com/PCN/Littelfuse_PCN_Z84C00.pdf" rel="nofollow">announced End-of-Life</a> for Z80, one of the most famous 8-bit CPUs of all time.</p>
<p dir="auto">It is a time for open-source and hardware preservation community to step in with a Free and Open Source Silicon (FOSS) replacement for Zilog Z80.</p>
<p dir="auto">The <strong>first</strong> fabrication of <strong>FOSS Z80</strong> is scheduled for <strong>June of 2024</strong>!</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Zilog Z80 modern free and open source silicon clone</h2><a id="user-content-zilog-z80-modern-free-and-open-source-silicon-clone" aria-label="Permalink: Zilog Z80 modern free and open source silicon clone" href="#zilog-z80-modern-free-and-open-source-silicon-clone"></a></p>
<p dir="auto">On the path to become a silicon proven, pin compatible, open-source replacement for classic Zilog Z80.</p>
<p dir="auto">FOSS Z80 leverages <a href="https://openroad.readthedocs.io/en" rel="nofollow">OpenROAD</a> flow and FOSS <a href="https://skywater-pdk.readthedocs.io/en/main/" rel="nofollow">130 nm Skywater PDK</a> to synthesize production ready silicon. <a href="https://tinytapeout.com/" rel="nofollow">Tiny Tapeout</a> infrastructure is used to test and pool design with many others to reduce the cost of physical chip fabrication at <a href="https://en.wikipedia.org/wiki/SkyWater_Technology" rel="nofollow">Skywater Foundries</a>.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">The first iteration of FOSS Z80 silicon</h2><a id="user-content-the-first-iteration-of-foss-z80-silicon" aria-label="Permalink: The first iteration of FOSS Z80 silicon" href="#the-first-iteration-of-foss-z80-silicon"></a></p>
<p dir="auto">The first iteration is developed with <a href="https://tinytapeout.com/" rel="nofollow">Tiny Tapeout 07</a> using 130 nm process and fits on a 0.064 mm<sup>2</sup> die area. The first fabrication is scheduled for June of 2024 as a part of <a href="https://platform.efabless.com/projects/shuttle/23" rel="nofollow">CI 2406 Shuttle</a>.</p>
<p width="100%" dir="auto">
    <a target="_blank" rel="noopener noreferrer" href="https://github.com/rejunity/z80-open-silicon/blob/main/docs/tt07_z80.png"><img width="30%" src="https://github.com/rejunity/z80-open-silicon/raw/main/docs/tt07_z80.png"></a>
</p>
<p dir="auto">The implementation is based around Guy Hutchison's <a href="https://github.com/hutch31/tv80">TV80</a> Verilog core.</p>
<p dir="auto"><a href="https://github.com/rejunity/z80-open-silicon/blob/main/docs/info.md">Read documentation for Tiny Tapeout 07 version</a></p>
<p dir="auto">Below is the image of <a href="https://en.wikipedia.org/wiki/GDSII" rel="nofollow">GDSII</a> integrated circuit layout for FOSS Z80. It is the result of automatic place-and-route flow in <a href="https://openroad.readthedocs.io/en" rel="nofollow">OpenROAD</a> using <a href="https://skywater-pdk.readthedocs.io/en/main/" rel="nofollow">130 nm</a> "gates" logic elements.</p>
<p width="100%" dir="auto">
    <a target="_blank" rel="noopener noreferrer" href="https://github.com/rejunity/z80-open-silicon/blob/main/docs/2x2_tiles.png"><img width="50%" src="https://github.com/rejunity/z80-open-silicon/raw/main/docs/2x2_tiles.png"></a>
</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Further Plan / ToDo</h2><a id="user-content-further-plan--todo" aria-label="Permalink: Further Plan / ToDo" href="#further-plan--todo"></a></p>
<ul dir="auto">
<li>Add thorough instruction (including 'illegal') execution tests <a href="https://mdfs.net/Software/Z80/Exerciser/" rel="nofollow">ZEXALL</a> to testbench</li>
<li>Compare different implementations: Verilog core <a href="https://github.com/gdevic/A-Z80">A-Z80</a>, Netlist based <a href="https://github.com/gdevic/Z80Explorer">Z80Explorer</a></li>
<li>Tapeout with ChipIgnite in QFN44 package</li>
<li>Tapeout with DIP40 package</li>
<li>Create gate-level layouts that would resemble the original Z80 layout, see the original <a href="#Z80-Die-shots">chip dies</a> below. Zilog designed Z80 by manually placing each transistor by hand.</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Z80</h2><a id="user-content-z80" aria-label="Permalink: Z80" href="#z80"></a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Pinout</h2><a id="user-content-pinout" aria-label="Permalink: Pinout" href="#pinout"></a></p>
<div data-snippet-clipboard-copy-content="                   ,---------.__,---------.
         <--   A11 |1                   40| A10    -->       
         <--   A12 |2                   39| A9     -->        
         <--   A13 |3       Z80 CPU     38| A8     -->        
         <--   A14 |4                   37| A7     -->        
         <--   A15 |5                   36| A6     -->
         -->   CLK |6                   35| A5     -->
         <->    D4 |7                   34| A4     -->
         <->    D3 |8                   33| A3     -->            
         <->    D5 |9                   32| A2     -->            
         <->    D6 |10                  31| A1     -->            
               VCC |11                  30| A0     -->           
         <->    D2 |12                  29| GND           
         <->    D7 |13                  28| /RFSH  -->          
         <->    D0 |14                  27| /M1    -->           
         <->    D1 |15                  26| /RESET <--      
         -->  /INT |16                  25| /BUSRQ <--      
         -->  /NMI |17                  24| /WAIT  <--      
         <-- /HALT |18                  23| /BUSAK -->     
         <-- /MREQ |19                  22| /WR    -->       
         <-- /IORQ |20                  21| /RD    -->       
                   `----------------------'"><pre><code>                   ,---------.__,---------.
         &lt;--   A11 |1                   40| A10    --&gt;       
         &lt;--   A12 |2                   39| A9     --&gt;        
         &lt;--   A13 |3       Z80 CPU     38| A8     --&gt;        
         &lt;--   A14 |4                   37| A7     --&gt;        
         &lt;--   A15 |5                   36| A6     --&gt;
         --&gt;   CLK |6                   35| A5     --&gt;
         &lt;-&gt;    D4 |7                   34| A4     --&gt;
         &lt;-&gt;    D3 |8                   33| A3     --&gt;            
         &lt;-&gt;    D5 |9                   32| A2     --&gt;            
         &lt;-&gt;    D6 |10                  31| A1     --&gt;            
               VCC |11                  30| A0     --&gt;           
         &lt;-&gt;    D2 |12                  29| GND           
         &lt;-&gt;    D7 |13                  28| /RFSH  --&gt;          
         &lt;-&gt;    D0 |14                  27| /M1    --&gt;           
         &lt;-&gt;    D1 |15                  26| /RESET &lt;--      
         --&gt;  /INT |16                  25| /BUSRQ &lt;--      
         --&gt;  /NMI |17                  24| /WAIT  &lt;--      
         &lt;-- /HALT |18                  23| /BUSAK --&gt;     
         &lt;-- /MREQ |19                  22| /WR    --&gt;       
         &lt;-- /IORQ |20                  21| /RD    --&gt;       
                   `----------------------'
</code></pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">Documentation</h2><a id="user-content-documentation" aria-label="Permalink: Documentation" href="#documentation"></a></p>
<ul dir="auto">
<li><a href="https://baltazarstudios.com/webshare/A-Z80/Z80_CPU_Users_Manual_2004.pdf" rel="nofollow">Z80 Users Manual</a></li>
<li><a href="https://baltazarstudios.com/webshare/A-Z80/z80-mostek.pdf" rel="nofollow">Z80 Users Manual from Mostek</a></li>
<li><a href="http://cini.classiccmp.org//pdf/Zilog/Zilog%20Data%20Book.PDF" rel="nofollow">Zilog Data Book</a></li>
<li><a href="http://www.z80.info/" rel="nofollow">All the information about Z80</a></li>
<li><a href="https://baltazarstudios.com/webshare/A-Z80/z80-documented-v0.91.pdf" rel="nofollow">Undocumented instructions</a></li>
<li><a href="https://baltazarstudios.com/webshare/A-Z80/Z80-Opcode-Tables.pdf" rel="nofollow">Opcode table</a> and <a href="https://baltazarstudios.com/webshare/A-Z80/Z80-Instruction-List-with-T-states.pdf" rel="nofollow">timing</a></li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Oral History of the Development of the Z80</h2><a id="user-content-oral-history-of-the-development-of-the-z80" aria-label="Permalink: Oral History of the Development of the Z80" href="#oral-history-of-the-development-of-the-z80"></a></p>
<p dir="auto"><a href="http://archive.computerhistory.org/resources/text/Oral_History/Zilog_Z80/102658073.05.01.pdf" rel="nofollow">Oral History Panel on the Founding of the Company and the Development of the Z80 Microprocessor</a></p>
<p dir="auto"><a href="https://baltazarstudios.com/webshare/A-Z80/Library/Demystifying%20Microprocessor%20Design%20-%20M.%20Shima.pdf" rel="nofollow">M. Shima on Demystifying Microprocessor Design</a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Z80 Patents</h2><a id="user-content-z80-patents" aria-label="Permalink: Z80 Patents" href="#z80-patents"></a></p>
<ul dir="auto">
<li><strong>(expired)</strong> Patent <a href="https://patents.google.com/patent/US4605980" rel="nofollow">US4605980</a> -- input voltage spike protection</li>
<li><strong>(expired)</strong> Patent <a href="https://patents.google.com/patent/US4332008A" rel="nofollow">US4332008A</a> -- ???</li>
<li><strong>(expired)</strong> Patent <a href="https://patents.google.com/patent/US4486827A" rel="nofollow">US4486827A</a> -- reset circuitry</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Z80 Die shots</h2><a id="user-content-z80-die-shots" aria-label="Permalink: Z80 Die shots" href="#z80-die-shots"></a></p>
<ul dir="auto">
<li><a href="https://downloads.reactivemicro.com/Electronics/Reverse%20Engineering/6502%20-%20Guideline%20to%20Reverse%20Engineering%20v1.0.pdf" rel="nofollow">How to "read" die shots</a></li>
<li>nMOS variant <a href="https://siliconpr0n.org/map/zilog/z8400aps-z80acpu/bercovici_mz/" rel="nofollow">Z8400 with 'Zilog 75'</a> marking and <a href="https://siliconpr0n.org/map/zilog/z0840008/marmontel_mz_ms20x/" rel="nofollow">Zilog Z8400 with 'DC'</a> letter marking</li>
<li>CMOS variants <a href="http://visual6502.org/images/pages/Zilog_Z84C00_die_shots.html" rel="nofollow">Zilog Z84C00</a> and its <a href="https://siliconpr0n.org/map/zilog/z84c0008fec/marmontel_mz_ms20x/" rel="nofollow">8MHz version</a></li>
<li>Nintendo Z80 variant from Super Game Boy <a href="https://siliconpr0n.org/map/nintendo/sgb-cpu-01/mcmaster_mz_mit20x/" rel="nofollow">SGB-CPU 01</a> produced in 1994</li>
<li>Sean Riddle's image of Mostek MK3880 clone <a href="https://happytrees.org/dieshots/Mostek_-_MK3880_(top_metal_removed)#/media/File:Mostek_MK3880_top_metal_removed.jpg" rel="nofollow">metal layer removed</a></li>
<li>Pauli Rautakorpi's images of Z80 clones: <a href="https://commons.wikimedia.org/wiki/User:Birdman86#/media/File:NS_NSC800_die.jpg" rel="nofollow">National Semiconductor NSC800</a>, <a href="https://commons.wikimedia.org/wiki/User:Birdman86#/media/File:Mostek_MK3880_die.jpg" rel="nofollow">Mostek MK3880</a>, <a href="https://commons.wikimedia.org/wiki/User:Birdman86#/media/File:MME_80A-CPU_die.JPG" rel="nofollow">MME9201 with 'U880/5'</a> markings</li>
<li>Zeptobar’s images of <a href="https://zeptobars.com/en/read/Zilog-Z80-Z0840004PSC" rel="nofollow">Zilog Z0840004PSC</a> from 1990, <a href="https://happytrees.org/dieshots/Soviet_-_KR1858VM3#/media/File:KR1858VM3-HD.jpg" rel="nofollow">Soviet KR1858VM3</a> with an uncommon layout, <a href="https://zeptobars.com/en/read/Zilog-Z80-Z80A" rel="nofollow">MME Z80A</a> a clone on a 5um technology larger than the original Zilog chip, <a href="https://zeptobars.com/en/read/KR1858VM1-Z80-MME-Angstrem" rel="nofollow">Soviet KR1858VM1</a> a clone of U880/6 which is in turn a clone of Z80, <a href="https://zeptobars.com/en/read/t34vm1-z80-angstrem-mme" rel="nofollow">Soviet T34VM1</a> based on U880/5</li>
</ul>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/e912e3f3eefbc46d3dd90060eaabd7252eec8a3d5fc78424e6b907ae6f7eb394/687474703a2f2f76697375616c363530322e6f72672f696d616765732f5a38344330302f5a38344330305f6469655f73686f745f3230785f31625f31363030772e6a7067"><img src="https://camo.githubusercontent.com/e912e3f3eefbc46d3dd90060eaabd7252eec8a3d5fc78424e6b907ae6f7eb394/687474703a2f2f76697375616c363530322e6f72672f696d616765732f5a38344330302f5a38344330305f6469655f73686f745f3230785f31625f31363030772e6a7067" alt="" data-canonical-src="http://visual6502.org/images/Z84C00/Z84C00_die_shot_20x_1b_1600w.jpg"></a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Z80 Reverse Engineering</h2><a id="user-content-z80-reverse-engineering" aria-label="Permalink: Z80 Reverse Engineering" href="#z80-reverse-engineering"></a></p>
<ul dir="auto">
<li><a href="https://baltazarstudios.com/z80-instruction-register-deciphered/" rel="nofollow">Z80 Instruction Register deciphered</a></li>
<li><a href="https://baltazarstudios.com/anatomy-z80-gate/" rel="nofollow">Z80 Tri-stated Data &amp; Address bus gates</a></li>
<li><a href="https://baltazarstudios.com/zilog-z80-undocumented-behavior/" rel="nofollow">Z80 (un)documented behavior</a></li>
<li><a href="http://static.righto.com/files/z80-pla-table.html" rel="nofollow">The instruction decode PLA in the Z80 microprocessor</a></li>
<li><a href="http://www.righto.com/2014/09/why-z-80s-data-pins-are-scrambled.html" rel="nofollow">Why the Z-80's data pins are scrambled</a></li>
<li><a href="http://www.righto.com/2014/10/how-z80s-registers-are-implemented-down.html" rel="nofollow">How the Z80's registers are implemented</a></li>
<li><a href="http://www.righto.com/2013/11/the-z-80s-16-bit-incrementdecrement.html" rel="nofollow">The Z-80's 16-bit increment/decrement circuit reverse engineered</a></li>
<li><a href="http://www.righto.com/2013/09/the-z-80-has-4-bit-alu-heres-how-it.html" rel="nofollow">The Z-80 has a 4-bit ALU</a></li>
<li><a href="http://www.righto.com/2013/09/understanding-z-80-processor-one-gate.html" rel="nofollow">XOR, the silicon for two interesting gates explained</a></li>
<li><a href="https://baltazarstudios.com/webshare/A-Z80/memptr_eng.txt" rel="nofollow">WZ aka MEMPTR, esoteric register of the Z80</a></li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Existing Z80 implementations</h2><a id="user-content-existing-z80-implementations" aria-label="Permalink: Existing Z80 implementations" href="#existing-z80-implementations"></a></p>
<ul dir="auto">
<li>TV80 in Verilog <a href="https://github.com/hutch31/tv80">https://github.com/hutch31/tv80</a></li>
<li>TV80 in Verilog <a href="https://github.com/Obijuan/Z80-FPGA">https://github.com/Obijuan/Z80-FPGA</a></li>
<li>A-Z80 in Verilog <a href="https://github.com/gdevic/A-Z80">https://github.com/gdevic/A-Z80</a> its <a href="https://baltazarstudios.com/z80-ground/" rel="nofollow">overview</a> and <a href="https://baltazarstudios.com/z80-cpu/" rel="nofollow">details</a></li>
<li>Z80 net-list level emulator <a href="https://github.com/gdevic/Z80Explorer">https://github.com/gdevic/Z80Explorer</a> and its <a href="https://baltazarstudios.com/z80explorer/" rel="nofollow">overview</a> and <a href="https://gdevic.github.io/Z80Explorer/" rel="nofollow">Users Guide</a></li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">What is Tiny Tapeout?</h2><a id="user-content-what-is-tiny-tapeout" aria-label="Permalink: What is Tiny Tapeout?" href="#what-is-tiny-tapeout"></a></p>
<p dir="auto">Tiny Tapeout is an educational project that aims to make it easier and cheaper than ever to get your digital designs manufactured on a real chip.</p>
<p dir="auto">To learn more and get started, visit <a href="https://tinytapeout.com/" rel="nofollow">https://tinytapeout.com</a>.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Resources</h2><a id="user-content-resources" aria-label="Permalink: Resources" href="#resources"></a></p>
<ul dir="auto">
<li><a href="https://tinytapeout.com/faq/" rel="nofollow">FAQ</a></li>
<li><a href="https://tinytapeout.com/digital_design/" rel="nofollow">Digital design lessons</a></li>
<li><a href="https://tinytapeout.com/siliwiz/" rel="nofollow">Learn how semiconductors work</a></li>
<li><a href="https://tinytapeout.com/discord" rel="nofollow">Join the community</a></li>
<li><a href="https://docs.google.com/document/d/1aUUZ1jthRpg4QURIIyzlOaPWlmQzr-jBn3wZipVUPt4" rel="nofollow">Build your design locally</a></li>
</ul>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Jimmy Carter UFO Incident (114 pts)]]></title>
            <link>https://en.wikipedia.org/wiki/Jimmy_Carter_UFO_incident</link>
            <guid>40187390</guid>
            <pubDate>Sun, 28 Apr 2024 10:01:28 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://en.wikipedia.org/wiki/Jimmy_Carter_UFO_incident">https://en.wikipedia.org/wiki/Jimmy_Carter_UFO_incident</a>, See on <a href="https://news.ycombinator.com/item?id=40187390">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
							

						<p>From Wikipedia, the free encyclopedia</p>
					</div><div lang="en" dir="ltr" id="mw-content-text">

<p><a href="https://en.wikipedia.org/wiki/Jimmy_Carter" title="Jimmy Carter">Jimmy Carter</a>, <a href="https://en.wikipedia.org/wiki/President_of_the_United_States" title="President of the United States">United States president</a> from 1977 until 1981, reported seeing an <a href="https://en.wikipedia.org/wiki/Unidentified_flying_object" title="Unidentified flying object">unidentified flying object</a> while at <a href="https://en.wikipedia.org/wiki/Leary,_Georgia" title="Leary, Georgia">Leary, Georgia</a>, in 1969.
While serving as <a href="https://en.wikipedia.org/wiki/List_of_Governors_of_Georgia" title="List of Governors of Georgia">governor of Georgia</a>, Carter was asked (on September 14, 1973) by the International UFO Bureau in <a href="https://en.wikipedia.org/wiki/Oklahoma_City" title="Oklahoma City">Oklahoma City</a> to file a report of the sighting, and he filed a statement on September 18, mailed September 20.<sup id="cite_ref-carter1_1-0"><a href="#cite_note-carter1-1">[1]</a></sup> Since its writing, the report has been discussed several times by both <a href="https://en.wikipedia.org/wiki/Ufologist" title="Ufologist">ufologists</a> and by members of the <a href="https://en.wikipedia.org/wiki/Mainstream_media" title="Mainstream media">mainstream media</a>.<sup id="cite_ref-2"><a href="#cite_note-2">[2]</a></sup><sup id="cite_ref-hylton1_3-0"><a href="#cite_note-hylton1-3">[3]</a></sup>
</p>
<meta property="mw:PageProp/toc">
<h2><span id="Sighting">Sighting</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Jimmy_Carter_UFO_incident&amp;action=edit&amp;section=1" title="Edit section: Sighting"><span>edit</span></a><span>]</span></span></h2>
<p>One evening in 1969, two years before he became Governor of Georgia, Carter was preparing to give a speech at a <a href="https://en.wikipedia.org/wiki/Lions_Clubs_International" title="Lions Clubs International">Lions Club</a> meeting. He reported that at about 7:15 pm, one of the guests called his attention to a strange bright white object, about as bright as the moon, that was about 30 degrees above the horizon to the west of where they were standing. It moved toward their direction, but stopped beyond a stand of pine trees some distance from them. The object then changed color, first to blue, then to red, then back to white, before appearing to recede into the distance.
</p><p>Carter felt that the object was self-illuminated, and not solid in nature. Carter's report indicates that it was witnessed by about 10 or 12 other people, and was in view for 10 to 12 minutes before it passed out of sight.<sup id="cite_ref-carter1_1-1"><a href="#cite_note-carter1-1">[1]</a></sup><sup id="cite_ref-hylton1_3-1"><a href="#cite_note-hylton1-3">[3]</a></sup>
</p><p>In 1973, Carter reiterated:
</p>
<blockquote><p>There were about twenty of us standing outside of a little restaurant, I believe, a high school lunch room, and a kind of green light appeared in the western sky. This was right after sundown. It got brighter and brighter. And then it eventually disappeared. It didn't have any solid substance to it, it was just a very peculiar-looking light. None of us could understand what it was.<sup id="cite_ref-4"><a href="#cite_note-4">[4]</a></sup></p></blockquote>
<p>Speaking in a 2005 interview, Carter said:
</p>
<blockquote><p>All of a sudden, one of the men looked up and said, 'Look, over in the west!' And there was a bright light in the sky. We all saw it. And then the light, it got closer and closer to us. And then it stopped, I don't know how far away, but it stopped beyond the pine trees. And all of a sudden it changed color to blue, and then it changed to red, then back to white. And we were trying to figure out what in the world it could be, and then it receded into the distance.<sup id="cite_ref-hylton1_3-2"><a href="#cite_note-hylton1-3">[3]</a></sup></p></blockquote>
<h3><span id="Date">Date</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Jimmy_Carter_UFO_incident&amp;action=edit&amp;section=2" title="Edit section: Date"><span>edit</span></a><span>]</span></span></h3>
<p>The exact date on which the sighting occurred has been called into question by investigators. According to the report that he filed with the International UFO Bureau four years after the incident, Carter saw the UFO in October 1969. However, investigators have cited Lions Club records as evidence that it occurred nine months earlier.<sup id="cite_ref-auto_5-0"><a href="#cite_note-auto-5">[5]</a></sup>
</p><p>According to a meeting report that he filed with the Lions Club, Carter gave his Leary speech on January 6, 1969, not in October. The setting of his January meeting as described in his report to the Lions Club also matches the setting that he would later describe to the media when speaking about his sighting. His report to the Lions Club made no mention of the sighting itself.<sup id="cite_ref-auto_5-1"><a href="#cite_note-auto-5">[5]</a></sup>
</p><p>Other evidence rules out the October 1969 date and is consistent with January 1969. First, Carter visited the Leary Lions Club in his capacity as district governor of the Lions Club. His term ended in June 1969. Second, the Leary Lions Club disbanded several months before October 1969.<sup id="cite_ref-auto_5-2"><a href="#cite_note-auto-5">[5]</a></sup>
</p>
<h2><span id="Object_and_investigation">Object and investigation</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Jimmy_Carter_UFO_incident&amp;action=edit&amp;section=3" title="Edit section: Object and investigation"><span>edit</span></a><span>]</span></span></h2>
<p>According to an investigation<sup>[<i><a href="https://en.wikipedia.org/wiki/Wikipedia:Manual_of_Style/Words_to_watch#Unsupported_attributions" title="Wikipedia:Manual of Style/Words to watch"><span title="The material near this tag may use weasel words or too-vague attribution. (October 2021)">by whom?</span></a></i>]</sup> carried out in 1976, some seven years after the event, most of those present at the meeting either did not recall the event, or did not recall it as being anything important. According to Fred Hart, the only guest contacted who remembered seeing the object: "It seems like there was a little—like a blue light or something or other in the sky that night—like some kind of weather balloon they send out or something ... it had been pretty far back in my mind."<sup id="cite_ref-6"><a href="#cite_note-6">[6]</a></sup>
</p><p>While puzzled by the object and its origins, Carter himself later said that, while he had considered the object to be a UFO—on the grounds it was unexplained—his knowledge of <a href="https://en.wikipedia.org/wiki/Physics" title="Physics">physics</a> had meant he had not believed himself to be witnessing an <a href="https://en.wikipedia.org/wiki/Extraterrestrial_life" title="Extraterrestrial life">alien</a> <a href="https://en.wikipedia.org/wiki/Spacecraft" title="Spacecraft">spacecraft</a>.<sup id="cite_ref-hylton1_3-3"><a href="#cite_note-hylton1-3">[3]</a></sup>
</p><p>On January 6, 1969, the sky was clear in Leary and the planet <a href="https://en.wikipedia.org/wiki/Venus" title="Venus">Venus</a> was near its maximum brightness and in the direction described by Carter. Ufologist <a href="https://en.wikipedia.org/wiki/Robert_Sheaffer" title="Robert Sheaffer">Robert Sheaffer</a> concluded that the object that Carter witnessed was a misidentification of Venus<sup id="cite_ref-Harwood1_7-0"><a href="#cite_note-Harwood1-7">[7]</a></sup><sup>[<i><a href="https://en.wikipedia.org/wiki/Wikipedia:Verifiability#Self-published_sources" title="Wikipedia:Verifiability"><span title="The material near this tag may rely on a self-published source. (December 2017)">self-published source</span></a></i>]</sup><sup id="cite_ref-8"><a href="#cite_note-8">[8]</a></sup> Ufologist <a href="https://en.wikipedia.org/wiki/Allan_Hendry" title="Allan Hendry">Allan Hendry</a> did calculations and agrees with the assessment of it being Venus.<sup id="cite_ref-9"><a href="#cite_note-9">[9]</a></sup> This could also be the Venus "Halo",<sup id="cite_ref-10"><a href="#cite_note-10">[10]</a></sup> as was discussed on <i><a href="https://en.wikipedia.org/wiki/The_Skeptics%27_Guide_to_the_Universe" title="The Skeptics' Guide to the Universe">The Skeptics' Guide to the Universe</a></i> podcast #105<sup id="cite_ref-11"><a href="#cite_note-11">[11]</a></sup> in a 2007 interview with Jimmy Carter. In the interview Carter stated that he did not believe the object was Venus, explaining that he was an amateur astronomer and knew what Venus looked like. He also said that as a scientist he did not believe it was an alien craft and at the time assumed it was probably a military aircraft from a nearby base. However, he said that the object did not make any sound like a helicopter would do. Carter also said that he did not believe that any extraterrestrials have visited Earth. In the podcast interview, he also stated he knows of no government cover-up of extraterrestrial visits and that the rumors that the CIA refused to give him information about UFOs are not true.
</p><p>In 2016, the hosts of episode #561 of <i>The Skeptics' Guide to the Universe</i> podcast read a letter forwarded by a member of the Carter family from Carl G. "Jere" Justus, giving his explanation of Carter's UFO sighting:<sup id="cite_ref-:0_12-0"><a href="#cite_note-:0-12">[12]</a></sup>
</p>
<blockquote><p>After recently reading the book <i>Georgia Myths &amp; Legends</i>, by Augusta Chronicle columnist Don Rhodes, specifically Chapter 5, "Jimmy Carter and the UFO", I am virtually certain that I have identified the source of what it was that President Carter saw. In the 1960s and early 70s, I worked on an Air Force sponsored project that studied the upper atmosphere using releases of glowing chemical clouds, produced by rockets launched from Eglin AFB rocket range in Florida. Some of these chemical clouds, notably sodium and barium, were visible by the process of resonance scattering of sunlight. Clouds of this type had to be launched not long after sunset or not long before sunrise. This was due to the fact that the cloud had to be in sunlight at high altitude, while it was still dark enough at ground level for the cloud to be visible against the dark sky. In Carter's official 1973 UFO report, as given in the Rhodes book, he stated that he had seen the phenomenon in October, 1969, at 7:15 pm EST. However, it has been determined from Lions Club records that Carter must have seen the "UFO" when he spoke to their Leary, GA Chapter on January 6, 1969. The report "U.S. Space Science Program Report to COSPAR, 1970" (QB504.U54, Appendix I, page 154) documents that there was a barium cloud launched from Eglin AFB (Rocket Number AG7.626) and released on January 6, 1969 at 7:35 pm EST (January 7, 1969, 0035 UTC) [COSPAR stands for Committee on Space Research]. The reported altitude for this cloud was 152 km. With a distance between Leary, GA and Eglin AFB, FL of about 234 km, this cloud would have appeared in the sky at an elevation of 33 degrees (consistent with Carter's estimate of a 30 degree elevation). Carter's report notes that stars were visible, so the night must have been clear. I can verify from personal experience that under clear skies, a barium cloud such as this would easily have been visible from the distance of Leary, GA. Carter reported the UFO "appeared from West". The direction of Eglin AFB from Leary, GA is approximately WSW. Thus this barium cloud at Eglin is consistent with Carter's reported "UFO" as to time, elevation, <i>and</i> direction. Furthermore, the appearance reported by Carter is totally consistent with a high-altitude barium cloud. His report stated that it was "bluish at first, then reddish, luminous, not solid". A neutral barium cloud would initially glow bluish or greenish, with parts of it taking on a reddish glow as some of the barium becomes ionized in the high altitude sunlight. The size and brightness, reported as being about that of the moon, would also be consistent with a barium cloud at Eglin, as viewed from Leary, GA. Carter has been reported as saying that he never believed that he had seen an alien spacecraft, but that he had no idea exactly what it was. I'm interested in exploring if this information could be relayed to President Carter, so that if he wishes to, he can better understand what it was that he saw back then.<sup id="cite_ref-:0_12-1"><a href="#cite_note-:0-12">[12]</a></sup></p></blockquote>
<p>In 2020, Justus completed an extensive study of the high-altitude barium release clouds, concluding that what Carter saw was "totally consistent" with what was launched that evening from <a href="https://en.wikipedia.org/wiki/Eglin_Air_Force_Base" title="Eglin Air Force Base">Eglin AFB</a>.<sup id="cite_ref-13"><a href="#cite_note-13">[13]</a></sup> Justus described several physical aspects supporting consistency, and submitted a copy of the report for archival at the Jimmy Carter Library.
</p>
<h2><span id="Personal_impact">Personal impact</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Jimmy_Carter_UFO_incident&amp;action=edit&amp;section=4" title="Edit section: Personal impact"><span>edit</span></a><span>]</span></span></h2>
<p>The sighting is said to have had a personal impact on Carter and his perception of UFOs and UFO sightings. During his 1976 election campaign, he is said to have told reporters that, as a result of it, he would institute a policy of openness if he were elected to office, saying:
</p>
<blockquote><p>One thing's for sure, I'll never make fun of people who say they've seen unidentified objects in the sky. If I become President, I'll make every piece of information this country has about UFO sightings available to the public and the scientists.<sup id="cite_ref-goodman1_14-0"><a href="#cite_note-goodman1-14">[14]</a></sup></p></blockquote>
<p>Despite his earlier pledge, once elected, Carter distanced himself from disclosure, citing "defense implications" as being behind his decision.<sup id="cite_ref-history1_15-0"><a href="#cite_note-history1-15">[15]</a></sup>
</p>
<h2><span id="1970s_media_reports">1970s media reports</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Jimmy_Carter_UFO_incident&amp;action=edit&amp;section=5" title="Edit section: 1970s media reports"><span>edit</span></a><span>]</span></span></h2>
<ul><li>"Carter Once Saw a UFO on 'Very Sober Occasion<span>'</span>", by Howell Raines, <i>Atlanta Constitution</i>, Sept. 14, 1973, p.&nbsp;1D</li>
<li>Carter's story appeared in the June 8, 1976 issue of <i><a href="https://en.wikipedia.org/wiki/The_National_Enquirer" title="The National Enquirer">The National Enquirer</a></i>. This account contained a number of errors, including incorrectly stating that the event occurred in Thomaston, Georgia in 1973, and that sighting was after the club meeting.<sup id="cite_ref-16"><a href="#cite_note-16">[16]</a></sup></li>
<li>Hayden Hughs of International UFO Bureau wrote an article that appeared in the November 1976 issue of <i>Argosy UFO</i> (a spin-off of <a href="https://en.wikipedia.org/wiki/Argosy_(magazine)" title="Argosy (magazine)"><i>Argosy</i></a>).</li>
<li>In February 1977, <a href="https://en.wikipedia.org/wiki/National_Investigations_Committee_On_Aerial_Phenomena" title="National Investigations Committee On Aerial Phenomena">NICAP</a> republished Carter's original report in <i>UFO Investigator</i>, but altered his handwritten report to make it appear that it had been submitted directly to NICAP as a typed document.<sup id="cite_ref-sheafer1_17-0"><a href="#cite_note-sheafer1-17">[17]</a></sup><sup id="cite_ref-18"><a href="#cite_note-18">[18]</a></sup></li>
<li>The April 30, 1977 edition of <i><a href="https://en.wikipedia.org/wiki/The_Washington_Post" title="The Washington Post">The Washington Post</a></i> ran the story on the front page, incorrectly giving the date as 1973. The identification of the UFO as Venus ran in a small item in the May 9, 1977 issue.<sup id="cite_ref-19"><a href="#cite_note-19">[19]</a></sup></li>
<li><a rel="nofollow" href="http://www.debunker.com/texts/carter_ufo.html">"President Carter's 'UFO' Is Identified as the Planet Venus"</a>, by Robert Sheaffer, <i>Humanist</i> magazine, July–August, 1977, p.&nbsp;46</li>
<li>"Learyites leery of Carter's encounter: No one recalls 1970 UFO spotting", by Tom Tiede, <i>Mt. Pleasant Daily Tribune</i> (Texas), Feb. 2, 1978</li></ul>
<h2><span id="See_also">See also</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Jimmy_Carter_UFO_incident&amp;action=edit&amp;section=6" title="Edit section: See also"><span>edit</span></a><span>]</span></span></h2>
<ul><li><a href="https://en.wikipedia.org/wiki/Jimmy_Carter_rabbit_incident" title="Jimmy Carter rabbit incident">Jimmy Carter rabbit incident</a></li>
<li><a href="https://en.wikipedia.org/wiki/List_of_reported_UFO_sightings" title="List of reported UFO sightings">List of reported UFO sightings</a></li>
<li><a href="https://en.wikipedia.org/wiki/UFO_sightings_in_the_United_States" title="UFO sightings in the United States">UFO sightings in the United States</a></li></ul>
<h2><span id="References">References</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Jimmy_Carter_UFO_incident&amp;action=edit&amp;section=7" title="Edit section: References"><span>edit</span></a><span>]</span></span></h2>
<h3><span id="Citations">Citations</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Jimmy_Carter_UFO_incident&amp;action=edit&amp;section=8" title="Edit section: Citations"><span>edit</span></a><span>]</span></span></h3>
<div>
<ol>
<li id="cite_note-carter1-1"><span>^ <a href="#cite_ref-carter1_1-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-carter1_1-1"><sup><i><b>b</b></i></sup></a></span> <span>Carter, Jimmy (1969) <a rel="nofollow" href="http://www.nicap.org/waves/CarterSightingRptOct1969.pdf">Report to the International UFO Bureau in Oklahoma City</a> (PDF)</span>
</li>
<li id="cite_note-2"><span><b><a href="#cite_ref-2">^</a></b></span> <span><a rel="nofollow" href="http://www.straightdope.com/classics/a1_048.html">Did Jimmy Carter really see a UFO?</a>, <a href="https://en.wikipedia.org/wiki/The_Straight_Dope" title="The Straight Dope">The Straight Dope</a></span>
</li>
<li id="cite_note-hylton1-3"><span>^ <a href="#cite_ref-hylton1_3-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-hylton1_3-1"><sup><i><b>b</b></i></sup></a> <a href="#cite_ref-hylton1_3-2"><sup><i><b>c</b></i></sup></a> <a href="#cite_ref-hylton1_3-3"><sup><i><b>d</b></i></sup></a></span> <span><a href="https://en.wikipedia.org/wiki/Wil_S._Hylton" title="Wil S. Hylton">Wil S. Hylton</a>, (2005) <a rel="nofollow" href="https://www.gq.com/news-politics/newsmakers/200512/jimmy-carter-ted-kennedy-ufo-republicans">"The Gospel According to Jimmy"</a>, <a href="https://en.wikipedia.org/wiki/GQ_(magazine)" title="GQ (magazine)">GQ</a></span>
</li>
<li id="cite_note-4"><span><b><a href="#cite_ref-4">^</a></b></span> <span>(<a href="#CITEREFSheaffer1998">Sheaffer 1998</a>:20–21)</span>
</li>
<li id="cite_note-auto-5"><span>^ <a href="#cite_ref-auto_5-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-auto_5-1"><sup><i><b>b</b></i></sup></a> <a href="#cite_ref-auto_5-2"><sup><i><b>c</b></i></sup></a></span> <span>(<a href="#CITEREFSheaffer1998">Sheaffer 1998</a>:18–28)</span>
</li>
<li id="cite_note-6"><span><b><a href="#cite_ref-6">^</a></b></span> <span>(<a href="#CITEREFSheaffer1998">Sheaffer 1998</a>:21–22)</span>
</li>
<li id="cite_note-Harwood1-7"><span><b><a href="#cite_ref-Harwood1_7-0">^</a></b></span> <span>Harwood, William R (2002) "The Disinformation Cycle: Hoaxes, Delusions, Security Beliefs, and Compulsory Mediocrity" Xlibris Corporation <a href="https://en.wikipedia.org/wiki/ISBN_(identifier)" title="ISBN (identifier)">ISBN</a>&nbsp;<a href="https://en.wikipedia.org/wiki/Special:BookSources/1-4010-4354-2" title="Special:BookSources/1-4010-4354-2">1-4010-4354-2</a></span>
</li>
<li id="cite_note-8"><span><b><a href="#cite_ref-8">^</a></b></span> <span>(<a href="#CITEREFPeebles1994">Peebles 1994</a>:205)</span>
</li>
<li id="cite_note-9"><span><b><a href="#cite_ref-9">^</a></b></span> <span>(<a href="#CITEREFMiles2006">Miles 2006</a>:50–52)</span>
</li>
<li id="cite_note-10"><span><b><a href="#cite_ref-10">^</a></b></span> <span><cite><a rel="nofollow" href="https://web.archive.org/web/20070707141640/http://www.clearskies.se/Venus%20halo%20&amp;%20Earthshine.htm">"Venus halo &amp; Earthshine"</a>. <i>www.clearskies.se</i>. Archived from <a rel="nofollow" href="http://www.clearskies.se/Venus%20halo%20&amp;%20Earthshine.htm">the original</a> on 2007-07-07.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=unknown&amp;rft.jtitle=www.clearskies.se&amp;rft.atitle=Venus+halo+%26+Earthshine&amp;rft_id=http%3A%2F%2Fwww.clearskies.se%2FVenus%2520halo%2520%26%2520Earthshine.htm&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AJimmy+Carter+UFO+incident"></span> </span>
</li>
<li id="cite_note-11"><span><b><a href="#cite_ref-11">^</a></b></span> <span><cite><a rel="nofollow" href="https://web.archive.org/web/20070908230001/http://www.theskepticsguide.org/skepticsguide/podcastinfo.asp?pid=105">"The Skeptics Guide – Skepticast #105: 7/25/2007"</a>. Archived from <a rel="nofollow" href="http://www.theskepticsguide.org/skepticsguide/podcastinfo.asp?pid=105">the original</a> on September 8, 2007.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=The+Skeptics+Guide+%E2%80%93+Skepticast+%23105%3A+7%2F25%2F2007&amp;rft_id=http%3A%2F%2Fwww.theskepticsguide.org%2Fskepticsguide%2Fpodcastinfo.asp%3Fpid%3D105&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AJimmy+Carter+UFO+incident"></span></span>
</li>
<li id="cite_note-:0-12"><span>^ <a href="#cite_ref-:0_12-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-:0_12-1"><sup><i><b>b</b></i></sup></a></span> <span><cite><a rel="nofollow" href="http://www.theskepticsguide.org/podcast/sgu/561">"The Skeptics' Guide to the Universe - Skepticast #561: 04/09/2016"</a>. 9 April 2016<span>. Retrieved <span>2016-08-15</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=The+Skeptics%27+Guide+to+the+Universe+-+Skepticast+%23561%3A+04%2F09%2F2016&amp;rft.date=2016-04-09&amp;rft_id=http%3A%2F%2Fwww.theskepticsguide.org%2Fpodcast%2Fsgu%2F561&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AJimmy+Carter+UFO+incident"></span></span>
</li>
<li id="cite_note-13"><span><b><a href="#cite_ref-13">^</a></b></span> <span><cite id="CITEREFJustus2020">Justus, Carl (2020). <a rel="nofollow" href="https://doi.org/10.6084/m9.figshare.12625238.v1">"What Jimmy Carter Saw.PDF"</a>. <a href="https://en.wikipedia.org/wiki/Doi_(identifier)" title="Doi (identifier)">doi</a>:<a rel="nofollow" href="https://doi.org/10.6084%2Fm9.figshare.12625238.v1">10.6084/m9.figshare.12625238.v1</a>. <a rel="nofollow" href="https://web.archive.org/web/20210204043007/https://figshare.com/articles/online_resource/What_Jimmy_Carter_Saw_pdf/12625238/1">Archived</a> from the original on 2021-02-04<span>. Retrieved <span>2020-07-10</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=article&amp;rft.atitle=What+Jimmy+Carter+Saw.PDF&amp;rft.date=2020&amp;rft_id=info%3Adoi%2F10.6084%2Fm9.figshare.12625238.v1&amp;rft.aulast=Justus&amp;rft.aufirst=Carl&amp;rft_id=https%3A%2F%2Fdoi.org%2F10.6084%2Fm9.figshare.12625238.v1&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AJimmy+Carter+UFO+incident"></span> </span>
</li>
<li id="cite_note-goodman1-14"><span><b><a href="#cite_ref-goodman1_14-0">^</a></b></span> <span>Good, Timothy (1989) "Above Top Secret: The Worldwide U.F.O. Cover-Up" Quill, <a href="https://en.wikipedia.org/wiki/ISBN_(identifier)" title="ISBN (identifier)">ISBN</a>&nbsp;<a href="https://en.wikipedia.org/wiki/Special:BookSources/0-688-09202-0" title="Special:BookSources/0-688-09202-0">0-688-09202-0</a></span>
</li>
<li id="cite_note-history1-15"><span><b><a href="#cite_ref-history1_15-0">^</a></b></span> <span>This day in history – "1973: Carter files report on UFO sighting", The History Channel</span>
</li>
<li id="cite_note-16"><span><b><a href="#cite_ref-16">^</a></b></span> <span>(<a href="#CITEREFSheaffer1998">Sheaffer 1998</a>:18–20)</span>
</li>
<li id="cite_note-sheafer1-17"><span><b><a href="#cite_ref-sheafer1_17-0">^</a></b></span> <span>Sheaffer, Robert (1981) "The UFO Verdict: Examining the Evidence", Prometheus Books, <a href="https://en.wikipedia.org/wiki/ISBN_(identifier)" title="ISBN (identifier)">ISBN</a>&nbsp;<a href="https://en.wikipedia.org/wiki/Special:BookSources/0-87975-146-0" title="Special:BookSources/0-87975-146-0">0-87975-146-0</a></span>
</li>
<li id="cite_note-18"><span><b><a href="#cite_ref-18">^</a></b></span> <span>(<a href="#CITEREFStory1980">Story 1980</a>)</span>
</li>
<li id="cite_note-19"><span><b><a href="#cite_ref-19">^</a></b></span> <span>(<a href="#CITEREFHines2003">Hines 2003</a>:299)</span>
</li>
</ol></div>
<h3><span id="Cited_works">Cited works</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Jimmy_Carter_UFO_incident&amp;action=edit&amp;section=9" title="Edit section: Cited works"><span>edit</span></a><span>]</span></span></h3>
<div>
<ul><li><cite id="CITEREFHines2003">Hines, Terence (2003), <i>Pseudoscience and the Paranormal</i> (2nd&nbsp;ed.), <a href="https://en.wikipedia.org/wiki/Prometheus_Books" title="Prometheus Books">Prometheus Books</a>, <a href="https://en.wikipedia.org/wiki/ISBN_(identifier)" title="ISBN (identifier)">ISBN</a>&nbsp;<a href="https://en.wikipedia.org/wiki/Special:BookSources/978-1-57392-979-0" title="Special:BookSources/978-1-57392-979-0"><bdi>978-1-57392-979-0</bdi></a></cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=Pseudoscience+and+the+Paranormal&amp;rft.edition=2nd&amp;rft.pub=Prometheus+Books&amp;rft.date=2003&amp;rft.isbn=978-1-57392-979-0&amp;rft.aulast=Hines&amp;rft.aufirst=Terence&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AJimmy+Carter+UFO+incident"></span></li>
<li><cite id="CITEREFHorvath2003">Horvath, Alex (February 7, 2003). <a rel="nofollow" href="http://www.sfgate.com/cgi-bin/article.cgi?file=/c/a/2003/02/07/NB128511.DTL&amp;type=printable">"Bolinas man's film says we are not alone"</a>. San Francisco Chronicle<span>. Retrieved <span>2007-04-16</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Bolinas+man%27s+film+says+we+are+not+alone&amp;rft.pub=San+Francisco+Chronicle&amp;rft.date=2003-02-07&amp;rft.aulast=Horvath&amp;rft.aufirst=Alex&amp;rft_id=http%3A%2F%2Fwww.sfgate.com%2Fcgi-bin%2Farticle.cgi%3Ffile%3D%2Fc%2Fa%2F2003%2F02%2F07%2FNB128511.DTL%26type%3Dprintable&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AJimmy+Carter+UFO+incident"></span></li>
<li><cite id="CITEREFMartin1999">Martin, Robert Scott (October 15, 1999). <a rel="nofollow" href="https://web.archive.org/web/20040616232501/http://space.com/sciencefiction/phenomena/celebrity_ufo_991015.html">"Celebrities Have Close Encounters, Too"</a>. Space.com. Archived from <a rel="nofollow" href="https://www.space.com/sciencefiction/phenomena/celebrity_ufo_991015.html">the original</a> on June 16, 2004<span>. Retrieved <span>2004-04-16</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Celebrities+Have+Close+Encounters%2C+Too&amp;rft.pub=Space.com&amp;rft.date=1999-10-15&amp;rft.aulast=Martin&amp;rft.aufirst=Robert+Scott&amp;rft_id=https%3A%2F%2Fwww.space.com%2Fsciencefiction%2Fphenomena%2Fcelebrity_ufo_991015.html&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AJimmy+Carter+UFO+incident"></span></li>
<li><cite id="CITEREFMiles2006">Miles, Jim (2006), <i>Weird Georgia</i>, Sterling, <a href="https://en.wikipedia.org/wiki/ISBN_(identifier)" title="ISBN (identifier)">ISBN</a>&nbsp;<a href="https://en.wikipedia.org/wiki/Special:BookSources/978-1-4027-3388-8" title="Special:BookSources/978-1-4027-3388-8"><bdi>978-1-4027-3388-8</bdi></a></cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=Weird+Georgia&amp;rft.pub=Sterling&amp;rft.date=2006&amp;rft.isbn=978-1-4027-3388-8&amp;rft.aulast=Miles&amp;rft.aufirst=Jim&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AJimmy+Carter+UFO+incident"></span></li>
<li><cite id="CITEREFPeebles1994"><a href="https://en.wikipedia.org/wiki/Curtis_Peebles" title="Curtis Peebles">Peebles, Curtis</a> (1994), <span title="Free registration required"><a rel="nofollow" href="https://archive.org/details/watchskieschroni0000peeb"><i>Watch the Skies! A chronicle of the Flying Saucer Myth</i></a></span>, <a href="https://en.wikipedia.org/wiki/Smithsonian_Institution" title="Smithsonian Institution">Smithsonian Institution</a> Press, <a href="https://en.wikipedia.org/wiki/ISBN_(identifier)" title="ISBN (identifier)">ISBN</a>&nbsp;<a href="https://en.wikipedia.org/wiki/Special:BookSources/1-56098-343-4" title="Special:BookSources/1-56098-343-4"><bdi>1-56098-343-4</bdi></a></cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=Watch+the+Skies%21+A+chronicle+of+the+Flying+Saucer+Myth&amp;rft.pub=Smithsonian+Institution+Press&amp;rft.date=1994&amp;rft.isbn=1-56098-343-4&amp;rft.aulast=Peebles&amp;rft.aufirst=Curtis&amp;rft_id=https%3A%2F%2Farchive.org%2Fdetails%2Fwatchskieschroni0000peeb&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AJimmy+Carter+UFO+incident"></span></li>
<li><cite id="CITEREFSheaffer1998"><a href="https://en.wikipedia.org/wiki/Robert_Sheaffer" title="Robert Sheaffer">Sheaffer, Robert</a> (1998), <i>UFO Sightings: The Evidence</i>, Prometheus Books, <a href="https://en.wikipedia.org/wiki/ISBN_(identifier)" title="ISBN (identifier)">ISBN</a>&nbsp;<a href="https://en.wikipedia.org/wiki/Special:BookSources/1-57392-213-7" title="Special:BookSources/1-57392-213-7"><bdi>1-57392-213-7</bdi></a></cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=UFO+Sightings%3A+The+Evidence&amp;rft.pub=Prometheus+Books&amp;rft.date=1998&amp;rft.isbn=1-57392-213-7&amp;rft.aulast=Sheaffer&amp;rft.aufirst=Robert&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AJimmy+Carter+UFO+incident"></span></li>
<li><cite id="CITEREFStenger2002">Stenger, Richard (October 22, 2002). <a rel="nofollow" href="https://web.archive.org/web/20070405084606/http://archives.cnn.com/2002/TECH/space/10/22/ufo.records/index.html">"Clinton aide slams Pentagon's UFO secrecy"</a>. CNN. Archived from <a rel="nofollow" href="http://archives.cnn.com/2002/TECH/space/10/22/ufo.records/index.html">the original</a> on April 5, 2007<span>. Retrieved <span>2007-04-16</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Clinton+aide+slams+Pentagon%27s+UFO+secrecy&amp;rft.pub=CNN&amp;rft.date=2002-10-22&amp;rft.aulast=Stenger&amp;rft.aufirst=Richard&amp;rft_id=http%3A%2F%2Farchives.cnn.com%2F2002%2FTECH%2Fspace%2F10%2F22%2Fufo.records%2Findex.html&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AJimmy+Carter+UFO+incident"></span></li>
<li><cite id="CITEREFStory1980">Story, Ronald D. (1980), <span title="Free registration required"><a rel="nofollow" href="https://archive.org/details/encyclopediaofuf0000unse"><i>The Encyclopedia of UFOs</i></a></span>, <a href="https://en.wikipedia.org/wiki/Doubleday_(publisher)" title="Doubleday (publisher)">Doubleday</a>, <a href="https://en.wikipedia.org/wiki/ISBN_(identifier)" title="ISBN (identifier)">ISBN</a>&nbsp;<a href="https://en.wikipedia.org/wiki/Special:BookSources/0-385-13677-3" title="Special:BookSources/0-385-13677-3"><bdi>0-385-13677-3</bdi></a></cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=The+Encyclopedia+of+UFOs&amp;rft.pub=Doubleday&amp;rft.date=1980&amp;rft.isbn=0-385-13677-3&amp;rft.aulast=Story&amp;rft.aufirst=Ronald+D.&amp;rft_id=https%3A%2F%2Farchive.org%2Fdetails%2Fencyclopediaofuf0000unse&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AJimmy+Carter+UFO+incident"></span></li></ul>
</div>
<h2><span id="External_links">External links</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Jimmy_Carter_UFO_incident&amp;action=edit&amp;section=10" title="Edit section: External links"><span>edit</span></a><span>]</span></span></h2>
<ul><li><a rel="nofollow" href="https://web.archive.org/web/20070312101555/http://www.presidentialufo.com/carter_ufo_report.htm">Carter UFO Incident – Presidential UFO</a></li>
<li><a rel="nofollow" href="https://web.archive.org/web/20070302115013/http://www.presidentialufo.com/carter.htm">Files on President Jimmy Carter's interest in UFOs</a></li>
<li><a rel="nofollow" href="https://web.archive.org/web/20070908230001/http://www.theskepticsguide.org/skepticsguide/podcastinfo.asp?pid=105">Skepticast 105 – Interview with Jimmy Carter</a> – <a href="https://en.wikipedia.org/wiki/The_Skeptic%27s_Guide_to_the_Universe" title="The Skeptic's Guide to the Universe">The Skeptic's Guide to the Universe</a></li>
<li><a rel="nofollow" href="https://www.youtube.com/watch?v=f9ZoKfYCNlM"><span>Jimmy Carter talks about his UFO Sighting</span></a> on <a href="https://en.wikipedia.org/wiki/YouTube_video_(identifier)" title="YouTube video (identifier)">YouTube</a></li></ul>



<!-- 
NewPP limit report
Parsed by mw‐web.eqiad.main‐7c9dc8fdfb‐6p8gm
Cached time: 20240427022439
Cache expiry: 2592000
Reduced expiry: false
Complications: [vary‐revision‐sha1, show‐toc]
CPU time usage: 1.079 seconds
Real time usage: 1.359 seconds
Preprocessor visited node count: 3581/1000000
Post‐expand include size: 305105/2097152 bytes
Template argument size: 10623/2097152 bytes
Highest expansion depth: 18/100
Expensive parser function count: 4/500
Unstrip recursion depth: 1/20
Unstrip post‐expand size: 92222/5000000 bytes
Lua time usage: 0.557/10.000 seconds
Lua memory usage: 6973294/52428800 bytes
Number of Wikibase entities loaded: 0/400
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00% 1030.749      1 -total
 28.68%  295.651      1 Template:Reflist
 16.09%  165.878      1 Template:Paranormal
 15.82%  163.071      1 Template:Sidebar_with_collapsible_lists
 14.79%  152.406     13 Template:Navbox
 11.26%  116.029      6 Template:Cite_web
  9.27%   95.507      1 Template:Conspiracy_theories
  8.85%   91.248      1 Template:Navbox_with_collapsible_groups
  8.41%   86.705      1 Template:Short_description
  8.28%   85.362      3 Template:ISBN
-->

<!-- Saved in parser cache with key enwiki:pcache:idhash:9252039-0!canonical and timestamp 20240427022439 and revision id 1220030193. Rendering was triggered because: page-view
 -->
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[TfL's simple pop-up message led to a significant drop in paper ticket sales (168 pts)]]></title>
            <link>https://www.ianvisits.co.uk/articles/how-tfls-simple-pop-up-message-led-to-a-significant-drop-in-paper-ticket-sales-71920/</link>
            <guid>40187379</guid>
            <pubDate>Sun, 28 Apr 2024 09:59:05 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.ianvisits.co.uk/articles/how-tfls-simple-pop-up-message-led-to-a-significant-drop-in-paper-ticket-sales-71920/">https://www.ianvisits.co.uk/articles/how-tfls-simple-pop-up-message-led-to-a-significant-drop-in-paper-ticket-sales-71920/</a>, See on <a href="https://news.ycombinator.com/item?id=40187379">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<!-- Article Start -->
					
<p>Transport for London (<a href="https://www.ianvisits.co.uk/articles/tag/tfl/">TfL</a>) has seen a drop in the sale of paper tickets after it made a small change to the ticket machines in London Underground stations.</p>
<p>The change took place last September during a routine fares update to the ticket machines, and the sales of paper tickets dropped overnight by around a third compared to how many were being sold before.</p>
<p>However, that was entirely intentional.</p>
<p><a href="https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-02-source-ianvisits.jpg"><picture><source srcset="https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-02-source-ianvisits-900x500.jpg.webp 900w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-02-source-ianvisits-768x427.jpg.webp 768w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-02-source-ianvisits-1536x853.jpg.webp 1536w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-02-source-ianvisits-100x56.jpg.webp 100w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-02-source-ianvisits-150x83.jpg.webp 150w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-02-source-ianvisits-200x111.jpg.webp 200w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-02-source-ianvisits-300x167.jpg.webp 300w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-02-source-ianvisits-450x250.jpg.webp 450w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-02-source-ianvisits-600x333.jpg.webp 600w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-02-source-ianvisits.jpg.webp 1800w" sizes="(max-width: 900px) 100vw, 900px" type="image/webp"><img fetchpriority="high" decoding="async" src="https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-02-source-ianvisits-900x500.jpg" alt="" width="900" height="500" loading="none" srcset="https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-02-source-ianvisits-900x500.jpg 900w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-02-source-ianvisits-768x427.jpg 768w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-02-source-ianvisits-1536x853.jpg 1536w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-02-source-ianvisits-100x56.jpg 100w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-02-source-ianvisits-150x83.jpg 150w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-02-source-ianvisits-200x111.jpg 200w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-02-source-ianvisits-300x167.jpg 300w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-02-source-ianvisits-450x250.jpg 450w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-02-source-ianvisits-600x333.jpg 600w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-02-source-ianvisits.jpg 1800w" sizes="(max-width: 900px) 100vw, 900px" data-eio="p"></picture></a></p>
<p>The change was deliberate, intended to reduce the sale of paper tickets by encouraging people to use contactless payments instead. These are cheaper for the customer and mean fewer magnetic stripe paper ticket sales for TfL.</p>
<p>It followed staff observations that people were requesting single or return paper tickets but then paying for them with a contactless card — so why not encourage them to use the contactless card at the ticket barrier instead?</p>


<p>What TfL has done is add a pop-up message on the ticket-selling machines, so if you try to buy a single or return ticket instead of a travelcard, it will suggest using a contactless card instead.</p>
<p><a href="https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits.jpg"><picture><source srcset="https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits-667x500.jpg.webp 667w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits-1334x1000.jpg.webp 1334w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits-768x576.jpg.webp 768w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits-1536x1151.jpg.webp 1536w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits-202x150.jpg.webp 202w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits-100x75.jpg.webp 100w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits-150x112.jpg.webp 150w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits-200x150.jpg.webp 200w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits-300x225.jpg.webp 300w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits-450x337.jpg.webp 450w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits-600x450.jpg.webp 600w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits-900x675.jpg.webp 900w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits.jpg.webp 1800w" sizes="(max-width: 667px) 100vw, 667px" type="image/webp"><img decoding="async" src="https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits-667x500.jpg" alt="" width="667" height="500" srcset="https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits-667x500.jpg 667w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits-1334x1000.jpg 1334w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits-768x576.jpg 768w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits-1536x1151.jpg 1536w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits-202x150.jpg 202w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits-100x75.jpg 100w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits-150x112.jpg 150w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits-200x150.jpg 200w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits-300x225.jpg 300w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits-450x337.jpg 450w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits-600x450.jpg 600w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits-900x675.jpg 900w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-03-source-ianvisits.jpg 1800w" sizes="(max-width: 667px) 100vw, 667px" data-eio="p"></picture></a></p>
<p>The Passenger Operated Machine (POM), to use the TfL name for the ticket machines, doesn’t show the pop-up for every journey that they can sell tickets for because not every destination accepts contactless PAYG tickets, but those that can will get the message. Over time, as more National Rail stations are added to the contactless payments system, the ticket machines will be updated to include them in the messaging.</p>


<p>Since the change was introduced in September 2023, TfL has seen a noticeable drop in paper ticket sales.</p>
<p>So the change worked.</p>
<div id="attachment_71921"><a href="https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-01-source-tfl.jpg"><picture><source srcset="https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-01-source-tfl-900x447.jpg.webp 900w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-01-source-tfl-768x381.jpg.webp 768w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-01-source-tfl-1536x762.jpg.webp 1536w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-01-source-tfl-100x50.jpg.webp 100w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-01-source-tfl-150x74.jpg.webp 150w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-01-source-tfl-200x99.jpg.webp 200w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-01-source-tfl-300x149.jpg.webp 300w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-01-source-tfl-450x223.jpg.webp 450w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-01-source-tfl-600x298.jpg.webp 600w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-01-source-tfl.jpg.webp 1800w" sizes="(max-width: 900px) 100vw, 900px" type="image/webp"><img decoding="async" aria-describedby="caption-attachment-71921" src="https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-01-source-tfl-900x447.jpg" alt="" width="900" height="447" srcset="https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-01-source-tfl-900x447.jpg 900w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-01-source-tfl-768x381.jpg 768w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-01-source-tfl-1536x762.jpg 1536w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-01-source-tfl-100x50.jpg 100w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-01-source-tfl-150x74.jpg 150w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-01-source-tfl-200x99.jpg 200w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-01-source-tfl-300x149.jpg 300w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-01-source-tfl-450x223.jpg 450w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-01-source-tfl-600x298.jpg 600w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-01-source-tfl.jpg 1800w" sizes="(max-width: 900px) 100vw, 900px" data-eio="p"></picture></a><p id="caption-attachment-71921">(c) TfL</p></div>
<p>Apart from fitting in with TfL’s aim of reducing the sales of magnetic stripe tickets, the move would have reduced the fares that customers pay to travel around London.</p>
<p>Arguably, not offering the option to save money would put more money in TfL’s coffers, but there’s a trade-off in that offering more expensive trips will deter casual visitors from using public transport. If they see the fares are lower than expected, customers are more likely to travel more often, and if they see TfL is being upfront about fares, lingering concerns about using contactless will be reduced.</p>
<p>To pick a random example, an off-peak trip from Paddington to Canary Wharf would cost £6.70 if buying a paper ticket but £2.80 if using contactless payments.</p>
<p><a href="https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-04-source-ianvisits.jpg"><picture><source srcset="https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-04-source-ianvisits-900x490.jpg.webp 900w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-04-source-ianvisits-768x418.jpg.webp 768w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-04-source-ianvisits-1536x836.jpg.webp 1536w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-04-source-ianvisits-100x54.jpg.webp 100w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-04-source-ianvisits-150x82.jpg.webp 150w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-04-source-ianvisits-200x109.jpg.webp 200w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-04-source-ianvisits-300x163.jpg.webp 300w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-04-source-ianvisits-450x245.jpg.webp 450w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-04-source-ianvisits-600x327.jpg.webp 600w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-04-source-ianvisits.jpg.webp 1783w" sizes="(max-width: 900px) 100vw, 900px" type="image/webp"><img decoding="async" src="https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-04-source-ianvisits-900x490.jpg" alt="" width="900" height="490" srcset="https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-04-source-ianvisits-900x490.jpg 900w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-04-source-ianvisits-768x418.jpg 768w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-04-source-ianvisits-1536x836.jpg 1536w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-04-source-ianvisits-100x54.jpg 100w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-04-source-ianvisits-150x82.jpg 150w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-04-source-ianvisits-200x109.jpg 200w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-04-source-ianvisits-300x163.jpg 300w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-04-source-ianvisits-450x245.jpg 450w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-04-source-ianvisits-600x327.jpg 600w, https://www.ianvisits.co.uk/articles/wp-content/uploads/2024/04/pom-message-04-source-ianvisits.jpg 1783w" sizes="(max-width: 900px) 100vw, 900px" data-eio="p"></picture></a></p>
<p>So a small change that a regular London traveller would be unlikely to have noticed is reducing queues at ticket machines for everyone else.</p>


										


								
					



					

									</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Flow Field Pathfinding (125 pts)]]></title>
            <link>https://www.redblobgames.com/blog/2024-04-27-flow-field-pathfinding/</link>
            <guid>40187334</guid>
            <pubDate>Sun, 28 Apr 2024 09:48:40 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.redblobgames.com/blog/2024-04-27-flow-field-pathfinding/">https://www.redblobgames.com/blog/2024-04-27-flow-field-pathfinding/</a>, See on <a href="https://news.ycombinator.com/item?id=40187334">Hacker News</a></p>
<div id="readability-page-1" class="page"><section><p>You may know me for my <em>interactive</em> tutorials. But before that, I was writing visual but non-interactive tutorials. In particular, there wasn’t a lot of information about A* on the web, so I decided to collect <a href="http://theory.stanford.edu/~amitp/GameProgramming/">all my notes about pathfinding</a><sup>[1]</sup> together in one place in the 1990s. But then in the 2010s I started making interactive pages. The newer pages are narrower in scope; I covered a broader set of topics on the older pages. I maintain both sets now.</p><p>Over the years people have asked me about “flow field pathfinding”. I felt like the early papers about it conflated the flow fields with hierarchical pathfinding, but I wasn’t sure, and I didn’t want to write about it until I was sure.</p><figure><img src="https://www.redblobgames.com/pathfinding/tower-defense/blog/flow-field.png?2024-04-27-14-17-13" alt=""><figcaption>Flow field</figcaption></figure><!-- more --><p>But it’s been many years now and I would like to write <em>something</em> even if it’s not complete. My understanding so far is:</p><ol><li><em>flow fields</em> are a vector field that tells agents from <em>any</em> location what direction to move to find a <em>single</em> destination</li><li>optionally, agents that are in between locations on the pathfinding graph can <em>interpolate</em> between the vectors in the flow field</li><li>optionally, a <em>hierarchy</em> of coarse and fine stepped fields can speed up pathfinding</li></ol><p>In addition, there are <em>distance fields</em> which are themselves interesting for things like “<a href="https://www.roguebasin.com/index.php/Dijkstra_Maps_Visualized">Dijsktra maps</a><sup>[2]</sup>” in roguelike games and “<a href="https://www.gamedev.net/tutorials/programming/artificial-intelligence/the-core-mechanics-of-influence-mapping-r2799/">influence maps</a><sup>[3]</sup>” in strategy games. Distance fields can also be used for <a href="https://iquilezles.org/articles/distfunctions/">3d modeling</a><sup>[4]</sup> and <a href="https://www.redblobgames.com/blog/2024-03-21-sdf-fonts/">font rendering</a>. The flow fields and distance fields are related: in vector calculus, the gradient (∇) of the distance field produces the flow field.</p><figure><img src="https://www.redblobgames.com/pathfinding/tower-defense/blog/distance-field.png?2024-04-27-14-17-09" alt=""><figcaption>Distance field</figcaption></figure><p>The graph-based pathfinding algorithms I cover on my <a href="https://www.redblobgames.com/pathfinding/a-star/introduction.html">A* page</a><sup>[5]</sup> output <em>both</em> distance fields and flow fields, in the <code>cost_so_far</code> and <code>came_from</code> outputs. I updated my pages to mention both flow and distance fields:</p><ul><li>I added a <a href="https://theory.stanford.edu/~amitp/GameProgramming/Variations.html#flow-fields">new section to my older pathfinding notes</a><sup>[6]</sup>.</li><li>I updated <a href="https://www.redblobgames.com/pathfinding/tower-defense/">my tower defense pathfinding page</a><sup>[7]</sup>.</li></ul><p>Although I mention <a href="https://theory.stanford.edu/~amitp/GameProgramming/MapRepresentations.html#hierarchical">hierarchical pathfinding</a><sup>[8]</sup> in these notes, I don’t cover it in detail. Maybe I will do so one day, but I don’t have to wait until then before publish the pages. That’s one of the advantages of web pages over textbooks or academic papers. I can update my pages as I learn more. I still update my pathfinding pages that I started in 1997, and I still update my interactive pathfinding pages that I started in 2014.</p></section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Mise: a polyglot tool version manager (131 pts)]]></title>
            <link>https://mise.jdx.dev/</link>
            <guid>40186768</guid>
            <pubDate>Sun, 28 Apr 2024 07:35:02 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://mise.jdx.dev/">https://mise.jdx.dev/</a>, See on <a href="https://news.ycombinator.com/item?id=40186768">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-v-d8b57b2d="" id="app"><!--[--><!--]--><!--[--><p><span tabindex="-1" data-v-c8291ffa=""></span><a href="#VPContent" data-v-c8291ffa=""> Skip to content </a></p><!--]--><!----><header data-v-d8b57b2d="" data-v-7ad780c2=""><div data-v-7ad780c2="" data-v-844edcde=""><div data-v-844edcde=""><div data-v-844edcde=""><p data-v-844edcde="" data-v-0ad69264=""><a href="https://mise.jdx.dev/" data-v-0ad69264=""><!--[--><!--]--><!----><span data-v-0ad69264="">mise-en-place</span><!--[--><!--]--></a></p></div><div data-v-844edcde=""><!--[--><!--]--><nav aria-labelledby="main-nav-aria-label" data-v-844edcde="" data-v-f732b5d0=""><span id="main-nav-aria-label" data-v-f732b5d0="">Main Navigation</span><!--[--><!--[--><a href="https://mise.jdx.dev/dev-tools/" tabindex="0" data-v-f732b5d0="" data-v-08fbf4b6=""><!--[--><span data-v-08fbf4b6="">Dev Tools</span><!--]--></a><!--]--><!--[--><a href="https://mise.jdx.dev/environments.html" tabindex="0" data-v-f732b5d0="" data-v-08fbf4b6=""><!--[--><span data-v-08fbf4b6="">Environments</span><!--]--></a><!--]--><!--[--><a href="https://mise.jdx.dev/tasks/" tabindex="0" data-v-f732b5d0="" data-v-08fbf4b6=""><!--[--><span data-v-08fbf4b6="">Tasks</span><!--]--></a><!--]--><!--]--></nav><!----><div data-v-af5898d3="" data-v-e42ed9b3="" data-v-844edcde="" data-v-8e87c032=""><!----><!--[--><!--[--><!----><div data-v-8e87c032=""><p data-v-8e87c032="">Appearance</p></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!----></header><!----><!----><div data-v-9a6c75ad="" data-v-07b1ad08="" id="VPContent" data-v-d8b57b2d=""><!--[--><!--]--><div data-v-b10c5094="" data-v-07b1ad08=""><!--[--><!--]--><!--[--><!----><p data-v-b10c5094="">The front-end to your dev env
<span>Pronounced "MEEZ ahn plahs"</span>
</p><!--]--><!--[--><!--]--><div data-v-b10c5094=""><!--[--><div data-v-b10c5094=""><p><a href="https://mise.jdx.dev/getting-started.html" data-v-b10c5094="" data-v-c9cf0e3c="">Getting Started</a></p></div><div data-v-b10c5094=""><p><a href="https://mise.jdx.dev/about.html" data-v-b10c5094="" data-v-c9cf0e3c="">About</a></p></div><div data-v-b10c5094=""><p><a href="https://github.com/jdx/mise" target="_blank" rel="noreferrer" data-v-b10c5094="" data-v-c9cf0e3c="">GitHub</a></p></div><div data-v-b10c5094=""><p><a href="https://discord.gg/UBa7pJUN7Z" target="_blank" rel="noreferrer" data-v-b10c5094="" data-v-c9cf0e3c="">Discord</a></p></div><!--]--></div><!--[--><!--]--></div><!--[--><!--]--><!--[--><!--]--><div data-v-b1eea84a="" data-v-07b1ad08=""><!--[--><div data-v-b1eea84a="" data-v-bd37d1a2=""><!--[--><article data-v-bd37d1a2=""><!----><h2 data-v-bd37d1a2=""><a href="https://mise.jdx.dev/dev-tools/">Dev Tools</a></h2><p data-v-bd37d1a2="">mise is a polyglot tool version manager. It replaces tools like <a href="https://asdf-vm.com/">asdf</a>, nvm, pyenv, rbenv, etc.</p><!----></article><!--]--></div><div data-v-b1eea84a="" data-v-bd37d1a2=""><!--[--><article data-v-bd37d1a2=""><!----><h2 data-v-bd37d1a2=""><a href="https://mise.jdx.dev/environments.html">Environments</a></h2><p data-v-bd37d1a2="">mise allows you to switch sets of env vars in different project directories. It can replace <a href="https://github.com/direnv/direnv">direnv</a>.</p><!----></article><!--]--></div><div data-v-b1eea84a="" data-v-bd37d1a2=""><!--[--><article data-v-bd37d1a2=""><!----><h2 data-v-bd37d1a2=""><a href="https://mise.jdx.dev/tasks/">Tasks</a> <badge type="warning" text="experimental"></badge></h2><p data-v-bd37d1a2="">mise is a task runner that can replace <a href="https://www.gnu.org/software/make">make</a>, or <a href="https://docs.npmjs.com/cli/v10/using-npm-scripts">npm scripts</a>.</p><!----></article><!--]--></div><!--]--></div><!--[--><!--]--></div><!--[--><!--]--></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The Princeton Companion to Applied Mathematics (174 pts)]]></title>
            <link>https://nhigham.com/the-princeton-companion-to-applied-mathematics/</link>
            <guid>40186146</guid>
            <pubDate>Sun, 28 Apr 2024 05:05:57 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://nhigham.com/the-princeton-companion-to-applied-mathematics/">https://nhigham.com/the-princeton-companion-to-applied-mathematics/</a>, See on <a href="https://news.ycombinator.com/item?id=40186146">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="page">
	<p><a href="#content">Skip to content</a></p><!-- #masthead -->

	<div id="content">
		<main id="main" role="main">

			
				
<article id="post-6968" class="page">
	<!-- .entry-header -->

	<div>
		<p><img src="https://nickhigham.files.wordpress.com/2016/03/pcam-cover.jpg?w=304&amp;h=380" alt="mg3_cover_front_spine.jpg" width="304" height="380"></p>
<p> The Princeton Companion to Applied Mathematics, edited by Nicholas J. Higham, with associate editors Mark R. Dennis, Paul Glendinning, Paul A. Martin, Fadil Santosa, and Jared Tanner, <a href="http://press.princeton.edu/">Princeton University Press</a>, 2015. xvii + 994 + 16 color plates, hardcover. </p>
<p> <a href="http://press.princeton.edu/titles/10592.html">The book’s web page</a> at Princeton University Press. </p>
<p> Purchase from <a href="http://press.princeton.edu/titles/10592.html">Princeton University Press</a>. </p>
<p> Purchase from <a href="http://amzn.to/1TIc9qm">Amazon</a>. </p>

<div id="outline-container-org49a290f">
<h2 id="org49a290f">Sample Articles</h2>
<div id="text-org49a290f">
<ul>
<li>I.5 <a href="http://press.princeton.edu/chapters/s1-5_10592.pdf">Goals of Applied Mathematical Research</a>, Nicholas J. Higham.</li>
<li>II.21 <a href="http://press.princeton.edu/chapters/s2-21_10592.pdf">Invariants and Conservation Laws</a>, Mark R. Dennis.</li>
<li>III.17 <a href="http://press.princeton.edu/chapters/s3-17_10592.pdf">The Lambert W Function</a>, Robert M. Corless and David J. Jeffrey.</li>
<li>IV.2 <a href="http://press.princeton.edu/chapters/s4-2_10592.pdf">Ordinary Differential Equations</a>, James D. Meiss.</li>
<li>IV.39 <a href="http://press.princeton.edu/chapters/s4-39_10592.pdf">Algebraic Geometry</a>, Frank Sottile.</li>
<li>V.18 <a href="http://press.princeton.edu/chapters/s5-18_10592.pdf">Numerical Weather Prediction</a>, Peter Lynch.</li>
<li>VI.1 <a href="http://press.princeton.edu/chapters/s6-1_10592.pdf">Cloaking</a>, Kurt Bryan and Tanya Leise.</li>
<li>VI.6 <a href="http://press.princeton.edu/chapters/s6-6_10592.pdf">The Flight of a Golf Ball</a>, Douglas N. Arnold.</li>
<li>VII.5 <a href="http://press.princeton.edu/chapters/s7-5_10592.pdf">Evolving Social Networks, Attitudes, and Beliefs—and Counterterrorism</a>, Peter Grindrod.</li>
<li>VII.19 <a href="http://press.princeton.edu/chapters/s7-19_10592.pdf">Airport Baggage Screening with X-Ray Tomography</a>, W. R. B. Lionheart.</li>
<li>VIII.6 <a href="http://press.princeton.edu/chapters/s8-6_10592.pdf">Experimental Applied Mathematics</a>, David H. Bailey and Jonathan M. Borwein.</li>
</ul>
</div>
</div>
<div id="outline-container-orgacedd22">
<h2 id="orgacedd22">Word Cloud</h2>
<p><a href="https://www.maths.manchester.ac.uk/~higham/pcam/wordle_edited1.jpg" target="_blank"><img src="https://www.maths.manchester.ac.uk/~higham/pcam/wordle_edited1.jpg" alt="pcam-wordcloud.jpg" width="500" height="226"></a>
</p>
</div>
<div id="outline-container-org3b204f9">
<h2 id="org3b204f9">Reviews</h2>

</div>
<div id="outline-container-org01293a9">
<h2 id="org01293a9">Other Information</h2>
<p> The article VIII.3 “How to Write a General Interest Mathematics” by Ian Stewart and the four articles grouped under VIII.7 Teaching Applied Mathematics (Gilbert Strang: “What to Teach and How”?, Peter R. Turner: “Computation, Modeling, and Projects”, David Acheson: “What’s the Big Picture?”, and IV. Rachel Levy: “Industrial Mathematics Inspires Mathematical Modeling Tasks”) were selected for reprinting in <a href="https://press.princeton.edu/titles/10953.html">The Best Writing on Mathematics 2016</a>. </p>
</div>
<div id="outline-container-org95c226d">
<h2 id="org95c226d">Resources</h2>
<div id="text-org95c226d">
<ul>
<li>Article <a href="http://eprints.ma.man.ac.uk/2399/01/covered/MIMS_ep2015_94.pdf">Making the Princeton Companion to Applied Mathematics</a> by Nicholas J.  Higham, Mathematics Today, 51(5):212-214, 2015.</li>
<li><a href="https://twitter.com/ThePCAM">Twitter account</a>.</li>
<li><a href="https://nickhigham.wordpress.com/category/princeton-companion/">Blog posts about PCAM</a> at Nick Higham’s blog.</li>
<li><a href="https://www.facebook.com/pages/The-Princeton-Companion-to-Applied-Mathematics/820575904730186">Facebook page</a>.</li>
<li><a href="https://nhigham.com/the-princeton-companion-to-applied-mathematics-bib-entry/">BibTeX bib entries</a> for the book and a sample article.</li>
<li>A <a href="https://www.maths.manchester.ac.uk/~higham/pcam/words.php">word cloud</a> for the book.</li>
</ul>
</div>
</div>
<div id="outline-container-orgc929772">
<h2 id="orgc929772">Overview by the editor</h2>

</div>
			</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article><!-- #post-## -->


				
			
		</main><!-- #main -->
	</div><!-- #content -->

	
<!-- #tertiary -->
	<!-- #colophon -->
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Install Asdf: One Runtime Manager to Rule All Dev Environments (113 pts)]]></title>
            <link>https://jdsalaro.com/tutorial/asdf-single-package-manager-multiple-dev-environments</link>
            <guid>40186036</guid>
            <pubDate>Sun, 28 Apr 2024 04:36:20 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://jdsalaro.com/tutorial/asdf-single-package-manager-multiple-dev-environments">https://jdsalaro.com/tutorial/asdf-single-package-manager-multiple-dev-environments</a>, See on <a href="https://news.ycombinator.com/item?id=40186036">Hacker News</a></p>
<div id="readability-page-1" class="page"><article role="main">
                  
<section id="install-asdf-one-runtime-manager-to-rule-all-dev-environments">
<h2>🪄 Install <code><span>asdf</span></code>: One Runtime Manager to Rule All Dev Environments<a href="#install-asdf-one-runtime-manager-to-rule-all-dev-environments" title="Permalink to this heading">#</a></h2>
<p>Almost everyone I know who uses a computer, for fun or work, is overtaken by a slight nervousness when installing a new library, package, service or application on their operating system. The horror stories underpinning these reservations vary slightly between Linux, Unix, Windows and MacOS users, but everyone knows, regardless of preferred ecosystem, that installing software can do a number on their computer and the task should not be taken lightly. Especially for programmers, that struggle is no stranger. Therefore, any tool looking to simplify this task and eliminate potential points of failure is, in my book, a <em>very</em> welcome occurrence.</p>
<figure id="xkcd-1987-python-environment">
<a href="https://jdsalaro.com/_images/xkcd-1987-python-environment.png"><img alt="../../_images/xkcd-1987-python-environment.png" src="https://jdsalaro.com/_images/xkcd-1987-python-environment.png"></a>
<figcaption>
<p><span><a href="https://xkcd.com/1987">https://xkcd.com/1987</a></span><a href="#xkcd-1987-python-environment" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>In case this sounds relatable and you can’t help but think about the time you’ve lost cosplaying as a development environment archeologist, I strongly suggest you give <a href="https://asdf-vm.com/"><code><span>asdf.vm</span></code></a> or a similar solution a try. This tutorial serves as an introduction to <code><span>asdf</span></code>, runtime management and, most importantly, should ellucidate the thought process behind my appreciation for such tools.</p>
<section id="discussion">
<h2>Discussion<a href="#discussion" title="Permalink to this heading">#</a></h2>
<div>
<p>Note</p>
<p>Some folks kindly asked for a video version of this and similar tutorials on YouTube. I haven’t posted much to <a href="https://youtube.com/@jdsalaro">🎞️ my YouTube channel</a>, but that seems like a worthwhile endeavor!</p>
<p>I’ll try to find time to post it in the next couple of weeks. Feel free to <a href="https://youtube.com/@jdsalaro">subscribe</a> and enable the notifications 👍</p>
</div>
<p>This tutorial was <em>heavily</em> discussed on <a href="https://news.ycombinator.com/item?id=40186036">HackerNews</a>, <a href="https://www.reddit.com/r/programming/comments/1cey166/install_asdf_one_runtime_manager_to_rule_all_dev">Reddit</a>, <a href="https://tildes.net/~comp/1fy9/install_asdf_one_runtime_manager_to_rule_all_dev_environments">Tildes.net</a> and <a href="https://mastodon.social/@jdsalaro/112346908687493211">Mastodon</a>. Feel free to <a href="https://jdsalaro.com/about/"><span>let me know</span></a> in case I ought to include any other conversations relating to it.</p>
<p>Folks on Reddit brought <a href="https://github.com/jdx/mise"><code><span>mise-en-place</span></code></a> to my attention, a runtime manager similar to <code><span>asdf.vm</span></code> which is written in Rust, doesn’t use shims and incorporates <a href="https://direnv.net/"><code><span>direnv</span></code></a> as well as <a href="https://www.gnu.org/software/make"><code><span>make</span></code></a>. I was only aware of the existence of <code><span>rtx</span></code>, but apparently that is what <code><span>mise</span></code> used to be called! <code><span>rtx</span></code> was renamed in order to avoid confusion and make the project more recognizable<a href="#miserenamertx" id="id1" role="doc-noteref"><span>[</span>1<span>]</span></a>.</p>
<p>Moreover, for those interested in alternatives to <code><span>asdf.vm</span></code> with Windows support, you are in luck! <a href="https://github.com/version-fox/vfox"><code><span>version-fox</span></code></a> is another popular runtime manager which, unlike <code><span>asdf.vm</span></code> and <code><span>mise-en-place</span></code>, does support the Windows ecosystem.</p>
<p>I’ll keep an eye on both projects since they seem to be evolving quickly. Having said that, however, one of the reasons I like <code><span>asdf.vm</span></code> is how light-weight and minimalistic it is.</p>
</section>
<section id="introduction">
<h2>Introduction<a href="#introduction" title="Permalink to this heading">#</a></h2>
<p>Throughout the years, my distaste for overly complex <em>and</em> non-reproducible development environments has grown considerably; without signs of ever slowling down. Needing to install <code><span>npx</span></code> globally in order to skip a global installation of <code><span>ng</span></code>, Angular’s CLI<a href="#angularcli" id="id2" role="doc-noteref"><span>[</span>2<span>]</span></a>, is somewhat amusing <a href="#stackoverflowangularclilocally1" id="id3" role="doc-noteref"><span>[</span>3<span>]</span></a> <a href="#stackoverflowangularclilocally2" id="id4" role="doc-noteref"><span>[</span>4<span>]</span></a> <a href="#stackoverflowangularclilocally3" id="id5" role="doc-noteref"><span>[</span>5<span>]</span></a>. On the other hand, needing to juggle two or more Python versions which are unable to co-exist and therefore break Ubuntu, or the operating system <em>du Jour</em>, is tragic <a href="#stackoverflowpythonversionchangeubuntu1" id="id6" role="doc-noteref"><span>[</span>6<span>]</span></a> <a href="#stackoverflowpythonversionchangeubuntu2" id="id7" role="doc-noteref"><span>[</span>7<span>]</span></a> <a href="#stackoverflowpythonversionchangeubuntu3" id="id8" role="doc-noteref"><span>[</span>8<span>]</span></a>.</p>
<div>
<p>Important</p>
<p>This is no way to spend our waking hours</p>
</div>
<section id="historical-detour-using-sand-castles-to-create-dependable-software">
<h3>Historical Detour: Using Sand Castles to Create “Dependable” Software<a href="#historical-detour-using-sand-castles-to-create-dependable-software" title="Permalink to this heading">#</a></h3>
<p>As programmers we regularly acquire, install, test, use, and manage as many software components in order to prototype, program, test, and maintain a single application as a regular computer user likely has ever even considered installing. One might start working on a Python project <code><span>X</span></code>, using a certain framework <code><span>F</span></code> and library <code><span>L</span></code>. While working on version <code><span>0.1</span></code> of <code><span>X</span></code> and integrating <code><span>L</span></code>, the programmer realizes library <code><span>L</span></code> requires an operating system package <code><span>P</span></code> which is written in <em>another</em> programming language; let’s call that new hypothetical piece of the puzzle <code><span>C</span></code> for no apparent reason.</p>
<p>Thus, programmer <code><span>S</span></code>, for <a href="https://en.wikipedia.org/wiki/Sisyphus">Sysiphus</a>, ends up having to litter their carefully configured workstation with a Python development environment, with framework <code><span>F</span></code> and its dependencies <code><span>D</span></code>, library <code><span>L</span></code> but also operating system package <code><span>P</span></code> and the required tools to prepare said package; let’s call them <code><span>build-essential</span></code> for no reason at all!</p>
<p>Situations like the one described above are rarely something to write home about. That’s a daily occurrence in software development and anyone would be able to attest to that fact. Now, what does, indeed, grind my gears, is how often we, as an industry, write software, set infrastructure up and operate systems without regard for reproducibility and with little care for minimizing complexity.</p>
<p>If you are lucky, you might only have to discover the right version combination of <code><span>nodejs</span></code> and <code><span>angular</span></code> necessary in order to run the small service, mostly written in Python, a colleague of yours wrote some quarters ago. However, it may or may not use <code><span>C</span> <span>Types</span></code> to interact with a deprecated OS package, and no <code><span>Dockerfile</span></code> nor dependency pins were ever prepared. Yes, in case you asked, the Python version required also wasn’t listed in the <code><span>README.md</span></code> and the project uses <code><span>grpc</span></code><a href="#grpcinstallationerrors" id="id9" role="doc-noteref"><span>[</span>9<span>]</span></a>. In this relatively simple scenario I can guarantee you, that hours if not days will be spent bringing the corresponding  development environment to an acceptable state.</p>
<p>Linux users might worry about suddenly having multiple versions of the same library, or one version overwriting crucial symbolic links used by the previous one. Windows users know to respect the almighty registry and the ominous <code><span>AppData</span></code> user directory, both of which continue to grow and absorb data as the <a href="https://phys.org/news/2024-04-astronomers-largest-black-hole-milky.html"><code><span>Gaia</span> <span>BH1</span></code> and <code><span>Gaia</span> <span>BH2</span></code></a> black holes. MacOS users, bless us, will worry about <code><span>homebrew</span></code> being <code><span>homebrew</span></code>.</p>
<p>Before the advent of containerization and package management as inextricable elements of any respectable software development toolchain, the general advice was to spin disposable VMs and develop within them so, should things ever go south, they could be nuked from orbit without much hesitation. That approach, however, comes with a steep performance and convenience cost. One would create a development VM template, then configure it to one’s liking. Said template can then be cloned and used as general purpose development workstation or be customized on a per-project basis:</p>
<figure id="xkcd-1764-xkcd-development-environment">
<a href="https://jdsalaro.com/_images/xkcd-1764-xkcd-development-environment.png"><img alt="../../_images/xkcd-1764-xkcd-development-environment.png" src="https://jdsalaro.com/_images/xkcd-1764-xkcd-development-environment.png"></a>
<figcaption>
<p><span><a href="https://xkcd.com/1764">https://xkcd.com/1764</a></span><a href="#xkcd-1764-xkcd-development-environment" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>Docker, and the golden age of containerization it brought about, made working on and managing multiple projects less painful, but introduced new usability and maintainability issues to the Software Development Life Cycle(SDLC)<a href="#wikisdlc" id="id10" role="doc-noteref"><span>[</span>10<span>]</span></a>. For example, it took long until most prominent Integrated Development Environments(IDEs) could reliably attach themselves to a, let alone multiple, containers in order to develop from within them. Furthermore, continuosly tweaking, building, debugging and starting multiple contaniners <em>during development</em> is not a very efficient way to spend one’s time.</p>
<p>Although this historical diatribe might seem unnecessary, especially for such a brief tutorial, my intention with it is to emphasize the importance of 1️⃣ being able to effortlessly keep different development environments and switch between them as well as how 2️⃣ doing so directly from the programmer’s main operating system, without additional layers of abstraction, can be valuable and improve one’s overall workflow.</p>
</section>
</section>
<section id="enter-runtime-managers-and-asdf">
<h2>Enter Runtime Managers and <code><span>asdf</span></code><a href="#enter-runtime-managers-and-asdf" title="Permalink to this heading">#</a></h2>
<p>Runtime managers aren’t exactly a new concept. Ruby programmers were the first ones to try and tackle the problem of ergonomic runtime management by working on the Ruby Version Manager(RVM)<a href="#rvm" id="id11" role="doc-noteref"><span>[</span>11<span>]</span></a> in <code><span>2007</span></code>, but that idea quickly took over the world of interpreted languages; JavaScript, Python, and GoLang all followed with <code><span>nvm</span></code><a href="#nvm" id="id12" role="doc-noteref"><span>[</span>12<span>]</span></a>, <a href="#rbenv" id="id13" role="doc-noteref"><span>[</span>13<span>]</span></a>, <code><span>pyenv</span></code><a href="#pyenv" id="id14" role="doc-noteref"><span>[</span>14<span>]</span></a> and <code><span>goenv</span></code><a href="#goenv" id="id15" role="doc-noteref"><span>[</span>15<span>]</span></a> respectively.</p>
<p><code><span>asdf</span></code> would take four more years to come into play, with its first ever commit dating back to <code><span>2014-09-29T16:51:09Z</span></code><a href="#asdf" id="id16" role="doc-noteref"><span>[</span>16<span>]</span></a>. Even then one can already tell what its creator <a href="https://github.com/HashNuke"><code><span>@HashNuke</span></code></a> was after:</p>
<figure id="id21">
<img alt="../../_images/asdf-first-commit.png" src="https://jdsalaro.com/_images/asdf-first-commit.png">
<figcaption>
<p><span>First commit<a href="#asdf" id="id17" role="doc-noteref"><span>[</span>16<span>]</span></a> for <code><span>asdf.vm</span></code></span><a href="#id21" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>The idea was simple but game-changing, to write a CLI wrapper which would allow the user to seamlessly install and use multiple versions of a given programming language runtime, and that’s precisely what <code><span>asdf</span></code> became:</p>
<p><img alt="" src="https://jdsalaro.com/_images/asdf-homepage.png"></p>
</section>
<section id="real-solutions-for-real-problems">
<h2>Real Solutions for Real Problems<a href="#real-solutions-for-real-problems" title="Permalink to this heading">#</a></h2>
<p>Consider the following scenario: you work at a small start-up whose stack consists of multiple services written in Ruby and Python. For historical reasons, a considerable portion of the codebase used Python <code><span>2.7</span></code> until its final deprecation. However, that code, although useful, was never ported to newer Python versions and the company moved on. Nowadays, all services are written either for Ruby <code><span>3.2.2</span></code> or Python <code><span>3.10.0</span></code>.</p>
<p>Here is where our hypothetical story gets interesting: you are tasked with rescuing one of the ancient Python <code><span>2.7</span></code> projects and test its interoperability with the modern parts of the codebase written in Ruby <code><span>3.2.2</span></code> and Python <code><span>3.10.0</span></code>.</p>
<p>Your mind starts racing, considering how you could set up a development environment where you can easily execute, test, debug, package and ship the three projects without issues. You ponder whether virtual machines, docker containers or setting up the development environments natively on your local system might be the best approach. Since we are here to learn about <code><span>asdf</span></code>, you decide to explore the third option.</p>
<p>Right away, you get to work and clone the two projects to your local work directory <code><span>~/sysiphus/work/</span></code>:</p>
<div><pre><span></span>sysiphus
└── work
    ├── py310           # Project runnable under Python 3.10
    │&nbsp;&nbsp; ├── README.md
    │&nbsp;&nbsp; └── main.py
    └── rb322           # Project runnable under Ruby 3.2.2
        ├── README.md
        └── main.rb
</pre></div>
<p>Once opened with VS Code, or your editor of choice, a very rough approximation of how your system, the shell and your projects within VS code interact can be depicted as follows:</p>
<figure>
<img alt="../../_images/asdf-vscode-multiple-projects-mulitple-folders-0.svg" src="https://jdsalaro.com/_images/asdf-vscode-multiple-projects-mulitple-folders-0.svg"></figure>
<p>The direction of the arrows signify what component calls what component.</p>
<p>That seems perfectly fine, after all you installed Ruby <code><span>3.2.2</span></code> and Python <code><span>3.10.0</span></code> when you first joined the company and the projects run without issues.</p>
<figure id="id22">
<img alt="../../_images/vscode-initial-python-ruby-side-by-side.png" src="https://jdsalaro.com/_images/vscode-initial-python-ruby-side-by-side.png">
<figcaption>
<p><span>Two Separate Ruby and Python Projects in VSCode</span><a href="#id22" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>Remember we still have one Python <code><span>2.7</span></code> project whose development environment must be set up. After placing that project under <code><span>~/sysiphus/work/</span></code>, your directory structure looks as follows:</p>
<div><pre><span></span>sysiphus
└── work
    ├── py27            # Project without a valid runtime environment
    │&nbsp;&nbsp; └── main.py
    ├── py310           # Project runnable under Python 3.10
    │&nbsp;&nbsp; ├── README.md
    │&nbsp;&nbsp; └── main.py
    └── rb322           # Project runnable under Ruby 3.2.2
        ├── README.md
        └── main.rb
</pre></div>
<p>Building upon the schematic introduced previously, we can imagine our current setup as shown below. Both the <code><span>py310</span></code> as well as <code><span>rb322</span></code> folders have been opened on VS Code and corresponding terminals were spawned. Project <code><span>py27</span></code> is present within <code><span>~/sysiphus/work</span></code> as well, but it has yet to be opened and configured in order to run properly.  The available Python <code><span>3.10</span></code> as well as Ruby <code><span>3.2.2</span></code> installations are also depicted, since the terminals opened from within VS Code interact with them through the system’s terminal.</p>
<figure>
<img alt="../../_images/asdf-vscode-multiple-projects-mulitple-folders-1.svg" src="https://jdsalaro.com/_images/asdf-vscode-multiple-projects-mulitple-folders-1.svg"></figure>
</section>
<section id="runtimes-with-asdf">
<h2>Runtimes with <code><span>asdf</span></code><a href="#runtimes-with-asdf" title="Permalink to this heading">#</a></h2>
<p>We finally reach a point where we must ensure a Python <code><span>2.7</span></code> installation is available in order for project <code><span>py27</span></code> to be opened and run from within VS Code; it’s time for <code><span>asdf</span></code> to save the day.</p>
<p>After we have installed<a href="#asdfinstallation" id="id18" role="doc-noteref"><span>[</span>17<span>]</span></a> it, we verify it’s been properly added to our path:</p>

<p>We proceed to add both the Python as well as Ruby <code><span>asdf</span></code> plugins and our desired runtime versions.</p>
<div><pre><span></span>$ asdf plugin add python
Plugin named python already added
</pre></div>
<p>Usually, it’s a good practice to review the available versions and variants of the desired runtime. Note the presence of <code><span>miniconda</span></code> and <code><span>miniforge</span></code>; if this was Java we were talking about we’d also see different Java versions, JREs and JDKs.</p>
<div><pre><span></span>$ asdf list-all python | grep 3.10.0
3.10.0
mambaforge-23.10.0-0
miniconda3-3.8-23.10.0-1
miniconda3-3.9-23.10.0-1
miniconda3-3.10-23.10.0-1
miniconda3-3.11-23.10.0-1
miniforge3-23.10.0-0
</pre></div>
<p>Having found the Python version of interest we want to install, we continue doing so:</p>
<div><pre><span></span>$ asdf install python 3.10.0
python-build 3.10.0 /Users/sysiphus/.asdf/installs/python/3.10.0
python-build: use openssl@1.1 from homebrew
python-build: use readline from homebrew
Downloading Python-3.10.0.tar.xz...
-&gt; https://www.python.org/ftp/python/3.10.0/Python-3.10.0.tar.xz

...

python-build: use readline from homebrew
python-build: use ncurses from homebrew
python-build: use zlib from xcode sdk
Installed Python-3.10.0 to /Users/sysiphus/.asdf/installs/python/3.10.0
</pre></div>
<p>The process for Ruby is very much the same, although in this case I had already installed it in advance:</p>
<div><pre><span></span>$ asdf plugin add ruby
Plugin named ruby already added

$ asdf list-all ruby | grep 3.2.2
3.2.2

$ asdf install ruby 3.2.2
ruby 3.2.2 is already installed

</pre></div>
<p>Finally, it’s time to start using our Python and Ruby runtimes managed by <code><span>asdf</span></code>. Note both the <code><span>python</span></code> and <code><span>ruby</span></code> commands are aliased to so-called <code><span>asdf</span></code> shims, small shell scripts that will determine which Python and Ruby version to run depending on the versions installed and configured within <code><span>asdf</span></code>.</p>
<div><pre><span></span>$ type python
python is /Users/sysiphus/.asdf/shims/python

$ type ruby
ruby is /Users/sysiphus/.asdf/shims/ruby
</pre></div>
<p>However, upon trying to use the Python and Ruby runtimes we just installed, <code><span>asdf</span></code> tells us it cannot decide which version to use since we haven’t specified one yet on the local nor the global level:</p>
<div><pre><span></span>$ python --version
No version is set for command python
Consider adding one of the following versions in your config file at /Users/sysiphus/.tool-versions
python 3.10.0

$ ruby --version
No version is set for command ruby
Consider adding one of the following versions in your config file at /Users/sysiphus/.tool-versions
ruby 3.2.2
</pre></div>
</section>
<section id="tool-versions">
<h2><code><span>.tool-versions</span></code><a href="#tool-versions" title="Permalink to this heading">#</a></h2>
<figure id="id23">
<img alt="../../_images/asdf-docs-configuration-tool-versions.png" src="https://jdsalaro.com/_images/asdf-docs-configuration-tool-versions.png">
<figcaption>
<p><span><code><span>asdf</span></code> Documentation on <code><span>.tool-versions</span></code><a href="#asdfconfigurationtoolversions" id="id19" role="doc-noteref"><span>[</span>18<span>]</span></a></span><a href="#id23" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p><code><span>asdf</span></code> runtime versions are selected through so-called <code><span>.tool-versions</span></code> files, these can be present in the local directory <code><span>./.tool-versions</span></code> or in the user’s home directory <code><span>~/.tool-versions</span></code>.</p>
<p>In the second case, these are called global versions and can be set using <code><span>asdf</span> <span>global</span> <span>&lt;language&gt;</span> <span>&lt;version&gt;</span></code> and removed by editing the <code><span>~/.tool-versions</span></code> file.</p>
<div><pre><span></span>$ cat ~/.tool-versions

$ asdf global python 3.10.0

$ asdf global ruby 3.2.2

$ cat ~/.tool-versions
python 3.10.0
ruby 3.2.2
</pre></div>
<p>After selecting <code><span>3.10</span></code> and <code><span>3.2.2</span></code> as global <code><span>asdf</span></code> versions for Python and Ruby respectively, we can now transparently use them:</p>
<div><pre><span></span>$ python --version
Python 3.10.0

$ ruby --version
ruby 3.2.2 (2023-03-30 revision e51014f9c0) [arm64-darwin23]
</pre></div>
<p>That means <code><span>asdf</span></code> will from now on be in charge of managing our Python and Ruby versions, as well as any runtime for which a plugin is available and which we add to it. Going back go our trusty schematic, it now looks as follows:</p>
<figure>
<img alt="../../_images/asdf-vscode-multiple-projects-mulitple-folders-2.svg" src="https://jdsalaro.com/_images/asdf-vscode-multiple-projects-mulitple-folders-2.svg"></figure>
</section>
<section id="multiple-versions-of-the-same-runtime">
<h2>Multiple Versions of the same Runtime<a href="#multiple-versions-of-the-same-runtime" title="Permalink to this heading">#</a></h2>
<p>Recall our initial objective, we are looking to manage three different projects with their respective runtimes effortlessly and we are still missing the Python <code><span>2.7</span></code> runtime. In order to add it to <code><span>asdf</span></code>’s repertoire we proceed as explained in the previous section:</p>
<div><pre><span></span>$ asdf list-all python | grep 2.7
2.7.0
2.7-dev
2.7.1

...

2.7.18
</pre></div>
<p>Let’s go ahead with Python <code><span>2.7.18</span></code>, the last <code><span>2.7</span></code> minor version before the corresponding major version was deprecated forever<a href="#python2deprecation" id="id20" role="doc-noteref"><span>[</span>19<span>]</span></a>:</p>
<div><pre><span></span>$ asdf install python 2.7.18
python 2.7.18 is already installed
</pre></div>
<section id="overriding-the-global-tool-versions">
<h3>Overriding the Global <code><span>~/.tool-versions</span></code><a href="#overriding-the-global-tool-versions" title="Permalink to this heading">#</a></h3>
<p>You might be asking yourself how to override the <code><span>asdf</span> <span>global</span> <span>python</span> <span>3.10.0</span></code> configuration we set earlier. That is trivially achieved by placing a <code><span>.tool-versions</span></code> file in the directory of the project where you wish <code><span>asdf</span></code> to use a different version to the one globally selected:</p>
<div><pre><span></span>$ pwd
/Users/sysiphus/work/py27

$ ls
.		..		.tool-versions	README.md	main.py

$ cat .tool-versions
python 2.7.18

$ type python
python is /Users/sysiphus/.asdf/shims/python

$ python --version
Python 2.7.18

</pre></div>
<p>With that, we bid farewell once and for all to potential Python, or Ruby, version conflicts and are free to install, develop in, and manage as many runtime environments as we desire without affecting our main operating system or atleast with the possiblity to resolve problems much easier. The final state of our hypothetical development environment looks as follows:</p>
<div>
<p>
<label for="sd-tab-item-0">
0x0000</label></p><div>
<p><img alt="" src="https://jdsalaro.com/_images/asdf-vscode-multiple-projects-mulitple-folders-0.svg"></p>
<p>Two cloned Python <code><span>3.10.0</span></code> and Ruby <code><span>3.2.2</span></code> projects opened with VS Code</p>
</div>
<p>
<label for="sd-tab-item-1">
0x0001</label></p><div>
<p><img alt="" src="https://jdsalaro.com/_images/asdf-vscode-multiple-projects-mulitple-folders-1.svg"></p>
<p>Interactions between VS Code and available runtimes without <code><span>asdf</span></code></p>
</div>
<p>
<label for="sd-tab-item-2">
0x0002</label></p><div>
<p><img alt="" src="https://jdsalaro.com/_images/asdf-vscode-multiple-projects-mulitple-folders-2.svg"></p>
<p>Interactions between VS Code, <code><span>asdf</span></code> and its managed runtimes</p>
</div>
<p>
<label for="sd-tab-item-3">
0x0003</label></p><div>
<p><img alt="" src="https://jdsalaro.com/_images/asdf-vscode-multiple-projects-mulitple-folders-3.svg"></p>
<p>Final addition of Python <code><span>2.7.18</span></code></p>
</div>
</div>
<p>Consider the simplicity with which Python <code><span>2.7.18</span></code> has been added and how powerful this workflow is, since it can be extrapoladed to any other language supported by <code><span>asdf</span></code>. For example, adding a NodeJS project and its runtime to our increasingly complex but easy to manage <code><span>~/sysiphus/work/</span></code> directory is as simple as:</p>
<div><pre><span></span>$ asdf plugin add nodejs
...

$ asdf install nodejs latest
...

$ asdf global nodejs latest
...

$ node --version
v22.0.0
</pre></div>
<p>That last example is the reason I will remain, for the foreseeable future at least, a passionate and enthusiastic user of <code><span>asdf</span></code>.</p>
</section>
</section>
<section id="acknowledgements">
<h2>Acknowledgements<a href="#acknowledgements" title="Permalink to this heading">#</a></h2>
<p><a href="https://www.reddit.com/r/programming/comments/1cey166/comment/l1m1c8r">@crabmusket</a> on Reddit pointed out that the JavaScript community with <code><span>nvm</span></code> weren’t the ones to set the trend in motion, but that it was the Ruby community with <code><span>rvm</span></code> in <a href="https://rvm.io/rvm/about">2007</a>. Although I remembered vaguely that there was for sure something before <code><span>rbenv</span></code>, I couldn’t recall or find precisely what it was!</p>
</section>
<section id="final-words">
<h2>Final Words<a href="#final-words" title="Permalink to this heading">#</a></h2>
<p>For the time being, that is all from me regarding <code><span>asdf</span></code>. I hope to have presented a compelling case as to why you should give multi-lingual runtime environment managers a try and get a bit farther from the “it works on my machine days” which hunt many of us in our dreams.</p>
<p>If you are interested in receiving updates whenever I write something new, subscribe by entering your email in the registration form on the sidebar!</p>
<p>Thank you for reading and remember that feedback is always welcome and appreciated; you may contact me <a href="https://jdsalaro.com/about/"><span>via email or social media</span></a>. Let me know if there’s anything else you’d like to know, there’s something you’d like to have corrected, translated, added or clarified further.</p>
</section>
<section id="footnotes">
<h2>Footnotes<a href="#footnotes" title="Permalink to this heading">#</a></h2>



















</section>
</section>

    
    


                </article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[44% Unicorn Startups in the US were founded by foreign workers (105 pts)]]></title>
            <link>https://twitter.com/IlyaStrebulaev/status/1481662020659257349</link>
            <guid>40185970</guid>
            <pubDate>Sun, 28 Apr 2024 04:23:40 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://twitter.com/IlyaStrebulaev/status/1481662020659257349">https://twitter.com/IlyaStrebulaev/status/1481662020659257349</a>, See on <a href="https://news.ycombinator.com/item?id=40185970">Hacker News</a></p>
Couldn't get https://twitter.com/IlyaStrebulaev/status/1481662020659257349: Error: Request failed with status code 400]]></description>
        </item>
        <item>
            <title><![CDATA[Google Quantum AI (171 pts)]]></title>
            <link>https://quantumai.google/</link>
            <guid>40185883</guid>
            <pubDate>Sun, 28 Apr 2024 04:02:21 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://quantumai.google/">https://quantumai.google/</a>, See on <a href="https://news.ycombinator.com/item?id=40185883">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>

              

              <div id="mission">

<p>Our mission is to build best-in-class <span id="quantum computing" aria-describedby="quantum computing-tooltip" tabindex="0" role="tooltip">quantum computing<span id="quantum computing-tooltip">Error correction is the fundamental requirement for creating a truly useful quantum computer. It enables the scale required to perform complex calculations.
</span></span> for otherwise impossible problems.</p>  </div>

              <section>
  <devsite-carousel data-items-per-slide="1" data-hide-mobile-controls="">
    <ul>
      <li>
        <div>
          <div>
    <p>Featured</p>
  <p>
      <h2 id="xprize-quantum-applications-|-google-quantum-ai" data-text="XPRIZE Quantum Applications | Google Quantum AI" tabindex="-1">XPRIZE Quantum Applications | Google Quantum AI</h2>
  </p>
    <p>XPRIZE Quantum Applications | Google Quantum AI is a 3-year, $5M global competition designed to advance the field of quantum algorithms towards pro-society real-world applications, with funding from Google.org.</p>
    
</div>
          <p><img src="https://quantumai.google/static/site-assets/images/marketing/home/slide-1.png" alt="">
<img src="https://quantumai.google/static/site-assets/images/marketing/home/slide-1-mobile.png" alt="">
          </p>
        </div>
      </li>
      <li>
        <div>
          <div>
    <p>Featured</p>
  <p>
      <h2 id="industrial-use-cases-for-future-error-corrected-quantum-computers" data-text="Industrial use cases for future error-corrected quantum computers" tabindex="-1">Industrial use cases for future error-corrected quantum computers</h2>
  </p>
    <p>Google Quantum AI has continued collaborations with industry and academic partners to uncover future applications for error-corrected quantum computers. Learn more about three industrially relevant applications in the fields of chemistry, materials science, and energy where quantum computers could be used to solve problems that are currently intractable for classical computers.</p>
    
</div>
          <p><img src="https://quantumai.google/static/site-assets/images/marketing/home/industrial-use-case.png" alt="">
<img src="https://quantumai.google/static/site-assets/images/marketing/home/industrial-use-case-mobile.png" alt="">
          </p>
        </div>
      </li>
    </ul>
  </devsite-carousel>
</section>

              

              <section>









<div>
  <p>
      <h2 id="news-resources" data-text="News &amp; Resources" tabindex="-1">News &amp; Resources</h2>
  </p>
    <p>View published research, blog posts, and educational resources from the Quantum AI team.</p>
</div>
<div>

    <p><label for="tab-recent">Recent Posts</label>
    <label for="tab-resources">Resources</label>
  </p>

  

  <div>
      <div id="recent">
              <div>

    <p><img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-exponential-speedup.png" alt="">
<img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-exponential-speedup-mobile.png" alt="">
    </p>

  <div>

      <p>Recent Posts</p>

    <p>A new quantum algorithm for classical mechanics with an exponential speedup</p>

    

    
  </div>
</div>
              <div>

    <p><img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-leakage.png" alt="">
<img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-leakage-mobile.png" alt="">
    </p>

  <div>

      <p>Recent Posts</p>

    <p>Overcoming leakage on error-corrected quantum processors</p>

    

    
  </div>
</div>
              <div>

    <p><img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-entanglement.png" alt="">
<img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-entanglement-mobile.png" alt="">
    </p>

  <div>

      <p>Recent Posts</p>

    <p>Measurement-induced entanglement phase transitions in a quantum circuit</p>

    

    
  </div>
</div>
              <div>

    <p><img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-handoff.jpg" alt="">
<img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-handoff-mobile.jpg" alt="">
    </p>

  <div>

      <p>Recent Posts</p>

    <p>A quantum computing partnership with the University of Chicago and the University of Tokyo</p>

    

    
  </div>
</div>
          </div>
      <div id="resources">
              <div>

    <p><img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-sycamore.jpg" alt="">
<img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-sycamore-mobile.jpg" alt="">
    </p>

  <div>

      <p>Resources</p>

    <p>Our focused and responsible approach to quantum computing</p>

    

    
  </div>
</div>
              <div>

    <p><img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-quantum-journey.jpeg" alt="">
<img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-quantum-journey-mobile.jpeg" alt="">
    </p>

  <div>

      <p>Resources</p>

    <p>Our quantum computing journey</p>

    

    
  </div>
</div>
              <div>

    <p><img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-lab.jpg" alt="">
<img src="https://quantumai.google/static/site-assets/images/marketing/cards/discover-lab-mobile.jpg" alt="">
    </p>

  <div>

      <p>Resources</p>

    <p>Discover the Quantum AI campus</p>

    

    
  </div>
</div>
          </div>
  </div>
</div></section>
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[How to improve the RISC-V specification (152 pts)]]></title>
            <link>https://alastairreid.github.io/riscv-spec-issues/</link>
            <guid>40185065</guid>
            <pubDate>Sun, 28 Apr 2024 01:05:37 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://alastairreid.github.io/riscv-spec-issues/">https://alastairreid.github.io/riscv-spec-issues/</a>, See on <a href="https://news.ycombinator.com/item?id=40185065">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
    <p><img src="https://alastairreid.github.io/images/riscv-logo.png" alt="RISC-V logo">
My main project is to create an executable spec of the Intel Architecture
but, every now and then, I get to take a broader look at ISA specifications
and think about the strengths and weaknesses of other ISA specs:
what makes them work well; and what techniques they could borrow
from other specifications.
Earlier this month, someone asked me for my thoughts on the RISC-V
specification and I thought that it would be useful to share
what I found out.</p>

<p>This post is about the RISC-V specification.
This specification effectively consists of several different parts
each an essential part of defining the RISC-V architecture.
The most obvious part of the specification are
<a href="https://github.com/riscv/riscv-isa-manual/releases/download/Ratified-IMAFDQC/riscv-spec-20191213.pdf">RISC-V Instruction Set Manual, volume 1</a>
and <a href="https://github.com/riscv/riscv-isa-manual/releases/download/Priv-v1.12/riscv-privileged-20211203.pdf">RISC-V Instruction Set Manual, volume 2</a>: PDF documents that
describe the unprivileged and privileged parts of the architecture.
If you are developing a RISC-V processor, you will probably make heavy
use of the <a href="https://github.com/riscv-non-isa/riscv-arch-test/blob/main/riscv-test-suite/README.md">RISC-V Test Suites</a> to check that your processor correctly
implements the architecture.
And you will probably be using the <a href="https://github.com/riscv-software-src/riscv-isa-sim">Spike RISC-V ISA Simulator</a> as a “golden
reference model” to compare the behavior of your processor against.
And, finally, you might be using the <a href="https://github.com/riscv/sail-riscv">SAIL RISC-V model</a> as a formal
specification of the architecture. (Although, I think this has mostly
used to reason about software, rather than hardware.)</p>

<h2 id="whats-wrong-with-this-picture">What’s wrong with this picture?</h2>

<p>Overall, the specification is not in a very healthy state.</p>

<p>The two PDF documents rely heavily on natural language
text in the specification with the result that the description is
not always very precise and it is impossible to test the descriptions
to determine whether they match the other artifacts.</p>

<p>A common complaint about the test suites is that the RISC-V
architecture is very highly configurable with many subsets and
implementation choices allowed but the test suites is not
easily configured to check the full envelope of allowed behaviors.
Some of these issues stems from the challenge of creating a machine-readable
description of which particular configuration you intended to build.
(This also limits the ability to use Spike as a golden reference model.)
If you intend to build something outside the range of configurations
that Spike and the test suite support, you will end up with a large
number of “waivers” documenting the places where your processor is
expected to fail the tests.</p>

<p>Finally, there is the SAIL model written in the
<a href="https://github.com/rems-project/sail?tab=readme-ov-file">SAIL ISA specification language</a>.
This is a precise, executable, formal specification of the architecture
but it is not used as much as it should be.
Ideally, parts of the SAIL specification would be included in the
official PDF documents so that the SAIL code can add the precision
that the natural language spec lacks and the natural language
specification can make up for the almost total absence of comments
in the SAIL specification.</p>

<p>A complaint that I often hear about the SAIL specification is
that it is a bit inaccessible for normal users. The SAIL language
design builds on a number of popular academic languages
and programming language research ideas
such as the <a href="https://ocaml.org/">OCaml Functional Programming Language</a>,
<a href="https://goto.ucsd.edu/~ucsdpl-blog/liquidtypes/2015/09/19/liquid-types/">Liquid types</a>, <a href="https://en.wikipedia.org/wiki/Monad_(functional_programming)">Monads</a>, and <a href="https://en.wikipedia.org/wiki/Effect_system">Effect Systems</a>.
The challenge with drawing on these different sources
is that the primary audience for the specification is
not programming language researchers but people who
work on hardware design, hardware validation, OS developers,
compiler developers, etc. — many of whom are not familiar with
the academic programming language literature and are confused and
put off by the syntax of SAIL.
To illustrate this, consider the following SAIL example
from early in the SAIL reference manual:</p>

<div><pre><code>val my_replicate_bits : forall 'n 'm, 'm &gt;= 1 &amp; 'n &gt;= 1.  (int('n), bits('m)) -&gt; bits('n * 'm)
</code></pre></div>

<p>If you are not familiar with OCaml and liquid types, some questions that
you might ask are “What are the quote marks for in <code>'m</code> and <code>'n</code>?” and
“What does <code>forall 'n 'm</code> mean?”</p>

<h2 id="connecting-the-pieces-machine-readable-formats">Connecting the pieces: machine-readable formats</h2>

<p>The most important problem is that these four artifacts seem to be completely disconnected from
each other. They are maintained as four separate codebases in four separate repositories
and no part of one artifact is generated from part of any other artifact.
If you are writing an architecture extension, you have to write the same thing four times in four
separate formats and then you have to use testing and review to check that all four copies
are the same.</p>

<p>But worse than this, there is a whole ecosystem around RISC-V who will also be writing
code in response to your architecture extension. There are hardware designers,
hardware validation teams,
developers of software tools (such as assemblers, compilers and JITs), OS hackers and
debugger developers, etc. that are all going to have to write some code to support
or benefit from any architecture extension. They also have to write all this code by
hand and then review and test the code to make it consistent with the official spec.</p>

<p>It is worth noting that most architecture extensions evolve between the first design and the final,
ratified design: evaluating that design requires tool support; socializing and reviewing the
design requires documentation. So each extension is typically implemented many times
and each revision requires updates in many places.</p>

<p>The easiest way to improve this would be to capture as much of the architecture
as possible in formats that are easy to read and manipulate.
In particular, instruction encodings and control/status registers are
easily described by simple JSON/YAML/XML/… formats.
It doesn’t take long to figure out what data you need to include to
support generation of many different artifacts from such files:</p>

<ul>
  <li>The name and a short description (for generating documentaton).</li>
  <li>The size, bitfields, fixed bits, etc.</li>
  <li>For registers, there will be a numeric id that is used to identify
the register.</li>
  <li>What constraints are there on using the instruction or register?
Is it usable in hypervisor mode? supervisor mode? usermode?</li>
  <li>For register fields, is the field readable? is it writable?
what is its reset value? what is the meaning of different values
that this field can have?</li>
  <li>For instructions, what is the assembly syntax? (See <a href="https://alastairreid.github.io/riscv-spec-issues/(/bidirectional-assemblers/)">Bidirectional ARM Assembly Syntax Specifications</a>)</li>
  <li>Which configurations support each entry, field or value?</li>
</ul>

<p>I’ve probably missed a few important pieces of information but you get the idea.</p>

<p>Of course, creating this easy-to-use, highly-reusable machine readable spec
is just the first part.
To make a difference, you have to modify the architecture reference manual,
the Spike simulator, the testsuite and the SAIL specification to use this data.
You have to find every part of these artifacts that currently contains
information about instructions or CSRs and refactor them around
code that is automatically generated from the json/yaml/xml file.
Doing this is critical to making it equally possible to auto-generate
code for any new architecture extensions.</p>

<p>And, as that is being done, people should be looking at the extended
ecosystem of build tools, libraries, OSes, etc. to autogenerate
as much of them as possible from the machine readable data files.</p>

<h2 id="making-sail-usable-in-documentation">Making SAIL usable in documentation</h2>

<p>I have already touched on the problems for readers from a broad
range of backgrounds reading SAIL specifications.
There are a range of improvements that can be made here from
changing the syntax to applying sensible defaults to reduce
the amount of clutter from the type system.
(Ideally, this would be done by adopting some of the syntax
of the <a href="https://developer.arm.com/ASL1">ASL-1.0</a> ISA specification language which has many
of the same features but was designed with more focus on
use in documentation.)</p>

<p>But there is another issue that is both more fundamental and also easier to solve:
the SAIL specification
is currently a large, monolithic specification.
There is no easy way to extract an individual instruction specification
or function definition to include in a particular place in the
documentation.
The easiest option to include the SAIL spec into the current spec would be
to include the entire spec as a giant appendix at the back of the architecture manual.
But it is much better to put each part of the SAIL spec on the same page
as the natural language description of the same feature so that
the SAIL spec can amplify your understanding of the natural language spec and
the natural language spec can help you understand the SAIL spec.</p>

<p>Fortunately, the fix is easy:
either split the SAIL spec into smaller pieces (e.g., one definition per file)
or write a tool to do it for you.
This makes it easy to include the relevant part of the SAIL spec into
the the documentation.</p>

<p><em>[Note that there has been  some work in the  direction of using the SAIL specs
in documentation such as the <a href="https://github.com/Alasdair/asciidoctor-sail/blob/master/doc/built/sail_to_asciidoc.pdf">SAIL-to-ASCIIdoc</a> tool.]</em></p>



<p>Why do we have two executable parts to the specification:
the SAIL specification and the Spike golden reference simulator?
The historical reasons for this are clear but it would be
good if Spike support for future extensions was generated
from their SAIL specification.</p>

<p>This will take a bit of work to do.  Mostly, this will consist of defining the
interface that code generated from the SAIL specs uses to access parts of the
state that are represented in Spike.</p>

<h2 id="conclusion">Conclusion</h2>

<p>The RISC-V architecture was developed in classic startup/academic style:
innovating quickly and avoiding too much investment in long-term engineering.
This has resulted in the current situation where the architecture specification
is, in effect, scattered over four different artifacts and each
downstream tool/library/application has to transcribe information from
those sources instead of being able to use architect-provided machine-readable
formats to generate the code instead.</p>

<p>This was not too big a problem for the original base architecture of just
47 instructions and 32 registers but there have been many <a href="https://en.wikipedia.org/wiki/RISC-V#ISA_base_and_extensions">RISC-V ISA extensions</a>
added since then.</p>

<h3 id="related-posts-and-papers">Related posts and papers</h3>

<ul>
  <li><a href="https://alastairreid.github.io/talks/goals-of-modern-ISA-spec-PLARCH-2023-06-17.pdf">Goals of a modern ISA specification</a>
(presented at <a href="https://alastairreid.github.io/plarch-2023/">PLARCH 2023</a>)</li>
  <li><a href="https://alastairreid.github.io/uses-for-isa-specs/">What can you do with an ISA specification?</a></li>
  <li><a href="https://alastairreid.github.io/mrs-at-scale/">Machine readable specifications at scale</a></li>
  <li><a href="https://alastairreid.github.io/bidirectional-assemblers/">Bidirectional ARM Assembly Syntax Specifications</a></li>
</ul>


  </div><p>
    Written on April 27, 2024.
    <br>
    The opinions expressed are my own views and not my employer's.
  </p></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Google made me ruin a perfectly good website (2023) (1003 pts)]]></title>
            <link>https://theluddite.org/#!post/google-ads</link>
            <guid>40184673</guid>
            <pubDate>Sat, 27 Apr 2024 23:52:11 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://theluddite.org/#!post/google-ads">https://theluddite.org/#!post/google-ads</a>, See on <a href="https://news.ycombinator.com/item?id=40184673">Hacker News</a></p>
<div id="readability-page-1" class="page">
    
    
    <p>
      It seems your Javascript is turned off. Maybe you'd prefer the <a target="_blank" href="https://theluddite.org/feed.rss">RSS</a> feed?
    </p>
  

</div>]]></description>
        </item>
        <item>
            <title><![CDATA[Let's Embed a Go Program into the Linux Kernel (120 pts)]]></title>
            <link>https://sigma-star.at/blog/2023/07/embedded-go-prog/</link>
            <guid>40184515</guid>
            <pubDate>Sat, 27 Apr 2024 23:20:17 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://sigma-star.at/blog/2023/07/embedded-go-prog/">https://sigma-star.at/blog/2023/07/embedded-go-prog/</a>, See on <a href="https://news.ycombinator.com/item?id=40184515">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        
<p>Today, we would like to present a lesser-known feature of the Linux kernel.
Instead of launching a program from a file system, regardless of whether it’s virtual or not, it is also possible to embed a user-space program directly into the kernel image itself and start it from there.</p>
<h2 id="introduction">Introduction</h2>
<p>At first glance, this might sound outlandish and of little use, but there are cases where the kernel needs to execute helper programs.
Prominent examples include the module loader helper, <code>/sbin/modprobe</code>, or the Spanning Tree Protocol (STP) helper for Linux’s 802.1d Ethernet bridge subsystem, <code>/sbin/bridge-stp</code>.
On Linux, programs are typically launched from a file system using the <code>execve()</code> system call.
The kernel reads the initial parts of the specified file and hands over execution to user space.
Various helper functions exist on top of this system call, but they all have in common that the program to be executed is started from a file.
The same applies to the Linux user mode helper API, which allows executing a program from a driver.
Both scenarios require the program to be installed and loadable.
In most cases, having the program installed is a trivial problem if you have control over all user space, as is the case with a typical Linux distribution.</p>
<p>However, things become complicated if you are a Board Support Package (BSP) supplier, either external or in-house, and don’t always have easy access to the workflow that determines what to install in the root file system.
Ensuring that a program is actually loadable from the current root file system is a different story.
A common problem arises in setups where the root file system is attached using network storage, such as NFS or iSCSI.
If the network connection is unavailable, all access to the root file system fails, and the kernel is unable to run helpers anymore.
This is where the mechanism we’d like to present in this blog post can help.</p>
<p>Let’s assume we have a device driver called <code>embedded_prog</code> that requires a user space helper program, which must be executable at any time.
First, we need the program we want to embed.
Strictly speaking, any program will do, but we need to ensure that the program in question has no dependencies on the file system.
Linking it statically provides benefits.
Go programs are statically linked by default, and to illustrate that the following approach works with any kind of program, we have chosen to embed a Go program into the kernel.
The driver itself is very simple.
All it does is execute the helper program as soon as the driver is loaded, and when the program writes something into the pipe, the contents are directly logged into the kernel log buffer.</p>
<h2 id="the-go-program">The Go Program</h2>
<p>To keep things simple, the program itself will be straightforward.
It will write ‘Hello, world!’ to standard output every five seconds.</p>
<div>
<table><tbody><tr><td>
<pre tabindex="0"><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span></code></pre></td>
<td>
<pre tabindex="0"><code data-lang="go"><span><span><span>package</span> <span>main</span>
</span></span><span><span>
</span></span><span><span><span>import</span> <span>(</span>
</span></span><span><span>        <span>"fmt"</span>
</span></span><span><span>        <span>"time"</span>
</span></span><span><span><span>)</span>
</span></span><span><span>
</span></span><span><span><span>func</span> <span>main</span><span>()</span> <span>{</span>
</span></span><span><span>        <span>for</span> <span>{</span>
</span></span><span><span>                <span>fmt</span><span>.</span><span>Println</span><span>(</span><span>"Hello, world!"</span><span>)</span>
</span></span><span><span>                <span>time</span><span>.</span><span>Sleep</span><span>(</span><span>5</span> <span>*</span> <span>time</span><span>.</span><span>Second</span><span>)</span>
</span></span><span><span>        <span>}</span>
</span></span><span><span><span>}</span>
</span></span></code></pre></td></tr></tbody></table>
</div><p>Since we want to be independent of the root file system, we need to ensure that the program does not access files from the root file system.
We can achieve this by using strace to trace its system calls.</p>
<pre tabindex="0"><code>$ strace -fe trace=file ./eprog_user
execve("./eprog_user", ["./eprog_user"], 0x7fff743fbd50 /* 61 vars */) = 0
openat(AT_FDCWD, "/sys/kernel/mm/transparent_hugepage/hpage_pmd_size", O_RDONLY) = 3
strace: Process 17908 attached
strace: Process 17909 attached
strace: Process 17910 attached
strace: Process 17911 attached
[pid 17905] --- SIGURG {si_signo=SIGURG, si_code=SI_TKILL, si_pid=17905, si_uid=1000} ---
Hello, world!
Hello, world!
^C
strace: Process 17905 detached
strace: Process 17908 detached
strace: Process 17909 detached
strace: Process 17910 detached
strace: Process 17911 detached
</code></pre><p>Looks good!
Access to files in <code>/proc</code> or <code>/sys</code> is fine.
These are virtual file systems and can be assumed to be present and working at all times.
They are part of the Linux ABI interface.</p>
<h2 id="linuxs-user-mode-helper-api">Linux’s User Mode Helper API</h2>
<p>If your device driver needs to execute a user space program, the User Mode Helper API is the way to go.
The core function to use the API is <code>call_usermodehelper()</code>, which has the following signature:</p>
<div><pre tabindex="0"><code data-lang="C"><span><span><span>int</span> <span>call_usermodehelper</span><span>(</span><span>const</span> <span>char</span> <span>*</span><span>path</span><span>,</span> <span>char</span> <span>**</span><span>argv</span><span>,</span> <span>char</span> <span>**</span><span>envp</span><span>,</span> <span>int</span> <span>wait</span><span>);</span>
</span></span></code></pre></div><p>Similar to the <code>execve()</code> system call, <code>call_usermodehelper()</code> takes parameters such as the filename of the program to be executed, supplied arguments, environment, and a flag denoting whether the call should be asynchronous or not.
However, this is not what we want for running an embedded program within the kernel image itself.</p>
<p>Since Linux v4.18, a more advanced API called user mode driver is available to run a user mode helper.
The basic idea behind this API is that instead of specifying a path to a file on the root file system, an arbitrary buffer can be provided.
The content of this buffer will be executed in user space just like a regular program.</p>
<div><pre tabindex="0"><code data-lang="C"><span><span><span>int</span> <span>umd_load_blob</span><span>(</span><span>struct</span> <span>umd_info</span> <span>*</span><span>info</span><span>,</span> <span>const</span> <span>void</span> <span>*</span><span>data</span><span>,</span> <span>size_t</span> <span>len</span><span>);</span>
</span></span><span><span><span>int</span> <span>fork_usermode_driver</span><span>(</span><span>struct</span> <span>umd_info</span> <span>*</span><span>info</span><span>);</span>
</span></span></code></pre></div><p>Using <code>umd_load_blob()</code>, a program context is created from a buffer, and later it is executed by <code>fork_usermode_driver()</code>.
In addition to running the program, the User Mode Driver API also establishes a pipe between the program and the kernel, enabling inexpensive communication between them.</p>
<p>But how do we get our Go program into that buffer?
We don’t want a new user space interface where the program has to be loaded into the kernel first.
We want it to be part of the kernel image.</p>
<h2 id="gnu-assember-to-the-rescue">GNU Assember to the Rescue!</h2>
<p>The kernel build system, specifically the GNU assembler (gas), can assist us in embedding the Go program into the resulting kernel image during the build process.
By using a gas file, <code>eprog_user_blob.S</code>, we can instruct the assembler to generate a C object file with two symbols: <code>embedded_umh_start</code> and <code>embedded_umh_end</code>.
These symbols will contain the contents of a binary file specified by the <code>.incbin</code> command, and this file can be arbitrary.</p>
<div>
<table><tbody><tr><td>
<pre tabindex="0"><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span><span>5
</span><span>6
</span></code></pre></td>
<td>
<pre tabindex="0"><code data-lang="Gas"><span><span>        <span>.section</span> <span>.init.rodata</span><span>,</span> <span>"a"</span>
</span></span><span><span>        <span>.global</span> <span>embedded_umh_start</span>
</span></span><span><span><span>embedded_umh_start:</span>
</span></span><span><span>        <span>.incbin</span> <span>"drivers/misc/embedded_prog/eprog_user"</span>
</span></span><span><span>        <span>.global</span> <span>embedded_umh_end</span>
</span></span><span><span><span>embedded_umh_end:</span>
</span></span></code></pre></td></tr></tbody></table>
</div><p>If we link the resulting object file, <code>eprog_user_blob.o</code>, with our Linux device driver, we can utilize the symbols to locate the contents of the Go program within the kernel image.
This makes loading and executing the program from a buffer straightforward.
In this case, the buffer passed to <code>umd_load_blob()</code> is a memory location within the read-only section of the in-memory kernel image.
The linker has kindly prepared everything for us at compile time!</p>
<p>The code snippet provided below demonstrates the essential segments of the device driver, <code>eprog_kern.c</code>, responsible for loading and executing the Go program:</p>
<div>
<table><tbody><tr><td>
<pre tabindex="0"><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span><span>5
</span><span>6
</span></code></pre></td>
<td>
<pre tabindex="0"><code data-lang="C"><span><span><span>struct</span> <span>umd_info</span> <span>eprog_ctx</span> <span>=</span> <span>{</span>
</span></span><span><span>        <span>.</span><span>driver_name</span> <span>=</span> <span>"eprog_user"</span><span>,</span>
</span></span><span><span><span>};</span>
</span></span><span><span>
</span></span><span><span><span>umd_load_blob</span><span>(</span><span>&amp;</span><span>eprog_ctx</span><span>,</span> <span>&amp;</span><span>embedded_umh_start</span><span>,</span> <span>&amp;</span><span>embedded_umh_end</span> <span>-</span> <span>&amp;</span><span>embedded_umh_start</span><span>);</span>
</span></span><span><span><span>fork_usermode_driver</span><span>(</span><span>&amp;</span><span>eprog_ctx</span><span>);</span>
</span></span></code></pre></td></tr></tbody></table>
</div><p>Using the <code>nm</code> command, we can observe the symbols in the driver.
If the driver is built as a loadable module, you can run <code>nm</code> on <code>eprog.o</code>.
Otherwise, if it is built directly into the kernel, you can run <code>nm</code> on <code>vmlinux</code>.</p>
<pre tabindex="0"><code>$ nm eprog.o | grep embedded_umh_
00000000001bc4e4 R embedded_umh_end
0000000000000000 R embedded_umh_start
</code></pre><pre tabindex="0"><code>$ nm vmlinux | grep embedded_umh_
0000000060688a00 d embedded_umh_end
00000000604cc51c d embedded_umh_start
</code></pre><h2 id="gluing-it-all-together">Gluing it all Together</h2>
<p>So far we have the following components:</p>
<ul>
<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/rw/misc.git/tree/drivers/misc/embedded_prog/eprog_kern.c?h=embedded_go_prog">eprog_kern.c</a>: The kernel driver that runs <code>umd_load_blob()</code> and <code>fork_usermode_driver()</code>.</li>
<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/rw/misc.git/tree/drivers/misc/embedded_prog/eprog_user_blob.S?h=embedded_go_prog">eprog_user_blob.S</a>, The assembly source file we use to embed the Go program into a C object.</li>
<li><a href="https://git.kernel.org/pub/scm/linux/kernel/git/rw/misc.git/tree/drivers/misc/embedded_prog/gohello/hello.go?h=embedded_go_prog">gohello/hello.go</a>, Our Go program, located in a subdirectory of our driver.</li>
</ul>
<p>Using the following Makefile, all components are build and connected together:</p>
<div>
<table><tbody><tr><td>
<pre tabindex="0"><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span><span>5
</span><span>6
</span><span>7
</span></code></pre></td>
<td>
<pre tabindex="0"><code data-lang="Makefile"><span><span><span>$(obj)/eprog_user_blob.o</span><span>:</span> <span>$(</span><span>obj</span><span>)</span>/<span>eprog_user</span>
</span></span><span><span><span>$(obj)/eprog_user</span><span>:</span> <span>$(</span><span>srctree</span><span>)</span>/<span>drivers</span>/<span>misc</span>/<span>embedded_prog</span>/<span>gohello</span>/<span>hello</span>.<span>go</span>
</span></span><span><span>        <span># TODO: Add support for cross builds</span>
</span></span><span><span>        go build -o <span>$(</span>obj<span>)</span>/eprog_user <span>$(</span>srctree<span>)</span>/drivers/misc/embedded_prog/gohello/hello.go
</span></span><span><span>
</span></span><span><span><span>obj-$(CONFIG_EMBEDDED_PROG)</span> <span>+=</span> eprog.o
</span></span><span><span><span>eprog-objs</span> <span>+=</span> eprog_kern.o eprog_user_blob.o
</span></span></code></pre></td></tr></tbody></table>
</div><p>Linux’s GNU make-based build system is rather flexible: it allows us to build our Go program even while building the kernel.</p>
<p>The following graphic outlines how all components are connected:</p>
<figure>
<img src="https://sigma-star.at/blog/2023/07/embedded-go-prog/eprog.svg" alt="Relationship between C objects"></figure>
<h2 id="demo">Demo</h2>
<pre tabindex="0"><code>$ insmod eprog.ko
$ ps fax
  PID TTY      STAT   TIME COMMAND
    2 ?        S      0:00 [kthreadd]
[..]
   25 ?        Sl     0:00  \_ eprog_user
[..]
   30 ?        R      0:00 ps fax
$ dmesg -w
[   53.300000] eprog: From userspace: Hello, world!
[   58.310000] eprog: From userspace: Hello, world!
[...]
</code></pre><p>We observe a new process, <code>eprog_user</code>, right after loading the driver module.
It is not a kernel thread, the name is not in square brackets and it is not a child
of PID 1 but of <code>kthreadd</code>.
Every five seconds the Go program will write <code>Hello, world!</code> via standard output
to the kernel driver which prints the string to the kernel log buffer.
Once the module is unloaded, the process is killed.</p>
<h2 id="summary">Summary</h2>
<p>We have seen that using a small assembly file and the User Mode Driver mechanism, it is possible to embed any kind of executable into the kernel image and run it later from there.
It works with any kind of program; we used a Go binary because it is statically linked and has no dependencies on the root file system.
If you’re using your own program and want to be completely independent of the root file system, make sure that you know in detail which files it will process.
While the number of valid use cases for the presented feature is arguably small, it is still interesting to have and opens the door to new possibilities.
The example driver is rather simple, but there are numerous other ways to utilize this feature.
Please keep in mind that adding programs to the kernel image comes with a cost: the program as a whole will always stay in memory.</p>
<p>The full example driver is available on <a href="https://git.kernel.org/pub/scm/linux/kernel/git/rw/misc.git/tree/drivers/misc/embedded_prog?h=embedded_go_prog">git.kernel.org</a>.</p>

        </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Burn After Wearing (201 pts)]]></title>
            <link>https://grist.org/international/burn-after-wearing-fashion-waste-chile/</link>
            <guid>40184434</guid>
            <pubDate>Sat, 27 Apr 2024 23:10:40 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://grist.org/international/burn-after-wearing-fashion-waste-chile/">https://grist.org/international/burn-after-wearing-fashion-waste-chile/</a>, See on <a href="https://news.ycombinator.com/item?id=40184434">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
      
    
  
<p><em>This story was produced by Grist and co-published with&nbsp;<a href="https://elpais.com/america/" target="_blank" rel="noreferrer noopener">El País</a></em>.<em>&nbsp;A Spanish-language version <a href="https://elpais.com/america-futura/2024-01-04/las-montanas-de-ropa-se-esfumaron-del-desierto-de-atacama-pero-el-problema-no-desaparecio.html" target="_blank" rel="noreferrer noopener">can be read here</a>.</em> <em>Reporting was supported by the&nbsp;<a href="https://journalism.columbia.edu/news/2022-fellows-joan-konner-program-journalism-ideas-are-named" target="_blank" rel="noreferrer noopener">Joan Konner Program in the Journalism of Ideas</a>.</em></p>



<p>On the morning of June 12, 2022, Ángela Astudillo, then a law student in her mid-20s, grabbed her water bottle and hopped into her red Nissan Juke. The co-founder of Dress Desert, or <a href="https://www.instagram.com/desiertovestido_tarapaca/">Desierto Vestido</a>, a textile recycling advocacy nonprofit, and the daughter of tree farmers, Astudillo lives in a gated apartment complex in Alto Hospicio, a dusty city at the edge of the Atacama Desert in northern Chile, with her husband, daughter, bunny, and three aquatic turtles.&nbsp;</p>



<p>Exiting the compound, Astudillo pinched the wheel, pulled over next to a car on the side of the road, and greeted Bárbara Pino, a fashion professor, and three of her students, who were waiting inside.&nbsp;</p>



<p>They headed toward a mountain of sand known as El Paso de la Mula. Less than a mile from her home, squinting into the distance, Astudillo saw a thread of smoke rising from its direction. With her in the lead, the two vehicles caravanned toward the dune, the site of the second-largest clothes pile in the world.&nbsp;</p>



<p>As they got closer to El Paso de La Mula, the thin trail of smoke had expanded into a huge black cloud. Astudillo stopped the car and texted the academics behind her.&nbsp;</p>



<p><em>It looks like it’s on fire. </em><em>Hopefully, it’s not there. :( :( :(</em></p>



<p>She then dialed them directly and asked, “Do you still want to go?”</p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-095-min.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-095-min.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-095-min.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-095-min.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-095-min.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-095-min.jpg?w=1536 1536w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-095-min.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-095-min.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-095-min.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-095-min.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-095-min.jpg 1024w" alt="a Chilean flag stands in a traffic cone in the desert among burned piles of garbage" data-caption="A Chilean flag stands in a traffic cone among burned piles of clothing in the Atacama Desert. " data-credit="Fernando Alarcón"></p><figcaption>A Chilean flag stands in a traffic cone among burned piles of clothing in the Atacama Desert.  <cite>Fernando Alarcón</cite></figcaption></div></figure>



<p>Pino, director of <a href="https://www.instagram.com/udpmodus/">Santiago’s Fashion System Observatory</a> at Universidad Diego Portales, had planned this trip for months. Astudillo had volunteered to be their guide. The mound of discarded fabric in the middle of the Atacama weighed an estimated <a href="https://drive.google.com/file/d/1MIji_6Oou8zKky32tveC-pOnGRJr_76F/view">11,000 </a>to <a href="https://theworld.org/stories/2022-11-01/fast-fashion-causing-environmental-disaster-chiles-atacama-desert">59,000 tons</a>, equivalent to one or two times the Brooklyn Bridge.&nbsp;</p>



<p>By the time the team reached the gates of El Paso de la Mula, more than half of the clothes pile was on fire. Smoke obscured everything, hanging like an opaque black curtain. Municipal authorities turned the group away, forbidding them to stay on the premises. But Astudillo knew the landscape, so she directed the team to the dune’s far side, where access was still unimpeded.&nbsp;</p>



<p>There, the students surveyed the inferno. It was “like a war,” Pino said. She felt waves of heat. Black smoke unspooled from the burning clothes. The air was dense and hard to breathe. Smoke coated the back of their throats and clogged their nostrils with the acrid smell of melting plastic. They covered their faces, trying not to breathe it in. Then the group heard a series of loud pops as mini explosions burst from within the vast expanse of burning garments.&nbsp;</p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/angelaastudillodesierto.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/angelaastudillodesierto.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/angelaastudillodesierto.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/angelaastudillodesierto.jpg?w=1152 1152w, https://grist.org/wp-content/uploads/2024/01/angelaastudillodesierto.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/angelaastudillodesierto.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/angelaastudillodesierto.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/angelaastudillodesierto.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/angelaastudillodesierto.jpg 1024w" alt="a young woman holds a black piece of clothing with embroidery near a large pile of textile trash in the desert" data-caption="Ángela Astudilo holds a piece of discarded clothing from the Atacama Desert. " data-credit="Fernando Alarcón"></p><figcaption>Ángela Astudilo holds a piece of discarded clothing from the Atacama Desert.  <cite>Fernando Alarcón</cite></figcaption></div></figure>



<p>Despite the danger, Pino and her students rummaged, pulling out specimens to examine from among unburned portions of the pile. On prior visits to the clothes dump, Astudillo had uncovered clothing produced by the world’s most well-known brands: Nautica, Adidas, Wrangler, Old Navy, H&amp;M, Ralph Lauren, Tommy Hilfiger, Forever 21, Zara, Banana Republic. Store tags still dangled from many of her findings. The clothes had <a href="https://obtienearchivo.bcn.cl/obtienearchivo?id=repositorio/10221/33437/1/BCN__ropa_usada_mercado_regulacio__n_nacional_y__comparada_agos2022.pdf">come to the Atacama</a> from Europe, the United States, Korea, and Japan. Now, as Astudillo began taking pictures and uploading them to Instagram, Pino wandered the mound, horrified and fascinated by the grotesque volume and variety of apparel: ski jackets, ball gowns, bathing suits. She plucked out a rhinestone-encrusted platform stiletto in perfect condition. She crouched to search for its match, but the wind was getting stronger. If it shifted, the team realized, they’d be trapped in the spreading fire.&nbsp;</p>



<p>For 14 years, no rain has fallen in Alto Hospicio or the surrounding Atacama Desert region. Those dry conditions, coupled with the nonbiodegradable, predominantly synthetic, petroleum-derived fibers that modern clothes are made with, meant that the pile never shrank. Instead, for more than two decades, it grew — metastasized — with every discarded, imported item that was added.</p>



<p>In 2021, six months prior to the fire, a photographer from Agence France Presse, Martín Bernetti, captured a bird’s-eye image of this sprawling mound of apparel, essentially an oil slick, strewn across the edge of the Atacama desert.&nbsp;</p>



<p>The aerial image was picked up by news outlets across the globe, from the front page of the New York Post<em> </em>to the BBC, and continues to circulate today. But the mountain of clothes depicted by that 2021 drone photo is utterly gone. As Astudillo, Pino, and the three students witnessed, and unwittingly tasted: The blaze tore through the pile, throwing black plumes of toxic ash into the air.</p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428282.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428282.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428282.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428282.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428282.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428282.jpg?w=1536 1536w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428282.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428282.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428282.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428282.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428282.jpg 1024w" alt="a huge pile of clothing in the desert as seen from a drone" data-caption="An aerial view of used clothes discarded in the Atacama Desert, in Alto Hospicio, Iquique, Chile, on September 26, 2021. " data-credit="Martin Bernetti / AFP via Getty Images"></p><figcaption>An aerial view of used clothes discarded in the Atacama Desert, in Alto Hospicio, Iquique, Chile, on September 26, 2021.  <cite>Martin Bernetti / AFP via Getty Images</cite></figcaption></div></figure>



<p>The town of Alto Hospicio sits on a cliff above the Pacific Ocean, a bedroom community for the seaside vacation city of Iquique below. Imagine if Atlantic City in New Jersey were simultaneously hemmed in and backed by a high Nevada plateau, and if the two locales were connected by a two-lane switchback highway.&nbsp;</p>



<p>Each day in Iquique’s port, giant cranes pluck containers full of discarded clothing from the decks of ships and deposit them onto flatbed trucks. No one really knows exactly how much clothing passes through the port every year; estimates range from <a href="https://remake.world/stories/old-navy-hm-and-levis-tags-found-in-landfill-fire/">60,000</a> to <a href="https://www.nationalgeographic.com/environment/article/chile-fashion-pollution">44 million tons. </a>Next, they head to the nearby Free Trade Zone, known locally as “Zofri,” where trailers back into the warehouses of 52 used-clothes importers and forklift operators transfer sealed bales of clothing, or <em>fardos,</em> inside.&nbsp;</p>



<p>Chile is the <a href="https://oec.world/en/profile/hs/used-clothing">biggest importer</a> of secondhand clothing in South America, and between 2020 and 2021 it was the fastest-growing importer of used clothing in the world. The port of Iquique is an established tax-free zone, incentivizing this booming industry of castaway textiles.</p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/Iquique-used-shoe-store.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/Iquique-used-shoe-store.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Iquique-used-shoe-store.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/Iquique-used-shoe-store.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/Iquique-used-shoe-store.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Iquique-used-shoe-store.jpg?w=1152 1152w, https://grist.org/wp-content/uploads/2024/01/Iquique-used-shoe-store.jpg?w=1536 1536w, https://grist.org/wp-content/uploads/2024/01/Iquique-used-shoe-store.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/Iquique-used-shoe-store.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/Iquique-used-shoe-store.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/Iquique-used-shoe-store.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/Iquique-used-shoe-store.jpg 1024w" alt="a woman looks toward a wall of used shoes lining the inside of a kiosk in an outdoor market" data-caption="A vendor in Iquique sells secondhand shoes." data-credit="Muriel Alarcón"></p><figcaption>A vendor in Iquique sells secondhand shoes. <cite>Muriel Alarcón</cite></figcaption></div></figure>



<p>From Zofri, bales of clothing are sold, uninspected, to merchants betting that at least some of the items inside are sales-worthy. “When you buy, you are buying with your eyes closed,” one former merchant said. Sometimes 80 percent of the garments in a bale are usable. Sometimes the opposite is true. Because bales are so cheap, however, most merchants need only sell 40 percent to turn a profit.&nbsp;</p>



<p>According to the global environmental advocacy group Ekō (formerly known as SumofUS), an estimated 85 percent of the used clothing imported into Iquique remains unsold. Chilean federal law states it’s illegal to dispose of textiles.&nbsp;</p>



<p>Considered Iquique’s backyard, Alto Hospicio is one of the poorest cities in Chile, widely known as a place to abandon pets and dump trash. In the late 1990s and early 2000s, the small desert town is where more than a dozen teenage girls mysteriously vanished, until their apprehended killer led authorities to bodies buried in desert graves.&nbsp;</p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/manuela-medina-and-family.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/manuela-medina-and-family.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/manuela-medina-and-family.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/manuela-medina-and-family.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/manuela-medina-and-family.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/manuela-medina-and-family.jpg?w=1536 1536w, https://grist.org/wp-content/uploads/2024/01/manuela-medina-and-family.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/manuela-medina-and-family.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/manuela-medina-and-family.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/manuela-medina-and-family.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/manuela-medina-and-family.jpg 1024w" alt="" data-caption="Manuela Medina, left, and her family pose for a photo near their clothing pile in the Atacama Desert." data-credit="Fernando Alarcón"></p><figcaption>Manuela Medina, left, and her family pose for a photo near their clothing pile in the Atacama Desert. <cite>Fernando Alarcón</cite></figcaption></div></figure>



<p>In 2001, Manuela Medina*, a former gardener, saw an opportunity in Iquique’s growing textile abundance. Relocating to Alto Hospicio, she established an unauthorized compound on government lands at the base of El Paso de la Mula, the huge sand dune at the far side of an unregulated shantytown. Every few days, she hired a <em>fl</em>e<em>tero</em> — a driver with a jalopy — to travel the switchback roads, out of the brown dunes of Alto Hospicio, to arrive in the colorful oceanside city of Iquique, which sits a thousand miles north of the country’s capital, Santiago.</p>



<p>Near the dock where cranes unload massive container ships, inside Iquique’s free trade zone, Medina ventured into the contiguous warehouses, asking secondhand clothing importers, “Do you have any garbage?”&nbsp;</p>



<p>Back at her compound, Medina unloaded her wares in piles on the ground where she had the luxury of storing them indefinitely — the Atacama Desert is one of the driest places on Earth, meaning items don’t undergo normal degradation from elements like rain. Here, Medina sold her piles to merchants and others for $10 each.&nbsp;</p>



<p>As more and more bales of <em>ropa americana,</em> or secondhand clothes, arrived in Iquique, the clothes flooded importers’ warehouses and overflowed vendors’ stalls in open air markets, including La Quebradilla — one of the largest open air markets in South America, located just a few miles from Medina’s unauthorized compound.&nbsp;</p>



<p>
<figure><video autoplay="" loop="" muted="" poster="https://grist.org/wp-content/uploads/2024/01/shirt2-poster.jpeg" preload="auto" src="https://grist.org/wp-content/uploads/2024/01/shirt2.mp4" playsinline=""></video><figcaption>Fernando Alarcón</figcaption></figure>
</p>



<p>Soon,<em> </em>importers and secondhand merchants began to deliver surplus used clothes directly to Medina. Fed by daily truck deliveries, and then by multiple daily tractor trailer load deliveries, Medina’s pile grew.</p>



<p>By 2020, Medina’s gargantuan desert dump had become an open secret in Chile, stretching across dozens of acres. Others followed her model, creating mini-dumps across the desert and along roadsides, but Medina’s pile remained the largest.&nbsp;</p>



<p>On March 29, 2022, Paulin Silva, an environmental lawyer, stood before the Primer Tribunal Ambiental de Antofagasta, a regional tribunal in northern Chile that specializes in resolving environmental issues within its jurisdiction. She was presenting a lawsuit, brought on behalf of herself as a resident of Iquique, against the municipality and the federal Chilean government for their inaction over the sprawling, unregulated clothes dumps. For her submission of evidence, she asked the tribunal to join her in touring the mound of clothing.</p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/paulin-silva.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/paulin-silva.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/paulin-silva.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/paulin-silva.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/paulin-silva.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/paulin-silva.jpg?w=1536 1536w, https://grist.org/wp-content/uploads/2024/01/paulin-silva.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/paulin-silva.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/paulin-silva.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/paulin-silva.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/paulin-silva.jpg 1024w" alt="" data-caption="Paulin Silva poses for a photo in an office. She has pushed the government to take action on the illegal clothing dumps near Iquique, Chile." data-credit="Fernando Alarcón"></p><figcaption>Paulin Silva poses for a photo in an office. She has pushed the government to take action on the illegal clothing dumps near Iquique, Chile. <cite>Fernando Alarcón</cite></figcaption></div></figure>



<p>For weeks, her informal team of supporters (a geographer, her sister, and her brother-in-law) had been documenting the problem, joking among themselves, “In which dump are we going to party tonight?”</p>



<p>Since obtaining her law degree, Silva has prosecuted a handful of environmental cases, but this one was personal, and she felt empowered to tackle it: “I have the education; I am a lawyer; I can do something,” she said. She’d grown up in northern Chile, a pencil thin country bordered by the Pacific Ocean. Her father is from Alto Hospicio and her mother is from Iquique. At 35, she’s several years older than Astudillo, the co-founder of the nonprofit Dress Desert, whom Silva asked to be a witness for the case. When Silva was a child, she observed people dumping clothes everywhere — the streets, yards, and city squares. Because this was the only place she knew for so much of her life, she thought, “It’s normal for people to live with … garbage accumulated around them.”&nbsp;</p>



<p>This local “clothes-blindness” was documented by Astudillo’s colleague, Bastián Barria, an engineering student and her co-founder of Dress Desert. In November 2020, he and others conducted a survey to ascertain local attitudes regarding the clothing waste. Of the almost 400 people in Alto Hospicio he surveyed, representing less than 1 percent of the town’s population, more than half did not think there was any issue.</p>



<p>When Silva was 18, she moved a thousand miles south, to Valparaiso in central Chile, to study law and that was where she remained until the pandemic, when she returned home. That’s when she realized the dump situation had worsened. Exponentially.&nbsp;</p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-109-min.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-109-min.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-109-min.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-109-min.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-109-min.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-109-min.jpg?w=1024 1024w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-109-min.jpg?w=1366 1366w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-109-min.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-109-min.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-109-min.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-109-min.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-109-min.jpg 1024w" alt="old shoes in a dense pile in the desert" data-caption="Shoes pile up in an illegal clothing dump in the Atacama Desert." data-credit="Fernando Alarcón"></p><figcaption>Shoes pile up in an illegal clothing dump in the Atacama Desert. <cite>Fernando Alarcón</cite></figcaption></div></figure>



<p>During the decades between Silva’s girlhood and today, clothing production worldwide doubled, while utilization — the number of times an item of clothing is worn before it is thrown away — declined by 36 percent. Countries like Chile, Haiti, and Uganda became depositories for fast fashion discards. In 2021 alone, Chile imported <a href="https://obtienearchivo.bcn.cl/obtienearchivo?id=repositorio/10221/33437/1/BCN__ropa_usada_mercado_regulacio__n_nacional_y__comparada_agos2022.pdf">more than 700,000 tons</a> of new and used clothing — the weight equivalent of 70 Eiffel Towers.</p>



<p>“Even if we stopped clothing production throughout the world tonight,” said Francisca Gajardo, an Iquique-born fashion designer, “we still have more garments than we need or that the Earth can safely hold. It won’t go away nicely, and we’re not stopping today.”&nbsp;</p>



<hr>



<p>Nine days after the giant fires, around 4 p.m., Silva was having a light meal, the Chilean equivalent of afternoon tea known as <em>once</em> (pronounced “on-say”), with her family in northern Chile. A few days prior, the Primer Tribunal Ambiental de Antofagasta had informed her it was ready to view her case evidence by touring the clothes pile in person. Silva took out her phone to share the good news on Instagram with Desierto Vestido, but before she could, she saw the images of the burning clothes Desierto Vestido had just uploaded and shared.&nbsp;</p>



<p>Silva sprang from her chair to process what was happening to the evidence in her case just a few miles away. She suspected why the court had been willing to view the landfill: “Because obviously the matter was burned,” she told Grist.</p>



<p>While no official cause of the fires has ever been reported, local residents claim it began late on Saturday night or in the early hours of Sunday. Days later, toxic air still clung to the area. Astudillo, who visited the site regularly, described the pile as “volcanic” — with clothes smoldering under the sand, venting smoke full of textile chemicals from synthetic materials. She warned, “You can’t be outside for long.”&nbsp;</p>



<p>In the days following the fire, on June 22, instead of leading the tour of the prosecutorial evidence, Silva filed a statement to the Primer Tribunal Ambiental de Antofagasta: “With sadness and shame I inform you that 11,000 tons of clothes in the textile dump were burned.”&nbsp;</p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-165-min.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-165-min.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-165-min.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-165-min.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-165-min.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-165-min.jpg?w=1536 1536w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-165-min.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-165-min.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-165-min.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-165-min.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-165-min.jpg 1024w" alt="" data-caption="Graffiti in one of the most dangerous shantytowns in Chile, near Manuela Medina's home. The word &quot;votar&quot; is likely supposed to be &quot;botar,&quot; which in Spanish means &quot;throw.&quot; But in its current form, it reads, &quot;Do not vote trash. It will be reported.&quot;" data-credit="Fernando Alarcón"></p><figcaption>Graffiti in one of the most dangerous shantytowns in Chile, near Manuela Medina’s home. The word “votar” is likely supposed to be “botar,” which in Spanish means “throw.” But in its current form, it reads, “Do not vote trash. It will be reported.” <cite>Fernando Alarcón</cite></figcaption></div></figure>



<p>Although Paulin provided the court with Dress Desert’s smartphone video recordings of the clothes in flames, the defense argued that the Instagram account where they’d posted the videos could not be verified and confirmed. Lacking a certifiable timestamp, the films were inadmissible.</p>



<p>One year later, in August 2023, the Primer Tribunal Ambiental de Antofagasta called a trial hearing so that all parties involved in the case — the Consejo de Defensa del Estado, the body that judicially represents the state in Chile, the municipality of Alto Hospicio, and Silva — could present evidence.</p>



<p>During the hearing, the Mayor at Alto Hospicio, Patricio Ferreira, said that one of his priorities is to “transform this problem into an opportunity to generate employment.” He alluded to discussions he had with European businessmen to explore initiatives related to recycling.</p>



<p>Silva got people to testify in her favor, activists and academics who have given statements to different media outlets about the environmental problem generated by the textile landfill in the Chilean desert. But on the day of the hearing, none of them arrived.</p>



<p>“At the end of the day, in practice, I am alone in this action,” she said.</p>



<hr>



<p>Chile’s government recently voted to adopt recycling measures that make certain producers accountable for their waste. Known as the extended producer responsibility law, or REP using its Spanish acronym, the legislation passed in 2016 and took effect in January 2023. Currently, Chilean companies that make tires and packaging (such as bags, plastics, paper or cardboard, cans and glass) must comply.&nbsp;</p>



<p>Eventually, according to the Ministry of the Environment, Chile intends to incorporate clothing and textiles as a priority product into the REP law.</p>



<p>However, in the case of clothes, many describe the REP as a “paper solution” that lacks tangible enforcement, said Pino, from the Universidad Diego Portales.</p>



<p>In parallel, the Ministry of the Environment is developing a circular economy strategy for textile waste. Unlike the REP, the agency crafts public policy for the public and private sectors to prevent overproduction.&nbsp;</p>



<p>The ministry has been holding workshops and conversations to collect input from stakeholders, including academics, business executives, retailers and nonprofit leaders. It is also tabulating the results of a preliminary survey on consumer clothes-buying habits. The details of this circular economy strategy is expected to be published in March this year.</p>



<p>At the minister’s invitation, Pino has shared her fashion expertise — both in the markets and in the desert — with the group. “These two things are wonderful initiatives,” she said about both efforts, but she lamented that they fail to address the issue of used clothes.&nbsp;</p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/Blusas-del-desierto-Entrevistadas-08-1.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/Blusas-del-desierto-Entrevistadas-08-1.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Blusas-del-desierto-Entrevistadas-08-1.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/Blusas-del-desierto-Entrevistadas-08-1.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/Blusas-del-desierto-Entrevistadas-08-1.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Blusas-del-desierto-Entrevistadas-08-1.jpg?w=1536 1536w, https://grist.org/wp-content/uploads/2024/01/Blusas-del-desierto-Entrevistadas-08-1.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/Blusas-del-desierto-Entrevistadas-08-1.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/Blusas-del-desierto-Entrevistadas-08-1.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/Blusas-del-desierto-Entrevistadas-08-1.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/Blusas-del-desierto-Entrevistadas-08-1.jpg 1024w" alt="" data-caption="Bárbara Pino, director of the Fashion System Observatory, stands on the campus of the Universidad Diego Portales in Santiago, Chile." data-credit="Fernando Alarcón"></p><figcaption>Bárbara Pino, director of the Fashion System Observatory, stands on the campus of the Universidad Diego Portales in Santiago, Chile. <cite>Fernando Alarcón</cite></figcaption></div></figure>



<p>A decade ago, when the REP was first being discussed, Denisse Morán, president of the Tarapacá Recyclers and the head of ServiREC, a recycling cooperative that operates within Iquique’s free trade zone, sought out her local representative to request that the law apply to both clothing producers and clothing importers.&nbsp;</p>



<p>“Oh, because you are from Iquique?” she recalled him asking her.&nbsp;</p>



<p>“Not only because I am from Iquique,” she replied, “but because we all wear clothes.”</p>



<p>For years, many residents in Alto Hospicio saw the piles of textiles as more of an opportunity than an eyesore or environmental threat, something that supported the local economy.&nbsp;</p>



<p>When Jazmín Yañez arrived in town from southern Chile in 2018 almost penniless and on the brink of homelessness, for example, someone gave her a few cast-off garments and household garbage — from towels, kitchen implements to furniture — to sell. Ever since, Yañez, now 28, has waged a zealous campaign to salvage, fix, and reutilize all “waste” materials. She operates an informal store from the kitchen of her house called Stop Recicla: “Your trash is my treasure,” where she sells, exchanges, and gifts items such as rugs, used clothing, school supplies, costumes, and electronics to impoverished mothers, like she once was.</p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/Jazmin-used-clothing.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/Jazmin-used-clothing.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Jazmin-used-clothing.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/Jazmin-used-clothing.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/Jazmin-used-clothing.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Jazmin-used-clothing.jpg?w=1536 1536w, https://grist.org/wp-content/uploads/2024/01/Jazmin-used-clothing.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/Jazmin-used-clothing.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/Jazmin-used-clothing.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/Jazmin-used-clothing.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/Jazmin-used-clothing.jpg 1024w" alt="a smiling woman in a yellow shirt sits in a small room with a large pile of clothing" data-caption="Jazmín Yañez poses next to a pile of secondhand clothing that she will sell in her home-based store, Stop Recicla." data-credit="Fernando Alarcón"></p><figcaption>Jazmín Yañez poses next to a pile of secondhand clothing that she will sell in her home-based store, Stop Recicla. <cite>Fernando Alarcón</cite></figcaption></div></figure>



<p>It’s this trash/treasure duality that kept Astudillo and other locals from viewing the region’s booming used clothing trade as a problem. But six months before the fires, in January 2022, Nathalia Tavolieri, a Brazilian journalist, invited Astudillo to El Paso de La Mula, where she encountered Manuela Medina’s mountain for the first time.&nbsp;</p>



<p>Astudillo had seen numerous clothing dumps strewn and mounded throughout the desert, but nothing as big as this immense tangle of blouses and pants. “It was terrible,” she said, weeping as she recalled her first visit. “Maybe if I had been older, maybe I could have done more things [to stop this from happening].”</p>



<p>The experience galvanized her. She had already co-founded her nonprofit Dress Desert, or Desierto Vestido, two years before, to raise awareness and creatively respond to the country’s burgeoning waste clothing issue. As part of the project’s efforts, she and 20 other members host workshops and conversations. They upcycle castaway materials into new garments and craft household items. Seeing the vastness of Medina’s clothing pile, Astudillo stepped up her resolve, because “many people don’t see — or don’t want to see.”</p>



<p>“It was very, very hard,” she said, “to know that we live in a place that is so polluted and damaged by everyone’s waste.” Several months later, Astudillo brought Gajardo, the clothes designer and a fellow Iquiquean, to the dump, and gained an ally in her efforts. Despite growing up and shopping at the region’s numerous outdoor secondhand clothes markets, Gajardo was appalled by the scope of the waste. She developed rashes from rummaging among the fabrics.&nbsp;</p>



  


  <figure>
    <div>
                  <figure>
            
<p><img src="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-044-min.jpg?quality=75&amp;strip=all" alt="" data-caption="" data-credit="Fernando Alarcón" srcset="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-044-min.jpg?quality=75&amp;strip=all 1600w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-044-min.jpg?resize=1200%2C1799&amp;quality=75&amp;strip=all 1200w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-044-min.jpg?resize=330%2C495&amp;quality=75&amp;strip=all 330w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-044-min.jpg?resize=768%2C1152&amp;quality=75&amp;strip=all 768w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-044-min.jpg?resize=1024%2C1536&amp;quality=75&amp;strip=all 1024w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-044-min.jpg?resize=1366%2C2048&amp;quality=75&amp;strip=all 1366w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-044-min.jpg?resize=150%2C225&amp;quality=75&amp;strip=all 150w" sizes="(max-width: 1024px) 100vw, 1024px" height="2399" width="1600" loading="lazy" decoding="async">
  </p>
          </figure>
                  <figure>
            
<p><img src="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-046-min.jpg?quality=75&amp;strip=all" alt="" data-caption="" data-credit="Fernando Alarcón" srcset="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-046-min.jpg?quality=75&amp;strip=all 1600w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-046-min.jpg?resize=1200%2C1799&amp;quality=75&amp;strip=all 1200w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-046-min.jpg?resize=330%2C495&amp;quality=75&amp;strip=all 330w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-046-min.jpg?resize=768%2C1152&amp;quality=75&amp;strip=all 768w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-046-min.jpg?resize=1024%2C1536&amp;quality=75&amp;strip=all 1024w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-046-min.jpg?resize=1366%2C2048&amp;quality=75&amp;strip=all 1366w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-046-min.jpg?resize=150%2C225&amp;quality=75&amp;strip=all 150w" sizes="(max-width: 1024px) 100vw, 1024px" height="2399" width="1600" loading="lazy" decoding="async">
  </p>
          </figure>
                  <figure>
            
<p><img src="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-048-min.jpg?quality=75&amp;strip=all" alt="" data-caption="" data-credit="Fernando Alarcón" srcset="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-048-min.jpg?quality=75&amp;strip=all 1600w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-048-min.jpg?resize=1200%2C1799&amp;quality=75&amp;strip=all 1200w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-048-min.jpg?resize=330%2C495&amp;quality=75&amp;strip=all 330w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-048-min.jpg?resize=768%2C1152&amp;quality=75&amp;strip=all 768w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-048-min.jpg?resize=1024%2C1536&amp;quality=75&amp;strip=all 1024w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-048-min.jpg?resize=1366%2C2048&amp;quality=75&amp;strip=all 1366w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-048-min.jpg?resize=150%2C225&amp;quality=75&amp;strip=all 150w" sizes="(max-width: 1024px) 100vw, 1024px" height="2399" width="1600" loading="lazy" decoding="async">
  </p>
          </figure>
            </div>

    

          <div>
        <figcaption> <p>A garment emerges in stages from the desert sand in the Atacama Desert. <em><strong>Fernando Alarcón</strong></em></p>
 </figcaption>
      </div>
    
  </figure>

  


<p>“The fact that we have a desert, the fact that there’s a place to receive this, doesn’t mean that the place has to become the dump of the world,” she said. Since then, Gajardo’s conviction to never design clothes from virgin materials has deepened. Additionally, through her brand <a href="https://www.instagram.com/y.a.n.g._/?hl=en">You Are the New Generation</a>, she offers workshops in reusing garments, and visited Kansas City, Missouri, last year through the U.S. State Department’s Young Leaders of the Americas Initiative to teach people to make new clothes by harvesting old ones.</p>



<p>Other entrepreneurs have attempted to turn the clothes problem into revenue, but have faced a series of setbacks.&nbsp;</p>



<p>Franklin Zepeda is a celebrated Chilean entrepreneur who toured Europe’s textile recycling plants before returning to the region in 2013 to establish Ecofibre, now known as Procitex. (Its name is an acronym meaning Proceso Circular en Textil in Spanish).</p>



<p>With seed funding from CORFO, the Chilean economic development agency, and later from private capital, Zepeda was able to route textiles imported into Iquique to his plant, where they were disassembled, shredded, doused with flame retardant, and transformed into insulation panels. Zepeda got praise for this work in several <a href="https://www.nationalgeographic.com/environment/article/chile-fashion-pollution">major international news outlets</a>, but he shuttered his plant in Alto Hospicio in 2021 because of unfavorable economics, including the taxes on shipping the insulation panels to other regions of the country.</p>



<p>Dario Blanco, manager of the ZOFRI User Association AG (AUZ), a trade association that brings together businessmen from the Iquique free zone, believes that the solution to the region’s problem of discarded clothing is out there — it will just take the right company and policies. And there are plenty of entrepreneurs, fashion designers, and environmentalists working on the issue of textile waste, both in Chile and internationally. </p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428319.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428319.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428319.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428319.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428319.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428319.jpg?w=1536 1536w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428319.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428319.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428319.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428319.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/GettyImages-1236428319.jpg 1024w" alt="three men in vests sort through macerated textiles" data-caption="Men work at a factory that recycles used textiles discarded in the Atacama Desert for wooden isolation panels for the walls of social housing, in Alto Hospicio, Iquique, Chile in 2021." data-credit="Martin Bernetti / AFP via Getty Images"></p><figcaption>Men work at a factory that recycles used textiles discarded in the Atacama Desert for wooden isolation panels for the walls of social housing, in Alto Hospicio, Iquique, Chile in 2021. <cite>Martin Bernetti / AFP via Getty Images</cite></figcaption></div></figure>



<p>As <a href="https://www.bloomberg.com/news/articles/2023-05-25/clothing-waste-is-a-problem-fashion-brands-could-force-you-to-pay-for-it#xj4y7vzkg">Bloomberg reported in May,</a><strong> </strong>New York, California, Sweden, and the Netherlands are developing legislation similar to Chile’s extended producer responsibility law that went into effect this year, mandating that the fashion industry fund recycling programs via tariffs calibrated to the quantity of garments produced.</p>



<p>In order to help New York City uphold its existing law limiting or forbidding textiles in the waste stream, <a href="https://fabscrap.org/">FabScrap</a>, a nonprofit founded in 2016 by a former New York Department of Sanitation worker, receives 7,000 pounds of pre-consumer textile waste each week. Sorted by volunteers, the nonsynthetic scrap items are sent to a New Jersey facility that shreds the material, producing “shoddy,” a stuffing used to fill punching bags, sofas, and soft toys.</p>



<p>A Czech company called <a href="https://www.instagram.com/retexchile/?hl=en">RETEX</a> has been attempting to bring its fabric-macerating technology to Alto Hospicio. Blanco says that in exchange for securing a contract with Chile, the company promised to hire local workers. But, Blanco admitted, negotiations like these have fallen through in the past. For example, he said, a Spain-based company, <a href="http://www.engreeng.com/">Egreen</a>, planned to open a fabric-waste processing plant, but the deal was scrapped late last year.</p>


<div>
  <article>
    <span>Read Next</span>
    <div>

      
      
                    
            <a href="https://grist.org/culture/how-clothing-forms-the-fabric-of-society-both-past-and-future/">
        <figure>
          <img src="https://grist.org/wp-content/uploads/2022/03/donated-clothing.jpg?quality=75&amp;strip=all" alt="collage: black and white photo of woman sorting huge pile of clothes, yellow circle on top with the clothing inside it in color" srcset="https://grist.org/wp-content/uploads/2022/03/donated-clothing.jpg?quality=75&amp;strip=all 1600w, https://grist.org/wp-content/uploads/2022/03/donated-clothing.jpg?resize=1200%2C825&amp;quality=75&amp;strip=all 1200w, https://grist.org/wp-content/uploads/2022/03/donated-clothing.jpg?resize=330%2C227&amp;quality=75&amp;strip=all 330w, https://grist.org/wp-content/uploads/2022/03/donated-clothing.jpg?resize=768%2C528&amp;quality=75&amp;strip=all 768w, https://grist.org/wp-content/uploads/2022/03/donated-clothing.jpg?resize=1536%2C1056&amp;quality=75&amp;strip=all 1536w, https://grist.org/wp-content/uploads/2022/03/donated-clothing.jpg?resize=150%2C103&amp;quality=75&amp;strip=all 150w" sizes="(max-width: 1024px) 100vw, 1024px" height="1100" width="1600" loading="lazy" decoding="async">
        </figure>
      </a>
            
    </div>
  </article>
</div>



<p>The governor’s sustainability adviser at the Regional Government of Tarapaca, Pablo Zambra, recently formed a 25-member committee that includes stakeholders such as Astudillo and Barria from Dress Desert and Morán, the president of the Tarapacá Recyclers, to publicize&nbsp;economic incentives for circular economy initiatives. Collectively, they hope RETEX will succeed in doing what Zepeda’s company failed to do: turn a profit. As of this writing, no importers are involved.</p>



<p>Meanwhile, every day, container ships continue to offload more cargo.&nbsp;</p>



<p>In the fall of 2022, Alto Hospicio’s mayor, Ferreira, <a href="https://www.batimes.com.ar/news/latin-america/chiles-unique-atacama-desert-sullied-by-worlds-junk.phtml">acknowledged the unsolved problem</a> but blamed clothing manufacturers, citing a “lack of global awareness of ethical responsibility.”&nbsp;</p>



<p>“Our land has been sacrificed,” he said.&nbsp;</p>



<p>Pino agrees that the fashion industry and its consumers are culpable. “We have to worry about the complete cycle: before, during, and after our clothes,” she wrote in an <a href="https://www.elmostrador.cl/noticias/opinion/cartas/2021/11/23/vertederos-de-ropa-y-la-urgencia-de-tomar-accion/">editorial</a> published in 2021.</p>



<p>She believes a more comprehensive solution is necessary, including regulating the entry of textile materials to Chile, educating consumers about prolonging garments’ lives, promoting Chile’s homegrown fashion industry, and supporting research to design new uses for fabric waste.&nbsp;</p>



<p>Ecocitex, founded in 2020 by engineer Rosario Hevia in Santiago, has sprung up as another Chilean company addressing a surfeit of garments.</p>



<p>Ecocitex operates in a manner contrary to the country’s organized and informal secondhand clothes markets. It invites people to recycle<em> </em>high-quality clothing or pay<em> </em>$1.50 per kilogram to leave poor quality clothing and walk away empty-handed.</p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/barria-min.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/barria-min.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/barria-min.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/barria-min.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/barria-min.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/barria-min.jpg?w=1536 1536w, https://grist.org/wp-content/uploads/2024/01/barria-min.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/barria-min.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/barria-min.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/barria-min.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/barria-min.jpg 1024w" alt="a man in a botannical-print shirt sits at a table near racks of clothes and outdoor umbrellas" data-caption="Bastián Barria, co-founder of the organization Dress Desert with Ángela Astudillo, recently joined a government-sponsored committee to help push forward circular economy initiatives in Chile." data-credit="Fernando Alarcón"></p><figcaption>Bastián Barria, co-founder of the organization Dress Desert with Ángela Astudillo, recently joined a government-sponsored committee to help push forward circular economy initiatives in Chile. <cite>Fernando Alarcón</cite></figcaption></div></figure>



<p>During the pandemic, Andrea Espinoza Pérez, a civil industrial engineer at the University of Santiago, initiated a <a href="https://pubmed.ncbi.nlm.nih.gov/35337866/">study</a> on the ecological impacts of projects like Ecocitex. She wanted to know: Did factory-processed, used clothing produce fewer emissions than the original clothing manufacturing process? With data provided by Ecocitex’s founder Hevia, scientists determined that the clothes deconstruction process<em> </em>is effective because it keeps waste clothes out of landfills, and it replaces the demand for virgin materials. While Ecocitex’s procedure is also energy-intensive, the study found, it uses just 73 percent of the energy required to produce the same product from raw materials.&nbsp;</p>



<p>Meanwhile, neither Zepeda’s Procitex nor Hevia’s Ecocitex in Chile, nor Fabscrap’s efforts in New York and Philadelphia, have matched the direct profitability of Medina’s now-defunct business. (Medina has started a new business storing tires.) In fact, all have relied heavily on a variety of underwriting measures, including subsidies, nonprofit funding, subscriptions, or volunteer labor to generate their products.&nbsp;</p>



<p>In recent years, Zepeda has earned his living as an employee of Chile’s largest retailer, CENCOSUD. He collects surplus clothes donated by customers, and produces insulation panels for buildings that are sold by the same retailer.&nbsp;</p>



<p>As for Ecocitex, in June, the business caught fire and the building was destroyed. The cause is still under investigation. Undeterred, Hevia has launched a <a href="https://www.instagram.com/p/Ct2-PiPNBgX/?hl=en">campaign </a>to rebuild. Meanwhile, she is raising funds by selling blankets made from recycled fibers to a mining company.</p>



<hr>



<p>By last January, the height of the Chilean summer, the gigantic, unsightly clothes dump at El Paso de la Mula, the one Agence France Presse had shown the world, was nowhere to be found.&nbsp;</p>



<p>All that remained was a smattering of ashes and the tread marks of bulldozers. Here and there, across Medina’s unofficial backyard, small piles of garments peeked out of the sand dunes. But according to municipal officials, dumping and burning continues. Rey, an indigent man who lives by the side of a desert road in a blue and yellow tent emblazoned with “National Geographic,” attests that he and others accept money from nonprofit refuse-disposal contractors or freelance truckers in exchange for setting fires to whatever waste is discharged from a truck. This way, the trucker can keep more of his hauling profits, which would otherwise be whittled down by the official dump fees.</p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-099-min.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-099-min.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-099-min.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-099-min.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-099-min.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-099-min.jpg?w=1536 1536w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-099-min.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-099-min.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-099-min.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-099-min.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/Fotos-camara-Blusas-del-desierto-099-min.jpg 1024w" alt="A man stands near large piles of burning clothing in the desert" data-caption="In the surroundings of Alto Hospicio, in the Atacama Desert, new landfills emerge every day. What arrives is burned by individuals living there. Some of them receive payment for doing it." data-credit="Fernando Alarcón"></p><figcaption>In the surroundings of Alto Hospicio, in the Atacama Desert, new landfills emerge every day. What arrives is burned by individuals living there. Some of them receive payment for doing it. <cite>Fernando Alarcón</cite></figcaption></div></figure>



<p>Astudillo says that beyond the limits of Manuela’s dune, there are as many as 200 micro-garbage dumps, and consequently, miles and miles of ashes in the desert — not just scattered over the ground, but also in the air. She told Grist in late December that this is an everyday thing. “You go out to buy bread and you smell the burning smell. You smell the materials that make up the clothes: oil and plastic. After 5 in the afternoon, I no longer let my 7-year-old daughter leave the apartment, and I close the windows to prevent smoke from coming in.” She also confirmed the abandoning of clothes continues: “They throw it away, they burn it immediately.”</p>



<p>On December 12, the Primer Tribunal Ambiental de Antofagasta issued its final ruling in the case with Silva, commissioning a unit of experts to carry out an on-site report on the accumulation of textile waste in different areas of Alto Hospicio, and to propose a solution to the accumulation of waste.</p>



<p>The municipality of Alto Hospicio, which claims it does not have the workforce to adequately address the problem, has also installed nearly 100 cameras along the main roads as a means of tracking polluters, and has begun doling out fines as high as $350 for illegal dumping. So far, trucks have been apprehended transporting domestic and industrial garbage, as well as bulky items such as mattresses, washing machines, and furniture.&nbsp;</p>



<p>Drone footage recorded by Cheng Hwa, one of Pino’s students, the day of the June 2022 fires captures the municipality fighting what was in essence an oil fire. Hwa, who grew up in Iquique and now works in tech for the hospitality industry, had long been aware of the desert dumps but didn’t comprehend the magnitude until he witnessed them at close range.&nbsp;</p>



<figure><div><p><img decoding="async" src="https://grist.org/wp-content/uploads/2024/01/blouse-desert-clothing-fire-chile.jpg" sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://grist.org/wp-content/uploads/2024/01/blouse-desert-clothing-fire-chile.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/blouse-desert-clothing-fire-chile.jpg?w=330 330w, https://grist.org/wp-content/uploads/2024/01/blouse-desert-clothing-fire-chile.jpg?w=1024 768w, https://grist.org/wp-content/uploads/2024/01/blouse-desert-clothing-fire-chile.jpg?w=1200 1200w, https://grist.org/wp-content/uploads/2024/01/blouse-desert-clothing-fire-chile.jpg?w=1536 1536w, https://grist.org/wp-content/uploads/2024/01/blouse-desert-clothing-fire-chile.jpg?w=160&amp;h=90&amp;crop=1 160w, https://grist.org/wp-content/uploads/2024/01/blouse-desert-clothing-fire-chile.jpg?w=640&amp;h=853&amp;crop=1 640w, https://grist.org/wp-content/uploads/2024/01/blouse-desert-clothing-fire-chile.jpg?w=96&amp;h=96&amp;crop=1 96w, https://grist.org/wp-content/uploads/2024/01/blouse-desert-clothing-fire-chile.jpg?w=150 150w, https://grist.org/wp-content/uploads/2024/01/blouse-desert-clothing-fire-chile.jpg 1024w" alt="Smoke plumes from burning piles of clothing in sand dunes" data-caption="Fire blazes through Manuela Medina's clothes dump in the Atacama Desert on June 12, 2022." data-credit="Cheng Hwa"></p><figcaption>Fire blazes through Manuela Medina’s clothes dump in the Atacama Desert on June 12, 2022. <cite>Cheng Hwa</cite></figcaption></div></figure>



<p>He’s haunted by what his drone footage made visible. “How the desert of sand starts to turn into a desert of clothes,” he said. “It has no limit; there is no closure … Clothes begin to appear on the ground until the horizon is completely covered.”</p>



<p>In Iquique, he often glances up toward the high plateau of Alto Hospicio. “You can’t see the dump, but [you can see] the column of smoke on days that [clothes] burn. That cloud of smoke lets you know … It makes [the issue] visible on a day-to-day basis.”</p>



<p>Thirty miles south of Iquique, toward the city’s main airport, on her family’s farm, Astudillo and her parents drop pieces of used clothing on the ground, but in a purposeful way. Over the past 20 years, Astudillo’s father has experimented with growing trees in the infertile, saline soils. Many of his efforts failed until he began using certain fabrics to mulch his trees. This improves the quality of the soil, enabling it to retain moisture. For the past year, Astudillo has been working with one of the Zofri importers, who asked to remain anonymous. She consults with his staff about the clothing bales and recommends ways of sorting the material into specific categories based on fiber content, some of which she collects personally. Those items — a pair of cotton shorts, a T-shirt, a blouse — become mulch for a pine and eucalyptus forest rising in the desert.</p>



<p>Recently, as Astudillo was leaving the farm, she stashed a few perennials in her truck and drove them to Manuela’s compound in Paso de La Mula. Just beyond Medina’s courtyard, where sky- blackening fires had once burned, Astudillo troweled a small hole for the plants. As she dug, she dislodged several odd socks and a faded blue sweatshirt — discarded clothes that had survived the fires, but were buried by bulldozers.&nbsp;</p>



<p>Astudillo filled the hole, amending the desert sand with compost and garden soil. “For me it’s like a Band-Aid for a wound that is so big in that place,” she said. Then she tucked in cardinal flowers — a native plant whose petals resemble shooting flames.&nbsp;</p>



<div id="Blouse-Editors-note"><p><em>Editor’s note: During visits to her compound in Alto Hospicio, Manuela, the owner of the secondhand clothing dump, told Grist reporters her name was Manuela Medina. However, other outlets have used the surname Olivos. Her legal name is Manuela de Los Angeles Medina Olivos.&nbsp;</em></p><p><em>This story has been updated.</em></p></div>

  
  <hr>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Microsoft at Work (117 pts)]]></title>
            <link>https://computer.rip/2024-04-26-microsoft-at-work.html</link>
            <guid>40183817</guid>
            <pubDate>Sat, 27 Apr 2024 21:39:53 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://computer.rip/2024-04-26-microsoft-at-work.html">https://computer.rip/2024-04-26-microsoft-at-work.html</a>, See on <a href="https://news.ycombinator.com/item?id=40183817">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>


<p>I haven't written anything for a bit. I'm not apologizing, because y'all don't
pay me enough to apologize, but I do feel a little bad. Part of it is just that
I've been busy, with work and travel and events. Part of it is that I've
embarked on a couple of writing projects only to have them just Not Work Out.
It happens sometimes: I'll notice something interesting, spend an evening or
two digging into it, but find that I just can't make a story out of it. There
isn't enough information; it's not really that interesting; the original source
turned out to just be wrong. Well, this one is a bit of all three. Join me, if
you will, on a journey to nowhere in particular.</p>
<p>One of the things I am interested in is embedded real-time operating systems.
Another thing I am interested in is Unified Communications. Yet another is
failed Microsoft research projects. So if you've ever heard of Microsoft At
Work, you probably won't be surprised that it has repeatedly caught my eye.
Most likely, you haven't heard of it. Few have; even the normal sources of
information on these kinds of things appear to be inaccurate or at least
confused about the details.</p>
<p>Microsoft went to work in the summer of 1993, or at least that's when they
announced Microsoft At Work. This kind of terrible product naming was rampant
in the mid-'90s, perhaps more from Microsoft than usual. MAW, as I and a few
others call it, was marketed with a healthy dose of software sales obfuscation.
What was it, exactly? an Architecture, Microsoft said. It would enable all
kinds of new applications. With MAW, one would be able to seamlessly access the
wealth of information on their personal computers. Some reporters called it an
Environment. Try this for a lede: "Microsoft Corp. unveils integrated computer
program."</p>
<p>The announcement included a demo that got a lot more to the point: a fax
machine that ran Windows.</p>
<p>Even this was strangely obfuscated: enough newspaper reports described it as a
"fax like product" that I think this verbiage was sincerely used in the
announcement. Today, we would refer to MAW as an effort towards "smart" office
machines, but in 1993 we hadn't quite learned that vocabulary yet. Microsoft
must have been worried that it would be dismissed as "just a fax machine." It
couldn't be that, it had to be something more. It had to be a "fax like
product," built with "Windows architecture."</p>
<p>I am being a bit dismissive for effect. MAW was more ambitious than just
installing Windows on a grape. The effort included a unified communications
protocol for the control of office machines, including printers, for which
a whole Microsoft stack was envisioned. This built on top of the Windows
Printing System, a difficult-to-search-for project that apparently predated
MAW by a short time, enough so that Windows Printing System products were
actually on the market when MAW was announced---MAW products were, we will
learn, very much not.</p>
<p>Windows Printing System modules were sold for at least the HP LaserJet II and
III. If you did not experience them, these printers placed their actual
rasterization logic onto a modular card that could be swapped out, usually to
switch between PCL or PostScript "personalities." The PostScript module was
offered mostly for MacOS compatibility, Apple having selected PostScript as a
common printer control language. The Windows Printing System module took this
operating system specialization a step further, using Windows' simple GDI
graphics protocol to draw output to the printer.</p>
<p>I am actually a little unclear on whether or not the Windows Printing System
lead directly to the cheap "WinPrinters" that are also associated with the idea
of GDI-based printing. "WinPrinters," so-called by analogy to WinModems, are
entirely dependent on the host computer to perform rasterization. While
extremely irritating from the perspective of software support, this was an
important cost-savings measure in consumer printers. Executing a capable
printer control language was rather demanding; the Apple LaserWriter famously
had a faster processor than the Macintosh computers it was a peripheral to.
Printers with independent rasterization, particularly the more complex
PostScript, came at a substantial price premium to those that required the host
to perform rasterization.</p>
<p>While some details of reporting on the Windows Printing System make me worry
that it was in fact rasterizing on device (like the curiously specific limit of
"up to 79" TrueType fonts), I'm fairly sure it was indeed a precursor to the
later inexpensive designs. Rather than a cost-savings measure, though,
Microsoft seems to have marketed it as a premium feature. Because of the
Windows Printing System's higher level of integration with the operating
system, it brought numerous new features, many of which we take for granted
today. TrueType font support at all, for example, a cutting-edge feature in
'93. Duplex control from the print dialog rather than the printer's own
display, and for that matter, the ability to see printer status messages (like
"PC LOAD LETTER") on the computer you just printed from.</p>
<p>And at the end of the day, offloading rasterization from the printer had an
advantage: the Windows Printing System was faster than PCL or PostScript.</p>
<p>Even if it did become the dominant printing method years later, the Windows
Printing System of the MAW era doesn't seem to have fared very well. Because it
took the position of an add-on cartridge (like a font cartridge), it would have
been an added-cost option for printer buyers---an added cost of $132.99,
according to a period advertisement. The dearth of available documentation or
even post-launch advertising for the Windows Printing System cartridge suggests
disappointing sales numbers.</p>
<p>The fortunes of Windows Printing Technology would turn a year later, though, as
Lexmark introduced their WinWriter series: "With the Microsoft Windows Printing
System Built In!" Speaking of the Lexmark WinWriter series, this whole printing
thing is kind of a tangent. What about MAW? The Windows Printing System, it
seems, was not really a part of MAW. It was just generally related and available
when MAW was announced, so it was rolled into the press conference. It is a bit
ironic that the Lexmark WinWriter, truly the Printer for Windows, was <em>not</em> a
MAW device despite shipping well after MAW was announced.</p>
<p>So, back to the course: MAW was not just Windows on a fax machine, not just the
Windows Printing System, but an integrated system of Windows on a fax machine,
the Windows Printing System, a generalized network protocol, and apparently a
page description language. This was all, as you can see, rather
document-focused. MAW would allow Windows users to easily, seamlessly interact
with these common office machines, sending and receiving documents like it was
1999.</p>
<p>And later, it would do more: Microsoft was clear from the beginning that MAW
had a higher vision, one that is remarkably similar to the later concept of
Unified Communications. Microsoft envisioned Windows on a <em>phone,</em> bringing
desk phones into the same architecture, or environment, or whatever. Remember
the phone part, it comes back.</p>
<p>In practice, MAW would do nothing. It was a complete and total failure. It took
two years for the first MAW office machine to reach the market, a Ricoh fax
machine. Fortunately, a <a href="https://vimeo.com/111038922">television commercial</a>
has been preserved, giving us a small window into the Windows on a Fax Machine
experience. "Microsoft's At Work Still Loafing on the Job," is how the
Washington Post put it in 1995.</p>
<p>They call it "the first real step toward the paperless digital office," a nod
towards the promise of Microsoft's document-messaging vision, before noting
that virtually no products had shipped, everything was behind schedule, and
Microsoft had reorganized the At Work team out of existence. Microsoft At Work
was seldom spoken of again.  Few products ever launched, those that did sold
poorly (the Windows licensing fee imposed on them being one of several factors
contributing to noncompetitive price tags), and by the time Windows gained
proper USB support few would remember it had ever happened.</p>
<p>In other words, a classic Microsoft story.</p>
<p>But I'm not here to chronicle Microsoft's foibles, there are other writers
for that. I'm here to chronicle their weird operating system projects. And
that's what got me reading into MAW: the  promise of not just one, but <em>two</em>
weird operating system projects.</p>
<p>Regard that promise with suspicion.</p>
<p>Wikipedia tells us that MAW included "Microsoft At Work Operating System, a
small RTOS to be embedded in devices." That's very interesting. I love a small
RTOS to be embedded in devices! Tell us more.</p>
<p>Researching this MAW embedded operating system turns out to be a challenge. You
see, it is not the better known of the operating systems produced by the MAW
initiative. That would be WinPad, curiously not mentioned at all in the MAW
Wikipedia article, but instead in the Windows CE article, as a precursor to CE.
Windows CE gets a lot more affection than MAW, and so we know quite a bit more
about WinPad. It was an early attempt at an operating system for a touchscreen
mobile device, one that, in classic Microsoft fashion, competed internally with
<em>another</em> project to build an operating system for a touchscreen mobile device
(called Pegasus) and died out along with the rest of MAW.</p>
<p>It was based on 16-bit Windows 3.1, using a stripped-down UI layer that
resembled Windows 95. Probably not coincidentally, there seems to have been an
effort to port WinPad onto Windows 95, and fortunately developer releases of
WinPad have been preserved. With some effort, you can get them running on top
of appropriate Windows versions in an emulator.</p>
<p>WinPad was envisioned as a core part of MAW, the key enabler of that paperless
office. With MAW and WinPad, you could synchronize documents, emails, and
faxes, everything you could ever want in 1995, onto your handheld device and
then carry it with you. WinPad also didn't work. Evidently the performance was
lousy and it required entirely unrealistic battery capacities. Not a surprising
outcome when one ports a mid-'90s desktop operating system to a tablet. How
charming! But not exactly my target. What about this RTOS?</p>
<p>If you dig into these things for too long, you start to question your life, or
at least reality. References to this MAW embedded operating system are so
sparse that I quickly started to wonder if it existed at all, or if it was
simply confused with WinPad. This MAW OS would run directly on the office
machines. Is it possible that it was, in fact, WinPad that ran on a fax
machine?  Or at least that whatever ran on the fax machine was a direct
precursor to WinPad, an earlier new UI layer on top of 16-bit Windows?</p>
<p>The nagging thing that kept me on the hunt for this MAW embedded OS was, oddly
enough, the Sega Saturn. A series of newspaper archives, many gathered by
<a href="https://mdshock.com/2020/06/22/sega-and-microsoft-announce-partnership-for-saturn-os/">Mega Drive
Shock</a>,
tell an interesting story. Microsoft, it seemed, had been contracted to provide
the operating system for the Sega Saturn. Well, this seems to have been a
misconception, although clearly a period one. As the news cycle carried on, the
scope of this Microsoft-Sega partnership (at first denied by Microsoft!) was
reduced to Microsoft providing some sort of firmware related to the Saturn's
CD drive.</p>
<p>There is, though, a tantalizing detail. The <em>Electronics Times</em> reported that
"Microsoft looks set to port its Microsoft At Work operating system to
Hitachi's new SH series of microprocessors." The article explicitly linked
the porting to the Saturn effort, but also mentioned that the MAW operating
system was being ported to Motorola 68000.</p>
<p>Do you know what never ran on the Hitachi SH or Super-H architecture? 16-bit
Windows.</p>
<p>Do you know what did? Windows CE.</p>
<p>Is it possible? Do you think? Is Windows CE a derivative of Windows for Fax
Machines?</p>
<p>I'm pretty sure the answer is no. A reader pointed me at John Murray's 1998
book <em>Inside Windows CE,</em> which provides a brief and presumably authoritative
history of the platform. It specifically discusses Windows CE as a follow-on
project to the failed WinPad, which it describes as 16-bit Windows 3.1, and
goes on to say it "was designed for office equipment such as copiers and fax
machines."</p>
<p>It is, of course, possible that the book is incorrect. But given the dearth
of references to this MAW embedded RTOS, I think this is the more likely
scenario:</p>
<p>MAW devices like the Ricoh IFS77 ran 16-bit Windows 3.1 with a new GUI intended
to appear more modern while reducing resource requirements. Some reporters at
the time noted that Microsoft was cagey about the supported architectures, I
suspect they were waiting on ports to be completed. The fax machine was
probably x86, though, as there's little evidence MAW actually ran on anything
else.</p>
<p>This operating system was extended for the WinPad project, and efforts were
made to port it to architectures more common in the embedded devices of the
time like SH and 68000. Microsoft may have reached some level of completion on
that project and sold it to Sega for the Saturn's complicated storage
controller, but it's also possible that the connection between the Saturn and
MAW is mistaken and the software Microsoft delivered to Sega was a simple,
from-scratch effort. The strange arc of media reporting on the Microsoft-Sega
relationship offers the tantalizing possibility that Microsoft was intended to
deliver a complete OS for the Saturn but had to pare it back as a result of
problems with porting WinPad, but it seems more likely it just results from an
overeager electronics industry press and the Sega NDA that a Microsoft
spokesperson admitted to being subject to.</p>
<p>MAW failed to win the market, and WinPad failed to win a BillG review. The
project was canceled. From the ashes of WinPad and the similarly failed
Pegasus, some of the same people started work on a brand new project, Pulsar,
which would become Windows CE.</p>
<p>MAW didn't survive the '90s.</p>
<p>Well, some things are like that. I still got 240 lines out of it.</p>
<p>Update: Alert reader abrasive (James Wah) writes in that they had previously
dumped the CD-ROM firmware from the Saturn and performed some reverse
engineering. Several things suggest that it was not developed by Microsoft,
including a Hitachi copyright notice. It seems likely, then, that the
supposed Microsoft-Sega partnership never produced anything or was never
real in the first place.</p>
	</article></div>]]></description>
        </item>
    </channel>
</rss>