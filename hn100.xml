<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Wed, 01 May 2024 01:00:07 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[FTC challenges 'junk' patents held by 10 drugmakers, incl Novo Nordisk's Ozempic (118 pts)]]></title>
            <link>https://www.cnbc.com/2024/04/30/ftc-challenges-patents-held-by-drugmakers-including-for-ozempic.html</link>
            <guid>40216339</guid>
            <pubDate>Tue, 30 Apr 2024 21:06:00 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.cnbc.com/2024/04/30/ftc-challenges-patents-held-by-drugmakers-including-for-ozempic.html">https://www.cnbc.com/2024/04/30/ftc-challenges-patents-held-by-drugmakers-including-for-ozempic.html</a>, See on <a href="https://news.ycombinator.com/item?id=40216339">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="RegularArticle-ArticleBody-5" data-module="ArticleBody" data-test="articleBody-2" data-analytics="RegularArticle-articleBody-5-2"><div id="ArticleBody-InlineImage-107393000" data-test="InlineImage"><p>A box of Ozempic and contents sit on a table in Dudley, North Tyneside, Britain, October 31, 2023.&nbsp;</p><p>Lee Smith | Reuters</p></div><div><p>The Federal Trade Commission on Tuesday said it is <a href="https://www.ftc.gov/news-events/news/press-releases/2024/04/ftc-expands-patent-listing-challenges-targeting-more-300-junk-listings-diabetes-weight-loss-asthma" target="_blank">challenging</a> hundreds of alleged "junk" patents held by pharmaceutical companies for 20 brand-name drugs, including <span data-test="QuoteInBody" id="RegularArticle-QuoteInBody-2"><a href="https://www.cnbc.com/quotes/NVO/">Novo Nordisk's</a><span><span id="-WatchlistDropdown" data-analytics-id="-WatchlistDropdown"></span></span></span> blockbuster drugs Ozempic, Saxenda and Victoza.</p><p>The FTC issued letters to 10 companies, warning them that certain drug patents were improperly listed. These companies include Novo Nordisk, <span data-test="QuoteInBody" id="RegularArticle-QuoteInBody-3"><a href="https://www.cnbc.com/quotes/AZN/">AstraZeneca</a><span><span id="-WatchlistDropdown" data-analytics-id="-WatchlistDropdown"></span></span></span>, Boehringer Ingelheim, Covis Pharma, <span data-test="QuoteInBody" id="RegularArticle-QuoteInBody-4"><a href="https://www.cnbc.com/quotes/GSK/">GlaxoSmithKline</a><span><span id="-WatchlistDropdown" data-analytics-id="-WatchlistDropdown"></span></span></span>, <span data-test="QuoteInBody" id="RegularArticle-QuoteInBody-5"><a href="https://www.cnbc.com/quotes/NVS/">Novartis</a><span><span id="-WatchlistDropdown" data-analytics-id="-WatchlistDropdown"></span></span></span>, <span data-test="QuoteInBody" id="RegularArticle-QuoteInBody-6"><a href="https://www.cnbc.com/quotes/TEVA/">Teva Pharmaceuticals</a><span><span id="-WatchlistDropdown" data-analytics-id="-WatchlistDropdown"></span></span></span> and <span data-test="QuoteInBody" id="RegularArticle-QuoteInBody-7"><a href="https://www.cnbc.com/quotes/AMPH/">Amphastar Pharmaceuticals</a><span><span id="-WatchlistDropdown" data-analytics-id="-WatchlistDropdown"></span></span></span>, as well as some of their subsidiaries.&nbsp;</p><p>Many of the drug patents are for Type 2 diabetes, along with asthma and inhalers for chronic obstructive pulmonary disease, or COPD.&nbsp;</p><p>Most top-selling medications are protected by dozens of patents covering various ingredients, manufacturing processes, and intellectual property. Generic drugmakers can only launch cheaper versions of a branded drug if the patents have expired or are successfully challenged in court.</p><p>"By filing bogus patent listings, pharma companies block competition and inflate the cost of prescription drugs, forcing Americans to pay sky-high prices for medicines they rely on," FTC Chair Lina Khan said in a release. "By challenging junk patent filings, the FTC is fighting these illegal tactics and making sure that Americans can get timely access to innovative and affordable versions of the medicines they need."</p><p>The FTC also notified the Food and Drug Administration about the challenges.&nbsp;The FDA manages patent listings for approved drugs on a document called the Orange Book.</p><p>The FTC first <a href="https://www.biopharmadive.com/news/ftc-orange-book-patent-advair-epipen-restasis/699132/" target="_blank">challenged</a> dozens of branded drug patents last fall, leading three drugmakers to comply and delist their patents with the FDA. Five other companies did not.&nbsp;</p><p>The Tuesday announcement expands the Biden administration's effort to <a href="https://www.cnbc.com/2023/12/07/biden-administration-asserts-power-to-seize-drug-patents.html">crack down</a> on alleged patent abuses by the pharmaceutical industry. The FTC has argued that drugmakers are needlessly listing dozens of extra patents for branded medications to keep their drug prices high and stall generic competitors from entering the U.S. market.&nbsp;</p><p>The patent disputes add to a broader effort by the Biden administration to make health care more affordable for Americans – a key pillar of President Joe Biden's 2024 reelection campaign.&nbsp;</p><p>"We applaud the FTC's work with FDA to crack down on Big Pharma's patent games and lower costs for prescription drugs—including weight loss and diabetes drugs," Jon Donenberg, National Economic Council deputy director, said in a statement to CNBC.</p></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Printing Music with CSS Grid (271 pts)]]></title>
            <link>https://cruncher.ch/blog/printing-music-with-css-grid/</link>
            <guid>40216057</guid>
            <pubDate>Tue, 30 Apr 2024 20:39:59 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://cruncher.ch/blog/printing-music-with-css-grid/">https://cruncher.ch/blog/printing-music-with-css-grid/</a>, See on <a href="https://news.ycombinator.com/item?id=40216057">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
    
    
    

    
    

    
    
    

    
    <p>Too often have I witnessed the improvising musician sweaty-handedly attempting to pinch-zoom an A4 pdf on a tiny mobile screen at the climax of a gig. We need fluid and responsive music rendering for the web!</p>
    

    <p>
        <span>Stephen Band</span>
        <time>24 Apr 2024</time>
    </p>
    
    

    








<section>
    <p>Music notation should be as accessible and as fluid as text is, on the
    web; that it is not, yet, is something of an afront to my sensibilities.
    Let us fix this pressing problem.</p>

    <h2>The Scribe prototype</h2>

    <figure>
        <img src="https://cruncher.ch/static/blog/printing-music/images/scribe-020-dolphin-dance.png">
        <figcaption>SVG rendered by Scribe 0.2</figcaption>
    </figure>

    <p>Some years ago I prototyped a music renderer I called Scribe that outputs
    SVG from JSON. The original goal was to produce a responsive music renderer.
    It was a good demo, but to progress I was going to have to write a complex
    multi-pass layout engine, and, well, other things got in the way.</p>

    <p>Shortly after making that I was busy adopting Grid into our projects at
    Cruncher when something about it struck me as familiar, and I wondered if
    it might not be an answer to some of the layout problems I had been tackling
    in Scribe.</p>

    <h2>The class <code>.stave</code></h2>

    <p>The musical staff is grid-like. Pitch is plotted up the vertical axis and
    time runs left to right along the horizontal axis. I am going to define
    these two axes in two seperate classes. The vertical axis, defining grid rows,
    will be called <code>.stave</code>. We'll get to the time axis in a bit.</p>

    <p>A <code>.stave</code> has fixed-size grid rows named with standard pitch
    names, and a background image that draws the staff. So for a treble clef
    stave the row map might look like this:</p>

    <pre><code>
    .stave {
        display: grid;
        row-gap: 0;
        grid-template-rows:
            [A5] 0.25em [G5] 0.25em [F5] 0.25em [E5] 0.25em
            [D5] 0.25em [C5] 0.25em [B4] 0.25em [A4] 0.25em
            [G4] 0.25em [F4] 0.25em [E4] 0.25em [D4] 0.25em
            [C4] 0.25em ;

        background-image:    url('/path/to/stave.svg');
        background-repeat:   no-repeat;
        background-size:     100% 2.25em;
        background-position: 0 50%;
    }
    </code></pre>

    <p>Which, applied to a <code>&lt;div&gt;</code> gives us:</p>

    

    <p>Ok. Not much to see, but on inspecting it we do see that each line and
    each space on the stave now has its own pitch-named grid line to identify each row:</p>

    <img height="520" src="https://cruncher.ch/static/blog/printing-music/images/template-rows.png" alt="Named grid rows">

    <h3>Placing pitches up the stave</h3>

    <p>Any given row on a stave may contain any of several pitches. The
    pitches <strong>G♭</strong>, <strong>G</strong> and <strong>G♯</strong> must
    all sit on the <strong>G</strong> stave line, for example.</p>

    <p>To place DOM elements that represent those pitches in their correct rows I
    am going to put pitch names in <code>data-pitch</code> attributes and use CSS
    to map <code>data-pitch</code> values to stave rows.</p>

    <pre><code>
    .stave &gt; [data-pitch^="G"][data-pitch$="4"] { grid-row-start: G4; }
    </code></pre>

    <p>This rule captures pitches that start with <code>'G'</code> and end with
    <code>'4'</code>, so it assigns pitches <code>'G♭4'</code>, <code>'G4'</code>
    and <code>'G♯4'</code> (and double flat <code>'G𝄫4'</code> and  double sharp
    <code>'G𝄪4'</code>) to the <code>G4</code> row. That does need to be done for
    every stave row:</p>

    <!--aside class="right right-2">
    <p class="text-10"> full stylesheet can be found at <a href="">TODO</a>.
    A table of MIDI note numbers at <a href="https://inspiredacoustics.com/en/MIDI_note_numbers_and_center_frequencies">inspiredacoustics.com/en/MIDI_note_numbers_and_center_frequencies</a>.</p>
    </aside-->

    <pre><code>
    .stave &gt; [data-pitch^="A"][data-pitch$="5"] { grid-row-start: A5; }
    .stave &gt; [data-pitch^="G"][data-pitch$="5"] { grid-row-start: G5; }
    .stave &gt; [data-pitch^="F"][data-pitch$="5"] { grid-row-start: F5; }
    .stave &gt; [data-pitch^="E"][data-pitch$="5"] { grid-row-start: E5; }
    .stave &gt; [data-pitch^="D"][data-pitch$="5"] { grid-row-start: D5; }

    ...

    .stave &gt; [data-pitch^="D"][data-pitch$="4"] { grid-row-start: D4; }
    .stave &gt; [data-pitch^="C"][data-pitch$="4"] { grid-row-start: C4; }
    </code><!--style>
    .stave > [data-pitch^="A"][data-pitch$="5"] { grid-row-start: A5; }
    .stave > [data-pitch^="G"][data-pitch$="5"] { grid-row-start: G5; }
    .stave > [data-pitch^="F"][data-pitch$="5"] { grid-row-start: F5; }
    .stave > [data-pitch^="E"][data-pitch$="5"] { grid-row-start: E5; }
    .stave > [data-pitch^="D"][data-pitch$="5"] { grid-row-start: D5; }
    .stave > [data-pitch^="C"][data-pitch$="5"] { grid-row-start: C5; }
    .stave > [data-pitch^="B"][data-pitch$="4"] { grid-row-start: B4; }
    .stave > [data-pitch^="A"][data-pitch$="4"] { grid-row-start: A4; }
    .stave > [data-pitch^="G"][data-pitch$="4"] { grid-row-start: G4; }
    .stave > [data-pitch^="F"][data-pitch$="4"] { grid-row-start: F4; }
    .stave > [data-pitch^="E"][data-pitch$="4"] { grid-row-start: E4; }
    .stave > [data-pitch^="D"][data-pitch$="4"] { grid-row-start: D4; }
    .stave > [data-pitch^="C"][data-pitch$="4"] { grid-row-start: C4; }
    </style--></pre>

    <p>That should give us enough to begin placing symbols on a stave! I have a
    bunch of SVG symbols that were prepared for the Scribe prototype, so let's
    try placing a couple on a stave:</p>

    <pre><code>
    &lt;div class="stave"&gt;
        &lt;svg data-pitch="G4" class="head"&gt;
            &lt;use href="#head[2]"&gt;&lt;/use&gt;
        &lt;/svg&gt;
        &lt;svg data-pitch="E5" class="head"&gt;
            &lt;use href="#head[2]"&gt;&lt;/use&gt;
        &lt;/svg&gt;
    &lt;/div&gt;
    </code></pre>

    

    <p>That looks promising. Next, time.</p>

    <h2>The class <code>.bar</code> and its beats</h2>

    <p>Rhythm is perhaps a little trickier to handle. There is not one
    immediately obvious smallest rhythmic division to adopt that will support all kinds
    of rhythms. A judgement call must be made about what minimum note lengths
    and what cross-rhythms to support inside a grid.</p>

    <p>A 24-column-per-beat approach supports beat divisions to evenly lay out
    eighth notes (12 columns), sixteenth notes (6 columns) 32nd notes (3 columns)
    as well as triplet values of those notes. It's a good starting point.</p>

    <!--aside class="4x right right-2 text-10">
        <p>There may be a case for opting for higher
        resolutions, but I don't know yet how an HTML document will behave when it
        has hundreds of bars of grids in it – potentially hundreds of thousands of
        cells.</p>
    </aside-->

    <p>Here is a 4 beat bar defined as 4 × 24 = 96 grid columns, plus a column at
    the beginning and one at the end:</p>

    <pre><code>
    .bar {
        column-gap: 0.03125em;
        grid-template-columns:
            [bar-begin]
            max-content
            repeat(96, minmax(max-content, auto))
            max-content
            [bar-end];
    }
    </code><!--style>
    .bar {
        padding-left: 0.5em;
        padding-right: 0.5em;
        column-gap: 0.03125em;
        grid-template-columns:
            [bar-begin]
            max-content
            repeat(96, minmax(max-content, auto))
            max-content
            [bar-end];
    }

    .bar::before,
    .bar::after {
        grid-row: B4;
        align-self: center;
        height: 2em;
    }

    .flex > .bar {
        flex: 1 1;
        /* Make bar lines overlap */
        margin-left: calc(-1 * var(--bar-line-size, 1px));
        margin-right: 0;
    }
    </style--></pre>

    <p>Add a couple of bar lines as <code>::before</code> and <code>::after</code>
    content, and put a clef symbol in there centred on the stave with <code>data-pitch="B4"</code>,
    and we get:</p>

    <pre><code>
    &lt;div class="stave bar"&gt;
        &lt;svg data-pitch="B4" class="treble-clef"&gt;
            &lt;use href="#treble-clef"&gt;&lt;/use&gt;
        &lt;/svg&gt;
    &lt;/div&gt;
    </code></pre>

    

    <p>Inspect that and we see that the clef has dropped into the first column,
    and there are 96 zero-width columns, 24 per beat, each seperated by a small <code>column-gap</code>:</p>

    <img height="516" src="https://cruncher.ch/static/blog/printing-music/images/template-columns.png" alt="Named grid rows">

    <h3>Placing symbols at beats</h3>

    <p>This time I am going to use <code>data-beat</code> attributes to assign
    elements a beat, and CSS rules to map beats to grid columns. The CSS map
    looks like this, with a rule for each 1/24th of a beat:</p>

    <pre><code>
    .bar &gt; [data-beat^="1"]    { grid-column-start: 2; }
    .bar &gt; [data-beat^="1.04"] { grid-column-start: 3; }
    .bar &gt; [data-beat^="1.08"] { grid-column-start: 4; }
    .bar &gt; [data-beat^="1.12"] { grid-column-start: 5; }
    .bar &gt; [data-beat^="1.16"] { grid-column-start: 6; }
    .bar &gt; [data-beat^="1.20"] { grid-column-start: 7; }
    .bar &gt; [data-beat^="1.25"] { grid-column-start: 8; }

    ...

    .bar &gt; [data-beat^="4.95"] { grid-column-start: 97; }
    </code><!--style>
    .bar > [data-beat^="1"]    { grid-column-start: 2; }
    .bar > [data-beat^="1.04"] { grid-column-start: 3; }
    .bar > [data-beat^="1.08"] { grid-column-start: 4; }
    .bar > [data-beat^="1.12"] { grid-column-start: 5; }
    .bar > [data-beat^="1.16"] { grid-column-start: 6; }
    .bar > [data-beat^="1.20"] { grid-column-start: 7; }
    .bar > [data-beat^="1.25"] { grid-column-start: 8; }
    .bar > [data-beat^="1.29"] { grid-column-start: 9; }
    .bar > [data-beat^="1.33"] { grid-column-start: 10; }
    .bar > [data-beat^="1.37"] { grid-column-start: 11; }
    .bar > [data-beat^="1.41"] { grid-column-start: 12; }
    .bar > [data-beat^="1.45"] { grid-column-start: 13; }
    .bar > [data-beat^="1.5"]  { grid-column-start: 14; }
    .bar > [data-beat^="1.54"] { grid-column-start: 15; }
    .bar > [data-beat^="1.58"] { grid-column-start: 16; }
    .bar > [data-beat^="1.62"] { grid-column-start: 17; }
    .bar > [data-beat^="1.66"] { grid-column-start: 18; }
    .bar > [data-beat^="1.70"] { grid-column-start: 19; }
    .bar > [data-beat^="1.75"] { grid-column-start: 20; }
    .bar > [data-beat^="1.79"] { grid-column-start: 21; }
    .bar > [data-beat^="1.83"] { grid-column-start: 22; }
    .bar > [data-beat^="1.87"] { grid-column-start: 23; }
    .bar > [data-beat^="1.91"] { grid-column-start: 24; }
    .bar > [data-beat^="1.95"] { grid-column-start: 25; }
    .bar > [data-beat^="2"]    { grid-column-start: 26; }
    .bar > [data-beat^="2.04"] { grid-column-start: 27; }
    .bar > [data-beat^="2.08"] { grid-column-start: 28; }
    .bar > [data-beat^="2.12"] { grid-column-start: 29; }
    .bar > [data-beat^="2.16"] { grid-column-start: 30; }
    .bar > [data-beat^="2.20"] { grid-column-start: 31; }
    .bar > [data-beat^="2.25"] { grid-column-start: 32; }
    .bar > [data-beat^="2.29"] { grid-column-start: 33; }
    .bar > [data-beat^="2.33"] { grid-column-start: 34; }
    .bar > [data-beat^="2.37"] { grid-column-start: 35; }
    .bar > [data-beat^="2.41"] { grid-column-start: 36; }
    .bar > [data-beat^="2.45"] { grid-column-start: 37; }
    .bar > [data-beat^="2.5"]  { grid-column-start: 38; }
    .bar > [data-beat^="2.54"] { grid-column-start: 39; }
    .bar > [data-beat^="2.58"] { grid-column-start: 40; }
    .bar > [data-beat^="2.62"] { grid-column-start: 41; }
    .bar > [data-beat^="2.66"] { grid-column-start: 42; }
    .bar > [data-beat^="2.70"] { grid-column-start: 43; }
    .bar > [data-beat^="2.75"] { grid-column-start: 44; }
    .bar > [data-beat^="2.79"] { grid-column-start: 45; }
    .bar > [data-beat^="2.83"] { grid-column-start: 46; }
    .bar > [data-beat^="2.87"] { grid-column-start: 47; }
    .bar > [data-beat^="2.91"] { grid-column-start: 48; }
    .bar > [data-beat^="2.95"] { grid-column-start: 49; }
    .bar > [data-beat^="3"]    { grid-column-start: 50; }
    .bar > [data-beat^="3.04"] { grid-column-start: 51; }
    .bar > [data-beat^="3.08"] { grid-column-start: 52; }
    .bar > [data-beat^="3.12"] { grid-column-start: 53; }
    .bar > [data-beat^="3.16"] { grid-column-start: 54; }
    .bar > [data-beat^="3.20"] { grid-column-start: 55; }
    .bar > [data-beat^="3.25"] { grid-column-start: 56; }
    .bar > [data-beat^="3.29"] { grid-column-start: 57; }
    .bar > [data-beat^="3.33"] { grid-column-start: 58; }
    .bar > [data-beat^="3.37"] { grid-column-start: 59; }
    .bar > [data-beat^="3.41"] { grid-column-start: 60; }
    .bar > [data-beat^="3.45"] { grid-column-start: 61; }
    .bar > [data-beat^="3.5"]  { grid-column-start: 62; }
    .bar > [data-beat^="3.54"] { grid-column-start: 63; }
    .bar > [data-beat^="3.58"] { grid-column-start: 64; }
    .bar > [data-beat^="3.62"] { grid-column-start: 65; }
    .bar > [data-beat^="3.66"] { grid-column-start: 66; }
    .bar > [data-beat^="3.70"] { grid-column-start: 67; }
    .bar > [data-beat^="3.75"] { grid-column-start: 68; }
    .bar > [data-beat^="3.79"] { grid-column-start: 69; }
    .bar > [data-beat^="3.83"] { grid-column-start: 70; }
    .bar > [data-beat^="3.87"] { grid-column-start: 71; }
    .bar > [data-beat^="3.91"] { grid-column-start: 72; }
    .bar > [data-beat^="3.95"] { grid-column-start: 73; }
    .bar > [data-beat^="4"]    { grid-column-start: 74; }
    .bar > [data-beat^="4.04"] { grid-column-start: 75; }
    .bar > [data-beat^="4.08"] { grid-column-start: 76; }
    .bar > [data-beat^="4.12"] { grid-column-start: 77; }
    .bar > [data-beat^="4.16"] { grid-column-start: 78; }
    .bar > [data-beat^="4.20"] { grid-column-start: 79; }
    .bar > [data-beat^="4.25"] { grid-column-start: 80; }
    .bar > [data-beat^="4.29"] { grid-column-start: 81; }
    .bar > [data-beat^="4.33"] { grid-column-start: 82; }
    .bar > [data-beat^="4.37"] { grid-column-start: 83; }
    .bar > [data-beat^="4.41"] { grid-column-start: 84; }
    .bar > [data-beat^="4.45"] { grid-column-start: 85; }
    .bar > [data-beat^="4.5"]  { grid-column-start: 86; }
    .bar > [data-beat^="4.54"] { grid-column-start: 87; }
    .bar > [data-beat^="4.58"] { grid-column-start: 88; }
    .bar > [data-beat^="4.62"] { grid-column-start: 89; }
    .bar > [data-beat^="4.66"] { grid-column-start: 90; }
    .bar > [data-beat^="4.70"] { grid-column-start: 91; }
    .bar > [data-beat^="4.75"] { grid-column-start: 92; }
    .bar > [data-beat^="4.79"] { grid-column-start: 93; }
    .bar > [data-beat^="4.83"] { grid-column-start: 94; }
    .bar > [data-beat^="4.87"] { grid-column-start: 95; }
    .bar > [data-beat^="4.91"] { grid-column-start: 96; }
    .bar > [data-beat^="4.95"] { grid-column-start: 97; }
    </style--></pre>

    <p>The attribute <code>^=</code> starts-with selector
    makes the rule error-tolerant. At some point, inevitably, unrounded or
    floating point numbers will be rendered into <span><code>data-beat</code>.</span>
    Two of their decimal places is enough to identify a <span>1/24th-of-a-beat</span>
    grid column.</p>

    <p>Put that together with our <code>stave</code> class and we are able to position symbols
    by beat and pitch by setting <code>data-beat</code> to a beat between
    <code>1</code> and <code>5</code>, and <code>data-pitch</code> to a note name. As we do,
    the beat columns containing those symbols grow to accommodate them:</p>

    <pre><code>
    &lt;div class="stave bar"&gt;
        &lt;svg class="clef" data-pitch="B4"&gt;…&lt;/svg&gt;
        &lt;svg class="flat" data-beat="1" data-pitch="Bb4"&gt;…&lt;/svg&gt;
        &lt;svg class="head" data-beat="1" data-pitch="Bb4"&gt;…&lt;/svg&gt;
        &lt;svg class="head" data-beat="2" data-pitch="D4"&gt;…&lt;/svg&gt;
        &lt;svg class="head" data-beat="3" data-pitch="G5"&gt;…&lt;/svg&gt;
        &lt;svg class="rest" data-beat="4" data-pitch="B4"&gt;…&lt;/svg&gt;
    &lt;/div&gt;
    </code></pre>

    

    <p>Ooo. Stems?</p>

    

    <p>Yup. Tails?</p>

    

    <p>Yup. The tail spacing can be improved (which should be achievable with margins) – but the positioning works.</p>

    <h2>Fluid and responsive notation</h2>

    <p>Stick a whole bunch of bars like these together in a flexbox container
    that wraps and we start to see responsive music:</p>

    <pre><code>
    &lt;figure class="flex"&gt;
        &lt;div class="treble-stave stave bar"&gt;…&lt;/div&gt;
        &lt;div class="treble-stave stave bar"&gt;…&lt;/div&gt;
        &lt;div class="treble-stave stave bar"&gt;…&lt;/div&gt;
        …
    &lt;/figure&gt;
    </code></pre>





    





    <p>There are clearly a bunch of things missing from this, but this is a
    great base to start from. It already wraps more gracefully than I have yet
    seen an online music renderer&nbsp;do.</p>


    <h2>The space between the&nbsp;notes</h2>

    <p>Ignoring these beams for a moment, notice that note heads that occur closer
    in time to one another are rendered slightly closer together:</p>

    

    <p>It's a subtle, deliberate effect created by the small <code>column-gap</code>,
    which serves as a sort of time 'ether' into which symbol elements slot. Columns
    themselves are zero width unless there is a note head in them, but there are
    more column-gaps – 24 per beat – between events that are further apart in
    beats, and so more distance.</p>

    <p>Constant spacing can be controlled by adjusting margins on the symbols.
    To get a more constant spacing here we would reduce the <code>column-gap</code>
    while increasing the margin of note heads:</p>

    

    <p>But ugh, that looks bad, because the head spacings give the reader no clue
    as to how rapid the rhythm is. The point is, CSS is giving us some nice control
    over the metrics. And the aim now is to tweak those metrics for readability.</p>

    <h3>Clefs and time signatures</h3>

    <!--p>I like this system for printing music.  Individual symbol margins,
    stroke thicknesses, and even stave maps, can all be restyled in&nbsp;CSS.</p-->

    <p>You may be wondering why I employed seperate classes for vertical and
    horizontal spacing, why not just one? Seperating the axes means that
    one can be swapped out without the other. Take the melody:</p>

    <scribe-music type="sequence" clef="treble" meter="4/4">
    0.5 B3  0.2 1.5
    2   D4  0.2 1
    3   F#4 0.2 1
    4   E4  0.2 1
    5   D4  0.2 1
    6   B3  0.2 0.5
    6.5 G3  0.2 0.5
    <!--9   A3  0.2 1
    10  C4  0.2 1
    11  G4  0.2 1
    12  F#4 0.2 1
    13  C#4 0.2 2-->
    </scribe-music>

    <p>To display this same melody on a bass clef, the <code>stave</code> class can be
    swapped out for a <code>bass-stave</code> class that maps the same <code>data-pitch</code>
    attributes to bass stave lines:</p>

    <pre><code>
    &lt;div class="bass-stave bar"&gt;...&lt;/div&gt;
    </code></pre>

    <scribe-music type="sequence" clef="bass" meter="4/4">
    0.5 B3  0.2 1.5
    2   D4  0.2 1
    3   F#4 0.2 1
    4   E4  0.2 1
    5   D4  0.2 1
    6   B3  0.2 0.5
    6.5 G3  0.2 0.5
    <!--9   A3  0.2 1
    10  C4  0.2 1
    11  G4  0.2 1
    12  F#4 0.2 1
    13  C#4 0.2 2-->
    </scribe-music>

    <p>Or, with CSS that mapped <code>data-duration="5"</code> to 120
    <code>grid-template-columns</code> on <code>.bar</code>, the same stave
    could be given a time signature of 5/4:</p>

    <pre><code>
    &lt;div class="bass-stave bar" data-duration="5"&gt;...&lt;/div&gt;
    </code></pre>

    <scribe-music type="sequence" clef="bass" meter="5/4">
    0.5 B3  0.2 1.5
    2   D4  0.2 1
    3   F#4 0.2 1
    4   E4  0.2 1
    5   D4  0.2 1
    6   B3  0.2 0.5
    6.5 G3  0.2 0.5
    <!--9   A3  0.2 1
    10  C4  0.2 1
    11  G4  0.2 1
    12  F#4 0.2 1
    13  C#4 0.2 2-->
    </scribe-music>

    <p>Clearly I am glossing over a few details. Not everything is as simple as
    a class change, and a few stems and ledger lines need repositioned.</p>

    <p>Here's a stave class that remaps pitches entirely. General MIDI
    places drum and percussion voices on a bunch of notes in the bottom octaves
    of a keyboard, but those notes are not related to where drums are printed
    on a stave. In CSS a <code>drums-stave</code> class can be defined that maps
    those pitches to their correct rows:</p>

    <pre><code>
    &lt;div class="drums-stave bar" data-duration="4"&gt;...&lt;/div&gt;
    </code></pre>

    

    <pre><code>
    &lt;div class="percussion-stave bar" data-duration="4"&gt;...&lt;/div&gt;
    </code></pre>

    

    <p>That's some very readable drum notation. I'm pretty pleased with that.</p>

    <h3>Chords and lyrics</h3>

    <p>CSS Grid allows us to align other symbols inside the notation grid too.
    Chords and lyrics, dynamics and so on can be lined up with, and span, timed
    events:</p>

    <div>
        <div data-duration="4">
            <svg preserveAspectRatio="none" viewBox="0 0.4 5.2 14.6"><use x="3.2" y="1" width="8" href="#piano-clef"></use></svg>
            <header>
                <p>4</p>
                <p>4</p>
            </header>
            <p data-beat="1" data-duration="1.5">In</p>
            <p data-beat="1" data-duration="2">A<span>♭</span><sub>maj</sub></p>
            <svg data-beat="1" data-pitch="C5" data-duration="1.5" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[1.5]"></use></svg>
            <svg data-beat="1" data-pitch="A♭4" preserveAspectRatio="xMidYMid slice" viewBox="0 -4 2 4"><use href="#acci-flat"></use></svg>
            <svg data-beat="1" data-pitch="C5" data-duration="2" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="1" data-pitch="A♭4" data-duration="2" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[2]"></use></svg>
            <svg data-beat="1" data-pitch="E♭4" preserveAspectRatio="xMidYMid slice" viewBox="0 -4 2 4"><use href="#acci-flat"></use></svg>
            <svg data-beat="1" data-pitch="E♭4" data-duration="2" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="1" data-pitch="E♭4" data-duration="2" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[2]"></use></svg>
            <p data-beat="2.5" data-duration="0.5">the</p>
            <svg data-beat="2.5" data-pitch="D♭5" preserveAspectRatio="xMidYMid slice" viewBox="0 -4 2 4"><use href="#acci-flat"></use></svg>
            <svg data-beat="2.5" data-pitch="D♭5" data-duration="0.5" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemdown"></use></svg>
            <svg data-beat="2.5" data-pitch="D♭5" data-duration="0.5" preserveAspectRatio="xMidYMid" viewBox="0 -1 2.7 2"><use href="#taildown[0.5]"></use></svg>
            <svg data-beat="2.5" data-pitch="D♭5" data-duration="0.5" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[0.5]"></use></svg>
            <p data-beat="3" data-duration="1">bleak</p>
            <p data-beat="3" data-duration="2">A<span>♭</span><sub>maj</sub>/G</p>
            <svg data-beat="3" data-pitch="E♭5" preserveAspectRatio="xMidYMid slice" viewBox="0 -4 2 4"><use href="#acci-flat"></use></svg>
            <svg data-beat="3" data-pitch="E♭5" data-duration="1" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[1]"></use></svg>
            <svg data-beat="3" data-pitch="B♭4" preserveAspectRatio="xMidYMid slice" viewBox="0 -4 2 4"><use href="#acci-flat"></use></svg>
            <svg data-beat="3" data-pitch="E♭5" data-duration="1" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="3" data-pitch="B♭4" data-duration="1" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[1]"></use></svg>
            <svg data-beat="3" data-pitch="F4" data-duration="1" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="3" data-pitch="F4" data-duration="1" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[1]"></use></svg>
            <p data-beat="4" data-duration="1">mid-</p>
            <svg data-beat="4" data-pitch="C5" data-duration="1" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[1]"></use></svg>
            <svg data-beat="4" data-pitch="C5" data-duration="1" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="4" data-pitch="F4" data-duration="1" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[1]"></use></svg>
            <svg data-beat="4" data-pitch="C4" preserveAspectRatio="xMidYMin" viewBox="0 -0.5 4.4 1" style="height: calc(1 * var(--y-size));"><use x="0" y="-8" href="#ledges"></use></svg>
            <svg data-beat="4" data-pitch="C4" data-duration="1" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="4" data-pitch="C4" data-duration="1" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[1]"></use></svg>
            <svg data-beat="1" data-pitch="A♭2" data-part="lower" preserveAspectRatio="xMidYMid slice" viewBox="0 -4 2 4"><use href="#acci-flat"></use></svg>
            <svg data-beat="1" data-pitch="A♭2" data-duration="2" data-part="lower" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="1" data-pitch="A♭2" data-duration="2" data-part="lower" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[2]"></use></svg>
            <svg data-beat="3" data-pitch="G2" data-duration="2" data-part="lower" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="3" data-pitch="G2" data-duration="2" data-part="lower" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[2]"></use></svg>
        </div>
        <div data-duration="4">
            <p data-beat="1" data-duration="2">win-</p>
            <p data-beat="1" data-duration="2">C<sup>7</sup><span>♭</span><sup>9</sup></p>
            <svg data-beat="1" data-pitch="B♭4" preserveAspectRatio="xMidYMid slice" viewBox="0 -4 2 4"><use href="#acci-flat"></use></svg>
            <svg data-beat="1" data-pitch="B♭4" data-duration="2" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="1" data-pitch="B♭4" data-duration="2" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[2]"></use></svg>
            <svg data-beat="1" data-pitch="F♭4" preserveAspectRatio="xMidYMid slice" viewBox="0 -4 2 4"><use href="#acci-flat"></use></svg>
            <svg data-beat="1" data-pitch="F♭4" data-duration="2" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="1" data-pitch="F♭4" data-duration="2" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[2]"></use></svg>
            <svg data-beat="1" data-pitch="D♭4" preserveAspectRatio="xMidYMid slice" viewBox="0 -4 2 4"><use href="#acci-flat"></use></svg>
            <svg data-beat="1" data-pitch="D♭4" data-duration="2" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="1" data-pitch="D♭4" data-duration="2" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[2]"></use></svg>
            <p data-beat="3" data-duration="2">ter,</p>
            <p data-beat="3" data-duration="1">F-<sup>7</sup></p>
            <svg data-beat="3" data-pitch="A♭4" preserveAspectRatio="xMidYMid slice" viewBox="0 -4 2 4"><use href="#acci-flat"></use></svg>
            <svg data-beat="3" data-pitch="A♭4" data-duration="2" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="3" data-pitch="A♭4" data-duration="2" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[2]"></use></svg>
            <svg data-beat="3" data-pitch="E♭4" preserveAspectRatio="xMidYMid slice" viewBox="0 -4 2 4"><use href="#acci-flat"></use></svg>
            <svg data-beat="3" data-pitch="E♭4" data-duration="1" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="3" data-pitch="E♭4" data-duration="1" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[1]"></use></svg>
            <svg data-beat="3" data-pitch="C4" preserveAspectRatio="xMidYMin" viewBox="0 -0.5 4.4 1" style="height: calc(1 * var(--y-size));"><use x="0" y="-8" href="#ledges"></use></svg>
            <svg data-beat="3" data-pitch="C4" data-duration="1" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="3" data-pitch="C4" data-duration="1" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[1]"></use></svg>
            <p data-beat="4" data-duration="1">A<span>♭</span><sup>7</sup><sub>sus</sub></p>
            <svg data-beat="4" data-pitch="G♭4" preserveAspectRatio="xMidYMid slice" viewBox="0 -4 2 4"><use href="#acci-flat"></use></svg>
            <svg data-beat="4" data-pitch="G♭4" data-duration="1" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="4" data-pitch="G♭4" data-duration="1" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[1]"></use></svg>
            <svg data-beat="4" data-pitch="E♭4" data-duration="1" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="4" data-pitch="E♭4" data-duration="1" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[1]"></use></svg>
            <svg data-beat="1" data-pitch="C3" data-duration="2" data-part="lower" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="1" data-pitch="C3" data-duration="2" data-part="lower" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[2]"></use></svg>
            <svg data-beat="3" data-pitch="F2" data-duration="1" data-part="lower" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="3" data-pitch="F2" data-duration="1" data-part="lower" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[1]"></use></svg>
            <svg data-beat="4" data-pitch="A♭2" data-part="lower" preserveAspectRatio="xMidYMid slice" viewBox="0 -4 2 4"><use href="#acci-flat"></use></svg>
            <svg data-beat="4" data-pitch="A♭2" data-duration="1" data-part="lower" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="4" data-pitch="A♭2" data-duration="1" data-part="lower" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[1]"></use></svg>
        </div>
        <div data-duration="4">
            <p data-beat="1" data-duration="1.5">Frost-</p>
            <p data-beat="1" data-duration="2">D<span>♭</span><sub>maj</sub></p>
            <svg data-beat="1" data-pitch="B♭4" preserveAspectRatio="xMidYMid slice" viewBox="0 -4 2 4"><use href="#acci-flat"></use></svg>
            <svg data-beat="1" data-pitch="B♭4" data-duration="1.5" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="1" data-pitch="B♭4" data-duration="1.5" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[1.5]"></use></svg>
            <svg data-beat="1" data-pitch="F4" data-duration="2" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="1" data-pitch="F4" data-duration="2" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[2]"></use></svg>
            <svg data-beat="1" data-pitch="C4" preserveAspectRatio="xMidYMin" viewBox="0 -0.5 4.4 1" style="height: calc(1 * var(--y-size));"><use x="0" y="-8" href="#ledges"></use></svg>
            <svg data-beat="1" data-pitch="C4" data-duration="2" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="1" data-pitch="C4" data-duration="2" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[2]"></use></svg>
            <p data-beat="2.5" data-duration="0.5">y</p>
            <svg data-beat="2.5" data-pitch="C5" data-duration="0.5" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemdown"></use></svg>
            <svg data-beat="2.5" data-pitch="C5" data-duration="0.5" preserveAspectRatio="xMidYMid" viewBox="0 -1 2.7 2"><use href="#taildown[0.5]"></use></svg>
            <svg data-beat="2.5" data-pitch="C5" data-duration="0.5" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[0.5]"></use></svg>
            <p data-beat="3" data-duration="0.5">wind</p>
            <p data-beat="3" data-duration="2">B<span>♭</span>/D</p>
            <svg data-beat="3" data-pitch="B♭4" data-duration="1" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="3" data-pitch="B♭4" data-duration="1" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[1]"></use></svg>
            <svg data-beat="3" data-pitch="F4" data-duration="2" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="3" data-pitch="F4" data-duration="2" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[2]"></use></svg>
            <svg data-beat="3" data-pitch="C4" preserveAspectRatio="xMidYMin" viewBox="0 -0.5 4.4 1" style="height: calc(1 * var(--y-size));"><use x="0" y="-8" href="#ledges"></use></svg>
            <svg data-beat="3" data-pitch="C4" data-duration="2" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="3" data-pitch="C4" data-duration="2" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[2]"></use></svg>
            <p data-beat="4" data-duration="0.5">made</p>
            <svg data-beat="4" data-pitch="F4" data-duration="1" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="4" data-pitch="F4" data-duration="1" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[1]"></use></svg>
            <svg data-beat="1" data-pitch="D♭3" data-part="lower" preserveAspectRatio="xMidYMid slice" viewBox="0 -4 2 4"><use href="#acci-flat"></use></svg>
            <svg data-beat="1" data-pitch="D♭3" data-duration="2" data-part="lower" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="1" data-pitch="D♭3" data-duration="2" data-part="lower" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[2]"></use></svg>
            <svg data-beat="3" data-pitch="D3" data-part="lower" preserveAspectRatio="xMidYMid slice" viewBox="0 -4 1.8 4"><use href="#acci-natural"></use></svg>
            <svg data-beat="3" data-pitch="D3" data-duration="2" data-part="lower" preserveAspectRatio="none" viewBox="0 0 2.7 7" style="--beam-y: 0;"><use href="#stemup"></use></svg>
            <svg data-beat="3" data-pitch="D3" data-duration="2" data-part="lower" preserveAspectRatio="xMidYMid slice" viewBox="0 -1 2.7 2"><use href="#head[2]"></use></svg>
        </div>
        
    </div>

    <h3>But what about those beams?</h3>

    <p>Beams, chords and some of the longer rests are made to span columns by
    mapping their <code>data-duration</code> attributes to <code>grid-column-end</code>
    span values:</p>

    <pre><code>
    .stave &gt; [data-duration="0.25"] { grid-column-end: span 6; }
    .stave &gt; [data-duration="0.5"]  { grid-column-end: span 12; }
    .stave &gt; [data-duration="0.75"] { grid-column-end: span 18; }
    .stave &gt; [data-duration="1"]    { grid-column-end: span 24; }
    .stave &gt; [data-duration="1.25"] { grid-column-end: span 30; }
    ...
    </code></pre>

    <p>Simple as, bru.</p>

    <h3>Sizing</h3>

    <p>Lastly, the whole system is sized in <code>em</code>, so to scale it we
    simply change the <code>font-size</code>:</p>

    <scribe-music type="sequence" clef="treble">
        0   meter 2 1
        0   E4    1 0.5
        1   B4    1 0.5
        2   Bb4   1 2
    </scribe-music>

    <h3>Limits of Flex and Grid</h3>
    <p>Is it the perfect system? Honestly, I'm quietly gobsmacked that it works
    so well, but if we are looking for caveats… <strong>1.</strong> CSS cannot
    automatically position a new clef/key signature at the beginning of each
    wrapped line, or <strong>2.</strong> tie a head to a new head on a new line.
    And <strong>3.</strong>, angled beams are a whole story onto themselves;
    1/16th and 1/32nd note beams are hard to align because we cannot know precisely
    where their stems are until after the Grid has laid them out:</p>

    

    <p>So it's going to need a bit of tidy-up JavaScript to finish
    the job completely, but CSS shoulders the bulk of the layout work here, and
    that means far less layout work to do in JavaScript.</p>

    <h2>Let me know what you think</h2>

    <p>If you like this CSS system or this blog post, or if you can see how to make
    improvements, please do let me know. I'm on Bluesky
    <a href="https://bsky.app/profile/stephen.band">@stephen.band</a>,
    Mastodon
    <a href="https://front-end.social/@stephband">@stephband@front-end.social</a>,
    and Twitter (still, just about)
    <a href="https://twitter.com/stephband">@stephband</a>.
    Or join me in making this in the Scribe repo...</p>
</section>

<section>
    <header>
        <h2><code>&lt;scribe-music&gt;</code></h2>
        <p>A custom element for rendering music</p>
    </header>

    

    <p>I have written an interpreter around this new CSS system and wrapped that up
    in the element <code>&lt;scribe-music&gt;</code>. It's nowhere near production-ready,
    but as it is already capable of rendering a <a href="https://stephen.band/scribe/dolphin-dance.html">responsive lead sheet</a>
    and notating drums I think it's interesting and useful.</p>

    <h3>Whazzitdo?</h3>

    <p>The <code>&lt;scribe-music&gt;</code> element renders music notation
    from data found in it's content:</p>

    <pre><code>
        &lt;scribe-music type="sequence"&gt;
            0 chord D maj 4
            0 F#5 0.2 4
            0 A4  0.2 4
            0 D4  0.2 4
        &lt;/scribe-music&gt;
    </code></pre>

    <scribe-music type="sequence" clef="treble">
        0 chord Dmaj 4
        0 F#5 0.2 4
        0 A4  0.2 4
        0 D4  0.2 4
    </scribe-music>

    <p>Or from a file fetched by its <code>src</code> attribute, such as this JSON:</p>

    <pre><code>
        &lt;scribe-music
            clef="drums"
            type="application/json"
            src="/static/blog/printing-music/data/caravan.json"&gt;
        &lt;/scribe-music&gt;
    </code></pre>

    <scribe-music type="application/json" clef="drums" src="/static/blog/printing-music/data/caravan.json"></scribe-music>

    <p>Or from a JS object set on the element's <code>.data</code> property.</p>
    <p>There's some basic documentation about all that in the <a href="https://github.com/stephband/scribe/">README</a>.</p>

    <h3>Try it out</h3>
    <p>You can try the current development build by importing these files in a web page:</p>
    <pre><code>
        &lt;link rel="stylesheet" href="https://stephen.band/scribe/scribe-music/module.css" /&gt;
        &lt;script type="module" src="https://stephen.band/scribe/scribe-music/module.js"&gt;&lt;/script&gt;
    </code></pre>

    <p>As I said, it's in development. Asides from some immediate improvements I
    can make to Scribe 0.3, like tuning the autospeller, fixing the 1/16th-note
    beams and detecting and displaying tuplets, some longer-term features I would
    like to investigate are:</p>

    <ul>
        <li><strong>Support for <a href="https://www.smufl.org/fonts/">SMuFL fonts</a></strong> –
        changing the font used for notation symbols. So far I have not been able to display their
        extended character sets reliably cross-browser.</li>
        <li><strong>Support for nested sequences</strong> – enabling multi-part tunes.</li>
        <li><strong>Split-stave rendering</strong> – placing multiple parts on one stave. The mechanics for this are already half in place – the drums stave and piano stave currently auto-split by pitch.</li>
        <li><strong>Multi-stave rendering</strong> – placing multiple parts on multiple, aligned, staves.</li>
    </ul>

    <p>I leave you with a transposable lead sheet for Dolphin Dance, rendered by <code>&lt;scribe-music&gt;</code>:</p>
</section>

<section>
    

    <header>
        <h2>Dolphin Dance</h2>
        
        <form>
            <label for="select-transpose">Transpose:</label>
            
        </form>
    </header>

    <scribe-music type="application/json" clef="treble" id="dolphin-dance">[
    [0,   "chord", "C",  "∆", 4],
    [4,   "chord", "G",  "-", 4],
    [8,   "chord", "C",  "∆", 4],
    [12,  "chord", "B",  "ø", 2],
    [14,  "chord", "E",  "7alt", 2],
    [16,  "chord", "A",  "-", 4],
    [20,  "chord", "F",  "∆(♯11)", 2],
    [22,  "chord", "E",  "7alt", 2],
    [24,  "chord", "A",  "-", 4],
    [28,  "chord", "F♯", "-7", 2],
    [30,  "chord", "B",  "7", 2],
    [32,  "chord", "E",  "∆", 4],
    [36,  "chord", "F",  "-7", 4],
    [40,  "chord", "D",  "-7", 6],
    [46,  "chord", "E",  "7alt", 2],
    [48,  "chord", "A",  "-7", 8],
    [56,  "chord", "F♯", "-7", 4],
    [60,  "chord", "B",  "7", 4],
    [64,  "chord", "E",  "∆", 4],
    [68,  "chord", "E",  "7sus", 4],
    [72,  "chord", "E",  "∆♯11", 4],
    [76,  "chord", "E",  "7sus", 4],
    [80,  "chord", "D",  "7sus", 4],
    [84,  "chord", "D",  "∆♯11", 4],
    [88,  "chord", "D",  "7sus", 4],
    [92,  "chord", "C♯", "-7", 2],
    [94,  "chord", "F♯", "7", 2],
    [96,  "chord", "C",  "7♯11", 4],
    [100, "chord", "F♯", "-7", 2],
    [102, "chord", "B",  "7", 2],
    [104, "chord", "G♯", "-7", 2],
    [108, "chord", "C♯", "7", 2],
    [110, "chord", "B",  "-7", 2],
    [112, "chord", "B♭", "-7", 4],
    [116, "chord", "E♭", "7", 4],
    [120, "chord", "C♯", "-7", 4],
    [124, "chord", "C♯", "-♭6", 4],
    [128, "chord", "C♯", "-7", 4],
    [132, "chord", "C♯", "-♭6", 4],
    [136, "chord", "C",  "7sus", 4],
    [140, "chord", "C",  "∆♭6", 4],
    [144, "chord", "C",  "7sus♭9", 4],
    [148, "chord", "E",  "7alt", 4],
    [2,      "note", 76, 0.25, 0.5],
    [2.5,    "note", 77, 0.25, 0.5],
    [3,      "note", 79, 0.25, 0.5],
    [3.5,    "note", 74, 0.25, 3.5],
    [10,     "note", 76, 0.25, 0.5],
    [10.5,   "note", 77, 0.25, 0.5],
    [11,     "note", 79, 0.25, 0.5],
    [11.5,   "note", 74, 0.25, 3.5],
    [18,     "note", 72, 0.25, 0.5],
    [18.5,   "note", 74, 0.25, 1],
    [19.5,   "note", 76, 0.25, 0.5],
    [20,     "note", 71, 0.25, 1],
    [21,     "note", 71, 0.25, 2],
    [26,     "note", 72, 0.25, 0.5],
    [26.5,   "note", 74, 0.25, 0.5],
    [27,     "note", 76, 0.25, 0.5],
    [27.5,   "note", 71, 0.25, 3.5],
    [31,     "note", 69, 0.25, 1],
    [32,     "note", 68, 0.25, 1.5],
    [33.5,   "note", 75, 0.25, 2.5],
    [36,     "note", 75, 0.25, 1.5],
    [37.5,   "note", 75, 0.25, 0.5],
    [38,     "note", 77, 0.25, 0.5],
    [38.5,   "note", 75, 0.25, 0.5],
    [39,     "note", 77, 0.25, 0.5],
    [39.5,   "note", 79, 0.25, 4.5],
    [48,     "note", 76, 0.25, 1.5],
    [49.5,   "note", 79, 0.25, 2.5],
    [52,     "note", 79, 0.25, 1],
    [53,     "note", 79, 0.25, 0.5],
    [53.5,   "note", 79, 0.25, 0.5],
    [54,     "note", 81, 0.25, 0.5],
    [54.5,   "note", 79, 0.25, 0.5],
    [55,     "note", 81, 0.25, 0.5],
    [55.5,   "note", 83, 0.25, 4.5],
    [66,     "note", 80, 0.25, 0.5],
    [66.5,   "note", 81, 0.25, 0.5],
    [67,     "note", 83, 0.25, 0.5],
    [67.5,   "note", 78, 0.25, 3.5],
    [74,     "note", 76, 0.25, 0.5],
    [74.5,   "note", 78, 0.25, 0.5],
    [75,     "note", 80, 0.25, 0.5],
    [75.5,   "note", 74, 0.25, 3.5],
    [82,     "note", 72, 0.25, 0.5],
    [82.5,   "note", 74, 0.25, 1],
    [83.5,   "note", 76, 0.25, 0.5],
    [84,     "note", 71, 0.25, 1],
    [85,     "note", 71, 0.25, 2],
    [90,     "note", 72, 0.25, 0.5],
    [90.5,   "note", 74, 0.25, 1],
    [91,     "note", 76, 0.25, 0.5],
    [91.5,   "note", 78, 0.25, 4.5],
    [96,     "note", 78, 0.25, 0.5],
    [96.5,   "note", 79, 0.25, 0.5],
    [97.5,   "note", 78, 0.25, 0.25],
    [97.75,  "note", 77, 0.25, 0.25],
    [98,     "note", 78, 0.25, 1],
    [99,     "note", 78, 0.25, 0.5],
    [99.5,   "note", 83, 0.25, 0.5],
    [100.5,  "note", 80, 0.25, 3.5],
    [104,    "note", 80, 0.25, 0.5],
    [104.5,  "note", 82, 0.25, 0.5],
    [105.5,  "note", 80, 0.25, 0.25],
    [105.75, "note", 78, 0.25, 0.25],
    [106,    "note", 80, 0.25, 1],
    [107,    "note", 80, 0.25, 0.5],
    [107.5,  "note", 85, 0.25, 2.5],
    [110,    "note", 86, 0.25, 2],
    [112,    "note", 87, 0.25, 1.5],
    [113.5,  "note", 85, 0.25, 1],
    [114.5,  "note", 80, 0.25, 1],
    [115.5,  "note", 77, 0.25, 0.5],
    [116,    "note", 84, 0.25, 3],
    [119,    "note", 75, 0.25, 0.5],
    [119.5,  "note", 80, 0.25, 8.5],
    [138,    "note", 81, 0.25, 0.5],
    [138.5,  "note", 82, 0.25, 0.5],
    [139,    "note", 84, 0.25, 0.5],
    [139.5,  "note", 79, 0.25, 3.5],
    [146,    "note", 76, 0.25, 0.5],
    [146.5,  "note", 77, 0.25, 0.5],
    [147,    "note", 79, 0.25, 0.5],
    [147.5,  "note", 74, 0.25, 3.5]
    ]</scribe-music>
</section>



</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Run llama3 locally with 1M token context (123 pts)]]></title>
            <link>https://ollama.com/library/llama3-gradient</link>
            <guid>40215767</guid>
            <pubDate>Tue, 30 Apr 2024 20:15:23 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://ollama.com/library/llama3-gradient">https://ollama.com/library/llama3-gradient</a>, See on <a href="https://news.ycombinator.com/item?id=40215767">Hacker News</a></p>
<div id="readability-page-1" class="page"><div href="/library/llama3-gradient:latest/blobs/4fa551d4f938" hx-get="/library/llama3-gradient:latest/blobs/4fa551d4f938" hx-target="#file-explorer" hx-swap="innerHTML" hx-push-url="true">
            <p>
              license
            </p>
            <p>
              
              META LLAMA 3 COMMUNITY LICENSE AGREEMENT

Meta Llama 3 Version Release Date: April 18, 2024
“Agreement” means the terms and conditions for use, reproduction, distribution and modification of the Llama Materials set forth herein.

“Documentation” means the specifications, manuals and documentation accompanying Meta Llama 3 distributed by Meta at https://llama.meta.com/get-started/.

“Licensee” or “you” means you, or your employer or any other person or entity (if you are entering into this Agreement on such person or entity’s behalf), of the age required under applicable laws, rules or regulations to provide legal consent and that has legal authority to bind your employer or such other person or entity if you are entering in this Agreement on their behalf.

“Meta Llama 3” means the foundational large language models and software and algorithms, including machine-learning model code, trained model weights, inference-enabling code, training-enabling code, fine-tuning enabling code and other elements of the foregoing distributed by Meta at https://llama.meta.com/llama-downloads.

“Llama Materials” means, collectively, Meta’s proprietary Meta Llama 3 and Documentation (and any portion thereof) made available under this Agreement.

“Meta” or “we” means Meta Platforms Ireland Limited (if you are located in or, if you are an entity, your principal place of business is in the EEA or Switzerland) and Meta Platforms, Inc. (if you are located outside of the EEA or Switzerland). 

By clicking “I Accept” below or by using or distributing any portion or element of the Llama Materials, you agree to be bound by this Agreement.

1. License Rights and Redistribution.

	a. Grant of Rights. You are granted a non-exclusive, worldwide, non-transferable and royalty-free limited license under Meta’s intellectual property or other rights owned by Meta embodied in the Llama Materials to use, reproduce, distribute, copy, create derivative works of, and make modifications to the Llama Materials. 
	b. Redistribution and Use.  
		i. If you distribute or make available the Llama Materials (or any derivative works thereof), or a product or service that uses any of them, including another AI model, you shall (A) provide a copy of this Agreement with any such Llama Materials; and (B) prominently display “Built with Meta Llama 3” on a related website, user interface, blogpost, about page, or product documentation. If you use the Llama Materials to create, train, fine tune, or otherwise improve an AI model, which is distributed or made available, you shall also include “Llama 3” at the beginning of any such AI model name.
		ii. If you receive Llama Materials, or any derivative works thereof, from a Licensee as part of an integrated end user product, then Section 2 of this Agreement will not apply to you. 
		iii. You must retain in all copies of the Llama Materials that you distribute the following attribution notice within a “Notice” text file distributed as a part of such copies: “Meta Llama 3 is licensed under the Meta Llama 3 Community License, Copyright © Meta Platforms, Inc. All Rights Reserved.”
		iv. Your use of the Llama Materials must comply with applicable laws and regulations (including trade compliance laws and regulations) and adhere to the Acceptable Use Policy for the Llama Materials (available at https://llama.meta.com/llama3/use-policy), which is hereby incorporated by reference into this Agreement.
		v. You will not use the Llama Materials or any output or results of the Llama Materials to improve any other large language model (excluding Meta Llama 3 or derivative works thereof).  

2. Additional Commercial Terms. If, on the Meta Llama 3 version release date, the monthly active users of the products or services made available by or for Licensee, or Licensee’s affiliates, is greater than 700 million monthly active users in the preceding calendar month, you must request a license from Meta, which Meta may grant to you in its sole discretion, and you are not authorized to exercise any of the rights under this Agreement unless or until Meta otherwise expressly grants you such rights.

3. Disclaimer of Warranty. UNLESS REQUIRED BY APPLICABLE LAW, THE LLAMA MATERIALS AND ANY OUTPUT AND RESULTS THEREFROM ARE PROVIDED ON AN “AS IS” BASIS, WITHOUT WARRANTIES OF ANY KIND, AND META DISCLAIMS ALL WARRANTIES OF ANY KIND, BOTH EXPRESS AND IMPLIED, INCLUDING, WITHOUT LIMITATION, ANY WARRANTIES OF TITLE, NON-INFRINGEMENT, MERCHANTABILITY, OR FITNESS FOR A PARTICULAR PURPOSE. YOU ARE SOLELY RESPONSIBLE FOR DETERMINING THE APPROPRIATENESS OF USING OR REDISTRIBUTING THE LLAMA MATERIALS AND ASSUME ANY RISKS ASSOCIATED WITH YOUR USE OF THE LLAMA MATERIALS AND ANY OUTPUT AND RESULTS.

4. Limitation of Liability. IN NO EVENT WILL META OR ITS AFFILIATES BE LIABLE UNDER ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, TORT, NEGLIGENCE, PRODUCTS LIABILITY, OR OTHERWISE, ARISING OUT OF THIS AGREEMENT, FOR ANY LOST PROFITS OR ANY INDIRECT, SPECIAL, CONSEQUENTIAL, INCIDENTAL, EXEMPLARY OR PUNITIVE DAMAGES, EVEN IF META OR ITS AFFILIATES HAVE BEEN ADVISED OF THE POSSIBILITY OF ANY OF THE FOREGOING.
 
5. Intellectual Property.
	a. No trademark licenses are granted under this Agreement, and in connection with the Llama Materials, neither Meta nor Licensee may use any name or mark owned by or associated with the other or any of its affiliates, except as required for reasonable and customary use in describing and redistributing the Llama Materials or as set forth in this Section 5(a). Meta hereby grants you a license to use “Llama 3” (the “Mark”) solely as required to comply with the last sentence of Section 1.b.i. You will comply with Meta’s brand guidelines (currently accessible at https://about.meta.com/brand/resources/meta/company-brand/  ). All goodwill arising out of your use of the Mark will inure to the benefit of Meta.
	b. Subject to Meta’s ownership of Llama Materials and derivatives made by or for Meta, with respect to any derivative works and modifications of the Llama Materials that are made by you, as between you and Meta, you are and will be the owner of such derivative works and modifications.
	c. If you institute litigation or other proceedings against Meta or any entity (including a cross-claim or counterclaim in a lawsuit) alleging that the Llama Materials or Meta Llama 3 outputs or results, or any portion of any of the foregoing, constitutes infringement of intellectual property or other rights owned or licensable by you, then any licenses granted to you under this Agreement shall terminate as of the date such litigation or claim is filed or instituted. You will indemnify and hold harmless Meta from and against any claim by any third party arising out of or related to your use or distribution of the Llama Materials.

6. Term and Termination. The term of this Agreement will commence upon your acceptance of this Agreement or access to the Llama Materials and will continue in full force and effect until terminated in accordance with the terms and conditions herein. Meta may terminate this Agreement if you are in breach of any term or condition of this Agreement. Upon termination of this Agreement, you shall delete and cease use of the Llama Materials. Sections 3, 4 and 7 shall survive the termination of this Agreement. 

7. Governing Law and Jurisdiction. This Agreement will be governed and construed under the laws of the State of California without regard to choice of law principles, and the UN Convention on Contracts for the International Sale of Goods does not apply to this Agreement. The courts of California shall have exclusive jurisdiction of any dispute arising out of this Agreement. 


Meta Llama 3 Acceptable Use Policy
Meta is committed to promoting safe and fair use of its tools and features, including Meta Llama 3. If you access or use Meta Llama 3, you agree to this Acceptable Use Policy (“Policy”). The most recent copy of this policy can be found at https://llama.meta.com/llama3/use-policy
Prohibited Uses
We want everyone to use Meta Llama 3 safely and responsibly. You agree you will not use, or allow others to use, Meta Llama 3 to: 
1. Violate the law or others’ rights, including to:
	a. Engage in, promote, generate, contribute to, encourage, plan, incite, or further illegal or unlawful activity or content, such as: 
      		i. Violence or terrorism 
      		ii. Exploitation or harm to children, including the solicitation, creation, acquisition, or dissemination of child exploitative content or failure to report Child Sexual Abuse Material
      		iii. Human trafficking, exploitation, and sexual violence
      		iv. The illegal distribution of information or materials to minors, including obscene materials, or failure to employ legally required age-gating in connection with such information or materials.
      		v. Sexual solicitation
      		vi. Any other criminal activity
   	b. Engage in, promote, incite, or facilitate the harassment, abuse, threatening, or bullying of individuals or groups of individuals
   	c. Engage in, promote, incite, or facilitate discrimination or other unlawful or harmful conduct in the provision of employment, employment benefits, credit, housing, other economic benefits, or other essential goods and services
   	d. Engage in the unauthorized or unlicensed practice of any profession including, but not limited to, financial, legal, medical/health, or related professional practices 
   	e. Collect, process, disclose, generate, or infer health, demographic, or other sensitive personal or private information about individuals without rights and consents required by applicable laws
   	f. Engage in or facilitate any action or generate any content that infringes, misappropriates, or otherwise violates any third-party rights, including the outputs or results of any products or services using the Llama Materials
   	g. Create, generate, or facilitate the creation of malicious code, malware, computer viruses or do anything else that could disable, overburden, interfere with or impair the proper working, integrity, operation or appearance of a website or computer system 

2. Engage in, promote, incite, facilitate, or assist in the planning or development of activities that present a risk of death or bodily harm to individuals, including use of Meta Llama 3 related to the following:
   	a. Military, warfare, nuclear industries or applications, espionage, use for materials or activities that are subject to the International Traffic Arms Regulations (ITAR) maintained by the United States Department of State
   	b. Guns and illegal weapons (including weapon development)
   	c. Illegal drugs and regulated/controlled substances
   	d. Operation of critical infrastructure, transportation technologies, or heavy machinery
   	e. Self-harm or harm to others, including suicide, cutting, and eating disorders
   	f. Any content intended to incite or promote violence, abuse, or any infliction of bodily harm to an individual

3. Intentionally deceive or mislead others, including use of Meta Llama 3 related to the following:
   	a. Generating, promoting, or furthering fraud or the creation or promotion of disinformation
   	b. Generating, promoting, or furthering defamatory content, including the creation of defamatory statements, images, or other content
   	c. Generating, promoting, or further distributing spam
   	d. Impersonating another individual without consent, authorization, or legal right
   	e. Representing that the use of Meta Llama 3 or outputs are human-generated
   	f. Generating or facilitating false online engagement, including fake reviews and other means of fake online engagement 
   	g. Fail to appropriately disclose to end users any known dangers of your AI system 

Please report any violation of this Policy, software “bug,” or other problems that could lead to a violation of this Policy through one of the following means:
   	* Reporting issues with the model: https://github.com/meta-llama/llama3
   	* Reporting risky content generated by the model: developers.facebook.com/llama_output_feedback
   	* Reporting bugs and security concerns: facebook.com/whitehat/info
   	* Reporting violations of the Acceptable Use Policy or unlicensed uses of Meta Llama 3: LlamaUseReport@meta.com

              
            </p>
            <p>
              12kB
            </p>
          </div><div href="/library/llama3-gradient:latest/blobs/8ab4849b038c" hx-get="/library/llama3-gradient:latest/blobs/8ab4849b038c" hx-target="#file-explorer" hx-swap="innerHTML" hx-push-url="true">
            <p>
              template
            </p>
            <p>
              
              {{ if .System }}&lt;|start_header_id|&gt;system&lt;|end_header_id|&gt;

{{ .System }}&lt;|eot_id|&gt;{{ end }}{{ if .Prompt }}&lt;|start_header_id|&gt;user&lt;|end_header_id|&gt;

{{ .Prompt }}&lt;|eot_id|&gt;{{ end }}&lt;|start_header_id|&gt;assistant&lt;|end_header_id|&gt;

{{ .Response }}&lt;|eot_id|&gt;
              
            </p>
            <p>
              254B
            </p>
          </div><div href="/library/llama3-gradient:latest/blobs/577073ffcc6c" hx-get="/library/llama3-gradient:latest/blobs/577073ffcc6c" hx-target="#file-explorer" hx-swap="innerHTML" hx-push-url="true">
            <p>
              params
            </p>
            <p>
              
              {"num_keep":24,"stop":["&lt;|start_header_id|&gt;","&lt;|end_header_id|&gt;","&lt;|eot_id|&gt;"]}

              
            </p>
            <p>
              110B
            </p>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Elon Musk fires Tesla's entire supercharger team (102 pts)]]></title>
            <link>https://www.ft.com/content/114effb2-1071-4d93-b53d-00a96a0336a2</link>
            <guid>40214619</guid>
            <pubDate>Tue, 30 Apr 2024 18:44:17 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.ft.com/content/114effb2-1071-4d93-b53d-00a96a0336a2">https://www.ft.com/content/114effb2-1071-4d93-b53d-00a96a0336a2</a>, See on <a href="https://news.ycombinator.com/item?id=40214619">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="barrier-page">
<div data-component="articleHeaderHeroOffer" data-component-unique-name="CHE-Print"><div><p><img src="https://www.ft.com/__origami/service/image/v2/images/raw/https%3A%2F%2Ffinancial-times-financial-times.cdn.zephr.com%2Fassets%2Ficons%2Fpadlock_icon.svg?source=next-barrier-page" alt="Padlock icon"></p><div><p>Subscribe to unlock this article</p></div></div><div><p>Try unlimited access<br><strong>Only CHF1 for 4 weeks</strong></p><p>Then CHF85 per month.<br>Complete digital access to quality FT journalism on any device. Cancel anytime during your trial.</p></div></div>
<div id="recommendedOffers-CHE-Print-8db91fb2-951e-49ad-b340-78c99a7e4e95" data-component="recommendedOffers" data-component-unique-name="CHE-Print"><h2>Explore more offers.</h2><div><div data-offer-type="standard" data-o-grid-colspan="12"><div><p><img src="https://www.ft.com/__origami/service/image/v2/images/raw///financial-times-financial-times.cdn.zephr.com/assets/icons/primary_product_icon_standard.svg?source=next-barrier-page" alt=""></p><p data-offer-type="standard"><h3>Standard Digital</h3><h3>FT Digital Edition</h3><h3>Premium Digital</h3><h3>Print + Premium Digital</h3><h3>Print</h3><h3>Trial</h3><h3>FT Edit</h3><h3>Weekend Print + Standard Digital</h3><h3>Weekend Print + Premium Digital</h3></p></div><p>Essential digital access to quality FT journalism on any device. Pay a year upfront and save 20%.</p></div><div data-offer-type="premium" data-o-grid-colspan="12"><div><p><img src="https://www.ft.com/__origami/service/image/v2/images/raw///financial-times-financial-times.cdn.zephr.com/assets/icons/primary_product_icon_premium.svg?source=next-barrier-page" alt=""></p><p data-offer-type="premium"><h3>Standard Digital</h3><h3>FT Digital Edition</h3><h3>Premium Digital</h3><h3>Print + Premium Digital</h3><h3>Print</h3><h3>Trial</h3><h3>FT Edit</h3><h3>Weekend Print + Standard Digital</h3><h3>Weekend Print + Premium Digital</h3></p></div><p>Complete digital access to quality FT journalism with expert analysis from industry leaders. Pay a year upfront and save 20%.</p></div><div data-offer-type="bundle" data-o-grid-colspan="12"><div><p><img src="https://www.ft.com/__origami/service/image/v2/images/raw///financial-times-financial-times.cdn.zephr.com/assets/icons/primary_product_icon_bundle.svg?source=next-barrier-page" alt=""></p><p data-offer-type="bundle"><h3>Standard Digital</h3><h3>FT Digital Edition</h3><h3>Premium Digital</h3><h3>Print + Premium Digital</h3><h3>Print</h3><h3>Trial</h3><h3>FT Edit</h3><h3>Weekend Print + Standard Digital</h3><h3>Weekend Print + Premium Digital</h3></p></div><p>Billed Quarterly at CHF379. Complete digital access plus the FT newspaper delivered Monday-Saturday.</p></div></div></div>
<div data-component="subscriptionOptionsV2" data-component-unique-name="CHE-Print"><h2>Explore our full range of subscriptions.</h2></div>
<div data-component="whyFT" data-component-unique-name="default"><div><h2>Why the FT?</h2><p>See why over a million readers pay to read the Financial Times.</p></div><p><a href="https://subs.ft.com/whytheft">Find out why</a></p></div>


</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The File Filesystem (2021) (185 pts)]]></title>
            <link>https://mgree.github.io/ffs/</link>
            <guid>40213731</guid>
            <pubDate>Tue, 30 Apr 2024 17:43:12 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://mgree.github.io/ffs/">https://mgree.github.io/ffs/</a>, See on <a href="https://news.ycombinator.com/item?id=40213731">Hacker News</a></p>
<div id="readability-page-1" class="page"><section id="main_content">
          <p>The Unix shell is a powerful tool, and the Unix ecosystem provides an
incredible array of tools for working with strings. But the shell
really only knows how to work with one data <em>structure</em>: the
filesystem. Modern systems use all kinds of
<a href="https://en.m.wikipedia.org/wiki/Semi-structured_data"><em>semi-structured</em></a>
data, like JSON or YAML. These semi-structured formats are essentially
trees, and string processing is a bad match—editing JSON with sed is
not a very good idea!</p>

<p><img src="https://mgree.github.io/ffs/assets/images/inplace_demo.gif" alt="Demo of in-place editing, starting from an empty JSON object to building up a compound one; transcript is below"></p>

<p>ffs—short for the <strong>f</strong>ile <strong>f</strong>ile<strong>s</strong>ystem—lets you mount
semi-structured data as a filesystem, letting you work with modern
formats using your familiar shell tools.</p>

<p>Currently, ffs supports <a href="https://www.json.org/">JSON</a>,
<a href="https://yaml.org/">YAML</a>, and <a href="https://toml.io/en/">TOML</a>, with more
to come.</p>

<p>You can read more about it in <a href="https://mgree.github.io/ffs/ffs.1.html">the <code>ffs</code> manpage</a>.</p>

<h2 id="examples">Examples</h2>

<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/B8dQCyPVU4I" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p>Run <code>ffs [file]</code> to mount <code>file.blah</code> at the mountpoint <code>file</code>. The
final, updated version of the file will be outputted on stdout.</p>

<div><pre><code><span>$</span><span> </span><span>cat </span>object.json 
<span>{ "name": "Michael Greenberg", "eyes": 2, "fingernails": 10, "human": true }
</span><span>$</span><span> </span>ffs <span>-o</span> object_edited.json object.json &amp;
<span>[1] 60182
</span><span>$</span><span> </span>tree object
<span>object
├── eyes
├── fingernails
├── human
└── name

0 directories, 4 files
</span><span>$</span><span> </span><span>echo </span>Mikey Indiana <span>&gt;</span>object/name
<span>$</span><span> </span><span>echo </span>1 <span>&gt;</span>object/nose
<span>$</span><span> </span><span>mkdir </span>object/pockets
<span>$</span><span> </span><span>cd </span>object/pockets/
<span>$</span><span> </span><span>echo </span>keys <span>&gt;</span>pants
<span>$</span><span> </span><span>echo </span>pen <span>&gt;</span>shirt
<span>$</span><span> </span><span>cd</span> ..
<span>$</span><span> </span><span>cd</span> ..
<span>$</span><span> </span>umount object
<span>$</span><span> 
</span><span>[1]+  Done                    ffs -o object_edited.json object.json
</span><span>$</span><span> </span><span>cat </span>object_edited.json 
<span>{"eyes":2,"fingernails":10,"human":true,"name":"Mikey Indiana","nose":1,"pockets":{"pants":"keys","shirt":"pen"}}
</span></code></pre></div>

<p>Notice a few things: the <code>nose</code> key of the resulting object has a
number as its value, not a string; the <code>pockets</code> directory got turned
into an object.</p>

<p>You can specify an explicit mountpoint by running <code>ffs -m MOUNT file</code>;
you can specify an output file with <code>-o OUTPUT</code>. You can edit a file
in place by running <code>ffs -i file</code> (as in the gif above)—when the
volume is unmounted, the resulting output will be written back to
<code>file</code>. Here’s the transcript:</p>

<div><pre><code><span>~/ffs/demo $</span><span> </span><span>echo</span> <span>'{}'</span> <span>&gt;</span>demo.json
<span>~/ffs/demo $</span><span> </span>ffs <span>-i</span> demo.json &amp;
<span>[1] 56827
</span><span>~/ffs/demo $</span><span> </span><span>cd </span>demo
<span>~/ffs/demo/demo $</span><span> </span><span>echo </span>47 <span>&gt;</span>favorite_number
<span>~/ffs/demo/demo $</span><span> </span><span>mkdir </span>likes
<span>~/ffs/demo/demo $</span><span> </span><span>echo true</span> <span>&gt;</span>likes/dogs
<span>~/ffs/demo/demo $</span><span> </span><span>echo false</span> <span>&gt;</span>likes/cats
<span>~/ffs/demo/demo $</span><span> </span><span>touch </span>mistakes
<span>~/ffs/demo/demo $</span><span> </span><span>echo </span>Michael Greenberg <span>&gt;</span>name
<span>~/ffs/demo/demo $</span><span> </span><span>echo </span>https://mgree.github.io <span>&gt;</span>website
<span>~/ffs/demo/demo $</span><span> </span><span>cd</span> ..
<span>~/ffs/demo $</span><span> </span>umount demo
<span>~/ffs/demo $</span><span> 
</span><span>[1]+  Done                    ffs -i demo.json
</span><span>~/ffs/demo $</span><span> </span><span>cat </span>demo.json 
<span>{"favorite_number":47,"likes":{"cats":false,"dogs":true},"mistakes":null,"name":"Michael Greenberg","website":"https://mgree.github.io"}~/ffs/demo $</span><span> 
</span><span>~/ffs/demo $</span><span>
</span></code></pre></div>

<h2 id="getting-ffs">Getting ffs</h2>

<p>On Linux you need <a href="https://github.com/libfuse/libfuse">FUSE</a>; on
macOS, you need <a href="https://osxfuse.github.io/">macFUSE</a>. You can then
download a single executable. These are the <a href="https://github.com/mgree/ffs/releases/tag/latest">latest development builds</a>:</p>

<ul>
  <li><a href="https://github.com/mgree/ffs/releases/download/latest/ffs.linux">Linux</a></li>
  <li><a href="https://github.com/mgree/ffs/releases/download/latest/ffs.macos">macOS</a></li>
</ul>

<p>See the <a href="https://github.com/mgree/ffs/releases">release page</a> for
particular releases; the current version is 0.1.2. You can also build
ffs from <a href="https://github.com/mgree/ffs">source</a>.</p>

<h2 id="learn-more">Learn more</h2>

<p>Check out the paper <a href="https://dl.acm.org/doi/10.1145/3477113.3487265">“Files-as-Filesystems for POSIX Shell Data
Processing”</a> from
<a href="https://plos-workshop.org/2021/">PLOS 2021</a>. The pre-recorded demo is
above; the pre-recorded talk is below.</p>

<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/VIphHPBj9ms" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>



<p>Tools like <a href="https://stedolan.github.io/jq/">jq</a> and
<a href="https://github.com/tomnomnom/gron">gron</a> are meant to help you work
with JSON on the command line. They’re great tools!</p>

<p>Why might ffs be the right choice for you?</p>

<ul>
  <li>
    <p>ffs supports multiple formats.</p>
  </li>
  <li>
    <p>ffs lets you edit using familiar shell tools.</p>
  </li>
  <li>
    <p>ffs doesn’t involve learning a new language.</p>
  </li>
</ul>

<p>Why might ffs <em>not</em> be the right choice for you?</p>

<ul>
  <li>
    <p>You use Windows. (Sorry. 😥)</p>
  </li>
  <li>
    <p>You can’t use FUSE.</p>
  </li>
  <li>
    <p>You only need to search, not edit.</p>
  </li>
  <li>
    <p>Your files are very large.</p>
  </li>
</ul>

<h2 id="license">License</h2>

<p>ffs is licensed under
<a href="https://raw.githubusercontent.com/mgree/ffs/main/LICENSE">GPLv3</a>.</p>

        </section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[US drug control agency will move to reclassify marijuana (439 pts)]]></title>
            <link>https://apnews.com/article/marijuana-biden-dea-criminal-justice-pot-f833a8dae6ceb31a8658a5d65832a3b8</link>
            <guid>40213591</guid>
            <pubDate>Tue, 30 Apr 2024 17:32:00 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://apnews.com/article/marijuana-biden-dea-criminal-justice-pot-f833a8dae6ceb31a8658a5d65832a3b8">https://apnews.com/article/marijuana-biden-dea-criminal-justice-pot-f833a8dae6ceb31a8658a5d65832a3b8</a>, See on <a href="https://news.ycombinator.com/item?id=40213591">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
                                        <p>WASHINGTON (AP) — <span><a data-gtm-enhancement-style="LinkEnhancementA" href="https://apnews.com/hub/us-drug-enforcement-administration">The U.S. Drug Enforcement Administration</a></span> will move to reclassify <span><a data-gtm-enhancement-style="LinkEnhancementA" href="https://apnews.com/hub/marijuana">marijuana</a></span> as a less dangerous drug, The Associated Press has learned, a historic shift to generations of American drug policy that could have wide ripple effects across the country.</p><p>The DEA’s proposal, which still must be reviewed by the White House Office of Management and Budget, would recognize <span><a data-gtm-enhancement-style="LinkEnhancementA" href="https://apnews.com/article/marijuana-health-schumer-becerra-dea-c00db5dabbeb9efd94cf17baff241e85">the medical uses of cannabis</a></span> and acknowledge it has less potential for abuse than some of the nation’s most dangerous drugs. However, it would not legalize marijuana outright for recreational use.</p><p>The agency’s move, confirmed to the AP on Tuesday by five people familiar with the matter who spoke on the condition of anonymity to discuss the sensitive regulatory review, clears the last significant regulatory hurdle before the agency’s biggest policy change in more than 50 years can take effect. </p>
    

<p>Once OMB signs off, the DEA will take public comment on the plan to move marijuana from its current classification as a Schedule I drug, alongside heroin and LSD. It moves pot to Schedule III, alongside ketamine and some anabolic steroids, <span><a data-gtm-enhancement-style="LinkEnhancementA" href="https://apnews.com/article/marijuana-federal-regulation-reclassifying-health-b0b5fc3d34a83d2c95db1665f8149d42">following a recommendation</a></span> from the federal Health and Human Services Department. After the public comment period and a review by an administrative judge, the agency would eventually publish the final rule.</p>



<p>It comes after President Joe Biden called for a review of federal marijuana law in October 2022 and moved to <span><a data-gtm-enhancement-style="LinkEnhancementA" href="https://apnews.com/article/biden-marijuana-government-and-politics-2d5e3d9e2cfbbbe3ee114536738894a8">pardon thousands of Americans</a></span> convicted federally of simple possession of the drug. He has also called on governors and local leaders to take similar steps to erase marijuana convictions.</p>
    
<p>“Criminal records for marijuana use and possession have imposed needless barriers to employment, housing, and educational opportunities,” Biden said in December. “Too many lives have been upended because of our failed approach to marijuana. It’s time that we right these wrongs.”</p>
    

<p>The election year announcement could help Biden, a Democrat, boost flagging support, particularly among <span><a data-gtm-enhancement-style="LinkEnhancementA" href="https://apnews.com/article/biden-2024-campaign-oldest-president-young-voters-152d11d3090518a2e5eee63b9a596673">younger voters</a></span>.</p><p>Biden and a growing number of lawmakers from both major political parties have been pushing for the DEA decision as marijuana has become increasingly decriminalized and accepted, particularly by younger people. A Gallup poll last fall found 70% of adults support legalization, the highest level yet recorded by the polling firm and more than double the roughly 30% who backed it in 2000.</p><p>The DEA didn’t respond to repeated requests for comment.</p><p>Schedule III drugs are still controlled substances and subject to rules and regulations, and people who traffic in them without permission could still face federal criminal prosecution. </p><p>Some critics argue the DEA shouldn’t change course on marijuana, saying rescheduling isn’t necessary and could lead to harmful side effects. </p><p>Jack Riley, a former deputy administrator of the DEA, said he had concerns about the proposed change because he thinks marijuana remains a possible “gateway drug,” one that may lead to the use of other drugs.</p><p>“But in terms of us getting clear to use our resources to combat other major drugs, that’s a positive,” Riley said, noting that fentanyl alone accounts for more than 100,000 deaths in the U.S. a year.</p>
    

<p>On the other end of the spectrum, others argue marijuana should be treated the way alcohol is. </p><p>Last week, 21 Democrats led by Senate Majority Leader Sen. Chuck Schumer of New York sent a letter to DEA Administrator Anne Milgram and Attorney General Merrick Garland arguing marijuana should be dropped from the controlled-substances list and instead regulated like alcohol.</p><p>“It is time for the DEA to act,” the lawmakers wrote. “Right now, the Administration has the opportunity to resolve more than 50 years of failed, racially discriminatory marijuana policy.”</p><p>Federal drug policy has lagged behind many states in recent years, with 38 having already legalized medical marijuana and <span><a data-gtm-enhancement-style="LinkEnhancementA" href="https://apnews.com/article/ohio-marijuana-legalization-election-2023-6d15efb27fdcd41e7364f2b7cd3177f4">24 legalizing its recreational use</a></span>.</p><p>That’s helped fuel fast growth in the marijuana industry, with an estimated worth of nearly $30 billion. Easing federal regulations could reduce the tax burden that can be 70% or more for businesses, according to industry groups. It could also make it easier to research marijuana, since it’s very difficult to conduct authorized clinical studies on Schedule I substances.</p>
    

<p>The immediate effect of rescheduling on the nation’s criminal justice system would likely be more muted, since federal prosecutions for simple possession have been fairly rare in recent years. </p><p>But loosening restrictions could carry a host of unintended consequences in the drug war and beyond.</p><p>Critics point out that as a Schedule III drug, marijuana would remain regulated by the DEA. That means the roughly 15,000 cannabis dispensaries in the U.S. would have to register with the DEA like regular pharmacies and fulfill strict reporting requirements, something that they are loath to do and that the DEA is ill equipped to handle.</p>
    

<p>Then there’s the United States’ international treaty obligations, chief among them the 1961 Single Convention on Narcotic Drugs, which requires the criminalization of cannabis. In 2016, during the Obama administration, the DEA cited the U.S.’ international obligations and the findings of a federal court of appeals in Washington in denying a similar request to reschedule marijuana.</p><h2>___</h2><p>Goodman reported from Miami, Mustian from New Orleans. AP writer Colleen Long contributed.</p>
                                    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Dear Europe, please wake up (204 pts)]]></title>
            <link>https://klinger.io/posts/eu-acc</link>
            <guid>40213400</guid>
            <pubDate>Tue, 30 Apr 2024 17:12:36 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://klinger.io/posts/eu-acc">https://klinger.io/posts/eu-acc</a>, See on <a href="https://news.ycombinator.com/item?id=40213400">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><article><p>Apr 30, 2024<!-- --> · <!-- -->13 min read<!-- --> · <!-- -->12<!-- --> views</p><p>I lived in SF for five years. Started companies in multiple countries in Europe. I invested in more than a hundred companies globally from Brazil to India. At this point I feel like I have a good comparison of different ecosystems.</p>
<p>Europe is special to me as I consider myself a proud European, but damn we need to talk.</p>
<p>I am equally extremely bull-ish on Europe and equally extremely bear-ish.</p>
<p>On one hand I believe we are on our clear path to fall from #1 to #4 in the world. On the other hand, I don't believe we are as doomed as people on US Twitter make us out to be.</p>
<p>Intentionally I don’t want to do Brussels or EU-ranting; I don’t want to do pure stats comparing or making speeches about the importance of robotics or AI, neither do I have the goal of suggesting outlandish changes. We need actionable improvements and fix how we think about Europe.</p>
<p>So, let’s go…</p>
<p>Here my POV:</p>
<h2>We started to believe US propaganda about Europe</h2>
<p>“Europeans lack the mentality and are risk averse”</p>
<p>“They don’t want to work as hard”</p>
<p>“They favor work life balance”</p>
<p>“They are constantly on vacation”</p>
<p>“…and that’s the reason they are losing”</p>
<p>None of these things are true.</p>
<p>Let me show you what i mean…</p>
<h3>“Europeans don’t work hard enough”</h3>
<p>Eastern Europeans work harder than Americans. Even Italians work more hours than Americans.</p>
<img src="https://klinger.io/images/eu-acc-work-times.png" sizes="(max-width: 768px) 95vw, 728px" loading="lazy" alt="hours worked" srcset="https://klinger.io/images/eu-acc-work-times-32w.png 32w, https://klinger.io/images/eu-acc-work-times-64w.png 64w, https://klinger.io/images/eu-acc-work-times-128w.png 128w, https://klinger.io/images/eu-acc-work-times-256w.png 256w, https://klinger.io/images/eu-acc-work-times-512w.png 512w, https://klinger.io/images/eu-acc-work-times-768w.png 768w, https://klinger.io/images/eu-acc-work-times-1024w.png 1024w, https://klinger.io/images/eu-acc-work-times-1536w.png 1536w, https://klinger.io/images/eu-acc-work-times-2048w.png 2048w">
<p>And based on my experience in the US, I honestly think that the US numbers are overstated.</p>
<p>US folks love <em><strong>talking</strong></em> about how hard they work. And honestly with service workers and blue collars I believe it. But not in tech.</p>
<p>In SF you frequently hear big tech people talking how hard they work, while they queue 30mins for a coffee at Blue Bottle and chitchatting there for another 20mins. You will get into a discussion in your WeWork about how much grit being a founder requires, an hour later you end up alone at 6pm on your floor. You will hear from founders how many late nights they need to pull, but with late nights, they mean investor dinners.</p>
<p><strong>Do American founders work hard? Yes definitely. But all founders do.</strong> That’s their job.</p>
<p>But Americans definitely <em><strong>love talking</strong></em> about how hard they work; way more than we do.</p>
<p>And let’s say for the argument I am wrong and we will believe all the numbers. The numbers aren’t that far off, even when compared to “after 6pm, please don’t talk to this employee or we sue you ja?! Germany”.</p>
<h3>“Europeans lack the risk mentality”</h3>
<p>Personally, I don’t believe it because I know that 1/5 of all <a href="https://www.visualcapitalist.com/immigrant-founders-us-billion-dollar-companies/">US unicorn founders</a> are European. If they’d want to avoid risk so much why do so many go into so much risk to go to the US?</p>
<p>But this isn’t even my main pet-peeve. My main headache is: Let’s say it’s true. Let’s say Europeans are more risk averse… <em><strong>Why?</strong></em> And more importantly why do we act <em><strong>as if we couldn’t change that?</strong></em></p>
<p><strong>Mentality isn’t genetic</strong>. This isn’t hardwired into our bones or seeded into our water. This is an outcome of <strong>a system that favors being more careful.</strong></p>
<p>Failing in the EU has the same downside as in the US, but their upside is way bigger and more importantly the acceleration is way higher.</p>
<p><strong>If we improve the system the mentality improves</strong>. Don’t believe me?</p>
<p>Go to India.</p>
<p>The mindset of founders there switched from "i have to leave asap and nothing will ever change here" to "we are going to be one of the top three world powers and everyone should come here to start companies" in literally less than 10 years of strong economic growth and business success stories to follow.</p>
<p>Mentality is an outcome of a system. Let’s change the system. Make success more likely and people will believe that they can be successful.</p>
<h3>"They have a too comfortable life… you need hardship to succeed"</h3>
<p>If it would be true that you need to come from hardship to succeed then US VCs wouldn’t fund every Stanford grad born with a silver spoon in their mouth.</p>
<p>Americans love their hero-arcs so much that people manage to spin anything into a “coming from nothing story” – even if they got their first investments from their uncle and worked for free in the “garage” of their parents multi-million-dollar house in Palo Alto.</p>
<p>Yes, to start companies you need to grind. You will need to work hard, because if you don't someone else will. But needing the fear of existence over you to succeed is only true if you don't know about survivorship bias.</p>
<h3>“The Taxes are too high and people are not motivated because of this”</h3>
<p>Have you seen the Californian taxes? The EU isn’t far off. And btw you can easily pay ridiculously low taxes in Europe if you want to optimize for it. If you optimize for it, half the amount of US-taxes are easily doable in multiple European countries. And that’s without crazy optimizations yet.</p>
<p>If this was the only criteria everyone would flock to those tax optimized places in Europe.</p>
<h3>“Well SF is better”</h3>
<p>I don’t disagree. SF is a unique place. We currently don’t try to get on the level of SF. We are trying not to fall behind China, India and random <a href="https://pitchbook.com/news/articles/pitchbook-global-vc-ecosystem-rankings">second- and third-degree hubs</a> in the US.</p>
<p>I highly recommend everyone in tech to move to SF once in their life. Learn and then come back and build their life’s work.</p>
<h3>So, here’s my POV: The problem in Europe isn’t taxes or mentality. It’s friction.</h3>
<p>What do you need to start a large company? Founders, ideas, customers, investors, etc etc. Sure.</p>
<p>But more importantly…</p>
<p>You need early acceleration. You need momentum towards your goal. You need traction.</p>
<p>You can think of this as customers, product insights, investor interest, networking success, etc.</p>
<p>You need <strong>early acceleration to reach escape velocity</strong>.</p>
<p>If <strong>every day is 1% harder</strong> for you than your competitor who will win? Your competitor. And in global markets where <strong>frequently 1-2 companies become the dominant player</strong> in a market this means you will not be a bit smaller. <strong>You will fight for scraps</strong>.</p>
<p>This is what’s happening right now in Europe.</p>
<p>The problem is not that regulation 1 or 100 is too much. The problem is that every country has different regulations, creating a mess of complexity if you want to act across a larger consumer market and make it impossible for standard solutions that remove early friction to emerge.</p>
<h2>So, what do we need to change</h2>
<p>First, we need to <strong>stop believing the US meme about Europe</strong>. And second, to do this we need a system where they are not true. To get there we need improvements.</p>
<p>I don’t want to write a big speech about robotics, AI, climate, or space-tech. About ambition, tolerance for risk, or people who want to build outlandish ideas.</p>
<p>We’ve got all of that already. We need to help them.</p>
<p>I don’t want solutions that are “one unified Europe under ABC’d rule” or “complete control by Brussels”. I am looking for first steps and pragmatic solutions. Simple things that have impact over time, and more importantly we can build on top of.</p>
<p>Here are my two suggestions – no big speech no big unreachable ideal goal – two simple suggestions as a starting point and if you disagree with those, please really <em>really</em> explain to me why:</p>
<h3>1) We need an EU Inc – desperately</h3>
<p>The US has its state Delaware as de facto standard for legal entities for startups.</p>
<p>When people say US Inc, they mean Delaware Inc.</p>
<p>This might sound like a small thing, but it has a lot of implications. With one fundament on which you can start establishing other standards on top of it.</p>
<p>Eg you can create standard documents like the YC <a href="https://www.ycombinator.com/documents">SAFE</a> or even software like <a href="https://angellist.com/">AngelList</a> on top of that.</p>
<p><em>“Well, we have similar documents for German GmbHs as well…”</em></p>
<p>Let me stop you right here.</p>
<p>I invest globally.</p>
<p>To invest in the EU I need to understand 30+ legal systems to make sure I am not tricked over by the small print, get lawyers and figure out if i need a notary. After that i need 10-20 emails each funding round to satisfy whatever random fun fact local countries came up now.</p>
<p>In the US I receive an email with a <a href="https://documenso.com/">document signing link</a> to a standard SAFE and can sign with one click. I don’t need to check the fine-print. I (and the founder) don’t need to involve lawyers.</p>
<p><em>“But if the deal is good enough it’s worth the effort…”</em></p>
<p>That’s not the reality of early stage investing. If someone invests $30k to help you they don’t want to spend another 10-15k on lawyers trying to figure out how legal details in Slovenian OODs work. Fun-fact there are no Slovenian OODs. Those are in Bulgaria, but I bet you knew that. Or was it SRL? BV? SpA? AB? SA? OÜ? UAB? EhF? Cheese how different can they be. I mean… we will find out latest when a bigger investor wants to come in, and freak out about local differences right?</p>
<p><em>“Well then one arrogant investor does not invest… who cares.”</em> A portfolio company of mine had the best EdTech angel onboard. The best. In the world. People joined the round because of him. He jumped out of the round realizing the company is a GmbH and he knew this wouldn’t be done in the 2 weeks before xmas as an American investor. The follow-on investor was good. Would it have been better if they would had played on “internationally best investors approve this” level? Who knows.</p>
<p>Europe is a market of 750 million people, the EU of 450 million. And investing here is as complex as investing in small countries globally with sub 10 million people. Because that’s what it is.</p>
<p><em>“But there is <a href="https://europa.eu/youreurope/business/running-business/developing-business/setting-up-european-company/index_en.htm">the SE</a>… which is Europe-wide”</em></p>
<p>This is my argument not yours. The SE shows that it would be possible, but it’s not meant for startups. It’s not meant to be simple.</p>
<p><em>“Well, you are just asking for this because you are an investor…”</em></p>
<p>I gave a talk about this more than 15 (gasp!) years ago while starting my first company. Investors don’t hate this. It limits the options for local founders, it’s overwhelming for people who don’t do it professionally like them, they can make sure they get low valuations and international investors are not used to stealing their deals.</p>
<p>Founders need this. Not investors. Investors make money on that opportunity arbitrage, even if it limits the overall upside.</p>
<p>Here is my Question: Why did we stop with “single market” efforts? Why is there no effort to unify legal entity in Europe?</p>
<p>Investing in companies at an early stage should not involve surprises and friction. Those kill deals.</p>
<h3>2) Teach English starting at the earliest school classes</h3>
<p>This sounds too simple to be true.</p>
<p>But the reality is dire.</p>
<p>If you go to the south of France – our hope and prayers in the global AI race – and order a coffee there is a chance that the waitress doesn’t understand the word “coffee”, can’t explain you what’s in the salad – happened to me twice. If you meet Italians there is a high chance that they had only 4-5 years of English at school.</p>
<p>I don’t care if you think English should be Europe’s default language or not. Growing up generations in this age without being able to properly speak English limits their job opportunities. It’s a disgrace to those generations and limits them, isolates them.</p>
<p>You don’t lose your culture by creating options for your future generations.</p>
<p>And more importantly you enable proper EU-wide media and networks. When you launch in the US your market pull can come from any part of the US. In Europe we are a mess of patchy networks and no significant media reaches across it.</p>
<p>Teach English. Seriously. Why is this even a discussion.</p>
<h2>That’s it.</h2>
<p>That’s it. Those are my two suggestions.</p>
<p>No big speeches no big rants. Two simple actionable first goals for politicians to decide if they are against or for it.</p>
<h2>Why not a big ask?</h2>
<p>Whenever you bring up a discussion about Europe people fear for their cultural identity. Let’s sidestep this. The goal is not one big unified completely homogenous Europe.</p>
<p>The goal is to have one single market for business where you don’t feel like you are expanding into far away foreign lands whenever you do business across your border. A single market where international players compete with local ones to get the best outcomes for everyone involved.</p>
<p>I’m sorry to keep ringing the bell of standards instead of doing a big chant around “bravery” “robotics”, “AI” and “innovation”.</p>
<p>All of those things come automatically if you remove friction and show examples to people.</p>
<h3>Regulating vs Standardizing?</h3>
<p>The main thinking behind it is a simple one. I want to get away from a mindset of “regulating” to a mindset of “standardization”.</p>
<p>Standards that can become fundaments for further standards. EU-wide solutions for EU-wide problems.</p>
<h3>You can productize on top of standards - and we are far behind</h3>
<p>I mentioned <a href="https://www.ycombinator.com/documents">YC SAFE</a> notes and companies like <a href="https://angellist.com/">AngelList</a> above. Those one-click abstractions of legal standards are great. But this isn’t the state of the art.</p>
<p>We are far behind with the state of the art. I highly recommend you learning about <a href="https://www.youtube.com/watch?v=NpZDBHKhWw4">India’s DPI</a> (digital public infrastructure) efforts. Nation-wide eKYC (with 1.4B people), cardless commission-free payments with <a href="https://en.wikipedia.org/wiki/Unified_Payments_Interface">UPI</a> that is already at 1/4 of VISA’s volume, decentralized marketplaces like <a href="https://www.google.com/search?q=ONDC&amp;oq=ONDC&amp;gs_lcrp=EgZjaHJvbWUyBggAEEUYOTIGCAEQRRg8MgYIAhAuGEDSAQgxNDIyajBqMagCALACAA&amp;sourceid=chrome&amp;ie=UTF-8">ODNC</a> that allow small businesses to work with larger customers, nation-wide credit/loan marketplaces with <a href="https://ocen.dev/">OCEN</a>.</p>
<p>India isn’t only tackling their biggest problems with standardization; they build products on top of it. Products like protocols that entrepreneurs can take and build solutions on-top.</p>
<p><em>“But india is one country…”</em> Yes but a few years ago you’d have dismissed anything coming from them as being a developing country. Now that it’s working, it’s reframed as easy because they “are one country”</p>
<p><em>“But we lack the knowhow…”</em> We don’t. Estonia has consulted with India on those projects. We have the knowhow. We lack the willingness to do European-wide solutions.</p>
<p>I got more… but I think this is a start. Intentionally a simple one.</p>
<p>Let me know</p>
<p>Do you disagree?</p>
<p>Should we not have an EU-wide entity that is simple and can be implemented everywhere?</p>
<p>Should we not teach our kids English starting as early as possible in school?</p>
<p>I think those are simple first steps with large systematic impacts over time.</p>
<p>eu/acc - let’s go</p></article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Alice's adventures in a differentiable wonderland (134 pts)]]></title>
            <link>https://www.sscardapane.it/alice-book</link>
            <guid>40213292</guid>
            <pubDate>Tue, 30 Apr 2024 17:03:36 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.sscardapane.it/alice-book">https://www.sscardapane.it/alice-book</a>, See on <a href="https://news.ycombinator.com/item?id=40213292">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="main" role="main">
  <article itemscope="" itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Book: Alice’s Adventures in a differentiable wonderland">
    
    
    

    <section itemprop="text">
      

<p><img src="https://www.sscardapane.it/assets/alice/Alice.png"></p>



<p><strong>Neural networks</strong> surround us, in the form of large language models, speech transcription systems, molecular discovery algorithms, robotics, and much more. Stripped of anything else, neural networks are compositions of <strong>differentiable primitives</strong>, and studying them means learning how to program and how to interact with these models, a particular example of what is called <a href="https://www.facebook.com/yann.lecun/posts/10155722686332143">differentiable programming</a>.</p>

<p>This primer is an introduction to this fascinating field imagined for someone, like Alice, who has just ventured into this strange <em>differentiable</em> wonderland. I overview the basics of optimizing a function via automatic differentiation, and a selection of the most common designs for handling sequences, graphs, texts, and audios. The focus is on a intuitive, <strong>self-contained introduction</strong> to the most important design techniques, including convolutional, attentional, and recurrent blocks, hoping to bridge the gap between theory and code (PyTorch and JAX) and leaving the reader capable of understanding some of the most advanced models out there, such as large language models (LLMs) and multimodal architectures.</p>

<h3 id="table-of-contents">Table of contents</h3>

<p> 
The book is currently in a draft form and available for feedback and beta reading from arXiv: <a href="https://arxiv.org/abs/2404.17625">arXiv preprint 2404.17625</a>.
</p>

<div>
<ol>
<li> Foreword and introduction</li>
<li> Mathematical preliminaries</li>
<li> Datasets and losses</li>
<li> Linear models</li>
<li> Fully-connected layers</li>
<li> Automatic differentiation</li>
<li> Convolutive layers</li>
<li> Convolutions beyond images</li>
<li> Scaling up models</li>
<li> Transformer models</li>
<li> Transformers in practice</li>
<li> Graph layers</li>
<li> Recurrent layers</li>
<li> Appendix A: Probability theory</li>
<li> Appendix B: Universal approximation in 1D</li>
</ol>
</div>

<h3 id="additional-chapters">Additional chapters</h3>

<p>I will publish here additional chapters on more advanced material that I could not fit into the first volume. Eventually, I hope these will be part of a second volume. More probably, they will languish here forever.</p>

<ol>
  <li><strong>Model re-use</strong> (including parameter-efficient fine-tuning and model merging).</li>
  <li><strong>Density estimation and generative modelling</strong>.</li>
  <li><strong>Conditional computation</strong> (mixture-of-experts, early exits).</li>
  <li><strong>Metric and self-supervised learning</strong>.</li>
  <li><strong>Debugging and understanding the models</strong>.</li>
</ol>

    </section>
  </article>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[OpenTofu 1.7.0 is out with State Encryption, Dynamic Provider-defined Functions (110 pts)]]></title>
            <link>https://opentofu.org/blog/opentofu-1-7-0/</link>
            <guid>40212617</guid>
            <pubDate>Tue, 30 Apr 2024 16:08:46 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://opentofu.org/blog/opentofu-1-7-0/">https://opentofu.org/blog/opentofu-1-7-0/</a>, See on <a href="https://news.ycombinator.com/item?id=40212617">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="__blog-post-container" itemprop="articleBody"><p>In the last few months <a href="https://opentofu.org/blog/opentofu-is-going-ga/">since our first stable release</a> the OpenTofu community and the core team have worked hand in hand to bring functionality to OpenTofu that has been requested for years.  We are proud to announce the immediate availability of <a href="https://github.com/opentofu/opentofu/releases/tag/v1.7.0" target="_blank" rel="noopener noreferrer">OpenTofu 1.7.0</a>, bringing you the following highlights:</p>
<ul>
<li><a href="https://opentofu.org/docs/intro/whats-new/#state-encryption"><strong>End-to-end state encryption</strong></a> protects your state file from prying eyes, no matter what storage backend you use. You can provide your encryption passphrase securely using environment variables, or use a key management system such as AWS KMS, GCP KMS, or OpenBao. <em>This feature has been developed in collaboration with Stephan Bartels (Interhyp) and Alex Scheel from the OpenTofu community, whom we would like to thank for their work on this feature.</em></li>
<li><a href="https://opentofu.org/docs/intro/whats-new/#provider-defined-functions"><strong>Dynamic provider-defined functions</strong></a> let a provider not only provide resources, but also native functions you can use in your OpenTofu code. What's more, we added an OpenTofu-only feature to let providers dynamically define custom functions based on your configuration. This enhancement allows you to fully integrate other programming languages as <a href="https://www.youtube.com/watch?v=6OXBv0MYalY" target="_blank" rel="noopener noreferrer">shown in our live stream</a>. You can try out this functionality with our experimental <a href="https://github.com/opentofu/terraform-provider-lua" target="_blank" rel="noopener noreferrer">Lua</a> and <a href="https://github.com/opentofu/terraform-provider-go" target="_blank" rel="noopener noreferrer">Go</a> providers.</li>
<li><a href="https://opentofu.org/docs/intro/whats-new/#removed-block"><strong>The removed block</strong></a> lets you mark OpenTofu-created resources for removal from the state file, but still keep the infrastructure you created.</li>
<li><a href="https://opentofu.org/docs/intro/whats-new/#loopable-import-blocks"><strong>Loopable import blocks</strong></a> let you bulk-import resources declaratively in your OpenTofu code, helping with large-scale migrations.</li>
</ul>
<p>As with the previous version, OpenTofu remains a drop-in replacement for its predecessor Terraform™ 1.5 and has easy migration paths from later versions. Check out the overhauled <a href="https://opentofu.org/docs/intro/migration/"><strong>migration guides</strong></a> for detailed migration instructions. You can find the full list of changes and comprehensive examples <a href="https://opentofu.org/docs/intro/whats-new/">in the documentation</a>.</p>

<p>Since the first release, the OpenTofu community and adoption have been growing significantly. While we don't believe in tracking our users and don't have accurate numbers, we have seen a constant month-over-month growth in our registry usage since our launch only 4 months ago. Over just the last month our registry usage has more than doubled to well over a million requests per day.</p>
<p><img loading="lazy" alt="A graph showing OpenTofu&amp;#39;s registry usage." src="https://opentofu.org/assets/images/opentofu-registry-april-2024-f9521461bf6bc2583f816431afb75c9f.svg" width="1542" height="620"></p>
<p>Additionally, we had 65 unique contributors for this release alone and have recently reached 20,000 stars on GitHub. Since January, we have seen our community spread the word about OpenTofu, open over 200 new issues and file even more pull requests.</p>

<p>If you are new to OpenTofu, welcome! We started as a fork of HashiCorp's Terraform™ after its license was changed to the restrictive BUSL alongside a frequently changing licensing FAQ. OpenTofu is an infrastructure-as-code tool that lets you declaratively create cloud infrastructure with thousands of APIs by writing your own code or using one of the tens of thousands of community-provided modules.</p>
<p>For example, you could create an EC2 instance on AWS like this:</p>
<div><figure><figcaption>Code Block</figcaption><pre tabindex="0" role="code" aria-label="Code Block"><code><span><span>resource </span><span>"aws_instance"</span><span> </span><span>"web"</span><span> </span><span>{</span><span></span><br></span><span><span>  </span><span>ami</span><span>           </span><span>=</span><span> </span><span>"add AMI ID here"</span><span></span><br></span><span><span>  </span><span>instance_type</span><span> </span><span>=</span><span> </span><span>"t3.micro"</span><span></span><br></span><span><span></span><span>}</span><br></span></code></pre></figure></div>
<p>OpenTofu's main advantage is that it records any changes to your cloud infrastructure in a state file, which allows it to later modify the same infrastructure, or tear it down if you created it as a test.</p>

<p>OpenTofu is first and foremost a community-driven project. We are looking forward to the continued tradition of working on issues the community deems important. For transparency and to encourage everyone to vote, we have created <a href="https://github.com/opentofu/opentofu/issues/1496" target="_blank" rel="noopener noreferrer">a list of the most upvoted issues</a>.</p>
<p>While much of OpenTofu 1.8 is still in planning, we are currently finalizing a proposal for a feature that lets you <a href="https://github.com/opentofu/opentofu/issues/1042" target="_blank" rel="noopener noreferrer">use variables as module sources, backend configuration, and more</a>. Early evaluation of variables has been requested in over 30 issues so far and is one of the most-requested features in OpenTofu.</p>
<p>If you have a feature you would like to see in OpenTofu, please don't hesitate to <a href="https://github.com/opentofu/opentofu/issues/new/choose" target="_blank" rel="noopener noreferrer">open an issue</a> or <a href="https://opentofu.org/slack/">reach out to us on Slack</a>.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Pydantic Logfire (101 pts)]]></title>
            <link>https://pydantic.dev/logfire</link>
            <guid>40212490</guid>
            <pubDate>Tue, 30 Apr 2024 15:56:10 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://pydantic.dev/logfire">https://pydantic.dev/logfire</a>, See on <a href="https://news.ycombinator.com/item?id=40212490">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><div><p>From the team behind Pydantic, Logfire is a new type of observability platform built on the same belief as our open source library — that the most powerful tools can be easy to use.</p></div><div><p>Software developer? Then you’ve likely encountered these headaches</p><div><div><p>Working <strong>with over-complicated observability platforms</strong> that don't understand your code or application.</p></div><div><p>Sifting through <strong>endless print statements</strong> and decoding cryptic portrayals of Python objects in your logs.</p></div><div><p><strong>Guessing at the performance hit</strong> from a specific function, or a mysterious slowdown of your app.</p></div><div><p>Whether you’re building an AI tool or any other cloud-based app, these frustrating scenarios are avoidable but all too real.</p></div></div></div><div><div><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 76 76" fill="none"><rect width="76" height="76" rx="11.8903" fill="#E520E9"></rect><path d="M41.5011 50.3311V41.3246H32.4946V17.3071H23.488V50.3311H32.4946V59.3377H53.5099V50.3311H41.5011Z" fill="#231F20"></path></svg><div><p>INTRODUCING LOGFIRE</p><h2>A more intuitive way to understand your<!-- --> </h2><p>Pydantic Logfire is a window into the inner workings of your application. Smooth to set up and easy to understand, with ready integrations for many popular libraries.</p></div></div><div><p>Features</p><div><div><p>While Pydantic Logfire is Python-first, it’s an observability platform that works just as well with other programming languages.</p></div><div><p>Transform garbled logs into actionable insights. Discover not just how long a function takes to run, but which queries slow down your app.</p></div><div><p>Understand your app’s behaviour — from request headers and bodies to the full trace of program execution.</p></div><div><p>Turn your logs into visualizations, dashboards, and alerts that drive development forward.</p></div></div></div></div><div><p>Insights</p><div><h3>Faster fixes, deeper insights</h3></div><p>With an SDK built on top of OpenTelemetry, structured data and an intuitive interface, Pydantic Logfire makes it easy to monitor the behavior of Python applications, at every level. Instrument your app using best practices and draw powerful insights — without hiring a dedicated analytics or observability team.</p></div><div><div><h2>Structured Data &amp; Direct SQL Access</h2><p>Ensure your Python objects and structured data are query-ready. Use tools like Pandas, SQLAlchemy, or psql for querying, integrate seamlessly with BI software, and leverage AI for SQL generation.</p><div><pre><p><code><span>SELECT</span> 
  attributes<span>-</span><span>&gt;&gt;</span><span>'campaign'</span> <span>as</span> campaign, 
  <span>count</span>(<span>distinct</span> attributes<span>-</span><span>&gt;&gt;</span><span>'track_id'</span>) <span>as</span> clicks, 
  round(<span>count</span>(<span>distinct</span> attributes<span>-</span><span>&gt;&gt;</span><span>'track_id'</span>)::<span>numeric</span><span>/</span><span>50</span><span>*</span><span>100</span>, <span>2</span>) <span>as</span> click_rate
<span>FROM</span> records
<span>WHERE</span>
  message ilike <span>'click%'</span> <span>and</span> 
  attributes<span>-</span><span>&gt;&gt;</span><span>'campaign'</span> ilike <span>'c%'</span>
<span>GROUP</span> <span>BY</span> attributes<span>-</span><span>&gt;&gt;</span><span>'campaign'</span></code></p></pre></div></div><div><div><h2>Manual Tracing</h2><p>You can use the logfire library to create logs and traces directly — it’s kind of like standard logging in Python, with a more modern interface and some extra capabilities. And a lot less painful than using OpenTelemetry directly.</p></div><div><pre><code><span>import</span> logfire

logfire.info(<span>'Hello, {name}!'</span>, name=<span>'world'</span>)

advantages = <span>'timing'</span>, <span>'context'</span>, <span>'exception capturing'</span> 
<span>with</span> logfire.span(<span>'spans provide: {advantages}'</span>, advantages=advantages):
     logfire.warn(<span>'the next line will raise an exception'</span>)
     <span>1</span> / <span>0</span></code></pre></div></div><div><h2>OpenTelemetry</h2><p><a target="_blank" href="https://opentelemetry.io/docs/what-is-opentelemetry/">OpenTelemetry</a> <!-- -->(OTel) is an open source observability framework, it provides libraries for Python and every other popular language to let you collect traces, logs and metrics.</p><p>OTel is a powerful tool that increasing numbers of developers want to use, but it can be time-consuming to set up and limited in the kinds of data it can collect.</p><p>Pydantic Logfire takes the best of OTel (instrumentation for popular Python packages, open standard for data transmission) and makes it easier to use and more flexible.</p><p>By harnessing OpenTelemetry, Pydantic Logfire offers automatic instrumentation for popular Python packages, enables cross-language data integration, and supports data export to any OpenTelemetry-compatible backend or proxy.</p></div></div><section><p><h2>Logfire is already making developers' lives easier</h2></p></section><div><div><h2><span>From the creators of Pydantic,</span> <!-- -->Crafted with the same developer obsession</h2><p>Built with developer experience at its core, Pydantic Logfire brings the same balance of ease, sophistication and productivity that’s made Pydantic the most popular data validation library on planet earth. Whether you’re using observability for the first time or an expert, we make it easy.</p></div><div><div><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 20 21" fill="none"><g clip-path="url(#clip0_1483_2043)"><path d="M16 7.64561H14.5V5.69967C14.5 3.28669 12.48 1.32129 10 1.32129C7.52 1.32129 5.5 3.28669 5.5 5.69967V7.64561H3V15.4294H5V17.3753H7V19.3213H17V8.61859C17 8.08345 16.55 7.64561 16 7.64561ZM10 15.9159L7.5 13.4835L10 11.051L12.5 13.4835L10 15.9159ZM12.5 7.64561H7.5V5.69967C7.5 4.35696 8.62 3.26724 10 3.26724C11.38 3.26724 12.5 4.35696 12.5 5.69967V7.64561Z" fill="currentColor"></path></g><defs><clipPath id="clip0_1483_2043"><rect width="20" height="20" fill="white" transform="translate(0 0.321289)"></rect></clipPath></defs></svg><p>Out-of-the-box integration</p></div><p>Use Pydantic Logfire to monitor the data that runs through Pydantic for a customized experience that goes way beyond generic observability platforms.</p></div></div><div><p>FOR DEVELOPERS</p><p>Ready to start building?</p><p>Logfire’s Python SDK is open source under the MIT license and wraps the OpenTelemetry Python package. By default, it will send data to the Logfire platform but you could send data to any OpenTelemetry Protocol (OTLP) compliant endpoint.</p></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Borgo is a statically typed language that compiles to Go (283 pts)]]></title>
            <link>https://github.com/borgo-lang/borgo</link>
            <guid>40211891</guid>
            <pubDate>Tue, 30 Apr 2024 15:13:22 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/borgo-lang/borgo">https://github.com/borgo-lang/borgo</a>, See on <a href="https://news.ycombinator.com/item?id=40211891">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><h2 tabindex="-1" dir="auto">The Borgo Programming Language</h2><a id="user-content-the-borgo-programming-language" aria-label="Permalink: The Borgo Programming Language" href="#the-borgo-programming-language"></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/borgo-lang/borgo-lang.github.io/main/borgo.jpg"><img src="https://raw.githubusercontent.com/borgo-lang/borgo-lang.github.io/main/borgo.jpg" alt="Borgo sits between Go and Rust"></a></p>
<hr>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/borgo-lang/borgo/actions/workflows/ci.yml/badge.svg"><img src="https://github.com/borgo-lang/borgo/actions/workflows/ci.yml/badge.svg" alt="build"></a></p>
<p dir="auto">I want a language for writing applications that is more expressive than Go but
less complex than Rust.</p>
<p dir="auto">Go is simple and straightforward, but I often wish it offered more type safety.
Rust is very nice to work with (at least for single threaded code) but it's too
broad and complex, sometimes painfully so.</p>
<p dir="auto"><strong>Borgo is a new language that transpiles to Go</strong>. It's fully compatible with
existing Go packages.</p>
<p dir="auto">Borgo syntax is similar to Rust, with optional semi-colons.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Tutorial</h2><a id="user-content-tutorial" aria-label="Permalink: Tutorial" href="#tutorial"></a></p>
<p dir="auto">Check out the <strong><a href="https://borgo-lang.github.io/" rel="nofollow">online playground</a></strong> for a tour
of the language.</p>
<p dir="auto">You can also take a look at test files for working Borgo code:</p>
<ul dir="auto">
<li><a href="https://github.com/borgo-lang/borgo/blob/main/compiler/test/codegen-emit.md">codegen-emit.md</a></li>
<li><a href="https://github.com/borgo-lang/borgo/blob/main/compiler/test/infer-expr.md">infer-expr.md</a></li>
<li><a href="https://github.com/borgo-lang/borgo/blob/main/compiler/test/infer-file.md">infer-file.md</a></li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Features</h2><a id="user-content-features" aria-label="Permalink: Features" href="#features"></a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Algebraic data types and pattern matching</h2><a id="user-content-algebraic-data-types-and-pattern-matching" aria-label="Permalink: Algebraic data types and pattern matching" href="#algebraic-data-types-and-pattern-matching"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="use fmt

enum NetworkState {
    Loading,
    Failed(int),
    Success(string),
}

let msg = match state {
    NetworkState.Loading => &quot;still loading&quot;,
    NetworkState.Failed(code) => fmt.Sprintf(&quot;Got error code: %d&quot;, code),
    NetworkState.Success(res) => res,
}"><pre><span>use</span> fmt<span></span>

<span>enum</span> <span>NetworkState</span> <span>{</span>
    <span>Loading</span><span>,</span>
    <span>Failed</span><span>(</span><span>int</span><span>)</span><span>,</span>
    <span>Success</span><span>(</span><span>string</span><span>)</span><span>,</span>
<span>}</span>

<span>let</span> msg = <span>match</span> state <span>{</span>
    <span>NetworkState</span><span>.</span><span>Loading</span> =&gt; <span>"still loading"</span><span>,</span>
    <span>NetworkState</span><span>.</span><span>Failed</span><span>(</span>code<span>)</span> =&gt; fmt<span>.</span><span>Sprintf</span><span>(</span><span>"Got error code: %d"</span><span>,</span> code<span>)</span><span>,</span>
    <span>NetworkState</span><span>.</span><span>Success</span><span>(</span>res<span>)</span> =&gt; res<span>,</span>
<span>}</span><span></span></pre></div>
<hr>
<p dir="auto"><h2 tabindex="-1" dir="auto"><code>Option&lt;T&gt;</code> instad of <code>nil</code></h2><a id="user-content-optiont-instad-of-nil" aria-label="Permalink: Option<T> instad of nil" href="#optiont-instad-of-nil"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="// import packages from Go stdlib
use fmt
use os

let key = os.LookupEnv(&quot;HOME&quot;)

match key {
    Some(s) => fmt.Println(&quot;home dir:&quot;, s),
    None => fmt.Println(&quot;Not found in env&quot;),
}"><pre><span>// import packages from Go stdlib</span>
<span>use</span> fmt<span></span>
<span>use</span> os<span></span>

<span>let</span> key = os<span>.</span><span>LookupEnv</span><span>(</span><span>"HOME"</span><span>)</span><span></span>

<span>match</span> key <span>{</span>
    <span>Some</span><span>(</span>s<span>)</span> =&gt; fmt<span>.</span><span>Println</span><span>(</span><span>"home dir:"</span><span>,</span> s<span>)</span><span>,</span>
    <span>None</span> =&gt; fmt<span>.</span><span>Println</span><span>(</span><span>"Not found in env"</span><span>)</span><span>,</span>
<span>}</span></pre></div>
<hr>
<p dir="auto"><h2 tabindex="-1" dir="auto"><code>Result&lt;T, E&gt;</code> instad of multiple return values</h2><a id="user-content-resultt-e-instad-of-multiple-return-values" aria-label="Permalink: Result<T, E> instad of multiple return values" href="#resultt-e-instad-of-multiple-return-values"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="use fmt
use net.http

fn makeRequest() -> Result<int, error> {
    let request = http.Get(&quot;http://example.com&quot;)

    match request {
        Ok(resp) => Ok(resp.StatusCode),
        Err(err) => Err(fmt.Errorf(&quot;failed http request %w&quot;, err))
    }
}"><pre><span>use</span> fmt<span></span>
<span>use</span> net<span>.</span>http<span></span>

<span>fn</span> <span>makeRequest</span><span>(</span><span>)</span> -&gt; <span>Result</span><span>&lt;</span><span>int</span><span>,</span> <span>error</span><span>&gt;</span> <span>{</span>
    <span>let</span> request = http<span>.</span><span>Get</span><span>(</span><span>"http://example.com"</span><span>)</span><span></span>

    <span>match</span> request <span>{</span>
        <span>Ok</span><span>(</span>resp<span>)</span> =&gt; <span>Ok</span><span>(</span>resp<span>.</span><span>StatusCode</span><span>)</span><span>,</span>
        <span>Err</span><span>(</span>err<span>)</span> =&gt; <span>Err</span><span>(</span>fmt<span>.</span><span>Errorf</span><span>(</span><span>"failed http request %w"</span><span>,</span> err<span>)</span><span>)</span>
    <span>}</span>
<span>}</span></pre></div>
<hr>
<p dir="auto"><h2 tabindex="-1" dir="auto">Error handling with <code>?</code> operator</h2><a id="user-content-error-handling-with--operator" aria-label="Permalink: Error handling with ? operator" href="#error-handling-with--operator"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="use fmt
use io
use os

fn copyFile(src: string, dst: string) -> Result<(), error> {
    let stat = os.Stat(src)?

    if !stat.Mode().IsRegular() {
        return Err(fmt.Errorf(&quot;%s is not a regular file&quot;, src))
    }

    let source = os.Open(src)?
    defer source.Close()

    let destination = os.Create(dst)?
    defer destination.Close()

    // ignore number of bytes copied
    let _ = io.Copy(destination, source)?

    Ok(())
}"><pre><span>use</span> fmt<span></span>
<span>use</span> io<span></span>
<span>use</span> os<span></span>

<span>fn</span> <span>copyFile</span><span>(</span><span>src</span><span>:</span> <span>string</span><span>,</span> <span>dst</span><span>:</span> <span>string</span><span>)</span> -&gt; <span>Result</span><span>&lt;</span><span>(</span><span>)</span><span>,</span> <span>error</span><span>&gt;</span> <span>{</span>
    <span>let</span> stat = os<span>.</span><span>Stat</span><span>(</span>src<span>)</span>?<span></span>

    <span>if</span> !stat<span>.</span><span>Mode</span><span>(</span><span>)</span><span>.</span><span>IsRegular</span><span>(</span><span>)</span> <span>{</span>
        <span>return</span> <span>Err</span><span>(</span>fmt<span>.</span><span>Errorf</span><span>(</span><span>"%s is not a regular file"</span><span>,</span> src<span>)</span><span>)</span>
    <span>}</span>

    <span>let</span> source = os<span>.</span><span>Open</span><span>(</span>src<span>)</span>?
    defer source<span>.</span><span>Close</span><span>(</span><span>)</span><span></span>

    <span>let</span> destination = os<span>.</span><span>Create</span><span>(</span>dst<span>)</span>?
    defer destination<span>.</span><span>Close</span><span>(</span><span>)</span>

    <span>// ignore number of bytes copied</span><span></span>
    <span>let</span> _ = io<span>.</span><span>Copy</span><span>(</span>destination<span>,</span> source<span>)</span>?<span></span>

    <span>Ok</span><span>(</span><span>(</span><span>)</span><span>)</span>
<span>}</span></pre></div>
<hr>
<p dir="auto"><h2 tabindex="-1" dir="auto">Guessing game example</h2><a id="user-content-guessing-game-example" aria-label="Permalink: Guessing game example" href="#guessing-game-example"></a></p>
<p dir="auto">Small game from the Rust book, implemented in Borgo.</p>
<p dir="auto">Things to note:</p>
<ul dir="auto">
<li>import packages from Go stdlib</li>
<li><code>strconv.Atoi</code> returns an <code>Option&lt;int&gt;</code></li>
<li><code>Reader.ReadString</code> returns a <code>Result&lt;string, error&gt;</code> (which can be unwrapped)</li>
</ul>
<div dir="auto" data-snippet-clipboard-copy-content="use bufio
use fmt
use math.rand
use os
use strconv
use strings
use time

fn main() {
    let reader = bufio.NewReader(os.Stdin)

    rand.Seed(time.Now().UnixNano())
    let secret = rand.Intn(100) + 1

    loop {
        fmt.Println(&quot;Please input your guess.&quot;)

        let text = reader.ReadString('\n').Unwrap()
        let text = strings.TrimSpace(text)

        let guess = match strconv.Atoi(text) {
            Ok(n) => n,
            Err(_) => continue,
        }

        fmt.Println(&quot;You guessed: &quot;, guess)

        if guess < secret {
            fmt.Println(&quot;Too small!&quot;)
        } else if guess > secret {
            fmt.Println(&quot;Too big!&quot;)
        } else {
            fmt.Println(&quot;Correct!&quot;)
            break
        }
    }
}"><pre><span>use</span> bufio<span></span>
<span>use</span> fmt<span></span>
<span>use</span> math<span>.</span>rand
<span>use</span> os<span></span>
<span>use</span> strconv<span></span>
<span>use</span> strings<span></span>
<span>use</span> time<span></span>

<span>fn</span> <span>main</span><span>(</span><span>)</span> <span>{</span>
    <span>let</span> reader = bufio<span>.</span><span>NewReader</span><span>(</span>os<span>.</span><span>Stdin</span><span>)</span>

    rand<span>.</span><span>Seed</span><span>(</span>time<span>.</span><span>Now</span><span>(</span><span>)</span><span>.</span><span>UnixNano</span><span>(</span><span>)</span><span>)</span><span></span>
    <span>let</span> secret = rand<span>.</span><span>Intn</span><span>(</span><span>100</span><span>)</span> + <span>1</span>

    <span>loop</span> <span>{</span>
        fmt<span>.</span><span>Println</span><span>(</span><span>"Please input your guess."</span><span>)</span><span></span>

        <span>let</span> text = reader<span>.</span><span>ReadString</span><span>(</span><span>'\n'</span><span>)</span><span>.</span><span>Unwrap</span><span>(</span><span>)</span><span></span>
        <span>let</span> text = strings<span>.</span><span>TrimSpace</span><span>(</span>text<span>)</span><span></span>

        <span>let</span> guess = <span>match</span> strconv<span>.</span><span>Atoi</span><span>(</span>text<span>)</span> <span>{</span>
            <span>Ok</span><span>(</span>n<span>)</span> =&gt; n<span>,</span>
            <span>Err</span><span>(</span>_<span>)</span> =&gt; <span>continue</span><span>,</span>
        <span>}</span>

        fmt<span>.</span><span>Println</span><span>(</span><span>"You guessed: "</span><span>,</span> guess<span>)</span><span></span>

        <span>if</span> guess &lt; secret <span>{</span>
            fmt<span>.</span><span>Println</span><span>(</span><span>"Too small!"</span><span>)</span>
        <span>}</span> <span>else</span> <span>if</span> guess &gt; secret <span>{</span>
            fmt<span>.</span><span>Println</span><span>(</span><span>"Too big!"</span><span>)</span>
        <span>}</span> <span>else</span> <span>{</span>
            fmt<span>.</span><span>Println</span><span>(</span><span>"Correct!"</span><span>)</span>
            break
        <span>}</span>
    <span>}</span><span></span>
<span>}</span></pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">Running locally</h2><a id="user-content-running-locally" aria-label="Permalink: Running locally" href="#running-locally"></a></p>
<p dir="auto">Borgo is written in Rust, so you'll need <code>cargo</code>.</p>
<p dir="auto">To compile all <code>.brg</code> files in the current folder:</p>

<p dir="auto">The compiler will generate <code>.go</code> files, which you can run as normal:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# generate a go.mod file if needed
# $ go mod init foo
$ go run ."><pre><span><span>#</span> generate a go.mod file if needed</span>
<span><span>#</span> $ go mod init foo</span>
$ go run <span>.</span></pre></div>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Pyinfra: Automate Infrastructure Using Python (384 pts)]]></title>
            <link>https://pyinfra.com/</link>
            <guid>40211655</guid>
            <pubDate>Tue, 30 Apr 2024 14:54:45 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://pyinfra.com/">https://pyinfra.com/</a>, See on <a href="https://news.ycombinator.com/item?id=40211655">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content">
            <article id="content">
                <p>pyinfra automates infrastructure using Python. It’s fast and scales from one server to thousands. Great for ad-hoc command execution, service deployment, configuration management and more. Here's why you should try pyinfra:</p>
                <ul>
                <li>🚀 <strong>Super fast</strong> execution over thousands of targets with predictable performance.</li>
                <li>🚨 <strong>Instant debugging</strong> with realtime stdin/stdout/stderr output (<code>-vvv</code>).</li>
                <li>🔄 <strong>Idempotent operations</strong> that enable diffs and dry runs before making changes.</li>
                <li>📦 <strong>Extendable</strong> with the entire Python package ecosystem.</li>
                <li>💻 <strong>Agentless execution</strong> against anything with shell access.</li>
                <li>🔌 <strong>Integrated</strong> with connectors for Docker, Terraform, Vagrant and more.</li>
                </ul>
                <p><img src="https://pyinfra.com/static/example_deploy.gif" title="" width="100%"></p>

                <h2>Quickstart</h2>


                <p>Install pyinfra with <code>pip</code>:</p>
                


                <p>Now you can execute commands over SSH:</p>
                <div><pre>pyinfra my-server.net <span>exec</span> -- <span>echo</span> <span>"hello world"</span></pre></div>


                <p>Or target Docker, the local machine, and other <a href="https://docs.pyinfra.com/page/connectors.html">connectors</a>:</p>
                <div><pre>pyinfra @docker/ubuntu <span>exec</span> -- <span>echo</span> <span>"Hello world"</span>
pyinfra @local <span>exec</span> -- <span>echo</span> <span>"Hello world"</span></pre></div>


                <p>As well as executing commands you can define state using <a href="https://docs.pyinfra.com/page/operations.html">operations</a>:</p>
                <div><pre>pyinfra @docker/ubuntu apt.packages iftop <span>update</span><span>=</span><span>true </span><span>_sudo</span><span>=</span><span>true</span></pre></div>


                <p>Which can then be saved as a Python file like <code>deploy.py</code>:</p>
                <div><pre><span>from</span> <span>pyinfra.operations</span> <span>import</span> <span>apt</span>

<span>apt</span><span>.</span><span>packages</span><span>(</span>
    <span>name</span><span>=</span><span>"Ensure iftop is installed"</span><span>,</span>
    <span>packages</span><span>=</span><span>[</span><span>"iftop"</span><span>],</span>
    <span>update</span><span>=</span><span>True</span><span>,</span>
    <span>_sudo</span><span>=</span><span>True</span><span>,</span>
<span>)</span></pre></div>


                <p>And executed:</p>
                <div><pre>pyinfra @docker/ubuntu deploy.py</pre></div>

                <p>Now you know the building blocks of pyinfra! By combining inventory, operations and Python code you can deploy anything.</p>

                <p>See the more detailed <a href="https://docs.pyinfra.com/page/getting-started.html" rel="nofollow">getting started</a> or <a href="https://docs.pyinfra.com/page/using-operations.html" rel="nofollow">using operations</a> guides. See how to use <a href="https://docs.pyinfra.com/page/inventory-data.html" rel="nofollow">inventory &amp; data</a>, <a href="https://docs.pyinfra.com/page/arguments.html" rel="nofollow">global arguments</a> and <a href="https://docs.pyinfra.com/page/cli.html" rel="nofollow">the CLI</a> or check out the <a href="https://docs.pyinfra.com/page/examples.html" rel="nofollow">documented examples</a>.</p>
        </article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Tesla failing to deliver Semi-trucks on time to PepsiCo, Sysco, UPS, and Walmart (164 pts)]]></title>
            <link>https://www.reuters.com/business/autos-transportation/tesla-semi-trucks-short-supply-pepsico-its-rivals-use-competing-ev-big-rigs-2024-04-19/</link>
            <guid>40211254</guid>
            <pubDate>Tue, 30 Apr 2024 14:24:45 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.reuters.com/business/autos-transportation/tesla-semi-trucks-short-supply-pepsico-its-rivals-use-competing-ev-big-rigs-2024-04-19/">https://www.reuters.com/business/autos-transportation/tesla-semi-trucks-short-supply-pepsico-its-rivals-use-competing-ev-big-rigs-2024-04-19/</a>, See on <a href="https://news.ycombinator.com/item?id=40211254">Hacker News</a></p>
Couldn't get https://www.reuters.com/business/autos-transportation/tesla-semi-trucks-short-supply-pepsico-its-rivals-use-competing-ev-big-rigs-2024-04-19/: Error: Request failed with status code 401]]></description>
        </item>
        <item>
            <title><![CDATA[Reddit is full of bots: thread reposted comment by comment, 10 months later (299 pts)]]></title>
            <link>https://lemmy.blahaj.zone/post/11615413</link>
            <guid>40211010</guid>
            <pubDate>Tue, 30 Apr 2024 13:57:53 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://lemmy.blahaj.zone/post/11615413">https://lemmy.blahaj.zone/post/11615413</a>, See on <a href="https://news.ycombinator.com/item?id=40211010">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="sidebarInfo"><div><h2 dir="auto">News and Discussions about Reddit</h2>
<p dir="auto">Welcome to !reddit. This is a community for all news and discussions about Reddit.</p>
<p dir="auto">The rules for posting and commenting, besides <a href="https://mastodon.world/about" rel="noopener nofollow">the rules defined here for lemmy.world</a>, are as follows:</p>
<h2 dir="auto">Rules</h2>
<hr>
<details><summary> Rule 1- No brigading. </summary>
<p dir="auto">**You may not encourage brigading any communities or subreddits in any way. **</p>
<p dir="auto"><strong>YSKs are about self-improvement on how to do things.</strong></p>
<hr>
</details>
<hr>
<details><summary> Rule 2- No illegal or NSFW or gore content. </summary>
<p dir="auto">**No illegal or NSFW or gore content.
**</p>
<hr>
</details>
<hr>
<details><summary> Rule 3- Do not seek mental, medical and professional help here. </summary>
<p dir="auto"><strong>Do not seek mental, medical and professional help here. Breaking this rule will not get you or your post removed, but it will put you at risk, and possibly in danger.</strong></p>
<hr>
</details>
<hr>
<details><summary> Rule 4- No self promotion or upvote-farming of any kind. </summary>
<p dir="auto"><strong>That’s it.</strong></p>
<hr>
</details>
<hr>
<details><summary> Rule 5- No baiting or sealioning or promoting an agenda. </summary>
<p dir="auto"><strong>Posts and comments which, instead of being of an innocuous nature, are specifically intended (based on reports and in the opinion of our crack moderation team) to bait users into ideological wars on charged political topics will be removed and the authors warned - or banned - depending on severity.</strong></p>
<hr>
</details>
<hr>
<details><summary> Rule 6- Regarding META posts. </summary>
<p dir="auto"><strong>Provided it is about the community itself, you may post non-Reddit posts using the [META] tag on your post title.</strong></p>
<hr>
</details>
<hr>
<details><summary> Rule 7- You can't harass or disturb other members. </summary>
<p dir="auto"><strong>If you vocally harass or discriminate against any individual member, you will be removed.</strong></p>
<p dir="auto"><strong>Likewise, if you are a member, sympathiser or a resemblant of a movement that is known to largely hate, mock, discriminate against, and/or want to take lives of a group of people, and you were provably vocal about your hate, then you will be banned on sight.</strong></p>
<hr>
</details>
<hr>
<details><summary> Rule 8- All comments should try to stay relevant to their parent content. </summary>
<hr>
</details>
<hr>
<details><summary> Rule 9- Reposts from other platforms are not allowed. </summary>
<p dir="auto"><strong>Let everyone have their own content.</strong></p>
<hr>
</details>
<hr>
<details><summary> Rule 10- Majority of bots aren't allowed to participate here. </summary>
</details>
</div><ul><li data-tippy-content="603 active users in the last day">603 users / day</li><li data-tippy-content="1.85K active users in the last week">1.85K users / week</li><li data-tippy-content="3.31K active users in the last month">3.31K users / month</li><li data-tippy-content="12.2K active users in the last 6 months">12.2K users / 6 months</li><li>16.7K subscribers</li><li>607 Posts</li><li>24.7K Comments</li><li><a href="https://lemmy.blahaj.zone/modlog/5929">Modlog</a></li></ul></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: I made a CLI tool to create web extensions with no build configuration (256 pts)]]></title>
            <link>https://github.com/cezaraugusto/extension.js</link>
            <guid>40210627</guid>
            <pubDate>Tue, 30 Apr 2024 13:11:16 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/cezaraugusto/extension.js">https://github.com/cezaraugusto/extension.js</a>, See on <a href="https://news.ycombinator.com/item?id=40210627">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<blockquote>
<p dir="auto">Plug-and-play, zero-config, cross-browser extension development tool.</p>
</blockquote>
<a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/4672033/316628309-01a90694-4705-416e-898c-20bf845984e7.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTQ0OTMxMDQsIm5iZiI6MTcxNDQ5MjgwNCwicGF0aCI6Ii80NjcyMDMzLzMxNjYyODMwOS0wMWE5MDY5NC00NzA1LTQxNmUtODk4Yy0yMGJmODQ1OTg0ZTcucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQzMCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MzBUMTYwMDA0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9N2I5ZTc2MzNjNjBjNjAxYjI2YWE2ZmQzMmJlMjJmZjI0NDAzMjVhMDgzNmY4MTI5ZTZmOGFlODdmMTYwOGUwYiZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.hiHIoTqzm6V4B_yaNsAfijBdIpgRJ_IellzO2jqHjHI"><img width="1440" alt="Screenshot 2024-03-25 at 13 06 15" src="https://private-user-images.githubusercontent.com/4672033/316628309-01a90694-4705-416e-898c-20bf845984e7.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTQ0OTMxMDQsIm5iZiI6MTcxNDQ5MjgwNCwicGF0aCI6Ii80NjcyMDMzLzMxNjYyODMwOS0wMWE5MDY5NC00NzA1LTQxNmUtODk4Yy0yMGJmODQ1OTg0ZTcucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQzMCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MzBUMTYwMDA0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9N2I5ZTc2MzNjNjBjNjAxYjI2YWE2ZmQzMmJlMjJmZjI0NDAzMjVhMDgzNmY4MTI5ZTZmOGFlODdmMTYwOGUwYiZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.hiHIoTqzm6V4B_yaNsAfijBdIpgRJ_IellzO2jqHjHI"></a>
<hr>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://user-images.githubusercontent.com/4672033/102850460-4d22aa80-43f8-11eb-82db-9efce586f73e.png"><img alt="Logo" src="https://user-images.githubusercontent.com/4672033/102850460-4d22aa80-43f8-11eb-82db-9efce586f73e.png" width="25%"></a></p>
<p dir="auto"><strong>Create cross-browser extensions with no build configuration.</strong></p>
<ul dir="auto">
<li><a href="#create-a-new-extension">Create A New Extension</a> — How to create a new extension.</li>
<li><a href="#get-started-immediately">Get Started Immediately</a> — Get work done in no time.</li>
<li><a href="#i-have-an-extension">I have An Extension</a> - Use only specific parts of <code>Extension.js</code>.</li>
</ul>

<p dir="auto"><code>Extension.js</code> is a plug-and-play, zero-config, cross-browser extension development tool with built-in support for TypeScript, WebAssembly, React, and modern JavaScript.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Create A New Extension</h2><a id="user-content-create-a-new-extension" aria-label="Permalink: Create A New Extension" href="#create-a-new-extension"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="npx extension create my-extension
cd my-extension
npm run dev"><pre>npx extension create my-extension
<span>cd</span> my-extension
npm run dev</pre></div>
<p dir="auto">A new browser instance will open up with your extension ready for development.</p>
<p dir="auto">You are done. Time to hack on your extension!</p>
<details open="">
  <summary>
    
    <span aria-label="Video description create-a-new-extension.mp4">create-a-new-extension.mp4</span>
    <span></span>
  </summary>

  <video src="https://private-user-images.githubusercontent.com/4672033/316988418-7263d368-99c4-434f-a60a-72c489672586.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTQ0OTMxMDQsIm5iZiI6MTcxNDQ5MjgwNCwicGF0aCI6Ii80NjcyMDMzLzMxNjk4ODQxOC03MjYzZDM2OC05OWM0LTQzNGYtYTYwYS03MmM0ODk2NzI1ODYubXA0P1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQzMCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MzBUMTYwMDA0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9MWJjOGM1NDQ3OWUyNmUwNGEwYWQ4NjI0NGVhOGZkMTUwZTM4ZTk2Nzk2MmM2OWQ2YzY0YzBiZmIwMDVlMzYyOSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.Fv2_Tr7pMKMEKk-3CEKw3G4wlLBSF2GiDUJ0W0aSM8I" data-canonical-src="https://private-user-images.githubusercontent.com/4672033/316988418-7263d368-99c4-434f-a60a-72c489672586.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTQ0OTMxMDQsIm5iZiI6MTcxNDQ5MjgwNCwicGF0aCI6Ii80NjcyMDMzLzMxNjk4ODQxOC03MjYzZDM2OC05OWM0LTQzNGYtYTYwYS03MmM0ODk2NzI1ODYubXA0P1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQzMCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MzBUMTYwMDA0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9MWJjOGM1NDQ3OWUyNmUwNGEwYWQ4NjI0NGVhOGZkMTUwZTM4ZTk2Nzk2MmM2OWQ2YzY0YzBiZmIwMDVlMzYyOSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.Fv2_Tr7pMKMEKk-3CEKw3G4wlLBSF2GiDUJ0W0aSM8I" controls="controls" muted="muted">

  </video>
</details>

<p dir="auto"><h2 tabindex="-1" dir="auto">Get Started Immediately</h2><a id="user-content-get-started-immediately" aria-label="Permalink: Get Started Immediately" href="#get-started-immediately"></a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Kickstart Any Sample from Chrome Extension Samples</h2><a id="user-content-kickstart-any-sample-from-chrome-extension-samples" aria-label="Permalink: Kickstart Any Sample from Chrome Extension Samples" href="#kickstart-any-sample-from-chrome-extension-samples"></a></p>
<p dir="auto">Dive right into development by starting with a sample from the Chrome Extension Samples repository. It's a great way to get acquainted with best practices and save time:</p>
<ol dir="auto">
<li>Open your terminal.</li>
<li>Navigate to the directory where you want your project.</li>
<li>Run the command:
<div dir="auto" data-snippet-clipboard-copy-content="npx extension dev <sample-name>"><pre>npx extension dev <span>&lt;</span>sample-name<span>&gt;</span></pre></div>
Replace <code>&lt;sample-name&gt;</code> with the name of the sample you wish to use from <a href="https://github.com/GoogleChrome/chrome-extensions-samples">Chrome Extension Samples</a>.</li>
</ol>
<p dir="auto">See the example below where we request the sample <a href="https://github.com/GoogleChrome/chrome-extensions-samples/tree/main/functional-samples/sample.page-redder">page-redder</a> from <a href="https://github.com/GoogleChrome/chrome-extensions-samples">Google Chrome Extension Samples</a>.</p>
<div dir="auto" data-snippet-clipboard-copy-content="npx extension dev https://github.com/GoogleChrome/chrome-extensions-samples/tree/main/functional-samples/sample.page-redder --browser=edge"><pre>npx extension dev https://github.com/GoogleChrome/chrome-extensions-samples/tree/main/functional-samples/sample.page-redder --browser=edge</pre></div>
<details open="">
  <summary>
    
    <span aria-label="Video description chrome-extension-sample-page-redder-on-edge.mp4">chrome-extension-sample-page-redder-on-edge.mp4</span>
    <span></span>
  </summary>

  <video src="https://private-user-images.githubusercontent.com/4672033/316988391-ee221a94-6ec7-4e04-8553-8812288927f1.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTQ0OTMxMDQsIm5iZiI6MTcxNDQ5MjgwNCwicGF0aCI6Ii80NjcyMDMzLzMxNjk4ODM5MS1lZTIyMWE5NC02ZWM3LTRlMDQtODU1My04ODEyMjg4OTI3ZjEubXA0P1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQzMCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MzBUMTYwMDA0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9N2FlNjY0NTMxNjUzMmUzN2YwMThiNDI5MjJhODAxYjJjNTFiNjRhNDhmYWRkNWQ1ZjhiOGIwY2JkMWQ0OTFjYSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.AUa2L5lXT-szttp9pssOYmowIHpesC_rCzolSFsj3BQ" data-canonical-src="https://private-user-images.githubusercontent.com/4672033/316988391-ee221a94-6ec7-4e04-8553-8812288927f1.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTQ0OTMxMDQsIm5iZiI6MTcxNDQ5MjgwNCwicGF0aCI6Ii80NjcyMDMzLzMxNjk4ODM5MS1lZTIyMWE5NC02ZWM3LTRlMDQtODU1My04ODEyMjg4OTI3ZjEubXA0P1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQzMCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MzBUMTYwMDA0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9N2FlNjY0NTMxNjUzMmUzN2YwMThiNDI5MjJhODAxYjJjNTFiNjRhNDhmYWRkNWQ1ZjhiOGIwY2JkMWQ0OTFjYSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.AUa2L5lXT-szttp9pssOYmowIHpesC_rCzolSFsj3BQ" controls="controls" muted="muted">

  </video>
</details>

<p dir="auto"><h3 tabindex="-1" dir="auto">Use <code>Microsoft Edge</code> to kickstart any sample from <a href="https://github.com/GoogleChrome/chrome-extensions-samples/">chrome-extesions-sample</a></h3><a id="user-content-use-microsoft-edge-to-kickstart-any-sample-from-chrome-extesions-sample" aria-label="Permalink: Use Microsoft Edge to kickstart any sample from chrome-extesions-sample" href="#use-microsoft-edge-to-kickstart-any-sample-from-chrome-extesions-sample"></a></p>
<p dir="auto"><code>Extension.js</code> supports a variety of browsers, including Microsoft Edge. To start an Edge-compatible extension, simply:</p>
<ol dir="auto">
<li>Open your terminal.</li>
<li>Navigate to your desired project directory.</li>
<li>Execute:
<div dir="auto" data-snippet-clipboard-copy-content="npx extension dev  <sample-name> --browser=edge"><pre>npx extension dev  <span>&lt;</span>sample-name<span>&gt;</span> --browser=edge</pre></div>
Tailor your command by replacing <code>&lt;sample-name&gt;</code> with the specific sample you're interested in.</li>
</ol>
<blockquote>
<p dir="auto">See the example below where we request the sample <a href="https://github.com/GoogleChrome/chrome-extensions-samples/tree/main/api-samples/topSites/magic8ball">magic8ball</a> from from <a href="https://github.com/GoogleChrome/chrome-extensions-samples">Google Chrome Extension Samples</a> using Edge as the runtime browser.</p>
</blockquote>
<div dir="auto" data-snippet-clipboard-copy-content="npx extension dev https://github.com/GoogleChrome/chrome-extensions-samples/tree/main/api-samples/topSites/magic8ball --browser=edge"><pre>npx extension dev https://github.com/GoogleChrome/chrome-extensions-samples/tree/main/api-samples/topSites/magic8ball --browser=edge</pre></div>
<details open="">
  <summary>
    
    <span aria-label="Video description chrome-extension-sample-magic8ball-on-edge.mp4">chrome-extension-sample-magic8ball-on-edge.mp4</span>
    <span></span>
  </summary>

  <video src="https://private-user-images.githubusercontent.com/4672033/316988365-2db2a1f6-3110-4380-9a49-dc9d034146aa.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTQ0OTMxMDQsIm5iZiI6MTcxNDQ5MjgwNCwicGF0aCI6Ii80NjcyMDMzLzMxNjk4ODM2NS0yZGIyYTFmNi0zMTEwLTQzODAtOWE0OS1kYzlkMDM0MTQ2YWEubXA0P1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQzMCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MzBUMTYwMDA0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9OTY0NWFiZjg5ZDZiYmFjOGRhZjliODA1ODBlNDA3YmUyNWE0MDY5YTE2ZGY4ZmI1NTVjMDMwYjNiNTg2NDQ3NiZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.0P4pRBib8TuETjJvLQxaI08vwf8xhLSG8uvkYwSB17w" data-canonical-src="https://private-user-images.githubusercontent.com/4672033/316988365-2db2a1f6-3110-4380-9a49-dc9d034146aa.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTQ0OTMxMDQsIm5iZiI6MTcxNDQ5MjgwNCwicGF0aCI6Ii80NjcyMDMzLzMxNjk4ODM2NS0yZGIyYTFmNi0zMTEwLTQzODAtOWE0OS1kYzlkMDM0MTQ2YWEubXA0P1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQzMCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MzBUMTYwMDA0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9OTY0NWFiZjg5ZDZiYmFjOGRhZjliODA1ODBlNDA3YmUyNWE0MDY5YTE2ZGY4ZmI1NTVjMDMwYjNiNTg2NDQ3NiZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.0P4pRBib8TuETjJvLQxaI08vwf8xhLSG8uvkYwSB17w" controls="controls" muted="muted">

  </video>
</details>

<p dir="auto"><h3 tabindex="-1" dir="auto">Run Mozilla Add-Ons Using Edge</h3><a id="user-content-run-mozilla-add-ons-using-edge" aria-label="Permalink: Run Mozilla Add-Ons Using Edge" href="#run-mozilla-add-ons-using-edge"></a></p>
<p dir="auto">Bridge the gap between Firefox and Edge by running Mozilla Add-Ons using Edge:</p>
<ol dir="auto">
<li>Navigate to your project directory.</li>
<li>Use the command:
<div dir="auto" data-snippet-clipboard-copy-content="npx extension dev <addon-name> --browser=edge --polyfill=true"><pre>npx extension dev <span>&lt;</span>addon-name<span>&gt;</span> --browser=edge --polyfill=true</pre></div>
This will fetch a Mozilla Add-On and adapt it for Edge.</li>
</ol>
<blockquote>
<p dir="auto">See the example below where we request the sample <a href="https://github.com/mdn/webextensions-examples/tree/main/apply-css">Apply CSS</a> from <a href="https://github.com/mdn/webextensions-examples">MDN WebExtensions Examples</a> using Edge as the runtime browser.</p>
</blockquote>
<div dir="auto" data-snippet-clipboard-copy-content="npx extension dev https://github.com/mdn/webextensions-examples/tree/main/apply-css --browser=edge --polyfill=true"><pre>npx extension dev https://github.com/mdn/webextensions-examples/tree/main/apply-css --browser=edge --polyfill=true</pre></div>
<details open="">
  <summary>
    
    <span aria-label="Video description mdn-webextensions-examples-apply-css-on-edge.mp4">mdn-webextensions-examples-apply-css-on-edge.mp4</span>
    <span></span>
  </summary>

  <video src="https://private-user-images.githubusercontent.com/4672033/316988486-130cb430-1567-419c-8c90-23fddcf20f00.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTQ0OTMxMDQsIm5iZiI6MTcxNDQ5MjgwNCwicGF0aCI6Ii80NjcyMDMzLzMxNjk4ODQ4Ni0xMzBjYjQzMC0xNTY3LTQxOWMtOGM5MC0yM2ZkZGNmMjBmMDAubXA0P1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQzMCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MzBUMTYwMDA0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9MzI5YzJiMGY0NTQyN2VmNzM1NjJjODhiMjQ1OTFiNGQ5ZmIyZDc0ZmExZjcyZGY1Y2NhOTMzN2Y1YjE3NGY2YyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.63ywnM05iaUqfZ56iWGLJkTjvcjvle4wfND92bjzz40" data-canonical-src="https://private-user-images.githubusercontent.com/4672033/316988486-130cb430-1567-419c-8c90-23fddcf20f00.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTQ0OTMxMDQsIm5iZiI6MTcxNDQ5MjgwNCwicGF0aCI6Ii80NjcyMDMzLzMxNjk4ODQ4Ni0xMzBjYjQzMC0xNTY3LTQxOWMtOGM5MC0yM2ZkZGNmMjBmMDAubXA0P1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQzMCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MzBUMTYwMDA0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9MzI5YzJiMGY0NTQyN2VmNzM1NjJjODhiMjQ1OTFiNGQ5ZmIyZDc0ZmExZjcyZGY1Y2NhOTMzN2Y1YjE3NGY2YyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.63ywnM05iaUqfZ56iWGLJkTjvcjvle4wfND92bjzz40" controls="controls" muted="muted">

  </video>
</details>

<p dir="auto"><h2 tabindex="-1" dir="auto">I have An Extension</h2><a id="user-content-i-have-an-extension" aria-label="Permalink: I have An Extension" href="#i-have-an-extension"></a></p>
<details open="">
  <summary>
    
    <span aria-label="Video description usage-with-an-existing-extension.mp4">usage-with-an-existing-extension.mp4</span>
    <span></span>
  </summary>

  <video src="https://private-user-images.githubusercontent.com/4672033/316988507-48694a23-b7f1-4098-9c5d-eff49983739c.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTQ0OTMxMDQsIm5iZiI6MTcxNDQ5MjgwNCwicGF0aCI6Ii80NjcyMDMzLzMxNjk4ODUwNy00ODY5NGEyMy1iN2YxLTQwOTgtOWM1ZC1lZmY0OTk4MzczOWMubXA0P1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQzMCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MzBUMTYwMDA0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9MTUwOGY4NjBkYTZjODc3NDllYzc0NmRmZTJlZGRhNGU2MTE3OTg1MGUxZjMzYTAzMDczNGE5NGM5OTc4NDVlOSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.S5stXdPjM37ZUcVr2a7R9al4AgIqm9lkgufaHqvzkNE" data-canonical-src="https://private-user-images.githubusercontent.com/4672033/316988507-48694a23-b7f1-4098-9c5d-eff49983739c.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTQ0OTMxMDQsIm5iZiI6MTcxNDQ5MjgwNCwicGF0aCI6Ii80NjcyMDMzLzMxNjk4ODUwNy00ODY5NGEyMy1iN2YxLTQwOTgtOWM1ZC1lZmY0OTk4MzczOWMubXA0P1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQzMCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MzBUMTYwMDA0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9MTUwOGY4NjBkYTZjODc3NDllYzc0NmRmZTJlZGRhNGU2MTE3OTg1MGUxZjMzYTAzMDczNGE5NGM5OTc4NDVlOSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.S5stXdPjM37ZUcVr2a7R9al4AgIqm9lkgufaHqvzkNE" controls="controls" muted="muted">

  </video>
</details>

<p dir="auto">If you have an existing extension which is using a package manager, you can install the <code>Extension.js</code> package and manually create the scripts used to run your extension. See the demo above or follow these instructions to get it done:</p>
<p dir="auto"><strong>Step 1 - Install extension as a <code>devDependency</code></strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="npm install extension --save-dev"><pre>npm install extension --save-dev</pre></div>
<p dir="auto"><strong>Step 2 - Link your npm scripts with the executable <code>Extension.js</code> commands</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="{
  &quot;scripts&quot;: {
    &quot;build&quot;: &quot;extension build&quot;,
    &quot;dev&quot;: &quot;extension dev&quot;,
    &quot;start&quot;: &quot;extension start&quot;
  },
  &quot;devDependencies&quot;: {
    // ...other deps,s
    &quot;extension&quot;: &quot;latest&quot;
  }
}"><pre>{
  <span>"scripts"</span>: {
    <span>"build"</span>: <span><span>"</span>extension build<span>"</span></span>,
    <span>"dev"</span>: <span><span>"</span>extension dev<span>"</span></span>,
    <span>"start"</span>: <span><span>"</span>extension start<span>"</span></span>
  },
  <span>"devDependencies"</span>: {
    <span>// ...other deps,s</span>
    <span>"extension"</span>: <span><span>"</span>latest<span>"</span></span>
  }
}</pre></div>
<p dir="auto">Done. You are all set!</p>
<ul dir="auto">
<li>To develop the extension, run <code>npm run dev</code>.</li>
<li>To visualize the extension in production mode, run <code>npm run start</code>.</li>
<li>To build the extension in production mode, run <code>npm run build</code>.</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Using a specific browser for development</h2><a id="user-content-using-a-specific-browser-for-development" aria-label="Permalink: Using a specific browser for development" href="#using-a-specific-browser-for-development"></a></p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Desktop Browsers</h3><a id="user-content-desktop-browsers" aria-label="Permalink: Desktop Browsers" href="#desktop-browsers"></a></p>
<p dir="auto">☑️ = Likely works but no browser runner support yet.</p>
<table>
<thead>
<tr>
<th><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/alrra/browser-logos/main/src/brave/brave.svg"><img src="https://raw.githubusercontent.com/alrra/browser-logos/main/src/brave/brave.svg" width="100" height="100"></a></th>
<th><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/alrra/browser-logos/main/src/chrome/chrome.svg"><img src="https://raw.githubusercontent.com/alrra/browser-logos/main/src/chrome/chrome.svg" width="100" height="100"></a></th>
<th><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/alrra/browser-logos/main/src/edge/edge.svg"><img src="https://raw.githubusercontent.com/alrra/browser-logos/main/src/edge/edge.svg" width="100" height="100"></a></th>
<th><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/alrra/browser-logos/main/src/firefox/firefox.svg"><img src="https://raw.githubusercontent.com/alrra/browser-logos/main/src/firefox/firefox.svg" width="100" height="100"></a></th>
<th><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/alrra/browser-logos/main/src/opera/opera.svg"><img src="https://raw.githubusercontent.com/alrra/browser-logos/main/src/opera/opera.svg" width="100" height="100"></a></th>
<th><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/alrra/browser-logos/main/src/safari/safari.svg"><img width="100" height="100" src="https://raw.githubusercontent.com/alrra/browser-logos/main/src/safari/safari.svg"></a></th>
<th><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/alrra/browser-logos/main/src/vivaldi/vivaldi.svg"><img src="https://raw.githubusercontent.com/alrra/browser-logos/main/src/vivaldi/vivaldi.svg" width="100" height="100"></a></th>
</tr>
</thead>
<tbody>
<tr>
<td>Brave Browser</td>
<td>Google Chrome</td>
<td>Microsoft Edge</td>
<td>Mozilla Firefox</td>
<td>Opera Browser</td>
<td>Apple Safari</td>
<td>Vivaldi Browser</td>
</tr>
<tr>
<td>☑️</td>
<td>✅</td>
<td>✅</td>
<td>⛔️</td>
<td>☑️</td>
<td>⛔️</td>
<td>☑️</td>
</tr>
</tbody>
</table>
<p dir="auto"><h3 tabindex="-1" dir="auto">Mobile Browsers</h3><a id="user-content-mobile-browsers" aria-label="Permalink: Mobile Browsers" href="#mobile-browsers"></a></p>
<table>
<thead>
<tr>
<th><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/alrra/browser-logos/main/src/firefox/firefox.svg"><img src="https://raw.githubusercontent.com/alrra/browser-logos/main/src/firefox/firefox.svg" width="100" height="100"></a></th>
<th><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/alrra/browser-logos/main/src/safari-ios/safari-ios.svg"><img src="https://raw.githubusercontent.com/alrra/browser-logos/main/src/safari-ios/safari-ios.svg" width="100" height="100"></a></th>
</tr>
</thead>
<tbody>
<tr>
<td>Firefox For Android</td>
<td>Safari On iOS</td>
</tr>
<tr>
<td>⛔️</td>
<td>⛔️</td>
</tr>
</tbody>
</table>
<p dir="auto">If you want to target a specific browser, just pass the <code>--browser</code> flag to the <code>dev</code>/<code>start</code> command (based on the list available above), like <code>npx extension dev path/to/extension --browser=edge</code>.</p>
<blockquote>
<p dir="auto">Hint
Pass --browser="all" to load all available browsers at once.</p>
</blockquote>
<div dir="auto" data-snippet-clipboard-copy-content="extension dev --browser=all"><pre>extension dev --browser=all</pre></div>
<a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/4672033/316628309-01a90694-4705-416e-898c-20bf845984e7.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTQ0OTMxMDQsIm5iZiI6MTcxNDQ5MjgwNCwicGF0aCI6Ii80NjcyMDMzLzMxNjYyODMwOS0wMWE5MDY5NC00NzA1LTQxNmUtODk4Yy0yMGJmODQ1OTg0ZTcucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQzMCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MzBUMTYwMDA0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9N2I5ZTc2MzNjNjBjNjAxYjI2YWE2ZmQzMmJlMjJmZjI0NDAzMjVhMDgzNmY4MTI5ZTZmOGFlODdmMTYwOGUwYiZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.hiHIoTqzm6V4B_yaNsAfijBdIpgRJ_IellzO2jqHjHI"><img width="1440" alt="Screenshot 2024-03-25 at 13 06 15" src="https://private-user-images.githubusercontent.com/4672033/316628309-01a90694-4705-416e-898c-20bf845984e7.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTQ0OTMxMDQsIm5iZiI6MTcxNDQ5MjgwNCwicGF0aCI6Ii80NjcyMDMzLzMxNjYyODMwOS0wMWE5MDY5NC00NzA1LTQxNmUtODk4Yy0yMGJmODQ1OTg0ZTcucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDQzMCUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDA0MzBUMTYwMDA0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9N2I5ZTc2MzNjNjBjNjAxYjI2YWE2ZmQzMmJlMjJmZjI0NDAzMjVhMDgzNmY4MTI5ZTZmOGFlODdmMTYwOGUwYiZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.hiHIoTqzm6V4B_yaNsAfijBdIpgRJ_IellzO2jqHjHI"></a>
<p dir="auto"><h2 tabindex="-1" dir="auto">License</h2><a id="user-content-license" aria-label="Permalink: License" href="#license"></a></p>
<p dir="auto">MIT (c) Cezar Augusto.</p>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Tesla conducting more layoffs, including entire Supercharger team (147 pts)]]></title>
            <link>https://electrek.co/2024/04/29/tesla-conducting-more-layoffs-including-entire-supercharger-team/</link>
            <guid>40209382</guid>
            <pubDate>Tue, 30 Apr 2024 10:33:15 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://electrek.co/2024/04/29/tesla-conducting-more-layoffs-including-entire-supercharger-team/">https://electrek.co/2024/04/29/tesla-conducting-more-layoffs-including-entire-supercharger-team/</a>, See on <a href="https://news.ycombinator.com/item?id=40209382">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
					
<figure>
	<img width="1600" height="721" src="https://electrek.co/wp-content/uploads/sites/3/2023/04/Tesla-Supercharger-hero-5.jpg?quality=82&amp;strip=all&amp;w=1600" alt="Tesla Supercharger hero 5" srcset="https://i0.wp.com/electrek.co/wp-content/uploads/sites/3/2023/04/Tesla-Supercharger-hero-5.jpg?w=320&amp;quality=82&amp;strip=all&amp;ssl=1 320w, https://i0.wp.com/electrek.co/wp-content/uploads/sites/3/2023/04/Tesla-Supercharger-hero-5.jpg?w=640&amp;quality=82&amp;strip=all&amp;ssl=1 640w, https://i0.wp.com/electrek.co/wp-content/uploads/sites/3/2023/04/Tesla-Supercharger-hero-5.jpg?w=1024&amp;quality=82&amp;strip=all&amp;ssl=1 1024w, https://i0.wp.com/electrek.co/wp-content/uploads/sites/3/2023/04/Tesla-Supercharger-hero-5.jpg?w=1500&amp;quality=82&amp;strip=all&amp;ssl=1 1500w" decoding="async" fetchpriority="high"></figure>

<p>Just after laying off “more than 10%” of its global workforce, Tesla is laying off even more employees –&nbsp;including senior executives and long-time veterans of the company, most notably the entire Supercharging team and the executive responsible for negotiating NACS adoption across the industry.</p>



<p>Tesla started the week before last with news of a <a href="https://electrek.co/2024/04/15/tesla-lays-off-more-than-10-of-its-global-workforce/">huge round of layoffs</a>.</p>



<p>The layoffs were quite broad across the company. Tesla <a href="https://news.yahoo.com/autos/tesla-tells-cybertruck-employees-shifts-230912810.html">shortened production shifts at Gigafactory Texas</a> and <a href="https://electrek.co/2024/04/15/tesla-heads-rolling-critical-projects-gigafactory-texas/">cleared out several teams associated with critical projects there</a>.</p>



<p>One of those heads was <a href="https://electrek.co/2024/04/15/tesla-top-engineering-executive-drew-baglino-leaves-leadership-loss/">Drew Baglino, former VP of Powertrain and Energy Engineering</a>, who had been with the company for 18 years and led the 4680 cell project. While his resignation is being publicly portrayed as voluntary, it is speculated that disappointment with progress on the 4680 project had something to do with it.</p>



<p>Tesla also lost key executive <a href="https://electrek.co/2024/04/15/teslas-head-policy-business-dev-leaves/">Rohan Patel</a>, its head of policy and business development, during these layoffs.</p>



<p>And as we learned last week, the company also <a href="https://electrek.co/2024/04/22/tesla-fired-its-entire-new-ad-team-in-recent-layoffs/">fired its entire new ad team</a>.</p>



<p>But <a href="https://electrek.co/2024/04/14/tesla-rumor-massive-round-layoffs/">when we originally heard about Tesla’s upcoming layoffs</a>, the rumors we heard suggested that the numbers could involve up to 20% of the company’s workforce. We had <a href="https://electrek.co/2024/03/22/tesla-tsla-stock-drops-report-reducing-ev-output-giga-shanghai/">seen</a> <a href="https://electrek.co/2024/02/07/tesla-appears-preparing-round-of-layoffs/">other</a> <a href="https://electrek.co/2023/12/20/tesla-removes-stock-based-compensation-this-year-report/">signals</a> that layoffs might be coming, but the specific tip came from an anonymous source within Tesla who was correct about the layoff’s timing, though not correct about its scale.</p>



<p>Now, more layoffs have been finalized through an email from CEO Elon Musk to executives, <a href="https://www.theinformation.com/articles/musk-plans-more-layoffs-as-two-senior-tesla-executives-depart?rc=x5svxc">first reported by The Information</a>, stating that 6-year veteran Rebecca Tinucci, Tesla’s Senior Director of EV charging, would be leaving the company on Tuesday, along with nearly all of her 500-person charging team (“a few” employees will be reassigned to other teams, according to The Information).</p>



<p>Tinucci was responsible for Tesla’s EV charging business, including Supercharging, which means that the cutting of the Supercharger team may reflect a change in direction for Tesla. Tesla has been very successful at getting manufacturers to adopt its NACS plug –&nbsp;an effort led by Tinucci, which <a href="https://time.com/collection/time100-climate/6333178/rebecca-tinucci/">got her onto the TIME 100 Climate list</a> and <a href="https://www.motortrend.com/news/2024-motortrend-power-list/">#2 on Motor Trend’s auto industry power list </a>– leading many to suggest that it will be able to run a profitable energy delivery business for a long time to come (here’s <a href="https://youtu.be/Hl1zEzVUV7w?t=5740">her presentation from Investor Day 2023</a>).</p>



<p>The email states that Tesla will continue to build out some new Superchargers, and will finish those under construction. But relieving the team of its duty may signal a reduction in buildout of the system – at a time when, if anything, <a href="https://electrek.co/2023/01/09/heres-how-many-ev-chargers-the-us-has-and-how-many-it-needs/">faster charging station deployment is needed</a>.</p>



<p>Another executive layoff is 10-year veteran Daniel Ho, Director of Vehicle Programs and New Product Initiatives, who was program manager for the Model S, 3 and Y and had previously served 12 years at Ford in product roles.</p>



<p>In recent quarters, Tesla has guided for a “pause” inbetween growth phases, expecting that sales growth would be more modest until the release of next-gen vehicles like the&nbsp;cheaper “Model 2” and <a href="https://electrek.co/2024/04/05/tesla-robotaxi-unveiling-august-8/">robotaxi</a> products. There has been some <a href="https://electrek.co/2024/04/05/elon-musk-shuts-down-report-tesla-scrapping-25000-model-2-electric-car/">back</a>–<a href="https://electrek.co/2024/04/05/elon-musk-shuts-down-report-tesla-scrapping-25000-model-2-electric-car/">and</a>–<a href="https://electrek.co/2024/04/23/tesla-announces-change-of-plans-to-build-cheaper-electric-cars/">forth</a> over what form those products would take –&nbsp;but laying off the head of New Product Initiatives reflects potential problems within that team as well.</p>



<p>Further, most of former executive Rohan Patel’s public policy team will be eliminated –&nbsp;at a time when many public policy challenges around DC charging, home charging, emissions standards, climate change, and political hostility to superior EV technology are still looming.</p>



<p>Musk said, in his typical bluster, that he wants Tesla to be “absolutely hard core” about headcount reduction, saying that executives whose subordinates “don’t obviously pass the excellent, necessary and trustworthy test” would find themselves relieved of duty as well&nbsp;– suggesting that he wants those executives to fire more employees or be fired themselves.</p>



<p>All of this news comes at a critical time for Tesla, following a&nbsp;<a href="https://electrek.co/2024/04/23/tesla-tsla-q1-2024-results/">quarterly earnings miss</a>&nbsp;in which Tesla significantly missed delivery and earnings estimates, and had a rare year-over-year reduction in sales</p>



<p>Tesla’s layoffs come at a time when many other companies in the tech industry are laying off staff, in an apparent game of follow-the-leader while&nbsp;<a href="https://www.reuters.com/markets/us/us-quarterly-earnings-feature-big-growth-tech-related-companies-2024-04-11/" target="_blank" rel="noreferrer noopener">industry profits are still high</a>.</p>



<h2 id="h-electrek-s-take">Electrek’s Take</h2>



<p>Firstly – it makes absolutely no sense to lay off the Supercharger team. Supercharging is an incredible opportunity for Tesla, especially now that everyone else has adopted NACS.</p>



<p>Tesla has a fairly simple business case from here on out to become the leading “gas station of the future.” With its experience and lead on Superchargers, its more reliable and better-designed stations, and its existing business footprint with so many stations installed around the globe, the company has a natural lead. This business case is even stronger now that the entire industry is behind NACS.</p>



<p>To lay off that whole team just when the company has earned such a big win, when billions in public money is available for buildout (which would not have been available without industry NACS adoption, which was, again, spearheaded by Tinucci’s negotiations), and when there is a lead to be maintained, is absolutely crazy. This move, alone, would erode any confidence I had left in Tesla’s CEO – if I still had any.</p>




	<p>On layoffs in general, we noted in <a href="https://electrek.co/2024/04/15/tesla-lays-off-more-than-10-of-its-global-workforce/">our coverage of Tesla’s layoffs</a> that the worst part about situations like this is that they greatly affect morale. We imagine morale can’t be great within Tesla right now after huge layoffs, but there can at least be a sense of relief that they’re over after a large round of layoffs closes.</p>



<p>But if Tesla is still doing layoffs, that sense of relief is gone, and employees will still be wondering whether they might show up to work without a job, as we heard happened to many employees on the first day of layoffs.</p>



<p>And while the last layoffs were distasteful enough, continued layoffs have even worse optics, given Tesla’s move to <a href="https://electrek.co/2024/04/17/tesla-asks-shareholders-move-texas-and-re-pass-elon-musk-compensation-plan/">ask shareholders for a $55 billion payout for its CEO</a> just days after firing 14,000 people. That $55 billion could pay for <em>40 years</em> worth of six-figure salaries for those employees. Quite a large payday for a <a href="https://electrek.co/2024/04/22/elon-musk-pigeon-ceo-former-tesla-manager/">part-time CEO</a>, made worse by the potential loss of livelihood for more employees who might still be on the chopping block.</p>



<p>Speculatively, there may even be more layoffs coming. A source who was correct about coming layoffs but not exactly correct about their scale or timing told us that potentially another 5% of staff could be laid off, including executives and long-time employees dating back to the Roadster days. These layoffs seem close to that rumor (though, again, on a smaller scale), but it’s possible that there may be more coming. Watch this space for news.</p>
	<p>
		<a target="_blank" rel="nofollow" href="https://news.google.com/publications/CAAqBwgKMKqD-Qow6c_gAg?hl=en-US&amp;gl=US&amp;ceid=US:en">
			<em>Add Electrek to your Google News feed.</em>&nbsp;
					</a>
	</p>
	<div><p><em>FTC: We use income earning auto affiliate links.</em> <a href="https://electrek.co/about/#affiliate">More.</a></p><p><a href="https://bit.ly/3xwKpRV"><img src="https://electrek.co/wp-content/uploads/sites/3/2024/04/Elektrek-banner-ad.png" alt="" width="750" height="150"></a></p></div>				</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Nintendo(1) (109 pts)]]></title>
            <link>http://man.9front.org/1/nintendo</link>
            <guid>40207472</guid>
            <pubDate>Tue, 30 Apr 2024 05:17:05 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="http://man.9front.org/1/nintendo">http://man.9front.org/1/nintendo</a>, See on <a href="https://news.ycombinator.com/item?id=40207472">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>


<pre>
     <a href="http://man.9front.org/1/NINTENDO">NINTENDO(1)</a>                                           <a href="http://man.9front.org/1/NINTENDO">NINTENDO(1)</a>

     NAME
          gb, gba, nes, snes - emulators

     SYNOPSIS
          games/gb [ -acd ] [ -C ... ] [ -x scale ] [ -li addr ]
          romfile
          games/gba [ -a ] [ -b biosfile ] [ -s savetype ] [ -g
          gpiotype ] [ -x scale ] romfile
          games/nes [ -aos ] [ -x scale ] romfile
          games/snes [ -ahms ] [ -x scale ] romfile

     DESCRIPTION
          Gb, gba, nes and snes are emulators for the Nintendo Game
          Boy and Game Boy Color (GB and GBC), Nintendo Game Boy
          Advance (GBA), Nintendo Entertainment System (NES), and
          Super Nintendo Entertainment System (SNES).  They execute
          the romfile given as an argument.  The z, x, a, s, q, w,
          return and shift keys correspond to B, A, Y, X, L1, L2,
          Start and Select, respectively.  Other keys:

          F1   Pause the emulator. If already paused it will step one
               video frame.

          F5   Save the current state in gb.save / gba.save / nes.save
               / snes.save.

          F6   Load the current state from gb.save / gba.save /
               nes.save / snes.save.

          F12  Toggle the emulator's speedometer.  It shows in the
               upper left, off-viewport corner, the ratio between the
               expected and observed time it took to draw 60 frames.

          t    Toggle tracing of the emulator.

          `    It uncaps the 60fps frame rate and lets emulation go as
               fast as possible.

          Esc  Pause the emulator.

          Del  Exit the emulator.

          Command line options:

          -a   Enable audio output.

          -x   Scale the screen to a given factor regardless of the
               window's size.

          gb options:

     <a href="http://man.9front.org/1/NINTENDO">NINTENDO(1)</a>                                           <a href="http://man.9front.org/1/NINTENDO">NINTENDO(1)</a>

          -c   Run GBC roms in GBC mode and DMG (GB) roms in GBC's DMG
               compatibility mode.

          -d   Run GB roms in DMG mode. GBC-only roms will not run in
               this mode; others will run only in black &amp; white.

          -Cnnnnnn,nnnnnn,nnnnnn,nnnnnn
               Select a color palette. Has no effect on roms in color
               mode. The syntax is of the form -C
               ffffff,aaaaaa,555555,000000 (using HTML style rrggbb
               notation).

          -liaddr
               These enable serial port connectivity emulation using
               the network. The -l flag configures the listening part-
               ner, whereas -i configures the dialing partner. The
               connection is established before the rom starts.  Com-
               munication is synchronous, emulation will stall while
               waiting for the other partner.

          gba options:

          -b   Location of the GBA BIOS file (required to operate the
               emulator). Default is /sys/games/lib/gbabios.bin.

          -s   Save format used by the original game. Valid formats
               are: eeprom4, eeprom64, sram256, flash512, flash1024.
               The number corresponds to the size, in kilobits, of the
               save file. By default, the emulator attempts to auto-
               matically detect the save format, but does not always
               succeed.  Some roms require a specific flash device id
               which may need to be set manually for them to work.
               Valid formats and corresponding ids are: flash512
               (SST), flash512mx (Macronix 64K), flash512pan (Pana-
               sonic), flash512atm (Atmel), flash1024 (Macronix 128K),
               flash1024san (Sanyo).

          -g   GPIO hardware used by the original game. The only valid
               type currently is rtc (real time clock).  By default,
               the emulator attempts to automatically detect the GPIO
               hardware using the game code found in the rom header.

          nes options:

          -o   Hide the top and bottom eight pixels (overscan area),
               like a real television would.

          -s   Save contents of battery backed SRAM (used by some
               games for savegames) as a file (gb and snes automati-
               cally detect if this is needed).

          snes options:

     <a href="http://man.9front.org/1/NINTENDO">NINTENDO(1)</a>                                           <a href="http://man.9front.org/1/NINTENDO">NINTENDO(1)</a>

          -h   Override HiROM/LoROM detection: -h sets LoROM, -hh sets
               HiROM.

          -m   Enable mouse emulation using system mouse. Mouse button
               1 (left button) engages the SNES left mouse button.
               Mouse button 3 (right button) engages the SNES right
               mouse button. Holding down mouse button 2 (middle but-
               ton) disengages the SNES mouse entirely so that the
               Plan 9 cursor offset can be adjusted to align with the
               SNES cursor.

          Each of these emulators support the use of joysticks via
          <a href="http://man.9front.org/1/joy">joy(1)</a>. Nes also supports selecting the joystick for either
          player 1 or 2.

     SOURCE
          /sys/src/games/gb
          /sys/src/games/gba
          /sys/src/games/nes
          /sys/src/games/snes

     BUGS
          You bet!
          SRAM saving on the NES only functions when the -s option is
          used.
          The SNES horizontal hires mode is supported only with -2
          scaling.
          All emulators assume a North American (i.e. NTSC) system.
          PAL games (and in some cases Japanese games) are not sup-
          ported.
          The serial link emulation has issues with desynchronization
          in timing dependent scenarios.

     HISTORY
          Gb first appeared in 9front (April, 2012).
          Gba first appeared in 9front (September, 2014).
          Nes first appeared in 9front (February, 2014).
          Snes first appeared in 9front (March, 2014).

</pre>
</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Apple must open iPadOS to sideloading within 6 months, EU says (363 pts)]]></title>
            <link>https://arstechnica.com/apple/2024/04/apple-must-open-ipados-to-sideloading-within-6-months-eu-says/</link>
            <guid>40207322</guid>
            <pubDate>Tue, 30 Apr 2024 04:44:51 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arstechnica.com/apple/2024/04/apple-must-open-ipados-to-sideloading-within-6-months-eu-says/">https://arstechnica.com/apple/2024/04/apple-must-open-ipados-to-sideloading-within-6-months-eu-says/</a>, See on <a href="https://news.ycombinator.com/item?id=40207322">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <h4>
      big regulations for a big iphone    —
</h4>
            
            <h2 itemprop="description">iPads must comply with the same DMA regulations as the iPhone.</h2>
                    </div><div itemprop="articleBody">
                                    
<figure>
  <img src="https://cdn.arstechnica.net/wp-content/uploads/2024/04/DSC00515-800x533.jpeg" alt="Apple must open iPadOS to sideloading within 6 months, EU says">
      <figcaption><p>Andrew Cunningham</p></figcaption>  </figure>

  




<!-- cache hit 492:single/related:76687c0f5dc9de270e9d2617cc213305 --><!-- empty -->
<p>Starting in March with the release of iOS 17.4, iPhones in the European Union have been subject to the EU's Digital Markets Act (DMA), a batch of regulations that (among other things) forced Apple to <a href="https://arstechnica.com/gadgets/2024/01/apple-announces-sweeping-eu-app-store-policy-changes-including-sideloading/">support alternate app stores</a>, app sideloading, and third-party browser engines in iOS for the first time. Today, EU regulators announced that they are also categorizing Apple's iPadOS as a "gatekeeper," meaning that the iPad will soon be subject to the same regulations as the iPhone.</p>

<p>The EU began investigating whether iPadOS would qualify as a gatekeeper in September 2023, the same day it decided that iOS, the Safari browser, and the App Store were all gatekeepers.</p>
<p>"Apple now has six months to ensure full compliance of iPadOS with the DMA obligations," <a href="https://ec.europa.eu/commission/presscorner/detail/en/IP_24_2363">reads</a> the EU's blog post about the change.</p>
<p>Apple technically split the iPad's operating system from the iPhone's in 2019 when it began calling its tablet operating system "iPadOS" instead of iOS. But practically speaking, little separates the two operating systems under the hood. Both iOS and iPadOS share the same software build numbers, they're updated in lockstep (<a href="https://arstechnica.com/gadgets/2022/08/facing-quality-and-pacing-issues-apple-reportedly-delays-ipados-16/#:~:text=Apple%20will%20delay%20the%20release,with%20knowledge%20of%20the%20matter.">with rare exceptions</a>), and most importantly for DMA compliance purposes, they pull software from the same locked-down App Store with the same Apple-imposed restrictions in place.</p>                                            
                                                        
<p>Apps distributed through alternate app stores or third-party websites will have to abide by many of Apple's rules and will still generally be limited to using Apple's public APIs. However, the ability to use alternate app stores and browser engines on the iPad's large screen (and the desktop-class M-series chips) could make the tablets better laptop replacements by allowing them to do more of the things that Mac users can do on their systems.</p>
<p>Though Apple has made multiple changes to iOS in the EU to comply with the DMA, EU regulators <a href="https://arstechnica.com/tech-policy/2024/03/apple-google-and-meta-are-failing-dma-compliance-eu-suspects/">are already investigating Apple</a> (as well as Google and Meta) for "non-compliance." Depending on the results of that investigation, the EU may require Apple to make more changes to the way it allows third-party apps to be installed in iOS and to the way that third-party developers are allowed to advertise non-Apple app store and payment options. Any changes that Apple makes to iOS to comply with the investigation's findings will presumably trickle down to the iPad as well.</p>
<p>Of course, none of this directly affects US-based iPhone or iPad users, whose devices remain restricted to Apple's app stores and the WebKit browsing engine. That said, we have seen some recent App Store rule changes that have arguably trickled down from Apple's attempts to comply with the DMA, most notably <a href="https://arstechnica.com/gadgets/2024/04/apple-now-allows-retro-game-emulators-on-its-app-store-but-with-big-caveats/">policy changes</a> that have allowed (<a href="https://arstechnica.com/gaming/2024/04/why-a-gamecube-wii-emulator-may-not-be-possible-on-the-ios-app-store/">some, not all</a>) retro game console emulators <a href="https://arstechnica.com/gaming/2024/04/a-touchscreen-of-nostalgia-delta-brings-classic-nintendo-consoles-to-ios/">into the App Store for the first time</a>.</p>

                                                </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Deep Dive into XZ Utils Backdoor – Columbia Engineering Guest Lecture [video] (206 pts)]]></title>
            <link>https://www.youtube.com/watch?v=Q6ovtLdSbEA</link>
            <guid>40207261</guid>
            <pubDate>Tue, 30 Apr 2024 04:31:11 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.youtube.com/watch?v=Q6ovtLdSbEA">https://www.youtube.com/watch?v=Q6ovtLdSbEA</a>, See on <a href="https://news.ycombinator.com/item?id=40207261">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Hitting every branch on the way down (156 pts)]]></title>
            <link>http://rachelbythebay.com/w/2024/04/29/pb/</link>
            <guid>40207147</guid>
            <pubDate>Tue, 30 Apr 2024 04:06:49 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="http://rachelbythebay.com/w/2024/04/29/pb/">http://rachelbythebay.com/w/2024/04/29/pb/</a>, See on <a href="https://news.ycombinator.com/item?id=40207147">Hacker News</a></p>
Couldn't get http://rachelbythebay.com/w/2024/04/29/pb/: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[Only9Fans (120 pts)]]></title>
            <link>https://only9fans.com</link>
            <guid>40207142</guid>
            <pubDate>Tue, 30 Apr 2024 04:05:51 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://only9fans.com">https://only9fans.com</a>, See on <a href="https://news.ycombinator.com/item?id=40207142">Hacker News</a></p>
Couldn't get https://only9fans.com: Error: Client network socket disconnected before secure TLS connection was established]]></description>
        </item>
        <item>
            <title><![CDATA[A few facts about POSIX (101 pts)]]></title>
            <link>https://vorakl.com/articles/posix/</link>
            <guid>40206825</guid>
            <pubDate>Tue, 30 Apr 2024 03:05:38 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://vorakl.com/articles/posix/">https://vorakl.com/articles/posix/</a>, See on <a href="https://news.ycombinator.com/item?id=40206825">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>   <h3>A journey to portable software</h3> </div><div><p><a href="#summary">TLDR: quick summary of the article</a></p>  <div id="how-did-we-get-there"> <h2>How did we get there?</h2>  <p>In the early days of computing, programmers could only dream of portability. All programs were written directly in machine code for each computer architecture they were intended to run on. <a href="https://en.wikipedia.org/wiki/Assembly_language">Assembly languages</a> with mnemonic names for each CPU instruction and other goodies made programmers' lives a little easier, but programs were still architecture-specific. Operating systems (OS) had not yet been invented, so a program not only controlled the entire computer system, it also had to initialize and manage the peripherals. In fact, such bare-metal programs implemented drivers for every device they used. And every time a program needed to run on hardware with a different architecture, it was literally rewritten to accommodate a difference in the <a href="https://en.wikipedia.org/wiki/Instruction_set_architecture">CPU instruction</a> set, memory layout, and so on.</p>  <p>This is exactly what happened with Unix, which was originally written in assembly language by Ken Thompson over 50 years ago. The first versions of Unix were written for the <a href="https://en.wikipedia.org/wiki/PDP-7">PDP-7</a> platform, and porting it to the <a href="https://en.wikipedia.org/wiki/PDP-11">PDP-11</a> meant rewriting the code. When Dennis Ritchie created the C programming language, and <a href="https://www.invent.org/sites/default/files/2019-02/Inductee-UNIX_Thompson_Ritchie.jpg">together they</a> rewrote most of the Unix code in it, software portability suddenly became possible. There are two main reasons for this. First, the code written in a high-level programming language is platform-agnostic, because compilers translate it into the assembly language for a target architecture. This is even more important for target systems based on <a href="https://en.wikipedia.org/wiki/Reduced_instruction_set_computer">RISC CPUs</a>, as they require writing significantly more assembly instructions than <a href="https://en.wikipedia.org/wiki/Complex_instruction_set_computer">CISC CPU</a> architecture. Even porting Unix to another platform was mostly a matter of adapting the architecture-dependent parts of the code. On the other hand, the operating system itself abstracts away all hardware specifics from a user program. Programmers don't have to implement multitasking, memory management, or drivers for different devices as they used to, because it's all part of the OS kernel and runs in the kernel address space. In contrast, user programs run in the user address space and access all of the features provided by the OS through the the system call interface. In <a href="https://en.wikipedia.org/wiki/Real-time_operating_system">Real-time OSes</a>, such as <a href="https://www.zephyrproject.org/">Zephyr OS</a>, it's <a href="https://www.youtube.com/watch?v=4_uL43V79xw">slightly different</a>, but the idea of memory isolation and protection for user programs is preserved. This leads to two conclusions:</p> <ul> <li><em>User programs become portable when they are written in a high-level programming language for a particular OS</em>. Once both requirements are met, programs are compiled into instructions for a target CPU and linked with system functions provided by the <a href="https://en.wikipedia.org/wiki/C_standard_library">libc</a> and OS-specific libraries to access the underlying hardware.</li> <li>Portability is intended to be achieved <strong>at the source code level</strong>.</li> </ul>  </div> <div id="the-birth-of-posix"> <h2>The birth of POSIX</h2>  <p>This could have been the end of the story, but something fateful happened. Due to a legal restriction, AT&amp;T was not allowed to sell Unix, so there was no money to be made from the newly born OS, which became increasingly popular after it was introduced to the world. However, it turned out to be possible to distribute Unix to any interested organization for the cost of the media. That's how Unix got to Berkeley in 1974 and many other places, leading to the creation of a number of OS derivatives. Some of the best known and still popular today are OSes based on the software distributed by Berkley (BSD), e.g. FreeBSD and OpenBSD. Despite sharing the same ancestors and principles, each operating system followed its own unique path. Each of these operating systems had a unique interface (API) and implementation of kernel subsystems, syscalls, different system tools, etc. Even libc, which provides common functionality and wrappers on top of syscalls, used to be very OS-specific. All of these OSes were Unix-like, but at the same time, it wasn't possible to take the source code of a program written for one OS and recompile it on another.</p>  <p>Over 35 years ago, these problems with software portability led to the emergence of the first <a href="https://stackoverflow.com/a/31865755">POSIX standard</a> in 1988. The acronym <a href="https://opensource.com/article/19/7/what-posix-richard-stallman-explains">was coined by Richard Stallman</a>, who added "X" to the end of <em>Portable Operating System Interface</em>. It's meant to provide a <a href="https://www.techtarget.com/whatis/definition/POSIX-Portable-Operating-System-Interface">specification of the interface</a> that different Unix operating systems should have in common, including programming languages and tools. It's important to note that <strong>the interface is portable</strong>, and not the implementation.</p>  <p>This was the common ground that made it possible to compile the same source code of a user program on any OS without modification, if both sides strictly followed the same standard. And this is still true to some extent today, as most modern and widely used Unix-like systems, such as Linux, and <cite>*BSD</cite>, do not strictly and completely follow POSIX standard, but rather use it as a guide. In addition to POSIX, there is also the <a href="https://en.wikipedia.org/wiki/Single_UNIX_Specification">Single UNIX Specification</a> (SUS), which was consolidated with a few different POSIX standards in 2001. However, the latest SUS (SUSv4 2018) extends the latest POSIX standard (POSIX.1-2017), which is essentially its base specification, with the X/Open Curses specification. There are <a href="https://en.wikipedia.org/wiki/POSIX#POSIX-oriented_operating_systems">a number of operating systems, such as MacOS</a>, which are fully compliant with the POSIX and SUS standards, pass The Open Group conformance tests and can therefore be called <a href="https://www.opengroup.org/openbrand/register/">Unix operating systems</a>, not just Unix-like. Originally, POSIX was only created for Unix-like OSes, but over time it became so popular that its specification, in the form of the <a href="https://en.wikipedia.org/wiki/Operating_system_abstraction_layer">Operating System Abstraction Layer (OSAL)</a>, was partially implemented (some subset of the interface that applicable to the target system) in non-Unix OSes, such as <a href="https://en.wikipedia.org/wiki/Cygwin">Windows</a>, <a href="https://www.freertos.org/FreeRTOS-Plus/FreeRTOS_Plus_POSIX/index.html">FreeRTOS</a>, <a href="https://docs.zephyrproject.org/latest/services/portability/posix/index.html">Zephyr</a>, etc.</p>  </div> <div id="the-posix-spec"> <h2>The POSIX spec</h2>  <p>The very first standard was ratified by the IEEE in 1988 as IEEE Std 1003.1-1988, so it's called <em>POSIX.1-1988</em>. Since then, the standard has gone through several revisions, with different subsets of the specification being ratified under different names. For example, <em>POSIX.1-1990</em> (IEEE 1003.1-1990) defined <em>the system interface and computing environment</em>, <em>POSIX.2</em> (IEEE Std 1003.2-1992) defined <em>command language (shell) and tools</em>, etc. A very good and brief overview of the standard's revisions can be found in the <a href="https://man7.org/linux/man-pages/man7/standards.7.html">standards(7)</a> Linux man page. You may even come across references to some old revisions, such as POSIX.2, for example, when reading the <a href="https://git.savannah.gnu.org/cgit/bash.git/tree/jobs.c#n4269">Bash source code</a>. In 2001, POSIX.1, POSIX.2, and the Single UNIX Specification (SUS) were merged into a single document called <em>POSIX.1-2001</em>. Despite the somewhat misleading name, it does include the shell and tools specifications from POSIX.2. <strong>The latest version of the standard is POSIX.1-2017</strong>, also known as <a href="https://pubs.opengroup.org/onlinepubs/9699919799/nframe.html">IEEE Std 1003.1-2017</a>, which is almost identical to POSIX.1-2008.</p>  <p>The document of the standard basically describes a specification that spans over two environments (a build-time and a run-time) and is represented by a few volumes:</p> <ul> <li><a href="https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/toc.html">Base Definitions</a>: defines common to all volumes general terms and concepts, conformant requirements (symbolic constants, options, option groups), computing environment (locales, regexp, directory structure, tty, environment variables, etc), and C-language header files which need to be implemented by the compliant systems.</li> <li><a href="https://pubs.opengroup.org/onlinepubs/9699919799/idx/xsh.html">System Interfaces</a>: defines the C language standard (<a href="http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1256.pdf">ISO C99, ISO/IEC 9899:1999</a>), system service functions, and the extension of the C standard library (libc) in terms of header files and functions.</li> <li><a href="https://pubs.opengroup.org/onlinepubs/9699919799/idx/xcu.html">Shell &amp; Utilities</a>: defines a source code-level interface to the Shell Command Language (sh) and the system utilities (awk, sed, wc, cat, ...), including behavior, command line parameters, exit statuses, etc.</li> <li><a href="https://pubs.opengroup.org/onlinepubs/9699919799/idx/xrat.html">Rationale</a>: includes considerations for portability, subprofiling, option groups, and additional rationale that didn't fit any other volumes.</li> </ul>  <p>The current POSIX standard defines source code-level compatibility for <a href="https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap02.html#tag_02_04">only two programming languages</a>: <em>The C language (C99)</em> and <em>the shell command language</em>. However, some of the programs defined under "Utilities", such as <a href="https://pubs.opengroup.org/onlinepubs/9699919799/utilities/awk.html">awk</a>, also have their own language. Strictly speaking, the C standard library (libc) doesn't have to implement any additional functionality (functions and headers) that is not defined by the C standard (ISO C99 in this case), but most of them do. For example, the ISO C99 standard, defines 24 header files, including math functions (&lt;math.h&gt;), standard input/output (&lt;stdio.h&gt;), date and time (&lt;time.h&gt;), signal management (&lt;signal.h&gt;), string operations (&lt;string.h&gt;), and so on. However, the latest POSIX standard, defines 82 header files and, being fully compliant with ISO C99, extends it with with POSIX threads (&lt;pthreads.h&gt;), semaphores (&lt;semaphore.h&gt;), and many others. Modern libc implementations, e.g. <a href="https://musl.libc.org/about.html">musl libc</a>, are also very OS-specific, providing library functions to access operating system services (wrappers for system calls). Sometimes, the overlap with the POSIX specifications leads to difficulties in implementing the POSIX abstraction layer in the non-Unix operating systems, which also use some portable standalone libc implementations with their own POSIX support, e.g. using <a href="https://keithp.com/picolibc/">picolibc</a> together with <a href="https://docs.zephyrproject.org/latest/services/portability/posix/implementation/index.html">Zephyr's POSIX library</a>.</p>  </div> <div id="options-and-option-groups"> <h2>Options and Option Groups</h2>  <p>While POSIX standardizes the system interface (C language headers and functions), shell, and utilities, it is not necessary to follow the entire specification to be <a href="https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap02.html#tag_02_01_03">POSIX conformant</a>. Some features in "POSIX System Interfaces", "POSIX Shell and Utilities", and "XSI System Interfaces" are optional. The <a href="https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/unistd.h.html">&lt;unistd.h&gt; header file</a> contains definitions of the <em>standard symbolic constants</em> for <a href="https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap02.html#tag_02_01_06">Options</a>, which reflect a particular feature, and <a href="https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap02.html#tag_02_01_05">Option Groups</a> which define a set of related functions or options. Names of option groups, unlike options, typically do not begin with the underscore symbol. POSIX Conformant systems are intended to implement and support a set of mandatory options with one or more additional options. The symbolic constants for mandatory options should have specific values, e.g. <em>200809L</em>, while other options may be</p> <ul> <li><em>undefined or contain -1</em>, which means that the option is not supported for compilation</li> <li><em>0</em>, which means the option might or might not be supported at runtime</li> <li><em>some other value</em>, which means the option is always supported</li> </ul>  <p>These symbolic constants are used by user applications to check the availability of a particular feature. At the C source code-level, constansts may be checked either at build time (in #if preprocessing directives) or at runtime, by calling one of the <em>sysconf()</em>, <em>pathconf()</em>, <em>fpathconf()</em>, or <em>confstr(3)</em> functions. In the shell source code, the <a href="https://pubs.opengroup.org/onlinepubs/9699919799/utilities/getconf.html">getconf</a> utility should be used for runtime checks. A very good collection of the POSIX options, their corresponding names for use as the sysconf(3) parameters, and the list of header files and functions that these options represent can be found in the <a href="https://man7.org/linux/man-pages/man7/posixoptions.7.html">posixoptions(7)</a> Linux man page.</p>  <p><a href="https://pubs.opengroup.org/onlinepubs/9699919799/xrat/V4_subprofiles.html">Subprofiling Option Groups</a> are intended for use within the systems where implementing a full POSIX specification is not reasonable. For example, real-time embedded systems are typically resource-constrained, do not have shells, user interfaces, and OS kernels are often designed to run as a single process (with multiple threads). Such systems may only implement subsets of related functions defined by option groups.</p>  </div> <div id="summary"> <h2>Summary</h2> <ul> <li>The development of high-level programming languages like C, along with operating systems that abstract away hardware details, enabled software portability at the source code level.</li> <li>The POSIX standard emerged in 1988 to provide a portable interface specification for Unix-like operating systems, allowing programs to be compiled across different platforms.</li> <li>The POSIX standard has evolved over time, with the latest version being POSIX.1-2017 (IEEE Std 1003.1-2017).</li> <li>Modern Unix-like systems like Linux and <cite>*BSD</cite> do not strictly follow the POSIX standard, but rather use it as a guide.</li> <li>POSIX standardizes a C API (header files and functions), the shell, and utilities.</li> <li>POSIX-compliant systems are expected to implement mandatory options and may support additional optional features.</li> <li>Applications can check for POSIX feature availability at both compile-time and runtime using symbolic constants and system functions.</li> <li>For resource-constrained systems like real-time embedded platforms, POSIX allows for the implementation of subsets of the full specification through "subprofile" option groups.</li> </ul>  <!-- Links --> </div> </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Why SQLite Uses Bytecode (703 pts)]]></title>
            <link>https://sqlite.org/draft/whybytecode.html</link>
            <guid>40206752</guid>
            <pubDate>Tue, 30 Apr 2024 02:48:43 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://sqlite.org/draft/whybytecode.html">https://sqlite.org/draft/whybytecode.html</a>, See on <a href="https://news.ycombinator.com/item?id=40206752">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>






<h2 id="introduction"><span>1. </span>Introduction</h2>

<p>Every SQL database engine works in roughly the same way:  It first 
translates the input SQL text into a "prepared statement".  Then it "executes"
the prepared statement to generate a result.

</p><p>A prepared statement is an object that represents the steps needed
accomplish the input SQL.  Or, to think of it in another way,
the prepared statement is the SQL statement translated into a form that is
more easily understood by the computer.

</p><p>In SQLite, a prepared statement is an instance of the
<a href="https://sqlite.org/draft/c3ref/stmt.html">sqlite3_stmt object</a>.  In other systems, the prepared
statement is usually an internal data structure that is not directly visible to
the application programmer.  Developers of other SQL database engines
do not necessary call these objects "prepared statements".
But such objects exists, whatever they might be called.
This paper will use the term "prepared statement".

</p><p>There are countless ways of implementing a prepared statement.  This
paper will look at the two most common methods:

</p><ol>
<li><p>
<b>Bytecode</b> →  The input SQL is translated into a virtual machine language
that is then run by a virtual machine interpreter.  This is the technique
used by SQLite.

</p></li><li><p>
<b>Tree-Of-Objects</b> → The input SQL is translated in a tree of objects
that represent the processing to be done.  The SQL is executed by walking this
tree.  This is the technique used by MySQL and PostgreSQL.
</p></li></ol>

<p>
There are advantages and disadvantages to each of these representations of
a prepared statement.  The purpose of this paper is to articulate some of those
advantages and disadvantages.

</p><h2 id="how_to_provide_feedback"><span>1.1. </span>How To Provide Feedback</h2>

<p>
This document is written from the perspective of the original author of SQLite.
If you disagree with any of the opinions offered in this document, you are
welcomed to offer corrections and/or contrary views on the
<a href="https://sqlite.org/forum">SQLite Forum</a>.  Or you can email the author
directly.

</p><h2 id="definition_of_bytecode_"><span>1.2. </span>Definition Of "Bytecode"</h2>

<p>The <a href="https://sqlite.org/draft/opcode.html">bytecode generated by SQLite</a> might be a little different from what
many readers think of as bytecode.  The bytecode used (for example) by the
<a href="https://en.wikipedia.org/wiki/Java_virtual_machine">Java virtual machine</a> or
by <a href="https://en.wikipedia.org/wiki/WebAssembly">WebAssembly</a> consists almost
entirely of low-level operations, similar to what physical CPUs implement:
basic math operators, comparisons, conditional jumps, and
instructions to move content between different memory locations.  SQLite bytecode
has these kinds of low-level instructions, too.  But SQLite bytecode also contains
some high-level operations that are specific to the needs of a database engine.
Here are just a few examples:

</p><ul>
<li><p><b>OP_Column</b> → Extract the value from the N-th column of the
database row that a particular cursor is currently pointing at.
</p></li><li><p><b>OP_CreateBtree</b> → Allocate space for a new B-Tree in the
database file.
</p></li><li><p><b>OP_ParseSchema</b> → Reread and reparse all or part of the the 
<a href="https://sqlite.org/draft/schematab.html">sqlite_schema table</a> and refresh internal symbol tables accordingly.
</p></li><li><p><b>OP_SeekGE</b> → Move a cursor on a particular B-Tree to the first
entry that is greater than or equal to a given key.
</p></li><li><p><b>OP_Next</b> → Advance a cursor on a particular B-Tree to the next
entry in the B-Tree and jump, or fall through if there are no more entries in that
B-Tree.
</p></li></ul>

<p>In other words, the "bytecode" used by SQLite is not so much a set of CPU
instructions as it is a list of database primitives that are to be run
in a particular order.

</p><h2 id="definition_of_abstract_syntax_tree_or_ast_"><span>1.3. </span>Definition Of "Abstract Syntax Tree" or "AST"</h2>

<p>
An "<a href="https://en.wikipedia.org/wiki/Abstract_syntax_tree">Abstract Syntax Tree</a>" or AST
is a data structure that describes a program or statement in some kind of formal
language.  In our context, the formal language is SQL.  An AST is typically
implemented as a tree of objects where each object represents one small part of
the overall SQL statement.  ASTs emerge naturally from parsers for formal languages.
The usual technique is to use an 
<a href="https://en.wikipedia.org/wiki/LALR_parser">LALR(1) parser</a>.
With such a parser, each terminal
symbol holds metadata that will become a leaf of the AST, and each non-terminal 
symbol holds metadata that will become a sub-branch of the overall AST.
As rules of the grammar are "reduced" by the parser, new nodes of the AST are
allocated and connected to subnodes.
After the parse completes, the start-symbol of the grammar is left holding the
root of the AST.

</p><p>An AST is a tree of objects.  But an AST is not a suitable form for
a prepared statement.  After being generated, an AST first needs to be
transformed in various ways before it can executed.  Symbols need to be
resolved.  Semantic rules need to be checked.  Optimizations need to be
applied that transform input SQL statement into different forms that
execute more quickly.  Finally, the AST needs to be translated into an
alternative representation that is more amenable to execution.

</p><p>Some people refer to the tree of objects that is used as the
executable form for MySQL and PostgreSQL as an AST.  The is probably a
misuse of the term "AST", because by the time the tree of objects is
ready to be executed, it has been changed so much that it has little
resemblance to the original SQL text.  The confusion arises in part because
both the final prepared statement object and the original AST are both
trees of objects.  The usual technique is for the original AST that comes
directly out of the parser to be transformed little by little, in multiple
passes, until at the end it is fully converted into an tree of objects
that is no longer strictly an AST but that can be evaluated to
generate a result.  There is not necessarily a clear point during this
process when the tree-of-objects ceases to be an AST and becomes a
prepared statement instead.  And because there is no clear boundary between an
AST and a prepared statement, people often refer to a prepared statement
that is represented as a tree of objects as an "AST", even though that
description is not precise.

</p><h2 id="dataflow_programming"><span>1.4. </span>Dataflow Programming</h2>

<p><a href="https://en.wikipedia.org/wiki/Dataflow_programming">Dataflow programming</a>
is a style of programming in which individual nodes specialize in doing
one small part of the overall computation.  Each node receives inputs from 
other nodes and sends its output to other nodes.  Thus the nodes form a
directed graph that carry inputs into outputs.

</p><p>
A "dataflow program" is perhaps a better description than "AST" for
the tree of objects that an SQL database engine uses as a prepared statement.

</p><h2 id="advantages_to_compiling_into_bytecode"><span>2. </span>Advantages To Compiling Into Bytecode</h2>

<p>SQLite compiles to bytecode, and the SQLite developers are very happy
with this approach.  Here is why:

</p><h2 id="bytecode_is_easier_to_understand"><span>2.1. </span>Bytecode Is Easier To Understand</h2>

<p>A flat list of opcodes can be easily printed to see exactly
how an SQL statement is being implemented.  This is what happens in SQLite
when you preface an SQL statement with the "EXPLAIN" keyword:  Instead of
actually running the SQL, the result is a listing of the bytecode
that would have been used to implement that SQL.

</p><p>Bytecode lends itself to this because a bytecode program is easily
represented as a table.  In SQLite bytecode, each instruction
has one opcode and five operands.  Thus a prepared statement can be
rendered as if it were a query against a six-column table.

</p><p>A tree-of-objects representation is more difficult to publish in
a human-readable form.  The objects that comprise the tree tend to
all be very different, and thus it is tricky to come up with a 
consistent and simple table representation with which to display
the objects.  Any any such table representation that you do come up
with would almost certainly have more than six column, probably many more.
The problem of rendering a tree-of-objects as a table is sufficiently
difficult that nobody does it, as far as I know.  Hence, no
tree-of-objects database engine provides the level
of detail in their "EXPLAIN" output that SQLite provides.

</p><h2 id="bytecode_is_easier_to_debug"><span>2.2. </span>Bytecode Is Easier To Debug</h2>

<p>Bytecode represents a clear separation between front-end parsing and
analyze and back-end evaluation of an SQL statement.  When problems arise
(incorrect answers and/or poor performance), the developers can examine
the bytecode to quickly isolate the source of the trouble to either the
front-end analysis or the back-end data storage sections of the product.

</p><p>In debugging builds of SQLite, the <a href="https://sqlite.org/draft/pragma.html#pragma_vdbe_trace">PRAGMA vdbe_trace=ON;</a> command will
cause a trace of the bytecode execution to appear on the console.

</p><h2 id="bytecode_can_be_run_incrementally"><span>2.3. </span>Bytecode Can Be Run Incrementally</h2>

<p>
SQL statements written in bytecode can be evaluated incrementally.
For example, a statement can be run until it generates just its first
row of output.  The statement then pauses until it is stepped again.
It is not necessary to run the statement to completion before examining
the first row of output.

</p><p>
This is more difficult to achieve in a tree-of-objects design.  When
the prepared statement is a tree-of-objects, execution is normally
accomplished by walking the tree.  To pause the statement in the middle
of a computation means unwinding the stack back up to the caller, all
the while saving enough state to resume evaluation where it last left
off.  This is not impossible to do, but it is sufficiently difficult that
I have never seen it actually done.

</p><p>
Most SQL database engines do not really need to do incremental
execution of prepared statements because most SQL database engines
are client/server.  In a client/server engines, a single SQL statement is sent
to the server, then the complete reply comes back over the wire
all at once.  Thus each statement runs to completion in a single go.
But SQLite is not client/server.  SQLite is a library
that runs in the same address space and using the same stack as the
application.  Being able to easily and reliably perform incremental
execution of an SQL statement is important to SQLite.

</p><h2 id="bytecode_is_smaller"><span>2.4. </span>Bytecode Is Smaller</h2>

<p>
The bytecode generated by SQLite is usually smaller than the corresponding
AST coming out of the parser.  During initial processing of SQL text
(during the call to <a href="https://sqlite.org/draft/c3ref/prepare.html">sqlite3_prepare()</a> and similar) both the AST and the
bytecode exist in memory at the same time and so more memory is used then.
But that is a transient state.  The AST
is quickly discarded and its memory recycled, even before the call to
<a href="https://sqlite.org/draft/c3ref/prepare.html">sqlite3_prepare()</a> returns, so that the resulting <a href="https://sqlite.org/draft/c3ref/stmt.html">prepared statement</a> ends
up consuming less memory in its bytecode representation than it did as an AST.
This is important because calls to <a href="https://sqlite.org/draft/c3ref/prepare.html">sqlite3_prepare()</a> are transient, but
prepared statements are often cached for possible reuse and persist in memory
for a long time.

</p><h2 id="bytecode_is_faster"><span>2.5. </span>Bytecode Is Faster</h2>

<p>
I <i>believe</i> that a bytecode representation of a prepared statement
runs faster, because fewer decisions need to be made for each step of
the computation.  Emphasis on "believe" in the previous sentence
→ it is difficult to verify
this claim experimentally since nobody has ever put in the multiple years
of effort necessary to generate equivalent bytecode and tree-of-object
representations of a prepared statement to see which one really does run faster.
We do know that <a href="https://sqlite.org/draft/fasterthanfs.html">SQLite is very fast</a>, but we
do not have good side-by-side comparisons with other SQL databases since
the other databases spend a lot of time doing client/server message processing,
and it is difficult to untangle the message round-trip overhead from the
actual processing time.

</p><h2 id="advantages_of_compiling_into_a_tree_of_objects"><span>3. </span>Advantages Of Compiling Into A Tree Of Objects</h2>

<p>Even though the SQLite developers think that the bytecode approach is
best, at least for the use cases the SQLite tries to fill, the
tree-of-objects approach to processing SQL does have some advantages over 
bytecode. There are always tradeoffs.

</p><h2 id="query_planning_decisions_can_be_deferred_until_runtime"><span>3.1. </span>Query Planning Decisions Can Be Deferred Until Runtime</h2>

<p>
When a prepared statement is bytecode, once the bytecode has been generated,
the algorithm is fixed - it is "baked in" - and becomes difficult to modify
as new information about the shape of the information being retrieved
becomes available.  This is not the case with a tree-of-objects prepared
statement.  A tree-of-objects is easier to modify on-the-fly.  The query
plan is mutable and can be tweaked as it is running, based on the progress
of the query.  Thus a query can be dynamically self-tuning.

</p><h2 id="dataflow_programs_are_easy_to_parallelize"><span>3.2. </span>Dataflow Programs Are Easy To Parallelize</h2>

<p>In a dataflow program, each processing node can be assigned to a
different thread.  There needs to be some kind of threadsafe queuing
mechanism for transferring intermediate results from one node to the
next.  But no synchronization primitives are typically needed within
each node of the program.  Node schedule is trivial:  A node becomes
eligible to run when it has data available and there is space in its
output queue.

</p><p>This is an important consideration for database engines that are
designed to run large analytic queries 
(<a href="https://en.wikipedia.org/wiki/Online_analytical_processing">OLAP</a>)
on large multi-core servers.
The primary focus of SQLite is transaction processing 
(<a href="https://en.wikipedia.org/wiki/Online_transaction_processing">OLTP</a>) 
on the internet-of-things, so there is less need to
represent prepared statements as dataflow programs in SQLite.
</p><p><small><i>This page last modified on  <a href="https://sqlite.org/docsrc/honeypot" id="mtimelink" data-href="https://sqlite.org/docsrc/finfo/pages/whybytecode.in?m=7db1a97b66">2024-04-29 17:33:09</a> UTC </i></small></p>
<p><span size="6" color="red">*** DRAFT ***</span></p>
</div></div>]]></description>
        </item>
    </channel>
</rss>