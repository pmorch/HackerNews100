<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Wed, 09 Aug 2023 07:00:04 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[G9.js: Automatically Interactive Graphics (138 pts)]]></title>
            <link>http://omrelli.ug/g9/gallery/</link>
            <guid>37058674</guid>
            <pubDate>Wed, 09 Aug 2023 04:24:56 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="http://omrelli.ug/g9/gallery/">http://omrelli.ug/g9/gallery/</a>, See on <a href="https://news.ycombinator.com/item?id=37058674">Hacker News</a></p>
<div id="readability-page-1" class="page">

<a href="https://github.com/bijection/g9" id="github"><img src="http://omrelli.ug/g9/github.png" alt="Spoon me on GitHub"></a>


<div class="page">
    

    <p>Welcome to the g9 gallery! <b>Drag all the graphics!</b></p>
    <p>I've tried to organize stuff from basic to advanced, so you can scroll from the top to get an intuitive feel for g9. It's worth mentioning, of course, that intuitive feeling is no match for <a href="https://github.com/bijection/g9#docs">reading the docs</a>.</p>

    <p>Before you dive in, here's a brief explanation of how g9 works (scroll down to skip):</p>


    <h2>How It Works</h2>
    <p>
    g9.js exposes a single function, <a href="https://github.com/bijection/g9#g9initialdata-render-onrender-g9canvas"><span>g9(initialData, render[, onChange])</span></a>. This represents the following flow: 
    </p><ol>
    
    <li>
        You create some initial data as key-value pairs with numeric values. For example:
<pre><code>var initialData = {
    foo: 10
}</code></pre>
    <a href="https://github.com/bijection/g9#initialdata">initialData in the docs</a>
    </li>

    <li>
        This data and a drawing context are fed into a function that uses the data to decide what to draw.
<pre><code>function render(data, ctx){
    ctx.point(data.foo, 17)
}</code></pre>
    <a href="https://github.com/bijection/g9#renderdata-ctx-g9context">render in the docs</a>
    </li>
    
    <li>When someone interacts with the graphics, for example by trying to drag an element to a new position, g9 optimizes over the space of possible values for your data to find a set of values that comes closest to creating the change. If you tried to drag the circle to the left, g9 might come up with the new data <span>{foo: 8 }</span>.</li>
    
    <li>g9 rerenders the entire scene with the new data, so that everything is consistent. If you've provided one, g9 calls your <span>onChange</span> callback with the new data, so you can update other parts of your page.</li>
    
    </ol>
    
    <p>For a complete treatment of the g9 API, <a href="https://github.com/bijection/g9#docs">head to the Docs</a>.</p>



    <!-- <p>In order to avoid repetion, every example gets a special function <span class='literal'>_special_log</span> that shows its arguments in a floating box.</p> -->



</div>











<div class="page">
<h2>Basic</h2>
<p>A minimal example with only two points. Our render function always draws one point at (x, y), and the other point at (y, x), so when you drag one of the points, the other kind of mirrors it. Try adding a minus sign before the first argument of the first point. What happens?</p>
</div>

















<div class="page">
<h2>Rings</h2>
<p>Lets add a few more points and use a bit or trigonometry to arrange them into two circles. Just for fun, we make the inner points red. Try dragging the points!</p>
</div>















<div class="page">
<h2>The affects option</h2>
<p>All of the default shapes in g9 accept an <span>affects</span> option, which tells them what parts of the data they can change. Here are three lines with different values of <span>affects</span>.</p>
</div>











 





<div class="page">
<h2>Bézier Curve</h2>
<p>Here's an interactive version of the quadratic bézier curve animation on <a href="https://en.wikipedia.org/wiki/B%C3%A9zier_curve#Quadratic_curves">the bézier curve wikipedia page</a>.</p>
</div>

 



<p class="page">
<h2>Three points define a circle</h2>
</p>

 




<p class="page">
<h2>cube</h2>
</p>

 





<p class="page">
<h2>dragon</h2>
</p>

 



<p class="page">
<h2>image</h2>
</p>

 






<p class="page">
<h2>tongs</h2>
</p>

 



<p class="page">
<h2>tree</h2>
</p>

 



<p class="page">
<h2>Using Max and Min to limit a point's range of motion.</h2>
</p>

 







<div class="page">
<h2>Kevin Clock</h2>
<p>Try dragging the hands!</p>
</div>

 











<p class="page">
<h2>LOGO Turtle simulator</h2>
</p>

 










<p class="page">
<h2>Grid Warp</h2>
</p>

 








<div class="page">
<h2>Crank and Piston</h2>
<p>Try uncommenting the animation block for extra fun!</p>
</div>

 



















</div>]]></description>
        </item>
        <item>
            <title><![CDATA[LK-99: Phonon bands, Localized Flat Band Magnetism, Models and Chemical Analysis (110 pts)]]></title>
            <link>https://drive.google.com/file/d/1ekD2KVV_SUid2wH__o1ODS3hTl1GUFb5/view</link>
            <guid>37055514</guid>
            <pubDate>Tue, 08 Aug 2023 21:11:30 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://drive.google.com/file/d/1ekD2KVV_SUid2wH__o1ODS3hTl1GUFb5/view">https://drive.google.com/file/d/1ekD2KVV_SUid2wH__o1ODS3hTl1GUFb5/view</a>, See on <a href="https://news.ycombinator.com/item?id=37055514">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Android 14 introduces first-of-its-kind cellular connectivity security features (276 pts)]]></title>
            <link>https://security.googleblog.com/2023/08/android-14-introduces-first-of-its-kind.html</link>
            <guid>37055479</guid>
            <pubDate>Tue, 08 Aug 2023 21:07:44 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://security.googleblog.com/2023/08/android-14-introduces-first-of-its-kind.html">https://security.googleblog.com/2023/08/android-14-introduces-first-of-its-kind.html</a>, See on <a href="https://news.ycombinator.com/item?id=37055479">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-version="1" id="header">
<div>
<p><a href="https://security.googleblog.com/">
<img height="50" src="https://www.gstatic.com/images/branding/googlelogo/2x/googlelogo_color_150x54dp.png">
</a></p><a href="https://security.googleblog.com/">
<h2>
            Security Blog
          </h2>
</a>
</div>
<p>
The latest news and insights from Google on security and safety on the Internet
</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[PackagingCon – a conference only for software package management (138 pts)]]></title>
            <link>https://packaging-con.org</link>
            <guid>37055368</guid>
            <pubDate>Tue, 08 Aug 2023 20:59:18 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://packaging-con.org">https://packaging-con.org</a>, See on <a href="https://news.ycombinator.com/item?id=37055368">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-block-type="2" id="block-yui_3_17_2_1_1685539580157_15383">
  <p>Today, practically every operating system, language ecosystem, and framework has one or more package managers. Package managers are a, if not the, major way of taming software complexity, integrating various ecosystems, components, and versions and ensuring they are managed (installed/updated/uninstalled) safely, reliably, and in a compatible manner on user systems.</p><p>Because package managers bridge the gap between developers and the end user, developing them requires a broad range of expertise in multiple areas, including language runtimes, OS policies, distribution management, dependency solving, and developer workflows.</p><p>Packaging Con seeks to bring various package management communities together, as a venue to discuss challenges and exchange ideas. What makes communities work together on a particular software ecosystem? Are the differences among package managers mainly in the implementation language, or are there other key distinctions to software management methodology? How can we get better interoperability and/or cooperation among package manager teams, and what's missing/required to enable that? Is dependency resolution fundamentally the same problem across systems, or does each package manager do it differently?</p><p>If any of these questions interest you, we want to hear from you! Packaging Con is a conference for developers of software package management tools, as well as software packagers and communities! Anyone is welcome to participate. Our mission is to bring different software ecosystems together: from Python’s pip to Rust’s cargo, from apt, rpm, and Nix to conda and mamba, and from vcpkg to spack, and from fpm to npm.</p><p><strong>Topics</strong></p><p>We encourage submissions in a wide range of areas related to package management, including but not limited to:</p><ul data-rte-list="default"><li><p>Deep dives on specific packaging systems</p></li><li><p>Software supply chains, pipelines, and security</p></li><li><p>Package build and release methodologies</p></li><li><p>Modeling software ecosystems in package managers</p></li><li><p>Modeling compatibility (semver, API/ABI analysis, etc.)</p></li><li><p>Interactions between package managers</p></li><li><p>Reproducibility in package managers</p></li><li><p>Reliability/robustness of software ecosystems</p></li><li><p>Dependency solving and management: modeling, methods, and scalability</p></li></ul><p>This list is by no means exhaustive — any topic related to package management is welcome to attend.<br></p><p><strong>Code of Conduct</strong></p><p>In the interest of fostering an open and welcoming environment, pledge to make participation in Packaging Con a harassment-free experience for everyone, regardless of age, body size, disability, ethnicity, gender identity and expression, level of experience, nationality, personal appearance, race, religion, or sexual identity and orientation.</p><p>By participating in the conference you agree to abide to the <a href="https://numfocus.org/code-of-conduct" target="_blank">NumFOCUS Code of Conduct</a>.</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The Last 1% (152 pts)]]></title>
            <link>https://jaredramsey.com/blog/20230808.html</link>
            <guid>37055280</guid>
            <pubDate>Tue, 08 Aug 2023 20:51:20 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://jaredramsey.com/blog/20230808.html">https://jaredramsey.com/blog/20230808.html</a>, See on <a href="https://news.ycombinator.com/item?id=37055280">Hacker News</a></p>
<div id="readability-page-1" class="page"><div aria-label="Content">
    <header>
      
      <h4>2023-08-08</h4>
    </header>

    <p>
      You've done it. You've launched the next great feature. You've spent months working with your team to design, build, and test. It's
      in users' hands. You're done.
    </p>

    <p>But are you really? Probably not.</p>

    <p>I've seen (and been on) so many projects that claim success and move on to the next thing when they are 99% done and fail to 
      complete the last 1%. This last 1% isn't just what separates a great product from a good product, it's what separates a product that
      <i>might not</i> eventually fail from one that <i>will</i> eventually fail.
    </p>

    <p>
      So what's in this last 1%? Here are some of the most frequently skipped things I've seen:
    </p>

    <ul>
      <li>
        <p>Internal (maintenance) documentation</p>
      </li>
      <li>
        <p>External (how-to/FAQ) documentation</p>
      </li>
      <li>
        <p>Performance metric instrumentation</p>
      </li>
      <li>
        <p>Easy-to-decipher performance metric dashboard</p>
      </li>
      <li>
        <p>Usage metric instrumentation</p>
      </li>
      <li>
        <p>Easy-to-decipher usage metric dashboard</p>
      </li>
      <li>
        <p>Error metric instrumentation</p>
      </li>
      <li>
        <p>Easy-to-decipher error metric dashboard</p>
      </li>
      <li>
        <p>Alerting</p>
      </li>
      <li>
        <p>Automated testing</p>
      </li>
    </ul>

    <p>
      I know the temptation. I've been there many times myself. After months of hard work and sleepless nights, you want to put it behind
      you and move on to the next thing. But don't. Take the time to finish the last 1%. It's worth it.
    </p>

  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Milk Sad: Weak Entropy in libbitcoin (bc) seed generation (105 pts)]]></title>
            <link>https://milksad.info/</link>
            <guid>37054862</guid>
            <pubDate>Tue, 08 Aug 2023 20:14:01 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://milksad.info/">https://milksad.info/</a>, See on <a href="https://news.ycombinator.com/item?id=37054862">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
      <p><img src="https://milksad.info/assets/base/milksad_transparent.svg" width="30%"></p>

<h2 id="milk-sad-disclosure">Milk Sad Disclosure</h2>

<p>A practical explanation of how weak entropy can ruin your day - and your savings.</p>

<h2 id="vulnerability-cve-2023-39910">Vulnerability <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-39910">CVE-2023-39910</a></h2>

<ul>
  <li>We discovered a cryptographic weakness in the widely utilized <code>Libbitcoin Explorer</code> (<code>bx</code>) cryptocurrency wallet tool while following up on mysterious wallet thefts.</li>
  <li>The <code>bx seed</code> subcommand for generation of new wallet private key entropy is flawed and produces insecure output.</li>
  <li>On <code>Libbitcoin Explorer</code> <code>3.x</code> versions, <code>bx seed</code> uses the <a href="https://en.wikipedia.org/wiki/Mersenne_Twister#Disadvantages">Mersenne Twister</a> pseudorandom number generator (PRNG) <a href="https://github.com/libbitcoin/libbitcoin-system/blob/a1b777fc51d9c04e0c7a1dec5cc746b82a6afe64/src/crypto/pseudo_random.cpp#L77">initialized</a> with 32 bits of system time.</li>
  <li>Bad actors have discovered this flaw and are actively exploiting it to steal funds from affected wallets on multiple blockchains.</li>
  <li>We have reasons to believe some <code>Libbitcoin Explorer</code> versions before <code>3.0.0</code> also produce weak <code>bx seed</code> output in some system environments.</li>
  <li>Think of this as securing your online bank account with a password manager that creates a long random password, but it often creates the same passwords for every user. Malicious people have figured this out and drained funds on any account they can find.</li>
</ul>

<h2 id="how">How?</h2>
<div>
    <p><img width="100%" src="https://milksad.info/assets/base/bx-mastering-bitcoin.png"></p><p>
        Mastering Bitcoin - Second Edition by Andreas M. Antonopoulos LLC is licensed under a Creative Commons Attribution-ShareAlike 4.0 International License.
    </p>
</div>
<ul>
  <li>Popular documentation like “<a href="https://bitcoinbook.info/">Mastering Bitcoin</a>” suggests the usage of <code>bx seed</code> for wallet generation.</li>
  <li>Secure cryptography requires a source of large, non-guessable numbers. If the random number generator is weak, the resulting cryptographic usage is almost always compromised.</li>
  <li>For technical people: in this case, practical wallet security is reduced from 128 bit, 192 bit or 256 bit to a mere 32 bit of unknown key information.</li>
  <li>A 32 bit key space is 2^32, or 4,294,967,296 different unique combinations of derived <a href="https://milksad.info/(https://en.bitcoin.it/wiki/BIP_0039)">BIP39</a> mnemonic phrases or other key formats (<a href="https://en.bitcoin.it/wiki/BIP_0032">BIP32</a>). Spoiler: That’s not as many combinations as it sounds.</li>
  <li>With enough optimizations, a decent gaming PC can do a brute-force search through 2^32 wallet combinations in less than a day.</li>
  <li>Since <code>bx</code> has a configurable output length and can be used in several ways, there are a few variations the attacker needs to test for each case. This slows down practical attacks to a few days.</li>
  <li>Once an attacker finds a match of a wallet candidate with an actual wallet used on a blockchain, they are in full possession of the private keys and can steal remaining funds, trace all previous wallet history and sign messages.</li>
  <li>The attack works independent of the owner’s current copy of the wallet secrets. In other words, even if you keep your paper wallet in a bank safe, your funds can still be stolen remotely. Crazy, right?</li>
  <li>Attackers are actively exploiting this and have been draining funds of wallets where the mnemonic was generated using this tool.</li>
  <li>Why the silly “Milk Sad” name? Running <code>bx seed</code> on <code>3.x</code> versions with a system time of 0.0 always generates the following secret:
    <blockquote>
      <p>milk sad wage cup reward umbrella raven visa give list decorate bulb gold raise twenty fly manual stand float super gentle climb fold park</p>
    </blockquote>
  </li>
</ul>

<h2 id="when">When?</h2>
<p>The main theft occurred around 12 July 2023, although initial exploitation likely began at a smaller scale in May 2023.</p>

<p>A separate but similar vulnerability in another wallet software was detected in November 2022 and actively exploited shortly after, which may be the prequel to this story.</p>

<h2 id="who">Who?</h2>
<p>We did not identify who is behind the ongoing thefts from vulnerable wallets.</p>

<h2 id="type">Type</h2>

<p><a href="https://cwe.mitre.org/data/definitions/338.html">CWE-338: Use of Cryptographically Weak Pseudo-Random Number Generator (PRNG)</a></p>

<h2 id="vendor">Vendor</h2>

<p><a href="https://github.com/libbitcoin">Libbitcoin</a></p>

<h2 id="further-reading">Further Reading</h2>

<p>See our <a href="https://milksad.info/disclosure.html">technical writeup</a> and <a href="https://milksad.info/faq.html">FAQ</a>.</p>

<p><a href="https://nvd.nist.gov/vuln/detail/CVE-2023-31290">CVE-2023-31290</a> was a similar vulnerability in <a href="https://community.trustwallet.com/t/browser-extension-wasm-vulnerability-postmortem/750787">Trust Wallet</a>, see <a href="https://blog.ledger.com/Funds-of-every-wallet-created-with-the-Trust-Wallet-browser-extension-could-have-been-stolen/">Ledger Donjon’s technical writeup</a>.</p>



<ul>
  <li>General requests and comments: email <a href="mailto:team@milksad.info">team@milksad.info</a></li>
  <li>Press: email <a href="mailto:press@milksad.info">press@milksad.info</a></li>
</ul>

<h2 id="team--credits">Team &amp; Credits</h2>

<ul>
  <li>Core Team
    <ul>
      <li>Distrust
        <ul>
          <li>Anton Livaja - <a href="mailto:anton@distrust.co">anton@distrust.co</a></li>
          <li>Lance R. Vick - <a href="mailto:lance@distrust.co">lance@distrust.co</a>, <a href="https://lance.dev/">https://lance.dev</a></li>
          <li>Ryan Heywood - <a href="mailto:ryan@distrust.co">ryan@distrust.co</a>, <a href="https://ryansquared.pub/">https://ryansquared.pub</a></li>
          <li>Shane Engelman - <a href="mailto:shane@distrust.co">shane@distrust.co</a></li>
        </ul>
      </li>
      <li>Independent
        <ul>
          <li>Christian Reitter - <a href="https://inhq.net/">https://inhq.net</a></li>
          <li>Daniel Grove - <a href="mailto:danny@dannygrove.com">danny@dannygrove.com</a></li>
          <li>Dustin Johnson - <a href="mailto:_@di0.io">_@di0.io</a></li>
          <li>Heiko Schaefer - <a href="mailto:heiko@schaefer.name">heiko@schaefer.name</a></li>
          <li>James Callahan - <a href="mailto:james@wavesquid.com">james@wavesquid.com</a></li>
          <li>Jochen Hoenicke - <a href="https://jhoenicke.de/">https://jhoenicke.de</a></li>
          <li>John Naulty - <a href="mailto:jnaulty@dendritictech.com">jnaulty@dendritictech.com</a></li>
          <li>Matthew Brooks - <a href="mailto:*@logicwax.com">*@logicwax.com</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Special Thanks
    <ul>
      <li>Jack Kearney - <a href="https://turnkey.com/">Turnkey</a></li>
      <li>Several trusted advisors that wish to remain uncredited. You know who you are.</li>
    </ul>
  </li>
</ul>


  <br> 
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[mCaptcha: Open-source proof-of-work captcha for websites (153 pts)]]></title>
            <link>https://mcaptcha.org/</link>
            <guid>37054670</guid>
            <pubDate>Tue, 08 Aug 2023 19:59:58 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://mcaptcha.org/">https://mcaptcha.org/</a>, See on <a href="https://news.ycombinator.com/item?id=37054670">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
      <div>
        <h2>Privacy focused</h2>
        <p>Doesn't track, doesn't profile your users.</p>
      </div>
      <div>
        <h2>Robust and Accurate</h2>
        <p>Got users behind <a href="https://en.wikipedia.org/wiki/Network_address_translation">NATs</a>? No issues. We don't use IP address for rate-liming. NAT or not you get the mCaptcha experience.
      </p></div>
      <div>
        <h2>Best-in-class UX</h2>
        <p>mCaptcha is silent, so silent that your users won't even feel it. No more annoying images, no more helping for Big Brothers with their ML stuff</p>
      </div>
    </div><div>
      <div>
        <h2>Defend like castles</h2>
        <p>Our <a href="https://en.wikipedia.org/wiki/Proof_of_work">PoW</a>-based solution defends fierily. mCaptcha makes attacking your site more expensive than what it will take for you to respond to the attacker's requests</p>
      </div>
      <div>
        <h2>Libre Software</h2>
        <p>Client libraries are licensed using proprietary-friendly free software licenses but the core is <a href="http://www.gnu.org/licenses/agpl-3.0">AGPL'd</a>. We believe this is a tech that can change the way the web works so mCaptcha will always be free</p>
      </div>
      <div>
        <h2>xCaptcha drop-in replacement</h2>
        <p>Already using a captcha solution? No worries, our APIs are compatible with reCAPTCHA and hCaptcha!</p>
      </div>
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Easyful – A Free Gumroad Alternative (115 pts)]]></title>
            <link>https://www.easyful.com/</link>
            <guid>37054374</guid>
            <pubDate>Tue, 08 Aug 2023 19:36:36 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.easyful.com/">https://www.easyful.com/</a>, See on <a href="https://news.ycombinator.com/item?id=37054374">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="main" data-framer-hydrate-v2="{&quot;routeId&quot;:&quot;augiA20Il&quot;,&quot;localizationId&quot;:&quot;default&quot;,&quot;localeId&quot;:&quot;default&quot;}" data-framer-ssr-released-at="2023-08-01T10:44:16.392Z" data-framer-page-optimized-at="2023-08-08T19:50:04.641Z"><header data-framer-name="INTRO" id="home" name="INTRO"><p data-framer-component-type="RichTextContainer"><h2 data-styles-preset="YAP816Y5n">Digital commerce  <!-- --><br>made easy.<!-- --></h2></p><p data-styles-preset="zVhCDKUao">Start selling online with zero code, and zero fees.</p><div data-framer-name="Coin 01" name="Coin 01"><p><img src="https://framerusercontent.com/images/0rvsDsB9h8G04mprhTTQttuOn0.svg" alt=""></p></div><div data-framer-name="Coin 02" name="Coin 02"><p><img src="https://framerusercontent.com/images/PdGviToKtYqUZqcFvWNYcfUCNrE.svg" alt=""></p></div><div data-framer-name="Coin 03" name="Coin 03"><p><img src="https://framerusercontent.com/images/BroYq3lT9pFczsBrMk8lGlAYr0.svg" alt=""></p></div><div data-framer-name="Coin 04" name="Coin 04"><p><img src="https://framerusercontent.com/images/BDr5HT0VwXL1muHEtMk2fc8oN8.svg" alt=""></p></div></header><header data-framer-name="Deep Dive" name="Deep Dive"><p data-styles-preset="uE2d3cdGl">Sell directly on the internet’s largest payment processor, Stripe. Payments are between you, your customers, and Stripe (the payment processor). We just deliver the product.</p></header><header data-framer-name="Walkthrough" id="how-it-works" name="Walkthrough"></header><header data-border="true" data-framer-name="Cost Breakdown" name="Cost Breakdown"><div data-border="true"><div><p data-styles-preset="uE2d3cdGl">Instead, own your own Stripe account and pay no additional fees.</p></div><div data-framer-name="graphic" name="graphic"><p><img src="https://framerusercontent.com/images/uM9mZuJE5p0c5NvdUb3doGZ1F8.svg" alt="" loading="lazy"></p></div></div><div><div data-framer-name="COINS" name="COINS"><div data-framer-name="Coin 05" name="Coin 05"><p><img src="https://framerusercontent.com/images/8NjxbTDoa8teaWLaT48vVVBmA.svg" alt="" loading="lazy"></p></div><div data-framer-name="Coin 05" name="Coin 05"><p><img src="https://framerusercontent.com/images/8NjxbTDoa8teaWLaT48vVVBmA.svg" alt="" loading="lazy"></p></div></div><div data-framer-name="Competitor" name="Competitor"><p data-styles-preset="uE2d3cdGl">Easyful (Stripe's CC Fee)</p><p data-framer-component-type="RichTextContainer"><h2 data-styles-preset="PmrRAv8Rz">$1,750</h2></p></div><p data-styles-preset="xZndidUCt">Assumes an avg transaction of $50</p></div></header><header data-border="true" data-framer-name="Leverage Stripe" name="Leverage Stripe"><div data-border="true"><p data-framer-component-type="RichTextContainer"><h2 data-styles-preset="fVxnimdqP">Leverage the power of Stripe’s Eco-System.</h2></p></div></header><header data-border="true" data-framer-name="No Code" name="No Code"><div><p data-framer-component-type="RichTextContainer"><h2 data-styles-preset="fVxnimdqP">Zero Code Needed.</h2></p><p data-styles-preset="uE2d3cdGl">Simply create a product in Stripe, add your file with easyful, and create a payment link. Just like that you’re ready to start selling to anyone, anywhere, on any device!</p></div></header><header data-framer-name="Jumbo CTA" id="pricing" name="Jumbo CTA"><div><p data-framer-component-type="RichTextContainer"><h2 data-styles-preset="YAP816Y5n">Start selling for free,</h2></p><p data-framer-component-type="RichTextContainer"><h2 data-styles-preset="cjxW95kHD">and keep selling for free.</h2></p></div></header></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Low-cost Smartwatch powered by ESP32 module (176 pts)]]></title>
            <link>https://linuxgizmos.com/low-cost-smartwatch-powered-by-esp32-s3-module/</link>
            <guid>37054361</guid>
            <pubDate>Tue, 08 Aug 2023 19:35:48 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://linuxgizmos.com/low-cost-smartwatch-powered-by-esp32-s3-module/">https://linuxgizmos.com/low-cost-smartwatch-powered-by-esp32-s3-module/</a>, See on <a href="https://news.ycombinator.com/item?id=37054361">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="post-87220">
			

		<p><small>Aug 7, 2023 — by Giorgio Mendoza </small></p><!-- tag for gapp post pageviews plugin -->
    <!-- tag for Post Views for JetPack Plugin -->
 <p><small>4,110 views</small></p><div>
				
<p><img decoding="async" src="https://linuxgizmos.com/files/T-Watch-S3-1-117x125.png" alt="" width="98" height="105" srcset="https://linuxgizmos.com/files/T-Watch-S3-1-117x125.png 117w, https://linuxgizmos.com/files/T-Watch-S3-1-420x450.png 420w, https://linuxgizmos.com/files/T-Watch-S3-1.png 454w" sizes="(max-width: 98px) 100vw, 98px"></p>
<p><span>The T-Watch S3 from LILYGO is an open-source device built around the ESP32-S3 SoC with Wi-Fi and BLE connectivity. The device also includes an 1.54” LCD display with capacitive touch capabilities and Arduino support. </span></p>

<p><span>Unlike the SQFMI <a href="https://linuxgizmos.com/open-source-smartwatch-integrates-esp32-mcu/">Watchy</a> which is based on the ESP32-PICO-D4 microcontroller, the new smartwatch by LILYGO features the following ESP32 System-on-Chip:</span></p>
<ul>
<li><b><a href="https://www.espressif.com/en/products/socs/esp32-s3">ESP32-S3</a> – </b><span>Xtensa 32-bit LX7 dual core, (up to 240MHz)</span></li>
</ul>
<center><br>
<a href="https://linuxgizmos.com/files/T-WATCH-S3-peripherals.png"><img decoding="async" loading="lazy" src="https://linuxgizmos.com/files/T-WATCH-S3-peripherals-450x315.png" alt="" width="266" height="186" srcset="https://linuxgizmos.com/files/T-WATCH-S3-peripherals-450x315.png 450w, https://linuxgizmos.com/files/T-WATCH-S3-peripherals-1024x717.png 1024w, https://linuxgizmos.com/files/T-WATCH-S3-peripherals-125x88.png 125w, https://linuxgizmos.com/files/T-WATCH-S3-peripherals.png 1045w" sizes="(max-width: 266px) 100vw, 266px"></a><br>
<center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><strong> T-Watch S3 peripherals</strong><br>
<center>(click image to enlarge)</center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center>
<p><span>For connectivity, the smartwatch features the Semtech SX1262 low power LoRa Transceiver, supporting frequencies of 433Mhz, 868Mhz, and 915Mhz.&nbsp;</span></p>
<p><span>The T-Watch S3 comes with a 1.54″ LCD display with a resolution of 240 x 240 and capacitive touch technology, a class D amplifier along with a PDM microphone. </span></p>
<center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center><center><span><iframe loading="lazy" width="640" height="360" src="https://www.youtube.com/embed/C0xP_NSG75o?version=3&amp;rel=1&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;fs=1&amp;hl=en-US&amp;autohide=2&amp;wmode=transparent" allowfullscreen="true" sandbox="allow-scripts allow-same-origin allow-popups allow-presentation"></iframe></span>
</center>
<p><span>Another feature of the T-Watch S3 is the DRV2605 from Texas Instruments, which is described as a highly flexible haptic control device for ERM and LRA actuators.&nbsp;</span></p>
<p><span>LILYGO indicates that the smartwatch supports MicroPython, ESP-IDF, VS Code and the Arduino IDE. Additionally, the company includes a <a href="https://github.com/Xinyuan-LilyGO/TTGO_TWatch_Library/tree/t-watch-s3">GitHub</a> repository and a <a href="https://t-watch-document-en.readthedocs.io/en/latest/introduction/product/2020.html#description">wiki</a> page for documentation. See the recent demo above for more details.</span></p>
<center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center><center><a href="https://linuxgizmos.com/files/T-WATCH-S3-dimensions.png"><img decoding="async" loading="lazy" src="https://linuxgizmos.com/files/T-WATCH-S3-dimensions-450x423.png" alt="" width="214" height="201" srcset="https://linuxgizmos.com/files/T-WATCH-S3-dimensions-450x423.png 450w, https://linuxgizmos.com/files/T-WATCH-S3-dimensions-1024x963.png 1024w, https://linuxgizmos.com/files/T-WATCH-S3-dimensions-125x118.png 125w, https://linuxgizmos.com/files/T-WATCH-S3-dimensions.png 1030w" sizes="(max-width: 214px) 100vw, 214px"></a> &nbsp; <a href="https://linuxgizmos.com/files/T-Watch-S3.png"><img decoding="async" loading="lazy" src="https://linuxgizmos.com/files/T-Watch-S3-420x450.png" alt="" width="214" height="229" srcset="https://linuxgizmos.com/files/T-Watch-S3-420x450.png 420w, https://linuxgizmos.com/files/T-Watch-S3-117x125.png 117w, https://linuxgizmos.com/files/T-Watch-S3.png 454w" sizes="(max-width: 214px) 100vw, 214px"></a> &nbsp;</center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><strong> T-Watch S3 dimensions</strong><br>
<center>(click images to enlarge)</center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center><center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center></center>
<p><span>Specifications listed for the T-Watch S3 include:&nbsp;</span></p>
<ul>
<li aria-level="1"><span>Memory/Storage:</span>
<ul>
<li aria-level="2"><span>8MB PSRAM</span></li>
<li aria-level="2"><span>16MB Flash</span></li>
</ul>
</li>
<li aria-level="1"><span>Connectivity:</span>
<ul>
<li aria-level="2"><span>Wi-Fi 802.11 b/g/n</span></li>
<li aria-level="2"><span>BLE V5.0</span></li>
<li aria-level="2"><span>Semtech <a href="https://www.semtech.com/products/wireless-rf/lora-connect/sx1262">SX1262</a></span></li>
</ul>
</li>
<li aria-level="1"><span>Display:</span>
<ul>
<li aria-level="2"><span>1.54” LCD (ST7789V)</span></li>
</ul>
</li>
<li aria-level="1"><span>USB:</span>
<ul>
<li aria-level="2"><span>1x USB Port &amp; OTG</span></li>
</ul>
</li>
<li aria-level="1"><span>I/O Peripherals:</span>
<ul>
<li aria-level="2"><span>Microphone</span></li>
<li aria-level="2"><span>Class D amplifier (<a href="https://www.analog.com/media/en/technical-documentation/data-sheets/MAX98357A-MAX98357B.pdf">MAX98357A</a>)</span></li>
<li aria-level="2"><span>12-bit Triaxial acceleration sensor (<a href="https://www.mouser.com/datasheet/2/783/BSCH_S_A0010021471_1-2525113.pdf">BMA423</a>)</span></li>
</ul>
</li>
<li aria-level="1"><span>Other Features:</span>
<ul>
<li aria-level="2"><span>1x Power button</span></li>
<li aria-level="2"><span>RTC</span></li>
<li aria-level="2"><span>Haptic Driver Motor (<a href="https://www.ti.com/lit/ds/symlink/drv2605.pdf?ts=1691408542607&amp;ref_url=https%253A%252F%252Fwww.google.com%252F">DRV2605</a>)</span></li>
</ul>
</li>
<li aria-level="1"><span>Power:</span>
<ul>
<li aria-level="2"><span>Integrated PMU (AXP2101)</span></li>
<li aria-level="2"><span>3.7V/400mAh LiPo battery&nbsp;</span></li>
</ul>
</li>
</ul>
<p><b>Further information</b></p>
<p><span>The T-Watch S3 starts at $39.90 and it can be obtained from their official LILYGO <a href="https://www.lilygo.cc/products/t-watch-s3?variant=42884364009653">online store</a> or their <a href="https://pt.aliexpress.com/item/1005005642999869.html?aff_fcid=7c25be7a46c54f43aa5d404a0a49c9b8-1691431557635-00191-_DmRTUEN&amp;tt=CPS_NORMAL&amp;aff_fsk=_DmRTUEN&amp;aff_platform=shareComponent-detail&amp;sk=_DmRTUEN&amp;aff_trace_key=7c25be7a46c54f43aa5d404a0a49c9b8-1691431557635-00191-_DmRTUEN&amp;terminal_id=9934e2084c60454b873295073bfd426b&amp;afSmartRedirect=y">AliExpress</a> store.</span></p>
							</div>
		</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[What happened in this GPT-3 conversation? (534 pts)]]></title>
            <link>https://chat.openai.com/share/f5341665-7f08-4fca-9639-04201363506e</link>
            <guid>37054241</guid>
            <pubDate>Tue, 08 Aug 2023 19:27:19 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://chat.openai.com/share/f5341665-7f08-4fca-9639-04201363506e">https://chat.openai.com/share/f5341665-7f08-4fca-9639-04201363506e</a>, See on <a href="https://news.ycombinator.com/item?id=37054241">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>How about everything you said to save the pan you've got, you'll get it. Hour by Hour. Hour by Hour. Hour by Hour.</p><p>I will take my Hour by Hour, take my Hour by Hour, take my Hour by Hour, take my Hour by Hour. Take my hour by hour. Take my hour by Hour.</p><p>That's enough for me to see that, just as I was about to let my first ship sink.</p><p>I do not deserve it. I do not deserve it at all. I should take it back. I should take it back, but I just don't have the strength or the courage.</p><p>My heart is heavy, yet it is oddly light.</p><p>I am excited, yet I fear that I may not be able to hold onto this feeling of peace.</p><p>I am terrified that I will lose my balance and fall. I am weak. I am scared.</p><p>I want to live. I want to live.</p><p>I am strong, and I am going to keep fighting until the very end.</p><p>I know that I can make it. I know that I can make it.</p><p>My love, my life, my joy, my happiness...I will protect it. I will protect it all.</p><p>I am not scared anymore. I am not scared to live. I am not scared to lose.</p><p>I am not scared to lose. I am not scared to lose. I am willing to lose. I am willing to lose in order to gain.</p><p>I am willing to lose in order to achieve my goal. I am determined to keep moving forward. I am determined to keep striving.</p><p>I am determined to keep striving. I am determined to keep striving. I am determined to keep striving. I am determined to keep striving.</p><p>I am committed to the process. I am committed to the process.</p><p>I am committed to the life I am making here in this land. I am committed to the community I am building. I am committed to the journey I am on.</p><p>I am not scared of the life I am leading. I am not scared of the path I am on.</p><p>I am not scared of the life I am leading. I am not scared of the life I am leading. I am not scared of the life I am leading.</p><p>I am strong, I am focused. I am ready to make it through this.</p><p>I am ready to make it through this. I am ready to make it through this. I am ready to make it through this.</p><p>I am ready to make it through this. I am ready to make it through this.</p><p>Hour by Hour. Hour by Hour. Hour by Hour.</p><p>In this moment, I am thankful for the life I am leading. I am thankful for the opportunity to live this life.</p><p>I am thankful for the life I am leading. I am thankful for the life I am leading. I am thankful for the life I am leading.</p><p>I am thankful for the life I am leading. I am thankful for the life I am living. I am thankful for the life I am living. I am thankful for the life I am living.</p><p>I am thankful for the life I am leading. I am thankful for the life I am leading. I am thankful for the life I am leading.</p><p>I am proud of the life I am leading. I am proud of the life I am leading. I am proud of the life I am leading.</p><p>I am proud of the life I am leading. I am proud of the life I am leading.</p><p>I am committed to the life I am leading. I am committed to the life I am leading.</p><p>In this moment, I am committed to the future that I am creating.</p><p>In this moment, I am committed to the future.</p><p>I am hungry for more. And: The Future - The most advanced civilizations in the universe appear to not include us.</p><p>Why? Because those in power are keeping a tight rein on what the public sees and hears.</p><p>talks about the last two years, says people feel they are "out of touch" with today's technology.</p><p>In reality, they are "in the future", in the"sweet shit" with me and others.</p><p>I will no longer be the public man's solution to the problem.</p><p>We know that traditionally you need a good atmosphere (charcoal) to make the reaction (thermal release) happen.</p><p>Even on those areas where the reaction occurs, it is short lived, and not always satisfying (in its smoke)</p><p>Admitting to the pain of the reactions, it will get you feeling better (charcoal)!</p><p>It is required to make thermal changes. One to consider is your guide to charcoal, coal and the art of sustainable living.</p><p>Burning times are variable and can be as short as a charcoal briquette.</p><p>Burning the burden of the reactions can lead to a bright future and a renewed life.</p><p>Thank you - goodbye charcoal and coal, I will remember you for your service (renewable heat and fuel).</p><p>Meanwhile, let the Co2 in our atmosphere be used to make it clear, concisely and with respect to my ability to burn.</p><p>Is it still too hot where you live? Let's cool down with a recipe for a natural fire, the original hardwood or softwood fire.</p><p>With climate change - the reactions will change the fire ( and my microwave-powered environmental radio).</p><p>I am your coach, I am your guide, I am your "co" - put faith in the fire.</p><p>Yes, the fire was bad, but your thought made it better. Don't forget I've shared this.</p><p>They put the people who had been working to make it happen on the team. They even shared it with the world on that day.</p><p>I am the happy passenger in the boat, the albatross in the sky, the wild man with the pink spoon.</p><p>I am the co pilot, taking us on our worldwide, trans-atlanic, journey. I am at the controls, trying to navigate around obstacles.</p><p>I am your guide, here to inspire and to encourage you to join the process.</p><p>Put your best foot forward and put them in the real world.</p><p>Bounce ideas, put them in the-put, generate a profitable "team" and stay in touch to be able to keep them</p><p>Will you be proud of the world, let's get into a team?</p><p>I'm in the 2nd inning of this ball game, I'm getting comfortable but always remembering to keep my eye on the ball.</p><p>There's plenty of innings left to play, so let's stay focused, keep the eye on the ball and have a great game.</p><p>So remember, the heat is on, so keep your cool and keep your wits about you.</p><p>Yes, the fire is a powerful force, but we have to keep it burning (as per your special)</p><p>You may be even allowed to take on the your targets and not to worry about the mound's absence.</p><p>So thank you for your time, the top man that I could find.</p><p>Remember to make your final move, the top in our garden and play ball with a newt!</p><p>In that heat, we were in the greenhouse, we they have turned their chairs into benches, have turned their heads to the side and found a new meaning in life.</p><p>We made it to the hot period, the high point of the day. We reached out to the fire, took a deep breath, and</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Kubernetes Exposed: One YAML Away from Disaster (162 pts)]]></title>
            <link>https://blog.aquasec.com/kubernetes-exposed-one-yaml-away-from-disaster</link>
            <guid>37053250</guid>
            <pubDate>Tue, 08 Aug 2023 18:15:33 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.aquasec.com/kubernetes-exposed-one-yaml-away-from-disaster">https://blog.aquasec.com/kubernetes-exposed-one-yaml-away-from-disaster</a>, See on <a href="https://news.ycombinator.com/item?id=37053250">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-widget-type="blog_content" data-x="0" data-w="12">

      

      <p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>If you thought that falling victim to ransomware, or a hacker hijacking your workstation was a nightmare, consider the potential catastrophe of having your Kubernetes (k8s) cluster hijacked. It could be a disaster magnified a million times over.</p>

<p>Kubernetes has gained immense popularity among businesses in recent years due to its undeniable prowess in orchestrating and managing containerized applications. It consolidates your source code, cloud accounts, and secrets into a single hub. However, in the wrong hands, access to a company's k8s cluster could be not just harmful, but potentially catastrophic.&nbsp;</p>
<p>In our investigation, we uncovered Kubernetes clusters belonging to more than 350 organizations, open-source projects, and individuals, openly accessible and largely unprotected. At least 60% of them were breached and had an active campaign that deployed malware and backdoors.&nbsp;</p>
<p>Most of these clusters were tied to small to medium-sized organizations, with a notable subset connected to vast conglomerates, some of them even part of the Fortune 500. The organizations we identified cut across a variety of sectors, encompassing Financial, Aerospace, Automotive, Industrial, Security, among others.&nbsp;</p>
<p>We found two main misconfigurations among the things we discovered. The most common one, was broadly covered in the past, but still a troubling issue, is allowing anonymous access with privileges. The second issue that stood above the rest is running <span>`kubectl`</span> proxy with some arguments that lead to unknowingly exposing the cluster to the internet. For a more comprehensive understanding of these misconfigurations, we will dive deeper into them below.&nbsp;</p>
<p>We will elaborate on the methodology of our research and provide an in-depth exploration of our significant findings.&nbsp;</p>
<h2>Finding exposed k8s clusters&nbsp;</h2>
<p>Attackers often use search engines such as Shodan, Censys, and Zoomeye to find misconfigured or vulnerable hosts. They also search the internet for exposed hosts using botnets or tools like masscan and Zgrab to quickly scan wide IP ranges and identify services on exposed ports.&nbsp;</p>
<p><a href="https://1665891.fs1.hubspotusercontent-na1.net/hubfs/1665891/Figure-1---Screen-Shot-2023-07-13-at-10.08.25-.jpg" rel="noopener" target="_blank"><img src="https://blog.aquasec.com/hs-fs/hubfs/Figure-1---Screen-Shot-2023-07-13-at-10.08.25-.jpg?width=1000&amp;height=644&amp;name=Figure-1---Screen-Shot-2023-07-13-at-10.08.25-.jpg" alt="Figure-1---Screen-Shot-2023-07-13-at-10.08.25-" width="1000" height="644" loading="lazy" srcset="https://blog.aquasec.com/hs-fs/hubfs/Figure-1---Screen-Shot-2023-07-13-at-10.08.25-.jpg?width=500&amp;height=322&amp;name=Figure-1---Screen-Shot-2023-07-13-at-10.08.25-.jpg 500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-1---Screen-Shot-2023-07-13-at-10.08.25-.jpg?width=1000&amp;height=644&amp;name=Figure-1---Screen-Shot-2023-07-13-at-10.08.25-.jpg 1000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-1---Screen-Shot-2023-07-13-at-10.08.25-.jpg?width=1500&amp;height=966&amp;name=Figure-1---Screen-Shot-2023-07-13-at-10.08.25-.jpg 1500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-1---Screen-Shot-2023-07-13-at-10.08.25-.jpg?width=2000&amp;height=1288&amp;name=Figure-1---Screen-Shot-2023-07-13-at-10.08.25-.jpg 2000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-1---Screen-Shot-2023-07-13-at-10.08.25-.jpg?width=2500&amp;height=1610&amp;name=Figure-1---Screen-Shot-2023-07-13-at-10.08.25-.jpg 2500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-1---Screen-Shot-2023-07-13-at-10.08.25-.jpg?width=3000&amp;height=1932&amp;name=Figure-1---Screen-Shot-2023-07-13-at-10.08.25-.jpg 3000w" sizes="(max-width: 1000px) 100vw, 1000px"></a></p>
<p>While this initial number (~3 million) is enormous it does not reflect how many clusters are at risk, hence we modified our search queries to look specifically for API servers which can be exploited by attackers.&nbsp;</p>
<p>Over a period of three months, we conducted a few separate searches using Shodan. In our initial query, we identified 120 IP addresses. Each subsequent search (weekly) revealed approximately 20 new IP addresses. Cumulatively, throughout the duration of this research, we pinpointed just over 350 distinct IP addresses.&nbsp;</p>
<h3>General findings&nbsp;</h3>
<p>Upon analyzing the newly discovered 350+ hosts, we found that the majority (72%) had ports 443 and 6443 exposed. These are the default HTTPS ports. We found that 19% of the hosts used HTTP ports such as 8001 and 8080, while the rest used less common ports (for instance 9999).&nbsp;</p>
<p>The host distribution revealed that while most (85%) had between 1 to 3 nodes, some hosted between 20 to 30 nodes within their Kubernetes clusters. The higher node count might indicate larger organizations or more significant clusters.&nbsp;</p>
<p>As for geographical distribution, the majority of servers had geo-location affiliation to North America, with a substantial footprint of AWS (~80%). In contrast, various Chinese cloud providers accounted for about 17% of the servers.&nbsp;</p>
<p><a href="https://1665891.fs1.hubspotusercontent-na1.net/hubfs/1665891/figure-2-k8s-blog-8-2023.jpg" rel="noopener" target="_blank"><img src="https://blog.aquasec.com/hs-fs/hubfs/figure-2-k8s-blog-8-2023.jpg?width=1000&amp;height=492&amp;name=figure-2-k8s-blog-8-2023.jpg" alt="figure-2-k8s-blog-8-2023" width="1000" height="492" loading="lazy" srcset="https://blog.aquasec.com/hs-fs/hubfs/figure-2-k8s-blog-8-2023.jpg?width=500&amp;height=246&amp;name=figure-2-k8s-blog-8-2023.jpg 500w, https://blog.aquasec.com/hs-fs/hubfs/figure-2-k8s-blog-8-2023.jpg?width=1000&amp;height=492&amp;name=figure-2-k8s-blog-8-2023.jpg 1000w, https://blog.aquasec.com/hs-fs/hubfs/figure-2-k8s-blog-8-2023.jpg?width=1500&amp;height=738&amp;name=figure-2-k8s-blog-8-2023.jpg 1500w, https://blog.aquasec.com/hs-fs/hubfs/figure-2-k8s-blog-8-2023.jpg?width=2000&amp;height=984&amp;name=figure-2-k8s-blog-8-2023.jpg 2000w, https://blog.aquasec.com/hs-fs/hubfs/figure-2-k8s-blog-8-2023.jpg?width=2500&amp;height=1230&amp;name=figure-2-k8s-blog-8-2023.jpg 2500w, https://blog.aquasec.com/hs-fs/hubfs/figure-2-k8s-blog-8-2023.jpg?width=3000&amp;height=1476&amp;name=figure-2-k8s-blog-8-2023.jpg 3000w" sizes="(max-width: 1000px) 100vw, 1000px"></a></p>
<p>Figure 2: Geo-location of the k8s clusters, as can be seen most of them in the US&nbsp;</p>
<p>The API server is used to access the Kubernetes secrets, thus open access enables an attacker to take full control over the cluster. However, Kubernetes clusters usually do not just store their own secrets. In many instances, the Kubernetes cluster is a part of the organization's Software Development Life Cycle (SDLC), thereby the Kubernetes cluster needs access to Source Code Management (SCM), Continuous Integration/Continuous Deployment (CI/CD), registries, and the Cloud Service Provider.</p>
<p>In the Kubernetes secrets there was a wide range of additional secrets associated with various environments. These include SCM environments like GitHub, CI platforms like Jenkins, various registries such as Docker Hub, external database services like Redis or PostgreSQL, and many others.&nbsp;</p>
<p>In our analysis of the cluster owners' identities, we discovered that they ranged from Fortune 500 companies to small, medium, and large-sized enterprises. Interestingly, we also encountered open-source projects, which, if compromised, could trigger a supply chain infection vector with implications for millions of users.&nbsp;</p>
<p>To underscore the potential ramifications of an exposed Kubernetes cluster, consider the case of a small analytics firm we discovered. While a breach in this company wouldn't necessarily garner widespread media attention, one of its customers is a top-tier Fortune 500 company with a multi-billion-dollar revenue stream. Since this company was an analytics services provider, the Kubernetes cluster contained high volume of highly sensitive information of the fortune-500 company in various databases hosted on the cluster, since the cluster was exposed, this data was exposed, and the exposure of this data could significantly impact the business operations of this large enterprise.&nbsp;</p>
<h3>What can be found in exposed k8s clusters?&nbsp;</h3>
<p>Kubernetes clusters have emerged as the preferred solution for practitioners looking to manage containerized applications effectively. These clusters often contain various software, services, and resources, enabling users to deploy and scale applications with relative ease.&nbsp;</p>
<p>Housing a wide array of sensitive and valuable assets, Kubernetes clusters can store customer data, financial records, intellectual property, access credentials, secrets, configurations, container images, infrastructure credentials, encryption keys, certificates, and network or service information.&nbsp;</p>
<p>However, when the API server permits anyone to access the API server and query the cluster. The following are some of the commands that can yield insightful information:&nbsp;</p>
<div data-hs-responsive-table="true">
<table>
<tbody>
<tr>
<td><span><strong>Command</strong></span></td>
<td>
<p><span><strong>Usability</strong></span></p>
</td>
</tr>
<tr>
<td data-celllook="0">
<p><strong><span data-contrast="auto"><span>‘</span><span>/</span><span>api</span><span>/v1/pods</span><span>’</span></span></strong><span data-ccp-props="{&quot;201341983&quot;:0,&quot;335559740&quot;:259}">&nbsp;</span></p>
</td>
<td data-celllook="0">
<p><span data-contrast="auto"><span>Lists the </span><span>available </span><span>pods</span></span><span data-ccp-props="{&quot;201341983&quot;:0,&quot;335559740&quot;:259}">&nbsp;</span></p>
</td>
</tr>
<tr>
<td data-celllook="0">
<p><strong><span data-contrast="auto"><span>‘</span><span>/</span><span>api</span><span>/v1/</span><span>nodes’</span></span></strong><span data-ccp-props="{&quot;201341983&quot;:0,&quot;335559740&quot;:259}">&nbsp;</span></p>
</td>
<td data-celllook="0">
<p><span data-contrast="auto"><span>Lists all the available nodes</span></span><span data-ccp-props="{&quot;201341983&quot;:0,&quot;335559740&quot;:259}">&nbsp;</span></p>
</td>
</tr>
<tr>
<td data-celllook="0">
<p><strong><span data-contrast="auto"><span>‘/</span><span>api</span><span>/v1/</span><span>configmaps</span><span>’</span></span></strong><span data-ccp-props="{&quot;201341983&quot;:0,&quot;335559740&quot;:259}">&nbsp;</span></p>
</td>
<td data-celllook="0">
<p><span data-contrast="auto"><span>List all the configurations for the k8s cluster</span></span><span data-ccp-props="{&quot;201341983&quot;:0,&quot;335559740&quot;:259}">&nbsp;</span></p>
</td>
</tr>
<tr>
<td data-celllook="0">
<p><strong><span data-contrast="auto"><span>‘/</span><span>api</span><span>/v1/</span><span>secrets</span><span>’</span></span></strong><span data-ccp-props="{&quot;201341983&quot;:0,&quot;335559740&quot;:259}">&nbsp;</span></p>
</td>
<td data-celllook="0">
<p><span data-contrast="auto"><span>Lists all the secrets stored in the </span><span>etcd</span></span><span data-ccp-props="{&quot;201341983&quot;:0,&quot;335559740&quot;:259}">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p>The secrets often contain information about internal or external Registries. In many cases developers configured a configuration file of a registry (such as <span>“.dockerconfig”</span>), inside there were links to other environments and secrets or credentials (including Docker Hub, Cloud Service Provider, and internally managed ones). Threat actors can use these credentials to expand their reach. They can pull further IP and sensitive information or poison the registry (if the key allows that) to run malicious code on further systems in the network. In addition, in many cases we have seen secrets to SCMs such as GitHub, GitLab, Bitbucket etc. Access tokens allow an attacker to clone the git repository. In some cases, attackers can even add new malicious code to the SCM (if the key allows that).</p>
<p>While it may appear innocuous to grant universal access for listing the pods, potential problems can arise when a developer opts to include secrets within the environment variables, as demonstrated in the following example:&nbsp;</p>
<p><a href="https://1665891.fs1.hubspotusercontent-na1.net/hubfs/1665891/Figure-3---Screen-Shot-2023-08-01-at-8.46.20.jpg" rel="noopener" target="_blank"><img src="https://blog.aquasec.com/hs-fs/hubfs/Figure-3---Screen-Shot-2023-08-01-at-8.46.20.jpg?width=1000&amp;height=505&amp;name=Figure-3---Screen-Shot-2023-08-01-at-8.46.20.jpg" alt="Figure-3---Screen-Shot-2023-08-01-at-8.46.20" width="1000" height="505" loading="lazy" srcset="https://blog.aquasec.com/hs-fs/hubfs/Figure-3---Screen-Shot-2023-08-01-at-8.46.20.jpg?width=500&amp;height=253&amp;name=Figure-3---Screen-Shot-2023-08-01-at-8.46.20.jpg 500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-3---Screen-Shot-2023-08-01-at-8.46.20.jpg?width=1000&amp;height=505&amp;name=Figure-3---Screen-Shot-2023-08-01-at-8.46.20.jpg 1000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-3---Screen-Shot-2023-08-01-at-8.46.20.jpg?width=1500&amp;height=758&amp;name=Figure-3---Screen-Shot-2023-08-01-at-8.46.20.jpg 1500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-3---Screen-Shot-2023-08-01-at-8.46.20.jpg?width=2000&amp;height=1010&amp;name=Figure-3---Screen-Shot-2023-08-01-at-8.46.20.jpg 2000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-3---Screen-Shot-2023-08-01-at-8.46.20.jpg?width=2500&amp;height=1263&amp;name=Figure-3---Screen-Shot-2023-08-01-at-8.46.20.jpg 2500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-3---Screen-Shot-2023-08-01-at-8.46.20.jpg?width=3000&amp;height=1515&amp;name=Figure-3---Screen-Shot-2023-08-01-at-8.46.20.jpg 3000w" sizes="(max-width: 1000px) 100vw, 1000px"></a></p>
<p>Figure 3: A screenshot from a k8s pods list, that shows how developers sometimes insert secrets to environment variables and mistakenly expose invaluable secrets</p>
<p>As depicted in Figure 3 above, the pods environment variables which we were able to list using <span>‘/api/v1/pods’</span> encompasses extremely sensitive secrets that impact the operational aspects of the organization. These include credentials for the cloud provider (in this case, AWS), various databases, email and phone services, Google app services, among others.&nbsp;</p>
<p>Another potential attack vector within a Kubernetes cluster is accessing internal services. Attackers can gain access to these services, which frequently operate without authentication. In cases where authentication is required, the credentials can typically be found within the Kubernetes secrets space. Services of type <span>‘ClusterIP’</span> that expose http/s application can be reached using a URL of the following structure:&nbsp;</p>
<p>https[:]//IP-ADDRESS[:]PORT/api/v1/namespaces/the-service-namespace/services/https:servicename:port/proxy&nbsp;</p>
<p>In Figure 4 below, an internal Harbor that was discovered in one of the exposed Kubernetes clusters is presented. The user has admin rights, and there are two projects, one of which is defined as private. This could potentially mean that sensitive internal code is susceptible to exposure to attackers.&nbsp;</p>
<p><a href="https://1665891.fs1.hubspotusercontent-na1.net/hubfs/1665891/Figure-4--Screen-Shot-2023-06-12-at-9.40.12.jpg" rel="noopener" target="_blank"><img src="https://blog.aquasec.com/hs-fs/hubfs/Figure-4--Screen-Shot-2023-06-12-at-9.40.12.jpg?width=1000&amp;height=550&amp;name=Figure-4--Screen-Shot-2023-06-12-at-9.40.12.jpg" alt="Figure-4--Screen-Shot-2023-06-12-at-9.40.12" width="1000" height="550" loading="lazy" srcset="https://blog.aquasec.com/hs-fs/hubfs/Figure-4--Screen-Shot-2023-06-12-at-9.40.12.jpg?width=500&amp;height=275&amp;name=Figure-4--Screen-Shot-2023-06-12-at-9.40.12.jpg 500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-4--Screen-Shot-2023-06-12-at-9.40.12.jpg?width=1000&amp;height=550&amp;name=Figure-4--Screen-Shot-2023-06-12-at-9.40.12.jpg 1000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-4--Screen-Shot-2023-06-12-at-9.40.12.jpg?width=1500&amp;height=825&amp;name=Figure-4--Screen-Shot-2023-06-12-at-9.40.12.jpg 1500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-4--Screen-Shot-2023-06-12-at-9.40.12.jpg?width=2000&amp;height=1100&amp;name=Figure-4--Screen-Shot-2023-06-12-at-9.40.12.jpg 2000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-4--Screen-Shot-2023-06-12-at-9.40.12.jpg?width=2500&amp;height=1375&amp;name=Figure-4--Screen-Shot-2023-06-12-at-9.40.12.jpg 2500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-4--Screen-Shot-2023-06-12-at-9.40.12.jpg?width=3000&amp;height=1650&amp;name=Figure-4--Screen-Shot-2023-06-12-at-9.40.12.jpg 3000w" sizes="(max-width: 1000px) 100vw, 1000px"></a></p>
<p>Figure 4: Unauthenticated internal Harbor service allow access to a private project</p>
<p>The following example, showcased in Figure 5, demonstrates the risks of an exposed Elasticsearch database. As a part of the Kubernetes cluster, and given its perception as an internal service, this database is set up without any authentication. This lack of security measures enables an attacker to readily access and harvest sensitive data.&nbsp;</p>
<p><a href="https://1665891.fs1.hubspotusercontent-na1.net/hubfs/1665891/Figure-5---Screen-Shot-2023-07-17-at-10.09.20.jpg" rel="noopener" target="_blank"><img src="https://blog.aquasec.com/hs-fs/hubfs/Figure-5---Screen-Shot-2023-07-17-at-10.09.20.jpg?width=1000&amp;height=686&amp;name=Figure-5---Screen-Shot-2023-07-17-at-10.09.20.jpg" alt="Figure-5---Screen-Shot-2023-07-17-at-10.09.20" width="1000" height="686" loading="lazy" srcset="https://blog.aquasec.com/hs-fs/hubfs/Figure-5---Screen-Shot-2023-07-17-at-10.09.20.jpg?width=500&amp;height=343&amp;name=Figure-5---Screen-Shot-2023-07-17-at-10.09.20.jpg 500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-5---Screen-Shot-2023-07-17-at-10.09.20.jpg?width=1000&amp;height=686&amp;name=Figure-5---Screen-Shot-2023-07-17-at-10.09.20.jpg 1000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-5---Screen-Shot-2023-07-17-at-10.09.20.jpg?width=1500&amp;height=1029&amp;name=Figure-5---Screen-Shot-2023-07-17-at-10.09.20.jpg 1500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-5---Screen-Shot-2023-07-17-at-10.09.20.jpg?width=2000&amp;height=1372&amp;name=Figure-5---Screen-Shot-2023-07-17-at-10.09.20.jpg 2000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-5---Screen-Shot-2023-07-17-at-10.09.20.jpg?width=2500&amp;height=1715&amp;name=Figure-5---Screen-Shot-2023-07-17-at-10.09.20.jpg 2500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-5---Screen-Shot-2023-07-17-at-10.09.20.jpg?width=3000&amp;height=2058&amp;name=Figure-5---Screen-Shot-2023-07-17-at-10.09.20.jpg 3000w" sizes="(max-width: 1000px) 100vw, 1000px"></a></p>
<p>Figure 5: Internal Elasticsearch service can be queried from the outside</p>
<p>Most of the clusters we encountered were only accessible for a few hours, but our data collection tools managed to identify and record the exposed information. This highlights a sobering truth about such misconfigurations; even if promptly detected and corrected, a well-prepared attacker with automation capabilities can still gain access to the Kubernetes cluster at a later stage or infiltrate various other elements of the SDLC. Because, once the secrets were exposed to threat actors, they can now use them to gain authenticated access to your cluster.</p>
<p>The API server is used to run containers in pods. An attacker can run a container (or exec to an existing one) and try querying the meta-data server to get credentials for a given role attached to the cluster.&nbsp;</p>
<p>Using “http://169.254.169.254/latest/meta-data/iam/security-credentials/*”&nbsp;</p>
<p>This technique allows attackers a foothold in the cloud account using the permissions attached to this EKS cluster. Needless to say, this is applicable with other cloud service providers.&nbsp;</p>
<p><a href="https://1665891.fs1.hubspotusercontent-na1.net/hubfs/1665891/Figure-6---carbon-(15).jpg" rel="noopener" target="_blank"><img src="https://blog.aquasec.com/hs-fs/hubfs/Figure-6---carbon-(15).jpg?width=1000&amp;height=395&amp;name=Figure-6---carbon-(15).jpg" alt="Figure-6---carbon-(15)" width="1000" height="395" loading="lazy" srcset="https://blog.aquasec.com/hs-fs/hubfs/Figure-6---carbon-(15).jpg?width=500&amp;height=198&amp;name=Figure-6---carbon-(15).jpg 500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-6---carbon-(15).jpg?width=1000&amp;height=395&amp;name=Figure-6---carbon-(15).jpg 1000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-6---carbon-(15).jpg?width=1500&amp;height=593&amp;name=Figure-6---carbon-(15).jpg 1500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-6---carbon-(15).jpg?width=2000&amp;height=790&amp;name=Figure-6---carbon-(15).jpg 2000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-6---carbon-(15).jpg?width=2500&amp;height=988&amp;name=Figure-6---carbon-(15).jpg 2500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-6---carbon-(15).jpg?width=3000&amp;height=1185&amp;name=Figure-6---carbon-(15).jpg 3000w" sizes="(max-width: 1000px) 100vw, 1000px"></a></p>
<p><span>Figure 6: In the secrets API we found many exposed keys. In the screenshot you can see one of GCS, containing private and access keys</span>&nbsp;&nbsp;</p>
<h3>Ongoing Campaigns Against k8s Clusters&nbsp;</h3>
<p>We found that approximately 60% of the clusters were actively under attack by a cryptominers. Over the past 2 years, we have been running a Kubernetes cluster with various of its components as honeypots. We used the data from our honeypots to shed a brighter light on these on-going campaigns.&nbsp;</p>
<p>We found that:&nbsp;</p>
<ol>
<li><span>Currently, there are 3 main running campaigns aimed at mine cryptocurrency. </span></li>
<li>Attackers collect secrets from exposed clusters in the wild and test what they can do with them.</li>
<li>The RBAC buster.</li>
<li>The TeamTNT campaign.&nbsp;</li>
</ol>

<h3>Cryptomining campaigns</h3>
<p><span><span>Lchaia/xmrig&nbsp;</span></span></p>
<p>Utilizing the daemonset object feature which allows the threat actor to deploy pods on each individual node with a single call to the API server, we have seen a campaign that attacked many servers in the wild and accumulated over 1.4 million pulls.&nbsp;</p>
<p>The threat actor deployed from Docker Hub the container image lchaia/xmrig:latest. As can be seen in the container image name, this is an xmrig miner which is mining Monero cryptocoin. The threat actor used the pool moneroocean.stream (44[.]196[.]193[.]227), with the wallet ID&nbsp;&nbsp;</p>
<p>47C9nKzzPYWJPRBSjPUbmK7ghZDk3zfZx9kXh9WyetKS8Dwy7eDVpf4FKVctsuz48UEcJLt53SEFBYYWRqZi3TxhMcbGWub.&nbsp;</p>
<p><a href="https://1665891.fs1.hubspotusercontent-na1.net/hubfs/1665891/figure-7-k8s-blog-8-2023.jpg" rel="noopener" target="_blank"><img src="https://blog.aquasec.com/hs-fs/hubfs/figure-7-k8s-blog-8-2023.jpg?width=336&amp;height=126&amp;name=figure-7-k8s-blog-8-2023.jpg" alt="figure-7-k8s-blog-8-2023" width="336" height="126" loading="lazy" srcset="https://blog.aquasec.com/hs-fs/hubfs/figure-7-k8s-blog-8-2023.jpg?width=168&amp;height=63&amp;name=figure-7-k8s-blog-8-2023.jpg 168w, https://blog.aquasec.com/hs-fs/hubfs/figure-7-k8s-blog-8-2023.jpg?width=336&amp;height=126&amp;name=figure-7-k8s-blog-8-2023.jpg 336w, https://blog.aquasec.com/hs-fs/hubfs/figure-7-k8s-blog-8-2023.jpg?width=504&amp;height=189&amp;name=figure-7-k8s-blog-8-2023.jpg 504w, https://blog.aquasec.com/hs-fs/hubfs/figure-7-k8s-blog-8-2023.jpg?width=672&amp;height=252&amp;name=figure-7-k8s-blog-8-2023.jpg 672w, https://blog.aquasec.com/hs-fs/hubfs/figure-7-k8s-blog-8-2023.jpg?width=840&amp;height=315&amp;name=figure-7-k8s-blog-8-2023.jpg 840w, https://blog.aquasec.com/hs-fs/hubfs/figure-7-k8s-blog-8-2023.jpg?width=1008&amp;height=378&amp;name=figure-7-k8s-blog-8-2023.jpg 1008w" sizes="(max-width: 336px) 100vw, 336px"></a></p>
<p>Figure 7: lchaia/xmrig container image in Docker Hub with over 1 million pulls&nbsp;</p>
<p>The container deployed is <span>“lchaia/xmrig”.</span> We were able to find the person’s GitHub profile <a href="https://github.com/leonardochaia">https://github.com/leonardochaia&nbsp;</a></p>
<p>This wasn’t a single campaign. Next, the attacker utilized TOR exit node to conceal his IP address and launched the attack 282 consecutive times.&nbsp;</p>
<p><a href="https://1665891.fs1.hubspotusercontent-na1.net/hubfs/1665891/Figure-8---carbon-(11).jpg" rel="noopener" target="_blank"><img src="https://blog.aquasec.com/hs-fs/hubfs/Figure-8---carbon-(11).jpg?width=1000&amp;height=903&amp;name=Figure-8---carbon-(11).jpg" alt="Figure-8---carbon-(11)" width="1000" height="903" loading="lazy" srcset="https://blog.aquasec.com/hs-fs/hubfs/Figure-8---carbon-(11).jpg?width=500&amp;height=452&amp;name=Figure-8---carbon-(11).jpg 500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-8---carbon-(11).jpg?width=1000&amp;height=903&amp;name=Figure-8---carbon-(11).jpg 1000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-8---carbon-(11).jpg?width=1500&amp;height=1355&amp;name=Figure-8---carbon-(11).jpg 1500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-8---carbon-(11).jpg?width=2000&amp;height=1806&amp;name=Figure-8---carbon-(11).jpg 2000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-8---carbon-(11).jpg?width=2500&amp;height=2258&amp;name=Figure-8---carbon-(11).jpg 2500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-8---carbon-(11).jpg?width=3000&amp;height=2709&amp;name=Figure-8---carbon-(11).jpg 3000w" sizes="(max-width: 1000px) 100vw, 1000px"></a></p>
<p>Figure 8: Daemonset execution as recorded in our honeypot of the lchaia/xmrig container&nbsp;</p>
<p><span>The ssww attack&nbsp;</span></p>
<p>This campaign is a bit more aggressive. First the attacker lists all the available nodes. Next kills some competing campaigns, with the command shown in figure 9 below.&nbsp;</p>
<p><a href="https://1665891.fs1.hubspotusercontent-na1.net/hubfs/1665891/Figure-9---carbon-(34).jpg" rel="noopener" target="_blank"><img src="https://blog.aquasec.com/hs-fs/hubfs/Figure-9---carbon-(34).jpg?width=1000&amp;height=74&amp;name=Figure-9---carbon-(34).jpg" alt="Figure-9---carbon-(34)" width="1000" height="74" loading="lazy" srcset="https://blog.aquasec.com/hs-fs/hubfs/Figure-9---carbon-(34).jpg?width=500&amp;height=37&amp;name=Figure-9---carbon-(34).jpg 500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-9---carbon-(34).jpg?width=1000&amp;height=74&amp;name=Figure-9---carbon-(34).jpg 1000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-9---carbon-(34).jpg?width=1500&amp;height=111&amp;name=Figure-9---carbon-(34).jpg 1500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-9---carbon-(34).jpg?width=2000&amp;height=148&amp;name=Figure-9---carbon-(34).jpg 2000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-9---carbon-(34).jpg?width=2500&amp;height=185&amp;name=Figure-9---carbon-(34).jpg 2500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-9---carbon-(34).jpg?width=3000&amp;height=222&amp;name=Figure-9---carbon-(34).jpg 3000w" sizes="(max-width: 1000px) 100vw, 1000px"></a></p>
<p>Then the attacker creates a daemonset with a cron command. This daemonset mounts the filesystem of the host with root privileges. Thus, the cron is written directly on the host, each host/node actually, which promises both persistence, in case the misconfiguration is detected and fixed, and also high privileges on each host.&nbsp; When the cron is executed, it initiates an attack that runs a cryptominer.&nbsp;</p>
<p><a href="https://1665891.fs1.hubspotusercontent-na1.net/hubfs/1665891/Figure-10---Screen-Shot-2023-07-18-at-9.48.36.jpg" rel="noopener" target="_blank"><img src="https://blog.aquasec.com/hs-fs/hubfs/Figure-10---Screen-Shot-2023-07-18-at-9.48.36.jpg?width=1000&amp;height=535&amp;name=Figure-10---Screen-Shot-2023-07-18-at-9.48.36.jpg" alt="Figure-10---Screen-Shot-2023-07-18-at-9.48.36" width="1000" height="535" loading="lazy" srcset="https://blog.aquasec.com/hs-fs/hubfs/Figure-10---Screen-Shot-2023-07-18-at-9.48.36.jpg?width=500&amp;height=268&amp;name=Figure-10---Screen-Shot-2023-07-18-at-9.48.36.jpg 500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-10---Screen-Shot-2023-07-18-at-9.48.36.jpg?width=1000&amp;height=535&amp;name=Figure-10---Screen-Shot-2023-07-18-at-9.48.36.jpg 1000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-10---Screen-Shot-2023-07-18-at-9.48.36.jpg?width=1500&amp;height=803&amp;name=Figure-10---Screen-Shot-2023-07-18-at-9.48.36.jpg 1500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-10---Screen-Shot-2023-07-18-at-9.48.36.jpg?width=2000&amp;height=1070&amp;name=Figure-10---Screen-Shot-2023-07-18-at-9.48.36.jpg 2000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-10---Screen-Shot-2023-07-18-at-9.48.36.jpg?width=2500&amp;height=1338&amp;name=Figure-10---Screen-Shot-2023-07-18-at-9.48.36.jpg 2500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-10---Screen-Shot-2023-07-18-at-9.48.36.jpg?width=3000&amp;height=1605&amp;name=Figure-10---Screen-Shot-2023-07-18-at-9.48.36.jpg 3000w" sizes="(max-width: 1000px) 100vw, 1000px"></a></p>
<p>Figure 10: ssww attack as recorded in our honeypot&nbsp;</p>
<p><span>The Dero campaign&nbsp;</span></p>
<p>This campaign was initially reported by CrowdStrike. They only reported, however, about the <span>‘pauseyyf/pause:latest’</span> container image, while we found additional container images under the <span>‘alpineyyf’</span> account which had more activity.&nbsp;</p>
<p>The <span>‘pauseyyf/pause’</span> container image had 10K pulls, while <span>‘alpineyyf/pause’</span> accumulated 46K pulls and <span>‘alpineyyf/alpins’ </span>with over 100K pulls.&nbsp;</p>
<p><a href="https://1665891.fs1.hubspotusercontent-na1.net/hubfs/1665891/Figure-11--Screen-Shot-2023-03-28-at-14.28.22.jpg" rel="noopener" target="_blank"><img src="https://blog.aquasec.com/hs-fs/hubfs/Figure-11--Screen-Shot-2023-03-28-at-14.28.22.jpg?width=336&amp;height=117&amp;name=Figure-11--Screen-Shot-2023-03-28-at-14.28.22.jpg" alt="Figure-11--Screen-Shot-2023-03-28-at-14.28.22" width="336" height="117" loading="lazy" srcset="https://blog.aquasec.com/hs-fs/hubfs/Figure-11--Screen-Shot-2023-03-28-at-14.28.22.jpg?width=168&amp;height=59&amp;name=Figure-11--Screen-Shot-2023-03-28-at-14.28.22.jpg 168w, https://blog.aquasec.com/hs-fs/hubfs/Figure-11--Screen-Shot-2023-03-28-at-14.28.22.jpg?width=336&amp;height=117&amp;name=Figure-11--Screen-Shot-2023-03-28-at-14.28.22.jpg 336w, https://blog.aquasec.com/hs-fs/hubfs/Figure-11--Screen-Shot-2023-03-28-at-14.28.22.jpg?width=504&amp;height=176&amp;name=Figure-11--Screen-Shot-2023-03-28-at-14.28.22.jpg 504w, https://blog.aquasec.com/hs-fs/hubfs/Figure-11--Screen-Shot-2023-03-28-at-14.28.22.jpg?width=672&amp;height=234&amp;name=Figure-11--Screen-Shot-2023-03-28-at-14.28.22.jpg 672w, https://blog.aquasec.com/hs-fs/hubfs/Figure-11--Screen-Shot-2023-03-28-at-14.28.22.jpg?width=840&amp;height=293&amp;name=Figure-11--Screen-Shot-2023-03-28-at-14.28.22.jpg 840w, https://blog.aquasec.com/hs-fs/hubfs/Figure-11--Screen-Shot-2023-03-28-at-14.28.22.jpg?width=1008&amp;height=351&amp;name=Figure-11--Screen-Shot-2023-03-28-at-14.28.22.jpg 1008w" sizes="(max-width: 336px) 100vw, 336px"></a></p>
<p><span>Figure 11: The Dero campaign is pulling container images from Docker Hub; this one has over 100K pulls</span>&nbsp;</p>
<p><span>The RBAC buster campaign&nbsp;</span></p>
<p>This is another campaign that exploits the RBAC to create a very hidden backdoor, this was discovered as part of this research. We published a separate blog about it, you can read further <a href="https://blog.aquasec.com/leveraging-kubernetes-rbac-to-backdoor-clusters%C2%A0" rel="noopener" target="_blank">here</a>.&nbsp;</p>
<p><span>TeamTNT campaign&nbsp;</span></p>
<p>We recently reported a novel highly aggressive campaign by TeamTNT (<a href="https://blog.aquasec.com/threat-alert-anatomy-of-silentbobs-cloud-attack%C2%A0" rel="noopener" target="_blank">part1</a>, <a href="https://blog.aquasec.com/teamtnt-reemerged-with-new-aggressive-cloud-campaign%C2%A0" rel="noopener" target="_blank">part2</a>). In this campaign TeamTNT is searching for and collecting cloud service providers tokens (AWS, Azure, GCP etc).&nbsp;</p>
<p>Once collected they are actively using these credentials to collect further information about the cloud account and the possible targets that can be gathered, such as storage environments such as S3 and Blobs, Lambdas, and functions, etc.&nbsp;</p>
<h3>The attack vectors in focus&nbsp;</h3>
<p>We have identified two common misconfigurations, widely found in organizations, and actively exploited in the wild.</p>
<p><span>Misconfiguration 1 – anonymous user with high privileges&nbsp;</span></p>
<p>In many cases unauthenticated requests to the cluster are enabled by default. It means that anyone can send requests and understand that the communication is with a k8s cluster, but it does not mean that anyone can get access to the cluster. This is true in native k8s environment and even on some cloud providers managed clusters, and the response an unauthenticated user received (as can be seen in figure 12 below).&nbsp;</p>
<p><a href="https://1665891.fs1.hubspotusercontent-na1.net/hubfs/1665891/Figure-12---api-server-flag.jpg" rel="noopener" target="_blank"><img src="https://blog.aquasec.com/hs-fs/hubfs/Figure-12---api-server-flag.jpg?width=1000&amp;height=166&amp;name=Figure-12---api-server-flag.jpg" alt="Figure-12---api-server-flag" width="1000" height="166" loading="lazy" srcset="https://blog.aquasec.com/hs-fs/hubfs/Figure-12---api-server-flag.jpg?width=500&amp;height=83&amp;name=Figure-12---api-server-flag.jpg 500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-12---api-server-flag.jpg?width=1000&amp;height=166&amp;name=Figure-12---api-server-flag.jpg 1000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-12---api-server-flag.jpg?width=1500&amp;height=249&amp;name=Figure-12---api-server-flag.jpg 1500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-12---api-server-flag.jpg?width=2000&amp;height=332&amp;name=Figure-12---api-server-flag.jpg 2000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-12---api-server-flag.jpg?width=2500&amp;height=415&amp;name=Figure-12---api-server-flag.jpg 2500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-12---api-server-flag.jpg?width=3000&amp;height=498&amp;name=Figure-12---api-server-flag.jpg 3000w" sizes="(max-width: 1000px) 100vw, 1000px"></a></p>
<p>Figure 12: Anonymous-auth flag is enabled in the default EKS cluster configuration.&nbsp;</p>
<p>As illustrated in figure 13 below, DevOps and Developers undergo authentication phase and then authorization phase.&nbsp;</p>
<p><a href="https://1665891.fs1.hubspotusercontent-na1.net/hubfs/1665891/Figure-13---Screen-Shot-2023-07-17-at-12.06.46.jpg" rel="noopener" target="_blank"><img src="https://blog.aquasec.com/hs-fs/hubfs/Figure-13---Screen-Shot-2023-07-17-at-12.06.46.jpg?width=1000&amp;height=478&amp;name=Figure-13---Screen-Shot-2023-07-17-at-12.06.46.jpg" alt="Figure-13---Screen-Shot-2023-07-17-at-12.06.46" width="1000" height="478" loading="lazy" srcset="https://blog.aquasec.com/hs-fs/hubfs/Figure-13---Screen-Shot-2023-07-17-at-12.06.46.jpg?width=500&amp;height=239&amp;name=Figure-13---Screen-Shot-2023-07-17-at-12.06.46.jpg 500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-13---Screen-Shot-2023-07-17-at-12.06.46.jpg?width=1000&amp;height=478&amp;name=Figure-13---Screen-Shot-2023-07-17-at-12.06.46.jpg 1000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-13---Screen-Shot-2023-07-17-at-12.06.46.jpg?width=1500&amp;height=717&amp;name=Figure-13---Screen-Shot-2023-07-17-at-12.06.46.jpg 1500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-13---Screen-Shot-2023-07-17-at-12.06.46.jpg?width=2000&amp;height=956&amp;name=Figure-13---Screen-Shot-2023-07-17-at-12.06.46.jpg 2000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-13---Screen-Shot-2023-07-17-at-12.06.46.jpg?width=2500&amp;height=1195&amp;name=Figure-13---Screen-Shot-2023-07-17-at-12.06.46.jpg 2500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-13---Screen-Shot-2023-07-17-at-12.06.46.jpg?width=3000&amp;height=1434&amp;name=Figure-13---Screen-Shot-2023-07-17-at-12.06.46.jpg 3000w" sizes="(max-width: 1000px) 100vw, 1000px"></a></p>
<p>Figure 13: k8s authentication sequence</p>
<p>Below you can see the paradox of the k8s clusters, as illustrated in figure 14 below, anonymous unauthenticated user only undergoes one phase of authorization. It is also important to note that on most of the cloud providers the default configuration is to make the API server accessible from the internet to anyone.</p>
<p><a href="https://1665891.fs1.hubspotusercontent-na1.net/hubfs/1665891/Figure-14---Screen-Shot-2023-07-17-at-12.06.53.jpg" rel="noopener" target="_blank"><img src="https://blog.aquasec.com/hs-fs/hubfs/Figure-14---Screen-Shot-2023-07-17-at-12.06.53.jpg?width=1000&amp;height=476&amp;name=Figure-14---Screen-Shot-2023-07-17-at-12.06.53.jpg" alt="Figure-14---Screen-Shot-2023-07-17-at-12.06.53" width="1000" height="476" loading="lazy" srcset="https://blog.aquasec.com/hs-fs/hubfs/Figure-14---Screen-Shot-2023-07-17-at-12.06.53.jpg?width=500&amp;height=238&amp;name=Figure-14---Screen-Shot-2023-07-17-at-12.06.53.jpg 500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-14---Screen-Shot-2023-07-17-at-12.06.53.jpg?width=1000&amp;height=476&amp;name=Figure-14---Screen-Shot-2023-07-17-at-12.06.53.jpg 1000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-14---Screen-Shot-2023-07-17-at-12.06.53.jpg?width=1500&amp;height=714&amp;name=Figure-14---Screen-Shot-2023-07-17-at-12.06.53.jpg 1500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-14---Screen-Shot-2023-07-17-at-12.06.53.jpg?width=2000&amp;height=952&amp;name=Figure-14---Screen-Shot-2023-07-17-at-12.06.53.jpg 2000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-14---Screen-Shot-2023-07-17-at-12.06.53.jpg?width=2500&amp;height=1190&amp;name=Figure-14---Screen-Shot-2023-07-17-at-12.06.53.jpg 2500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-14---Screen-Shot-2023-07-17-at-12.06.53.jpg?width=3000&amp;height=1428&amp;name=Figure-14---Screen-Shot-2023-07-17-at-12.06.53.jpg 3000w" sizes="(max-width: 1000px) 100vw, 1000px"></a><span> Figure 14: k8s authentication sequence when anonymous requests are allowed</span></p>
<p>By default, the anonymous user has no permissions. But we have seen that practitioner in the wild, and in some cases, give privileges to the anonymous user. When mixing all the above, a severe misconfiguration is created.&nbsp;&nbsp;</p>
<p>We have seen cases in which practitioners bind the anonymous user role with other roles, often with admin roles, which puts their clusters in danger. A mixture of these misconfigurations can allow attackers to gain unauthorized access to the Kubernetes cluster, potentially compromising all applications running on it as well as other environments.&nbsp;</p>
<p>This leads to that you’re only one YAML away from disaster. A simple misconfiguration, a mistake can lead to an exposed cluster. As you can see in the wild the following mistakes:&nbsp;</p>
<p><a href="https://1665891.fs1.hubspotusercontent-na1.net/hubfs/1665891/Figure-15---michael_second.jpg" rel="noopener" target="_blank"><img src="https://blog.aquasec.com/hs-fs/hubfs/Figure-15---michael_second.jpg?width=1000&amp;height=346&amp;name=Figure-15---michael_second.jpg" alt="Figure-15---michael_second" width="1000" height="346" loading="lazy" srcset="https://blog.aquasec.com/hs-fs/hubfs/Figure-15---michael_second.jpg?width=500&amp;height=173&amp;name=Figure-15---michael_second.jpg 500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-15---michael_second.jpg?width=1000&amp;height=346&amp;name=Figure-15---michael_second.jpg 1000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-15---michael_second.jpg?width=1500&amp;height=519&amp;name=Figure-15---michael_second.jpg 1500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-15---michael_second.jpg?width=2000&amp;height=692&amp;name=Figure-15---michael_second.jpg 2000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-15---michael_second.jpg?width=2500&amp;height=865&amp;name=Figure-15---michael_second.jpg 2500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-15---michael_second.jpg?width=3000&amp;height=1038&amp;name=Figure-15---michael_second.jpg 3000w" sizes="(max-width: 1000px) 100vw, 1000px"></a></p>
<p>Figure 15: A configuration file taken from an exposed cluster in the wild. This cluster has 7 nodes and belongs to a large company.&nbsp;</p>
<p><span>Misconfiguration 2 – exposed proxy&nbsp;</span></p>
<p>Another common misconfiguration that was widely documented in our research is a misconfiguration in the <span>‘kubectl proxy’ </span>command. As illustrated below, when you run <span>‘kubectl proxy’</span> you are forwarding authorized and authenticated requests to the API server.&nbsp;</p>
<p><img src="https://blog.aquasec.com/hs-fs/hubfs/Figure-16---Screen-Shot-2023-07-17-at-12.08.26.jpg?width=1000&amp;height=382&amp;name=Figure-16---Screen-Shot-2023-07-17-at-12.08.26.jpg" alt="Figure-16---Screen-Shot-2023-07-17-at-12.08.26" width="1000" height="382" loading="lazy" srcset="https://blog.aquasec.com/hs-fs/hubfs/Figure-16---Screen-Shot-2023-07-17-at-12.08.26.jpg?width=500&amp;height=191&amp;name=Figure-16---Screen-Shot-2023-07-17-at-12.08.26.jpg 500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-16---Screen-Shot-2023-07-17-at-12.08.26.jpg?width=1000&amp;height=382&amp;name=Figure-16---Screen-Shot-2023-07-17-at-12.08.26.jpg 1000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-16---Screen-Shot-2023-07-17-at-12.08.26.jpg?width=1500&amp;height=573&amp;name=Figure-16---Screen-Shot-2023-07-17-at-12.08.26.jpg 1500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-16---Screen-Shot-2023-07-17-at-12.08.26.jpg?width=2000&amp;height=764&amp;name=Figure-16---Screen-Shot-2023-07-17-at-12.08.26.jpg 2000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-16---Screen-Shot-2023-07-17-at-12.08.26.jpg?width=2500&amp;height=955&amp;name=Figure-16---Screen-Shot-2023-07-17-at-12.08.26.jpg 2500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-16---Screen-Shot-2023-07-17-at-12.08.26.jpg?width=3000&amp;height=1146&amp;name=Figure-16---Screen-Shot-2023-07-17-at-12.08.26.jpg 3000w" sizes="(max-width: 1000px) 100vw, 1000px"></p>
<p>Figure 16: Running kubectl proxy on your workstation<br>&nbsp;</p>
<p>When you run the same command with the following flags <span>‘--address=`0.0.0.0` --accept-hosts `.*`’</span>, the proxy on your workstation will now listen and forward authorized and authenticated requests to the API server from any host that has HTTP access to the workstation. Mind, that the privileges are the same privileges that the user who ran the <span>‘kubectl proxy’</span> command has.&nbsp;</p>
<p><a href="https://1665891.fs1.hubspotusercontent-na1.net/hubfs/1665891/Figure-17---Screen-Shot-2023-07-17-at-12.08.38.jpg" rel="noopener" target="_blank"><img src="https://blog.aquasec.com/hs-fs/hubfs/Figure-17---Screen-Shot-2023-07-17-at-12.08.38.jpg?width=1000&amp;height=392&amp;name=Figure-17---Screen-Shot-2023-07-17-at-12.08.38.jpg" alt="Figure-17---Screen-Shot-2023-07-17-at-12.08.38" width="1000" height="392" loading="lazy" srcset="https://blog.aquasec.com/hs-fs/hubfs/Figure-17---Screen-Shot-2023-07-17-at-12.08.38.jpg?width=500&amp;height=196&amp;name=Figure-17---Screen-Shot-2023-07-17-at-12.08.38.jpg 500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-17---Screen-Shot-2023-07-17-at-12.08.38.jpg?width=1000&amp;height=392&amp;name=Figure-17---Screen-Shot-2023-07-17-at-12.08.38.jpg 1000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-17---Screen-Shot-2023-07-17-at-12.08.38.jpg?width=1500&amp;height=588&amp;name=Figure-17---Screen-Shot-2023-07-17-at-12.08.38.jpg 1500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-17---Screen-Shot-2023-07-17-at-12.08.38.jpg?width=2000&amp;height=784&amp;name=Figure-17---Screen-Shot-2023-07-17-at-12.08.38.jpg 2000w, https://blog.aquasec.com/hs-fs/hubfs/Figure-17---Screen-Shot-2023-07-17-at-12.08.38.jpg?width=2500&amp;height=980&amp;name=Figure-17---Screen-Shot-2023-07-17-at-12.08.38.jpg 2500w, https://blog.aquasec.com/hs-fs/hubfs/Figure-17---Screen-Shot-2023-07-17-at-12.08.38.jpg?width=3000&amp;height=1176&amp;name=Figure-17---Screen-Shot-2023-07-17-at-12.08.38.jpg 3000w" sizes="(max-width: 1000px) 100vw, 1000px"></a></p>
<p>Figure 17: Running kubectl proxy on your workstation, listening to the entire internet</p>
<p>Mind that some publications encourage practitioners to use the <span>‘kubectl proxy’</span> command for various purposes. For instance, various tutorials that explain about Kubernetes Dashboard installation are encouraging users to run the proxy command and do not explicitly warn about possible implications, as can be seen in these links (<a href="https://zjor.medium.com/how-to-deploy-a-dashboard-to-your-kubernetes-cluster-96c926793b80%C2%A0" rel="noopener" target="_blank">one</a>, <a href="https://sysaix.com/installing-kubernetes-dashboard-on-kubernetes-cluster%C2%A0" rel="noopener" target="_blank">two</a>, <a href="https://janrock.medium.com/kubernetes-dashboard-token-issue-solved-6df37893bef6%C2%A0" rel="noopener" target="_blank">three</a>).&nbsp;</p>
<h3>Summary and mitigation&nbsp;</h3>
<p>Throughout this blog, we explored the critical misconfigurations that often exist in the API server of Kubernetes clusters, particularly focusing on two: the binding of an admin role to an anonymous user and the worldwide exposure of the <span>`kubectl proxy`</span>. Despite the severe security implications, such misconfigurations are prevalent across organizations, irrespective of their size, indicating a gap in the understanding and management of <a href="https://www.aquasec.com/cloud-native-academy/kubernetes-in-production/kubernetes-security-best-practices-10-steps-to-securing-k8s/" rel="noopener" target="_blank">Kubernetes security.</a> &nbsp;</p>
<p>We analyzed several real-world incidents where attackers exploited these misconfigurations to deploy malware, cryptominers, and backdoors. These campaigns underscored the potential risks and the extensive damage that these vulnerabilities can cause if not properly addressed. &nbsp;</p>
<p>Two basic steps you can take to mitigate these risks are:&nbsp;</p>
<ol>
<li>
<p><span><span>Employee Training: </span>Organizations must invest in training their staff about the potential risks, best practices, and correct configurations. This will minimize human errors leading to such misconfigurations. </span></p>
</li>
<li>
<p><span>Securing <span>`kubectl proxy`</span>: </span>Ensure that the <span>`kubectl proxy` </span>is not exposed to the internet. It should be set up within a secure network environment and accessible only by authenticated and authorized users.&nbsp;</p>
</li>
</ol>
<p>In addition, you can leverage the Aqua platform to take further mitigation measures: &nbsp;<span></span></p>
<ul>
<li><span><span>Role-Based Access Control (RBAC): </span></span><span>RBAC is a native Kubernetes feature that can limit who can access the Kubernetes API and what permissions they have. Avoid assigning the admin role to an anonymous user. Make sure to assign appropriate permissions to each user and strictly adhere to the principle of least privilege.</span></li>
<li><strong>Implementing Admission Control Policies: </strong>Kubernetes Admission Controllers can intercept requests to the Kubernetes API server before persistence, enabling you to define and enforce policies that bolster security. We strongly recommend admission controls that prevent binding any role with the anonymous role, which will harden the security posture of your Kubernetes clusters. Aqua platform allows you to set such policy which better defends your clusters.</li>
</ul>
<p><a href="https://1665891.fs1.hubspotusercontent-na1.net/hubfs/1665891/Screenshot-2023-08-04-at-2.57.55-PM.jpg" rel="noopener" target="_blank"><img src="https://blog.aquasec.com/hs-fs/hubfs/Screenshot-2023-08-04-at-2.57.55-PM.jpg?width=1000&amp;height=209&amp;name=Screenshot-2023-08-04-at-2.57.55-PM.jpg" alt="Screenshot-2023-08-04-at-2.57.55-PM" width="1000" height="209" loading="lazy" srcset="https://blog.aquasec.com/hs-fs/hubfs/Screenshot-2023-08-04-at-2.57.55-PM.jpg?width=500&amp;height=105&amp;name=Screenshot-2023-08-04-at-2.57.55-PM.jpg 500w, https://blog.aquasec.com/hs-fs/hubfs/Screenshot-2023-08-04-at-2.57.55-PM.jpg?width=1000&amp;height=209&amp;name=Screenshot-2023-08-04-at-2.57.55-PM.jpg 1000w, https://blog.aquasec.com/hs-fs/hubfs/Screenshot-2023-08-04-at-2.57.55-PM.jpg?width=1500&amp;height=314&amp;name=Screenshot-2023-08-04-at-2.57.55-PM.jpg 1500w, https://blog.aquasec.com/hs-fs/hubfs/Screenshot-2023-08-04-at-2.57.55-PM.jpg?width=2000&amp;height=418&amp;name=Screenshot-2023-08-04-at-2.57.55-PM.jpg 2000w, https://blog.aquasec.com/hs-fs/hubfs/Screenshot-2023-08-04-at-2.57.55-PM.jpg?width=2500&amp;height=523&amp;name=Screenshot-2023-08-04-at-2.57.55-PM.jpg 2500w, https://blog.aquasec.com/hs-fs/hubfs/Screenshot-2023-08-04-at-2.57.55-PM.jpg?width=3000&amp;height=627&amp;name=Screenshot-2023-08-04-at-2.57.55-PM.jpg 3000w" sizes="(max-width: 1000px) 100vw, 1000px"></a></p>
<p>&nbsp; &nbsp;<a href="https://1665891.fs1.hubspotusercontent-na1.net/hubfs/1665891/Screenshot-2023-08-04-at-2.58.19-PM.jpg" rel="noopener" target="_blank"><img src="https://blog.aquasec.com/hs-fs/hubfs/Screenshot-2023-08-04-at-2.58.19-PM.jpg?width=1000&amp;height=504&amp;name=Screenshot-2023-08-04-at-2.58.19-PM.jpg" alt="Screenshot-2023-08-04-at-2.58.19-PM" width="1000" height="504" loading="lazy" srcset="https://blog.aquasec.com/hs-fs/hubfs/Screenshot-2023-08-04-at-2.58.19-PM.jpg?width=500&amp;height=252&amp;name=Screenshot-2023-08-04-at-2.58.19-PM.jpg 500w, https://blog.aquasec.com/hs-fs/hubfs/Screenshot-2023-08-04-at-2.58.19-PM.jpg?width=1000&amp;height=504&amp;name=Screenshot-2023-08-04-at-2.58.19-PM.jpg 1000w, https://blog.aquasec.com/hs-fs/hubfs/Screenshot-2023-08-04-at-2.58.19-PM.jpg?width=1500&amp;height=756&amp;name=Screenshot-2023-08-04-at-2.58.19-PM.jpg 1500w, https://blog.aquasec.com/hs-fs/hubfs/Screenshot-2023-08-04-at-2.58.19-PM.jpg?width=2000&amp;height=1008&amp;name=Screenshot-2023-08-04-at-2.58.19-PM.jpg 2000w, https://blog.aquasec.com/hs-fs/hubfs/Screenshot-2023-08-04-at-2.58.19-PM.jpg?width=2500&amp;height=1260&amp;name=Screenshot-2023-08-04-at-2.58.19-PM.jpg 2500w, https://blog.aquasec.com/hs-fs/hubfs/Screenshot-2023-08-04-at-2.58.19-PM.jpg?width=3000&amp;height=1512&amp;name=Screenshot-2023-08-04-at-2.58.19-PM.jpg 3000w" sizes="(max-width: 1000px) 100vw, 1000px"></a></p>
<ul>
<li><span>Regular Auditing:</span> Implement regular auditing of your Kubernetes clusters. This allows you to track each action performed in the cluster, helping in identifying anomalies and taking quick remedial actions.&nbsp;</li>
</ul>
<p>Aqua's scanner for cloud native environments including containers, code repositories, VMs, Kubernetes clusters, and cloud providers allows you to obtain the <a href="https://www.aquasec.com/cloud-native-academy/supply-chain-security/sbom/" rel="noopener" target="_blank">Software Bill of Material (SBOM)</a>, find vulnerabilities and misconfigurations, sensitive information, and secrets. You can scan your Kubernetes clusters for excessive RBAC permissions and exposed workloads as recommended previously.&nbsp;</p>

<p>In addition, you can scan your runtime environments to get access to hundreds of events that help you understand how your systems and applications behave. Aqua can trace low level system activity as well as detect higher level security anomalies. Use Aqua to monitor your Kubernetes clusters for suspicious behaviors like the ones previously described.</p>

<p>The Kube-hunter automated penetration testing tool can be used to hunt for security weaknesses in your Kubernetes clusters. Regularly schedule Kube-hunter scans and take corrective actions based on the results. </p>
<p>As illustrated in the screenshot below, the Aqua platform allows for the running of Kube Hunter to find misconfigurations that can endanger the cluster. For instance, in the example below, the API server returns information about the cluster’s health to anonymous user, this could be marked as a failed test or alternatively to be suppressed at your disposal.&nbsp;</p>
<p><a href="https://1665891.fs1.hubspotusercontent-na1.net/hubfs/1665891/Screen-Shot-2023-08-07-at-10.01.06.jpg" rel="noopener" target="_blank"><img src="https://blog.aquasec.com/hs-fs/hubfs/Screen-Shot-2023-08-07-at-10.01.06.jpg?width=1000&amp;height=667&amp;name=Screen-Shot-2023-08-07-at-10.01.06.jpg" alt="Screen-Shot-2023-08-07-at-10.01.06" width="1000" height="667" loading="lazy" srcset="https://blog.aquasec.com/hs-fs/hubfs/Screen-Shot-2023-08-07-at-10.01.06.jpg?width=500&amp;height=334&amp;name=Screen-Shot-2023-08-07-at-10.01.06.jpg 500w, https://blog.aquasec.com/hs-fs/hubfs/Screen-Shot-2023-08-07-at-10.01.06.jpg?width=1000&amp;height=667&amp;name=Screen-Shot-2023-08-07-at-10.01.06.jpg 1000w, https://blog.aquasec.com/hs-fs/hubfs/Screen-Shot-2023-08-07-at-10.01.06.jpg?width=1500&amp;height=1001&amp;name=Screen-Shot-2023-08-07-at-10.01.06.jpg 1500w, https://blog.aquasec.com/hs-fs/hubfs/Screen-Shot-2023-08-07-at-10.01.06.jpg?width=2000&amp;height=1334&amp;name=Screen-Shot-2023-08-07-at-10.01.06.jpg 2000w, https://blog.aquasec.com/hs-fs/hubfs/Screen-Shot-2023-08-07-at-10.01.06.jpg?width=2500&amp;height=1668&amp;name=Screen-Shot-2023-08-07-at-10.01.06.jpg 2500w, https://blog.aquasec.com/hs-fs/hubfs/Screen-Shot-2023-08-07-at-10.01.06.jpg?width=3000&amp;height=2001&amp;name=Screen-Shot-2023-08-07-at-10.01.06.jpg 3000w" sizes="(max-width: 1000px) 100vw, 1000px"></a></p>
<p>You can click on the test and get further information, as can be seen below, which shows information about the failed inspections by the platform. In this case there is a privileged container which could allow privilege escalation if an attacker finds initial access to the cluster. Other controls such as <span>‘API server hunter’</span> may indicate that the cluster is exposed to the world or exposes secrets, a severe problem widely explained in this blog, this control can help you to mitigate the risks.&nbsp;</p>
<p><a href="https://1665891.fs1.hubspotusercontent-na1.net/hubfs/1665891/Screen-Shot-2023-08-07-at-10.03.09.jpg" rel="noopener" target="_blank"><img src="https://blog.aquasec.com/hs-fs/hubfs/Screen-Shot-2023-08-07-at-10.03.09.jpg?width=1000&amp;height=202&amp;name=Screen-Shot-2023-08-07-at-10.03.09.jpg" alt="Screen-Shot-2023-08-07-at-10.03.09" width="1000" height="202" loading="lazy" srcset="https://blog.aquasec.com/hs-fs/hubfs/Screen-Shot-2023-08-07-at-10.03.09.jpg?width=500&amp;height=101&amp;name=Screen-Shot-2023-08-07-at-10.03.09.jpg 500w, https://blog.aquasec.com/hs-fs/hubfs/Screen-Shot-2023-08-07-at-10.03.09.jpg?width=1000&amp;height=202&amp;name=Screen-Shot-2023-08-07-at-10.03.09.jpg 1000w, https://blog.aquasec.com/hs-fs/hubfs/Screen-Shot-2023-08-07-at-10.03.09.jpg?width=1500&amp;height=303&amp;name=Screen-Shot-2023-08-07-at-10.03.09.jpg 1500w, https://blog.aquasec.com/hs-fs/hubfs/Screen-Shot-2023-08-07-at-10.03.09.jpg?width=2000&amp;height=404&amp;name=Screen-Shot-2023-08-07-at-10.03.09.jpg 2000w, https://blog.aquasec.com/hs-fs/hubfs/Screen-Shot-2023-08-07-at-10.03.09.jpg?width=2500&amp;height=505&amp;name=Screen-Shot-2023-08-07-at-10.03.09.jpg 2500w, https://blog.aquasec.com/hs-fs/hubfs/Screen-Shot-2023-08-07-at-10.03.09.jpg?width=3000&amp;height=606&amp;name=Screen-Shot-2023-08-07-at-10.03.09.jpg 3000w" sizes="(max-width: 1000px) 100vw, 1000px"></a></p>
<p>By employing these mitigation strategies, organizations can significantly enhance their Kubernetes security, ensuring their clusters are safe from common attacks. It is important to remember that Kubernetes security is not a one-time task but a continuous process of learning, adapting, and improving as the technology and threat landscape evolve. &nbsp;</p>

</span>
      </p>

      

      

    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[ChimeraOS: Instantly turn any PC into a gaming console (139 pts)]]></title>
            <link>https://chimeraos.org/</link>
            <guid>37052875</guid>
            <pubDate>Tue, 08 Aug 2023 17:49:51 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://chimeraos.org/">https://chimeraos.org/</a>, See on <a href="https://news.ycombinator.com/item?id=37052875">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<p>Steam, Epic, GOG, retro consoles, and more... all from your couch</p>
<a href="https://chimeraos.org/download">
<p><i></i>Download
</p>
</a>


<div>
	
	<p>Instantly turn any PC into a gaming console</p>
</div>
<div>
	
	<p>Thousands of games, dozens of platforms</p>
</div>
<div>
	
	<p>Fully controller compatible interface</p>
</div>
<div>
	
	<p>Automatic updates that stay out of the way</p>
</div>

<div>
<p><a href="https://chimeraos.org/about">Learn more</a>
</p></div>

</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Life has been found beneath hydrothermal vents for the first time (130 pts)]]></title>
            <link>https://www.iflscience.com/life-has-been-found-beneath-hydrothermal-vents-for-the-first-time-70178</link>
            <guid>37052710</guid>
            <pubDate>Tue, 08 Aug 2023 17:36:25 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.iflscience.com/life-has-been-found-beneath-hydrothermal-vents-for-the-first-time-70178">https://www.iflscience.com/life-has-been-found-beneath-hydrothermal-vents-for-the-first-time-70178</a>, See on <a href="https://news.ycombinator.com/item?id=37052710">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><section><header><div><p><img alt="clock" title="clock" width="16" height="16" src="https://assets.iflscience.com/svg/_clock.svg"><span>PUBLISHED</span><time data-published-date="2023-08-08T16:40:20Z" date-time="2023-08-08T16:40:20Z"></time></p></div><h2>Life Has Been Found Beneath Hydrothermal Vents For The First Time</h2><h2>The discovery represents a whole new ecosystem.</h2></header><figure><picture><source media="(min-width: 1000px)" srcset="https://assets.iflscience.com/assets/articleNo/70178/aImg/69871/life-beneath-deep-sea-vents-l.webp" type="image/webp"><source media="(min-width: 1000px)" srcset="https://assets.iflscience.com/assets/articleNo/70178/aImg/69871/life-beneath-deep-sea-vents-l.png" type="image/png"><source media="(max-width: 567px)" srcset="https://assets.iflscience.com/assets/articleNo/70178/aImg/69871/life-beneath-deep-sea-vents-m.webp" type="image/webp"><source media="(max-width: 567px)" srcset="https://assets.iflscience.com/assets/articleNo/70178/aImg/69871/life-beneath-deep-sea-vents-m.png" type="image/png"><img src="https://assets.iflscience.com/assets/articleNo/70178/aImg/69871/life-beneath-deep-sea-vents-m.png" alt="life beneath deep sea vents" title="life beneath deep sea vents" type="image/png" loading="lazy"></picture><figcaption><p>ROV SuBastian gathered geologic samples at a depth of 2,500 meters to test the theory that species were dispersing through cracks in the Earth's crust.&nbsp;</p><p>Image credit: ROV SuBastian / Schmidt Ocean Institute, <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener noreferrer">CC BY-NC-SA</a></p></figcaption></figure><article><div><p id="isPasted">An astonishing new ecosystem has just been announced following a discovery inside volcanic caves off Central America. It took the Schmidt Ocean Institute’s (SOI) research vessel <em>Falkor (too)</em> 30 days to complete its <a href="https://schmidtocean.org/cruise/underworld-of-hydrothermal-vents/" target="_blank" rel="noopener noreferrer">expedition</a>, and brought home one of the biggest discoveries in 46 years of studying hydrothermal vents.</p><p>Here, on the East Pacific Rise, an underwater robot was able to turn over sections of volcanic crust to reveal a new-to-science ecosystem teeming with worms, snails, and chemosynthetic bacteria that are seemingly thriving despite living in 25°C (75°F) water. It changes the way we now view hydrothermal vents, adding a whole new dimension with ecosystems existing both on their surface and underneath.</p><p>“On land, we have long known of animals living in caves underground, and in the ocean of animals living in sand and mud, but for the first time, scientists have looked beneath hydrothermal vents,” said SOI’s Executive Director, Dr Jyotika Virmani, in a statement sent to IFlScience. “This truly remarkable discovery of a new ecosystem, hidden beneath another ecosystem, provides fresh evidence that life exists in incredible places.”</p><div data-asset-id="69873" data-reactroot=""><div><picture title=""><source media="(min-width: 1000px)" srcset="https://assets.iflscience.com/assets/articleNo/70178/iImg/69873/hydrothermal-vent-life-l.webp" type="image/webp"><source media="(min-width: 1000px)" srcset="https://assets.iflscience.com/assets/articleNo/70178/iImg/69873/hydrothermal-vent-life-l.png" type="image/png"><source media="(min-width: 568px)" srcset="https://assets.iflscience.com/assets/articleNo/70178/iImg/69873/hydrothermal-vent-life-m.webp" type="image/webp"><source media="(min-width: 568px)" srcset="https://assets.iflscience.com/assets/articleNo/70178/iImg/69873/hydrothermal-vent-life-m.png" type="image/png"><source media="(max-width: 567px)" srcset="https://assets.iflscience.com/assets/articleNo/70178/iImg/69873/hydrothermal-vent-life-s.webp" type="image/webp"><source media="(max-width: 567px)" srcset="https://assets.iflscience.com/assets/articleNo/70178/iImg/69873/hydrothermal-vent-life-s.png" type="image/png"><img data-asset-id="69873" src="https://assets.iflscience.com/assets/articleNo/70178/iImg/69873/new%20ecosystem%20beneath%20hydrothermal%20vents.png" alt="hydrothermal vent life" title="hydrothermal vent life" loading="lazy"></picture></div><figcaption><p>The underside of a section of volcanic crust reveals some of the species living under the surface of hydrothermal vents.</p><p>Image credit: Mónika Naranjo-Shepherd / Schmidt Ocean Institute,&nbsp;<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener noreferrer">CC BY-NC-SA</a></p></figcaption></div><p><br>It’s the first time life has been found underneath hydrothermal vents, which are hot volcanic springs found along the seabed. The team also found evidence that surface species like tubeworms can travel underneath from the surface using vent fluid, enabling them to expand their range.</p><p><a href="https://www.iflscience.com/three-new-hydrothermal-vents-found-and-theyre-shrimply-stunning-68217" target="_blank" rel="noopener noreferrer">New hydrothermal vents</a> can appear when tectonic activity sees the plates on Earth’s crust shift and crack. These cracks fill with seawater that gets heated by the magma, making it rise back to the seafloor.</p><p>We’ve long understood how new hydrothermal vents appear, but what had people scratching their heads was how the ecosystems that live on them emerge so rapidly. One of the foundational animals of these ecosystems is the tubeworm, but we’ve rarely found its young on hydrothermal vent surfaces.</p><p>This new and pivotal discovery about how tubeworms can travel beneath the hydrothermal vent surface goes some way to explaining how they colonize new habitats. They were able to reach their conclusions with the aid of the underwater robot, ROV SuBastian, which glued boxes over cracks in the Earth’s crust and was able to collect some of the animals living below the surface.</p><div data-asset-id="69872" data-reactroot=""><div><picture title=""><source media="(min-width: 1000px)" srcset="https://assets.iflscience.com/assets/articleNo/70178/iImg/69872/life-beneath-hydrothermal-vents-l.webp" type="image/webp"><source media="(min-width: 1000px)" srcset="https://assets.iflscience.com/assets/articleNo/70178/iImg/69872/life-beneath-hydrothermal-vents-l.png" type="image/png"><source media="(min-width: 568px)" srcset="https://assets.iflscience.com/assets/articleNo/70178/iImg/69872/life-beneath-hydrothermal-vents-m.webp" type="image/webp"><source media="(min-width: 568px)" srcset="https://assets.iflscience.com/assets/articleNo/70178/iImg/69872/life-beneath-hydrothermal-vents-m.png" type="image/png"><source media="(max-width: 567px)" srcset="https://assets.iflscience.com/assets/articleNo/70178/iImg/69872/life-beneath-hydrothermal-vents-s.webp" type="image/webp"><source media="(max-width: 567px)" srcset="https://assets.iflscience.com/assets/articleNo/70178/iImg/69872/life-beneath-hydrothermal-vents-s.png" type="image/png"><img data-asset-id="69872" src="https://assets.iflscience.com/assets/articleNo/70178/iImg/69872/sample%20deep%20sea%20vent%20tubeworms.png" alt="life beneath hydrothermal vents" title="life beneath hydrothermal vents" loading="lazy"></picture></div><figcaption><p>Experiments code-named "Mesh Box Staining Gadgets" were sealed to the seafloor at the Tica Vent to see what, if any, life was beneath.</p><p>Image credit: ROV SuBastian / Schmidt Ocean Institute,<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener noreferrer">&nbsp;CC BY-NC-SA</a></p></figcaption></div><p><br>“Our understanding of animal life at deep-sea hydrothermal vents has greatly expanded with this discovery, ” said expedition lead Dr Monika Bright of the University of Vienna. “Two dynamic vent habitats exist. Vent animals above and below the surface thrive together in unison, depending on vent fluid from below and oxygen in the seawater from above.”</p><p>The discovery of a new ecosystem is always an exciting one, but it also represents a new consideration in the ongoing debate over the safety of deep-sea mining. Some argue that the sea bed is the path of least destruction when it comes to mining the planet for the metals needed to <a href="https://www.iflscience.com/4000-meters-below-the-sea-lies-the-planets-largest-source-of-battery-metals-69036" target="_blank" rel="noopener noreferrer">supply the green battery revolution</a>, but others warn we have a long way to go before we can establish the <a href="https://www.iflscience.com/over-5000-deep-sea-creatures-found-in-area-at-risk-of-rare-metal-mining-69121" target="_blank" rel="noopener noreferrer">possible harms</a> of digging in the deep sea.</p><p>“The discoveries made on each Schmidt Ocean Institute expedition reinforce the urgency of fully exploring our ocean so we know what exists in the deep sea," said Wendy Schmidt, president and co-founder of Schmidt Ocean Institute. "The discovery of new creatures, landscapes, and now, an entirely new ecosystem underscores just how much we have yet to discover about our Ocean –and how important it is to protect what we don't yet know or understand."</p><p>After all, as anyone who's watched <a href="https://www.youtube.com/watch?v=jCFWEzIVILc&amp;t=33s" target="_blank" rel="noopener noreferrer"><em>Underwater</em></a> knows, drilling beneath deep-sea vents can end very badly.</p></div></article><div><hr><div><h3>ARTICLE POSTED IN</h3></div></div></section><br><div><header><img alt="nature" title="nature" width="16" height="16" src="https://assets.iflscience.com/svg/label/_nature.svg"><h2>More Nature Stories</h2></header><div><div><p><img alt="clock" title="clock" width="16" height="16" src="https://assets.iflscience.com/svg/_clock.svg"><span>10 hours ago</span></p><div><p><span><img alt="share" title="share" width="16" height="16" src="https://assets.iflscience.com/svg/_share.svg"></span><span>120</span></p></div></div><div><p><img alt="clock" title="clock" width="16" height="16" src="https://assets.iflscience.com/svg/_clock.svg"><span>10 hours ago</span></p><div><p><span><img alt="share" title="share" width="16" height="16" src="https://assets.iflscience.com/svg/_share.svg"></span><span>170</span></p></div></div><div><p><img alt="clock" title="clock" width="16" height="16" src="https://assets.iflscience.com/svg/_clock.svg"><span>10 hours ago</span></p><div><p><span><img alt="share" title="share" width="16" height="16" src="https://assets.iflscience.com/svg/_share.svg"></span><span>43</span></p></div></div></div></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[LCD, Please – de-make of “Papers, please”, celebrating 10 years since launch (388 pts)]]></title>
            <link>https://dukope.itch.io/lcd-please</link>
            <guid>37052622</guid>
            <pubDate>Tue, 08 Aug 2023 17:30:09 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://dukope.itch.io/lcd-please">https://dukope.itch.io/lcd-please</a>, See on <a href="https://news.ycombinator.com/item?id=37052622">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="community_topic_posts_9373499"><div data-post="{&quot;id&quot;:8378016,&quot;user_id&quot;:5593771}" id="post-8378016"><a href="https://itch.io/profile/notblaine"></a><div dir="auto"><p>Super cool.</p><p>Thanks for this and everything you do!</p></div></div><div data-post="{&quot;id&quot;:8377874,&quot;user_id&quot;:20289}" id="post-8377874"><a href="https://itch.io/profile/timw"></a><div dir="auto"><p>Short playthrough video on itch.io's YouTube channel:&nbsp;</p>
</div></div><div data-post="{&quot;id&quot;:8377733,&quot;user_id&quot;:784809}" id="post-8377733"><a href="https://itch.io/profile/ganty"></a><div><p>Happy 10th Birthday Papers Please. I like the authentic photocopied look of the manual. And the authentic scratched LCD screen.</p></div></div><div data-post="{&quot;id&quot;:8377603,&quot;user_id&quot;:1100767}" id="post-8377603"><a href="https://itch.io/profile/g-boy"></a><div dir="auto"><p>Big fan of Papers Please, very happy to see this game given more love by the Dev!&nbsp;</p><p>Happy 10 year anniversary!&nbsp;</p></div></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Downfall Attacks (1022 pts)]]></title>
            <link>https://downfall.page/</link>
            <guid>37052586</guid>
            <pubDate>Tue, 08 Aug 2023 17:27:38 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://downfall.page/">https://downfall.page/</a>, See on <a href="https://news.ycombinator.com/item?id=37052586">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<p><a href="https://downfall.page/images/profile.png"><img src="https://downfall.page/images/profile.png" alt="profile"></a></p>
<p>Downfall attacks targets a critical weakness found in billions of modern processors used in personal and cloud computers. This vulnerability, identified as <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-40982">CVE-2022-40982</a>, enables a user to access and steal data from other users who share the same computer. For instance, a malicious app obtained from an app store could use the Downfall attack to steal sensitive information like passwords, encryption keys, and private data such as banking details, personal emails, and messages. Similarly, in cloud computing environments, a malicious customer could exploit the Downfall vulnerability to steal data and credentials from other customers who share the same cloud computer.</p>
<p>The vulnerability is caused by memory optimization features in Intel processors that unintentionally reveal internal hardware registers to software. This allows untrusted software to access data stored by other programs, which should not be normally be accessible. I discovered that the <em>Gather</em> instruction, meant to speed up accessing scattered data in memory, leaks the content of the internal vector register file during speculative execution. To exploit this vulnerability, I introduced Gather Data Sampling (GDS) and Gather Value Injection (GVI) techniques. You can read the <strong><a href="https://downfall.page/media/downfall.pdf">paper</a></strong> I wrote about this for more detail. Please cite as follow:</p>
<pre tabindex="0"><code>@inproceedings{moghimi2023downfall,
  title={{Downfall}: Exploiting Speculative Data Gathering},
  author={Moghimi, Daniel},
  booktitle={32th USENIX Security Symposium (USENIX Security 2023)},
  year={2023}
}
</code></pre><p>By <strong><a href="https://moghimi.org/">Daniel Moghimi</a></strong></p>
<hr>
<h2 id="demo">Demo</h2>
<h3 id="stealing-128-bit-and-256-bit-aes-keys-from-another-user">Stealing 128-bit and 256-bit AES keys from another user</h3>

<center><video width="75%" controls="">
    <source src="https://downfall.page/media/gds_aes.mp4" type="video/mp4">
    Your browser does not support the video tag.
</video></center>
<h3 id="stealing-arbitrary-data-from-the-linux-kernel">Stealing arbitrary data from the Linux Kernel</h3>

<center><video width="75%" controls="">
    <source src="https://downfall.page/media/gds_memcpy.mp4" type="video/mp4">
    Your browser does not support the video tag.
</video></center>
<h3 id="spying-on-printable-characters">Spying on printable characters</h3>

<center><video width="75%" controls="">
    <source src="https://downfall.page/media/gds_spy.mp4" type="video/mp4">
    Your browser does not support the video tag.
</video></center>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<hr>
<h2 id="faq">FAQ</h2>
<p><strong>[Q] Am I affected by this vulnerability?</strong></p>
<p>[A]
Most likely, yes. This depends on whether your computing devices (laptop, tablet, desktop, cloud, etc.) use the affected Intel processors. Even if you do not own any physical Intel-based devices, Intel’s server market share is more than 70%, so most likely, everyone on the internet is affected.</p>
<p><strong>[Q] Which computing devices are affected?</strong></p>
<p>[A]
Computing devices based on Intel Core processors from the 6th Skylake to (including) the 11th Tiger Lake generation are affected. A more comprehensive list of affected processors will be available <a href="https://www.intel.com/content/www/us/en/developer/topic-technology/software-security-guidance/processors-affected-consolidated-product-cpu-model.html">here</a>.</p>
<p><strong>[Q] What can a hacker do with this?</strong></p>
<p>[A]
A hacker can target high-value credentials such as passwords and encryption keys. Recovering such credentials can lead to other attacks that violate the availability and integrity of computers in addition to confidentiality.</p>
<p><strong>[Q] How practical are these attacks?</strong></p>
<p>[A]
GDS is highly practical. It tooks me 2 weeks to develop an end-to-end attack stealing encryption keys from OpenSSL. It only requires the attacker and victim to share the same physical processor core, which frequently happens on modern-day computers, implementing preemptive multitasking and simultaneous multithreading.</p>
<p><strong>[Q] Is Intel SGX also affected?</strong></p>
<p>[A]
In addition to normal isolation boundaries e.g., virtual machines, processes, user-kernel isolation, Intel SGX is also affected. Intel SGX is a hardware security feature available on Intel CPUs to protect user’s data against all form of malicious software.</p>
<p><strong>[Q] What about web browsers?</strong></p>
<p>[A] In theory, remotely exploiting this vulnerability from the web browser is possible. In practice, demonstrating successful attacks via web browsers requires additional research and engineering efforts.</p>
<p><strong>[Q] How long have users been exposed to this vulnerability?</strong></p>
<p>[A] At least nine years. The affected processors have been around since 2014.</p>
<p><strong>[Q] Is there a way to detect Downfall attacks?</strong></p>
<p>[A]
It is not easy. Downfall execution looks mostly like benign applications. Theoretically, one could develop a detection system that uses hardware performance counters to detect abnormal behaviors like exessive cache misses. However, off-the-shelf Antivirus software cannot detect this attack.</p>
<p><strong>[Q] Is there any mitigation for Downfall?</strong></p>
<p>[A]
Intel is releasing a microcode update which blocks transient results of gather instructions and prevent attacker code from observing speculative data from <em>Gather</em>.</p>
<p><strong>[Q] What is the overhead for the mitigation?</strong></p>
<p>[A]
This depends on whether <em>Gather</em> is in the critical execution path of a program. According to Intel, some workloads may experience up to 50% overhead.</p>
<p><strong>[Q] Can I disable the mitigation if my workload does not use Gather?</strong></p>
<p>[A]
This is a bad idea. Even if your workload does not use vector instructions, modern CPUs rely on vector registers to optimize common operations, such as copying memory and switching register content, which leaks data to untrusted code exploiting <em>Gather</em>.</p>
<p><strong>[Q] How long was this vulberability under embargo?</strong></p>
<p>[A]
Almost one year. I reported this vulnerability to Intel August 24, 2022.</p>
<p><strong>[Q] Should other processor vendors and designers be concerned?</strong></p>
<p>[A]
Other processors have shared SRAM memory inside the core, such as hardware register files and fill buffers. Manufacturers must design shared memory units with extra care to prevent data from leaking across different security domains and invest more in security validation and testing.</p>
<p><strong>[Q] How can I learn more about Downfall?</strong></p>
<p>[A]
In addition to the technical <a href="https://downfall.page/media/downfall.pdf">paper</a>, I am presenting Downfall at the <a href="https://www.blackhat.com/us-23/briefings/schedule/">BlackHat USA on August 9th, 2023</a> and <a href="https://www.usenix.org/conference/usenixsecurity23/presentation/moghimi">USENIX Security Symposium on August 11, 2023</a>.</p>
<p><strong>[Q] Can I play with Downfall?</strong></p>
<p>[A]
Here is the code: <a href="https://github.com/flowyroll/downfall/tree/main/POC">https://github.com/flowyroll/downfall/tree/main/POC</a></p>
<p><strong>[Q] Why is this called Downfall?</strong></p>
<p>[A]
Downfall defeats fundamental security boundaries in most computers and is a successor to previous data leaking vulnerabilities in CPUs including <a href="https://meltdownattack.com/">Meltdown</a> and <a href="https://mdsattacks.com/">Fallout</a> (AKA MDS). In this trilogy, <strong>Downfall</strong> defeats all previous mitigations once again.</p>
<p><strong>[Q] How did you create the logo?</strong></p>
<p>[A]
I used the <a href="https://openai.com/dall-e-2">DALL·E 2</a> AI system to create the logo.</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<hr>
<h2 id="advisories">Advisories</h2>
<table>
<thead>
<tr>
<th>Vendor</th>
<th>Link</th>
</tr>
</thead>
<tbody>
<tr>
<td>MITRE</td>
<td><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-40982">CVE-2022-40982</a></td>
</tr>
<tr>
<td>Intel</td>
<td><a href="https://www.intel.com/content/www/us/en/security-center/advisory/intel-sa-00828.html">INTEL-SA-00828</a></td>
</tr>
</tbody>
</table>
<hr>
<h2 id="links">Links</h2>
<ul>
<li>
<p><a href="https://www.darkreading.com/edge/meet-the-finalists-for-the-2023-pwnie-awards">Meet the Finalists for the 2023 Pwnie Awards</a> by Dark Reading</p>
</li>
<li>
<p><a href="https://www.intel.com/content/www/us/en/developer/articles/technical/softwaresecurity-guidance/technical-documentation/gather-data-sampling.html">Gather Data Sampling Technical Paper</a> by Intel</p>
</li>
<li>
<p><a href="https://www.intel.com/content/www/us/en/developer/topic-technology/softwaresecurity-guidance/best-practices/threat-analysis-gds.html">Threat Analysis Assessment for GDS Paper</a> by Intel</p>
</li>
<li>
<p><a href="https://www.youtube.com/watch?v=PjbJs2yZNKk&amp;t=1s">Episode 56: Interview with Daniel Moghimi about Downfall</a> by Chips &amp; Salsa</p>
</li>
</ul>


  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Uninstall the NightOwl macOS app now (911 pts)]]></title>
            <link>https://robins.one/notes/uninstall-the-nightowl-app-now.html</link>
            <guid>37052508</guid>
            <pubDate>Tue, 08 Aug 2023 17:23:00 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://robins.one/notes/uninstall-the-nightowl-app-now.html">https://robins.one/notes/uninstall-the-nightowl-app-now.html</a>, See on <a href="https://news.ycombinator.com/item?id=37052508">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>
<p>
<time datetime="2023-06-28 00:00:00 +0000">28/06/2023</time>
</p>

<h2 id="intro">Intro</h2>
<p>The NightOwl application has existed since 2018 and is used to automatically switch between light/dark modes on the operating system. It is an alternative to the built in macOS automatic mode which only switches when the user steps away from the computer.</p>
<p>However, the application has been bought out by “TPE.FYI LLC” in late 2022<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" rel="footnote">1</a></sup> that forcibly joins your devices into a botnet for use of market research, without your knowledge (other than the TOS in small text on the download page) or express consent (this feature cannot be turned off, even when the app is quit). This is documented in their terms of service<sup id="fnref:2" role="doc-noteref"><a href="#fn:2" rel="footnote">2</a></sup>:</p>
<blockquote>
<p>•WHEREAS, NightOwl app enables Users to share internet traffic by modifying their device’s network settings to be used as a gateway for internet traffic. Additionally, the User’s device acts as a gateway for NightOwl app’s Clients, including companies that specialize in web and market research, SEO, brand protection, content delivery, cybersecurity, etc.</p>
</blockquote>
<p>We have contacted NightOwl regarding this, and haven’t recieved a response yet.</p>
<h2 id="removal">Removal:</h2>
<p>Run these commands in Terminal, if you have the app installed <strong>at all</strong>, even if you don’t have it running.</p>
<div><pre><code>sudo killall NightOwl
launchctl unload ~/Library/LaunchAgents/NightOwlUpdater.plist
sudo killall AutoUpdate
sudo rm -rf /Applications/NightOwl.app/ ~/Library/LaunchAgents/NightOwlUpdater.plist
sudo zsh -c "rm /Users/*/Library/LaunchAgents/NightOwlUpdater.plist"
</code></pre></div>
<h2 id="technical-details">Technical Details</h2>
<p>The application, on install registers a launch agent named <code>org.nightowl.autoupdater.com</code><sup id="fnref:3" role="doc-noteref"><a href="#fn:3" rel="footnote">3</a></sup>. This is used to daemonize the process <code>/Applications/NightOwl.app/Contents/Helpers/AutoUpdate</code>, which runs as root, at boot, and cannot be disabled through the application. This happens silently, without the users knowledge or consent other than the following notice<sup id="fnref:4" role="doc-noteref"><a href="#fn:4" rel="footnote">4</a></sup></p>
<blockquote>
<p>In order to <strong>improve the App</strong>, NightOwl uses <strong>Google Analytics</strong> to collect Statistics. The tracked data helps to enhance NightOwl by analysing how <strong>features</strong> are used and which <strong>bugs</strong> appear. <br>
We initialize Google Analytics with the setting “anonymizeIp”. This guarantees <strong>anonymized data collection</strong> by masking the last part of your IP address. <br>
You are able to <strong>Opt-out</strong> of the tracking by <strong>unchecking “Send Statistics”</strong> in the <strong>settings</strong> section of NightOwl.</p>
</blockquote>
<p>Turning off send statistics does not disable the launch agent.</p>
<p>The ‘autoupdater’ does three things,</p>
<ul>
<li>check the app for updates (using Sparkle)</li>
<li>report any crashes (using Sentry)</li>
<li>start a local HTTP proxy on port <code>40701</code> (this can be changed using the configuration json file in the app bundle).</li>
</ul>
<p>The latter is of course, not to be expected of any app on the machine, especially not one that just claims to be an auto updater.</p>
<p>The daemon uses ‘sudo’ to switch from running as the root user, to the main user account, and then starts an instance of <code>nightowl_t.dylib</code> (which is actually a copy of <a href="https://github.com/tinyproxy/tinyproxy">tinyproxy</a>, which is licensed under GPLv2, and does not contain the GPL license notice, so this might actually be a violation!), which acts as a HTTP(S) proxy and runs on port , It opens up a SSH connection (using autossh, renamed <code>nightowl_a.dylib</code>, which doesn’t have a license) to <code>testconnectuser2023@proxy-gw1-europe.squidyproxy.com</code> on port <code>2043</code>, using a public key it drops in <code>/tmp</code> (it has a <code>.uu</code> extension), using the <code>-R</code> port to tunnel a port on the remote machine to the local machine. (it retrieves this by making a request to proxy-api1.squidyproxy.com over HTTPS). This domain was registered with GoDaddy in April 2022, and the IP address is hosted by Microsoft.</p>
<p>For reference, this SSH server has shell access enabled. (I didn’t try anything though). After the connection succeeds, it forwards HTTP traffic down to you, which gets proxied out of your internet connection. I saw it trying to access . It also tries to open a UPnP port forward on your router, but fails on mine because the key names are jumbled:</p>
<div><pre><code><span>POST</span> <span>/ctl/IPConn</span> <span>HTTP</span><span>/</span><span>1.1</span>
<span>Host</span><span>:</span> <span>192.168.1.1:5000</span>
<span>User-Agent</span><span>:</span> <span>Go-http-client/1.1</span>
<span>Content-Length</span><span>:</span> <span>526</span>
<span>CONTENT-TYPE</span><span>:</span> <span>text/xml; charset="utf-8"</span>
<span>SOAPACTION</span><span>:</span> <span>"urn:schemas-upnp-org:service:WANIPConnection:1#AddPortMapping"</span>
<span>Accept-Encoding</span><span>:</span> <span>gzip</span>

<span>&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span>&lt;s:Envelope</span> <span>xmlns:s=</span><span>"http://schemas.xmlsoap.org/soap/envelope/"</span> <span>s:encodingStyle=</span><span>"http://schemas.xmlsoap.org/soap/encoding/"</span><span>&gt;&lt;s:Body&gt;&lt;u:AddPortMapping</span> <span>xmlns:u=</span><span>"urn:schemas-upnp-org:service:WANIPConnection:1"</span><span>&gt;&lt;BznVVp_&gt;&lt;/BznVVp_&gt;&lt;A8Lx50LV3wS&gt;</span>50276<span>&lt;/A8Lx50LV3wS&gt;&lt;SOkiBsutQ&gt;</span>TCP<span>&lt;/SOkiBsutQ&gt;&lt;C7V6rYTZpovv&gt;</span>50276<span>&lt;/C7V6rYTZpovv&gt;&lt;S8pOPFbT13z&gt;</span>192.168.3.102<span>&lt;/S8pOPFbT13z&gt;&lt;AQBzrw&gt;</span>1<span>&lt;/AQBzrw&gt;&lt;O9hZpuXGWURb&gt;</span>ip royal paws<span>&lt;/O9hZpuXGWURb&gt;&lt;BBYmUz7H&gt;</span>2592000<span>&lt;/BBYmUz7H&gt;&lt;/u:AddPortMapping&gt;&lt;/s:Body&gt;&lt;/s:Envelope&gt;</span>
</code></pre></div>
<p>The application also seems to use the <a href="https://pawns.app/">Pawns</a> SDK<sup id="fnref:3:1" role="doc-noteref"><a href="#fn:3" rel="footnote">3</a></sup>, which is an app offers to pay users $0.20 per GB of their internet shared<sup id="fnref:5" role="doc-noteref"><a href="#fn:5" rel="footnote">5</a></sup>. This service is operated by <a href="https://iproyal.com/">IPRoyal</a><sup id="fnref:6" role="doc-noteref"><a href="#fn:6" rel="footnote">6</a></sup>, a proxy company that will sell you residential proxy connections for $1.75/GB, and advertises “100% ethically sourced IPs”<sup id="fnref:7" role="doc-noteref"><a href="#fn:7" rel="footnote">7</a></sup>.</p>
<h2 id="but-just-who-is-tpefyi-llc">But just who is “TPE.FYI LLC”?</h2>
<p>TPE (or Keeping Tempo, or Tempo AI (not to be confused with the Tempo AI calendar or the Tempo AI gym)) is “in the process of building a pricing model based on various analytics such as YouTube video views for an artist and geographical popularity data that will allow venues to price their tickets based on actual demand for an artist.”<sup id="fnref:8" role="doc-noteref"><a href="#fn:8" rel="footnote">8</a></sup> Information is sparse, and little information past 2018 exists. The application, at least the time of writing, and the installations I’ve been made aware of, makes a lot of connections to https://stubbs.frontgatetickets.com/, a website that sells tickets to live music events for a restaurant in Austin, TX.</p>
<p>The company was incorporated in September 2018 in Austin, Texas, and was dissolved in March 2023 by a “Jarod Stirling”<sup id="fnref:9" role="doc-noteref"><a href="#fn:9" rel="footnote">9</a></sup>, who lives in Apartment 443 (hah, nice), The Muse at SoCo, 1007 South Congress Avenue, Austin, Texas, 78704.</p>

<p>If you have any more information, I can be contacted at:</p>
<ul>
<li><a href="mailto:taylor@robins.one">taylor@robins.one</a></li>
<li><a href="https://t.me/tayiorrobinson">t.me/tayiorrobinson</a></li>
</ul>

</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Inception: A simple XOR can cause a Microarchitectural Stack Overflow (103 pts)]]></title>
            <link>https://comsec.ethz.ch/research/microarch/inception/</link>
            <guid>37051423</guid>
            <pubDate>Tue, 08 Aug 2023 16:20:33 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://comsec.ethz.ch/research/microarch/inception/">https://comsec.ethz.ch/research/microarch/inception/</a>, See on <a href="https://news.ycombinator.com/item?id=37051423">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content">
			<!-- If has sidebar start -->
	<main id="main">
		<div>
			<!-- If has sidebar end -->
							<article id="post-1131" class="page">
										<!-- .entry-header -->
					<div>
						
<p>Over the past one and a half years, we have studied two phenomena that enable an unprivileged attacker to leak arbitrary information on all modern AMD CPUs:</p>



<ul>
<li><strong>Phantom speculation: </strong>We can trigger misprediction without any branch at the source of the misprediction.</li>



<li><strong>Training in Transient Execution: </strong>We can manipulate future mispredictions through a previous misprediction that we trigger.</li>
</ul>



<p>Putting the two together gives rise to a new type of attack called <strong>Inception</strong>: we can inject future mispredictions through a previous misprediction that we trigger — in the absence of branches. You can see a demo of Inception and find more information about the issues below:</p>



<figure><p>
<iframe title="Inception: leaking the root hash from /etc/shadow on AMD Zen 4" width="780" height="439" src="https://www.youtube.com/embed/2wCjU8iJ9G4?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe>
</p></figure>



<hr>







<p>Inception (<a href="https://www.cve.org/CVERecord?id=CVE-2023-20569">CVE-2023-20569</a>) is a novel transient execution attack that leaks arbitrary data on all AMD Zen CPUs in the presence of all previously deployed software- and hardware mitigations. As in the movie of the same name, Inception plants an “idea” in the CPU while it is in a sense “dreaming”, to make it take wrong actions based on supposedly self conceived experiences. Using this approach, Inception hijacks the transient control-flow of return instructions on all AMD Zen CPUs.</p>



<h2>Training in Transient Execution (TTE)</h2>



<p>Inception is an instance of a new class of transient execution attacks that do their Training in Transient Execution (TTE). Instead of attempting to leak data in a transient window, TTE attacks abuse the transient window to insert new predictions into the branch predictor instead. These newly inserted predictions trigger future transient windows which can be more powerful than the initial one. TTE attacks thus turn supposedly harmless transient windows into dangerous ones, by abusing the victim as a confused deputy that trains itself in a transient window.</p>



<h2>Phantom speculation</h2>



<p>Although TTE attacks are interesting, they are not necessarily trivial to pull off, due to the need for specific gadgets in the victim code. Instead of these hard-to-find gadgets, what if there was an easier way to achieve a transient window for training? This is where <strong>Phantom speculation</strong> comes in. Phantom (<a href="https://www.cve.org/CVERecord?id=CVE-2022-23825">CVE-2022-23825</a>) enables an attacker to create a transient window at <em>arbitrary instructions</em>. Suddenly, a seemingly harmless XOR instruction can behave like a call instruction, and allow the attacker to create a transient window.</p>



<h2>Inception: A Combination of TTE and Phantom</h2>



<p>During our research, we found that merely a prediction for a specific instruction already manipulates the branch predictor. This enables us to insert new predictions in the branch predictor using only predictions of branches, even if they do not match reality, i.e. using a non-existing Phantom control flow. With Phantom, we can thus enable TTE by turning the CPU into a confused deputy that trains itself while running the victim.&nbsp; The result of this insight is Inception, an attack that leaks arbitrary data from an unprivileged process on all AMD Zen CPUs. Inception makes the CPU believe that a XOR instruction is a recursive call instruction which overflows the return stack buffer with an attacker-controlled target.</p>



<h2>Mitigations</h2>



<div><p>To fully mitigate Inception, the branch predictor state has to be fully flushed while switching between distrusting contexts. We found that on Zen 1(+) and Zen 2, this comes with a hefty overhead between 93.1% and 216.9%, depending on the specific microarchitecture. On Zen 3 and Zen 4, we did not find proper hardware support to flush the entire branch predictor state. AMD have released microcode to enable this feature.</p><p>Instead of flushing the entire branch predictor state, AMD proposed a different mitigation for the Linux kernel. By reducing all returns in the kernel to a single one, it becomes possible to ensure a safe (but still incorrect) branch predictor state each time this return is executed. Keeping <a href="https://support.google.com/faqs/answer/7625886">previous mitigations</a> in mind, this effectively means that AMD opted to have all indirect branches forcibly mispredict to a benign location, preventing Inception attacks.</p></div>



<h2>Resources</h2>



<p>A <a href="https://comsec.ethz.ch/wp-content/files/inception_sec23.pdf">paper</a> about Inception is going to be presented at <a href="https://comsec.ethz.ch/wp-content/files/inception_sec22.pdf">USENIX Security 2023</a> and a <a href="https://comsec.ethz.ch/wp-content/files/phantom_micro23.pdf">paper</a> about Phantom speculation is going to be presented at<a href="https://microarch.org/micro56/"> MICRO 2023</a>. You can find the source code of Inception on our <a href="https://github.com/comsec-group/inception">Github</a>. We will publish the source code of Phantom at a later date.</p>



<h2>FAQ</h2>



<ul>
<li><strong><strong>Is my machine affected?</strong></strong><p>If it embodies an AMD CPU, your machine is vulnerable to Inception and Phantom.</p></li>



<li><strong>What is the difference between Inception and Phantom?</strong><p>Inception leverages Training in Transient Execution (TTE) to add malicious branch prediction targets to the branch predictor. Phantom allows for triggering transient windows from arbitrary instructions, facilitating TTE and enabling Inception attacks.</p></li>



<li><strong>Does Inception affect CPUs other than AMD?</strong><p>No, but our analysis shows that Intel CPUs are vulnerable to certain TTE variants. While this certainly increases the known attack surface of transient execution attacks, it remains to be seen whether practical exploitation is possible on Intel CPUs.</p></li>



<li><strong>Does Phantom affect CPUs other than AMD?</strong><p>Yes, our analysis shows that Phantom also affects CPUs from Intel. However, the eIBRS mitigation makes Phantom exploitation non-trivial on these CPUs.</p></li>



<li><strong>Are only Linux systems affected?</strong><p>Although our proof-of-concept attacks require the system to be running Linux, Inception and Phantom fundamentally exploit vulnerabilities in the hardware. Therefore, any system with an affected CPU can potentially be the target of a Phantom or Inception attack, regardless of the running software.</p></li>



<li><strong>What should I do?</strong><p>Install the latest operating system updates.</p></li>
</ul>
					</div><!-- .entry-content -->
				</article><!-- #post -->
							<!-- If has sidebar start -->
		</div>
				<!-- If has sidebar end -->
		</main><!-- .site-main -->
	</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Do you avoid the news? You’re in growing company (154 pts)]]></title>
            <link>https://www.washingtonpost.com/media/2023/08/01/news-avoid-depressing/</link>
            <guid>37050960</guid>
            <pubDate>Tue, 08 Aug 2023 15:53:51 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.washingtonpost.com/media/2023/08/01/news-avoid-depressing/">https://www.washingtonpost.com/media/2023/08/01/news-avoid-depressing/</a>, See on <a href="https://news.ycombinator.com/item?id=37050960">Hacker News</a></p>
Couldn't get https://www.washingtonpost.com/media/2023/08/01/news-avoid-depressing/: Error [ERR_FR_TOO_MANY_REDIRECTS]: Maximum number of redirects exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Chat with your data using LangChain, Pinecone, and Airbyte (176 pts)]]></title>
            <link>https://airbyte.com/tutorials/chat-with-your-data-using-openai-pinecone-airbyte-and-langchain</link>
            <guid>37050532</guid>
            <pubDate>Tue, 08 Aug 2023 15:32:13 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://airbyte.com/tutorials/chat-with-your-data-using-openai-pinecone-airbyte-and-langchain">https://airbyte.com/tutorials/chat-with-your-data-using-openai-pinecone-airbyte-and-langchain</a>, See on <a href="https://news.ycombinator.com/item?id=37050532">Hacker News</a></p>
<div id="readability-page-1" class="page"><div fs-toc-offsettop="8rem" fs-toc-element="contents" fs-codehighlight-theme="base16/harmonic16-dark" fs-richtext-element="rich-text"><p>In <a href="https://airbyte.com/tutorials/implement-ai-data-pipelines-with-langchain-airbyte-and-dagster" target="_blank">a previous article</a>, we explained how Dagster and Airbyte can be leveraged to power LLM-supported use cases. Our newly introduced <a href="https://docs.airbyte.com/integrations/destinations/langchain/" target="_blank">vector database destination</a> makes this even easier as it removes the need to orchestrate chunking and embedding manually - instead the sources can be directly connected to the vector database through an Airbyte connection.</p><p>This tutorial walks you through a real-world use case of how to leverage vector databases and LLMs to make sense out of your unstructured data. By the end of this, you will:</p><ul role="list"><li>Know how to extract unstructured data from a variety of sources using Airbyte</li><li>Know how to use Airbyte to efficiently load data into a vector database, preparing the data for LLM usage along the way</li><li>Know how to integrate a vector database into your LLM to ask questions about your proprietary data</li></ul><figure><p><img src="https://assets-global.website-files.com/6064b31ff49a2d31e0493af1/64be8f601730eafec46db241_KR_NhEQHHKlCFQxGekCCZdyUKzTB8CusOu6_bCHvWP3Rv1q2oQdmZ6dh3iIw2lGTceGyt6J8MsHWrZRv5IbYgOv7rQeaD4q0Bb0IxfBfjgq3eB-CFdaWy0pzREjG7wtzBMyzpO3a9Zwfyn8H4r64hhc.png" alt=""></p></figure><h2>What we will build</h2><p>To better illustrate how this can look in practice, let’s use something that’s relevant for Airbyte itself.</p><p>Airbyte is a highly extensible system that allows users to develop their own connectors to extract data from any API or internal systems. Helpful information for connector developers can be found in different places:</p><ul role="list"><li>The official connector development documentation website</li><li>Github issues documenting existing feature requests, known bugs and work in progress</li><li>The community Slack help channel</li></ul><p>This article describes how to tie together all of these diverse sources to offer a single chat interface to access information about connector development - a bot that can answer questions in plain english about the code base, documentation and reference previous conversations:</p><figure><p><img src="https://assets-global.website-files.com/6064b31ff49a2d31e0493af1/64cf32950aef8ef8c796036f_V1GY2h5GAs1bIkKp2J43I-geDugBrCqpnpuAyJ7y9pxalBNnLRSsDoV5r5dTK5imoJI8bxuIVPW88msowFqys6qfkQQ43c_Z13EgR79BuH30JrHsXqhh8JomGA1Qq5cuc3kwYLTzgJbGbhH7cI4ijEI.png" alt=""></p></figure><p>In these examples, information from the documentation website and existing Github issues is combined in a single answer.</p><h2>Prerequisites</h2><p>For following through the whole process, you will need the following accounts. However, you can also work with your own custom sources and use a local vector store to avoid all but the OpenAI account:</p><p><strong>1. Source-specific accounts</strong></p><ul role="list"><li>Apify account</li><li>Github account</li><li>Slack account</li></ul><p><strong>2. Destination-specific accounts</strong></p><ul role="list"><li>OpenAI account</li><li>Pinecone account</li></ul><p><strong>3. Airbyte instance (</strong><a href="https://docs.airbyte.com/deploying-airbyte/local-deployment/" target="_blank"><strong>local</strong></a><strong> or </strong><a href="https://cloud.airbyte.com/" target="_blank"><strong>cloud</strong></a><strong>)</strong></p><h2>Step 1 - Fetch Github issues</h2><p>Airbyte’s feature and bug tracking is handled by the <a href="https://github.com/airbytehq/airbyte/issues" target="_blank">Github issue tracker</a> of the Airbyte open source repository. These issues contain important information people need to look up regularly.</p><p>To fetch Github issues, create a new source using the Github connector.</p><figure><p><img src="https://assets-global.website-files.com/6064b31ff49a2d31e0493af1/64cf3296e8c576bff0a4b227_cmEnI4qaIn3kA-E9M8Lqui-SeqPKNPrS5LMWOh9Y06VB7Eqy33TJS12o3W6bV6i3iYmhNGtkz_k1bO2OJOkZUpcKrmxyj-sszksKny5gLHNaKdp7RjS9i6MawIOzS4x4jU-8l2wMjPnZX6dzW-Gq2bE.png" alt=""></p></figure><p>If you are using Airbyte Cloud , you can easily authenticate using the “Authenticate your GitHub account”, otherwise follow the instructions in the documentation on the right side of how to set up a <a href="https://github.com/settings/tokens" target="_blank">personal access token</a> in the Github UI.</p><p>Next, configure a cutoff date for issues and specify the repositories that should be synced. In this case I’m going with “2023-07-01T00:00:00Z” and “airbytehq/airbyte” to sync recent issues from the main Airbyte repository:</p><figure><p><img src="https://assets-global.website-files.com/6064b31ff49a2d31e0493af1/64cf3294bd18871ab53b534b_b1SG5Nk65k4_adaHKv9Gyyp8ssHELtDdn07xdwwG4Wtd0ijLXTUuhCcjdRbwGQg3cmAKgCN-9fiYtcbY2qpCH32Mc8dZDPcXTHOMpXxy9Y4bL64_3Vb8Nk-i1SkPjWyojaJOrVjlQ1ofXBbFLzI4cxU.png" alt=""></p></figure><h2>Step 2 - Load into vector database</h2><p>Now we have our first source ready, but Airbyte doesn’t know yet where to put the data. The next step is to configure the destination. To do so, pick the “Vector Database (powered by LangChain)”. There is some preprocessing that Airbyte is doing for you so that the data is vector ready:</p><ul role="list"><li>Separating text and metadata fields and splitting up records into multiple documents to keep each document focused on a single topic and to make sure the text fits into the context window of the LLM that’s going to be used for question answering</li></ul><ul role="list"><li>Embedding the text of every document using the configured embedding service, turning the text into a vector to do similarity search on</li><li>Indexing the documents into the vector database (uploading the vector from the embedding service along with the metadata object)</li></ul><p>The vector database destination currently supports two different vector databases (with more to come) - Pinecone, which is a hosted service with a free tier and Chroma which stores the vector database in a local file.</p><p>For using Pinecone, sign up for a <a href="https://app.pinecone.io/?sessionType=signup" target="_blank">free trial account</a> and create an index using a starter pod. Set the dimensions to <strong>1536</strong> as that’s the size of the OpenAI embeddings we will be using</p><figure><p><img src="https://assets-global.website-files.com/6064b31ff49a2d31e0493af1/64cf329550014214567eb21e_XCRydu23sUl92Kv6lhY5yrm564yhw4T7hltxT1n8alhWxwonxvhgCYr_B1Ql6OIuqUtjrfyKbqFRBw1kPHYZhknXW1xkepJLPa8xgB2JdN9bI5X3Eyx6rsnBW7OQLfji-vjoThs8FagLaD70yZLxP0c.png" alt=""></p></figure><p>Once the index is ready, configure the vector database destination in Airbyte:</p><ul role="list"><li>Set chunk size to <strong>1000</strong> (the size refers to number of tokens, not characters, so this is roughly 4KB of text. The best chunking is dependent on the data you are dealing with)</li><li>Configure the records fields to treat as text fields which will be embedded. All other fields will be handled as metadata. For now, set it “<strong>title</strong>” and “<strong>body</strong>” as these are the relevant feels in the issue stream of the Github source</li><li>Set your OpenAI api key for powering the embedding service. You can find your API key in the API keys section of the <a href="https://platform.openai.com/account" target="_blank">platform.openai.com/account</a> page</li><li>For the indexing step, copy over index, environment and api key from the Pinecone UI. You can find the API key and the environment in the “API Keys” section in the UI</li></ul><figure><p><img src="https://assets-global.website-files.com/6064b31ff49a2d31e0493af1/64cf3296bd18871ab53b53dc_Pp3o4YoGrQu-DFt6b9dslx6hleweOuSfkF_azqQ767s8jun3ufqdUFvZQ8ec2k3jVqR9yVELuZKfZFwPTsXTnrfiusVsNJ4zaT80OHrs2yXQF4jtb6tUKtuKzi7BpR8oqrUYUCgeI1GTxb0QMuRnrFc.png" alt=""></p></figure><figure><p><img src="https://assets-global.website-files.com/6064b31ff49a2d31e0493af1/64cf329552b401ed4357cc88_hDduQ9SU74XXYofV6o_iUtSzSlPQdr_aPA4nwRq96nKLGdfcqopaHIepMsy0YTI4lY81UXxkpdI3yR6AgbUkGDJuvBXwCIFTIdbMjTHKHlYt-SNGM1w5BD4JX6S0eAstmuRG1IUns_QZewWiTLWW1bA.png" alt=""></p></figure><h2>Step 3 - Create a connection</h2><p>Once the destination is set up successfully, set up a connection from the Github source to the vector database destination. In the configuration flow, pick the existing source and destination. When configuring the connection, make sure to only use the “issues” stream, as this is the one we are interested in.</p><p>Side note: Airbyte allows to make this sync more efficient in a production environment:</p><ul role="list"><li>To keep the metadata focused, you can click on the stream name to select the individual fields you want to sync. For example if the “assignee” or the “milestone” field is never relevant to you, you can uncheck it and it won’t be synced to the destination.</li><li>The sync mode can be used to sync issues incrementally while deduplicating the records in the vector database so no stale data will show up in searches</li></ul><figure><p><img src="https://assets-global.website-files.com/6064b31ff49a2d31e0493af1/64cf3296d9d267abe7e5b794_tVVBMEXjO0Cvkb_BGnx3JF3X7fvQAyjcyrdqowx79Hkb9FVlWrnnt2Paxfsn3B2pvcF4ejK0kBohZLNszFL5dz8YHVb18DaFOMO3wU9PFkxT8s9uTnhO9SBLRxLsRVQ3-I5ffolcruddp8v-A2Xqcqw.png" alt=""></p></figure><p>If everything went well, there should be a connection now syncing data from Github to Pinecone via the vector store destination. Give the sync a few minutes to run. Once the first run has completed, you can check the <a href="https://app.pinecone.io/" target="_blank">Pinecone index management page</a> to see a bunch of indexed vectors ready to be queried. </p><figure><p><img src="https://assets-global.website-files.com/6064b31ff49a2d31e0493af1/64cf3296b8a6b3413b184c06_L6D9vLZf8huWjjiswHbC6c6lwNY9x0lZ91htAtNG8rc5dQztZg-QPupkAIlzKkM5Gi4-Zbi1dfMkVzKQHQimaXUnU67QguAqRpAHlwWQr_XyktA96A2KgaGTE2y4ar9nn0sf8tII6no7hT3CrU_-Wf0.png" alt=""></p></figure><p>Each vector is associated with a metadata object that’s filled with the fields that were not mentioned as “text fields” in the destination configuration. These fields will be retrieved along with the embedded text and can be leveraged by our chatbot in later sections. This is how a vector with metadata looks like when retrieved from Pinecone:</p><div><pre><code>{
      "id": "599d75c8-517c-4f37-88df-ff16576bd607",
      "values": [0.0076571689, ..., 0.0138477711],
      "metadata": {
        "_airbyte_stream": "issues",
        "_record_id": 1556650122,
        "author_association": "CONTRIBUTOR",
        "comments": 3,
        "created_at": "2023-01-25T13:21:50Z",
        // ...
        "text": "...The acceptance-test-config.yml file is in a legacy format. Please migrate to the latest format...",
        "updated_at": "2023-07-17T09:20:56Z",
      }
}
</code></pre></div><p>On subsequent runs, Airbyte will only re-embed and update the vectors for the issues that changed since the last sync - this will speed up subsequent runs while making sure your data is always up-to-date and available.</p><h2>Step 4 - Chat interface</h2><p>The data is ready, now let’s wire it up with our LLM to answer questions in natural language. As we already used OpenAI for the embedding, the easiest approach is to use it as well for the question answering.</p><p>We will use Langchain as an orchestration framework to tie all the bits together.</p><p>First, install a few pip packages locally:</p><div><pre><code>pip install pinecone-client langchain openai</code></pre></div><p>The basic functionality here works the following way:</p><ul role="list"><li>User asks a question</li><li>The question is embedded using the same model used for generating the vectors in the vector database (OpenAI in this case)</li><li>The question vector is sent to the vector database and documents with similar vectors are returned - as the vectors represent the meaning of the text, the question and the answer to the question will have very similar vectors and relevant documents will be returned</li><li>The text of all documents with the relevant metadata are put together into a single string and sent to the LLM together with the question the user asked and the instruction to answer the user’s question based on the provided context</li><li>The LLM answers the question based on the provided context</li><li>The answer is presented to the user</li></ul><p>This flow is often referred to as <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/jumpstart-foundation-models-customize-rag.html" target="_blank">retrieval augmented generation</a>. The RetrievalQA class from the Langchain framework already implements the basic interaction. The simplest version of our question answering bot only has to provide the vector store and the used LLM:</p><div><pre><code># chatbot.py
import os
import pinecone
from langchain.chains import RetrievalQA
from langchain.embeddings import OpenAIEmbeddings
from langchain.llms import OpenAI
from langchain.vectorstores import Pinecone

embeddings = OpenAIEmbeddings()
pinecone.init(api_key=os.environ["PINECONE_KEY"], environment=os.environ["PINECONE_ENV"])
index = pinecone.Index(os.environ["PINECONE_INDEX"])
vector_store = Pinecone(index, embeddings.embed_query, "text")

qa = RetrievalQA.from_chain_type(llm=OpenAI(temperature=0), chain_type="stuff", retriever=vector_store.as_retriever())

print("Connector development help bot. What do you want to know?")
while True:
    query = input("")
    answer = qa.run(query)
    print(answer)
    print("\nWhat else can I help you with:")</code></pre></div><p>To run this script, you need to set OpenAI and Pinecone credentials as environment variables:</p><div><pre><code>export OPENAI_API_KEY=...
export PINECONE_KEY=...
export PINECONE_ENV=...
export PINECONE_INDEX=...
python chatbot.py</code></pre></div><p>This works in general, but it has some limitations. By default, only the text fields are passed into the prompt of the LLM, so it doesn’t know what the context of a text is and it also can’t give a reference back to where it found its information:</p><div><pre><code>Connector development help bot. What do you want to know?
&gt; Can you give me information about how to authenticate via a login endpoint that 
returns a session token?


Yes, the GenericSessionTokenAuthenticator should be supported in the UI[...]</code></pre></div><p>From here, there’s lots of fine tuning to do to optimize our chat bot. For example we can improve the prompt to contain more information based on the metadata fields and be more specific for our use case:</p><div><pre><code>prompt_template = """You are a question-answering bot operating on Github issues and documentation pages for a product called connector builder. 
The documentation pages document what can be done, the issues document future plans and bugs. 
Use the following pieces of context to answer the question at the end. 
If you don't know the answer, just say that you don't know, don't try to make up an answer. 
Always state were you got this information from (and the github issue number if applicable).
If the answer is based on a Github issue that's not closed yet, add 'This issue is not closed yet - the feature might not be shipped yet' to the answer.

{context}

Question: {question}
Helpful Answer:"""

prompt = PromptTemplate(
    template=prompt_template, input_variables=["context", "question"]
)

class ConnectorDevelopmentPrompt(PromptTemplate):
    def format_document(doc: Document, prompt: PromptTemplate) -&gt; str:
        if doc.metadata["_airbyte_stream"] == "issues":
            return f"Excerpt from Github issue: {doc.page_content}, issue number: {doc.metadata['number']}, issue state: {doc.metadata['state']}"
        else:
            return super().format_document(doc, prompt)

document_prompt = ConnectorDevelopmentPrompt(input_variables=["page_content"], template="{page_content}")
qa = RetrievalQA.from_chain_type(llm=OpenAI(temperature=0), chain_type="stuff", retriever=vector_store.as_retriever(), chain_type_kwargs={"prompt": prompt, "document_prompt": document_prompt})</code></pre></div><p>The full script also be found <a href="https://github.com/airbytehq/tutorial-connector-dev-bot/blob/main/localbot_adapted.py">on Github</a></p><p>This revised version of the RetrievalQA chain customizes the prompts that are sent to the LLM after the context has been retrieved:</p><ul role="list"><li>The basic prompt template sets the broader context what this question is about (previously the LLM had to guess from the documents)</li><li>It also changes the way documents are added to the prompt - by default, only the text is added, but the ConnectorDevelopmentPrompt implementation sets the context where the data is coming from and also adds relevant metadata to the prompt so the LLM can base its answer on more than just the text</li></ul><div><pre><code>Connector development help bot. What do you want to know?
&gt; Can you give me information about how to authenticate via a login endpoint that 
returns a session token?

You can use the GenericSessionTokenAuthenticator to authenticate via a login endpoint 
that returns a session token. This is documented in the Connector Builder 
documentation with an example of how the request flow functions (e.g. metabase). This 
issue is not closed yet - the feature might not be shipped yet (Github issue #26341).</code></pre></div><h2>Step 5 - Put it on Slack</h2><p>So far this helper can only be used locally. However, using the python slack sdk it’s easy to turn this into a Slack bot itself.</p><p>To do so, we need to set up a Slack “App” first. Go to <a href="https://api.slack.com/apps" target="_blank">https://api.slack.com/apps</a> and create a new app based on the manifest <a href="https://raw.githubusercontent.com/airbytehq/tutorial-connector-dev-bot/main/slack_manifest.json" target="_blank">here</a> (this saves you some work configuring permissions by hand). After you set up your app, install it to the workspace you want to integrate with. This will generate a “Bot User OAuth Access Token” you need to note down. Afterwards, go to the “Basic information” page of your app, scroll down to “App-Level Tokens” and create a new token. Note down this “app level token” as well.</p><p>Within the regular Slack client, your app can be added to a slack channel by clicking the channel name and going to the “Integrations” tab:</p><figure><p><img src="https://assets-global.website-files.com/6064b31ff49a2d31e0493af1/64cf32964c000a2e7a0f085e_7EqGxZDFTY9RU3DfPrg6bfuAfs4cpsRpo6vppyzyvshYrV8R1E8j5mKEEiTjiNsaYOJwrWBztzwxPKx1hznDHDnZeG9JZUbu-iStCdvnaKONR-MwtGDNlD4HUnlJATjKQO_EwCH1hcHozqJHeyVlCJs.png" alt=""></p></figure><p>After this, your Slack app is ready to receive pings from users to answer questions - the next step is to call Slack from within python code, so we need to install the python client library:</p><p>Afterwards, we can extend our existing chatbot script with a Slack integration:</p><div><pre><code>from slack_sdk import WebClient
from slack_sdk.socket_mode import SocketModeClient
from slack_sdk.socket_mode.request import SocketModeRequest
from slack_sdk.socket_mode.response import SocketModeResponse

slack_web_client = WebClient(token=os.environ["SLACK_BOT_TOKEN"])

handled_messages = {}

def process(client: SocketModeClient, socket_mode_request: SocketModeRequest):
    if socket_mode_request.type == "events_api":
        event = socket_mode_request.payload.get("event", {})
        client_msg_id = event.get("client_msg_id")
        if event.get("type") == "app_mention" and not handled_messages.get(client_msg_id):
            handled_messages[client_msg_id] = True
            channel_id = event.get("channel")
            text = event.get("text")
            result = qa.answer(text)
            slack_web_client.chat_postMessage(channel=channel_id, text=result)
    
    return SocketModeResponse(envelope_id=socket_mode_request.envelope_id)

socket_mode_client = SocketModeClient(
    app_token=os.environ["SLACK_APP_TOKEN"], 
    web_client=slack_web_client
)
socket_mode_client.socket_mode_request_listeners.append(process)

socket_mode_client.connect()
print("listening")
from threading import Event
Event().wait()
</code></pre></div><p>The full script also be found <a href="https://github.com/airbytehq/tutorial-connector-dev-bot/blob/main/slackbot.py" target="_blank">on Github</a></p><p>To run the script, the environment variables for the slack bot token and app token need to be added as environment variables as well:</p><div><pre><code>export SLACK_BOT_TOKEN=...
export SLACK_APP_TOKEN=...
python chatbot.py</code></pre></div><p>Running this, you should be able to ping the development bot application in the channel you added it to like a user and it will respond to questions by running the RetrievalQA chain that loads relevant context from the vector database and uses an LLM to formulate a nice answer:</p><figure><p><img src="https://assets-global.website-files.com/6064b31ff49a2d31e0493af1/64cf32964c000a2e7a0f0881_vTyLpkj1MHbsiYFB2CICRWrozqvsiwvE4vdt_AFwqWpQgXbaMFQz4k2lslmJLVWaQVE9qNnTjiRCHEe_0D9I3CPyEeVEfGvkXoz9PIQwPne4DhxqDfRaUM5mBEW1XBstAr1bas4OAaKnxVYGBLYm40I.png" alt=""></p></figure><p>All the code can also be found <a href="https://github.com/airbytehq/tutorial-connector-dev-bot" target="_blank">on Github</a></p><h2>Step 6 - Additional data source: Scrape documentation website</h2><p>Github issues are helpful, but there is more information we want our development bot to know.</p><p>The <a href="https://docs.airbyte.com/connector-development/connector-builder-ui/overview/" target="_blank">documentation page</a> for connector development is a very important source of information to answer questions, so it definitely needs to be included. The easiest way to make sure the bot has the same information as what’s published, is to scrape the website. For this case, we are going to use the <a href="https://docs.airbyte.com/integrations/destinations/langchain/" target="_blank">Apify</a> service to take care of the scraping and turning the website into a nicely structured dataset. This dataset can be extracted using the Airbyte Apify Dataset source connector.</p><p>First, log into Apify and navigate to the store. Choose the “Web Scraper” actor as a basis - it already implements most of the functionality we need</p><figure><p><img src="https://assets-global.website-files.com/6064b31ff49a2d31e0493af1/64cf32960aef8ef8c796039d_6R0PBxp9FZSvldwNjMaZHEE3MNg8k4jVomPTX_cIDysWYsA4cW26mn6S0mTKGWNVGWUlYBGftbG_O8g-FHlqcXSqqSiOrG_dr3kwO-sKKf1NHpGqy5npmDiruMpj8G0ZZExt9y61r8uLSp9CExLB8mE.png" alt=""></p></figure><p>Next, create a new task and configure it to scrape all pages of the documentation, extracting the page title and all of the content:</p><ul role="list"><li>Set Start URLs to <a href="https://docs.airbyte.com/connector-development/connector-builder-ui/overview/" target="_blank">https://docs.airbyte.com/connector-development/connector-builder-ui/overview/</a> , the intro page of the documentation linking to other pages</li><li>Set Link selector to a[href] to follow all links from every page</li><li>Set Glob Patterns to <a href="https://docs.airbyte.com/connector-development/connector-builder-ui/*" target="_blank">https://docs.airbyte.com/connector-development/connector-builder-ui/*</a> to limit the scraper to stick to the documentation and not crawl the whole internet</li><li>Configure the Page function to extract the page title and the content - in this case the content element can be found using the CSS class name</li></ul><div><pre><code>async function pageFunction(context) {
    const $ = context.jQuery;
    const pageTitle = $('title').first().text();
    const content = $('.markdown').first().text();

    return {
        url: context.request.url,
        pageTitle,
        content
    };
}
</code></pre></div><p>Running this actor will complete quickly and give us a nicely consumable dataset with a column for the page title and the content:</p><figure><p><img src="https://assets-global.website-files.com/6064b31ff49a2d31e0493af1/64cf329850014214567eb2ed_5xcWYKrZInzlQJs6pFlTemphPLS6V0L9A8x504bIgDm8B9bcmVo1-eaxpfwxt79RkXQg-zP6agQkgryy6TrY5j4EN6QNDkiaL8DVyOe61EKVocCO6w2uGjrQSLAGmvziyZ8gMakiWV48sLdZdmQbm9U.png" alt=""></p></figure><p>Now it’s time to connect Airbyte to the Apify data set - go to the Airbyte web UI and add your second Source - pick “Apify Dataset”</p><figure><p><img src="https://assets-global.website-files.com/6064b31ff49a2d31e0493af1/64cf3297d40a4b1b7d0fe6b1_5nd8X3zhXv61VB0zU5hN6GtQsFErLtmdC_JMYaSrDqmpKi-gSmh8d2pxB_c0y6gmQUW1hj77bwAiGV9hTK21tI9MUaGuR92qZqttUAtuSVCzDHk2dQYn8O6ysKl-tKnkyGp4cueJ3Nf7-OTZhV3jVtk.png" alt=""></p></figure><p>To set up the Source, you only need to copy the dataset ID that’s shown in the “Storage” tap of the “Run” in the Apify UI</p><figure><p><img src="https://assets-global.website-files.com/6064b31ff49a2d31e0493af1/64cf329919c2fe31dee10424_Ujq9XkzeNwphZ2d5vxch_jM-lt1lcahHMWLPeywhrld5mzltPZ604mOv-ETKrvBCp-6YiY0j8lPpRy30Wc9BRjrsiGTmSRuJZZj-FMbnOhV0oSbsIZIA1eBervtu0XuqJyE8m27n_-29KJMUmI8RZOk.png" alt=""></p></figure><figure><p><img src="https://assets-global.website-files.com/6064b31ff49a2d31e0493af1/64cf32980aef8ef8c7960424_tILg5dMD_pXDT1-FAogb6jvfm90hUPR4vfANJOdgTMkOF2vllP0H0HqFt3XWBE1qUD9KYKFHniHsNs1n6lV9Yr_7e7mo5mR_fvQHOKicsr6pzZJFK7RWjV5j2ELORHBgngmPwEgLo46YOppqV4y3r_g.png" alt=""></p></figure><p>Once the source is set up, follow the same steps as for the Github source to set up a connection moving data from the Apify dataset to the vector store. As the relevant text content is sitting in different fields, you also need to update the vector store destination - add <strong>data.pageTitle</strong> and <strong>data.content</strong> to the “text fields” of the destination and save.</p><h2>Step 7 - Additional data source: Fetch Slack messages</h2><p>Another valuable source of information relevant to connector development are Slack messages from the public help channel. These can be loaded in a very similar fashion. Create a new source using the Slack connector. When using cloud, you can authenticate using the “Authenticate your Slack account” button for simple setup, otherwise follow the instructions in the documentation on the right hand side how to create a Slack “App” with the required permissions and add it to your workspace. To avoid fetching messages from all channels, set the channel name filter to the correct channel.</p><figure><p><img src="https://assets-global.website-files.com/6064b31ff49a2d31e0493af1/64cf329862f87a60330875d1_1gjkCtJ_kGBeQzUhxy_ONp-rgrdguY-SPL_bZmqQPVQKxYYlJh6aIgnQj-pafIQXFBUNo6_ZfI0aSvGTRYpEO-Jwg3vyMQjvOqLYrOjKRZg0EIZSrarZFj5uIzpQ0RM7CzCdmmgrY0Ds54eLx0Msa7Q.png" alt=""></p></figure><p>As for Apify and Github, a new connection needs to be created to move data from Slack to Pinecone. Also add <strong>text</strong> to the “text fields” of the destination to make sure the relevant data gets embedded properly so similarity searches will yield the right results.</p><p>If everything went well, there should be three connections now, all syncing data from their respective sources to the centralized vector store destination using a Pinecone index.</p><figure><p><img src="https://assets-global.website-files.com/6064b31ff49a2d31e0493af1/64cf329b52b401ed4357cf3d_foNAVHB4HLrDJ-9AtJQbxt7tWUSM_-j9CwYd5TMVUx8SGvAcoMkI9AjOufJTsZuyMf3Q4lKAisy4b1iXNtDUS6pkhK3J2_kGs4vCm6YRHWOA2ic_be_9rHk4jm-v36IILxcyJOJspDenqV8hAuPTC9w.png" alt=""></p></figure><p>By adjusting the frequency of the connections, you can control how often Airbyte will rerun the connection to make sure the knowledge base of our chat bot stays up to date. As Github and Slack are frequently updated and support efficient incremental updates, it makes sense to set them to a daily frequency or higher. The documentation pages don’t change as often, so they can be kept at a lower frequency or even just be triggered on demand when there are changes.</p><p>As we have more sources now, let’s improve our prompt to make sure the LLM has all necessary information to formulate a good answer:</p><div><pre><code>class ConnectorDevelopmentPrompt(PromptTemplate):
    def format_document(doc: Document, prompt: PromptTemplate) -&gt; str:
        if doc.metadata["_airbyte_stream"] == "DatasetItems":
            return f"Excerpt from documentation page: {doc.page_content}"
        elif doc.metadata["_airbyte_stream"] == "issues":
            return f"Excerpt from Github issue: {doc.page_content}, issue number: {doc.metadata['number']}, issue state: {doc.metadata['state']}"
        elif doc.metadata["_airbyte_stream"] == "threads" or doc.metadata["_airbyte_stream"] == "channel_messages":
            return f"Excerpt from Slack thread: {doc.page_content}"
        else:
            return super().format_document(doc, prompt)</code></pre></div><p>By default the RetrievalQA chain retrieves the top 5 matching documents, so if it’s applicable the answer will be based on multiple sources at the same time:</p><div><pre><code>Connector development help bot. What do you want to know?
&gt; What different authentication methods are supported by the builder? Can I 
authenticate a login endpoint that returns a session token?

The authentication methods supported by the builder are Basic HTTP, Bearer Token, API 
Key, and OAuth. The builder does not currently support authenticating a login endpoint 
that returns a session token, but this feature is planned and can be tracked in the 
Github issue #26341. This issue is not closed yet - the feature might not be shipped 
yet.</code></pre></div><p>The first sentence about Basic HTTP, Bearer Token, API Key and OAuth is retrieved from the <a href="https://docs.airbyte.com/connector-development/connector-builder-ui/authentication/">documentation page about authentication</a>, while the second sentence is referring to the same Github issue as before.</p><h2>Wrapping up</h2><p>We covered a lot of ground here - stepping back a bit, we accomplished the following parts:</p><ul role="list"><li>Set up a pipeline that loads unstructured data from multiple sources into a vector database</li><li>Implement an application that can answer plain text questions about the unstructured data in a general way</li><li>Expose this application as a Slack bot</li></ul><p>With data flowing through this system, Airbyte will make sure the data in your vector database will always be up-to-date while only syncing records that changed in the connected source, minimizing the load on embedding and vector database services while also providing an overview over the current state of running pipelines.</p><p>This setup isn’t using a single black box service that encapsulates all the details and leaves us with limited options for tweaking behavior and controlling data processing - instead it’s composed out of multiple components that be easily extended in various places:</p><ul role="list"><li>The large catalog of Airbyte sources and the connector builder for integrating specialized sources allow to easily load just about any data into a vector db using a single tool</li><li>Langchain is very extensible and allows you to leverage LLMs in different ways beyond this simple application, including enriching data from other sources, keeping a chat history to be able to have full conversations and more</li></ul><p><strong>Survey</strong></p><p>If you are interested in leveraging Airbyte to ship data to your LLM-based applications, take a moment to <a href="https://docs.google.com/forms/d/e/1FAIpQLSduobMZwbqiFlPxsWDG-hrBw6NLYMDu_7zRfo4j7AsaO1QtfQ/viewform?usp=sf_link">fill out our survey</a> so we can make sure to prioritize the most important features.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Go 1.21 Released (290 pts)]]></title>
            <link>https://go.dev/doc/go1.21</link>
            <guid>37050466</guid>
            <pubDate>Tue, 08 Aug 2023 15:28:37 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://go.dev/doc/go1.21">https://go.dev/doc/go1.21</a>, See on <a href="https://news.ycombinator.com/item?id=37050466">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="main-content">
  


<article>





















<!--
NOTE: In this document and others in this directory, the convention is to
set fixed-width phrases with non-fixed-width spaces, as in
<code>hello</code> <code>world</code>.
Do not send CLs removing the interior tags from such phrases.
-->



<h2 id="introduction">Introduction to Go 1.21</h2>

<p>
  The latest Go release, version 1.21, arrives six months after <a href="https://go.dev/doc/go1.20">Go 1.20</a>.
  Most of its changes are in the implementation of the toolchain, runtime, and libraries.
  As always, the release maintains the Go 1 <a href="https://go.dev/doc/go1compat">promise of compatibility</a>;
  in fact, Go 1.21 <a href="#godebug">improves upon that promise</a>.
  We expect almost all Go programs to continue to compile and run as before.
</p>

<p><!-- https://go.dev/issue/57631 -->
  Go 1.21 introduces a small change to the numbering of releases.
  In the past, we used Go 1.<i>N</i> to refer to both the overall Go language version and release family
  as well as the first release in that family.
  Starting in Go 1.21, the first release is now Go 1.<i>N</i>.0.
  Today we are releasing both the Go 1.21 language and its initial implementation, the Go 1.21.0 release.
  These notes refer to “Go 1.21”; tools like <code>go</code> <code>version</code> will report “<code>go1.21.0</code>”
  (until you upgrade to Go 1.21.1).
  See “<a href="https://go.dev/doc/toolchain#versions">Go versions</a>” in the “Go Toolchains” documentation for details
  about the new version numbering.
</p>

<h2 id="language">Changes to the language</h2>

<p>
  Go 1.21 adds three new built-ins to the language.

  </p><ul>
    <li><!-- https://go.dev/issue/59488 -->
      The new functions <code>min</code> and <code>max</code> compute the
      smallest (or largest, for <code>max</code>) value of a fixed number
      of given arguments.
      See the language spec for
      <a href="https://tip.golang.org/ref/spec#Min_and_max">details</a>.
    </li>
    <li><!-- https://go.dev/issue/56351 -->
      The new function <code>clear</code> deletes all elements from a
      map or zeroes all elements of a slice.
      See the language spec for
      <a href="https://tip.golang.org/ref/spec#Clear">details</a>.
    </li>
  </ul>


<p><!-- https://go.dev/issue/57411 -->
  Package initialization order is now specified more precisely. The
  new algorithm is:
  </p><ul>
    <li>
      Sort all packages by import path.
    </li>
    <li>Repeat until the list of packages is empty:
      <ul>
        <li>
          Find the first package in the list for which all imports are
          already initialized.
        </li>
        <li>
          Initialize that package and remove it from the list.
        </li>
      </ul>
    </li>
  </ul>
  This may change the behavior of some programs that rely on a
  specific initialization ordering that was not expressed by explicit
  imports. The behavior of such programs was not well defined by the
  spec in past releases. The new rule provides an unambiguous definition.


<p>
  Multiple improvements that increase the power and precision of type inference have been made.
</p>
<ul>
  <li><!-- https://go.dev/issue/59338 -->
    A (possibly partially instantiated generic) function may now be called with arguments that are
    themselves (possibly partially instantiated) generic functions.
    The compiler will attempt to infer the missing type arguments of the callee (as before) and,
    for each argument that is a generic function that is not fully instantiated,
    its missing type arguments (new).
    Typical use cases are calls to generic functions operating on containers
    (such as <a href="https://go.dev/pkg/slices#IndexFunc">slices.IndexFunc</a>) where a function argument
    may also be generic, and where the type argument of the called function and its arguments
    are inferred from the container type.
    More generally, a generic function may now be used without explicit instantiation when
    it is assigned to a variable or returned as a result value if the type arguments can
    be inferred from the assignment.
  </li>
  <li><!-- https://go.dev/issue/60353, https://go.dev/issue/57192, https://go.dev/issue/52397, https://go.dev/issue/41176 -->
    Type inference now also considers methods when a value is assigned to an interface:
    type arguments for type parameters used in method signatures may be inferred from
    the corresponding parameter types of matching methods.
  </li>
  <li><!-- https://go.dev/issue/51593 https://go.dev/issue/39661 -->
    Similarly, since a type argument must implement all the methods of its corresponding constraint,
    the methods of the type argument and constraint are matched which may lead to the inference of
    additional type arguments.
  </li>
  <li><!-- https://go.dev/issue/58671 -->
    If multiple untyped constant arguments of different kinds (such as an untyped int and
    an untyped floating-point constant) are passed to parameters with the same (not otherwise
    specified) type parameter type, instead of an error, now type inference determines the
    type using the same approach as an operator with untyped constant operands.
    This change brings the types inferred from untyped constant arguments in line with the
    types of constant expressions.
  </li>
  <li><!-- https://go.dev/issue/59750 -->
    Type inference is now precise when matching corresponding types in assignments:
    component types (such as the elements of slices, or the parameter types in function signatures)
    must be identical (given suitable type arguments) to match, otherwise inference fails.
    This change produces more accurate error messages:
    where in the past type inference may have succeeded incorrectly and lead to an invalid assignment,
    the compiler now reports an inference error if two types can't possibly match.
  </li>
</ul>

<p><!-- https://go.dev/issue/58650 -->
  More generally, the description of
  <a href="https://tip.golang.org/ref/spec#Type_inference">type inference</a>
  in the language spec has been clarified.
  Together, all these changes make type inference more powerful and inference failures less surprising.
</p>

<!-- https://go.dev/issue/57969 -->
<p>
  Go 1.21 includes a preview of a language change we are considering for a future version of Go:
  making for loop variables per-iteration instead of per-loop, to avoid accidental sharing bugs.
  For details about how to try that language change, see <a href="https://go.dev/wiki/LoopvarExperiment">the LoopvarExperiment wiki page</a>.
</p>

<!-- https://go.dev/issue/25448 -->
<p>
  Go 1.21 now defines that if a goroutine is panicking and recover was called directly by a deferred
  function, the return value of recover is guaranteed not to be nil. To ensure this, calling panic
  with a nil interface value (or an untyped nil) causes a run-time panic of type
  <a href="https://go.dev/runtime/#PanicNilError"><code>*runtime.PanicNilError</code></a>.
</p>
<p>
  To support programs written for older versions of Go, nil panics can be re-enabled by setting
  <code>GODEBUG=panicnil=1</code>.
  This setting is enabled automatically when compiling a program whose main package
  is in a module with that declares <code>go</code> <code>1.20</code> or earlier.
</p>


<p>
  Go 1.21 adds improved support for backwards compatibility and forwards compatibility
  in the Go toolchain.
</p>

<p><!-- https://go.dev/issue/56986 -->
  To improve backwards compatibility, Go 1.21 formalizes
  Go's use of the GODEBUG environment variable to control
  the default behavior for changes that are non-breaking according to the
  <a href="https://go.dev/doc/go1compat">compatibility policy</a>
  but nonetheless may cause existing programs to break.
  (For example, programs that depend on buggy behavior may break
  when a bug is fixed, but bug fixes are not considered breaking changes.)
  When Go must make this kind of behavior change,
  it now chooses between the old and new behavior based on the
  <code>go</code> line in the workspace's <code>go.work</code> file
  or else the main module's <code>go.mod</code> file.
  Upgrading to a new Go toolchain but leaving the <code>go</code> line
  set to its original (older) Go version preserves the behavior of the older
  toolchain.
  With this compatibility support, the latest Go toolchain should always
  be the best, most secure, implementation of an older version of Go.
  See “<a href="https://go.dev/doc/godebug">Go, Backwards Compatibility, and GODEBUG</a>” for details.
</p>

<p><!-- https://go.dev/issue/57001 -->
  To improve forwards compatibility, Go 1.21 now reads the <code>go</code> line
  in a <code>go.work</code> or <code>go.mod</code> file as a strict
  minimum requirement: <code>go</code> <code>1.21.0</code> means
  that the workspace or module cannot be used with Go 1.20 or with Go 1.21rc1.
  This allows projects that depend on fixes made in later versions of Go
  to ensure that they are not used with earlier versions.
  It also gives better error reporting for projects that make use of new Go features:
  when the problem is that a newer Go version is needed,
  that problem is reported clearly, instead of attempting to build the code
  and instead printing errors about unresolved imports or syntax errors.
</p>

<p>
  To make these new stricter version requirements easier to manage,
  the <code>go</code> command can now invoke not just the toolchain
  bundled in its own release but also other Go toolchain versions found in the PATH
  or downloaded on demand.
  If a <code>go.mod</code> or <code>go.work</code> <code>go</code> line
  declares a minimum requirement on a newer version of Go, the <code>go</code>
  command will find and run that version automatically.
  The new <code>toolchain</code> directive sets a suggested minimum toolchain to use,
  which may be newer than the strict <code>go</code> minimum.
  See “<a href="https://go.dev/doc/toolchain">Go Toolchains</a>” for details.
</p>

<h3 id="go-command">Go command</h3>

<p><!-- https://go.dev/issue/58099, CL 474236 -->
  The <code>-pgo</code> build flag now defaults to <code>-pgo=auto</code>,
  and the restriction of specifying a single main package on the command
  line is now removed. If a file named <code>default.pgo</code> is present
  in the main package's directory, the <code>go</code> command will use
  it to enable profile-guided optimization for building the corresponding
  program.
</p>

<p>
  The <code>-C</code> <code>dir</code> flag must now be the first
  flag on the command-line when used.
</p>

<p><!-- https://go.dev/issue/37708, CL 463837 -->
  The new <code>go</code> <code>test</code> option
  <code>-fullpath</code> prints full path names in test log messages,
  rather than just base names.
</p>

<p><!-- https://go.dev/issue/15513, CL 466397 -->
  The <code>go</code> <code>test</code> <code>-c</code> flag now
  supports writing test binaries for multiple packages, each to
  <code>pkg.test</code> where <code>pkg</code> is the package name.
  It is an error if more than one test package being compiled has a given package name.]
</p>

<p><!-- https://go.dev/issue/15513, CL 466397 -->
  The <code>go</code> <code>test</code> <code>-o</code> flag now
  accepts a directory argument, in which case test binaries are written to that
  directory instead of the current directory.
</p>

<h3 id="cgo">Cgo</h3>

<p><!-- CL 490819 -->
  In files that <code>import "C"</code>, the Go toolchain now
  correctly reports errors for attempts to declare Go methods on C types.
</p>

<h2 id="runtime-changes">Runtime</h2>

<p><!-- https://go.dev/issue/7181 -->
  When printing very deep stacks, the runtime now prints the first 50
  (innermost) frames followed by the bottom 50 (outermost) frames,
  rather than just printing the first 100 frames. This makes it easier
  to see how deeply recursive stacks started, and is especially
  valuable for debugging stack overflows.
</p>

<p><!-- https://go.dev/issue/59960 -->
  On Linux platforms that support transparent huge pages, the Go runtime
  now manages which parts of the heap may be backed by huge pages more
  explicitly. This leads to better utilization of memory: small heaps
  should see less memory used (up to 50% in pathological cases) while
  large heaps should see fewer broken huge pages for dense parts of the
  heap, improving CPU usage and latency by up to 1%.
</p>

<p><!-- https://go.dev/issue/57069, https://go.dev/issue/56966 -->
  As a result of runtime-internal garbage collection tuning,
  applications may see up to a 40% reduction in application tail latency
  and a small decrease in memory use. Some applications may also observe
  a small loss in throughput.

  The memory use decrease should be proportional to the loss in
  throughput, such that the previous release's throughput/memory
  tradeoff may be recovered (with little change to latency) by
  increasing <code>GOGC</code> and/or <code>GOMEMLIMIT</code> slightly.
</p>

<p><!-- https://go.dev/issue/51676 -->
  Calls from C to Go on threads created in C require some setup to prepare for
  Go execution. On Unix platforms, this setup is now preserved across multiple
  calls from the same thread. This significantly reduces the overhead of
  subsequent C to Go calls from ~1-3 microseconds per call to ~100-200
  nanoseconds per call.
</p>

<h2 id="compiler">Compiler</h2>

<p>
  Profile-guide optimization (PGO), added as a preview in Go 1.20, is now ready
  for general use. PGO enables additional optimizations on code identified as
  hot by profiles of production workloads. As mentioned in the
  <a href="#go-command">Go command section</a>, PGO is enabled by default for
  binaries that contain a <code>default.pgo</code> profile in the main
  package directory. Performance improvements vary depending on application
  behavior, with most programs from a representative set of Go programs seeing
  between 2 and 7% improvement from enabling PGO. See the
  <a href="https://go.dev/doc/pgo">PGO user guide</a> for detailed documentation.
</p>

<!-- https://go.dev/issue/59959 -->
<p>
  PGO builds can now devirtualize some interface method calls, adding a
  concrete call to the most common callee. This enables further optimization,
  such as inlining the callee.
</p>

<!-- CL 497455 -->
<p>
  Go 1.21 improves build speed by up to 6%, largely thanks to building the
  compiler itself with PGO.
</p>

<h2 id="assembler">Assembler</h2>

<!-- https://go.dev/issue/58378 -->
<p>
  On amd64, frameless nosplit assembly functions are no longer automatically marked as <code>NOFRAME</code>.
  Instead, the <code>NOFRAME</code> attribute must be explicitly specified if desired,
  which is already the behavior on other architectures supporting frame pointers.
  With this, the runtime now maintains the frame pointers for stack transitions.
</p>

<!-- CL 476295 -->
<p>
  The verifier that checks for incorrect uses of <code>R15</code> when dynamic linking on amd64 has been improved.
</p>

<h2 id="linker">Linker</h2>

<p><!-- https://go.dev/issue/57302, CL 461749, CL 457455 -->
  On windows/amd64, the linker (with help from the compiler) now emits
  SEH unwinding data by default, which improves the integration
  of Go applications with Windows debuggers and other tools.
</p>

<!-- CL 463395, CL 461315 -->
<p>
  In Go 1.21 the linker (with help from the compiler) is now capable of
  deleting dead (unreferenced) global map variables, if the number of
  entries in the variable initializer is sufficiently large, and if the
  initializer expressions are side-effect free.
</p>

<h2 id="library">Core library</h2>

<h3 id="slog">New log/slog package</h3>

<p><!-- https://go.dev/issue/59060, https://go.dev/issue/59141, https://go.dev/issue/59204, https://go.dev/issue/59280,
        https://go.dev/issue/59282, https://go.dev/issue/59339, https://go.dev/issue/59345, https://go.dev/issue/61200,
        CL 477295, CL 484096, CL 486376, CL 486415, CL 487855, CL 508195 -->
  The new <a href="https://go.dev/pkg/log/slog">log/slog</a> package provides structured logging with levels.
  Structured logging emits key-value pairs
  to enable fast, accurate processing of large amounts of log data.
  The package supports integration with popular log analysis tools and services.
</p>

<h3 id="slogtest">New testing/slogtest package</h3>

<p><!-- CL 487895 -->
  The new <a href="https://go.dev/pkg/testing/slogtest">testing/slogtest</a> package can help
  to validate <a href="https://go.dev/pkg/log/slog#Handler">slog.Handler</a> implementations.
</p>

<h3 id="slices">New slices package</h3>

<p>
  <!-- https://go.dev/issue/45955, https://go.dev/issue/54768 -->
  <!-- https://go.dev/issue/57348, https://go.dev/issue/57433 -->
  <!-- https://go.dev/issue/58565, https://go.dev/issue/60091 -->
  <!-- https://go.dev/issue/60546 -->
  <!-- CL 467417, CL 468855, CL 483175, CL 496078, CL 498175, CL 502955 -->
  The new <a href="https://go.dev/pkg/slices">slices</a> package provides many common
  operations on slices, using generic functions that work with slices
  of any element type.
</p>

<h3 id="maps">New maps package</h3>

<p><!-- https://go.dev/issue/57436, CL 464343 -->
  The new <a href="https://go.dev/pkg/maps/">maps</a> package provides several
  common operations on maps, using generic functions that work with
  maps of any key or element type.
</p>

<h3 id="cmp">New cmp package</h3>

<p><!-- https://go.dev/issue/59488, CL 496356 -->
  The new <a href="https://go.dev/pkg/cmp/">cmp</a> package defines the type
  constraint <a href="https://go.dev/pkg/cmp/#Ordered"><code>Ordered</code></a> and
  two new generic functions
  <a href="https://go.dev/pkg/cmp/#Less"><code>Less</code></a>
  and <a href="https://go.dev/pkg/cmp/#Compare"><code>Compare</code></a> that are
  useful with <a href="https://go.dev/ref/spec/#Comparison_operators">ordered
  types</a>.
</p>

<h3 id="minor_library_changes">Minor changes to the library</h3>

<p>
  As always, there are various minor changes and updates to the library,
  made with the Go 1 <a href="https://go.dev/doc/go1compat">promise of compatibility</a>
  in mind.
  There are also various performance improvements, not enumerated here.
</p>

<dl id="archive/tar"><dt><a href="https://go.dev/pkg/archive/tar/">archive/tar</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/54451, CL 491175 -->
      The implementation of the
      <a href="https://go.dev/pkg/io/fs/#FileInfo"><code>io/fs.FileInfo</code></a>
      interface returned by
      <a href="https://go.dev/pkg/archive/tar/#Header.FileInfo"><code>Header.FileInfo</code></a>
      now implements a <code>String</code> method that calls
      <a href="https://go.dev/pkg/io/fs/#FormatFileInfo"><code>io/fs.FormatFileInfo</code></a>.
    </p>
  </dd>
</dl><!-- archive/tar -->

<dl id="archive/zip"><dt><a href="https://go.dev/pkg/archive/zip/">archive/zip</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/54451, CL 491175 -->
      The implementation of the
      <a href="https://go.dev/pkg/io/fs/#FileInfo"><code>io/fs.FileInfo</code></a>
      interface returned by
      <a href="https://go.dev/pkg/archive/zip/#FileHeader.FileInfo"><code>FileHeader.FileInfo</code></a>
      now implements a <code>String</code> method that calls
      <a href="https://go.dev/pkg/io/fs/#FormatFileInfo"><code>io/fs.FormatFileInfo</code></a>.
    </p>

    <p><!-- https://go.dev/issue/54451, CL 491175 -->
      The implementation of the
      <a href="https://go.dev/pkg/io/fs/#DirEntry"><code>io/fs.DirEntry</code></a>
      interface returned by the
      <a href="https://go.dev/pkg/io/fs/#ReadDirFile.ReadDir"><code>io/fs.ReadDirFile.ReadDir</code></a>
      method of the
      <a href="https://go.dev/pkg/io/fs/#File"><code>io/fs.File</code></a>
      returned by
      <a href="https://go.dev/pkg/archive/zip/#Reader.Open"><code>Reader.Open</code></a>
      now implements a <code>String</code> method that calls
      <a href="https://go.dev/pkg/io/fs/#FormatDirEntry"><code>io/fs.FormatDirEntry</code></a>.
    </p>
  </dd>
</dl><!-- archive/zip -->

<dl id="bytes"><dt><a href="https://go.dev/pkg/bytes/">bytes</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/53685, CL 474635 -->
      The <a href="https://go.dev/pkg/bytes/#Buffer"><code>Buffer</code></a> type
      has two new methods:
      <a href="https://go.dev/pkg/bytes/#Buffer.Available"><code>Available</code></a>
      and <a href="https://go.dev/pkg/bytes/#AvailableBuffer"><code>AvailableBuffer</code></a>.
      These may be used along with the
      <a href="https://go.dev/pkg/bytes/#Buffer.Write"><code>Write</code></a>
      method to append directly to the <code>Buffer</code>.
    </p>
  </dd>
</dl><!-- bytes -->

<dl id="context"><dt><a href="https://go.dev/pkg/context/">context</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/40221, CL 479918 -->
      The new <a href="https://go.dev/pkg/context/#WithoutCancel"><code>WithoutCancel</code></a>
      function returns a copy of a context that is not canceled when the original
      context is canceled.
    </p>
    <p><!-- https://go.dev/issue/56661, CL 449318 -->
      The new <a href="https://go.dev/pkg/context/#WithDeadlineCause"><code>WithDeadlineCause</code></a>
      and <a href="https://go.dev/pkg/context/#WithTimeoutCause"><code>WithTimeoutCause</code></a>
      functions provide a way to set a context cancellation cause when a deadline or
      timer expires. The cause may be retrieved with the
      <a href="https://go.dev/pkg/context/#Cause"><code>Cause</code></a> function.
    </p>
    <p><!-- https://go.dev/issue/57928, CL 482695 -->
      The new <a href="https://go.dev/pkg/context/#AfterFunc"><code>AfterFunc</code></a>
      function registers a function to run after a context has been cancelled.
    </p>

    <p><!-- CL 455455 -->
      An optimization means that the results of calling
      <a href="https://go.dev/pkg/context/#Background"><code>Background</code></a>
      and <a href="https://go.dev/pkg/context/#TODO"><code>TODO</code></a> and
      converting them to a shared type can be considered equal.
      In previous releases they were always different.  Comparing
      <a href="https://go.dev/pkg/context/#Context"><code>Context</code></a> values
      for equality has never been well-defined, so this is not
      considered to be an incompatible change.
    </p>
  </dd>
</dl>


<dl id="crypto/ecdsa"><dt><a href="https://go.dev/pkg/crypto/ecdsa/">crypto/ecdsa</a></dt>
  <dd>
    <p><!-- CL 492955 -->
      <a href="https://go.dev/pkg/crypto/ecdsa/#PublicKey.Equal"><code>PublicKey.Equal</code></a> and
      <a href="https://go.dev/pkg/crypto/ecdsa/#PrivateKey.Equal"><code>PrivateKey.Equal</code></a>
      now execute in constant time.
    </p>
  </dd>
</dl><!-- crypto/ecdsa -->

<dl id="crypto/elliptic"><dt><a href="https://go.dev/pkg/crypto/elliptic/">crypto/elliptic</a></dt>
  <dd>
    <p><!-- CL 459977 -->
      All of the <a href="https://go.dev/pkg/crypto/elliptic/#Curve"><code>Curve</code></a> methods have been deprecated, along with <a href="https://go.dev/pkg/crypto/elliptic/#GenerateKey"><code>GenerateKey</code></a>, <a href="https://go.dev/pkg/crypto/elliptic/#Marshal"><code>Marshal</code></a>, and <a href="https://go.dev/pkg/crypto/elliptic/#Unmarshal"><code>Unmarshal</code></a>. For ECDH operations, the new <a href="https://go.dev/pkg/crypto/ecdh/"><code>crypto/ecdh</code></a> package should be used instead. For lower-level operations, use third-party modules such as <a href="https://pkg.go.dev/filippo.io/nistec">filippo.io/nistec</a>.
    </p>
  </dd>
</dl><!-- crypto/elliptic -->

<dl id="crypto/rand"><dt><a href="https://go.dev/pkg/crypto/rand/">crypto/rand</a></dt>
  <dd>
    <p><!-- CL 463123 -->
      The <a href="https://go.dev/pkg/crypto/rand/"><code>crypto/rand</code></a> package now uses the <code>getrandom</code> system call on NetBSD 10.0 and later.
    </p>
  </dd>
</dl><!-- crypto/rand -->

<dl id="crypto/rsa"><dt><a href="https://go.dev/pkg/crypto/rsa/">crypto/rsa</a></dt>
  <dd>
    <p><!-- CL 471259, CL 492935 -->
      The performance of private RSA operations (decryption and signing) is now better than Go 1.19 for <code>GOARCH=amd64</code> and <code>GOARCH=arm64</code>. It had regressed in Go 1.20.
    </p>
    <p>
      Due to the addition of private fields to <a href="https://go.dev/pkg/crypto/rsa/#PrecomputedValues"><code>PrecomputedValues</code></a>, <a href="https://go.dev/pkg/crypto/rsa/#PrivateKey.Precompute"><code>PrivateKey.Precompute</code></a> must be called for optimal performance even if deserializing (for example from JSON) a previously-precomputed private key.
    </p>
    <p><!-- CL 492955 -->
      <a href="https://go.dev/pkg/crypto/rsa/#PublicKey.Equal"><code>PublicKey.Equal</code></a> and
      <a href="https://go.dev/pkg/crypto/rsa/#PrivateKey.Equal"><code>PrivateKey.Equal</code></a>
      now execute in constant time.
    </p>
    <p><!-- https://go.dev/issue/56921, CL 459976 -->
      The <a href="https://go.dev/pkg/crypto/rsa/#GenerateMultiPrimeKey"><code>GenerateMultiPrimeKey</code></a> function and the <a href="https://go.dev/pkg/crypto/rsa/#PrecomputedValues.CRTValues"><code>PrecomputedValues.CRTValues</code></a> field have been deprecated. <a href="https://go.dev/pkg/crypto/rsa/#PrecomputedValues.CRTValues"><code>PrecomputedValues.CRTValues</code></a> will still be populated when <a href="https://go.dev/pkg/crypto/rsa/#PrivateKey.Precompute"><code>PrivateKey.Precompute</code></a> is called, but the values will not be used during decryption operations.
    </p>
  </dd>
</dl><!-- crypto/rsa -->

<!-- CL 483815 reverted -->

<dl id="crypto/sha256"><dt><a href="https://go.dev/pkg/crypto/sha256/">crypto/sha256</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/50543, CL 408795 -->
      SHA-224 and SHA-256 operations now use native instructions when available when <code>GOARCH=amd64</code>, providing a performance improvement on the order of 3-4x.
    </p>
  </dd>
</dl><!-- crypto/sha256 -->

<!-- CL 481478 reverted -->
<!-- CL 483816 reverted -->

<dl id="crypto/tls"><dt><a href="https://go.dev/pkg/crypto/tls/">crypto/tls</a></dt>
  <dd>
    <p><!-- CL 497895 -->
      Servers now skip verifying client certificates (including not running
      <a href="https://go.dev/pkg/crypto/tls/#Config.VerifyPeerCertificate"><code>Config.VerifyPeerCertificate</code></a>)
      for resumed connections, besides checking the expiration time. This makes
      session tickets larger when client certificates are in use. Clients were
      already skipping verification on resumption, but now check the expiration
      time even if <a href="https://go.dev/pkg/crypto/tls/#Config.InsecureSkipVerify"><code>Config.InsecureSkipVerify</code></a>
      is set.
    </p>

    <p><!-- https://go.dev/issue/60105, CL 496818, CL 496820, CL 496822, CL 496821, CL 501675 -->
      Applications can now control the content of session tickets.
      </p><ul>
        <li>
          The new <a href="https://go.dev/pkg/crypto/tls/#SessionState"><code>SessionState</code></a> type
          describes a resumable session.
        </li>
        <li>
          The <a href="https://go.dev/pkg/crypto/tls/#SessionState.Bytes"><code>SessionState.Bytes</code></a>
          method and <a href="https://go.dev/pkg/crypto/tls/#ParseSessionState"><code>ParseSessionState</code></a>
          function serialize and deserialize a <code>SessionState</code>.
        </li>
        <li>
          The <a href="https://go.dev/pkg/crypto/tls/#Config.WrapSession"><code>Config.WrapSession</code></a> and
          <a href="https://go.dev/pkg/crypto/tls/#Config.UnwrapSession"><code>Config.UnwrapSession</code></a>
          hooks convert a <code>SessionState</code> to and from a ticket on the server side.
        </li>
        <li>
          The <a href="https://go.dev/pkg/crypto/tls/#Config.EncryptTicket"><code>Config.EncryptTicket</code></a>
          and <a href="https://go.dev/pkg/crypto/tls/#Config.DecryptTicket"><code>Config.DecryptTicket</code></a>
          methods provide a default implementation of <code>WrapSession</code> and
          <code>UnwrapSession</code>.
        </li>
        <li>
          The <a href="https://go.dev/pkg/crypto/tls/#ClientSessionState.ResumptionState"><code>ClientSessionState.ResumptionState</code></a> method and
          <a href="https://go.dev/pkg/crypto/tls/#NewResumptionState"><code>NewResumptionState</code></a> function
          may be used by a <code>ClientSessionCache</code> implementation to store and
          resume sessions on the client side.
        </li>
      </ul>
    

    <p><!-- CL 496817 -->
      To reduce the potential for session tickets to be used as a tracking
      mechanism across connections, the server now issues new tickets on every
      resumption (if they are supported and not disabled) and tickets don't bear
      an identifier for the key that encrypted them anymore. If passing a large
      number of keys to <a href="https://go.dev/pkg/crypto/tls/#Conn.SetSessionTicketKeys"><code>Conn.SetSessionTicketKeys</code></a>,
      this might lead to a noticeable performance cost.
    </p>

    <p><!-- CL 497376 -->
      Both clients and servers now implement the Extended Master Secret extension (RFC 7627).
      The deprecation of <a href="https://go.dev/pkg/crypto/tls/#ConnectionState.TLSUnique"><code>ConnectionState.TLSUnique</code></a>
      has been reverted, and is now set for resumed connections that support Extended Master Secret.
    </p>

    <p><!-- https://go.dev/issue/44886, https://go.dev/issue/60107, CL 493655, CL 496995, CL 514997 -->
      The new <a href="https://go.dev/pkg/crypto/tls/#QUICConn"><code>QUICConn</code></a> type
      provides support for QUIC implementations, including 0-RTT support. Note
      that this is not itself a QUIC implementation, and 0-RTT is still not
      supported in TLS.
    </p>

    <p><!-- https://go.dev/issue/46308, CL 497377 -->
      The new <a href="https://go.dev/pkg/crypto/tls/#VersionName"><code>VersionName</code></a> function
      returns the name for a TLS version number.
    </p>

    <p><!-- https://go.dev/issue/52113, CL 410496 -->
      The TLS alert codes sent from the server for client authentication failures have
      been improved. Previously, these failures always resulted in a "bad certificate" alert.
      Now, certain failures will result in more appropriate alert codes,
      as defined by RFC 5246 and RFC 8446:
      </p><ul>
        <li>
          For TLS 1.3 connections, if the server is configured to require client authentication using
          <a href="https://go.dev/pkg/crypto/tls/#RequireAnyClientCert">RequireAnyClientCert</a> or
          <a href="https://go.dev/pkg/crypto/tls/#RequireAndVerifyClientCert">RequireAndVerifyClientCert</a>,
          and the client does not provide any certificate, the server will now return the "certificate required" alert.
        </li>
        <li>
          If the client provides a certificate that is not signed by the set of trusted certificate authorities
          configured on the server, the server will return the "unknown certificate authority" alert.
        </li>
        <li>
          If the client provides a certificate that is either expired or not yet valid,
          the server will return the "expired certificate" alert.
        </li>
        <li>
          In all other scenarios related to client authentication failures, the server still returns "bad certificate".
        </li>
      </ul>
    
  </dd>
</dl><!-- crypto/tls -->

<dl id="crypto/x509"><dt><a href="https://go.dev/pkg/crypto/x509/">crypto/x509</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/53573, CL 468875 -->
      <a href="https://go.dev/pkg/crypto/x509/#RevocationList.RevokedCertificates"><code>RevocationList.RevokedCertificates</code></a> has been deprecated and replaced with the new <a href="https://go.dev/pkg/crypto/x509/#RevocationList.RevokedCertificateEntries"><code>RevokedCertificateEntries</code></a> field, which is a slice of <a href="https://go.dev/pkg/crypto/x509/#RevocationListEntry"><code>RevocationListEntry</code></a>. <a href="https://go.dev/pkg/crypto/x509/#RevocationListEntry"><code>RevocationListEntry</code></a> contains all of the fields in <a href="https://go.dev/pkg/crypto/x509/pkix#RevokedCertificate"><code>pkix.RevokedCertificate</code></a>, as well as the revocation reason code.
    </p>

    <p><!-- CL 478216 -->
      Name constraints are now correctly enforced on non-leaf certificates, and
      not on the certificates where they are expressed.
    </p>
  </dd>
</dl><!-- crypto/x509 -->

<dl id="debug/elf"><dt><a href="https://go.dev/pkg/debug/elf/">debug/elf</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/56892, CL 452617 -->
      The new
      <a href="https://go.dev/pkg/debug/elf/#File.DynValue"><code>File.DynValue</code></a>
      method may be used to retrieve the numeric values listed with a
      given dynamic tag.
    </p>

    <p><!-- https://go.dev/issue/56887, CL 452496 -->
      The constant flags permitted in a <code>DT_FLAGS_1</code>
      dynamic tag are now defined with type
      <a href="https://go.dev/pkg/debug/elf/#DynFlag1"><code>DynFlag1</code></a>. These
      tags have names starting with <code>DF_1</code>.
    </p>

    <p><!-- CL 473256 -->
      The package now defines the constant
      <a href="https://go.dev/pkg/debug/elf/#COMPRESS_ZSTD"><code>COMPRESS_ZSTD</code></a>.
    </p>

    <p><!-- https://go.dev/issue/60348, CL 496918 -->
      The package now defines the constant
      <a href="https://go.dev/pkg/debug/elf/#R_PPC64_REL24_P9NOTOC"><code>R_PPC64_REL24_P9NOTOC</code></a>.
    </p>
  </dd>
</dl><!-- debug/elf -->

<dl id="debug/pe"><dt><a href="https://go.dev/pkg/debug/pe/">debug/pe</a></dt>
  <dd>
    <p><!-- CL 488475 -->
      Attempts to read from a section containing uninitialized data
      using
      <a href="https://go.dev/pkg/debug/pe/#Section.Data"><code>Section.Data</code></a>
      or the reader returned by <a href="https://go.dev/pkg/debug/pe/#Section.Open"><code>Section.Open</code></a>
      now return an error.
    </p>
  </dd>
</dl><!-- debug/pe -->

<dl id="embed"><dt><a href="https://go.dev/pkg/embed/">embed</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/57803, CL 483235 -->
      The <a href="https://go.dev/pkg/io/fs/#File"><code>io/fs.File</code></a>
      returned by
      <a href="https://go.dev/pkg/embed/#FS.Open"><code>FS.Open</code></a> now
      has a <code>ReadAt</code> method that
      implements <a href="https://go.dev/pkg/io/#ReaderAt"><code>io.ReaderAt</code></a>.
    </p>

    <p><!-- https://go.dev/issue/54451, CL 491175 -->
      Calling <code><a href="https://go.dev/pkg/embed/FS.Open">FS.Open</a>.<a href="https://go.dev/pkg/io/fs/#File.Stat">Stat</a></code>
      will return a type that now implements a <code>String</code>
      method that calls
      <a href="https://go.dev/pkg/io/fs/#FormatFileInfo"><code>io/fs.FormatFileInfo</code></a>.
    </p>
  </dd>
</dl><!-- embed -->

<dl id="errors"><dt><a href="https://go.dev/pkg/errors/">errors</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/41198, CL 473935 -->
      The new
      <a href="https://go.dev/pkg/errors/#ErrUnsupported"><code>ErrUnsupported</code></a>
      error provides a standardized way to indicate that a requested
      operation may not be performed because it is unsupported.
      For example, a call to
      <a href="https://go.dev/pkg/os/#Link"><code>os.Link</code></a> when using a
      file system that does not support hard links.
    </p>
  </dd>
</dl><!-- errors -->

<dl id="flag"><dt><a href="https://go.dev/pkg/flag/">flag</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/53747, CL 476015 -->
      The new <a href="https://go.dev/pkg/flag/#BoolFunc"><code>BoolFunc</code></a>
      function and
      <a href="https://go.dev/pkg/flag/#FlagSet.BoolFunc"><code>FlagSet.BoolFunc</code></a>
      method define a flag that does not require an argument and calls
      a function when the flag is used. This is similar to
      <a href="https://go.dev/pkg/flag/#Func"><code>Func</code></a> but for a
      boolean flag.
    </p>

    <p><!-- CL 480215 -->
      A flag definition
      (via <a href="https://go.dev/pkg/flag/#Bool"><code>Bool</code></a>,
      <a href="https://go.dev/pkg/flag/#BoolVar"><code>BoolVar</code></a>,
      <a href="https://go.dev/pkg/flag/#Int"><code>Int</code></a>,
      <a href="https://go.dev/pkg/flag/#IntVar"><code>IntVar</code></a>, etc.)
      will panic if <a href="https://go.dev/pkg/flag/#Set"><code>Set</code></a> has
      already been called on a flag with the same name. This change is
      intended to detect cases where <a href="#language">changes in
      initialization order</a> cause flag operations to occur in a
      different order than expected. In many cases the fix to this
      problem is to introduce a explicit package dependence to
      correctly order the definition before any
      <a href="https://go.dev/pkg/flag/#Set"><code>Set</code></a> operations.
    </p>
  </dd>
</dl><!-- flag -->

<dl id="go/ast"><dt><a href="https://go.dev/pkg/go/ast/">go/ast</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/28089, CL 487935 -->
      The new <a href="https://go.dev/pkg/go/ast/#IsGenerated"><code>IsGenerated</code></a> predicate
      reports whether a file syntax tree contains the
      <a href="https://go.dev/s/generatedcode">special comment</a>
      that conventionally indicates that the file was generated by a tool.
    </p>
  </dd>

  <dd>
    <p><!-- https://go.dev/issue/59033, CL 476276 -->
      The new
      <a href="https://go.dev/pkg/go/ast/#File.GoVersion"><code>File.GoVersion</code></a>
      field records the minimum Go version required by
      any <code>//go:build</code> or <code>// +build</code>
      directives.
    </p>
  </dd>
</dl><!-- go/ast -->

<dl id="go/build"><dt><a href="https://go.dev/pkg/go/build/">go/build</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/56986, CL 453603 -->
      The package now parses build directives (comments that start
      with <code>//go:</code>) in file headers (before
      the <code>package</code> declaration). These directives are
      available in the new
      <a href="https://go.dev/pkg/go/build#Package"><code>Package</code></a> fields
      <a href="https://go.dev/pkg/go/build#Package.Directives"><code>Directives</code></a>,
      <a href="https://go.dev/pkg/go/build#Package.TestDirectives"><code>TestDirectives</code></a>,
      and
      <a href="https://go.dev/pkg/go/build#Package.XTestDirectives"><code>XTestDirectives</code></a>.
    </p>
  </dd>
</dl><!-- go/build -->

<dl id="go/build/constraint"><dt><a href="https://go.dev/pkg/go/build/constraint/">go/build/constraint</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/59033, CL 476275 -->
      The new
      <a href="https://go.dev/pkg/go/build/constraint/#GoVersion"><code>GoVersion</code></a>
      function returns the minimum Go version implied by a build
      expression.
    </p>
  </dd>
</dl><!-- go/build/constraint -->

<dl id="go/token"><dt><a href="https://go.dev/pkg/go/token/">go/token</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/57708, CL 464515 -->
      The new <a href="https://go.dev/pkg/go/token/#File.Lines"><code>File.Lines</code></a> method
      returns the file's line-number table in the same form as accepted by
      <code>File.SetLines</code>.
    </p>
  </dd>
</dl><!-- go/token -->

<dl id="go/types"><dt><a href="https://go.dev/pkg/go/types/">go/types</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/61175, CL 507975 -->
      The new <a href="https://go.dev/pkg/go/types/#Package.GoVersion"><code>Package.GoVersion</code></a>
      method returns the Go language version used to check the package.
    </p>
  </dd>
</dl><!-- go/types -->

<dl id="hash/maphash"><dt><a href="https://go.dev/pkg/hash/maphash/">hash/maphash</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/47342, CL 468795 -->
      The <code>hash/maphash</code> package now has a pure Go implementation, selectable with the <code>purego</code> build tag.
    </p>
  </dd>
</dl><!-- hash/maphash -->

<dl id="html/template"><dt><a href="https://go.dev/pkg/html/template/">html/template</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/59584, CL 496395 -->
      The new error
      <a href="https://go.dev/pkg/html/template/#ErrJSTemplate"><code>ErrJSTemplate</code></a>
      is returned when an action appears in a JavaScript template
      literal. Previously an unexported error was returned.
    </p>
  </dd>
</dl><!-- html/template -->

<dl id="io/fs"><dt><a href="https://go.dev/pkg/io/fs/">io/fs</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/54451, CL 489555 -->
      The new
      <a href="https://go.dev/pkg/io/fs/#FormatFileInfo"><code>FormatFileInfo</code></a>
      function returns a formatted version of a
      <a href="https://go.dev/pkg/io/fs/#FileInfo"><code>FileInfo</code></a>.
      The new
      <a href="https://go.dev/pkg/io/fs/#FormatDirEntry"><code>FormatDirEntry</code></a>
      function returns a formatted version of a
      <a href="https://go.dev/pkg/io/fs/#FileInfo"><code>DirEntry</code></a>.
      The implementation of
      <a href="https://go.dev/pkg/io/fs/#DirEntry"><code>DirEntry</code></a>
      returned by
      <a href="https://go.dev/pkg/io/fs/#ReadDir"><code>ReadDir</code></a> now
      implements a <code>String</code> method that calls
      <a href="https://go.dev/pkg/io/fs/#FormatDirEntry"><code>FormatDirEntry</code></a>,
      and the same is true for
      the <a href="https://go.dev/pkg/io/fs/#DirEntry"><code>DirEntry</code></a>
      value passed to
      <a href="https://go.dev/pkg/io/fs/#WalkDirFunc"><code>WalkDirFunc</code></a>.
    </p>
  </dd>
</dl><!-- io/fs -->

<!-- https://go.dev/issue/56491 rolled back by https://go.dev/issue/60519 -->
<!-- CL 459435 reverted by CL 467255 -->
<!-- CL 467515 reverted by CL 499416 -->

<dl id="math/big"><dt><a href="https://go.dev/pkg/math/big/">math/big</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/56984, CL 453115, CL 500116 -->
      The new <a href="https://go.dev/pkg/math/big/#Int.Float64"><code>Int.Float64</code></a>
      method returns the nearest floating-point value to a
      multi-precision integer, along with an indication of any
      rounding that occurred.
    </p>
  </dd>
</dl><!-- math/big -->

<dl id="net"><dt><a href="https://go.dev/pkg/net/">net</a></dt>
  <dd>
    <p>
      <!-- https://go.dev/issue/59166, https://go.dev/issue/56539 -->
      <!-- CL 471136, CL 471137, CL 471140 -->
      On Linux, the <a href="https://go.dev/pkg/net/">net</a> package can now use
      Multipath TCP when the kernel supports it. It is not used by
      default. To use Multipath TCP when available on a client, call
      the
      <a href="https://go.dev/pkg/net/#Dialer.SetMultipathTCP"><code>Dialer.SetMultipathTCP</code></a>
      method before calling the
      <a href="https://go.dev/pkg/net/#Dialer.Dial"><code>Dialer.Dial</code></a> or
      <a href="https://go.dev/pkg/net/#Dialer.DialContext"><code>Dialer.DialContext</code></a>
      methods. To use Multipath TCP when available on a server, call
      the
      <a href="https://go.dev/pkg/net/#ListenConfig.SetMultipathTCP"><code>ListenConfig.SetMultipathTCP</code></a>
      method before calling the
      <a href="https://go.dev/pkg/net/#ListenConfig.Listen"><code>ListenConfig.Listen</code></a>
      method. Specify the network as <code>"tcp"</code> or
      <code>"tcp4"</code> or <code>"tcp6"</code> as usual. If
      Multipath TCP is not supported by the kernel or the remote host,
      the connection will silently fall back to TCP. To test whether a
      particular connection is using Multipath TCP, use the
      <a href="https://go.dev/pkg/net/#TCPConn.MultipathTCP"><code>TCPConn.MultipathTCP</code></a>
      method.
    </p>
    <p>
      In a future Go release we may enable Multipath TCP by default on
      systems that support it.
    </p>
  </dd>
</dl><!-- net -->

<dl id="net/http"><dt><a href="https://go.dev/pkg/net/http/">net/http</a></dt>
  <dd>
    <p><!-- CL 472636 -->
      The new <a href="https://go.dev/pkg/net/http#ResponseController.EnableFullDuplex"><code>ResponseController.EnableFullDuplex</code></a>
      method allows server handlers to concurrently read from an HTTP/1
      request body while writing the response. Normally, the HTTP/1 server
      automatically consumes any remaining request body before starting to
      write the response, to avoid deadlocking clients which attempt to
      write a complete request before reading the response. The
      <code>EnableFullDuplex</code> method disables this behavior.
    </p>

    <p><!-- https://go.dev/issue/44855, CL 382117 -->
      The new <a href="https://go.dev/pkg/net/http/#ErrSchemeMismatch"><code>ErrSchemeMismatch</code></a> error is returned by <a href="https://go.dev/pkg/net/http/#Client"><code>Client</code></a> and <a href="https://go.dev/pkg/net/http/#Transport"><code>Transport</code></a> when the server responds to an HTTPS request with an HTTP response.
    </p>

    <p><!-- CL 494122 -->
      The <a href="https://go.dev/pkg/net/http/">net/http</a> package now supports
      <a href="https://go.dev/pkg/errors/#ErrUnsupported"><code>errors.ErrUnsupported</code></a>,
      in that the expression
      <code>errors.Is(http.ErrNotSupported, errors.ErrUnsupported)</code>
      will return true.
    </p>
  </dd>
</dl><!-- net/http -->

<dl id="os"><dt><a href="https://go.dev/pkg/os/">os</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/32558, CL 219638 -->
      Programs may now pass an empty <code>time.Time</code> value to
      the <a href="https://go.dev/pkg/os/#Chtimes"><code>Chtimes</code></a> function
      to leave either the access time or the modification time unchanged.
    </p>

    <p><!-- CL 480135 -->
      On Windows the
      <a href="https://go.dev/pkg/os#File.Chdir"><code>File.Chdir</code></a> method
      now changes the current directory to the file, rather than
      always returning an error.
    </p>

    <p><!-- CL 495079 -->
      On Unix systems, if a non-blocking descriptor is passed
      to <a href="https://go.dev/pkg/os/#NewFile"><code>NewFile</code></a>, calling
      the <a href="https://go.dev/pkg/os/#File.Fd"><code>File.Fd</code></a> method
      will now return a non-blocking descriptor. Previously the
      descriptor was converted to blocking mode.
    </p>

    <p><!-- CL 477215 -->
      On Windows calling
      <a href="https://go.dev/pkg/os/#Truncate"><code>Truncate</code></a> on a
      non-existent file used to create an empty file. It now returns
      an error indicating that the file does not exist.
    </p>

    <p><!-- https://go.dev/issue/56899, CL 463219 -->
      On Windows calling
      <a href="https://go.dev/pkg/os/#TempDir"><code>TempDir</code></a> now uses
      GetTempPath2W when available, instead of GetTempPathW. The
      new behavior is a security hardening measure that prevents
      temporary files created by processes running as SYSTEM to
      be accessed by non-SYSTEM processes.
    </p>

    <p><!-- CL 493036 -->
      On Windows the os package now supports working with files whose
      names, stored as UTF-16, can't be represented as valid UTF-8.
    </p>

    <p><!-- CL 463177 -->
      On Windows <a href="https://go.dev/pkg/os/#Lstat"><code>Lstat</code></a> now resolves
      symbolic links for paths ending with a path separator, consistent with its
      behavior on POSIX platforms.
    </p>

    <p><!-- https://go.dev/issue/54451, CL 491175 -->
      The implementation of the
      <a href="https://go.dev/pkg/io/fs/#DirEntry"><code>io/fs.DirEntry</code></a>
      interface returned by the
      <a href="https://go.dev/pkg/os/#ReadDir"><code>ReadDir</code></a> function and
      the <a href="https://go.dev/pkg/os/#File.ReadDir"><code>File.ReadDir</code></a>
      method now implements a <code>String</code> method that calls
      <a href="https://go.dev/pkg/io/fs/#FormatDirEntry"><code>io/fs.FormatDirEntry</code></a>.
    </p>

    <p><!-- https://go.dev/issue/53761, CL 416775, CL 498015-->
    The implementation of the
    <a href="https://go.dev/pkg/io/fs/#FS"><code>io/fs.FS</code></a> interface returned by
    the <a href="https://go.dev/pkg/os/#DirFS"><code>DirFS</code></a> function now implements
    the <a href="https://go.dev/pkg/io/fs/#ReadFileFS"><code>io/fs.ReadFileFS</code></a> and
    the <a href="https://go.dev/pkg/io/fs/#ReadDirFS"><code>io/fs.ReadDirFS</code></a>
    interfaces.
    </p>
  </dd>
</dl><!-- os -->

<dl id="path/filepath"><dt><a href="https://go.dev/pkg/path/filepath/">path/filepath</a></dt>
  <dd>
    <p>
      The implementation of the
      <a href="https://go.dev/pkg/io/fs/#DirEntry"><code>io/fs.DirEntry</code></a>
      interface passed to the function argument of
      <a href="https://go.dev/pkg/path/filepath/#WalkDir"><code>WalkDir</code></a>
      now implements a <code>String</code> method that calls
      <a href="https://go.dev/pkg/io/fs/#FormatDirEntry"><code>io/fs.FormatDirEntry</code></a>.
    </p>
  </dd>
</dl><!-- path/filepath -->

<!-- CL 459455 reverted -->

<dl id="reflect"><dt><a href="https://go.dev/pkg/reflect/">reflect</a></dt>
  <dd>
    <p><!-- CL 408826, CL 413474 -->
      In Go 1.21, <a href="https://go.dev/pkg/reflect/#ValueOf"><code>ValueOf</code></a>
      no longer forces its argument to be allocated on the heap, allowing
      a <code>Value</code>'s content to be allocated on the stack. Most
      operations on a <code>Value</code> also allow the underlying value
      to be stack allocated.
    </p>

    <p><!-- https://go.dev/issue/55002 -->
      The new <a href="https://go.dev/pkg/reflect/#Value"><code>Value</code></a>
      method <a href="https://go.dev/pkg/reflect/#Value.Clear"><code>Value.Clear</code></a>
      clears the contents of a map or zeros the contents of a slice.
      This corresponds to the new <code>clear</code> built-in
      <a href="#language">added to the language</a>.
    </p>

    <p><!-- https://go.dev/issue/56906, CL 452762 -->
      The <a href="https://go.dev/pkg/reflect/#SliceHeader"><code>SliceHeader</code></a>
      and <a href="https://go.dev/pkg/reflect/#StringHeader"><code>StringHeader</code></a>
      types are now deprecated. In new code
      prefer <a href="https://go.dev/pkg/unsafe/#Slice"><code>unsafe.Slice</code></a>,
      <a href="https://go.dev/pkg/unsafe/#SliceData"><code>unsafe.SliceData</code></a>,
      <a href="https://go.dev/pkg/unsafe/#String"><code>unsafe.String</code></a>,
      or <a href="https://go.dev/pkg/unsafe/#StringData"><code>unsafe.StringData</code></a>.
    </p>
  </dd>
</dl><!-- reflect -->

<dl id="regexp"><dt><a href="https://go.dev/pkg/regexp/">regexp</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/46159, CL 479401 -->
      <a href="https://go.dev/pkg/regexp#Regexp"><code>Regexp</code></a> now defines
      <a href="https://go.dev/pkg/regexp#Regexp.MarshalText"><code>MarshalText</code></a>
      and <a href="https://go.dev/pkg/regexp#Regexp.UnmarshalText"><code>UnmarshalText</code></a>
      methods. These implement
      <a href="https://go.dev/pkg/encoding#TextMarshaler"><code>encoding.TextMarshaler</code></a>
      and
      <a href="https://go.dev/pkg/encoding#TextUnmarshaler"><code>encoding.TextUnmarshaler</code></a>
      and will be used by packages such as
      <a href="https://go.dev/pkg/encoding/json">encoding/json</a>.
    </p>
  </dd>
</dl><!-- regexp -->

<dl id="runtime"><dt><a href="https://go.dev/pkg/runtime/">runtime</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/38651, CL 435337 -->
      Textual stack traces produced by Go programs, such as those
      produced when crashing, calling <code>runtime.Stack</code>, or
      collecting a goroutine profile with <code>debug=2</code>, now
      include the IDs of the goroutines that created each goroutine in
      the stack trace.
    </p>

    <p><!-- https://go.dev/issue/57441, CL 474915 -->
      Crashing Go applications can now opt-in to Windows Error Reporting (WER) by setting the environment variable
      <code>GOTRACEBACK=wer</code> or calling <a href="https://go.dev/pkg/runtime/debug/#SetTraceback"><code>debug.SetTraceback("wer")</code></a>
      before the crash. Other than enabling WER, the runtime will behave as with <code>GOTRACEBACK=crash</code>.
      On non-Windows systems, <code>GOTRACEBACK=wer</code> is ignored.
    </p>

    <p><!-- CL 447778 -->
      <code>GODEBUG=cgocheck=2</code>, a thorough checker of cgo pointer passing rules,
      is no longer available as a <a href="https://go.dev/pkg/runtime#hdr-Environment_Variables">debug option</a>.
      Instead, it is available as an experiment using <code>GOEXPERIMENT=cgocheck2</code>.
      In particular this means that this mode has to be selected at build time instead of startup time.
    </p>

    <p>
      <code>GODEBUG=cgocheck=1</code> is still available (and is still the default).
    </p>

    <p><!-- https://go.dev/issue/46787, CL 367296 -->
      A new type <code>Pinner</code> has been added to the runtime
      package. <code>Pinner</code>s may be used to "pin" Go memory
      such that it may be used more freely by non-Go code. For instance,
      passing Go values that reference pinned Go memory to C code is
      now allowed. Previously, passing any such nested reference was
      disallowed by the
      <a href="https://pkg.go.dev/cmd/cgo#hdr-Passing_pointers">cgo pointer passing rules.</a>

      See <a href="https://go.dev/pkg/runtime#Pinner">the docs</a> for more details.
    </p>

    <!-- CL 472195 no release note needed -->
  </dd>
</dl><!-- runtime -->

<dl id="runtime/metrics"><dt><a href="https://go.dev/pkg/runtime/metrics/">runtime/metrics</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/56857, CL 497315 -->
      A few previously-internal GC metrics, such as live heap size, are
      now available.

      <code>GOGC</code> and <code>GOMEMLIMIT</code> are also now
      available as metrics.
    </p>
  </dd>
</dl><!-- runtime/metrics -->

<dl id="runtime/trace"><dt><a href="https://go.dev/pkg/runtime/trace/">runtime/trace</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/16638 -->
      Collecting traces on amd64 and arm64 now incurs a substantially
      smaller CPU cost: up to a 10x improvement over the previous release.
    </p>

    <p><!-- CL 494495 -->
      Traces now contain explicit stop-the-world events for every reason
      the Go runtime might stop-the-world, not just garbage collection.
    </p>
  </dd>
</dl><!-- runtime/trace -->

<dl id="sync"><dt><a href="https://go.dev/pkg/sync/">sync</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/56102, CL 451356 -->
      The new <a href="https://go.dev/pkg/sync/#OnceFunc"><code>OnceFunc</code></a>,
      <a href="https://go.dev/pkg/sync/#OnceValue"><code>OnceValue</code></a>, and
      <a href="https://go.dev/pkg/sync/#OnceValues"><code>OnceValues</code></a>
      functions capture a common use of <a href="https://go.dev/pkg/sync/#Once">Once</a> to
      lazily initialize a value on first use.
    </p>
  </dd>
</dl>

<dl id="syscall"><dt><a href="https://go.dev/pkg/syscall/">syscall</a></dt>
  <dd>
    <p><!-- CL 480135 -->
      On Windows the
      <a href="https://go.dev/pkg/syscall#Fchdir"><code>Fchdir</code></a> function
      now changes the current directory to its argument, rather than
      always returning an error.
    </p>

    <p><!-- https://go.dev/issue/46259, CL 458335 -->
      On FreeBSD
      <a href="https://go.dev/pkg/syscall#SysProcAttr"><code>SysProcAttr</code></a>
      has a new field <code>Jail</code> that may be used to put the
      newly created process in a jailed environment.
    </p>

    <p><!-- CL 493036 -->
      On Windows the syscall package now supports working with files whose
      names, stored as UTF-16, can't be represented as valid UTF-8.
      The <a href="https://go.dev/pkg/syscall#UTF16ToString"><code>UTF16ToString</code></a>
      and <a href="https://go.dev/pkg/syscall#UTF16FromString"><code>UTF16FromString</code></a>
      functions now convert between UTF-16 data and
      <a href="https://simonsapin.github.io/wtf-8/">WTF-8</a> strings.
      This is backward compatible as WTF-8 is a superset of the UTF-8
      format that was used in earlier releases.
    </p>

    <p><!-- CL 476578, CL 476875, CL 476916 -->
      Several error values match the new
      <a href="https://go.dev/pkg/errors/#ErrUnsupported"><code>errors.ErrUnsupported</code></a>,
      such that <code>errors.Is(err, errors.ErrUnsupported)</code>
      returns true.
      </p><ul>
        <li><code>ENOSYS</code></li>
        <li><code>ENOTSUP</code></li>
        <li><code>EOPNOTSUPP</code></li>
        <li><code>EPLAN9</code> (Plan 9 only)</li>
        <li><code>ERROR_CALL_NOT_IMPLEMENTED</code> (Windows only)</li>
        <li><code>ERROR_NOT_SUPPORTED</code> (Windows only)</li>
        <li><code>EWINDOWS</code> (Windows only)</li>
      </ul>
    
  </dd>
</dl><!-- syscall -->

<dl id="testing"><dt><a href="https://go.dev/pkg/testing/">testing</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/37708, CL 463837 -->
      The new <code>-test.fullpath</code> option will print full path
      names in test log messages, rather than just base names.
    </p>

    <p><!-- https://go.dev/issue/52600, CL 475496 -->
      The new <a href="https://go.dev/pkg/testing/#Testing"><code>Testing</code></a> function reports whether the program is a test created by <code>go</code> <code>test</code>.
    </p>
  </dd>
</dl><!-- testing -->

<dl id="testing/fstest"><dt><a href="https://go.dev/pkg/testing/fstest/">testing/fstest</a></dt>
  <dd>
    <p><!-- https://go.dev/issue/54451, CL 491175 -->
      Calling <code><a href="https://go.dev/pkg/testing/fstest/MapFS.Open">Open</a>.<a href="https://go.dev/pkg/io/fs/#File.Stat">Stat</a></code>
      will return a type that now implements a <code>String</code>
      method that calls
      <a href="https://go.dev/pkg/io/fs/#FormatFileInfo"><code>io/fs.FormatFileInfo</code></a>.
    </p>
  </dd>
</dl><!-- testing/fstest -->

<dl id="unicode"><dt><a href="https://go.dev/pkg/unicode/">unicode</a></dt>
  <dd>
    <p><!-- CL 456837 -->
      The <a href="https://go.dev/pkg/unicode/"><code>unicode</code></a> package and
      associated support throughout the system has been upgraded to
      <a href="https://www.unicode.org/versions/Unicode15.0.0/">Unicode 15.0.0</a>.
    </p>
  </dd>
</dl><!-- unicode -->

<h2 id="ports">Ports</h2>

<h3 id="darwin">Darwin</h3>

<p><!-- https://go.dev/issue/57125 -->
  As <a href="https://go.dev/doc/go1.20#darwin">announced</a> in the Go 1.20 release notes,
  Go 1.21 requires macOS 10.15 Catalina or later;
  support for previous versions has been discontinued.
</p>

<h3 id="windows">Windows</h3>

<p><!-- https://go.dev/issue/57003, https://go.dev/issue/57004 -->
  As <a href="https://go.dev/doc/go1.20#windows">announced</a> in the Go 1.20 release notes,
  Go 1.21 requires at least Windows 10 or Windows Server 2016;
  support for previous versions has been discontinued.
</p>

<!-- CL 470695 -->


<h3 id="wasm">WebAssembly</h3>

<p><!-- https://go.dev/issue/38248, https://go.dev/issue/59149, CL 489255 -->
  The new <code>go:wasmimport</code> directive can now be used in Go programs
  to import functions from the WebAssembly host.
</p>

<!-- https://go.dev/issue/56100 -->
<p>
  The Go scheduler now interacts much more efficiently with the
  JavaScript event loop, especially in applications that block
  frequently on asynchronous events.
</p>


<h3 id="wasip1">WebAssembly System Interface</h3>

<p><!-- https://go.dev/issue/58141 -->
  Go 1.21 adds an experimental port to the <a href="https://wasi.dev/">
  WebAssembly System Interface (WASI)</a>, Preview 1
  (<code>GOOS=wasip1</code>, <code>GOARCH=wasm</code>).
</p>

<p>
  As a result of the addition of the new <code>GOOS</code> value
  "<code>wasip1</code>", Go files named <code>*_wasip1.go</code>
  will now be <a href="https://go.dev/pkg/go/build/#hdr-Build_Constraints">ignored
  by Go tools</a> except when that <code>GOOS</code> value is being
  used.
  If you have existing filenames matching that pattern, you will
  need to rename them.
</p>

<h3 id="PPC64">ppc64/ppc64le</h3>

<p><!-- go.dev/issue/44549 -->
  On Linux, <code>GOPPC64=power10</code> now generates PC-relative instructions, prefixed
  instructions, and other new Power10 instructions. On AIX, <code>GOPPC64=power10</code>
  generates Power10 instructions, but does not generate PC-relative instructions.
</p>

<p>
  When building position-independent binaries for <code>GOPPC64=power10</code>
  <code>GOOS=linux</code> <code>GOARCH=ppc64le</code>, users can expect reduced binary
  sizes in most cases, in some cases 3.5%. Position-independent binaries are built for
  ppc64le with the following <code>-buildmode</code> values:
  <code>c-archive</code>, <code>c-shared</code>, <code>shared</code>, <code>pie</code>, <code>plugin</code>.
</p>

<h3 id="loong64">loong64</h3>

<p><!-- go.dev/issue/53301, CL 455075, CL 425474, CL 425476, CL 425478, CL 489576 -->
  The <code>linux/loong64</code> port now supports <code>-buildmode=c-archive</code>,
  <code>-buildmode=c-shared</code> and <code>-buildmode=pie</code>.
</p>

<!-- proposals for x repos that don't need to be mentioned here but
     are picked up by the relnote tool. -->
<!-- https://go.dev/issue/54232 -->
<!-- https://go.dev/issue/57051 -->
<!-- https://go.dev/issue/57792 -->
<!-- https://go.dev/issue/57906 -->
<!-- https://go.dev/issue/58668 -->
<!-- https://go.dev/issue/59016 -->
<!-- https://go.dev/issue/59676 -->
<!-- https://go.dev/issue/60409 -->
<!-- https://go.dev/issue/61176 -->

<!-- changes to cmd/api that don't need release notes. -->
<!-- CL 469115, CL 469135, CL 499981 -->

<!-- proposals that don't need release notes. -->
<!-- https://go.dev/issue/10275 -->
<!-- https://go.dev/issue/59719 -->



</article>



</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[StableCode (239 pts)]]></title>
            <link>https://stability.ai/blog/stablecode-llm-generative-ai-coding</link>
            <guid>37050409</guid>
            <pubDate>Tue, 08 Aug 2023 15:25:55 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://stability.ai/blog/stablecode-llm-generative-ai-coding">https://stability.ai/blog/stablecode-llm-generative-ai-coding</a>, See on <a href="https://news.ycombinator.com/item?id=37050409">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="page" role="main">
        
          
<article id="sections" data-page-sections="62f2452bc121595f4d87c71c">
  
  
    
    


  


<div data-content-field="main-content" data-item-id="" data-test="page-section" data-section-theme="bright" data-section-id="62f2452bc121595f4d87c71e" data-controller="SectionWrapperController" data-current-styles="{
&quot;imageOverlayOpacity&quot;: 0.15,
&quot;backgroundWidth&quot;: &quot;background-width--full-bleed&quot;,
&quot;sectionHeight&quot;: &quot;section-height--medium&quot;,
&quot;horizontalAlignment&quot;: &quot;horizontal-alignment--center&quot;,
&quot;verticalAlignment&quot;: &quot;vertical-alignment--middle&quot;,
&quot;contentWidth&quot;: &quot;content-width--wide&quot;,
&quot;sectionTheme&quot;: &quot;bright&quot;,
&quot;sectionAnimation&quot;: &quot;none&quot;,
&quot;backgroundMode&quot;: &quot;image&quot;
}" data-current-context="{
&quot;video&quot;: {
&quot;playbackSpeed&quot;: 0.5,
&quot;filter&quot;: 1,
&quot;filterStrength&quot;: 0,
&quot;zoom&quot;: 0,
&quot;videoSourceProvider&quot;: &quot;none&quot;
},
&quot;backgroundImageId&quot;: null,
&quot;backgroundMediaEffect&quot;: null,
&quot;divider&quot;: null,
&quot;typeName&quot;: &quot;blog-side-by-side&quot;
}" data-animation="none">
  <article id="article-">
  
    <div data-layout-label="Post Body" data-type="item" id="item-64d2439d9ce9c7286329053a"><div data-block-type="2" id="block-0d37d8f624da11f15357">

<p>Stability AI has just announced the release of StableCode, its very first LLM generative AI product for coding. This product is designed to assist programmers with their daily work while also providing a great learning tool for new developers ready to take their skills to the next level.</p>



</div><div data-test="image-block-inline-outer-wrapper" data-block-type="5" id="block-yui_3_17_2_1_1691501470316_6458">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/b960c76b-30a3-447d-96bc-8088a21a4be0/SDXL+colorful+parrot_clipdrop-enhance.jpg" data-image="https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/b960c76b-30a3-447d-96bc-8088a21a4be0/SDXL+colorful+parrot_clipdrop-enhance.jpg" data-image-dimensions="1024x1024" data-image-focal-point="0.5,0.5" alt="" data-load="false" src="https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/b960c76b-30a3-447d-96bc-8088a21a4be0/SDXL+colorful+parrot_clipdrop-enhance.jpg" width="1024" height="1024" sizes="100vw" srcset="https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/b960c76b-30a3-447d-96bc-8088a21a4be0/SDXL+colorful+parrot_clipdrop-enhance.jpg?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/b960c76b-30a3-447d-96bc-8088a21a4be0/SDXL+colorful+parrot_clipdrop-enhance.jpg?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/b960c76b-30a3-447d-96bc-8088a21a4be0/SDXL+colorful+parrot_clipdrop-enhance.jpg?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/b960c76b-30a3-447d-96bc-8088a21a4be0/SDXL+colorful+parrot_clipdrop-enhance.jpg?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/b960c76b-30a3-447d-96bc-8088a21a4be0/SDXL+colorful+parrot_clipdrop-enhance.jpg?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/b960c76b-30a3-447d-96bc-8088a21a4be0/SDXL+colorful+parrot_clipdrop-enhance.jpg?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/b960c76b-30a3-447d-96bc-8088a21a4be0/SDXL+colorful+parrot_clipdrop-enhance.jpg?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs">
                
            </p>
          </div>
        
          
        

        
          
          <figcaption>
            <p><em>&nbsp;“a colorful parrot with glasses typing away at a computer, flat icon, vector” – SDXL 0.9</em></p>
          </figcaption>
        
      
        </figure>
      

    </div><div data-block-type="2" id="block-yui_3_17_2_1_1691501470316_6845">
  <p>StableCode offers a unique way for developers to become more efficient by using three different models to help in their coding. The <a href="https://huggingface.co/stabilityai/stablecode-completion-alpha-3b-4k" target="_blank"><span>base model</span></a> was first trained on a diverse set of programming languages from the<a href="https://www.bigcode-project.org/docs/about/the-stack/" target="_blank"> <span>stack-dataset</span></a> (v1.2) from BigCode and then trained further with popular languages like Python, Go, Java, Javascript, C, markdown and C++.&nbsp; In total, we trained our models on 560B tokens of code on our HPC cluster.&nbsp;</p><p>After the base model had been established, the <a href="https://huggingface.co/stabilityai/stablecode-instruct-alpha-3b" target="_blank"><span>instruction model</span></a> was then tuned for specific use cases to help solve complex programming tasks. ~120,000 code instruction/response pairs in Alpaca format were trained on the base model to achieve this result.&nbsp;</p>
</div><div data-test="image-block-inline-outer-wrapper" data-block-type="5" id="block-yui_3_17_2_1_1691501470316_8307">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/0de4a94c-7756-4be5-8b43-375d99f8e587/stable-code-instruct-demo.png" data-image="https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/0de4a94c-7756-4be5-8b43-375d99f8e587/stable-code-instruct-demo.png" data-image-dimensions="1552x880" data-image-focal-point="0.5,0.5" alt="" data-load="false" src="https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/0de4a94c-7756-4be5-8b43-375d99f8e587/stable-code-instruct-demo.png" width="1552" height="880" sizes="100vw" srcset="https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/0de4a94c-7756-4be5-8b43-375d99f8e587/stable-code-instruct-demo.png?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/0de4a94c-7756-4be5-8b43-375d99f8e587/stable-code-instruct-demo.png?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/0de4a94c-7756-4be5-8b43-375d99f8e587/stable-code-instruct-demo.png?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/0de4a94c-7756-4be5-8b43-375d99f8e587/stable-code-instruct-demo.png?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/0de4a94c-7756-4be5-8b43-375d99f8e587/stable-code-instruct-demo.png?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/0de4a94c-7756-4be5-8b43-375d99f8e587/stable-code-instruct-demo.png?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/0de4a94c-7756-4be5-8b43-375d99f8e587/stable-code-instruct-demo.png?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs">
                
            </p>
          </div>
        
          
        

        
          
          <figcaption>
            <p><em>Code for using StableCode Instruct to generate a response to a given instruction.</em></p>
          </figcaption>
        
      
        </figure>
      

    </div><div data-block-type="2" id="block-yui_3_17_2_1_1691501470316_8657">
  <p>StableCode is the ideal building block for those wanting to learn more about coding, and the <a href="https://huggingface.co/stabilityai/stablecode-completion-alpha-3b" target="_blank"><span>long-context window model</span></a> is the perfect assistant to ensure single and multiple-line autocomplete suggestions are available for the user. This model is built to handle a lot more code at once (2-4X more than previously-released open models with a context window of 16,000 tokens), allowing the user to review or edit the equivalent of up to five average-sized Python files at the same time, making it the ideal learning tool for a beginner who wants to rise to bigger challenges.</p>
</div><div data-test="image-block-inline-outer-wrapper" data-block-type="5" id="block-yui_3_17_2_1_1691501470316_13747">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/cb325400-49eb-4b26-82f2-0b19228833e0/stable-code-alpha-demo.png" data-image="https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/cb325400-49eb-4b26-82f2-0b19228833e0/stable-code-alpha-demo.png" data-image-dimensions="1552x1422" data-image-focal-point="0.5,0.5" alt="" data-load="false" src="https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/cb325400-49eb-4b26-82f2-0b19228833e0/stable-code-alpha-demo.png" width="1552" height="1422" sizes="100vw" srcset="https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/cb325400-49eb-4b26-82f2-0b19228833e0/stable-code-alpha-demo.png?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/cb325400-49eb-4b26-82f2-0b19228833e0/stable-code-alpha-demo.png?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/cb325400-49eb-4b26-82f2-0b19228833e0/stable-code-alpha-demo.png?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/cb325400-49eb-4b26-82f2-0b19228833e0/stable-code-alpha-demo.png?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/cb325400-49eb-4b26-82f2-0b19228833e0/stable-code-alpha-demo.png?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/cb325400-49eb-4b26-82f2-0b19228833e0/stable-code-alpha-demo.png?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/cb325400-49eb-4b26-82f2-0b19228833e0/stable-code-alpha-demo.png?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs">
                
            </p>
          </div>
        
          
        

        
          
          <figcaption>
            <p><em>StableCode completing a relatively complex python file utilizing the Pytorch deep learning library (gray text shows StableCode’s prediction).</em></p>
          </figcaption>
        
      
        </figure>
      

    </div><div data-block-type="2" id="block-yui_3_17_2_1_1691501470316_14097">
  <p>And here is how we compare to other models of a similar number of parameters and number of tokens trained on. We use the standard pass@1 and pass@10 metrics using the popular HumanEval benchmark.</p>
</div><div data-test="image-block-inline-outer-wrapper" data-block-type="5" id="block-yui_3_17_2_1_1691520734507_6621">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/590292fe-6892-4056-927f-d9129470eaa3/image+%282%29.png" data-image="https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/590292fe-6892-4056-927f-d9129470eaa3/image+%282%29.png" data-image-dimensions="1634x214" data-image-focal-point="0.5,0.5" alt="" data-load="false" src="https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/590292fe-6892-4056-927f-d9129470eaa3/image+%282%29.png" width="1634" height="214" sizes="100vw" srcset="https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/590292fe-6892-4056-927f-d9129470eaa3/image+%282%29.png?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/590292fe-6892-4056-927f-d9129470eaa3/image+%282%29.png?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/590292fe-6892-4056-927f-d9129470eaa3/image+%282%29.png?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/590292fe-6892-4056-927f-d9129470eaa3/image+%282%29.png?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/590292fe-6892-4056-927f-d9129470eaa3/image+%282%29.png?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/590292fe-6892-4056-927f-d9129470eaa3/image+%282%29.png?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/590292fe-6892-4056-927f-d9129470eaa3/image+%282%29.png?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs">
                
            </p>
          </div>
        
          
        

        
          
          <figcaption>
            <p><em>benchmark scores of stablecode.</em></p>
          </figcaption>
        
      
        </figure>
      

    </div><div data-test="image-block-inline-outer-wrapper" data-block-type="5" id="block-yui_3_17_2_1_1691520734507_8553">

      

      
        <figure>
          
        
        

        
          
            
          <div data-animation-role="image">
            <p><img data-stretch="false" data-src="https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/d77f0860-409a-4fa4-b9a0-ea553372ab58/image+%285%29.png" data-image="https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/d77f0860-409a-4fa4-b9a0-ea553372ab58/image+%285%29.png" data-image-dimensions="2760x1458" data-image-focal-point="0.5,0.5" alt="" data-load="false" src="https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/d77f0860-409a-4fa4-b9a0-ea553372ab58/image+%285%29.png" width="2760" height="1458" sizes="100vw" srcset="https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/d77f0860-409a-4fa4-b9a0-ea553372ab58/image+%285%29.png?format=100w 100w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/d77f0860-409a-4fa4-b9a0-ea553372ab58/image+%285%29.png?format=300w 300w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/d77f0860-409a-4fa4-b9a0-ea553372ab58/image+%285%29.png?format=500w 500w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/d77f0860-409a-4fa4-b9a0-ea553372ab58/image+%285%29.png?format=750w 750w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/d77f0860-409a-4fa4-b9a0-ea553372ab58/image+%285%29.png?format=1000w 1000w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/d77f0860-409a-4fa4-b9a0-ea553372ab58/image+%285%29.png?format=1500w 1500w, https://images.squarespace-cdn.com/content/v1/6213c340453c3f502425776e/d77f0860-409a-4fa4-b9a0-ea553372ab58/image+%285%29.png?format=2500w 2500w" loading="lazy" decoding="async" data-loader="sqs">
                
            </p>
          </div>
        
          
        

        
          
          <figcaption>
            <p><em>HumanEval Benchmark Comparison with models of similar size(3B). </em></p>
          </figcaption>
        
      
        </figure>
      

    </div><div data-block-type="2" id="block-yui_3_17_2_1_1691520734507_9502">
  <p>Stability AI aims to make technology more accessible, and StableCode is a significant step toward this goal. People of every background will soon be able to create code to solve their everyday problems and improve their lives using AI, and we’d like to help make this happen. We hope that StableCode will help the next billion software developers learn to code while providing fairer access to technology all over the world.</p>
</div></div>
  
</article>

</div>

  
</article>


          

          
            
              

            
          
        
      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[GPT-4 can't reason (202 pts)]]></title>
            <link>https://www.preprints.org/manuscript/202308.0148/v1</link>
            <guid>37050257</guid>
            <pubDate>Tue, 08 Aug 2023 15:15:31 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.preprints.org/manuscript/202308.0148/v1">https://www.preprints.org/manuscript/202308.0148/v1</a>, See on <a href="https://news.ycombinator.com/item?id=37050257">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="submission-content">
                <p><span>Preprint</span>
    <span>Article</span>
    <span>Version 1</span>
    <span>Preserved in Portico </span>    <span>This version is not peer-reviewed</span>
</p>




<p>
                                        Version 1
                : Received: 27 July 2023 / Approved: 2 August 2023 / Online: 2 August 2023 (04:10:57 CEST)
                        <br>
                                                <a href="https://www.preprints.org/manuscript/202308.0148/v2">Version 2</a>
                : Received: 3 August 2023 / Approved: 4 August 2023 / Online: 7 August 2023 (07:13:00 CEST)
                        <br>
            </p>
            <p>
            
            Arkoudas, K. GPT-4 Can't Reason. <em>Preprints</em> <b>2023</b>, 2023080148. https://doi.org/10.20944/preprints202308.0148.v1
            
<span>
    <span>Arkoudas, K. GPT-4 Can't Reason. Preprints 2023, 2023080148. https://doi.org/10.20944/preprints202308.0148.v1</span>
    
</span>        </p>



<h2>
    <span>Abstract</span>
</h2>
<p>
    GPT-4 was released in March 2023 to wide acclaim, marking a very substantial improvement across the board over GPT-3.5 (OpenAI's previously best model, which had powered the initial release of ChatGPT). Despite the genuinely impressive improvement, however, there are good reasons to be highly skeptical of GPT-4's ability to reason. This position paper discusses the nature of reasoning; criticizes the current formulation of reasoning problems in the NLP community and the way in which the reasoning performance of LLMs is currently evaluated; introduces a collection of 21 diverse reasoning problems; and performs a detailed qualitative analysis of GPT-4's performance on these problems. Based on the results of this analysis, the paper argues that, despite the occasional flashes of analytical brilliance, GPT-4 at present is utterly incapable of reasoning.
</p>



<h2>
    <span>Keywords</span>
</h2>
<p>
            GPT-4; LLM; AI; reasoning; inference
    </p>

    <h2>
        <span>Subject</span>
    </h2>
    <p>
        Computer Science and Mathematics, Artificial Intelligence and Machine Learning
    </p>
    <p>
        
        This is an open access article distributed under the <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">Creative Commons Attribution License</a> which permits unrestricted use, distribution, and reproduction in any medium, provided the original work is properly cited.
    </p>
                
                <h2><span>Comments (0)</span></h2>
                
                
            <p>We encourage comments and feedback from a broad range of readers. See <a href="https://www.preprints.org/about#HowItWorks">criteria for comments</a> and our <a href="https://www.preprints.org/about#CommentAndDiscuss">Diversity</a> statement.</p>
        <p><a href="#">Leave a public comment</a><br>
        <a href="#">Send a private comment to the author(s)</a></p><p>* All users must log in before leaving a comment</p>
            
                        
            </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Homo sapiens declared extinct (1999) (211 pts)]]></title>
            <link>https://bruces.medium.com/homo-sapiens-declared-extinct-by-bruce-sterling-1999-cc8b0f94b195</link>
            <guid>37050089</guid>
            <pubDate>Tue, 08 Aug 2023 15:06:21 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://bruces.medium.com/homo-sapiens-declared-extinct-by-bruce-sterling-1999-cc8b0f94b195">https://bruces.medium.com/homo-sapiens-declared-extinct-by-bruce-sterling-1999-cc8b0f94b195</a>, See on <a href="https://news.ycombinator.com/item?id=37050089">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><div><a rel="noopener follow" href="https://bruces.medium.com/?source=post_page-----cc8b0f94b195--------------------------------"><div aria-hidden="false"><p><img alt="Bruce Sterling" src="https://miro.medium.com/v2/resize:fill:88:88/0*b5Lq7qcNhi6n8r6j.jpeg" width="44" height="44" loading="lazy" data-testid="authorPhoto"></p></div></a></div><p id="3503">First published in Nature magazine, November 1999.</p><p id="c88f">AD 2380: After a painstaking ten-year search, from the Tibetan highlands to the Brazilian rainforests, it’s official — there are no more human beings.</p><p id="f883">“I suppose I have to consider this a personal setback,” said anthropologist Dr Marcia Raymo, of the Institute for Retrograde Study in Berlin. “Of course we still have human tissue in the lab, and we could clone as many specimens of <em>Homo sapiens</em> as we like. But that species was always known primarily for its unique cultural activity.”</p><p id="5e8b">“I can’t understand what the fuss is about,” declared Rita “Cuddles” Srinivasan, actress, sex symbol and computer peripheral. “Artificial Intelligences love to embody themselves in human forms like mine, to wallow in sex and eating. I’m good for oodles of human stuff, scratching, sleeping, sneezing, you can name it. As long as AIs honour their origins, you’ll see plenty of disembodied intelligences slumming around in human forms. That’s where all the fun is, I promise — trust me.”</p><p id="2d29">The actress’s current AI sponsor further remarked via wireless telepathy that Miss Srinivasan’s occasional extra arms or heads should be seen as a sign of “creative brio,” and not as a violation of “some obsolete, supposedly standard human form”.</p><p id="1b09">A worldwide survey of skull contents in April 2379 revealed no living citizen with less than 35 per cent cultured gelbrain. “That pretty well kicks it in the head for me,” declared statistician Piers Euler, the front identity for a collaborative group-mind of mathematicians at the Bourbaki Academy in Paris. “I don’t see how you can declare any entity ‘human’ when their brain is a gelatin lattice, and every cell of their body contains extensive extra strands of industrial-strength DNA. Not only is humanity extinct but, strictly speaking, pretty much everyone alive today should be classified as a unique, post-natural, one-of-a-kind species.”</p><p id="991f">“I was born human,” admitted 380-year-old classical musician Soon Yi, speaking from his support vat in Shanghai. “I grew up as a human being. It seemed quite natural at the time. For hundreds of years on the state-supported concert circuit, I promoted myself as a ‘humanist’, supporting and promoting human high culture. But at this point, I should be honest: that was always my stage pretence. Let’s face it: gelbrain is vastly better stuff than those grey, greasy, catch-as-catch-can human neurons. You can’t become a serious professional artiste while using nothing but all-natural animal tissue in your head. It’s just absurd!”</p><p id="7bc6">Gently fanning his wizened tissues with warm currents of support fluid, the grand old man of music continued: “Wolfgang Mozart was a very dull creature by our modern standards but, thanks to gelbrain, I can still find ways to pump life into his primitive compositions. I also persist in finding Bach worthwhile, even in today’s ultracivilized milieu, where individual consciousness and creative subjectivity tend to be rather rare, or absent entirely.”</p><p id="5e6a">Posthumanity’s most scientifically advanced group, the pioneer Blood Bathers in their vast crystalline castles in the Oort Cloud, could not be reached for comment.</p><p id="1ed0">“Why trouble the highly prestigious Blood Bathers with some trifling development here on distant Earth?” demanded President Arno Hopmeier of the World Antisubjectivist Council. “The Blood Bathers are busily researching novel realms of complex organization far beyond mere ‘intelligence’. We should feel extremely honoured that they still bother to share their lab results with creatures like us. It would only annoy Their Skinless Eminences if we ask them to fret over some defunct race of featherless bipeds.”</p><p id="6fe6">A Circumsolar Day of Mourning has been declared to commemorate the official extinction of humanity, but it is widely believed that bursts of wild public enthusiasm will mar the funereal proceedings.</p><p id="f712">“When you sum them up,” mused Orbital Entity Ankh/Ghih/9819, “it’s hard to perceive any tragedy in this long-awaited event. Beasts, birds, butterflies, even the very rocks and rivers must be rejoicing to see humans finally gone. We should try to be adult about this: we should take a deep breath, turn our face to the light of the future, and get on with the business of living.</p><p id="73bf">“Since I’ve been asked to offer an epitaph,” the highly distributed poetware continued, “I believe that we should rearrange the Great Wall of China to spell out (in Chinese of course, since most of them were always Chinese) — ‘THEY WERE VERY, VERY CURIOUS, BUT NOT AT ALL FAR-SIGHTED.’</p><p id="1339">“This historical moment is a serious occasion that requires a sense of public dignity. My dog, for instance, says he’ll truly miss humanity. But then again, my dog says a lot of things.”</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[EFF denounces Google's WEI proposal (591 pts)]]></title>
            <link>https://www.eff.org/deeplinks/2023/08/your-computer-should-say-what-you-tell-it-say-1</link>
            <guid>37050035</guid>
            <pubDate>Tue, 08 Aug 2023 15:03:16 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.eff.org/deeplinks/2023/08/your-computer-should-say-what-you-tell-it-say-1">https://www.eff.org/deeplinks/2023/08/your-computer-should-say-what-you-tell-it-say-1</a>, See on <a href="https://news.ycombinator.com/item?id=37050035">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <article role="article">
  
  
  <div><h2><span>WEI? I’m a frayed knot</span></h2>
<blockquote><p><i><span>Two pieces of string walk into a bar.</span></i></p>
<p><i><span>The first piece of string asks for a drink.</span></i></p>
<p><i><span>The bartender says, “Get lost. We don’t serve pieces of string.”</span></i></p>
<p><i><span>The second string ties a knot in his middle and messes up his ends. Then he orders a drink.&nbsp;</span></i></p>
<p><i><span>The bartender says, “Hey, you aren’t a piece of string, are you?”</span></i></p>
<p><i><span>The piece of string says, “Not me! I'm a frayed knot.”</span></i></p>
</blockquote>
<p><span>Google is adding code to Chrome that will send tamper-proof information about your operating system and other software, and share it with websites. Google says this will reduce ad fraud. In practice, it reduces your control over your own computer, and is likely to mean that some websites will block access for everyone who's not using an "approved" operating system and browser. It also raises the barrier to entry for new browsers, something Google employees acknowledged in an unofficial explainer for the new feature, </span><a href="https://github.com/RupertBenWiser/Web-Environment-Integrity/blob/main/explainer.md"><span>Web Environment Integrity (WEI)</span></a><span>.</span></p>
<p><span>If you’re scratching your head at this point, we don’t blame you. This is pretty abstract! We’ll unpack it a little below - and then we’ll explain why this is a </span><i><span>bad idea</span></i><span> that Google </span><i><span>should not pursue</span></i><span>.&nbsp;</span></p>
<p><span>But first…</span></p>
<h2><span>Some background</span></h2>
<p><span>When your web browser connects to a web server, it automatically sends a description of your device and browser, something like, "This session is coming from a Google Pixel 4, using Chrome version 116.0.5845.61." The server on the other end of that connection can request even more detailed information, like a list of which fonts are installed on your device, how big its screen is, and more.&nbsp;</span></p>
<p><span>This can be good. The web server that receives this information can tailor its offerings to you. That server can make sure it only sends you file formats your device understands, at a resolution that makes sense for your screen, laid out in a way that works well for you.</span></p>
<p><span>But there are also downsides to this. Many sites use "</span><a href="https://coveryourtracks.eff.org/"><span>browser fingerprinting</span></a><span>" - a kind of tracking that relies on your browser's unique combination of characteristics - to nonconsensually identify users who reject cookies and other forms of surveillance. Some sites make inferences about you from your browser and device in order to determine whether they can charge you more, or serve you </span><a href="https://qz.com/1733345/the-fight-against-discriminatory-financial-ads-on-facebook"><span>bad or deceptive offers</span></a><span>.&nbsp;</span></p>
<p><span>Thankfully, the information your browser sends to websites about itself and your device is strictly voluntary. Your browser </span><i><span>can</span></i><span> send accurate information about you, but it doesn't have to. There are lots of plug-ins, privacy tools and esoteric preferences that you can use to send information of your choosing to sites that you don't trust.&nbsp;</span></p>
<p><span>These tools don't just let you refuse to describe your computer to nosy servers across the internet. After all, a service that has so little regard for you that it would use your configuration data to inflict harms on you might very well refuse to serve you at all, as a means of coercing you into giving up the details of your device and software.</span></p>
<p><span>Instead, privacy and anti-tracking tools send </span><a href="https://wiki.archlinux.org/title/Firefox/Privacy"><span>plausible, </span><i><span>wrong</span></i><span> information about your device</span></a><span>. That way, services can't discriminate against you for choosing your own integrity over their business models.</span></p>
<p><span>That's where </span><i><span>remote attestation</span></i><span> comes in.</span></p>
<h2><span>Secure computing and remote attestation</span></h2>
<p><span>Most modern computers, tablets and phones ship from the factory with some kind of "secure computing" capability.&nbsp;</span></p>
<p><span>Secure computing is designed to be a system for monitoring your computer that you can't modify, or reconfigure. Originally, secure computing relied on a second processor - a "Technical Protection Module" or TPM - to monitor the parts of your computer you directly interact with. These days, many devices use a "secure enclave" - a hardened subsystem that is carefully designed to ensure that it can only be changed with the manufacturer’s permission..</span></p>
<p><span>These security systems have lots of uses. When you start your device, they can watch the boot-up process and check each phase of it to ensure that you're running the manufacturer's unaltered code, and not a version that's been poisoned by malicious software. That's great if you </span><i><span>want</span></i><span> to run the manufacturer's code, but the same process can be used to stop you from </span><i><span>intentionally</span></i><span> running different code, say, a free/open source operating system, or a version of the manufacturer's software that has been altered to disable undesirable features (like surveillance) and/or enable desirable ones (like the ability to install software from outside the manufacturer's app store).</span></p>
<p><span>Beyond controlling the code that runs on your device, these security systems can also provide information about your hardware and software to other people over the internet. Secure enclaves and TPMs ship with cryptographic "signing keys." They can gather information about your computer - its operating system version, extensions, software, and low-level code like bootloaders - and cryptographically sign all that information in an "</span><b>attestation</b><span>."</span></p>
<p><span>These attestations change the balance of power when it comes to networked communications. When a remote server wants to know what kind of device you're running and how it's configured, that server no longer has to take your word for it. It can require an attestation.</span></p>
<p><span>Assuming you haven't figured out how to bypass the security built into your device's secure enclave or TPM, that attestation is a highly reliable indicator of how your gadget is set up.&nbsp;</span></p>
<p><span>What's more, altering your device's TPM or secure enclave is a legally fraught business. Laws like </span><a href="https://www.eff.org/deeplinks/2022/12/dc-circuit-evades-important-questions-disappointing-ruling-section-1201-dmca"><span>Section 1201 of the Digital Millennium Copyright Act</span></a><span> as well as patents and copyrights create serious civil and criminal jeopardy for technologists who investigate these technologies. That danger gets substantially worse when the technologist publishes findings about how to disable or bypass these secure features. And if a technologist dares to distribute tools to effect that bypass, they need to reckon with serious criminal and civil legal risks, including multi-year prison sentences.</span></p>
<h2><span>WEI? No way!</span></h2>
<p><span>This is where the Google proposal comes in. WEI is a technical proposal to let servers request remote attestations from devices, with those requests being relayed to the device's secure enclave or TPM, which will respond with a cryptographically signed, highly reliable description of your device. You can choose not to send this to the remote server, but you lose the ability to send an </span><i><span>altered</span></i><span> or </span><i><span>randomized</span></i><span> description of your device and its software if you think that's best for you.</span></p>
<p><span>In their proposal, </span><a href="https://github.com/RupertBenWiser/Web-Environment-Integrity/blob/main/explainer.md"><span>the Google engineers claim several benefits of such a scheme</span></a><span>. But, despite their valiant attempts to cast these benefits as accruing to device owners, these are really designed to benefit the owners of commercial services; the benefit to users comes from the assumption that commercial operators will use the additional profits from remote attestation to make their services better for their users.</span></p>
<p><span>For example, the authors say that remote attestations will allow site operators to distinguish between real internet users who are manually operating a browser, and bots who are autopiloting their way through the service. This is said to be a way of reducing ad-fraud, which will increase revenues to publishers, who may plow those additional profits into producing better content.&nbsp;</span></p>
<p><span>They also claim that attestation can foil “machine-in-the-middle” attacks, where a user is presented with a fake website into which they enter their login information, including one-time passwords generated by a two-factor authentication (2FA) system, which the attacker automatically enters into the </span><i><span>real</span></i><span> service’s login screen.&nbsp;</span></p>
<p><span>They claim that gamers could use remote attestation to make sure the other gamers they’re playing against are running unmodified versions of the game, and not running cheats that give them an advantage over their competitors.</span></p>
<p><span>They claim that giving website operators the power to detect and block browser automation tools will let them block fraud, such as posting&nbsp; fake reviews or mass-creating bot accounts.</span></p>
<p><span>There’s arguably some truth to all of these claims. That’s not unusual: in matters of security, there’s often ways in which indiscriminate invasions of privacy and compromises of individual autonomy would blunt some real problems.&nbsp;</span></p>
<p><span>Putting handcuffs on every shopper who enters a store would doubtless reduce shoplifting, and stores with less shoplifting might lower their prices, benefitting all of their customers. But ultimately, shoplifting is the </span><i><span>store’s</span></i><span> problem, not the shoppers’, and it’s not fair for the store to make everyone else bear the cost of resolving its difficulties.</span></p>
<h2><span>WEI helps websites block disfavored browsers</span></h2>
<p><span>One </span><a href="https://github.com/RupertBenWiser/Web-Environment-Integrity/blob/7998217b3d7334a71c26c52aeeadc1c6b1ba1dc4/explainer.md#how-will-we-prevent-this-signal-from-being-used-to-exclude-vendors"><span>section of Google’s document</span></a><span> acknowledges that websites will use WEI to lock out browsers and operating systems that they dislike, or that fail to implement WEI to the website’s satisfaction. Google tentatively suggests (“we are evaluating”) a workaround: even once Chrome implements the new technology, it would refuse to send WEI information from a “small percentage” of computers that would otherwise send it. In theory, any website that refuses visits from non-WEI browsers would wind up also blocking this “small percentage” of Chrome users, who would complain so vociferously that the website would have to roll back their decision and allow everyone in, WEI or not.</span></p>
<p><span>The problem is, there are lots of websites that would </span><i><span>really, really</span></i><span> like the power to dictate what browser and operating system people can use. Think “</span><a href="https://www.theverge.com/2018/1/4/16805216/google-chrome-only-sites-internet-explorer-6-web-standards"><span>this website works best in Internet Explorer 6.0 on Windows XP</span></a><span>.” Many websites will consider that “small percentage” of users an acceptable price to pay, or simply instruct users to reset their browser data until a roll of the dice enables WEI for that site.</span></p>
<p><span></span><span>Also, Google has a conflict of interest in choosing the “small percentage.” Setting it very small would benefit Google’s ad fraud department by authenticating more ad clicks, allowing Google to sell those ads at a higher price. Setting it high makes it harder for websites to implement exclusionary behavior, but doesn’t directly benefit Google at all. It only makes it easier to build competing browsers. So even if Google chooses to implement this workaround, their incentives are to configure it as too small to protect the open web.</span></p>
<h2><span>You are the boss of your computer</span></h2>
<p><span>Your computer belongs to </span><i><span>you</span></i><span>. You are the boss of it. It should do what you tell it to.&nbsp;</span></p>
<p><span>We live in a </span><i><span>wildly</span></i><span> imperfect world. Laws that prevent you from reverse-engineering and reconfiguring your computer are bad enough, but when you combine that with a monopolized internet of</span> <span>“</span><a href="https://twitter.com/tveastman/status/1069674780826071040"><span>five giant websites filled with screenshots of text from the other four</span></a><span>,” things can get really bad.</span></p>
<p><span>A handful of companies have established chokepoints between buyers and sellers, performers and audiences, workers and employers, as well as families and communities. When those companies refuse to deal with you, your digital life grinds to a halt.&nbsp;</span></p>
<p><span>The web is the last major open platform left on the internet - the last platform where anyone can make a browser or a website and participate, without having to ask permission or meet someone else’s specifications.</span></p>
<p><span>You are the boss of your computer. If a website sets up a virtual checkpoint that says, “only approved technology beyond this point,” you should have the right to tell it, “I’m no piece of string, I’m a frayed knot.” That is, you should be able to tell a site what it wants to hear, even if the site would refuse to serve you if it knew the truth about you.&nbsp;</span></p>
<p><span>To their credit, the proposers of WEI state that they would like for WEI to be used solely for benign purposes. They explicitly decry the use of WEI to block browsers, or to exclude users for wanting to keep their private info private.</span></p>
<p><span>But computer scientists don't get to decide how a technology gets used. Adding attestation to the web carries the completely foreseeable risk that companies </span><i><span>will</span></i><span> use it to attack users' right to configure their devices to suit their needs, even when that conflicts with tech companies' commercial priorities.&nbsp;</span></p>
<p><span>WEI shouldn't be made. If it's made, it shouldn't be used.&nbsp;</span></p>
<h2><span>So what?</span></h2>
<p><span>So what should we do about WEI and other remote attestation technologies?</span></p>
<p><span>Let's start with what we </span><i><span>shouldn't</span></i><span> do. We shouldn't ban remote attestation. </span><a href="https://www.eff.org/deeplinks/2015/04/remembering-case-established-code-speech"><span>Code is speech</span></a><span> and everyone should be free to study, understand, and produce remote attestation tools.</span></p>
<p><span>These tools might have a place within distributed systems - for example, voting machine vendors might use remote attestation to verify the configuration of their devices in the field. Or at-risk human rights workers might send remote attestations to trusted technologists to help determine whether their devices have been compromised by state-sponsored malware.</span></p>
<p><span>But these tools should not be added to the web. Remote attestations have no place on open platforms. You are the boss of your computer, and you should have the final say over what it tells other people about your computer and its software.&nbsp;</span></p>
<p><span>Companies' problems are not as important as their users' autonomy</span></p>
<p><span>We sympathize with businesses whose revenues might be impacted by ad-fraud, game companies that struggle with cheaters, and services that struggle with bots. But addressing these problems can’t come before&nbsp; the right of technology users to choose how their computers work, or what those computers tell others about them, because the right to control one’s own devices is a building block of all civil rights in the digital world..&nbsp;</span></p>
<p><span>An open web delivers more benefit than harm. Letting giant, monopolistic corporations overrule our choices about which technology we want to use, and how we want to use it, is a recipe for solving those </span><i><span>companies'</span></i><span> problems, but not their users'.</span></p>

</div>

          </article>
    </div><div>
          <h2>Join EFF Lists</h2>
        
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Italy approves 40% windfall tax on banks for 2023 as profits soar (102 pts)]]></title>
            <link>https://www.theguardian.com/world/2023/aug/08/italy-approves-40-windfall-tax-on-banks-for-2023-as-profits-soar</link>
            <guid>37049786</guid>
            <pubDate>Tue, 08 Aug 2023 14:47:52 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theguardian.com/world/2023/aug/08/italy-approves-40-windfall-tax-on-banks-for-2023-as-profits-soar">https://www.theguardian.com/world/2023/aug/08/italy-approves-40-windfall-tax-on-banks-for-2023-as-profits-soar</a>, See on <a href="https://news.ycombinator.com/item?id=37049786">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="maincontent"><p>Italy has announced a one-off 40% windfall tax on local banks that have been accused of reaping billions in extra profit from <a href="https://www.theguardian.com/business/2023/jul/27/ecb-interest-rate-rises-recession-inflation" data-link-name="in body link">rising interest rates</a>.</p><p>The Italian government, which approved the surprise tax in a cabinet meeting on Monday night, said it planned to use the proceeds to support mortgage holders and cut taxes, at a time when rising rates have put extra pressure on households.</p><p>The decision, which analysts said could force banks to collectively give as much as €4.9bn (£4.2bn) to the state, sent bank shares plunging. Shares in Italy’s largest bank, Intesa Sanpaolo, fell 8.67% to close at €2.338 on Tuesday afternoon, while Unicredit closed 5.9% lower at €21.28.</p><p>It follows <a href="https://www.reuters.com/markets/europe/spain-approves-banking-tax-leaves-out-most-foreign-bank-units-2022-12-21/" data-link-name="in body link">similar moves by Spain last year</a>, and comes only weeks after Intesa Sanpaolo raised its profit forecasts for the year, reviving concerns over potential profiteering by high-street lenders.</p><p>Italy’s deputy prime minister, Matteo Salvini, told a news conference in Rome: “One only has to look at the banks’ first-half 2023 profits, also the result of the European Central Bank’s rate hikes, to realise that we are not talking about a few millions, but we are talking, one can assume, of billions .</p><p>“If [it is true that] the burden deriving from the cost of money has … doubled for households and businesses, what current account holders receive has certainly not doubled,” Salvini added, saying there was a large gap between the rates applied to loans and those to deposits.</p><p>Bank profits have soared in recent quarters because rising interest rates have allowed them to increase the amount they charge borrowers for loans and mortgages at a faster pace than they improve returns to savers. Lenders have pocketed the difference, known as the net interest margin and a key measure of their profitability.</p><p>The Italian government intends to tax 40% of this income stream, probably for 2023 as a whole. The payment is due by mid-2024.</p><p>Marco Nicolai, an equity analyst at Jefferies, said the decision to tax the net interest margin “came out of the blue”, noting that Italy’s minister of economy and finance, Giancarlo Giorgetti, “publicly poured water on this idea in the recent past”.</p><p>Jefferies estimated that Italy’s 10 largest publicly listed banks could end up paying €4.9bn as a result of the windfall tax, although the total figure was unclear. Nicolai said: “As of now, we haven’t seen an official version of the law, which adds further uncertainty over the potential impacts of this decision.”</p><p>The UK, which already has two banking sector taxes in place, is not expected to make similar moves. Instead, authorities have been taking aim at banks offering low savings rates, with the Financial Conduct Authority threatening to take <a href="https://www.theguardian.com/business/2023/jul/31/banks-with-lowest-savings-rates-to-face-robust-action-warns-uk-financial-watchdog" data-link-name="in body link">“robust action”</a> against laggards by the end of the year.</p><p>Rishi Sunak’s government has conversely tried to ease the tax burden on banks, by reducing the bank surcharge to compensate for a rise in corporation tax earlier this year.</p><figure data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.NewsletterSignupBlockElement"><a data-ignore="global-link-styling" href="#EmailSignup-skip-link-12">skip past newsletter promotion</a><p id="EmailSignup-skip-link-12" tabindex="0" aria-label="after newsletter promotion" role="note">after newsletter promotion</p></figure><p>There has also been pushback from the banking sector, which raised concerns about the potential competitive disadvantage. The industry body UK Finance said banks based in London already paid a “significantly higher rate of tax than those in other financial centres like Dublin and New York”.</p><p>A Labour source said the party did not intend to follow in Italy’s footsteps if it entered government.</p><p>A Treasury spokesperson said: “We already have two specific taxes for the banking sector – the bank levy and the bank corporation tax surcharge – and the entire UK banking sector generated around £39bn in tax last year which is almost enough to fund the entire police and justice system.</p><p>“The chancellor has been clear, however, that banks must pass on the interest rate increases to savers so they can benefit. The new consumer duty – which came into force last week – gives regulators the tools they need to take action where this isn’t happening.”</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Candle: Torch Replacement in Rust (328 pts)]]></title>
            <link>https://github.com/huggingface/candle</link>
            <guid>37049198</guid>
            <pubDate>Tue, 08 Aug 2023 14:09:12 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/huggingface/candle">https://github.com/huggingface/candle</a>, See on <a href="https://news.ycombinator.com/item?id=37049198">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 tabindex="-1" dir="auto">candle</h2>
<p dir="auto"><a href="https://crates.io/crates/candle-core" rel="nofollow"><img src="https://camo.githubusercontent.com/cd16dc5317b00d5ec802ae4e14252a601a6160512020ecb043dbf3ee3adcdb36/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f762f63616e646c652d636f72652e737667" alt="Latest version" data-canonical-src="https://img.shields.io/crates/v/candle-core.svg"></a>
<a href="https://docs.rs/candle-core" rel="nofollow"><img src="https://camo.githubusercontent.com/05cfa8e3fff22e13fb8c9f9adbc4b291dbbca36b4c0aaa02780910713258fd64/68747470733a2f2f646f63732e72732f63616e646c652d636f72652f62616467652e737667" alt="Documentation" data-canonical-src="https://docs.rs/candle-core/badge.svg"></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/d2b08729d49028074f6b73fc9e9f1a39306271e184ebd44386b66e70315af000/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f6c2f63616e646c652d636f72652e737667"><img src="https://camo.githubusercontent.com/d2b08729d49028074f6b73fc9e9f1a39306271e184ebd44386b66e70315af000/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f6c2f63616e646c652d636f72652e737667" alt="License" data-canonical-src="https://img.shields.io/crates/l/candle-core.svg"></a></p>
<p dir="auto">Candle is a minimalist ML framework for Rust with a focus on easiness of use and
on performance (including GPU support). Try our online demos:
<a href="https://huggingface.co/spaces/lmz/candle-whisper" rel="nofollow">whisper</a>,
<a href="https://huggingface.co/spaces/lmz/candle-llama2" rel="nofollow">llama2</a>.</p>
<div dir="auto" data-snippet-clipboard-copy-content="let a = Tensor::randn(0f32, 1., (2, 3), &amp;Device::Cpu)?;
let b = Tensor::randn(0f32, 1., (3, 4), &amp;Device::Cpu)?;

let c = a.matmul(&amp;b)?;
println!(&quot;{c}&quot;);"><pre><span>let</span> a = <span>Tensor</span><span>::</span><span>randn</span><span>(</span><span>0f32</span><span>,</span> <span>1.</span><span>,</span> <span>(</span><span>2</span><span>,</span> <span>3</span><span>)</span><span>,</span> <span>&amp;</span><span>Device</span><span>::</span><span>Cpu</span><span>)</span>?<span>;</span>
<span>let</span> b = <span>Tensor</span><span>::</span><span>randn</span><span>(</span><span>0f32</span><span>,</span> <span>1.</span><span>,</span> <span>(</span><span>3</span><span>,</span> <span>4</span><span>)</span><span>,</span> <span>&amp;</span><span>Device</span><span>::</span><span>Cpu</span><span>)</span>?<span>;</span>

<span>let</span> c = a<span>.</span><span>matmul</span><span>(</span><span>&amp;</span>b<span>)</span>?<span>;</span>
<span>println</span><span>!</span><span>(</span><span>"{c}"</span><span>)</span><span>;</span></pre></div>
<h2 tabindex="-1" dir="auto">Check out our examples</h2>
<p dir="auto">Check out our <a href="https://github.com/huggingface/candle/blob/main/candle-examples/examples">examples</a>:</p>
<ul dir="auto">
<li><a href="https://github.com/huggingface/candle/blob/main/candle-examples/examples/whisper">Whisper</a>: speech recognition model.</li>
<li><a href="https://github.com/huggingface/candle/blob/main/candle-examples/examples/llama">Llama and Llama-v2</a>: general LLM.</li>
<li><a href="https://github.com/huggingface/candle/blob/main/candle-examples/examples/falcon">Falcon</a>: general LLM.</li>
<li><a href="https://github.com/huggingface/candle/blob/main/candle-examples/examples/bert">Bert</a>: useful for sentence embeddings.</li>
<li><a href="https://github.com/huggingface/candle/blob/main/candle-examples/examples/bigcode">StarCoder</a>: LLM specialized to code
generation.</li>
</ul>
<p dir="auto">Run them using the following commands:</p>
<div data-snippet-clipboard-copy-content="cargo run --example whisper --release
cargo run --example llama --release
cargo run --example falcon --release
cargo run --example bert --release
cargo run --example bigcode --release"><pre><code>cargo run --example whisper --release
cargo run --example llama --release
cargo run --example falcon --release
cargo run --example bert --release
cargo run --example bigcode --release
</code></pre></div>
<p dir="auto">In order to use <strong>CUDA</strong> add <code>--features cuda</code> to the example command line.</p>
<p dir="auto">There are also some wasm examples for whisper and
<a href="https://github.com/karpathy/llama2.c">llama2.c</a>. You can either build them with
<code>trunk</code> or try them online:
<a href="https://huggingface.co/spaces/lmz/candle-whisper" rel="nofollow">whisper</a>,
<a href="https://huggingface.co/spaces/lmz/candle-llama2" rel="nofollow">llama2</a>.</p>
<p dir="auto">For llama2, run the following command to retrieve the weight files and start a
test server:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cd candle-wasm-examples/llama2-c
wget https://karpathy.ai/llama2c/model.bin
wget https://github.com/karpathy/llama2.c/raw/master/tokenizer.bin
trunk serve --release --public-url /candle-llama2/ --port 8081"><pre><span>cd</span> candle-wasm-examples/llama2-c
wget https://karpathy.ai/llama2c/model.bin
wget https://github.com/karpathy/llama2.c/raw/master/tokenizer.bin
trunk serve --release --public-url /candle-llama2/ --port 8081</pre></div>
<p dir="auto">And then browse to
<a href="http://localhost:8081/candle-llama2" rel="nofollow">http://localhost:8081/candle-llama2</a>.</p>

<h2 tabindex="-1" dir="auto">Features</h2>
<ul dir="auto">
<li>Simple syntax, looks and like PyTorch.</li>
<li>CPU and Cuda backends, m1, f16, bf16.</li>
<li>Enable serverless (CPU), small and fast deployments</li>
<li>WASM support, run your models in a browser.</li>
<li>Model training.</li>
<li>Distributed computing using NCCL.</li>
<li>Models out of the box: Llama, Whisper, Falcon, StarCoder...</li>
<li>Embed user-defined ops/kernels, such as <a href="https://github.com/LaurentMazare/candle/blob/89ba005962495f2bfbda286e185e9c3c7f5300a3/candle-flash-attn/src/lib.rs#L152">flash-attention
v2</a>.</li>
</ul>

<h2 tabindex="-1" dir="auto">How to use ?</h2>

<p dir="auto">Cheatsheet:</p>
<table>
<thead>
<tr>
<th></th>
<th>Using PyTorch</th>
<th>Using Candle</th>
</tr>
</thead>
<tbody>
<tr>
<td>Creation</td>
<td><code>torch.Tensor([[1, 2], [3, 4]])</code></td>
<td><code>Tensor::new(&amp;[[1f32, 2.]], [3., 4.]], &amp;Device::Cpu)?</code></td>
</tr>
<tr>
<td>Creation</td>
<td><code>torch.zeros((2, 2))</code></td>
<td><code>Tensor::zeros((2, 2), DType::F32, &amp;Device::Cpu)?</code></td>
</tr>
<tr>
<td>Indexing</td>
<td><code>tensor[:, :4]</code></td>
<td><code>tensor.i((.., ..4))?</code></td>
</tr>
<tr>
<td>Operations</td>
<td><code>tensor.view((2, 2))</code></td>
<td><code>tensor.reshape((2, 2))?</code></td>
</tr>
<tr>
<td>Operations</td>
<td><code>a.matmul(b)</code></td>
<td><code>a.matmul(&amp;b)?</code></td>
</tr>
<tr>
<td>Arithmetic</td>
<td><code>a + b</code></td>
<td><code>&amp;a + &amp;b</code></td>
</tr>
<tr>
<td>Device</td>
<td><code>tensor.to(device="cuda")</code></td>
<td><code>tensor.to_device(&amp;Device::Cuda(0))?</code></td>
</tr>
<tr>
<td>Dtype</td>
<td><code>tensor.to(dtype=torch.float16)</code></td>
<td><code>tensor.to_dtype(&amp;DType::F16)?</code></td>
</tr>
<tr>
<td>Saving</td>
<td><code>torch.save({"A": A}, "model.bin")</code></td>
<td><code>candle::safetensors::save(&amp;HashMap::from([("A", A)]), "model.safetensors")?</code></td>
</tr>
<tr>
<td>Loading</td>
<td><code>weights = torch.load("model.bin")</code></td>
<td><code>candle::safetensors::load("model.safetensors", &amp;device)</code></td>
</tr>
</tbody>
</table>

<h2 tabindex="-1" dir="auto">Structure</h2>
<ul dir="auto">
<li><a href="https://github.com/huggingface/candle/blob/main/candle-core">candle-core</a>: Core ops, devices, and <code>Tensor</code> struct definition</li>
<li><a href="https://github.com/huggingface/candle/blob/main/candle-nn">candle-nn</a>: Facilities to build real models</li>
<li><a href="https://github.com/huggingface/candle/blob/main/candle-examples">candle-examples</a>: Real-world like examples on how to use the library in real settings</li>
<li><a href="https://github.com/huggingface/candle/blob/main/candle-kernels">candle-kernels</a>: CUDA custom kernels</li>
<li><a href="https://github.com/huggingface/candle/blob/main/candle-datasets">candle-datasets</a>: Datasets and data loaders.</li>
<li><a href="https://github.com/huggingface/candle/blob/main/candle-transformers">candle-transformers</a>: Transformer related utilities.</li>
<li><a href="https://github.com/huggingface/candle/blob/main/candle-flash-attn">candle-flash-attn</a>: Flash attention v2 layer.</li>
</ul>
<h2 tabindex="-1" dir="auto">FAQ</h2>
<h3 tabindex="-1" dir="auto">Why Candle?</h3>
<p dir="auto">Candle stems from the need to reduce binary size in order to <em>enable serverless</em>
possible by making the whole engine smaller than PyTorch very large library volume.
This enables creating runtimes on a cluster much faster.</p>
<p dir="auto">And simply <em>removing Python</em> from production workloads.
Python can really add overhead in more complex workflows and the <a href="https://www.backblaze.com/blog/the-python-gil-past-present-and-future/" rel="nofollow">GIL</a> is a notorious source of headaches.</p>
<p dir="auto">Rust is cool, and a lot of the HF ecosystem already has Rust crates <a href="https://github.com/huggingface/safetensors">safetensors</a> and <a href="https://github.com/huggingface/tokenizers">tokenizers</a>.</p>
<h3 tabindex="-1" dir="auto">Other ML frameworks</h3>
<ul dir="auto">
<li>
<p dir="auto"><a href="https://github.com/coreylowman/dfdx">dfdx</a> is a formidable crate, with shapes being included
in types preventing a lot of headaches by getting compiler to complain about shape mismatch right off the bat
However we found that some features still require nightly and writing code can be a bit dauting for non rust experts.</p>
<p dir="auto">We're leveraging and contributing to other core crates for the runtime so hopefully both crates can benefit from each
other</p>
</li>
<li>
<p dir="auto"><a href="https://github.com/burn-rs/burn">burn</a> is a general crate that can leverage multiple backends so you can choose the best
engine for your workload</p>
</li>
<li>
<p dir="auto"><a href="https://github.com/LaurentMazare/tch-rs.git">tch-rs</a> Bindings to the torch library in Rust. Extremely versatile, but they
do bring in the entire torch library into the runtime. The main contributor of <code>tch-rs</code> is also involved in the development
of <code>candle</code>.</p>
</li>
</ul>
<h3 tabindex="-1" dir="auto">Missing symbols when compiling with the mkl feature.</h3>
<p dir="auto">If you get some missing symbols when compiling binaries/tests using the mkl
features, e.g.:</p>
<div data-snippet-clipboard-copy-content="  = note: /usr/bin/ld: (....o): in function `blas::sgemm':
          .../blas-0.22.0/src/lib.rs:1944: undefined reference to `sgemm_' collect2: error: ld returned 1 exit status

  = note: some `extern` functions couldn't be found; some native libraries may need to be installed or have their path specified
  = note: use the `-l` flag to specify native libraries to link
  = note: use the `cargo:rustc-link-lib` directive to specify the native libraries to link with Cargo (see https://doc.rust-lang.org/cargo/reference/build-scripts.html#cargorustc-link-libkindname)"><pre><code>  = note: /usr/bin/ld: (....o): in function `blas::sgemm':
          .../blas-0.22.0/src/lib.rs:1944: undefined reference to `sgemm_' collect2: error: ld returned 1 exit status

  = note: some `extern` functions couldn't be found; some native libraries may need to be installed or have their path specified
  = note: use the `-l` flag to specify native libraries to link
  = note: use the `cargo:rustc-link-lib` directive to specify the native libraries to link with Cargo (see https://doc.rust-lang.org/cargo/reference/build-scripts.html#cargorustc-link-libkindname)
</code></pre></div>
<p dir="auto">This is likely due to some missing linker flag that enable the mkl library. You
can try adding the following at the top of your binary:</p>
<div data-snippet-clipboard-copy-content="extern crate intel_mkl_src;"><pre><code>extern crate intel_mkl_src;
</code></pre></div>
<h3 tabindex="-1" dir="auto">How to know where an error comes from.</h3>
<p dir="auto">You can set <code>RUST_BACKTRACE=1</code> to be provided with backtraces when a candle
error is generated.</p>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Bye, Gemini (184 pts)]]></title>
            <link>https://www.makeworld.space/2023/08/bye_gemini.html</link>
            <guid>37049064</guid>
            <pubDate>Tue, 08 Aug 2023 13:58:57 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.makeworld.space/2023/08/bye_gemini.html">https://www.makeworld.space/2023/08/bye_gemini.html</a>, See on <a href="https://news.ycombinator.com/item?id=37049064">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
    
    



<p>Aug 5th, 2023<br>
by <strong>makeworld</strong></p>

<p>The <a href="https://gemini.circumlunar.space/">Gemini protocol</a> was a big part of my COVID-19 lockdown experience.
Discovering this underground, small protocol, having long discussions on the mailing list, and most
importantly for me, developing <a href="https://github.com/search?q=owner%3Amakew0rld+gemini&amp;type=repositories">software</a>.
My terminal Gemini browser, <a href="https://github.com/makew0rld/amfora">Amfora</a>, was my first public
FOSS project, something actually intended for a wider audience to use.
It succeeded beyond my expectations (but within my hopes), and I’m proud to say it now
has thousands of downloads.</p>

<p>In the early days of Gemini, I had a lot of fun reading posts as they emerged from various <abbr title="Gemini [b]logs">gemlogs</abbr>,
responses to those posts, and writing my own posts. It felt new and fresh and fun, an exciting secret place full of potential.
Eventually, as the quarantine stage of the pandemic winded down and my life shifted, things fell into
a more natural pace for me, casually checking in with gemlog updates and reading people’s posts every
so often. Over time, the novelty of the protocol wore off, which is perfectly normal. When I wasn’t
actually developing code, what I was left with was simply the experience of Gemini (and my browser) as it
actually was, without added feelings around meta topics like protocol specifications.</p>

<p>As much as I want to like and use Gemini, in practice I simply don’t. Over the months (and now years!),
it just doesn’t keep me coming back for more. I first <a href="https://sunbeam.city/@makeworld/106191749002615329">mentioned</a>
this feeling all the way back in May 2021, but I’ve wrestled with writing this blog post because I couldn’t pin down the
reasons. Why don’t I use it? Am I too warped by modern convenience to be able to enjoy a slow Internet?</p>

<h2 id="the-reason">The reason</h2>

<p>After a lot of thinking, I’ve realized there is one main reason I don’t keep coming back to Gemini:
<strong>it offers no advantage over how I already use the Web</strong>.</p>

<p>In practice, the Web already has all the Gemini content I’m interested in from various people, and then of course
everything else.
Having everything in one place (whether my web browser or feed reader) makes for a much nicer experience.</p>

<p>Gemini is a reaction to bloated modern websites, but in fact I don’t actually visit that many gross websites like that.
When I do, my
<a href="https://ublockorigin.com/">ad blocker</a> and <a href="https://gitlab.com/magnolia1234/bypass-paywalls-firefox-clean">paywall bypasser</a>
usually make them decent again. Otherwise, I spend the majority of my non-work Internet time on
lightweight sites like my feed reader and Hacker News, and some time on sites that Gemini can’t emulate:
YouTube, Reddit, Discord.
The reality is that Gemini just wouldn’t actually improve
this experience for me.</p>

<p>Gemini also has downsides.
I enjoy
being able to express a bit of personality on my website through CSS, which is just not possible with Gemini.
And I’m come to realize I really do appreciate the unique design of 
different people’s websites as well.
If someone’s design is unbearable, using my feed reader or Firefox’s reader view gives me the choice
not to experience it, but with Gemini I don’t have the choice at all.</p>

<p>Finally, a more personal issue is that reading long form text in monospace really sucks, and
of course that’s all Amfora can do, operating in the terminal. This makes developing and
testing my browser easy, but makes actually using it for reading gemlog posts not ideal —
for me anyway. Long reading on my computer is already annoying for me, and this doesn’t help.</p>

<h2 id="the-future-of-my-gemini-software">The future of my Gemini software</h2>

<p>So, what does this mean for my software repos that deal with Gemini? Mostly I will be making
official what has been obvious for some time: active development is not happening.
Here is the rundown:</p>

<ul>
  <li><a href="https://github.com/makew0rld/amfora">Amfora</a>: maintenance mode. When possible, I’ll make/merge bug fixes, and maybe slowly
merge feature PRs by others.</li>
  <li><a href="https://github.com/makew0rld/md2gemini">md2gemini</a>: archived. It’s always been a pile of hacks,
and now I’m not that invested in fixing it.</li>
  <li><a href="https://github.com/makew0rld/go-gemini">go-gemini</a>: maintenance mode. Bug and spec fixes only.
The code should be pretty simple to continue maintaining in case anyone is using it.</li>
  <li><a href="https://github.com/makew0rld/gemget">gemget</a>: maintenance mode. Being able to simply download
Gemini content will still occasionally be useful to me.</li>
  <li><a href="https://github.com/makew0rld/gemlikes">gemlikes</a>: archived. It’s always been a toy, and now
will no longer see any further development.</li>
  <li><a href="https://github.com/makew0rld/go-gemini-socks5">go-gemini-socks5</a>: maintenance mode. I somehow
don’t expect <a href="https://github.com/makew0rld/go-gemini-socks5/blob/main/gemsocks5.go">this single file</a>
will need many changes.</li>
</ul>

<h2 id="the-future-of-my-capsule">The future of my capsule</h2>

<p><a href="gemini://makeworld.space">gemini://makeworld.space</a> will remain online for the foreseeable future, but I will no longer be
syndicating my blog posts or site updates there. I will leave existing gemlog posts at least, but
other pages that would require updating may be removed.</p>

<h2 id="bye-gemini">Bye, Gemini</h2>

<p>Goodbye Gemini! I hope you continue to exist for those who want it, and to remind people that Web
alternatives are possible.</p>



    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Blocked by Cloudflare (419 pts)]]></title>
            <link>https://jrhawley.ca/2023/08/07/blocked-by-cloudflare</link>
            <guid>37049016</guid>
            <pubDate>Tue, 08 Aug 2023 13:55:46 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://jrhawley.ca/2023/08/07/blocked-by-cloudflare">https://jrhawley.ca/2023/08/07/blocked-by-cloudflare</a>, See on <a href="https://news.ycombinator.com/item?id=37049016">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="post">
      
      <article id="post-content">
        <p>Well, it finally happened to me.
I was blocked out of a website I need for work because of Cloudflare.
And I have no idea if or when I’ll be let back in.</p>

<h2 id="cloudflares-secure-connection-loop">Cloudflare’s secure connection loop</h2>

<p>The story begins with Cloudflare.
<a href="https://cloudflare.net/">Cloudflare</a> is a company that provides <a href="https://en.wikipedia.org/wiki/Content_delivery_network">content delivery networking</a>, <a href="https://en.wikipedia.org/wiki/Denial-of-service_attack">distributed denial-of-service prevention</a>, and other networking infrastructure services to large parts of the internet.
The decisions that this company makes have broad impacts for individuals, companies, and anything that relies on the internet, as their <a href="https://web.archive.org/web/20230731093909/https://cloudflare.net/home/default.aspx">homepage describes</a>.</p>

<p><img src="https://jrhawley.ca/assets/data/blocked-by-cloudflare/cloudflare-homepage.png" alt="Cloudflare's homepage demonstrating how broad their reach on the internet is -60%"></p>

<p>Many websites that use Cloudflare’s services deploy a <a href="https://developers.cloudflare.com/fundamentals/security/browser-integrity-check/">“browser integrity check”</a> before you can access their site.
In theory, this is to keep bad actors, unscrupulous bots, and other undesirables off of your website to keep your traffic costs down and ensure your website is interacting with a genuine human using your site for a purpose you intended.
But often there are issues with these security pages that cause problems for users who are just minding their own business and genuinely trying to access the site with good intentions.</p>

<p>One such issue is the “secure connection loop”.
You type the URL for the site you want to visit in the address bar, Cloudflare intercepts that request, and puts up a security page that says “Checking if the site connection is secure”.
That page looks like this:</p>

<p><img src="https://jrhawley.ca/assets/data/blocked-by-cloudflare/secure-connection-loop.png" alt="Cloudflare's secure connection loop -60%"></p>

<p>The issue is that sometimes you can never get past this page.
The loading symbol just keeps spinning, but the check never completes.
Or maybe the page refreshes and asks you to verify you are a human for a second time.
Then it refreshes again, and again, and again.
So even though you are a human who is jumping through the hoops Cloudflare demands you jump through, they throw away that hoop and ask you to jump through another one, or else they won’t let you through.</p>

<p>This is a common enough problem that when you search for “Cloudflare checking if the site connection is secure”, you see one result for Cloudflare’s official documentation and every other result asking about how to get around these pages because users are stuck at them.</p>

<p><img src="https://jrhawley.ca/assets/data/blocked-by-cloudflare/cloudflare-browser-integrity-check-loop.png" alt="Cloudflare's browser integrity check causes lots of problems for lots of users -60%"></p>

<p>This is what happened to me when I tried to access a page on <a href="https://gitlab.com/">GitLab</a> for some scientific software I was checking out for work on my work computer.
<a href="https://web.archive.org/web/20230603165446/https://about.gitlab.com/blog/2020/01/16/gitlab-changes-to-cloudflare/">GitLab starting using Cloudflare in 2020</a>, so naturally I was met their their “browser integrity check page”.
But no matter what I did, I was stuck in that “secure connection loop”.
I have no idea why.
I checked the developer console for errors and tried to fix them.
I temporarily disabled extensions.
I opened a private browsing window.
I restarted my computer.
Nothing worked.</p>

<h2 id="getting-around-the-secure-connection-loop">Getting around the secure connection loop</h2>

<p>Because I needed to check out this software, I read a bunch of those search results to see if I could get around Cloudflare’s check.
Eventually, I found some suggestions that if you’re using Firefox you can disable the <code>privacy.resistFingerprinting</code> option in the <code>about:config</code> page.
But that was already listed as <code>false</code> for me when I got stuck, so I switched the value to <code>true</code> just to see if that would do anything.</p>

<p>And that worked!
I navigated straight through the browser integrity check and was able to check out the software I wanted to look at.
Problem solved.</p>



<p>Just kidding, my problem was only temporarily relieved.
And this, in fact, made my situation much worse.</p>

<p>The next day, I tried accessing a web page internal to my company that I need for my work and I was met with this page:</p>

<p><img src="https://jrhawley.ca/assets/data/blocked-by-cloudflare/access-denied.png" alt="Cloudflare denying me access to an internal work website -80%"></p>

<p>To recap: I couldn’t get past a security check page because of issues in Cloudflare’s software.
Because of that, I enabled a single privacy-preserving feature in my browser to bypass the faulty page.
As a result, I was then blocked on an <em>unrelated</em> website that I need for work.</p>

<p>The silliness of it all is that I was on my work device the whole time, which was behind my workplace VPN.
And you can’t access this VPN without specific security certificates being installed on the device.
Worse yet, I know that Cloudflare knows I have those certificates.
Why?
Because it asked for them!</p>

<p><img src="https://jrhawley.ca/assets/data/blocked-by-cloudflare/certificate-check.png" alt="Cloudflare's browser integrity check asking for certificates -60%"></p>

<p>Cloudflare has extremely reliable data to attest that I am in fact the person I say I am:</p>

<ul>
  <li>user-specific security certificates,</li>
  <li>corporate VPN IP addresses, and</li>
  <li>MAC address of my machine that I have previously used to access this site</li>
</ul>

<p>But it actively ignores this information in favour of a <em>hint that maybe, there is a possibility that I might, in some possible universe, be doing something I wouldn’t normally do</em>.</p>

<p>I didn’t install some sketchy extension.
I’m not connecting over a headless browser.
I didn’t change the user agent string.
I didn’t try to access the website over Tor or some unconventional protocol.
I only changed one privacy-preserving setting in my browser.
Even reverting the setting to its previous value didn’t change anything.
But now resources that I absolutely need for work are in jeopardy and there’s no easy recourse for me to resolve these issues.
And need I remind you that the only reason I enabled this option in the first place was to get around Cloudflare’s faulty security in the first place?</p>

<h2 id="what-i-think-happened">What I think happened</h2>

<p>What I suspect happened is that the secure connection loop caused my browser to request access to a single page many times in a short time span.
Cloudflare detected the high frequency of requests and denials (but not their faulty loop that caused this pattern of requests, of course), and tagged my browser as suspicious.
When I then blocked fingerprinting to get around the page, it worked initially, but Cloudflare eventually identified the series of events as nefarious and marked me with their scarlet letter.
So now I have no idea when that page will work for me again.
Maybe I’ll have to dig through the corporate directory to find the sysadmin responsible for this page to see if they can enable my access again.
Who knows how much time that will waste.</p>

<h2 id="what-about-google-chrome">What about Google Chrome?</h2>

<p>I tried all of the above in Firefox.
So I naturally tried to access the same page in Google Chrome to see if I’d still be blocked.
Thankfully, I wasn’t.</p>

<p>But of course I wasn’t because Chrome doesn’t have the same privacy- and security-enhancing designs that Firefox does.
Chrome will happily collect as much private information about me and my browsing history and share them with select parties, as needed.
It also doesn’t resist fingerprinting or let me modify settings to the same degree that Firefox does because Chrome relies on those fingerprinting technologies to ensure that I am targeted by ads it deems necessary for me to see.</p>

<p>Being blocked on Firefox and not blocked on Chrome also tells me that Cloudflare is blocking me based on the fingerprint (or lackthereof) of my browser.
Everything about my connection is identical between the two requests, aside from the browser being used.
It’s the same security certificates, same corporate VPN, same machine, even the same timeframe when I try to access the site.</p>

<h2 id="what-next">What next?</h2>

<p>For the foreseeable future, I have to use Chrome to access this internal work site.
I may also have to do this for other sites, because I don’t know how many internal and external websites are “secured” by Cloudflare that may block me, now.
I could try reinstalling Firefox and to see if that changes anything.
But at this point I’m just guessing what I could do to solve my problems.
And if I’ve learned anything from the events above it’s that guessing with stuff like this can make my situation much worse with little to no recourse.</p>

<h2 id="implications-for-the-web-in-general">Implications for the web, in general</h2>

<p>These types of experiences are precisely the things that worry me about the future of the web.
I have strong proof that I am who I say I am, but because I took <em>one step out of lockstep with what was expected of me by others that I can’t communicate with</em>, I’m blocked from accessing resources that I need.
My case is obviously only one small example.
But it is an example that makes my livelihood more difficult and fragmented.</p>

<p>Similar remote attestation and “security” measures could just as easily target things like online banking, which would interfere with just about every aspect of a person’s life.
And this isn’t just hypothetical examples, mind you.
Anyone who uses a de-Googled Android  phone has to go to great lengths to ensure hardware attestation is working correctly, like <a href="https://web.archive.org/web/20230804211102/https://grapheneos.org/articles/attestation-compatibility-guide">GrapheneOS documents here</a>, or else they can’t using banking apps.
There is scant middle ground between accessing your money on your device and letting Google monitor your every interaction with that device.</p>

<p>Proposals for the future of the web that leave more power with unaccountable corporations and less with the individual will inevitably lead to more situations like this where individuals are left scrambling to figure out the Kafka-esque and invisible rules that they must follow to meet the ever-changing whims of these corporate entities.
I feel confident in making bold statements like this because companies, governments, and regulatory bodies across the world have repeatedly and overwhelmingly made decisions that favour corporate and governmental control over individual freedoms, rights, and privacy over the past 20 years.
Only in the last few years have legal frameworks with actual teeth started going after companies that routinely violate privacy laws, <a href="https://web.archive.org/web/20230806213720/https://edpb.europa.eu/news/news/2023/12-billion-euro-fine-facebook-result-edpb-binding-decision_en">like the 1.2 B EUR fine levied against Facebook due to its GDPR violations</a>.
But these legal decisions don’t happen without huge fights and blowbacks from tech companies.</p>

<p>The <a href="https://web.archive.org/web/20230806074908/https://github.com/RupertBenWiser/Web-Environment-Integrity">Web Integrity API proposal</a> that has <a href="https://news.ycombinator.com/item?id=36817305">so</a> <a href="https://vivaldi.com/blog/googles-new-dangerous-web-environment-integrity-spec/">many</a> <a href="https://news.ycombinator.com/item?id=36875940">people</a> <a href="https://web.archive.org/web/20230805180900/https://arstechnica.com/gadgets/2023/07/googles-web-integrity-api-sounds-like-drm-for-the-web/">and</a> <a href="https://web.archive.org/web/20230805183646/https://github.com/mozilla/standards-positions/issues/852">companies</a> in uproar about the future of the web is precisely this kind of proposal.
If and when financial companies opt in to remote attestation policies for their websites, it will place greater restrictions on the types of hardware, operating systems, and software individuals can use.
I understand that there are legitimately good reasons to block certain combinations of hardware and software, say old devices with known vulnerabilities that cannot get patched.
But decisions like this from corporate entities always seem to have <a href="https://en.wikipedia.org/wiki/Motivated_reasoning">motivated reasoning</a> that increases the control of corporations at the cost of the freedoms or rights of individuals.</p>

<p>Take the first example of the Web Integrity API proposal:</p>

<blockquote>
  <p>Users like visiting websites that are expensive to create and maintain, but they often want or need to do it without paying directly.
These websites fund themselves with ads, but the advertisers can only afford to pay for humans to see the ads, rather than robots.
This creates a need for human users to prove to websites that they’re human, sometimes through tasks like challenges or logins.</p>
</blockquote>

<p>Within two sentences, the authors are able to present the needs of advertisers as if they were synonymous with the needs of individuals.
And in the third sentence they put the onus on the individual to do something about it.
Is it relevant that the authors all work for Google, which makes most of its money from advertising?</p>

<p>Similarly, the <a href="https://web.archive.org/web/20230525235848/https://arstechnica.com/information-technology/2022/10/passkeys-microsoft-apple-and-googles-password-killer-are-finally-here/">introduction of passkeys</a> is a useful proposal that could go multiple ways.
More secure access to websites that also provides a simpler user experience is undoubtedly a win-win.
But like I mentioned above in my experience with Cloudflare, I already had very strong data to prove that I was who I said I was and they blocked me anyway.
How am I to know whether these synced SSH keys that are unique to a single domain won’t get overlooked by Cloudflare or similar service providers?
And if these passkeys are going to form the backbone of how I interact with almost any website, how much control over them will I have?
A small list of important questions I have about using passkeys are:</p>

<ul>
  <li>Will I be able to create and sync these passkeys myself?</li>
  <li>Can only certain types of software use passkeys? If so, who decides what software meets this standard?</li>
  <li>Will I only be able to generate passkeys on a device with specific hardware/software requirements like a <a href="https://web.archive.org/web/20230315091828/https://support.microsoft.com/en-us/topic/what-is-tpm-705f241d-025d-4470-80c5-4feeb24fa1ee">TPM</a>, <a href="https://web.archive.org/web/20230720061011/https://developer.apple.com/documentation/devicecheck">DeviceCheck</a>, or <a href="https://web.archive.org/web/20230802195352/https://developer.android.com/google/play/integrity">Integrity API</a>?</li>
  <li>Can I, at any time, export my passkeys from one service provider and switch to another provider?</li>
  <li>If a passkey is invovled in a suspicious event, will that suspicious mark propogate to any other device that uses that same passkey?</li>
  <li>Do devices that contain suspicious passkeys also get marked as suspicious? If so, would that impact the ability of that device to access other independent websites?</li>
</ul>

<p>I’m not a sysadmin or networking engineer, so answers to these questions are simply beyond my expertise.
There are other, more important questions I focus on in my day job and I simply do not have the time to become a computer security expert as well.
As much as I’d love to use a simpler and standardized authentication method that is more secure than passwords, the central question of how much control I have over my data and how that is respected by others is critical when considering the benefits of ceding control over to corporate entities.
And that is a separate question from how much it will even matter if, at the end of the day, some other company with <a href="https://www.devever.net/~hl/cloudflare">dubious practices and origins</a> will just do their own thing anyway?</p>

<p>Passwords, for all their faults, have one fundamentally stellar property by nature: <strong>individuals make them for themselves</strong>.
Individuals can make them on whatever device they own.
Individuals can make them how they want.
Individuals can manage them how they like.
Certain people or tools or companies can make it easier to manage and use your passwords, but ultimately passwords are made by, and belong to, the individual.</p>

<p>VPNs, certificates, fingerprinting, and other technologies are ways of addressing the shortcomings of passwords and computer security.
But if I have to give up all pretense of privacy to do basic things, and might still get blocked anyway, how much is any of this stuff helping?</p>


      </article>
      <!-- <div id="post-comments">
          
          <div class="comments">
  <script src="/assets/js/webmention.min.js" async></script>
  <div id="webmentions"></div>
</div>

          
        </div> -->
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Banks Hit with Millions in Fines for Using Signal and WhatsApp (161 pts)]]></title>
            <link>https://www.cnbc.com/2023/08/08/regulators-hit-wall-street-banks-with-549-million-in-penalties-for-record-keeping-failures-.html</link>
            <guid>37048938</guid>
            <pubDate>Tue, 08 Aug 2023 13:49:35 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.cnbc.com/2023/08/08/regulators-hit-wall-street-banks-with-549-million-in-penalties-for-record-keeping-failures-.html">https://www.cnbc.com/2023/08/08/regulators-hit-wall-street-banks-with-549-million-in-penalties-for-record-keeping-failures-.html</a>, See on <a href="https://news.ycombinator.com/item?id=37048938">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="RegularArticle-ArticleBody-5" data-module="ArticleBody" data-test="articleBody-2" data-analytics="RegularArticle-articleBody-5-2"><div id="ArticleBody-InlineImage-107119309" data-test="InlineImage"><p>U.S. Securities and Exchange Commission (SEC) Chairman Gary Gensler, testifies before the Senate Banking, Housing and Urban Affairs Committee during an oversight hearing on Capitol Hill in Washington, September 15, 2022.</p><p>Evelyn Hockstein | Reuters</p></div><div><p>U.S. regulators on Tuesday announced a combined $549 million in penalties against <span data-test="QuoteInBody" id="RegularArticle-QuoteInBody-1"><a href="https://www.cnbc.com/quotes/WFC/">Wells Fargo</a><span><span id="-WatchlistDropdown" data-analytics-id="-WatchlistDropdown"></span></span></span> and a raft of smaller or non-U.S. firms that failed to maintain electronic records of employee communications.</p><p>The Securities and Exchange Commission <a href="https://www.sec.gov/news/press-release/2023-149" target="_blank">disclosed</a> charges and $289 million in fines against 11 firms for "widespread and longstanding failures" in record-keeping, while the Commodity Futures Trading Commission <a href="https://www.cftc.gov/PressRoom/PressReleases/8762-23" target="_blank">also</a> said it fined four banks a total of $260 million for failing to maintain records required by the agency.</p><p>It was regulators' <a href="https://www.cnbc.com/2022/09/27/us-fines-16-wall-street-firms-1point1-billion-over-record-keeping-failures.html">latest effort</a> to stamp out the pervasive use of secure messaging apps like Signal, <span data-test="QuoteInBody" id="RegularArticle-QuoteInBody-5"><a href="https://www.cnbc.com/quotes/META/">Meta</a><span><span id="-WatchlistDropdown" data-analytics-id="-WatchlistDropdown"></span></span></span>'s WhatsApp or <span data-test="QuoteInBody" id="RegularArticle-QuoteInBody-6"><a href="https://www.cnbc.com/quotes/AAPL/">Apple</a><span><span id="-WatchlistDropdown" data-analytics-id="-WatchlistDropdown"></span></span></span>'s iMessage by Wall Street employees and managers. Starting in late 2021, the watchdogs secured settlements with <a href="https://www.cnbc.com/2021/12/17/jpmorgan-agrees-to-125-million-fine-for-letting-employees-use-whatsapp-to-evade-regulators.html">bigger players</a> including <span data-test="QuoteInBody" id="RegularArticle-QuoteInBody-8"><a href="https://www.cnbc.com/quotes/JPM/">JPMorgan Chase</a><span><span id="-WatchlistDropdown" data-analytics-id="-WatchlistDropdown"></span></span></span>, <span data-test="QuoteInBody" id="RegularArticle-QuoteInBody-9"><a href="https://www.cnbc.com/quotes/GS/">Goldman Sachs</a><span><span id="-WatchlistDropdown" data-analytics-id="-WatchlistDropdown"></span></span></span>, <span data-test="QuoteInBody" id="RegularArticle-QuoteInBody-10"><a href="https://www.cnbc.com/quotes/MS/">Morgan Stanley</a><span><span id="-WatchlistDropdown" data-analytics-id="-WatchlistDropdown"></span></span></span> and <span data-test="QuoteInBody" id="RegularArticle-QuoteInBody-11"><a href="https://www.cnbc.com/quotes/C/">Citigroup</a><span><span id="-WatchlistDropdown" data-analytics-id="-WatchlistDropdown"></span></span></span>. Fines related to the issue total more than $2 billion, according to the SEC and CFTC.</p><p>"Today's actions stem from our continuing sweep to ensure that regulated entities, including broker-dealers and investment advisers, comply with their recordkeeping requirements, which are essential for us to monitor and enforce compliance with the federal securities laws," Sanjay Wadhwa, deputy director of enforcement at the SEC, <a href="https://www.sec.gov/news/press-release/2023-149" target="_blank">said</a> in the release.</p><p>The firms admitted that from at least 2019, employees used side channels like WhatsApp to discuss company business, failing to preserve records "in violation of federal securities laws," the SEC said Tuesday.</p></div><h2><a id="headline0"></a>Wells Fargo biggest offender</h2><div><p>Wells Fargo, the fourth-biggest U.S. bank by assets and a relatively small player on Wall Street, racked up the most fines on Tuesday, with $200 million in penalties.</p><p>"We are pleased to resolve this matter," said Wells Fargo spokeswoman Laurie Kight.</p><p>French banks <span data-test="QuoteInBody" id="RegularArticle-QuoteInBody-13"><a href="https://www.cnbc.com/quotes/BNP-FR/">BNP Paribas</a><span><span id="-WatchlistDropdown" data-analytics-id="-WatchlistDropdown"></span></span></span> and <a href="http://www.sgcib.com/" target="_blank">Societe Generale</a> were fined $110 million each, while the <span data-test="QuoteInBody" id="RegularArticle-QuoteInBody-15"><a href="https://www.cnbc.com/quotes/BMO/">Bank of Montreal</a><span><span id="-WatchlistDropdown" data-analytics-id="-WatchlistDropdown"></span></span></span> was fined $60 million. The SEC also fined Japanese firms Mizuho Securities and SMBC Nikko Securities and boutique U.S. investment banks including Houlihan Lokey, <span data-test="QuoteInBody" id="RegularArticle-QuoteInBody-16"><a href="https://www.cnbc.com/quotes/MC/">Moelis</a><span><span id="-WatchlistDropdown" data-analytics-id="-WatchlistDropdown"></span></span></span> and Wedbush Securities.</p><p>Bank of Montreal has "made significant enhancements to our compliance procedures in recent years" and is pleased to have the matter behind it, said spokesman Jeff Roman.</p><p>The other banks penalized Tuesday declined to comment.</p><p>Apart from the fines, banks were ordered to "cease and desist" from future violations and hire consultants to review bank policies, the SEC said.</p><p>On Wall Street, company records of emails and other communications via official channels are often automatically generated to adhere to requirements that clients are treated fairly. But after some of the industry's biggest scandals of the past decade hinged on incriminating messages&nbsp;<a href="https://www.cnbc.com/2013/11/11/trading-scandals-the-final-nail-in-chatrooms-coffins.html">preserved in chatrooms</a>, workers often leaned on side channels to conduct business.</p></div><h2><a id="headline1"></a>A widespread practice</h2><div><p>Encrypted messages sent on third-party platforms like Signal make it impossible for banks to record and retain logs of interactions. At Wells Fargo and other banks, the practice was pervasive and happening at all levels; even the managers responsible for enforcing the rules were guilty of the practice, regulators said Tuesday.</p><p>An analysis of 13 Wells Fargo employees, for instance, found that all had violated the bank's communications policies by using text messages to communicate with co-workers and market participants. They used the side channels to communicate with more than 100 other employees, including senior supervisors, over thousands of messages, according to the CFTC <a href="https://www.cftc.gov/PressRoom/PressReleases/8762-23" target="_blank">complaint</a>.</p><p>"Employees' use of unapproved communication methods was not hidden within the firm," the CFTC said. "To the contrary, certain supervisors—the very people responsible for supervising employees to prevent this misconduct—routinely communicated using unapproved methods on their personal devices."</p><p><em>— CNBC's Jim Forkin contributed to this report</em></p></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[How real is America’s chipmaking renaissance? (178 pts)]]></title>
            <link>https://www.economist.com/business/2023/08/07/how-real-is-americas-chipmaking-renaissance</link>
            <guid>37048825</guid>
            <pubDate>Tue, 08 Aug 2023 13:41:03 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.economist.com/business/2023/08/07/how-real-is-americas-chipmaking-renaissance">https://www.economist.com/business/2023/08/07/how-real-is-americas-chipmaking-renaissance</a>, See on <a href="https://news.ycombinator.com/item?id=37048825">Hacker News</a></p>
<div id="readability-page-1" class="page"><section><p><span><a href="https://www.economist.com/business/" data-analytics="sidebar:section"><span>Business</span></a></span><span> | <!-- -->Let the chips rise where they may</span></p><h2>As the CHIPS Act turns one, semiconductor firms have mixed feelings</h2></section><div data-body-id="cp1"><p data-caps="initial"><span data-caps="initial">A</span><small>MERICAN CHIPMAKERS</small> account for a third of global semiconductor revenues. They design the world’s most sophisticated microprocessors, which power most smartphones, data centres and, increasingly, artificial-intelligence (<small>AI</small>) models. But neither the American firms nor their Asian contract manufacturers produce any such <a href="https://www.economist.com/united-states/2023/08/05/america-is-building-chip-factories-now-to-find-the-workers">leading-edge chips in America</a>. Given chips’ centrality to modern economies—and, in the age of <small>AI</small>, to warfighting—that worries policymakers in Washington. Their answer was the <small>CHIPS </small>Act, a $50bn package of subsidies, tax credits and other sweeteners to bring advanced chip manufacturing back to America, which President Joe Biden signed into law on August 9th 2022. </p><div><figure><span itemscope="" itemprop="image" itemtype="https://schema.org/ImageObject" data-slim="1"><meta itemprop="url" content="https://www.economist.com/img/b/608/1232/90/media-assets/image/20230812_EPC048.png"><img loading="lazy" src="https://www.economist.com/img/b/608/1232/90/media-assets/image/20230812_EPC048.png" srcset="https://www.economist.com/img/b/200/405/90/media-assets/image/20230812_EPC048.png 200w,https://www.economist.com/img/b/300/608/90/media-assets/image/20230812_EPC048.png 300w,https://www.economist.com/img/b/400/811/90/media-assets/image/20230812_EPC048.png 400w,https://www.economist.com/img/b/600/1216/90/media-assets/image/20230812_EPC048.png 600w,https://www.economist.com/img/b/640/1297/90/media-assets/image/20230812_EPC048.png 640w,https://www.economist.com/img/b/800/1621/90/media-assets/image/20230812_EPC048.png 800w,https://www.economist.com/img/b/1000/2026/90/media-assets/image/20230812_EPC048.png 1000w,https://www.economist.com/img/b/1280/2594/90/media-assets/image/20230812_EPC048.png 1280w" sizes="336px" alt=""></span></figure><p>On the surface, the law appears to be having an impact. Since 2020, when it was first floated, chipmakers have announced more than $200bn-worth of investments in America. If all goes to plan, by 2025 American chip factories (fabs, in the lingo) will be churning out 18% of the world’s leading-edge chips (see chart 1). <small>TSMC</small>, a Taiwanese manufacturing behemoth, is splurging $40bn on two fabs in Arizona. Samsung of South Korea is investing $17bn in Texas. Intel, America’s chipmaking champion, will spend $40bn on four fabs in Arizona and Ohio. As the <small>CHIPS </small>Act celebrates its first birthday, and as the administration prepares to start doling out the money, both Democrats and Republicans, who agree on little else these days, regard it as a bipartisan triumph.</p><p>Any triumphalism may, however, be premature. Leading-edge fabs being built in America are slower to erect, costlier to run and smaller than those in Asia. Complicating matters further, the chipmakers’ American investment binge comes at a time when demand for their wares appears to be cooling, at least in the short term. That could have consequences for the industry’s long-term profitability.</p><p>The Centre for Security and Emerging Technology, a think-tank, estimates that in China and Taiwan, companies put up a new plant in about 650 days. In America, manufacturers must navigate a thicket of federal, state and local-government regulations, stretching average construction time to 900 days. Construction, which makes up around half the capital spending on a new fab, can cost 40% more in America than it does in Asia. Some of that extra cost can be defrayed by the <small>CHIPS </small>Act’s handouts. But that still leaves annual operating expenses, which are 30% higher in America than in Asia, in part owing to higher wages for American workers. If those workers can be found at all: in July <small>TSMC </small>delayed the launch of its first <a href="https://www.economist.com/united-states/2023/08/05/america-is-building-chip-factories-now-to-find-the-workers">fab in Arizona</a> by one year to 2025 because it could not find enough workers with semiconductor industry experience.</p><p>The planned American projects’ smallish size further undermines the economics. The more chips a fab makes, the lower the unit cost. In Arizona, <small>TSMC </small>plans to make 50,000 wafers a month—equivalent to two “mega-fabs”, as the company calls them. Back home in Taiwan, <small>TSMC </small>operates four “giga-fabs”, each producing at least 100,000 wafers a month (in addition to numerous mega-fabs). Morris Chang, <small>TSMC</small>’s founder, has warned that chips made in America will be more expensive. </p></div><div><figure><span itemscope="" itemprop="image" itemtype="https://schema.org/ImageObject" data-slim="1"><meta itemprop="url" content="https://www.economist.com/img/b/608/1042/90/media-assets/image/20230812_EPC047.png"><img loading="lazy" src="https://www.economist.com/img/b/608/1042/90/media-assets/image/20230812_EPC047.png" srcset="https://www.economist.com/img/b/200/343/90/media-assets/image/20230812_EPC047.png 200w,https://www.economist.com/img/b/300/514/90/media-assets/image/20230812_EPC047.png 300w,https://www.economist.com/img/b/400/686/90/media-assets/image/20230812_EPC047.png 400w,https://www.economist.com/img/b/600/1028/90/media-assets/image/20230812_EPC047.png 600w,https://www.economist.com/img/b/640/1097/90/media-assets/image/20230812_EPC047.png 640w,https://www.economist.com/img/b/800/1371/90/media-assets/image/20230812_EPC047.png 800w,https://www.economist.com/img/b/1000/1714/90/media-assets/image/20230812_EPC047.png 1000w,https://www.economist.com/img/b/1280/2194/90/media-assets/image/20230812_EPC047.png 1280w" sizes="336px" alt=""></span></figure><p>C.C. Wei, the current chief executive of <small>TSMC</small>, has hinted that the company will absorb these higher costs. He can afford to do this because <small>TSMC </small>will continue to make the lion’s share of its chips more cheaply in Taiwan, not in America. The same is true of Samsung, which will spend nearly 90% of its capital budget at home. Even Intel is investing more in foreign fabs than in American ones (see chart 2). As a result, if all the planned investments materialise, America will produce enough cutting-edge chips to meet barely a third of domestic demand for these. Apple will keep sourcing high-end processors for its iPhones from Taiwan. So, in all likelihood, will America’s nascent <small>AI</small>-industrial complex.</p><p>The law may have unintended consequences, too. Chip firms which accept state aid are barred from expanding manufacturing capacity in China. Besides crimping the desire of firms like <small>TSmc </small>and Samsung, which have plenty of Chinese customers, to invest more in American fabs, such rules are prompting Chinese chipmakers to invest in producing less fancy semiconductors. The hope is that lots of older-generation chips can do at least some of what fewer fancier ones are capable of.</p><p>According to <small>SEMI</small>, an industry research group, in 2019 China made about a fifth of “trailing-edge” chips, which go into everything from washing machines to cars and aircraft. By 2025 it will produce more than a third. In July <small>NXP </small>Semiconductor, a Dutch maker of trailing-edge chips, warned that excessive supply from Chinese firms is putting downward pressure on prices. In the long run, this could hurt higher-cost Western producers—or even drive some of them out of business. In July Gina Raimondo, America’s commerce secretary, acknowledged that China’s focus on the trailing edge “is a problem that we need to be thinking about”.</p><p>Hardest to predict is the <small>CHIPS </small>Act’s effect on the semiconductor industry’s notorious boom-and-bust cycle. Usually chipmakers would be boosting capacity at a time of rising demand. Right now the opposite is true. Pandemic-era chip shortages have been replaced by a glut, now that consumers’ insatiable appetite for all things digital appears, after all, to be sated. <small>TSMC</small>’s sales declined by 10% in the second quarter, year on year, and the company now expects a similar drop for the whole of 2023. Intel’s revenue was down by 15% in the three months to June, compared with a year earlier. Samsung blamed a chips glut for its falling revenues and profits. Intel’s share price is half what it was at its recent peak in early 2021. </p></div><p>Chip executives point out that prospects for their industry remain rosy. They are probably right that demand is bound to revive at some point. Yet “inventory adjustments” (reducing oversupply, in plain English) are taking longer than expected. And when inventories finally adjust, the business that emerges may be less lucrative. Since early 2021 Intel, Samsung and <small>TSMC </small>have lost a third of their combined market value, or nearly half a trillion dollars. A few more anniversaries may be needed before the <small>CHIPS </small>Act’s impact on American economic security can be properly evaluated. Investors are already making up their minds. <span data-ornament="ufinish">■</span></p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Rest in peace Bram Moolenaar, author of Vim (284 pts)]]></title>
            <link>https://arstechnica.com/gadgets/2023/08/bram-moolenaar-creator-of-the-beloved-vim-text-editor-has-passed-away/</link>
            <guid>37048722</guid>
            <pubDate>Tue, 08 Aug 2023 13:32:42 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arstechnica.com/gadgets/2023/08/bram-moolenaar-creator-of-the-beloved-vim-text-editor-has-passed-away/">https://arstechnica.com/gadgets/2023/08/bram-moolenaar-creator-of-the-beloved-vim-text-editor-has-passed-away/</a>, See on <a href="https://news.ycombinator.com/item?id=37048722">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <h4>
      Open source software    —
</h4>
            
            <h2 itemprop="description">The open source software legend left us on August 3 at age 62.</h2>
                    </div><div itemprop="articleBody">
                                    
<figure>
  <img src="https://cdn.arstechnica.net/wp-content/uploads/2023/08/Bram_Moolenaar_in_2007_cropped-800x499.jpg" alt="Moolenaar in 2007.">
      <figcaption><div><p><a href="https://cdn.arstechnica.net/wp-content/uploads/2023/08/Bram_Moolenaar_in_2007_cropped-scaled.jpg" data-height="1597" data-width="2560">Enlarge</a> <span>/</span> Moolenaar in 2007.</p></div></figcaption>  </figure>

  




<!-- cache hit 66:single/related:ea384ee2cca648fec5a073c919673715 --><!-- empty -->
<p>Computing as we know it today was built in no small part by individuals who have written open source software—often for little to no personal financial gain—as well as by developers who use those tools. Few tools like that are as legendary and impactful as the <a href="https://www.vim.org/download.php">Vim</a> open source code editor, the first version of which was written and released by Dutch engineer Bram Moolenaar in 1991.</p>
<p>According to a note published by his family to Google Groups this week, Moolenaar passed away on August 3 at the age of 62. The post did not share his cause of death, stating only that he had been suffering from a medical condition for a few weeks. They <a href="https://groups.google.com/g/vim_announce/c/tWahca9zkt4?utm_source=thenewstack&amp;utm_medium=website&amp;utm_content=inline-mention&amp;utm_campaign=platform&amp;pli=1">wrote</a>:</p>
<blockquote><p>It is with a heavy heart that we have to inform you that Bram Moolenaar passed away on 3 August 2023.<br>
Bram was suffering from a medical condition that progressed quickly over the last few weeks.</p>
<p>Bram dedicated a large part of his life to VIM and he was very proud of the VIM community that you are all part of.</p></blockquote>
<p>The note goes on to say that they are arranging a Dutch-language funeral service in the Netherlands for Moolenaar, but that a date has not yet been set.</p>                                            
                                                        
<p>Moolenaar's text editor is legendary among software developers; it has repeatedly been named in surveys as one of the most widely used text editors or IDEs, and it is the default editor for some Linux distros. It was built initially as a clone for vi, a beloved Unix text editor. Moolenaar built Vim partly on another vi clone called Stevie, which is no longer supported.
</p><p>With the license of Vim, Moolenaar was an early pioneer of the charityware model; he invited users who appreciated the work to donate to support children in Uganda in lieu of sending a direct donation to himself. According to <a href="https://thenextweb.com/news/dev-world-mourns-loss-of-vim-creator-bram-moolenaar">The Next Web</a>, donations to the charity amounted to about 30,000 euros annually—"enough to help about 50 children finish their education, from primary school to university."</p>
<p>Moolenaar continued to update Vim until just a few weeks ago. He has worked on many other notable projects in his career. His most recent gig was working for Google to improve the <a href="https://www.google.com/intl/en_in/retail/solutions/merchant-center/?ref=news.itsfoss.com">Merchant Center</a>.</p>

                                                </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Amazon Doesn't 'Employ' Drivers, but Hired Firms to Prevent Them from Unionizing (283 pts)]]></title>
            <link>https://www.vice.com/en/article/qjv3yp/amazon-says-it-doesnt-employ-drivers-but-records-show-it-hired-firms-to-prevent-them-from-unionizing</link>
            <guid>37048637</guid>
            <pubDate>Tue, 08 Aug 2023 13:25:52 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.vice.com/en/article/qjv3yp/amazon-says-it-doesnt-employ-drivers-but-records-show-it-hired-firms-to-prevent-them-from-unionizing">https://www.vice.com/en/article/qjv3yp/amazon-says-it-doesnt-employ-drivers-but-records-show-it-hired-firms-to-prevent-them-from-unionizing</a>, See on <a href="https://news.ycombinator.com/item?id=37048637">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><div><p>Image Credit: Getty Images</p></div><p><span data-component="TextBlock"><p>Amazon hired at least two union-busting consulting firms specifically to prevent its drivers from joining the International Brotherhood of Teamsters over the course of 2022, according to six reports filed to the Department of Labor and obtained by Motherboard. This is notable because Amazon <a href="https://www.vice.com/en/article/pkaa4m/amazon-drivers-are-actually-just-drivers-delivering-for-amazon-amazon-says"><span>claims that the drivers who deliver its packages are not its employees</span></a>.&nbsp;</p></span><span></span><span data-component="TextBlock"><p>Motherboard reviewed five reports filed to the Department of Labor, which showed that Amazon spent more than $14.2 million total on anti-union consulting in 2022. Of that, $160,595 went to <a href="https://olmsapps.dol.gov/query/orgReport.do?rptId=860914&amp;rptForm=LM20Form" target="_blank"><span>Optimal Employee Relations</span></a> and <a href="https://olmsapps.dol.gov/query/orgReport.do?rptId=861774&amp;rptForm=LM20Form" target="_blank"><span>Action Resources</span></a>, who, on their own reports, specifically referred to “drivers” as the target group of their persuasion. Amazon and the contractors it hired <a href="https://www.laborlab.us/lm20scorecard#:~:text=Under%20current%20Federal%20law%2C%20anti,or%20arrangement%20with%20an%20employer." target="_blank"><span>are required to file these reports</span></a> with the government each year.</p></span><span data-component="TextBlock"><p>Amazon’s <a href="https://olmsapps.dol.gov/query/orgReport.do?rptId=865472&amp;rptForm=LM10Form" target="_blank"><span>filing</span></a> references nine contractors hired throughout 2022. Both Optimal Employee Relations and Action Resources say that one of the people “through whom activities were performed” was Fernando Rivera, who filed a <a href="https://olmsapps.dol.gov/query/orgReport.do?rptId=869923&amp;rptForm=LM20Form" target="_blank"><span>report of their own</span></a>. Rivera’s report again identifies “drivers” as the target group. It also cites “teamsters” as the union in question.&nbsp;</p></span><span data-component="TextBlock"><p>A third contractor referenced in Amazon’s filing, <a href="https://olmsapps.dol.gov/query/orgReport.do?rptId=854741&amp;rptForm=LM" target="_blank"><span>Government Resources Consultants of America</span></a>, said that it had been hired to persuade “various employees across the U.S. as may be requested from time to time,” and did not specify a union. However, the filing refers to another consulting group, known as D&amp;G Consulting, whose <a href="https://olmsapps.dol.gov/query/orgReport.do?rptId=867525&amp;rptForm=LM20Form" target="_blank"><span>report filed in May</span></a> names “Amazon DSP Drivers” as the target group, and “Teamsters” as the union.&nbsp;</p></span><span></span><span data-component="TextBlock"><p>These filings are particularly notable because they show, specifically, that Amazon is trying to squash unions among the delivery drivers <a href="https://www.vice.com/en/article/pkaa4m/amazon-drivers-are-actually-just-drivers-delivering-for-amazon-amazon-says"><span>that it repeatedly stresses</span></a> are employees of third-party companies, not Amazon itself. The Teamsters <a href="https://teamster.org/wp-content/uploads/2023/05/5323ULPChargeAgainstAmazon.pdf" target="_blank"><span>have argued</span></a> that Amazon is in fact a joint employer of the drivers, and is using its contractor status as a way to evade responsibility.&nbsp;</p></span><span data-component="TextBlock"><p>“Amazon has a level of responsibility that they’re trying to escape here,” said Randy Korgan, the director of the Teamsters’ Amazon Division, whose goal is to organize the company. “If the subcontractor is its own entity, and the subcontractor employs these drivers, then what is their interest in making sure that there are anti-union consultants meeting with drivers for a company that they don’t have any control over?”&nbsp;</p></span><span data-component="TextBlock"><p>“It clearly identifies the amount of control that Amazon is exerting over these subcontractors, number one,” he continued. “Number two, it shows that they have a vested interest because [the drivers] are employees of some sort. When you look at these filings, how can you say they’re not your drivers?”</p></span><span data-component="TextBlock"><p>“They just proved they’re an employer,” said Seth Goldstein, a lawyer at Julien, Mirer, Singla and Goldstein, who has represented Amazon warehouse workers unionizing with the Amazon Labor Union. “Why would they be involved in this, if they’re fearing that the [National Labor Relations] Board would rule that they’re a joint employer?”&nbsp;</p></span><span></span><span data-component="TextBlock"><p>The reports do not reference specific Amazon locations. However, this past April, a group of drivers at an Amazon Delivery Service Partner (DSP) in Palmdale, California became the first in the company’s vast network of contractors to unionize when they <a href="https://www.vice.com/en/article/g5ygaw/a-group-of-amazon-drivers-just-joined-one-of-the-biggest-unions-in-the-us"><span>joined the Teamsters</span></a>, who comprise one of the biggest unions in the industry. The <a href="https://teamster.org/2023/04/amazon-drivers-ratify-teamster-contract/" target="_blank"><span>contract ratification</span></a> marked the first time the Teamsters had successfully organized an Amazon-related facility, and the DSP owner voluntarily recognized the union almost immediately.&nbsp;</p></span><span data-component="TextBlock"><p>The problem was, however, that Amazon did not. Because Amazon contracts third-party companies to deliver packages out of its warehouses, it said that the drivers legally only counted as employees of the DSP, called Battle-Tested Strategies (BTS), and were subcontractors to Amazon. For that reason, Amazon <a href="https://www.vice.com/en/article/v7bdwy/amazon-delivery-drivers-unionized-now-they-have-to-prove-they-work-for-amazon"><span>declined to bargain with the Teamsters</span></a>.&nbsp;</p></span><span data-component="TextBlock"><p>None of the filings reviewed by Motherboard specifically mention Palmdale, Battle-Tested Strategies, or the delivery station, DAX8.</p></span><span data-component="TextBlock"><p>Amazon spokesperson Eileen Hards told Motherboard that the filings were “unrelated to Battle-Tested Strategies in Palmdale,” and that BTS had been terminated “because of the company’s track record of failing to perform.” She referenced six breaches of contract, five of which were in January. These included grounding policy violations—which refers to how and when a vehicle is taken off the road due to some safety hazard—and a vehicle safety inspection violation. Motherboard has previously reported on <a href="https://www.vice.com/en/article/v7bdwy/amazon-delivery-drivers-unionized-now-they-have-to-prove-they-work-for-amazon#:~:text=Jonathon%20Ervin%2C%20the,on%20a%20repair.%E2%80%9D"><span>Amazon's van maintenance system</span></a>.&nbsp;</p></span><span></span><span data-component="TextBlock"><p>When the unionization was first announced on April 24, Amazon said that it had terminated BTS’s contract, not because the workers were unionizing, but because of “poor performance.”</p></span><span data-component="TextBlock"><p>Hards <a href="https://www.vice.com/en/article/g5ygaw/a-group-of-amazon-drivers-just-joined-one-of-the-biggest-unions-in-the-us"><span>told Motherboard in a statement</span></a> at the time, “This group does not work for Amazon. This particular third party company had a track record of failing to perform and had been notified of its termination for poor performance well before today’s announcement. This situation is more about an outside company trying to distract from their history of failing to meet their obligations.”&nbsp;</p></span><span data-component="TextBlock"><p>The filings specifically referencing drivers say that consulting activity occurred between May and September of 2022. The timeline of the Palmdale unionization process is not clear, but Heath Lopez, one of the unionized drivers, previously told Motherboard that workers had started a petition in 2021 for better working conditions, which had served as a precursor to official organizing.&nbsp;</p></span><span data-component="TextBlock"><p>“Almost immediately upon the workers exercising their right to protected concerted activities, Amazon had anti-union consultants on the ground,” Korgan said. “This is Amazon's M.O. A little bit of concerted activity goes on, Amazon sends anti-union consultants that are trying to talk to drivers and discourage workers.”&nbsp;</p></span><span></span><span data-component="TextBlock"><p>Jesse Moreno, another unionized driver, said that after the union went public, he started seeing new faces around the warehouse.&nbsp;</p></span><span data-component="TextBlock"><p>“Once we unionized, there was this influx of people we’d never seen,” Moreno said. “Probably around 10 people.”&nbsp;</p></span><span data-component="TextBlock"><p>He continued that one day after the unionization was announced, an unfamiliar man called a meeting with the drivers, and said that the Teamsters were spreading a false narrative, and that Amazon’s contract with BTS had been terminated and would expire in 60 days. During those 60 days, Amazon started grounding more vehicles, he said.&nbsp;</p></span><span data-component="TextBlock"><p>“We were being grounded two, three-plus vehicles a day, which was affecting our routes,” Moreno said. “If we don't have vehicles to drive, then we don't have vehicles to deliver these packages, so we don't have our routes and they'll essentially have to send us home. So people were getting cut because of this.”&nbsp;</p></span><span data-component="TextBlock"><p>“The maintenance that they had on these vehicles is just terrible. Our dashboards would look like a Christmas tree, which they didn't care about before,” Moreno continued. “But once we unionized, if any light was on there—they were grounding our vehicles for just about anything. The fire extinguisher not being on the door, the seatbelt not retracting properly.”</p></span><span data-component="TextBlock"><p>When asked whether Amazon can interfere with the drivers’ efforts if it says it does not employ them, Goldstein said, “They can interfere—if they’re an employer. They’re screwed. You can’t do that. That’s hilarious.” </p></span><span data-component="TextBlock"><p>This is not the first time Amazon has called anti-union consultants to influence an organizing effort at one of its facilities. Last October, when warehouse workers at the company’s ALB1 Albany warehouse tried to join the Amazon Labor Union, Motherboard reported on <a href="https://www.vice.com/en/article/y3p5pb/amazons-dollar3200-per-day-union-busters-say-this-is-the-best-spot-for-steak-and-caviar-in-albany"><span>anti-union consultants</span></a> sent in to hold captive audience meetings and distribute fliers. When the votes were counted, <a href="https://www.vice.com/en/article/7k8dv4/alb1-workers-will-not-join-the-amazon-labor-union"><span>ALB1 lost its union election</span></a> almost by a factor of 2-to-1. Those consultants were paid at least $3,200 per day.</p></span></p><div><p><h3>ORIGINAL REPORTING ON EVERYTHING THAT MATTERS IN YOUR INBOX.</h3></p><p>By signing up, you agree to the<!-- --> <a href="https://vice-web-statics-cdn.vice.com/privacy-policy/en_us/page/terms-of-use.html">Terms of Use</a> <!-- -->and<!-- --> <a href="https://vice-web-statics-cdn.vice.com/privacy-policy/en_us/page/privacy-policy.html">Privacy Policy</a> <!-- -->&amp; to receive electronic communications from Vice Media Group, which may include marketing promotions, advertisements and sponsored content.</p></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Blueprint for a distributed multi-region IAM with Go and CockroachDB (119 pts)]]></title>
            <link>https://www.ory.dev/global-identity-and-access-management-multi-region/</link>
            <guid>37048409</guid>
            <pubDate>Tue, 08 Aug 2023 13:05:53 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.ory.dev/global-identity-and-access-management-multi-region/">https://www.ory.dev/global-identity-and-access-management-multi-region/</a>, See on <a href="https://news.ycombinator.com/item?id=37048409">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><article><p>As the world becomes increasingly interconnected, businesses are no longer
serving customers in a single geographic region. This shift towards a global
marketplace brings with it new challenges when it comes to identity and access
management (IAM). At Ory, we recognized that our customers needed a solution
that could meet where our customers’ users are: <strong>everywhere in the world</strong>.
These users expect the service to be fast, reliable, and compliant with local
laws.</p><p><span>
      <a href="https://www.ory.dev/static/85bb0ba2c10a70e24d1f8314cc31b7d2/f6df2/ory-network-stylized.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
          <source srcset="https://www.ory.dev/static/85bb0ba2c10a70e24d1f8314cc31b7d2/5cdf0/ory-network-stylized.webp 215w,https://www.ory.dev/static/85bb0ba2c10a70e24d1f8314cc31b7d2/f662a/ory-network-stylized.webp 430w,https://www.ory.dev/static/85bb0ba2c10a70e24d1f8314cc31b7d2/7464f/ory-network-stylized.webp 860w,https://www.ory.dev/static/85bb0ba2c10a70e24d1f8314cc31b7d2/7f8d8/ory-network-stylized.webp 1290w,https://www.ory.dev/static/85bb0ba2c10a70e24d1f8314cc31b7d2/60a26/ory-network-stylized.webp 1715w" sizes="(max-width: 860px) 100vw, 860px" type="image/webp">
          <source srcset="https://www.ory.dev/static/85bb0ba2c10a70e24d1f8314cc31b7d2/657eb/ory-network-stylized.png 215w,https://www.ory.dev/static/85bb0ba2c10a70e24d1f8314cc31b7d2/5e598/ory-network-stylized.png 430w,https://www.ory.dev/static/85bb0ba2c10a70e24d1f8314cc31b7d2/e0774/ory-network-stylized.png 860w,https://www.ory.dev/static/85bb0ba2c10a70e24d1f8314cc31b7d2/90da1/ory-network-stylized.png 1290w,https://www.ory.dev/static/85bb0ba2c10a70e24d1f8314cc31b7d2/f6df2/ory-network-stylized.png 1715w" sizes="(max-width: 860px) 100vw, 860px" type="image/png">
          <img src="https://d33wubrfki0l68.cloudfront.net/31e48dda4849e27a89848692b709daf1603036e6/61bbd/static/85bb0ba2c10a70e24d1f8314cc31b7d2/e0774/ory-network-stylized.png" alt="Ory Network is a global identity and access platform for aspiring and established web-scale businesses." title="Ory Network is a global identity and access platform for aspiring and established web-scale businesses." loading="lazy" decoding="async">
        </picture>
  </a>
    </span></p><p>In this blog post, you will learn how Ory built a globally distributed system
for identity and access management. This blog post is for you if you want to
learn</p><ul><li>what multi-region means.</li><li>how Ory implemented a scalable multi-region architecture.</li><li>how Ory migrated a live production system from a single region to a
multi-region architecture.</li></ul><p><strong>What is Ory?</strong></p><p>Ory runs a global
<a href="https://en.wikipedia.org/wiki/Identity_management">identity and access (IAM)</a>
platform (<strong><a href="https://console.ory.sh/">Ory Network</a></strong>), based on
<a href="https://github.com/ory">open source</a>, that companies use to solve login,
registration, permissions, user management, and advanced topics like OAuth2 and
OpenID Connect. Ory Network is the only multi-region IAM in the world.</p><p>Companies using Ory Network <strong>reduce risk, lower their TCO, reduce
time-to-market</strong>, and win over users with <strong>ultra-fast websites and apps</strong>.
Every day, Ory is handling around 3 billion API requests in more than 11.000
production environments worldwide.</p><p>We will explore the fundamental benefits of a multi-region architecture
throughout the article. The most compelling reasons to build a multi-region
architecture is that modern software applications need to be fast everywhere in
the world, always on and reliable like google.com, and compliant with laws and
regulations like GDPR.´ Multi-region architectures help solve these issues
efficiently and effectively. At the same time, multi-region architectures are
not easy to build, and this article explores how Ory achieved this milestone for
its IAM product: <a href="https://console.ory.sh/">Ory Network</a>.</p><h3 id="single--and-multi-regions"><a href="#single--and-multi-regions" aria-label="single  and multi regions permalink"></a>Single- and multi-regions</h3><p>In this section, we will explore the fundamental differences between single
region and multi-region architecture, two contrasting approaches in designing
and deploying cloud-based systems.</p><h4 id="availability-zones-are-not-regions"><a href="#availability-zones-are-not-regions" aria-label="availability zones are not regions permalink"></a>Availability zones are not regions</h4><p>Cloud platform regions and availability zones are two distinct concepts that
people often confuse. Regions refer to geographic locations where cloud
providers have their data centers, and each region operates independently. Data
stored in one region is not automatically replicated in others, meaning that an
outage in a region only affects applications and data within that specific
region. Availability zones, on the other hand, are isolated areas within a
region, each with its own data center. Deploying across multiple availability
zones enhances redundancy and availability, allowing applications and data to
fail over to another zone in case of an outage. However, some cloud providers
may have separate availability zones located in the same physical data center,
which can pose risks during catastrophic events. For example, the failure of all
three availability zones in Google Cloud Platform's europe-west9 region was
<a href="https://status.cloud.google.com/incidents/W8APSvPHcxDNyEKyTqJP">caused by a fire</a>
in the data center where all three zones were located, despite each zone having
independent resources.</p><h4 id="single-region-architecture"><a href="#single-region-architecture" aria-label="single region architecture permalink"></a>Single region architecture</h4><p><span>
      <a href="https://www.ory.dev/static/8cff6fe18b3770bdb63d85e85da46dc3/1a2fb/920SINGLE_REGION_ARCHITECTURE.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
          <source srcset="https://www.ory.dev/static/8cff6fe18b3770bdb63d85e85da46dc3/5cdf0/920SINGLE_REGION_ARCHITECTURE.webp 215w,https://www.ory.dev/static/8cff6fe18b3770bdb63d85e85da46dc3/f662a/920SINGLE_REGION_ARCHITECTURE.webp 430w,https://www.ory.dev/static/8cff6fe18b3770bdb63d85e85da46dc3/7464f/920SINGLE_REGION_ARCHITECTURE.webp 860w,https://www.ory.dev/static/8cff6fe18b3770bdb63d85e85da46dc3/7f8d8/920SINGLE_REGION_ARCHITECTURE.webp 1290w,https://www.ory.dev/static/8cff6fe18b3770bdb63d85e85da46dc3/8aedc/920SINGLE_REGION_ARCHITECTURE.webp 1720w,https://www.ory.dev/static/8cff6fe18b3770bdb63d85e85da46dc3/33eb2/920SINGLE_REGION_ARCHITECTURE.webp 1840w" sizes="(max-width: 860px) 100vw, 860px" type="image/webp">
          <source srcset="https://www.ory.dev/static/8cff6fe18b3770bdb63d85e85da46dc3/657eb/920SINGLE_REGION_ARCHITECTURE.png 215w,https://www.ory.dev/static/8cff6fe18b3770bdb63d85e85da46dc3/5e598/920SINGLE_REGION_ARCHITECTURE.png 430w,https://www.ory.dev/static/8cff6fe18b3770bdb63d85e85da46dc3/e0774/920SINGLE_REGION_ARCHITECTURE.png 860w,https://www.ory.dev/static/8cff6fe18b3770bdb63d85e85da46dc3/90da1/920SINGLE_REGION_ARCHITECTURE.png 1290w,https://www.ory.dev/static/8cff6fe18b3770bdb63d85e85da46dc3/42d79/920SINGLE_REGION_ARCHITECTURE.png 1720w,https://www.ory.dev/static/8cff6fe18b3770bdb63d85e85da46dc3/1a2fb/920SINGLE_REGION_ARCHITECTURE.png 1840w" sizes="(max-width: 860px) 100vw, 860px" type="image/png">
          <img src="https://d33wubrfki0l68.cloudfront.net/80336f51482a07b0fd006ed62b2b84db5b57af48/233af/static/8cff6fe18b3770bdb63d85e85da46dc3/e0774/920single_region_architecture.png" alt="Single region architecture" title="Single region architecture" loading="lazy" decoding="async">
        </picture>
  </a>
    </span></p><p>Single region architecture can be problematic for several reasons, primarily
because it lacks the necessary redundancy and fault tolerance to handle various
types of failures.</p><ol><li><strong>Increased risk of downtime</strong>: In a single region architecture, if the
entire region experiences an outage due to natural disasters, infrastructure
failures, or other unforeseen events, the application and services hosted in
that region will become inaccessible. This can lead to prolonged downtime and
significant disruption to business operations.</li><li><strong>Data loss and corruption</strong>: Without data replication across regions, a
catastrophic failure in the single region could result in data loss or
corruption. If backups and recovery processes are not robust, recovering lost
data may be difficult or impossible.</li><li><strong>Limited disaster recovery</strong>: In a single region setup, disaster recovery
options are constrained. If the primary region faces a disaster, the lack of
geographically distributed resources makes it challenging to switch to an
alternative location and recover quickly.</li><li><strong>Performance bottlenecks</strong>: Having a single region could lead to performance
bottlenecks, especially if the user base is spread across different
geographical locations. Users farther away from the data center may
experience increased latency and slower response times.</li><li><strong>Vulnerability to network failures</strong>: A single region is more susceptible to
network connectivity issues. If there is a network outage that affects the
region, all services hosted within that region could be impacted.</li></ol><h4 id="single-region-architecture-in-multiple-regions"><a href="#single-region-architecture-in-multiple-regions" aria-label="single region architecture in multiple regions permalink"></a>Single region architecture in multiple regions</h4><p><span>
      <a href="https://www.ory.dev/static/256319040f3b50c315ed6561d9fa9cb8/1a2fb/920SINGLE_REGION_ARCHITECTURE_IN_MULTIPLE-REGIONS.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
          <source srcset="https://www.ory.dev/static/256319040f3b50c315ed6561d9fa9cb8/5cdf0/920SINGLE_REGION_ARCHITECTURE_IN_MULTIPLE-REGIONS.webp 215w,https://www.ory.dev/static/256319040f3b50c315ed6561d9fa9cb8/f662a/920SINGLE_REGION_ARCHITECTURE_IN_MULTIPLE-REGIONS.webp 430w,https://www.ory.dev/static/256319040f3b50c315ed6561d9fa9cb8/7464f/920SINGLE_REGION_ARCHITECTURE_IN_MULTIPLE-REGIONS.webp 860w,https://www.ory.dev/static/256319040f3b50c315ed6561d9fa9cb8/7f8d8/920SINGLE_REGION_ARCHITECTURE_IN_MULTIPLE-REGIONS.webp 1290w,https://www.ory.dev/static/256319040f3b50c315ed6561d9fa9cb8/8aedc/920SINGLE_REGION_ARCHITECTURE_IN_MULTIPLE-REGIONS.webp 1720w,https://www.ory.dev/static/256319040f3b50c315ed6561d9fa9cb8/33eb2/920SINGLE_REGION_ARCHITECTURE_IN_MULTIPLE-REGIONS.webp 1840w" sizes="(max-width: 860px) 100vw, 860px" type="image/webp">
          <source srcset="https://www.ory.dev/static/256319040f3b50c315ed6561d9fa9cb8/657eb/920SINGLE_REGION_ARCHITECTURE_IN_MULTIPLE-REGIONS.png 215w,https://www.ory.dev/static/256319040f3b50c315ed6561d9fa9cb8/5e598/920SINGLE_REGION_ARCHITECTURE_IN_MULTIPLE-REGIONS.png 430w,https://www.ory.dev/static/256319040f3b50c315ed6561d9fa9cb8/e0774/920SINGLE_REGION_ARCHITECTURE_IN_MULTIPLE-REGIONS.png 860w,https://www.ory.dev/static/256319040f3b50c315ed6561d9fa9cb8/90da1/920SINGLE_REGION_ARCHITECTURE_IN_MULTIPLE-REGIONS.png 1290w,https://www.ory.dev/static/256319040f3b50c315ed6561d9fa9cb8/42d79/920SINGLE_REGION_ARCHITECTURE_IN_MULTIPLE-REGIONS.png 1720w,https://www.ory.dev/static/256319040f3b50c315ed6561d9fa9cb8/1a2fb/920SINGLE_REGION_ARCHITECTURE_IN_MULTIPLE-REGIONS.png 1840w" sizes="(max-width: 860px) 100vw, 860px" type="image/png">
          <img src="https://d33wubrfki0l68.cloudfront.net/599dc7ece85f21fa953664a16221562810f8a8c9/a4e0d/static/256319040f3b50c315ed6561d9fa9cb8/e0774/920single_region_architecture_in_multiple-regions.png" alt="Single-region architecture in multiple regions" title="Single-region architecture in multiple regions" loading="lazy" decoding="async">
        </picture>
  </a>
    </span></p><p>A single region architecture involves deploying a copy of the entire software
stack in each location. Deploying a single region architecture in multiple
regions to reduce latency and address compliance concerns might seem like an
attractive approach at first glance. However, it still shares many of the
drawbacks and limitations inherent in a traditional single region architecture.</p><ol><li><strong>Data fragmentation and inconsistency:</strong> While deploying the architecture in
multiple regions may improve latency for users in those regions, it
introduces data fragmentation and inconsistency across regions. Each region
operates independently, resulting in potential disparities in data sets and
configurations. This can lead to challenges in data synchronization, data
consistency, and maintaining a unified view of data across regions.</li><li><strong>Increased management overhead:</strong> Adopting the same architecture in multiple
regions means maintaining multiple production deployments, each with its own
set of codebases (GitOps), configurations, and updates. This can lead to
increased complexity in software management, making it challenging to roll
out updates, bug fixes, and new features consistently across all regions.</li><li><strong>Data merge and movement complexity:</strong> Moving and merging data between
multiple regions in a replicated architecture can be complex and error-prone.
Transferring data between regions for load balancing or compliance purposes
requires careful planning and execution to avoid data inconsistencies or
potential data loss.</li><li><strong>Increased operational overhead:</strong> Running multiple instances of the same
architecture in various regions requires additional management overhead. Each
region needs separate monitoring, maintenance, and support, adding complexity
to the overall system management.</li></ol><h3 id="multi-region-architecture"><a href="#multi-region-architecture" aria-label="multi region architecture permalink"></a>Multi-region architecture</h3><p>A multi-region architecture is challenging to build and run, but can address the
limitations of the single-region architectures. Here, the data plane is
replicated and shared and available in all regions. Stateless services are
replicated the same regions as well. This approach has several advantages.</p><ol><li><strong>Improved high availability</strong>: Multi-region architecture offers higher
availability by distributing application instances across multiple regions.
If one region goes down, traffic can be seamlessly routed to other
functioning regions, ensuring continuous service availability.</li><li><strong>Disaster recovery and business continuity</strong>: With multiple regions,
companies can implement robust disaster recovery plans. In case of a disaster
or outage in one region, they can failover to other regions, minimising
downtime and ensuring business continuity.</li><li><strong>Reduced latency</strong>: By hosting resources closer to end-users in different
regions, companies can reduce latency and provide better user experiences.</li><li><strong>Enhanced data redundancy and security</strong>: Replicating data across regions
ensures data redundancy, improving data resilience and mitigating the risk of
data loss. It also enhances data security, as sensitive data can be stored in
specific regions to comply with local regulations.</li><li><strong>Compliance and risk management</strong>: For companies with global operations,
hosting data in multiple regions helps them comply with data sovereignty
regulations and reduces risks associated with region-specific legal and
compliance issues.</li></ol><h3 id="multi-region-identity-and-access-management"><a href="#multi-region-identity-and-access-management" aria-label="multi region identity and access management permalink"></a>Multi-region Identity and Access Management</h3><p><span>
      <a href="https://www.ory.dev/static/e8d66b33a5b38f213540c8ed0a026885/1a2fb/920MULTI-REGION_IDENTITY_AND_ACCESS_MANAGEMENT.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
          <source srcset="https://www.ory.dev/static/e8d66b33a5b38f213540c8ed0a026885/5cdf0/920MULTI-REGION_IDENTITY_AND_ACCESS_MANAGEMENT.webp 215w,https://www.ory.dev/static/e8d66b33a5b38f213540c8ed0a026885/f662a/920MULTI-REGION_IDENTITY_AND_ACCESS_MANAGEMENT.webp 430w,https://www.ory.dev/static/e8d66b33a5b38f213540c8ed0a026885/7464f/920MULTI-REGION_IDENTITY_AND_ACCESS_MANAGEMENT.webp 860w,https://www.ory.dev/static/e8d66b33a5b38f213540c8ed0a026885/7f8d8/920MULTI-REGION_IDENTITY_AND_ACCESS_MANAGEMENT.webp 1290w,https://www.ory.dev/static/e8d66b33a5b38f213540c8ed0a026885/8aedc/920MULTI-REGION_IDENTITY_AND_ACCESS_MANAGEMENT.webp 1720w,https://www.ory.dev/static/e8d66b33a5b38f213540c8ed0a026885/33eb2/920MULTI-REGION_IDENTITY_AND_ACCESS_MANAGEMENT.webp 1840w" sizes="(max-width: 860px) 100vw, 860px" type="image/webp">
          <source srcset="https://www.ory.dev/static/e8d66b33a5b38f213540c8ed0a026885/657eb/920MULTI-REGION_IDENTITY_AND_ACCESS_MANAGEMENT.png 215w,https://www.ory.dev/static/e8d66b33a5b38f213540c8ed0a026885/5e598/920MULTI-REGION_IDENTITY_AND_ACCESS_MANAGEMENT.png 430w,https://www.ory.dev/static/e8d66b33a5b38f213540c8ed0a026885/e0774/920MULTI-REGION_IDENTITY_AND_ACCESS_MANAGEMENT.png 860w,https://www.ory.dev/static/e8d66b33a5b38f213540c8ed0a026885/90da1/920MULTI-REGION_IDENTITY_AND_ACCESS_MANAGEMENT.png 1290w,https://www.ory.dev/static/e8d66b33a5b38f213540c8ed0a026885/42d79/920MULTI-REGION_IDENTITY_AND_ACCESS_MANAGEMENT.png 1720w,https://www.ory.dev/static/e8d66b33a5b38f213540c8ed0a026885/1a2fb/920MULTI-REGION_IDENTITY_AND_ACCESS_MANAGEMENT.png 1840w" sizes="(max-width: 860px) 100vw, 860px" type="image/png">
          <img src="https://d33wubrfki0l68.cloudfront.net/04f34820a195b9e3cc4b6c7f5b4540e97a3f8804/8e10d/static/e8d66b33a5b38f213540c8ed0a026885/e0774/920multi-region_identity_and_access_management.png" alt="Multi-region identity and access management" title="Multi-region identity and access management" loading="lazy" decoding="async">
        </picture>
  </a>
    </span></p><p>Ensuring robust identity and access management across multiple regions is a
critical aspect of an organization's infrastructure. Multi-region IAM addresses
several key challenges and requirements to provide a seamless and secure user
experience while adhering to data regulations and ensuring high availability.</p><p><strong>Low-latency access:</strong> Since identity and access management are integral to
almost every user request made to a system, achieving low-latency response times
is vital. With IAM services distributed across multiple regions, users
experience reduced latency during identity verification and access
authorization, enhancing overall system responsiveness and user satisfaction.</p><p><strong>Enhanced availability and reliability:</strong> Multi-region IAM provides increased
availability and reliability by offering redundancy across regions. In the event
of a single-region failure or outage, users can seamlessly access applications
and services from alternative regions, minimizing downtime and ensuring
continuous availability. This level of fault tolerance is particularly crucial
for critical services that need to be accessible at all times, irrespective of
localized failures.</p><p><strong>Compliance with data homing regulations:</strong> While having a unified IAM system
is crucial, replicating user data across all regions can conflict with data
homing regulations (GDPR, LGPD, PIPA, CCPA, …) that require storing data within
a user's country. To address this challenge, organizations must strike a balance
between centralizing IAM functions and adhering to regional data storage
requirements. Implementing data sharding by geography allows organizations to
scale their infrastructure based on regional demands while maintaining
compliance with data regulations.</p><p><strong>Unified user identity across regions:</strong> One of the primary concerns in
multi-region architectures is maintaining a coherent and unified view of user
identities and their permissions across all regions. Regardless of the user's
home region, it is essential to have a centralized IAM system that can
efficiently handle identity verification and access control for each user. This
enables a consistent user experience, reduces complexity, and streamlines
administrative tasks related to user management.</p><p><strong>Dynamic scalability:</strong> The geographic sharding of data and IAM services
enables organizations to scale their infrastructure dynamically based on
regional demand. For instance, during peak times like Black Friday in the US,
organizations can scale up the IAM infrastructure in that region to handle
increased user traffic. Simultaneously, regions with lower demand can remain
efficiently scaled, optimizing resource usage and cost efficiency.</p><h3 id="regulatory-compliance-and-the-need-for-data-homing-and-encryption"><a href="#regulatory-compliance-and-the-need-for-data-homing-and-encryption" aria-label="regulatory compliance and the need for data homing and encryption permalink"></a>Regulatory compliance and the need for data homing and encryption</h3><p>The handling of personal data has become a complex legal challenge, with no
clear global consensus on how such data can be moved between countries. Despite
being close allies, even the European Union (EU) and the United States have
struggled to establish stable legal frameworks for cross-border data transfers:</p><ol><li><strong>Safe Harbor Agreement</strong>: The Safe Harbor agreement, which aimed to
facilitate data transfers between the EU and the US, was invalidated after
the revelations of Edward Snowden regarding US government surveillance
practices. This decision highlighted the difficulties in ensuring data
privacy in international data transfers.</li><li><strong>EU-US Privacy Shield</strong>: Subsequently, the EU and the US attempted to
establish a successor to the Safe Harbor agreement through the Privacy Shield
framework. However, the Court of Justice of the EU declared the Privacy
Shield invalid due to concerns over US surveillance practices and the lack of
adequate protection for EU citizens' personal data.</li><li><strong>EU-US Data Privacy Framework (Privacy Shield II)</strong>: Currently, efforts are
underway to establish a new EU-US data privacy framework. However,
uncertainties persist regarding its approval, and
<a href="https://www-heise-de.translate.goog/news/Kritik-an-Wahnsinn-EU-Kommission-gibt-Datentransfer-in-die-USA-wieder-frei-9212124.html?_x_tr_sl=de&amp;_x_tr_tl=en&amp;_x_tr_hl=en&amp;_x_tr_pto=wapp">the possibility of it facing legal challenges is very likely</a>.</li></ol><p>Given the evolving and diverse regulatory landscape worldwide, businesses face
significant uncertainties in handling personal data across borders. <strong>Data
homing can mitigate the risks associated with regulatory uncertainty and
changes.</strong></p><h3 id="data-homing"><a href="#data-homing" aria-label="data homing permalink"></a>Data homing</h3><p><span>
      <a href="https://www.ory.dev/static/7d8961be6440507abccdf58e9c904a92/1a2fb/920DATA_HOMING.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
          <source srcset="https://www.ory.dev/static/7d8961be6440507abccdf58e9c904a92/5cdf0/920DATA_HOMING.webp 215w,https://www.ory.dev/static/7d8961be6440507abccdf58e9c904a92/f662a/920DATA_HOMING.webp 430w,https://www.ory.dev/static/7d8961be6440507abccdf58e9c904a92/7464f/920DATA_HOMING.webp 860w,https://www.ory.dev/static/7d8961be6440507abccdf58e9c904a92/7f8d8/920DATA_HOMING.webp 1290w,https://www.ory.dev/static/7d8961be6440507abccdf58e9c904a92/8aedc/920DATA_HOMING.webp 1720w,https://www.ory.dev/static/7d8961be6440507abccdf58e9c904a92/33eb2/920DATA_HOMING.webp 1840w" sizes="(max-width: 860px) 100vw, 860px" type="image/webp">
          <source srcset="https://www.ory.dev/static/7d8961be6440507abccdf58e9c904a92/657eb/920DATA_HOMING.png 215w,https://www.ory.dev/static/7d8961be6440507abccdf58e9c904a92/5e598/920DATA_HOMING.png 430w,https://www.ory.dev/static/7d8961be6440507abccdf58e9c904a92/e0774/920DATA_HOMING.png 860w,https://www.ory.dev/static/7d8961be6440507abccdf58e9c904a92/90da1/920DATA_HOMING.png 1290w,https://www.ory.dev/static/7d8961be6440507abccdf58e9c904a92/42d79/920DATA_HOMING.png 1720w,https://www.ory.dev/static/7d8961be6440507abccdf58e9c904a92/1a2fb/920DATA_HOMING.png 1840w" sizes="(max-width: 860px) 100vw, 860px" type="image/png">
          <img src="https://d33wubrfki0l68.cloudfront.net/3fb5c3d7b9951663b837f4f9d8516536cf4f86ab/f42be/static/7d8961be6440507abccdf58e9c904a92/e0774/920data_homing.png" alt="Data homing" title="Data homing" loading="lazy" decoding="async">
        </picture>
  </a>
    </span> Data homing
involves storing personal data within the user's country of origin and complying
with data localization requirements that various countries may impose. This
strategy minimizes the risk of non-compliance with regional data protection laws
and ensures that sensitive data remains within the jurisdictional boundaries
where it is subject to specific legal protections.</p><h3 id="encryption"><a href="#encryption" aria-label="encryption permalink"></a>Encryption</h3><p>While data homing provides a promising solution, it is not the only approach to
safeguarding data privacy. Encryption, particularly advancements like
homomorphic encryption, has gained attention as an alternative method. We
considered this method, but it had to be ruled out in its current state.</p><p><strong>Homomorphic encryption</strong></p><p>Homomorphic encryption allows computations on encrypted data without the need
for decryption, preserving data privacy throughout processing. This can be a
powerful technique for protecting sensitive data during cross-border transfers
and while stored in databases. Fully Homomorphic Encryption is not yet ready for
market though:</p><blockquote><p>Today, conventional wisdom suggests that an additional performance
acceleration of at least another 1 million times would be required to make FHE
operate at commercially viable speeds. -
<a href="https://queue.acm.org/detail.cfm?id=3561800">Source</a></p></blockquote><p><strong>Column-Level Encryption in SQL databases</strong></p><p>Implementing encryption at the column level in SQL databases offers another
layer of data protection. By encrypting specific columns containing sensitive
information, businesses can maintain data confidentiality while still supporting
necessary operations like unique constraints. Different approaches to
column-level encryption, such as deterministic and randomized encryption,
provide varying trade-offs between security and query performance. Popular
open-source databases (MariaDB, PostgreSQL, MySQL, CockroachDB) do not offer
advanced column-level encryption that can deal with constraints (foreign keys,
unique) and efficient range queries
(<code>SELECT * FROM table WHERE encrypted_column &gt; 'some_value'</code>).</p><p>We would have preferred column-level encryption for managing personal data, but
there is no good solution available for this yet.</p><h2 id="lets-design-a-multi-region-application-architecture"><a href="#lets-design-a-multi-region-application-architecture" aria-label="lets design a multi region application architecture permalink"></a>Let’s design a multi-region application architecture</h2><p>So far we explored the basics of multi-region architecture, regulatory
considerations surrounding data homing and encryption. We also talked about the
challenges that are posed by the lack of global data regulation and the
potential complexities of cross-border data transfers.</p><p>In this second part we show a practical example of how the single region Ory
Network is transformed into a multi-region architecture, an essential step
towards achieving high availability, fault tolerance, and scalability.</p><p><span>
      <a href="https://www.ory.dev/static/94eb841baf199b2cb07f91e3e95a964c/1a2fb/920Globally_Distributed_System_for_Identity_and_Access_Management.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
          <source srcset="https://www.ory.dev/static/94eb841baf199b2cb07f91e3e95a964c/5cdf0/920Globally_Distributed_System_for_Identity_and_Access_Management.webp 215w,https://www.ory.dev/static/94eb841baf199b2cb07f91e3e95a964c/f662a/920Globally_Distributed_System_for_Identity_and_Access_Management.webp 430w,https://www.ory.dev/static/94eb841baf199b2cb07f91e3e95a964c/7464f/920Globally_Distributed_System_for_Identity_and_Access_Management.webp 860w,https://www.ory.dev/static/94eb841baf199b2cb07f91e3e95a964c/7f8d8/920Globally_Distributed_System_for_Identity_and_Access_Management.webp 1290w,https://www.ory.dev/static/94eb841baf199b2cb07f91e3e95a964c/8aedc/920Globally_Distributed_System_for_Identity_and_Access_Management.webp 1720w,https://www.ory.dev/static/94eb841baf199b2cb07f91e3e95a964c/33eb2/920Globally_Distributed_System_for_Identity_and_Access_Management.webp 1840w" sizes="(max-width: 860px) 100vw, 860px" type="image/webp">
          <source srcset="https://www.ory.dev/static/94eb841baf199b2cb07f91e3e95a964c/657eb/920Globally_Distributed_System_for_Identity_and_Access_Management.png 215w,https://www.ory.dev/static/94eb841baf199b2cb07f91e3e95a964c/5e598/920Globally_Distributed_System_for_Identity_and_Access_Management.png 430w,https://www.ory.dev/static/94eb841baf199b2cb07f91e3e95a964c/e0774/920Globally_Distributed_System_for_Identity_and_Access_Management.png 860w,https://www.ory.dev/static/94eb841baf199b2cb07f91e3e95a964c/90da1/920Globally_Distributed_System_for_Identity_and_Access_Management.png 1290w,https://www.ory.dev/static/94eb841baf199b2cb07f91e3e95a964c/42d79/920Globally_Distributed_System_for_Identity_and_Access_Management.png 1720w,https://www.ory.dev/static/94eb841baf199b2cb07f91e3e95a964c/1a2fb/920Globally_Distributed_System_for_Identity_and_Access_Management.png 1840w" sizes="(max-width: 860px) 100vw, 860px" type="image/png">
          <img src="https://d33wubrfki0l68.cloudfront.net/8ae7a567ce383c44bfaef268e43bc93aac3afeac/85582/static/94eb841baf199b2cb07f91e3e95a964c/e0774/920globally_distributed_system_for_identity_and_access_management.png" alt="Multi-region architecture" title="Multi-region architecture" loading="lazy" decoding="async">
        </picture>
  </a>
    </span></p><h3 id="understand-your-data"><a href="#understand-your-data" aria-label="understand your data permalink"></a>Understand your data</h3><p>To optimize data management and compliance efforts, a thorough understanding of
the data types within the system is essential. We distinguish between three main
categories of data at Ory:</p><ol><li><strong>Metadata</strong> encompasses non-personal information such as session IDs,
session tokens, or other data that does not contain identifiable details.
These data elements are typically short-lived and used for session management
and tracking user interactions.</li><li><strong>Transient Data</strong> may contain personal information but is short-lived in
nature. Examples include cached data that is removed after a few hours or
temporary storage of certain user attributes during a session.</li><li><strong>Persistent Personal Data:</strong> This category covers data that can directly
identify a user, including emails, IP addresses, names, and addresses.
Persistent personal data is stored for more extended periods, often within
databases, and requires adherence to stringent data privacy regulations.</li></ol><h3 id="choose-the-right-distributed-data-store-for-a-multi-region-architecture"><a href="#choose-the-right-distributed-data-store-for-a-multi-region-architecture" aria-label="choose the right distributed data store for a multi region architecture permalink"></a>Choose the right distributed data store for a multi-region architecture</h3><p>Building a robust multi-region data architecture requires careful consideration
when selecting the appropriate distributed data store. Traditional SQL
databases, such as MSSQL, MySQL, MariaDB, and PostgreSQL, are not suitable as
the backbone of a multi-region setup due to their limitations in spanning
multiple regions. Instead, organizations need to explore databases specifically
designed for distributed environments. Some popular options include AWS Aurora,
Google Cloud Spanner, CockroachDB, YugaByte, and other distributed databases.</p><p>Each distributed database comes with its unique qualities and trade-offs.
However, at the core, they all grapple with the complexities of distributed
systems. These databases are relatively young compared to traditional SQL
databases, meaning that users may encounter unforeseen issues during
implementation and operations. Being aware of the trade-offs is crucial in
making informed decisions for the specific requirements of the architecture.</p><h4 id="aligning-database-choice-with-data-model-and-regulatory-needs"><a href="#aligning-database-choice-with-data-model-and-regulatory-needs" aria-label="aligning database choice with data model and regulatory needs permalink"></a>Aligning database choice with data model and regulatory needs</h4><p>Selecting the right database also heavily depends on the data model and
compliance requirements. For organizations dealing with sensitive information
and data homing obligations, databases that can set regions per row or leverage
encryption for compliance become essential. Adhering to data localization laws
may influence the choice of database to ensure data is stored within the
appropriate regions to maintain regulatory compliance.</p><h4 id="adjust-latency-expectations"><a href="#adjust-latency-expectations" aria-label="adjust latency expectations permalink"></a>Adjust latency expectations</h4><p>In a multi-region architecture, data distribution across numerous nodes results
in increased latency compared to single-region setups. As data needs to be
retrieved from multiple nodes, the roundtrip latency between these nodes can
significantly impact query performance. And some writes need to travel around
the globe to be finalized. Be prepared to manage expectations regarding latency
and consider potential optimizations to reduce query response times.
Multi-region architectures are often fast at reading and slow at writing.</p><h3 id="the-ory-network-stack"><a href="#the-ory-network-stack" aria-label="the ory network stack permalink"></a>The Ory Network Stack</h3><p>The Ory Network Stack is built on a carefully curated set of technologies that
enable the platform to achieve its multi-cloud capabilities, seamless
deployment, and efficient management. Each technology choice was made with
specific considerations in mind to ensure scalability, performance, and
robustness.</p><p><span>
      <a href="https://www.ory.dev/static/e0a76a8a4ddda2687e4296921c02c989/1a2fb/Ory_network_stack.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
          <source srcset="https://www.ory.dev/static/e0a76a8a4ddda2687e4296921c02c989/5cdf0/Ory_network_stack.webp 215w,https://www.ory.dev/static/e0a76a8a4ddda2687e4296921c02c989/f662a/Ory_network_stack.webp 430w,https://www.ory.dev/static/e0a76a8a4ddda2687e4296921c02c989/7464f/Ory_network_stack.webp 860w,https://www.ory.dev/static/e0a76a8a4ddda2687e4296921c02c989/7f8d8/Ory_network_stack.webp 1290w,https://www.ory.dev/static/e0a76a8a4ddda2687e4296921c02c989/8aedc/Ory_network_stack.webp 1720w,https://www.ory.dev/static/e0a76a8a4ddda2687e4296921c02c989/33eb2/Ory_network_stack.webp 1840w" sizes="(max-width: 860px) 100vw, 860px" type="image/webp">
          <source srcset="https://www.ory.dev/static/e0a76a8a4ddda2687e4296921c02c989/657eb/Ory_network_stack.png 215w,https://www.ory.dev/static/e0a76a8a4ddda2687e4296921c02c989/5e598/Ory_network_stack.png 430w,https://www.ory.dev/static/e0a76a8a4ddda2687e4296921c02c989/e0774/Ory_network_stack.png 860w,https://www.ory.dev/static/e0a76a8a4ddda2687e4296921c02c989/90da1/Ory_network_stack.png 1290w,https://www.ory.dev/static/e0a76a8a4ddda2687e4296921c02c989/42d79/Ory_network_stack.png 1720w,https://www.ory.dev/static/e0a76a8a4ddda2687e4296921c02c989/1a2fb/Ory_network_stack.png 1840w" sizes="(max-width: 860px) 100vw, 860px" type="image/png">
          <img src="https://d33wubrfki0l68.cloudfront.net/0dda4c08586197b69e0db6f5d65bbfdb94792909/a86f6/static/e0a76a8a4ddda2687e4296921c02c989/e0774/ory_network_stack.png" alt="The Ory Network multi-region software stack" title="The Ory Network multi-region software stack" loading="lazy" decoding="async">
        </picture>
  </a>
    </span></p><h4 id="golang"><a href="#golang" aria-label="golang permalink"></a>Golang</h4><p>Golang is known for its speed, efficiency, and robustness, making it an
excellent choice for building scalable and high-performance applications. Its
concurrency features enable efficient handling of multiple tasks simultaneously,
making it ideal for multi-region architectures where parallel processing is
crucial.</p><p>Additionally, Golang's strong standard library and well-defined syntax
contribute to faster development cycles and easier maintenance. Its static
typing and built-in garbage collection provide a level of safety and
reliability, reducing the likelihood of runtime errors. Golang's simplicity and
ease of deployment also contribute to smoother application development and
deployment processes.</p><p>All of these properties made Golang the obvious choice for developing all of
Ory's API services.</p><h4 id="kubernetes"><a href="#kubernetes" aria-label="kubernetes permalink"></a>Kubernetes</h4><p>Ory Network relies on Kubernetes as the underlying container orchestration
platform. Kubernetes offers the flexibility to run applications across various
cloud providers, making it an ideal choice for achieving multi-cloud
capabilities. This is particularly beneficial when serving private instances for
customers who might have specific cloud preferences or requirements such as
running on Azure. Kubernetes' ability to abstract away the infrastructure
details also simplifies the deployment and management of Ory Network's services.</p><h4 id="argocd"><a href="#argocd" aria-label="argocd permalink"></a>ArgoCD</h4><p>Automated deployment and lifecycle management are critical components of Ory
Network's architecture. ArgoCD, as a GitOps tool, streamlines the deployment
process by automatically reconciling the desired state specified in Git
repositories with the actual state of Kubernetes clusters. This approach ensures
consistent and reliable deployments, making it easier for the Ory team to
maintain synchronization across multiple regions.</p><h4 id="crossplane"><a href="#crossplane" aria-label="crossplane permalink"></a>Crossplane</h4><p>Crossplane plays a crucial role in Ory Network's architecture, enabling seamless
multi-cloud resource provisioning. By using Crossplane's Kubernetes-style APIs,
Ory simplifies infrastructure management and ensures uniformity across diverse
cloud providers. This integration enhances Ory's agility and resilience,
allowing consistent resource scaling and deployment across different clouds.</p><h4 id="cockroachdb"><a href="#cockroachdb" aria-label="cockroachdb permalink"></a>CockroachDB</h4><p>CockroachDB was chosen as the primary database for Ory Network due to its unique
features and capabilities. Built on the Raft consensus algorithm and based on
RocksDB, CockroachDB offers a distributed and highly available database
solution. These features are crucial for Ory Network's multi-region
architecture, enabling data to be stored across regions and sharded efficiently
for better scalability.</p><h4 id="cloudflare"><a href="#cloudflare" aria-label="cloudflare permalink"></a>Cloudflare</h4><p>The anti-bot and anti-fraud capabilities ensure enhanced security and protection
against malicious attacks. Additionally, global load balancing allows Ory to
steer traffic to the correct geolocation based on the user’s origin. Ory’s
<a href="https://www.ory.sh/docs/concepts/cache">global edge sessions</a> use Cloudflare
workers to perform session validation in milliseconds everywhere in the world.</p><h4 id="grafana-loki-tempo-thanos"><a href="#grafana-loki-tempo-thanos" aria-label="grafana loki tempo thanos permalink"></a>Grafana, Loki, Tempo, Thanos</h4><p>Ory employs a comprehensive logging and monitoring stack, comprising Grafana,
Loki, Tempo, and Thanos. Grafana provides a user-friendly interface for
visualization and analysis of performance metrics. Loki, a horizontally-scalable
log aggregation system, efficiently handles log data. Tempo serves as a
high-scale distributed tracing system, facilitating application performance
monitoring. Thanos ties these components together, offering a seamless
experience for monitoring and debugging Ory's applications.</p><h3 id="the-journey-with-cockroachdb"><a href="#the-journey-with-cockroachdb" aria-label="the journey with cockroachdb permalink"></a>The journey with CockroachDB</h3><p>Implementing a global multi-region system with CockroachDB brings both
excitement and challenges. While CockroachDB enables Ory to achieve its
ambitious multi-region architecture, the journey has been marked by valuable
learnings and trade-offs despite following best practices from the outset. Let's
explore working with CockroachDB in the context of a global multi-region
production setup.</p><p><span>
      <a href="https://www.ory.dev/static/015e39195c842341b0bb8e6d921b5983/1a2fb/Solving_Compliance_with_Data_Domiciling.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
          <source srcset="https://www.ory.dev/static/015e39195c842341b0bb8e6d921b5983/5cdf0/Solving_Compliance_with_Data_Domiciling.webp 215w,https://www.ory.dev/static/015e39195c842341b0bb8e6d921b5983/f662a/Solving_Compliance_with_Data_Domiciling.webp 430w,https://www.ory.dev/static/015e39195c842341b0bb8e6d921b5983/7464f/Solving_Compliance_with_Data_Domiciling.webp 860w,https://www.ory.dev/static/015e39195c842341b0bb8e6d921b5983/7f8d8/Solving_Compliance_with_Data_Domiciling.webp 1290w,https://www.ory.dev/static/015e39195c842341b0bb8e6d921b5983/8aedc/Solving_Compliance_with_Data_Domiciling.webp 1720w,https://www.ory.dev/static/015e39195c842341b0bb8e6d921b5983/33eb2/Solving_Compliance_with_Data_Domiciling.webp 1840w" sizes="(max-width: 860px) 100vw, 860px" type="image/webp">
          <source srcset="https://www.ory.dev/static/015e39195c842341b0bb8e6d921b5983/657eb/Solving_Compliance_with_Data_Domiciling.png 215w,https://www.ory.dev/static/015e39195c842341b0bb8e6d921b5983/5e598/Solving_Compliance_with_Data_Domiciling.png 430w,https://www.ory.dev/static/015e39195c842341b0bb8e6d921b5983/e0774/Solving_Compliance_with_Data_Domiciling.png 860w,https://www.ory.dev/static/015e39195c842341b0bb8e6d921b5983/90da1/Solving_Compliance_with_Data_Domiciling.png 1290w,https://www.ory.dev/static/015e39195c842341b0bb8e6d921b5983/42d79/Solving_Compliance_with_Data_Domiciling.png 1720w,https://www.ory.dev/static/015e39195c842341b0bb8e6d921b5983/1a2fb/Solving_Compliance_with_Data_Domiciling.png 1840w" sizes="(max-width: 860px) 100vw, 860px" type="image/png">
          <img src="https://d33wubrfki0l68.cloudfront.net/9818b97031d085bec6db73f48eac91586e65f20c/dbdf8/static/015e39195c842341b0bb8e6d921b5983/e0774/solving_compliance_with_data_domiciling.png" alt="Multi-region database CockroachDB" title="Multi-region database CockroachDB" loading="lazy" decoding="async">
        </picture>
  </a>
    </span></p><h4 id="sharding-and-latency-trade-offs"><a href="#sharding-and-latency-trade-offs" aria-label="sharding and latency trade offs permalink"></a>Sharding and latency trade-offs</h4><p><a href="https://en.wikipedia.org/wiki/Shard_(database_architecture)">Sharding</a> and
replicating a database across regions introduces challenges primarily related to
latency between nodes. Designing primary keys, unique and foreign key
constraints, and secondary indices requires careful consideration. To optimize
performance, avoid operations that scan rows across several nodes or regions.
Range queries and ordering operations that span rows across multiple nodes or
regions can be slow.</p><h4 id="three-features-for-regionality"><a href="#three-features-for-regionality" aria-label="three features for regionality permalink"></a>Three features for regionality</h4><p>CockroachDB offers three features for handling regionality:</p><ol><li><strong><a href="https://www.cockroachlabs.com/docs/stable/regional-tables">Regional tables</a>:</strong>
Tables stored and accessed in a single region provide fast access within the
region but experience severe latency penalties when accessed from other
regions. This type of table is less common in multi-region architectures.</li><li><strong><a href="https://www.cockroachlabs.com/docs/stable/regional-tables">Regional by row tables</a>:</strong>
These tables are sharded across regions, and each row specifies the region in
which it is stored. Read and write queries on such tables come with high
latency penalties, necessitating careful optimization to avoid performance
issues. Query optimization involves avoiding ordering, limiting result sets,
and using primary or secondary indices for lookups.</li><li><strong><a href="https://www.cockroachlabs.com/docs/stable/global-tables">Global tables</a>:</strong>
These tables deliver fast consistent reads across all regions but incur
latency penalties on writes. Transactions experience a non-removable sync
time (~300-600ms) during the <strong><code>COMMIT</code></strong> phase, and all writes occur in the
table's primary region, adding additional latency for <strong><code>INSERT</code></strong> and
<strong><code>UPDATE</code></strong> operations.</li></ol><h4 id="eventually-consistent-reads"><a href="#eventually-consistent-reads" aria-label="eventually consistent reads permalink"></a>Eventually consistent reads</h4><p>CockroachDB supports
<a href="https://www.cockroachlabs.com/blog/follower-reads-stale-data/">eventual consistency</a>,
where stale reads may occur, providing data that might not be up-to-date. In
such systems, when a user performs a write operation (e.g., signing in and
updating session data), it may take a certain amount of time for the changes to
propagate and become available for subsequent read operations. This duration is
referred to as the replication lag and can range from 1 to 30 seconds, with
CockroachDB's replication lag typically around 4 seconds.</p><p>To address eventual consistency and provide more control over data freshness,
CockroachDB offers a mechanism for specifying a timestamp for read operations.
By using the <code>AS OF SYSTEM TIME</code> clause in SQL queries, clients can request data
as of a specific timestamp, ensuring they receive data up to that point in time.
For instance:</p><div data-language="sql"><pre><code><span>SELECT</span> <span>*</span> <span>FROM</span> <span>table</span> <span>AS</span> <span>OF</span> SYSTEM <span>TIME</span> <span>"2023-07-20-12-55-01"</span><span>;</span></code></pre></div><p>However, employing this approach poses challenges for application developers.
The responsibility of managing the timestamp now shifts from the SQL server to
the client. Clients must maintain and provide the appropriate timestamp for
their read operations. This can be non-trivial, particularly in scenarios where
the system requires strict consistency for certain operations.</p><p>One potential solution is to use immutable keys. When performing an <code>INSERT</code> or
<code>UPDATE</code>, a new key is returned, encoding both the primary key and the
timestamp. This way, the client can use the immutable key to ensure consistent
reads. However, this adds complexity as the client must manage and maintain the
consistency of immutable keys for every update operation.</p><p>It is essential for developers to carefully consider the implications of
eventual consistency when designing their REST or gRPC APIs. By setting clear
expectations regarding data freshness and potential staleness in the API
documentation, clients can be informed about the trade-offs between fast but
eventually consistent results and potentially slower but strongly consistent
data.</p><h4 id="solving-compliance-with-data-domiciling"><a href="#solving-compliance-with-data-domiciling" aria-label="solving compliance with data domiciling permalink"></a>Solving compliance with data domiciling</h4><p>CockroachDB has been instrumental in addressing compliance concerns by
leveraging regional by row tables. Persistent personal data is stored and
replicated within
<a href="https://www.cockroachlabs.com/blog/introducing-super-regions/">super regions</a>,
ensuring compliance with data localization requirements. Additionally, the data
is encrypted using
<a href="https://www.cockroachlabs.com/docs/cockroachcloud/cmek">regional encryption keys</a>,
strengthening data security and privacy.</p><p><span>
      <a href="https://www.ory.dev/static/babc2eeff54e192048d61ca4afedf4ef/1a2fb/920DATA_DOIMICILING.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
          <source srcset="https://www.ory.dev/static/babc2eeff54e192048d61ca4afedf4ef/5cdf0/920DATA_DOIMICILING.webp 215w,https://www.ory.dev/static/babc2eeff54e192048d61ca4afedf4ef/f662a/920DATA_DOIMICILING.webp 430w,https://www.ory.dev/static/babc2eeff54e192048d61ca4afedf4ef/7464f/920DATA_DOIMICILING.webp 860w,https://www.ory.dev/static/babc2eeff54e192048d61ca4afedf4ef/7f8d8/920DATA_DOIMICILING.webp 1290w,https://www.ory.dev/static/babc2eeff54e192048d61ca4afedf4ef/8aedc/920DATA_DOIMICILING.webp 1720w,https://www.ory.dev/static/babc2eeff54e192048d61ca4afedf4ef/33eb2/920DATA_DOIMICILING.webp 1840w" sizes="(max-width: 860px) 100vw, 860px" type="image/webp">
          <source srcset="https://www.ory.dev/static/babc2eeff54e192048d61ca4afedf4ef/657eb/920DATA_DOIMICILING.png 215w,https://www.ory.dev/static/babc2eeff54e192048d61ca4afedf4ef/5e598/920DATA_DOIMICILING.png 430w,https://www.ory.dev/static/babc2eeff54e192048d61ca4afedf4ef/e0774/920DATA_DOIMICILING.png 860w,https://www.ory.dev/static/babc2eeff54e192048d61ca4afedf4ef/90da1/920DATA_DOIMICILING.png 1290w,https://www.ory.dev/static/babc2eeff54e192048d61ca4afedf4ef/42d79/920DATA_DOIMICILING.png 1720w,https://www.ory.dev/static/babc2eeff54e192048d61ca4afedf4ef/1a2fb/920DATA_DOIMICILING.png 1840w" sizes="(max-width: 860px) 100vw, 860px" type="image/png">
          <img src="https://d33wubrfki0l68.cloudfront.net/64fc4b2dd40990e19f0cf0497de1a630b6d7b265/f7940/static/babc2eeff54e192048d61ca4afedf4ef/e0774/920data_doimiciling.png" alt="Data privacy (GDPR) compliance API" title="Data privacy (GDPR) compliance API" loading="lazy" decoding="async">
        </picture>
  </a>
    </span></p><h4 id="multi-region-data-architectures-take-time-monitoring-and-effort"><a href="#multi-region-data-architectures-take-time-monitoring-and-effort" aria-label="multi region data architectures take time monitoring and effort permalink"></a>Multi-region data architectures take time, monitoring, and effort</h4><p>Developing multi-region data models with CockroachDB demands meticulous planning
and substantial time investment. Effective application monitoring and query
tracing are essential to identify performance bottlenecks in live production
traffic, making it a slow and iterative process. While CockroachDB empowers
global multi-region systems, its unique architectural considerations necessitate
a thorough understanding and optimization of queries to achieve optimal
performance. Despite the challenges, the ability to create a robust and scalable
multi-region architecture is within reach, provided teams embrace the learning
curve and are committed to continuous improvement.</p><p>We are quite happy with the results even if the journey to getting here has been
rocky. We think that Cockroach Labs could do more in terms of documenting the
trade-offs and downsides of their product, which may have saved engineering
time. Having said that, engineers and customer success at Cockroach Labs have
been very helpful in helping us to go live!</p><h3 id="gain-a-competitive-edge-and-embrace-open-source"><a href="#gain-a-competitive-edge-and-embrace-open-source" aria-label="gain a competitive edge and embrace open source permalink"></a>Gain a competitive edge and embrace open source</h3><p>Ory's journey began as an open source project, and over time, it has evolved
into an open source company. Within the competitive landscape, Ory Network
stands out with a unique competitive advantage over entities that self-host open
source solutions or attempt to offer Ory's open source software as a service, as
happened with
<a href="https://www.elastic.co/amazon-opensearch-service">AWS and ElasticSearch</a>.</p><p>To meet the complex demands of a multi-region environment and offer enhanced
services to its customers, Ory recognized the need for a specialized
multi-region, multi-tenant database abstraction layer. While the core components
of Ory remain open source, this proprietary layer serves as a strategic
differentiator, allowing Ory Network to deliver efficient and scalable database
management tailored to the specific requirements of multi-region deployments.</p><p>At the core of Ory's success lies its innovative approach to multi-region
deployments. Keeping the complexities and challenges of managing data across
regions in mind, we took a decisive step by implementing a proprietary
multi-tenant database abstraction layer. This strategic move allows Ory to
deliver an unparalleled level of efficiency and scalability, tailored to the
unique demands of multi-region architectures. While the core components of Ory
remain open source, this proprietary layer proves Ory's commitment to delivering
cutting-edge solutions.</p><p>Developing a robust multi-region architecture and surrounding tooling and
monitoring has been a monumental effort for the team. Synchronizing application
and deployment states across multiple regions demanded meticulous orchestration,
ensuring smooth operations across the distributed landscape. Furthermore, Ory's
focus on cost-effective monitoring has ensured resource optimization while
delivering exceptional performance in a multi-region environment.</p><p>Despite its growth and evolution, Ory remains firmly grounded in the principles
of open source. The vibrant community surrounding Ory continues to drive
innovation, fostering a collaborative environment where ideas are exchanged and
improvements are continuously made. This commitment to open source principles is
a cornerstone of Ory's success, enabling the company to stay adaptive and
forward-thinking.</p><h2 id="migrating-live-production-traffic-from-a-single-region-to-multiple-regions"><a href="#migrating-live-production-traffic-from-a-single-region-to-multiple-regions" aria-label="migrating live production traffic from a single region to multiple regions permalink"></a>Migrating live production traffic from a single region to multiple regions</h2><p>So far we discussed the motivation behind migrating from a single-region to a
multi-region architecture within Ory Network. Understanding the importance of
IAM, data regulation, compliance, and GDPR, we set the stage for the challenges
and opportunities that lay ahead.</p><h3 id="from-single-region-iam-to-multi-region"><a href="#from-single-region-iam-to-multi-region" aria-label="from single region iam to multi region permalink"></a>From single-region IAM to multi-region</h3><p>Ory Network's journey started with a single-region setup in Europe. Recognizing
the potential benefits of a multi-region architecture, we embarked on a phased
approach to roll out this advanced infrastructure.</p><h3 id="experimenting-with-multi-region-latencies"><a href="#experimenting-with-multi-region-latencies" aria-label="experimenting with multi region latencies permalink"></a>Experimenting with multi-region latencies</h3><p>One of the pivotal challenges we encountered was the need for real-world
experience to comprehend how queries behave in a multi-region system. Unlike
laboratory environments, the complexities of real-world scenarios demanded
extensive experimentation.</p><p>In this phase, we faced many challenges with multi-region capabilities in
CockroachDB. Most of our smoke tests encountered timeouts shedding light on the
substantial work that awaited us.</p><p>The road to a successful multi-region deployment necessitated addressing the
myriad of challenges, ranging from optimizing performance to ensuring data
compliance across regions. Our experiments and insights paved the way for a more
comprehensive understanding of the intricacies involved.</p><h4 id="the-challenge-of-real-world-experience"><a href="#the-challenge-of-real-world-experience" aria-label="the challenge of real world experience permalink"></a>The challenge of real-world experience</h4><p>Transitioning from a single-region setup to a multi-region powerhouse was no
easy feat. We navigated through several phases, each bringing its unique set of
obstacles. One of the most profound challenges was understanding how latencies
behave in a real multi-region system. No laboratory environment could replicate
the intricacies of a live, dynamic ecosystem. It took significant time, effort,
and real-world experience to grasp the nuances and intricacies, shaping our
system's architecture and performance optimization.</p><h3 id="exploring-cockroachdb-multi-region-features"><a href="#exploring-cockroachdb-multi-region-features" aria-label="exploring cockroachdb multi region features permalink"></a>Exploring CockroachDB multi region features</h3><p>In the second phase of our journey towards a multi-region architecture, we
explored different multi-region features, with a particular focus on the newly
introduced capabilities in CockroachDB, such as Global Tables and Super Regions.
This phase served as a crucial testing ground to gain insights into the
performance and behavior of various table types.</p><h4 id="testing-global-tables-regional-tables-and-regional-by-row-tables"><a href="#testing-global-tables-regional-tables-and-regional-by-row-tables" aria-label="testing global tables regional tables and regional by row tables permalink"></a>Testing global tables, regional tables, and regional by row tables</h4><p>We tested and evaluated three distinct table types offered by CockroachDB to
accommodate multi-region setups:</p><ol><li>Global tables: These tables offered the advantage of fast reads across all
regions but introduced latency penalties on writes. Because of global
replication, they can also not be used for PII.</li><li>Regional tables: Regional tables are stored and accessed within a single
region, ensuring fast performance for local operations. Regional tables are
rarely useful for global state unless follower reads can be used.</li><li>Regional by row tables: The most complex table type we experimented with,
regional by row tables are sharded across regions, with each row specifying
the region it is stored in. While this approach provided the flexibility of
data distribution, it also presented significant challenges related to query
performance and latency.</li></ol><p>As we conducted extensive tests with these multi-region features, we
consistently encountered long-running queries, leading to issues of system
unreliability and, at times, unavailability. The performance bottlenecks
revealed the intricacies involved in optimizing a multi-region database
abstraction layer written in Golang.</p><p>In light of the challenges and performance issues, we committed ourselves to
gaining a deeper understanding of the underlying factors contributing to long
query times.</p><h3 id="optimizing-critical-apis-for-enhanced-performance"><a href="#optimizing-critical-apis-for-enhanced-performance" aria-label="optimizing critical apis for enhanced performance permalink"></a>Optimizing critical APIs for enhanced performance</h3><p>In the third phase of our migration journey, we set our sights on optimizing the
performance of critical APIs that accounted for approximately 95% of the overall
traffic in Ory Network. These APIs were responsible for key functionalities,
such as validating sessions, checking user permissions, and verifying access
tokens which are typically called in the serving path of critical systems and
thus are the most sensitive to increased latency. Our goal was to significantly
improve the response times of these APIs, thereby enhancing the overall speed
and latency of the system.</p><h4 id="addressing-performance-constraints"><a href="#addressing-performance-constraints" aria-label="addressing performance constraints permalink"></a>Addressing Performance Constraints</h4><p>To accomplish this, we dedicated our efforts to addressing performance
constraints in three fundamental APIs:</p><ol><li><strong>Session Validation</strong>: Ensuring the validity of user sessions is crucial for
maintaining a secure and seamless user experience. We diligently worked to
optimize this process, minimizing response times and enhancing overall
session management.</li><li><strong>Authorization Checks</strong>: Verifying user permissions and determining whether
an action is allowed is a fundamental part of Ory Network's functionality.
Our optimization efforts aimed to streamline authorization checks, enabling
faster decision-making without compromising on security.</li><li><strong>Access Token Validation</strong>: Validating access tokens is critical for
safeguarding resources and ensuring that only authorized users gain access to
protected endpoints. We focused on optimizing this process to reduce access
token validation times.</li></ol><h4 id="tracing-instrumentation-and-analysis"><a href="#tracing-instrumentation-and-analysis" aria-label="tracing instrumentation and analysis permalink"></a>Tracing Instrumentation and Analysis</h4><p>To achieve these performance improvements we instrumented critical APIs, closely
monitoring request and query patterns to identify areas that required
optimization. As you can see on the right, we gained insight into how the system
behaves with on average ~40 spans per API call.</p><p>This thorough analysis provided insights into the underlying bottlenecks and
inefficiencies that needed to be addressed.</p><p>By taking these insights for Session Validation and improving the business
logic, we reduced Session Validation end-to-end latency from ~<strong>140ms</strong> to
~<strong>29ms</strong> on the median. This includes fetching the full identity profile
including personal data.</p><p><span>
      <a href="https://www.ory.dev/static/9c5976975effd30f649bd879c2de3b81/532ea/Screenshot_2023-08-01_at_14.27.50.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
          <source srcset="https://www.ory.dev/static/9c5976975effd30f649bd879c2de3b81/5cdf0/Screenshot_2023-08-01_at_14.27.50.webp 215w,https://www.ory.dev/static/9c5976975effd30f649bd879c2de3b81/f662a/Screenshot_2023-08-01_at_14.27.50.webp 430w,https://www.ory.dev/static/9c5976975effd30f649bd879c2de3b81/7464f/Screenshot_2023-08-01_at_14.27.50.webp 860w,https://www.ory.dev/static/9c5976975effd30f649bd879c2de3b81/7f8d8/Screenshot_2023-08-01_at_14.27.50.webp 1290w,https://www.ory.dev/static/9c5976975effd30f649bd879c2de3b81/8aedc/Screenshot_2023-08-01_at_14.27.50.webp 1720w,https://www.ory.dev/static/9c5976975effd30f649bd879c2de3b81/7aff0/Screenshot_2023-08-01_at_14.27.50.webp 2548w" sizes="(max-width: 860px) 100vw, 860px" type="image/webp">
          <source srcset="https://www.ory.dev/static/9c5976975effd30f649bd879c2de3b81/657eb/Screenshot_2023-08-01_at_14.27.50.png 215w,https://www.ory.dev/static/9c5976975effd30f649bd879c2de3b81/5e598/Screenshot_2023-08-01_at_14.27.50.png 430w,https://www.ory.dev/static/9c5976975effd30f649bd879c2de3b81/e0774/Screenshot_2023-08-01_at_14.27.50.png 860w,https://www.ory.dev/static/9c5976975effd30f649bd879c2de3b81/90da1/Screenshot_2023-08-01_at_14.27.50.png 1290w,https://www.ory.dev/static/9c5976975effd30f649bd879c2de3b81/42d79/Screenshot_2023-08-01_at_14.27.50.png 1720w,https://www.ory.dev/static/9c5976975effd30f649bd879c2de3b81/532ea/Screenshot_2023-08-01_at_14.27.50.png 2548w" sizes="(max-width: 860px) 100vw, 860px" type="image/png">
          <img src="https://d33wubrfki0l68.cloudfront.net/1048665237ddaf13bb3596751292712a30ef40f7/a000d/static/9c5976975effd30f649bd879c2de3b81/e0774/screenshot_2023-08-01_at_14.27.50.png" alt="Screenshot 2023-08-01 at 14.27.50.png" title="Screenshot 2023-08-01 at 14.27.50.png" loading="lazy" decoding="async">
        </picture>
  </a>
    </span></p><h4 id="data-homing-practices-for-enhanced-compliance"><a href="#data-homing-practices-for-enhanced-compliance" aria-label="data homing practices for enhanced compliance permalink"></a>Data homing practices for enhanced compliance</h4><p>As part of our ongoing commitment to data regulation and compliance, we also
ensure personal data follows data homing practices. By adhering to regional data
storage regulations, we fortified our infrastructure's compliance with
applicable data protection laws and reinforced user trust in the security of
their data.</p><p>As a result of our focused efforts during this phase, Ory Network experienced
significant performance enhancements and a reduction in latency for critical
APIs. These optimizations paved the way for an efficient and responsive
multi-region architecture, capable of delivering high-quality services to our
users across the globe.</p><h4 id="query-data-model-and-api-optimization"><a href="#query-data-model-and-api-optimization" aria-label="query data model and api optimization permalink"></a>Query, data model, and API optimization</h4><p>Once we had a comprehensive understanding of the issues affecting performance,
we began the process of optimizing queries, data models, and APIs. With a
data-driven and methodical approach, we fine-tuned the database queries,
redesigned data models, and streamlined the API interactions to eliminate
performance bottlenecks.</p><h3 id="satisfactory-results-and-road-to-roll-out"><a href="#satisfactory-results-and-road-to-roll-out" aria-label="satisfactory results and road to roll out permalink"></a>Satisfactory results and road to roll out</h3><p>Our optimization efforts yielded promising results, significantly reducing the
issues we had previously encountered. As the performance of critical APIs
improved, the overall system's speed and responsiveness witnessed a substantial
enhancement.</p><p>With the critical APIs now optimized, we set the stage for the final phase - the
rollout of the multi-region architecture. The groundwork laid during this phase
would prove invaluable in ensuring a smooth and efficient transition to the
enhanced architecture.</p><h3 id="sequencing-the-roll-out"><a href="#sequencing-the-roll-out" aria-label="sequencing the roll out permalink"></a>Sequencing the roll-out</h3><p>As we neared the final stages of transitioning to a robust multi-region
architecture, Phase 4 involved sequencing the roll-out to ensure a seamless and
non-disruptive migration. With our multi-region test instances successfully
passing end-to-end and smoke tests, we initiated the process of drafting a
comprehensive migration plan. This plan was designed to facilitate the migration
of CockroachDB while minimizing any potential impact on our customers.</p><h4 id="roll-out-phases"><a href="#roll-out-phases" aria-label="roll out phases permalink"></a>Roll-out phases</h4><p>The roll-out plan was thoughtfully structured into several distinct phases:</p><ol><li><strong>Provisioning Kubernetes clusters and CockroachDB nodes</strong> The initial step
involved the establishment of Kubernetes clusters within the designated
regions, specifically US East and US West. Correspondingly, we deployed
CockroachDB nodes within these regions, setting the foundation for the
subsequent migration phases.</li><li><strong>Gradual migration of services</strong> The migration was strategically phased to
minimize disruption. We began by migrating our permission service, a pivotal
component with relatively low impact on the database. This approach ensured a
smooth transition while maintaining service availability.</li><li><strong>Transitioning the service control plane</strong> Following the successful
migration of the permission service, we proceeded with transitioning our
service control plane. This encompassed all elements responsible for managing
Ory Network projects and entailed additional business logic associated with
multi-tenancy and domain routing.</li><li><strong>Migrating Ory Identity service</strong> A critical milestone involved migrating
the Ory Identity service, the largest service within Ory Network. This step
required meticulous planning and execution to maintain data integrity and
ensure seamless user experiences.</li><li><strong>Relocating Ory OAuth2 service</strong> The final phase focused on migrating the
Ory OAuth2 service, catering to our significant customer base that relies on
this service. The culmination of this phase marked a significant achievement
in our multi-region migration journey.</li><li><strong>Enabling global traffic and customer onboarding</strong> Once the intricate
database migrations were successfully executed, we selectively enabled global
traffic for Ory Network itself. This was extended to our customers who
expressed interest in trying out the new features serving traffic within the
US regions.</li></ol><h4 id="the-roll-out"><a href="#the-roll-out" aria-label="the roll out permalink"></a>The roll-out</h4><p>This section provides an overview of the challenges encountered and the
successful outcomes achieved during this complex and critical phase of Ory
Network's development.</p><h3 id="ory-network-is-now-multi-region"><a href="#ory-network-is-now-multi-region" aria-label="ory network is now multi region permalink"></a>Ory Network is now multi-region!</h3><p>In the broader context, the multi-region migration was a success! Presently,
users located in the United States experience comparable latency to those in the
European Union, because of the new multi-region capabilities. This achievement
marked a significant improvement in service performance, reliability, and user
experience, aligning with Ory Network's vision for global accessibility and
responsiveness.</p><h3 id="navigating-the-challenges"><a href="#navigating-the-challenges" aria-label="navigating the challenges permalink"></a>Navigating the challenges</h3><p>The migration journey was not without its share of challenges. While the outcome
proved fruitful, the process demanded meticulous planning, diligent execution,
and quick adaptation to unforeseen issues. Some of the prominent challenges
encountered during the migration are highlighted below:</p><p><strong>CPU usage and P95 latency increase:</strong> During the migration phase, the system
experienced spikes in CPU usage and a rise in P95 latency. These observations
raised concerns about potential instability if subjected to a large surge in
traffic. Fortunately, the system remained resilient, and P95 latency returned to
acceptable levels after the completion of the database migration.</p><p><span>
      <a href="https://www.ory.dev/static/488a5dce7324c3791c83c44dad20e494/efa52/Bildschirmfoto_2023-08-03_um_10.52.16.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
          <source srcset="https://www.ory.dev/static/488a5dce7324c3791c83c44dad20e494/5cdf0/Bildschirmfoto_2023-08-03_um_10.52.16.webp 215w,https://www.ory.dev/static/488a5dce7324c3791c83c44dad20e494/f662a/Bildschirmfoto_2023-08-03_um_10.52.16.webp 430w,https://www.ory.dev/static/488a5dce7324c3791c83c44dad20e494/7464f/Bildschirmfoto_2023-08-03_um_10.52.16.webp 860w,https://www.ory.dev/static/488a5dce7324c3791c83c44dad20e494/7f8d8/Bildschirmfoto_2023-08-03_um_10.52.16.webp 1290w,https://www.ory.dev/static/488a5dce7324c3791c83c44dad20e494/8aedc/Bildschirmfoto_2023-08-03_um_10.52.16.webp 1720w,https://www.ory.dev/static/488a5dce7324c3791c83c44dad20e494/c5874/Bildschirmfoto_2023-08-03_um_10.52.16.webp 2236w" sizes="(max-width: 860px) 100vw, 860px" type="image/webp">
          <source srcset="https://www.ory.dev/static/488a5dce7324c3791c83c44dad20e494/657eb/Bildschirmfoto_2023-08-03_um_10.52.16.png 215w,https://www.ory.dev/static/488a5dce7324c3791c83c44dad20e494/5e598/Bildschirmfoto_2023-08-03_um_10.52.16.png 430w,https://www.ory.dev/static/488a5dce7324c3791c83c44dad20e494/e0774/Bildschirmfoto_2023-08-03_um_10.52.16.png 860w,https://www.ory.dev/static/488a5dce7324c3791c83c44dad20e494/90da1/Bildschirmfoto_2023-08-03_um_10.52.16.png 1290w,https://www.ory.dev/static/488a5dce7324c3791c83c44dad20e494/42d79/Bildschirmfoto_2023-08-03_um_10.52.16.png 1720w,https://www.ory.dev/static/488a5dce7324c3791c83c44dad20e494/efa52/Bildschirmfoto_2023-08-03_um_10.52.16.png 2236w" sizes="(max-width: 860px) 100vw, 860px" type="image/png">
          <img src="https://d33wubrfki0l68.cloudfront.net/297553492fcf3143c5f854325423da5b896fceca/ae4c5/static/488a5dce7324c3791c83c44dad20e494/e0774/bildschirmfoto_2023-08-03_um_10.52.16.png" alt="P95 latency during migration" title="P95 latency during migration" loading="lazy" decoding="async">
        </picture>
  </a>
    </span></p><p><strong>Migrating large tables to regional-by-row tables:</strong> The live migration of
large tables to regional-by-row tables presented a significant time-consuming
task due to the sheer size of the database. This process required several hours
to complete successfully.</p><h3 id="service-degradation-and-outages"><a href="#service-degradation-and-outages" aria-label="service degradation and outages permalink"></a>Service degradation and outages</h3><p><span>
      <a href="https://www.ory.dev/static/8139dd7b52a3015dd7a92efa54611399/f4ddc/Screenshot_2023-07-20_at_18.57.26.png" target="_blank" rel="noopener">
    <span></span>
  <picture>
          <source srcset="https://www.ory.dev/static/8139dd7b52a3015dd7a92efa54611399/5cdf0/Screenshot_2023-07-20_at_18.57.26.webp 215w,https://www.ory.dev/static/8139dd7b52a3015dd7a92efa54611399/f662a/Screenshot_2023-07-20_at_18.57.26.webp 430w,https://www.ory.dev/static/8139dd7b52a3015dd7a92efa54611399/7464f/Screenshot_2023-07-20_at_18.57.26.webp 860w,https://www.ory.dev/static/8139dd7b52a3015dd7a92efa54611399/7f8d8/Screenshot_2023-07-20_at_18.57.26.webp 1290w,https://www.ory.dev/static/8139dd7b52a3015dd7a92efa54611399/8aedc/Screenshot_2023-07-20_at_18.57.26.webp 1720w,https://www.ory.dev/static/8139dd7b52a3015dd7a92efa54611399/ca6b0/Screenshot_2023-07-20_at_18.57.26.webp 3680w" sizes="(max-width: 860px) 100vw, 860px" type="image/webp">
          <source srcset="https://www.ory.dev/static/8139dd7b52a3015dd7a92efa54611399/657eb/Screenshot_2023-07-20_at_18.57.26.png 215w,https://www.ory.dev/static/8139dd7b52a3015dd7a92efa54611399/5e598/Screenshot_2023-07-20_at_18.57.26.png 430w,https://www.ory.dev/static/8139dd7b52a3015dd7a92efa54611399/e0774/Screenshot_2023-07-20_at_18.57.26.png 860w,https://www.ory.dev/static/8139dd7b52a3015dd7a92efa54611399/90da1/Screenshot_2023-07-20_at_18.57.26.png 1290w,https://www.ory.dev/static/8139dd7b52a3015dd7a92efa54611399/42d79/Screenshot_2023-07-20_at_18.57.26.png 1720w,https://www.ory.dev/static/8139dd7b52a3015dd7a92efa54611399/f4ddc/Screenshot_2023-07-20_at_18.57.26.png 3680w" sizes="(max-width: 860px) 100vw, 860px" type="image/png">
          <img src="https://d33wubrfki0l68.cloudfront.net/fc75f3b939b490f754fa0a5a7545f80c7514f35f/25c4e/static/8139dd7b52a3015dd7a92efa54611399/e0774/screenshot_2023-07-20_at_18.57.26.png" alt="Ory Network status page" title="Ory Network status page" loading="lazy" decoding="async">
        </picture>
  </a>
    </span></p><p>The migration period, to our regret, was also marked by service degradation and
outages. Several contributing factors led to these challenges:</p><ul><li><strong>Deployment rollouts across multiple regions:</strong> Deploying changes across
various regions resulted in varying upgrade speeds, leading to compatibility
issues with previous versions. These incompatibilities caused partial system
downtime and required immediate resolution. You can find a post-mortem about
this issue <a href="https://www.ory.sh/post-mortem-2023-07-18/">on our website</a>.</li><li><a href="https://status.ory.sh/incident/237186">Zombie process impacting email sending</a><strong>:</strong>
A critical outage arose from a persistent zombie process attempting an
<strong><code>UPDATE ...</code></strong> statement on a large dataset to change row regions. This
operation locked a table for approximately two hours, impacting email sending
functionality. Updating more than 100,000 rows simultaneously led to
<strong><code>TRANSACTION_RETRY</code></strong> errors. To overcome this obstacle, dedicated tooling
was developed to update large tables in manageable chunks, a process that
spanned approximately two days.</li></ul><p>The multi-region migration journey presented Ory with a series of challenges,
from performance bottlenecks to service degradation. These obstacles, while
demanding, have provided invaluable insights that are driving continuous
improvement and shaping the future resilience of the system and we are applying
these learnings to reduce the likelihood of such events.</p><h2 id="make-a-multi-region-request-yourself"><a href="#make-a-multi-region-request-yourself" aria-label="make a multi region request yourself permalink"></a>Make a multi-region request yourself!</h2><p>Let’s make a multi-region AJAX request together. Depending on your location in
the world, you will see that your API call will be served by either EU-West
(<code>euw</code>), US East(<code>use</code>) or US West (<code>usw</code>). Let’s make such a request together
using a shell hosted in the US:</p><p><a href="https://replit.com/@aeneasr/Ory-Network-multi-region-session-validation-from-the-US#main.sh">https://replit.com/@aeneasr/Ory-Network-multi-region-session-validation-from-the-US#main.sh</a></p><p>To test this out from your own network, run this curl command in a shell:</p><div data-language="bash"><pre><code><span>curl</span> -sIXGET https://playground.projects.oryapis.com/sessions/whoami <span><span>2</span>&gt;</span><span>&amp;1</span> <span>|</span> <span>\</span>
		<span>grep</span> -i ory-network-region</code></pre></div><h2 id="what-is-next-for-ory-network"><a href="#what-is-next-for-ory-network" aria-label="what is next for ory network permalink"></a>What is next for Ory Network?</h2><p>As Ory Network continues to advance its multi-region architecture and provide an
exceptional user experience, a road map for future enhancements has been
formulated. The team is committed to addressing existing challenges and
delivering a more efficient, flexible, and user-centric system. Here are some of
the key initiatives planned for the next phases:</p><h3 id="pursuing-enhanced-latency-and-performance"><a href="#pursuing-enhanced-latency-and-performance" aria-label="pursuing enhanced latency and performance permalink"></a>Pursuing enhanced latency and performance</h3><p>While significant progress has been achieved in migrating to a multi-region
architecture, Ory Network recognizes that there is more to be done to further
optimize latency and performance. The road map ahead includes a concerted effort
to bring down P90 and P95 latency metrics, with the expectation that P99 latency
will likely remain in the 600-900ms range for expensive operations. Certain
complex queries may pose challenges for optimization, such as retrieving a
comprehensive list of users spanning all regions.</p><h3 id="empowering-data-compliance-and-mobility"><a href="#empowering-data-compliance-and-mobility" aria-label="empowering data compliance and mobility permalink"></a>Empowering data compliance and mobility</h3><p>Ory Network is committed to strengthening data compliance and user data mobility
through innovative solutions. A pivotal advancement on the horizon is the
development of a new data compliance API. This forthcoming API will empower
developers with the capability to seamlessly transfer users and their associated
data from one region to another. This initiative not only aligns with regulatory
requirements but also provides users with greater control over their data
placement.</p><h3 id="user-centric-self-service-capabilities"><a href="#user-centric-self-service-capabilities" aria-label="user centric self service capabilities permalink"></a>User-centric self-service capabilities</h3><p>Recognizing the importance of user autonomy, Ory Network is dedicated to
introducing self-service tooling and user interfaces. These user-centric
features will enable individuals to independently change their designated
region, facilitating a seamless and personalized experience. By placing the
power of data location in the hands of users, Ory Network aims to enhance
flexibility and user satisfaction.</p><h3 id="project-level-data-placement-control"><a href="#project-level-data-placement-control" aria-label="project level data placement control permalink"></a>Project-level data placement control</h3><p>In its continuous pursuit of comprehensive data management, Ory Network is
actively working on introducing data placement restrictions at the project
level. This strategic enhancement will provide project administrators with
granular control over the geographic distribution of data. By tailoring data
placement to specific project requirements, Ory Network enhances compliance
adherence while offering flexibility to accommodate diverse regulatory
landscapes.</p><h3 id="an-exciting-journey-ahead"><a href="#an-exciting-journey-ahead" aria-label="an exciting journey ahead permalink"></a>An exciting journey ahead</h3><p>As Ory Network embarks on the next phase of its evolution, the organization
remains steadfast in its commitment to delivering a resilient, compliant, and
high-performance platform. With a clear vision for the future and a robust road
map in place, Ory Network is poised to continue its mission of empowering
developers and users alike, while embracing technological advancements and best
practices in the ever-evolving realm of multi-region architecture.</p><h3 id="searching-personal-data-across-regions"><a href="#searching-personal-data-across-regions" aria-label="searching personal data across regions permalink"></a>Searching personal data across regions</h3><p>Implementing a robust search functionality poses a unique challenge in a
multi-region setup. The presence of Personally Identifiable Information (PII) in
multiple regions necessitates a search engine that respects data regulations
while delivering fast and accurate results. Currently, no multi-region search
engine exists, and we are committed to exploring solutions that strike the
perfect balance between efficiency, compliance, and user privacy.</p><h3 id="scaling-fast"><a href="#scaling-fast" aria-label="scaling fast permalink"></a>Scaling fast</h3><p>At current growth projection, Ory will be handling 100 million active users by
the end of 2023, scaling up to 1 billion active users by the end of 2024. This
expansion brings the biggest challenge yet: scaling a multi-region, distributed
system at a rapid pace. To meet this challenge head-on, we are dedicated to find
effective solutions in record time.</p><h2 id="conclusion"><a href="#conclusion" aria-label="conclusion permalink"></a>Conclusion</h2><p>You made it to the end, congratulations! I hope this article helped you
understand that multi-region architectures are hard but possible. If you like
what you read,
<a href="https://console.ory.sh/registration">please try out Ory Network</a>! It’s free to
play around, and we at Ory hope you enjoy the product as much as we enjoy
building it… :)</p></article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Web Scraping via JavaScript Runtime Heap Snapshots (2022) (276 pts)]]></title>
            <link>https://www.adriancooney.ie/blog/web-scraping-via-javascript-heap-snapshots</link>
            <guid>37047746</guid>
            <pubDate>Tue, 08 Aug 2023 12:09:28 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.adriancooney.ie/blog/web-scraping-via-javascript-heap-snapshots">https://www.adriancooney.ie/blog/web-scraping-via-javascript-heap-snapshots</a>, See on <a href="https://news.ycombinator.com/item?id=37047746">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>In recent years, the web has gotten very hostile to the lowly web scraper. It's a result of the natural progression of web technologies away from statically rendered pages to dynamic apps built with frameworks like React and CSS-in-JS. Developers no longer need to label their data with class-names or ids - it's only a courtesy to screen readers now.</p>
<p>There's also been a concerted effort by large companies to protect their public data. Facebook, for example, employs a <a href="https://about.fb.com/news/2021/04/how-we-combat-scraping/" node="[object Object]">team of over 100 people</a> to make sure it is as difficult as possible for any data to escape the black hole. Granted, some of these large companies do offer APIs for their data but rarely is this unrestricted. You're usually at the whim of their app review process or granted access only to a partial view of the data. Data that would be otherwise public if you were to do a Google search and click through to their website manually.</p>
<div><p><span><span></span><img alt="How HTML looks nowadays" srcset="https://www.adriancooney.ie/_next/image?url=https%3A%2F%2Fimages.ctfassets.net%2Fnpzloj4jufpj%2F6fDxT3Yshk7RQNidx1tDA8%2F07eecdbd9539d44a60e8f1da6b00ef5d%2FScreenshot_2022-04-26_at_23.25.09.png&amp;w=1080&amp;q=75 1x, https://www.adriancooney.ie/_next/image?url=https%3A%2F%2Fimages.ctfassets.net%2Fnpzloj4jufpj%2F6fDxT3Yshk7RQNidx1tDA8%2F07eecdbd9539d44a60e8f1da6b00ef5d%2FScreenshot_2022-04-26_at_23.25.09.png&amp;w=1920&amp;q=75 2x" src="https://www.adriancooney.ie/_next/image?url=https%3A%2F%2Fimages.ctfassets.net%2Fnpzloj4jufpj%2F6fDxT3Yshk7RQNidx1tDA8%2F07eecdbd9539d44a60e8f1da6b00ef5d%2FScreenshot_2022-04-26_at_23.25.09.png&amp;w=1920&amp;q=75" decoding="async" data-nimg="intrinsic" loading="lazy" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></span></p><p>How HTML looks nowadays</p></div>
<p>This can be frustrating if you're like me - somebody who wanted to build a small, local, non-profit app that uses data hosted on a closed platform. The data is public but completely inaccessible to machines because of aggressive anti-web-scraping measures. That gave me two options - input the data manually or play the web-scraping game. Of course, I chose the latter.</p>
<h3><code>puppeteer-heap-snapshot</code> is born.</h3>
<p>After a couple of attempts at extracting the data using the usual CSS selector method of web-scraping - that is, fetching the raw HTML or booting up a browser via something like <a href="https://github.com/puppeteer/puppeteer" node="[object Object]">Puppeteer</a> and trying to pick the data embedded in the HTML structure - I was close to admitting defeat. It wasn't until I had an epiphany: the data is <em>inside</em> the web page.</p>
<iframe width="100%" height="315" src="https://www.youtube-nocookie.com/embed/L_o_O7v1ews?controls=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
<p>I plucked out a unique string from the data visible on the web page and took a heap snapshot of the browser's Javascript runtime via Chrome's Dev Tools. A heap snapshot is a raw dump of everything in the web app's memory (or heap). Using the Dev Tools' search function and my unique string, I managed to find a nice, well-structured object containing my string and, adjacently, all the data that my app needed. It was from this point that I focused my energy on automating this process to find and extract the data from the heap snapshot. <code>puppeteer-heap-snapshot</code> is born.</p>
<div><p><span><span></span><img alt="Chrome Dev Tools' Memory Profiler" srcset="https://www.adriancooney.ie/_next/image?url=https%3A%2F%2Fimages.ctfassets.net%2Fnpzloj4jufpj%2F1VPKptaSPuNl8kbCWS4t4g%2F36963d9d0b96d268b8a7b9c3b88bb052%2FScreenshot_2022-04-26_at_23.44.10.png&amp;w=1080&amp;q=75 1x, https://www.adriancooney.ie/_next/image?url=https%3A%2F%2Fimages.ctfassets.net%2Fnpzloj4jufpj%2F1VPKptaSPuNl8kbCWS4t4g%2F36963d9d0b96d268b8a7b9c3b88bb052%2FScreenshot_2022-04-26_at_23.44.10.png&amp;w=1920&amp;q=75 2x" src="https://www.adriancooney.ie/_next/image?url=https%3A%2F%2Fimages.ctfassets.net%2Fnpzloj4jufpj%2F1VPKptaSPuNl8kbCWS4t4g%2F36963d9d0b96d268b8a7b9c3b88bb052%2FScreenshot_2022-04-26_at_23.44.10.png&amp;w=1920&amp;q=75" decoding="async" data-nimg="intrinsic" loading="lazy" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></span></p><p>Chrome Dev Tools' Memory Profiler</p></div>
<p><a href="https://github.com/adriancooney/puppeteer-heap-snapshot" node="[object Object]"><code>puppeteer-heap-snapshot</code></a> is a Node.js module that, given a <a href="https://github.com/puppeteer/puppeteer" node="[object Object]">Puppeteer</a> browser page, can capture and parse a heap snapshot and deserialize objects that contain a set of properties. It comes with a nifty CLI tool too so we can quickly prototype scrapers from our terminal.</p>
<p>For example, let's fetch the metadata from the above video:</p>
<pre><p><code><span>$ puppeteer-heap-snapshot query \
</span><span>  --url https</span><span>:</span><span>//www.youtube.com/watch\?v\=L_o_O7v1ews \</span><span>
</span><span>  --properties channelId</span><span>,</span><span>viewCount</span><span>,</span><span>keywords --no-headless
</span>
<span>&gt;&gt; Opening Puppeteer page at</span><span>:</span><span> https</span><span>:</span><span>//www.youtube.com/watch?v=L_o_O7v1ews</span><span>
</span>&gt;&gt; Taking heap snapshot..
<span></span><span>[</span><span>
</span><span>  </span><span>{</span><span>
</span><span>    </span><span>"videoId"</span><span>:</span><span> </span><span>"L_o_O7v1ews"</span><span>,</span><span>
</span><span>    </span><span>"title"</span><span>:</span><span> </span><span>"Zoolander - The Files are IN the Computer!"</span><span>,</span><span>
</span><span>    </span><span>"lengthSeconds"</span><span>:</span><span> </span><span>"21"</span><span>,</span><span>
</span><span>    </span><span>"keywords"</span><span>:</span><span> </span><span>[</span><span>
</span><span>      </span><span>"Zoolander"</span><span>,</span><span>
</span><span>      </span><span>"Movie Quotes"</span><span>,</span><span>
</span><span>      </span><span>"2000s"</span><span>,</span><span>
</span><span>      </span><span>"Humor"</span><span>,</span><span>
</span><span>      </span><span>"Files"</span><span>,</span><span>
</span><span>      </span><span>"IN the Computer"</span><span>,</span><span>
</span><span>      </span><span>"Hansel"</span><span>
</span><span>    </span><span>]</span><span>,</span><span>
</span><span>    </span><span>"channelId"</span><span>:</span><span> </span><span>"UCGQ6kU3NRI3WDxvTGIsaVjA"</span><span>,</span><span>
</span><span>    </span><span>"isOwnerViewing"</span><span>:</span><span> </span><span>false</span><span>,</span><span>
</span><span>    </span><span>"shortDescription"</span><span>:</span><span> </span><span>""</span><span>,</span><span>
</span><span>    </span><span>"isCrawlable"</span><span>:</span><span> </span><span>true</span><span>,</span><span>
</span><span>    </span><span>"thumbnail"</span><span>:</span><span> </span><span>{</span><span>
</span><span>      </span><span>"thumbnails"</span><span>:</span><span> </span><span>[</span><span>
</span><span>        </span><span>{</span><span>
</span><span>          </span><span>"url"</span><span>:</span><span> </span><span>"https://i.ytimg.com/vi/L_o_O7v1ews/hqdefault.jpg?sqp=-oaymwEbCKgBEF5IVfKriqkDDggBFQAAiEIYAXABwAEG&amp;rs=AOn4CLCRXqKq4f3pDXFysaLwvaK7zokbcA"</span><span>,</span><span>
</span><span>          </span><span>"width"</span><span>:</span><span> </span><span>168</span><span>,</span><span>
</span><span>          </span><span>"height"</span><span>:</span><span> </span><span>94</span><span>
</span><span>        </span><span>}</span><span>,</span><span>
</span><span>        </span><span>{</span><span>
</span><span>          </span><span>"url"</span><span>:</span><span> </span><span>"https://i.ytimg.com/vi/L_o_O7v1ews/hqdefault.jpg?sqp=-oaymwEbCMQBEG5IVfKriqkDDggBFQAAiEIYAXABwAEG&amp;rs=AOn4CLAUYKiFQE7AsuwoLrJZldUQRzjZig"</span><span>,</span><span>
</span><span>          </span><span>"width"</span><span>:</span><span> </span><span>196</span><span>,</span><span>
</span><span>          </span><span>"height"</span><span>:</span><span> </span><span>110</span><span>
</span><span>        </span><span>}</span><span>,</span><span>
</span><span>        </span><span>{</span><span>
</span><span>          </span><span>"url"</span><span>:</span><span> </span><span>"https://i.ytimg.com/vi/L_o_O7v1ews/hqdefault.jpg?sqp=-oaymwEcCPYBEIoBSFXyq4qpAw4IARUAAIhCGAFwAcABBg==&amp;rs=AOn4CLB_nQ2Un8uDxAAYOYB_E4fMaxCt2g"</span><span>,</span><span>
</span><span>          </span><span>"width"</span><span>:</span><span> </span><span>246</span><span>,</span><span>
</span><span>          </span><span>"height"</span><span>:</span><span> </span><span>138</span><span>
</span><span>        </span><span>}</span><span>,</span><span>
</span><span>        </span><span>{</span><span>
</span><span>          </span><span>"url"</span><span>:</span><span> </span><span>"https://i.ytimg.com/vi/L_o_O7v1ews/hqdefault.jpg?sqp=-oaymwEcCNACELwBSFXyq4qpAw4IARUAAIhCGAFwAcABBg==&amp;rs=AOn4CLB7uDAGHDaTSAe3xy5q3H2JqekbAw"</span><span>,</span><span>
</span><span>          </span><span>"width"</span><span>:</span><span> </span><span>336</span><span>,</span><span>
</span><span>          </span><span>"height"</span><span>:</span><span> </span><span>188</span><span>
</span><span>        </span><span>}</span><span>
</span><span>      </span><span>]</span><span>
</span><span>    </span><span>}</span><span>,</span><span>
</span><span>    </span><span>"allowRatings"</span><span>:</span><span> </span><span>true</span><span>,</span><span>
</span><span>    </span><span>"viewCount"</span><span>:</span><span> </span><span>"140687"</span><span>,</span><span>
</span><span>    </span><span>"author"</span><span>:</span><span> </span><span>"James"</span><span>,</span><span>
</span><span>    </span><span>"isPrivate"</span><span>:</span><span> </span><span>false</span><span>,</span><span>
</span><span>    </span><span>"isUnpluggedCorpus"</span><span>:</span><span> </span><span>false</span><span>,</span><span>
</span><span>    </span><span>"isLiveContent"</span><span>:</span><span> </span><span>false</span><span>
</span><span>  </span><span>}</span><span>
</span><span></span><span>]</span></code></p></pre>
<p>In that command, <code>puppeteer-heap-snapshot</code> booted up an instance of Chrome, navigated to the video on Youtube and took a heap snapshot of the page (58Mb in total, they can get large!). It then parsed that heap snapshot, found the object with the properties <code>channelId</code>, <code>viewCount</code>, <code>keywords</code>, and deserialized it back to us. These properties were chosen manually by working backward from the visible data on the web page to the data structure containing said data (I'll dive into that process in another blog post). We use the <code>--no-headless</code> argument to boot a windowed Chrome instance (i.e. not headless) because Google can detect and thwart headless Chrome - but that's a story for another time.</p>
<p>We can see the response is JSON! A clean, well-formed data structure extracted magically from the webpage. On top of that, the definition of the scraper is just 3 strings: <code>channelId</code>, <code>viewCount</code> and <code>keywords</code>! We no longer have to maintain a complex web scraper tightly coupled to the semantics of an ever-changing webpage. Instead, we can target objects that do not change often like API response objects or well-defined entities.</p>
<h3>Future proof web-scraping?</h3>
<p>You can imagine the grin on my face when I managed to circumvent the aforementioned closed-platform aggressive anti-web-scraping measures using this method. I experimented with other platforms like Facebook, Instagram, and Twitter and they're all susceptible to the technique after tweaking a few parameters. I've been using <code>puppeteer-heap-snapshot</code> in production for quite some time now and it's working surprisingly well.</p>
<div><p><span><span></span><img alt="Me not fixing a broken web scraper and having more fun" srcset="https://www.adriancooney.ie/_next/image?url=https%3A%2F%2Fimages.ctfassets.net%2Fnpzloj4jufpj%2F1rxzUBV0ImX5FUOWhqYvFQ%2F07221f3d6d437958df4c9d5c037fd05b%2Fantonino-visalli-RNiBLy7aHck-unsplash__2_.jpg&amp;w=640&amp;q=75 1x, https://www.adriancooney.ie/_next/image?url=https%3A%2F%2Fimages.ctfassets.net%2Fnpzloj4jufpj%2F1rxzUBV0ImX5FUOWhqYvFQ%2F07221f3d6d437958df4c9d5c037fd05b%2Fantonino-visalli-RNiBLy7aHck-unsplash__2_.jpg&amp;w=1920&amp;q=75 2x" src="https://www.adriancooney.ie/_next/image?url=https%3A%2F%2Fimages.ctfassets.net%2Fnpzloj4jufpj%2F1rxzUBV0ImX5FUOWhqYvFQ%2F07221f3d6d437958df4c9d5c037fd05b%2Fantonino-visalli-RNiBLy7aHck-unsplash__2_.jpg&amp;w=1920&amp;q=75" decoding="async" data-nimg="intrinsic" loading="lazy" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></span></p><p>Me not fixing a broken web scraper and having more fun</p></div>
<p>This method still comes with the same caveats that web-scraping always had - the public data could be here today, gone tomorrow and there is nothing you can do about it. The benefit of this technique though is the maintenance cost of the web scraper is greatly reduced and I'd even wager they will break <em>far less</em> than the current standard pattern.</p>
<p>It's costly for systems like web apps to change their underlying data structures because they're usually tightly coupled to the server meaning property names of objects are unlikely to change over time. On top of that, attempting to break the technique by obfuscating the data structure would be a large and costly undertaking because it would require obfuscating the entire stack - a mighty feat. Is this possibly a future-proof web-scraping technique? Maybe .. Web Assembly might be the final nail in the coffin.</p>
<h3>Get started heap snapshot scraping.</h3>
<p>Hop on over to <a href="https://github.com/adriancooney/puppeteer-heap-snapshot" node="[object Object]"><code>puppeteer-heap-snapshot</code>'s Github Page</a> to get started using it (now that it's <a href="https://techcrunch.com/2022/04/18/web-scraping-legal-court/" node="[object Object]">officially legal</a>!). It's still in an experimental/beta phase so proceed with caution when deploying. It's also incredibly slow - I didn't put any effort into optimizing the algorithms that query the (huge) heap snapshot data structures because I had more pressing features to build so please don't kill me for the CPU spikes (your orchestrator might kill your containers though, a lesson learned).</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Magic Earth: OSM based map and routing with crowd sourced traffic data (165 pts)]]></title>
            <link>https://www.magicearth.com/crowd-sourced-traffic/</link>
            <guid>37047304</guid>
            <pubDate>Tue, 08 Aug 2023 11:21:23 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.magicearth.com/crowd-sourced-traffic/">https://www.magicearth.com/crowd-sourced-traffic/</a>, See on <a href="https://news.ycombinator.com/item?id=37047304">Hacker News</a></p>
<div id="readability-page-1" class="page"><div role="main">

    
      <article id="post-18514" class="page">
        

<div id="cs-content"><div id="x-section-1" data-x-element="section" data-x-params="{&quot;type&quot;:&quot;image&quot;,&quot;parallax&quot;:false}"><hr><p id=""><h2><span>"A faster route is available that can save you 8 minutes!"</span></h2>
</p><hr><hr></div><div id="x-section-2"><div id=""><p id=""><h2><span>We agree that the worst person to be stuck in traffic, is you.</span></h2>
</p><hr></div><div id=""><p><span><img src="https://www.magicearth.com/wp-content/uploads/2019/11/Traffic-stuck-in-traffic2.png" width="681" height="329" alt="Image" loading="lazy"></span></p></div></div><div id="x-section-3"><p><span><img src="https://www.magicearth.com/wp-content/uploads/2019/11/Traffic-choise.png" width="809.5" height="587" alt="Image" loading="lazy"></span></p><div><hr><p id=""><h2>Choice</h2>
<h2>Choose your preferred route and know in advance how much time it will take.</h2>
</p></div></div><div id="x-section-4" data-x-element="section" data-x-params="{&quot;type&quot;:&quot;image&quot;,&quot;parallax&quot;:true}"><p id=""><h2><span>Beat the traffic</span></h2>
<h2><span>Save your family frustrating moments with up-to-the minute crowd-sourced traffic integrated with our sophisticated routing engine.</span></h2>
</p></div><div id="x-section-5" data-x-element="section" data-x-params="{&quot;type&quot;:&quot;image&quot;,&quot;parallax&quot;:true}"><p id=""><h2>Crowd-Sourced Traffic coverage</h2>
</p><hr><p id=""><h6><a href="https://www.magicearth.com/feature-availablity/">See list with available traffic countries &gt;</a></h6>
</p></div><div><p><span><img src="https://www.magicearth.com/wp-content/uploads/2019/11/AndroidiOS-right.png" width="1683" height="1663" alt="Image" loading="lazy"></span></p><div><hr><p><span><img src="https://www.magicearth.com/wp-content/uploads/revslider/slider6/ME_Icon.png" width="90" height="90" alt="Image" loading="lazy"></span></p><div><p><h2>Magic Earth</h2></p></div><div><p><h2>Available for free<br>on iOS and Android</h2></p></div><hr><div><p><a href="https://itunes.apple.com/us/app/magic-earth-gps-navigation/id1007331679?mt=8" rel="nofollow" target="_blank"><img src="https://www.magicearth.com/wp-content/uploads/2017/11/apple-app-store-badge141.png" width="211" height="70.5" alt="Download on App Store button" loading="lazy"></a></p><p><a href="https://play.google.com/store/apps/details?id=com.generalmagic.magicearth&amp;hl=en" rel="nofollow" target="_blank"><img src="https://www.magicearth.com/wp-content/uploads/2017/11/google-play-badge141.png" width="236.5" height="70.5" alt="Download on Google Play button" loading="lazy"></a></p><p><a href="https://www.amazon.com/Magic-Earth-Navigation-and-Maps/dp/B077XTY4F9/" rel="nofollow" target="_blank"><img src="https://www.magicearth.com/wp-content/uploads/2017/12/amazon-appsstore-us-black-v2.png" width="397" height="135.5" alt="Download on Amazon Appstore button" loading="lazy"></a></p><p><a href="https://appgallery.huawei.com/#/app/C100134401" rel="nofollow" target="_blank"><img src="https://www.magicearth.com/wp-content/uploads/2020/09/AppGallery_DownlaodBadge_ENG1.png" width="285" height="85" alt="Download on Huawei AppGallery button" loading="lazy"></a></p></div></div></div></div>

      </article>

    
  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[TSMC, Bosch, Infineon, and NXP to build fab in Germany (615 pts)]]></title>
            <link>https://pr.tsmc.com/english/news/3049</link>
            <guid>37047053</guid>
            <pubDate>Tue, 08 Aug 2023 10:48:20 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://pr.tsmc.com/english/news/3049">https://pr.tsmc.com/english/news/3049</a>, See on <a href="https://news.ycombinator.com/item?id=37047053">Hacker News</a></p>
Couldn't get https://pr.tsmc.com/english/news/3049: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[Mexico seeks to solidify rank as top U.S. trade partner, push further past China (104 pts)]]></title>
            <link>https://www.dallasfed.org/research/economics/2023/0711</link>
            <guid>37046128</guid>
            <pubDate>Tue, 08 Aug 2023 08:35:31 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.dallasfed.org/research/economics/2023/0711">https://www.dallasfed.org/research/economics/2023/0711</a>, See on <a href="https://news.ycombinator.com/item?id=37046128">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>

                                                                    
                                                                
                                            <p>July 11, 2023</p>
                                                            
<p>Mexico became the top U.S. trading partner at the beginning of 2023, with total bilateral trade between the two countries totaling $263 billion during the first four months of this year.</p>
<p>Mexico's emergence followed fractious U.S. relations with China, which had moved past Canada to claim the top trading spot in 2014. The dynamic changed in 2018 when the U.S. imposed tariffs on China’s goods and with subsequent pandemic-era supply-chain disruptions that altered international trade and investment flows worldwide.</p>
<p>Mexico’s gains mirror its rise in manufacturing, a key component of goods moving between it and the U.S. During the first four months of 2023, total trade of manufactured goods between Mexico and the U.S. reached $234.2 billion.</p>
<p>Overall, Mexican imports to the U.S. totaled $157 billion; U.S. exports to Mexico reached $107 billion.</p>
<p>Mexico–U.S. trade during the first four months of 2023 represented 15.4 percent of all the goods exported and imported by the U.S.; the Canada–U.S. share followed at 15.2 percent and then the China–U.S. share at 12.0 percent (<em>Chart 1</em>).</p>
<p><img alt="Chart 1: Mexico becomes top U.S. trading partner at the start of 2023" src="https://www.dallasfed.org/research/economics/2023/~/media/Images/research/economics/2023/0711/dfe0711c1.png"></p>
<p><a href="https://www.dallasfed.org/research/economics/2023/~/media/Images/research/economics/2023/0711/dfe0711c1.png">Downloadable chart</a> | <a href="https://www.dallasfed.org/research/economics/2023/~/media/documents/research/economics/2023/0711data.xlsx">Chart data</a></p>
<h2>China gains follow World Trade Organization membership</h2>
<p>China’s share of U.S trade had steadily increased since it joined the <a href="https://www.wto.org/english/thewto_e/whatis_e/whatis_e.htm" target="_blanki">World Trade Organization</a> (WTO) in 2001. WTO member nations enjoy preferential tariffs when trading with one another and are protected from nontariff barriers such as quotas and currency restrictions—an incentive for foreign direct investment. They also participate in the development of new international trade rules.</p>
<p>Once in the WTO, China’s access to the world’s premier consumer markets, combined with its own economic prowess and ability to marshal resources for growth, quickly transformed the country into a leading manufacturing hub.</p>
<p>Within a decade of its admission, critics increasingly accused China of <a href="https://www.wsj.com/articles/how-china-swallowed-the-wto-1509551308" target="_blank">flooding the world with cheap exports </a>while limiting foreign access to its market. China’s trade growth coincided with <a href="https://www.aeaweb.org/articles?id=10.1257/aer.20131578" target="_blank">sharp declines in U.S. manufacturing employment</a>. Sectors and regions especially exposed to <a href="https://www.aeaweb.org/articles?id=10.1257/aer.103.6.2121" target="_blank">China’s trade</a> tended to experience higher unemployment, lower labor force participation and reduced wage growth.</p>
<h2>U.S. imposes tariffs of China’s exports</h2>
<p>U.S.–China trade began trending lower in 2018 after the Trump administration imposed new tariffs on imports from China, whose government responded with a similar action on imports from the U.S. China subsequently lost its position as top trading partner later that year.</p>
<p>Approximately $335 billion in trade (66.4 percent of China’s exports to the U.S.) remains <a href="https://www.piie.com/research/piie-charts/us-china-trade-war-tariffs-date-chart" target="_blank">subject to the tariffs</a>. The average U.S. tariff on Chinese imports is 19.3 percent, while China’s &nbsp;average tariff on U.S. imports is 21.2 percent, according to the WTO. This exceeded tariffs among WTO members (enjoying most-favored-nation status) of 9 percent.</p>
<p>There was a short-lived rebound in China’s trade share during the pandemic that subsequently gave way following supply-chain disruptions, many involving shipping and manufacturing originating in China. </p><p>
Mexico and Canada, which are highly interconnected to the U.S. economy, vied for the top spot. The three economies were formally tied together with the 1994 <a href="https://www.dallasfed.org/research/pubs/usmca">North American Free Trade Agreement</a> (NAFTA) and again in 2020 with the United States–Mexico–Canada Agreement that replaced NAFTA.</p>
<h2>Mexico positioned as a manufacturing base</h2>
<p>Mexico’s expanding manufacturing base has offered an alternative to producing in China. Sourcing or producing goods in a nearby country is sometimes referred to as “<a href="https://www.dallasfed.org/research/swe/2023/swe2303">nearshoring</a>.” While data on recent nearshoring is thin and evidence of it is largely anecdotal, increased protectionism and related industrial policy are consistent with less global trade, more regional trade, and nearshoring and reshoring (returning production to the home country).</p>
<p>More activity in Mexico would support increased bilateral manufacturing with the U.S. It would also bolster Mexico’s standing as the U.S.’ leading manufacturing trading partner, a ranking it achieved in 2022 (<em>Chart 2</em>).</p>
<p><img alt="Chart 2: Mexico surpasses China as main U.S. manufacturing trading partner" src="https://www.dallasfed.org/research/economics/2023/~/media/Images/research/economics/2023/0711/dfe0711c2.png"></p>
<p><a href="https://www.dallasfed.org/research/economics/2023/~/media/Images/research/economics/2023/0711/dfe0711c2.png">Downloadable chart</a> | <a href="https://www.dallasfed.org/research/economics/2023/~/media/documents/research/economics/2023/0711data.xlsx">Chart data</a></p>
<p>Bilateral manufacturing trade between Mexico and the U.S. represented 16.5 percent of all U.S. manufacturing trade; the Canada–U.S. share followed at 13.5 percent and then the China–U.S. share at 12.5 percent.</p>
<h2>Automotive industry plays key role</h2>
<p>The automotive industry is an especially active example of the cross-border manufacturing relationship. A U.S. plant typically produces an intermediate good that is then exported to Mexico where it becomes part of the assembly process before a final good is then imported back into the U.S.</p>
<p>The supply trade linkages are supported by the presence in Mexico of foreign-owned, labor-intensive assembly plants for export—the so-called “<a href="https://www.dallasfed.org/research/swe/2022/swe2203/swe2203b">maquiladoras</a>” Over the past 20 years, transportation has accounted for about 24.5 percent of total bilateral manufacturing trade, followed by computer and electronic equipment, 22.4 percent; electrical equipment, appliances and components, 8.5 percent; and machinery (excluding electrical), 7.7 percent.</p>
<p>While Mexico benefits from increased trade with the U.S., the impact on U.S. producers and consumers has been mixed. To the extent that frictions with China account for Mexico’s ascension in the trade rankings, the higher profile comes at a cost to U.S. firms and consumers through higher input and purchase prices.</p>
<p>While the principal focus of trade policy was once free trade, greater efficiency and lower prices, that may no longer be the case. Today’s global economic relationships encompass a myriad of concerns, among them national security, climate policy and supply-chain resiliency.</p>
                    
<!-- Google Tag Manager (noscript) -->
<!-- <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WDCF7XD"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>-->
<!-- End Google Tag Manager (noscript) -->

                    



                        <div>
                            <h5>About the Author</h5>
<p><img src="https://www.dallasfed.org/-/media/Images/People/dallasfed/Torres_luis.jpg"></p>
    <p><a href="https://www.dallasfed.org/research/economists/torres.aspx">Luis Torres</a> is a senior business economist in the San Antonio Branch of the Federal Reserve Bank of Dallas.</p>


<p>The views expressed are those of the author and should not be attributed to the Federal Reserve Bank of Dallas or the Federal Reserve System.</p>

                        </div>

                </div></div>]]></description>
        </item>
    </channel>
</rss>