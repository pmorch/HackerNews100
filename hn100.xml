<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Sat, 11 Jan 2025 07:30:03 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Portals and Quake (108 pts)]]></title>
            <link>https://30fps.net/pages/pvs-portals-and-quake/</link>
            <guid>42661185</guid>
            <pubDate>Fri, 10 Jan 2025 22:48:13 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://30fps.net/pages/pvs-portals-and-quake/">https://30fps.net/pages/pvs-portals-and-quake/</a>, See on <a href="https://news.ycombinator.com/item?id=42661185">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="text">

<blockquote>
<p>This is the first installment in the “Demystifying the PVS” series.</p>
<ol type="1">
<li><strong>Portals and Quake</strong></li>
<li><a href="https://30fps.net/pages/pvs-coarse-visibility/">Coarse base visibility</a></li>
<li><a href="https://30fps.net/pages/pvs-fine-visibility/">Fine visibility via clipping</a></li>
<li>Portal flow brings it all together (to be published)</li>
</ol>
</blockquote>
<figure>
<img src="https://30fps.net/pages/pvs-portals-and-quake/e1m1_pvs.jpg" alt="Precomputed visibility in Quake’s first level. The camera location is shown in red.">

</figure>
<p><em>Ever wanted to know how exactly did Quake’s precomputed visibility work?
I did, so I wrote <a href="https://github.com/pekkavaa/vis.py">vis.py</a>, a reimplementation of their algorithm in Python.
This guide has all the information you need to understand <strong>vis</strong>, the tool used by Quake, Half-Life and Source Engine games.</em></p>
<p>During the development of Quake, <em>overdraw</em> became a concern.
It means the same pixel getting written many times during the rendering of a frame.
Only the last color stays visible and the earlier writes go to waste.
This is bad if your game is software rendered and already pushing the mid 90’s PCs to their limits.</p>
<p>How to reduce overdraw?
Let’s begin with a very high-level overview of the solution landscape.</p>
<h2 id="portal-culling-helps-with-overdraw">Portal culling helps with overdraw</h2>
<p>In 3D games, it’s a good idea to reduce the number of drawn objects.
<!-- The earlier they can get culled, the better. -->
<em>Frustum culling</em> is one fundamental method for this, in which objects confirmed to be outside the virtual camera’s view are skipped during rendering.
This can be done for example with object bounding boxes or bounding spheres.</p>
<p>Frustum culling still leaves some performance on the table.
Many objects may still be within the field of view of the camera even if they don’t contribute any pixels to the final image. This is not a performance catastrophe if everything is rendered from front to back.
GPU’s early-z testing will help here.
Still, in large worlds it would be faster to never submit these objects for rendering in the first place.</p>
<p><em>Occlusion culling</em> is a process where you discard objects that you deem to lie behind other objects in the scene. Its purpose is to discard as many <em>occluded</em> objects as possible. It’s not strictly needed, since you’ll get the correct image thanks to the z-buffer anyway. There are a few ways to do this such as the hierarchical z-buffer, occlusion queries, portal culling, and potentially visible sets (PVS). In this article I talk about the last two: portals and the PVS.</p>
<p>In portal culling, the world is divided into spaces where the virtual camera can move around and the openings between them. The spaces are called <em>cells</em>, <em>viewcells</em>, <em>zones</em>, <em>clusters</em> or <em>sectors</em>, and the openings <em>portals</em>. This is a useful split especially in architectural models with cleanly separated rooms connected by doorways or windows.
It also works for mostly-indoor video game levels :)</p>
<figure>
<img src="https://30fps.net/pages/pvs-portals-and-quake/portals_topdown_crop.png" alt="The floorplan of our example level with three hand-placed portals shown. Cells have the color of their entry portal. In this case also the cell where the camera lies is visible.">

</figure>
<p>Portal rendering starts from the camera’s cell.
The game renders everything inside that cell, and then recursively looks into portals leading away from that first cell to find out what else to draw.
It renders all objects in every cell and then examines the cell’s portals.
If a portal doesn’t line up with another one on screen, it won’t be visited.
Each successive portal shrinks the visible screen area smaller and smaller until the whole portal is clipped away.</p>
<p>A straightforward way to test portals for visibility is to intersect their screenspace bounding boxes.
Those are shown in white in the picture below.
If two bounding boxes overlap, we can see through the respective portals.
More accurate tests can be performed with 3D clipping or per-pixel operations.</p>
<figure>
<img src="https://30fps.net/pages/pvs-portals-and-quake/portals_sprite.jpg" alt="This is how three portals could look in game. Portal openings are shown as colored polygons and their screenspace bounding boxes are in white. Objects have dashed bounding boxes. The star object is culled because it doesn’t overlap with the red portal.">

</figure>
<p>The Quake engine uses portals but only during map preparation time.
At runtime, the portals are nowhere to be seen.
This technique is a variant of Seth Teller’s PVS method presented <a href="https://www2.eecs.berkeley.edu/Pubs/TechRpts/1992/CSD-92-708.pdf">in his 1992 dissertation</a> that only worked with axis-aligned walls.</p>
<h2 id="portals-of-a-quake-map-disappear">Portals of a Quake map disappear</h2>
<p>Often portals are placed by hand by a level designer. Quake’s <strong>bsp</strong> map compilation tool places portals automatically, which is nice, but unfortunately it creates a lot of them!</p>
<figure>
<img src="https://30fps.net/pages/pvs-portals-and-quake/e1m1_start_withportals.jpg" alt="Quake’s first map viewed in the TrenchBroom map editor with portals shown in red. As you can see, not just doorways act as portals.">

</figure>
<p>You see, in Quake the cells are very small.
But no portals are tested at runtime.
Instead, each cell gets a precomputed list of other cells that can been seen from it.
This is the <em>Potentially Visible Set</em> (PVS) for that cell.</p>
<p>In Quake, a cell is a small convex volume of space, so a single room will usually get split into multiple cells.
These cells correspond to leaves of a binary space partitioning (BSP) tree.
The BSP tree was used to divide the map into cells and portals.
For us, the exact method is irrelevant though.
But BSP does make it easy to find the cell the camera is in at runtime.</p>
<p>Since we have now entered the Quake territory in our discussion, I’ll start calling a cell a <em>leaf</em>.
Leaf is the term used in all source code, level editors, error messages, and other resources on Quake.
The meaning stays exactly the same though, it’s just a convex cell connected to other cells via portals.
This is how leaves look in our example level:</p>
<figure>
<img src="https://30fps.net/pages/pvs-portals-and-quake/colored_leaves.png" alt="The example map divided to convex leaves. Leaf colors are random.">

</figure>
<p>The portals appear in between leaves, as expected:</p>
<figure>
<img src="https://30fps.net/pages/pvs-portals-and-quake/example_top_notextures_small.png" alt="Portals placed automatically by the bsp tool. This map is pretty much 2D but everything discussed works just fine in 3D too. Leaf indices are shown in white.">

</figure>
<p>Nothing would’ve stopped them from grouping multiple leaves to form larger cells with fewer portals in between.
In fact, this is exactly what they did for Quake 2 with its “clusters” of leaves.</p>
<p>With larger clusters of leaves, you do get more overdraw.
Also, a cluster made of convex leaves may not be convex itself any more.
But even in that case you can still act as if it still is, and assume the portals inside can be seen from anywhere in the cluster.
It’s less accurate but works.</p>
<!-- More overdraw 
I don't know how they clusters looked for Quake 2.
assume other portals to be visible and just render a bit too much in the worst case.

and may not be convex (I don't know if that was the case for Quake 2).
In general, the cells in a portal system don't have to be convex.
I mean it's neat, since you can be sure that all portals of a cell are visible to each other (unless coplanar). -->
<h2 id="high-level-overview-of-vis">High-level overview of vis</h2>
<p>The Quake map tool <strong>vis</strong> takes in portals generated by another tool, <strong>bsp</strong>, precomputes a leaf-to-leaf visibility matrix, and writes the matrix back to the compiled map file.
This article series describes how <strong>vis</strong> functions.</p>
<p>We know that leaves can see each other only through portals.
So we don’t even need to know how exactly the leaves look like, only how they are connected together.</p>
<p>At its most basic level, <strong>vis</strong> does two recursive depth-first traversals, followed by a quick resolve pass before writing the visibility results back to a compiled map file. Three steps:</p>
<ol type="1">
<li><strong>Base visibility.</strong> Estimate a coarse leaf-to-portal visibility.</li>
<li><strong>Full visibility.</strong> Refine the coarse results via portal clipping.</li>
<li><strong>Resolve.</strong> Combine the refined portal-to-leaf results to the final leaf-to-leaf visibility.</li>
</ol>
<p>For a quick visual overview, I can recommend Matthew Earl’s <a href="https://www.youtube.com/watch?v=IfCRHSIg6zo">great video on Quake’s PVS</a>.</p>
<h3 id="portals-have-a-direction">Portals have a direction</h3>
<p>In a portal system, the cells and portals are structured as a cell-and-portal graph.
Quake’s map tooling follows this pattern and connects leaves with portals, even though this structure isn’t present at runtime.
Leafs are connected by portals:</p>
<figure>
<img src="https://30fps.net/pages/pvs-portals-and-quake/undirected_graph.png" alt="Leaves (nodes) connected by portals (edges) in a cell-and-portal graph.">

</figure>
<p>Each portal is a 3D polygon.
They are written by <strong>bsp</strong> to a plain text file with a version code, the number of leaves and portals, followed by one portal per line. Like this:</p>
<pre><code>PRT1
11
12
4 0 1 (880 -224 -8 ) (880 -272 -8 ) (880 -272 72 ) (880 -224 72 ) 
4 1 2 (832 -224 -8 ) (832 -272 -8 ) (832 -272 72 ) (832 -224 72 ) 
4 2 4 (768 -272 -8 ) (768 -320 -8 ) (768 -320 72 ) (768 -272 72 ) 
4 2 3 (768 -112 72 ) (768 -112 -8 ) (768 -160 -8 ) (768 -160 72 ) 
4 3 5 (720 -112 72 ) (720 -112 -8 ) (720 -160 -8 ) (720 -160 72 ) 
4 4 5 (720 -272 -8 ) (720 -320 -8 ) (720 -320 72 ) (720 -272 72 ) 
4 5 6 (640 -224 -8 ) (640 -288 -8 ) (640 -288 72 ) (640 -224 72 ) 
4 6 7 (592 -224 -8 ) (592 -288 -8 ) (592 -288 72 ) (592 -224 72 ) 
4 7 10 (384 -304 -8 ) (384 -368 -8 ) (384 -368 72 ) (384 -304 72 ) 
4 7 8 (384 -112 -8 ) (384 -176 -8 ) (384 -176 72 ) (384 -112 72 ) 
4 8 9 (240 -176 -8 ) (336 -176 -8 ) (336 -176 72 ) (240 -176 72 ) 
4 9 10 (240 -304 -8 ) (336 -304 -8 ) (336 -304 72 ) (240 -304 72 ) </code></pre>
<p>Each portal is a loop of 3D points:</p>
<pre><code>┌ the number of points
│ 
▽      x    y    z   x     y    z    x    y   z     x    y   z
4 0 1 (880 -224 -8 ) (880 -272 -8 ) (880 -272 72 ) (880 -224 72 ) 
  △ △ 
  └─┴─ the two leaves the portal is in between</code></pre>
<p>Since portals are interfaces between convex leaves, the polygons are also convex.
In 3D, a portal looks like this:</p>
<figure>
<img src="https://30fps.net/pages/pvs-portals-and-quake/portal_onedirection.jpg" alt="Each portal is stored as a convex polygon.">

</figure>
<p>Conceptually, each portal is a two way opening. You can see through it in both directions.
However, it’s convenient to make the portals directed.
This way we can keep track on what’s visible in different directions.
We give each portal a normal vector, the direction the portal can be seen through.</p>
<p>Now a single input portal becomes two directed portals:</p>
<figure>
<img src="https://30fps.net/pages/pvs-portals-and-quake/portal_two_directions.jpg" alt="Each input portal is split into a so called forward (red) and backward (yellow) portal before processing. There’s a small gap here for demonstration purposes but actually they overlap. The arrows show the directions the portals can be seen through.">

</figure>
<p>Therefore the graph will now have directed edges instead:</p>
<figure>
<img src="https://30fps.net/pages/pvs-portals-and-quake/directed_graph_with_colors.png" alt="Each portal is represented by two edges in the graph. The earlier forward and backwards portal edges are highlighted with red and gold, respectively.">

</figure>
<h3 id="the-graph-in-code">The graph in code</h3>
<p>Now is the time to present the main data structures of <strong>vis.py</strong>, the <a href="https://github.com/pekkavaa/vis.py/blob/main/portaltypes.py"><strong>Portal</strong> and <strong>Leaf</strong> classes</a>:</p>
<div id="cb3"><pre><code><span id="cb3-1"><span>class</span> Portal:</span>
<span id="cb3-2">  winding: <span>list</span>[np.ndarray]   <span># polygon's 3D points</span></span>
<span id="cb3-3">  leaf: <span>int</span>                   <span># the leaf this portal leads to</span></span>
<span id="cb3-4">  plane: Plane                <span># plane normal points to destination leaf</span></span>
<span id="cb3-5">  ...                         <span># (other class attributes omitted)</span></span>
<span id="cb3-6"></span>
<span id="cb3-7"><span>class</span> Leaf:</span>
<span id="cb3-8">  portals: <span>list</span>[<span>int</span>]    <span># indices of portals leading away from this leaf</span></span></code></pre></div>
<p>Note that a leaf stores only indices of portals <em>leading away</em> from that leaf.
The graph is stored in two global arrays called <strong>portals</strong> and <strong>leaves</strong> with objects of the respective types.
Since the graph is accessed both via indices and direct object references, I came up with the following naming convention:</p>
<ul>
<li><code>pi</code> is the index of a portal, <code>Pi</code> is the actual object <code>Pi = portals[pi]</code>, and</li>
<li><code>li</code> is the index of a leaf, <code>Li</code> is the actual object <code>Li = leaves[li]</code>.</li>
</ul>
<p>Our goal is to compute which nodes can reach each other in this graph while honoring the 3D visibility relations between portals associated with each edge.
But what on earth are those “visibility relations”?</p>
<p><em>In <a href="https://30fps.net/pages/pvs-coarse-visibility/">the next part</a> we’ll use the graph for some quick checks.</em></p>
<hr>
<p><em>I’m also thinking of writing a book. <a href="https://30fps.net/book">Sign up here</a> if you’re interested.</em></p>



</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Phi-4 Bug Fixes (109 pts)]]></title>
            <link>https://unsloth.ai/blog/phi4</link>
            <guid>42660335</guid>
            <pubDate>Fri, 10 Jan 2025 21:17:21 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://unsloth.ai/blog/phi4">https://unsloth.ai/blog/phi4</a>, See on <a href="https://news.ycombinator.com/item?id=42660335">Hacker News</a></p>
Couldn't get https://unsloth.ai/blog/phi4: Error: timeout of 10000ms exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[Cuttle – a MTG like game using a standard 52 card deck (253 pts)]]></title>
            <link>https://www.pagat.com/combat/cuttle.html</link>
            <guid>42658614</guid>
            <pubDate>Fri, 10 Jan 2025 18:43:26 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.pagat.com/combat/cuttle.html">https://www.pagat.com/combat/cuttle.html</a>, See on <a href="https://news.ycombinator.com/item?id=42658614">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><!-- InstanceBeginEditable name="MainContent" -->

<!-- start panel --><div><p><img src="https://www.pagat.com/images/gametitle/cuttle.jpg"></p></div>

<!-- end panel -->
<ul>
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#players">Players and Cards</a></li>
  <li><a href="#goal">Goal</a></li>
  <li><a href="#setup">Set-up</a></li>
  <li><a href="#play">Play</a>: <a href="#types">Card types</a> - <a href="#oneoff">One-off Effects</a> - <a href="#permanent">Permanent Effects</a></li>
  <li><a href="#variants">Variants</a></li>
  <li><a href="#other">Other Cuttle Pages</a></li>
  <li><a href="#online">Cuttle Online</a></li>
  <li><a href="#faq">Richard Sipie's FAQ</a></li>
</ul>
<h2 id="introduction">Introduction</h2>
<p>The exact origin of this unusual two-player game is unknown. Dating from the 1970's at the latest, it is the earliest example I have found of a <a href="https://www.pagat.com/combat/">combat card game</a>. The aim is to be the first build a layout worth at least 21 points. Cards can be used for their point value, or to attack your opponent's layout by destroying or capturing cards.</p>
<p>For some years a <a href="#faq">FAQ by Richard Sipie</a>, first published in 2000, was the only generally available documentation of the game. I am grateful to Michael Pearson for his help in preparing the new description on this page and to Greg Pallis, an enthusiastic player and winner of the Cuttle tournament in the 2009 Mind Sports Olympiad, for answering my various detailed questions about the rules.</p>
<h2 id="players">Players and Cards</h2>
<p>Cuttle is played by two players using a standard 52-card  deck without jokers.</p>
<h2 id="goal">Goal</h2>
<p>The goal is to be the first to accumulate 21 or more  points worth of point cards on your side of the table. The first player to achieve this wins  the game.</p>
<h2 id="setup">Set-up</h2>
<p>Each player has a hand of cards, normally held concealed from the opponent. The dealer deals six cards to himself and five to his  opponent. These are the players' initial hands. The remaining deck is placed face-down and becomes the  <strong>draw pile</strong>. The dealer's opponent then takes the first turn.</p>
<p>During the game,  players play cards from their hands, placing them face up on the table in front of them. This way each player forms a layout of cards on their own side of the table. </p>
<p>Various actions cause cards to be discarded. Discarded cards are stacked face-up next to the draw pile so that only the top card is visible. This pile of discards is called the <strong>scrap pile</strong>. </p>
<h2 id="play">Play</h2>
<p>On your turn you must perform exactly <strong>one</strong> of the following  actions:</p>
<ul>
  <li>draw  a card from the draw pile and add it to your hand</li>
  <li>play  a point card from your hand</li>
  <li>play  a one-off effect card from your hand</li>
  <li>play  a permanent effect card from your hand</li>
</ul>
<p>The turn then passes to your opponent.</p>
<p>If the draw pile runs out, then instead of drawing a card, a player is allowed to pass, i.e. do nothing at all on that turn. If there are three consecutive passes the game ends and neither player wins.</p>
<h3 id="types">Card types and how to use them</h3>
<p>In Cuttle there  are  three  categories of card: point  cards, one-off  effect cards and permanent  effect cards.</p>
<dl>
  <dt>1. Point cards<strong> </strong></dt>
  <dd><strong>Ace, 2, 3, 4, 5, 6, 7, 8, 9, 10</strong> can be played as point cards.</dd>
  <dd>Aces are worth 1 point. Number cards are worth their face  value.</dd>
  <dd>There are two ways to play a point card:</dd>
<ol>
  <li type="a">A point card can be played face-up on your side of the table. These cards add up to form your total points. The first player to accumulate 21 total  points wins the game.</li>
  <li type="a">Alternatively, a point card can  be played as a ‘<strong>scuttle</strong>’ allowing  you to remove an opponent’s point card from the table. The point card you play must be higher in value than the card you wish to scuttle, or equal in value with a higher suit. The rank of the suits is clubs (lowest) &lt; diamonds &lt; hearts &lt; spades (highest). So for example the <strong><img src="https://www.pagat.com/images/internat/diamond.gif" alt="diamond">7</strong> can scuttle the <strong><img src="https://www.pagat.com/images/internat/club.gif" alt="club">7</strong> or the <strong><img src="https://www.pagat.com/images/internat/heart.gif" alt="heart">6</strong> but the <strong><img src="https://www.pagat.com/images/internat/diamond.gif" alt="diamond">7</strong> cannot scuttle the <strong><img src="https://www.pagat.com/images/internat/heart.gif" alt="heart">7</strong>. To scuttle an opponent's point card, place your card on top of it and discard both cards to the scrap pile.</li>
</ol>
  <dt>2. One-off effect cards</dt>
  <dd><strong>Ace, 2, 3, 4, 5, 6, 7, 9</strong> can be played as one-off effect cards.</dd>
  <dd>One-off effect cards are never placed on the table but  are discarded into the scrap pile immediately after use.   See the <a href="#oneoff">list below</a> for a description of each effect.</dd>
  <dt>3. Permanent effect cards</dt>
  <dd><strong>8, Jack, Queen, King</strong> can be played as permanent effect cards</dd>
  <dd>Permanent effect cards are played face-up on the table  like point cards, though note that the 8 is turned sideways. A permanent effect  lasts for as long as the card is on the table. See the <a href="#permanent">list below</a> for a  description of each effect.</dd>
</dl>
<h3 id="oneoff">One-off Effects</h3>
<dl>
  <dt>Ace</dt>
  <dd>  Scrap all point cards on the table - both yours and your opponents'.</dd>
  <dt>2</dt>
  <dd>There are two possible ways to use a two as a one-off effect card.</dd>
<ol>
  <li type="a">  Play a two in your turn to scrap any permanent effect card on the  table.</li>
  <li type="a">Play a two<em> </em>to block a one-off effect card played by your opponent. This is the only case in which you can play a card  during your opponent's turn. Your two and your opponent's one-off effect card are both scrapped. Note that a two can be used to block a two: if you play a one-off effect and your opponent tries to block it with a two, you can use your own two to block your opponent's two. Both twos go to the scrap pile and your original one-off effect card takes effect (unless of course your opponent then plays <em>another</em> two to block it again).</li>
</ol>
  <dt>3<u> </u></dt>
  <dd>  Rummage through the scrap pile and add  a card of your choice to your hand. Since the 3 is not scrapped until after its effect has been carried out, you cannot use this effect to take back the 3 you just played.</dd>
  <dt>4<u> </u></dt>
  <dd>  Your opponent must discard two cards  of his choice from his hand, showing them to you before placing them on the scrap pile.</dd>
  <dt>5 </dt>
  <dd>  Draw the top two cards from the draw pile and add them to your hand.</dd>
  <dt>6 </dt>
  <dd>  Scrap all permanent effect cards on  the table - both yours and your opponents'.</dd>
  <dt>7 </dt>
  <dd>  Draw a card and play it immediately  however you wish. <br>
    If you draw a card that cannot be  played immediately it is discarded, but if it can be played you must play it, even if it is to your disadvantage. For example a jack might have to be used to give a point card to your opponent. </dd>
  <dt>9</dt>
  <dd>  Return any one permanent effect card on  the table to its controller’s hand.<br>
    Note that if you use this to return a jack, the point card that it was stacked on changes sides.</dd>
</dl>
<h3 id="permanent">Permanent Effects</h3>
<dl>
  <dt>8 </dt>
  <dd>  While you have an 8 on the table as a permanent effect card, your opponent must play with the cards  in his hand exposed. The 8 is placed sideways on the table,  distinguishing it from point cards and making it look like a pair of glasses.</dd>
  <dt>Jack </dt>
  <dd>  Transfer control of a  point  card. The jack is placed on top of a   point card and both cards are moved across the table, changing the owner. Multiple jacks can be stacked on top of a single point card, and the ownership changes each time a jack is added or removed.<br>
    Naturally you would normally play a jack on a point card controlled by your opponent, moving it to your side of the table so that it becomes yours. However, if you were to draw a jack as a result of the one-off effect of a 7 when your opponent had no point cards, you would be forced to play  it on  one of your own point cards and pass it to your opponent.<br>
    If a point card is scrapped, either  by an effect or by scuttling, any jacks upon it are also scrapped.</dd>
  <dt>Queen </dt>
  <dd>  All your point cards and permanent  effect cards on the table other than queens  are defended from effects that target single cards. Queens protect against 2, 9 and jack effects, but not against an ace or a 6, since these  target multiple cards. Queens do not protect against scuttling (scuttling is not an effect).<br>
    Since queens do not defend themselves or other queens, you can use a 2 to remove an opponent's queen.<br>
    If you play  a 2, your queen on the  table blocks your opponent from countering it with his own 2.</dd>
  <dt>King </dt>
  <dd>  The number of points you require to win the game is  reduced according to the number of kings on your side of the table as follows:</dd>
  
<ul>
  <li>No kings: 21 or more points;</li>
  <li>One king: 14 or more points;</li>
  <li>Two kings: 10 or more points;</li>
  <li>Three kings: 7 or more points;</li>
  <li>All four kings: 5 or more points.</li>
</ul>
</dl>
<h2 id="variants">Variants</h2>
<p>The following improvements to the game have been suggested.</p>
<h3>Fours</h3>
<p>Greg Pallis recommends that when a four is played as a one-off effect, the two cards scrapped from the opponent's hand should be chosen at random. The opponent's hand is shuffled face down, two cards are drawn from it, exposed, and discarded to the scrap pile. </p>
<p>This rule change encourages aggressive play, makes the four stronger, and somewhat weakens the power of twos, since if you keep them in your hand they are vulnerable to a four attack.</p>
<h3>Eights</h3>
<p>Daniel Goers suggests that an 8 can be played as a one-off effect card to scrap a 8 that is on the table as a permanent effect card. Both 8's are discarded to the scrap pile.</p>
<h3>Nines</h3>
<p>In the standard rules, nines are almost useless as one-off effect cards. You might use one to remove a jack from a point card controlled by your opponent if that immediately won the game. In any other case, your opponent can immediately undo the effect of the nine by simply putting the permanent effect card back on the table.</p>
<p>I suggest the following amended rule. When you play a nine as a one-off effect, you return one permanent card of your choice to your opponent's hand, and <strong>your opponent must wait at least one turn before  playing that card again</strong>.</p>
<p>Reddit user <em>gaylordqueen69</em> has suggested a more powerful use for the nine. When you play a nine as a one-off effect you take one permanent card of your choice from the table and place it face down on top of the draw pile. This card will therefore be acquired by the next player who draws a card.</p>
<h3>Tens</h3>
<p>Daniel Goers suggests that a 10 can be used as a one-off effect card to block a scuttle. The 10 and the card played as a scuttle are discarded to the scrap pile and the card that your opponment was trying to scuttle remains in place.</p>
<h3>Queens</h3>
<p>Reddit user <em>beamer159</em> has suggested a variant in which although a queen does not protect itself, it does protect other queens. Therefore if you have two queens they protect each other as well as your other permanent effect cards and can only be removed by a six.</p>
<h3>Joker</h3>
<p>Daniel Goers suggests that one Joker can be added to the deck. It is played as a one-off effect and causes the players to exchange  hands with each other.</p>
<h2 id="other">Other Cuttle Pages</h2>
<p>Jared Miller has published a revised and clarified set of <a href="https://github.com/shmup/card-game-rules/blob/master/cuttle.md">Cuttle rules</a> on github.</p>
<p>The  <a href="https://www.reddit.com/r/boardgames/comments/2xnnx5/2player_card_game_cuttle/">Cuttle page</a> by <em>gaylordqueen69</em> on Reddit includes an amusing rewrite of the FAQ, some suggested rule changes, and carries comments including a completely revised schedule of one-off effects suggested by <em>beamer159</em>.</p>
<h2 id="online">Cuttle Online</h2>
<p>You can play Cuttle online against human opponents at Ryan Emberling's <a href="https://www.cuttle.cards/">Cuttle site</a>.</p>
<h2 id="faq">Richard Sipie's Cuttle FAQ</h2>

<p>For reference, I have reproduced below  copy of Richard Sipie's original Cuttle FAQ, published in 2000, which used to be at geocities.com. <a href="https://web.archive.org/web/20080320105149/http://www.geocities.com/richardsipie/cuttle.htm" rel="nofollow noopener" target="_blank">An archive copy of the original page</a> is also available. I have tried and failed to contact Richard Sipie to ask his permission to publish this. If anyone has any further news of him or his plans for this FAQ, please <a href="mailto:john@pagat.com?subject=cuttle">let me know</a>.</p>
<hr>

<h3>1. What is Cuttle?</h3>

<p>Cuttle is a game for 2 players, played with a simple 52-card pack.</p>

<p>The objective of the game is to have 21 points worth of "Point Cards" on the table. A game takes approximately five minutes, although anything between twenty minutes and twenty seconds is possible!</p>

<h3>2. How do I play it?</h3>

<p>Play begins with the dealer, who deals six cards to himself and five to his opponent. This opponent then takes the first turn.</p>

<p>On a turn, a player may play a card (see #3), or draw one. If a player has 21 or more points worth of "point cards" on the table at the end of his turn, that player is victorious - otherwise the turn passes to his opponent.</p>

<h3b>
<h3>3. What do the cards do?
  
</h3>
<p>Firstly: ANY numbered card (A-10) may be played as a "point card". In this case, the player puts the card face-up on the table in front of him, and it is worth as many points as the are spots on its face (1 for an ace, etc).</p> 

<p>Secondly: ANY numbered card (A-10) may be played, instead, as a "scuttle". In this case, it is played ON TOP of a point card which it exceeds in value*. Both cards are then moved directly to the scrap pile (face up, as is everything there)**.</p>

<p>*: Value is not just numerical, but alphabetical: clubs - diamonds - hearts - spades. The eight of clubs will scuttle the seven of spades, but not the eight of hearts.</p>

<p>**: Cards in the scrap pile have no controller, and do not effect the game in any way.</p>

<p>Finally:</p>

<p>The numbered cards may all be played as a one-off, except for the eights and tens. In this case, they are placed directly into the scrap pile, with the following effects.</p>

<p><b>ACES:</b> Put all point cards on the table into the scrap pile.</p>

<p><b>TWOS:</b> Place any card on the table into the scrap pile, except a point card. (In practice, Kings, Queens, Jacks and the "glasses" eight) <br>
 &nbsp; &nbsp; &nbsp; <b>OR<br></b>Place any one-off just played into the scrap pile. This occurs before the effect of that card is accomplished, and, uniquely, can be played <i>during the opponents turn</i>, as well as your own.</p>

<p><b>THREES:</b> Rummage through the scrap pile, taking a card of your choice into your hand.</p>

<p><b>FOURS:</b> Opponent must discard two cards of his choice from his hand into the scrap pile.</p>

<p><b>FIVES:</b> You may draw two cards.</p>

<p><b>SIXES:</b> All cards on the table except for point cards are moved into the scrap pile.</p>

<p><b>SEVENS:</b> Draw a card. You can, and must, play this card immediately - whether as a point card, a scuttle, a one-off, whatever. If you are unable to play the card, it is discarded. (This may only happen in the event of drawing a jack).</p>

<p><b>NINES:</b> Return any permanent card to its controller's hand.</p>

<p>--</p>

<p><b>ROYALTY </b>can only be played on your turn, and count as no points.</p>

<p><b>JACKS:</b> Are placed on top of a point card already on the table. Kept there, the card is moved across the table and is now owned by the opponent of its original owner (who is generally your opponent!)</p>

<p><b>QUEENS:</b> Are played on the table, like a point card. With a queen in play, none of your other cards may be the target of opposing cards that target a single card, such as jacks and twos. However, this offers no protection against those like aces that target more widely, even if there is only one card the table that will be effected. Nor do Queens offer any protection against scuttle attacks.</p>

<p><b>KINGS:</b> Are played like queens. With a king in play, a player can win with just 14 points worth of point cards on the table. With two kings he needs just ten, with three, seven, and with all four just five points! (Mathematically, a player needs 21/(1.5^k) points to win, where k is the number of kings controlled by that player).</p>

<p>--</p>

<p><b>THE "GLASSES" EIGHT</b></p>
<p>The final card! As well as a point card, an eight too has a secondary use, although it is not a one-off. Instead, the card may be placed rather like a king or queen, but at right angles to the opponent (and his other cards). This differentiates it from point card eights, and simultaneously makes it look like a pair of glasses! The effect is that the opponent must play with his hand exposed until he finds a way to transfer the eight to the scrap pile.</p>

<p>And we're done! </p>

<h3>4. What happens if the pack is exhausted?</h3>

<p>Although I am no authority, I can find no other guide to the question online. The rule I have played for twenty-five years is that it is unfair (and dull!) to end the game while a win may still be forced. Therefore, I play that "taking a card" in this situation becomes an effective pass, and that if three of these occur in a row, it is only then that the game is declared a draw.</p>

<h3>5. Can I play a two to "counter" a point card? How about a scuttle?</h3>

<p>The single most common question I am asked :-). Players who are used to Magic: The Gathering are often surprised to find out that this is not allowed - a two is not a universal counterspell. It may only "counter"
a one-off, nothing else.</p> 

<h3>6. Do Queens protect against "countering" twos?</h3>

<p>The second most common question I am asked :-). The answer is yes: queens prevent the targeting of any single card controlled by that player, however briefly.</p>

<h3>7. May a two be used to cancel an opponent's two?</h3>

<p>Absolutely! A last-in, first-out order seems the only sensible one to employ - i.e. in this situation the last-played card (the second two) moves the first to the scrap pile. From there it cannot effect the game, so the original card is played unscathed.</p>

<h3>8. May I use a three to rummage for the three I just played?</h3>

<p>I don't think so. Since cards in the scrap pile do not affect the game, I believe a card sits in a kind of suspension until its effect has been resolved. This also gives clarity to the protection of one-offs by queens.</p>

<h3>9. Suppose the only point card on the table is mine, and my one-off seven comes up as a Jack. What happens</h3>

<p>To me, the only logical answer is that the card switches sides, with the jack on top of it!</p>

<h3>10. This game is has similarities with Magic: The Gathering!</h3>

<p>It's been remarked on. It does however predate it considerably - I learnt the rules in 1975. A reverse genealogy would be fascinating - I would love to know if Richard Garfield has heard of the game.</p>

<h3>J. Who is the author?</h3>

<p>Richard Sipie has been playing games since 1951. He also enjoys walking, collecting (especially theatre paraphernalia) and flattery :-). He is happily married and lives in Bloomington, IL.</p> 

<p>R.Sipie, 2000 <br>
(do E-mail me!)<br>
  <i>[but the address given - richardsipie@yahoo.com - unfortunately no longer works - JM]</i></p>
  <!-- InstanceEndEditable -->
    <!-- end #mainContent --></h3b></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Meta's memo to employees rolling back DEI programs (846 pts)]]></title>
            <link>https://www.axios.com/2025/01/10/meta-dei-memo-employees-programs</link>
            <guid>42657901</guid>
            <pubDate>Fri, 10 Jan 2025 17:48:04 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.axios.com/2025/01/10/meta-dei-memo-employees-programs">https://www.axios.com/2025/01/10/meta-dei-memo-employees-programs</a>, See on <a href="https://news.ycombinator.com/item?id=42657901">Hacker News</a></p>
Couldn't get https://www.axios.com/2025/01/10/meta-dei-memo-employees-programs: Error: timeout of 10000ms exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[Starlink is now cheaper than leading internet provider in some African countries (229 pts)]]></title>
            <link>https://restofworld.org/2025/starlink-cheaper-internet-africa/</link>
            <guid>42657692</guid>
            <pubDate>Fri, 10 Jan 2025 17:24:32 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://restofworld.org/2025/starlink-cheaper-internet-africa/">https://restofworld.org/2025/starlink-cheaper-internet-africa/</a>, See on <a href="https://news.ycombinator.com/item?id=42657692">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
				<!-- Article Start -->
				
<p>Starlink, launched in 2019 by Elon Musk’s SpaceX, has become the leading satellite internet provider in the world. Now available in more than 100 countries, Starlink can also be a relatively affordable option for users trying to log on in countries with limited internet service providers. Across Africa, for example, Starlink is sometimes the cheapest way to get online.&nbsp;</p>



<p>A <em>Rest of World</em> analysis indicates that in at least five of the 16 African countries where the service is available, a monthly Starlink subscription is cheaper than the leading fixed internet service provider. That subscription cost does not include the upfront cost of Starlink hardware, which ranges in price and availability from $178 for a Starlink Mini in Kenya to $381 for a Standard Actuated kit in Nigeria.</p>



<p><em>Rest of World</em> determined the leading fixed internet service providers through reports published by each country’s communications authority, and obtained the cheapest prices from each company’s website. Prices have been converted to U.S. dollars to make comparisons.</p>



<p>Starlink does not have fixed rates; instead it intermittently raises and lowers its prices. On its website, it notes, “Starlink may adjust prices over time to reflect market conditions resulting in a decrease or increase of the monthly service plan cost.” SpaceX did not respond to <em>Rest of World</em>’s request for comment.&nbsp;</p>



<p>To conduct this analysis, <em>Rest of World</em> compared the price of Starlink’s residential service to the cheapest unlimited fixed internet plan offered by leading internet service providers on January 9, 2025.</p>



<figure></figure>



<p>Historically, internet connections around the globe have typically been enabled by ground-based internet service providers using fiber-optic cables and mobile base stations. But in many parts of the world, that infrastructure is sparse or nonexistent. “This is where satellite providers come in,” said Nitinder Mohan, a computer science professor at the Delft University of Technology in the Netherlands who has studied Starlink’s performance around the world.</p>



<p>“I can be in the middle of a forest and, if I have a direct view of the sky, I can get my internet connectivity,” he told <em>Rest of World</em>. “Regions which are previously underconnected — where there was no way of getting internet connectivity to them — now with these satellites, you can actually enable that.”&nbsp;</p>



<p>Satellite internet’s reach makes it an important tool for <a href="https://restofworld.org/2024/mobile-internet-users-growth-rate/">getting more people online</a> in areas that are internet-poor.&nbsp;</p>



<p><em>Rest of World </em>identified at least five countries in Africa where Starlink is cheaper than the average price of internet service: Kenya, Ghana, Zimbabwe, Mozambique, and Cape Verde. According to the latest <a href="https://www.itu.int/itu-d/reports/statistics/2024/11/10/ff24-internet-use/">figures</a> by the International Telecommunication Union, a U.N. agency focused on information and communication technologies, 38% of the population in Africa uses the internet, compared to 91% of Europe.&nbsp;</p>



<p>Starlink prices range widely, from $10 in Kenya to $50 in Eswatini. For most countries in Africa, the cheapest available Starlink plan costs between $28 and $34 per month. </p>



<p>Since launching in Kenya in July 2023, Starlink has disrupted the existing internet service provider industry. Starlink offers high connectivity speeds and wide availability in remote areas, along with dramatically lower prices. The company also introduced a rental option.&nbsp;</p>



<p>According to the <a href="https://www.ca.go.ke/sites/default/files/2024-10/Sector%20Statistics%20Report%20Q4%202023-2024.pdf">latest figures</a> published by the Communications Authority of Kenya, as of June 2024, just over 8,000 Kenyans subscribe to Starlink, making it the tenth most popular service provider in the country. While legacy telecom providers like Safaricom and Jamii maintain control of the market — with 546,000 and 360,000 subscribers, respectively — TechCabal, an Africa-focused tech publication, <a href="https://techcabal.com/2024/10/14/starlink-becomes-kenyas-tenth-largest-isp/">noted</a> that Kenya’s adoption of Starlink has been swift and continues to rise rapidly.</p>



<p>Safaricom and other legacy providers have responded by <a href="https://cioafrica.co/safaricom-woos-back-customers-with-cheaper-offer/">lowering prices</a> and <a href="https://techcabal.com/2024/09/23/safaricom-internet-speeds-upgraded/">increasing internet speeds</a>. Tim Hatt, head of research and consulting at GSMA Intelligence, the research wing of the Global Systems for Mobile Communications Association, told <em>Rest of World</em> internet service providers are also developing their own satellite networks. Safaricom’s parent company, Vodacom, for example, recently announced a <a href="https://www.investors.com/news/ast-spacemobile-asts-stock-vodafone-deal-space-satellite-cell-service/">partnership</a> with satellite mobile network AST SpaceMobile to provide satellite internet in Europe and Africa. AST SpaceMobile launched its first satellites with the help of SpaceX.</p>



<figure><blockquote><p>Starlink has become so popular in Kenya that the company&nbsp;paused new subscriptions.</p></blockquote></figure>



<p>In rural Kenya, where Safaricom services are either too expensive or unreliable, Starlink is becoming a choice internet provider for households, Abel Boreto, an investor based in Nairobi, told <em>Rest of World</em>. Boreto became tired of using unreliable internet from Safaricom when he visited his hometown, and switched to Starlink in August. He said installing Starlink has saved him money and time.</p>



<p>“Safaricom was quite on the high side and the internet wasn’t even reliable so I decided to try out Starlink, which is more affordable ($10 per month for 50GB) to subscribe and use in the long term,” Boreto said. “It’s very fast and allows me to also share the internet with my parents and relatives when I’m not there.”</p>



<p>Starlink has become so popular in Kenya that the company <a href="https://www.connectingafrica.com/connectivity/starlink-halts-new-sign-ups-in-kenya">paused new subscriptions</a> in major cities in early November due to network overload. The company plans to deploy more infrastructure in Nairobi and Johannesburg in order to bring more people online, said Mohan, the computer science professor at Delft University.</p>



<p>For Mohan, the global Starlink boom raises monopolization concerns. A single dominant player not only leaves customers vulnerable to price hikes and decreasing quality of service but also gives a single company the power to control internet access for an entire country. Kenyan telecoms have also raised <a href="https://african.business/2024/11/technology-information/starlinks-aggressive-push-in-africa-keeps-telcos-on-high-alert">concerns</a> about Starlink taking market share away from local companies that employ thousands of people on the African continent.</p>
				<!-- Article End -->
							</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Getting silly with C, part (void*)2 (149 pts)]]></title>
            <link>https://lcamtuf.substack.com/p/getting-silly-with-c-part-void2</link>
            <guid>42657591</guid>
            <pubDate>Fri, 10 Jan 2025 17:16:12 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://lcamtuf.substack.com/p/getting-silly-with-c-part-void2">https://lcamtuf.substack.com/p/getting-silly-with-c-part-void2</a>, See on <a href="https://news.ycombinator.com/item?id=42657591">Hacker News</a></p>
Couldn't get https://lcamtuf.substack.com/p/getting-silly-with-c-part-void2: Error: timeout of 10000ms exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Freeact – A Lightweight Library for Code-Action Based Agents (120 pts)]]></title>
            <link>https://github.com/gradion-ai/freeact</link>
            <guid>42657253</guid>
            <pubDate>Fri, 10 Jan 2025 16:44:02 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/gradion-ai/freeact">https://github.com/gradion-ai/freeact</a>, See on <a href="https://news.ycombinator.com/item?id=42657253">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><h2 tabindex="-1" dir="auto"><code>freeact</code></h2><a id="user-content-freeact" aria-label="Permalink: freeact" href="#freeact"></a></p>
<p dir="auto">A lightweight library for code-action based agents.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Contents</h2><a id="user-content-contents" aria-label="Permalink: Contents" href="#contents"></a></p>
<ul dir="auto">
<li><a href="#introduction">Introduction</a></li>
<li><a href="#key-capabilities">Key Capabilities</a></li>
<li><a href="#quickstart">Quickstart</a></li>
<li><a href="#evaluation">Evaluation</a></li>
</ul>
<p dir="auto">The <code>freeact</code> documentation is available <a href="https://gradion-ai.github.io/freeact/" rel="nofollow">here</a>.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Introduction</h2><a id="user-content-introduction" aria-label="Permalink: Introduction" href="#introduction"></a></p>
<p dir="auto"><code>freeact</code> is a minimalistic agent library that empowers language models to act as autonomous agents through executable <strong>code actions</strong>. By enabling agents to express their actions directly in code rather than through constrained formats like JSON, <code>freeact</code> provides a flexible and powerful approach to solving complex, open-ended problems that require dynamic solution paths.</p>
<p dir="auto">The library builds upon <a href="https://arxiv.org/abs/2402.01030" rel="nofollow">recent</a> <a href="https://arxiv.org/abs/2411.01747" rel="nofollow">research</a> demonstrating that code-based actions significantly outperform traditional agent approaches, with studies showing up to 20% higher success rates compared to conventional methods. While existing solutions often restrict agents to predefined tool sets, <code>freeact</code> removes these limitations by allowing agents to leverage the full power of the Python ecosystem, dynamically installing and utilizing any required libraries as needed.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Key Capabilities</h2><a id="user-content-key-capabilities" aria-label="Permalink: Key Capabilities" href="#key-capabilities"></a></p>
<p dir="auto"><code>freeact</code> agents can autonomously improve their actions through learning from environmental feedback, execution results, and human guidance. A prominent feature is their ability to store and reuse successful code actions as custom skills in long-term memory. These skills can be composed and interactively refined to build increasingly sophisticated capabilities, enabling efficient scaling to complex tasks.</p>
<p dir="auto">The library's architecture emphasizes extensibility and transparency, avoiding the accidental complexity often introduced by heavier frameworks that obscure crucial implementation details. This design philosophy makes freeact particularly suitable for developers and researchers who need fine-grained control over their agent implementations while maintaining the flexibility to handle edge cases that fall outside predefined action spaces.</p>
<p dir="auto"><code>freeact</code> executes all code actions within <a href="https://gradion-ai.github.io/ipybox/" rel="nofollow"><code>ipybox</code></a>, a secure execution environment built on IPython and Docker that can also be deployed locally. This ensures safe execution of dynamically generated code while maintaining full access to the Python ecosystem. Combined with its lightweight and extensible architecture, <code>freeact</code> provides a robust foundation for building adaptable AI agents that can tackle real-world challenges requiring dynamic problem-solving approaches.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Quickstart</h2><a id="user-content-quickstart" aria-label="Permalink: Quickstart" href="#quickstart"></a></p>
<p dir="auto">Install <code>freeact</code> using pip:</p>

<p dir="auto">Create a <code>.env</code> file with <a href="https://console.anthropic.com/settings/keys" rel="nofollow">Anthropic</a> and <a href="https://aistudio.google.com/app/apikey" rel="nofollow">Gemini</a> API keys:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Required for Claude 3.5 Sonnet
ANTHROPIC_API_KEY=...

# Required for generative Google Search via Gemini 2
GOOGLE_API_KEY=..."><pre><span><span>#</span> Required for Claude 3.5 Sonnet</span>
<span>ANTHROPIC_API_KEY</span><span>=</span><span>...</span>

<span><span>#</span> Required for generative Google Search via Gemini 2</span>
<span>GOOGLE_API_KEY</span><span>=</span><span>...</span></pre></div>
<p dir="auto">Launch a <code>freeact</code> agent with generative Google Search skill using the CLI</p>
<div dir="auto" data-snippet-clipboard-copy-content="python -m freeact.cli \
  --model-name=claude-3-5-sonnet-20241022 \
  --ipybox-tag=ghcr.io/gradion-ai/ipybox:basic \
  --skill-modules=freeact_skills.search.google.stream.api"><pre>python -m freeact.cli \
  --model-name=claude-3-5-sonnet-20241022 \
  --ipybox-tag=ghcr.io/gradion-ai/ipybox:basic \
  --skill-modules=freeact_skills.search.google.stream.api</pre></div>
<p dir="auto">or an equivalent <a href="https://github.com/gradion-ai/freeact/blob/main/freeact/examples/quickstart.py">quickstart.py</a> script:</p>
<div dir="auto" data-snippet-clipboard-copy-content="import asyncio

from dotenv import load_dotenv
from rich.console import Console

from freeact import Claude, CodeActAgent, execution_environment
from freeact.cli.utils import stream_conversation


async def main():
    async with execution_environment(
        ipybox_tag=&quot;ghcr.io/gradion-ai/ipybox:basic&quot;,
    ) as env:
        skill_sources = await env.executor.get_module_sources(
            module_names=[&quot;freeact_skills.search.google.stream.api&quot;],
        )

        model = Claude(model_name=&quot;claude-3-5-sonnet-20241022&quot;, logger=env.logger)
        agent = CodeActAgent(model=model, executor=env.executor)
        await stream_conversation(agent, console=Console(), skill_sources=skill_sources)


if __name__ == &quot;__main__&quot;:
    load_dotenv()
    asyncio.run(main())"><pre><span>import</span> <span>asyncio</span>

<span>from</span> <span>dotenv</span> <span>import</span> <span>load_dotenv</span>
<span>from</span> <span>rich</span>.<span>console</span> <span>import</span> <span>Console</span>

<span>from</span> <span>freeact</span> <span>import</span> <span>Claude</span>, <span>CodeActAgent</span>, <span>execution_environment</span>
<span>from</span> <span>freeact</span>.<span>cli</span>.<span>utils</span> <span>import</span> <span>stream_conversation</span>


<span>async</span> <span>def</span> <span>main</span>():
    <span>async</span> <span>with</span> <span>execution_environment</span>(
        <span>ipybox_tag</span><span>=</span><span>"ghcr.io/gradion-ai/ipybox:basic"</span>,
    ) <span>as</span> <span>env</span>:
        <span>skill_sources</span> <span>=</span> <span>await</span> <span>env</span>.<span>executor</span>.<span>get_module_sources</span>(
            <span>module_names</span><span>=</span>[<span>"freeact_skills.search.google.stream.api"</span>],
        )

        <span>model</span> <span>=</span> <span>Claude</span>(<span>model_name</span><span>=</span><span>"claude-3-5-sonnet-20241022"</span>, <span>logger</span><span>=</span><span>env</span>.<span>logger</span>)
        <span>agent</span> <span>=</span> <span>CodeActAgent</span>(<span>model</span><span>=</span><span>model</span>, <span>executor</span><span>=</span><span>env</span>.<span>executor</span>)
        <span>await</span> <span>stream_conversation</span>(<span>agent</span>, <span>console</span><span>=</span><span>Console</span>(), <span>skill_sources</span><span>=</span><span>skill_sources</span>)


<span>if</span> <span>__name__</span> <span>==</span> <span>"__main__"</span>:
    <span>load_dotenv</span>()
    <span>asyncio</span>.<span>run</span>(<span>main</span>())</pre></div>
<p dir="auto">Once launched, you can start interacting with the agent:</p>
<details open="">
  <summary>
    
    <span aria-label="Video description freeact_iss_coffee_720.mp4">freeact_iss_coffee_720.mp4</span>
    <span></span>
  </summary>

  <video src="https://private-user-images.githubusercontent.com/202907/400425805-83cec179-54dc-456c-b647-ea98ec99600b.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1NDEzMDEsIm5iZiI6MTczNjU0MTAwMSwicGF0aCI6Ii8yMDI5MDcvNDAwNDI1ODA1LTgzY2VjMTc5LTU0ZGMtNDU2Yy1iNjQ3LWVhOThlYzk5NjAwYi5tcDQ_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwMTEwJTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDExMFQyMDMwMDFaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT0yM2U4YzM0OWY2ZDU0YjE4MDJiZmVlM2U2NzlmODJlYTY1YjNmMzAwMWM2ZGE5YzhlMTBhODc2ZjlmN2E1ODVlJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.dOeVUSIv43ebqTxvTzZizbyGSLfHDB77lcONO-_eiiw" data-canonical-src="https://private-user-images.githubusercontent.com/202907/400425805-83cec179-54dc-456c-b647-ea98ec99600b.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1NDEzMDEsIm5iZiI6MTczNjU0MTAwMSwicGF0aCI6Ii8yMDI5MDcvNDAwNDI1ODA1LTgzY2VjMTc5LTU0ZGMtNDU2Yy1iNjQ3LWVhOThlYzk5NjAwYi5tcDQ_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwMTEwJTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDExMFQyMDMwMDFaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT0yM2U4YzM0OWY2ZDU0YjE4MDJiZmVlM2U2NzlmODJlYTY1YjNmMzAwMWM2ZGE5YzhlMTBhODc2ZjlmN2E1ODVlJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.dOeVUSIv43ebqTxvTzZizbyGSLfHDB77lcONO-_eiiw" controls="controls" muted="muted">

  </video>
</details>

<p dir="auto"><h2 tabindex="-1" dir="auto">Evaluation</h2><a id="user-content-evaluation" aria-label="Permalink: Evaluation" href="#evaluation"></a></p>
<p dir="auto">We <a href="https://github.com/gradion-ai/freeact/blob/main/evaluation">evaluated</a> <code>freeact</code> using three state-of-the-art models:</p>
<ul dir="auto">
<li><code>claude-3-5-sonnet-20241022</code></li>
<li><code>claude-3-5-haiku-20241022</code></li>
<li><code>gemini-2.0-flash-exp</code></li>
</ul>
<p dir="auto">The evaluation was performed on the <a href="https://huggingface.co/datasets/m-ric/agents_medium_benchmark_2" rel="nofollow">m-ric/agents_medium_benchmark_2</a> dataset, developed by the <a href="https://github.com/huggingface/smolagents">smolagents</a> team at 🤗 Hugging Face. It comprises selected tasks from GAIA, GSM8K, and SimpleQA:</p>
<p dir="auto"><a href="https://github.com/gradion-ai/freeact/blob/main/docs/eval/eval-plot.png"><img src="https://github.com/gradion-ai/freeact/raw/main/docs/eval/eval-plot.png" alt="Performance"></a></p>
<p dir="auto">When comparing our results with smolagents using <code>claude-3-5-sonnet-20241022</code>, we observed the following outcomes (evaluation conducted on 2025-01-07, reference data <a href="https://github.com/huggingface/smolagents/blob/c22fedaee17b8b966e86dc53251f210788ae5c19/examples/benchmark.ipynb">here</a>):</p>
<p dir="auto"><a href="https://github.com/gradion-ai/freeact/blob/main/docs/eval/eval-plot-comparison.png"><img src="https://github.com/gradion-ai/freeact/raw/main/docs/eval/eval-plot-comparison.png" alt="Performance comparison" width="60%"></a></p>
<p dir="auto">Interestingly, these results were achieved using zero-shot prompting in <code>freeact</code>, while the smolagents implementation utilizes few-shot prompting. To ensure a fair comparison, we employed identical evaluation protocols and tools. You can find all evaluation details <a href="https://github.com/gradion-ai/freeact/blob/main/evaluation">here</a>.</p>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Finland's zero homeless strategy (2021) (180 pts)]]></title>
            <link>https://oecdecoscope.blog/2021/12/13/finlands-zero-homeless-strategy-lessons-from-a-success-story/</link>
            <guid>42656711</guid>
            <pubDate>Fri, 10 Jan 2025 15:53:07 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://oecdecoscope.blog/2021/12/13/finlands-zero-homeless-strategy-lessons-from-a-success-story/">https://oecdecoscope.blog/2021/12/13/finlands-zero-homeless-strategy-lessons-from-a-success-story/</a>, See on <a href="https://news.ycombinator.com/item?id=42656711">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
	
	

	

	
	<main id="content">

	<div>
						<article id="post-7341">
				<div>
<p>By Laurence Boone, Boris&nbsp;Cournède, OECD Economics Department;&nbsp;and Marissa&nbsp;Plouin,&nbsp;OECD Directorate for Employment, Labour and Social Affairs&nbsp;</p>



<p>Following a period when homelessness rose in many countries, the onset of the COVID-19 pandemic prompted governments across the OECD&nbsp;area&nbsp;to provide unprecedented public support – including to the homeless. In the&nbsp;United Kingdom, for instance, people who had been living on the streets or in shelters were housed in individual accommodations in a matter of days. And in cities and towns across the OECD, public authorities worked closely with service providers and other partners to provide support to the homeless that had previously been considered impossible.&nbsp;&nbsp;</p>



<p>How can&nbsp;countries&nbsp;build on this momentum and&nbsp;ensure more durable outcomes? The experience of Finland over the past several decades – during which the country has nearly eradicated homelessness – provides a glimpse of what can be possible with a sustained national strategy and enduring political will.&nbsp;&nbsp;</p>



<p>The number of homeless people in Finland has&nbsp;continuously decreased&nbsp;over the past three decades&nbsp;from over 16 000 in 1989&nbsp;to around 4 000,&nbsp;or 0.08% of the population&nbsp;(Figure 1). This is a very low number, especially considering that Finland uses a&nbsp;relatively&nbsp;broad definition of homelessness, whereby in particular it&nbsp;includes&nbsp;people temporarily living with friends and relatives&nbsp;in its official&nbsp;homelessness count.&nbsp;In 2020, practically no-one&nbsp;was&nbsp;sleeping rough on a given night in Finland.&nbsp;&nbsp;</p>



<p><strong>Figure&nbsp;1. Homelessness has shrunk remarkably in Finland</strong></p>



<figure><img data-recalc-dims="1" fetchpriority="high" decoding="async" width="1024" height="729" data-attachment-id="7344" data-permalink="https://oecdecoscope.blog/2021/12/13/finlands-zero-homeless-strategy-lessons-from-a-success-story/blog-13-dec-f1-finland/" data-orig-file="https://i0.wp.com/oecdecoscope.blog/wp-content/uploads/2021/12/BLOG-13-DEC-F1-Finland.png?fit=2334%2C1662&amp;ssl=1" data-orig-size="2334,1662" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="BLOG-13-DEC-F1-Finland" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/oecdecoscope.blog/wp-content/uploads/2021/12/BLOG-13-DEC-F1-Finland.png?fit=300%2C214&amp;ssl=1" data-large-file="https://i0.wp.com/oecdecoscope.blog/wp-content/uploads/2021/12/BLOG-13-DEC-F1-Finland.png?fit=1024%2C729&amp;ssl=1" src="https://i0.wp.com/oecdecoscope.blog/wp-content/uploads/2021/12/BLOG-13-DEC-F1-Finland.png?resize=1024%2C729&amp;ssl=1" alt="" srcset="https://i0.wp.com/oecdecoscope.blog/wp-content/uploads/2021/12/BLOG-13-DEC-F1-Finland.png?resize=1024%2C729&amp;ssl=1 1024w, https://i0.wp.com/oecdecoscope.blog/wp-content/uploads/2021/12/BLOG-13-DEC-F1-Finland.png?resize=300%2C214&amp;ssl=1 300w, https://i0.wp.com/oecdecoscope.blog/wp-content/uploads/2021/12/BLOG-13-DEC-F1-Finland.png?resize=768%2C547&amp;ssl=1 768w, https://i0.wp.com/oecdecoscope.blog/wp-content/uploads/2021/12/BLOG-13-DEC-F1-Finland.png?resize=1536%2C1094&amp;ssl=1 1536w, https://i0.wp.com/oecdecoscope.blog/wp-content/uploads/2021/12/BLOG-13-DEC-F1-Finland.png?resize=2048%2C1458&amp;ssl=1 2048w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Source: Report 2021: Homelessness in Finland 2020, The Housing Finance and Development Centre of Finland (ARA).</figcaption></figure>



<p>This is undoubtedly a remarkable success, even if comparing homelessness statistics across countries is fraught with difficulties (OECD, 2020).&nbsp;Many homeless people&nbsp;live precariously,&nbsp;with the implication that statistical tools such as household surveys typically fail to accurately measure&nbsp;their living conditions.&nbsp;Furthermore,&nbsp;countries define&nbsp;homelessness&nbsp;very differently, for instance counting people who temporarily live&nbsp;with&nbsp;friends or relatives&nbsp;as homeless&nbsp;(as Finland does) or excluding them from homelessness statistics.&nbsp;While&nbsp;there is no OECD-wide&nbsp;average against which to&nbsp;compare Finland’s homeless rate&nbsp;of 0.08%,&nbsp;other countries&nbsp;with similarly&nbsp;broad definitions of homelessness provide points of reference, such as neighbouring Sweden&nbsp;(0.33%)&nbsp;or&nbsp;the Netherlands (0.23%).<span id="easy-footnote-1-7341"></span><span><a href="#easy-footnote-bottom-1-7341" title="The data for Finland refers to 2020 and comes from ARA (2021). The data for the Netherlands, New Zealand and Sweden refer to 2018, 2018 and 2017 and come from the OECD Affordable Housing Database, Indicator HC 3.1"><sup>1</sup></a></span></p>



<p>Finland’s success is not&nbsp;a matter&nbsp;of&nbsp;luck&nbsp;or the outcome of “quick fixes.”&nbsp;Rather, it is&nbsp;the result of a sustained, well-resourced&nbsp;national&nbsp;strategy, driven by a “Housing First” approach, which provides people experiencing homelessness with immediate, independent, permanent housing, rather than temporary accommodation&nbsp;(OECD, 2020). A key pillar&nbsp;of this effort&nbsp;has been to combine emergency assistance with the&nbsp;supply of rentals to host previously homeless people, either by&nbsp;converting&nbsp;some existing shelters into residential buildings with independent apartments (Kaakinen, 2019)&nbsp;or by building&nbsp;new flats&nbsp;by a government agency (ARA, 2021).&nbsp;Building&nbsp;flats&nbsp;is key:&nbsp;otherwise, especially if housing supply is particularly rigid, the funding of rentals&nbsp;can&nbsp;risk driving&nbsp;up rents&nbsp;(OECD, 2021a), thus&nbsp;reducing&nbsp;the “bang for the buck” of&nbsp;public spending.&nbsp;&nbsp;</p>



<p>The Finnish experience demonstrates the&nbsp;effectiveness of tackling&nbsp;homelessness through&nbsp;a combination of financial&nbsp;assistance, integrated&nbsp;and targeted&nbsp;support services&nbsp;<em>and</em>&nbsp;more supply: using&nbsp;just one&nbsp;of these levers&nbsp;is&nbsp;unlikely to work.&nbsp;Financial assistance comes from the social benefits systems, which includes a housing allowance for low-income people (mostly jobless persons with no or low unemployment benefits)&nbsp;covering about 80% of housing costs&nbsp;(Kangas and Kalliomaa-Puha, 2019).&nbsp;Emergency social&nbsp;assistance funding&nbsp;can complement&nbsp;the housing allowance&nbsp;if it is insufficient. Social services provide housing before other interventions&nbsp;that&nbsp;are&nbsp;targeted to beneficiaries’ needs&nbsp;(such as,&nbsp;to&nbsp;pick&nbsp;one example,&nbsp;providing health services to help overcome substance abuse).&nbsp;These efforts require&nbsp;dwellings: investment grants by Finland’s Housing Finance and Development Centre financed the construction of 2 200 flats over 2016-19 for long-term homeless people (ARA, 2021).&nbsp;Indeed, investing in housing development should be a priority for OECD governments as they navigate the recovery from the crisis: over the past two decades, public investment in housing development&nbsp;has dropped to just 0.06% of GDP across the OECD on average&nbsp;(OECD, 2021b).&nbsp;</p>



<p>Another important driver of Finland’s success is the integration of efforts to fight homelessness with other parts of the social safety net. When&nbsp;a housing&nbsp;need is identified in any part of the social service system, housing is provided first,&nbsp;to&nbsp;provide a solid basis for&nbsp;employment, long-term health&nbsp;and/or family assistance&nbsp;(OECD, 2020).&nbsp;This integrated approach avoids the pitfalls that can arise,&nbsp;for instance,&nbsp;when benefits are preconditioned on&nbsp;having an address, or when obtaining&nbsp;a flat requires&nbsp;a&nbsp;minimum income. There are indications that, by facilitating&nbsp;the&nbsp;integration of previously homeless people in society, the upfront Finnish investment&nbsp;that provides people with&nbsp;housing&nbsp;<em>first,&nbsp;</em>pays off by reducing subsequent costs incurred by social services.&nbsp;Evaluations point to&nbsp;annual&nbsp;savings&nbsp;in public expenditure in the range of&nbsp;EUR 9 600-15 000&nbsp;per person&nbsp;who&nbsp;had&nbsp;previously&nbsp;experienced&nbsp;homelessness&nbsp;(Y-Foundation, 2017; Ministry of the Environment, 2011).&nbsp;&nbsp;</p>



<p>Overall, Finland’s achievements illustrate the benefits of integration, balance&nbsp;and continuity in policies to&nbsp;tackle&nbsp;homelessness:&nbsp;<em>integration</em>&nbsp;across&nbsp;housing and&nbsp;social assistance programmes,&nbsp;<em>balance</em>&nbsp;between demand and supply, and&nbsp;political&nbsp;<em>continuity</em>&nbsp;over time have helped to maximise the results of the country’s investment to&nbsp;end&nbsp;homelessness.&nbsp;Not only has this approach resulted in a steady decline in homelessness, but it has also made the system more resilient to shocks, including&nbsp;the COVID-19&nbsp;crisis. Indeed, the pandemic was less of a&nbsp;strain&nbsp;to Finland’s homeless support system&nbsp;compared to other countries, given that many vulnerable people were already housed and supported in individual flats (Fondation&nbsp;Abbé Pierre – FEANTSA, 2021).&nbsp;&nbsp;</p>



<p>These&nbsp;lessons&nbsp;can be transposed to other&nbsp;OECD&nbsp;countries&nbsp;as they look to build on the momentum and lessons learned from the COVID crisis.&nbsp;</p>



<p><strong>References</strong>&nbsp;</p>



<p>ARA (2021),&nbsp;<a rel="noreferrer noopener" href="https://www.ara.fi/en-US/Materials/Homelessness_reports/Report_2021_Homelessness_in_Finland_2020(60242)" target="_blank"><em>Report 2021: Homelessness in Finland 2020</em>,</a>&nbsp;The Housing Finance and Development Centre of Finland (ARA).&nbsp;Fondation&nbsp;Abbé Pierre – FEANTSA (2021),&nbsp;<a rel="noreferrer noopener" href="https://www.fondation-abbe-pierre.fr/documents/pdf/rapport_europe_2021_gb.pdf" target="_blank">Sixth Overview of Housing Exclusion in Europe</a>, FEANTSA – Abbé Pierre.&nbsp;&nbsp;</p>



<p>Kaakinen, J. (2019), “<a rel="noreferrer noopener" href="https://www.oecd-forum.org/posts/49557-time-to-act-let-s-end-homelessness-for-good" target="_blank">Time to act:&nbsp;Let’s end homelessness for good</a>,” OECD Forum Network Series on the New Societal Contract.&nbsp;</p>



<p>Kangas, O. and L. Kalliomaa-Puha(2019), “<a href="https://ec.europa.eu/social/BlobServlet?docId=21600&amp;langId=en">ESPN Thematic Report on National Strategies to Fight Homelessness and Housing Exclusion: Finland</a>”, European Social Policy Network (ESPN), European Commission, Brussels.</p>



<p>Ministry of the Environment (2011), <em>Asunnottomuuden vähentämisen taloudelliset [Economic effects of reducing homelessness]</em>, Ympäristöministeriön.</p>



<p>OECD (2020),&nbsp;“Better data and policies to fight homelessness in the OECD”, Policy Brief on Affordable Housing, OECD, Paris,&nbsp;<a href="http://oe.cd/homelessness-2020" target="_blank" rel="noreferrer noopener">http://oe.cd/homelessness-2020</a>.&nbsp;</p>



<p>OECD (2021a),&nbsp;<a href="http://www.oecd.org/housing/policy-toolkit" target="_blank" rel="noreferrer noopener"><em>Brick by Brick: Building Better Housing Policies</em></a><em>,&nbsp;</em>OECD, Paris.&nbsp;</p>



<p>OECD (2021b),&nbsp;<a href="https://www.oecd.org/housing/data/affordable-housing-database/" target="_blank" rel="noreferrer noopener"><em>OECD Affordable Housing Database</em></a>, indicator PH1.1, OECD, Paris.&nbsp;&nbsp;</p>



<p>Pleace, N. et al. (2021),&nbsp;<a rel="noreferrer noopener" href="https://portal.oecd.org/eshare/eco/pc/Deliverables/Housing%20Horizontal/Housing-Horizontal/Affordability%20QuASH%20questionnaire/Presentations/,%20www.feantsaresearch.org/public/user/Observatory/2021/European_Homlessness_and_COVID-19Web_(1).pdf" target="_blank"><em>European Homelessness and COVID 19</em></a>, European Observatory on Homelessness.&nbsp;&nbsp;</p>



<p><span><img data-recalc-dims="1" decoding="async" src="https://i0.wp.com/oecdecoscope.blog/wp-content/plugins/pdf-print/images/pdf.png?w=1200&amp;ssl=1" alt="image_pdf" title="View PDF"></span><a href="https://oecdecoscope.blog/2021/12/13/finlands-zero-homeless-strategy-lessons-from-a-success-story/?print=print" target="_blank"></a></p><ol><li><span id="easy-footnote-bottom-1-7341"></span>The data for Finland refers to 2020 and comes from ARA (2021). The data for the Netherlands, New Zealand and Sweden refer to 2018, 2018 and 2017 and come from the OECD Affordable Housing Database, Indicator HC 3.1<a href="#easy-footnote-1-7341"></a></li></ol></div>

			</article>
			
		</div>

</main><!--/.neve-main-->



</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Web apps built with Ruby on Rails (141 pts)]]></title>
            <link>https://weuserails.com/</link>
            <guid>42656559</guid>
            <pubDate>Fri, 10 Jan 2025 15:39:11 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://weuserails.com/">https://weuserails.com/</a>, See on <a href="https://news.ycombinator.com/item?id=42656559">Hacker News</a></p>
Couldn't get https://weuserails.com/: Error: timeout of 10000ms exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[Formal Methods: Just Good Engineering Practice? (2024) (176 pts)]]></title>
            <link>https://brooker.co.za/blog/2024/04/17/formal</link>
            <guid>42656433</guid>
            <pubDate>Fri, 10 Jan 2025 15:25:42 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://brooker.co.za/blog/2024/04/17/formal">https://brooker.co.za/blog/2024/04/17/formal</a>, See on <a href="https://news.ycombinator.com/item?id=42656433">Hacker News</a></p>
Couldn't get https://brooker.co.za/blog/2024/04/17/formal: Error: timeout of 10000ms exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[I've Acquired a New Superpower (1314 pts)]]></title>
            <link>https://danielwirtz.com/blog/spot-the-difference-superpower</link>
            <guid>42655870</guid>
            <pubDate>Fri, 10 Jan 2025 14:34:34 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://danielwirtz.com/blog/spot-the-difference-superpower">https://danielwirtz.com/blog/spot-the-difference-superpower</a>, See on <a href="https://news.ycombinator.com/item?id=42655870">Hacker News</a></p>
Couldn't get https://danielwirtz.com/blog/spot-the-difference-superpower: Error: timeout of 10000ms exceeded]]></description>
        </item>
        <item>
            <title><![CDATA[The Tedious Heroism of David Ruggles (129 pts)]]></title>
            <link>https://commonplace.online/article/the-tedious-heroism-of-david-ruggles/</link>
            <guid>42655636</guid>
            <pubDate>Fri, 10 Jan 2025 14:02:23 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://commonplace.online/article/the-tedious-heroism-of-david-ruggles/">https://commonplace.online/article/the-tedious-heroism-of-david-ruggles/</a>, See on <a href="https://news.ycombinator.com/item?id=42655636">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
					<p>History also changes because of strange, flawed, deeply human people doing unremarkable, tedious, and often boring work.</p>
				</div><div>
							
<p><span data-contrast="auto">I want to tell you a rather boring story: the story of the brig </span><i><span data-contrast="auto">Brilliante</span></i><span data-contrast="auto">.</span><span data-contrast="auto">&nbsp;</span><span data-ccp-props="{&quot;201341983&quot;:0,&quot;335559685&quot;:0,&quot;335559731&quot;:720,&quot;335559740&quot;:480}">&nbsp;</span></p>
<p><span data-ccp-parastyle="Body Text">Th</span><span data-ccp-parastyle="Body Text">e </span><span data-ccp-parastyle="Body Text">hero</span><span data-ccp-parastyle="Body Text"> of this tale is David Ruggles, an extraordinary man. In 1835, at the young age of twenty-five, <span lang="EN-US" xml:lang="EN-US" data-contrast="auto"> <span data-ccp-parastyle="Body Text">Ruggles</span> <span data-ccp-parastyle="Body Text">founded</span> <span data-ccp-parastyle="Body Text">the</span> <span data-ccp-parastyle="Body Text">New</span> <span data-ccp-parastyle="Body Text">York</span> <span data-ccp-parastyle="Body Text">Committee</span> <span data-ccp-parastyle="Body Text">of</span> <span data-ccp-parastyle="Body Text">Vigilance, </span><span data-ccp-parastyle="Body Text">an organization that functioned as </span><span data-ccp-parastyle="Body Text">a public-facing </span><span data-ccp-parastyle="Body Text">component</span><span data-ccp-parastyle="Body Text"> of the Underground Railroad in New York City.</span> <span data-ccp-parastyle="Body Text">As far as we know,</span> <span data-ccp-parastyle="Body Text">he</span><span data-ccp-parastyle="Body Text"> was the first black person to edit a magazine and </span><span data-ccp-parastyle="Body Text">own </span><span data-ccp-parastyle="Body Text">a bookstore in the United States. He wrote political commentary and satire;</span> <span data-ccp-parastyle="Body Text">spoke at meetings;</span> <span data-ccp-parastyle="Body Text">suffered abuse, violence, and imprisonment; </span><span data-ccp-parastyle="Body Text">confronted slaveholders in person; and risked his life and his freedom to ferry hundreds of enslaved people to freedom.</span></span><span><span lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span data-ccp-parastyle="Body Text">&nbsp;</span></span></span></span></p>
<p><span lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span data-ccp-parastyle="Body Text">When Ruggles’</span> <span data-ccp-parastyle="Body Text">life is summarized in this way—as a series of brilliant accomplishments</span><span data-ccp-parastyle="Body Text">, daring exploits,</span><span data-ccp-parastyle="Body Text"> and historical firsts—it is easy to see why he is </span><span data-ccp-parastyle="Body Text">important, historical, and heroic. </span><span data-ccp-parastyle="Body Text">T</span><span data-ccp-parastyle="Body Text">o </span><span data-ccp-parastyle="Body Text">establish</span><span data-ccp-parastyle="Body Text"> that someone </span><span data-ccp-parastyle="Body Text">is worth remembering</span><span data-ccp-parastyle="Body Text">, </span><span data-ccp-parastyle="Body Text">historians</span><span data-ccp-parastyle="Body Text"> often focus on the most dramatic episodes of that person’s long and complicated life. </span><span data-ccp-parastyle="Body Text">P</span><span data-ccp-parastyle="Body Text">opular histories of </span><span data-ccp-parastyle="Body Text">the Underground Railroad</span><span data-ccp-parastyle="Body Text">, like Fergus </span><span data-ccp-parastyle="Body Text">Bordewich’s book</span> </span><em><span lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span data-ccp-parastyle="Body Text">Bound for Canaan</span></span></em><span lang="EN-US" xml:lang="EN-US" data-contrast="auto"><span data-ccp-parastyle="Body Text"> or</span><span data-ccp-parastyle="Body Text"> Laine Drewery’s 2012 PBS documentary</span><span data-ccp-parastyle="Body Text"> about William Still</span><span data-ccp-parastyle="Body Text">,</span><span data-ccp-parastyle="Body Text"> tend to give broad summaries of general historical trends</span> <span data-ccp-parastyle="Body Text">punctuated </span><span data-ccp-parastyle="Body Text">by</span><span data-ccp-parastyle="Body Text"> exciting episodes from the lives of </span><span data-ccp-parastyle="Body Text">heroic </span><span data-ccp-parastyle="Body Text">freedom seekers and those who helped them. People appear, their most dramatic and vivid accomplishment or exploit is described, and then, they disappear, perhaps to resurface in another vivid exploit. Even histories published by academic presses, like Eric Foner’s <em>Gateway to Freedom</em>, sometimes rely on these dramatic stories to lend interest to their historical narratives.</span></span></p>
</div><div>
<p>This way of telling history has much to recommend it, and the examples I have named are wonderful pieces of historical storytelling that deserve to be read. They are vivid and entertaining; the stories effectively use narrative to illustrate important historical trends. But when historical figures are seen as important primarily because of the most dramatic moments of their lives, we can sometimes make it more difficult to see the hard, repetitive, boring work of making social change. After all, world-changing heroism is not just a matter of dramatic escapades, grand accomplishments, literary achievements, and firsts. History also changes because of strange, flawed, deeply human people doing unremarkable, tedious, and often boring work.&nbsp;</p>
<p>David Ruggles was an extraordinary man who spent much of his life doing this kind of unglamorous work. Much of Ruggles’ work was like the work of thousands of other activists, men and women, black and white, who created the Underground Railroad through thousands of unrecorded, unremembered, obscure acts of courage, which often resulted in compromised or incomplete victories. At times, this work must have been boring: writing writs of habeus corpus; tracking expenses for Vigilance Committees; typesetting; delivering letters; cooking food to serve to fugitives or cleaning their bedclothes. Of course we should acknowledge Ruggles’ extraordinary feats. But the Underground Railroad could not have existed without the diﬃcult, self-consciously un-historical, often boring, work that served as the movement’s foundation. This is why the (somewhat dull) story of the brig <em>Brilliante </em>is worth your attention.</p>
</div><div><p>It was December 1836. The days were short, cold, and dark. It very well might have been raining. Since moving to New York in 1827, Ruggles had become a trusted member of the antislavery activist community in New York City. The previous November, Ruggles founded the New York Committee of Vigilance with a core group of four others. Since then, they had conducted their work of attempting to free fugitive slaves through legal and illegal means. On December 3, Ruggles heard from one of his contacts that a known Portuguese slave ship, the brig <em>Brilliante</em>, had arrived in port. Ruggles wanted to verify this report, so he headed down to the docks and spoke with a white sailor, who confirmed that five enslaved men were on board and that the ship would be in New York City for a few weeks for repairs.</p></div><div>
<p>The legal status of enslaved people in New York State was complex. By 1827, slavery was illegal in New York. However, because of an 1817 state law that was still on the books, non-residents could still bring enslaved people into New York for up to nine months without having to free them. But Ruggles reasoned that the captain of the&nbsp;<em>Brilliante</em>&nbsp;couldn’t take advantage of this loophole because the&nbsp;<em>Brilliante</em>&nbsp;was a foreign vessel.&nbsp;Congress had outlawed the international slave trade in 1807, clarifying and extending the prohibition on slave-trading in 1818 and 1820. In short, bringing enslaved men from outside of the U.S. into New York Harbor violated these Federal laws. So, on Friday, December 10, Ruggles headed over to the office of the New York District Attorney, a man named William M. Price. After receiving Ruggles’ report, Price did nothing.</p>
<p>Ruggles returned on Monday, December 12, to check in on Price, who said he would “attend to it.” Ruggles left the District Attorney’s office with instructions from an office assistant to find out the name of the captain of the <em>Brilliante</em>. Ruggles came back again the same day and asked to talk to the Deputy Marshall, who said he didn’t have time deal with the matter that day and that he’d deal with it tomorrow. Ruggles responded, “but she”—the <em>Brilliante</em>—“may be gone.” The Deputy Marshall said that he needed more information and told Ruggles to come to his house that afternoon. But when Ruggles arrived at the house, there was, mysteriously, nobody home.&nbsp;</p>
</div><div><p>Already, you may want to stop reading this article and go do something more entertaining. Ruggles probably would have liked to go and do something else, too. In this story, Ruggles probably spent most of his time walking: from his home to the docks to various oﬃces, homes, and institutions, then back again. In December, New York City was rainy, and sometimes snowy. The streets of New York were famously the filthiest in the United States, too, lined with privies piled high, which overflowed into the streets. Loose pigs and dogs snuﬄed in the mire. As a black man, Ruggles would not have been allowed to take one of the brand-new horse-drawn streetcars. He would have had to trudge through puddles and filthy snow.</p></div><div>
<p>To return to our story: on the evening of Monday, December 12, Ruggles wrote a notice that would appear in the <em>New York Sun </em>the next morning. The note narrated Ruggles’ experience to drum up outrage against the District Attorney’s inaction. On Tuesday morning, Ruggles went to the District Attorney’s oﬃce again (another trudge through filthy snow), only to be, as he put it, “rather uncivilly, [shown] the door!” The District Attorney, clenching his fist, bellowed at Ruggles, “go out of MY OFFICE!”</p>
<p>Ruggles published another account of his adventure in the <em>Evening Post</em>. At that point, it was probably embarrassing for the District Attorney’s inactivity to be exposed so publicly. So, by the end of the day Tuesday, the captain of the <em>Brilliante </em>was arrested, and the enslaved men held on his ship were put in a debtor’s prison while the case proceeded. <em>Finally</em>. After all that work, all the stonewalling by oﬃcials, all the early-morning treks through the streets of New York, justice would be done! Right?</p>
</div><div>
<p>Of course not. Now there was a court case, which started on December 16. In summary, the captain of the brig argued for his innocence based on a technicality. (The men on board the <em>Brilliante</em>, he argued, should not be considered slaves because they were part of the ship’s crew and would not be sold in the United States.) The District Attorney accepted this argument without questioning the captain or introducing any other testimony, then discharged the captain. But the enslaved men were kept in the city’s debtor’s prison for four days, even though they hadn’t been charged with any crime, probably to prevent volunteers from liberating them.</p>
<p>Ruggles and three others went to the debtor’s prison on December 20, one of the darkest days of the year, probably walking once again through frozen filth. They asked: by whose authority are these men being held? The jail-keeper blamed the Sheriﬀ and Marshall. So Ruggles went over to the Sheriﬀ ’s oﬃce. (Another walk). The Sheriﬀ said that he had nothing to do with it. Next, Ruggles went to the District Attorney’s oﬃce. (Another walk.) The District Attorney was not in, but his assistant told Ruggles that the men were being held as the captain’s property, which was illegal in the United States, according to Ruggles. Ruggles and his companions went up to see the Deputy Marshall. (Another walk.) He was also not in. They gave up and went home. It must have felt like they had walked all over the city. And their reward was: precisely nothing.</p>
</div><div><p>The next day, an unnamed person, likely a member of the Vigilance Committee, stopped the Deputy Marshall on the street and asked why the men were still being held in prison. The Deputy Marshall said that they shouldn’t be in jail and wrote a note ordering that the men be released. Ruggles and his companions brought the note to the jailhouse, but the jailkeeper refused to release the men. Ruggles told the jailkeeper that he had no legal authority to hold the men. The jailkeeper seemed not to care. “I shall risk it,” he said. &nbsp;Members of the Vigilance Committee filed a writ of habeas corpus. But before they could finish that process, the slaves had already been moved back aboard the ship, where they were now trapped. It was defeat after infuriating defeat.</p></div><div>
<p>Finally, on Christmas Eve, a group of armed black New Yorkers (reportedly not including Ruggles) boarded the brig <em>Brilliante </em>and managed to rescue two of the men. When they returned later to get the rest of the men, they were unfortunately rebuﬀed. After all that work, only two men were freed. After all those days—all those words written, all the walking around the city, contacting oﬃcial after oﬃcial—all Ruggles got was a painfully incomplete victory.&nbsp;</p>
<p>And even that small victory was not without its costs. On December 28, around 1:30 in the morning, Ruggles was awoken by the loud sounds of knocking on his door. Soon, three men had forced open his front door, brandishing pistols and knives, menacing Ruggles’ landlady, and yelling at Ruggles. Luckily, the police soon arrived and arrested two of the men. But when Ruggles went to City Hall the next day to press charges, <em>he </em>was imprisoned for a short time because the constable had an arrest warrant that allowed him to arrest any black person that matched a description of an escaped slave. The men who forced Ruggles’ front door would probably have kidnapped him and sold him into slavery in retaliation for his eﬀorts to free the slaves on the <em>Brilliante.</em></p>
</div><div>
<p>If all this trudging back and forth between various oﬃces, houses, and jails sounds less like heroic activism to you and more like a Kafkaesque bureaucratic nightmare, that is my point. Slogging for miles through slush and snow in the dark and the cold, following the legal processes, trying to force public servants to do their jobs, knowing the law, understanding court procedures—this is what it was often like to actively work against slavery. Infuriating, complicated, annoying, tedious.</p>
<p>This brand of heroism can be hard to talk about, especially in public-facing histories, which must be not only accurate but entertaining. Sometimes, it seems as if historians work to make the work of activism seem as dramatic and colorful as possible. But it is important, too, to understand that much practical abolitionist work probably didn’t feel heroic or historical or impressive at all. Much of it was the frustrating and incomplete result of sheer doggedness. The story of the brig <em>Brilliante </em>reminds us that history is not just made by firsts: It’s made by repetitive eﬀorts, too. Ruggles’ tedious brand of heroism serves to remind us of the thousands of other acts of quotidian courage performed by thousands of forgotten people, who had jobs and small businesses and children, but who were nonetheless willing to spend hours and hours walking through filthy snow.</p>
<p><strong>Further Reading:</strong></p>
<p><em>Primary sources</em>:</p>
<p>David Ruggles, <em>The First Annual Report of the New</em> <em>York Committee of</em> <em>Vigilance,</em> <em>for the</em> <em>Year 1837, </em><em>Together</em> <em>With</em> <em>Important</em> <em>Facts</em> <em>Relative</em> <em>to</em> <em>Their</em> <em>Proceedings</em> (New York: Piercy &amp; Reed, 1837),&nbsp;&nbsp;<a href="https://reader.library.cornell.edu/docviewer/digital?id=may839002#mode/2up">https://reader.library.cornell.edu/docviewer/digital?id=may839002#mode/2up.</a></p>
<p>David Ruggles, <em>The Mirror of Liberty</em>, vol. 1, no. 1 (New York: David Ruggles, 1838).</p>
<p>Edwin Williams and John Disturnell,&nbsp;<em>New York as it is, in 1837</em>&nbsp;(New York: J. Dusturnell, 1837).</p>
<p>Frank M. O’Brien, <em>The Story of the Sun </em>(New York: George H. Doran Company, 1918).</p>
<p><em>Laws Relative to Slaves and Servants, Passed by the Legislature of New-York, March 31st, 1817. Together with Extracts from the Laws of the United States, Respecting Slaves</em>&nbsp;(New York: S. Wood &amp; Sons, 1817).</p>
<p><em>Longworth’s American Almanac,</em>&nbsp;<em>New York Register, and City Directory</em>&nbsp;(New York: Thomas Longworth, 1836).</p>
<p><em>Secondary sources</em>:</p>
<p>Fergus M. Bordewich, <em>Bound</em> <em>for</em> <em>Canaan:</em> <em>The</em> <em>Epic</em> <em>Story</em> <em>of</em> <em>the</em> <em>Underground</em> <em>Railroad,</em> <em>America’s </em><em>First Civil Rights Movement</em> (New York: Amistad, 2006).</p>
<p>Edwin G. Burrows and Mike Wallace, <em>Gotham:</em> <em>A</em> <em>History</em> <em>of</em> <em>New</em> <em>York</em> <em>City</em> <em>to</em> <em>1898</em> (New York: Oxford University Press, 1999).</p>
<p>Eric Foner, <em>Gateway to Freedom: The Hidden History of America’s Fugitive Slaves </em>(Oxford: Oxford University Press, 2015).</p>
<p>Graham Russell Hodges, <em>David</em> <em>Ruggles:</em> <em>A</em> <em>Radical</em> <em>Black</em> <em>Abolitionist</em> <em>and</em> <em>the</em> <em>Underground </em><em>Railroad in New York City</em> (Chapel Hill: University of North Carolina Press, 2010).</p>
<p>Jesse Olsavsky, <em>The</em> <em>Most</em> <em>Absolute</em> <em>Abolition:</em> <em>Runaways,</em> <em>Vigilance</em> <em>Committees,</em> <em>and</em> <em>the</em> <em>Rise</em> <em>of </em><em>Revolutionary Abolitionism,</em> <em>1835-1861</em> (Baton Rouge: Louisiana State University Press, 2022).</p>
<p>This article originally appeared in December 2024.&nbsp;</p>
<hr>
<p>Isaac Kolding is a PhD candidate in English at the State University of New York at Buﬀalo. His research focuses on the intersection between radical abolitionist rhetoric and literature in the nineteenth-century U.S. His writing appears in <em>American Literature</em>, <em>American Literary Realism</em>, and <em>J19: The Journal of Nineteenth-Century Americanists</em>.</p>
						</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[I got OpenTelemetry to work. But why was it so complicated? (213 pts)]]></title>
            <link>https://iconsolutions.com/blog/i-got-opentelemetry-to-work-but-why-was-it-so-complicated/</link>
            <guid>42655102</guid>
            <pubDate>Fri, 10 Jan 2025 12:38:35 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://iconsolutions.com/blog/i-got-opentelemetry-to-work-but-why-was-it-so-complicated/">https://iconsolutions.com/blog/i-got-opentelemetry-to-work-but-why-was-it-so-complicated/</a>, See on <a href="https://news.ycombinator.com/item?id=42655102">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
                      <p>A number of our customers have recently been asking whether we support&nbsp;<a href="https://opentelemetry.io/docs/" rel="nofollow">OpenTelemetry</a>, the observability framework and toolkit. When the first member of the team who’s client-facing asked me – the go-to guy for metrics and logging at IPF – I barely let them finish: “of course! That’s just Prometheus and Jaeger, right? We’ve supported that for years!”</p>
<p>Well, it turns out I was more or less wrong on all counts. Yay! Let’s get into it.</p>
<h2 id="IgotOpenTelemetrytowork.Butwhywasitsocomplicated?-OTel?">OTel?</h2>
<p>As I mentioned up there, OpenTelemetry, or OTel, is an observability&nbsp;<em>framework</em>&nbsp;and&nbsp;<em>toolkit</em>. What does this mean? Well, to start, let’s think about the sort of tools that predated OTel in this space. A nice triad you could use to get started could be:</p>
<ul>
<li><strong>Prometheus</strong>&nbsp;for metrics</li>
<li>Things like&nbsp;<strong>Logstash</strong>&nbsp;for exporting logs to a central aggregator like&nbsp;<strong>Elasticsearch</strong>&nbsp;(other log exporters and aggregators are available)</li>
<li><strong>OpenTracing</strong>&nbsp;for distributed tracing</li>
</ul>
<p>These are three different standards from three different organisations. OpenTelemetry tries to round up, and –&nbsp;more importantly – standardise the tooling in this space by codifying it under three so-called signals:&nbsp;<strong>metrics</strong>,&nbsp;<strong>logs</strong>&nbsp;and&nbsp;<strong>traces</strong>. In addition to just providing a specification, they have created:</p>
<ul>
<li>The OpenTelemetry Protocol (OTLP) which allows applications to report data on the aforementioned primitives to what is known as the…</li>
<li>…OpenTelemetry Collector: a&nbsp;&nbsp;“Vendor-agnostic way to receive, process and export telemetry data.”</li>
<li>Language SDKs for 10+ languages which implement OTLP and exporting of telemetry data</li>
</ul>
<p>These are the core components they have created. There are others, but this will do for now. If you’re confused, here’s a diagram from their root docs page (which is in itself a tell!)</p>
<p><span><img decoding="async" draggable="false" src="https://opentelemetry.io/img/otel-diagram.svg" alt="OpenTelemetry Reference Architecture" width="877" height="582" data-image-src="https://opentelemetry.io/img/otel-diagram.svg"></span></p>
<p>As we can see, “microservices” (remember those?) can report signals to the OTel Collector using auto-instrumentation (“zero code”), the API, or one of the language SDKs. But it’s not restricted to your applications: your infrastructure can also send signals to the OTel Collector!</p>
<p>So this sounds well and good, and indeed a noble cause. As a bonus it ticks all the buzzword boxes: open-source, vendor-agnostic, language-agnostic, distributed,&nbsp;<a href="https://opentelemetry.io/docs/zero-code/" rel="nofollow">zero-code</a>&nbsp;(conditions apply; see below).</p>
<p>So what’s wrong?</p>
<h2 id="IgotOpenTelemetrytowork.Butwhywasitsocomplicated?-Nostrangerstoobservability">No strangers to observability</h2>
<p>We are not new to this space. We’ve had docs on these topics for a while now, and our customers have used these in production for some time. Want to&nbsp;<a href="https://docs.ipfdev.co.uk/core/IPF_RELEASE_2024.2.0/flo-starter/features/monitoring.html#option-1-elasticsearchlogstashkibana" rel="nofollow">get IPF to report to an ELK Stack</a>? No problem. General docs on&nbsp;<a href="https://docs.ipfdev.co.uk/core/IPF_RELEASE_2024.2.0/flo-starter/features/monitoring.html" rel="nofollow">monitoring and observability</a>? Sure thing!</p>
<p>As a&nbsp;&nbsp;know what environment an app using our libraries is going to be deployed&nbsp;&nbsp;to stay abstract and never make any vendor-specific choices one way or another. I’m starting to sound like the OTel people. This means we have to spend a lot of time building in overrideable sensible defaults, abstractions (ensuring they are not crappy and/or leaky ones), and so on.</p>
<p>Having said that,&nbsp; we&nbsp;<em>can</em>&nbsp;make recommendations: we usually recommend that logs are pushed to some aggregator like Elasticsearch, LogScale, etc, and by default we enable and support&nbsp;Prometheus metrics as&nbsp;&nbsp;become a&nbsp;<em>de facto</em>&nbsp;standard.&nbsp;&nbsp;OTel came along.</p>
<h2 id="IgotOpenTelemetrytowork.Butwhywasitsocomplicated?-Easywins:logsandmetrics">Easy wins: logs and metrics</h2>
<p>While logs and metrics are a fairly well-known quantity amongst our customers, tracing is not. There must be something in the water, because we got three almost simultaneous requests asking about tracing with OTel. And while you’re using OTel for tracing, you might as well use it for the other two things as well!</p>
<p>It was fairly easy for our customers to move logs and&nbsp;&nbsp;to OTel, since to enable logs and metrics you just need to add a new appender and some new config respectively. But what do we do for tracing?</p>
<h2 id="IgotOpenTelemetrytowork.Butwhywasitsocomplicated?-Tracingmyheadache">Tracing my headache</h2>
<p>When you trace a transaction through a distributed system, you need to pass some information between the systems to correlate a specific invocation with a specific transaction. This is known as&nbsp;<a href="https://opentelemetry.io/docs/concepts/context-propagation/" rel="nofollow">context propagation</a>.</p>
<p>A&nbsp;<em>trace</em>&nbsp;is a parent/wrapper for a set of individual units of work, called&nbsp;<em>spans</em>. A trace can contain multiple spans, and spans can be nested. Imagine an e-commerce website: clicking the “buy now” button initiates a trace involving the frontend talking to the backend in one span, the backend activates a new child span to talk to the payment/shipping/order management services, and each one of those may activate a new child span to talk to some other downstream system further down. All the distributed services report their part of the trace to the OTel collector (if using OTel) and OTel builds a holistic view under a single trace ID. Well, that’s the theory anyway.</p>
<p>In a typical fashion in our industry where we have the opportunity to gather around one standard for context propagation, we decided to make several. Obligatory reference to the XKCD comic:&nbsp;<a href="https://xkcd.com/927/" rel="nofollow">Standards</a>. The context propagation implementations that OTel MUST(!) support are:</p>
<ul>
<li><a href="https://github.com/openzipkin/b3-propagation" rel="nofollow">b3</a></li>
<li><a href="https://www.w3.org/TR/trace-context/" rel="nofollow">W3C Trace Context</a></li>
<li><a href="https://www.w3.org/TR/baggage/" rel="nofollow">W3C Baggage</a></li>
<li><a href="https://www.jaegertracing.io/docs/1.63/client-libraries/#propagation-format" rel="nofollow">Jaeger</a></li>
</ul>
<p>I don’t really understand why there are four, but I think what’s happened is&nbsp;<a href="https://en.wikipedia.org/wiki/Convergent_evolution" rel="nofollow">convergent evolution</a>: different sets of people – unaware of one another – came to a shared conclusion regarding how to solve a specific problem. Honourable mention for W3C creating&nbsp;<em>two</em>&nbsp;standards for the same thing. Actually, if you read the Baggage spec, they claim that it’s independent of Trace Context. So why does OTel let me propagate the Trace Context over Baggage? I have no idea. Let me know in the comments. Does our blog have comments?</p>
<p>Now, we already had support for the now-deprecated OpenTracing within the Akka parts of our app using&nbsp;<a href="https://developer.lightbend.com/docs/telemetry/current//extensions/opentracing/opentracing.html" rel="nofollow">Lightbend Telemetry support for OpenTracing</a>. Then it got better: in version 2.20.0 of that library, they introduced support for OpenTelemetry logs/events and metrics, but – crucially –&nbsp;<strong>not tracing</strong>! Theoretically this doesn’t matter, because OTel tracing is really just a rebranding of OpenTracing, and Lightbend Telemetry’s OpenTracing supports context propagation using the above four methods anyway. So it should just work…right?</p>
<p>Of course not. We have a new fly in the ointment.</p>
<h2 id="IgotOpenTelemetrytowork.Butwhywasitsocomplicated?-ClashofAPIs">Clash of APIs</h2>
<p>IPF makes use of both Spring and Akka for different purposes: we use Spring Boot – and Spring IoC in general – to bootstrap the application and its config, build a set of dependencies, and so on. We use Akka for pretty much everything else: event sourcing, scheduling, clustering, sharding, integration, and so on. But of course we can’t stop customers from doing whatever they want, and so some of them tend to use – for example – a Spring REST controller, or perhaps a&nbsp;<code>@KafkaListener</code>-annotated method to initiate payment flows.</p>
<p>Without OTel, up until now,&nbsp;this was&nbsp;<em>fine</em>:</p>
<ul>
<li><strong>Metrics</strong>: Spring and Akka expose different Prometheus endpoints so won’t&nbsp;step on each other’s toes</li>
<li><strong>Logs</strong>: We use SLF4J and Logback which is common to both frameworks</li>
<li><strong>Traces</strong>: Both used OpenTracing</li>
</ul>
<p>When using OTel, metrics and logs were still being sent through fine based on the fact that Spring and Akka were operating independently of one another. However, when it comes to tracing, we need them to be aware of one another so that they can propagate the trace context within the JVM. The problem is now that there are two different APIs being used&nbsp;<strong>inside the app</strong>&nbsp;to reflect the same thing, and guess what: they aren’t talking to one another. Here’s a diagram if you’re struggling (I certainly am):</p>

<p><img decoding="async" src="https://iconsolutions.com/wp-content/uploads/2024/12/tracing-apis-clash.png" alt="tracing APIs clash" width="1281" height="321" srcset="https://iconsolutions.com/wp-content/uploads/2024/12/tracing-apis-clash.png 1281w, https://iconsolutions.com/wp-content/uploads/2024/12/tracing-apis-clash-300x75.png 300w, https://iconsolutions.com/wp-content/uploads/2024/12/tracing-apis-clash-1024x257.png 1024w, https://iconsolutions.com/wp-content/uploads/2024/12/tracing-apis-clash-768x192.png 768w" sizes="(max-width: 1281px) 100vw, 1281px"></p>

<p>&nbsp;The correct behaviour would be for the Akka HTTP client to reuse the same trace ID&nbsp;<code>123</code>&nbsp;from the left hand side, but make a new span ID to indicate that a new unit of work has started&nbsp;&nbsp;is part of the same&nbsp;<code>123</code>&nbsp;trace.&nbsp;&nbsp;completely different traces with no relation to one another.</p>
<p>The silver lining is that It looks like the OTel people were aware of this, and created&nbsp;<a href="https://github.com/open-telemetry/opentelemetry-java/tree/main/opentracing-shim" rel="nofollow"><code>opentracing-shim</code></a>:&nbsp;a way for you to dress up an OTel&nbsp;<a href="https://javadoc.io/doc/io.opentelemetry/opentelemetry-api/latest/io/opentelemetry/api/trace/Tracer.html" rel="nofollow"><code>Tracer</code></a>&nbsp;as an OpenTracing&nbsp;<a href="https://javadoc.io/static/io.opentracing/opentracing-api/0.33.0/io/opentracing/Tracer.html" rel="nofollow"><code>Tracer</code></a>.&nbsp;, because Lightbend Telemetry uses a custom Tracer implementation which makes the shim&nbsp;<strong>and&nbsp;</strong>Jaeger freak out, and, instead of any of these things doing their job and propagating a trivial string-string map, spams the log with:</p>
<div title="Hint: double-click to select code" id="highlighter_134516" data-hasbody="true" data-macro-name="code">
<p><code>Expected to have an OpenTelemetry Span but got cinnamon.opentracing.TraceLocal$ContextOnlySpan</code></p>
</div>
<p>And in Jaeger’s case:</p>
<div title="Hint: double-click to select code" id="highlighter_807539" data-hasbody="true" data-macro-name="code">
<p><code>Expected to have a JaegerSpanContext but got io.opentelemetry.opentracingshim.SpanContextShim</code></p>
</div>
<p>So Jaeger is freaking out because it’s getting OTel, and OTel is freaking out because it’s getting Lightbend. Why is everybody so precious about their own implementations?! All to move around a map with four scalar values?</p>
<h2 id="IgotOpenTelemetrytowork.Butwhywasitsocomplicated?-Intotheweeds">Into the weeds</h2>
<p>Both OTel and Lightbend Telemetry instrumentation use a&nbsp;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.instrument/java/lang/instrument/package-summary.html" rel="nofollow">Java Agent</a>&nbsp;which hooks into specific method calls of specific classes and reports on their activity to the tracer. The Lightbend Telemetry&nbsp; instrumentation is not open source, so I had to do a bit of digging into decompiled tracer code to figure out what on earth is going on.</p>
<p>I built a cut-down reproducer which replicates the diagram above, in which I attempted to see where exactly between the green and red box the trace context is being dropped, and see if I could help it along manually.</p>
<p>The first thing I did was set up a breakpoint on the Jaeger freak-out point (<a href="https://github.com/jaegertracing/jaeger-client-java/blob/v1.6.0/jaeger-core/src/main/java/io/jaegertracing/internal/JaegerTracer.java#L285" rel="nofollow">here</a>, if you want to play along) where it’s complaining that it’s getting a shim and not real OpenTracing. My thought process was: okay, this is close to what I want to happen (Jaeger to adopt the OTel context), so can I do something shim-free to help it along?</p>
<p>The caller that was causing it to freak out was&nbsp;<code>OpenTracingAkkaPersistenceActorInstrumentation.class</code>, a proprietary Lightbend Telemetry instrumentation class. I traced the Jaeger breakpoint to this point in the stack which looks promising:</p>
<p><span><img decoding="async" draggable="false" src="https://confluence.iconsolutions.com/download/attachments/415702396/image-2024-11-14_20-12-47.png?version=1&amp;modificationDate=1731575567742&amp;api=v2" alt="" data-image-src="/download/attachments/415702396/image-2024-11-14_20-12-47.png?version=1&amp;modificationDate=1731575567742&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="415702752" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-2024-11-14_20-12-47.png" data-base-url="https://confluence.iconsolutions.com" data-linked-resource-content-type="image/png" data-linked-resource-container-id="415702396" data-linked-resource-container-version="16"></span></p>
<p>It was line 153 that calls into Jaeger and upsets it, but the first clue was on line 152: if&nbsp;<code>var5</code>&nbsp;– an OpenTracing&nbsp;<a href="https://www.javadoc.io/static/io.opentracing/opentracing-api/0.33.0/io/opentracing/SpanContext.html" rel="nofollow"><code>SpanContext</code></a>&nbsp;– is not null, we attach our new span as a child of the current active span. If&nbsp;<code>var5</code>&nbsp;is null, the span has no relationship to the existing trace, and if&nbsp;<code>var5</code>&nbsp;is not a Jaeger SpanContext then Jaeger freaks out. So how can we make&nbsp;<code>var5</code>&nbsp;something that is both null and Jaeger-friendly?</p>
<p>On line 147, the&nbsp;<code>SpanContext</code>&nbsp;is being populated from&nbsp;<code>this.traceLocal.currentContext()</code>&nbsp;. So can I access this from outside somehow and just create a new Jaeger SpanContext myself and stop using the shim?</p>
<p>I then breakpointed on the constructor of&nbsp;<code>OpenTracingAkkaPersistenceActorInstrumentation</code>&nbsp;to see how&nbsp;<code>traceLocal</code>&nbsp;is initialised. Behold another decompiled wonder:</p>
<p><span><img decoding="async" draggable="false" src="https://confluence.iconsolutions.com/download/attachments/415702396/image-2024-11-14_20-19-29.png?version=1&amp;modificationDate=1731575969827&amp;api=v2" alt="" data-image-src="/download/attachments/415702396/image-2024-11-14_20-19-29.png?version=1&amp;modificationDate=1731575969827&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="415702771" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-2024-11-14_20-19-29.png" data-base-url="https://confluence.iconsolutions.com" data-linked-resource-content-type="image/png" data-linked-resource-container-id="415702396" data-linked-resource-container-version="16"></span></p>
<p>Okay,&nbsp;<code>var4</code>&nbsp;is an&nbsp;<code>ExtendedTracer</code>, and from my extensive trawling of Lightbend Telemetry docs, I remembered&nbsp;<a href="https://developer.lightbend.com/docs/telemetry/current//extensions/opentracing/api.html#globalextendedtracer-active-context" rel="nofollow">they had written</a>&nbsp;that it’s possible to access this ExtendedTracer programmatically using the following magical incantation:</p>
<div title="Hint: double-click to select code" id="highlighter_631775" data-hasbody="true" data-macro-name="code">
<p><code>GlobalExtendedTracer.get()</code></p>
</div>
<p>Things are so simple once you know what you’re doing!</p>
<p>This returns an&nbsp;<code>ExtendedTracer</code>&nbsp;and indeed calling&nbsp;<code>local()</code>&nbsp;returns the same&nbsp;<code>TraceLocal</code>&nbsp;that is being used by the instrumentation library. I also noticed that this&nbsp;<code>TraceLocal</code>&nbsp;has an&nbsp;<code>activateContext</code>&nbsp;method which takes an OpenTracing&nbsp;<code>SpanContext</code>. So if I ditch the shim and manually convert the OpenTelemetry Context into a Jaeger SpanContext, then:</p>
<ul>
<li>Jaeger will be happy because it gets its own SpanContext implementation</li>
<li>The shim will be happy because…it’s not being used</li>
<li>I will be happy because the trace ID should be propagated (albeit manually) between OTel and OpenTracing</li>
</ul>
<p>We can convert an OTel context into a OpenTracing one manually using the&nbsp;<a href="https://opentelemetry.io/docs/specs/otel/context/api-propagators/#operations" rel="nofollow">inject and extract operations</a>&nbsp;from the propagators API: I tell OTel to populate (“inject”) a generic Java Map with the context, and I then populate (“extract”) the Jaeger SpanContext with the values of the map.</p>
<p>Here’s what it all it looks like if you’re technically oriented (you must be if you’ve read all the way down here):</p>
<div>
<pre>//make an empty map to populate
var otelContext = new HashMap&lt;&gt;();
//inject OTel context into the map
GlobalOpenTelemetry.get().getPropagators().getTextMapPropagator().inject(Context.current(), otelContext, (carrier, key, value) -&gt; carrier.put(key, value));
//populate new JaegerSpanContext from aforementioned map 
var openTracingContext = new TextMapCodec(false).extract(new TextMapAdapter(otelContext));
//activate this new context before going into Akka
GlobalExtendedTracer.get().local().activateContext(openTracingContext);
//do stuff here - either OTel or Akka - because they should both be sharing the same context now</pre>
</div>
<p>Okay, let’s spin it up, and:</p>
<div data-drawio-colors="color: rgb(0, 0, 0); " id="drawio-macro-content-5f7187e0-ae96-4723-a83f-818ccebdd6df" data-macroid="5f7187e0-ae96-4723-a83f-818ccebdd6df" data-buildnum="9012">
<p><img loading="lazy" decoding="async" src="https://iconsolutions.com/wp-content/uploads/2024/12/otel-works.png" alt="oTel works" width="1839" height="889" srcset="https://iconsolutions.com/wp-content/uploads/2024/12/otel-works.png 1839w, https://iconsolutions.com/wp-content/uploads/2024/12/otel-works-300x145.png 300w, https://iconsolutions.com/wp-content/uploads/2024/12/otel-works-1024x495.png 1024w, https://iconsolutions.com/wp-content/uploads/2024/12/otel-works-768x371.png 768w, https://iconsolutions.com/wp-content/uploads/2024/12/otel-works-1536x743.png 1536w" sizes="(max-width: 1839px) 100vw, 1839px"></p>
</div>
<p>Yes! We can see that it’s working correctly and ticking all the boxes:</p>
<ul>
<li>We have a single trace connecting everything from the initial Spring REST call to&nbsp;<code>/submit</code></li>
<li>We can mix usages of stuff instrumented by OTel and OpenTracing APIs</li>
<li>The trace is propagated across an HTTP boundary (bottom two spans)</li>
</ul>
<p>I gave the two different instrumentations two different names above to highlight that they are two kinds of tracing. But in real life we’d recommend to customers that they line up the&nbsp;<code>otel.service.name</code>&nbsp;and the&nbsp;<code>cinnamon.application</code>&nbsp;to appear as one application to the outside world.</p>
<h2 id="IgotOpenTelemetrytowork.Butwhywasitsocomplicated?-Reflections">Reflections</h2>
<p>From looking at the decompiled Lightbend Telemetry library, I can see that rewriting it to use OTel APIs would be a big effort: they would have to port their&nbsp;<a href="https://developer.lightbend.com/docs/telemetry/current/instrumentations/instrumentations.html" rel="nofollow">many instrumentations</a>&nbsp;– which are currently tied to the Jaeger API – to use the OTel API. But the silver bullet for them is that the OTel Collector supports collecting traces in the legacy Zipkin format, so they could release complete OTel support by relying on the legacy support, and they probably don’t have too many customers like us who are having this kind of clash.</p>
<p>To answer the titular question of why it was so complicated, I guess the short answer is that it’s self-inflicted: by trying to combine two different instrumentations which use two different tracing libraries we’re kind of asking for trouble. I think the OTel project has done a good job of attempting to apply some standardisation in this space (see for example semantic conventions). It starts off&nbsp;a little bit complex to wrap your head around, but I believe it’s a great FOSS project full of great&nbsp;people doing good things.</p>
<p>I am a little bit concerned about how or if Akka will correctly pass the trace context between threads inside its actor model. It seems to be working as expected from my small amount of load testing, but I have opened a ticket with them and can update this if there’s enough demand!</p>
<p>I hope that this will be of help to somebody. And if not, thanks for the free therapy session. Until next time!</p>
                    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Learning How to Think with Meta Chain-of-Thought (197 pts)]]></title>
            <link>https://arxiv.org/abs/2501.04682</link>
            <guid>42655098</guid>
            <pubDate>Fri, 10 Jan 2025 12:37:54 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arxiv.org/abs/2501.04682">https://arxiv.org/abs/2501.04682</a>, See on <a href="https://news.ycombinator.com/item?id=42655098">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content-inner">
    
    
    <div><p><span>Authors:</span><a href="https://arxiv.org/search/cs?searchtype=author&amp;query=Xiang,+V" rel="nofollow">Violet Xiang</a>, <a href="https://arxiv.org/search/cs?searchtype=author&amp;query=Snell,+C" rel="nofollow">Charlie Snell</a>, <a href="https://arxiv.org/search/cs?searchtype=author&amp;query=Gandhi,+K" rel="nofollow">Kanishk Gandhi</a>, <a href="https://arxiv.org/search/cs?searchtype=author&amp;query=Albalak,+A" rel="nofollow">Alon Albalak</a>, <a href="https://arxiv.org/search/cs?searchtype=author&amp;query=Singh,+A" rel="nofollow">Anikait Singh</a>, <a href="https://arxiv.org/search/cs?searchtype=author&amp;query=Blagden,+C" rel="nofollow">Chase Blagden</a>, <a href="https://arxiv.org/search/cs?searchtype=author&amp;query=Phung,+D" rel="nofollow">Duy Phung</a>, <a href="https://arxiv.org/search/cs?searchtype=author&amp;query=Rafailov,+R" rel="nofollow">Rafael Rafailov</a>, <a href="https://arxiv.org/search/cs?searchtype=author&amp;query=Lile,+N" rel="nofollow">Nathan Lile</a>, <a href="https://arxiv.org/search/cs?searchtype=author&amp;query=Mahan,+D" rel="nofollow">Dakota Mahan</a>, <a href="https://arxiv.org/search/cs?searchtype=author&amp;query=Castricato,+L" rel="nofollow">Louis Castricato</a>, <a href="https://arxiv.org/search/cs?searchtype=author&amp;query=Franken,+J" rel="nofollow">Jan-Philipp Franken</a>, <a href="https://arxiv.org/search/cs?searchtype=author&amp;query=Haber,+N" rel="nofollow">Nick Haber</a>, <a href="https://arxiv.org/search/cs?searchtype=author&amp;query=Finn,+C" rel="nofollow">Chelsea Finn</a></p></div>            
    <p><a href="https://arxiv.org/pdf/2501.04682">View PDF</a></p><blockquote>
            <span>Abstract:</span>We propose a novel framework, Meta Chain-of-Thought (Meta-CoT), which extends traditional Chain-of-Thought (CoT) by explicitly modeling the underlying reasoning required to arrive at a particular CoT. We present empirical evidence from state-of-the-art models exhibiting behaviors consistent with in-context search, and explore methods for producing Meta-CoT via process supervision, synthetic data generation, and search algorithms. Finally, we outline a concrete pipeline for training a model to produce Meta-CoTs, incorporating instruction tuning with linearized search traces and reinforcement learning post-training. Finally, we discuss open research questions, including scaling laws, verifier roles, and the potential for discovering novel reasoning algorithms. This work provides a theoretical and practical roadmap to enable Meta-CoT in LLMs, paving the way for more powerful and human-like reasoning in artificial intelligence.
    </blockquote>

    <!--CONTEXT-->
    
  </div><div>
      <h2>Submission history</h2><p> From: Rafael Rafailov [<a href="https://arxiv.org/show-email/39233bf9/2501.04682" rel="nofollow">view email</a>]      <br>    <strong>[v1]</strong>
        Wed, 8 Jan 2025 18:42:48 UTC (24,263 KB)<br>
</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Who Can Understand the Proof? A Window on Formalized Mathematics (177 pts)]]></title>
            <link>https://writings.stephenwolfram.com/2025/01/who-can-understand-the-proof-a-window-on-formalized-mathematics/</link>
            <guid>42654995</guid>
            <pubDate>Fri, 10 Jan 2025 12:21:06 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://writings.stephenwolfram.com/2025/01/who-can-understand-the-proof-a-window-on-formalized-mathematics/">https://writings.stephenwolfram.com/2025/01/who-can-understand-the-proof-a-window-on-formalized-mathematics/</a>, See on <a href="https://news.ycombinator.com/item?id=42654995">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            
<h2 id="the-simplest-axiom-for-logic">The Simplest Axiom for Logic</h2>



<p><a href="https://www.wolframscience.com/nks/p808--implications-for-mathematics-and-its-foundations/">Theorem <span>(Wolfram with Mathematica, 2000)</span></a>: <br>The single axiom <span>((<em>a</em>•<em>b</em>)•<em>c</em>)•(<em>a</em>•((<em>a</em>•<em>c</em>)•<em>a</em>))<span></span><em>c</em></span> is a complete axiom system for Boolean algebra (and is the simplest possible)</p>
<p>For more than a century <a href="https://writings.stephenwolfram.com/2018/11/logic-explainability-and-the-future-of-understanding/#the-history">people had wondered</a> how simple the axioms of logic (Boolean algebra) could be. <a href="https://writings.stephenwolfram.com/2018/11/logic-explainability-and-the-future-of-understanding/#a-discovery-about-basic-logic">On January 29, 2000, I found the answer</a>—and made the surprising discovery that they could be about twice as simple as anyone knew. (I also showed that what I found was <a href="https://www.wolframscience.com/nks/notes-12-9--searching-for-logic-axioms/">the simplest possible</a>.) </p>
<p>It was an interesting result—that gave new intuition about just how simple the foundations of things can be, and for example helped inspire my efforts to find a <a href="https://www.wolframphysics.org/" target="_blank" rel="noopener">simple underlying theory of physics</a>. </p>
<p>But how did I get the result? Well, I used automated theorem proving (specifically, what’s now <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt> in <a href="https://www.wolfram.com/language/">Wolfram Language</a>). Automated theorem proving is something that’s <a href="https://www.wolframscience.com/nks/notes-12-9--automated-theorem-proving/">been around since at least the 1950s</a>, and its core methods haven’t changed in a long time. But in the rare cases it’s been used in mathematics it’s typically been to confirm things that were already believed to be true. And in fact, to my knowledge, my Boolean algebra axiom is actually the only truly unexpected result that’s ever been found for the first time using automated theorem proving.<span id="more-65170"></span></p>
<p>But, OK, so we know it’s true. And that’s interesting. But what about the proof? Does the proof, for example, show us why the result is true? Well, actually, in a quarter of a century, nobody (including me) has ever made much headway at all in understanding the proof (which, at least in the form we currently know it, is long and complicated). So is that basically inevitable—say as a consequence of <a href="https://www.wolframscience.com/nks/chap-12--the-principle-of-computational-equivalence#sect-12-6--computational-irreducibility">computational irreducibility</a>? Or is there some way—perhaps <a href="https://writings.stephenwolfram.com/2023/02/what-is-chatgpt-doing-and-why-does-it-work/">using modern AI</a>—to “humanize” the proof to a point where one can understand it?</p>
<p>It is, I think, an interesting challenge—that gets at the heart of what one can (and can’t) expect to achieve with formalized mathematics. In what follows, I’ll discuss what I’ve been able to figure out—and how it relates to foundational questions about what mathematics is and how it can be done. And while I think I’ve been able to clarify some of the issues, the core problem is still out there—and I’d like to issue it here as a challenge:</p>
<p><span>Challenge:</span> Understand the proof of the Theorem</p>
<p>What do I mean by “understand”? Inevitably, “understand” has to be defined in human terms. Something like “so a human can follow and reproduce it”—and, with luck, feel like saying “aha!” at some point, the kind of way they might on hearing a proof of the Pythagorean theorem (or, in logic, something like de Morgan’s law <tt><a href="http://reference.wolfram.com/language/ref/Not.html">Not</a></tt>[<tt><a href="http://reference.wolfram.com/language/ref/And.html">And</a></tt>[<em>p</em>, <em>q</em>]]<span></span><tt><a href="http://reference.wolfram.com/language/ref/Or.html">Or</a></tt>[<tt><a href="http://reference.wolfram.com/language/ref/Not.html">Not</a></tt>[<em>p</em>], <tt><a href="http://reference.wolfram.com/language/ref/Not.html">Not</a></tt>[<em>q</em>]]). </p>
<p>It should be said that it’s certainly not clear that such an understanding would ever be possible. After all, as we’ll discuss, it’s a basic metamathematical fact that out of all possible theorems almost none have short proofs, at least in terms of any particular way of stating the proofs. But what about an “interesting theorem” like the one we’re considering here? Maybe that’s different. Or maybe, at least, there’s some way of building out a “higher-level mathematical narrative” for a theorem like this that will take one through the proof in human-accessible steps.</p>
<p>In principle one could always imagine a somewhat bizarre scenario in which people would just rote learn chunks of the proof, perhaps giving each chunk some name (a bit like how people learned bArbArA and cElArEnt syllogisms in the Middle Ages). And in terms of these chunks there’d presumably then be a “human way” to talk about the proof. But learning the chunks—other than as some kind of recreational or devotional activity—doesn’t seem to make much sense unless there’s metamathematical structure that somehow connects the chunks to “general concepts” that are widely useful elsewhere. </p>
<p>But of course it’s still conceivable that there might be a “big theory” that would lead us to the theorem in an “understandable way”. And that could be a traditional mathematical theory, built up with precise, if potentially very abstract, constructs. But what about something more like a theory in natural science? In which we might treat our automatically generated proof as an object for empirical study—exploring its characteristics, trying to get intuition about it, and ultimately trying to deduce the analog of “natural laws” that give us a “human-level” way of understanding it. </p>
<p>Of course, for many purposes it doesn’t really matter why the theorem is true. All that matters is that it is true, and that one can deduce things on the basis of it. But as one thinks about the future of mathematics, and the future of doing mathematics, it’s interesting to explore to what extent it might or might not ultimately be possible to understand in a human-accessible way the kind of seemingly alien result that the theorem represents. </p>
<h2 id="the-proof-as-we-know-it">The Proof as We Know It</h2>
<p>I first presented a version of the proof on <a href="https://www.wolframscience.com/nks/p810--implications-for-mathematics-and-its-foundations/">two pages</a> of my 2002 book <em><a href="https://www.wolframscience.com/nks/">A New Kind of Science</a></em>, printing it in 4-point type to make it fit: </p>
<p><a href="https://files.wolframcdn.com/pub/www.wolframscience.com/nks/nks-ch12-sec9.pdf"><img src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg1.png" alt="Axiom proof" title="Axiom proof" width="619" height="373"></a></p>
<p>Today, generating a very similar proof is a one-liner in Wolfram Language (as we’ll discuss below, the · dot here can be thought of as representing the <tt><a href="http://reference.wolfram.com/language/ref/Nand.html">Nand</a></tt> operation):</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg2.png" alt="" title="" width="455" height="100"> </p>
</div>
<p>The proof involves 307 (mostly rather elaborate) steps. And here’s one page of it (out of about 30)—presented in the form of a computable Wolfram Language dataset:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg4.png" alt="Example proof steps page" title="Example proof steps page" width="619" height="385"></p>
</div>
<p>What’s the basic idea of this proof? Essentially it’s to perform a sequence of purely structural symbolic operations that go from our axiom to <a href="https://www.wolframscience.com/nks/p808--implications-for-mathematics-and-its-foundations/">known axioms of Boolean algebra</a>. And the proof does this by proving a series of lemmas which can be combined to eventually give what we want: </p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg5A.png" alt="" title="" width="689" height="1012"> </p>
</div>
<p>The highlighted “targets” here are the standard Sheffer axioms for Boolean algebra from 1913:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg6.png" alt="" title="" width="278" height="60"> </p>
</div>
<p>And, yes, even though these are quite short, the intermediate lemmas involved in the proof get quite long—the longest involving 60 symbols (i.e. having <tt><a href="http://reference.wolfram.com/language/ref/LeafCount.html">LeafCount</a></tt> 60):</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg7.png" alt="" title="" width="488" height="40"> </p>
</div>
<p>It’s as if to get to where it’s going, the proof ends up having to go through the wilds of metamathematical space. And indeed one gets a sense of this if one plots the sizes (i.e. <tt><a href="http://reference.wolfram.com/language/ref/LeafCount.html">LeafCount</a></tt>) of successive lemmas:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg8.png" alt="" title="" width="674" height="142"> </p>
</div>
<p>Here’s the distribution of these sizes, showing that while they’re often small, there’s a long tail (note, by the way, that if dot · appears <em>n</em> times in a lemma, the <tt><a href="http://reference.wolfram.com/language/ref/LeafCount.html">LeafCount</a></tt> will be 2<em>n</em> + 3):</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg9.png" alt="" title="" width="259" height="122"> </p>
</div>
<p>So how are these lemmas related? Here’s a graph of their interdependence (with the size of each dot being proportional to the size of the lemma it represents):</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg10.png" alt="" title="" width="565" height="710"> </p>
</div>
<p>Zooming in on the top we see more detail:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg11.png" alt="" title="" width="595" height="375"> </p>
</div>
<p>We start from our axiom, then derive a whole sequence of lemmas—as we’ll see later, always <a href="https://www.wolframscience.com/metamathematics/proofs-in-accumulative-systems/">combining two lemmas to create a new one</a>. (And, yes, we could equally well call these things theorems—but we generate so many of them it seems more natural to call them “lemmas”.) </p>
<p>So, OK, we’ve got a complicated proof. But how can we check that it’s correct? Well, from the symbolic representation of the proof in the Wolfram Language we can immediately generate a “proof function” that in effect contains executable versions of all the lemmas—implemented using simple structural operations:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofCLOUDAimg11A.png" alt="" title="" width="551" height="453"> </p>
</div>
<p>And when you run this function, it applies all these lemmas and checks that the result comes out right:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg14.png" alt="" title="" width="259" height="43"> </p>
</div>
<p>And, yes, this is basically what one would do in a proof assistant system (like <a href="https://lean-lang.org/" target="_blank" rel="noopener">Lean</a> or <a href="https://us.metamath.org/index.html" target="_blank" rel="noopener">Metamath</a>)—except that here the steps in the proof were generated purely automatically, without any human guidance (or effort). And, by the way, the fact that we can readily translate our symbolic proof representation into a function that we can run provides an operational manifestation of the equivalence between proofs and programs. </p>
<p>But let’s look back at our lemma-interdependence “proof graph”. One notable feature is that we see several nodes with high out-degree—corresponding to what we can think of as “pivotal lemmas” from which many other lemmas end up directly being proved. So here’s a list of the “most pivotal” lemmas in our proof:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg15.png" alt="" title="" width="329" height="178"> </p>
</div>
<p>Or, more graphically, here are the results for all lemmas that occur:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg16.png" alt="" title="" width="344" height="239"> </p>
</div>
<p>So what are the “pivotal lemmas”? <em>a</em> · <em>b</em> = <em>b</em> · <em>a</em> we readily recognize as commutativity. But the others—despite their comparative simplicity—don’t seem to correspond to things that have specifically shown up before in the mathematical literature (or, as we’ll <a href="https://writings.stephenwolfram.com/2025/01/who-can-understand-the-proof-a-window-on-formalized-mathematics/#llms-to-the-rescue">discuss later</a>, that’s at least what the current generation of LLMs tell us).</p>
<p>But looking at our proof graph something we can conclude is that a large fraction of the “heavy lifting” needed for the whole proof has already happened by the time we can prove <em>a</em> · <em>b</em> = <em>b</em> · <em>a</em>. So, for the sake of avoiding at least some of hairy detail in the full proof, in most of what follows, we’ll concentrate on the proof of <em>a</em> · <em>b</em> = <em>b</em> · <em>a</em>—which <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt> tells us we can accomplish in 104 steps, with a proof graph of the form</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg17.png" alt="" title="" width="666" height="824"> </p>
</div>
<p>with the sizes of successive lemmas (in what is basically a breadth-first traversal of the proof graph) being:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg18A.png" alt="" title="" width="509" height="117"> </p>
</div>
<h2 id="the-machine-code-of-the-proof">The “Machine Code” of the Proof</h2>
<p>It’s already obvious from the previous section that the proof as we currently know it is long, complicated, and fiddly—and in many ways reminiscent of something at a “machine-code” level. But to get a grounded sense of what’s going on in the proof, it’s useful to dive into the details—even if, yes, they can be seriously hard to wrap one’s head around. </p>
<p>At a fundamental level, the way the proof—say of <em>a</em> · <em>b</em> = <em>b</em> · <em>a</em>—works is by starting from our axiom, and then progressively deducing new lemmas from pairs of existing lemmas. In the simplest case, that deduction works by <a href="https://www.wolframscience.com/metamathematics/the-metamodeling-of-axiomatic-mathematics/">straightforward symbolic substitution</a>. So, for example, let’s say we have the lemmas</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg1.png" alt="" title="" width="121" height="14"> </p>
</div>
<p>and </p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg2.png" alt="" title="" width="121" height="14"> </p>
</div>
<p>Then it turns out that from these lemmas we can deduce:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg3.png" alt="" title="" width="121" height="14"> </p>
</div>
<p>Or, in other words, knowing that the first two lemmas hold for any <em>a</em> gives us enough information about · that the third lemma must inevitably also hold. So how do we derive this?</p>
<p>Our lemmas in effect <a href="https://www.wolframscience.com/metamathematics/rules-applied-to-rules/">define two-way equivalences</a>: their left-hand sides are defined as equal to their right-hand sides, which means that if we see an expression that (structurally) matches one side of a lemma, we can always replace it by the other side of the lemma. And to implement this, we can write our second lemma explicitly as a rule—where to avoid confusion we’re using <em>x</em> rather than <em>a</em>:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg4.png" alt="" title="" width="141" height="14"> </p>
</div>
<p>But if we now look at our first lemma, we see that there’s part of it (indicated with a frame) that matches the left-hand side of our rule:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg5.png" alt="" title="" width="132" height="25"> </p>
</div>
<p>If we replace this part (which is at position {2,2}) using our rule we then get</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg6.png" alt="" title="" width="121" height="14"> </p>
</div>
<p>which is precisely the lemma we wanted to deduce. </p>
<p>We can summarize what happened here as a fragment of our proof graph—in which a “substitution event” node takes our first two lemmas as input, and “outputs” our final lemma:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025KDCLOUDimg1.png" alt="" title="" width="277" height="99"> </p>
</div>
<p>As always, the symbolic expressions we’re working with here can be represented as trees:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg8.png" alt="" title="" width="391" height="158"> </p>
</div>
<p>The substitution event then corresponds to a tree rewriting:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025KDCLOUDimg2.png" alt="" title="" width="275" height="242"> </p>
</div>
<p>The <a href="https://www.wolframscience.com/metamathematics/relations-to-automated-theorem-proving/">essence of automated theorem proving</a> is to find a particular sequence of substitutions etc. that get us from whatever axioms or lemmas we’re starting with, to whatever lemmas or theorems we want to reach. Or in effect to find a suitable “path” through the multiway graph of all possible substitutions etc. that can be made. </p>
<p>So, for example, in the particular case we’re considering here, this is the graph that represents all possible transformations that can occur through a single substitution event:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg10.png" alt="" title="" width="582" height="285"> </p>
</div>
<p>The particular transformation (or “path”) we’ve used to prove <em>a</em> · <em>a</em> = <em>a</em> · ((<em>a</em> · <em>a</em>) · <em>a</em>) is highlighted. But as we can see, there are many other possible lemmas that can be generated, or in other words that can be proved from the two lemmas we’ve given as input. Put another way, we can think of our input lemmas as implying or entailing all the other lemmas shown here. And, by analogy to the concept of a light cone in physics, we can view the collection of everything entailed by given lemmas or given events as the (future) “<a href="https://www.wolframscience.com/metamathematics/metamathematical-space/#p-28">entailment cone</a>” of those lemmas or events. A proof that reaches a particular lemma is then effectively a path in this entailment cone—analogous in physics to a world line that reaches a particular spacetime point.</p>
<p>If we continue building out the entailment cone from our original lemmas, then after two (substitution) events we get:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg11.png" alt="" title="" width="701" height="454"> </p>
</div>
<p>There are 49 lemmas generated here. But it turns out that beyond the lemma we already discussed there are only three (highlighted here) that appear in the proof we are studying here:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg12.png" alt="" title="" width="281" height="60"> </p>
</div>
<p>And indeed the <a href="https://writings.stephenwolfram.com/2018/11/logic-explainability-and-the-future-of-understanding/#the-mechanics-of-proof">main algorithmic challenge of theorem proving</a> is to figure out which lemmas to generate in order to get a path to the theorem one’s trying to prove. And, yes, as we’ll discuss later, there are typically many paths that will work, and different algorithms will yield different paths and therefore different proofs.</p>
<p>But, OK, seeing how new lemmas can be derived from old by substitution is already quite complicated. But actually there’s something even more complicated we need to discuss: deriving lemmas not only by substitution but also by what we’ve called <a href="https://www.wolframscience.com/metamathematics/beyond-substitution-cosubstitution-and-bisubstitution/">bisubstitution</a>. </p>
<p>We can think of both substitution and bisubstitution as turning one lemma X == Y into a transformation rule (either X <img src="https://content.wolfram.com/uploads/sites/32/2022/10/rightarrow2.png" width="15" height="11"> Y or Y <img src="https://content.wolfram.com/uploads/sites/32/2022/10/rightarrow2.png" width="15" height="11"> X), and then applying this rule to another lemma, to derive a new lemma. In ordinary substitution, the left-hand side of the rule directly matches (in a Wolfram Language pattern-matching sense) a subexpression in the lemma we’re transforming. But the key point is that all the variables that appear in both our lemmas are really “pattern variables” (<tt>x_</tt> etc. in Wolfram Language). So that means there’s another way that one lemma can transform another, in which in effect replacements are made not only in the lemma being transformed, but also in the lemma that’s doing the transforming. </p>
<p>The net effect, though, is still to take two lemmas and derive another, as in:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025KDCLOUDimg3.png" alt="" title="" width="414" height="130"> </p>
</div>
<p>But in tracing through the details of our proof, we need to distinguish “substitution events” (shown yellowish) from “bisubstitution” ones (shown reddish). (In <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt> in Wolfram Language, lemmas produced by ordinary substitution are called “substitution lemmas”, while lemmas produced by bisubstitution are called “critical pair lemmas”.)</p>
<p>OK, so how does bisubstitution work? Let’s look at an example. We’re going to be transforming the lemma </p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg14.png" alt="" title="" width="235" height="14"> </p>
</div>
<p>using the lemma (which in this case happens to be our original axiom)</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg15.png" alt="" title="" width="183" height="14"> </p>
</div>
<p>to derive the new lemma:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg16.png" alt="" title="" width="235" height="14"> </p>
</div>
<p>We start by creating a rule from the second lemma. In this case, the rule we need happens to be reversed relative to the way we wrote the lemma, and this means that (in the canonical form we’re using) it’s convenient to rename the variables that appear:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg17.png" alt="" title="" width="237" height="14"> </p>
</div>
<p>To do our bisubstitution we’re going to apply this rule to a subterm of our first lemma. We can write that first lemma with explicit pattern variables:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg18.png" alt="" title="" width="311" height="14"> </p>
</div>
<p>As always, the particular names of those variables don’t matter. And to avoid confusion, we’re going to rename them:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg19.png" alt="" title="" width="306" height="14"> </p>
</div>
<p>Now look at this subterm of this lemma (which is part {2,1,1,2} of the expression):</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg20.png" alt="" title="" width="102" height="14"> </p>
</div>
<p>It turns out that with appropriate bindings for pattern variables this can be matched (or “unified”) with the left-hand side of our rule. This provides a way to find such bindings:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg21.png" alt="" title="" width="345" height="14"> </p>
</div>
<p>(Note that in these bindings things like c_ stand only for explicit expressions, like c_, not for expressions that the ordinary Wolfram Language pattern <tt>c_</tt> would match.)</p>
<p>Now if we apply the bindings we’ve found to the left-hand side of our rule</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg22.png" alt="" title="" width="277" height="14"> </p>
</div>
<p>and to the subterm we picked out from our lemma</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg23.png" alt="" title="" width="277" height="14"> </p>
</div>
<p>we see that we get the same expression. Which means that with these bindings the subterm matches the left-hand side of our rule, and we can therefore replace this subterm with the right-hand side of the rule. To see all this in operation, we first apply the bindings we’ve found to the lemma we’re going to transform (and, as it happens, the binding for y_ is the only one that matters here):</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg24.png" alt="" title="" width="615" height="14"> </p>
</div>
<p>Now we take this form and apply the rule at the position of the subterm we identified:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg25.png" alt="" title="" width="342" height="14"> </p>
</div>
<p>Renaming variables</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg26.png" alt="" title="" width="345" height="14"> </p>
</div>
<p> we now finally get exactly the lemma that we were trying to derive:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg27.png" alt="" title="" width="235" height="14"> </p>
</div>
<p>And, yes, getting here was a pretty complicated process. But with the symbolic character of our lemmas, it’s one that is inevitably possible, and so can be used in our proof. And in the end, out of the 101 lemmas used in the proof, 47 were derived by ordinary substitution, while 54 were derived by bisubstitution.</p>
<p>And indeed the first few steps of the proof turn out to use only bisubstituion. An example is the first step—which effectively applies the original axiom to itself using bisubsitution:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025KDCLOUDimg4.png" alt="" title="" width="243" height="149"> </p>
</div>
<p>And, yes, even this very first step is pretty difficult to follow. </p>
<p>If we start from the original axiom, there are 16 lemmas that can be derived purely by a single ordinary substitution (effectively of the axiom into itself)—resulting in the following entailment cone:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg29.png" alt="" title="" width="693" height="323"> </p>
</div>
<p>As it happens, though, none of the 16 new lemmas here actually get used in our proof. On the other hand, in the bisubstitution entailment cone</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg30.png" alt="" title="" width="693" height="251"> </p>
</div>
<p>there are 27 new lemmas, and 4 of them get used in the proof—as we can see from the first level of the proof graph (here rotated for easier rendering):</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg31.png" alt="" title="" width="657" height="101"> </p>
</div>
<p>At the next level of the entailment cone from ordinary substitution, there are 5153 new lemmas—none of which get used in the proof. But of the 23215 new lemmas in the (pure) bisubstitution entailment cone, 5 do get used:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg32.png" alt="" title="" width="663" height="112"> </p>
</div>
<p>At the next level, lemmas generated by ordinary substitution also start to get used:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg33.png" alt="" title="" width="657" height="126"> </p>
</div>
<p>Here’s another rendering of these first few levels of the proof graph:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg34.png" alt="" title="" width="295" height="198"> </p>
</div>
<p>Going to another couple of levels we’re starting to see quite a few independent chains of lemmas developing</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg35.png" alt="" title="" width="454" height="289"> </p>
</div>
<p>which eventually join up when we assemble the whole proof graph:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg36.png" alt="" title="" width="605" height="631"> </p>
</div>
<p>A notable feature of this proof graph is that it has more bisubstitution events at the top, and more ordinary substitution events at the bottom. So why is that? Essentially it seems to be because bisubstitution events tend to produce larger lemmas, and ordinary substitution events tend to produce smaller ones—as we can see if we plot input and output lemma sizes for all events in the proof:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg37.png" alt="" title="" width="451" height="479"> </p>
</div>
<p>So in effect what seems to be happening is that the proof first has to “spread out in <a href="https://www.wolframscience.com/metamathematics/metamathematical-space/">metamathematical space</a>”, using bisubstitution to generate large lemmas “far out in metamathematical space”. Then later the proof has to “corral things back in”, using ordinary substitution to generate smaller lemmas. And for example, at the very end, it’s a substitution event that yields the final theorem we’re trying to prove:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg38.png" alt="" title="" width="277" height="100"> </p>
</div>
<p>And earlier in the graph, there’s a similar “collapse” to a small (and rather pivotal) lemma:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025machineCLOUDimg39.png" alt="" title="" width="406" height="120"> </p>
</div>
<p>As the plot above indicates, ordinary substitution can lead to large lemmas, and indeed bisubstitution can also lead to smaller ones, as in</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025machineCLOUDimg40.png" alt="" title="" width="367" height="87"> </p>
</div>
<p>or slightly more dramatically:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025machineCLOUDimg41.png" alt="" title="" width="630" height="140"> </p>
</div>
<p>But, OK, so this is some of what’s going on at a “machine-code” level inside the proof we have. Of course, given our axiom and the operations of substitution and bisubstitution there are inevitably a huge number of different possible proofs that could be given. The particular proof we’re considering is what the Wolfram Language <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt> gives. (In the Appendix, we’ll also look at results from some other automated theorem proving systems. The results will be very comparable, if usually a little lengthier.) </p>
<p>We won’t discuss the detailed (and rather elaborate) algorithms inside <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt>. But fundamentally what they’re doing is to try constructing certain lemmas, then to find sequences of lemmas that eventually form a “path” to what we’re trying to prove. And as some indication of what’s involved in this, here’s a plot of the number of “candidate lemmas” that are being maintained as possible when different lemmas in the proof are generated:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg42.png" alt="" title="" width="354" height="145"> </p>
</div>
<p>And, yes, for a while there’s roughly exponential growth, leveling off at just over a million when we get to the “pulling everything together” stage of the proof.</p>
<h2 id="unrolling-the-proof">Unrolling the Proof</h2>
<p>In what we’ve done so far, we’ve viewed our proof as working by starting from an axiom, then <a href="https://www.wolframscience.com/nks/notes-12-9--proof-structures/">progressively building up lemmas</a>, until eventually we get to the theorem we want. But there’s an alternative view that’s in some ways useful in getting a more direct, “mechanical” intuition about what’s going on in the proof.</p>
<p>Let’s say we’re trying to prove that our axiom implies that <em>p</em> · <em>q</em> = <em>q</em> · <em>p</em>. Well, then there must be some way to start from the expression <em>p</em> · <em>q</em> and just keep on judiciously applying the axiom until eventually we get to the expression <em>q</em> · <em>p</em>. And, yes, the number of axiom application steps required might be very large. But ultimately, if it’s true that the axiom implies <em>p</em> · <em>q</em> = <em>q</em> · <em>p</em> there must be a path that gets from <em>p</em> · <em>q</em> to <em>q</em> · <em>p</em>.</p>
<p>But before considering the case of our full proof, let’s start with something simpler. Let’s assume that we’ve already established the lemmas:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg1.png" alt="" title="" width="121" height="37"> </p>
</div>
<p>Then we can treat them as axioms, and ask a question like whether they imply the lemma</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg2.png" alt="" title="" width="121" height="14"> </p>
</div>
<p>or, in our current approach, whether they can be used to form a path from <em>a</em> · <em>a</em> to <em>a</em> · (<em>a</em> · (<em>a</em> · <em>a</em>)). </p>
<p>Well, it’s not too hard to see that in fact there is such a path. Apply our second lemma to <em>a</em> · <em>a</em> to get:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg3.png" alt="" title="" width="77" height="14"> </p>
</div>
<p>But now this subterm</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg4.png" alt="" title="" width="88" height="25"> </p>
</div>
<p>matches the left-hand of the first lemma, so that it can be replaced by the right-hand side of that lemma (i.e. by <em>a</em> · (<em>a</em> · <em>a</em>)), giving in the end the desired <em>a</em> · (<em>a</em> · (<em>a</em> · <em>a</em>)).</p>
<p>So now we can summarize this process as:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg5.png" alt="" title="" width="252" height="138"> </p>
</div>
<p>In what follows, it’ll be convenient to label lemmas. We’ll call our original axiom A1, we’ll call our successive lemmas generated by ordinary substitution S<em>n</em> and the ones generated by bisubsitution B<em>n:</em></p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg6.png" alt="" title="" width="399" height="621"> </p>
</div>
<p>In our proof we’ll also use <img src="https://content.wolfram.com/sites/43/2025/01/rightgreenarrow.png" width="18" height="25"> and <img src="https://content.wolfram.com/sites/43/2025/01/leftpinkarrow.png" width="18" height="25"> to indicate whether we’re going to use the lemma (say <nobr>X = Y)</nobr> in the “forward direction” X <img src="https://content.wolfram.com/uploads/sites/32/2022/10/rightarrow2.png" width="15" height="11"> Y or the “reverse direction” X <img src="https://content.wolfram.com/uploads/sites/32/2022/10/leftarrow.png" width="15" height="11"> Y. And with this labeling, the proof we just gave (which is for the lemma S23) becomes:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg7.png" alt="" title="" width="168" height="138"> </p>
</div>
<p>Each step here is a pure substitution, and requires no replacement in the rule (i.e. “axiom”) being used. But proofs like this can also be done with bisubstitution, where replacements are applied to the rule to get it in a form where it can directly be applied to transform an expression:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg8.png" alt="" title="" width="529" height="136"> </p>
</div>
<p>OK, so how about the first lemma in our full proof? Here’s a proof that its left-hand side can be transformed to its right-hand side just by judiciously applying the original axiom:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg9.png" alt="" title="" width="504" height="140"> </p>
</div>
<p>Here’s a corresponding proof for the second lemma:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg10.png" alt="" title="" width="531" height="136"> </p>
</div>
<p>Both these involve bisubstitution. Here’s a proof of the first lemma derived purely by ordinary substitution:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg11.png" alt="" title="" width="611" height="136"> </p>
</div>
<p>This proof is using not only the original axiom but also the lemma B5. Meanwhile, B5 can be proved using the original axiom together with B2:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg12.png" alt="" title="" width="693" height="181"> </p>
</div>
<p>But now, inserting the proof we just gave above for B2, we can give a proof of B5 just in terms of the original axiom:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg13.png" alt="" title="" width="693" height="278"> </p>
</div>
<p>And recursively continuing this unrolling process, we can then prove S1 purely using the original axiom:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg14.png" alt="" title="" width="693" height="329"> </p>
</div>
<p>What about the whole proof? Well, at the very end we have:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg15.png" alt="" title="" width="222" height="137"> </p>
</div>
<p>If we “unroll” one step we have</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg16.png" alt="" title="" width="275" height="349"> </p>
</div>
<p>and after 2 steps:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg17.png" alt="" title="" width="435" height="444"> </p>
</div>
<p>In principle we could go on with this unrolling, in effect recursively replacing each rule by the sequence of transformations that represents its proof. Typically this process will, however, generate exponentially longer proof sequences. But say for lemma S5</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg18.png" alt="" title="" width="334" height="14"> </p>
</div>
<p>the result is still very easily manageable:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg19.png" alt="" title="" width="670" height="274"> </p>
</div>
<p>We can summarize this result by in effect plotting the sizes of the intermediate expressions involved—and indicating what part of each expression is replaced at each step (with <img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/01082025redbox.png" alt="" title="" width="15" height="15"> as above indicating “forward” use of the axiom A1 <img src="https://content.wolfram.com/uploads/sites/32/2022/10/rightarrow2.png" width="15" height="11"> and <img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/greenbox.png" '="" title="" width="15" height="15"> “backward” A1 <img src="https://content.wolfram.com/uploads/sites/32/2022/10/leftarrow.png" width="15" height="11">):</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg20.png" alt="" title="" width="357" height="160"> </p>
</div>
<p>For lemma B33</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg21.png" alt="" title="" width="681" height="14"> </p>
</div>
<p>the unrolled proof is now 30 steps long</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg22.png" alt="" title="" width="357" height="160"> </p>
</div>
<p>while for lemma S11</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg23.png" alt="" title="" width="467" height="14"> </p>
</div>
<p>the unrolled proof is 88 steps long:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg24.png" alt="" title="" width="412" height="182"> </p>
</div>
<p>But here there is a new subtlety. Doing a direct substitution of the “proof paths” for the lemmas used to prove S11 in our original proof gives a proof of length 104:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg25.png" alt="" title="" width="466" height="177"> </p>
</div>
<p>But this proof turns out to be repetitive, with the whole gray section going from one copy to another of:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg26.png" alt="" title="" width="237" height="14"> </p>
</div>
<p>As an example of a larger proof, we can consider lemma B47:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg27.png" alt="" title="" width="157" height="14"> </p>
</div>
<p>And despite the simplicity of this lemma, our proof for it is 1008 steps long: </p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg28.png" alt="" title="" width="609" height="204"> </p>
</div>
<p>If we don’t remove repetitive sections, it’s 6805 steps:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg29.png" alt="" title="" width="460" height="157"> </p>
</div>
<p>Can we unroll the whole proof of <em>a</em> · <em>b</em> = <em>b</em> · <em>a</em>? We can get closer by considering lemma S36:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg30.png" alt="" title="" width="121" height="14"> </p>
</div>
<p>Its proof is 27105 steps long:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg31A.png" alt="" title="" width="621" height="204"> </p>
</div>
<p>The distribution of expression sizes follows a roughly exponential distribution, with a maximum of 20107:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg32.png" alt="" title="" width="274" height="122"> </p>
</div>
<p>Plotting the expression sizes on a log scale one gets: </p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg33.png" alt="" title="" width="409" height="142"> </p>
</div>
<p>And what stands out most here is a kind of recursive structure—which is the result of long sequences that basically represent the analog of “subroutine calls” that go back and repeatedly prove lemmas that are needed.</p>
<p>OK, so what about the whole proof of <em>a</em> · <em>b</em> = <em>b</em> · <em>a</em>? Yes, it can be unrolled—in terms of 83,314 applications of the original axiom. The sequence of expression sizes is:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg34.png" alt="" title="" width="571" height="187"> </p>
</div>
<p>Or on a log scale:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg35.png" alt="" title="" width="519" height="175"> </p>
</div>
<p>The distribution of expression sizes now shows clear deviation from being exponential:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg36A.png" alt="" title="" width="359" height="160"> </p>
</div>
<p>The maximum is 63245, which occurs just 81 steps after the exact midpoint of the proof. In other words, in the middle, the proof has wandered incredibly far out in metamathematical space (there are altogether <tt><a href="http://reference.wolfram.com/language/ref/CatalanNumber.html">CatalanNumber</a></tt>[63245] ≈ 10<sup>38178</sup> possible expressions of the size it reaches). </p>
<p>The proof returns to small expressions just a few times; here are all the cases in which the size is below 10:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092024JGCLOUDimg8.png" alt="" title="" width="399" height="274"> </p>
</div>
<p>So, yes, it is possible to completely unroll the proof into a sequence of applications of the original axiom. But if one does this, it inevitably involves repeating lots of work. Being able to use intermediate lemmas in effect lets one “share common subparts” in the proof. So that one ends up with just 104 “rule applications”, rather than 63245. Not that it’s easy to understand those 104 steps…</p>
<h2 id="is-there-a-better-notation">Is There a Better Notation?</h2>
<p> Looking at our proof—either in its original “lemma” form, or in its “unrolled” form—the most striking aspect of it is how complicated (and incomprehensible) it seems to be. But one might wonder whether much of that complexity is just the result of not “using the right notation”. In the end, we’ve got a huge number of expressions written in terms of · operations that we can interpret as <tt><a href="http://reference.wolfram.com/language/ref/Nand.html">Nand</a></tt> (or <tt><a href="http://reference.wolfram.com/language/ref/Nor.html">Nor</a></tt>). And maybe it’s a little like seeing the operation of a microprocessor down at the level of individual gates implementing <tt>Nand</tt>s or <tt>Nor</tt>s. And might there perhaps be an analog of a higher-level representation—with higher-level operations (even like arithmetic) that are more accessible to us humans?</p>
<p>It perhaps doesn’t help that <tt>Nand</tt> itself is a rather non-human construct. For example, not a single natural human language seems to have a word for <tt>Nand</tt>. But there are combinations of <tt>Nand</tt>s that have more <a href="https://www.wolframscience.com/nks/p807--implications-for-mathematics-and-its-foundations/">familiar interpretations</a>:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025notationimg1.png" alt="" title="" width="228" height="127"> </p>
</div>
<p>But what combinations actually occur in our proof? Here are the most common subexpressions that appear in lemmas in the proof:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092925NLCLOUDimg12.png" alt="" title="" width="290" height="316"> </p>
</div>
<p>And, yes, we could give the most common of these special names. But it wouldn’t really help in “compressing” the proof—or making it easier to understand.</p>
<p>What about “upgrading” our “laws of inference”, i.e. the way that we can derive new lemmas from old? Perhaps instead of substitution and bisubstitution, which both take two lemmas and produce one more, we could set up more elaborate “tactics” that for example take in more input lemmas. We’ve seen that if we completely unroll the proof, it gets much longer. So perhaps there is a “higher-order” setup that for example dramatically shortens the proof. </p>
<p>One way one might identify this is by seeing commonly repeating structures in the subgraphs that lead to lemmas. But in fact these subgraphs are quite diverse:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025notationimg3.png" alt="" title="" width="589" height="130"> </p>
</div>
<h2 id="what-are-the-popular-lemmas">What Are the Popular Lemmas?</h2>
<p>A typical feature of human-written mathematical proofs is that they’re “anchored” by famous theorems or lemmas. They may have fiddly technical pieces. But usually there’s a backbone of “theorems people know”. </p>
<p>We have the impression that the proof we’re discussing here “spends most of its time wandering around the wilds of metamathematical space”. But perhaps it visits waypoints that are somehow recognizable, or at least should be. Or in other words, perhaps out in the metamathematical space of lemmas there are ones that are somehow sufficiently popular that they’re worth giving names to, and learning—and can then be used as “reference points” in terms of which our proof becomes simpler and more human accessible.</p>
<p>It’s a story very much like what happens with human language. There are things out there in the world, but when there’s a certain category of them that are somehow common or important enough, we make a word for them in our language, which we can then use to “compactly” refer to them. (It’s again the same story when it comes to computational language, and in particular the Wolfram Language, except that in that case it’s been my personal responsibility to come up with the appropriate definitions and names for functions to represent “common lumps of computation”.) </p>
<p>But, OK, so what are the “popular lemmas” of <tt><a href="http://reference.wolfram.com/language/ref/Nand.html">Nand</a></tt> proofs? One way to explore this is to enumerate statements that are “true about <tt>Nand</tt>”—then to look at proofs of these statements (say found with <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt> from our axiom) and see what lemmas show up frequently in them. </p>
<p><a href="https://www.wolframscience.com/nks/p818--implications-for-mathematics-and-its-foundations/">Enumerating statements “true about </a><tt><a href="https://www.wolframscience.com/nks/p818--implications-for-mathematics-and-its-foundations/">Nand”</a></tt>, starting from the smallest, we get</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025lemmasimg1.png" alt="" title="" width="598" height="222"> </p>
</div>
<p>where we have highlighted statements from this list that appear as lemmas in our proof.</p>
<p>Proving each of these statements from our original axiom, here are the <a href="https://www.wolframscience.com/nks/notes-12-9--proof-lengths-in-logic/">lengths of proofs we find</a> (for all 1341 distinct theorems with up to <tt><a href="http://reference.wolfram.com/language/ref/LeafCount.html">LeafCount</a></tt> 4 on each side):</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025lemmasimg2.png" alt="" title="" width="471" height="204"> </p>
</div>
<p>A histogram shows that it’s basically a bimodal distribution</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025lemmasimg3.png" alt="" title="" width="359" height="134"> </p>
</div>
<p>with the smallest “long-proof” theorem being:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025lemmasimg4.png" alt="" title="" width="173" height="14"> </p>
</div>
<p>In aggregate, all these proofs use about 200,000 lemmas. But only about 1200 of these are distinct. And we can plot which lemmas are used in which proofs—and we see that there are indeed many lemmas that are used across wide ranges of proofs, while there are a few others that are “special” to each proof (the diagonal stripe is associated with lemmas close to the statement being proved):</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025lemmasimg5.png" alt="" title="" width="428" height="401"> </p>
</div>
<p>If we rank all distinct lemmas from most frequently to least frequently used, we get the following distribution of lemma usage frequencies across all our proofs: </p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025lemmasimg6.png" alt="" title="" width="355" height="155"> </p>
</div>
<p>It turns out that there is a “common core” of 49 lemmas that are used in every single one of the proofs. So what are these lemmas? Here’s a plot of the usage frequency of lemmas against their size—with the “common ones” populating the top line: </p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025lemmasimg7.png" alt="" title="" width="438" height="192"> </p>
</div>
<p>And at first this might seem surprising. We might have expected that short lemmas would be the most frequent, but instead we’re seeing long lemmas that always appear, the very longest being:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025lemmasimg8.png" alt="" title="" width="516" height="40"> </p>
</div>
<p>So why is this? Basically it’s that these long lemmas are being used at the beginning of every proof. They’re the result of applying bisubstitution to the original axiom, and in some sense they seem to be laying down a kind of net in metamathematical space that then allows more diverse—and smaller—lemmas to be derived. </p>
<p>But how are these “common core” popular lemmas distributed within proofs? Here are a few examples:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025lemmasCLOUDXimg9.png" alt="" title="" width="566" height="579"> </p>
</div>
<p>And what we see is that while, yes, the common core lemmas are always at the beginning, they don’t seem to have a uniform way of “plugging into” the rest of the proof. And it doesn’t, for example, seem as if there’s just some small set of (perhaps simple) “waypoint” lemmas that one can introduce that will typically shorten these proofs.</p>
<p>If one effectively allows all the common core lemmas to be used as axioms, then inevitably proofs will be shortened; for example, the proof of <em>a</em> · <em>b</em> = <em>b</em> · <em>a</em>—which only ends up using 5 of the common core lemmas—is now shortened to 51 lemmas:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025lemmasCLOUDZimg10B.png" alt="" title="" width="282" height="479"> </p>
</div>
<p>It doesn’t seem to become easier to understand, though. And if it’s unrolled, it’s still 5013 steps. </p>
<p>Still, one can ask what happens if one just introduces particular “recognizable” lemmas as additional axioms. For example, if we include “commutativity” <em>a</em> · <em>b</em> = <em>b</em> · <em>a</em> then we find that, yes, we do manage to <a href="https://www.wolframscience.com/nks/notes-12-9--proof-lengths-in-logic/">reduce the lengths of some proofs</a>, but certainly not all:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025lemmasimg11.png" alt="" title="" width="554" height="280"> </p>
</div>
<p>Are there any other “pivotal” lemmas we could add? In particular, what about lemmas that can help with the length-200 or more proofs? It turns out that all of these proofs involve the lemma: </p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025lemmasimg12.png" alt="" title="" width="130" height="14"> </p>
</div>
<p>So what happens if we add this? Well, it definitely reduces proof lengths:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025lemmasimg13.png" alt="" title="" width="607" height="316"> </p>
</div>
<p>And sometimes it even seems like it brings proofs into “human range”. For example, a proof of</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025lemmasimg14.png" alt="" title="" width="104" height="14"> </p>
</div>
<p>from our original axiom has length 56. Adding in commutativity reduces it to length 18. And adding our third lemma reduces it to just length 9—and makes it not even depend directly on the original axiom:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025lemmasCLOUDZimg15.png" alt="" title="" width="272" height="249"> </p>
</div>
<p>But despite the apparent simplicity here, the steps involved—particularly when bisubstitution is used—are remarkably hard to follow. (Note the use of <em>a </em>= <em>a</em> as a kind of “implicit axiom”—something that has actually also appeared, without comment, in many of our other proofs.)</p>
<h2 id="can-we-get-a-shorter-proof">Can We Get a Shorter Proof?</h2>
<p>The proof that we’ve been studying can be seen in some ways as a rather arbitrary artifact. It’s the output of <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt>, with all its specific detailed internal algorithms and choices. In the Appendix, we’ll see that other automated theorem proving systems give very similar results. But we still might wonder whether actually the complexity of the proof as we’ve been studying it is just a consequence of the details of our automated theorem proving—and that in fact there’s a much shorter (and perhaps easier to understand) proof that exists.</p>
<p>One approach we could take—reminiscent of higher category theory—is to think about just simplifying the proof we have, effectively using proof-to-proof transformations. And, yes, this is technically difficult, though it doesn’t seem impossible. But what if there are <a href="https://www.wolframscience.com/metamathematics/the-topology-of-proof-space/">“holes” in proof space</a>? Then a “continuous deformation” of one proof into another will get stuck, and even if there is a much shorter proof, we’re liable to get “topologically stuck” before we find it.</p>
<p>One way to be sure we’re getting the shortest proof of a particular lemma is to explicitly find the first place that lemma appears in the (future) entailment cone of our original axiom. For example, as we saw above, a single substitution event leads to the entailment cone:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025shorterimg1.png" alt="" title="" width="645" height="285"> </p>
</div>
<p>Every lemma produced here is, by construction, in principle derivable by a proof involving a single substitution event. But if we actually use <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt> to prove these lemmas, the proofs we get most involve 2 events (and in one case 4):</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025shorterAimg2.png" alt="" title="" width="645" height="75"> </p>
</div>
<p>If we take another step in the entailment cone, we get a total of 5151 lemmas. From the way we generated them, we know that all these lemmas can in principle be reached by proofs of length 2. But if we run <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt> on them, we find a distribution of proof lengths:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025shorterimg3.png" alt="" title="" width="314" height="141"> </p>
</div>
<p>And, yes, there is one lemma (with <tt><a href="http://reference.wolfram.com/language/ref/LeafCount.html">LeafCount</a></tt> 183) that is found only by a proof of length 14. But most often the proof length is 4—or about double what it could be. </p>
<p>If we generate the entailment cone for lemmas using bisubstitution rather than just ordinary substitution, there are slightly more cases where <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt> does worse at getting minimal proofs. </p>
<p>For example, the lemma</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025shorterimg4.png" alt="" title="" width="671" height="14"> </p>
</div>
<p>and 3 others can be generated by a single bisubstitution from the original axiom, but <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt> gives only proofs of length 4 for all of these.</p>
<p>What about unrolled proofs, in which one can generate an entailment cone by starting from a particular expression, and then applying the original axiom in all possible ways? For example, let’s say we start with:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025shorterimg5.png" alt="" title="" width="77" height="14"> </p>
</div>
<p>Then applying bisubstitution with the original axiom once in all possible ways gives:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025shorterimg6.png" alt="" title="" width="601" height="186"> </p>
</div>
<p>Applying bisubstitution a second time gives a larger entailment cone: </p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025shorterCimg7.png" alt="" title="" width="451" height="406"> </p>
</div>
<p>But now it turns out that—as indicated—one of the expressions in this cone is: </p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025shorterimg8.png" alt="" title="" width="262" height="14"> </p>
</div>
<p>So this shows that the lemma</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025shorterimg9.png" alt="" title="" width="359" height="14"> </p>
</div>
<p>can in principle be reached with just two steps of “unrolled” proof:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025shorterimg10.png" alt="" title="" width="441" height="41"> </p>
</div>
<p>And in this particular case, if we use <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt> and then unroll the resulting proof we also get a proof of length 3—but it goes through a different intermediate expression:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025shorterimg11.png" alt="" title="" width="542" height="41"> </p>
</div>
<p>As it happens, this intermediate expression is also reached in the entailment cone that we get by starting from our “output” expression and then applying two bisubsitutions:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025shorterEimg12-min.png" alt="" title="" width="528" height="417"> </p>
</div>
<h2 id="what-actually-is-the--models-and-the-proof">What Actually Is the “·”? Models and the Proof</h2>
<p>We can think of logic (or Boolean algebra) as being associated with a certain collection of theorems. And what our axiom does is to provide something from which all theorems of logic (and nothing but theorems of logic) can be derived. At some level, we can think of it as just being about symbolic expressions. But in our effort to understand what’s going on—say with our proof—it’s sometimes useful to ask how we can “concretely” interpret these expressions.</p>
<p>For example, we might ask what the · operator actually is. And what kinds of things can our symbolic variables be? In effect we’re asking for what in model theory are called <a href="https://www.wolframscience.com/metamathematics/the-model-theoretic-perspective/">“models” of our axiom system</a>. And in aligning with logic the most obvious model to discuss is one in which variables can be <tt><a href="http://reference.wolfram.com/language/ref/True.html">True</a></tt> or <tt><a href="http://reference.wolfram.com/language/ref/False.html">False</a></tt>, and the · represents either the logical operator <tt><a href="http://reference.wolfram.com/language/ref/Nand.html">Nand</a></tt> or the logical operator <tt><a href="http://reference.wolfram.com/language/ref/Nor.html">Nor</a></tt>.</p>
<p>The truth table, say for <tt>Nand</tt>, is:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025actuallyimg1.png" alt="" title="" width="156" height="152"> </p>
</div>
<p>And as expected, with this model for ·, we can confirm that our original axiom holds:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025actuallyimg2.png" alt="" title="" width="379" height="274"> </p>
</div>
<p>In general, though, our original axiom allows two size-2 models (that we can interpret as <tt>Nand</tt> and <tt>Nor</tt>):</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025actuallyimg4.png" alt="" title="" width="98" height="52"> </p>
</div>
<p>It allows no size-3 models, and in fact in general <a href="https://www.wolframscience.com/nks/notes-12-9--operators-on-sets/">allows only models of size 2<sup><em>n</em></sup></a>; for example, for size 4 its models are:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025actuallyimg6.png" alt="" title="" width="551" height="210"> </p>
</div>
<p>So what about <em>a</em> · <em>b</em> = <em>b</em> · <em>a</em>? What models does it allow? For size 2, it’s all 8 possible models with symmetric “multiplication tables”:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025actuallyimg7.png" alt="" title="" width="467" height="52"> </p>
</div>
<p>But the crucial point is that the 2 models for our original axiom system are part of these. In other words, at least for size-2 models, satisfying the original axiom system implies satisfying <nobr><em>a</em> · <em>b</em> = <em>b</em> · <em>a</em>.</nobr></p>
<p>And indeed any lemma derived from our axiom system must allow the models associated with our original axiom system. But it may also allow more—and sometimes many more. So here’s a map of our proof, showing how many models (out of 16 possible) each lemma allows:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025KDCLOUDimg5.png" alt="" title="" width="329" height="674"> </p>
</div>
<p>Here are the results for size-3 models:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025KDCLOUDimg6.png" alt="" title="" width="478" height="972"> </p>
</div>
<p>And, once again, these look complicated. We can think of models as defining—in some sense—<a href="https://www.wolframscience.com/nks/p804--implications-for-mathematics-and-its-foundations/">what lemmas are “about”</a>. So, for example, our original axiom is “about” <tt>Nand</tt> and <tt>Nor</tt>. The lemma <em>a</em> · <em>b</em> = <em>b</em> · <em>a</em> is “about” symmetric functions. And so on. And we might have hoped that we could gain some understanding of our proof by looking at how different lemmas that occur in it “sculpt” what is being talked about. But in fact we just seem to end up with complicated descriptions of sets that don’t seem to have any obvious relationship with each other.</p>
<h2 id="what-about-a-higher-level-abstraction">What about a Higher-Level Abstraction?</h2>
<p>If there’s one thing that stands out about our proof—and the analysis we’ve given of it here—it’s how fiddly and “in the weeds” it seems to be. But is that because we’re missing some big picture? Is there actually a more abstract way of discussing things, that gets to our result without having to go through all the details? </p>
<p>In the history of mathematics many of the most important themes have been precisely about finding such higher-level abstractions. We could start from the <a href="https://www.wolframscience.com/nks/notes-12-9--groups-and-axioms/">explicit symbolic axioms</a></p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025abstractionimg1.png" alt="" title="" width="120" height="59"> </p>
</div>
<p>or even</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025abstractionimg2.png" alt="" title="" width="165" height="22"> </p>
</div>
<p>and start building up theorems much as we’ve done here. Or we could recognize that these are axioms for group theory, and then start using the abstract ideas of group theory to derive our theorems.</p>
<p>So is there some higher-level version of what we’re discussing here? Remember that the issue is not about the overall structure of Boolean algebra; rather it’s about the more metamathematical question of how one can prove that all of Boolean algebra can be generated from the axiom:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025abstractionimg3.png" alt="" title="" width="183" height="14"> </p>
</div>
<p>In the last few sections we’ve tried a few semi-empirical approaches to finding higher-level representations. But they haven’t gotten very far. And to get further we’re probably going to need a serious new idea.</p>
<p>And, if history is a guide, we’re going to need to come up with an abstraction that somehow “goes outside of the system” before “coming back”. It’s like trying to figure out the real roots of a cubic equation, and realizing that the best way to do this is to introduce complex numbers, even though the imaginary parts will cancel at the end. </p>
<p>In the direct exploration of our proof, it feels as if the intermediate lemmas we generate “wander off into the wilds of metamathematical space” before coming back to establish our final result. And if we were using a higher-level abstraction, we’d instead be “wandering off” into the space of that abstraction. But what we might hope is that—at least with the concepts we would use in discussing that abstraction—the path that would be involved would be “short enough to be accessible to human understanding”.</p>
<p>Will we be able to find such an abstraction? It’s a subtle question. Because in effect it asks whether we can reduce the computational effort needed for the proof—or, in other words, whether we can find a pocket of computational reducibility in what in general will be a computationally irreducible process. But it’s not a question that can really be answered just for our specific proof on it own. After all, our “abstraction” could in principle just involve introducing a primitive that represents our whole proof or a large part of it. But to make it what we can think of as a real abstraction we need something that spans many different specific examples—and, in our case, likely many axiomatic systems or symbolic proofs.</p>
<p>So is such an abstraction possible? In the history of mathematics the experience has been that after enough time (often measured in centuries) has passed, abstractions tend to be found. But at some level this has been self fulfilling. Because the areas that are considered to have remained “interesting for mathematics” tend to be just those where general abstractions have in fact been found. </p>
<p>In <a href="https://writings.stephenwolfram.com/2021/09/charting-a-course-for-complexity-metamodeling-ruliology-and-more/">ruliology</a>, though, the typical experience has been different. Because there it’s been routine to <a href="https://www.wolframscience.com/nks/">sample the computational universe of possible simple programs</a> and encounter computational irreducibility. In the end it’s still inevitable that among the computational irreducibility there must be pockets of computational reducibility. But the issue is that these pockets of computational reducibility may not involve features of our system that we care about. </p>
<p>So is a proof of the kind we’re discussing here more like ruliology, or more like “typical mathematics”? Insofar as it’s a mathematical-style proof of a mathematical statement it feels more like typical mathematics. But insofar as it’s something found by the computational process of automated theorem proving it perhaps seems more ruliology. </p>
<p>But what might a higher-level abstraction for it look like? Figuring that out is probably tantamount to finding the abstraction. But perhaps one can at least expect that in some ways it will be metamathematical, and more about the structure and character of proofs than about their content. Perhaps it will be something related to the framework of higher category theory, or some form of meta-algebra. But as of now, we really don’t know—and we can’t even say that such an abstraction with any degree of generality is possible.</p>
<h2 id="llms-to-the-rescue">LLMs to the Rescue?</h2>
<p>The unexpected success of LLMs in language generation and related tasks has led to the idea that perhaps eventually <a href="https://writings.stephenwolfram.com/2024/03/can-ai-solve-science/">systems like LLMs will be able to “do everything”</a>—including for example math. We already know—not least thanks to Wolfram Language—that <a href="https://www.wolfram.com/mathematica/">lots of math can be done computationally</a>. But often the computations are hard—and, as in the example of the proof we’re discussing here, incomprehensible to humans. So the question really is: can LLMs “humanize” what has to be done in math, turning everything into a human-accessible narrative? And here our proof seems like an excellent—if challenging—test case. </p>
<p>But what happens if we just ask a current LLM to generate the proof from scratch? It’s not a good picture. Very often the LLM will eagerly generate a proof, but it’ll be completely wrong, often with the same kind of mistakes that a student somewhat out of their depth might make. Here’s a typical response where an LLM simply assumes that the · operator is associative (which it isn’t in Boolean algebra) then produces a proof that on first blush looks at least vaguely plausible, but is in fact completely wrong:</p>
<p><img src="https://content.wolfram.com/sites/43/2025/01/sw01072025rescueimg1.png" alt="Inadequate LLM proof" title="Inadequate LLM proof" width="611" height="489"></p>
<p>Coming up with an explanation for what went wrong is basically an exercise in “LLM psychology”. But in a first approximation one might say the following. LLMs are trained to “fill in what’s typical”, where “typical” is defined by what appears in the training set. But (absent some recent Wolfram Language and <a href="https://www.wolframalpha.com/">Wolfram|Alpha</a> based technology of ours) what’s been available as a training set has been human-generated mathematical texts, where, yes, operators are often associative, and typical proofs are fairly short. And in the “psychology of LLMs” an LLM is much more likely to “do what’s typical” than to “rigorously follow the rules”. </p>
<p>If you press the LLM harder, then it might just “abdicate”, and suggest using the <a href="https://writings.stephenwolfram.com/2023/03/chatgpt-gets-its-wolfram-superpowers/">Wolfram Language as a tool</a> to generate the proof. So what happens if we do that, then feed the finished proof to the LLM and ask it to explain? Well, typically it just does what LLMs do so well, and writes an essay:</p>
<p><img src="https://content.wolfram.com/sites/43/2025/01/sw01072025rescueimg2.png" alt="LLM proof essay" title="LLM proof essay" width="614" height="516"></p>
<p>So, yes, it does fine in “generally framing the problem”. But not on the details. And if you press it for details, it’ll typically eventually just start parroting what it was given as input. </p>
<p>How else might we try to get the LLM to help? One thing I’ve certainly wondered is how the lemmas in the proof relate to known theorems—perhaps in quite different areas of mathematics. It’s something one might imagine one would be able to answer by searching the literature of mathematics. But, for example, textual search won’t be sufficient: it has to be some form of <a href="https://writings.stephenwolfram.com/2024/07/yet-more-new-ideas-and-new-functions-launching-version-14-1-of-wolfram-language-mathematica/#vector-databases-and-semantic-search">semantic search</a> based on the meaning or symbolic structure of lemmas, not their (fairly arbitrary) textual presentation. A vector database might be all one needs, but one can certainly ask an LLM too:</p>
<p><img src="https://content.wolfram.com/sites/43/2025/01/sw01072025rescueimg3.png" alt="LLM semantic search results" title="LLM semantic search results" width="619" height="485"></p>
<p>It’s not extremely helpful, though, charmingly, it correctly identifies the source of our original axiom. I’ve tried similar queries for our whole set of lemmas across a variety of LLMs, with a variety of RAG systems. Often the LLM will talk about an interpretation for some lemma—but the lemma isn’t actual present in our proof. But occasionally the LLM will mention possible connections (“band theory”; “left self-distributive operations in quandles”; “Moufang loops”)—though so far none have seemed to quite hit the mark.</p>
<p>And perhaps this failure is itself actually a result—telling us that the lemmas that show up in our proof really are, in effect, out in the wilds of metamathematical space, probing places that haven’t ever been seriously visited before by human mathematics.</p>
<p>But beyond LLMs, what about more general machine learning and neural net approaches? Could we imagine <a href="https://writings.stephenwolfram.com/2024/03/can-ai-solve-science/#science-as-narrative">using a neural net as a probe to find “exploitable regularities”</a> in our proof? It’s certainly possible, but I suspect that the systematic algorithmic methods we’ve already discussed for finding optimal notations, popular lemmas, etc. will tend to do better. I suppose it would be one thing if our systematic methods had failed to even find a proof. Then we might have wanted something like neural nets to try to guess the right paths to follow, etc. But as it is, our systematic methods rather efficiently do manage to successfully find a proof. </p>
<p>Of course, there’s still the issue that we’re discussing here that the proof is very “non-human”. And perhaps we could imagine that neural nets, etc.—especially when trained on existing human knowledge—could be used to “form concepts” that would help us humans to understand the proof. </p>
<p>We can get at least a rough analogy for how this might work by looking at <a href="https://writings.stephenwolfram.com/2023/07/generative-ai-space-and-the-mental-imagery-of-alien-minds/">visual images produced by a generative AI system</a> trained from billions of human-selected images. There’s a concept (like “a cube”) that exists somewhere in the feature space of possible images. But “around” that concept are other things—<a href="https://writings.stephenwolfram.com/2023/07/generative-ai-space-and-the-mental-imagery-of-alien-minds/#the-notion-of-interconcept-space">“out in interconcept space”</a>—that we don’t (at least yet) explicitly have words for:</p>
<div>
<p><img src="https://content.wolfram.com/sites/43/2025/01/sw01072025rescueimg4.png" alt="Interconcept space" title="Interconcept space" width="494" height="494"></p>
</div>
<p>And it’ll presumably be similar for math, though harder to represent in something like a visual way. There’ll be existing math concepts. But these will be embedded in a vast domain of “mathematical interconcept space” that we humans haven’t yet “colonized”. And what we can imagine is that—perhaps with the help of neural nets, etc.—we can identify a limited number of “points in interconcept space” that we can introduce as new concepts that will, for example, provide useful “waypoints” in understanding our proof.</p>
<h2 id="but-why-is-the-theorem-true">But Why Is the Theorem True?</h2>
<p>It’s a common human urge to think that anything that’s true must be true for a reason. But what about our theorem? Why is it true? Well, we’ve seen a proof. But somehow that doesn’t seem satisfactory. We want “an explanation we can understand”. But we know that in general we can’t always expect to get one.</p>
<p>It’s a fundamental implication of computational irreducibility that things can happen where the only way to “see how they happen” is just to “watch them happen”; there’s no way to “compress the explanation”.</p>
<p>Consider the following patterns. They’re all generated by cellular automata. And all <a href="https://writings.stephenwolfram.com/2024/05/why-does-biological-evolution-work-a-minimal-model-for-biological-evolution-and-other-adaptive-processes/">live exactly 100 steps before dying out</a>. But why?</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025theoremimg1-1.png" alt="" title="" width="597" height="509"> </p>
</div>
<p>In a few cases it seems like we can perhaps at least begin to imagine “narratively describing” a mechanism. But most of the time all we can say is basically that they “live 100 steps because they do”. </p>
<p>It’s a quintessential consequence of computational irreducibility. It might not be what we’d expect, or hope for. But it’s reality in the computational universe. And it seems very likely that our theorem—and its proof—is like this too. The theorem in effect “just happens to be true”—and if you run the steps in the proof (or find the appropriate path in the entailment cone) you’ll find that it is. But there’s no “narrative explanation”. No “understanding of why it’s true”. </p>
<h2 id="intuition-and-automated-theorem-proving">Intuition and Automated Theorem Proving</h2>
<p>We’ve been talking a lot about the proof of our theorem. But where did the theorem to prove come from in the first place? Its immediate origin was an <a href="https://www.wolframscience.com/nks/notes-12-9--searching-for-logic-axioms/">exhaustive search I did of simple axiom systems</a>, filtering for ones that could conceivably generate Boolean algebra, followed by testing each of the candidates using automated theorem proving. </p>
<p>But how did I even get the idea of searching for a simple axiom system for Boolean algebra? Based on the axiom systems for Boolean algebra known before—and the historical difficulty of finding them—one might have concluded that it was quite hopeless to find an axiom system for Boolean algebra by exhaustive search. But by 2000 I had nearly two decades of experience in exploring the computational universe—and I was well used to the <a href="https://www.wolframscience.com/nks/chap-2--the-crucial-experiment/">remarkable phenomenon</a> that even very simple computational rules can lead to behavior of great complexity. So the result was that when I came to think about axiom systems and the foundations of mathematics my intuition led me to imagine that perhaps the simplest axiom system for something like Boolean algebra might be simple enough to exhaustively search for.</p>
<p>And indeed discovering the axiom system we’ve discussed here helped further expand and deepen my intuition about the consequences of simple rules. But what about the proof? What intuition might one get from the proof as we now know it, and as we’ve discussed here?</p>
<p>There’s much intuition to be got from observing the world as it is. But for nearly half a century I’ve had another crucial source of intuition: observing the computational universe—and doing computational experiments. I was recently reflecting on how I came to start developing intuition in this way. And what it might mean for intuition I could now develop from things like automated theorem proving and AI.</p>
<p>Back in the mid-1970s <a href="https://www.stephenwolfram.com/publications/academic/particle-physics">my efforts in particle physics</a> led me to start using computers to do not just numerical, but <a href="https://writings.stephenwolfram.com/2013/06/there-was-a-time-before-mathematica/">also algebraic computations</a>. In numerical computations it was usual to just get a few numbers out, that perhaps one could plot to make a curve. But in algebraic computations one instead got out formulas—and <a href="https://content.wolfram.com/sw-publications/2020/07/effective-coupling-qcd.pdf" target="_blank" rel="noopener">often very ornate ones full of structure and detail</a>. And for me it was routine to get not just one formula, but many. And looking at these formulas I started to develop intuition about them. What functions would they involve? What algebraic form would they take? What kind of numbers would they involve? </p>
<p>I don’t think I ever consciously realized that I was developing a new kind of computationally based intuition. But I soon began to take it for granted. And when—at the beginning of the 1980s—<a href="https://www.wolframscience.com/nks/chap-1--the-foundations-for-a-new-kind-of-science#sect-1-4--the-personal-story-of-the-science-in-this-book">I started to explore the consequences of simple abstract systems</a> like cellular automata it was natural to expect that I would get intuition from just “seeing” how they behaved. And here there was also another important element. Because part of the reason I concentrated on cellular automata was precisely because one could readily visualize their behavior on a computer. </p>
<p>I don’t think I would have learned much if I’d just been printing out “numerical summaries” of what cellular automata do. But as it was, I was seeing their behavior in full detail. And—surprising though what I saw was—I was soon able to start getting an intuition for what could happen. It wasn’t a matter of knowing what the value of every cell would be. But I started doing things like identifying four general classes of cellular automata, and then recognizing the phenomenon of computational irreducibility. </p>
<p>By the 1990s I was much more broadly exploring the computational universe—always trying to see what could happen there. And in almost all cases it was a story of defining simple rules, then running them, and making an explicit step-by-step visualization of what they do—and thereby in effect “seeing computation in action”.</p>
<p>In recent years—spurred by our <a href="https://www.wolframphysics.org/" target="_blank" rel="noopener">Physics Project</a>—I’ve increasingly explored not just computational processes, but also <a href="https://writings.stephenwolfram.com/2021/09/multicomputation-a-fourth-paradigm-for-theoretical-science/">multicomputational ones</a>. And although it’s more difficult I’ve made every effort to visualize the behavior of multiway systems—and to get intuition about what they do. </p>
<p>But what about automated theorem proving? In effect, automated theorem proving is about finding a particular path in a multiway system that leads to a theorem we want. We’re not getting to see “complete behavior”; we’re in effect just seeing one particular “solution” for how to prove a theorem. </p>
<p>And after one’s seen many examples, the challenge once again is to develop intuition. And that’s a large part of what I’ve been trying to do here. It’s crucial, I think, to have some way to visualize what’s happening—in effect because visual input is the most efficient way to get information into our brains. And while the visualizations we’ve developed here aren’t as direct and complete as, say, for cellular automaton evolution, I think they begin to give some overall sense of our proof—and other proofs like it.</p>
<p>In studying simple programs like cellular automata, the intuition I developed led me to things like my <a href="https://www.wolframscience.com/nks/chap-6--starting-from-randomness#sect-6-2--four-classes-of-behavior">classification of cellular automaton behavior</a>, as well as to bigger ideas like the <a href="https://www.wolframscience.com/nks/chap-12--the-principle-of-computational-equivalence/">Principle of Computational Equivalence</a> and computational irreducibility. So having now exposed myself to automated theorem proving as I exposed myself to algebraic computation and the running of simple rules in the past, what general principles might I begin to see? And might they, for example, somehow make the fact that our proof works ultimately seem “obvious”?</p>
<p>In some ways yes, but in other ways no. Much as with simple programs, there are axiom systems so simple that, for example, the <a href="https://www.wolframscience.com/metamathematics/axiom-systems-in-the-wild/">multiway systems they generate are highly regular</a>. But beyond a low threshold, it’s common to get very complicated—and in many ways seemingly random—multiway system structures. Typically an infinite number of lemmas are generated, with little or no obvious regularity in their forms.</p>
<p>And one can expect that—following the ideas of universal computation—it’ll typically be possible to encode in any one such multiway system the behavior of any other multiway system. In terms of axioms what one’s saying is that if one sets up the right translation between theorems, one will be able to use any one such axiom system to generate the theorems of any other. But the issue is that the translation will often make major changes to the structure of the theorems, and in effect define not just a “mathematical translation” (like between geometry and algebra) but a <a href="https://www.wolframscience.com/metamathematics/uniformity-and-motion-in-metamathematical-space/#p-146">metamathematical one (as one would need to get from Peano arithmetic to set theory)</a>. </p>
<p>And what this means is that it isn’t surprising that even a very simple axiom system can generate a complicated set of possible lemmas. But knowing this doesn’t immediately tell one whether those lemmas will align with some particular existing theory—like Boolean algebra. And in a sense that’s a much more detailed question.</p>
<p>At some metamathematical level it might not be a natural question. But at a “mathematical level” it is. And it’s what we have to address in connection with the theorem—and proof—we’re discussing here. Many aspects of the overall form and properties of the proof will be quite generic, and won’t depend on the particulars of the axiom system we’re using. But some will. And quite what intuition we may be able to get about these isn’t clear. And perhaps it’ll necessarily be fragmented and specific—in effect responding to the presence of computational irreducibility.</p>
<p>It’s perhaps worth commenting that LLMs—and machine learning in general—represent another potential source of intuition. That intuition may well be more about the general features of us as observers and thinkers. But such intuition is potentially critical in framing just what we can experience, not only in the natural world, but also in the mathematical and metamathematical worlds. And perhaps the apparent impotence of LLMs when faced with the proof we’ve been discussing already tells us something significant about the nature of “mathematical observers” like us.</p>
<h2 id="so-what-does-it-mean-for-the-future-of-mathematics">So What Does It Mean for the Future of Mathematics?</h2>
<p>Let’s say we never manage to “humanize” the proof we’ve been discussing here. Then in effect we’ll end up with a “black-box theorem”—that we can be sure is true—but we’ll never know quite how or why. So what would that mean for mathematics?</p>
<p>Traditionally, mathematics has tended to operate in a “white box” kind of way, trying to build narrative and understanding along with “facts”. And in this respect it’s very different from natural science. Because in natural science much of our knowledge has traditionally been empirical—derived from observing the world or experimenting on it—and without any certainty that we can “understand its origins”. </p>
<p>Automated theorem proving of the kind we’re discussing here—or, for that matter, pretty much any exploratory computational experimentation—aligns mathematics much more with natural science, deriving what’s true without an expectation of having a narrative explanation of why. </p>
<p>Could one imagine practicing mathematics that way? One’s already to some extent following such a path as soon as one introduces axiom systems to base one’s mathematics on. Where do the axiom systems come from? In <a href="https://writings.stephenwolfram.com/2020/09/the-empirical-metamathematics-of-euclid-and-beyond/">the time of Euclid</a> perhaps they were thought of as an idealization of nature. But in more modern times they are realistically much more the result of human choice and human aesthetics.</p>
<p>So let’s say we determine (given a particular axiom system) that some black-box theorem is true. Well, then we can just add it, just as we could another axiom. Maybe one day it’ll be possible to prove <a href="https://www.wolframscience.com/nks/p765--undecidability-and-intractability/">P≠NP</a> or the <a href="https://writings.stephenwolfram.com/2021/03/after-100-years-can-we-finally-crack-posts-problem-of-tag-a-story-of-computational-irreducibility-and-more/#classic-unsolved">Riemann Hypothesis</a> from existing axioms of mathematics (if they don’t in fact turn out to be independent). And—black box or not—we can expect to add them to what we assume in subsequent mathematics we do, much as they’re routinely added right now, even though their status isn’t yet known. </p>
<p>But it’s one thing to add one or two “black-box theorems”. But what happens when black-box theorems—that we can think of as “experimentally determined”—start to dominate the landscape of mathematics? </p>
<p>Well, then mathematics will take on much more of the character of ruliology—or of an experimental science. When it comes to the applications of mathematics, this probably won’t make much difference, except that in effect mathematics will be able to become much more powerful. But the “inner experience” of mathematics will be quite different—and much less “human”.</p>
<p>If one indeed starts from axioms, it’s not at the outset obvious why everything in mathematics should not be mired in the kind of alien-seeming metamathematical complexity that we’ve encountered in the discussion of our proof here. But <a href="https://www.wolframscience.com/metamathematics/mathematics-and-physics-have-the-same-foundations/">what I’ve argued elsewhere</a> is that the fact that in our experience of doing mathematics it’s not is a reflection of how “mathematical observers like us” sample the raw metamathematical structure generated by axioms (or ultimately by the <a href="https://www.wolframscience.com/metamathematics/going-below-axiomatic-mathematics/">subaxiomatic structure of the ruliad</a>). </p>
<p>The physics analogy I’ve used is that we succeed in doing mathematics at a “fluid dynamics level”, far above the detailed “molecular dynamics level” of things like the proof we’ve discussed here. Yes, we can ask questions—like ones about the structure of our proof—that probe the axiomatic “molecular dynamics level”. But it’s an important fact that in doing what we normally think of as mathematics we almost never have to; there’s a coherent way to operate purely at the “fluid dynamics level”.</p>
<p>Is it useful to “dip down” to the molecular dynamics? Definitely yes, because that’s where we can readily do computations—like those in our proof, or in general those going on in the internals of the Wolfram Language. But a key idea in the design of the Wolfram Language is to provide a computational language that can express concepts at a humanized “fluid dynamics” level—in effect bridging between the way humans can think and understand things, and the way raw computation can be done with them.</p>
<p>And it’s notable that while we’ve had great success over the years in defining “human-accessible” high-level representations for what amount to the “inputs” and “outputs” of computations, that’s been much less true of the “ongoing processes” of computation—or, for example, of the innards of proofs. </p>
<p>Is there a good “human-level” way to represent proofs? If the proofs are short, it’s not too difficult (and the <a href="https://www.wolframalpha.com/pro/step-by-step-math-solver">step-by-step solutions technology of Wolfram|Alpha</a> provides a good large-scale example of what can be done). But—as we’ve discussed—computational irreducibility implies that some proofs will inevitably be long. </p>
<p>If they’re not too long, then at least some parts of them might be constructed by human effort, say in a system like a proof assistant. But as soon as there’s much automation (whether with automated theorem proving or with LLMs) it’s basically inevitable that one will end up with things that at least approach what we’ve seen with the proof we’re discussing here. </p>
<p>What can then be done? Well, that’s the challenge. Maybe there is some way to simplify, abstract or otherwise “humanize” the proof we’ve been discussing. But I rather doubt it. I think this is likely one of those cases where we inevitably find ourselves face to face with computational irreducibility. </p>
<p>And, yes, there’s important science (particularly ruliology) to do on the structures we see. But it’s not mathematics as it’s traditionally been practiced. But that’s not to say that the results that come out of things like our proof won’t be useful for mathematics. They will be. But they make mathematics more like an experimental science—where what matters most is in effect the input and output rather than a “publishable” or human-readable derivation in between. And where the key issue in making progress is less in the innards of derivations than in defining clear computational ways to express input and output. Or, in effect, in capturing “human-level mathematics” in the primitives and structure of <a href="https://writings.stephenwolfram.com/2019/05/what-weve-built-is-a-computational-language-and-thats-very-important/">computational language</a>. </p>
<h2 id="appendix-what-about-a-different-theorem-proving-system">Appendix: What about a Different Theorem Proving System?</h2>
<p>The proof we’ve been discussing here was created using <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt> in the Wolfram Language. But what if we were to use a different automated theorem proving system? How different would the results be? In the spectrum of things that automated theorem proving systems do, our proof here is on the difficult end. And many existing automated theorem proving systems don’t manage to do it all. But some of the stronger ones do. And in the end—despite their different internal algorithms and heuristics—it’s remarkable how similar the results they give are to those from the Wolfram Language <tt>FindEquationalProof</tt> (differences in the way lemmas vs. inference steps, etc. are identified make detailed quantitative comparisons difficult):</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025appendiximg1.png" alt="" title="" width="650" height="433"> </p>
</div>
<h2 id="thanks">Thanks</h2>
<p>Thanks to Nik Murzin of the <a href="https://wolframinstitute.org/" target="_blank" rel="noopener">Wolfram Institute</a> for his extensive help as part of the Wolfram Institute Empirical Metamathematics Project. Also Roger Germundsson, Sergio Sandoval, Adam Strzebonski, Michael Trott, Liubov Tupikina, James Wiles and Carlos Zapata for input. Thanks to Arnim Buch and Thomas Hillenbrand for their work in the 1990s on Waldmeister which is now part of <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt> (also to Jonathan Gorard for his 2017 work on the interface for <tt>FindEquationalProof)</tt>. I was first seriously introduced to automated theorem proving in the late 1980s by Dana Scott, and have interacted with many people about it over the years, including Richard Assar, Bruno Buchberger, David Hillman, Norm Megill, Todd Rowland and Matthew Szudzik. (I’ve also interacted with many people about proof assistant, proof presentation and proof verification systems, both recently and in the past.)</p>
        </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Nvidia-Ingest: Multi-modal data extraction (133 pts)]]></title>
            <link>https://github.com/NVIDIA/nv-ingest</link>
            <guid>42654019</guid>
            <pubDate>Fri, 10 Jan 2025 09:17:47 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/NVIDIA/nv-ingest">https://github.com/NVIDIA/nv-ingest</a>, See on <a href="https://news.ycombinator.com/item?id=42654019">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto"><h2 tabindex="-1" dir="auto">NVIDIA-Ingest: Multi-modal data extraction</h2><a id="user-content-nvidia-ingest-multi-modal-data-extraction" aria-label="Permalink: NVIDIA-Ingest: Multi-modal data extraction" href="#nvidia-ingest-multi-modal-data-extraction"></a></p>
<p dir="auto">NVIDIA-Ingest is a scalable, performance-oriented document content and metadata extraction microservice. Including support for parsing PDFs, Word and PowerPoint documents, it uses specialized NVIDIA NIM microservices to find, contextualize, and extract text, tables, charts and images for use in downstream generative applications.</p>
<p dir="auto">NVIDIA Ingest enables parallelization of the process of splitting documents into pages where contents are classified (as tables, charts, images, text), extracted into discrete content, and further contextualized via optical character recognition (OCR) into a well defined JSON schema. From there, NVIDIA Ingest can optionally manage computation of embeddings for the extracted content, and also optionally manage storing into a vector database <a href="https://milvus.io/" rel="nofollow">Milvus</a>.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Table of Contents</h3><a id="user-content-table-of-contents" aria-label="Permalink: Table of Contents" href="#table-of-contents"></a></p>
<ol dir="auto">
<li><a href="#introduction">Introduction</a></li>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#quickstart">Quickstart</a></li>
<li><a href="#repo-structure">Repo Structure</a></li>
<li><a href="#notices">Notices</a></li>
</ol>
<p dir="auto"><h2 tabindex="-1" dir="auto">Introduction</h2><a id="user-content-introduction" aria-label="Permalink: Introduction" href="#introduction"></a></p>
<p dir="auto"><h3 tabindex="-1" dir="auto">What NVIDIA-Ingest is ✔️</h3><a id="user-content-what-nvidia-ingest-is-️" aria-label="Permalink: What NVIDIA-Ingest is ✔️" href="#what-nvidia-ingest-is-️"></a></p>
<p dir="auto">A microservice that:</p>
<ul dir="auto">
<li>Accepts a JSON Job description, containing a document payload, and a set of ingestion tasks to perform on that payload.</li>
<li>Allows the results of a Job to be retrieved; the result is a JSON dictionary containing a list of Metadata describing objects extracted from the base document, as well as processing annotations and timing/trace data.</li>
<li>Supports PDF, Docx, pptx, and images.</li>
<li>Supports multiple methods of extraction for each document type in order to balance trade-offs between throughput and accuracy. For example, for PDF documents we support extraction via pdfium, Unstructured.io, and Adobe Content Extraction Services.</li>
<li>Supports various types of pre and post processing operations, including text splitting and chunking; transform, and filtering; embedding generation, and image offloading to storage.</li>
</ul>
<p dir="auto"><h3 tabindex="-1" dir="auto">What NVIDIA-Ingest is not ✖️</h3><a id="user-content-what-nvidia-ingest-is-not-️" aria-label="Permalink: What NVIDIA-Ingest is not ✖️" href="#what-nvidia-ingest-is-not-️"></a></p>
<p dir="auto">A service that:</p>
<ul dir="auto">
<li>Runs a static pipeline or fixed set of operations on every submitted document.</li>
<li>Acts as a wrapper for any specific document parsing library.</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Prerequisites</h2><a id="user-content-prerequisites" aria-label="Permalink: Prerequisites" href="#prerequisites"></a></p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Hardware</h3><a id="user-content-hardware" aria-label="Permalink: Hardware" href="#hardware"></a></p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>GPU</th>
<th>Family</th>
<th>Memory</th>
<th># of GPUs (min.)</th>
</tr>
</thead>
<tbody>
<tr>
<td>H100</td>
<td>SXM or PCIe</td>
<td>80GB</td>
<td>2</td>
</tr>
<tr>
<td>A100</td>
<td>SXM or PCIe</td>
<td>80GB</td>
<td>2</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><h3 tabindex="-1" dir="auto">Software</h3><a id="user-content-software" aria-label="Permalink: Software" href="#software"></a></p>
<ul dir="auto">
<li>Linux operating systems (Ubuntu 22.04 or later recommended)</li>
<li><a href="https://docs.docker.com/engine/install/" rel="nofollow">Docker</a></li>
<li><a href="https://docs.docker.com/compose/install/" rel="nofollow">Docker Compose</a></li>
<li><a href="https://developer.nvidia.com/cuda-downloads" rel="nofollow">CUDA Toolkit</a> (NVIDIA Driver &gt;= <code>535</code>, CUDA &gt;= <code>12.2</code>)</li>
<li><a href="https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html" rel="nofollow">NVIDIA Container Toolkit</a></li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Quickstart</h2><a id="user-content-quickstart" aria-label="Permalink: Quickstart" href="#quickstart"></a></p>
<p dir="auto">To get started using NVIDIA Ingest, you need to do a few things:</p>
<ol dir="auto">
<li><a href="#step-1-starting-containers">Start supporting NIM microservices</a> 🏗️</li>
<li><a href="#step-2-installing-python-dependencies">Install the NVIDIA Ingest client dependencies in a Python environment</a> 🐍</li>
<li><a href="#step-3-ingesting-documents">Submit ingestion job(s)</a> 📓</li>
<li><a href="#step-4-inspecting-and-consuming-results">Inspect and consume results</a> 🔍</li>
</ol>
<p dir="auto">Optional:</p>
<ol dir="auto">
<li><a href="https://github.com/NVIDIA/nv-ingest/blob/main/docs/deployment.md">Direct Library Deployment</a> 📦</li>
</ol>
<p dir="auto"><h3 tabindex="-1" dir="auto">Step 1: Starting containers</h3><a id="user-content-step-1-starting-containers" aria-label="Permalink: Step 1: Starting containers" href="#step-1-starting-containers"></a></p>
<p dir="auto">This example demonstrates how to use the provided <a href="https://github.com/NVIDIA/nv-ingest/blob/main/docker-compose.yaml">docker-compose.yaml</a> to start all needed services with a few commands.</p>
<div dir="auto"><p dir="auto">Important</p><p dir="auto">NIM containers on their first startup can take 10-15 minutes to pull and fully load models.</p>
</div>
<p dir="auto">If preferred, you can also <a href="https://github.com/NVIDIA/nv-ingest/blob/main/docs/deployment.md">start services one by one</a>, or run on Kubernetes via <a href="https://github.com/NVIDIA/nv-ingest/blob/main/helm/README.md">our Helm chart</a>. Also of note are <a href="https://github.com/NVIDIA/nv-ingest/blob/main/docs/environment-config.md">additional environment variables</a> you may wish to configure.</p>
<ol dir="auto">
<li>
<p dir="auto">Git clone the repo:
<code>git clone https://github.com/nvidia/nv-ingest</code></p>
</li>
<li>
<p dir="auto">Change directory to the cloned repo
<code>cd nv-ingest</code>.</p>
</li>
<li>
<p dir="auto"><a href="https://github.com/NVIDIA/nv-ingest/blob/main/docs/ngc-api-key.md">Generate API keys</a> and authenticate with NGC with the <code>docker login</code> command:</p>
</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="# This is required to access pre-built containers and NIM microservices
$ docker login nvcr.io
Username: $oauthtoken
Password: <Your Key>"><pre><span><span>#</span> This is required to access pre-built containers and NIM microservices</span>
$ docker login nvcr.io
Username: <span>$oauthtoken</span>
Password: <span>&lt;</span>Your Key<span>&gt;</span></pre></div>
<div dir="auto"><p dir="auto">Note</p><p dir="auto">during the early access (EA) phase, your API key must be created as a member of <code>nemo-microservice / ea-participants</code> which you may join by applying for early access here: <a href="https://developer.nvidia.com/nemo-microservices-early-access/join" rel="nofollow">https://developer.nvidia.com/nemo-microservices-early-access/join</a>. When approved, switch your profile to this org / team, then the key you generate will have access to the resources outlined below.</p>
</div>
<ol start="4" dir="auto">
<li>Create a .env file containing your NGC API key, and the following paths:</li>
</ol>
<div data-snippet-clipboard-copy-content="# Container images must access resources from NGC.
NGC_API_KEY=... # Optional, set this if you are deploying NIMs locally from NGC
NVIDIA_BUILD_API_KEY=... # Optional, set this is you are using build.nvidia.com NIMs"><pre><code># Container images must access resources from NGC.
NGC_API_KEY=... # Optional, set this if you are deploying NIMs locally from NGC
NVIDIA_BUILD_API_KEY=... # Optional, set this is you are using build.nvidia.com NIMs
</code></pre></div>
<div dir="auto"><p dir="auto">Note</p><p dir="auto">As configured by default in <a href="https://github.com/NVIDIA/nv-ingest/blob/main/docker-compose.yaml#L52">docker-compose.yaml</a>, the DePlot NIM is on a dedicated GPU. All other NIMs and the nv-ingest container itself share a second. This is to avoid DePlot and other NIMs competing for VRAM on the same device.</p>
<p dir="auto">Change the <code>CUDA_VISIBLE_DEVICES</code> pinnings as desired for your system within docker-compose.yaml.</p>
</div>
<div dir="auto"><p dir="auto">Important</p><p dir="auto">Make sure NVIDIA is set as your default container runtime before running the docker compose command with the command:
<code>sudo nvidia-ctk runtime configure --runtime=docker --set-as-default</code></p>
</div>
<ol start="5" dir="auto">
<li>Start all services:
<code>docker compose up</code></li>
</ol>
<div dir="auto"><p dir="auto">Tip</p><p dir="auto">By default we have <a href="https://github.com/NVIDIA/nv-ingest/blob/main/docker-compose.yaml#L27">configured log levels to be verbose</a>.</p>
<p dir="auto">It's possible to observe service startup proceeding: you will notice <em>many</em> log messages. Disable verbose logging by configuring <code>NIM_TRITON_LOG_VERBOSE=0</code> for each NIM in <a href="https://github.com/NVIDIA/nv-ingest/blob/main/docker-compose.yaml">docker-compose.yaml</a>.</p>
<p dir="auto">If you want to build from source, use <code>docker compose up --build</code> instead. This will build from your repo's code rather than from an already published container.</p>
</div>
<ol start="6" dir="auto">
<li>When all services have fully started, <code>nvidia-smi</code> should show processes like the following:</li>
</ol>
<div data-snippet-clipboard-copy-content="# If it's taking > 1m for `nvidia-smi` to return, it's likely the bus is still busy setting up the models.
+---------------------------------------------------------------------------------------+
| Processes:                                                                            |
|  GPU   GI   CI        PID   Type   Process name                            GPU Memory |
|        ID   ID                                                             Usage      |
|=======================================================================================|
|    0   N/A  N/A   1352957      C   tritonserver                                762MiB |
|    1   N/A  N/A   1322081      C   /opt/nim/llm/.venv/bin/python3            63916MiB |
|    2   N/A  N/A   1355175      C   tritonserver                                478MiB |
|    2   N/A  N/A   1367569      C   ...s/python/triton_python_backend_stub       12MiB |
|    3   N/A  N/A   1321841      C   python                                      414MiB |
|    3   N/A  N/A   1352331      C   tritonserver                                478MiB |
|    3   N/A  N/A   1355929      C   ...s/python/triton_python_backend_stub      424MiB |
|    3   N/A  N/A   1373202      C   tritonserver                                414MiB |
+---------------------------------------------------------------------------------------+"><pre><code># If it's taking &gt; 1m for `nvidia-smi` to return, it's likely the bus is still busy setting up the models.
+---------------------------------------------------------------------------------------+
| Processes:                                                                            |
|  GPU   GI   CI        PID   Type   Process name                            GPU Memory |
|        ID   ID                                                             Usage      |
|=======================================================================================|
|    0   N/A  N/A   1352957      C   tritonserver                                762MiB |
|    1   N/A  N/A   1322081      C   /opt/nim/llm/.venv/bin/python3            63916MiB |
|    2   N/A  N/A   1355175      C   tritonserver                                478MiB |
|    2   N/A  N/A   1367569      C   ...s/python/triton_python_backend_stub       12MiB |
|    3   N/A  N/A   1321841      C   python                                      414MiB |
|    3   N/A  N/A   1352331      C   tritonserver                                478MiB |
|    3   N/A  N/A   1355929      C   ...s/python/triton_python_backend_stub      424MiB |
|    3   N/A  N/A   1373202      C   tritonserver                                414MiB |
+---------------------------------------------------------------------------------------+
</code></pre></div>
<p dir="auto">Observe the started containers with <code>docker ps</code>:</p>
<div data-snippet-clipboard-copy-content="CONTAINER ID   IMAGE                                                                      COMMAND                  CREATED          STATUS                    PORTS                                                                                                                                                                                                                                                                                NAMES
0f2f86615ea5   nvcr.io/ohlfw0olaadg/ea-participants/nv-ingest:24.10                       &quot;/opt/conda/bin/tini…&quot;   35 seconds ago   Up 33 seconds             0.0.0.0:7670->7670/tcp, :::7670->7670/tcp                                                                                                                                                                                                                                            nv-ingest-nv-ingest-ms-runtime-1
de44122c6ddc   otel/opentelemetry-collector-contrib:0.91.0                                &quot;/otelcol-contrib --…&quot;   14 hours ago     Up 24 seconds             0.0.0.0:4317-4318->4317-4318/tcp, :::4317-4318->4317-4318/tcp, 0.0.0.0:8888-8889->8888-8889/tcp, :::8888-8889->8888-8889/tcp, 0.0.0.0:13133->13133/tcp, :::13133->13133/tcp, 55678/tcp, 0.0.0.0:32849->9411/tcp, :::32848->9411/tcp, 0.0.0.0:55680->55679/tcp, :::55680->55679/tcp   nv-ingest-otel-collector-1
02c9ab8c6901   nvcr.io/ohlfw0olaadg/ea-participants/cached:0.2.0                          &quot;/opt/nvidia/nvidia_…&quot;   14 hours ago     Up 24 seconds             0.0.0.0:8006->8000/tcp, :::8006->8000/tcp, 0.0.0.0:8007->8001/tcp, :::8007->8001/tcp, 0.0.0.0:8008->8002/tcp, :::8008->8002/tcp                                                                                                                                                      nv-ingest-cached-1
d49369334398   nvcr.io/nim/nvidia/nv-embedqa-e5-v5:1.1.0                                  &quot;/opt/nvidia/nvidia_…&quot;   14 hours ago     Up 33 seconds             0.0.0.0:8012->8000/tcp, :::8012->8000/tcp, 0.0.0.0:8013->8001/tcp, :::8013->8001/tcp, 0.0.0.0:8014->8002/tcp, :::8014->8002/tcp                                                                                                                                                      nv-ingest-embedding-1
508715a24998   nvcr.io/ohlfw0olaadg/ea-participants/nv-yolox-structured-images-v1:0.2.0   &quot;/opt/nvidia/nvidia_…&quot;   14 hours ago     Up 33 seconds             0.0.0.0:8000-8002->8000-8002/tcp, :::8000-8002->8000-8002/tcp                                                                                                                                                                                                                        nv-ingest-yolox-1
5b7a174a0a85   nvcr.io/ohlfw0olaadg/ea-participants/deplot:1.0.0                          &quot;/opt/nvidia/nvidia_…&quot;   14 hours ago     Up 33 seconds             0.0.0.0:8003->8000/tcp, :::8003->8000/tcp, 0.0.0.0:8004->8001/tcp, :::8004->8001/tcp, 0.0.0.0:8005->8002/tcp, :::8005->8002/tcp                                                                                                                                                      nv-ingest-deplot-1
430045f98c02   nvcr.io/ohlfw0olaadg/ea-participants/paddleocr:0.2.0                       &quot;/opt/nvidia/nvidia_…&quot;   14 hours ago     Up 24 seconds             0.0.0.0:8009->8000/tcp, :::8009->8000/tcp, 0.0.0.0:8010->8001/tcp, :::8010->8001/tcp, 0.0.0.0:8011->8002/tcp, :::8011->8002/tcp                                                                                                                                                      nv-ingest-paddle-1
8e587b45821b   grafana/grafana                                                            &quot;/run.sh&quot;                14 hours ago     Up 33 seconds             0.0.0.0:3000->3000/tcp, :::3000->3000/tcp                                                                                                                                                                                                                                            grafana-service
aa2c0ec387e2   redis/redis-stack                                                          &quot;/entrypoint.sh&quot;         14 hours ago     Up 33 seconds             0.0.0.0:6379->6379/tcp, :::6379->6379/tcp, 8001/tcp                                                                                                                                                                                                                                  nv-ingest-redis-1
bda9a2a9c8b5   openzipkin/zipkin                                                          &quot;start-zipkin&quot;           14 hours ago     Up 33 seconds (healthy)   9410/tcp, 0.0.0.0:9411->9411/tcp, :::9411->9411/tcp                                                                                                                                                                                                                                  nv-ingest-zipkin-1
ac27e5297d57   prom/prometheus:latest                                                     &quot;/bin/prometheus --w…&quot;   14 hours ago     Up 33 seconds             0.0.0.0:9090->9090/tcp, :::9090->9090/tcp                                                                                                                                                                                                                                            nv-ingest-prometheus-1"><pre><code>CONTAINER ID   IMAGE                                                                      COMMAND                  CREATED          STATUS                    PORTS                                                                                                                                                                                                                                                                                NAMES
0f2f86615ea5   nvcr.io/ohlfw0olaadg/ea-participants/nv-ingest:24.10                       "/opt/conda/bin/tini…"   35 seconds ago   Up 33 seconds             0.0.0.0:7670-&gt;7670/tcp, :::7670-&gt;7670/tcp                                                                                                                                                                                                                                            nv-ingest-nv-ingest-ms-runtime-1
de44122c6ddc   otel/opentelemetry-collector-contrib:0.91.0                                "/otelcol-contrib --…"   14 hours ago     Up 24 seconds             0.0.0.0:4317-4318-&gt;4317-4318/tcp, :::4317-4318-&gt;4317-4318/tcp, 0.0.0.0:8888-8889-&gt;8888-8889/tcp, :::8888-8889-&gt;8888-8889/tcp, 0.0.0.0:13133-&gt;13133/tcp, :::13133-&gt;13133/tcp, 55678/tcp, 0.0.0.0:32849-&gt;9411/tcp, :::32848-&gt;9411/tcp, 0.0.0.0:55680-&gt;55679/tcp, :::55680-&gt;55679/tcp   nv-ingest-otel-collector-1
02c9ab8c6901   nvcr.io/ohlfw0olaadg/ea-participants/cached:0.2.0                          "/opt/nvidia/nvidia_…"   14 hours ago     Up 24 seconds             0.0.0.0:8006-&gt;8000/tcp, :::8006-&gt;8000/tcp, 0.0.0.0:8007-&gt;8001/tcp, :::8007-&gt;8001/tcp, 0.0.0.0:8008-&gt;8002/tcp, :::8008-&gt;8002/tcp                                                                                                                                                      nv-ingest-cached-1
d49369334398   nvcr.io/nim/nvidia/nv-embedqa-e5-v5:1.1.0                                  "/opt/nvidia/nvidia_…"   14 hours ago     Up 33 seconds             0.0.0.0:8012-&gt;8000/tcp, :::8012-&gt;8000/tcp, 0.0.0.0:8013-&gt;8001/tcp, :::8013-&gt;8001/tcp, 0.0.0.0:8014-&gt;8002/tcp, :::8014-&gt;8002/tcp                                                                                                                                                      nv-ingest-embedding-1
508715a24998   nvcr.io/ohlfw0olaadg/ea-participants/nv-yolox-structured-images-v1:0.2.0   "/opt/nvidia/nvidia_…"   14 hours ago     Up 33 seconds             0.0.0.0:8000-8002-&gt;8000-8002/tcp, :::8000-8002-&gt;8000-8002/tcp                                                                                                                                                                                                                        nv-ingest-yolox-1
5b7a174a0a85   nvcr.io/ohlfw0olaadg/ea-participants/deplot:1.0.0                          "/opt/nvidia/nvidia_…"   14 hours ago     Up 33 seconds             0.0.0.0:8003-&gt;8000/tcp, :::8003-&gt;8000/tcp, 0.0.0.0:8004-&gt;8001/tcp, :::8004-&gt;8001/tcp, 0.0.0.0:8005-&gt;8002/tcp, :::8005-&gt;8002/tcp                                                                                                                                                      nv-ingest-deplot-1
430045f98c02   nvcr.io/ohlfw0olaadg/ea-participants/paddleocr:0.2.0                       "/opt/nvidia/nvidia_…"   14 hours ago     Up 24 seconds             0.0.0.0:8009-&gt;8000/tcp, :::8009-&gt;8000/tcp, 0.0.0.0:8010-&gt;8001/tcp, :::8010-&gt;8001/tcp, 0.0.0.0:8011-&gt;8002/tcp, :::8011-&gt;8002/tcp                                                                                                                                                      nv-ingest-paddle-1
8e587b45821b   grafana/grafana                                                            "/run.sh"                14 hours ago     Up 33 seconds             0.0.0.0:3000-&gt;3000/tcp, :::3000-&gt;3000/tcp                                                                                                                                                                                                                                            grafana-service
aa2c0ec387e2   redis/redis-stack                                                          "/entrypoint.sh"         14 hours ago     Up 33 seconds             0.0.0.0:6379-&gt;6379/tcp, :::6379-&gt;6379/tcp, 8001/tcp                                                                                                                                                                                                                                  nv-ingest-redis-1
bda9a2a9c8b5   openzipkin/zipkin                                                          "start-zipkin"           14 hours ago     Up 33 seconds (healthy)   9410/tcp, 0.0.0.0:9411-&gt;9411/tcp, :::9411-&gt;9411/tcp                                                                                                                                                                                                                                  nv-ingest-zipkin-1
ac27e5297d57   prom/prometheus:latest                                                     "/bin/prometheus --w…"   14 hours ago     Up 33 seconds             0.0.0.0:9090-&gt;9090/tcp, :::9090-&gt;9090/tcp                                                                                                                                                                                                                                            nv-ingest-prometheus-1
</code></pre></div>
<div dir="auto"><p dir="auto">Tip</p><p dir="auto">nv-ingest is in Early Access mode, meaning the codebase gets frequent updates. To build an updated nv-ingest service container with the latest changes you can:</p>

<p dir="auto">After the image is built, run <code>docker compose up</code> per item 5 above.</p>
</div>
<p dir="auto"><h3 tabindex="-1" dir="auto">Step 2: Installing Python dependencies</h3><a id="user-content-step-2-installing-python-dependencies" aria-label="Permalink: Step 2: Installing Python dependencies" href="#step-2-installing-python-dependencies"></a></p>
<p dir="auto">To interact with the nv-ingest service, you can do so from the host, or by <code>docker exec</code>-ing into the nv-ingest container.</p>
<p dir="auto">To interact from the host, you'll need a Python environment and install the client dependencies:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# conda not required, but makes it easy to create a fresh python environment
conda create --name nv-ingest-dev --file ./conda/environments/nv_ingest_environment.yml
conda activate nv-ingest-dev

cd client
pip install .

# When not using Conda, pip dependencies for the client can be installed directly via pip. Pip based installation of
# the ingest service is not supported.
cd client
pip install -r requirements.txt
pip install ."><pre><span><span>#</span> conda not required, but makes it easy to create a fresh python environment</span>
conda create --name nv-ingest-dev --file ./conda/environments/nv_ingest_environment.yml
conda activate nv-ingest-dev

<span>cd</span> client
pip install <span>.</span>

<span><span>#</span> When not using Conda, pip dependencies for the client can be installed directly via pip. Pip based installation of</span>
<span><span>#</span> the ingest service is not supported.</span>
<span>cd</span> client
pip install -r requirements.txt
pip install <span>.</span></pre></div>
<div dir="auto"><p dir="auto">Note</p><p dir="auto">Interacting from the host depends on the appropriate port being exposed from the nv-ingest container to the host as defined in <a href="https://github.com/NVIDIA/nv-ingest/blob/main/docker-compose.yaml#L141">docker-compose.yaml</a>.</p>
<p dir="auto">If you prefer, you can disable exposing that port, and interact with the nv-ingest service directly from within its container.</p>
<p dir="auto">To interact within the container:</p>
<div data-snippet-clipboard-copy-content="docker exec -it nv-ingest-nv-ingest-ms-runtime-1 bash"><pre><code>docker exec -it nv-ingest-nv-ingest-ms-runtime-1 bash
</code></pre></div>
<p dir="auto">You'll be in the <code>/workspace</code> directory, which has <code>DATASET_ROOT</code> from the .env file mounted at <code>./data</code>. The pre-activated <code>morpheus</code> conda environment has all the python client libraries pre-installed:</p>
<div data-snippet-clipboard-copy-content="(morpheus) root@aba77e2a4bde:/workspace#"><pre><code>(morpheus) root@aba77e2a4bde:/workspace#
</code></pre></div>
<p dir="auto">From the bash prompt above, you can run nv-ingest-cli and Python examples described below.</p>
</div>
<p dir="auto"><h3 tabindex="-1" dir="auto">Step 3: Ingesting Documents</h3><a id="user-content-step-3-ingesting-documents" aria-label="Permalink: Step 3: Ingesting Documents" href="#step-3-ingesting-documents"></a></p>
<p dir="auto">You can submit jobs programmatically in Python or via the nv-ingest-cli tool.</p>
<p dir="auto">In the below examples, we are doing text, chart, table, and image extraction:</p>
<ul dir="auto">
<li><code>extract_text</code>, - uses <a href="https://github.com/pypdfium2-team/pypdfium2/">PDFium</a> to find and extract text from pages</li>
<li><code>extract_images</code> - uses <a href="https://github.com/pypdfium2-team/pypdfium2/">PDFium</a> to extract images</li>
<li><code>extract_tables</code> - uses <a href="https://github.com/Megvii-BaseDetection/YOLOX">YOLOX</a> to find tables and charts. Uses <a href="https://github.com/PaddlePaddle/PaddleOCR">PaddleOCR</a> for table extraction, and <a href="https://huggingface.co/google/deplot" rel="nofollow">Deplot</a> and CACHED for chart extraction</li>
<li><code>extract_charts</code> - (optional) enables or disables the use of Deplot and CACHED for chart extraction.</li>
</ul>
<div dir="auto"><p dir="auto">Important</p><p dir="auto"><code>extract_tables</code> controls extraction for both tables and charts. You can optionally disable chart extraction by setting <code>extract_charts</code> to false.</p>
</div>
<p dir="auto"><h4 tabindex="-1" dir="auto">In Python (you can find more documentation and examples <a href="https://github.com/NVIDIA/nv-ingest/blob/main/client/client_examples/examples/python_client_usage.ipynb">here</a>):</h4><a id="user-content-in-python-you-can-find-more-documentation-and-examples-here" aria-label="Permalink: In Python (you can find more documentation and examples here):" href="#in-python-you-can-find-more-documentation-and-examples-here"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="import logging, time

from nv_ingest_client.client import NvIngestClient
from nv_ingest_client.primitives import JobSpec
from nv_ingest_client.primitives.tasks import ExtractTask
from nv_ingest_client.util.file_processing.extract import extract_file_content

logger = logging.getLogger(&quot;nv_ingest_client&quot;)

file_name = &quot;data/multimodal_test.pdf&quot;
file_content, file_type = extract_file_content(file_name)

# A JobSpec is an object that defines a document and how it should
# be processed by the nv-ingest service.
job_spec = JobSpec(
  document_type=file_type,
  payload=file_content,
  source_id=file_name,
  source_name=file_name,
  extended_options=
    {
      &quot;tracing_options&quot;:
      {
        &quot;trace&quot;: True,
        &quot;ts_send&quot;: time.time_ns()
      }
    }
)

# configure desired extraction modes here. Multiple extraction
# methods can be defined for a single JobSpec
extract_task = ExtractTask(
  document_type=file_type,
  extract_text=True,
  extract_images=True,
  extract_tables=True
)

job_spec.add_task(extract_task)

# Create the client and inform it about the JobSpec we want to process.
client = NvIngestClient(
  message_client_hostname=&quot;localhost&quot;, # Host where nv-ingest-ms-runtime is running
  message_client_port=7670 # REST port, defaults to 7670
)
job_id = client.add_job(job_spec)
client.submit_job(job_id, &quot;morpheus_task_queue&quot;)
result = client.fetch_job_result(job_id, timeout=60)
print(f&quot;Got {len(result)} results&quot;)"><pre><span>import</span> <span>logging</span>, <span>time</span>

<span>from</span> <span>nv_ingest_client</span>.<span>client</span> <span>import</span> <span>NvIngestClient</span>
<span>from</span> <span>nv_ingest_client</span>.<span>primitives</span> <span>import</span> <span>JobSpec</span>
<span>from</span> <span>nv_ingest_client</span>.<span>primitives</span>.<span>tasks</span> <span>import</span> <span>ExtractTask</span>
<span>from</span> <span>nv_ingest_client</span>.<span>util</span>.<span>file_processing</span>.<span>extract</span> <span>import</span> <span>extract_file_content</span>

<span>logger</span> <span>=</span> <span>logging</span>.<span>getLogger</span>(<span>"nv_ingest_client"</span>)

<span>file_name</span> <span>=</span> <span>"data/multimodal_test.pdf"</span>
<span>file_content</span>, <span>file_type</span> <span>=</span> <span>extract_file_content</span>(<span>file_name</span>)

<span># A JobSpec is an object that defines a document and how it should</span>
<span># be processed by the nv-ingest service.</span>
<span>job_spec</span> <span>=</span> <span>JobSpec</span>(
  <span>document_type</span><span>=</span><span>file_type</span>,
  <span>payload</span><span>=</span><span>file_content</span>,
  <span>source_id</span><span>=</span><span>file_name</span>,
  <span>source_name</span><span>=</span><span>file_name</span>,
  <span>extended_options</span><span>=</span>
    {
      <span>"tracing_options"</span>:
      {
        <span>"trace"</span>: <span>True</span>,
        <span>"ts_send"</span>: <span>time</span>.<span>time_ns</span>()
      }
    }
)

<span># configure desired extraction modes here. Multiple extraction</span>
<span># methods can be defined for a single JobSpec</span>
<span>extract_task</span> <span>=</span> <span>ExtractTask</span>(
  <span>document_type</span><span>=</span><span>file_type</span>,
  <span>extract_text</span><span>=</span><span>True</span>,
  <span>extract_images</span><span>=</span><span>True</span>,
  <span>extract_tables</span><span>=</span><span>True</span>
)

<span>job_spec</span>.<span>add_task</span>(<span>extract_task</span>)

<span># Create the client and inform it about the JobSpec we want to process.</span>
<span>client</span> <span>=</span> <span>NvIngestClient</span>(
  <span>message_client_hostname</span><span>=</span><span>"localhost"</span>, <span># Host where nv-ingest-ms-runtime is running</span>
  <span>message_client_port</span><span>=</span><span>7670</span> <span># REST port, defaults to 7670</span>
)
<span>job_id</span> <span>=</span> <span>client</span>.<span>add_job</span>(<span>job_spec</span>)
<span>client</span>.<span>submit_job</span>(<span>job_id</span>, <span>"morpheus_task_queue"</span>)
<span>result</span> <span>=</span> <span>client</span>.<span>fetch_job_result</span>(<span>job_id</span>, <span>timeout</span><span>=</span><span>60</span>)
<span>print</span>(<span>f"Got <span><span>{</span><span>len</span>(<span>result</span>)<span>}</span></span> results"</span>)</pre></div>
<p dir="auto"><h4 tabindex="-1" dir="auto">Using the the <code>nv-ingest-cli</code> (you can find more nv-ingest-cli examples <a href="https://github.com/NVIDIA/nv-ingest/blob/main/client/client_examples/examples/cli_client_usage.ipynb">here</a>):</h4><a id="user-content-using-the-the-nv-ingest-cli-you-can-find-more-nv-ingest-cli-examples-here" aria-label="Permalink: Using the the nv-ingest-cli (you can find more nv-ingest-cli examples here):" href="#using-the-the-nv-ingest-cli-you-can-find-more-nv-ingest-cli-examples-here"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="nv-ingest-cli \
  --doc ./data/multimodal_test.pdf \
  --output_directory ./processed_docs \
  --task='extract:{&quot;document_type&quot;: &quot;pdf&quot;, &quot;extract_method&quot;: &quot;pdfium&quot;, &quot;extract_tables&quot;: &quot;true&quot;, &quot;extract_images&quot;: &quot;true&quot;}' \
  --client_host=localhost \
  --client_port=7670"><pre>nv-ingest-cli \
  --doc ./data/multimodal_test.pdf \
  --output_directory ./processed_docs \
  --task=<span><span>'</span>extract:{"document_type": "pdf", "extract_method": "pdfium", "extract_tables": "true", "extract_images": "true"}<span>'</span></span> \
  --client_host=localhost \
  --client_port=7670</pre></div>
<p dir="auto">You should notice output indicating document processing status, followed by a breakdown of time spent during job execution:</p>
<div data-snippet-clipboard-copy-content="INFO:nv_ingest_client.nv_ingest_cli:Processing 1 documents.
INFO:nv_ingest_client.nv_ingest_cli:Output will be written to: ./processed_docs
Processing files: 100%|████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 1/1 [00:10<00:00, 10.47s/file, pages_per_sec=0.29]
INFO:nv_ingest_client.cli.util.processing:dedup_images: Avg: 1.02 ms, Median: 1.02 ms, Total Time: 1.02 ms, Total % of Trace Computation: 0.01%
INFO:nv_ingest_client.cli.util.processing:dedup_images_channel_in: Avg: 1.44 ms, Median: 1.44 ms, Total Time: 1.44 ms, Total % of Trace Computation: 0.01%
INFO:nv_ingest_client.cli.util.processing:docx_content_extractor: Avg: 0.66 ms, Median: 0.66 ms, Total Time: 0.66 ms, Total % of Trace Computation: 0.01%
INFO:nv_ingest_client.cli.util.processing:docx_content_extractor_channel_in: Avg: 1.09 ms, Median: 1.09 ms, Total Time: 1.09 ms, Total % of Trace Computation: 0.01%
INFO:nv_ingest_client.cli.util.processing:filter_images: Avg: 0.84 ms, Median: 0.84 ms, Total Time: 0.84 ms, Total % of Trace Computation: 0.01%
INFO:nv_ingest_client.cli.util.processing:filter_images_channel_in: Avg: 7.75 ms, Median: 7.75 ms, Total Time: 7.75 ms, Total % of Trace Computation: 0.07%
INFO:nv_ingest_client.cli.util.processing:job_counter: Avg: 2.13 ms, Median: 2.13 ms, Total Time: 2.13 ms, Total % of Trace Computation: 0.02%
INFO:nv_ingest_client.cli.util.processing:job_counter_channel_in: Avg: 2.05 ms, Median: 2.05 ms, Total Time: 2.05 ms, Total % of Trace Computation: 0.02%
INFO:nv_ingest_client.cli.util.processing:metadata_injection: Avg: 14.48 ms, Median: 14.48 ms, Total Time: 14.48 ms, Total % of Trace Computation: 0.14%
INFO:nv_ingest_client.cli.util.processing:metadata_injection_channel_in: Avg: 0.22 ms, Median: 0.22 ms, Total Time: 0.22 ms, Total % of Trace Computation: 0.00%
INFO:nv_ingest_client.cli.util.processing:pdf_content_extractor: Avg: 10332.97 ms, Median: 10332.97 ms, Total Time: 10332.97 ms, Total % of Trace Computation: 99.45%
INFO:nv_ingest_client.cli.util.processing:pdf_content_extractor_channel_in: Avg: 0.44 ms, Median: 0.44 ms, Total Time: 0.44 ms, Total % of Trace Computation: 0.00%
INFO:nv_ingest_client.cli.util.processing:pptx_content_extractor: Avg: 1.19 ms, Median: 1.19 ms, Total Time: 1.19 ms, Total % of Trace Computation: 0.01%
INFO:nv_ingest_client.cli.util.processing:pptx_content_extractor_channel_in: Avg: 0.98 ms, Median: 0.98 ms, Total Time: 0.98 ms, Total % of Trace Computation: 0.01%
INFO:nv_ingest_client.cli.util.processing:redis_source_network_in: Avg: 12.27 ms, Median: 12.27 ms, Total Time: 12.27 ms, Total % of Trace Computation: 0.12%
INFO:nv_ingest_client.cli.util.processing:redis_task_sink_channel_in: Avg: 2.16 ms, Median: 2.16 ms, Total Time: 2.16 ms, Total % of Trace Computation: 0.02%
INFO:nv_ingest_client.cli.util.processing:redis_task_source: Avg: 8.00 ms, Median: 8.00 ms, Total Time: 8.00 ms, Total % of Trace Computation: 0.08%
INFO:nv_ingest_client.cli.util.processing:Unresolved time: 82.82 ms, Percent of Total Elapsed: 0.79%
INFO:nv_ingest_client.cli.util.processing:Processed 1 files in 10.47 seconds.
INFO:nv_ingest_client.cli.util.processing:Total pages processed: 3
INFO:nv_ingest_client.cli.util.processing:Throughput (Pages/sec): 0.29
INFO:nv_ingest_client.cli.util.processing:Throughput (Files/sec): 0.10"><pre><code>INFO:nv_ingest_client.nv_ingest_cli:Processing 1 documents.
INFO:nv_ingest_client.nv_ingest_cli:Output will be written to: ./processed_docs
Processing files: 100%|████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 1/1 [00:10&lt;00:00, 10.47s/file, pages_per_sec=0.29]
INFO:nv_ingest_client.cli.util.processing:dedup_images: Avg: 1.02 ms, Median: 1.02 ms, Total Time: 1.02 ms, Total % of Trace Computation: 0.01%
INFO:nv_ingest_client.cli.util.processing:dedup_images_channel_in: Avg: 1.44 ms, Median: 1.44 ms, Total Time: 1.44 ms, Total % of Trace Computation: 0.01%
INFO:nv_ingest_client.cli.util.processing:docx_content_extractor: Avg: 0.66 ms, Median: 0.66 ms, Total Time: 0.66 ms, Total % of Trace Computation: 0.01%
INFO:nv_ingest_client.cli.util.processing:docx_content_extractor_channel_in: Avg: 1.09 ms, Median: 1.09 ms, Total Time: 1.09 ms, Total % of Trace Computation: 0.01%
INFO:nv_ingest_client.cli.util.processing:filter_images: Avg: 0.84 ms, Median: 0.84 ms, Total Time: 0.84 ms, Total % of Trace Computation: 0.01%
INFO:nv_ingest_client.cli.util.processing:filter_images_channel_in: Avg: 7.75 ms, Median: 7.75 ms, Total Time: 7.75 ms, Total % of Trace Computation: 0.07%
INFO:nv_ingest_client.cli.util.processing:job_counter: Avg: 2.13 ms, Median: 2.13 ms, Total Time: 2.13 ms, Total % of Trace Computation: 0.02%
INFO:nv_ingest_client.cli.util.processing:job_counter_channel_in: Avg: 2.05 ms, Median: 2.05 ms, Total Time: 2.05 ms, Total % of Trace Computation: 0.02%
INFO:nv_ingest_client.cli.util.processing:metadata_injection: Avg: 14.48 ms, Median: 14.48 ms, Total Time: 14.48 ms, Total % of Trace Computation: 0.14%
INFO:nv_ingest_client.cli.util.processing:metadata_injection_channel_in: Avg: 0.22 ms, Median: 0.22 ms, Total Time: 0.22 ms, Total % of Trace Computation: 0.00%
INFO:nv_ingest_client.cli.util.processing:pdf_content_extractor: Avg: 10332.97 ms, Median: 10332.97 ms, Total Time: 10332.97 ms, Total % of Trace Computation: 99.45%
INFO:nv_ingest_client.cli.util.processing:pdf_content_extractor_channel_in: Avg: 0.44 ms, Median: 0.44 ms, Total Time: 0.44 ms, Total % of Trace Computation: 0.00%
INFO:nv_ingest_client.cli.util.processing:pptx_content_extractor: Avg: 1.19 ms, Median: 1.19 ms, Total Time: 1.19 ms, Total % of Trace Computation: 0.01%
INFO:nv_ingest_client.cli.util.processing:pptx_content_extractor_channel_in: Avg: 0.98 ms, Median: 0.98 ms, Total Time: 0.98 ms, Total % of Trace Computation: 0.01%
INFO:nv_ingest_client.cli.util.processing:redis_source_network_in: Avg: 12.27 ms, Median: 12.27 ms, Total Time: 12.27 ms, Total % of Trace Computation: 0.12%
INFO:nv_ingest_client.cli.util.processing:redis_task_sink_channel_in: Avg: 2.16 ms, Median: 2.16 ms, Total Time: 2.16 ms, Total % of Trace Computation: 0.02%
INFO:nv_ingest_client.cli.util.processing:redis_task_source: Avg: 8.00 ms, Median: 8.00 ms, Total Time: 8.00 ms, Total % of Trace Computation: 0.08%
INFO:nv_ingest_client.cli.util.processing:Unresolved time: 82.82 ms, Percent of Total Elapsed: 0.79%
INFO:nv_ingest_client.cli.util.processing:Processed 1 files in 10.47 seconds.
INFO:nv_ingest_client.cli.util.processing:Total pages processed: 3
INFO:nv_ingest_client.cli.util.processing:Throughput (Pages/sec): 0.29
INFO:nv_ingest_client.cli.util.processing:Throughput (Files/sec): 0.10
</code></pre></div>
<p dir="auto"><h3 tabindex="-1" dir="auto">Step 4: Inspecting and Consuming Results</h3><a id="user-content-step-4-inspecting-and-consuming-results" aria-label="Permalink: Step 4: Inspecting and Consuming Results" href="#step-4-inspecting-and-consuming-results"></a></p>
<p dir="auto">After the ingestion steps above have completed, you should be able to find <code>text</code> and <code>image</code> subfolders inside your processed docs folder. Each will contain JSON formatted extracted content and metadata.</p>
<p dir="auto"><h4 tabindex="-1" dir="auto">When processing has completed, you'll have separate result files for text and image data:</h4><a id="user-content-when-processing-has-completed-youll-have-separate-result-files-for-text-and-image-data" aria-label="Permalink: When processing has completed, you'll have separate result files for text and image data:" href="#when-processing-has-completed-youll-have-separate-result-files-for-text-and-image-data"></a></p>

<div dir="auto" data-snippet-clipboard-copy-content="processed_docs/:
image  structured  text

processed_docs/image:
multimodal_test.pdf.metadata.json

processed_docs/structured:
multimodal_test.pdf.metadata.json

processed_docs/text:
multimodal_test.pdf.metadata.json"><pre>processed_docs/:
image  structured  text

processed_docs/image:
multimodal_test.pdf.metadata.json

processed_docs/structured:
multimodal_test.pdf.metadata.json

processed_docs/text:
multimodal_test.pdf.metadata.json</pre></div>
<p dir="auto">You can view the full JSON extracts and the metadata definitions <a href="https://github.com/NVIDIA/nv-ingest/blob/main/docs/content-metadata.md">here</a>.</p>
<p dir="auto"><h4 tabindex="-1" dir="auto">We also provide a script for inspecting <a href="https://github.com/NVIDIA/nv-ingest/blob/main/src/util/image_viewer.py">extracted images</a></h4><a id="user-content-we-also-provide-a-script-for-inspecting-extracted-images" aria-label="Permalink: We also provide a script for inspecting extracted images" href="#we-also-provide-a-script-for-inspecting-extracted-images"></a></p>
<p dir="auto">First, install <code>tkinter</code> by running the following commands depending on your OS.</p>
<ul dir="auto">
<li>For Ubuntu/Debian Linux:</li>
</ul>
<div dir="auto" data-snippet-clipboard-copy-content="sudo apt-get update
sudo apt-get install python3-tk"><pre>sudo apt-get update
sudo apt-get install python3-tk</pre></div>
<ul dir="auto">
<li>For Fedora/RHEL Linux:</li>
</ul>
<div dir="auto" data-snippet-clipboard-copy-content="sudo dnf install python3-tkinter"><pre>sudo dnf install python3-tkinter</pre></div>
<ul dir="auto">
<li>For macOS using Homebrew:</li>
</ul>

<p dir="auto">Then run the following command to execute the script for inspecting the extracted image:</p>
<div dir="auto" data-snippet-clipboard-copy-content="python src/util/image_viewer.py --file_path ./processed_docs/image/multimodal_test.pdf.metadata.json"><pre>python src/util/image_viewer.py --file_path ./processed_docs/image/multimodal_test.pdf.metadata.json</pre></div>

<p dir="auto"><h2 tabindex="-1" dir="auto">Repo Structure</h2><a id="user-content-repo-structure" aria-label="Permalink: Repo Structure" href="#repo-structure"></a></p>
<p dir="auto">Beyond the relevant documentation, examples, and other links above, below is a description of contents in this repo's folders:</p>
<ol dir="auto">
<li><a href="https://github.com/NVIDIA/nv-ingest/blob/main/.github">.github</a>: GitHub repo configuration files</li>
<li><a href="https://github.com/NVIDIA/nv-ingest/blob/main/ci">ci</a>: scripts used to build the nv-ingest container and other packages</li>
<li><a href="https://github.com/NVIDIA/nv-ingest/blob/main/client">client</a>: docs and source code for the nv-ingest-cli utility</li>
<li><a href="https://github.com/NVIDIA/nv-ingest/blob/main/config">config</a>: various yaml files defining configuration for OTEL, Prometheus</li>
<li><a href="https://github.com/NVIDIA/nv-ingest/blob/main/data">data</a>: Sample PDFs provided for testing convenience</li>
<li><a href="https://github.com/NVIDIA/nv-ingest/blob/main/docker">docker</a>: houses scripts used by the nv-ingest docker container</li>
<li><a href="https://github.com/NVIDIA/nv-ingest/blob/main/docs">docs</a>: Various READMEs describing deployment, metadata schemas, auth and telemetry setup</li>
<li><a href="https://github.com/NVIDIA/nv-ingest/blob/main/examples">examples</a>: Example notebooks, scripts, and longer form tutorial content</li>
<li><a href="https://github.com/NVIDIA/nv-ingest/blob/main/helm">helm</a>: Documentation for deploying nv-ingest to a Kubernetes cluster via Helm chart</li>
<li><a href="https://github.com/NVIDIA/nv-ingest/blob/main/skaffold">skaffold</a>: Skaffold configuration</li>
<li><a href="https://github.com/NVIDIA/nv-ingest/blob/main/src">src</a>: source code for the nv-ingest pipelines and service</li>
<li><a href="https://github.com/NVIDIA/nv-ingest/blob/main/tests">tests</a>: unit tests for nv-ingest</li>
</ol>
<p dir="auto"><h2 tabindex="-1" dir="auto">Notices</h2><a id="user-content-notices" aria-label="Permalink: Notices" href="#notices"></a></p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Third Party License Notice:</h3><a id="user-content-third-party-license-notice" aria-label="Permalink: Third Party License Notice:" href="#third-party-license-notice"></a></p>
<p dir="auto">If configured to do so, this project will download and install additional third-party open source software projects.
Review the license terms of these open source projects before use:</p>
<p dir="auto"><a href="https://pypi.org/project/pdfservices-sdk/" rel="nofollow">https://pypi.org/project/pdfservices-sdk/</a></p>
<ul dir="auto">
<li><strong><code>INSTALL_ADOBE_SDK</code></strong>:
<ul dir="auto">
<li><strong>Description</strong>: If set to <code>true</code>, the Adobe SDK will be installed in the container at launch time. This is
required if you want to use the Adobe extraction service for PDF decomposition. Please review the
<a href="https://github.com/adobe/pdfservices-python-sdk?tab=License-1-ov-file">license agreement</a> for the
pdfservices-sdk before enabling this option.</li>
</ul>
</li>
</ul>
<p dir="auto"><h3 tabindex="-1" dir="auto">Contributing</h3><a id="user-content-contributing" aria-label="Permalink: Contributing" href="#contributing"></a></p>
<p dir="auto">We require that all contributors "sign-off" on their commits. This certifies that the contribution is your original
work, or you have rights to submit it under the same license, or a compatible license.</p>
<p dir="auto">Any contribution which contains commits that are not Signed-Off will not be accepted.</p>
<p dir="auto">To sign off on a commit you simply use the --signoff (or -s) option when committing your changes:</p>
<div data-snippet-clipboard-copy-content="$ git commit -s -m &quot;Add cool feature.&quot;"><pre><code>$ git commit -s -m "Add cool feature."
</code></pre></div>
<p dir="auto">This will append the following to your commit message:</p>
<div data-snippet-clipboard-copy-content="Signed-off-by: Your Name <your@email.com>"><pre><code>Signed-off-by: Your Name &lt;your@email.com&gt;
</code></pre></div>
<p dir="auto"><h4 tabindex="-1" dir="auto">Full text of the DCO:</h4><a id="user-content-full-text-of-the-dco" aria-label="Permalink: Full text of the DCO:" href="#full-text-of-the-dco"></a></p>
<div data-snippet-clipboard-copy-content="  Developer Certificate of Origin
  Version 1.1

  Copyright (C) 2004, 2006 The Linux Foundation and its contributors.
  1 Letterman Drive
  Suite D4700
  San Francisco, CA, 94129

  Everyone is permitted to copy and distribute verbatim copies of this license document, but changing it is not allowed."><pre><code>  Developer Certificate of Origin
  Version 1.1

  Copyright (C) 2004, 2006 The Linux Foundation and its contributors.
  1 Letterman Drive
  Suite D4700
  San Francisco, CA, 94129

  Everyone is permitted to copy and distribute verbatim copies of this license document, but changing it is not allowed.
</code></pre></div>
<div data-snippet-clipboard-copy-content="  Developer's Certificate of Origin 1.1

  By making a contribution to this project, I certify that:

  (a) The contribution was created in whole or in part by me and I have the right to submit it under the open source license indicated in the file; or

  (b) The contribution is based upon previous work that, to the best of my knowledge, is covered under an appropriate open source license and I have the right under that license to submit that work with modifications, whether created in whole or in part by me, under the same open source license (unless I am permitted to submit under a different license), as indicated in the file; or

  (c) The contribution was provided directly to me by some other person who certified (a), (b) or (c) and I have not modified it.

  (d) I understand and agree that this project and the contribution are public and that a record of the contribution (including all personal information I submit with it, including my sign-off) is maintained indefinitely and may be redistributed consistent with this project or the open source license(s) involved."><pre><code>  Developer's Certificate of Origin 1.1

  By making a contribution to this project, I certify that:

  (a) The contribution was created in whole or in part by me and I have the right to submit it under the open source license indicated in the file; or

  (b) The contribution is based upon previous work that, to the best of my knowledge, is covered under an appropriate open source license and I have the right under that license to submit that work with modifications, whether created in whole or in part by me, under the same open source license (unless I am permitted to submit under a different license), as indicated in the file; or

  (c) The contribution was provided directly to me by some other person who certified (a), (b) or (c) and I have not modified it.

  (d) I understand and agree that this project and the contribution are public and that a record of the contribution (including all personal information I submit with it, including my sign-off) is maintained indefinitely and may be redistributed consistent with this project or the open source license(s) involved.
</code></pre></div>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Glimmer: DSL Framework for Ruby GUI and More (153 pts)]]></title>
            <link>https://github.com/AndyObtiva/glimmer</link>
            <guid>42653939</guid>
            <pubDate>Fri, 10 Jan 2025 09:02:31 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/AndyObtiva/glimmer">https://github.com/AndyObtiva/glimmer</a>, See on <a href="https://news.ycombinator.com/item?id=42653939">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><div dir="auto"><h2 tabindex="-1" dir="auto"><a href="https://rubygems.org/gems/glimmer" rel="nofollow"><img src="https://raw.githubusercontent.com/AndyObtiva/glimmer/master/images/glimmer-logo-hi-res.png" height="85"></a> Glimmer 2.8.0</h2><a id="user-content--glimmer-280" aria-label="Permalink:  Glimmer 2.8.0" href="#-glimmer-280"></a></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">DSL Framework for Ruby GUI and More</h2><a id="user-content-dsl-framework-for-ruby-gui-and-more" aria-label="Permalink: DSL Framework for Ruby GUI and More" href="#dsl-framework-for-ruby-gui-and-more"></a></p>
<p dir="auto"><a href="http://badge.fury.io/rb/glimmer" rel="nofollow"><img src="https://camo.githubusercontent.com/8afaf98d23e6be9c065fccae134766e8bb174d3a0560e21005f5aa47a574461c/68747470733a2f2f62616467652e667572792e696f2f72622f676c696d6d65722e737667" alt="Gem Version" data-canonical-src="https://badge.fury.io/rb/glimmer.svg"></a>
<a href="https://github.com/AndyObtiva/glimmer/actions?query=workflow%3Arspec"><img src="https://github.com/AndyObtiva/glimmer/workflows/rspec/badge.svg" alt="rspec"></a>
<a href="https://coveralls.io/github/AndyObtiva/glimmer?branch=master" rel="nofollow"><img src="https://camo.githubusercontent.com/b1300722ed1e389291166bae0c1b6a0826727c2d3e22adccb487657cb984773e/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f416e64794f62746976612f676c696d6d65722f62616467652e7376673f6272616e63683d6d6173746572" alt="Coverage Status" data-canonical-src="https://coveralls.io/repos/github/AndyObtiva/glimmer/badge.svg?branch=master"></a>
<a href="https://codeclimate.com/github/AndyObtiva/glimmer/maintainability" rel="nofollow"><img src="https://camo.githubusercontent.com/d6c55f1ba658de80648edae952851f55b67e2b062d66b7beed5de34920de2f5a/68747470733a2f2f6170692e636f6465636c696d6174652e636f6d2f76312f6261646765732f33386662633237383032323836323739343431342f6d61696e7461696e6162696c697479" alt="Maintainability" data-canonical-src="https://api.codeclimate.com/v1/badges/38fbc278022862794414/maintainability"></a>
<a href="https://gitter.im/AndyObtiva/glimmer?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" rel="nofollow"><img src="https://camo.githubusercontent.com/34da5e29c959d7500e7a9c7922cddb396fc2910236c11e6a6406bd5e6aaa779e/68747470733a2f2f6261646765732e6769747465722e696d2f416e64794f62746976612f676c696d6d65722e737667" alt="Join the chat at https://gitter.im/AndyObtiva/glimmer" data-canonical-src="https://badges.gitter.im/AndyObtiva/glimmer.svg"></a></p>
<p dir="auto"><strong><a href="#faq">If You Liked Shoes, You'll Love Glimmer!</a></strong></p>
<p dir="auto"><strong>(Original Glimmer Library Handling World’s Ruby GUI Needs Since 2007. Beware of Imitators!)</strong></p>
<p dir="auto">(<strong><a href="https://andymaleh.blogspot.com/2022/02/glimmer-dsl-for-libui-wins-fukuoka-ruby.html" rel="nofollow">Glimmer DSL for LibUI Won a Fukuoka Ruby 2022 Special Award</a></strong> <a href="http://www.digitalfukuoka.jp/topics/187?locale=ja" rel="nofollow">[Announcement]</a>)</p>
<p dir="auto">(<strong><a href="https://github.com/AndyObtiva/how-to-build-desktop-applications-in-ruby"><em><strong>RubyConf 2023 Workshop - How To Build Desktop Applications in Ruby</strong></em></a></strong>)</p>
<p dir="auto">(<strong><a href="https://andymaleh.blogspot.com/2023/02/rubyconf-2022-talk-video-for-building.html" rel="nofollow"><em><strong>RubyConf 2022 Talk - Building Native GUI Apps in Ruby</strong></em></a></strong>)</p>
<p dir="auto"><a href="https://andymaleh.blogspot.com/2022/05/ruby-rogues-podcast-interview-desktop.html" rel="nofollow"><strong>(Ruby Rogues Podcast Interview - Desktop Apps in Ruby ft. Andy)</strong></a></p>
<p dir="auto"><a href="https://www.youtube.com/channel/UC5hzDE23HZXsZLAxYk2UJEw" rel="nofollow">GLIMMER VIDEO TUTORIAL CHANNEL</a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/AndyObtiva/glimmer-dsl-swt/raw/master/images/glimmer-dsl-swt-demo-hello-world.gif"><img src="https://github.com/AndyObtiva/glimmer-dsl-swt/raw/master/images/glimmer-dsl-swt-demo-hello-world.gif" alt="glimmer demo" data-animated-image=""></a></p>
<p dir="auto"><a href="https://rubygems.org/gems/glimmer" rel="nofollow"><strong>Glimmer</strong></a> started out as a <a href="https://github.com/AndyObtiva/glimmer-dsl-swt">GUI Library</a> and grew into a full-fledged <a href="#dsl-engine">DSL Framework</a> with support for <a href="https://github.com/AndyObtiva/glimmer#glimmer-dsl-comparison-table">multiple GUI DSLs</a>. Glimmer's namesake is referring to the Glimmer of Ruby in Graphical User Interfaces (contrary to <a href="http://blog.headius.com/2007/11/tab-sweep.html" rel="nofollow">popular myth</a> perpetrated by <a href="http://blog.headius.com/2007/11/tab-sweep.html" rel="nofollow">Charles Nutter</a>, Glimmer has nothing to do with the ill-fated Whitney Houston movie, which does not in fact share the same name)</p>
<p dir="auto"><a href="http://shop.oreilly.com/product/9780596519650.do" rel="nofollow"><img src="https://camo.githubusercontent.com/f330481965cbdaceca79d6acdf87263298bf5ac1377a4eb0a1b6e34ed7bafa18/68747470733a2f2f636f766572732e6f7265696c6c797374617469632e636f6d2f696d616765732f393738303539363531393635302f6c72672e6a7067" width="105" data-canonical-src="https://covers.oreillystatic.com/images/9780596519650/lrg.jpg"><br>
Featured in JRuby Cookbook</a> and <a href="http://www.cse.chalmers.se/~bergert/slides/guest_lecture_DSLs.pdf" rel="nofollow">Chalmers/Gothenburg University Software Engineering Master's Lecture Material</a></p>
<p dir="auto"><a href="https://rubygems.org/gems/glimmer" rel="nofollow"><strong>Glimmer</strong></a> is a DSL (Domain-Specific Language) Framework that consists of two things:</p>
<ul dir="auto">
<li><a href="#dsl-engine">DSL Engine</a>: enables building internal DSLs embedded in Ruby (e.g. for GUI, XML, or CSS).</li>
<li><a href="#data-binding-library">Data-Binding Library</a>: enables synchronizing GUI with Model Attributes bidirectionally <strong>(now with <a href="#shine-data-binding-syntax">Shine</a> syntax support in v2, which was <a href="https://andymaleh.blogspot.com/2007/12/data-shining-in-glimmer.html" rel="nofollow">originally conceived back in 2007</a>)</strong>.</li>
</ul>
<p dir="auto"><a href="https://rubygems.org/gems/glimmer" rel="nofollow"><strong>Glimmer</strong></a> is <em><strong>the cream of the crop</strong></em> when it comes to building DSLs in Ruby:</p>
<ul dir="auto">
<li>Supports building the tersest most concise domain specific language syntax in Ruby.</li>
<li>Maximum readability and maintainability.</li>
<li>No extra unnecessary block variables when not needed.</li>
<li>DSL Blocks are true Ruby closures that can conveniently leverage variables from the outside and utilize standard Ruby code in and around. Just code in Ruby as usual without any hinderances! No surprising restrictions or strange uses of <code>instance_exec</code>/<code>eval</code>.</li>
<li>DSL syntax is limited to classes that mixin the <code>Glimmer</code> module, so the rest of the code is fully safe from namespace pollution.</li>
<li>Multiple DSLs may be <a href="#multi-dsl-support">mixed</a> together safely to achieve maximum expressability, composability, and productivity.</li>
<li>DSLs are fully configurable, so you may activate and deactivate DSLs as per your current needs only.</li>
</ul>
<p dir="auto">Start by checking out:</p>
<ul dir="auto">
<li><a href="https://github.com/AndyObtiva/glimmer-dsl-swt">Glimmer DSL for SWT</a>, Glimmer's original GUI DSL (for <a href="https://www.jruby.org/" rel="nofollow">JRuby</a>), which got extracted into its own <a href="https://rubygems.org/gems/glimmer-dsl-swt" rel="nofollow">Ruby gem</a>.</li>
<li><a href="https://github.com/AndyObtiva/glimmer-dsl-libui">Glimmer DSL for LibUI</a>, Glimmer's GUI DSL for standard <a href="https://www.ruby-lang.org/" rel="nofollow">Ruby</a> (aka MRI Ruby or CRuby), which has no prerequisites beyond installing the <a href="https://rubygems.org/gems/glimmer-dsl-libui" rel="nofollow">Ruby gem</a>, and has won a <a href="https://andymaleh.blogspot.com/2022/02/glimmer-dsl-for-libui-wins-fukuoka-ruby.html" rel="nofollow">Fukuoka Ruby 2022 Special Award</a>.</li>
<li><a href="https://github.com/AndyObtiva/glimmer-dsl-web">Glimmer DSL for Web</a> enables using all the advanced data-binding features of Glimmer in Web Frontends by providing a Ruby HTML DSL and a Ruby CSS DSL.</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto"><a href="https://rubygems.org/gems/glimmer" rel="nofollow">Glimmer</a> DSL Comparison Table:</h2><a id="user-content-glimmer-dsl-comparison-table" aria-label="Permalink: Glimmer DSL Comparison Table:" href="#glimmer-dsl-comparison-table"></a></p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>DSL</th>
<th>Platforms</th>
<th>Native?</th>
<th>Vector Graphics?</th>
<th>Pros</th>
<th>Cons</th>
<th>Prereqs</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/AndyObtiva/glimmer-dsl-swt">Glimmer DSL for SWT (JRuby Desktop Development GUI Framework)</a></td>
<td>Mac / Windows / Linux</td>
<td>Yes</td>
<td>Yes (Canvas Shape DSL)</td>
<td>Very Mature / Scaffolding / Native Executable Packaging / Custom Widgets</td>
<td>Slow JRuby Startup Time / Heavy Memory Footprint</td>
<td>Java / JRuby</td>
</tr>
<tr>
<td><a href="https://github.com/AndyObtiva/glimmer-dsl-libui">Glimmer DSL for LibUI (Prerequisite-Free Ruby Desktop Development GUI Library)</a></td>
<td>Mac / Windows / Linux</td>
<td>Yes</td>
<td>Yes (Area API)</td>
<td>Very Simple Setup / Fast Startup Time / Light Memory Footprint</td>
<td>LibUI is an Incomplete Mid-Alpha Only</td>
<td>None Other Than MRI Ruby</td>
</tr>
<tr>
<td><a href="https://github.com/AndyObtiva/glimmer-dsl-tk">Glimmer DSL for Tk (Ruby Tk Desktop Development GUI Library)</a></td>
<td>Mac / Windows / Linux</td>
<td>Some Native-Themed Widgets (Not Truly Native)</td>
<td>Yes (Canvas)</td>
<td>Fast Startup Time / Light Memory Footprint</td>
<td>Complicated setup / Widgets Do Not Look Truly Native, Espcially on Linux</td>
<td>ActiveTcl / MRI Ruby</td>
</tr>
<tr>
<td><a href="https://github.com/AndyObtiva/glimmer-dsl-gtk">Glimmer DSL for GTK (Ruby-GNOME Desktop Development GUI Library)</a></td>
<td>Mac / Windows / Linux</td>
<td>Only on Linux</td>
<td>Yes (Cairo)</td>
<td>Complete Access to GNOME Features on Linux (Forte)</td>
<td>Not Native on Mac and Windows</td>
<td>None Other Than MRI Ruby on Linux / Brew Packages on Mac / MSYS &amp; MING Toolchains on Windows / MRI Ruby</td>
</tr>
<tr>
<td><a href="https://github.com/AndyObtiva/glimmer-dsl-fx">Glimmer DSL for FX (FOX Toolkit Ruby Desktop Development GUI Library)</a></td>
<td>Mac (requires XQuartz) / Windows / Linux</td>
<td>No</td>
<td>Yes (Canvas)</td>
<td>No Prerequisites on Windows (Forte Since Binaries Are Included Out of The Box)</td>
<td>Widgets Do Not Look Native / Mac Usage Obtrusively Starts XQuartz</td>
<td>None Other Than MRI Ruby on Windows / XQuarts on Mac / MRI Ruby</td>
</tr>
<tr>
<td><a href="https://github.com/AndyObtiva/glimmer-dsl-wx">Glimmer DSL for WX (wxWidgets Ruby Desktop Development GUI Library)</a></td>
<td>Mac / Windows / Linux</td>
<td>Yes</td>
<td>Yes</td>
<td>Fast Startup Time / Light Memory Footprint</td>
<td>wxruby3 is still beta and does not support Mac yet</td>
<td>wxWidgets, Doxygen, SWIG, GNU g++ 4.8 on Linux or RubyInstaller+DevKit on Windows</td>
</tr>
<tr>
<td><a href="https://github.com/AndyObtiva/glimmer-dsl-jfx">Glimmer DSL for JFX (JRuby JavaFX Desktop Development GUI Library)</a></td>
<td>Mac / Windows / Linux</td>
<td>No</td>
<td>Yes (javafx.scene.shape and javafx.scene.canvas)</td>
<td>Rich in Custom Widgets</td>
<td>Slow JRuby Startup Time / Heavy Memory Footprint / Widgets Do Not Look Native</td>
<td>Java / JRuby / JavaFX SDK</td>
</tr>
<tr>
<td><a href="https://github.com/AndyObtiva/glimmer-dsl-swing">Glimmer DSL for Swing (JRuby Swing Desktop Development GUI Library)</a></td>
<td>Mac / Windows / Linux</td>
<td>No</td>
<td>Yes (Java2D)</td>
<td>Very Mature</td>
<td>Slow JRuby Startup Time / Heavy Memory Footprint / Widgets Do Not Look Native</td>
<td>Java / JRuby</td>
</tr>
<tr>
<td><a href="https://github.com/AndyObtiva/glimmer-dsl-web">Glimmer DSL for Web (Ruby in the Browser Web GUI Frontend Library)</a></td>
<td>All Web Browsers</td>
<td>No</td>
<td>Yes (SVG)</td>
<td>Simpler than All JavaScript Technologies / Leverages Existing HTML/JS/CSS Skills</td>
<td>Setup Process / Early Alpha</td>
<td>Rails</td>
</tr>
<tr>
<td><a href="https://github.com/AndyObtiva/glimmer-dsl-opal">Glimmer DSL for Opal (Pure Ruby Web GUI and Auto-Webifier of Desktop Apps / Archived &amp; Superseded by Glimmer DSL for Web)</a></td>
<td>All Web Browsers</td>
<td>No</td>
<td>Yes (Canvas Shape DSL)</td>
<td>Simpler than All JavaScript Technologies / Auto-Webify Desktop Apps</td>
<td>Setup Process / Incomplete Alpha</td>
<td>Rails</td>
</tr>
<tr>
<td><a href="https://github.com/AndyObtiva/glimmer-dsl-xml">Glimmer DSL for XML (&amp; HTML)</a></td>
<td>All Web Browsers</td>
<td>No</td>
<td>Yes (SVG)</td>
<td>Programmable / Lighter-weight Than Actual XML</td>
<td>XML Elements Are Sometimes Not Well-Named (Many Types of Input)</td>
<td>None</td>
</tr>
<tr>
<td><a href="https://github.com/AndyObtiva/glimmer-dsl-css">Glimmer DSL for CSS</a></td>
<td>All Web Browsers</td>
<td>No</td>
<td>Yes</td>
<td>Programmable</td>
<td>CSS Is Over-Engineered / Too Many Features To Learn</td>
<td>None</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><h2 tabindex="-1" dir="auto">Table of Contents</h2><a id="user-content-table-of-contents" aria-label="Permalink: Table of Contents" href="#table-of-contents"></a></p>
<ul dir="auto">
<li><a href="#-glimmer---dsl-framework-for-ruby-gui-and-more">Glimmer</a>
<ul dir="auto">
<li><a href="#dsl-engine">DSL Engine</a>
<ul dir="auto">
<li><a href="#setup">Setup</a></li>
<li><a href="#configuration">Configuration</a></li>
<li><a href="#multi-dsl-support">Multi-DSL Support</a></li>
<li><a href="#official-dsls">Official DSLs</a>
<ul dir="auto">
<li><a href="#glimmer-dsl-for-swt-jruby-desktop-development-gui-framework">Glimmer DSL for SWT (JRuby Desktop Development GUI Framework)</a></li>
<li><a href="#glimmer-dsl-for-opal-pure-ruby-web-gui-and-auto-webifier-of-desktop-apps">Glimmer DSL for Opal (Pure Ruby Web GUI and Auto-Webifier of Desktop Apps)</a></li>
<li><a href="#glimmer-dsl-for-libui-prerequisite-free-ruby-desktop-development-gui-library">Glimmer DSL for LibUI (Prerequisite-Free Ruby Desktop Development GUI Library)</a></li>
<li><a href="#glimmer-dsl-for-tk-mri-ruby-desktop-development-gui-library">Glimmer DSL for Tk (MRI Ruby Desktop Development GUI Library)</a></li>
<li><a href="#glimmer-dsl-for-xml--html">Glimmer DSL for XML (&amp; HTML)</a></li>
<li><a href="#glimmer-dsl-for-css">Glimmer DSL for CSS</a></li>
<li><a href="https://github.com/AndyObtiva/glimmer-dsl-gtk">Glimmer DSL for GTK (Ruby-GNOME Desktop Development GUI Library)</a></li>
<li><a href="https://github.com/AndyObtiva/glimmer-dsl-fx">Glimmer DSL for FX (FOX Toolkit Ruby Desktop Development GUI Library)</a></li>
<li><a href="https://github.com/AndyObtiva/glimmer-dsl-wx">Glimmer DSL for WX (wXwidgets Ruby Desktop Development GUI Library)</a></li>
<li><a href="https://github.com/AndyObtiva/glimmer-dsl-jfx">Glimmer DSL for JFX (JRuby JavaFX Desktop Development GUI Library)</a></li>
<li><a href="https://github.com/AndyObtiva/glimmer-dsl-swing">Glimmer DSL for Swing (JRuby Swing Desktop Development GUI Library)</a></li>
<li><a href="https://github.com/AndyObtiva/glimmer-dsl-swing">Glimmer DSL for Web (Ruby in the Browser Web GUI Frontend Library)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#data-binding-library">Data-Binding Library</a></li>
<li><a href="#faq">FAQ</a></li>
<li><a href="#glimmer-process">Glimmer Process</a></li>
<li><a href="#resources">Resources</a></li>
<li><a href="#help">Help</a>
<ul dir="auto">
<li><a href="#issues">Issues</a></li>
<li><a href="#chat">Chat</a></li>
</ul>
</li>
<li><a href="#feature-suggestions">Feature Suggestions</a></li>
<li><a href="#change-log">Change Log</a></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#contributors">Contributors</a></li>
<li><a href="#hire-me">Hire Me</a></li>
<li><a href="#license">License</a></li>
</ul>
</li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">DSL Engine</h2><a id="user-content-dsl-engine" aria-label="Permalink: DSL Engine" href="#dsl-engine"></a></p>
<p dir="auto">Glimmer is fundamentally a DSL Engine that can support any number of DSLs like the official Glimmer DSLs (gems starting with the <code>glimmer-dsl-</code> prefix like <code>glimmer-dsl-swt</code>) or any DSLs for that matter.</p>
<p dir="auto">Glimmer DSL syntax consists mainly of:</p>
<ul dir="auto">
<li><strong>keywords</strong> (e.g. <code>table</code> for a table widget)</li>
<li><strong>style/args</strong> (e.g. :multi as in <code>table(:multi)</code> for a multi-line selection table widget)</li>
<li><strong>content (nested properties/keywords/listeners)</strong> (e.g. <code>{ table_column { text 'Name'} }</code> as in <code>table(:multi) { table_column { text 'Name'} }</code> for a multi-line selection table widget with a table column having header text property <code>'Name'</code> as content)</li>
<li><strong>methods</strong> (e.g. <code>shell.show</code> opens a window)</li>
</ul>
<p dir="auto">Here is a Hello, World! example from <a href="https://github.com/AndyObtiva/glimmer-dsl-swt">Glimmer DSL for SWT</a>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="include Glimmer

shell(:no_resize) { # keyword + style arg
  text &quot;Glimmer&quot; # attribute content
  
  label { # keyword content
    text &quot;Hello, World!&quot; # attribute content
  }
}.open"><pre><span>include</span> <span>Glimmer</span>

<span>shell</span><span>(</span><span>:no_resize</span><span>)</span> <span>{</span> <span># keyword + style arg</span>
  <span>text</span> <span>"Glimmer"</span> <span># attribute content</span>
  
  <span>label</span> <span>{</span> <span># keyword content</span>
    <span>text</span> <span>"Hello, World!"</span> <span># attribute content</span>
  <span>}</span>
<span>}</span><span>.</span><span>open</span></pre></div>
<p dir="auto">That code renders the following GUI (Graphical User Interface):</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/AndyObtiva/glimmer/blob/master/images/glimmer-hello-world.png"><img src="https://github.com/AndyObtiva/glimmer/raw/master/images/glimmer-hello-world.png" alt="Hello World"></a></p>
<p dir="auto">The Glimmer DSL Engine's architecture is based on the following Design Patterns and Data Structures:</p>
<ul dir="auto">
<li><strong>Interpreter Design Pattern</strong>: to define interpretable expressions of DSL keywords</li>
<li><strong>Chain of Responsibility Design Pattern / Queue Data Structure</strong>: to chain expression handlers in order of importance for processing DSL keywords</li>
<li><strong>Adapter Design Pattern</strong>: to adapt expressions into handlers in a chain of responsibility</li>
<li><strong>Stack Data Structure</strong>: to handle processing parent/child nesting of DSL keyword expressions in the correct order</li>
<li><strong>Proxy Design Pattern</strong>: to shield consumers of GUI libraries built with Glimmer from low-level GUI widget details</li>
</ul>
<p dir="auto">Glimmer's use of the <strong>Interpreter Design Pattern</strong> in processing DSLs is also known as the <strong>Virtual Machine Architectural Style</strong>. After all, DSL expressions are virtual machine opcodes that process nested keywords stored in a stack. I built Glimmer's original DSL back in 2007 without knowing the <strong>Virtual Machine Architectural Style</strong> (except perhaps as an esoteric technology powering Java), but stumbled upon it anyways through following the Gang of Four Design Patterns mentioned above, chiefly the <strong>Interpreter Design Pattern</strong> and the <strong>Chain of Responsibility Design Pattern</strong>.</p>
<p dir="auto">Every keyword in a Glimmer DSL is represented by a DSL expression that is processed by an <code>Expression</code> subclass selected from a chain of expressions (interpreters) pre-configured in a DSL chain of responsibility via <code>Glimmer::DSL::Engine.add_dynamic_expressions(DSLNameModule, expression_names_array)</code>.</p>
<p dir="auto">Expressions are either:</p>
<ul dir="auto">
<li><strong>Static</strong> (subclass of <code>StaticExpression</code>, which is a subclass of <code>Expression</code>): if they represent a single pre-identified keyword (e.g. <code>color</code> or <code>display</code>)</li>
<li><strong>Dynamic</strong> (subclass of <code>Expression</code>): if they represent keywords calculated on the fly during processing (e.g. an SWT widget like <code>label</code> or a random XML element called <code>folder</code> representing <code>&lt;folder&gt;&lt;/folder&gt;</code>)</li>
</ul>
<p dir="auto">Optionally, expressions can be parent expressions that contain other expressions, and must include the <code>ParentExpression</code> mixin module as such.</p>
<p dir="auto">Additionally, every expression that serves as a top-level entry point into the DSL must mixin <code>TopLevelExpression</code></p>
<p dir="auto">Static expressions are optimized in performance since they pre-define methods on the <code>Glimmer</code> module matching the static keywords they represent (e.g. <code>color</code> causes creating a <code>Glimmer#color</code> method for processing <code>color</code> expressions) and completely bypass as a result the Glimmer DSL Engine Chain of Responsibility. That said, they must be avoided if the same keyword might occur multiple times, but with different requirements for arguments, block, and parenthood type.</p>
<p dir="auto">Every <code>Expression</code> sublcass must specify two methods at least:</p>
<ul dir="auto">
<li><code>can_interpret?(parent, keyword, *args, &amp;block)</code>: to quickly test if the keyword and arg/block/parent combination qualifies for interpretation by the current <code>Expression</code> or to otherwise delegate to the next expression in the chain of responsibility.</li>
<li><code>interpret(parent, keyword, *args, &amp;block)</code>: to go ahead and interpret a DSL expression that qualified for interpretation</li>
</ul>
<p dir="auto"><code>StaticExpression</code> sublcasses may skip the <code>can_interpret?</code> method since they include a default implementation for it that matches the name of the keyword from the class name by convention. For example, a <code>color</code> keyword would have a <code>ColorExpression</code> class, so <code>color</code> is inferred automatically from class name and used in deciding whether the class can handle a <code>color</code> keyword or not.
<code>StaticExpression</code> may declare the following class method options (if any other than <code>downcased</code> (default) is set, then <code>downcased</code> must be set explicitly if needed):</p>
<ul dir="auto">
<li><code>downcased true</code> (default): indicates that the StaticExpression expects downcased keywords (e.g. <code>COLOR {}</code>)</li>
<li><code>upcased true</code>: indicates that the StaticExpression expects upcased keywords (e.g. <code>COLOR {}</code>). Note that upcased static expressions always expect either argument parentheses or block curly braces to be invoked as a static expression method instead of a constant.</li>
<li><code>capitalized true</code>: indicates that the StaticExpression expects capitalized keywords (e.g. <code>Color {}</code>). Note that capitalized static expressions always expect either argument parentheses or block curly braces to be invoked as a static expression method instead of a constant.</li>
<li><code>case_insensitive true</code>: indicates that the StaticExpression supports downcased, upcased, and capitalized keywords (e.g. <code>color {}</code>, <code>COLOR {}</code>, and <code>Color {}</code>). Note that upcased/capitalized static expressions always expect either argument parentheses or block curly braces to be invoked as a static expression method instead of a constant.</li>
</ul>
<p dir="auto"><code>ParentExpression</code> subclasses can optionally override this extra method, which is included by default and simply invokes the parent's passed block to process its children:</p>
<ul dir="auto">
<li><code>add_content(parent, keyword, *args, &amp;block)</code></li>
</ul>
<p dir="auto">For example, some parent widgets use their block for other reasons or process their children at very specific times, so they may override that method and disable it, or otherwise call <code>super</code> and do additional work.</p>
<p dir="auto">Otherwise, all expressions support the <code>around</code> hook method:</p>
<ul dir="auto">
<li><code>around(parent, keyword, args, block, &amp;interpret_and_add_content)</code>: a hook for executing code around both <code>interpret</code> and <code>add_content</code>. Clients may invoke <code>interpret_and_add_content.call</code> or <code>yield</code> when ready for interpretation. <code>parent</code>, <code>keyword</code>, <code>args</code>, and <code>block</code> are supplied in case they are needed in the <code>around</code> logic.</li>
</ul>
<p dir="auto">Example of a dynamic expression:</p>
<div dir="auto" data-snippet-clipboard-copy-content="module Glimmer
  module DSL
    module SWT
      class WidgetExpression < Expression
        include ParentExpression

        EXCLUDED_KEYWORDS = %w[shell display tab_item]

        def can_interpret?(parent, keyword, *args, &amp;block)
          !EXCLUDED_KEYWORDS.include?(keyword) and
            parent.respond_to?(:swt_widget) and
            Glimmer::SWT::WidgetProxy.widget_exists?(keyword)
        end

        def interpret(parent, keyword, *args, &amp;block)
          Glimmer::SWT::WidgetProxy.create(keyword, parent, args)
        end

        def add_content(parent, keyword, *args, &amp;block)
          super
          parent.post_add_content
        end

      end
    end
  end
end"><pre><span>module</span> <span>Glimmer</span>
  <span>module</span> <span>DSL</span>
    <span>module</span> <span>SWT</span>
      <span>class</span> <span>WidgetExpression</span> &lt; <span>Expression</span>
        <span>include</span> <span>ParentExpression</span>

        <span>EXCLUDED_KEYWORDS</span> <span>=</span> <span>%w[</span><span>shell</span> <span>display</span> <span>tab_item</span><span>]</span>

        <span>def</span> <span>can_interpret?</span><span>(</span><span>parent</span><span>,</span> <span>keyword</span><span>,</span> *<span>args</span><span>,</span> &amp;<span>block</span><span>)</span>
          !<span>EXCLUDED_KEYWORDS</span><span>.</span><span>include?</span><span>(</span><span>keyword</span><span>)</span> <span>and</span>
            <span>parent</span><span>.</span><span>respond_to?</span><span>(</span><span>:swt_widget</span><span>)</span> <span>and</span>
            <span>Glimmer</span>::<span>SWT</span>::<span>WidgetProxy</span><span>.</span><span>widget_exists?</span><span>(</span><span>keyword</span><span>)</span>
        <span>end</span>

        <span>def</span> <span>interpret</span><span>(</span><span>parent</span><span>,</span> <span>keyword</span><span>,</span> *<span>args</span><span>,</span> &amp;<span>block</span><span>)</span>
          <span>Glimmer</span>::<span>SWT</span>::<span>WidgetProxy</span><span>.</span><span>create</span><span>(</span><span>keyword</span><span>,</span> <span>parent</span><span>,</span> <span>args</span><span>)</span>
        <span>end</span>

        <span>def</span> <span>add_content</span><span>(</span><span>parent</span><span>,</span> <span>keyword</span><span>,</span> *<span>args</span><span>,</span> &amp;<span>block</span><span>)</span>
          <span>super</span>
          <span>parent</span><span>.</span><span>post_add_content</span>
        <span>end</span>

      <span>end</span>
    <span>end</span>
  <span>end</span>
<span>end</span></pre></div>
<p dir="auto">Example of a static expression (does not need <code>can_interpret?</code>):</p>
<div dir="auto" data-snippet-clipboard-copy-content="module Glimmer
  module DSL
    module Opal
      class ColorExpression < StaticExpression
        include TopLevelExpression
  
        def interpret(parent, keyword, *args, &amp;block)
          Glimmer::SWT::ColorProxy.new(*args)
        end
      end
    end
  end
end"><pre><span>module</span> <span>Glimmer</span>
  <span>module</span> <span>DSL</span>
    <span>module</span> <span>Opal</span>
      <span>class</span> <span>ColorExpression</span> &lt; <span>StaticExpression</span>
        <span>include</span> <span>TopLevelExpression</span>
  
        <span>def</span> <span>interpret</span><span>(</span><span>parent</span><span>,</span> <span>keyword</span><span>,</span> *<span>args</span><span>,</span> &amp;<span>block</span><span>)</span>
          <span>Glimmer</span>::<span>SWT</span>::<span>ColorProxy</span><span>.</span><span>new</span><span>(</span>*<span>args</span><span>)</span>
        <span>end</span>
      <span>end</span>
    <span>end</span>
  <span>end</span>
<span>end</span></pre></div>
<p dir="auto">Extra convenience expression mixins/superclasses for use via inclusion/subclassing in Glimmer GUI libraries:</p>
<ul dir="auto">
<li><code>Glimmer::DSL::BindExpression</code>: enables usage of <code>bind</code> data-binding keyword to build a <code>Glimmer::DataBinding::ModelBinding</code> object for <a href="#data-binding">data-binding</a> purposes.</li>
<li><code>Glimmer::DSL::ShineDataBindingExpression</code>: enables <a href="#shine-data-binding-syntax">Shine data-binding syntax</a> via <code>Glimmer::DataBinding::Shine</code>, a facade for the <code>bind</code> keyword, hiding it with the <code>&lt;=&gt;</code> operator for bidirectional (two-way) data-binding and the <code>&lt;=</code> operator for unidirectional (one-way) data-binding.</li>
<li><code>Glimmer::DSL::ObserveExpression</code>: enables a one-way <code>observe</code> operation.
You may learn more about them by looking at how <a href="https://github.com/AndyObtiva/glimmer-dsl-swt">Glimmer DSL for SWT</a> uses them.</li>
</ul>
<p dir="auto">DSL expressions go into the <code>glimmer/dsl/{dsl_name}</code> namespace directory.</p>
<p dir="auto">Also, every DSL requires a <code>glimmer/dsl/{dsl_name}/dsl.rb</code> file, which configures the DSL into Glimmer via a call to:</p>
<div dir="auto" data-snippet-clipboard-copy-content="Glimmer::DSL::Engine.add_dynamic_expressions(DSLNameModule, expression_names_array)"><pre><span>Glimmer</span>::<span>DSL</span>::<span>Engine</span><span>.</span><span>add_dynamic_expressions</span><span>(</span><span>DSLNameModule</span><span>,</span> <span>expression_names_array</span><span>)</span></pre></div>
<p dir="auto">Expression names are underscored verions of <code>Expression</code> subclass names minus the <code>_expression</code> suffix.</p>
<p dir="auto">For example, here is an SWT DSL configuration:</p>
<div dir="auto" data-snippet-clipboard-copy-content="require 'glimmer/launcher'
require Glimmer::Launcher.swt_jar_file
require 'glimmer/dsl/engine'
Dir[File.expand_path('../*_expression.rb', __FILE__)].each {|f| require f}

module Glimmer
  module DSL
    module SWT
      Engine.add_dynamic_expressions(
        SWT,
        %w[
          layout
          widget_listener
          combo_selection_data_binding
          checkbox_group_selection_data_binding
          radio_group_selection_data_binding
          list_selection_data_binding
          tree_items_data_binding
          table_items_data_binding
          data_binding
          cursor
          font
          image
          property
          block_property
          widget
          custom_widget
        ]
      )
    end
  end
end"><pre><span>require</span> <span>'glimmer/launcher'</span>
<span>require</span> <span>Glimmer</span>::<span>Launcher</span><span>.</span><span>swt_jar_file</span>
<span>require</span> <span>'glimmer/dsl/engine'</span>
<span>Dir</span><span>[</span><span>File</span><span>.</span><span>expand_path</span><span>(</span><span>'../*_expression.rb'</span><span>,</span> <span>__FILE__</span><span>)</span><span>]</span><span>.</span><span>each</span> <span>{</span>|<span>f</span>| <span>require</span> <span>f</span><span>}</span>

<span>module</span> <span>Glimmer</span>
  <span>module</span> <span>DSL</span>
    <span>module</span> <span>SWT</span>
      <span>Engine</span><span>.</span><span>add_dynamic_expressions</span><span>(</span>
        <span>SWT</span><span>,</span>
        <span>%w[</span>
          <span>layout</span>
          <span>widget_listener</span>
          <span>combo_selection_data_binding</span>
          <span>checkbox_group_selection_data_binding</span>
          <span>radio_group_selection_data_binding</span>
          <span>list_selection_data_binding</span>
          <span>tree_items_data_binding</span>
          <span>table_items_data_binding</span>
          <span>data_binding</span>
          <span>cursor</span>
          <span>font</span>
          <span>image</span>
          <span>property</span>
          <span>block_property</span>
          <span>widget</span>
          <span>custom_widget</span>
        <span>]</span>
      <span>)</span>
    <span>end</span>
  <span>end</span>
<span>end</span></pre></div>
<p dir="auto"><h3 tabindex="-1" dir="auto">Setup</h3><a id="user-content-setup" aria-label="Permalink: Setup" href="#setup"></a></p>
<p dir="auto">Follow these steps to author a <a href="https://rubygems.org/gems/glimmer" rel="nofollow">Glimmer</a> DSL:</p>
<ul dir="auto">
<li>Add <code>gem 'glimmer', '~&gt; 2.8.0'</code> to <code>Gemfile</code> and run <code>bundle</code> or run <code>gem install glimmer -v2.8.0</code> and add <code>require 'glimmer'</code></li>
<li>Create <code>glimmer/dsl/[dsl_name]/dsl.rb</code>, which requires and adds all dynamic expressions for the [dsl_name] Glimmer DSL module as per the code shown in the previous section (or <a href="#official-dsls">Official DSLs</a> as examples)</li>
<li>Create <code>glimmer/dsl/[dsl_name]/[expresion_name]_expresion.rb</code> for every [expresion_name] expression needed, whether dynamic or static</li>
</ul>
<p dir="auto"><h3 tabindex="-1" dir="auto">Configuration</h3><a id="user-content-configuration" aria-label="Permalink: Configuration" href="#configuration"></a></p>
<p dir="auto">Glimmer configuration may be done via the <a href="https://github.com/AndyObtiva/glimmer/blob/master/lib/glimmer/config.rb"><code>Glimmer::Config</code></a> module.</p>
<p dir="auto"><h4 tabindex="-1" dir="auto">logger</h4><a id="user-content-logger" aria-label="Permalink: logger" href="#logger"></a></p>
<p dir="auto">The Glimmer DSL engine supports logging via a standard <code>STDOUT</code> Ruby <code>Logger</code> configured in the <code>Glimmer::Config.logger</code> config option.
It is set to level Logger::ERROR by default.
Log level may be adjusted via <code>Glimmer::Config.logger.level</code> just like any other Ruby Logger.</p>
<p dir="auto">Example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="Glimmer::Config.logger.level = :debug"><pre><span>Glimmer</span>::<span>Config</span><span>.</span><span>logger</span><span>.</span><span>level</span> <span>=</span> <span>:debug</span></pre></div>
<p dir="auto">This results in more verbose debug loggging to <code>STDOUT</code>, which is very helpful in troubleshooting Glimmer DSL syntax when needed.</p>
<p dir="auto">Example log:</p>
<div data-snippet-clipboard-copy-content="D, [2017-07-21T19:23:12.587870 #35707] DEBUG -- : method: shell and args: []
D, [2017-07-21T19:23:12.594405 #35707] DEBUG -- : ShellCommandHandler will handle command: shell with arguments []
D, [2017-07-21T19:23:12.844775 #35707] DEBUG -- : method: composite and args: []
D, [2017-07-21T19:23:12.845388 #35707] DEBUG -- : parent is a widget: true
D, [2017-07-21T19:23:12.845833 #35707] DEBUG -- : on listener?: false
D, [2017-07-21T19:23:12.864395 #35707] DEBUG -- : WidgetCommandHandler will handle command: composite with arguments []
D, [2017-07-21T19:23:12.864893 #35707] DEBUG -- : widget styles are: []
D, [2017-07-21T19:23:12.874296 #35707] DEBUG -- : method: list and args: [:multi]
D, [2017-07-21T19:23:12.874969 #35707] DEBUG -- : parent is a widget: true
D, [2017-07-21T19:23:12.875452 #35707] DEBUG -- : on listener?: false
D, [2017-07-21T19:23:12.878434 #35707] DEBUG -- : WidgetCommandHandler will handle command: list with arguments [:multi]
D, [2017-07-21T19:23:12.878798 #35707] DEBUG -- : widget styles are: [:multi]"><pre><code>D, [2017-07-21T19:23:12.587870 #35707] DEBUG -- : method: shell and args: []
D, [2017-07-21T19:23:12.594405 #35707] DEBUG -- : ShellCommandHandler will handle command: shell with arguments []
D, [2017-07-21T19:23:12.844775 #35707] DEBUG -- : method: composite and args: []
D, [2017-07-21T19:23:12.845388 #35707] DEBUG -- : parent is a widget: true
D, [2017-07-21T19:23:12.845833 #35707] DEBUG -- : on listener?: false
D, [2017-07-21T19:23:12.864395 #35707] DEBUG -- : WidgetCommandHandler will handle command: composite with arguments []
D, [2017-07-21T19:23:12.864893 #35707] DEBUG -- : widget styles are: []
D, [2017-07-21T19:23:12.874296 #35707] DEBUG -- : method: list and args: [:multi]
D, [2017-07-21T19:23:12.874969 #35707] DEBUG -- : parent is a widget: true
D, [2017-07-21T19:23:12.875452 #35707] DEBUG -- : on listener?: false
D, [2017-07-21T19:23:12.878434 #35707] DEBUG -- : WidgetCommandHandler will handle command: list with arguments [:multi]
D, [2017-07-21T19:23:12.878798 #35707] DEBUG -- : widget styles are: [:multi]
</code></pre></div>
<p dir="auto">The <code>logger</code> instance may be replaced with a custom logger via <code>Glimmer::Config.logger = custom_logger</code></p>
<p dir="auto">To reset <code>logger</code> to the default instance, you may call <code>Glimmer::Config.reset_logger!</code></p>
<p dir="auto">All logging is done lazily via blocks (e.g. <code>logger.debug {message}</code>) to avoid affecting app performance with logging when below the configured logging level threshold.</p>
<p dir="auto"><a href="https://github.com/AndyObtiva/glimmer-dsl-swt">Glimmer DSL for SWT</a> enhances Glimmer default logging support via the Ruby <a href="https://github.com/TwP/logging"><code>logging</code></a> gem, enabling buffered asynchronous logging in a separate thread, thus completely unhindering normal desktop app performance.</p>
<p dir="auto"><h4 tabindex="-1" dir="auto">loop_max_count</h4><a id="user-content-loop_max_count" aria-label="Permalink: loop_max_count" href="#loop_max_count"></a></p>
<p dir="auto">Glimmer has infinite loop detection support.
It can detect when an infinite loop is about to occur in method_missing and stops it.
It detects potential infinite loops when the same keyword and args repeat more than 100 times, which is unusual in a GUI app.</p>
<p dir="auto">The max limit can be changed via the <code>Glimmer::Config::loop_max_count=(count)</code> config option.</p>
<p dir="auto">Infinite loop detection may be disabled altogether if needed by setting <code>Glimmer::Config::loop_max_count</code> to <code>-1</code></p>
<p dir="auto"><h4 tabindex="-1" dir="auto">excluded_keyword_checkers</h4><a id="user-content-excluded_keyword_checkers" aria-label="Permalink: excluded_keyword_checkers" href="#excluded_keyword_checkers"></a></p>
<p dir="auto">Glimmer permits consumers to exclude keywords from DSL processing by its engine via the <code>excluded_keyword_checkers</code> config option.</p>
<p dir="auto">To do so, add a proc to it that returns a boolean indicating if a keyword is excluded or not.</p>
<p dir="auto">Note that this proc runs within the context of the Glimmer object (as in the object mixing in the Glimmer module), so checker can can pretend to run there with its <code>self</code> object assumption.</p>
<p dir="auto">Example of keywords excluded by <a href="https://github.com/AndyObtiva/glimmer-dsl-swt">glimmer-dsl-swt</a>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="Glimmer::Config.excluded_keyword_checkers << lambda do |method_symbol, *args|
  method = method_symbol.to_s
  result = false
  result ||= method.start_with?('on_swt_') &amp;&amp; is_a?(Glimmer::UI::CustomWidget) &amp;&amp; respond_to?(method)
  result ||= method == 'dispose' &amp;&amp; is_a?(Glimmer::UI::CustomWidget) &amp;&amp; respond_to?(method)
  result ||= ['drag_source_proxy', 'drop_target_proxy'].include?(method) &amp;&amp; is_a?(Glimmer::UI::CustomWidget)
  result ||= method == 'post_initialize_child'
  result ||= method.end_with?('=')
  result ||= ['finish_edit!', 'search', 'all_tree_items', 'depth_first_search'].include?(method) &amp;&amp; is_a?(Glimmer::UI::CustomWidget) &amp;&amp; body_root.respond_to?(method)
end"><pre><span>Glimmer</span>::<span>Config</span><span>.</span><span>excluded_keyword_checkers</span> &lt;&lt; <span>lambda</span> <span>do</span> |<span>method_symbol</span><span>,</span> *<span>args</span>|
  <span>method</span> <span>=</span> <span>method_symbol</span><span>.</span><span>to_s</span>
  <span>result</span> <span>=</span> <span>false</span>
  <span>result</span> ||= <span>method</span><span>.</span><span>start_with?</span><span>(</span><span>'on_swt_'</span><span>)</span> &amp;&amp; <span>is_a?</span><span>(</span><span>Glimmer</span>::<span>UI</span>::<span>CustomWidget</span><span>)</span> &amp;&amp; <span>respond_to?</span><span>(</span><span>method</span><span>)</span>
  <span>result</span> ||= <span>method</span> == <span>'dispose'</span> &amp;&amp; <span>is_a?</span><span>(</span><span>Glimmer</span>::<span>UI</span>::<span>CustomWidget</span><span>)</span> &amp;&amp; <span>respond_to?</span><span>(</span><span>method</span><span>)</span>
  <span>result</span> ||= <span>[</span><span>'drag_source_proxy'</span><span>,</span> <span>'drop_target_proxy'</span><span>]</span><span>.</span><span>include?</span><span>(</span><span>method</span><span>)</span> &amp;&amp; <span>is_a?</span><span>(</span><span>Glimmer</span>::<span>UI</span>::<span>CustomWidget</span><span>)</span>
  <span>result</span> ||= <span>method</span> == <span>'post_initialize_child'</span>
  <span>result</span> ||= <span>method</span><span>.</span><span>end_with?</span><span>(</span><span>'='</span><span>)</span>
  <span>result</span> ||= <span>[</span><span>'finish_edit!'</span><span>,</span> <span>'search'</span><span>,</span> <span>'all_tree_items'</span><span>,</span> <span>'depth_first_search'</span><span>]</span><span>.</span><span>include?</span><span>(</span><span>method</span><span>)</span> &amp;&amp; <span>is_a?</span><span>(</span><span>Glimmer</span>::<span>UI</span>::<span>CustomWidget</span><span>)</span> &amp;&amp; <span>body_root</span><span>.</span><span>respond_to?</span><span>(</span><span>method</span><span>)</span>
<span>end</span></pre></div>
<p dir="auto"><h4 tabindex="-1" dir="auto">log_excluded_keywords</h4><a id="user-content-log_excluded_keywords" aria-label="Permalink: log_excluded_keywords" href="#log_excluded_keywords"></a></p>
<p dir="auto">(default = false)</p>
<p dir="auto">This just tells Glimmer whether to log excluded keywords or not (at the debug level). It is off by default.</p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Multi-DSL Support</h3><a id="user-content-multi-dsl-support" aria-label="Permalink: Multi-DSL Support" href="#multi-dsl-support"></a></p>
<p dir="auto">The Glimmer <a href="#dsl-engine">DSL Engine</a> allows mixing DSLs, which comes in handy when doing things like rendering a desktop GUI DSL <code>browser</code> widget additionally leveraging the HTML DSL and CSS DSL for its content.</p>
<p dir="auto">DSLs are activated by top-level keywords (expressions denoted as <code>TopLevelExpression</code>). For example, the <code>html</code> keyword activates the <a href="https://github.com/AndyObtiva/glimmer-dsl-xml">Glimmer DSL for XML</a> and the <code>css</code> keyword activates the <a href="https://github.com/AndyObtiva/glimmer-dsl-css">Glimmer DSL for CSS</a>. Glimmer automatically recognizes top-level keywords in each DSL and activates the DSL accordingly. Once done processing a nested DSL top-level keyword, Glimmer switches back to the prior DSL automatically.</p>
<p dir="auto">By default, all loaded DSLs (required glimmer DSL gems) are enabled.</p>
<p dir="auto">For example, this shows "Hello, World!" inside a <a href="https://github.com/AndyObtiva/glimmer-dsl-swt">Glimmer DSL for SWT</a> desktop app <code>browser</code> widget using <code>html</code> and <code>css</code> from <a href="https://github.com/AndyObtiva/glimmer-dsl-xml">Glimmer DSL for XML</a> and <a href="https://github.com/AndyObtiva/glimmer-dsl-css">Glimmer DSL for CSS</a>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="require 'glimmer-dsl-swt'
require 'glimmer-dsl-xml'
require 'glimmer-dsl-css'

include Glimmer

shell {
  minimum_size 130, 130
  @browser = browser {
    text html {
      head {
        meta(name: &quot;viewport&quot;, content: &quot;width=device-width, initial-scale=2.0&quot;)
        style {
          css {
            h1 {
              background 'yellow'
            }
          }
        }
      }
      body {
        h1 { &quot;Hello, World!&quot; }
      }
    }
  }
}.open"><pre><span>require</span> <span>'glimmer-dsl-swt'</span>
<span>require</span> <span>'glimmer-dsl-xml'</span>
<span>require</span> <span>'glimmer-dsl-css'</span>

<span>include</span> <span>Glimmer</span>

<span>shell</span> <span>{</span>
  <span>minimum_size</span> <span>130</span><span>,</span> <span>130</span>
  <span>@browser</span> <span>=</span> <span>browser</span> <span>{</span>
    <span>text</span> <span>html</span> <span>{</span>
      <span>head</span> <span>{</span>
        <span>meta</span><span>(</span><span>name</span>: <span>"viewport"</span><span>,</span> <span>content</span>: <span>"width=device-width, initial-scale=2.0"</span><span>)</span>
        <span>style</span> <span>{</span>
          <span>css</span> <span>{</span>
            <span>h1</span> <span>{</span>
              <span>background</span> <span>'yellow'</span>
            <span>}</span>
          <span>}</span>
        <span>}</span>
      <span>}</span>
      <span>body</span> <span>{</span>
        <span>h1</span> <span>{</span> <span>"Hello, World!"</span> <span>}</span>
      <span>}</span>
    <span>}</span>
  <span>}</span>
<span>}</span><span>.</span><span>open</span></pre></div>
<p dir="auto"><strong>API methods to enable/disable DSLs:</strong></p>
<p dir="auto"><code>Glimmer::DSL::Engine.disable_dsl(dsl)</code>: disables a particular DSL</p>
<p dir="auto">Example: <code>Glimmer::DSL::Engine.disable_dsl(:swt)</code></p>
<p dir="auto"><code>Glimmer::DSL::Engine.enable_dsl(dsl)</code>: enables a particular DSL</p>
<p dir="auto">Example: <code>Glimmer::DSL::Engine.disable_dsl(:swt)</code></p>
<p dir="auto"><code>Glimmer::DSL::Engine.enabled_dsls=(dsls)</code>: enables only the specified DSLs, disabling all other loaded DSLs</p>
<p dir="auto">Example: <code>Glimmer::DSL::Engine.enabled_dsls = [:xml, :css]</code></p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Official DSLs</h3><a id="user-content-official-dsls" aria-label="Permalink: Official DSLs" href="#official-dsls"></a></p>
<p dir="auto">Here, we showcase official Glimmer DSLs; that is <a href="https://rubygems.org/search?query=glimmer-dsl-" rel="nofollow">gems starting with the <code>glimmer-dsl-</code> prefix</a>.</p>
<p dir="auto">(you can skip ahead if you prefer to learn more about the Glimmer <a href="#dsl-engine">DSL Engine</a> or <a href="#data-binding-library">Data-Binding Library</a> first)</p>
<p dir="auto"><h4 tabindex="-1" dir="auto">Glimmer DSL for SWT (JRuby Desktop Development GUI Framework)</h4><a id="user-content-glimmer-dsl-for-swt-jruby-desktop-development-gui-framework" aria-label="Permalink: Glimmer DSL for SWT (JRuby Desktop Development GUI Framework)" href="#glimmer-dsl-for-swt-jruby-desktop-development-gui-framework"></a></p>
<p dir="auto"><a href="https://github.com/AndyObtiva/glimmer-dsl-swt">Glimmer DSL for SWT</a> is a native-GUI cross-platform desktop development library written in <a href="https://www.jruby.org/" rel="nofollow">JRuby</a>, an OS-threaded faster version of <a href="https://www.ruby-lang.org/en/" rel="nofollow">Ruby</a>. <a href="https://rubygems.org/gems/glimmer" rel="nofollow">Glimmer</a>'s main innovation is a declarative <a href="https://github.com/AndyObtiva/glimmer-dsl-swt#glimmer-dsl-syntax">Ruby DSL</a> that enables productive and efficient authoring of desktop application user-interfaces while relying on the robust <a href="https://www.eclipse.org/swt/" rel="nofollow">Eclipse SWT library</a>. <a href="https://github.com/AndyObtiva/glimmer-dsl-swt">Glimmer DSL for SWT</a> additionally innovates by having built-in <a href="https://github.com/AndyObtiva/glimmer-dsl-swt#data-binding">data-binding</a> support, which greatly facilitates synchronizing the GUI with domain models, thus achieving true decoupling of object oriented components and enabling developers to solve business problems (test-first) without worrying about GUI concerns, or alternatively drive development GUI-first, and then write clean business models (test-first) afterwards. To get started quickly, <a href="https://github.com/AndyObtiva/glimmer-dsl-swt">Glimmer DSL for SWT</a> offers <a href="https://github.com/AndyObtiva/glimmer-dsl-swt#scaffolding">scaffolding</a> options for <a href="https://github.com/AndyObtiva/glimmer-dsl-swt#in-production">Apps</a>, <a href="https://github.com/AndyObtiva/glimmer-dsl-swt#custom-shell-gem">Gems</a>, and <a href="https://github.com/AndyObtiva/glimmer-dsl-swt#custom-widgets">Custom Widgets</a>. <a href="https://github.com/AndyObtiva/glimmer-dsl-swt">Glimmer DSL for SWT</a> also includes native-executable <a href="https://github.com/AndyObtiva/glimmer-dsl-swt#packaging--distribution">packaging</a> support, sorely lacking in other libraries, thus enabling the delivery of desktop apps written in <a href="https://www.ruby-lang.org/en/" rel="nofollow">Ruby</a> as truly native DMG/PKG/APP files on the <a href="https://www.apple.com/ca/macos" rel="nofollow">Mac</a> + <a href="https://developer.apple.com/macos/distribution/" rel="nofollow">App Store</a> and MSI/EXE files on <a href="https://www.microsoft.com/en-ca/windows" rel="nofollow">Windows</a>.</p>
<p dir="auto">To get started, visit the <a href="https://github.com/AndyObtiva/glimmer-dsl-swt#pre-requisites">Glimmer DSL for SWT project page</a> for instructions on installing the <a href="https://rubygems.org/gems/glimmer-dsl-swt" rel="nofollow">glimmer-dsl-swt gem</a>.</p>
<p dir="auto"><h5 tabindex="-1" dir="auto">Glimmer DSL for SWT Samples</h5><a id="user-content-glimmer-dsl-for-swt-samples" aria-label="Permalink: Glimmer DSL for SWT Samples" href="#glimmer-dsl-for-swt-samples"></a></p>
<p dir="auto"><h6 tabindex="-1" dir="auto">Hello, World!</h6><a id="user-content-hello-world" aria-label="Permalink: Hello, World!" href="#hello-world"></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/AndyObtiva/glimmer/blob/master/images/glimmer-hello-world.png"><img src="https://github.com/AndyObtiva/glimmer/raw/master/images/glimmer-hello-world.png" alt="Hello World"></a></p>
<p dir="auto">Glimmer GUI code (from <a href="https://github.com/AndyObtiva/glimmer-dsl-swt/blob/master/samples/hello/hello_world.rb">samples/hello/hello_world.rb</a>):</p>
<div dir="auto" data-snippet-clipboard-copy-content="include Glimmer

shell {
  text &quot;Glimmer&quot;
  label {
    text &quot;Hello, World!&quot;
  }
}.open"><pre><span>include</span> <span>Glimmer</span>

<span>shell</span> <span>{</span>
  <span>text</span> <span>"Glimmer"</span>
  <span>label</span> <span>{</span>
    <span>text</span> <span>"Hello, World!"</span>
  <span>}</span>
<span>}</span><span>.</span><span>open</span></pre></div>
<p dir="auto"><h6 tabindex="-1" dir="auto">Glimmer Tetris</h6><a id="user-content-glimmer-tetris" aria-label="Permalink: Glimmer Tetris" href="#glimmer-tetris"></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-swt/v4.18.3.1/images/glimmer-tetris.png"><img src="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-swt/v4.18.3.1/images/glimmer-tetris.png" alt="Tetris"></a></p>
<p dir="auto">Glimmer GUI code (from <a href="https://github.com/AndyObtiva/glimmer-dsl-swt/blob/v4.18.3.1/samples/elaborate/tetris.rb">samples/elaborate/tetris.rb</a>):</p>
<div dir="auto" data-snippet-clipboard-copy-content="# ...
    shell(:no_resize) {
      grid_layout {
        num_columns 2
        make_columns_equal_width false
        margin_width 0
        margin_height 0
        horizontal_spacing 0
      }
      
      text 'Glimmer Tetris'
      minimum_size 475, 500
      background :gray
      
      tetris_menu_bar(game: game)
            
      playfield(game_playfield: game.playfield, playfield_width: playfield_width, playfield_height: playfield_height, block_size: BLOCK_SIZE)
      
      score_lane(game: game, block_size: BLOCK_SIZE) {
        layout_data(:fill, :fill, true, true)
      }
    }
# ..."><pre><span># ...</span>
    <span>shell</span><span>(</span><span>:no_resize</span><span>)</span> <span>{</span>
      <span>grid_layout</span> <span>{</span>
        <span>num_columns</span> <span>2</span>
        <span>make_columns_equal_width</span> <span>false</span>
        <span>margin_width</span> <span>0</span>
        <span>margin_height</span> <span>0</span>
        <span>horizontal_spacing</span> <span>0</span>
      <span>}</span>
      
      <span>text</span> <span>'Glimmer Tetris'</span>
      <span>minimum_size</span> <span>475</span><span>,</span> <span>500</span>
      <span>background</span> <span>:gray</span>
      
      <span>tetris_menu_bar</span><span>(</span><span>game</span>: <span>game</span><span>)</span>
            
      <span>playfield</span><span>(</span><span>game_playfield</span>: <span>game</span><span>.</span><span>playfield</span><span>,</span> <span>playfield_width</span>: <span>playfield_width</span><span>,</span> <span>playfield_height</span>: <span>playfield_height</span><span>,</span> <span>block_size</span>: <span>BLOCK_SIZE</span><span>)</span>
      
      <span>score_lane</span><span>(</span><span>game</span>: <span>game</span><span>,</span> <span>block_size</span>: <span>BLOCK_SIZE</span><span>)</span> <span>{</span>
        <span>layout_data</span><span>(</span><span>:fill</span><span>,</span> <span>:fill</span><span>,</span> <span>true</span><span>,</span> <span>true</span><span>)</span>
      <span>}</span>
    <span>}</span>
<span># ...</span></pre></div>
<p dir="auto"><h6 tabindex="-1" dir="auto">Hello, Table!</h6><a id="user-content-hello-table" aria-label="Permalink: Hello, Table!" href="#hello-table"></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-swt/master/images/glimmer-hello-table.png"><img src="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-swt/master/images/glimmer-hello-table.png" alt="Hello Table"></a></p>
<p dir="auto">Glimmer GUI code (from <a href="https://github.com/AndyObtiva/glimmer-dsl-swt/blob/master/samples/hello/hello_table.rb">samples/hello/hello_table.rb</a>):</p>
<div dir="auto" data-snippet-clipboard-copy-content="# ...
    shell {
      grid_layout
      
      text 'Hello, Table!'
      
      label {
        layout_data :center, :center, true, false
        
        text 'Baseball Playoff Schedule'
        font height: 30, style: :bold
      }
      
      combo(:read_only) {
        layout_data :center, :center, true, false
        selection bind(BaseballGame, :playoff_type)
        font height: 16
      }
      
      table(:editable) { |table_proxy|
        layout_data :fill, :fill, true, true
      
        table_column {
          text 'Game Date'
          width 150
          sort_property :date # ensure sorting by real date value (not `game_date` string specified in items below)
          editor :date_drop_down, property: :date_time
        }
        table_column {
          text 'Game Time'
          width 150
          sort_property :time # ensure sorting by real time value (not `game_time` string specified in items below)
          editor :time, property: :date_time
        }
        table_column {
          text 'Ballpark'
          width 180
          editor :none
        }
        table_column {
          text 'Home Team'
          width 150
          editor :combo, :read_only # read_only is simply an SWT style passed to combo widget
        }
        table_column {
          text 'Away Team'
          width 150
          editor :combo, :read_only # read_only is simply an SWT style passed to combo widget
        }
        table_column {
          text 'Promotion'
          width 150
          # default text editor is used here
        }
        
        # Data-bind table items (rows) to a model collection property, specifying column properties ordering per nested model
        items bind(BaseballGame, :schedule), column_properties(:game_date, :game_time, :ballpark, :home_team, :away_team, :promotion)
        
        # Data-bind table selection
        selection bind(BaseballGame, :selected_game)
        
        # Default initial sort property
        sort_property :date
        
        # Sort by these additional properties after handling sort by the column the user clicked
        additional_sort_properties :date, :time, :home_team, :away_team, :ballpark, :promotion
        
        menu {
          menu_item {
            text 'Book'
            
            on_widget_selected {
              book_selected_game
            }
          }
        }
      }
      
      button {
        text 'Book Selected Game'
        layout_data :center, :center, true, false
        font height: 16
        enabled bind(BaseballGame, :selected_game)
        
        on_widget_selected {
          book_selected_game
        }
      }
    }.open
# ..."><pre><span># ...</span>
    <span>shell</span> <span>{</span>
      <span>grid_layout</span>
      
      <span>text</span> <span>'Hello, Table!'</span>
      
      <span>label</span> <span>{</span>
        <span>layout_data</span> <span>:center</span><span>,</span> <span>:center</span><span>,</span> <span>true</span><span>,</span> <span>false</span>
        
        <span>text</span> <span>'Baseball Playoff Schedule'</span>
        <span>font</span> <span>height</span>: <span>30</span><span>,</span> <span>style</span>: <span>:bold</span>
      <span>}</span>
      
      <span>combo</span><span>(</span><span>:read_only</span><span>)</span> <span>{</span>
        <span>layout_data</span> <span>:center</span><span>,</span> <span>:center</span><span>,</span> <span>true</span><span>,</span> <span>false</span>
        <span>selection</span> <span>bind</span><span>(</span><span>BaseballGame</span><span>,</span> <span>:playoff_type</span><span>)</span>
        <span>font</span> <span>height</span>: <span>16</span>
      <span>}</span>
      
      <span>table</span><span>(</span><span>:editable</span><span>)</span> <span>{</span> |<span>table_proxy</span>|
        <span>layout_data</span> <span>:fill</span><span>,</span> <span>:fill</span><span>,</span> <span>true</span><span>,</span> <span>true</span>
      
        <span>table_column</span> <span>{</span>
          <span>text</span> <span>'Game Date'</span>
          <span>width</span> <span>150</span>
          <span>sort_property</span> <span>:date</span> <span># ensure sorting by real date value (not `game_date` string specified in items below)</span>
          <span>editor</span> <span>:date_drop_down</span><span>,</span> <span>property</span>: <span>:date_time</span>
        <span>}</span>
        <span>table_column</span> <span>{</span>
          <span>text</span> <span>'Game Time'</span>
          <span>width</span> <span>150</span>
          <span>sort_property</span> <span>:time</span> <span># ensure sorting by real time value (not `game_time` string specified in items below)</span>
          <span>editor</span> <span>:time</span><span>,</span> <span>property</span>: <span>:date_time</span>
        <span>}</span>
        <span>table_column</span> <span>{</span>
          <span>text</span> <span>'Ballpark'</span>
          <span>width</span> <span>180</span>
          <span>editor</span> <span>:none</span>
        <span>}</span>
        <span>table_column</span> <span>{</span>
          <span>text</span> <span>'Home Team'</span>
          <span>width</span> <span>150</span>
          <span>editor</span> <span>:combo</span><span>,</span> <span>:read_only</span> <span># read_only is simply an SWT style passed to combo widget</span>
        <span>}</span>
        <span>table_column</span> <span>{</span>
          <span>text</span> <span>'Away Team'</span>
          <span>width</span> <span>150</span>
          <span>editor</span> <span>:combo</span><span>,</span> <span>:read_only</span> <span># read_only is simply an SWT style passed to combo widget</span>
        <span>}</span>
        <span>table_column</span> <span>{</span>
          <span>text</span> <span>'Promotion'</span>
          <span>width</span> <span>150</span>
          <span># default text editor is used here</span>
        <span>}</span>
        
        <span># Data-bind table items (rows) to a model collection property, specifying column properties ordering per nested model</span>
        <span>items</span> <span>bind</span><span>(</span><span>BaseballGame</span><span>,</span> <span>:schedule</span><span>)</span><span>,</span> <span>column_properties</span><span>(</span><span>:game_date</span><span>,</span> <span>:game_time</span><span>,</span> <span>:ballpark</span><span>,</span> <span>:home_team</span><span>,</span> <span>:away_team</span><span>,</span> <span>:promotion</span><span>)</span>
        
        <span># Data-bind table selection</span>
        <span>selection</span> <span>bind</span><span>(</span><span>BaseballGame</span><span>,</span> <span>:selected_game</span><span>)</span>
        
        <span># Default initial sort property</span>
        <span>sort_property</span> <span>:date</span>
        
        <span># Sort by these additional properties after handling sort by the column the user clicked</span>
        <span>additional_sort_properties</span> <span>:date</span><span>,</span> <span>:time</span><span>,</span> <span>:home_team</span><span>,</span> <span>:away_team</span><span>,</span> <span>:ballpark</span><span>,</span> <span>:promotion</span>
        
        <span>menu</span> <span>{</span>
          <span>menu_item</span> <span>{</span>
            <span>text</span> <span>'Book'</span>
            
            <span>on_widget_selected</span> <span>{</span>
              <span>book_selected_game</span>
            <span>}</span>
          <span>}</span>
        <span>}</span>
      <span>}</span>
      
      <span>button</span> <span>{</span>
        <span>text</span> <span>'Book Selected Game'</span>
        <span>layout_data</span> <span>:center</span><span>,</span> <span>:center</span><span>,</span> <span>true</span><span>,</span> <span>false</span>
        <span>font</span> <span>height</span>: <span>16</span>
        <span>enabled</span> <span>bind</span><span>(</span><span>BaseballGame</span><span>,</span> <span>:selected_game</span><span>)</span>
        
        <span>on_widget_selected</span> <span>{</span>
          <span>book_selected_game</span>
        <span>}</span>
      <span>}</span>
    <span>}</span><span>.</span><span>open</span>
<span># ...</span></pre></div>
<p dir="auto"><h5 tabindex="-1" dir="auto">Production Desktop Apps Built with Glimmer DSL for SWT</h5><a id="user-content-production-desktop-apps-built-with-glimmer-dsl-for-swt" aria-label="Permalink: Production Desktop Apps Built with Glimmer DSL for SWT" href="#production-desktop-apps-built-with-glimmer-dsl-for-swt"></a></p>
<p dir="auto"><a href="https://github.com/AndyObtiva/are-we-there-yet"><img alt="Are We There Yet Logo" src="https://raw.githubusercontent.com/AndyObtiva/are-we-there-yet/master/are-we-there-yet-logo.svg" width="40">Are We There Yet?</a> - Small Project Tracking App (leveraging ActiveRecord and SQLite)</p>
<p dir="auto"><a href="https://github.com/AndyObtiva/are-we-there-yet"><img src="https://raw.githubusercontent.com/AndyObtiva/are-we-there-yet/master/are-we-there-yet-screenshot-windows.png" alt="Are We There Yet? App Screenshot"></a></p>
<p dir="auto"><a href="https://github.com/AndyObtiva/MathBowling"><img alt="Math Bowling Logo" src="https://raw.githubusercontent.com/AndyObtiva/MathBowling/master/images/math-bowling-logo.png" width="40">Math Bowling</a> - Elementary Level Math Game Featuring Bowling Rules</p>
<p dir="auto"><a href="https://github.com/AndyObtiva/MathBowling"><img src="https://raw.githubusercontent.com/AndyObtiva/MathBowling/master/Math-Bowling-Screenshot.png" alt="Math Bowling App Screenshot"></a></p>
<p dir="auto"><a href="https://github.com/AndyObtiva/garderie_rainbow_daily_agenda"><img alt="Garderie Rainbow Daily Agenda Logo" src="https://raw.githubusercontent.com/AndyObtiva/garderie_rainbow_daily_agenda/master/images/garderie_rainbow_daily_agenda_logo.png" width="40">Garderie Rainbow Daily Agenda</a> -  A child nursery daily agenda reporting desktop app (communicates to a Rails Server and stores data using ActiveRecord/PostgreSQL [in its rails_server branch])</p>
<p dir="auto"><a href="https://github.com/AndyObtiva/garderie_rainbow_daily_agenda"><img src="https://raw.githubusercontent.com/AndyObtiva/garderie_rainbow_daily_agenda/master/images/garderie_rainbow_daily_agenda_screenshot.png" alt="Garderie Rainbow Daily Agenda App Screenshot"></a></p>
<p dir="auto"><h4 tabindex="-1" dir="auto">Glimmer DSL for Opal (Pure Ruby Web GUI and Auto-Webifier of Desktop Apps)</h4><a id="user-content-glimmer-dsl-for-opal-pure-ruby-web-gui-and-auto-webifier-of-desktop-apps" aria-label="Permalink: Glimmer DSL for Opal (Pure Ruby Web GUI and Auto-Webifier of Desktop Apps)" href="#glimmer-dsl-for-opal-pure-ruby-web-gui-and-auto-webifier-of-desktop-apps"></a></p>
<p dir="auto"><a href="https://github.com/AndyObtiva/glimmer-dsl-opal">Glimmer DSL for Opal</a> is an experimental proof-of-concept web GUI adapter for <a href="https://github.com/AndyObtiva/glimmer">Glimmer</a> desktop apps (i.e. apps built with <a href="https://github.com/AndyObtiva/glimmer-dsl-swt">Glimmer DSL for SWT</a>). It webifies them via <a href="https://rubyonrails.org/" rel="nofollow">Rails</a>, allowing Ruby desktop apps to run on the web via <a href="https://opalrb.com/" rel="nofollow">Opal Ruby</a> without changing a line of code. Apps may then be custom-styled for the web with standard CSS.</p>
<p dir="auto">Glimmer DSL for Opal webifier successfully reuses the entire <a href="https://github.com/AndyObtiva/glimmer">Glimmer</a> core DSL engine in <a href="https://opalrb.com/" rel="nofollow">Opal Ruby</a> inside a web browser, and as such inherits the full range of Glimmer desktop <a href="https://github.com/AndyObtiva/glimmer#data-binding">data-binding</a> capabilities for the web.</p>
<p dir="auto">To get started, visit the <a href="https://github.com/AndyObtiva/glimmer-dsl-opal">Glimmer DSL for Opal project page</a> for instructions on installing the <a href="https://rubygems.org/gems/glimmer-dsl-opal" rel="nofollow">glimmer-dsl-opal gem</a>.</p>
<p dir="auto"><h5 tabindex="-1" dir="auto">Glimmer DSL for Opal Samples</h5><a id="user-content-glimmer-dsl-for-opal-samples" aria-label="Permalink: Glimmer DSL for Opal Samples" href="#glimmer-dsl-for-opal-samples"></a></p>
<p dir="auto"><h6 tabindex="-1" dir="auto">Hello, Computed!</h6><a id="user-content-hello-computed" aria-label="Permalink: Hello, Computed!" href="#hello-computed"></a></p>
<p dir="auto">Add the following require statement to <code>app/assets/javascripts/application.rb</code></p>
<div dir="auto" data-snippet-clipboard-copy-content="require 'samples/hello/hello_computed'"><pre><span>require</span> <span>'samples/hello/hello_computed'</span></pre></div>
<p dir="auto">Or add the Glimmer code directly if you prefer to play around with it:</p>
<div dir="auto" data-snippet-clipboard-copy-content="class HelloComputed
  class Contact
    attr_accessor :first_name, :last_name, :year_of_birth
  
    def initialize(attribute_map)
      @first_name = attribute_map[:first_name]
      @last_name = attribute_map[:last_name]
      @year_of_birth = attribute_map[:year_of_birth]
    end
  
    def name
      &quot;#{last_name}, #{first_name}&quot;
    end
  
    def age
      Time.now.year - year_of_birth.to_i
    rescue
      0
    end
  end
end

class HelloComputed
  include Glimmer

  def initialize
    @contact = Contact.new(
      first_name: 'Barry',
      last_name: 'McKibbin',
      year_of_birth: 1985
    )
  end

  def launch
    shell {
      text 'Hello, Computed!'
      composite {
        grid_layout {
          num_columns 2
          make_columns_equal_width true
          horizontal_spacing 20
          vertical_spacing 10
        }
        label {text 'First &amp;Name: '}
        text {
          text bind(@contact, :first_name)
          layout_data {
            horizontal_alignment :fill
            grab_excess_horizontal_space true
          }
        }
        label {text '&amp;Last Name: '}
        text {
          text bind(@contact, :last_name)
          layout_data {
            horizontal_alignment :fill
            grab_excess_horizontal_space true
          }
        }
        label {text '&amp;Year of Birth: '}
        text {
          text bind(@contact, :year_of_birth)
          layout_data {
            horizontal_alignment :fill
            grab_excess_horizontal_space true
          }
        }
        label {text 'Name: '}
        label {
          text bind(@contact, :name, computed_by: [:first_name, :last_name])
          layout_data {
            horizontal_alignment :fill
            grab_excess_horizontal_space true
          }
        }
        label {text 'Age: '}
        label {
          text bind(@contact, :age, on_write: :to_i, computed_by: [:year_of_birth])
          layout_data {
            horizontal_alignment :fill
            grab_excess_horizontal_space true
          }
        }
      }
    }.open
  end
end

HelloComputed.new.launch"><pre><span>class</span> <span>HelloComputed</span>
  <span>class</span> <span>Contact</span>
    <span>attr_accessor</span> <span>:first_name</span><span>,</span> <span>:last_name</span><span>,</span> <span>:year_of_birth</span>
  
    <span>def</span> <span>initialize</span><span>(</span><span>attribute_map</span><span>)</span>
      <span>@first_name</span> <span>=</span> <span>attribute_map</span><span>[</span><span>:first_name</span><span>]</span>
      <span>@last_name</span> <span>=</span> <span>attribute_map</span><span>[</span><span>:last_name</span><span>]</span>
      <span>@year_of_birth</span> <span>=</span> <span>attribute_map</span><span>[</span><span>:year_of_birth</span><span>]</span>
    <span>end</span>
  
    <span>def</span> <span>name</span>
      <span>"<span><span>#{</span><span>last_name</span><span>}</span></span>, <span><span>#{</span><span>first_name</span><span>}</span></span>"</span>
    <span>end</span>
  
    <span>def</span> <span>age</span>
      <span>Time</span><span>.</span><span>now</span><span>.</span><span>year</span> - <span>year_of_birth</span><span>.</span><span>to_i</span>
    <span>rescue</span>
      <span>0</span>
    <span>end</span>
  <span>end</span>
<span>end</span>

<span>class</span> <span>HelloComputed</span>
  <span>include</span> <span>Glimmer</span>

  <span>def</span> <span>initialize</span>
    <span>@contact</span> <span>=</span> <span>Contact</span><span>.</span><span>new</span><span>(</span>
      <span>first_name</span>: <span>'Barry'</span><span>,</span>
      <span>last_name</span>: <span>'McKibbin'</span><span>,</span>
      <span>year_of_birth</span>: <span>1985</span>
    <span>)</span>
  <span>end</span>

  <span>def</span> <span>launch</span>
    <span>shell</span> <span>{</span>
      <span>text</span> <span>'Hello, Computed!'</span>
      <span>composite</span> <span>{</span>
        <span>grid_layout</span> <span>{</span>
          <span>num_columns</span> <span>2</span>
          <span>make_columns_equal_width</span> <span>true</span>
          <span>horizontal_spacing</span> <span>20</span>
          <span>vertical_spacing</span> <span>10</span>
        <span>}</span>
        <span>label</span> <span>{</span><span>text</span> <span>'First &amp;Name: '</span><span>}</span>
        <span>text</span> <span>{</span>
          <span>text</span> <span>bind</span><span>(</span><span>@contact</span><span>,</span> <span>:first_name</span><span>)</span>
          <span>layout_data</span> <span>{</span>
            <span>horizontal_alignment</span> <span>:fill</span>
            <span>grab_excess_horizontal_space</span> <span>true</span>
          <span>}</span>
        <span>}</span>
        <span>label</span> <span>{</span><span>text</span> <span>'&amp;Last Name: '</span><span>}</span>
        <span>text</span> <span>{</span>
          <span>text</span> <span>bind</span><span>(</span><span>@contact</span><span>,</span> <span>:last_name</span><span>)</span>
          <span>layout_data</span> <span>{</span>
            <span>horizontal_alignment</span> <span>:fill</span>
            <span>grab_excess_horizontal_space</span> <span>true</span>
          <span>}</span>
        <span>}</span>
        <span>label</span> <span>{</span><span>text</span> <span>'&amp;Year of Birth: '</span><span>}</span>
        <span>text</span> <span>{</span>
          <span>text</span> <span>bind</span><span>(</span><span>@contact</span><span>,</span> <span>:year_of_birth</span><span>)</span>
          <span>layout_data</span> <span>{</span>
            <span>horizontal_alignment</span> <span>:fill</span>
            <span>grab_excess_horizontal_space</span> <span>true</span>
          <span>}</span>
        <span>}</span>
        <span>label</span> <span>{</span><span>text</span> <span>'Name: '</span><span>}</span>
        <span>label</span> <span>{</span>
          <span>text</span> <span>bind</span><span>(</span><span>@contact</span><span>,</span> <span>:name</span><span>,</span> <span>computed_by</span>: <span>[</span><span>:first_name</span><span>,</span> <span>:last_name</span><span>]</span><span>)</span>
          <span>layout_data</span> <span>{</span>
            <span>horizontal_alignment</span> <span>:fill</span>
            <span>grab_excess_horizontal_space</span> <span>true</span>
          <span>}</span>
        <span>}</span>
        <span>label</span> <span>{</span><span>text</span> <span>'Age: '</span><span>}</span>
        <span>label</span> <span>{</span>
          <span>text</span> <span>bind</span><span>(</span><span>@contact</span><span>,</span> <span>:age</span><span>,</span> <span>on_write</span>: <span>:to_i</span><span>,</span> <span>computed_by</span>: <span>[</span><span>:year_of_birth</span><span>]</span><span>)</span>
          <span>layout_data</span> <span>{</span>
            <span>horizontal_alignment</span> <span>:fill</span>
            <span>grab_excess_horizontal_space</span> <span>true</span>
          <span>}</span>
        <span>}</span>
      <span>}</span>
    <span>}</span><span>.</span><span>open</span>
  <span>end</span>
<span>end</span>

<span>HelloComputed</span><span>.</span><span>new</span><span>.</span><span>launch</span></pre></div>
<p dir="auto">Glimmer app on the desktop (using <a href="https://github.com/AndyObtiva/glimmer-dsl-swt"><code>glimmer-dsl-swt</code></a> gem):</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/AndyObtiva/glimmer/blob/master/images/glimmer-hello-computed.png"><img src="https://github.com/AndyObtiva/glimmer/raw/master/images/glimmer-hello-computed.png" alt="Glimmer DSL for SWT Hello Computed"></a></p>
<p dir="auto">Glimmer app on the web (using <code>glimmer-dsl-opal</code> gem):</p>
<p dir="auto">Start the Rails server:</p>

<p dir="auto">Visit <code>http://localhost:3000</code></p>
<p dir="auto">You should see "Hello, Computed!"</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-opal/master/images/glimmer-dsl-opal-hello-computed.png"><img src="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-opal/master/images/glimmer-dsl-opal-hello-computed.png" alt="Glimmer DSL for Opal Hello Computed"></a></p>
<p dir="auto"><h6 tabindex="-1" dir="auto">Glimmer Calculator</h6><a id="user-content-glimmer-calculator" aria-label="Permalink: Glimmer Calculator" href="#glimmer-calculator"></a></p>
<p dir="auto">Add the <a href="https://github.com/AndyObtiva/glimmer-cs-calculator">glimmer-cs-calculator</a> gem to <code>Gemfile</code> (without requiring):</p>
<div data-snippet-clipboard-copy-content="gem 'glimmer-cs-calculator', require: false"><pre><code>gem 'glimmer-cs-calculator', require: false
</code></pre></div>
<p dir="auto">Add the following require statement to <code>app/assets/javascripts/application.rb</code></p>
<div dir="auto" data-snippet-clipboard-copy-content="require 'glimmer-cs-calculator/launch'"><pre><span>require</span> <span>'glimmer-cs-calculator/launch'</span></pre></div>
<p dir="auto">Sample GUI code (relies on custom widgets <code>command_button</code>, <code>operation_button</code>, and <code>number_button</code>):</p>
<div dir="auto" data-snippet-clipboard-copy-content="# ...
shell {
  minimum_size (OS.mac? ? 320 : (OS.windows? ? 390 : 520)), 240
  image File.join(APP_ROOT, 'package', 'windows', &quot;Glimmer Calculator.ico&quot;) if OS.windows?
  text &quot;Glimmer - Calculator&quot;
  grid_layout 4, true
  # Setting styled_text to multi in order for alignment options to activate
  styled_text(:multi, :wrap, :border) {
    text bind(@presenter, :result)
    alignment swt(:right)
    right_margin 5
    font height: 40
    layout_data(:fill, :fill, true, true) {
      horizontal_span 4
    }
    editable false
    caret nil
  }
  command_button('AC')
  operation_button('÷')
  operation_button('×')
  operation_button('−')
  (7..9).each { |number|
    number_button(number)
  }
  operation_button('+', font: @button_font_big, vertical_span: 2)
  (4..6).each { |number|
    number_button(number)
  }
  (1..3).each { |number|
    number_button(number)
  }
  command_button('=', font: @button_font_big, vertical_span: 2)
  number_button(0, horizontal_span: 2)
  operation_button('.')
}
# ..."><pre><span># ...</span>
<span>shell</span> <span>{</span>
  <span>minimum_size</span> <span>(</span><span>OS</span><span>.</span><span>mac?</span> ? <span>320</span> : <span>(</span><span>OS</span><span>.</span><span>windows?</span> ? <span>390</span> : <span>520</span><span>)</span><span>)</span><span>,</span> <span>240</span>
  <span>image</span> <span>File</span><span>.</span><span>join</span><span>(</span><span>APP_ROOT</span><span>,</span> <span>'package'</span><span>,</span> <span>'windows'</span><span>,</span> <span>"Glimmer Calculator.ico"</span><span>)</span> <span>if</span> <span>OS</span><span>.</span><span>windows?</span>
  <span>text</span> <span>"Glimmer - Calculator"</span>
  <span>grid_layout</span> <span>4</span><span>,</span> <span>true</span>
  <span># Setting styled_text to multi in order for alignment options to activate</span>
  <span>styled_text</span><span>(</span><span>:multi</span><span>,</span> <span>:wrap</span><span>,</span> <span>:border</span><span>)</span> <span>{</span>
    <span>text</span> <span>bind</span><span>(</span><span>@presenter</span><span>,</span> <span>:result</span><span>)</span>
    <span>alignment</span> <span>swt</span><span>(</span><span>:right</span><span>)</span>
    <span>right_margin</span> <span>5</span>
    <span>font</span> <span>height</span>: <span>40</span>
    <span>layout_data</span><span>(</span><span>:fill</span><span>,</span> <span>:fill</span><span>,</span> <span>true</span><span>,</span> <span>true</span><span>)</span> <span>{</span>
      <span>horizontal_span</span> <span>4</span>
    <span>}</span>
    <span>editable</span> <span>false</span>
    <span>caret</span> <span>nil</span>
  <span>}</span>
  <span>command_button</span><span>(</span><span>'AC'</span><span>)</span>
  <span>operation_button</span><span>(</span><span>'÷'</span><span>)</span>
  <span>operation_button</span><span>(</span><span>'×'</span><span>)</span>
  <span>operation_button</span><span>(</span><span>'−'</span><span>)</span>
  <span>(</span><span>7</span>..<span>9</span><span>)</span><span>.</span><span>each</span> <span>{</span> |<span>number</span>|
    <span>number_button</span><span>(</span><span>number</span><span>)</span>
  <span>}</span>
  <span>operation_button</span><span>(</span><span>'+'</span><span>,</span> <span>font</span>: <span>@button_font_big</span><span>,</span> <span>vertical_span</span>: <span>2</span><span>)</span>
  <span>(</span><span>4</span>..<span>6</span><span>)</span><span>.</span><span>each</span> <span>{</span> |<span>number</span>|
    <span>number_button</span><span>(</span><span>number</span><span>)</span>
  <span>}</span>
  <span>(</span><span>1</span>..<span>3</span><span>)</span><span>.</span><span>each</span> <span>{</span> |<span>number</span>|
    <span>number_button</span><span>(</span><span>number</span><span>)</span>
  <span>}</span>
  <span>command_button</span><span>(</span><span>'='</span><span>,</span> <span>font</span>: <span>@button_font_big</span><span>,</span> <span>vertical_span</span>: <span>2</span><span>)</span>
  <span>number_button</span><span>(</span><span>0</span><span>,</span> <span>horizontal_span</span>: <span>2</span><span>)</span>
  <span>operation_button</span><span>(</span><span>'.'</span><span>)</span>
<span>}</span>
<span># ...</span></pre></div>
<p dir="auto">Glimmer app on the desktop (using the <a href="https://github.com/AndyObtiva/glimmer-dsl-swt"><code>glimmer-dsl-swt</code></a> gem):</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/AndyObtiva/glimmer-cs-calculator/master/glimmer-cs-calculator-screenshot-linux.png"><img src="https://raw.githubusercontent.com/AndyObtiva/glimmer-cs-calculator/master/glimmer-cs-calculator-screenshot-linux.png" alt="Glimmer Calculator Linux"></a></p>
<p dir="auto">Glimmer app on the web (using <code>glimmer-dsl-opal</code> gem):</p>
<p dir="auto">Start the Rails server:</p>

<p dir="auto">Visit <code>http://localhost:3000</code>
(or visit: <a href="http://glimmer-cs-calculator-server.herokuapp.com/" rel="nofollow">http://glimmer-cs-calculator-server.herokuapp.com</a>)</p>
<p dir="auto">You should see "Glimmer Calculator"</p>
<p dir="auto"><a href="http://glimmer-cs-calculator-server.herokuapp.com/" rel="nofollow"><img src="https://raw.githubusercontent.com/AndyObtiva/glimmer-cs-calculator/master/glimmer-cs-calculator-screenshot-opal.png" alt="Glimmer Calculator Opal"></a></p>
<p dir="auto">Here is an Apple Calculator CSS themed version (with <a href="https://github.com/AndyObtiva/glimmer-cs-calculator/blob/master/server/glimmer-cs-calculator-server/app/assets/stylesheets/welcomes_apple.scss">CSS only</a>, no app code changes):</p>
<p dir="auto">Visit <a href="http://glimmer-cs-calculator-server.herokuapp.com/welcomes/apple" rel="nofollow">http://glimmer-cs-calculator-server.herokuapp.com/welcomes/apple</a></p>
<p dir="auto">You should see "Apple Calculator Theme"</p>
<p dir="auto"><a href="http://glimmer-cs-calculator-server.herokuapp.com/welcomes/apple" rel="nofollow"><img src="https://raw.githubusercontent.com/AndyObtiva/glimmer-cs-calculator/master/glimmer-cs-calculator-screenshot-opal-apple.png" alt="Glimmer Calculator Opal Apple Calculator Theme"></a></p>
<p dir="auto"><h4 tabindex="-1" dir="auto">Glimmer DSL for LibUI (Prerequisite-Free Ruby Desktop Development GUI Library)</h4><a id="user-content-glimmer-dsl-for-libui-prerequisite-free-ruby-desktop-development-gui-library" aria-label="Permalink: Glimmer DSL for LibUI (Prerequisite-Free Ruby Desktop Development GUI Library)" href="#glimmer-dsl-for-libui-prerequisite-free-ruby-desktop-development-gui-library"></a></p>
<p dir="auto"><a href="https://github.com/AndyObtiva/glimmer-dsl-libui">Glimmer DSL for LibUI</a> is a prerequisite-free Ruby desktop development GUI library. No need to pre-install any prerequisites. Just install the gem and have platform-independent native GUI that just works!</p>
<p dir="auto"><a href="https://github.com/kojix2/LibUI">LibUI</a> is a thin <a href="https://www.ruby-lang.org/en/" rel="nofollow">Ruby</a> wrapper around <a href="https://github.com/andlabs/libui">libui</a>, a relatively new C GUI library that renders native controls on every platform (similar to <a href="https://www.eclipse.org/swt/" rel="nofollow">SWT</a>, but without the heavy weight of the <a href="https://www.java.com/en/" rel="nofollow">Java Virtual Machine</a>).</p>
<p dir="auto">The main trade-off in using <a href="https://rubygems.org/gems/glimmer-dsl-libui" rel="nofollow">Glimmer DSL for LibUI</a> as opposed to <a href="https://github.com/AndyObtiva/glimmer-dsl-swt">Glimmer DSL for SWT</a> or <a href="https://github.com/AndyObtiva/glimmer-dsl-tk">Glimmer DSL for Tk</a> is the fact that <a href="https://www.eclipse.org/swt/" rel="nofollow">SWT</a> and <a href="https://www.tcl.tk/" rel="nofollow">Tk</a> are more mature than mid-alpha <a href="https://github.com/andlabs/libui">libui</a> as GUI toolkits. Still, if there is only a need to build a small simple application, <a href="https://rubygems.org/gems/glimmer-dsl-libui" rel="nofollow">Glimmer DSL for LibUI</a> could be a good convenient choice due to having zero prerequisites beyond the dependencies included in the <a href="https://rubygems.org/gems/glimmer-dsl-libui" rel="nofollow">Ruby gem</a>. Also, just like <a href="https://github.com/AndyObtiva/glimmer-dsl-tk">Glimmer DSL for Tk</a>, its apps start instantly and have a small memory footprint. <a href="https://github.com/kojix2/LibUI">LibUI</a> is a promising new GUI toolkit that might prove quite worthy in the future.</p>
<p dir="auto"><a href="https://github.com/AndyObtiva/glimmer-dsl-libui">Glimmer DSL for LibUI</a> aims to provide a DSL similar to the <a href="https://github.com/AndyObtiva/glimmer-dsl-swt">Glimmer DSL for SWT</a> to enable more productive desktop development in Ruby with:</p>
<ul dir="auto">
<li>Declarative DSL syntax that visually maps to the GUI widget hierarchy</li>
<li>Convention over configuration via smart defaults and automation of low-level details</li>
<li>Requiring the least amount of syntax possible to build GUI</li>
<li>Bidirectional Data-Binding to declaratively wire and automatically synchronize GUI with Business Models</li>
<li>Custom Widget support</li>
<li>Scaffolding for new custom widgets, apps, and gems</li>
<li>Native-Executable packaging on Mac, Windows, and Linux</li>
</ul>
<p dir="auto"><h5 tabindex="-1" dir="auto">Glimmer DSL for LibUI Samples</h5><a id="user-content-glimmer-dsl-for-libui-samples" aria-label="Permalink: Glimmer DSL for LibUI Samples" href="#glimmer-dsl-for-libui-samples"></a></p>
<p dir="auto"><h6 tabindex="-1" dir="auto">Hello, World!</h6><a id="user-content-hello-world-1" aria-label="Permalink: Hello, World!" href="#hello-world-1"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="require 'glimmer-dsl-libui'

include Glimmer

window('hello world').show"><pre><span>require</span> <span>'glimmer-dsl-libui'</span>

<span>include</span> <span>Glimmer</span>

<span>window</span><span>(</span><span>'hello world'</span><span>)</span><span>.</span><span>show</span></pre></div>
<p dir="auto">Mac</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-libui/master/images/glimmer-dsl-libui-mac-basic-window.png"><img src="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-libui/master/images/glimmer-dsl-libui-mac-basic-window.png" alt="glimmer-dsl-libui-mac-basic-window.png"></a></p>
<p dir="auto">Windows</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-libui/master/images/glimmer-dsl-libui-windows-basic-window.png"><img src="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-libui/master/images/glimmer-dsl-libui-windows-basic-window.png" alt="glimmer-dsl-libui-windows-basic-window.png"></a></p>
<p dir="auto">Linux</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-libui/master/images/glimmer-dsl-libui-linux-basic-window.png"><img src="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-libui/master/images/glimmer-dsl-libui-linux-basic-window.png" alt="glimmer-dsl-libui-linux-basic-window.png"></a></p>
<p dir="auto"><h6 tabindex="-1" dir="auto">Basic Table Progress Bar</h6><a id="user-content-basic-table-progress-bar" aria-label="Permalink: Basic Table Progress Bar" href="#basic-table-progress-bar"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="require 'glimmer-dsl-libui'

include Glimmer

data = [
  ['task 1', 0],
  ['task 2', 15],
  ['task 3', 100],
  ['task 4', 75],
  ['task 5', -1],
]

window('Task Progress', 300, 200) {
  vertical_box {
    table {
      text_column('Task')
      progress_bar_column('Progress')

      cell_rows data # implicit data-binding
    }
    
    button('Mark All As Done') {
      stretchy false
      
      on_clicked do
        data.each_with_index do |row_data, row|
          data[row] = [row_data[0], 100] # automatically updates table due to implicit data-binding
        end
      end
    }
  }
}.show"><pre><span>require</span> <span>'glimmer-dsl-libui'</span>

<span>include</span> <span>Glimmer</span>

<span>data</span> <span>=</span> <span>[</span>
  <span>[</span><span>'task 1'</span><span>,</span> <span>0</span><span>]</span><span>,</span>
  <span>[</span><span>'task 2'</span><span>,</span> <span>15</span><span>]</span><span>,</span>
  <span>[</span><span>'task 3'</span><span>,</span> <span>100</span><span>]</span><span>,</span>
  <span>[</span><span>'task 4'</span><span>,</span> <span>75</span><span>]</span><span>,</span>
  <span>[</span><span>'task 5'</span><span>,</span> -<span>1</span><span>]</span><span>,</span>
<span>]</span>

<span>window</span><span>(</span><span>'Task Progress'</span><span>,</span> <span>300</span><span>,</span> <span>200</span><span>)</span> <span>{</span>
  <span>vertical_box</span> <span>{</span>
    <span>table</span> <span>{</span>
      <span>text_column</span><span>(</span><span>'Task'</span><span>)</span>
      <span>progress_bar_column</span><span>(</span><span>'Progress'</span><span>)</span>

      <span>cell_rows</span> <span>data</span> <span># implicit data-binding</span>
    <span>}</span>
    
    <span>button</span><span>(</span><span>'Mark All As Done'</span><span>)</span> <span>{</span>
      <span>stretchy</span> <span>false</span>
      
      <span>on_clicked</span> <span>do</span>
        <span>data</span><span>.</span><span>each_with_index</span> <span>do</span> |<span>row_data</span><span>,</span> <span>row</span>|
          <span>data</span><span>[</span><span>row</span><span>]</span> <span>=</span> <span>[</span><span>row_data</span><span>[</span><span>0</span><span>]</span><span>,</span> <span>100</span><span>]</span> <span># automatically updates table due to implicit data-binding</span>
        <span>end</span>
      <span>end</span>
    <span>}</span>
  <span>}</span>
<span>}</span><span>.</span><span>show</span></pre></div>
<p dir="auto">Mac</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-libui/master/images/glimmer-dsl-libui-mac-basic-table-progress-bar.png"><img src="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-libui/master/images/glimmer-dsl-libui-mac-basic-table-progress-bar.png" alt="glimmer-dsl-libui-mac-basic-table-progress-bar.png"></a></p>
<p dir="auto">Windows</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-libui/master/images/glimmer-dsl-libui-windows-basic-table-progress-bar.png"><img src="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-libui/master/images/glimmer-dsl-libui-windows-basic-table-progress-bar.png" alt="glimmer-dsl-libui-windows-basic-table-progress-bar.png"></a></p>
<p dir="auto">Linux</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-libui/master/images/glimmer-dsl-libui-linux-basic-table-progress-bar.png"><img src="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-libui/master/images/glimmer-dsl-libui-linux-basic-table-progress-bar.png" alt="glimmer-dsl-libui-linux-basic-table-progress-bar.png"></a></p>
<p dir="auto"><h6 tabindex="-1" dir="auto">Area Gallery</h6><a id="user-content-area-gallery" aria-label="Permalink: Area Gallery" href="#area-gallery"></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="require 'glimmer-dsl-libui'

include Glimmer

window('Area Gallery', 400, 400) {
  area {
    path { # declarative stable path
      square(0, 0, 100)
      square(100, 100, 400)
      
      fill r: 102, g: 102, b: 204
    }
    path { # declarative stable path
      rectangle(0, 100, 100, 400)
      rectangle(100, 0, 400, 100)
      
      fill r: 204, g: 102, b: 204
    }
    path { # declarative stable path
      figure(100, 100) {
        line(100, 400)
        line(400, 100)
        line(400, 400)

        closed true
      }

      fill r: 202, g: 102, b: 104, a: 0.5
      stroke r: 0, g: 0, b: 0
    }
    path { # declarative stable path
      figure(0, 0) {
        bezier(200, 100, 100, 200, 400, 100)
        bezier(300, 100, 100, 300, 100, 400)
        bezier(100, 300, 300, 100, 400, 400)

        closed true
      }

      fill r: 202, g: 102, b: 204, a: 0.5
      stroke r: 0, g: 0, b: 0, thickness: 2, dashes: [50, 10, 10, 10], dash_phase: -50.0
    }
    path { # declarative stable path
      arc(200, 200, 90, 0, 360, false)

      fill r: 202, g: 102, b: 204, a: 0.5
      stroke r: 0, g: 0, b: 0, thickness: 2
    }
    
    on_mouse_event do |area_mouse_event|
      p area_mouse_event
    end
    
    on_mouse_moved do |area_mouse_event|
      puts 'moved'
    end
    
    on_mouse_down do |area_mouse_event|
      puts 'mouse down'
    end
    
    on_mouse_up do |area_mouse_event|
      puts 'mouse up'
    end
    
    on_mouse_drag_started do |area_mouse_event|
      puts 'drag started'
    end
    
    on_mouse_dragged do |area_mouse_event|
      puts 'dragged'
    end
    
    on_mouse_dropped do |area_mouse_event|
      puts 'dropped'
    end
    
    on_mouse_entered do
      puts 'entered'
    end
    
    on_mouse_exited do
      puts 'exited'
    end
    
    on_key_event do |area_key_event|
      p area_key_event
    end
    
    on_key_up do |area_key_event|
      puts 'key up'
    end
    
    on_key_down do |area_key_event|
      puts 'key down'
    end
  }
}.show"><pre><span>require</span> <span>'glimmer-dsl-libui'</span>

<span>include</span> <span>Glimmer</span>

<span>window</span><span>(</span><span>'Area Gallery'</span><span>,</span> <span>400</span><span>,</span> <span>400</span><span>)</span> <span>{</span>
  <span>area</span> <span>{</span>
    <span>path</span> <span>{</span> <span># declarative stable path</span>
      <span>square</span><span>(</span><span>0</span><span>,</span> <span>0</span><span>,</span> <span>100</span><span>)</span>
      <span>square</span><span>(</span><span>100</span><span>,</span> <span>100</span><span>,</span> <span>400</span><span>)</span>
      
      <span>fill</span> <span>r</span>: <span>102</span><span>,</span> <span>g</span>: <span>102</span><span>,</span> <span>b</span>: <span>204</span>
    <span>}</span>
    <span>path</span> <span>{</span> <span># declarative stable path</span>
      <span>rectangle</span><span>(</span><span>0</span><span>,</span> <span>100</span><span>,</span> <span>100</span><span>,</span> <span>400</span><span>)</span>
      <span>rectangle</span><span>(</span><span>100</span><span>,</span> <span>0</span><span>,</span> <span>400</span><span>,</span> <span>100</span><span>)</span>
      
      <span>fill</span> <span>r</span>: <span>204</span><span>,</span> <span>g</span>: <span>102</span><span>,</span> <span>b</span>: <span>204</span>
    <span>}</span>
    <span>path</span> <span>{</span> <span># declarative stable path</span>
      <span>figure</span><span>(</span><span>100</span><span>,</span> <span>100</span><span>)</span> <span>{</span>
        <span>line</span><span>(</span><span>100</span><span>,</span> <span>400</span><span>)</span>
        <span>line</span><span>(</span><span>400</span><span>,</span> <span>100</span><span>)</span>
        <span>line</span><span>(</span><span>400</span><span>,</span> <span>400</span><span>)</span>

        <span>closed</span> <span>true</span>
      <span>}</span>

      <span>fill</span> <span>r</span>: <span>202</span><span>,</span> <span>g</span>: <span>102</span><span>,</span> <span>b</span>: <span>104</span><span>,</span> <span>a</span>: <span>0.5</span>
      <span>stroke</span> <span>r</span>: <span>0</span><span>,</span> <span>g</span>: <span>0</span><span>,</span> <span>b</span>: <span>0</span>
    <span>}</span>
    <span>path</span> <span>{</span> <span># declarative stable path</span>
      <span>figure</span><span>(</span><span>0</span><span>,</span> <span>0</span><span>)</span> <span>{</span>
        <span>bezier</span><span>(</span><span>200</span><span>,</span> <span>100</span><span>,</span> <span>100</span><span>,</span> <span>200</span><span>,</span> <span>400</span><span>,</span> <span>100</span><span>)</span>
        <span>bezier</span><span>(</span><span>300</span><span>,</span> <span>100</span><span>,</span> <span>100</span><span>,</span> <span>300</span><span>,</span> <span>100</span><span>,</span> <span>400</span><span>)</span>
        <span>bezier</span><span>(</span><span>100</span><span>,</span> <span>300</span><span>,</span> <span>300</span><span>,</span> <span>100</span><span>,</span> <span>400</span><span>,</span> <span>400</span><span>)</span>

        <span>closed</span> <span>true</span>
      <span>}</span>

      <span>fill</span> <span>r</span>: <span>202</span><span>,</span> <span>g</span>: <span>102</span><span>,</span> <span>b</span>: <span>204</span><span>,</span> <span>a</span>: <span>0.5</span>
      <span>stroke</span> <span>r</span>: <span>0</span><span>,</span> <span>g</span>: <span>0</span><span>,</span> <span>b</span>: <span>0</span><span>,</span> <span>thickness</span>: <span>2</span><span>,</span> <span>dashes</span>: <span>[</span><span>50</span><span>,</span> <span>10</span><span>,</span> <span>10</span><span>,</span> <span>10</span><span>]</span><span>,</span> <span>dash_phase</span>: -<span>50.0</span>
    <span>}</span>
    <span>path</span> <span>{</span> <span># declarative stable path</span>
      <span>arc</span><span>(</span><span>200</span><span>,</span> <span>200</span><span>,</span> <span>90</span><span>,</span> <span>0</span><span>,</span> <span>360</span><span>,</span> <span>false</span><span>)</span>

      <span>fill</span> <span>r</span>: <span>202</span><span>,</span> <span>g</span>: <span>102</span><span>,</span> <span>b</span>: <span>204</span><span>,</span> <span>a</span>: <span>0.5</span>
      <span>stroke</span> <span>r</span>: <span>0</span><span>,</span> <span>g</span>: <span>0</span><span>,</span> <span>b</span>: <span>0</span><span>,</span> <span>thickness</span>: <span>2</span>
    <span>}</span>
    
    <span>on_mouse_event</span> <span>do</span> |<span>area_mouse_event</span>|
      <span>p</span> <span>area_mouse_event</span>
    <span>end</span>
    
    <span>on_mouse_moved</span> <span>do</span> |<span>area_mouse_event</span>|
      <span>puts</span> <span>'moved'</span>
    <span>end</span>
    
    <span>on_mouse_down</span> <span>do</span> |<span>area_mouse_event</span>|
      <span>puts</span> <span>'mouse down'</span>
    <span>end</span>
    
    <span>on_mouse_up</span> <span>do</span> |<span>area_mouse_event</span>|
      <span>puts</span> <span>'mouse up'</span>
    <span>end</span>
    
    <span>on_mouse_drag_started</span> <span>do</span> |<span>area_mouse_event</span>|
      <span>puts</span> <span>'drag started'</span>
    <span>end</span>
    
    <span>on_mouse_dragged</span> <span>do</span> |<span>area_mouse_event</span>|
      <span>puts</span> <span>'dragged'</span>
    <span>end</span>
    
    <span>on_mouse_dropped</span> <span>do</span> |<span>area_mouse_event</span>|
      <span>puts</span> <span>'dropped'</span>
    <span>end</span>
    
    <span>on_mouse_entered</span> <span>do</span>
      <span>puts</span> <span>'entered'</span>
    <span>end</span>
    
    <span>on_mouse_exited</span> <span>do</span>
      <span>puts</span> <span>'exited'</span>
    <span>end</span>
    
    <span>on_key_event</span> <span>do</span> |<span>area_key_event</span>|
      <span>p</span> <span>area_key_event</span>
    <span>end</span>
    
    <span>on_key_up</span> <span>do</span> |<span>area_key_event</span>|
      <span>puts</span> <span>'key up'</span>
    <span>end</span>
    
    <span>on_key_down</span> <span>do</span> |<span>area_key_event</span>|
      <span>puts</span> <span>'key down'</span>
    <span>end</span>
  <span>}</span>
<span>}</span><span>.</span><span>show</span></pre></div>
<p dir="auto">Mac</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-libui/master/images/glimmer-dsl-libui-mac-area-gallery.png"><img src="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-libui/master/images/glimmer-dsl-libui-mac-area-gallery.png" alt="glimmer-dsl-libui-mac-area-gallery.png"></a></p>
<p dir="auto">Windows</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-libui/master/images/glimmer-dsl-libui-windows-area-gallery.png"><img src="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-libui/master/images/glimmer-dsl-libui-windows-area-gallery.png" alt="glimmer-dsl-libui-windows-area-gallery.png"></a></p>
<p dir="auto">Linux</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-libui/master/images/glimmer-dsl-libui-linux-area-gallery.png"><img src="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-libui/master/images/glimmer-dsl-libui-linux-area-gallery.png" alt="glimmer-dsl-libui-linux-area-gallery.png"></a></p>
<p dir="auto"><h4 tabindex="-1" dir="auto">Glimmer DSL for Tk (MRI Ruby Desktop Development GUI Library)</h4><a id="user-content-glimmer-dsl-for-tk-mri-ruby-desktop-development-gui-library" aria-label="Permalink: Glimmer DSL for Tk (MRI Ruby Desktop Development GUI Library)" href="#glimmer-dsl-for-tk-mri-ruby-desktop-development-gui-library"></a></p>
<p dir="auto"><a href="https://www.tcl.tk/" rel="nofollow">Tcl/Tk</a> has recently improved by gaining native looking themed widgets on Mac, Windows, and Linux in <a href="https://www.tcl.tk/software/tcltk/8.5.html#:~:text=Highlights%20of%20Tk%208.5&amp;text=Font%20rendering%3A%20Now%20uses%20anti,and%20window%20layout%2C%20and%20more." rel="nofollow">Tk version 8.5</a>. Additionally, <a href="https://www.ruby-lang.org/en/" rel="nofollow">Ruby</a> 3.0 Ractor (formerly known as <a href="https://olivierlacan.com/posts/concurrency-in-ruby-3-with-guilds/" rel="nofollow">Guilds</a>) supports truly parallel multi-threading, making both <a href="https://github.com/ruby/ruby">MRI</a> and <a href="https://www.tcl.tk/" rel="nofollow">Tk</a> finally viable for support in <a href="https://github.com/AndyObtiva/glimmer">Glimmer</a> (Ruby Desktop Development GUI Library) as an alternative to <a href="https://github.com/AndyObtiva/glimmer-dsl-swt">JRuby on SWT</a>.</p>
<p dir="auto">The trade-off is that while <a href="https://www.eclipse.org/swt/" rel="nofollow">SWT</a> provides a plethora of high quality reusable widgets for the Enterprise (such as <a href="https://www.eclipse.org/nebula/" rel="nofollow">Nebula</a>), <a href="https://www.tcl.tk/" rel="nofollow">Tk</a> enables very fast app startup time and a small memory footprint via <a href="https://www.ruby-lang.org/en/" rel="nofollow">MRI Ruby</a>.</p>
<p dir="auto"><a href="https://github.com/AndyObtiva/glimmer-dsl-tk">Glimmer DSL for Tk</a> aims to provide a DSL similar to the <a href="https://github.com/AndyObtiva/glimmer-dsl-swt">Glimmer DSL for SWT</a> to enable more productive desktop development in Ruby with:</p>
<ul dir="auto">
<li>Declarative DSL syntax that visually maps to the GUI widget hierarchy</li>
<li>Convention over configuration via smart defaults and automation of low-level details</li>
<li>Requiring the least amount of syntax possible to build GUI</li>
<li>Bidirectional Data-Binding to declaratively wire and automatically synchronize GUI with Business Models</li>
<li>Custom Widget support</li>
<li>Scaffolding for new custom widgets, apps, and gems</li>
<li>Native-Executable packaging on Mac, Windows, and Linux</li>
</ul>
<p dir="auto">To get started, visit the <a href="https://github.com/AndyObtiva/glimmer-dsl-tk#pre-requisites">Glimmer DSL for Tk project page</a> for instructions on installing the <a href="https://rubygems.org/gems/glimmer-dsl-tk" rel="nofollow">glimmer-dsl-tk gem</a>.</p>
<p dir="auto"><h5 tabindex="-1" dir="auto">Glimmer DSL for Tk Samples</h5><a id="user-content-glimmer-dsl-for-tk-samples" aria-label="Permalink: Glimmer DSL for Tk Samples" href="#glimmer-dsl-for-tk-samples"></a></p>
<p dir="auto"><h6 tabindex="-1" dir="auto">Hello, World!</h6><a id="user-content-hello-world-2" aria-label="Permalink: Hello, World!" href="#hello-world-2"></a></p>
<p dir="auto">Glimmer code (from <a href="https://github.com/AndyObtiva/glimmer-dsl-tk/blob/master/samples/hello/hello_world.rb">samples/hello/hello_world.rb</a>):</p>
<div dir="auto" data-snippet-clipboard-copy-content="include Glimmer

root {
  label {
    text 'Hello, World!'
  }
}.open"><pre><span>include</span> <span>Glimmer</span>

<span>root</span> <span>{</span>
  <span>label</span> <span>{</span>
    <span>text</span> <span>'Hello, World!'</span>
  <span>}</span>
<span>}</span><span>.</span><span>open</span></pre></div>
<p dir="auto">Run (with the <a href="https://rubygems.org/gems/glimmer-dsl-tk" rel="nofollow">glimmer-dsl-tk</a> gem installed):</p>
<div data-snippet-clipboard-copy-content="ruby -r glimmer-dsl-tk -e &quot;require '../samples/hello/hello_world.rb'&quot;"><pre><code>ruby -r glimmer-dsl-tk -e "require '../samples/hello/hello_world.rb'"
</code></pre></div>
<p dir="auto">Glimmer app:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-tk/master/images/glimmer-dsl-tk-screenshot-sample-hello-world.png"><img src="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-tk/master/images/glimmer-dsl-tk-screenshot-sample-hello-world.png" alt="glimmer dsl tk screenshot sample hello world"></a></p>
<p dir="auto"><h6 tabindex="-1" dir="auto">Hello, Notebook!</h6><a id="user-content-hello-notebook" aria-label="Permalink: Hello, Notebook!" href="#hello-notebook"></a></p>
<p dir="auto">Glimmer code (from <a href="https://github.com/AndyObtiva/glimmer-dsl-tk/blob/master/samples/hello/hello_tab.rb">samples/hello/hello_tab.rb</a>):</p>
<div dir="auto" data-snippet-clipboard-copy-content="include Glimmer

root {
  title 'Hello, Notebook!'
   
  notebook {
    frame(text: 'English') {
      label {
        text 'Hello, World!'
      }
    }
     
    frame(text: 'French') {
      label {
        text 'Bonjour, Univers!'
      }
    }
  }
}.open"><pre><span>include</span> <span>Glimmer</span>

<span>root</span> <span>{</span>
  <span>title</span> <span>'Hello, Notebook!'</span>
   
  <span>notebook</span> <span>{</span>
    <span>frame</span><span>(</span><span>text</span>: <span>'English'</span><span>)</span> <span>{</span>
      <span>label</span> <span>{</span>
        <span>text</span> <span>'Hello, World!'</span>
      <span>}</span>
    <span>}</span>
     
    <span>frame</span><span>(</span><span>text</span>: <span>'French'</span><span>)</span> <span>{</span>
      <span>label</span> <span>{</span>
        <span>text</span> <span>'Bonjour, Univers!'</span>
      <span>}</span>
    <span>}</span>
  <span>}</span>
<span>}</span><span>.</span><span>open</span></pre></div>
<p dir="auto">Run (with the <a href="https://rubygems.org/gems/glimmer-dsl-tk" rel="nofollow">glimmer-dsl-tk</a> gem installed):</p>
<div data-snippet-clipboard-copy-content="ruby -r glimmer-dsl-tk -e &quot;require '../samples/hello/hello_notebook.rb'&quot;"><pre><code>ruby -r glimmer-dsl-tk -e "require '../samples/hello/hello_notebook.rb'"
</code></pre></div>
<p dir="auto">Glimmer app:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-tk/master/images/glimmer-dsl-tk-screenshot-sample-hello-notebook-english.png"><img src="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-tk/master/images/glimmer-dsl-tk-screenshot-sample-hello-notebook-english.png" alt="glimmer dsl tk screenshot sample hello notebook English"></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-tk/master/images/glimmer-dsl-tk-screenshot-sample-hello-notebook-french.png"><img src="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-tk/master/images/glimmer-dsl-tk-screenshot-sample-hello-notebook-french.png" alt="glimmer dsl tk screenshot sample hello notebook French"></a></p>
<p dir="auto"><h6 tabindex="-1" dir="auto">Hello, Combobox!</h6><a id="user-content-hello-combobox" aria-label="Permalink: Hello, Combobox!" href="#hello-combobox"></a></p>
<p dir="auto">Glimmer code (from <a href="https://github.com/AndyObtiva/glimmer-dsl-tk/blob/master/samples/hello/hello_combobox.rb">samples/hello/hello_combobox.rb</a>):</p>
<div dir="auto" data-snippet-clipboard-copy-content="require 'glimmer-dsl-tk'

class Person
  attr_accessor :country, :country_options

  def initialize
    self.country_options=[&quot;&quot;, &quot;Canada&quot;, &quot;US&quot;, &quot;Mexico&quot;]
    self.country = &quot;Canada&quot;
  end

  def reset_country
    self.country = &quot;Canada&quot;
  end
end

class HelloCombobox
  include Glimmer
  
  def launch
    person = Person.new
    
    root {
      title 'Hello, Combobox!'
      
      combobox {
        readonly true # this applies to text editing only (item selection still triggers a write to model)
        text <=> [person, :country]
      }
      
      button {
        text &quot;Reset Selection&quot;
        command {
          person.reset_country
        }
      }
    }.open
  end
end

HelloCombobox.new.launch"><pre><span>require</span> <span>'glimmer-dsl-tk'</span>

<span>class</span> <span>Person</span>
  <span>attr_accessor</span> <span>:country</span><span>,</span> <span>:country_options</span>

  <span>def</span> <span>initialize</span>
    <span>self</span><span>.</span><span>country_options</span><span>=</span><span>[</span><span>""</span><span>,</span> <span>"Canada"</span><span>,</span> <span>"US"</span><span>,</span> <span>"Mexico"</span><span>]</span>
    <span>self</span><span>.</span><span>country</span> <span>=</span> <span>"Canada"</span>
  <span>end</span>

  <span>def</span> <span>reset_country</span>
    <span>self</span><span>.</span><span>country</span> <span>=</span> <span>"Canada"</span>
  <span>end</span>
<span>end</span>

<span>class</span> <span>HelloCombobox</span>
  <span>include</span> <span>Glimmer</span>
  
  <span>def</span> <span>launch</span>
    <span>person</span> <span>=</span> <span>Person</span><span>.</span><span>new</span>
    
    <span>root</span> <span>{</span>
      <span>title</span> <span>'Hello, Combobox!'</span>
      
      <span>combobox</span> <span>{</span>
        <span>readonly</span> <span>true</span> <span># this applies to text editing only (item selection still triggers a write to model)</span>
        <span>text</span> &lt;=&gt; <span>[</span><span>person</span><span>,</span> <span>:country</span><span>]</span>
      <span>}</span>
      
      <span>button</span> <span>{</span>
        <span>text</span> <span>"Reset Selection"</span>
        <span>command</span> <span>{</span>
          <span>person</span><span>.</span><span>reset_country</span>
        <span>}</span>
      <span>}</span>
    <span>}</span><span>.</span><span>open</span>
  <span>end</span>
<span>end</span>

<span>HelloCombobox</span><span>.</span><span>new</span><span>.</span><span>launch</span></pre></div>
<p dir="auto">Run (with the <a href="https://rubygems.org/gems/glimmer-dsl-tk" rel="nofollow">glimmer-dsl-tk</a> gem installed):</p>
<div data-snippet-clipboard-copy-content="ruby -r glimmer-dsl-tk -e &quot;require '../samples/hello/hello_combobox.rb'&quot;"><pre><code>ruby -r glimmer-dsl-tk -e "require '../samples/hello/hello_combobox.rb'"
</code></pre></div>
<p dir="auto">Glimmer app:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-tk/master/images/glimmer-dsl-tk-screenshot-sample-hello-combobox.png"><img src="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-tk/master/images/glimmer-dsl-tk-screenshot-sample-hello-combobox.png" alt="glimmer dsl tk screenshot sample hello combobox"></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-tk/master/images/glimmer-dsl-tk-screenshot-sample-hello-combobox-dropdown.png"><img src="https://raw.githubusercontent.com/AndyObtiva/glimmer-dsl-tk/master/images/glimmer-dsl-tk-screenshot-sample-hello-combobox-dropdown.png" alt="glimmer dsl tk screenshot sample hello combobox dropdown"></a></p>
<p dir="auto"><h4 tabindex="-1" dir="auto">Glimmer DSL for XML (&amp; HTML)</h4><a id="user-content-glimmer-dsl-for-xml--html" aria-label="Permalink: Glimmer DSL for XML (&amp; HTML)" href="#glimmer-dsl-for-xml--html"></a></p>
<p dir="auto"><a href="https://github.com/AndyObtiva/glimmer-dsl-xml">Glimmer DSL for XML</a> provides Ruby syntax for building XML (eXtensible Markup Language) documents.</p>
<p dir="auto">Within the context of desktop development, Glimmer DSL for XML is useful in providing XML data for the <a href="https://github.com/AndyObtiva/glimmer/tree/master#browser-widget">SWT Browser widget</a>.</p>
<p dir="auto"><h5 tabindex="-1" dir="auto">XML DSL</h5><a id="user-content-xml-dsl" aria-label="Permalink: XML DSL" href="#xml-dsl"></a></p>
<p dir="auto">Simply start with <code>html</code> keyword and add HTML inside its block using Glimmer DSL syntax.
Once done, you may call <code>to_s</code>, <code>to_xml</code>, or <code>to_html</code> to get the formatted HTML output.</p>
<p dir="auto">Here are all the Glimmer XML DSL top-level keywords:</p>
<ul dir="auto">
<li><code>html</code></li>
<li><code>tag</code>: enables custom tag creation for exceptional cases by passing tag name as '_name' attribute</li>
<li><code>name_space</code>: enables namespacing html tags</li>
</ul>
<p dir="auto">Element properties are typically passed as a key/value hash (e.g. <code>section(id: 'main', class: 'accordion')</code>) . However, for properties like "selected" or "checked", you must leave value <code>nil</code> or otherwise pass in front of the hash (e.g. <code>input(:checked, type: 'checkbox')</code> )</p>
<p dir="auto">Example (basic HTML):</p>
<div dir="auto" data-snippet-clipboard-copy-content="@xml = html {
  head {
    meta(name: &quot;viewport&quot;, content: &quot;width=device-width, initial-scale=2.0&quot;)
  }
  body {
    h1 { &quot;Hello, World!&quot; }
  }
}
puts @xml"><pre><span>@xml</span> <span>=</span> <span>html</span> <span>{</span>
  <span>head</span> <span>{</span>
    <span>meta</span><span>(</span><span>name</span>: <span>"viewport"</span><span>,</span> <span>content</span>: <span>"width=device-width, initial-scale=2.0"</span><span>)</span>
  <span>}</span>
  <span>body</span> <span>{</span>
    <span>h1</span> <span>{</span> <span>"Hello, World!"</span> <span>}</span>
  <span>}</span>
<span>}</span>
<span>puts</span> <span>@xml</span></pre></div>
<p dir="auto">Output:</p>
<div data-snippet-clipboard-copy-content="<html><head><meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=2.0&quot; /></head><body><h1>Hello, World!</h1></body></html>"><pre><code>&lt;html&gt;&lt;head&gt;&lt;meta name="viewport" content="width=device-width, initial-scale=2.0" /&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;Hello, World!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;
</code></pre></div>
<p dir="auto"><h4 tabindex="-1" dir="auto">Glimmer DSL for CSS</h4><a id="user-content-glimmer-dsl-for-css" aria-label="Permalink: Glimmer DSL for CSS" href="#glimmer-dsl-for-css"></a></p>
<p dir="auto"><a href="https://github.com/AndyObtiva/glimmer-dsl-css">Glimmer DSL for CSS</a> provides Ruby syntax for building CSS (Cascading Style Sheets).</p>
<p dir="auto">Within the context of <a href="https://github.com/AndyObtiva/glimmer">Glimmer</a> app development, Glimmer DSL for CSS is useful in providing CSS for the <a href="https://github.com/AndyObtiva/glimmer/tree/master#browser-widget">SWT Browser widget</a>.</p>
<p dir="auto"><h5 tabindex="-1" dir="auto">CSS DSL</h5><a id="user-content-css-dsl" aria-label="Permalink: CSS DSL" href="#css-dsl"></a></p>
<p dir="auto">Simply start with <code>css</code> keyword and add stylesheet rule sets inside its block using Glimmer DSL syntax.
Once done, you may call <code>to_s</code> or <code>to_css</code> to get the formatted CSS output.</p>
<p dir="auto"><code>css</code> is the only top-level keyword in the Glimmer CSS DSL</p>
<p dir="auto">Selectors may be specified by <code>s</code> keyword or HTML element keyword directly (e.g. <code>body</code>)
Rule property values may be specified by <code>pv</code> keyword or underscored property name directly (e.g. <code>font_size</code>)</p>
<p dir="auto">Example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="@css = css {
  body {
    font_size '1.1em'
    pv 'background', 'white'
  }
  
  s('body > h1') {
    background_color :red
    pv 'font-size', '2em'
  }
}
puts @css"><pre><span>@css</span> <span>=</span> <span>css</span> <span>{</span>
  <span>body</span> <span>{</span>
    <span>font_size</span> <span>'1.1em'</span>
    <span>pv</span> <span>'background'</span><span>,</span> <span>'white'</span>
  <span>}</span>
  
  <span>s</span><span>(</span><span>'body &gt; h1'</span><span>)</span> <span>{</span>
    <span>background_color</span> <span>:red</span>
    <span>pv</span> <span>'font-size'</span><span>,</span> <span>'2em'</span>
  <span>}</span>
<span>}</span>
<span>puts</span> <span>@css</span></pre></div>
<p dir="auto">Output:</p>
<div data-snippet-clipboard-copy-content="body{font-size:1.1em;background:white}body > h1{background-color:red;font-size:2em}"><pre><code>body{font-size:1.1em;background:white}body &gt; h1{background-color:red;font-size:2em}
</code></pre></div>
<p dir="auto"><h2 tabindex="-1" dir="auto">Data-Binding Library</h2><a id="user-content-data-binding-library" aria-label="Permalink: Data-Binding Library" href="#data-binding-library"></a></p>
<p dir="auto">Data-Binding enables mapping GUI properties (like text and color) to Model attributes (like name and age) for bidirectional or unidirectional synchronization and conversion as needed.</p>
<p dir="auto">Data-binding supports utilizing the <a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93presenter" rel="nofollow">MVP (Model View Presenter)</a> flavor of <a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller" rel="nofollow">MVC</a> by observing both the View and a Presenter for changes and updating the opposite side upon encountering them. This enables writing more decoupled cleaner code that keeps View code and Model code disentangled and highly maintainable.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/66fac44b0cd245487d94ab24d9a30a2fb5a8ca0c9141a5cb6ad960f1f27069db/68747470733a2f2f7777772e7265736561726368676174652e6e65742f70726f66696c652f47696c6c65732d506572726f75696e2f7075626c69636174696f6e2f3332303234393538342f6669677572652f666967382f41533a36363832363039383730363834313840313533363333373234333338352f4d6f64656c2d766965772d70726573656e7465722d6172636869746563747572652e706e67"><img src="https://camo.githubusercontent.com/66fac44b0cd245487d94ab24d9a30a2fb5a8ca0c9141a5cb6ad960f1f27069db/68747470733a2f2f7777772e7265736561726368676174652e6e65742f70726f66696c652f47696c6c65732d506572726f75696e2f7075626c69636174696f6e2f3332303234393538342f6669677572652f666967382f41533a36363832363039383730363834313840313533363333373234333338352f4d6f64656c2d766965772d70726573656e7465722d6172636869746563747572652e706e67" alt="MVP" data-canonical-src="https://www.researchgate.net/profile/Gilles-Perrouin/publication/320249584/figure/fig8/AS:668260987068418@1536337243385/Model-view-presenter-architecture.png"></a></p>
<p dir="auto">Glimmer enhances observed models automatically (including array operations like <code>&lt;&lt;</code>, <code>delete</code>, and <code>reject!</code>) on first observation. As such, you get automatic observable support, including nested and computed observations. No need to change your model code to data-bind it to the view or add repetitive boilerplate modules. View data-binding is truly decoupled from model logic by being able to observe any model attribute (Ruby attribute reader/writer combo or Ruby attribute reader alone for read-only data-binding when needed)</p>
<p dir="auto">This relies mainly on the Observer Design Pattern and the MVP (Model-View-Presenter) Architectural Pattern (a variation on MVC)</p>
<p dir="auto">These are the main classes concerning data-binding:</p>
<ul dir="auto">
<li><code>Glimmer::DataBinding::Observer</code>: Provides general observer support including unique registration and deregistration for cleanup and prevention of memory leaks. Main methods concerned are: <code>call</code>, <code>register</code> (alias: <code>observe</code>), and <code>unregister</code> (alias: <code>unobserve</code> or <code>deregister</code>). Passing the option <code>ignore_frozen: true</code> at the end of the args of <code>register</code> (alias: <code>observe</code>) method results in silently ignoring any passed frozen observable without raising an error (it raises an error otherwise for frozen/immutable objects).</li>
<li><code>Glimmer::DataBinding::Observable</code>: General super-module for all observables. Main methods concerned are: <code>add_observer</code> and <code>remove_observer</code></li>
<li><code>Glimmer::DataBinding::ObservableModel</code>: Mixin module for any observable model (<code>Object</code>, <code>Struct</code> or <code>OpenStruct</code>) with observable attributes (observes attribute writers and <code>Struct</code>/<code>OpenStruct</code> <code>:[]=</code> method). In addition to <code>Observable</code> methods, it has a <code>notify_observers</code> method to be called when changes occur. It automatically enhances all attribute setters (ending with <code>=</code>) to notify observers on changes. Also, it automatically handles observing array attributes using <code>ObservableArray</code> appropriately so they would notify observers upon array mutation changes. <code>:attribute_writer_type</code> option can be specified (default: <code>:attribute=</code>) to observe different attribute styles (e.g. <code>attribute_writer_type: [:attribute=, :set_attribute]</code>).</li>
<li><code>Glimmer::DataBinding::ObservableArray</code>: Mixin module for any observable array collection that automatically handles notifying observers upon performing array mutation operations (e.g. <code>push</code>, <code>select!</code>, or <code>delete</code>) recursively (meaning if an array contained arrays and they changed, observers are notified). Accepts <code>recursive: true</code> option in <code>add_observer</code> method to recursively observe nested arrays all the way down. Alternatively, pass <code>recursive: [integer]</code> to limit recursion in <code>Array</code> observation to a specific number of levels beyond the first level (which is always included).</li>
<li><code>Glimmer::DataBinding::ObservableHash</code>: Mixin module for any observable hash that automatically handles notifying observers upon performing hash mutation operations (e.g. <code>hash[key]=value</code>, <code>select!</code>, <code>merge!</code>).  Also, it automatically handles observing array values using <code>ObservableArray</code> appropriately so they would notify observers upon array mutation changes.</li>
<li><code>Glimmer::DataBinding::ModelBinding</code>: a higher-level abstraction that relies on all the other observer/observable classes to support basic data-binding, nested data-binding, and computed data-binding</li>
<li><code>Glimmer::DataBinding::Shine</code>: enables <a href="#shine-data-binding-syntax">highly intuitive and visually expressive syntax</a> to perform bidirectional (two-way) data-binding with <code>&lt;=&gt;</code> and unidirectional (one-way) data-binding with <code>&lt;=</code></li>
</ul>
<p dir="auto">To do simple observation of models, arrays, or hashes, you can use the <code>Glimmer::DataBinding::Observer::proc</code> method, which builds an observer from a block. When invoking the <code>#observe</code> method on it, it automatically enhances the object argument being observed into an <code>Observable</code> (whether <code>ObservableModel</code>, <code>ObservableArray</code>, or <code>ObervableHash</code>).</p>
<p dir="auto">Example of observing a model attribute:</p>
<div dir="auto" data-snippet-clipboard-copy-content="Glimmer::DataBinding::Observer.proc do |new_value|
  # Do some work with new value for model attribute
end.observe(model, attribute)"><pre><span>Glimmer</span>::<span>DataBinding</span>::<span>Observer</span><span>.</span><span>proc</span> <span>do</span> |<span>new_value</span>|
  <span># Do some work with new value for model attribute</span>
<span>end</span><span>.</span><span>observe</span><span>(</span><span>model</span><span>,</span> <span>attribute</span><span>)</span></pre></div>
<p dir="auto">Example of observing an array recursively (avoid recursion unless really needed since it fires on all fine-grained nested array changes):</p>
<div dir="auto" data-snippet-clipboard-copy-content="Glimmer::DataBinding::Observer.proc do |new_value|
  # Do some work with new array value
end.observe(array, recursive: true)"><pre><span>Glimmer</span>::<span>DataBinding</span>::<span>Observer</span><span>.</span><span>proc</span> <span>do</span> |<span>new_value</span>|
  <span># Do some work with new array value</span>
<span>end</span><span>.</span><span>observe</span><span>(</span><span>array</span><span>,</span> <span>recursive</span>: <span>true</span><span>)</span></pre></div>
<p dir="auto">Example of observing a hash key:</p>
<div dir="auto" data-snippet-clipboard-copy-content="Glimmer::DataBinding::Observer.proc do |new_value|
  # Do some work with new value for hash key
end.observe(hash, :price)"><pre><span>Glimmer</span>::<span>DataBinding</span>::<span>Observer</span><span>.</span><span>proc</span> <span>do</span> |<span>new_value</span>|
  <span># Do some work with new value for hash key</span>
<span>end</span><span>.</span><span>observe</span><span>(</span><span>hash</span><span>,</span> <span>:price</span><span>)</span></pre></div>
<p dir="auto">Example of observing a hash for all key changes:</p>
<div dir="auto" data-snippet-clipboard-copy-content="Glimmer::DataBinding::Observer.proc do |new_value, changed_key|
  # Do some work with new value and changed key for hash
end.observe(hash)"><pre><span>Glimmer</span>::<span>DataBinding</span>::<span>Observer</span><span>.</span><span>proc</span> <span>do</span> |<span>new_value</span><span>,</span> <span>changed_key</span>|
  <span># Do some work with new value and changed key for hash</span>
<span>end</span><span>.</span><span>observe</span><span>(</span><span>hash</span><span>)</span></pre></div>
<p dir="auto">If you would like to observe nested model attribute changes, you can use the more advanced <code>Glimmer::DataBinding::ModelBinding</code> class instead.</p>
<p dir="auto">Example of observing nested model attributes:</p>
<div dir="auto" data-snippet-clipboard-copy-content="ModelBinding.new(model, &quot;address1.street&quot;).add_observer do |new_address1_street_value|
  # Do some work with new address 1 street value
end"><pre><span>ModelBinding</span><span>.</span><span>new</span><span>(</span><span>model</span><span>,</span> <span>"address1.street"</span><span>)</span><span>.</span><span>add_observer</span> <span>do</span> |<span>new_address1_street_value</span>|
  <span># Do some work with new address 1 street value</span>
<span>end</span></pre></div>
<p dir="auto">Example of observing indexed array changes (specifying an array index) (combined with a nested model attribute):</p>
<div dir="auto" data-snippet-clipboard-copy-content="ModelBinding.new(model, &quot;employees[5].name&quot;).add_observer do |new_employee_6_name|
  # Do some work with new employee 6 (index 5)'s name
end"><pre><span>ModelBinding</span><span>.</span><span>new</span><span>(</span><span>model</span><span>,</span> <span>"employees[5].name"</span><span>)</span><span>.</span><span>add_observer</span> <span>do</span> |<span>new_employee_6_name</span>|
  <span># Do some work with new employee 6 (index 5)'s name</span>
<span>end</span></pre></div>
<p dir="auto">Example of observing double-indexed nested array changes:</p>
<div dir="auto" data-snippet-clipboard-copy-content="ModelBinding.new(model, &quot;grid[5][7]&quot;).add_observer do |new_grid_cell_value|
  # Do some work with new grid cell value for row index 5 and column index 7
end"><pre><span>ModelBinding</span><span>.</span><span>new</span><span>(</span><span>model</span><span>,</span> <span>"grid[5][7]"</span><span>)</span><span>.</span><span>add_observer</span> <span>do</span> |<span>new_grid_cell_value</span>|
  <span># Do some work with new grid cell value for row index 5 and column index 7</span>
<span>end</span></pre></div>
<p dir="auto">Example of observing keyed hash changes (specifying a hash key as <code>Symbol</code> or single/double-quoted <code>String</code>) (combined with a nested model attribute):</p>
<div dir="auto" data-snippet-clipboard-copy-content="ModelBinding.new(model, &quot;employees[:manager].name&quot;).add_observer do |new_employee_6_name|
  # Do some work with new manager employee's name
end"><pre><span>ModelBinding</span><span>.</span><span>new</span><span>(</span><span>model</span><span>,</span> <span>"employees[:manager].name"</span><span>)</span><span>.</span><span>add_observer</span> <span>do</span> |<span>new_employee_6_name</span>|
  <span># Do some work with new manager employee's name</span>
<span>end</span></pre></div>
<p dir="auto">Data-bound <code>ModelBinding</code> attribute can be:</p>
<ul dir="auto">
<li><strong>Direct:</strong> <code>Symbol</code> representing attribute reader/writer (e.g. <code>[person, :name</code>])</li>
<li><strong>Nested:</strong> <code>String</code> representing nested attribute path (e.g. <code>[company, 'address.street']</code>). That results in "nested data-binding"</li>
<li><strong>Indexed:</strong> <code>String</code> containing array attribute index (e.g. <code>[customer, 'addresses[0].street']</code>). That results in "indexed data-binding"</li>
<li><strong>Keyed:</strong> <code>String</code> containing hash attribute key (e.g. <code>[customer, 'addresses[:main].street']</code>). That results in "keyed data-binding"</li>
</ul>
<p dir="auto">Data-binding options include:</p>
<ul dir="auto">
<li><code>before_read {|value| ...}</code>: performs an operation before reading data from Model to update View.</li>
<li><code>on_read {|value| ...}</code>: converts value read from Model to update the View.</li>
<li><code>after_read {|converted_value| ...}</code>: performs an operation after read from Model to update View.</li>
<li><code>before_write {|value| ...}</code>: performs an operation before writing data to Model from View.</li>
<li><code>on_write {|value| ...}</code>: converts value read from View to update the Model.</li>
<li><code>after_write {|converted_value| ...}</code>: performs an operation after writing to Model from View.</li>
<li><code>computed_by attribute</code> or <code>computed_by [attribute1, attribute2, ...]</code>: indicates model attribute is computed from specified attribute(s), thus updated when they are updated. That is known as "computed data-binding".</li>
</ul>
<p dir="auto">Note that if an observed model attribute or hash key is an <code>Array</code>, it is automatically observed for <code>Array</code> changes (e.g. via mutation methods <code>&lt;&lt;</code>, <code>delete</code>, <code>map!</code>), not just attribute/key-value changes.</p>
<p dir="auto">All of the features above make Glimmer's data-binding library one of the most sophisticated and advanced in the industry since it automates everything instead of requiring endless manual configuration, thus resulting in some of the tersest most declarative syntax for using observers and data-binding.</p>
<p dir="auto">You may learn more by looking into <a href="https://github.com/AndyObtiva/glimmer/blob/master/Users/andy/code/glimmer/spec/lib/glimmer/data_binding">data-binding specs</a> as well as <a href="https://github.com/AndyObtiva/glimmer-dsl-swt/blob/master/docs/reference/GLIMMER_GUI_DSL_SYNTAX.md#data-binding">Data-Binding</a> and <a href="https://github.com/AndyObtiva/glimmer-dsl-swt/blob/master/docs/reference/GLIMMER_GUI_DSL_SYNTAX.md#observer">Observer</a> usage in <a href="https://github.com/AndyObtiva/glimmer-dsl-swt">Glimmer DSL for SWT</a></p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Shine Data-Binding Syntax</h3><a id="user-content-shine-data-binding-syntax" aria-label="Permalink: Shine Data-Binding Syntax" href="#shine-data-binding-syntax"></a></p>
<p dir="auto">The Shine data-binding syntax is a highly intuitive and visually expressive way of data-binding that enables performing bidirectional (two-way) data-binding with the <code>&lt;=&gt;</code> operator and unidirectional (one-way) data-binding with the <code>&lt;=</code> operator.</p>
<p dir="auto">It is facilitated by the combination of the <code>Glimmer::DSL::ShineDataBindingExpression</code> and <code>Glimmer::DataBinding::Shine</code> classes, which depend on <code>Glimmer::DSL::BindExpression</code> and <code>Glimmer::DataBinding::ModelBinding</code>.</p>
<p dir="auto">Below are some examples of Shine usage in GUI DSLs:</p>
<p dir="auto"><code>text &lt;=&gt; [contact, :first_name]</code></p>
<p dir="auto">This example bidirectionally binds the text property of a widget like label to the first name of a contact model.</p>
<p dir="auto"><code>text &lt;=&gt; [contact, 'address.street']</code></p>
<p dir="auto">This example binds the text property of a widget like label to the nested street of the address of a contact. This is called nested property data binding.</p>
<p dir="auto"><code>text &lt;=&gt; [contact, 'address.street', on_read: :upcase, on_write: :downcase]</code></p>
<p dir="auto">This example adds on the one above it by specifying converters on read and write of the model property, like in the case of a text widget. The text widget will then displays the street upper case and the model will store it lower case. When specifying converters, read and write operations must be symmetric.</p>
<p dir="auto"><code>enabled &lt;= [user, :logged_in]</code></p>
<p dir="auto">This example unidirectionally binds the enabled property of a widget like button to the logged in status of a user.</p>
<p dir="auto"><code>enabled &lt;= [user, :logged_in, on_read: :!]</code></p>
<p dir="auto">This example unidirectionally binds the enabled property of a widget like entry to the negated logged in status of a user. Note that when using a single on read converter with unidirectional data-binding, there is no need for a symmetric on_write converter as well since writing is never done with unidirectional (one-way) data-binding.</p>
<p dir="auto"><a href="https://github.com/AndyObtiva/glimmer-dsl-swt/blob/master/docs/reference/GLIMMER_GUI_DSL_SYNTAX.md#shine">Learn more about Shine data-binding syntax from its usage in Glimmer DSL for SWT</a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Glimmer Process</h2><a id="user-content-glimmer-process" aria-label="Permalink: Glimmer Process" href="#glimmer-process"></a></p>
<p dir="auto"><a href="https://github.com/AndyObtiva/glimmer/blob/master/PROCESS.md">Glimmer Process</a> is the lightweight software development process used for building Glimmer libraries and Glimmer apps, which goes beyond Agile, rendering all Agile processes obsolete. <a href="https://github.com/AndyObtiva/glimmer/blob/master/PROCESS.md">Glimmer Process</a> is simply made up of 7 guidelines to pick and choose as necessary until software development needs are satisfied.</p>
<p dir="auto">Learn more by reading the <a href="https://github.com/AndyObtiva/glimmer/blob/master/PROCESS.md">GPG</a> (Glimmer Process Guidelines)</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">FAQ</h2><a id="user-content-faq" aria-label="Permalink: FAQ" href="#faq"></a></p>
<p dir="auto">(Frequently Asked Questions)</p>
<p dir="auto"><strong>How do Glimmer GUI DSLs compare to Shoes?</strong></p>
<p dir="auto">If you liked Shoes, you'll love Glimmer!</p>
<p dir="auto">That is because Glimmer does everything that Shoes did, but with a lighter and better GUI DSL (Graphical User Interface Domain Specific Language) that addresses all the issues that Shoes suffered from, such as:</p>
<ul dir="auto">
<li>Shoes does not allow code in Shoes blocks to use variables defined outside of Shoes blocks in a straightforward manner as it changes <code>self</code> inside Shoes blocks, breaking Ruby expectations and producing confusing behavior. On the other hand, Glimmer DSL blocks are 100% standard Ruby blocks that represent real closures, so they enable usage of variables defined outside the blocks in a 100% standard Ruby way.</li>
<li>Shoes lacks support for high-quality business widget controls (View components) like table and tree. Glimmer GUI DSLs that are feature complete like Glimmer DSL for SWT do support table and tree widgets. Some non-final Glimmer GUI DSLs like Glimmer DSL for LibUI support the table control too.</li>
<li>Shoes does not encourage proper separation of concerns with a correct MVC architecture (Model-View-Controller), resulting in a lot of non-presentation logic mixed with View code. Glimmer GUI DSLs do support proper separation of concerns 100% following the MVC or MVP (Model-View-Presenter) architecture by default.</li>
<li>Shoes does not provide a simple way for connecting View components to Model data. Glimmer GUI DSLs provide full bidirectional/unidirectional data-binding support out of the box that provides the terest code syntax for connecting Views to Models and keeping them in sync.</li>
<li>Shoes does not support a native mechanism for building custom View components. Glimmer GUI DSLs do support the ability to build custom widgets (aka controls or View components), custom windows (aka shells), and custom shapes (canvas graphics), enabling software engineers to expand a Glimmer DSL’s vocabulary with new keywords representing brand new visual concepts. That results in much higher productivity by enabling the reuse of higher visual concepts as their own self-encapsulated components.</li>
<li>Shoes does not expose native features of its wrapped GUI toolkit. Glimmer GUI DSLs do expose all native features of their wrapped GUI toolkits, thus enabling developers to use a GUI toolkit like SWT directly when needed on top of using Glimmer DSL for SWT (a widget initialized via SWT directly could be passed to Glimmer DSL for SWT to wrap as a Glimmer <code>WidgetProxy</code> object and integrate with other Glimmer initialized <code>WidgetProxy</code> objects). That facilitates the 80/20 rule of having Glimmer GUI DSLs automate 80% of the work while still enabling software engineers to reach down to the low-level GUI toolkit API in 20% of the cases when needed (though in practice, it's probably more like 1% of the cases).</li>
</ul>
<p dir="auto">It is great that Shoes paved the way for creating desktop GUI DSLs in Ruby. Glimmer took that approach to its maximum and produced the ultimate evolution of Shoes.</p>
<p dir="auto"><strong>What is the difference between Glimmer and Glimmer DSL for SWT?</strong></p>
<p dir="auto">Glimmer DSL for SWT was the first GUI DSL created as part of the Glimmer project to enable building desktop applications, and it was originally just called Glimmer. It relied on the Eclipse SWT library to render native GUI (Graphical User Interface) widget controls (View components) on every platform (Mac, Windows, and Linux). Eventually, the idea of a Glimmer DSL proved itself so successful and viable for building desktop apps with a fraction of the effort needed in other programming languages/technologies that it was expanded to support other GUI toolkits. So, Glimmer got renamed to Glimmer DSL for SWT, and the core Glimmer DSL engine got extracted to Glimmer (becoming a DSL framework), which then got reused to build other Glimmer GUI DSLs such as Glimmer DSL for LibUI and Glimmer DSL for GTK, among many others.</p>
<p dir="auto"><strong>What is the difference between Glimmer DSL for SWT and Glimmer DSL for LibUI?</strong></p>
<p dir="auto">Both Glimmer DSL for SWT and Glimmer DSL for LibUI support rendering platform native widgets/controls, which enable building native desktop apps that look 100% native on every platform (Mac, Windows, and Linux).</p>
<p dir="auto">However, Glimmer DSL for SWT runs in JRuby (Ruby running in the JVM [Java Virtual Machine]) whereas Glimmer DSL for LibUI runs in standard Ruby (aka MRI Ruby or CRuby).</p>
<p dir="auto">Glimmer DSL for SWT is 100% feature-complete and has a final release. Glimmer DSL for LibUI is 100% complete as far as covering the LibUI features, but LibUI itself is still a mid-alpha library, so it is missing a few features that will get added eventually.</p>
<p dir="auto"><strong>What is the difference between Glimmer DSL for LibUI, Glimmer DSL for GTK, Glimmer DSL for Tk, Glimmer DSL for FX, and Glimmer DSL for WX?</strong></p>
<p dir="auto">All of Glimmer DSL for LibUI, Glimmer DSL for GTK, Glimmer DSL for Tk, Glimmer DSL for FX, and Glimmer DSL for WX run in standard Ruby (aka MRI Ruby or CRuby).</p>
<p dir="auto">However, only Glimmer DSL for LibUI and Glimmer DSL for WX render native controls on every platform. The other libraries do not render native controls on every platform, albeit Glimmer DSL for GTK renders native controls on Linux distributions utilizing Gnome.</p>
<p dir="auto">Also, Glimmer DSL for LibUI does not require any prerequisites beyond installing the Ruby gem, so you can install it and get instant GUI with very little effort, whereas Glimmer DSL for GTK, Glimmer DSL for Tk, Glimmer DSL for FX, and Glimmer DSL for WX do require extra dependencies in general, albeit Glimmer DSL for GTK has everything it needs in Linux Gnome flavors and both Glimmer DSL for FX and Glimmer DSL for WX have everything they need on Windows by including pre-built binaries.</p>
<p dir="auto">You may learn more about the differences between various Glimmer DSLs by checking out the <a href="#glimmer-dsl-comparison-table">Glimmer DSL Comparison Table</a>.</p>
<p dir="auto"><strong>What is the difference between Glimmer DSL for SWT, Glimmer DSL for Swing, and Glimmer DSL for JFX?</strong></p>
<p dir="auto">Glimmer DSL for SWT relies on the Eclipse SWT library, which renders native widgets on every platform (Mac, Windows, and Linux) to build desktop apps that look 100% native on every platform (Mac, Windows, and Linux).</p>
<p dir="auto">Glimmer DSL for Swing relies on Swing, which does not render native widgets on every platform. Glimmer DSL for JFX relies on JavaFX, which also does not render native widgets on every platform.</p>
<p dir="auto">Also, SWT initializes native widgets in memory using non-Java code (e.g. C/C++), thus ensuring native OS high performance for rendering native widgets without being prone to Java garbage collection pauses. On the other hand, Swing and JavaFX initialize non-native widgets in memory using Java code, thus depend on the performance of the Java Virtual Machine while being prone to Java garbage collection pauses. As a result, SWT provides a better user experience than Swing and JavaFX.</p>
<p dir="auto">You may learn more about the differences between various Glimmer DSLs by checking out the <a href="#glimmer-dsl-comparison-table">Glimmer DSL Comparison Table</a>.</p>
<p dir="auto"><strong>Why not just use SWT, LibUI, GTK, Tk, FOX Toolkit, wxWidgets, Swing, or JavaFX from Ruby directly?</strong></p>
<p dir="auto">GUI Toolkits implement low-level GUI rendering concerns. And, while some of them do offer object-oriented APIs, their APIs are very verbose and imperative by design due to being low-level APIs. As such, they require software engineers to write a lot more low-level code that does not map intuitively to the structure of the GUI visually, slowing down productivity and making maintainability more expensive.</p>
<p dir="auto">Glimmer GUI DSLs on the other hand are fully declarative and follow Rails' Convention Over Configuration maxim by including smart defaults and automation of low-level details, so they enable software engineers to write the simplest most minimalistic code that maps to the actual visual GUI concepts, maximizing productivity and resulting in code that is very maintainable and intuitive to reason about.</p>
<p dir="auto">Furthermore, Glimmer GUI DSLs offer advanced Bidirectional/Unidirectional Data-Binding Support, which enables syncing View data with Model attributes with the tersest code syntax possible to greatly simplify reasoning about the code while supporting proper separation of concerns through correct adherence to MVC (Model-View-Controller) and MVP (Model-View-Presenter).</p>
<p dir="auto">That's in addition to scaffolding and native executable packaging in some Glimmer GUI DSLs. As a result, productivity increases even further and maintainability becomes even less expensive, thus enabling software engineers to deliver pieces of software in a matter of minutes or hours for desktop application MVPs (Minimal Viable Products). As such, Glimmer GUI DSLs significantly shorten the feedback cycle and enable incrementally releasing features at a very fast pace, not possible with GUI toolkit low-level APIs.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Resources</h2><a id="user-content-resources" aria-label="Permalink: Resources" href="#resources"></a></p>
<ul dir="auto">
<li><a href="https://andymaleh.blogspot.com/search/label/Tutorial+SWT" rel="nofollow">Glimmer DSL for SWT Video Tutorials</a></li>
<li><a href="http://andymaleh.blogspot.com/search/label/Glimmer" rel="nofollow">Code Master Blog</a></li>
<li><a href="http://shop.oreilly.com/product/9780596519650.do" rel="nofollow">JRuby Cookbook by Justin Edelson &amp; Henry Liu</a></li>
<li><a href="https://confreaks.tv/videos/mwrc2011-whatever-happened-to-desktop-development-in-ruby" rel="nofollow">MountainWest RubyConf 2011 Video</a></li>
<li><a href="https://confreaks.tv/videos/rubyconf2008-desktop-development-with-glimmer" rel="nofollow">RubyConf 2008 Video</a></li>
<li><a href="http://www.infoq.com/news/2008/02/glimmer-jruby-swt" rel="nofollow">InfoQ Article</a></li>
<li><a href="https://dzone.com/articles/an-introduction-glimmer" rel="nofollow">DZone Tutorial</a></li>
</ul>
<p dir="auto"><h2 tabindex="-1" dir="auto">Help</h2><a id="user-content-help" aria-label="Permalink: Help" href="#help"></a></p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Issues</h3><a id="user-content-issues" aria-label="Permalink: Issues" href="#issues"></a></p>
<p dir="auto">You may submit <a href="https://github.com/AndyObtiva/glimmer/issues">issues</a> on <a href="https://github.com/AndyObtiva/glimmer/issues">GitHub</a>.</p>
<p dir="auto"><a href="https://github.com/AndyObtiva/glimmer/issues">Click here to submit an issue.</a></p>
<p dir="auto"><h3 tabindex="-1" dir="auto">Chat</h3><a id="user-content-chat" aria-label="Permalink: Chat" href="#chat"></a></p>
<p dir="auto">If you need live help, try to <a href="https://gitter.im/AndyObtiva/glimmer?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" rel="nofollow"><img src="https://camo.githubusercontent.com/34da5e29c959d7500e7a9c7922cddb396fc2910236c11e6a6406bd5e6aaa779e/68747470733a2f2f6261646765732e6769747465722e696d2f416e64794f62746976612f676c696d6d65722e737667" alt="Join the chat at https://gitter.im/AndyObtiva/glimmer" data-canonical-src="https://badges.gitter.im/AndyObtiva/glimmer.svg"></a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Feature Suggestions</h2><a id="user-content-feature-suggestions" aria-label="Permalink: Feature Suggestions" href="#feature-suggestions"></a></p>
<p dir="auto">These features have been suggested. You might see them in a future version of Glimmer. You are welcome to contribute more feature suggestions.</p>
<p dir="auto"><a href="https://github.com/AndyObtiva/glimmer-dsl-swt/blob/master/TODO.md">glimmer-dsl-swt/TODO.md</a></p>
<p dir="auto">Glimmer DSL Engine specific tasks are at:</p>
<p dir="auto"><a href="https://github.com/AndyObtiva/glimmer/blob/master/TODO.md">TODO.md</a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Change Log</h2><a id="user-content-change-log" aria-label="Permalink: Change Log" href="#change-log"></a></p>
<p dir="auto"><a href="https://github.com/AndyObtiva/glimmer-dsl-swt/blob/master/CHANGELOG.md">glimmer-dsl-swt/CHANGELOG.md</a></p>
<p dir="auto"><a href="https://github.com/AndyObtiva/glimmer/blob/master/CHANGELOG.md">CHANGELOG.md</a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Contributing</h2><a id="user-content-contributing" aria-label="Permalink: Contributing" href="#contributing"></a></p>
<p dir="auto"><strong>Contributors Wanted!</strong></p>
<p dir="auto">If you would like to contribute to Glimmer, please study up on Glimmer and <a href="https://github.com/AndyObtiva/glimmer-dsl-swt#swt-reference">SWT</a>, run all Glimmer <a href="https://github.com/AndyObtiva/glimmer-dsl-swt#samples">samples</a>, and build a small sample app (perhaps from <a href="https://github.com/AndyObtiva/glimmer-dsl-swt/blob/master/TODO.md#samples">this TODO list</a>) to add to <a href="https://github.com/AndyObtiva/glimmer-dsl-swt">glimmer-dsl-swt</a> Hello or Elaborate samples via a Pull Request. Once done, contact me on <a href="#chat">Chat</a>.</p>
<p dir="auto">You may apply for contributing to any of these Glimmer DSL gems whether you prefer to focus on the desktop or web:</p>
<ul dir="auto">
<li><a href="https://github.com/AndyObtiva/glimmer-dsl-swt">glimmer-dsl-swt</a>: Glimmer DSL for SWT (JRuby Desktop Development GUI Framework)</li>
<li><a href="https://github.com/AndyObtiva/glimmer-dsl-opal">glimmer-dsl-opal</a>: Glimmer DSL for Opal (Pure Ruby Web GUI and Auto-Webifier of Desktop Apps)</li>
<li><a href="https://github.com/AndyObtiva/glimmer-dsl-tk">glimmer-dsl-tk</a>: Glimmer DSL for Tk (MRI Ruby Desktop Development GUI Library)</li>
<li><a href="https://github.com/AndyObtiva/glimmer-dsl-libui">glimmer-dsl-libui</a>: Glimmer DSL for LibUI (Prerequisite-Free Ruby Desktop Development GUI Library)</li>
<li><a href="https://github.com/AndyObtiva/glimmer-dsl-xml">glimmer-dsl-xml</a>: Glimmer DSL for XML (&amp; HTML)</li>
<li><a href="https://github.com/AndyObtiva/glimmer-dsl-css">glimmer-dsl-css</a>: Glimmer DSL for CSS</li>
</ul>
<p dir="auto"><a href="https://github.com/AndyObtiva/glimmer/blob/master/CONTRIBUTING.md">CONTRIBUTING.md</a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Contributors</h2><a id="user-content-contributors" aria-label="Permalink: Contributors" href="#contributors"></a></p>
<ul dir="auto">
<li><a href="https://github.com/AndyObtiva">Andy Maleh</a> (Founder)</li>
<li><a href="https://github.com/Soleone">Dennis Theisen</a> (Contributor)</li>
</ul>
<p dir="auto"><a href="https://github.com/AndyObtiva/glimmer/graphs/contributors">Click here to view contributor commits.</a></p>
<p dir="auto"><h2 tabindex="-1" dir="auto">Hire Me</h2><a id="user-content-hire-me" aria-label="Permalink: Hire Me" href="#hire-me"></a></p>
<p dir="auto">If your company would like to invest fulltime in further development of the Glimmer open-source project, <a href="https://www.linkedin.com/in/andymaleh/" rel="nofollow">hire me</a>.</p>
<p dir="auto"><h2 tabindex="-1" dir="auto">License</h2><a id="user-content-license" aria-label="Permalink: License" href="#license"></a></p>
<p dir="auto"><a href="https://github.com/AndyObtiva/glimmer/blob/master/LICENSE.txt">MIT</a></p>
<p dir="auto">Copyright (c) 2007-2024 - Andy Maleh.</p>
<p dir="auto">--</p>
<p dir="auto">Glimmer logo was made by <a href="https://www.flaticon.com/authors/freepik" title="Freepik" rel="nofollow">Freepik</a> from <a href="https://www.flaticon.com/" title="Flaticon" rel="nofollow"> </a><a href="http://www.flaticon.com/" rel="nofollow">www.flaticon.com</a></p>
</article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Tactility: OS for the ESP32 Microcontroller Family (168 pts)]]></title>
            <link>https://tactility.one/#/</link>
            <guid>42653811</guid>
            <pubDate>Fri, 10 Jan 2025 08:37:08 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://tactility.one/#/">https://tactility.one/#/</a>, See on <a href="https://news.ycombinator.com/item?id=42653811">Hacker News</a></p>
Couldn't get https://tactility.one/#/: Error: timeout of 10000ms exceeded]]></description>
        </item>
    </channel>
</rss>