<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Sat, 10 May 2025 01:30:04 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Era of U.S. dollar may be winding down (149 pts)]]></title>
            <link>https://news.harvard.edu/gazette/story/2025/05/era-of-u-s-dollar-may-be-winding-down/</link>
            <guid>43940865</guid>
            <pubDate>Fri, 09 May 2025 21:05:59 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://news.harvard.edu/gazette/story/2025/05/era-of-u-s-dollar-may-be-winding-down/">https://news.harvard.edu/gazette/story/2025/05/era-of-u-s-dollar-may-be-winding-down/</a>, See on <a href="https://news.ycombinator.com/item?id=43940865">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<p>It looks like the end of an era for the U.S. dollar.</p>



<p>In his new book “Our Dollar, Your Problem: An Insider’s View of Seven Turbulent Decades of Global Finance, and the Road Ahead,” <a href="https://rogoff.scholars.harvard.edu/">Kenneth Rogoff</a> looks back on the currency’s dominant run in global trade and central bank reserves for a host of other countries. Today, he argues, that lofty status is on the wane.</p>



<p>“My thesis is that the U.S. dollar is about to get knocked down a couple pegs,” said Rogoff, a professor of economics and the Maurits C. Boas Chair of International Economics. “It will still be first in global finance, because nothing is poised to fully replace it. The dollar just won’t be as unique as it once was.”</p>



<p>Written entirely before the 2024 election, the book weaves first-person reflections with a history of the U.S. economy and its currency topping a succession of challengers. As a teen chess pro in the late 1960s and early ’70s, Rogoff traveled to tournaments in the Eastern Bloc provided him with rare insight on America’s Communist rivals. As a visiting scholar at the Bank of Japan in 1991, he glimpsed a booming economy on the precipice of disaster. He went on to serve as chief economist at the International Monetary Fund in the early ’00s, the nascent days of Europe’s common currency.</p>



<p>“The book is not a memoir,” Rogoff said. “But I do link in anecdotes from my experiences with world leaders, policymakers, former students, and chess players.”</p>



<p>The Gazette met up with Rogoff in his office for a preview of the book’s personal tales and macroeconomic prophesy. The interview was edited for length and clarity.</p>



<figure><img loading="lazy" decoding="async" width="1920" height="1280" src="https://news.harvard.edu/wp-content/uploads/2025/05/Rogoff-Author-Photo.-Credit-Martha-Stewart.jpg" alt="Kenneth Rogoff." srcset="https://news.harvard.edu/wp-content/uploads/2025/05/Rogoff-Author-Photo.-Credit-Martha-Stewart.jpg 1920w, https://news.harvard.edu/wp-content/uploads/2025/05/Rogoff-Author-Photo.-Credit-Martha-Stewart.jpg?resize=150,100 150w, https://news.harvard.edu/wp-content/uploads/2025/05/Rogoff-Author-Photo.-Credit-Martha-Stewart.jpg?resize=300,200 300w, https://news.harvard.edu/wp-content/uploads/2025/05/Rogoff-Author-Photo.-Credit-Martha-Stewart.jpg?resize=768,512 768w, https://news.harvard.edu/wp-content/uploads/2025/05/Rogoff-Author-Photo.-Credit-Martha-Stewart.jpg?resize=1024,683 1024w, https://news.harvard.edu/wp-content/uploads/2025/05/Rogoff-Author-Photo.-Credit-Martha-Stewart.jpg?resize=1536,1024 1536w, https://news.harvard.edu/wp-content/uploads/2025/05/Rogoff-Author-Photo.-Credit-Martha-Stewart.jpg?resize=48,32 48w, https://news.harvard.edu/wp-content/uploads/2025/05/Rogoff-Author-Photo.-Credit-Martha-Stewart.jpg?resize=96,64 96w, https://news.harvard.edu/wp-content/uploads/2025/05/Rogoff-Author-Photo.-Credit-Martha-Stewart.jpg?resize=1488,992 1488w, https://news.harvard.edu/wp-content/uploads/2025/05/Rogoff-Author-Photo.-Credit-Martha-Stewart.jpg?resize=1680,1120 1680w" sizes="auto, (max-width: 1920px) 100vw, 1920px"><figcaption><p>Professor of Economics Kenneth Rogoff.</p><p>Photo by Martha Stewart</p></figcaption></figure>



<hr>



<p><strong>This release feels extraordinarily well-timed, given the recent sell-off of U.S. Treasuries and the dollar’s decline following President Trump’s April 2 tariff announcement. What events compelled you to revisit the dollar’s incredible rise and offer predictions for its future?</strong></p>



<p>It wasn’t a single event. Based on my research, I thought the dollar peaked in its global footprint in 2015 and was in gentle decline. But I also thought this trend might accelerate. I was particularly concerned with our fiscal deficit and rising interest rates. I recently <a href="https://www.nber.org/papers/w33079">published a paper</a> showing that if you look at the long history of interest rates, they tend to revert to trend.</p>



<p>I was also <a href="https://rogoff.scholars.harvard.edu/publications/beginning-end-central-bank-independence">very concerned</a> about the Federal Reserve losing independence. I actually wrote the <a href="https://rogoff.scholars.harvard.edu/publications/optimal-degree-commitment-intermediate-monetary-target">first paper</a> on the importance of central bank independence almost 45 years ago; it’s maybe my most famous paper. But in recent years, I started noticing rhetoric on both the left and the right about reining that in. Federal Reserve Chairman Jerome Powell wouldn’t get pushed aside out of the blue. It would take another crisis. During wartime, for example, central banks are commonly made subservient to the government.</p>



<p><strong>That covers some of the internal pressures on dollar dominance. What about external factors?</strong></p>



<p>We’ve been able to use economic sanctions in place of military intervention. It saves us lives; it saves us money. But dollar dominance also gives us access to financial data that no other country has. If you were to go to the CIA today, you would see somebody on a laptop instead of somebody like James Bond.</p>



<p>So there’s quite an appetite, particularly in Asia, to reduce the dollar’s grip. China couldn’t help but notice when the U.S. placed economic sanctions on Russia following its full-scale invasion of Ukraine. China, of course, has designs on Taiwan.</p>



<p><strong>For most of us in the U.S., our currency’s almighty position isn’t exactly top of mind. Can you illustrate how dollar dominance impacts daily life for everyday Americans?</strong></p>



<p>For one thing, we’re all paying lower interest rates. It’s not a huge amount. You don’t like paying 6 percent on your mortgage, but you’d dislike it even more if you were paying 7 percent. And for the national government, which owes $36 trillion, every additional 1 percent is $360 billion.</p>



<p>Another thing is that, in times of crisis like the pandemic or the global financial crisis of 2008, the U.S. has been able to borrow promiscuously. Interest rates do rise as our debt rises, but the effect is very gentle compared with the U.K. or France. If this privilege is lost, we will notice it.</p>



<figure><img loading="lazy" decoding="async" width="1272" height="1920" src="https://news.harvard.edu/wp-content/uploads/2025/05/Book-cover-our-dollar-your-problem.jpg" alt="Book cover: &quot;Our Dollar, Your Problem.&quot;" srcset="https://news.harvard.edu/wp-content/uploads/2025/05/Book-cover-our-dollar-your-problem.jpg 1272w, https://news.harvard.edu/wp-content/uploads/2025/05/Book-cover-our-dollar-your-problem.jpg?resize=99,150 99w, https://news.harvard.edu/wp-content/uploads/2025/05/Book-cover-our-dollar-your-problem.jpg?resize=199,300 199w, https://news.harvard.edu/wp-content/uploads/2025/05/Book-cover-our-dollar-your-problem.jpg?resize=768,1159 768w, https://news.harvard.edu/wp-content/uploads/2025/05/Book-cover-our-dollar-your-problem.jpg?resize=678,1024 678w, https://news.harvard.edu/wp-content/uploads/2025/05/Book-cover-our-dollar-your-problem.jpg?resize=1018,1536 1018w, https://news.harvard.edu/wp-content/uploads/2025/05/Book-cover-our-dollar-your-problem.jpg?resize=21,32 21w, https://news.harvard.edu/wp-content/uploads/2025/05/Book-cover-our-dollar-your-problem.jpg?resize=42,64 42w" sizes="auto, (max-width: 1272px) 100vw, 1272px"></figure>



<p><strong>Tell me about the book’s title.</strong></p>



<p>The U.S. dollar used to be as good as gold. If you were a foreign country holding the equivalent to what is today hundreds of billions of dollars, as many Asian central banks do now, you could just take them to the U.S., and we would give you gold. But then President Richard Nixon decided, in 1971, that we weren’t going to do that anymore.</p>



<p>Leaders from around the world were in a state of shock. As a global financial incident, it was just as dramatic as the introduction of President Trump’s tariffs earlier this year. Nixon sent Treasury Secretary John Connally to meet with these leaders in Rome. They asked, “What do we do? Now that you’re not on gold, you can just inflate this stuff, and we’re stuck with it.” And Connally replied, “Well, it’s our dollar, but it’s your problem.”</p>



<p><strong>What do Connally’s words call to mind for you today?</strong></p>



<p>Connally’s remark captures the arrogance of American leaders that foreign leaders so often feel. I feel our role in the world comes with responsibility, and we should recognize that.</p>



<p>The book’s title is also ironic. After we went off gold, we lost a kind of price anchor. Nixon started beating up on Federal Reserve Chairman Arthur Burns as brutally as Trump beats up on Powell today. It just wasn’t in public; he was doing it in the Oval Office. We only know about it now because of the Watergate tapes. Burns got pressured into printing a lot of money. The result was the worst inflation the U.S. had seen since in a long while. So although Connally was saying “It’s your problem,” the resulting inflation proved a disaster for the U.S., too.</p>



<p><strong>Other economies have emerged as challengers to U.S. power over the years. But you open the book with a surprising example, at least for those who came of age after the Cold War. You start with the post-World War II rise of the Soviet Union. Can you talk about that choice?</strong></p>



<p>By the ’80s, it was becoming clear that the Russian ruble would not outpace the dollar. But in the ’60s and ’70s, we had no idea. I write about the different professors I met as an undergraduate at Yale, as well as textbooks by leading economists such as Paul Samuelson. Samuelson was convinced the Soviet economy would catch up to the U.S. The greatest economic historian of that era was Angus Maddison. He didn’t think the Soviet Union would catch up, but he thought it would do pretty well. These economists were not Marxists!</p>



<p>Later on, we didn’t know Japan would falter. We didn’t know Europe would fizzle. We never imagined the heights the U.S. dollar ultimately reached. My book hits these themes again and again.</p>



<p><strong>How did your experiences as a globe-hopping teen chess master shape your views on the subject?</strong></p>



<p>My professors at Yale talked about how great the Soviet Union was doing. But I had lived on my own abroad, primarily in the former Yugoslavia. I had visited some of my chess-player friends in their homes. Chess was a very big deal in the Communist bloc, so these players had privileged lives and nicer dwellings than the typical resident. But these nice dwellings consisted of little cement blocks in these humorless buildings. They barely had modern plumbing by U.S. standards. It made me very skeptical about Samuelson’s claim.</p>



<p><strong>You write in this book that era of dollar dominance is in “late middle-age, but still in good health.” Is that still true in light of Trump’s second-term trade war?</strong></p>



<p>Well, the dollar is starting to experience more serious health issues under Trump. When you’re an academic, the goal is never to write a book that’s true tomorrow. After coming to Harvard in 1999, I went for a walk across campus with former Faculty of Arts and Sciences Dean <a href="https://news.harvard.edu/gazette/story/2008/04/jeremy-r-knowles/">Jeremy Knowles</a>. I’ll never forget what he told me. He said, “The perfect paper is one that everybody thinks is wrong, but in five or 10 years it’s proven right.”</p>



<p><strong>You’ve achieved that in the past.</strong></p>



<p>Carmen Reinhart and I were ridiculed in early 2009 when we presented <a href="https://rogoff.scholars.harvard.edu/publications/aftermath-financial-crises">a paper</a> showing that recoveries from financial crises tend to be much slower and weaker than conventional recoveries. Of course that is exactly what happened. I had a similar experience in 2020 when <a href="https://rogoff.scholars.harvard.edu/sites/g/files/omnuum5901/files/rogoff/files/nber_27697_peak_china_housing_1.pdf">my work suggested</a> a deep problem in Chinese real estate.</p>



<p>My new book also contains some out-of-consensus forecasts that I believe will ultimately prove correct — on interest rates, inflation, and the role of the dollar. I don’t argue that dollar dominance will fall sharply tomorrow. But Trump has been an accelerant. He has been a catalyst. Parts of the world were already moving away from the dollar. Now they’re moving much faster.</p>	<!-- wp:harvard-gazette/share -->
	
	<!-- /wp:harvard-gazette/share -->
	
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[What’s new in Swift 6.2 (107 pts)]]></title>
            <link>https://www.hackingwithswift.com/articles/277/whats-new-in-swift-6-2</link>
            <guid>43940539</guid>
            <pubDate>Fri, 09 May 2025 20:20:52 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.hackingwithswift.com/articles/277/whats-new-in-swift-6-2">https://www.hackingwithswift.com/articles/277/whats-new-in-swift-6-2</a>, See on <a href="https://news.ycombinator.com/item?id=43940539">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
                            
                            <p>Raw identifiers, backtraces, task naming, and more.</p>
                        </div><div>
                            <p>Brace yourselves, folks: Swift 6.2 contains another gigantic collection of additions and improvements to the language, while also adding some important refinements to Swift concurrency that ought to make it much easier to adopt everywhere.</p>
<p>Many changes are small, such as the addition of raw identifiers, default values in string interpolation, or <code>enumerated()</code> conforming to <code>Collection</code>, but these are all likely to spread quickly across projects because they are just so darned <em>useful</em>.</p>
<p>It's also great to see Swift Testing going from strength to strength, with three major improvements coming in Swift 6.2, including exit tests and attachments.</p>
<p>In short, it feels like Swift 6.2 is delivering what many imagined Swift 6.0 would be – increasingly rounded support for concurrency, backed up by a number of pragmatic choices that help smooth out the language's learning curve.</p>
<p><strong>Note:</strong> At the time of writing, Swift 6.2 is available only as a test release from <a rel="nofollow noopener" target="_blank" href="https://www.swift.org/install/macos/">Swift.org</a>. The list below represents my best guess for what's coming up –&nbsp;don't be surprised if something slips to a later or release or something else arrives by surprise!</p>

<p><a href="https://www.hackingwithswift.com/sponsor">Sponsor Hacking with Swift and reach the world's largest Swift community!</a></p>
<h3>Control default actor isolation inference</h3>
<p><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0466-control-default-actor-isolation.md">SE-0466</a> introduces the ability for code to opt into running on a single actor by default –&nbsp;to effectively go back to being a single-threaded program, where most code runs on the main actor until you say otherwise.</p>
<p><strong>Yes, this is exactly as good as you're thinking:</strong> with one single change many app developers can more or less avoid thinking about Swift concurrency until they are ready to do so, because unless they say otherwise all their types and functions will behave as if it were annotated with <code>@MainActor</code>.</p>
<p>To enable this new feature, add <code>-default-isolation MainActor</code> to your compiler flags, and code like this becomes valid:</p>
<pre><code>@MainActor
class DataController {
    func load() { }
    func save() { }
}

struct App {
    let controller = DataController()

    init() {
        controller.load()
    }
}</code></pre>
<p>As you can see, the <code>App</code> struct creates and uses a main actor-isolated type without itself being marked <code>@MainActor</code>, but that's okay because it's automatically applied for us –&nbsp;we could even remove the lone <code>@MainActor</code> annotation and it would still apply.</p>
<p>Before you start panicking that this is going to cause all sorts of concurrency problems, there are five important things you know.</p>
<p>First, this new configuration option is applied on a <em>per-module basis</em>, so if you bring in external modules they can still run on other actors. This ought to allow UI-focused modules to switch to running on the main actor by default, while letting background-focused modules operate with concurrency as before.</p>
<p>Second, you can still use things like networking in your apps just fine –&nbsp;code such as <code>URLSession.shared.data(from:)</code> will run on its own task rather than blocking your code.</p>
<p>Third, a single CPU core in a modern iPhone runs at over 4GHz, so a huge number of iOS apps can get all their work done serially without a second thought.</p>
<p>Fourth, a lot of developers were already using "make it all @MainActor" as their default approach to concurrency, changing only when needed.</p>
<p>Fifth and perhaps most importantly, this change along with others form part of a larger <a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/visions/approachable-concurrency.md">Improving the approachability of data-race safety</a> vision document published by the Swift team – it's not just one change in isolation, but instead part of a cohesive package of improvements to reduce the learning curve for concurrency.</p>
<p>So, although this change might seem antithetical to all the Swift concurrency work that has taken place from Swift 5.5 and on, ultimately it solves a significant problem that was only growing: Swift concurrency is not easy to learn, and many apps simply don't need it.</p>
<p>Of course, the real question is whether Apple will enable this feature by default for new app projects in Xcode. I sincerely hope so, because it would also allow Xcode to default to the Swift 6 language version without introducing errors and warnings that many developers just don't need to think about.</p>
<p><strong>Note:</strong> Another Swift Evolution proposal, <a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0478-default-isolation-typealias.md">SE-0478</a>, is currently being discussed, and if it is approved would allow us to declare the default actor isolation on a per-file basis using syntax like <code>private typealias DefaultIsolation = MainActor</code>. The feedback so far has been broadly negative, so it might be returned for revision.</p>
<h3>Raw identifiers</h3>
<p><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0451-escaped-identifiers.md">SE-0451</a> dramatically expands the range of characters we can use to create identifiers – the names of variables, functions, enum cases and similar –&nbsp;so we can name them pretty much however we want when placed inside backticks.</p>
<p>So, this kind of code is legal in Swift 6.2 and later:</p>
<pre><code>func `function name with spaces`() {
    print("Hello, world!")
}

`function name with spaces`()</code></pre>
<p>If you're wondering why such naming might be useful, consider this:</p>
<pre><code>enum HTTPError: String {
    case `401` = "Unauthorized"
    case `404` = "Not Found"
    case `500` = "Internal Server Error"
    case `502` = "Bad Gateway"
}</code></pre>
<p>That makes each HTTP error code a case in our enum, which would previously need to be written as something else such as <code>case _401</code> or <code>case error401</code>.</p>
<p>If you're using numbers like this, you either need to qualify the type each time you use it, to avoid Swift getting confused, or you need to place the backticks carefully.</p>
<p>For example, in the code below we use <code>HTTPError</code> each time, to avoid Swift thinking <code>401</code> refers to a malformed floating-point literal:</p>
<pre><code>let error = HTTPError.401

switch error {
case HTTPError.401, HTTPError.404:
    print("Client error: \(error.rawValue)")
default:
    print("Server error: \(error.rawValue)")
}</code></pre>
<p>The alternative is to wrap the numbers themselves in the backticks –&nbsp;<em>not</em> including the dot beforehand – like this:</p>
<pre><code>switch error {
case .`401`, .`404`:
    print("Client error: \(error.rawValue)")
default:
    print("Server error: \(error.rawValue)")
}</code></pre>
<p>The biggest benefactor of this change is likely to be Swift Testing, where test names can now directly be written in a human-readable form rather than using camel case and adding an extra string description above.</p>
<p>So, rather than writing this:</p>
<pre><code>import Testing

@Test("Strip HTML tags from string")
func stripHTMLTagsFromString() {
    // test code
}</code></pre>
<p>We can instead write this:</p>
<pre><code>@Test
func `Strip HTML tags from string`() {
    // test code
}</code></pre>
<p>It's less duplication, which is always welcome.</p>
<p>One small detail that might catch you out is this: "A raw identifier may start with, contain, or end with operator characters, but it may not contain only operator characters." So, you can put operators such as <code>+</code> and <code>-</code> into your identifier names, but only if they aren't the only things in there.</p>
<h3>Default Value in String Interpolations</h3>
<p><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0477-default-interpolation-values.md">SE-0477</a> makes a small but beautiful change to string interpolation with optionals, allowing us to provide an additional <code>default</code> value to use if the optional is nil.</p>
<p>In its simplest form this means we would write the following code:</p>
<pre><code>var name: String? = nil
print("Hello, \(name, default: "Anonymous")!")</code></pre>
<p>Instead of this:</p>
<pre><code>print("Hello, \(name ?? "Anonymous")!")</code></pre>
<p>At first glance this might not seem like a great improvement, but the kicker is that nil coalescing doesn't work with different types. So, this kind of code is allowed:</p>
<pre><code>var age: Int? = nil
print("Age: \(age ?? 0)")</code></pre>
<p>But this kind of code will not compile when uncommented:</p>
<pre><code>// print("Age: \(age ?? "Unknown")")</code></pre>
<p>That attempts to mix an optional integer with a string default value, which isn't allowed. Fortunately this <em>is</em> possible from Swift 6.2 onwards:</p>
<pre><code>print("Age: \(age, default: "Unknown")")</code></pre>
<h3>Add Collection conformances for enumerated()</h3>
<p><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0459-enumerated-collection.md">SE-0459</a> makes the type returned by <code>enumerated()</code> conform to <code>Collection</code>.</p>
<p>The most immediate benefit of this is that it's now much easier to use <code>enumerated()</code> with a SwiftUI <code>List</code> or <code>ForEach</code> like this:</p>
<pre><code>import SwiftUI

struct ContentView: View {
    var names = ["Bernard", "Laverne", "Hoagie"]

    var body: some View {
        List(names.enumerated(), id: \.offset) { values in
            Text("User \(values.offset + 1): \(values.element)")
        }
    }
}</code></pre>
<p>The <a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0459-enumerated-collection.md">proposal</a> also mentions various performance benefits, including making <code>(1000..&lt;2000).enumerated().dropFirst(500)</code> a constant-time operation.</p>
<h3>Method and Initializer Key Paths</h3>
<p><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0479-method-and-initializer-keypaths.md">SE-0479</a> extends Swift's key paths to support methods alongside the existing support for properties and subscripts, which, along with <a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0438-metatype-keypath.md">SE-0438</a> introduced in Swift 6.1, promises to round out what key paths can do.</p>
<p>Code to access properties has always worked just fine with key paths:</p>
<pre><code>let strings = ["Hello", "world"]
let capitalized = strings.map(\.capitalized)
print(capitalized)</code></pre>
<p>With this change we can now access methods too, but be sure to actually <em>invoke</em> the method like this:</p>
<pre><code>let uppercased = strings.map(\.uppercased())
print(uppercased)</code></pre>
<p>If you <em>don't</em> invoke the method then you get back an uninvoked function that you can call later on like this:</p>
<pre><code>let functions = strings.map(\.uppercased)
print(functions)

for function in functions {
    print(function())
}</code></pre>
<p>In that code, the <code>functions</code> constant contains an array of calls to <code>uppercased()</code> on each string we passed in – <code>functions[0]</code> would be a reference to <code>"HELLO".uppercased()</code>, which we could call directly using <code>functions[0]()</code>.</p>
<p>If two methods have the same name, you can add their argument labels to clarify which overload you mean, like this:</p>
<pre><code>let prefixUpTo = \Array&lt;String&gt;.prefix(upTo:)
let prefixThrough = \Array&lt;String&gt;.prefix(through:)</code></pre>
<p>However, you <em>can't</em> make key paths to methods that are marked either <code>async</code> or <code>throws</code>; it's just not supported.</p>
<h3>Opt-in Strict Memory Safety Checking</h3>
<p><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0458-strict-memory-safety.md">SE-0458</a> introduces opt-in support for flagging unsafe Swift code as warnings unless specifically desired, which will make it significantly easier to audit unsafe code usage.</p>
<p><strong>Note:</strong> To be clear, <em>unsafe</em> code is not the same as <em>crashing</em> code – things like force unwraps or reading index -1 in an array will both crash your code but are considered safe because that's expected behavior. <em>Unsafe</em> code is code where you bypass Swift's guardrails to poke around in memory in such a way to cause undefined behavior, and usually if not always includes the word "unsafe" somewhere in the name, e.g. <code>UnsafeRawPointer</code> or <code>unsafelyUnwrapped</code>.</p>
<p>Strict memory safety checking introduces new <code>@safe</code> and <code>@unsafe</code> attributes that mark code as safe or unsafe to use respectively, with <code>@safe</code> being the default –&nbsp;it's only required when you need to override <code>@unsafe</code> in specific circumstances.</p>
<p>When strict memory safety is enabled, and code marked <code>@unsafe</code> must be called with a new <code>unsafe</code> keyword, like this:</p>
<pre><code>let name: String?
unsafe print(name.unsafelyUnwrapped)</code></pre>
<p>Failing to use <code>unsafe</code> will throw up a warning, so you can either adjust the code to use a safe variant or add the <code>unsafe</code> key to acknowledge that the code is unsafe.</p>
<p>This is very similar to the way both <code>try</code> and <code>await</code> work –&nbsp;the compiler knows that certain code will throw, that certain other code is asynchronous, or that certain other code is marked <code>@unsafe</code>, so really these keywords are acknowledgements for other people to see.</p>
<h3>Swift Backtrace API</h3>
<p><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0419-backtrace-api.md">SE-0419</a> introduces a new <code>Backtrace</code> struct, which is capable of capturing data about the call stack of our app at any given moment –&nbsp;the exact sequence of function calls leading up to the current point.</p>
<p>By default backtraces are not symbolicated, which means they won't include the names of each function in the call stack, but you can use <code>symbolicated()</code> to get that extra data.</p>
<p>So, as an example we could write a small chain of functions where the last one prints a backtrace:</p>
<pre><code>import Runtime

func functionA() {
    functionB()
}

func functionB() {
    functionC()
}

func functionC() {
    if let frames = try? Backtrace.capture().symbolicated()?.frames {
        print(frames)
    } else {
        print("Failed to get backtrace.")
    }
}

functionA()</code></pre>
<p>That will print exactly which functions were on the call stack – <code>functionC()</code>, <code>functionB()</code>, and <code>functionA()</code> – along with the files and line numbers of each call, which is really helpful for debugging.</p>
<h3>weak let</h3>
<p><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0481-weak-let.md">SE-0481</a> introduces the ability to use <code>weak let</code> when declaring properties of a type, complementing the existing support for <code>weak var</code>.</p>
<p><strong>Important:</strong> <code>weak let</code> means that a property cannot be changed after creation, but it can still be <em>destroyed</em>, so you need to use it carefully.</p>
<p>As an example, we could create two classes like this:</p>
<pre><code>final class User: Sendable {
    let id = UUID()
}

final class Session: Sendable {
    weak let user: User?

    init(user: User?) {
        self.user = user
    }
}</code></pre>
<p>We could then make and use them like so:</p>
<pre><code>var user: User? = User()
let session = Session(user: user)
print(session.user?.id ?? "No ID")</code></pre>
<p>Because the <code>user</code> property a <code>weak</code> reference to a class, we can destroy the original and have the property be destroyed too. So, this will print "No ID":</p>
<pre><code>user = nil
print(session.user?.id ?? "No ID")</code></pre>
<p>What we <em>can't</em> do is <em>reassign</em> the <code>user</code> property, which means both of these two would fail to compile if uncommented:</p>
<pre><code>// session.user? = User()
// session.user = nil</code></pre>
<p>Another big advantage of <code>weak let</code> can also be seen in the code above: we can mark both those classes as conforming to <code>Sendable</code>, which would not have been possible using <code>weak var</code>.</p>
<h3>Transactional Observation of Values</h3>
<p><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0475-observed.md">SE-0475</a> creates a new <code>Observations</code> struct that is created with a closure, and provides an <code>AsyncSequence</code> that emits new values whenever any any <code>@Observable</code> data changes – it effectively gives us the same power to monitor changes that SwiftUI gets, just in a free-form way.</p>
<p>As an example, we could make a trivial <code>@Observable</code> class for a player with a score:</p>
<pre><code>@Observable
class Player {
    var score = 0
}

let player1 = Player()</code></pre>
<p>We can ask to be notified when that score changes using <code>Observations</code> like this:</p>
<pre><code>let playerScores = Observations { player1.score }</code></pre>
<p>In that code, <code>playerScores</code> is an instance of <code>Observations&lt;Int, Never&gt;</code>, meaning that it emits integers and will never throw errors.</p>
<p>We can then queue up a bunch of example changes, and watch for those happening with a <code>for await</code> loop:</p>
<pre><code>for i in 1...5 {
    Task {
        try? await Task.sleep(for: .seconds(i))
        player1.score += 1
    }
}

for await score in playerScores {
    print(score)
} </code></pre>
<p>That will print six values in total: the initial score, plus increments through 5.</p>
<p>There are a handful of important usage notes you should be aware of when using <code>Observations</code>:</p>
<ol>
<li>It will emit the initial value as well as all future values.</li>
<li>If multiple changes come in at the same time, they might be coalesced into a single value being emitted. For example, if our <code>Task</code> code incremented <code>score</code> twice, the values emitted would go up in 2s.</li>
<li>The <code>AsyncSequence</code> of values being emitted can potentially run forever, so you should put it on a separate task or otherwise handle it carefully.</li>
<li>If you want iteration to stop – to end the loop – you should make the value being observed optional, then set it to nil.</li>
</ol>
<h3>Global-actor isolated conformances</h3>
<p><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0470-isolated-conformances.md">SE-0470</a> resolves a small but important concurrency problem by making it possible to restrict a protocol conformance to a specific global actor.</p>
<p>For example, we can now say "this <code>@MainActor</code>-restricted type conforms to <code>Equatable</code> only when it's being used on the main actor, like this:</p>
<pre><code>@MainActor
class User: @MainActor Equatable {
    var id: UUID
    var name: String

    init(name: String) {
        self.id = UUID()
        self.name = name
    }

    static func ==(lhs: User, rhs: User) -&gt; Bool {
        lhs.id == rhs.id
    }
}</code></pre>
<p>Notice the use of <code>@MainActor Equatable</code> –&nbsp;if we had tried to conform without using <code>@MainActor</code> on the protocol, Swift would be free to run the <code>==</code> method on any task, including in the background, which is explicitly disallowed thanks to the whole type being marked <code>@MainActor</code>. As a result, our code would not build.</p>
<h3>Starting tasks synchronously from caller context</h3>
<p><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0472-task-start-synchronously-on-caller-context.md">SE-0472</a> introduces a new way to create tasks so they start immediately if possible, rather than the existing behavior that only allows tasks to be queued to run at the next opportunity.</p>
<p>You can see the difference with code like this:</p>
<pre><code>print("Starting")

Task {
    print("In Task")
}

Task.immediate {
    print("In Immediate Task")
}

print("Done")
try await Task.sleep(for: .seconds(0.1))</code></pre>
<p>That creates two unstructured tasks: a regular unstructured task followed by an immediate unstructured task. When it runs, it will print Starting, In Immediate Task, Done, and then finally In Task.</p>
<p>To really understand the distinction between immediate tasks and regular tasks, remember that all potential suspension points in Swift must be marked with <code>await</code>. Creating a regular, non-immediate task doesn't use <code>await</code> because it doesn't mark a suspension point, but it <em>doesn't</em> run immediately because it gets queued up to run at the next available opportunity.</p>
<p>The new ability to create <em>immediate</em> tasks unlocks important new functionality: the code in an immediate task starts executing immediately if it's already on the target executor, perhaps providing important data that a UI control is waiting for, but after that initial immediate response the task can then use <code>await</code> like a regular task and potentially trigger suspension as normal. So, everything in an immediate tasks runs straight away until the first suspension point is reached.</p>
<p>Both <code>Task</code> and <code>Task.immediate</code> are <em>unstructured</em> tasks, however task groups have also been upgraded to support immediate child tasks with <code>addImmediateTask()</code> and <code>addImmediateTaskUnlessCancelled()</code>.</p>
<h3>Run nonisolated async functions on the caller's actor by default</h3>
<p><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0461-async-function-isolation.md">SE-0461</a> adjusts the way nonisolated async functions are called so that they run on the same actor as their caller. This sounds like a really abstract change, but it is important so I would recommend you spend the time to understand what's changing and why.</p>
<p>As an example, here's a simple struct that knows how to download and decode an array of <code>Double</code> values that represents various temperatures:</p>
<pre><code>struct Measurements {
    func fetchLatest() async throws -&gt; [Double] {
        let url = URL(string: "https://hws.dev/readings.json")!
        let (data, _) = try await URLSession.shared.data(from: url)
        return try JSONDecoder().decode([Double].self, from: data)
    }
}</code></pre>
<p>That isn't isolated to any particular actor, so it can run its code anywhere.</p>
<p>Next, we could use that with another struct called <code>WeatherStation</code>, which will download all the readings and return their mean average. This time, though we'll mark the struct as being isolated to the main actor:</p>
<pre><code>@MainActor
struct WeatherStation {
    let measurements = Measurements()

    func getAverageTemperature() async throws -&gt; Double {
        let readings = try await measurements.fetchLatest()
        let average = readings.reduce(0, +) / Double(readings.count)
        return average
    }
}

let station = WeatherStation()
try await print(station.getAverageTemperature())</code></pre>
<p>So, we have one struct that is nonisolated, and another that <em>is</em> isolated, and this demonstrates the change perfectly: before Swift 6.2 the call to <code>measurements.fetchLatest()</code> will not run on the main actor, but from Swift 6.2 and later it <em>will</em>.</p>
<p>The old behavior caused some confusion, not least because <code>measurements</code> is a main actor-isolated property in <code>WeatherStation</code>, and the call to <code>measurements.fetchLatest()</code> takes place in the main actor-isolated <code>getAverageTemperature()</code> method.</p>
<p>That old behavior wasn't an accident – <a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0338-clarify-execution-non-actor-async.md">SE-0338</a> from Swift 5.7 specifically states that async functions that aren't isolated to a particular actor "do not run on any actor's executor."</p>
<p>The new behavior introduced by SE-0461 means that nonisolated async functions will now run on the same actor as their caller unless you say otherwise. In the code above, that means the call to <code>measurements.fetchLatest()</code> will run on the main actor because <code>getAverageTemperature()</code> does.</p>
<p>If you want the old behavior to return –&nbsp;if you wanted <code>fetchLatest()</code> to switch away from the caller's actor automatically – you would need to mark it with the new <code>@concurrent</code> attribute, like this: <code>@concurrent func fetchLatest()…</code>.</p>
<h3>Isolated synchronous deinit</h3>
<p><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0371-isolated-synchronous-deinit.md">SE-0371</a> introduces the ability to mark the deinitializers of actor-isolated classes as being isolated, which allows them to safely access data elsewhere in the class.</p>
<p>For example, this class is isolated to the main actor, and I've marked its <code>deinit</code> as being isolated so that it can safely call <code>cleanUp()</code>:</p>
<pre><code>@MainActor
class DataController {
    func cleanUp() {
        // free up memory
    }

    isolated deinit {
        cleanUp()
    }
}</code></pre>
<p>Without that <code>isolated</code> keyword in there, the deinitializer wouldn't be isolated to the main actor –&nbsp;that's just not how global actors work. <em>With</em> it there, your code will move to the actor's executor before running the code, so it's all safe.</p>
<p>This will be particularly useful for times when your deinitializer needs to access non-<code>Sendable</code> state belonging to a class. For example, we might have a <code>User</code> class like this one:</p>
<pre><code>class User {
    var isLoggedIn = false
}</code></pre>
<p>We can then wrap that in a <code>Session</code> class that runs on the main actor, which automatically marks the user being logged in or out as the session is created and destroyed:</p>
<pre><code>@MainActor
class Session {
    let user: User

    init(user: User) {
        self.user = user
        user.isLoggedIn = true
    }

    isolated deinit {
        user.isLoggedIn = false
    }
}</code></pre>
<p>Again, that <code>isolated</code> keyword is required to make the code work – without that the deinitializer would run without being isolated to the main actor, but it would try to access the <code>user</code> property that <em>is</em> isolated to the main actor, causing a compile error.</p>
<h3>Task Priority Escalation APIs</h3>
<p><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0462-task-priority-escalation-apis.md">SE-0462</a> introduces the ability for tasks to detect when their priority has been escalated, and also for us to manually escalate task priority if needed.</p>
<p>To watch for priority escalation, use the <code>withTaskPriorityEscalationHandler()</code> function like this:</p>
<pre><code>let newsFetcher = Task(priority: .medium) {
    try await withTaskPriorityEscalationHandler {
        let url = URL(string: "https://hws.dev/messages.json")!
        let (data, _) = try await URLSession.shared.data(from: url)
        return data
    } onPriorityEscalated: { oldPriority, newPriority in
        print("Priority has been escalated to \(newPriority)")
    }
}</code></pre>
<p>As you can see, that gives us both the old and new task priorities, and it's up to us to respond to the change however we want. If you want to use that opportunity to escalate the priority of other tasks, you should use the new <code>escalatePriority(to:)</code> method like this:</p>
<pre><code>newsFetcher.escalatePriority(to: .high)</code></pre>
<p>Because there are several task priorities available to us, it's possible your <code>onPriorityEscalated</code> code will be triggered multiple times –&nbsp;your priority might start at low then move to medium, then move to high, for example. However, task priority can only ever be <em>raised</em>, never lowered.</p>
<p><strong>Note:</strong> Task priority escalation usually happens automatically, such as when a high-priority task finds itself waiting on the result of a low-priority task – Swift will automatically raise the priority of the low-priority task so it’s able to complete faster. Although this API gives us extra control, it's still best to let priority escalation happen automatically where possible.</p>
<h3>Task Naming</h3>
<p><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0469-task-names.md">SE-0469</a> introduces a useful change to the way we create tasks and child tasks: we can now give them <em>names</em>, which is ideal for debugging when one particular task goes rogue.</p>
<p>The API here is simple: when using <code>Task.init()</code> and <code>Task.detached()</code> to create new tasks, or using <code>addTask()</code> and <code>addTaskUnlessCancelled()</code> to create child tasks in a task group, you can now pass an optional <code>name</code> parameter string to identify the task uniquely. These name strings can be hard-coded or use string interpolation; either one works.</p>
<p>In its simplest form, the new API looks like this:</p>
<pre><code>let task = Task(name: "MyTask") {
    print("Current task name: \(Task.name ?? "Unknown")")
}</code></pre>
<p>To show you a more real-world example, we might have a <code>NewsStory</code> struct that knows how to load some basic information about a news article:</p>
<pre><code>struct NewsStory: Decodable, Identifiable {
    let id: Int
    let title: String
    let strap: String
    let url: URL
}</code></pre>
<p>Now we could use a task group to fetch several news story sources and combine them into a single array, while also printing a log message if any child task hits a problem:</p>
<pre><code>let stories = await withTaskGroup { group in
    for i in 1...5 {
        // Give each child task a unique name
        // for easier identification.
        group.addTask(name: "Stories \(i)") {
            do {
                let url = URL(string: "https://hws.dev/news-\(i).json")!
                let (data, _) = try await URLSession.shared.data(from: url)
                return try JSONDecoder().decode([NewsStory].self, from: data)
            } catch {
                // This child failed – print a log
                // message with its name then return
                // an empty array.
                print("Loading \(Task.name ?? "Unknown") failed.")
                return []
            }
        }
    }

    var allStories = [NewsStory]()

    for await stories in group {
        allStories.append(contentsOf: stories)
    }

    return allStories.sorted { $0.id &gt; $1.id }
}

print(stories)</code></pre>
<h3>InlineArray, a fixed-size array</h3>
<p><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0453-vector.md">SE-0453</a> introduces a new array type called <code>InlineArray</code> that stores an exact number of elements, combining the fixed-size nature of tuples with the natural subscripting of arrays, while adding in some welcome performance improvements at the same time.</p>
<p>Creating an <code>InlineArray</code> can be done with an explicit size or type, or you can let type inference figure out both by the usage. This is made possible by a separate Swift 6.2 improvement, <a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0452-integer-generic-parameters.md">SE-0452</a>, which adds integer generic parameters.</p>
<p>So, we can create an inline array of names by specifying both the size and element type:</p>
<pre><code>var names1: InlineArray&lt;4, String&gt; = ["Moon", "Mercury", "Mars", "Tuxedo Mask"]</code></pre>
<p>Or you can let Swift figure it out by passing in exactly four strings:</p>
<pre><code>var names2: InlineArray = ["Moon", "Mercury", "Mars", "Tuxedo Mask"]</code></pre>
<p>Either way, these arrays are fixed in size, so they don't have <code>append()</code> or remove(at:)` methods. However, you <em>can</em> still read and write values at a specific index, like this:</p>
<pre><code>names1[2] = "Jupiter"</code></pre>
<p><code>InlineArray</code> does <em>not</em> conform to either <code>Sequence</code> or <code>Collection</code>, so if you want to loop over their values you should use the <code>indices</code> property along with subscripting like this:</p>
<pre><code>for i in names1.indices {
    print("Hello, \(names1[i])!")
}</code></pre>
<p><strong>Note:</strong> Another Swift Evolution proposal, <a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0483-inline-array-sugar.md">SE-0483</a>, is currently being discussed, and if it is approved would add an <code>InlineArray</code> literal syntax in the style <code>var names: [5 x String] = .init(repeating: "Anonymous")</code> to mean "exactly five strings in this array." The feedback so far has been broadly negative, so it might be returned for revision.</p>
<h3>Regex lookbehind assertions</h3>
<p><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0448-regex-lookbehind-assertions.md">SE-0448</a> expands Swift's regular expression support to include <em>lookbehind assertions</em>, which allow us to check if a specific pattern appears immediately before the current position in the string, <em>without</em> including it in the matched text.</p>
<p>For example, we might want to match all prices inside a string by looking for any numbers that come after a dollar sign, <em>without</em> matching the dollar sign itself:</p>
<pre><code>let string = "Buying a jacket costs $100, and buying shoes costs $59.99."
let regex = /(?&lt;=\$)\d+(?:\.\d{2})?/

for match in string.matches(of: regex) {
    print(match.output)
}</code></pre>
<p>Swift's regular expression system is remarkably powerful, and it's great to see it continue to evolve. Maybe <code>?R</code> recursion will come next…</p>
<h3>Swift Testing: Exit Tests</h3>
<p><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/testing/0008-exit-tests.md">ST-0008</a> introduces a testing feature that has been in demand for as long as I can remember: the ability to test code that results in a critical failure that terminated the app.</p>
<p>For example, code like this is going to fail <em>hard</em> if we call it with a <code>sides</code> value of 0:</p>
<pre><code>struct Dice {
    func roll(sides: Int) -&gt; Int {
        precondition(sides &gt; 0)
        return Int.random(in: 1...sides)
    }
}</code></pre>
<p>Running <code>roll(sides: 0)</code> will literally crash the app, which in turn will cause tests to collapse around it. </p>
<p>From Swift 6.2 and later we can use <code>#expect(processExitsWith:)</code> to look for and catch such critical failures, allowing us to check they happened rather than causing our test run to fail.</p>
<p>Here's how it looks in code:</p>
<pre><code>@Test func invalidDiceRollsFail() async throws {
    let dice = Dice()

    await #expect(processExitsWith: .failure) {
        let _ = dice.roll(sides: 0)
    }
}</code></pre>
<p>Notice how it must be executed using <code>await</code> – behind the scenes this starts a dedicated process for that test, then suspends the test until that process completes and can be evaluated.</p>
<p>This improvement opens up a range of things that were hard if not impossible to test before, including a range of hacks designed to test things like <code>fatalError()</code> get called at specific times.</p>
<h3>Swift Testing: Attachments</h3>
<p><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/testing/0009-attachments.md">ST-0009</a> adds the ability to add attachments to tests, so that if a test fails you can attach a debug log or generated data files directly to the failing test.</p>
<p>As an example, we could define a simple <code>Character</code> struct such as this one:</p>
<pre><code>import Foundation
import Testing

struct Character: Codable, Attachable {
    var id = UUID()
    var name: String
}</code></pre>
<p>That conforms to the new <code>Attachable</code> protocol, and because it also imports Foundation <em>and</em> conforms to <code>Codable</code>, Swift Testing can automatically encode instances of our struct to be attached to tests.</p>
<p>We can then use that in a trivial function in our production code:</p>
<pre><code>func makeCharacter() -&gt; Character {
    Character(name: "Ram")
}</code></pre>
<p>When it comes to writing a test, we'll make sure the default name matches the value we expect, but we'll also make whatever character we got back from <code>makeCharacter()</code> an attachment with the label "Character":</p>
<pre><code>@Test func defaultCharacterNameIsCorrect() {
    let result = makeCharacter()
    #expect(result.name == "Rem")

    Attachment.record(result, named: "Character")
}</code></pre>
<p>When that test runs, Xcode should in theory automatically surface those attachments for us as part of the test results, although we'll need to wait for an Xcode update in order for that to happen.</p>
<p>Out of the box, Swift Testing provides support for attaching <code>String</code>, <code>Data</code>, and anything that conforms to <code>Encodable</code>. It does <em>not</em> support (at least not in Swift 6.2) attaching images, which is an annoyance –&nbsp;it would be great to attach a SwiftUI image to a failing test, for example.</p>
<p><strong>Note:</strong> Unlike the XCTest equivalent, Swift Testing's attachments do not support lifetime controls in Swift 6.2. If this feature gets added in a future release, it would allow us to automatically delete attachments if a test succeeds, which helps keep tests lightweight.</p>
<h3>Swift Testing: Public API to evaluate ConditionTrait</h3>
<p><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/testing/0010-evaluate-condition.md">ST-0010</a> introduces a new <code>evaluate()</code> method to test condition traits, meaning that it's possible to write non-test functions that evaluate the same conditions as test functions.</p>
<p>It's still possible to use condition traits in the <code>@Test</code> macro, like this:</p>
<pre><code>import Testing

struct TestManager {
    static let inSmokeTestMode = true
}

@Test(.disabled(if: TestManager.inSmokeTestMode))
func runLongComplexTest() {
    // test code here
}</code></pre>
<p>In Swift 6.2 and later you can now evaluate those same conditions <em>outside</em> of tests by creating a condition trait then calling its <code>evaluate()</code> method:</p>
<pre><code>func checkForSmokeTest() async throws {
    let trait = ConditionTrait.disabled(if: TestManager.inSmokeTestMode)

    if try await trait.evaluate() {
        print("We're in smoke test mode")
    } else {
        print("Run all tests.")
    }
}</code></pre>
<h3>And there's more!</h3>
<p>If all the above wasn't enough for you, even more changes are likely also be arriving with Swift 6.2, including:</p>
<ul>
<li><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0446-non-escapable.md">SE-0446</a> introduces non-escapable types that cannot outlive the scope of the function where they are created, so they can't be returned or assigned elsewhere.</li>
<li><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0447-span-access-shared-contiguous-storage.md">SE-0447</a> builds upon the non-escapable types proposal to add a new <code>Span</code> struct designed to make it easier to safely access contiguous memory.</li>
<li><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0457-duration-attosecond-represenation.md">SE-0457</a> upgrades the <code>Duration</code> type to expose the total number of attoseconds (one quintillionth of a second) as an <code>Int128</code>.</li>
<li><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0463-sendable-completion-handlers.md">SE-0463</a> changes the rules for Objective-C imports so that completion handler parameters are considered <code>@Sendable</code> unless otherwise request.</li>
<li><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0473-clock-epochs.md">SE-0473</a> adds properties to <code>SuspendingClock</code> and <code>ContinuousClock</code> to provide the exact start point for those clocks – the time they consider to be zero.</li>
<li><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0474-yielding-accessors.md">SE-0474</a> adds yielding accessors to allow values to be read and written without requiring copies to be made.</li>
<li><a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0480-swiftpm-warning-control.md">SE-0480</a> builds on the diagnostic groups work done in Swift 6.1 so that we can set warning and error levels directly inside Swift packages.</li>
</ul>
<p>There's one more I want to mention briefly, and although it's hard to provide meaningful examples that are easy to understand, I still think this proposal deserves an extra mention because it's just so darned clever. It's <a rel="nofollow noopener" target="_blank" href="https://github.com/swiftlang/swift-evolution/blob/main/proposals/0476-abi-attr.md">SE-0476</a>, which introduces a new <code>@abi</code> attribute that makes it easier for ABI-stable library authors to make changes to their libraries without breaking things. This might be something small such as changing from <code>rethrows</code> to typed throws, or, in the words of the evolution proposal, "to rename an API whose name is felt to be catastrophically confusing."</p>
<p>This change is going to be hugely popular with library authors who made small mistakes they wanted to correct afterwards, <em>without</em> breaking code that relies on old behavior.</p>
<p>So, again Swift 6.2 is another gigantic collection of additions and improvements to the language –&nbsp;new features, yes, but also a range of refinements that will continue to help smooth over adoption of Swift concurrency. </p>
<p>As usual, not all features will apply to every project, but I think certainly at least one or two of these changes will grow to become standard practice, and it might not even be the ones you expect –&nbsp;keep an eye on <code>InlineArray</code>!</p>








<p><a href="https://www.hackingwithswift.com/sponsor">Sponsor Hacking with Swift and reach the world's largest Swift community!</a></p>




                        </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Man 'Disappeared' by ICE Was on El Salvador Flight Manifest, Hacked Data Shows (174 pts)]]></title>
            <link>https://www.404media.co/man-disappeared-by-ice-was-on-el-salvador-flight-manifest-hacked-data-shows/</link>
            <guid>43939006</guid>
            <pubDate>Fri, 09 May 2025 17:06:25 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.404media.co/man-disappeared-by-ice-was-on-el-salvador-flight-manifest-hacked-data-shows/">https://www.404media.co/man-disappeared-by-ice-was-on-el-salvador-flight-manifest-hacked-data-shows/</a>, See on <a href="https://news.ycombinator.com/item?id=43939006">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
  
<!--kg-card-begin: html-->

<!--kg-card-end: html-->
<p>Ricardo Prada Vásquez, a Venezuelan man whose family says <a href="https://www.nytimes.com/2025/04/22/us/venezuela-immigrant-disappear-deport-ice.html?ref=404media.co"><u>he was “disappeared”</u></a> and who wasn’t included on a <a href="https://www.cbsnews.com/news/venezuelans-deported-el-salvador-names/?ref=404media.co"><u>previously leaked government list of people</u></a> sent to a notorious mega prison in El Salvador, was included on a private airline’s flight manifest to the country, according to hacked airline data obtained and analyzed by 404 Media.&nbsp;</p><p>That means a private charter flight company might have more accurate information on where people are being deported than the government, experts say, and raises questions about the process being used to deport people.&nbsp;</p><p>While the government initially declined to say where Prada had been sent before <a href="https://x.com/DHSgov/status/1914776912150380560?ref=404media.co"><u>eventually admitting he was sent to El Salvador</u></a>, the man was on a manifest for a March 15 flight held by GlobalX, one of ICE’s primary charter companies. The news also raises questions about whether other people whose families are unaware of their whereabouts may be in El Salvador too.&nbsp;</p><div><p>💡</p><p><b><strong>Do you know the name of anyone else who has been deported but their whereabouts are unknown? I would love to hear from you. Using a non-work device, you can message me securely on Signal at joseph.404 or send me an email at joseph@404media.co.</strong></b></p></div><p>“There are so many levels at which this concerns me. One is they clearly did not take enough care in this to even make sure they had the right lists of who they were removing, and who they were not sending to a prison that is a black hole in El Salvador,” Michelle Brané, executive director of Together and Free, a group that has been working with families of deported people, including Prada’s, told 404 Media. “They weren't even keeping accurate records of who they were sending there. What that says about how much due process or how much accuracy there is in the rest of the assessments of whether these people should be on those planes at all follows very closely behind that.”</p>
</div><div>
  <div>
    <h2>This post is for paid members only</h2>
    <p>Become a paid member for unlimited ad-free access to articles, bonus podcast content, and more.</p>
    <p><a href="https://www.404media.co/membership/">Subscribe</a>
  </p></div>
  <div>
    <h2>Sign up for free access to this post</h2>
    <p>Free members get access to posts like this one along with an email round-up of our week's stories.</p>
    <p><a href="https://www.404media.co/signup/">Subscribe</a>
  </p></div>
  <p>Already have an account? <a href="https://www.404media.co/signin/" data-portal="signin">Sign in</a></p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[HNInternal: Launch HN: Nao Labs (YC X25) – Cursor for Data (117 pts)]]></title>
            <link>https://news.ycombinator.com/item?id=43938607</link>
            <guid>43938607</guid>
            <pubDate>Fri, 09 May 2025 16:28:28 GMT</pubDate>
            <description><![CDATA[<p>See on <a href="https://news.ycombinator.com/item?id=43938607">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><td colspan="2"></td><td><div><p>Hey HN, we’re Claire and Christophe from nao Labs (<a href="https://getnao.io/">https://getnao.io/</a>). We just launched nao, an AI code editor to work with data: a local editor, directly connected with your data warehouse, and powered by an AI copilot with built-in context of your data schema and data-specific tools.</p><p>See our demo here: <a href="https://www.youtube.com/watch?v=QmG6X-5ftZU" rel="nofollow">https://www.youtube.com/watch?v=QmG6X-5ftZU</a></p><p>Writing code with LLMs is the new normal in software engineering. But not when it comes to manipulating data. Tools like Cursor don’t interact natively with data warehouses — they autocomplete SQL blindly, not knowing your data schema. Most of us are still juggling multiple tools: writing code in Cursor, checking results in the warehouse console, troubleshooting with an observability tool, and verifying in BI tool no dashboard broke.</p><p>When you want to write code on data with LLMs, you don’t care much about the code, you care about the data output. You need a tool that helps you write code relevant for your data, lets you visualize its impact on the output, and quality check it for you.</p><p>Christophe and I have each spent 10 years in data — Christophe was a data engineer and has built data platforms for dozens of orgs, I was head of data and helped data teams building their analytics &amp; data products. We’ve seen how the business asks you to ship data fast, while you’re here wondering if this small line of code will mistakenly multiply the revenue on your CEO dashboard by x5. Which leaves you 2 choices: test extensively and ship slow. Not test and ship fast. That’s why we wanted to create nao: a tool really adapted to our data work, that would allow data teams to ship at business pace.</p><p>nao is a fork of VS Code, with built-in connectors for BigQuery, Snowflake, and Postgres. We built our own AI copilot and tab system, gave them a RAG of your data warehouse schemas and of your codebase. We added a set of agent tools to query data, compare data, understand data tools like dbt, assess the downstream impact of code in your whole data lineage.</p><p>The AI tab and the AI agent write straight away code matching your schema, may it be for SQL, python, yaml. It shows you code diffs and data diffs side by side, to visualize what your change did to the data output. And you can leave the data quality checks to the agent: detect missing or duplicated values, outliers, anticipate breaking changes downstream or compare dev and production data differences.</p><p>Data teams usually use nao for writing SQL pipelines, often with dbt. It helps them create data models, document them, test them, while making sure they’re not breaking data lineage and figures in the BI. In run mode, they also use it to run some analytics, and identify data quality bugs in production. For less technical profiles, it’s also a great help to strengthen their code best practices. For large teams, it ensures that the code &amp; metrics remain well factorized and consistent.</p><p>Software engineers use nao for the database exploration part: write SQL queries with nao tab, explore data schema with the agent, and write DDL.</p><p>Question we often get is: why not just use Cursor and MCPs? Cursor has to trigger many MCP calls to get full context of the data, while nao has it always available in one RAG. MCPs stay in a very enclosed part of Cursor: they don’t bring data context to the tab. And they don’t make the UI more adapted to data workflows. Besides, nao comes as pre-packaged for data teams: they don’t have to set up extensions, install and authenticate in MCPs, build CI/CD pipelines. Which means even non-technical data teams can have a great developer experience.</p><p>Our long-term goal is to become the best place to work with data. We want to fine-tune our own models for SQL, Python and YAML to give the most relevant code suggestions for data. We want to enlarge our comprehension of all data stack tools, to become the only agnostic editor for any of your data workflow.</p><p>You can try it here: <a href="https://sunshine.getnao.io/releases/">https://sunshine.getnao.io/releases/</a> - download nao, sign up for free and start using it. Just for HN Launch, you can create a temporary account with a simple username if you’d prefer not to use your email. For now, we only have Mac version but Linux and Windows are coming.</p><p>We’d love to hear your feedback — and get your thoughts on how we can improve even further the data dev experience!</p></div></td></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Past, present, and future of Sorbet type syntax (108 pts)]]></title>
            <link>https://blog.jez.io/history-of-sorbet-syntax/</link>
            <guid>43938400</guid>
            <pubDate>Fri, 09 May 2025 16:09:45 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.jez.io/history-of-sorbet-syntax/">https://blog.jez.io/history-of-sorbet-syntax/</a>, See on <a href="https://news.ycombinator.com/item?id=43938400">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<p>Here’s the elephant in the room: Sorbet’s syntax is ugly.</p>
<p>When people start complaining about Sorbet’s syntax, I have to spend a lot of time deflecting or even defending it, which is annoying: I’m right there with you, the syntax is ugly! It’s verbose. It’s foreign. It doesn’t resemble any typed language, <strong>nor</strong> does it complement Ruby’s unique style.</p>
<p>My counter is that when it comes to language design, <strong>semantics</strong>—what the types mean—are easily 10 times more important than <strong>syntax</strong>. This is <a href="https://www.andrew.cmu.edu/course/15-312/phil.html">what I was taught</a>; it’s also <a href="https://stripe.com/blog/sorbet-stripes-type-checker-for-ruby">what I’ve seen</a>. <a href="https://gwern.net/doc/cs/algorithm/1985-naur.pdf">Programming is an act of theory building</a>, and when you sit down to write <em>code</em>, you’re trying to codify how you’re thinking about a problem as much as instructions for the machine. Types become a tool to help get the semantics from your head into the codebase. That’s a lossy process, and types fill a role kind of like “error correcting codes” for brain dumping.</p>
<p>So I try <em>very</em> hard to not get sucked into debates about syntax—in no small part because from where I stand, tons of the people complaining about the syntax <em>also</em> don’t like the semantics, they just don’t know how to say it. And not only do they not like Sorbet’s semantics, they don’t like <strong>statically typed</strong> semantics in the first place! Even if I changed their mind on Sorbet’s syntax, there’s basically no way I’ll change their mind on the idea of static types. So why bother? They’re not prospective Sorbet users no matter what I say.</p>
<p>But in thinking that way, I ignore the cohort of committed, enthusiastic Sorbet users who actually love the semantics but tolerate the syntax.</p>
<p>So that’s who this talk is for: I’m not here to convince you to start liking typing or to start using Sorbet! Instead, I want to lay everything out there, so that the people who are motivated by syntax more than me have a view of problem space and can channel their complaints into action.</p>
<p>We’re going to cover a lot of things:</p>
<ul>
<li>The historical context at Stripe that gave rise to Sorbet</li>
<li>The goals and constraints which sprung from that historical context</li>
<li>Various problems we discovered over time, forcing redesigns of the type syntax</li>
<li>Potential future changes to the syntax, ranging from “yeah we should probably have done that yesterday” to “that sounds like it’ll never happen… but wouldn’t it be cool?”</li>
</ul>
<h2 id="the-before-times">The before times</h2>
<p>Before we get too much further, I’ve forgotten to introduce myself: my name is Jake, and I’ve been working full time on Sorbet for almost 7 years.</p>
<figure>
<img src="https://blog.jez.io/assets/img/jez-type-safety.png" alt=":jez-type-safety:">

</figure>
<p>I started at Stripe a month before the Ruby type checker project kicked off, and I joined the team 1 year later. Most of what I have to say here is from direct experience, from chatting with people over lunch, or from combing old emails. That means some of the things that happened before 2017 are a little hazy, but I’m going to do my best.</p>
<p>In mid 2017 (when I joined, and when Sorbet was starting) there were about 750 people at Stripe, of whom about 300 were engineers.</p>
<p>Every 6 months (to this day), Stripe runs a survey of all engineers at the company, asking them about about their productivity. In the first survey of 2017, engineers were asked to pick priorities for the Developer Productivity team by choosing three things from this list:</p>
<ol type="1">
<li>Better technical documentation</li>
<li>Static type checking for Ruby</li>
<li>Unattended deploys</li>
<li>CI flakiness on feature branch builds</li>
<li>CI flakiness on master builds</li>
<li>Async programming primitives and libraries</li>
<li>Seamlessly start multiple services in development</li>
<li>GUI for running database migrations</li>
</ol>
<p>It’s in order by their responses: the top two were “better docs” and “static type checking.” Also, when looking at the free-form responses, the number of complaints mentioning themes of “code organization, interfaces, and modularity” had doubled from 6 months prior. Test speed, while substantially improved from the prior survey, was still a widespread call out.</p>
<p>One of those open-ended questions was: “What are the top 1-2 things we could do to make you more productive?” It got answers like these:</p>
<blockquote>
<p>mono-repoing all the things; better, more intuitive code/documentation (clearer interfaces, <strong>static typing</strong>, stronger assurances from linting)</p>
</blockquote>
<blockquote>
<p><strong>static types</strong> / less magic in [Stripe’s Ruby codebase]</p>
</blockquote>
<blockquote>
<p>builds being faster, tests on branches passing meaning you wont break master, <strong>static types</strong> in [Stripe’s Ruby codebase]</p>
</blockquote>
<p>I mention all this to drive home that we didn’t build Sorbet because we wanted to, we built it because people were asking for it!</p>
<p>Which is also the reason it’s hard for me to give advice to people adopting Sorbet. They’ll ask me, “How did you convince people?” and I’ll say, “we didn’t: <em>they</em> convinced <em>us</em>!” But I’m getting off track, because I’m not trying to convince people to use Sorbet today.</p>
<h2 id="appetite-for-typing-at-stripe">Appetite for typing at Stripe</h2>
<p>We can dig a little deeper and see where this appetite for typing came from. As early as 2013, Stripe had developed its own object-database mapper for defining database models:<span><label for="sn-0">⊕</label><span>Why didn’t Stripe use mongoid, the official MongoDB ODM? I have no clue. The first mongoid commit predates the first Odin commit by about 4 years, so it’s not like there was no alternative.</span></span></p>
<figure>
<img src="https://blog.jez.io/assets/img/odin-model-2013-03-18.png" alt="Documentation for Odin::Model, a precursor to Chalk::ODM, and later T::Struct">

</figure>
<p>For anyone who uses Sorbet, this should look remarkably familiar: it’s the exact same code you’d use to define a <a href="https://sorbet.org/docs/tstruct"><code>T::Struct</code></a> today. Like any good ODM (or ORM), it did type validation at runtime to ensure that database write operations don’t store bad data.</p>
<p>Stripe also had a library for defining interfaces, circa 2013:</p>
<p><img src="https://blog.jez.io/assets/img/chalk-interface-2013-10-15.png"></p>
<p>The idea was that an interface would expose a specific set of required methods. Then you’d box up a value of that interface, like</p>
<div id="cb1"><pre><code><span id="cb1-1">animal <span>=</span> <span>Animal</span><span>.from_instance</span>(<span>Dog</span><span>.new</span>)</span></code></pre></div>
<p>and the library would check that you implemented all the required methods. Also, it prevented calling methods <strong>not</strong> in the interface at runtime. So for example, <code>animal.bark</code> would raise a <code>NoMethodError</code>, because <code>bark</code> isn’t in the public interface of <code>Animal</code>. If you needed to call a <code>Dog</code>-specific method, you’d have to explicitly downcast to a dog:</p>
<div id="cb2"><pre><code><span id="cb2-1">animal<span>.bark</span> <span># 💥</span></span>
<span id="cb2-2"></span>
<span id="cb2-3">dog <span>=</span> <span>Chalk</span><span>::</span><span>Interface</span><span>.dynamic_cast</span>(animal, <span>Dog</span>)</span>
<span id="cb2-4">dog<span>.bark</span>    <span># ✅</span></span></code></pre></div>
<p>If you called <code>dynamic_cast</code> on something that was not a <code>Dog</code>, you get back <code>nil</code>, like how <code>dynamic_cast</code> works in C++.</p>
<p>You should be seeing a pattern here: most of Stripe’s appetite for typing manifested as Ruby DSLs for runtime checking and declaring explicit interfaces. This came to an inflection point in November 2016—almost a year before Sorbet—when Stripe implemented what it called “interface constraints.”</p>
<p><span><label for="sn-1">⊕</label><span>For the Stripe employees playing “spot the anachronism,” this screenshot should have been of a <a href="https://github.com/dropbox/hackpad">Hackpad</a>, but that’s now long gone.</span></span></p>
<figure>
<img src="https://blog.jez.io/assets/img/interface-constraints-proposal-2016-11-08.png" alt="The proposal for declare_method, the earliest predecesor of sig, c.&nbsp;Nov 2016">

</figure>
<p>It was a library for wrapping methods with runtime type checking, mimicking a primitive form of “<a href="https://en.wikipedia.org/wiki/Design_by_contract">design by contract</a>.”<span><label for="sn-2">⊕</label><span>In a recurring theme, there were already libraries for “design by contract” in Ruby, like <a href="https://github.com/egonSchiele/contracts.ruby">contracts.ruby</a>, that Stripe chose not to use. I can’t find mention of them influencing Stripe’s “interface constraints proposal,” but in retrospect I think it was important for Stripe to have control over the evolution of Sorbet’s type syntax.</span></span></p>
<p>This library directly evolved into Sorbet’s <code>sig</code> syntax, and it worked the same way: the library allowed declaring a specification for a method, and then wrapped the following method with runtime type checks.</p>
<p>The proposal mentions maybe one day building static checking for these annotations, but that was mostly hypothetical: runtime checking was the point from the beginning. Ruby is a language all about the neat things you can do at runtime!</p>
<p>Later, this <code>declare_method</code> library gained support for declaring overridable and abstract methods, which let it replace the <code>Chalk::Interface</code> library (so that interfaces could talk about required signatures, not just required methods):</p>
<figure>
<img src="https://blog.jez.io/assets/img/standard_method-2017-10-12.png" alt="Email announcing declare_method → standard_method et al.">

</figure>
<p>Throw in the fact that the JavaScript codebase powering Stripe’s dashboard gained support for static typing in July 2016 (via <a href="https://flow.org/">Flow</a><span><label for="sn-3">⊕</label><span>While researching, I came across the <a href="https://engineering.fb.com/2014/11/18/web/flow-a-new-static-type-checker-for-javascript/">original Flow announcement</a> from 2014, which is interesting in understanding its original design goals.</span></span>), and the stage was set. Desire for Ruby static typing came to a flash point in the first half of 2017. A particular email (which has been lost to the sands of retention) from an influential engineer at Stripe called out the difficulty of making sense of Stripe’s Ruby codebase given its size and evolution, alongside specific, high-profile instances where a static type checker would have eliminated those problems.</p>
<h2 id="the-design-of-a-type-syntax">The design of a type syntax</h2>
<p>The team evaluated various approaches:</p>
<ul>
<li><p>Rewriting to a typed language wouldn’t work: Stripe had almost 2 million lines of Ruby code at the time, and as we’d say at Stripe, “<a href="https://stripe.com/jobs/culture#:~:text=classic%E2%80%9D%20Stripe%20slogans%3A-,We%20haven%E2%80%99t%20won%20yet,-Efficiency%20is%20leverage">we haven’t won yet</a>,” which is a way of saying the work never stops. There’s no time to pause all feature development and rewrite to another language, because that wouldn’t make our users’ lives better.</p></li>
<li><p>There mostly weren’t any existing type checkers for Ruby. There’s a project called <a href="https://github.com/tupl-tufts/rdl">RDL</a>, but it’s kind of a hybrid static+runtime checker. RDL’s “static” checking happens after eagerly loading all the code and using the Ruby VM to do most of the symbol lookup. At the time, eagerly loading all of Stripe’s code (not even asking RDL to check types) took a few minutes—by comparison, the first version of Sorbet ran in a few seconds.</p></li>
<li><p>There was also a project called <a href="https://github.com/typedruby/typedruby">TypedRuby</a>, largely a passion project of an engineer working at GitHub. After a few weeks of evaluation, it seemed that there were enough bugs in the project that fixing them would involve a near complete rewrite of the project anyways.</p></li>
</ul>
<p>So the team decided to write something from scratch, which meant being tasked with designing a type syntax. Let’s look at some approaches.</p>
<h2 id="the-typescript-approach-add-types-on-top-compile-them-away">The TypeScript approach: add types on top, compile them away</h2>
<p>The most obvious approach in retrospect is the approach that has worked spectacularly for TypeScript: build our own syntax, free of any constraints in the source language, and compile it away with a build step.</p>
<p>For Sorbet this would have meant a <strong>massive break with Ruby compatibility</strong>. In the JavaScript world, minifiers, tree shakers, transpilers, and compile-to-JS languages were everywhere. Most developers gave up the “save file, reload page” development paradigm ages before TypeScript became popular: CoffeeScript predated TypeScript by 4 years.</p>
<p>But even today, I’m not aware of a single Ruby codebase of significant size that has a source transform build step that blocks running the tests or reloading the service. Ruby engineers expect to run tests directly and to be able to reload a service immediately after saving a file. Introducing a mandatory build step that blocked running a test would have been a big point of friction.</p>
<p>Even if <em>Stripe</em> was okay self-imposing a build step, it would break virtually all Ruby dev tools. Linters, syntax highlighting, and code formatting would break. Observability tools would show backtraces in the wrong spots, because the Ruby VM doesn’t have source mapping. IDEs like RubyMine would fall back to being text editors.</p>
<p>Let’s say we built all those tools, too. We wanted to open source Sorbet one day: this was a top-line goal right in the project brief. If anyone were ever to adopt Sorbet, it would need to be gradual: to not require fundamentally reworking how the codebase builds, tests, and deploys code just to try it out. Adopting a build step is a huge “all or nothing” decision for a codebase.</p>

<p>If we can’t change the source syntax, maybe we make our own syntax for declaring types? Every source file could be paired with a kind of “header” type definition file that declares the types.</p>
<p>Basically all gradual languages end up supporting this anyways: TypeScript has <code>*.d.ts</code>, Python has <code>*.pyi</code>. Sorbet has <code>*.rbi</code> files, and Ruby eventually shipped <code>*.rbs</code>. You need these files to declare types for files completely outside your control: third-party gems, things defined in native extensions, etc.</p>
<p>The problem is that they’re only half of a solution: even if you use RBS files to annotate methods, you’ll still need <strong>explicit type casts</strong> inside method bodies. RBS files alone don’t have a way to say, “trust me, right here I know that this variable is an <code>Integer</code>.”</p>
<p>I will say: the nice thing about this approach is that you’re free to choose a syntax that’s as clean as you want: it’s a blank slate on type syntax design, with virtually zero constraints, even more blank than the transpiler approach. We’ll come back to this later.</p>

<p>If the types needs to be in the source, and we can’t change the syntax, maybe we’ll invent our own syntax in comments? Google’s Closure Compiler chose this strategy well before TypeScript appeared, and Ruby already had a history of comment-based type annotations via tools like YARD. Sorbet could have formalized a rigid type-based comment syntax, and used that for both method signatures and inline type casts.</p>
<p>But here we return to the issue of runtime checking: Stripe engineers were asking for <strong>static and runtime type checking</strong>, not static instead of runtime!</p>
<p>You get a lot for free if you decorate a method with runtime checking, most important being the guarantee that no one can <a href="https://www.hyrumslaw.com/">Hyrum’s Law</a> your method:</p>
<blockquote>
<p>With a sufficient number of users of an API,<br>
it does not matter what you promise in the contract:<br>
all observable behaviors of your system<br>
will be depended on by somebody.</p>
</blockquote>
<p>Consider code like this:</p>
<div id="cb3"><pre><code><span id="cb3-1"><span>def</span> get_mcc(charge, merchant)</span>
<span id="cb3-2">  <span>return</span> charge<span>.mcc</span> <span>if</span> charge</span>
<span id="cb3-3">  merchant<span>.default_mcc</span></span>
<span id="cb3-4"><span>end</span></span></code></pre></div>
<p>If <code>charge</code> is non-<code>nil</code>, we return early before checking whether <code>merchant</code> is <code>nil</code> or not. Now suppose we need to edit the method to implement a new “merchant override MCC” feature:</p>
<div id="cb4"><pre><code><span id="cb4-1"><a href="#cb4-1"></a><span>def</span> get_mcc(charge, merchant)</span>
<span id="cb4-2"><a href="#cb4-2"></a>  override <span>=</span> merchant<span>.override_mcc</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>  <span>return</span> override <span>if</span> override</span>
<span id="cb4-4"><a href="#cb4-4"></a></span>
<span id="cb4-5"><a href="#cb4-5"></a>  <span>return</span> charge<span>.mcc</span> <span>if</span> charge</span>
<span id="cb4-6"><a href="#cb4-6"></a>  merchant<span>.default_mcc</span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span>end</span></span></code></pre></div>
<p>This new override is meant to take precedence over any “MCC” on a charge. Is this change safe? Callers were supposed to be passing in a non-<code>nil</code> merchant into this method, but maybe some weren’t? If we aren’t sure, now we have to be defensive, which is annoying and maybe causes other problems!</p>
<p>But this problem vanishes when making a changes in methods with runtime-checked signatures.</p>
<div id="cb5"><pre><code><span id="cb5-1"><a href="#cb5-1"></a>sig <span>{</span> params(<span>charge:</span> <span>Charge</span>, <span>merchant:</span> <span>Merchant</span>)<span>.returns</span>(<span>MCC</span>) <span>}</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span>def</span> get_mcc(charge, merchant)</span>
<span id="cb5-3"><a href="#cb5-3"></a>  override <span>=</span> merchant<span>.override_mcc</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>  <span>return</span> override <span>if</span> override</span>
<span id="cb5-5"><a href="#cb5-5"></a></span>
<span id="cb5-6"><a href="#cb5-6"></a>  <span>return</span> charge<span>.mcc</span> <span>if</span> charge</span>
<span id="cb5-7"><a href="#cb5-7"></a>  merchant<span>.default_mcc</span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span>end</span></span></code></pre></div>
<p>If the signature says it’s non-<code>nil</code>, we can rely on that invariant throughout the method body, in all conditionals. Adding a new call to <code>merchant.override_mcc</code> cannot cause <em>net new</em> uncaught <code>NoMethodError</code> exceptions as long as the method already had a runtime-checked <code>sig</code>. In a growing codebase with changes from hundreds of people, runtime checking ensures code remains flexible without fear.</p>
<p>A comment-based approach to type syntax would have meant giving up on runtime-checked signatures. Again: runtime checking is a unique strength of Ruby’s dynamism!</p>
<h2 id="the-dsl-approach-declare_method-becomes-sig">The DSL approach: <code>declare_method</code> becomes <code>sig</code></h2>
<p>The approach that Sorbet picked was to repurpose Stripe’s <code>declare_method</code> DSL. As a benefit, it meant that the project immediately gained thousands of trustworthy annotations to use as a proving ground for the implementation.</p>
<p>Before we dive into specific considerations for the DSL approach, I want to take a second to marvel at the fact that this approach even works at all. It’s wild, isn’t it? Decorate a method with a single line—in a language that doesn’t have first-class decorators!—and the following method gets runtime checking. You can try to approximate this with higher-order functions in JavaScript, but it doesn’t look anywhere near as good.</p>
<p>At the same time that <code>declare_method</code> shortened to <code>sig</code>, type syntax shortened from things like <code>Opus::Types.any(NilClass, String)</code> to just <code>T.nilable(String)</code>.</p>
<p>The specific syntax that <code>sig</code> uses evolved a handful of times<span><label for="sn-4">⊕</label><span>Truly, while I was researching this topic, I found so many wacky old syntaxes, far too many for this post. If you want the details feel free to ask me.</span></span> and I want to talk about those changes, but not before considering one final approach.</p>
<h2 id="the-python-approach-first-party-type-hints">The Python approach: first-party type hints</h2>
<p>Support for typing in Python went differently. Way back in 2007, a proposal for “<a href="https://peps.python.org/pep-3107/">Function Annotations</a>” was accepted:</p>
<div id="cb6"><pre><code><span id="cb6-1"><span>def</span> foo(a: expression, b: expression <span>=</span> <span>5</span>):</span>
<span id="cb6-2">    ...</span></code></pre></div>
<p>The idea was that annotations would be completely devoid of meaning, so that various tools could ascribe their own. As in: you could stash arbitrary strings there and use them for documentation, or you could put class names there and use them as types, etc. Even at the time it was accepted, people were <a href="https://mail.python.org/pipermail/python-ideas/2007-January/000032.html">already discussing</a> interoperability of various project’s annotations, and eventually in 2015 a follow up proposal formalized <a href="https://peps.python.org/pep-0484/">Type Hints</a>, saying essentially, “You don’t have to use Function Annotations for types, but if you’re going to, you should follow these conventions for what the types mean.”</p>
<p>The annotations play to the strengths of Python as a dynamic, runtime-focused language. They’re not static-only annotations that get compiled away like TypeScript: they’re present at runtime via the <code>__annotations__</code> property, and annotations can evaluate arbitrary code! The Python VM does not use them for runtime checking, but <a href="https://docs.pydantic.dev/latest/concepts/validation_decorator/">multiple</a>, <a href="https://typeguard.readthedocs.io/en/latest/">third-party</a> <a href="https://beartype.readthedocs.io/en/latest/">libraries</a> provide decorators that do.</p>
<p>For Python, this approach has a lot going for it:</p>
<ul>
<li>It’s a first class syntax that feels at home with other parts of the language’s syntax.</li>
<li>Individual projects can choose whether they want runtime checks or not.</li>
<li>The annotations are always present at runtime for third-party tools to consume them directly.</li>
</ul>
<p>The obvious downside is that it requires a change to the VM. In the planning phase of Sorbet, it would have been a non-starter to ask the Ruby team to invent syntax for us.</p>
<p>… but if you squint, Sorbet’s DSL approach is almost the same as this type hint approach!</p>
<ul>
<li>Both treat annotations as completely optional.</li>
<li>Both treat annotations as runnable syntax, allowing the full flexibility of the language.</li>
<li>Both allow for optional static and optional runtime checking.</li>
<li>Both provide a reflection API to get the annotations at runtime.</li>
</ul>
<p>The biggest difference is just the syntax—both offer the <strong>semantics</strong> that we need! When Sorbet started with the DSL approach, a selling point was that it would be easy to migrate to a blessed, upstream type hint approach if that ever became an option.</p>
<p>The type hint approach has unfortunately stalled for Ruby. I have more thoughts on this, but for now let’s keep retracing the evolution of Sorbet’s DSL syntax.</p>
<h2 id="types-are-expressions">Types are expressions</h2>
<p>Both the DSL approach and the type hint approach share the feature that types are expressions. This leads to three big constraints on the design of a syntax.</p>
<h2 id="when-the-syntax-we-want-is-taken">When the syntax we want is taken</h2>
<p>When types are expressions, sometimes type syntax you want already has another meaning.</p>
<p>It would be really nice to use <code>|</code> for union types, <code>&amp;</code> for intersection types, and <code>[]</code> for generic types, directly on class or module names:</p>
<div id="cb7"><pre><code><span id="cb7-1"><span>Integer</span> <span>|</span> <span>String</span>         <span># Module#|</span></span>
<span id="cb7-2"><span>Runnable</span> <span>&amp;</span> <span>HasOwner</span>      <span># Module#&amp;</span></span>
<span id="cb7-3"><span>Box</span><span>[</span><span>Integer</span><span>]</span>             <span># Module#[]</span></span></code></pre></div>
<p>There are two problems:</p>
<ul>
<li><p>It would involve monkey patching <code>Module</code>, which would be controversial, and thus need to be opt-in: this syntax could not be the sole accepted syntax.</p></li>
<li><p>Some singleton classes may already define these methods. <code>Array</code> and <code>Set</code> are examples from the standard library:</p>
<div id="cb8"><pre><code><span id="cb8-1"><span>Array</span><span>[</span><span>1</span>, <span>2</span>, <span>3</span><span>]</span>           <span># Array.[]</span></span>
<span id="cb8-2"><span># =&gt; [1, 2, 3]</span></span>
<span id="cb8-3"></span>
<span id="cb8-4"><span>Set</span><span>[</span><span>1</span>, <span>2</span>, <span>3</span><span>]</span>             <span># Set.[]</span></span>
<span id="cb8-5"><span># =&gt; #&lt;Set: {1, 2, 3}&gt;</span></span></code></pre></div>
<p>So <code>Array[Integer]</code> would not make a generic type, but rather a length 1 array: <code>[Integer]</code>.<span><label for="sn-5">⊕</label><span>While we’re in the realm of the wacky, we could have “block-scoped” monkey patches where we replace the meaning of certain methods when evaluating the <code>sig</code> block to make this work, but the earlier point stands: some people won’t want that.</span></span></p></li>
</ul>
<p>Something similar comes up for tuples: the <code>|</code> and <code>&amp;</code> methods already mean something for Arrays:</p>
<div id="cb9"><pre><code><span id="cb9-1"><span>[</span><span>1</span>, <span>3</span>, <span>5</span><span>]</span> <span>|</span> <span>[</span><span>2</span>, <span>4</span>, <span>6</span><span>]</span>    <span># Array#|</span></span>
<span id="cb9-2"><span># =&gt; [1, 3, 5, 2, 4, 6]</span></span>
<span id="cb9-3"></span>
<span id="cb9-4"><span>[</span><span>1</span>, <span>2</span>, <span>3</span><span>]</span> <span>&amp;</span> <span>[</span><span>2</span>, <span>3</span>, <span>4</span><span>]</span>    <span># Array#&amp;</span></span>
<span id="cb9-5"><span># =&gt; [2, 3]</span></span></code></pre></div>
<p>In this case, it might be easier to abandon using raw <code>Array</code> literals for tuples, and instead use a syntax like <code>T[Integer, String]</code> to define a tuple, freeing up <code>|</code> and <code>&amp;</code>.</p>
<p>While building Sorbet, our goal was to have one way to do things, for consistency. Maybe it’s time to relax that? If Ruby is okay having three names for filtering a list, maybe Sorbet can be okay having more than one way to specify union types. We could let individual codebases decide which syntax they want to use.</p>
<h2 id="forward-references">Forward references</h2>
<p>When types are expressions, you have to worry about forward references in type syntax. The evolution of the DSL syntax looked like this:</p>
<div id="cb10"><pre><code><span id="cb10-1">declare_method(<span>{</span><span>x:</span> <span>Integer</span><span>}</span>, <span>returns:</span> <span>String</span>)</span>
<span id="cb10-2"></span>
<span id="cb10-3">standard_method(<span>{</span><span>x:</span> <span>Integer</span><span>}</span>, <span>returns:</span> <span>String</span>)</span>
<span id="cb10-4"></span>
<span id="cb10-5">sig<span>.params</span>(<span>x:</span> <span>Integer</span>)<span>.returns</span>(<span>String</span>)</span>
<span id="cb10-6"></span>
<span id="cb10-7">sig <span>{</span> params(<span>x:</span> <span>Integer</span>)<span>.returns</span>(<span>String</span>) <span>}</span></span></code></pre></div>
<p>The most recent change switched to specifying types inside a block, which was done so that adding a <code>sig</code> wouldn’t cause load-order problems. For example:</p>
<div id="cb11"><pre><code><span id="cb11-1"><a href="#cb11-1"></a><span>class</span> <span>A</span></span>
<span id="cb11-2"><a href="#cb11-2"></a>  sig<span>.params</span>(<span>x:</span> <span>MyData</span>)<span>.void</span></span>
<span id="cb11-3"><a href="#cb11-3"></a>  <span>def</span> <span>self</span><span>.example</span>(my_data)</span>
<span id="cb11-4"><a href="#cb11-4"></a>    <span>puts</span>(my_data<span>.foo</span>)</span>
<span id="cb11-5"><a href="#cb11-5"></a>  <span>end</span></span>
<span id="cb11-6"><a href="#cb11-6"></a></span>
<span id="cb11-7"><a href="#cb11-7"></a>  <span>MyData</span> <span>=</span> <span>Struct</span><span>.new</span>(<span>:foo</span>)</span>
<span id="cb11-8"><a href="#cb11-8"></a><span>end</span></span>
<span id="cb11-9"><a href="#cb11-9"></a></span>
<span id="cb11-10"><a href="#cb11-10"></a><span>A</span><span>.example</span>(<span>MyData</span><span>.new</span>(<span>42</span>))</span></code></pre></div>
<p>There’s no problem loading this file, until you add a <code>sig</code> (pictured using the old, eager syntax). Even though the <code>MyData#foo</code> method is called on line 4, above its definition on line 7, that doesn’t matter because <code>example</code> isn’t called until line 10.</p>
<p>But adding the <code>sig</code> breaks that: there’s now a forward reference to <code>MyData</code> which the sig evaluates eagerly, causing an exception at load time. This kept causing problems as people added more <code>sig</code>’s. The problem was worse because of autoloading: in development everything might have looked fine, because you only evaluated things in a certain order, but then in CI or production things loading in a different order would bite you.</p>
<p>Hiding all the types inside a block switches signatures from evaluating eagerly to lazily: the runtime implementation defers forcing the block until the first call of the method. These days, you basically only get a load-order issue if the code already had a load order issue.</p>
<p>It’s interesting to point out that Python type hints went through a very similar growing pain, and in newer versions of Python you can write:</p>
<div id="cb12"><pre><code><span id="cb12-1"><span>from</span> __future__ <span>import</span> annotations</span></code></pre></div>
<p>to convert type hints from being evaluated eagerly to lazily. The <a href="https://peps.python.org/pep-0649/">proposal introducing it</a> is very well written and has a great summary of the history and problems.</p>
<h2 id="sometimes-you-really-want-custom-syntax">Sometimes you really want custom syntax</h2>
<p>When types are expressions, you’re limited by what’s valid Ruby syntax. There’s a lot of alternative syntaxes that would be really nice for type syntax:</p>
<ul>
<li><code>Integer?</code> instead of <code>T.nilable(Integer)</code></li>
<li><code>(Integer) -&gt; String</code> instead of <code>T.proc.params(arg0: Integer).returns(String)</code></li>
<li><code>|</code> and <code>&amp;</code> without monkey patches</li>
</ul>
<p>The other approaches (transpiler, RBS files, documentation comments) don’t have this limitation: with those approaches you’re free to pick any syntax you want.</p>
<p>There’s a lot that can still be done while operating under the “types as expressions” constraint, but there’s no denying that if you give that up, you can get some really terse type syntaxes.</p>
<h2 id="where-we-go-from-here">Where we go from here</h2>
<p>What’s next for Sorbet’s type syntax? We’ve learned a bunch of constraints in the design space:</p>
<ul>
<li>It can’t break compatibility with Ruby, or no one will use it.</li>
<li>We need a syntax that works for runtime checking too, because Ruby is a runtime-focused language at its core.</li>
<li>There’s only so far you can go with “types as expressions,” but we could probably go a little further with optional monkey patches.</li>
<li>Adding a signature can’t cause code to load out of its usual order.</li>
</ul>
<p>So this leads to a few next steps:</p>
<ul>
<li>Probably we should build opt-in support for syntax that requires monkey patches?</li>
<li>We can think about some backwards-incompatible changes, like to how tuple types are declared.</li>
<li>We can think about making some super-verbose things (like generic methods) less verbose.</li>
</ul>
<p>But I want to suggest one more option, which is a bit more radical: what if the Ruby VM parsed RBS comments and associated them with method definitions?</p>
<div id="cb13"><pre><code><span id="cb13-1"><span>class</span> <span>A</span></span>
<span id="cb13-2">  <span>#: (Integer) -&gt; String</span></span>
<span id="cb13-3">  <span>def</span> <span>self</span><span>.foo</span>(x)</span>
<span id="cb13-4">  <span>end</span></span>
<span id="cb13-5"><span>end</span></span></code></pre></div>
<p>Soutaro introduced this comment-based syntax for RBS <a href="https://youtu.be/26sbpaGbU-0?t=1143">at RubyKaigi in 2024</a>. It’s a syntax that both Steep and TypeProf understand, and that Sorbet is gaining support for. Right now it’s just in comments… but what if the Ruby VM actually parsed these comments and exposed them at runtime?</p>
<div id="cb14"><pre><code><span id="cb14-1"><span>A</span><span>.method</span>(<span>:foo</span>)<span>.rbs_annotation</span></span>
<span id="cb14-2"><span>A</span><span>.rbs_annotation</span>(<span>:foo</span>)</span></code></pre></div>
<p>If RBS comments were exposed by the Ruby VM like this, it wouldn’t force people to choose between Ruby’s elegant RBS syntax and Sorbet’s powerful runtime type checking.</p>
<p>It also solves some of the problems with “types as expressions,” because types wouldn’t be expressions anymore: the Ruby VM would choose how to parse these annotations, meaning that we still get terse syntax, able to use <code>|</code> and <code>[]</code> free of other constraints. It would also fix the forward reference problem because the VM wouldn’t be evaluating these comments, just parsing them for other tools to consume. Those tools might attempt to resolve constant names, but that’s up to each tool to figure out when and how to do that.</p>
<p>Having RBS annotations available at runtime would be useful for more than just Sorbet:</p>
<ul>
<li>IRB could use these annotations to show completion results, without having to parse RBS comments separately and associate them with the methods.</li>
<li>Gems could get creative with how they use it. For example, you could imagine a JSON Schema library where the schemas are defined by collecting all the type hints in a <code>Struct</code> or <code>Data</code> class.</li>
<li>Linters could piggy back off the Ruby VM’s parser and be able to pass along the parsed RBS annotations to custom linter rules, so that lint rules don’t have to parse the annotations themselves.</li>
</ul>
<p>Given that it starts from a comment-based syntax, you could still make it be optional, something that doesn’t affect you at all unless you want it to.</p>
<p>This solution isn’t a silver bullet: it wouldn’t do anything for <code>T.let</code> assertions where you want to make an assertion for a specific value at runtime, but it’s a great start!</p>
<p>In the end, all I’m trying to say is: we don’t have to think of Sorbet’s syntax as “done.” Even if Ruby never adds support for type hints, we can keep improving Sorbet. But also it’s an exciting time for type annotations in Ruby itself, and I remain optimistic for the future of the wider Ruby typing ecosystem.</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Entire BART system is down due to computer systems failure (179 pts)]]></title>
            <link>https://www.bart.gov/</link>
            <guid>43937242</guid>
            <pubDate>Fri, 09 May 2025 14:33:49 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.bart.gov/">https://www.bart.gov/</a>, See on <a href="https://news.ycombinator.com/item?id=43937242">Hacker News</a></p>
<div id="readability-page-1" class="page"><div region="navigation">
        
                                <li>
          <a href="https://www.bart.gov/schedules" title="Schedules" tabindex="1">
            <span>Schedules</span>
            <span></span>          </a>

                                            <div>
                              <ul>
        
                                <li>
          <a href="https://www.bart.gov/schedules" title="Schedules">
            <span>Schedules</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/schedules/eta" title="Real Time Departures">
            <span>Real Time Departures</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/schedules/pdfs" title="Line Schedule Timetables">
            <span>Line Schedule Timetables</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/transit/transfers" title="Caltrain Transfer Timetables">
            <span>Caltrain Transfer Timetables</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/planner" title="Trip Planner">
            <span>Trip Planner</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/schedules/advisories" title="Alerts and Advisories">
            <span>Alerts and Advisories</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/schedules/early-bird-express" title="Early Bird Express">
            <span>Early Bird Express</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/transit/capitol-corridor-transfers" title="Capitol Corridor Transfer Timetables">
            <span>Capitol Corridor Transfer Timetables</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/schedules/weather" title="Weather Guide">
            <span>Weather Guide</span>
                      </a>

                            </li>
              </ul>
  
                                  



<div>
  <p><img alt="Plan Your Trip" src="https://www.bart.gov/themes/custom/bart/assets/images/icon-menu/icon-menu-location.svg">
  </p>
  
</div>
                              </div>
                  </li>
          
                                <li>
          <a href="https://www.bart.gov/stations" title="Stations" tabindex="1">
            <span>Stations</span>
            <span></span>          </a>

                                            <div>
                              <ul>
        
                                <li>
          <a href="https://www.bart.gov/stations" title="Stations">
            <span>Stations</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/system-map" title="System Map">
            <span>System Map</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/stations/elevators" title="Elevator Status">
            <span>Elevator Status</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/stations/escalators" title="Escalator Status">
            <span>Escalator Status</span>
                      </a>

                            </li>
              </ul>
  
                                  



<div>
  <p><img alt="Station Details" src="https://www.bart.gov/themes/custom/bart/assets/images/icon-menu/icon-menu-arrows.svg">
  </p>
  
</div>
                              </div>
                  </li>
          
                                <li>
          <a href="https://www.bart.gov/guide" title="Using BART" tabindex="1">
            <span>Using BART</span>
            <span></span>          </a>

                                            <div>
                              <ul>
        
                                <li>
          <a href="https://www.bart.gov/guide" title="Using BART">
            <span>Using BART</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/apps" title="BART Apps">
            <span>BART Apps</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/parking" title="Parking">
            <span>Parking</span>
            <span></span>          </a>

                                            <div>
                              <ul>
        
                                <li>
          <a href="https://www.bart.gov/guide/parking" title="Parking Overview">
            <span>Parking Overview</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/parking/citations" title="Parking Citations">
            <span>Parking Citations</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/parking/carpool" title="Carpool to BART">
            <span>Carpool to BART</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/parking/electric-vehicle" title="Electric Vehicle (EV)">
            <span>Electric Vehicle (EV)</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/parking/pricing" title="Parking Pricing">
            <span>Parking Pricing</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/parking/faq" title="Parking FAQ">
            <span>Parking FAQ</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/parking/payment" title="Pay By App">
            <span>Pay By App</span>
                      </a>

                            </li>
              </ul>
  
                              </div>
                  </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/airport/sfo" title="Airport Connections">
            <span>Airport Connections</span>
            <span></span>          </a>

                                            <div>
                              <ul>
        
                                <li>
          <a href="https://www.bart.gov/guide/airport/sfo" title="San Francisco International Airport (SFO)">
            <span>San Francisco International Airport (SFO)</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/airport/oak" title="Oakland International Airport (OAK)">
            <span>Oakland International Airport (OAK)</span>
                      </a>

                            </li>
              </ul>
  
                              </div>
                  </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/transit" title="Transit Connections">
            <span>Transit Connections</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/bikes" title="Bikes on BART">
            <span>Bikes on BART</span>
            <span></span>          </a>

                                            <div>
                              <ul>
        
                                <li>
          <a href="https://www.bart.gov/guide/bikes" title="Bikes on BART">
            <span>Bikes on BART</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/bikes/bikeFAQ" title="Bike FAQ">
            <span>Bike FAQ</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/bikes/bikeRules" title="Bike Rules">
            <span>Bike Rules</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/bod/advisory/bicycle" title="Bike Task Force">
            <span>Bike Task Force</span>
                      </a>

                            </li>
              </ul>
  
                              </div>
                  </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/holidays" title="Holiday Schedule">
            <span>Holiday Schedule</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/social-resources" title="Social Resources">
            <span>Social Resources</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/epamd" title=" Electric Personal Assistive Mobility Devices Program (EPAMD)">
            <span> Electric Personal Assistive Mobility Devices Program (EPAMD)</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/accessibility" title="Accessibility">
            <span>Accessibility</span>
            <span></span>          </a>

                                            <div>
                              <ul>
        
                                <li>
          <a href="https://www.bart.gov/guide/accessibility" title="Accessibility Overview">
            <span>Accessibility Overview</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/stations/elevators" title="Elevator Status">
            <span>Elevator Status</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/accessibility/paratransit" title="Paratransit">
            <span>Paratransit</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/accessibility/RTC" title="Regional Transit Connection (RTC) Card">
            <span>Regional Transit Connection (RTC) Card</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/bod/advisory/accessibility" title="BART Accessibility Task Force">
            <span>BART Accessibility Task Force</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/accessibility/contacts" title="Accessibility Contacts">
            <span>Accessibility Contacts</span>
                      </a>

                            </li>
              </ul>
  
                              </div>
                  </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/faq" title="FAQs">
            <span>FAQs</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/lostandfound" title="Lost &amp; Found">
            <span>Lost &amp; Found</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/safety" title="Safety &amp; Security">
            <span>Safety &amp; Security</span>
            <span></span>          </a>

                                            <div>
                              <ul>
        
                                <li>
          <a href="https://www.bart.gov/guide/safety" title="Security on BART">
            <span>Security on BART</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/safety/gbv" title="Addressing Gender Based Violence">
            <span>Addressing Gender Based Violence</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/safety/safety" title="Injury Prevention">
            <span>Injury Prevention</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/safety/power" title="Public Safety Power Shutoffs (PSPS)">
            <span>Public Safety Power Shutoffs (PSPS)</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/safety/earthquake" title="Earthquake Safety">
            <span>Earthquake Safety</span>
                      </a>

                            </li>
              </ul>
  
                              </div>
                  </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/titlevi" title="Title VI">
            <span>Title VI</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/pets" title="Service Animals/Pets">
            <span>Service Animals/Pets</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/wireless" title="Wireless Connections">
            <span>Wireless Connections</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/brochures" title="Brochures">
            <span>Brochures</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/restrooms" title="Restrooms at BART">
            <span>Restrooms at BART</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/safe-and-clean" title="Safe &amp; Clean Plan">
            <span>Safe &amp; Clean Plan</span>
                      </a>

                            </li>
              </ul>
  
                                  



<div>
  <p><img alt="Bikes are Welcome" src="https://www.bart.gov/themes/custom/bart/assets/images/icon-menu/icon-menu-bike.svg">
  </p>
  <div>
    <h2>Bikes are Welcome</h2>
    <p>Just follow a few simple rules when taking your bike on BART</p>
    <p><a href="https://www.bart.gov/bikes" tabindex="0">Read More</a>
  </p></div>
</div>
                              </div>
                  </li>
          
                                <li>
          <a href="https://www.bart.gov/tickets" title="Fares" tabindex="1">
            <span>Fares</span>
            <span></span>          </a>

                                            <div>
                              <ul>
        
                                <li>
          <a href="https://www.bart.gov/tickets" title="Fares and Pay by Phone">
            <span>Fares and Pay by Phone</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/tickets/clippercustomerservice" title="Clipper Customer Service">
            <span>Clipper Customer Service</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/tickets/sales" title="Purchasing and Group Sales">
            <span>Purchasing and Group Sales</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/tickets/discounts" title="Discounts">
            <span>Discounts</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/tickets/benefits" title="Tax Benefits">
            <span>Tax Benefits</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/tickets/calculator" title="Fare Calculator">
            <span>Fare Calculator</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/tickets/sales/refunds" title="Refunds">
            <span>Refunds</span>
                      </a>

                            </li>
              </ul>
  
                                  



<div>
  <p><img alt="How Much is Your Fare?" src="https://www.bart.gov/themes/custom/bart/assets/images/icon-menu/icon-menu-fares.svg">
  </p>
  
</div>
                              </div>
                  </li>
          
                                <li>
          <a href="https://www.bart.gov/news/articles" title="News" tabindex="1">
            <span>News</span>
            <span></span>          </a>

                                            <div>
                              <ul>
        
                                <li>
          <a href="https://www.bart.gov/news/articles" title="News">
            <span>News</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/news/specials" title="Fun Stuff">
            <span>Fun Stuff</span>
            <span></span>          </a>

                                            <div>
                              <ul>
        
                                <li>
          <a href="https://www.bart.gov/news/fun" title="Fun Stuff">
            <span>Fun Stuff</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/news/specials/machines" title="The Machines of BART">
            <span>The Machines of BART</span>
                      </a>

                            </li>
              </ul>
  
                              </div>
                  </li>
          
                                <li>
          <a href="https://www.bart.gov/podcasts" title="Podcasts">
            <span>Podcasts</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/news/media-resources" title="Media Resources">
            <span>Media Resources</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/news/alerts" title="News Alerts">
            <span>News Alerts</span>
            <span></span>          </a>

                                            <div>
                              <ul>
        
                                <li>
          <a href="https://www.bart.gov/news/alerts" title="Email and Text Subscriptions">
            <span>Email and Text Subscriptions</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/schedules/eta" title="Real Time Departure">
            <span>Real Time Departure</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/schedules/advisories" title="Active Service Alert">
            <span>Active Service Alert</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/guide/apps" title="BART Apps">
            <span>BART Apps</span>
                      </a>

                            </li>
              </ul>
  
                              </div>
                  </li>
          
                                <li>
          <a href="https://www.bart.gov/news/rss" title="RSS Feeds">
            <span>RSS Feeds</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://bartable.bart.gov/" title="BARTable">
            <span>BARTable</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.youtube.com/BARTable" title="BART TV">
            <span>BART TV</span>
                      </a>

                            </li>
              </ul>
  
                                  



<div>
  <p><img alt="News Alerts" src="https://www.bart.gov/themes/custom/bart/assets/images/icon-menu/icon-menu-news.svg">
  </p>
  <div>
    <h2>News Alerts</h2>
    <p>Stay up-to-date with News Alerts sent by email or text</p>
    <p><a href="https://www.bart.gov/signup" tabindex="0">Sign Up</a>
  </p></div>
</div>
                              </div>
                  </li>
          
                                <li>
          <a href="https://www.bart.gov/about" title="About" tabindex="1">
            <span>About</span>
            <span></span>          </a>

                                            <div>
                              <ul>
        
                                <li>
          <a href="https://www.bart.gov/about" title="About">
            <span>About</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/bod" title="Board of Directors">
            <span>Board of Directors</span>
            <span></span>          </a>

                                            <div>
                              <ul>
        
                                <li>
          <a href="https://www.bart.gov/about/bod" title="Board of Directors">
            <span>Board of Directors</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/bod/meetings" title="Agenda &amp; Minutes">
            <span>Agenda &amp; Minutes</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/bod/advisory" title="Advisory Committees">
            <span>Advisory Committees</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/bod/multimedia" title="Meeting Video">
            <span>Meeting Video</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://cloud.info.bart.gov/signup" title="Meeting Notices Via Email">
            <span>Meeting Notices Via Email</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/sites/default/files/docs/2020%20advmtg%20for%20bart.gov_.pdf" title="2020 Board Meeting Schedule (PDF)">
            <span>2020 Board Meeting Schedule (PDF)</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/sites/default/files/docs/Board_Meeting_Rules_Notice_57.pdf" title="Public Participation at Meetings (PDF)">
            <span>Public Participation at Meetings (PDF)</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/bod/policies" title="Board Adopted Policies">
            <span>Board Adopted Policies</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/bod/elections" title="Director Elections">
            <span>Director Elections</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/bod/legislative-advocacy" title="Legislative Advocacy">
            <span>Legislative Advocacy</span>
                      </a>

                            </li>
              </ul>
  
                              </div>
                  </li>
          
                                <li>
          <a href="https://www.bart.gov/about/gm" title="General Manager">
            <span>General Manager</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/financials" title="Financials">
            <span>Financials</span>
            <span></span>          </a>

                                            <div>
                              <ul>
        
                                <li>
          <a href="https://www.bart.gov/about/financials/archive" title="Budget Archive">
            <span>Budget Archive</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/financials/crisis" title="Financial Crisis">
            <span>Financial Crisis</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/financials/grants" title="BART Grants">
            <span>BART Grants</span>
                      </a>

                            </li>
              </ul>
  
                              </div>
                  </li>
          
                                <li>
          <a href="https://www.bart.gov/about/reports" title="Reports">
            <span>Reports</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/inspector-general" title="Inspector General">
            <span>Inspector General</span>
            <span></span>          </a>

                                            <div>
                              <ul>
        
                                <li>
          <a href="https://www.bart.gov/about/inspector-general" title="Inspector General">
            <span>Inspector General</span>
                      </a>

                            </li>
              </ul>
  
                              </div>
                  </li>
          
                                <li>
          <a href="https://www.bart.gov/about/history/facts" title="Facts &amp; History">
            <span>Facts &amp; History</span>
            <span></span>          </a>

                                            <div>
                              <ul>
        
                                <li>
          <a href="https://www.bart.gov/about/history/facts" title="Facts &amp; History">
            <span>Facts &amp; History</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/history/history_film" title="Historical Films">
            <span>Historical Films</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/sites/default/files/docs/BARTtimeline_0820%2520FINAL.pdf" title="Historical Timeline (PDF)">
            <span>Historical Timeline (PDF)</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/history/facts" title="System Facts">
            <span>System Facts</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/history/cars" title="Car Types">
            <span>Car Types</span>
                      </a>

                            </li>
              </ul>
  
                              </div>
                  </li>
          
                                <li>
          <a href="https://www.bart.gov/about/projects" title="Projects &amp; Plans">
            <span>Projects &amp; Plans</span>
            <span></span>          </a>

                                            <div>
                              <ul>
        
                                <li>
          <a href="https://www.bart.gov/about/projects" title="Projects &amp; Plans">
            <span>Projects &amp; Plans</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/rebuilding" title="System Rebuilding">
            <span>System Rebuilding</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/projects/cars" title="New BART Train Cars">
            <span>New BART Train Cars</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/projects/traincontrol" title="Train Control Modernization">
            <span>Train Control Modernization</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/projects/hmc" title="Hayward Maintenance Complex">
            <span>Hayward Maintenance Complex</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/planning" title="Planning">
            <span>Planning</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/planning/station" title="Station Modernization">
            <span>Station Modernization</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/business/tod" title="Transit-Oriented Development (TOD)">
            <span>Transit-Oriented Development (TOD)</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/projects/eqs" title="Earthquake Safety">
            <span>Earthquake Safety</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/project/silicon-valley-extension" title="Silicon Valley Extension">
            <span>Silicon Valley Extension</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/projects/corecapacity" title="Transbay Capacity Relief">
            <span>Transbay Capacity Relief</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/projects/fare-gate" title="New Fare Gates">
            <span>New Fare Gates</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/projects/legacy" title="Legacy Fleet Decommissioning">
            <span>Legacy Fleet Decommissioning</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/projects/wsx" title="Future Irvington Station">
            <span>Future Irvington Station</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/planning/region" title="Role In The Region">
            <span>Role In The Region</span>
                      </a>

                            </li>
              </ul>
  
                              </div>
                  </li>
          
                                <li>
          <a href="https://www.bart.gov/about/police" title="BART Police">
            <span>BART Police</span>
            <span></span>          </a>

                                            <div>
                              <ul>
        
                                <li>
          <a href="https://www.bart.gov/about/police" title="BART Police">
            <span>BART Police</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/police/people" title="People of BART PD">
            <span>People of BART PD</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/police/news" title="Latest News">
            <span>Latest News</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/police/zones" title="Know Your Zone">
            <span>Know Your Zone</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/police/bartwatch" title="BART Watch App">
            <span>BART Watch App</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/police/employment" title="Employment">
            <span>Employment</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/police/howto" title="How To">
            <span>How To</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/police/reports" title="Policy &amp; Reports">
            <span>Policy &amp; Reports</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/police/proofofpayment" title="Proof of Payment">
            <span>Proof of Payment</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/police/contact" title="Contact BART Police">
            <span>Contact BART Police</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/police/reform" title="Reforms to Date">
            <span>Reforms to Date</span>
                      </a>

                            </li>
              </ul>
  
                              </div>
                  </li>
          
                                <li>
          <a href="https://www.bart.gov/about/policeauditor" title="Office of the Independent Police Auditor">
            <span>Office of the Independent Police Auditor</span>
            <span></span>          </a>

                                            <div>
                              <ul>
        
                                <li>
          <a href="https://www.bart.gov/about/policeauditor" title="Office Of The Independent Police Auditor">
            <span>Office Of The Independent Police Auditor</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/policeauditor/recommendations" title="OIPA Recommendations">
            <span>OIPA Recommendations</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/policeauditor/reports" title="Monthly &amp; Annual Reports">
            <span>Monthly &amp; Annual Reports</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/policeauditor/community" title="Community Outreach">
            <span>Community Outreach</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/policeauditor/resources" title="Resources">
            <span>Resources</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/policeauditor/faq" title="FAQ's">
            <span>FAQ's</span>
                      </a>

                            </li>
              </ul>
  
                              </div>
                  </li>
          
                                <li>
          <a href="https://www.bart.gov/about/bod/advisory/crb" title="Police Civilian Review Board">
            <span>Police Civilian Review Board</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/business" title="Doing Business">
            <span>Doing Business</span>
            <span></span>          </a>

                                            <div>
                              <ul>
        
                                <li>
          <a href="https://www.bart.gov/about/business" title="Doing Business">
            <span>Doing Business</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/business/procurement" title="Procurement">
            <span>Procurement</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/business/ocr" title="Office of Civil Rights">
            <span>Office of Civil Rights</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/business/insurance" title="Insurance">
            <span>Insurance</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/business/permits" title="Permits">
            <span>Permits</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/business/advertising" title="Advertising Opportunities">
            <span>Advertising Opportunities</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/business/tod" title="Transit-Oriented Development">
            <span>Transit-Oriented Development</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/business/specifications" title="Standard Specifications">
            <span>Standard Specifications</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/business/accounts-payable" title="Accounts Payable">
            <span>Accounts Payable</span>
                      </a>

                            </li>
              </ul>
  
                              </div>
                  </li>
          
                                <li>
          <a href="https://www.bart.gov/about/jobs" title="Careers">
            <span>Careers</span>
            <span></span>          </a>

                                            <div>
                              <ul>
        
                                <li>
          <a href="https://www.bart.gov/about/jobs" title="Careers Overview">
            <span>Careers Overview</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/jobs/descriptions" title="Job Descriptions">
            <span>Job Descriptions</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/sites/default/files/docs/Salary%2520Schedule%25201.1.2020%2520%2528FINAL%2529.pdf" title="Salary Schedule">
            <span>Salary Schedule</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/jobs/faq" title="Careers FAQs">
            <span>Careers FAQs</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/jobs/cba" title="Collective Bargaining Agreements">
            <span>Collective Bargaining Agreements</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/about/jobs/training" title="Workforce Development">
            <span>Workforce Development</span>
                      </a>

                            </li>
              </ul>
  
                              </div>
                  </li>
          
                                <li>
          <a href="https://www.bart.gov/sustainability" title="Sustainability">
            <span>Sustainability</span>
            <span></span>          </a>

                                            <div>
                              <ul>
        
                                <li>
          <a href="https://www.bart.gov/about/projects/cars/sustainability" title="Sustainability">
            <span>Sustainability</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/sustainability/policies" title="Policy &amp; Reports">
            <span>Policy &amp; Reports</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/sustainability/energy" title="Energy at BART">
            <span>Energy at BART</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/sustainability/electricvehicle" title="Electric Vehicle Charging at BART">
            <span>Electric Vehicle Charging at BART</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/sustainability/water" title="Water at BART">
            <span>Water at BART</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.bart.gov/sustainability/projects" title="Rider Feedback">
            <span>Rider Feedback</span>
                      </a>

                            </li>
              </ul>
  
                              </div>
                  </li>
          
                                <li>
          <a href="https://www.bart.gov/about/developers" title="Developer Program">
            <span>Developer Program</span>
                      </a>

                            </li>
          
                                <li>
          <a href="https://www.railgoods.com/" title="BART Merch">
            <span>BART Merch</span>
                      </a>

                            </li>
              </ul>
  
                                  



<div>
  <p><img alt="BART Career Opportunities" src="https://www.bart.gov/themes/custom/bart/assets/images/icon-menu/icon-menu-about.svg">
  </p>
  <div>
    <h2>BART Career Opportunities</h2>
    <p>Explore the latest jobs listings on our Career page</p>
    <p><a href="https://www.bart.gov/about/jobs" tabindex="0">View the Listings</a>
  </p></div>
</div>
                              </div>
                  </li>
          
                                <li>
          <a href="https://www.bart.gov/contact" title="Contact" tabindex="1">
            <span>Contact</span>
                      </a>

                            </li>
              </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[ALICE detects the conversion of lead into gold at the LHC (483 pts)]]></title>
            <link>https://www.home.cern/news/news/physics/alice-detects-conversion-lead-gold-lhc</link>
            <guid>43937214</guid>
            <pubDate>Fri, 09 May 2025 14:31:20 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.home.cern/news/news/physics/alice-detects-conversion-lead-gold-lhc">https://www.home.cern/news/news/physics/alice-detects-conversion-lead-gold-lhc</a>, See on <a href="https://news.ycombinator.com/item?id=43937214">Hacker News</a></p>
<div id="readability-page-1" class="page"><p>
        Near-miss collisions between high-energy lead nuclei at the LHC generate intense electromagnetic fields that can knock out protons and transform lead into fleeting quantities of gold nuclei
      </p><div>
        <p>In a paper published in <a href="https://link.aps.org/doi/10.1103/PhysRevC.111.054906">Physical Review Journals</a>, the <a href="https://www.home.cern/science/experiments/alice">ALICE collaboration</a> reports measurements that quantify the transmutation of lead into gold in CERN’s <a href="https://home.cern/science/accelerators/large-hadron-collider">Large Hadron Collider </a>(LHC).</p>

<p>Transforming the base metal lead into the precious metal gold was a dream of medieval alchemists. This long-standing quest, known as <em>chrysopoeia</em>, may have been motivated by the observation that dull grey, relatively abundant lead is of a similar density to gold, which has long been coveted for its beautiful colour and rarity. It was only much later that it became clear that lead and gold are distinct chemical elements and that chemical methods are powerless to transmute one into the other.</p>

<p>With the dawn of nuclear physics in the 20th century, it was discovered that heavy elements could transform into others, either naturally, by radioactive decay, or in the laboratory, under a bombardment of neutrons or protons. Though gold has been artificially produced in this way before, the ALICE collaboration has now measured the transmutation of lead into gold by a new mechanism involving near-miss collisions between lead nuclei at the LHC.</p>

<p>Extremely high-energy collisions between lead nuclei at the LHC can create quark–gluon plasma, a hot and dense state of matter that is thought to have filled the universe around a millionth of a second after the Big Bang, giving rise to the matter we now know. However, in the far more frequent interactions where the nuclei just miss each other without “touching”, the intense electromagnetic fields surrounding them can induce photon–photon and photon–nucleus interactions that open <a href="http://cerncourier.com/a/the-other-99/">further</a> avenues of exploration.</p>

<p>The electromagnetic field emanating from a lead nucleus is particularly strong because the nucleus contains 82 protons, each carrying one elementary charge. Moreover, the very high speed at which lead nuclei travel in the LHC (corresponding to 99.999993% of the speed of light) causes the electromagnetic field lines to be squashed into a thin pancake, transverse to the direction of motion, producing a short-lived pulse of photons. Often, this triggers a process called electromagnetic dissociation, whereby a photon interacting with a nucleus can excite oscillations of its internal structure, resulting in the ejection of small numbers of neutrons and protons. To create gold (a nucleus containing 79 protons), three protons must be removed from a lead nucleus in the LHC beams.</p>

<p>“It is impressive to see that our detectors can handle head-on collisions producing thousands of particles, while also being sensitive to collisions where only a few particles are produced at a time, enabling the study of electromagnetic ‘nuclear transmutation’ processes,” says Marco Van Leeuwen, ALICE spokesperson.</p>

<p>The ALICE team used the detector’s zero degree calorimeters (ZDC) to count the number of photon–nucleus interactions that resulted in the emission of zero, one, two and three protons accompanied by at least one neutron, which are associated with the production of lead, thallium, mercury and gold, respectively. While less frequent than the creation of thallium or mercury, the results show that the LHC currently produces gold at a maximum rate of about 89&nbsp;000 nuclei per second from lead–lead collisions at the ALICE collision point. Gold nuclei emerge from the collision with very high energy and hit the LHC beam pipe or collimators at various points downstream, where they immediately fragment into single protons, neutrons and other particles. The gold exists for just a tiny fraction of a second.</p>

<p>The ALICE analysis shows that, during Run 2 of the LHC (2015–2018), about 86 billion<strong> </strong>gold nuclei were created at the four major experiments. In terms of mass, this corresponds to just 29 picograms (2.9 ×10<sup>-11 </sup>g). Since the luminosity in the LHC is continually increasing thanks to regular upgrades to the machines, Run 3 has produced almost double the amount of gold that Run 2 did, but the total still&nbsp;amounts to trillions of times less than would be required to make a piece of jewellery. While the dream of medieval alchemists has technically come true, their hopes of riches have once again been dashed.</p>

<p>“Thanks to the unique capabilities of the ALICE ZDCs, the present analysis is the first to systematically detect and analyse the signature of gold production at the LHC experimentally,” says Uliana Dmitrieva of the ALICE collaboration.</p>

<p>“The results also test and improve theoretical models of electromagnetic dissociation which, beyond their intrinsic physics interest, are used to understand and predict beam losses that are a major limit on the performance of the LHC and future colliders,” adds John Jowett, also of the ALICE collaboration.</p>

<p><strong>Additional image:&nbsp;</strong></p>

<p><img alt="Illustration of an ultra-peripheral collision where the two lead (208Pb) ion beams at the LHC pass by close to each other without colliding. In the electromagnetic dissociation process, a photon interacting with a nucleus can excite oscillations of its internal structure and result in the ejection of small numbers of neutrons (two) and protons (three), leaving the gold (203Au) nucleus behind (Image: CERN)" data-entity-type="file" data-entity-uuid="5cfad6c8-0f15-4bed-8710-97688636ce1b" height="100%" src="https://www.home.cern/sites/default/files/inline-images/%5Bcurrent-user%3Aname%5D/UPC2025%20Alchemy%20infography%20var%2001%20%2800005%29%20draft.png" width="100%" loading="lazy">Illustration of an ultra-peripheral collision where the two lead (<sup>208</sup>Pb) ion beams at the LHC pass by close to each other without colliding. In the electromagnetic dissociation process, a photon interacting with a nucleus can excite oscillations of its internal structure and result in the ejection of small numbers of neutrons (two) and protons (three), leaving the gold (<sup>203</sup>Au) nucleus behind (Image: CERN)</p>



      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Itter.sh – Micro-Blogging via Terminal (198 pts)]]></title>
            <link>https://www.itter.sh/</link>
            <guid>43936884</guid>
            <pubDate>Fri, 09 May 2025 14:02:02 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.itter.sh/">https://www.itter.sh/</a>, See on <a href="https://news.ycombinator.com/item?id=43936884">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="__next"><main><section><p><img alt="itter.sh logo" decoding="async" data-nimg="fill" sizes="100vw" srcset="https://www.itter.sh/_next/image?url=%2Fitter-logo.png&amp;w=640&amp;q=75 640w, https://www.itter.sh/_next/image?url=%2Fitter-logo.png&amp;w=750&amp;q=75 750w, https://www.itter.sh/_next/image?url=%2Fitter-logo.png&amp;w=828&amp;q=75 828w, https://www.itter.sh/_next/image?url=%2Fitter-logo.png&amp;w=1080&amp;q=75 1080w, https://www.itter.sh/_next/image?url=%2Fitter-logo.png&amp;w=1200&amp;q=75 1200w, https://www.itter.sh/_next/image?url=%2Fitter-logo.png&amp;w=1920&amp;q=75 1920w, https://www.itter.sh/_next/image?url=%2Fitter-logo.png&amp;w=2048&amp;q=75 2048w, https://www.itter.sh/_next/image?url=%2Fitter-logo.png&amp;w=3840&amp;q=75 3840w" src="https://www.itter.sh/_next/image?url=%2Fitter-logo.png&amp;w=3840&amp;q=75"></p><p>Social Media for Purists.</p><div><p>New user? Register:</p> <div><pre><code>ssh register:YOUR_USERNAME@app.itter.sh</code></pre></div><p>Already joined? Login:</p> <div><pre><code>ssh YOUR_USERNAME@app.itter.sh</code></pre></div></div></section><div><section id="what-is-it"><h2><span>$</span><span>cat /etc/itter.conf</span><span></span></h2><p><strong>itter.sh</strong> is your escape from the noise. It's a micro-blogging platform accessed entirely via <strong>SSH</strong>. No web browser. No JavaScript. No endless scroll of algorithmic 'content'. Just you, your trusty terminal, and 180 characters at a time ("eets"). Why? Because terminals <em>are</em> cool. Because less is more. Because sometimes, you just need to type.</p></section><section id="getting-started"><h2><span>$</span><span>./setup.sh</span><span></span></h2><div><div><h3>1. SSH Key Ready?</h3><p>You'll need an SSH key. Don't have one? Generate like this:</p><div><pre><code>ssh-keygen -t ed25519 -C "your_email@example.com"</code></pre></div><p> (We only need your <code>.pub</code> file for registration.)</p></div><div><h3>2. Register Your Account</h3><p>Ready to join? Use the <code>register:</code> prefix with your desired username:</p><div><pre><code>ssh register:your_cool_username@app.itter.sh</code></pre></div></div><div><h3>3. Login &amp; Eet!</h3><p>Once registered, just SSH in. Type <code>help</code> for commands.</p><div><pre><code>ssh your_cool_username@app.itter.sh</code></pre></div></div></div></section><section id="commands"><h2><span>$</span><span>man itter</span><span></span></h2><div><div><p><span>itter</span>eet &lt;text&gt;</p><p>- <!-- -->Post an eet (max 180 chars). Supports #hashtags and @mentions.</p></div><div><p><span>itter</span>timeline [mine|all|#chan|@user] [&lt;page&gt;]</p><p>- <!-- -->Show eets. Default: 'all', page 1.</p></div><div><p><span>itter</span>watch [mine|all|#chan|@user]</p><p>- <!-- -->Live timeline view. Updates automatically.</p></div><div><p><span>itter</span>follow @&lt;user&gt;</p><p>- <!-- -->Follow a user.</p></div><div><p><span>itter</span>unfollow @&lt;user&gt;</p><p>- <!-- -->Unfollow a user.</p></div><div><p><span>itter</span>profile [@&lt;user&gt;]</p><p>- <!-- -->View user profile (yours or another's).</p></div><div><p><span>itter</span>profile edit -name &lt;Name&gt; -email &lt;Email&gt;</p><p>- <!-- -->Edit your display name or email.</p></div><div><p><span>itter</span>help</p><p>- <!-- -->Show this help message in-app.</p></div><div><p><span>itter</span>clear</p><p>- <!-- -->Clear the terminal screen.</p></div><div><p><span>itter</span>exit</p><p>- <!-- -->Exit watch mode or disconnect from itter.sh.</p></div></div></section><section id="tech-stack"><h2><span>$</span><span>ls /opt/itter</span><span></span></h2><div><p>itter.sh is built with TONS of bugs on:</p><ul><li><strong>Python &amp; AsyncSSH</strong> </li> <li><strong>Supabase</strong> </li> <li><strong>Terminal Nostalgia</strong> (The secret sauce.)</li> </ul></div></section></div></main></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[21 GB/s CSV Parsing Using SIMD on AMD 9950X (245 pts)]]></title>
            <link>https://nietras.com/2025/05/09/sep-0-10-0/</link>
            <guid>43936592</guid>
            <pubDate>Fri, 09 May 2025 13:38:06 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://nietras.com/2025/05/09/sep-0-10-0/">https://nietras.com/2025/05/09/sep-0-10-0/</a>, See on <a href="https://news.ycombinator.com/item?id=43936592">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
    <p><a href="https://github.com/nietras/Sep/releases/tag/v0.10.0">Sep 0.10.0 was released April 22nd,
2025</a> with optimizations
for <a href="https://en.wikipedia.org/wiki/AVX-512">AVX-512</a> capable CPUs like the AMD
9950X (<a href="https://en.wikipedia.org/wiki/Zen_5">Zen 5</a>) and updated benchmarks
including the 9950X. Sep now achieves a staggering <strong>21 GB/s on the 9950X</strong> for
the low-level CSV parsing. 🚀 Before 0.10.0, Sep achieved ~18 GB/s on 9950X.</p>

<p>See <a href="https://github.com/nietras/Sep/releases/tag/v0.10.0">v0.10.0 release</a> for
all changes for the release, and <a href="https://github.com/nietras/Sep">Sep README on
GitHub</a> for full details.</p>

<p>In this blog post, I will dive into how .NET 9.0 machine code for AVX-512 is
sub-optimal and what changes were made to speed up Sep for AVX-512 by
circumventing this, showing interesting code and assembly along the way, so get
ready for SIMD C# code, x64 SIMD assembly and tons of benchmark numbers.</p>

<p>However, first let’s take a look at the progression of Sep’s performance from
early 0.1.0 to 0.10.0, from .NET 7.0 to .NET 9.0 and from AMD Ryzen 9 5950X (Zen
3) to 9950X (Zen 5), as I have also recently upgraded my work PC.</p>

<h2 id="sep-performance-progression">Sep Performance Progression</h2>

<p><img src="https://nietras.com/images/2025-05-sep-0.10.0/sep-perf-progression-0.1.0-to-0.10.0.png" alt="Sep Perf Progression 0.1.0 To 0.10.0"></p>

<p>The benchmark numbers above are for the package assets CSV data and the low
level parse <code>Rows</code> only scope, see <a href="https://github.com/nietras/Sep">Sep README on
GitHub</a> or code on GitHub for details on this.
Note that all numbers here are single-threaded and are also shown in the table
below. Note that there can be a few percentage points variation in the numbers,
so for a given release Sep might see minor regressions.</p>

<p>The main take away is that Sep has seen incremental improvements to performance
driven by both major (e.g. almost complete rewrite of <a href="https://nietras.com/2023/08/07/sep-0-2-0/">internals in 0.2.0</a>) and minor code changes. While also
seeing improved performance on new .NET versions. And finally here showing
improvement for going from the AMD 5950X (<a href="https://en.wikipedia.org/wiki/Zen_3">Zen
3</a>) to AMD 9950X (<a href="https://en.wikipedia.org/wiki/Zen_5">Zen
5</a>). Hence, this showcases how software
together with hardware improvements can boost performance to the next level.</p>

<p>We can see Sep progressing:</p>

<ul>
  <li><code>~ 7 GB/s</code> (0.1.0, 5950X and .NET 7.0)</li>
  <li><code>~12 GB/s</code> (0.3.0, 5950X and .NET 8.0)</li>
  <li><code>~13 GB/s</code> (0.6.0, 5950X and .NET 9.0)</li>
  <li><code>~18 GB/s</code> (0.9.0, 9950X and .NET 9.0)</li>
  <li><code>~21 GB/s</code> (0.10.0, 9950X and .NET 9.0)</li>
</ul>

<p>This is a staggering <strong>~3x</strong> improvement in just under 2 years since <a href="https://nietras.com/2023/06/05/introducing-sep">Sep was
introduced June, 2023</a>.</p>

<table>
  <thead>
    <tr>
      <th>Sep</th>
      <th>.NET</th>
      <th>CPU</th>
      <th>Rows</th>
      <th>Mean [ms]</th>
      <th>MB</th>
      <th>MB/s</th>
      <th>Ratio</th>
      <th>ns/row</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0.1.0</td>
      <td>7.0</td>
      <td>5950X</td>
      <td>1000000</td>
      <td>79.590</td>
      <td>583</td>
      <td>` 7335.3`</td>
      <td>1.00</td>
      <td>79.6</td>
    </tr>
    <tr>
      <td>0.2.0</td>
      <td>7.0</td>
      <td>5950X</td>
      <td>1000000</td>
      <td>57.280</td>
      <td>583</td>
      <td><code>10191.6</code></td>
      <td>1.39</td>
      <td>57.3</td>
    </tr>
    <tr>
      <td>0.2.1</td>
      <td>7.0</td>
      <td>5950X</td>
      <td>50000</td>
      <td>2.624</td>
      <td>29</td>
      <td><code>11120.2</code></td>
      <td>1.52</td>
      <td>52.5</td>
    </tr>
    <tr>
      <td>0.3.0</td>
      <td>7.0</td>
      <td>5950X</td>
      <td>50000</td>
      <td>2.537</td>
      <td>29</td>
      <td><code>11503.7</code></td>
      <td>1.57</td>
      <td>50.7</td>
    </tr>
    <tr>
      <td>0.3.0</td>
      <td>8.0</td>
      <td>5950X</td>
      <td>50000</td>
      <td>2.409</td>
      <td>29</td>
      <td><code>12111.6</code></td>
      <td>1.65</td>
      <td>48.2</td>
    </tr>
    <tr>
      <td>0.4.0</td>
      <td>8.0</td>
      <td>5950X</td>
      <td>50000</td>
      <td>2.319</td>
      <td>29</td>
      <td><code>12581.3</code></td>
      <td>1.72</td>
      <td>46.4</td>
    </tr>
    <tr>
      <td>0.4.1</td>
      <td>8.0</td>
      <td>5950X</td>
      <td>50000</td>
      <td>2.278</td>
      <td>29</td>
      <td><code>12811.2</code></td>
      <td>1.75</td>
      <td>45.6</td>
    </tr>
    <tr>
      <td>0.5.0</td>
      <td>8.0</td>
      <td>5950X</td>
      <td>50000</td>
      <td>2.326</td>
      <td>29</td>
      <td><code>12544.5</code></td>
      <td>1.71</td>
      <td>46.5</td>
    </tr>
    <tr>
      <td>0.6.0</td>
      <td>9.0</td>
      <td>5950X</td>
      <td>50000</td>
      <td>2.188</td>
      <td>29</td>
      <td><code>13339.9</code></td>
      <td>1.82</td>
      <td>43.8</td>
    </tr>
    <tr>
      <td>0.9.0</td>
      <td>9.0</td>
      <td>5950X</td>
      <td>50000</td>
      <td>2.230</td>
      <td>29</td>
      <td><code>13088.4</code></td>
      <td>1.78</td>
      <td>44.6</td>
    </tr>
    <tr>
      <td>0.9.0</td>
      <td>9.0</td>
      <td>9950X</td>
      <td>50000</td>
      <td>1.603</td>
      <td>29</td>
      <td><code>18202.7</code></td>
      <td>2.48</td>
      <td>32.1</td>
    </tr>
    <tr>
      <td>0.10.0</td>
      <td>9.0</td>
      <td>9950X</td>
      <td>50000</td>
      <td>1.365</td>
      <td>29</td>
      <td><code>21384.9</code></td>
      <td>2.92</td>
      <td>27.3</td>
    </tr>
  </tbody>
</table>

<p>The improvement from <code>5950X w. Sep 0.9.0</code> to <code>9950X w. Sep 0.10.0</code> is <strong>~1.6x</strong>
which is a pretty good improvement from Zen 3 to Zen 5. Note the 9950X has a 5.7
GHz boost frequency vs 4.9 GHz for 5950X, so this alone probably explains 1.2x.</p>

<h2 id="avx-512-code-generation-and-mask-register-issues">AVX-512 Code Generation and Mask Register Issues</h2>

<p>Sep has had support for AVX-512 since <a href="https://nietras.com/2023/09/05/sep-0-2-3/">0.2.3</a> and back then I noted that:</p>

<blockquote>
  <p>different here is the use of the <a href="https://en.wikipedia.org/wiki/AVX-512">mask registers (<code>k1-k8</code>) introduced with
AVX-512</a>. However, .NET 8 does not have
explicit support for these and the code generation is a bit suboptimal, given
mask register are moved to normal registers each time. And then back.</p>
</blockquote>

<p>I did not have direct access to an AVX-512 capable CPU then, so I could not test
the performance of the AVX-512 in detail, but did verify it on the Xeon Silver
4316 which based on some quick tests showed the AVX-512 parser to be the fastest
on that CPU despite the issues with the mask registers.</p>

<h2 id="9950x-upgrade-and-avx-512-vs-avx2-performance">9950X Upgrade and AVX-512 vs AVX2 Performance</h2>

<p>Recently, I then upgraded from an AMD 5950X (Zen 3) CPU to an AMD 9950X (Zen 5)
CPU. Zen 3 does not support AVX-512, but Zen 5 does. One of the first things I
did on the new CPU was of course to run the Sep benchmarks, and this showed,
that Sep hit ~18 GB/s on the 9950X for the low-level parsing of CSV files. This
was great and ~1.4x faster than on the 5950X. A pretty good improvement from Zen
3 to Zen 5.</p>

<p>However, I still wanted to compare AVX-512 to
<a href="https://en.wikipedia.org/wiki/Advanced_Vector_Extensions">AVX2</a>. Sep has,
unofficial, support for overriding the default selected parser via an
environment variable. This is also used for testing all possible parsers fully
no matter which parser is selected as best. A bit surprisingly the AVX2 parser
on 9950X hit ~20GB/s! That is, it was better than the AVX-512 based parser by
~10%, which is pretty significant for Sep. Hence, it would seem the mask
register issue was still an issue.</p>

<h2 id="parser-codeassembly-comparison-and-new-avx-512-to-256-parser">Parser Code/Assembly Comparison and New AVX-512-to-256 Parser</h2>

<p>Let’s examine the code and assembly (via
<a href="https://github.com/EgorBo/Disasmo">Disasmo</a>) for the AVX-512-based parser
(0.9.0), a tweaked version (0.10.0), compare it to the AVX2-based parser, and
finally review a new AVX-512-to-256-based parser that circumvents the mask
register issue and is even faster than the AVX2-based parser, achieving ~21 GB/s
as shown above.</p>

<h3 id="parse-methods">Parse Methods</h3>

<p>All parsers in Sep follow the same basic layout as shown below and have a single
generic <code>Parse</code> method to support both parsing for when handling quotes
(<code>ParseColInfos</code>) and when not (<code>ParseColEnds</code>). The former requires keeping
track of more state, and is slightly slower.</p>

<p>In Sep the <code>Parse</code> method is marked with <code>AggressiveInlining</code> to ensure it is
inlined, which means one can in principle go to <code>ParseColEnds</code> in Visual Studio
with Disasmo installed and hit <code>ALT + SHIFT + D</code>. Unfortunately, for some reason
this does not work currently unless you change the parser from a <code>class</code> to
<code>struct</code>. So readers are aware if they want to follow along. See GitHub issue
<a href="https://github.com/EgorBo/Disasmo/issues/68">Empty disassembly for method with inlined generic method (used to
work)</a> for more.</p>

<div><pre><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td><pre><span>public</span> <span>void</span> <span>ParseColEnds</span><span>(</span><span>SepReaderState</span> <span>s</span><span>)</span>
<span>{</span>
    <span>Parse</span><span>&lt;</span><span>int</span><span>,</span> <span>SepColEndMethods</span><span>&gt;(</span><span>s</span><span>);</span>
<span>}</span>

<span>public</span> <span>void</span> <span>ParseColInfos</span><span>(</span><span>SepReaderState</span> <span>s</span><span>)</span>
<span>{</span>
    <span>Parse</span><span>&lt;</span><span>SepColInfo</span><span>,</span> <span>SepColInfoMethods</span><span>&gt;(</span><span>s</span><span>);</span>
<span>}</span>

<span>void</span> <span>Parse</span><span>&lt;</span><span>TColInfo</span><span>,</span> <span>TColInfoMethods</span><span>&gt;(</span><span>SepReaderState</span> <span>s</span><span>)</span>
    <span>where</span> <span>TColInfo</span> <span>:</span> <span>unmanaged</span>
    <span>where</span> <span>TColInfoMethods</span> <span>:</span> <span>ISepColInfoMethods</span><span>&lt;</span><span>TColInfo</span><span>&gt;</span>
<span>{</span>
    <span>// Implementation</span>
<span>}</span>
</pre></td></tr></tbody></table></code></pre></div>

<p>To recap, parsing in Sep is done on a span of <code>char</code>s (from an array) e.g. 16K
and outputs a set of column end indices and row column counts for that span.
This ensures parsing is done on a significant yet small enough chunk of data to
fit in the CPU cache, and facilitates efficient multi-threading after too.</p>

<p>Parsing of the span is basically then just a loop where one or two SIMD
registers (e.g. <code>Vector256</code>) are loaded (as unsigned 16-bit integers e.g.
<code>ushort</code>) and converted to <code>byte</code> SIMD register and then compared to the special
characters (e.g. <code>\n</code>, <code>\r</code>, <code>"</code>, <code>;</code>) using SIMD compare instructions. The
compare results are then converted to bit masks and each set bit in that mask is
sequentially parsed after.</p>

<p>The interesting part here is the SIMD code and how it’s JIT’ed to machine code
on .NET and how efficient that is. Below this specific code and assembly is
shown for the parsers mentioned before.</p>

<h3 id="sepparseravx512packcmpormovemasktzcntcs-090"><code>SepParserAvx512PackCmpOrMoveMaskTzcnt.cs</code> (0.9.0)</h3>

<p>A breakdown of the below code snippet:</p>

<ol>
  <li><strong>Data Loading and Packing</strong>:
    <ul>
      <li>Two 16-bit integer vectors (<code>v0</code> and <code>v1</code>) are read from memory using
unaligned reads.</li>
      <li>These vectors are packed into a single byte vector using
<code>PackUnsignedSaturate</code>, ensuring values fit within the byte range.</li>
      <li>For AVX-512 this means loading two 512-bit SIMD registers each with
32 <code>char</code>s and then packing it to single 512-bit SIMD register with 64
bytes. This means 64 <code>char</code>s are handled in each loop.</li>
    </ul>
  </li>
  <li><strong>Reordering Packed Data</strong>:
    <ul>
      <li>The packed data is interleaved, so a permutation operation
(<code>PermuteVar8x64</code>) is applied to reorder the bytes into the correct
sequence.</li>
    </ul>
  </li>
  <li><strong>Character Comparisons</strong>:
    <ul>
      <li>The byte vector is compared against specific characters (e.g. <code>\n</code>, <code>\r</code>,
<code>"</code>, <code>;</code>) using SIMD equality operations. These comparisons identify
special characters relevant to CSV parsing.</li>
    </ul>
  </li>
  <li><strong>Combine Comparison Results</strong>:
    <ul>
      <li>The results of the comparisons are combined using logical operations.</li>
    </ul>
  </li>
  <li><strong>Bitmask Generation and Check</strong>:
    <ul>
      <li>A <code>MoveMask</code> operation extracts a bitmask from the SIMD register, allowing
for a quick check to skip further processing if no special characters are
found.</li>
    </ul>
  </li>
</ol>

<p>All parsers follow the same basic approach, so this description will be omitted
going forward. Note how <code>ISA</code> and <code>Vec</code> are aliases used to make the different
parsers more similar which makes it easier to compare and maintain the different
parsers.</p>

<div><pre><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td><pre><span>var</span> <span>v0</span> <span>=</span> <span>ReadUnaligned</span><span>&lt;</span><span>VecI16</span><span>&gt;(</span><span>ref</span> <span>byteRef</span><span>);</span>
<span>var</span> <span>v1</span> <span>=</span> <span>ReadUnaligned</span><span>&lt;</span><span>VecI16</span><span>&gt;(</span><span>ref</span> <span>Add</span><span>(</span><span>ref</span> <span>byteRef</span><span>,</span> <span>VecUI8</span><span>.</span><span>Count</span><span>));</span>
<span>var</span> <span>packed</span> <span>=</span> <span>ISA</span><span>.</span><span>PackUnsignedSaturate</span><span>(</span><span>v0</span><span>,</span> <span>v1</span><span>);</span>
<span>// Pack interleaves the two vectors need to permute them back</span>
<span>var</span> <span>permuteIndices</span> <span>=</span> <span>Vec</span><span>.</span><span>Create</span><span>(</span><span>0L</span><span>,</span> <span>2L</span><span>,</span> <span>4L</span><span>,</span> <span>6L</span><span>,</span> <span>1L</span><span>,</span> <span>3L</span><span>,</span> <span>5L</span><span>,</span> <span>7L</span><span>);</span>
<span>var</span> <span>bytes</span> <span>=</span> <span>ISA</span><span>.</span><span>PermuteVar8x64</span><span>(</span><span>packed</span><span>.</span><span>AsInt64</span><span>(),</span> <span>permuteIndices</span><span>).</span><span>AsByte</span><span>();</span>

<span>var</span> <span>nlsEq</span> <span>=</span> <span>Vec</span><span>.</span><span>Equals</span><span>(</span><span>bytes</span><span>,</span> <span>nls</span><span>);</span>
<span>var</span> <span>crsEq</span> <span>=</span> <span>Vec</span><span>.</span><span>Equals</span><span>(</span><span>bytes</span><span>,</span> <span>crs</span><span>);</span>
<span>var</span> <span>qtsEq</span> <span>=</span> <span>Vec</span><span>.</span><span>Equals</span><span>(</span><span>bytes</span><span>,</span> <span>qts</span><span>);</span>
<span>var</span> <span>spsEq</span> <span>=</span> <span>Vec</span><span>.</span><span>Equals</span><span>(</span><span>bytes</span><span>,</span> <span>sps</span><span>);</span>

<span>var</span> <span>lineEndings</span> <span>=</span> <span>nlsEq</span> <span>|</span> <span>crsEq</span><span>;</span>
<span>var</span> <span>lineEndingsSeparators</span> <span>=</span> <span>spsEq</span> <span>|</span> <span>lineEndings</span><span>;</span>
<span>var</span> <span>specialChars</span> <span>=</span> <span>lineEndingsSeparators</span> <span>|</span> <span>qtsEq</span><span>;</span>

<span>// Optimize for the case of no special character</span>
<span>var</span> <span>specialCharMask</span> <span>=</span> <span>MoveMask</span><span>(</span><span>specialChars</span><span>);</span>
<span>if</span> <span>(</span><span>specialCharMask</span> <span>!=</span> <span>0u</span><span>)</span>
</pre></td></tr></tbody></table></code></pre></div>

<p>Assembly is shown below for a 64-bit CPU with AVX-512 support e.g. the 9950X.
What is most interesting here is that each compare <code>Vec.Equals</code> ends up being
two instructions <code>vpcmpeqb</code> (<code>c</code>o<code>mp</code>are <code>eq</code>ual <code>b</code>ytes) and <code>vpmovm2b</code>
(<code>mov</code>e <code>m</code>ask to <code>b</code>yte). That is, there is a lot of going from the mask
register, e.g. <code>k1</code>, to a normal 512-bit register, e.g. <code>zmm5</code>, and back again.</p>

<p>Note that the C# code does not deal with vector mask registers directly. This is
not supported in .NET and hence it is the JIT that is responsible for code
generation around this. Unfortunately, here it does not do a good job and the
AVX-512 is not as fast as it could be.</p>

<div><pre><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td><pre><span>mov</span>      <span>edi</span><span>,</span> <span>r9d</span>
<span>lea</span>      <span>rdi</span><span>,</span> <span>bword</span> <span>ptr</span> <span>[</span><span>r10</span><span>+</span><span>2</span><span>*</span><span>rdi</span><span>]</span>
<span>vmovups</span>  <span>zmm4</span><span>,</span> <span>zmmword</span> <span>ptr</span> <span>[</span><span>rdi</span><span>]</span>
<span>vpackuswb</span> <span>zmm4</span><span>,</span> <span>zmm4</span><span>,</span> <span>zmmword</span> <span>ptr</span> <span>[</span><span>rdi</span><span>+</span><span>0x40</span><span>]</span>
<span>vmovups</span>  <span>zmm5</span><span>,</span> <span>zmmword</span> <span>ptr</span> <span>[</span><span>reloc</span> <span>@</span><span>RWD00</span><span>]</span>
<span>vpermq</span>   <span>zmm4</span><span>,</span> <span>zmm5</span><span>,</span> <span>zmm4</span>
<span>vpcmpeqb</span> <span>k1</span><span>,</span> <span>zmm4</span><span>,</span> <span>zmm0</span>
<span>vpmovm2b</span> <span>zmm5</span><span>,</span> <span>k1</span>
<span>vpcmpeqb</span> <span>k1</span><span>,</span> <span>zmm4</span><span>,</span> <span>zmm1</span>
<span>vpmovm2b</span> <span>zmm16</span><span>,</span> <span>k1</span>
<span>vpcmpeqb</span> <span>k1</span><span>,</span> <span>zmm4</span><span>,</span> <span>zmm2</span>
<span>vpmovm2b</span> <span>zmm17</span><span>,</span> <span>k1</span>
<span>vpcmpeqb</span> <span>k1</span><span>,</span> <span>zmm4</span><span>,</span> <span>zmm3</span>
<span>vpmovm2b</span> <span>zmm4</span><span>,</span> <span>k1</span>
<span>vpternlogd</span> <span>zmm5</span><span>,</span> <span>zmm4</span><span>,</span> <span>zmm16</span><span>,</span> <span>-</span><span>2</span>
<span>vpord</span>    <span>zmm16</span><span>,</span> <span>zmm5</span><span>,</span> <span>zmm17</span>
<span>vpmovb2m</span> <span>k1</span><span>,</span> <span>zmm16</span>
<span>kmovq</span>    <span>r15</span><span>,</span> <span>k1</span>
<span>test</span>     <span>r15</span><span>,</span> <span>r15</span>
<span>je</span>       <span>G_M000_IG03</span>
<span>vpmovb2m</span> <span>k1</span><span>,</span> <span>zmm4</span>
<span>kmovq</span>    <span>r13</span><span>,</span> <span>k1</span>
<span>lea</span>      <span>r12</span><span>,</span> <span>[</span><span>r15</span><span>+</span><span>r8</span><span>]</span>
<span>cmp</span>      <span>r13</span><span>,</span> <span>r12</span>
<span>je</span>       <span>G_M000_IG43</span>
</pre></td></tr></tbody></table></code></pre></div>

<h3 id="sepparseravx512packcmpormovemasktzcntcs-0100"><code>SepParserAvx512PackCmpOrMoveMaskTzcnt.cs</code> (0.10.0)</h3>

<p>To address the above code generation issues, in Sep 0.10.0 I changed the AVX-512
based parser by moving the <code>MoveMask</code> calls earlier to avoid the whole mask
register back and forth as shown below. For other parsers, <code>MoveMask</code> is only
called when necessary to reduce instructions in the “happy”/skip path.</p>

<div><pre><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td><pre><span>var</span> <span>v0</span> <span>=</span> <span>ReadUnaligned</span><span>&lt;</span><span>VecI16</span><span>&gt;(</span><span>ref</span> <span>byteRef</span><span>);</span>
<span>var</span> <span>v1</span> <span>=</span> <span>ReadUnaligned</span><span>&lt;</span><span>VecI16</span><span>&gt;(</span><span>ref</span> <span>Add</span><span>(</span><span>ref</span> <span>byteRef</span><span>,</span> <span>VecUI8</span><span>.</span><span>Count</span><span>));</span>
<span>var</span> <span>packed</span> <span>=</span> <span>ISA</span><span>.</span><span>PackUnsignedSaturate</span><span>(</span><span>v0</span><span>,</span> <span>v1</span><span>);</span>
<span>// Pack interleaves the two vectors need to permute them back</span>
<span>var</span> <span>permuteIndices</span> <span>=</span> <span>Vec</span><span>.</span><span>Create</span><span>(</span><span>0L</span><span>,</span> <span>2L</span><span>,</span> <span>4L</span><span>,</span> <span>6L</span><span>,</span> <span>1L</span><span>,</span> <span>3L</span><span>,</span> <span>5L</span><span>,</span> <span>7L</span><span>);</span>
<span>var</span> <span>bytes</span> <span>=</span> <span>ISA</span><span>.</span><span>PermuteVar8x64</span><span>(</span><span>packed</span><span>.</span><span>AsInt64</span><span>(),</span> <span>permuteIndices</span><span>).</span><span>AsByte</span><span>();</span>

<span>var</span> <span>nlsEq</span> <span>=</span> <span>MoveMask</span><span>(</span><span>Vec</span><span>.</span><span>Equals</span><span>(</span><span>bytes</span><span>,</span> <span>nls</span><span>));</span>
<span>var</span> <span>crsEq</span> <span>=</span> <span>MoveMask</span><span>(</span><span>Vec</span><span>.</span><span>Equals</span><span>(</span><span>bytes</span><span>,</span> <span>crs</span><span>));</span>
<span>var</span> <span>qtsEq</span> <span>=</span> <span>MoveMask</span><span>(</span><span>Vec</span><span>.</span><span>Equals</span><span>(</span><span>bytes</span><span>,</span> <span>qts</span><span>));</span>
<span>var</span> <span>spsEq</span> <span>=</span> <span>MoveMask</span><span>(</span><span>Vec</span><span>.</span><span>Equals</span><span>(</span><span>bytes</span><span>,</span> <span>sps</span><span>));</span>

<span>var</span> <span>lineEndings</span> <span>=</span> <span>nlsEq</span> <span>|</span> <span>crsEq</span><span>;</span>
<span>var</span> <span>lineEndingsSeparators</span> <span>=</span> <span>spsEq</span> <span>|</span> <span>lineEndings</span><span>;</span>
<span>var</span> <span>specialChars</span> <span>=</span> <span>lineEndingsSeparators</span> <span>|</span> <span>qtsEq</span><span>;</span>

<span>// Optimize for the case of no special character</span>
<span>var</span> <span>specialCharMask</span> <span>=</span> <span>specialChars</span><span>;</span>
<span>if</span> <span>(</span><span>specialCharMask</span> <span>!=</span> <span>0u</span><span>)</span>
</pre></td></tr></tbody></table></code></pre></div>

<p>This improves the assembly for the parser quite a bit as can be seen below.
Basically, less instructions. We are still going to mask register to normal
register but at least only once.</p>

<div><pre><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td><pre> <span>mov</span>      <span>edi</span><span>,</span> <span>r9d</span>
 <span>lea</span>      <span>rdi</span><span>,</span> <span>bword</span> <span>ptr</span> <span>[</span><span>r10</span><span>+</span><span>2</span><span>*</span><span>rdi</span><span>]</span>
 <span>vmovups</span>  <span>zmm4</span><span>,</span> <span>zmmword</span> <span>ptr</span> <span>[</span><span>rdi</span><span>]</span>
 <span>vpackuswb</span> <span>zmm4</span><span>,</span> <span>zmm4</span><span>,</span> <span>zmmword</span> <span>ptr</span> <span>[</span><span>rdi</span><span>+</span><span>0x40</span><span>]</span>
 <span>vmovups</span>  <span>zmm5</span><span>,</span> <span>zmmword</span> <span>ptr</span> <span>[</span><span>reloc</span> <span>@</span><span>RWD00</span><span>]</span>
 <span>vpermq</span>   <span>zmm4</span><span>,</span> <span>zmm5</span><span>,</span> <span>zmm4</span>
 <span>vpcmpeqb</span> <span>k1</span><span>,</span> <span>zmm4</span><span>,</span> <span>zmm0</span>
 <span>kmovq</span>    <span>r15</span><span>,</span> <span>k1</span>
 <span>vpcmpeqb</span> <span>k1</span><span>,</span> <span>zmm4</span><span>,</span> <span>zmm1</span>
 <span>kmovq</span>    <span>r13</span><span>,</span> <span>k1</span>
 <span>vpcmpeqb</span> <span>k1</span><span>,</span> <span>zmm4</span><span>,</span> <span>zmm2</span>
 <span>kmovq</span>    <span>r12</span><span>,</span> <span>k1</span>
 <span>vpcmpeqb</span> <span>k1</span><span>,</span> <span>zmm4</span><span>,</span> <span>zmm3</span>
 <span>kmovq</span>    <span>rcx</span><span>,</span> <span>k1</span>
 <span>or</span>       <span>r15</span><span>,</span> <span>rcx</span>
 <span>or</span>       <span>r15</span><span>,</span> <span>r13</span>
 <span>or</span>       <span>r12</span><span>,</span> <span>r15</span>
 <span>je</span>       <span>SHORT</span> <span>G_M000_IG03</span>
 <span>mov</span>      <span>r13</span><span>,</span> <span>rcx</span>
 <span>lea</span>      <span>rcx</span><span>,</span> <span>[</span><span>r12</span><span>+</span><span>r8</span><span>]</span>
 <span>cmp</span>      <span>r13</span><span>,</span> <span>rcx</span>
 <span>je</span>       <span>G_M000_IG43</span>
</pre></td></tr></tbody></table></code></pre></div>

<h3 id="sepparseravx2packcmpormovemasktzcntcs-0100"><code>SepParserAvx2PackCmpOrMoveMaskTzcnt.cs</code> (0.10.0)</h3>

<p>Let’s compare the AVX-512 to the AVX2 based parser. C# code is shown below.</p>

<div><pre><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td><pre><span>var</span> <span>v0</span> <span>=</span> <span>ReadUnaligned</span><span>&lt;</span><span>VecI16</span><span>&gt;(</span><span>ref</span> <span>byteRef</span><span>);</span>
<span>var</span> <span>v1</span> <span>=</span> <span>ReadUnaligned</span><span>&lt;</span><span>VecI16</span><span>&gt;(</span><span>ref</span> <span>Add</span><span>(</span><span>ref</span> <span>byteRef</span><span>,</span> <span>VecUI8</span><span>.</span><span>Count</span><span>));</span>
<span>var</span> <span>packed</span> <span>=</span> <span>ISA</span><span>.</span><span>PackUnsignedSaturate</span><span>(</span><span>v0</span><span>,</span> <span>v1</span><span>);</span>
<span>// Pack interleaves the two vectors need to permute them back</span>
<span>var</span> <span>bytes</span> <span>=</span> <span>ISA</span><span>.</span><span>Permute4x64</span><span>(</span><span>packed</span><span>.</span><span>AsInt64</span><span>(),</span> <span>0</span><span>b_11_01_10_00</span><span>).</span><span>AsByte</span><span>();</span>

<span>var</span> <span>nlsEq</span> <span>=</span> <span>Vec</span><span>.</span><span>Equals</span><span>(</span><span>bytes</span><span>,</span> <span>nls</span><span>);</span>
<span>var</span> <span>crsEq</span> <span>=</span> <span>Vec</span><span>.</span><span>Equals</span><span>(</span><span>bytes</span><span>,</span> <span>crs</span><span>);</span>
<span>var</span> <span>qtsEq</span> <span>=</span> <span>Vec</span><span>.</span><span>Equals</span><span>(</span><span>bytes</span><span>,</span> <span>qts</span><span>);</span>
<span>var</span> <span>spsEq</span> <span>=</span> <span>Vec</span><span>.</span><span>Equals</span><span>(</span><span>bytes</span><span>,</span> <span>sps</span><span>);</span>

<span>var</span> <span>lineEndings</span> <span>=</span> <span>nlsEq</span> <span>|</span> <span>crsEq</span><span>;</span>
<span>var</span> <span>lineEndingsSeparators</span> <span>=</span> <span>spsEq</span> <span>|</span> <span>lineEndings</span><span>;</span>
<span>var</span> <span>specialChars</span> <span>=</span> <span>lineEndingsSeparators</span> <span>|</span> <span>qtsEq</span><span>;</span>

<span>// Optimize for the case of no special character</span>
<span>var</span> <span>specialCharMask</span> <span>=</span> <span>MoveMask</span><span>(</span><span>specialChars</span><span>);</span>
<span>if</span> <span>(</span><span>specialCharMask</span> <span>!=</span> <span>0u</span><span>)</span>
</pre></td></tr></tbody></table></code></pre></div>

<p>The assembly below is, however, clearly more straightforward as there are no mask
registers involved. This explains why the AVX2 based parser is faster than the
old (0.9.0) AVX-512 based parser.</p>

<div><pre><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td><td><pre><span>mov</span>      <span>edi</span><span>,</span> <span>r9d</span>
<span>lea</span>      <span>rdi</span><span>,</span> <span>bword</span> <span>ptr</span> <span>[</span><span>r10</span><span>+</span><span>2</span><span>*</span><span>rdi</span><span>]</span>
<span>vmovups</span>  <span>ymm4</span><span>,</span> <span>ymmword</span> <span>ptr</span> <span>[</span><span>rdi</span><span>]</span>
<span>vpackuswb</span> <span>ymm4</span><span>,</span> <span>ymm4</span><span>,</span> <span>ymmword</span> <span>ptr</span> <span>[</span><span>rdi</span><span>+</span><span>0x20</span><span>]</span>
<span>vpermq</span>   <span>ymm4</span><span>,</span> <span>ymm4</span><span>,</span> <span>-</span><span>40</span>
<span>vpcmpeqb</span> <span>ymm5</span><span>,</span> <span>ymm4</span><span>,</span> <span>ymm0</span>
<span>vpcmpeqb</span> <span>ymm6</span><span>,</span> <span>ymm4</span><span>,</span> <span>ymm1</span>
<span>vpcmpeqb</span> <span>ymm7</span><span>,</span> <span>ymm4</span><span>,</span> <span>ymm2</span>
<span>vpcmpeqb</span> <span>ymm4</span><span>,</span> <span>ymm4</span><span>,</span> <span>ymm3</span>
<span>vpternlogd</span> <span>ymm5</span><span>,</span> <span>ymm4</span><span>,</span> <span>ymm6</span><span>,</span> <span>-</span><span>2</span>
<span>vpor</span>     <span>ymm6</span><span>,</span> <span>ymm5</span><span>,</span> <span>ymm7</span>
<span>vpmovmskb</span> <span>r15d</span><span>,</span> <span>ymm6</span>
<span>mov</span>      <span>r15d</span><span>,</span> <span>r15d</span>
<span>test</span>     <span>r15</span><span>,</span> <span>r15</span>
<span>je</span>       <span>SHORT</span> <span>G_M000_IG03</span>
<span>vpmovmskb</span> <span>r13d</span><span>,</span> <span>ymm4</span>
<span>mov</span>      <span>r13d</span><span>,</span> <span>r13d</span>
<span>lea</span>      <span>r12</span><span>,</span> <span>[</span><span>r15</span><span>+</span><span>r8</span><span>]</span>
<span>cmp</span>      <span>r13</span><span>,</span> <span>r12</span>
<span>je</span>       <span>G_M000_IG43</span>
</pre></td></tr></tbody></table></code></pre></div>

<h3 id="sepparseravx512to256cmpormovemasktzcntcs-0100"><code>SepParserAvx512To256CmpOrMoveMaskTzcnt.cs</code> (0.10.0)</h3>

<p>Given that even the tweaked AVX-512 (0.10.0) based parser had issues with mask
registers, I kept thinking that perhaps there was a more straightforward way to
do this, and then after some searching and unfruitful discussions with LLMs I
figured out that one could just use AVX-512 instructions for loading the <code>char</code>s
and then convert the 16-bit to 8-bit bytes saturated as a 256-bit register,
avoiding the 512-bit mask registers, by using
<code>ConvertToVector256ByteWithSaturation</code> (<code>vpmovuswb</code>) as shown below. This “only”
parses 32 <code>char</code>s at a time, but it is much simpler and avoids the mask register
issue.</p>

<div><pre><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td><pre><span>var</span> <span>v</span> <span>=</span> <span>ReadUnaligned</span><span>&lt;</span><span>VecUI16</span><span>&gt;(</span><span>ref</span> <span>byteRef</span><span>);</span>
<span>var</span> <span>bytes</span> <span>=</span> <span>ISA</span><span>.</span><span>ConvertToVector256ByteWithSaturation</span><span>(</span><span>v</span><span>);</span>

<span>var</span> <span>nlsEq</span> <span>=</span> <span>Vec</span><span>.</span><span>Equals</span><span>(</span><span>bytes</span><span>,</span> <span>nls</span><span>);</span>
<span>var</span> <span>crsEq</span> <span>=</span> <span>Vec</span><span>.</span><span>Equals</span><span>(</span><span>bytes</span><span>,</span> <span>crs</span><span>);</span>
<span>var</span> <span>qtsEq</span> <span>=</span> <span>Vec</span><span>.</span><span>Equals</span><span>(</span><span>bytes</span><span>,</span> <span>qts</span><span>);</span>
<span>var</span> <span>spsEq</span> <span>=</span> <span>Vec</span><span>.</span><span>Equals</span><span>(</span><span>bytes</span><span>,</span> <span>sps</span><span>);</span>

<span>var</span> <span>lineEndings</span> <span>=</span> <span>nlsEq</span> <span>|</span> <span>crsEq</span><span>;</span>
<span>var</span> <span>lineEndingsSeparators</span> <span>=</span> <span>spsEq</span> <span>|</span> <span>lineEndings</span><span>;</span>
<span>var</span> <span>specialChars</span> <span>=</span> <span>lineEndingsSeparators</span> <span>|</span> <span>qtsEq</span><span>;</span>

<span>// Optimize for the case of no special character</span>
<span>var</span> <span>specialCharMask</span> <span>=</span> <span>MoveMask</span><span>(</span><span>specialChars</span><span>);</span>
<span>if</span> <span>(</span><span>specialCharMask</span> <span>!=</span> <span>0u</span><span>)</span>
</pre></td></tr></tbody></table></code></pre></div>

<p>The assembly then is much simpler and direct (closer to AVX2) and not only
avoids the mask register issues but also has more straightforward saturated
conversion since no permutation is needed as the packed data is already in order
just in the <code>ymm4</code> register (that is the 256-bit part of <code>zmm4</code>).</p>

<div><pre><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td><pre><span>mov</span>      <span>edi</span><span>,</span> <span>r9d</span>
<span>lea</span>      <span>rdi</span><span>,</span> <span>bword</span> <span>ptr</span> <span>[</span><span>r10</span><span>+</span><span>2</span><span>*</span><span>rdi</span><span>]</span>
<span>vmovups</span>  <span>zmm4</span><span>,</span> <span>zmmword</span> <span>ptr</span> <span>[</span><span>rdi</span><span>]</span>
<span>vpmovuswb</span> <span>zmm4</span><span>,</span> <span>zmm4</span>
<span>vpcmpeqb</span> <span>ymm5</span><span>,</span> <span>ymm4</span><span>,</span> <span>ymm0</span>
<span>vpcmpeqb</span> <span>ymm6</span><span>,</span> <span>ymm4</span><span>,</span> <span>ymm1</span>
<span>vpcmpeqb</span> <span>ymm7</span><span>,</span> <span>ymm4</span><span>,</span> <span>ymm2</span>
<span>vpcmpeqb</span> <span>ymm4</span><span>,</span> <span>ymm4</span><span>,</span> <span>ymm3</span>
<span>vpternlogd</span> <span>ymm5</span><span>,</span> <span>ymm4</span><span>,</span> <span>ymm6</span><span>,</span> <span>-</span><span>2</span>
<span>vpor</span>     <span>ymm6</span><span>,</span> <span>ymm5</span><span>,</span> <span>ymm7</span>
<span>vpmovmskb</span> <span>r15d</span><span>,</span> <span>ymm6</span>
<span>mov</span>      <span>r15d</span><span>,</span> <span>r15d</span>
<span>test</span>     <span>r15</span><span>,</span> <span>r15</span>
<span>je</span>       <span>SHORT</span> <span>G_M000_IG03</span>
<span>vpmovmskb</span> <span>r13d</span><span>,</span> <span>ymm4</span>
<span>mov</span>      <span>r13d</span><span>,</span> <span>r13d</span>
<span>lea</span>      <span>r12</span><span>,</span> <span>[</span><span>r15</span><span>+</span><span>r8</span><span>]</span>
<span>cmp</span>      <span>r13</span><span>,</span> <span>r12</span>
<span>je</span>       <span>G_M000_IG43</span>
</pre></td></tr></tbody></table></code></pre></div>

<p>And this is what brings Sep parsing up to a staggering 21 GB/s on the 9950X! 🚀</p>

<h3 id="all-parsers-benchmarks">All Parsers Benchmarks</h3>

<p>Finally, given all the parsers available in Sep I have added a benchmark, that
uses the aforementioned environment variable, to run all parsers and compare
their performance on the low level row parsing to better gauge their individual
performance on the same CPU. Here the AMD 9950X.</p>

<p>The new AVX-512-to-256 parser is the fastest parser of all hitting ~21.5 GB/s,
but the Vector256/AVX2 based parsers are not far behind (about 5%).
<code>SepParserVector256NrwCmpExtMsbTzcnt</code> is the cross-platform <code>Vector256</code> based
parser and it is notably now on par with the AVX2, but note how the other
cross-platform <code>Vector128</code> and <code>Vector512</code> based parsers are not (still fast but
5-10% slower), and even worse that the <code>Vector512</code> one is slower than the
<code>Vector128</code>.</p>

<p><code>SepParserIndexOfAny</code> is far behind, and should make it clear that any ideas
that this could be used to compete with Sep are not realistic. 😉 <code>Vector64</code> is
not accelerated on the 9950X and therefore very slow. It’s just there for
completeness.</p>

<table>
  <thead>
    <tr>
      <th>Parser</th>
      <th>MB/s</th>
      <th>ns/row</th>
      <th>Mean</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>SepParserAvx512To256CmpOrMoveMaskTzcnt</td>
      <td><code>21597.7</code></td>
      <td>27.0</td>
      <td>1.351 ms</td>
    </tr>
    <tr>
      <td>SepParserVector256NrwCmpExtMsbTzcnt</td>
      <td><code>20608.5</code></td>
      <td>28.3</td>
      <td>1.416 ms</td>
    </tr>
    <tr>
      <td>SepParserAvx2PackCmpOrMoveMaskTzcnt</td>
      <td><code>20599.3</code></td>
      <td>28.3</td>
      <td>1.417 ms</td>
    </tr>
    <tr>
      <td>SepParserAvx512PackCmpOrMoveMaskTzcnt</td>
      <td><code>19944.3</code></td>
      <td>29.3</td>
      <td>1.463 ms</td>
    </tr>
    <tr>
      <td>SepParserAvx256To128CmpOrMoveMaskTzcnt</td>
      <td><code>19465.5</code></td>
      <td>30.0</td>
      <td>1.499 ms</td>
    </tr>
    <tr>
      <td>SepParserSse2PackCmpOrMoveMaskTzcnt</td>
      <td><code>19312.5</code></td>
      <td>30.2</td>
      <td>1.511 ms</td>
    </tr>
    <tr>
      <td>SepParserVector128NrwCmpExtMsbTzcnt</td>
      <td><code>18252.1</code></td>
      <td>32.0</td>
      <td>1.599 ms</td>
    </tr>
    <tr>
      <td>SepParserVector512NrwCmpExtMsbTzcnt</td>
      <td><code>18067.4</code></td>
      <td>32.3</td>
      <td>1.615 ms</td>
    </tr>
    <tr>
      <td>SepParserIndexOfAny</td>
      <td>` 2787.0`</td>
      <td>209.4</td>
      <td>10.471 ms</td>
    </tr>
    <tr>
      <td>SepParserVector64NrwCmpExtMsbTzcnt</td>
      <td>`  459.9`</td>
      <td>1268.9</td>
      <td>63.446 ms</td>
    </tr>
  </tbody>
</table>

<h3 id="top-level-5950x-vs-9950x-benchmarks">Top Level 5950X vs 9950X Benchmarks</h3>

<p>Finally, the table below shows the top level benchmarks for the 5950X and 9950X
CPUs for the package assets and floats data.</p>

<p>Note how on the 9950X the one million package assets rows are parsed in just 72
ms for <code>Sep_MT</code> (multi-threaded Sep) compared to 119 ms on the 5950X. Or 8 GB/s
on 9950X vs 4.9 GB/s on 5950X. <strong>~8 GB/s!</strong> 🚀</p>

<p>Similarly, for floats Sep can parse 8 GB/s of floating point CSV data
multi-threaded. <strong>~8 GB/s</strong>! 🌪</p>

<p>That’s, about 1.5x-1.6x improvement, similarly to the low level benchmarks,
going from 5950X to 9950X. That’s significant generational improvements to CPU
performance. Kudos to AMD and TSMC.</p>

<h5 id="package-assets-5950x">Package Assets 5950X</h5>

<table>
  <thead>
    <tr>
      <th>Method</th>
      <th>Rows</th>
      <th>Mean</th>
      <th>Ratio</th>
      <th>MB/s</th>
      <th>ns/row</th>
      <th>Allocated</th>
      <th>Alloc Ratio</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Sep</td>
      <td>1000000</td>
      <td>432.887 ms</td>
      <td>1.00</td>
      <td><code>1348.6</code></td>
      <td>432.9</td>
      <td>260.41 MB</td>
      <td>1.00</td>
    </tr>
    <tr>
      <td>Sep_MT</td>
      <td>1000000</td>
      <td>119.430 ms</td>
      <td>0.28</td>
      <td><code>4888.1</code></td>
      <td>119.4</td>
      <td>261.39 MB</td>
      <td>1.00</td>
    </tr>
    <tr>
      <td>Sylvan</td>
      <td>1000000</td>
      <td>559.550 ms</td>
      <td>1.29</td>
      <td><code>1043.3</code></td>
      <td>559.6</td>
      <td>260.57 MB</td>
      <td>1.00</td>
    </tr>
    <tr>
      <td>ReadLine_</td>
      <td>1000000</td>
      <td>573.637 ms</td>
      <td>1.33</td>
      <td><code>1017.7</code></td>
      <td>573.6</td>
      <td>1991.05 MB</td>
      <td>7.65</td>
    </tr>
    <tr>
      <td>CsvHelper</td>
      <td>1000000</td>
      <td>1,537.602 ms</td>
      <td>3.55</td>
      <td>` 379.7`</td>
      <td>1537.6</td>
      <td>260.58 MB</td>
      <td>1.00</td>
    </tr>
  </tbody>
</table>

<h5 id="package-assets-9950x">Package Assets 9950X</h5>

<table>
  <thead>
    <tr>
      <th>Method</th>
      <th>Rows</th>
      <th>Mean</th>
      <th>Ratio</th>
      <th>MB/s</th>
      <th>ns/row</th>
      <th>Allocated</th>
      <th>Alloc Ratio</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Sep</td>
      <td>1000000</td>
      <td>291.979 ms</td>
      <td>1.00</td>
      <td><code>1999.4</code></td>
      <td>292.0</td>
      <td>260.41 MB</td>
      <td>1.00</td>
    </tr>
    <tr>
      <td>Sep_MT</td>
      <td>1000000</td>
      <td>72.213 ms</td>
      <td>0.25</td>
      <td><code>8084.1</code></td>
      <td>72.2</td>
      <td>261.63 MB</td>
      <td>1.00</td>
    </tr>
    <tr>
      <td>Sylvan</td>
      <td>1000000</td>
      <td>413.265 ms</td>
      <td>1.42</td>
      <td><code>1412.6</code></td>
      <td>413.3</td>
      <td>260.57 MB</td>
      <td>1.00</td>
    </tr>
    <tr>
      <td>ReadLine_</td>
      <td>1000000</td>
      <td>377.033 ms</td>
      <td>1.29</td>
      <td><code>1548.4</code></td>
      <td>377.0</td>
      <td>1991.04 MB</td>
      <td>7.65</td>
    </tr>
    <tr>
      <td>CsvHelper</td>
      <td>1000000</td>
      <td>1,005.323 ms</td>
      <td>3.44</td>
      <td>` 580.7`</td>
      <td>1005.3</td>
      <td>260.58 MB</td>
      <td>1.00</td>
    </tr>
  </tbody>
</table>

<h5 id="floats-5950x">Floats 5950X</h5>

<table>
  <thead>
    <tr>
      <th>Method</th>
      <th>Rows</th>
      <th>Mean</th>
      <th>Ratio</th>
      <th>MB/s</th>
      <th>ns/row</th>
      <th>Allocated</th>
      <th>Alloc Ratio</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Sep</td>
      <td>25000</td>
      <td>20.297 ms</td>
      <td>1.00</td>
      <td><code>1001.1</code></td>
      <td>811.9</td>
      <td>7.97 KB</td>
      <td>1.00</td>
    </tr>
    <tr>
      <td>Sep_MT</td>
      <td>25000</td>
      <td>3.780 ms</td>
      <td>0.19</td>
      <td><code>5375.6</code></td>
      <td>151.2</td>
      <td>179.49 KB</td>
      <td>22.51</td>
    </tr>
    <tr>
      <td>Sylvan</td>
      <td>25000</td>
      <td>52.343 ms</td>
      <td>2.58</td>
      <td>` 388.2`</td>
      <td>2093.7</td>
      <td>18.88 KB</td>
      <td>2.37</td>
    </tr>
    <tr>
      <td>ReadLine_</td>
      <td>25000</td>
      <td>68.698 ms</td>
      <td>3.38</td>
      <td>` 295.8`</td>
      <td>2747.9</td>
      <td>73493.12 KB</td>
      <td>9,215.89</td>
    </tr>
    <tr>
      <td>CsvHelper</td>
      <td>25000</td>
      <td>100.913 ms</td>
      <td>4.97</td>
      <td>` 201.4`</td>
      <td>4036.5</td>
      <td>22061.69 KB</td>
      <td>2,766.49</td>
    </tr>
  </tbody>
</table>

<h5 id="floats-9950x">Floats 9950X</h5>

<table>
  <thead>
    <tr>
      <th>Method</th>
      <th>Rows</th>
      <th>Mean</th>
      <th>Ratio</th>
      <th>MB/s</th>
      <th>ns/row</th>
      <th>Allocated</th>
      <th>Alloc Ratio</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Sep</td>
      <td>25000</td>
      <td>16.182 ms</td>
      <td>1.00</td>
      <td><code>1255.7</code></td>
      <td>647.3</td>
      <td>7.94 KB</td>
      <td>1.00</td>
    </tr>
    <tr>
      <td>Sep_MT</td>
      <td>25000</td>
      <td>2.497 ms</td>
      <td>0.15</td>
      <td><code>8136.8</code></td>
      <td>99.9</td>
      <td>179.81 KB</td>
      <td>22.64</td>
    </tr>
    <tr>
      <td>Sylvan</td>
      <td>25000</td>
      <td>38.800 ms</td>
      <td>2.40</td>
      <td>` 523.7`</td>
      <td>1552.0</td>
      <td>18.72 KB</td>
      <td>2.36</td>
    </tr>
    <tr>
      <td>ReadLine_</td>
      <td>25000</td>
      <td>54.117 ms</td>
      <td>3.34</td>
      <td>` 375.5`</td>
      <td>2164.7</td>
      <td>73493.05 KB</td>
      <td>9,253.27</td>
    </tr>
    <tr>
      <td>CsvHelper</td>
      <td>25000</td>
      <td>71.601 ms</td>
      <td>4.42</td>
      <td>` 283.8`</td>
      <td>2864.1</td>
      <td>22061.55 KB</td>
      <td>2,777.70</td>
    </tr>
  </tbody>
</table>

<h2 id="-summary-highlights">🌟 Summary Highlights</h2>

<p>AI generated summary highlights 😁</p>

<ul>
  <li>🚀 <strong>Blazing Fast Parsing</strong>: Sep 0.10.0 achieves an incredible <strong>21 GB/s</strong> CSV
parsing speed on AMD 9950X, a <strong>~3x improvement</strong> since its first release in
2023!</li>
  <li>🖥 <strong>Hardware Boost</strong>: Upgrading from AMD 5950X (Zen 3) to AMD 9950X (Zen 5)
delivers a <strong>~1.6x performance gain</strong>, thanks to AVX-512 support and higher
clock speeds.</li>
  <li>🧠 <strong>Smarter Parsers</strong>: The new <strong>AVX-512-to-256 parser</strong> circumvents mask
register inefficiencies, outperforming AVX2 and older AVX-512 parsers,
achieving <strong>~21 GB/s</strong>!</li>
  <li>📊 <strong>Cross-Platform Excellence</strong>: The <code>Vector256</code> based cross-platform parser
is now on par with AVX2, ensuring top-tier performance across platforms.</li>
  <li>🔬 <strong>Deep Dive</strong>: Explored .NET 9.0 JIT optimizations, SIMD assembly, and
parser design for CSV parsing.</li>
  <li>🏆 <strong>Multi-Threaded Power</strong>: Sep parses <strong>1 million rows in just 72 ms</strong> on
the 9950X, achieving <strong>8 GB/s</strong> for real-world CSV workloads.</li>
  <li>🔧 <strong>Continuous Improvement</strong>: Incremental optimizations and hardware
advancements have propelled Sep to new heights in just under 2 years.</li>
</ul>

<p>🎉 Sep is a testament to the power of software and hardware working together
to push the boundaries of performance!</p>

<p>That’s all!</p>

  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Sofie: open-source web based system for automating live TV news production (267 pts)]]></title>
            <link>https://nrkno.github.io/sofie-core/</link>
            <guid>43936408</guid>
            <pubDate>Fri, 09 May 2025 13:18:42 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://nrkno.github.io/sofie-core/">https://nrkno.github.io/sofie-core/</a>, See on <a href="https://news.ycombinator.com/item?id=43936408">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="__docusaurus_skipToContent_fallback"><header><div><p>Sofie is a web-based, open&nbsp;source TV&nbsp;automation system for studios and live shows, used in daily live&nbsp;TV&nbsp;news productions by the Norwegian public&nbsp;service broadcaster NRK since September&nbsp;2018.</p></div></header><main><div><div><h3><a href="https://nrkno.github.io/sofie-core/docs/user-guide/intro">User Guide</a></h3><p>General documentation describing functionality, installation, and operation of a <em>Sofie</em> system.</p></div><div><h3><a href="https://nrkno.github.io/sofie-core/docs/for-developers/intro">For Developers</a></h3><p>Specific documentation regarding development and contribution to the <em>Sofie</em> code base.</p></div><div><h3><a href="https://nrkno.github.io/sofie-core/releases">Releases</a></h3><p>Current, past, and upcoming releases of the <em>Sofie</em> system.</p></div><div><h3><a href="https://join.slack.com/t/sofietv/shared_invite/enQtNTk2Mzc3MTQ1NzAzLTJkZjMyMDg3OGM0YWU3MmU4YzBhZDAyZWI1YmJmNmRiYWQ1OTZjYTkzOTkzMTA2YTE1YjgxMmVkM2U1OGZlNWI" target="_blank" rel="noopener noreferrer">Community</a></h3><p>Please join the growing <em>Slack</em> to meet the developers and other <em>Sofie</em> users.</p></div></div></main></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Aberdeen – An elegant approach to reactive UIs (184 pts)]]></title>
            <link>https://aberdeenjs.org/</link>
            <guid>43936097</guid>
            <pubDate>Fri, 09 May 2025 12:42:29 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://aberdeenjs.org/">https://aberdeenjs.org/</a>, See on <a href="https://news.ycombinator.com/item?id=43936097">Hacker News</a></p>
Couldn't get https://aberdeenjs.org/: Error: getaddrinfo ENOTFOUND aberdeenjs.org]]></description>
        </item>
        <item>
            <title><![CDATA[NSF faces shake-up as officials abolish its 37 divisions (465 pts)]]></title>
            <link>https://www.science.org/content/article/exclusive-nsf-faces-radical-shake-officials-abolish-its-37-divisions</link>
            <guid>43935913</guid>
            <pubDate>Fri, 09 May 2025 12:13:36 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.science.org/content/article/exclusive-nsf-faces-radical-shake-officials-abolish-its-37-divisions">https://www.science.org/content/article/exclusive-nsf-faces-radical-shake-officials-abolish-its-37-divisions</a>, See on <a href="https://news.ycombinator.com/item?id=43935913">Hacker News</a></p>
Couldn't get https://www.science.org/content/article/exclusive-nsf-faces-radical-shake-officials-abolish-its-37-divisions: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[CryptPad: An Alternative to the Google Suite (155 pts)]]></title>
            <link>https://cryptpad.org/</link>
            <guid>43935707</guid>
            <pubDate>Fri, 09 May 2025 11:37:40 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://cryptpad.org/">https://cryptpad.org/</a>, See on <a href="https://news.ycombinator.com/item?id=43935707">Hacker News</a></p>
<div id="readability-page-1" class="page">
    
    
    <nav>
        <p><a href="https://cryptpad.org/" aria-label="Return to homepage">
                <img src="https://cryptpad.org/images/CryptPad_logo_text_horizontal.svg" alt="CryptPad logo">
            </a>
        </p>
    <!--start of hamburger menu -->
    
    <div id="dropDown">
    <ul>
    
    <li>
        <a href="https://cryptpad.org/pricing">
            
            <span>Pricing</span>
        </a>
    </li>
    
    <li>
        <a href="https://docs.cryptpad.org/">
            
            <span>Documentation</span>
        </a>
    </li>
    
        <li>
            <a href="https://cryptpad.org/about/">
                
                <span>About</span>
            </a>
        </li>
    
    <li>
        <a href="https://opencollective.com/cryptpad/contribute/">
            
            <span>Donate</span>
        </a>
    </li>
</ul>

    </div>
    <!--end of hamburger menu and start of navbuttons for large screens -->
    <div>
    <ul>
    
    <li>
        <a href="https://cryptpad.org/pricing">
            
            <span>Pricing</span>
        </a>
    </li>
    
    <li>
        <a href="https://docs.cryptpad.org/">
            
            <span>Documentation</span>
        </a>
    </li>
    
        <li>
            <a href="https://cryptpad.org/about/">
                
                <span>About</span>
            </a>
        </li>
    
    <li>
        <a href="https://opencollective.com/cryptpad/contribute/">
            
            <span>Donate</span>
        </a>
    </li>
</ul>

    </div>
    </nav>

    
        
<section id="intro">
    <div>
        <h2>Collaboration and privacy</h2>
        <p>Yes, you can have both</p>
    </div>

    <p><img src="https://cryptpad.org/images/drive-preview-sandpaper.png?ver1746189604197" alt="cryptdrive with some folders and documents">

    </p>
</section>

<section id="try-cryptpad">
    <p>CryptPad is a collaborative office suite that is end-to-end encrypted and open-source.</p>
    <a href="https://cryptpad.org/instances/">Try CryptPad <i></i></a>
</section>



<section id="testimonials">
    <h2>Testimonials</h2>
    <p>We asked users what they love about CryptPad.<br>
        <a href="https://cryptpad.fr/form/#/2/form/view/1NDX7MEkhzNz1FCrcjCxmvjgIj24QjWNncZygR60Ch8/">Submit a testimonial</a>
    </p>
    
    






<div id="myCarousel" aria-live="off" aria-roledescription="carousel" aria-label="Testimonials">
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's a privacy-first alternative to Google docs. This is one of the few tools that you don't need to give up on functionality or usability compared to the privacy-invasive alternative.</p>
    <p>
      
        J.
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Sharing folders and files does not require an account of the persons to whom the data is to be shared and the data is not necessarily traceable to an account that created the data. </p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>The possibility to keep everything neatly sorted in folders, and the sharing options.</p>
    <p>
      
        Bugspriet
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>easy to use
multi OS</p>
    <p>
      
        Valerie
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Cryptpad helps me organize my life and it does this in a private and secure way. Very cool :&gt;</p>
    <p>
      
        Donno
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I like being able to write documents while on the go and knowing that what I write will not be used to feed tracking algorithms.
</p>
    <p>
      
        BenJ
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's easy to use, because it is not bloated with thousands of features.</p>
    <p>
      
        Wolfgang
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It is private version of google drive for me. I want to get off google and the only tethers I have are Drive and Gmail, and while I need drive to interact with others, I can write my essays and papers without google reading what I write for them to track and send me ads and tell the government.</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that it's open source, it's E2EE, and that the interface is very well designed for good user interaction. Thank you again for creating this.</p>
    <p>
      
        Do Not Want My Name Here
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>it's crypted, it's free, it's cool, the whole stuff for cooperation.</p>
    <p>
      
        Gerhard
        
      
      - Church
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that it is secure and is an excellent tool to work remotely on content with my colleagues.
</p>
    <p>
      
        Sabine Faure
        
      
      - KDAB (France) - IT training and services
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>What I most love in cryptpad it's about privacy policies and cryptography. Have a service of this category for free, it's just amazing. The teams and real time working kicks out any disappointing if compare the product with Google Docs. I really would trust CryptPad for any service or doc that you must do online and would not worry at all with information leaks.</p>
    <p>
      
        Thiago Melo
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's privacy and ease of use</p>
    <p>
      
        Elias
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's so easy to use, and it's the only kanban-tool so far, which everyone could "read" without any problem. Usability is really the essence of the service. Please keep up that kind of approach! And love it for being open source and that it's got zero-knowledge-encryption.</p>
    <p>
      
        Alois M.
        
      
      - Science university student
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I Love that the movement I sympathize with use CryptPad and as this is testament to the attention and wise considerations of the IT-group. </p>
    <p>
      
        Henrik
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It never stops developing, it is free of tracking and there are a lot of nice features.</p>
    <p>
      
        Tim
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad is my stop solution for its rich text editor, being able to share online and that too without ever logging in. Its so easy to share docs, be it sheets, or docs or codes or presentation or markdown. It just works out of the box and one of my most important daily tools to improve productivity. </p>
    <p>
      
        Niket Agrawal
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Being able to concurrently jot down notes with other people</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Privacy without causing too much inconvenience, and ease of creating notes like pastebin. </p>
    <p>
      
        Lily
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that I know that my data are safe.</p>
    <p>
      
        Corentin B.
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love the confidentiality the most - not being required to use an email address, meaning my data is not being tracked all over the internet.</p>
    <p>
      
        Tasha
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>free, safe, easy, nice to share, compatible with office projects, organized</p>
    <p>
      
        Ivo Herrmann
        
      
      - School, Teacher training college
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>While Italian universities and schools are mindlessly giving away students and researchers' data to the surveillance capitalism corporations, pretending there is no alternative, CryptPad is showing that alternatives exist, if you only care to look for them.</p>
    <p>
      
        MCP
        
      
      - University
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>to have a workspace all time</p>
    <p>
      
        bücherwurm
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love using a secure and privacy-oriented web-based tool that offers such a great integration of the different applications.</p>
    <p>
      
        Christian Terboven
        
      
      - RWTH Aachen University
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love how I can collaborate with my friends on documents for school while not having the school or my internet provider seeing what I do. Oh, it's also faster and more effecient than Google Docs.</p>
    <p>
      
        Forever XML
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Centralized sharing of documents and scripts, easy account setup, easy to use, encryption, open source.</p>
    <p>
      
        Gabriel
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It free and anomymous. It works reliable</p>
    <p>
      
        Thomas Behrmann
        
      
      - FOM
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's practical, it's safe, it's free – perfect conditions for collaboration!</p>
    <p>
      
        V.
        
      
      - university library
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I enjoy that this medium is open source and privacy focused!</p>
    <p>
      
        Digital Fyre
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Cryptpad is great because it is trustworthy.
It is well encrypted and Open Source.</p>
    <p>
      
        Anbyte
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>So simple and secure, with great functionality. I love it.</p>
    <p>
      
        Nathan
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>First of all, I love the lightweight interface design of CryptPad. It makes it very easy, especially for less digital people, to start using the online collaboration tools. Another thing I love is that we can work with a high level of privacy here. That's hugely important in tool selection in associations I work with.
For collaborative writing CryptPad is my tool of choice, for the overview to small projects I immediately start a Kanban board. CryptDrive is super as we can store all files here.</p>
    <p>
      
        DoSchu
        
      
      - coworking communities / women's associations
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It wins the trifecta: fast, freedom respecting and fully collaborative. And a solid, simple design makes it a pleasure to use. It's easy to work with groups, small to large, at any experience level.</p>
    <p>
      
        Brendan Howell
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>data protection and security</p>
    <p>
      
        P*M
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Finally a live group word processor (and more!) I am inclined to trust.
I happily have been using CryptPad for personal projects so far, and will be using it for work as well in the future.</p>
    <p>
      
        Florian Sesser
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Privacy and security it provides to people.</p>
    <p>
      
        anonymous
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Well protected, Collaboration and many features. Perfect tool for collaboration.</p>
    <p>
      
        jakob
        
      
      - Political Education
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Online realtime collaboration tools, encryption, open source, variety of tools, server location not in USA.</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Spreadsheet just works smoothly with all functionalities you can expect from other famous shared spreadsheet apps, without spywares.</p>
    <p>
      
        Vincent
        
      
      - scopyleft
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Desktop/Mobile compatibility, share documents to users w/o account, pragmatic set of functions</p>
    <p>
      
        Uwe, Berlin
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love the idea of a my documents and writings being stored securely and offsite so I don't have to worry about my goof ups in my homelab.</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that I can work on my files anywhere I am, and not worry about losing my files due to power outages or simply forgetting about manual saving.</p>
    <p>
      
        Karol
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Cryptpad makes me feel more like a user and less like a datamine</p>
    <p>
      
        Frederik
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>the online encrypt office(end-to-end), and the privacy policy is very friendly to the people who like privacy.
One day I will be a paying user after I graduate from school and get a job. Hope for it!</p>
    <p>
      
        Rax
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>hosted in EU, easy to use, has all necessary functionalities, can be self hosted</p>
    <p>
      
        john
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Assez pratique pour partager mes écrits</p>
    <p>
      
        Loris
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>The ease with which Kanban boards are worked</p>
    <p>
      
        Francisco Miguel Berrocal Machado
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's open source and a super alternative to all the proprietary apps from Microsoft, Google, Dropbox, etc.</p>
    <p>
      
        Bert Schal
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love the ease of use of CryptPad, that I have all my documents organized in one place and the possibilities for collaboration.
New documents are available in an instant for other team members and I can invite others to my documents without the need for third party communication and thus compromising the privacy of the documents.</p>
    <p>
      
        Adrian
        
      
      - Piratenparty of Germany (Political Party)
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>For me cryptpad is the all in one solution for office, cloud and encryption. It also comes with intuitive handling. Its simply my all in one tool. The option, to use the free version within all features is just great. Many thanks to all the developers and the whole team. </p>
    <p>
      
        Antje
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad is the best safe place to keep my documents by accessing both PC and smartphone</p>
    <p>
      
        aAle
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's easy to use, lightweight and best of all open source.</p>
    <p>
      
        Bronson
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>ergonomic &amp; doesn't require account to share sth &amp; not google</p>
    <p>
      
        Maciek
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>That it is a good, easy-to-use, open source and free alternative to other online office suites and storage, which, unlike the similar suites and storage, does not spy on you or profit from your data as it cannot due to the way it works. I also love that it keeps adding new tools in order to be able to do more than possibly even the other similar online software does.</p>
    <p>
      
        A wondering reviewer
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>God, what don't I? I love the feel of the UI, the robustness of the text. The privacy is great, and why I got into it in the first place. Takes alot off my mind. Decryption's nice and quick, too, so it's not a slog. Overall, the workspace feels really nice, and almost like an online home. Definitely recommend for anyone looking for an alternative to larger online word-processors like Google Docs.</p>
    <p>
      
        Scrawny T. Demon
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>That you can write compleatly anonymus.
That there is a markdown option.
In the hole big, i love all of CryptPad!</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's a good user experience. The functionality is really good with a good UI. The collaboration works really well. It's a trust-worthy service with values that align with my own and the values of my organisations.</p>
    <p>
      
        Charles
        
      
      - NGO
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>secure, encrypted document/ pad easy to share, working on texts together, summarize common topics with friends/ partners</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>The facility of its access, it’s very handy in use, free of charges, multiple forms and usages (among collègues, with students, students without teachers…) European server, </p>
    <p>
      
          *****
      
      
      - Gymnasium im PAMINA-Schulzentrum
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It is data protection compliant, covers a wide range of tools, easy to share with collaborators</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Simplicity of the interface, maintenance of privacy and no personal information required.
Can provide a one-time contribution, if that's possible.</p>
    <p>
      
        Maverick
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Privacy. That's literally the best thing.</p>
    <p>
      
        John Doe
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I trust it, because it's included with parrot OS. I can use it to store my remote tools for CTFs, and do writeups. Really useful alternative for the Google suite, that is more trustworthy. 9/10, would apreciate more storage space in the free version though.</p>
    <p>
      
        Skill
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I have used it rarely, but that was to ensure recording of personal anecdotes,, and descriptions of life inthe past from seniors was not compromised by recording infor example Google Docs. It allowed me to give them privacy assurances.</p>
    <p>
      
        anonymous in UK 
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I use Cryptapd for school and its simle and easy to understand</p>
    <p>
      
        MaxiSkye
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Everything encrypted in one place</p>
    <p>
      
        Hobi
        
      
      - Education Institution
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that it's an open-source alternative to Google's suites that WORKS (Plus, it has a free plan).</p>
    <p>
      
        Dirt
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Simplicity and privacy.</p>
    <p>
      
        Rogue
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love the ease of use and the fact that my data is stored in encrypted form.</p>
    <p>
      
        Kevin King
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Privacy, Clean interface, Speed, Open source , Themes, Sharing capabilities, Easy to understand as a new user, Security, No email required, I wish plain text documents had their own file type , Free for people who can't afford it (I appreciate it)</p>
    <p>
      
        John C. Smith 
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>The security and open sourceness of a full office suite.</p>
    <p>
      
        Ghostveil
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>What's not to love? Cryptpad is free, open source and privacy-centric. I can store whatever data I feel I need to store safely AND has solutions that mimic the best office solutions out there. Thank you Cryptpad devs!</p>
    <p>
      
        N
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad allows me to securely store, edit, and share files across the web, ensuring quick and easy access to files from any of my devices, so I can be confident that all my files will be easily available while maintaining complete security.</p>
    <p>
      
        IceWolf
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Looking for alternatives that can actually replace platforms such as GoogleDrive + Sheets with encrypted privacy in mind, Cryptpad check almost all boxes making it the best of all: open-source, wth al lencryption efforts to maitain your control over your data, also making possible to share and collaborate with both other privacy enthusiasts and normies and onlyoffice users. And making it free for 1GB so you can try it out and see for yourself the great work the team have done. Thank you!</p>
    <p>
      
        Honeybadger does care for privacy FLOSS &lt;3
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad offers similar services to GoogleDocs, except that it's privacy-minded. </p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It auto saves</p>
    <p>
      
        Jessica Johnson
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Its free to use and pretty straight forward!
There is a lot of space for creative application.</p>
    <p>
      
        Yannik
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Given the abusive commercial data mining activities of other cloud based productivity tool providers, the suite of tools offered by CryptPad and their dedication to data privacy and implementation of data encryption is both laudable and the future.

They actually respond to issues promptly. The free tier is generous and allows shoe-string independent developers like myself to get my fledgling business started. I will have no hesitation in switching to a paid tier when cashflow permits.</p>
    <p>
      
        Droyd
        
      
      - Game Development
      
    </p>
</div>
        
      
        
          
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Made for getting stuff done. A clean user interface, secure, and doesn't get in the way of what I am trying to do. Should be the standard for shared and personal file creation and organisation.</p>
    <p>
      
        Geredd
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Easy to use collaboration platform with nice design.</p>
    <p>
      
        Michael
        
      
      - Makerspace Gütersloh e.V.
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>free, dsvgo (german for data conform), encrypted, !!easy access without registration, important in lots of context where you want to invite people to work but cant ask them to create an account</p>
    <p>
      
        mo
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's very versatile for securely transferring various sensitive text documents between my laptop, my desktop, and my phone without the need for flash drives or cables. It's already saved me in a pinch twice! Free (as in Freedom), open source, and secure. What's not to love!</p>
    <p>
      
        Brutalation
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's really easy, clean, speed. I've tried many tool, and i think it's the best one. </p>
    <p>
      
        Nassim
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It is a space free from the big (gafam)</p>
    <p>
      
        RICCARDO GIUSTI
        
      
      - Secondary School
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad is available for all platforms, it's easy to handle, it's collaborative, it's save and it's free!
</p>
    <p>
      
        Heinz
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Digitalcourage, the NGO I am volunteering for, had used Etherpad for many years to write texts collaboratively. When I set up a CryptPad server, everyone switched to it within a few weeks. As a pro-privacy organization, using a zero-knowledge service is a no-brainer. As an IT admin, I am glad that I cannot read the documents stored on my CryptPad server. As a user, it feels good that I can control who gets to read my documents. There is no reason to use Google Docs or Microsoft 365 any more!</p>
    <p>
      
        Christian Pietsch
        
      
      - Digitalcourage e.V.
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Cooperation</p>
    <p>
      
        mvbrevern
        
      
      - Creation of a Consitution for Germany
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Easy to use in every way. UI is intuitive. Anonymous. Plenty of storage space. Autosaving is a godsend. My largest document is 10k words and there's no lag. It's like Google Doc but better in every way. 10/10</p>
    <p>
      
        Rat
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>No need to have an account. Just use it. - I'm lucky to be able to pay some support for this. But, this is available to anyone.</p>
    <p>
      
        Eden
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>easy and smart solution - European project!</p>
    <p>
      
        Ralf
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It is very uncomplicated to use, w/o any registration. Open access via browser. No big company from overeseas in the background. Encrypted service.</p>
    <p>
      
        Michael
        
      
      - w-Quadrat Immobilien GmbH
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I believe that CryptPad is one of the best free and open source cloud-storage software, that is really intuitive, easy both in the set-up process, and every day use. </p>
    <p>
      
        nonelone
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>We can have an open-source suite of collaboration tools that respects privacy not like Google.</p>
    <p>
      
        Amaury LUCCHINI
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>'What do I love about Cryptpad?' Utter simplicity of the interface - big, bold and tells you what's going on. Very reassuring for new users who get confused/intimidated by techy UIs with dozens of buttons. Will definitely upgrade when independent journalism funding improves. For now, tho, this pad is a great way for new teams to safely connect e.g. as here in the vast Pacific, across many timezones. </p>
    <p>
      
        jasonbrown1965
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's open source and don't collect my data!</p>
    <p>
      
        Neeko
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad is the Zero-Trust Secure Note and Collaboration Suite for Journalists.</p>
    <p>
      
        Raymund K.D. Kho
        
      
      - Connecting the Dots Institute Netherlands (CTDI-NL) - Journalism.
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love it because we can easily work on texts and tables anonymous together with other people who are not in our organisation without the obligation to create google accounts or accounts on other platforms.</p>
    <p>
      
        K. Krüger
        
      
      - LIFE e.V.
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Free end-to-end encryption for document collaboration!  Have not seen anything that compares for this purpose</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>End-to-end encrypted and collaborative working without the hassle of signing up anywhere for co-workers. What else would I want?</p>
    <p>
      
        Simon
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>The usability of it to work together inside documents, while having a strong security and privacy on the documents.
Its integration with multiple file formats and a vision on improving free and open software technologies to work securely together. </p>
    <p>
      
        Technoprenerd
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Found CryptPad to be very easy and quite straightforward to use. Very similar to the Microsoft Office &amp; LibreOffice software suites and would definitely say it's a smooth transition from those offerings to the CryptPad software suite. Have greatly enjoyed - and have utilised quite often - the collaboration features of CryptPad; exceedingly helpful when working with others on a file (or multiple files). In conclusion, very pleased with CryptPad and would highly recommend it!</p>
    <p>
      
        Johnathan Anderson
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Clean design, generous free storage (even after giving away more free space during the pandemic), simplicity and end-to-end-encryption all bundled into one place to put my stuff? Sign me up.
</p>
    <p>
      
        Megafeps
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It is anonym, has a good layout and all basic features i need.</p>
    <p>
      
        Panban
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Full crypted, easily use, comfortable usability</p>
    <p>
      
        Marcus
        
      
      - Gymnasium
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>easy access to collaboration, data protection, data economy, free&amp;open software, uncommercial project</p>
    <p>
      
        Mathias
        
      
      - Technical University
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>free, private kanbans</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that it's easy to share files with other writers without having to share any personal information, really just a link.</p>
    <p>
      
        Liv R.
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>fast, no tracking whatsoever</p>
    <p>
      
        Rate My Shoes
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Ease of use, while respecting privacy</p>
    <p>
      
          *****
      
      
      - University
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>In general it is very cool.</p>
    <p>
      
        N.A.
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Free account for Educational
Anonymity and ease of use
Work on shared documents in real time
Sharing and linking is easy</p>
    <p>
      
        Roman Stalla
        
      
      - Middle School
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>The fact that everything is private and encrypted. Also the UI is really good and it's easy to write any document with it.</p>
    <p>
      
        ColdFox
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Ease of use, markdown support and price per functionality</p>
    <p>
      
        mclang
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love the privacy and focus on what is essential. It is also very reliable.</p>
    <p>
      
        Oskar Gstrein
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>That it is like a full fledged "cloud" solution, including polls, with end-to-end encryption.</p>
    <p>
      
        anonymous
        
      
      - Extinction Rebellion
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that CryptPad is a privacy respecting alternative to popular office software that refuses to compromise on both security and functionality.</p>
    <p>
      
        itsme
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Open Source tool </p>
    <p>
      
        Marie-justine GUERQUIN
        
      
      - Université Paris Cité
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Cryptpad is perfect as an easily accessible collaboration tool which provides rich editing options and is secure at the same time. I'm using it whenever password protection is needed for frequently revisited documents.</p>
    <p>
      
        Georg von Rechenberg
        
      
      - Project digital youth participation in Mecklenburg-Vorpommern, Germany
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love its convenience and rich functionality.  It just always works as it should without being too much of a cognitive lift.</p>
    <p>
      
        Skalagrim
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Private, Free, Open Source, can be self hosted</p>
    <p>
      
        4n0nym0us
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Privacy and ease of use - I have tried quite a few tools in last 1-2 years and CryptPad is both easy to use and fully featured!</p>
    <p>
      
        private :)
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>encryption is love. encryption is life.</p>
    <p>
      
        Dj4ng0
        
      
      - cybersecurity
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>handy to cooperate and share for relevant audiences.</p>
    <p>
      
        Pekka Ihanainen
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>End-to-end encryption AND realtime online collaboration without any hassle :-) </p>
    <p>
      
        Geert-Jan
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>That it is interactive and data protection conform</p>
    <p>
      
        Giacomo
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>- Everything is end-to-end encrypted
- Lots of document types
- Mixes Google drive and Google docs functionalities </p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad allows me to collaborate with my colleagues and teammates without having to compromise our data security or privacy by placing them in the hands of some third party entity. The different apps are powerful and easy to use and sharing files is as simple as sending a link. Brilliant!</p>
    <p>
      
        Opalium
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that it's NOT Google.</p>
    <p>
      
        Jon Klement
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>free use
many functions
easy use</p>
    <p>
      
        Mumpitz
        
      
      - German High School (Gymnasium)
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Google independent sheets that keep my data private.</p>
    <p>
      
        Michael
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>End-to-end encryption. Possibility to publicly interoperate even without account.</p>
    <p>
      
        matteop3
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I was looking for a tool where I can throw my pictures in the document and they go full page directly.</p>
    <p>
      
        Pierre
        
      
      - Laboratoire d'aérologie, CNRS, Toulouse
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love CrpytPad because it's similar to Google Drive (and will become more so when the development team finally launches native CryptPad Docs, Sheets, and Slides) with the important difference that with CryptPad I know that my private documents are actually private. Not even the CryptPad team can see the contents of my Drive. Can't say the same for Google Drive.</p>
    <p>
      
        moss piglet
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>free, secure, easy to use</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Dataprotection, European Software, sharing of Documents, OS independent</p>
    <p>
      
        Peter
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>When I want a document that others can view and comment on or edit, I fire up cryptpad and create one. I care too much about privacy to use google drive, cryptpad makes it easier.</p>
    <p>
      
        Speaker Twenty Two
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Ease of use and respect of user privacy.</p>
    <p>
      
        Anton
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>That it is so good while being absolutely free!</p>
    <p>
      
        racoon
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>1) Privacy
2) Sharing capabilities
3) (Presumably) what I put in my cryptpad isn't being scraped up into a giant pile of writing owned by big tech</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's simple, efficient, open to everyone, collaborative and secured. It's just like GAFAM services but in better! Thanks guys</p>
    <p>
      
        Simon
        
      
    </p>
</div>
        
      
        
          
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Easy collaboration, security and privacy. Obviously those are very important to us.  We are an action group targeting the climate crisis. We plan non-violent but disruptive actions that meet resistance from police, financial institutions and government. Most of us have never been in an action group before. Although consequences are scary, we feel that we must do what we can, in the little time that is left. Our tools must be reliable and usable for non-professionals.</p>
    <p>
      
        Marc (not my real name)
        
      
      - Extinction Rebellion
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's great to have a secure and private platform to organise and collaborate with others. Best of all: it's entirely open source using a free licence. Setting up and maintaining a CryptPad is rather simple, so you can run your own server in no time if the fully encrypted nature of all user data is not enough for you to put trust into third party servers.</p>
    <p>
      
        Jan S.
        
      
      - Digitalcourage
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Simple. Clean. Secure.</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad is one of those FLOSS projects which take user feedback seriously! It's easy to use and just works. And a love to see it grow over time. It absolutely stands the pace with bigger corporate alternatives and exceeds them from time to time not only in regards to privacy. </p>
    <p>
      
        Erwin Ernst steinhammer
        
      
      - Chaos Computer Club Vienna
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's a free online office suite that respects your privacy. You can't find that very easily.</p>
    <p>
      
        Joseph Burgan
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Ease of use and set up</p>
    <p>
      
        winston
        
      
      - Project organization
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Collaborative writing and sharing with colleagues as well as students
organizing these documents in a drive</p>
    <p>
      
        Pat
        
      
      - grammar school
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Simplicité, accessibilité et richesse des fonctionnalités proposées</p>
    <p>
      
        Gilles
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Feels safe because it has crypt in the name so it's encrypted : D
Better than Google things because it's my data and I don't want it out there! Thank you for all that</p>
    <p>
      
        Jeff
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love how the UI is consistent without sacrificing security and privacy.</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's open-source, it has a range of applications, not only rich-text documents, spreadsheets and forms but also some more uncommon and very useful ones, like kanban boards, markdown slides, whiteboards and code documents with syntax highlighting. On top of that, everything is encrypted on the client side.</p>
    <p>
      
        Ângelo
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>range of options (cloud drive, kanbans, collaborative working), it's free, it's secure</p>
    <p>
      
          *****
      
      
      - Secondary school in Germany
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Collaborative working with unlimited people, highly protected personal data,  a lot of uses for educational purposes</p>
    <p>
      
        Carl Schöning
        
      
      - Gymnasium Ulricianum
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Range and features of documents, including the various programming languages available.</p>
    <p>
      
        Bill
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>efficient, trustworthy, reliable, easy to use, it simply works</p>
    <p>
      
        Annette Leiderer
        
      
      - German High School
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>The functions about Cryptpad. We are use it for Online Workshops</p>
    <p>
      
        Dennis Kranz
        
      
      - Library
      
    </p>
</div>
        
      
        
          
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>C'est gratuit et puissant ! Et français, conforme RGPD.</p>
    <p>
      
        E. COURTEAU
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's encrypted, has a lot of functions, is free to use, and has team settings</p>
    <p>
      
          *****
      
      
      - Human Rights sector
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that I don´t need to submit personal information to use it, it's intuitive interface and clear help messages. </p>
    <p>
      
        Niño Artillero
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Privacy, collaboration and Kanban.</p>
    <p>
      
        Stefan
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>First of all because it is not Google or another tech giant and CryptPad has privacy and security in mind.</p>
    <p>
      
        Dave
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Working from everywhere with everyone.</p>
    <p>
      
        Denis
        
      
      - Bremen school
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Easy to use interface, strong privacy, and it just works well. CryptPad offers a lot of different document types, including spreadsheets, plain text documents, and whiteboards. It can be self-hosted so it doesn't rely on a single provider, and it's free software, allowing anyone to study, modify, and share it.</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>That I can work with other people on the same document.</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I use it to share project with my friends, and co-working</p>
    <p>
      
        MagicTINTIN
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>With CryptPad's zero-knowledge encrypted storage, I'm able to keep my documents in the cloud without having to worry about them ever being compromised.</p>
    <p>
      
        Ash
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Simple, private sharing.</p>
    <p>
      
          *****
      
      
      - Education
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's open source and has a lot of different apps needed for free</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love the privacy and control I have over that privacy, as well as knowing my data is safe. The layout is fantastic, simply but has every tool you could need. The whole site is very intuitive and quick to learn! If you've used similar sites, you already know everything you need to navigate CryptPad, without worrying about your data being collected and sold to advertise to you. The anonymity is phenomenal and the reason I switched over.</p>
    <p>
      
        Wreck
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love the fact that it's open source, end-to-end encrypted, allows guest users, allows registration without email or any other personal details and is self-hostable while providing free and paid hosted instances.</p>
    <p>
      
        Rasheed
        
      
      - Islamic Audiobooks Central
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad Kanban and Docs make it easy to manage music projects with other creatives. It's also a great cloud notepad for taking notes during school.</p>
    <p>
      
        J
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>We used cryptpad.fr in our student flat-share to assemble an address list for the health department after a Corona case in the Corona crisis. </p>
    <p>
      
        Sebastian Kiel
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Cryptpad makes you feel your data is safe. I like the Zero-knowledge policy.</p>
    <p>
      
        Eugene
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love privacy CryptPad gives while simultaneously awesome sharing options are available as well. Drive is very well done, rich text is awesome, and I simply adore simple Kanban board creation.</p>
    <p>
      
        Oskar
        
      
      - Environment protection
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's open source, privacy respecting, end-to-end encrypted, and has live collaborative editing.</p>
    <p>
      
        Danie
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's easy and safe!</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's made in Europe, it's respectful of privacy and it is quite advanced as a tool, with good functionalities.</p>
    <p>
      
        Alessandro
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's realy easy and fast to setup a collaborative document.</p>
    <p>
      
        Thomas Behrmann
        
      
      - VDIni Club Bremen
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's private and highly secure. There aren't any trackers to worry about.  Students don't need an account to collaborate. Cryptpad is versatile. Content created can be exported.</p>
    <p>
      
        mrtee
        
      
      - ICT training for teaching staff.
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>easy to write down and organise thoughts and ideas</p>
    <p>
      
        Paula
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Nice and easy spreadsheet to share with other friends.
Easy to use.</p>
    <p>
      
        JohnnyDoelittle
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Whenever I use cryptpad, I can be assured that no one unauthorized will ever read my documents.

Every web service should be built like CryptPad.</p>
    <p>
      
        Marco
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>encryption. privacy. would be nice to have slides soon as well</p>
    <p>
      
          *****
      
      
      - organizing, activism 
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love how easy and intuitive is CryptPad. It let you do everything you could do with other big companies but with a security level those companies will never going to give you. Vive CryptPad! 🇨🇵</p>
    <p>
      
        Uncle Reaton
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Secure
Free
Collaborative</p>
    <p>
      
        M Untel
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Online Notizen vermerken und von jedem Gerät abrufbar.
Außerdem die Teamarbeit wo mein Partner sieht, was ich gerade schreibe.</p>
    <p>
      
        Thomas K.
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Everything. This is so much better than all the Google collab tools and is much more private and secure.</p>
    <p>
      
        Anon
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It is encrypted and fits my needs as i don't have much documents to store there !</p>
    <p>
      
        Sasha
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It is easy to handle, performs fast and encrypted. This  how decentralised workware should be!</p>
    <p>
      
        tinderness
        
      
    </p>
</div>
        
      
        
          
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad is both secure and convenient. The switch was very easy. I also love that it's FOSS.</p>
    <p>
      
        Joshua Marroquin
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It is an easy to use and reliable collaboration tool.</p>
    <p>
      
        Oliver
        
      
      - DUIsentrieb e.V., Allemagne. (www.duisentrieb.de)
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>intuitive interface</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>everything &lt;3
and your privacy setting </p>
    <p>
      
        Gustav Ganz, schön groß
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that I can create private documents and only I can see it. I like the easy collaboration feature, i.e you can anonymously collaborate without a need for an account it makes it really easy.</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>it's easy, quick and easy to understand</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Enables us to coordinate as a group while protecting our shared data and communication end-to-end.</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I like that all the content is encrypted from my own browser. Not even you can examine my content!</p>
    <p>
      
        Roberto Martínez Pérez
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It just works! And it works much better than its closest commercial competitor, google docs. I have no misgivings whatsoever whenever I propose to use it. Also, it was easy to set up an own instance.</p>
    <p>
      
        Nils Erik Flick
        
      
      - Hamburg Werbefrei, popular initiative aimed at reducing aggressive advertising in public spaces.
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I used to be a Trello user, but I didn't like to share my kanbans' content with spying company. That's why I switched to CryptPad and I'm happy with that.</p>
    <p>
      
        Lazy Bit
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love the relative ease-of-use and the privacy-conscious design. I really appreciate the addition of office suite capabilities, to create spreadsheets for example. This makes it easy to move away from Google applications, especially when more confidence in data protection is needed.</p>
    <p>
      
        Frank Lemmers
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>free connection, english language, server in EU</p>
    <p>
      
        Carl Christian Sievers
        
      
      - Studienseminar LBS Hannover
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>At last  Open source alternatieve to office tools from Big Brothers clan.</p>
    <p>
      
        branko
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>- einfache Handhabung
- gemeinsames (Be-)Arbeiten von/an Dokumenten</p>
    <p>
      
          *****
      
      
      - Gymnasium
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>You won't find a Shared Document Service that is more easily accessible and also works encrypted and anonymous than the CryptPad service. If you happen to work with people from various organizations or companies it's always a hazzle finding a shared working space that does it for all participants. Fire up CryptPad and you're ready to go.</p>
    <p>
      
        Magnus Rembold
        
      
      - munterbund, LudwigsKlima, AspergAnders, KlimalisteBW
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It is a simple, self-explanatory tool, handy when collaborating on a text or other files.</p>
    <p>
      
        Christine Schubart
        
      
      - SKA Darmstadt e. V.
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Security and secure sharing</p>
    <p>
      
        Sunny
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that it is an open Source, encypted storage system, even the free account is great.</p>
    <p>
      
        FennecFox
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Private alternative to google docs</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that I have a secure and private service to collaborate with friends and colleagues all without the need for them to create accounts or download apps.  I have planned camping trips and setup client briefs and shared files with ease.</p>
    <p>
      
        Sven Lite
        
      
      - Light Life Photography
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>the symplicity and the chat</p>
    <p>
      
        sarah
        
      
      - school
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Simplicity, security, code, price.</p>
    <p>
      
        Stéphane
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Data protection, independent of Google &amp; Co., free of charge</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>free and open source software, nice tools, collaborative work is possible</p>
    <p>
      
        dowel
        
      
      - school
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Open source, friendly, encrypted, very usefull, lightweight</p>
    <p>
      
        PC
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's easy to work with and for free.
It's a great alternative in terms of privacy protection</p>
    <p>
      
        Hannah
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It’s like a more well thought out google drive that doesn’t spy on you</p>
    <p>
      
        Tim
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>First of all it just works! Second there's an effort towards privacy, which immediately makes it better than most alternatives. And I really think it's great that you can use without any sort of account.</p>
    <p>
      
        Rui Bastos
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Free anonymous account creation, the Google docs alternative I've been looking for! Using it guilt free by donating, which can be done without a digital trail back to the account I'm using. Love it!</p>
    <p>
      
        Rob Ottwok
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It is very nicely designed and works well. Really happy I found it!</p>
    <p>
      
        Bob
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Great security and privacy are just the beginning - Cryptpad is also an amazing tool to educate users and show them that there are tools other than those proposed by big tech companies.</p>
    <p>
      
        Bernard
        
      
      - Climate Activism
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>The E2E protocol, the GUI, and the ease of use.</p>
    <p>
      
        Zack
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>As a FOSS advocate, i thought there will be no alternative to Google Docs, so i was struggling to manage my documents. Until i discovered "CryptPad" the best collaboration tool I've ever seen. With Cryptpad, I am sure that all my documents are safe and encrypted, the service is so reliable and perfectly suits my needs.</p>
    <p>
      
        Saif Dhifi
        
      
      - Freeways ISI (Free Software Club at the higher institut of computer science Tunisia, Ariana)
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Easy to use, data protection on high level and open for persons without Cryptpad account.
I use it for:
- collaborative work on a topic, application (instead of google.docs)...
- platform to save datas for other persons (instead of wetransfer)
- platform to save reports of meetings with persons of many organisations
- the pad can be actualised without saving again the document</p>
    <p>
      
        Sterenn
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Security, and various document types</p>
    <p>
      
        YH, YUN
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Fast, easy to use and share, and seems secure</p>
    <p>
      
        Simon B.
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I appreciate the privacy offered by the site. I can share things with other people without having to worry about being spied on by advertisers and corporations.</p>
    <p>
      
        [anonymous]
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love how easy to switch over and easy to use it is.</p>
    <p>
      
        Lucas I.
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Cryptpad is very useful for me to work on my essays with my study group and it is in line with my beliefs about free software and privacy.</p>
    <p>
      
        Clément
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>E2E, how good it works in a browser</p>
    <p>
      
        Jakob
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>its privacy, i started using it as a part of my "degoogle" and, as soon as more ppl i know start using it, i intend to abandon all other similar services. this one is my favourite bc of its simplicity and the fact that it's very user-friendly.</p>
    <p>
      
        sky
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>İt is not a GAFAM!</p>
    <p>
      
        Alex
        
      
      - Exchanging documents between teachers and pupils in a school
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that CryptPad allows me to work privately. I also love that CryptPad allows me to work anonymously. I don't have to have the documents attached to any account, I really like that. I also love that none of my associates need to have an account to use CryptPad to collaborate with me.</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad is very easy to use and I love that you can work on documents simultaneously.</p>
    <p>
      
        Janina
        
      
      - Sector: Nature and Environment Conservation
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's transparency and great privacy/security, cloud and sharing functions, and the amount of tools that keep expanding.</p>
    <p>
      
        Mark
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Wir arbeiten sehr gerne mit Cryptpad, weil wir da gemeinsam Dokumente teilen können, und gleichzeitig bearbeiten. Es ist simpel, man muss sich nicht anmelden, um mitzumachen, und wir vertrauen dem Datenschutz.</p>
    <p>
      
        Karin, GranDeliSee
        
      
      - GranDeliSee, solidarische Landwirtschaft 
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that it is open source and engages end-to-end encryption. As founder of leguli.ch I know about the struggle with establishing privacy software.</p>
    <p>
      
        Roland Steinegger
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that with CryptPad there is finally a privacy-friendly and open-source, still fully-featured alternative to well-known Google services. I love the ease of use and the simple yet genius security concept behind sharing document links which ensure that only end-users can read the content. And I love the spirit behind the product and their creators. It's really great to see that there are companies like XWiki SAS that believe both in privacy and free and open-source software products.</p>
    <p>
      
        Frederic
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's free and there's no data merchandising.</p>
    <p>
      
        Abel
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad offers the right combination of openness and protection when it comes to online collaborations. It is essential to balance out the urgent need for both, transparency and opacity.</p>
    <p>
      
        Florian Schneider
        
      
      - Trondheim Academy of Fine Art, Norwegian Univeristy of Science and Technology (NTNU)
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad makes it easy to share and collaborate on documents privately, for free.</p>
    <p>
      
        Yhvr
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that it's creating a more secure alternative to shared software and collaborative tools! Thank you! </p>
    <p>
      
        Djuna
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Its Simple, Safe and Secure
Which is why i use it for academic uses, where anonymity is a must</p>
    <p>
      
        Chris
        
      
      - University
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>La confianza en su uso seguro y la accesisibilidad de los recursos disponibles</p>
    <p>
      
        Iduvina 
        
      
      - Human rights defenders organization
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad has great sharing options, and includes online concurrent editing. That makes it my default suggestion anytime someone wants to share documents: it satisfies the shared editing like in Google Docs, it includes spreadsheets, and it has folders that I can share with a group. I now have a single online service for collaboration... and I know I can export my own data any time if my projects grow in size (for me to host and directly manage, eg. P2P).</p>
    <p>
      
        Trent Larson
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Easy to use, encrypted office suit in cloud = dreams come true!</p>
    <p>
      
        Emmet
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>There are so many great things about CryptPad, but the top three are: 1.) It is very secure and can be used directly in your browser! 2.) It's free for personal use! I use it for all kinds of things and haven't looked back. 3.) It's as simple as using Google Docs/Sheets and Word/Excel. I highly recommend it anyone that is concerned about their privacy. </p>
    <p>
      
        AJ
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's not google, and they aren't tracking everyting I do</p>
    <p>
      
        Kat
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that I can work better together with others.</p>
    <p>
      
        Charlottehagemann23
        
      
    </p>
</div>
        
      
        
          
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that it has many editors and that it is real-time collaboration.</p>
    <p>
      
        David
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that everything is encrypted and easily accessible !!</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Its safe, easy to use, good templates </p>
    <p>
      
          *****
      
      
      - High School
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Open Source, Encrypted</p>
    <p>
      
        Sachin Kadam
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I adore Cryptpad.  Privacy and reliability.  I don't care as much about fancy features; no need to add any more.  Regular audits are a good idea though.  Publicize the next one!  Keep being awesome and thank you.</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Easy to use with end-to-end-encrypted and privacy focus</p>
    <p>
      
        dazo
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I can have a small but private storage space online, and I just need to remember my password to access my files in a secure way. The fact that it's zero-knowledge allows me to store highly confidential files in a secure and private manner. Did I mention it's free and open source? Anyone can verify the developers aren't lying or implementing backdoors!</p>
    <p>
      
        Giacomo
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I find it great for securely sharing documents with family members (for trip planning, or other occasions) where the sharing of the secure documents make minimal demands on their tech-savvy (or lack thereof). Very easy to use and share while keeping security intact.</p>
    <p>
      
        Dan
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>No messing about, no log ins, just the good stuff, gotta appreciate it
</p>
    <p>
      
        Couleur
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's not owned by Google.</p>
    <p>
      
        Edmund Ivonovich
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>We love CryptPad's ability to simply and securely collaborate on documents with sources, external vendors, and even friends and family.</p>
    <p>
      
        Anonymous Correspondent
        
      
      - Broadcast Television
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Free and very easy to use.</p>
    <p>
      
        Peter Flindt
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Je trouve le modèle de Cryptpad intéressant, un excellent document partagé dans les formats classiques de texte, tableur etc, un travail accessible à plusieurs personnes en temps réel et en mode privé. D'autres offrent des solutions parfois un peu plus conviviales mais font n'importe quoi avec les textes et contenus que nous produisons. 
Nous utilisons Cryptpad régulièrement pour organiser le travail quand il doit se faire à plusieurs dans des coopératives et associations,... </p>
    <p>
      
        Eric
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Cryptpad is not one of the evil big tech companies, but provides for free an excellent intuitive tool for information and file management. This is how online tools should work and be governed, this is how the internet ought to be.</p>
    <p>
      
        Peter
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad is a great alternative to "leading" cloud document host that don't respect our privacy. Safe, secure, private, functional, and well-documented. CryptPad offers a personal drive with a generous free tier for organizing one's ongoing affairs, as well as anonymous self-contained URLs for single-use "throw-away" documents. Thank you for this awesome service, CryptPad!</p>
    <p>
      
        Jobu Tupaki
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Cryptpad is an all-in-one platform for your collab needs.</p>
    <p>
      
        dabellwrites
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's easy to share text and it isn't pastebin.</p>
    <p>
      
        L Ron Butterfly
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Every thing. CryptPAd is a very friendly tool for safe and professional work</p>
    <p>
      
        Iduvina
        
      
      - Seguridad en Democracia (SEDEM), a Human Rights organization
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love how one can easily collaborate and work simultaneously on shared documents. I mainly use CryptPad to give remote tutoring lessons.</p>
    <p>
      
        Sandra
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>The Cryptpad family of web applications is built on the principles that I would use to build software for my friends, family and myself:
- Data security by end-to-end-encryption
- Control over one's own data
- Enable uncomplicated collaboration</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Kanban boards, web-links and office files together in one folder hierarchy</p>
    <p>
      
        Mikhail
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>This may be obvious, but it's open source, and unlike say LibreOffice, Cryptpad is not exclusively local. I also love the look and feel of Cryptpad.</p>
    <p>
      
        Quin Delamore
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Security, privacy, possibility to self host, variety of document types</p>
    <p>
      
        Romain
        
      
      - Digital solutions
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Besides encryption, I appreciate excellent user interface - intuitive, responsive, customizable. Folders tree in the left pane. Rich text editor (really rich and classic). My personal favorite: automatic outline, forming clickable table of contents in the left pane, which can be shown/hidden by a "hamburger" button, perfect for mobile. I also like the simple calendar, colorful tags, monday-starting weeks, monthly view. Other types of files look even more interesting. Haven't tried yet, but: wow!</p>
    <p>
      
        Svetlana Krstic
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that cryptpad gives me all  the features I need and respects my privacy and the privacy of my students. Especially the Kanban Board has been a Game changer during the pandamic and homeschooling but also in the daily Business.</p>
    <p>
      
        Jan
        
      
      - Otto-Brenner-Schule Hannover Vocational Educational Training
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>its simple design</p>
    <p>
      
        Hess
        
      
      - linkflink GmbH
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>The ability to instantly create collaborative doucments for my students.</p>
    <p>
      
        Nik Peachey
        
      
      - PeacheyPublications Ltd
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It is a quite powerful cloud service with encrypted storage, where decryption takes place only on the client side.</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>The possibility to share and work online </p>
    <p>
      
          *****
      
      
      - nature
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>ease of use, security</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I like CryptPad, in my opinion it is the best OSS decentralized privacy-focused alternative to commercial collaborative office suites like Google Drive. I also like that CryptDrive could be used as a secure cloud for my personal files. I am grateful to the developers and those who maintain public CryptPad instances. </p>
    <p>
      
        HellLord
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Good encryption/privacy</p>
    <p>
      
        Lian
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>The simple interface and the fact that you don't need an account. Also privacy.</p>
    <p>
      
        Michalis Demetriou (qwazix)
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>The encryption, and the ability to share documents for collaborative work</p>
    <p>
      
        Fred Brown
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Privacy, the no-nonsense feel that gives one heaps of control (unlike Google's UI, which pampers us visually at the expense of privacy) + the list of files we can make with CryptPad</p>
    <p>
      
        Prefer Not To Share
        
      
      - Environmental Justice
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad is just fantastic to share documents to collaborate on, or especially code together very comfortabely and easily. Thank you for providing this fantastic free service, it should be used by anybody not wanting to be surveilled by Microsoft etc.</p>
    <p>
      
        Jonas
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad offers many services in a secure and respectful way of your privacy. You can do surveys, text documents, sheets and more all stored in a drive with end-to-end encryption. It is open source and has a very simple but effective UI that includes all the basics. Wonderfull for work or a small association.</p>
    <p>
      
        Jean
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's an extraordinarily simple, user-friendly and private Google Docs alternative, great for both collaborative editing and personal organization.</p>
    <p>
      
        Dan
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>That it is free and simple to use and NOT collecting and trading data!</p>
    <p>
      
        Anja 
        
      
      - Educational lectures in Germany
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that it's open source and the importance of privacy.</p>
    <p>
      
          *****
      
      
      - Feminist Moviment
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Crypt pad is great. Does everything google docs or Microsoft word can do, but it’s private, secure and requires no personal info (or signup!)</p>
    <p>
      
        Roxiun
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's simple, fast, private, secure, and the self-hosting ability is awesome.</p>
    <p>
      
        Ilia
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>When we plan an action, privacy and security are a must. CryptPad allows us to do most of our planning online.</p>
    <p>
      
        Claudio
        
      
      - Extinction Rebellion (XR)
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>-its' not owned by Google
-it respects the users privacy
-it's free
-it's easy to use
-good UI</p>
    <p>
      
        Nigel Balfour
        
      
      - Teacher training
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>the privacy that it give compare to google drive</p>
    <p>
      
        Chris Py
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>1. The pryvacy
2. No email asked
3. Perfect to take simple notes.</p>
    <p>
      
        Romain
        
      
    </p>
</div>
        
      
        
          
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>No personal information required. No ads. Privacy friendly. Nice interface. Open source. Reliable.
Thanks for your work!</p>
    <p>
      
        Anonymous
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It is the easiest way to share documents without an intranet.</p>
    <p>
      
        Chris
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Online, secure, private, collaborative</p>
    <p>
      
        Pete
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love because is a good alternative for google drive, in CryptPad there is many options, it's secure and is a open source, that is enough for me</p>
    <p>
      
        Sasha
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>End to end encryption</p>
    <p>
      
        Christos
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that CryptPad is Open Source and E2EE.</p>
    <p>
      
        Vicky
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>easy, safe, many document types available, </p>
    <p>
      
        Judith
        
      
      - Parents for future group, climate activism
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that first it is free software and you could host it yourself, 2) there's no access barriers - you just need a link and 3)  the feature of instant collaboration on a text for my students. I often use it in my language lessons (German/French). </p>
    <p>
      
        Daniel
        
      
      - Secondary School
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It is an Open Source project which fills the niche of secure, private, collaboration.</p>
    <p>
      
        Gerardo Lisboa
        
      
      - EUCLIDIA
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Easy use of the pad.
LaTeX implementation
HTML Download
Groups can easy brainstorm.</p>
    <p>
      
          *****
      
      
      - High School
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that I can avoid using google docs/google drive at school and still have the same sharing abilities that google services enable. </p>
    <p>
      
        Sam
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Privacy, ease of use, simple and functional interface</p>
    <p>
      
        pamplione
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Einfache Oberfläche, erleichtert die Organisation von Abläufen</p>
    <p>
      
        Theresa
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>We use CryptPad to draft up mails and resolutions, gather opinions and collect ideas. It has awesome privacy-first design and is yet easy to use, which makes it stand out against other products.</p>
    <p>
      
        Jakob
        
      
      - Fachschaft Computerlinguistik, Universität Heidelberg
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>A privacy-first, end-to-end encrypted Web application is a rare treat these days. With a nice compact interface and amazing history display on a free/open code-base it's easy to love.</p>
    <p>
      
        meejah
        
      
    </p>
</div>
        
      
        
          
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's really secure and user-friendly.</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>free, safe, non-profit and usable. what else would you hope to find?</p>
    <p>
      
        val
        
      
      - [activist and academic purposes]
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>its not google docs. google invades users' privacy constantly.</p>
    <p>
      
        faeryn
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Cryptpad is very usefull for working with others in the school without using Microsoft Teams.</p>
    <p>
      
        lm41
        
      
      - School
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It is simple, secure and easy to use. One doesn't need to go through lengthy documentation or search online to solve an issue.</p>
    <p>
      
        Alice
        
      
      - Education
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>The relative security from government surveillance and the anonymous collaboration. The drive is amazing to organize documents. Everything can be solved with one more pad!</p>
    <p>
      
        A climate activists
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>easy to use and share</p>
    <p>
      
        Sebastian
        
      
      - City of Ulm, Office for Education and Sport
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Simplicity. Speed. Privacy. No-frills.</p>
    <p>
      
        Kalle Rasmusson
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad is ideal for spinning up an isntant collaborative document without any setup (personal account, etc.), which allows us to use it very flexibly.</p>
    <p>
      
        Dominik George
        
      
      - Teckids e.V.
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>end to end encrypted, password protected links, destroyable documents, collaboration tools, run your own instance, free to use, fully opensource, export to different file extensions</p>
    <p>
      
         Sauda Mele Okonkwo 
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>secure, clear, easy , working fully with firefox and since now never freezed or something else</p>
    <p>
      
        Rüdiger Bachmann
        
      
      - potentialeentfalten (.de) : education of educators, free schools, coaching, building new schools
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's easy, secure, and AWESOME for asynchronous (and anonymous) collaboration. For me, it's magic. It contains everything I need and I LOVE creating documents and sharing them, both for view only and editable.</p>
    <p>
      
        Zoé
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>To collaborate with all our volunteers we use Cryptpad all the time. The beauty about it is, that the volunteers simply use the tool instead of hustling with it. Yes, there is some get-used-to-it-time necessary, but our feedback from the local groups has much improved with cryptpad.</p>
    <p>
      
        Fred
        
      
      - Friends of the Earth - local group
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Possibility to access and edit my files from any device, without additional apps - and privately.</p>
    <p>
      
        Greg J.
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Security.  Good Sharing capability</p>
    <p>
      
        JimmyG
        
      
    </p>
</div>
        
      
        
          
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Basically everything! ~ The fact that it's free is huge! ~I want to support and not have to be forced into it ~ likewise, I see how much effort you've put into designing this system, and it's worth a LOT! ~ I absolutely love everything and hope this project stays alive for as long as possible!
</p>
    <p>
      
        h4x0r3d
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad is easy to use, secure, intuitive yet very multi-functional. The best alternative I've come across for anyone who consciously wants to avoid data-mining-based or paid services.</p>
    <p>
      
        erik
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It s a project with many tools and a great privacy policy. I can share my activities on CryptPad with other user.</p>
    <p>
      
        Five#3983
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Privacy-focus, response time for the typing is surprisingly well</p>
    <p>
      
        thetample
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Seems like a nice alternative to Google docs, sheets etc.</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Much easier to get used to than you would think! Was able to figure it out quicker than Google Docs. Good UI options and lots of different file formats.</p>
    <p>
      
        Tai
        
      
    </p>
</div>
        
      
        
          
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Variety of intuitive tools, respect for anonymity</p>
    <p>
      
        SHL
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>E2E encryption,
Speed,
Self-host opportunity</p>
    <p>
      
        Anon Catze
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>easy to use, great help in planning and organising lessons, benfit in office work</p>
    <p>
      
        Helmut Gravert
        
      
      - Freiherr-vom-Stein-Berufskolleg
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that it offers anonymity - no emails, phone numbers, etc.
It is great that it is free.
It is great that data is encrypted and available through Internet.</p>
    <p>
      
        M
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It is easy to write with the whole class. </p>
    <p>
      
        Ole
        
      
      - In our history class
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>The sandboxing layer of encryption is fantastic and the free account without restriction of features is a brilliant way to not turn people off. I recommend it's usage to anyone looking for something in this field. We are now running out of space and as a somewhat techy person I am self-hosting Cryptpad on our group's server, but there are a lot of people I'm sure who can't do that and I hope you are receiving some subscription finances from those that can afford it.</p>
    <p>
      
        Michael
        
      
      - Just another local Mutual Aid group :)
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>easy to use, better than the corresponding service from Google</p>
    <p>
      
        Mikael
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Next to security - I like clean, concise design, very responsive pages in the office suite.</p>
    <p>
      
        Matej
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Simplicity, security, the fact, that it is not used for profit maximisation of some anonymous entities. The sense of community and of the future, which feels as a more open and relaxed one.</p>
    <p>
      
        Maria Turik
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Open source and privacy</p>
    <p>
      
        Alex
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It is not Google etc.</p>
    <p>
      
        Jochen
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Open-Source, secure (encrypted)</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that it is Open Source and respects user's privacy. I love the Forms as they are very well done and work flawlessly.

Also, the text editor is pretty good, ant I use the Sheets and whiteboard a lot. Everything is very well-made. I always recommend CryptPad.</p>
    <p>
      
        Paul Douglas
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>From the user point of view this is the ultimate location to withdraw from e.g. google apps. Which at some point began to be tireing with the nosy level.</p>
    <p>
      
        Michael
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I like the ease of use and the different options I can use.

The interface is nice and efficient.
</p>
    <p>
      
        Grégory Pt
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It is a very good application. (Sorry I don't speak very well English)</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p> - very easy to use, for non geek people
 - trust</p>
    <p>
      
        stout
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Working, secure, private, anonymous collaboration. It's hard to overstate how big of a deal this is in this day and age.</p>
    <p>
      
        Anonymous
        
      
      - cyber security
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>simplicity, and the fact that it is an alternative from google, makes sharing and collaborating easier, and again, no need to use google docs for that part! </p>
    <p>
      
        Aryan
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Clean, secure, does what I need without any fluff, privacy respecting.</p>
    <p>
      
        Ben
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Its not Microsoft, free and easy </p>
    <p>
      
        Manuel
        
      
      - Secundary level 2 
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It a google docs replacement that is private and really nice to use.</p>
    <p>
      
        Paul Ayling
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Its privacy and security.</p>
    <p>
      
        Anis
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>privacy, security and being open source. also offering free services to people, some of who may not be able to afford
the user experience is smooth. interface is simple</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's a safe space. I like that I can be myself here without being surveilled - as a queer person, that is a tremendous gift that I feel CryptPad has given me.</p>
    <p>
      
        M. 
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's encrypted, private and open source. Offers generous free storage(1 GB).</p>
    <p>
      
        Jonathan Swupper
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad has been my goto tool to store my notes online. I feel good about it.</p>
    <p>
      
        keesj
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Straightforward, device-universal and feeling safe.
All the possible content-types for me to play.</p>
    <p>
      
        polx
        
      
      - PH Weingarten, W3C Math Group
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>easy to use, safe, i can share my thoughts </p>
    <p>
      
        iak
        
      
      - elearning, education
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Super secure platform. </p>
    <p>
      
        anon
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Cryptpad rocks. You've made the most usable, secure and privacy friendly office tool under the sun.</p>
    <p>
      
        JT
        
      
      - environmentalism, migrant rights.
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>My notes are secure and accessible anywhere I go. Also there is no need for several different servers hosting my notes, images and other files. Everything is right there where I need them along with the ability to share files.</p>
    <p>
      
        Andrey 
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It has all the applications required! From notes to kanban boards, spreadsheets and everything! All that with complete privacy! Excellent for working with colleagues, knowing that there is no need to rely on external services which are not secure enough for sensitive data.</p>
    <p>
      
        Bruce
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Black theme, easy to use, Kanban, Spreadsheet... easy to share</p>
    <p>
      
        David ROUMANET
        
      
      - Lycée Aristide Bergès (38171 Seyssinet)
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It is very light, I like also its user interface ; it is also completely separated from Big Tech and opensource. I will subscribe to CryptPad.</p>
    <p>
      
        Dany WM De Bontridder
        
      
      - Noalyss project
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad is the one and only high quality, end-to-end encrypted, full office suite solution available today. It has everything from spreadsheets to whiteboards and even Kanban boards. Keep up the great work!</p>
    <p>
      
        Tom
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love CryptPad because it's fast, free, powerful and secure.</p>
    <p>
      
        Martin
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's GoogleDocs without any of the surveillance.</p>
    <p>
      
        Moritz Schubert
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I can safely use it anywhere at anytime with anybody</p>
    <p>
      
        Matthias
        
      
      - Gymnasium (Germany)
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>End-to-end encryption. FOSS. No account required for external collaborators</p>
    <p>
      
        Matteo
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>The privacy! It functions well. It's easy to use. I'm not worried about my data being shared. Also I appreciate that I can use it without subscribing via an email. That's one of my favourite aspects. Also there are many types of files available which I love!</p>
    <p>
      
        Elise
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>better than google docs 🙏 </p>
    <p>
      
        val
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>1. protection of data privacy
2. it's not Google</p>
    <p>
      
        Diesdas Ananas
        
      
      - School (german Gymnasium)
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>more private than gdocs </p>
    <p>
      
        savannah
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>end to end encryption and the Sheet implementation</p>
    <p>
      
        Deeea
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I just love everything about CryptPad. It's a solid collaboration suite and a very worthy alternative to other close-source software.</p>
    <p>
      
        forkbomb9
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>nice, safe, functions increasing, not google</p>
    <p>
      
        Chris
        
      
      - University and MINT education
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Fast, privacy respecting, secure, reliable, collaborative</p>
    <p>
      
        David
        
      
      - Lycee professionel
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>encyptedness
matter-of-fact design</p>
    <p>
      
        Dr. Claudia Koltzenburg
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's private and for everyone!</p>
    <p>
      
        pinguin
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Privacy, Security, sharability, administration as Owner of documents, fair pricing, account-usage.</p>
    <p>
      
        Ben
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>simple easy and open</p>
    <p>
      
        Alain R.
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad is free software, it's fast, secure and they don't trade with my data.</p>
    <p>
      
        Juan-José de Haro
        
      
      - Secondary school in Barcelona
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>perfect online tools for educational use</p>
    <p>
      
          *****
      
      
      - Education
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Cryptpad is easy to use, does not crash, is free and always available.</p>
    <p>
      
        Phil the Teacher
        
      
      - Education Nationale
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>That is like google docs, but with high privacy standards included</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p> CryptPad is a great example of FLOSS. It combines and enhances many other FLOSS tools. CryptPad has an active community and is well interacting with project members. It is simple by default, while providing basic/advanced productivity tool. Recently, it is becoming more powerful ("simple" pad -&gt; encrypted OnlyOffice). And it is GDPR compliant. While I have no means to test, I see the source code and know others who trust CryptPad.</p>
    <p>
      
          *****
      
      
      - Academia
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad allows me to collaborate and share documents, texts and plans with people easily and safely without feeding some predatory advertising algorithm. My data is my own, and shared only with the people I choose.</p>
    <p>
      
        Harald Eilertsen
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Open source, so no big data, secure, private.</p>
    <p>
      
        AbangL
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Finally a usable encrypted drive !</p>
    <p>
      
        alphabet
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>- How super easy it is to use
- How super easy it is to set up and run your own server</p>
    <p>
      
        Cache On Delivery
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I like the design it has, that it is open source, that it is free of trackers and ads, and that it is end-to-end encrypted. It's also fast, easy to use, and it's energy efficient compared to Google Docs. What more could I ask for? &lt;3</p>
    <p>
      
        Sergio Varela
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>In our modern world we share share data in our professional and private life to conveniently engage with other people every day. But this convenience comes at a cost. Your data reveals a lot about you and your businesses, your thoughts, your partners, your loved ones, and it can easily be used to harm you. This is not exclusively, but very important to investigative journalists, human rights defenders, and members of oppressed and marginalized groups. That is why these data must be protected. </p>
    <p>
      
        marian
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I appreciate the ability to collaborate on document creation and editing, while retaining control over how much of my identity I share. For this balance of features and privacy, I don't know any tool that compares.</p>
    <p>
      
        Pete
        
      
      - Wiki Strategies, training and consulting
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad is a serious attempt to provide encrypted, comprehensive and useful drive, document and office services.</p>
    <p>
      
        CSDUMMI
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Its an alternative to Google</p>
    <p>
      
        INS Joan Brossa
        
      
      - Secondary School
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Encryption, and the ability to share, open, and edit encrypted documents, which I cannot do with other providers. I also love the different types of documents that cryptpad allows me to create.</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Very cool tools for me and my work.
Instant shareable docs at a glance</p>
    <p>
      
        Stephan
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Works. Is reliably available. *Almost* no bugs. :-)</p>
    <p>
      
        Spekulatius
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p> My data hosted in EU. Crypted data. Share data securely with others. Good replacement of Google Agenda. Good online OnlyOffice editors. Wish: Android app for Agenda. A desktop drive would be cool too. I think with those two features I would easily go for a paid plan because we should promote all kinds of EU services vs. US and China ones.</p>
    <p>
      
        Sebastien
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Works great with markdown. I like the code editing space. I was surprised there was so much in it. The forms are great, especially with the conditional options. </p>
    <p>
      
        Good and Geeky
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's easy to use and every option makes sense. It is great to share specific folders or documents. 
It is great that you do not register via google, Facebook or another Data collecting company. It gives the feeling of a secure, data minimised work platform. </p>
    <p>
      
          *****
      
      
      - Rassismuskritisches Netzwerk der Region Trier (work against rassism)
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I like the variability of tools it has</p>
    <p>
      
        Nicolás
        
      
      - ONG
      
    </p>
</div>
        
      
        
          
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>data security, ease of use, my documents available nearly everywhere, free with option to support</p>
    <p>
      
          *****
      
      
      - Piratenpartei Deutschland
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>fast, secure, shareable, good</p>
    <p>
      
        bjoern
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I like how it doesn't have to be too "flamboyant" in it to perform well and successfully. It's fantastic when a website or product gives precisely what you're searching for without all the frills, is easy to use, and has a clear aim. The fact that this service is free with a 1 GB data plan is also significant.</p>
    <p>
      
        aiwa
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It is private, end-to-end encrypted, and open source. They can't read it, and make advertising profiles based on what I write, Metadata about my browser, have ads, or any other crap like that!</p>
    <p>
      
        N/A
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love how clean the surface looks, how easy it is to introduce my students to working with it, how smoothly everything runs. And I feel safe using CryptPad.</p>
    <p>
      
        Canzonett
        
      
      - Higher Education (University)
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It has a lot of great functionality and is steadily improving. An amazing alternative to google drive with a free tier option for anyone wanting to move away from proprietary software</p>
    <p>
      
          *****
      
      
      - Environmental activism
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad has a great user interface, and is end-to-end encrypted which is perfect for private business data!</p>
    <p>
      
        Jay
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Privacy is great and I love the usability.</p>
    <p>
      
        Holger
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Privacy and being able to work on files with other people.</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>great collaborative suite! encrypted and open source as it should be!</p>
    <p>
      
        Marco
        
      
      - research institute
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It is open source and online. It has hindi language support even though minimal. It is secure, encrypted and private. Now that it has teams, drive, calendar, contacts and chat functionality together, it is great!</p>
    <p>
      
        C Prakash
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's open source and gives lots of opportunities to collaborate</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I enjoy having a secure, private place to create, store, and share documents. It's great to be able to get that done without the bloat of typical software packages. I also like that I get the same user experience regardless of the hardware or browser I happen to be using. </p>
    <p>
      
        Paul
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Cryptpad is definitely the best replacement for the Google suite. Nothing else comes close to it.</p>
    <p>
      
        @petabyt
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>The fact that many people can share and write at the same time on a common document.</p>
    <p>
      
        Laure
        
      
      - Education Nationale
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>good functionality and security</p>
    <p>
      
        Stefan
        
      
      - -
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that it is opensource, free to use and i can be sure that my data is handled well and secure.. I Trust you</p>
    <p>
      
        nonino
        
      
      - Waldorfkindergarten and University (Hamburg University of Applied Science)
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I really appreciate not having to worry about security issues. It's user-friendly. It had everything I needed to feel good about leaving GoogleDocs behind.</p>
    <p>
      
        Erica
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I like that it can be used without having to provide extra information when using a free account.  And even with the premium account, it requires just an email (which is still more privacy focused than Google).  It is about doing what you need to do without mining more data, or trying to dig deeper to lock you into one ecosystem.  Also the loading screen gives a fun kind of "hacker person" vibe while also giving an idea what it is doing.</p>
    <p>
      
        d-RLY?
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Strong commitments to security + privacy. </p>
    <p>
      
        Dr B. Trinlae PhD
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Simplicity with Encryption as a standard by default</p>
    <p>
      
        User Y
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love Cryptpad, because it allows me to exchange easily and in a confidential way, information with colleagues</p>
    <p>
      
        HVH
        
      
      - Management and  M&amp;A Consultancy
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Multiple ways to work with text. I appreciate the html. I use the rich text editor most of time and appreciate the lay out and tools available. It automatically saves. The downloaded file is accurate. It is secure. There is a goodly amount of storage.</p>
    <p>
      
        Len
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Security, alternative to Google. Can share without the other users having an account</p>
    <p>
      
        JB
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>ease of use between different file formats</p>
    <p>
      
        Mike of Many
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>one-link accessible, easy to share and foster co-writing to students &amp; colleagues, providing collective ideas, easy to use and integrate in groups: tools and features known other platforms</p>
    <p>
      
        Florian
        
      
      - school
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Open Source and encrypted files and Kanban</p>
    <p>
      
          *****
      
      
      - My Human Kit : FabLab for people wiht disabilities
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>security and data protection oriented model. I also really appreciate the range of applications that cover my needs very well. </p>
    <p>
      
        ʕʘ̅͜ʘ̅ʔ
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love Web-Application in general. I like that CryptPad is fully encrypted an I tihnik privicy is very important for the futere</p>
    <p>
      
        Enno
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Easy to use, end-to-end encrypted, self-hostable. What more could you ask for ?</p>
    <p>
      
        Anh
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Easy and no tracking (hope so) way for publishing.</p>
    <p>
      
        joan
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>collaboration, stability.</p>
    <p>
      
          *****
      
      
      - Code Blau GmbH
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>The privacy and easiness when using it</p>
    <p>
      
        Dostow
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Easy to use, looks good</p>
    <p>
      
        H. Fisher
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Cryptpad makes it easy for me to take my documents on-the-go, without trading my privacy for convinience. I see merit in the project and had been a paid member to support the team and have my team to work on various documents simultaneously, and it had been best investment. It is truly a magnificient alternative to the proprietary solutions and does exactly what it claims to do.</p>
    <p>
      
        Ramesh Anand
        
      
      - Persanal branding and digital services organization
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's free and open source and privacy-friendly</p>
    <p>
      
        helo
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>That it is secure, easy to use, doesn't require an account and has professional capabilities.</p>
    <p>
      
        Ulrich
        
      
      - education, independent artist
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Its free, provides good data security</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's for free and also very easy too use. No E-Mail required in logging in.</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad is super accessible, while having a lot of useful features. I like that anyone can use it, no account needed. I used it with homeschoolers I've tutored, to distribute and collaborate on a text file of productive things to do during COVID. </p>
    <p>
      
        Craig
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>The privacy, and that it keeps improving.</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's private. It's trustworthy. It's free!

I'm involved in a local charity and I plan to start using it to replace Google Docs for planning our events next year.</p>
    <p>
      
        Chris Davies
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>The ease of handling secure, encrypted documents and files, and the ease of sharing.
Another point is the well solved collaboration.
And all this on a very nicely designed, easy to use and understand interface.</p>
    <p>
      
        Tim
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It can be accessed anywhere, it's free, and secure</p>
    <p>
      
        Jack
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Easy to use! Access to notes on all devices!</p>
    <p>
      
        Daniel
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>is free 
and you cane use everywhere  </p>
    <p>
      
        no 
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Although the free version limits you, it gives you so much more to work with and with ensured privacy. I was astounded by what was capable in the free version, compared to the rest of the competition. CryptPad surely knows what it's doing.</p>
    <p>
      
        Brandon R. Montes
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I like cryptpad for its attitude toward privacy.</p>
    <p>
      
        multed
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>encryption and security</p>
    <p>
      
        Ludwig
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Cryptpad is a service that I know I can trust. I love to have a service which respects my privacy and works fluently all the same.</p>
    <p>
      
        Anonymous Person
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Data protection and encryption are great and its free</p>
    <p>
      
        Richard
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I like the integration into the browser, not any byte of software has to be installed and I can use the whole office palette and be sure that nobody surveils me. Thank you, thmumbs up.</p>
    <p>
      
        milian
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love that CryptPad is free (libre) software and holds a privacy-first mission</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>All about it! It's secure, easy to use, reliable, and focused on helping users move forward with their projects. No bloated entertainment, no money-making - just the exact tool I need for my students and collaboration with my colleagues.</p>
    <p>
      
        L. Fengler
        
      
      - German Gymnasium
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It works! It allows to share documents and to edit them in a collaborative way, with quite rich editing functions.</p>
    <p>
      
        Pascal
        
      
      - French Ministry for the Ecological Transition
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It allows simple and easy collaboration in a secure manner. It's quick and easy to create a new document and work together with others!</p>
    <p>
      
        rugk
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>The lack of email requirement makes me feel much safer using it.</p>
    <p>
      
        L
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Open source is a huge amount of the appeal.  On top of being pretty much the only online collaborative document editor I can trust, the fact that anybody can deploy it and audit it and increases that trust.  Allowing free use while also providing extra support via subscription also seems like a good model for longevity of the project.  I really hope to see it continue to flourish, and perhaps become a subscriber myself soon!</p>
    <p>
      
        Bug
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It has the features I need inside a secure environment</p>
    <p>
      
        David
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Use it on ny mobile and laptop while preserving my privacy! </p>
    <p>
      
        Awalo
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Easy to use and to share</p>
    <p>
      
        Peter Schulte-Herweling
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Clear interface,  full featured, privacy friendly, open source.</p>
    <p>
      
        Eryx
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>the security and collaborative features are great</p>
    <p>
      
        stormy
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>That students can work on it simultaneously, and it‘s easy to use.</p>
    <p>
      
        Mrs Eppinger
        
      
      - Grammar School
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>flexible possibilities, easy handling. </p>
    <p>
      
        R. Kohaupt
        
      
      - Social Work
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Online, so i can use it on my work computer, ipad and home computer. And of course the privacy</p>
    <p>
      
        Magnus
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Anonymity, safety of my informations, reachable via TOR</p>
    <p>
      
        cbro
        
      
      - NGO doing medical aid in regions of crisis
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's privacy by default and it's working. And working. And ... well, it's working. ;-)</p>
    <p>
      
          *****
      
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Everything, so I can use this with friends</p>
    <p>
      
        @Ademi33
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I like CryptPad, because it is open source and creates to empower societal actors in a sustainable way, so that the value goes back to the society and not to a handful of shareholders. Also this creates a way for lots of people to learn coding. Another positive effect for us is that people get control over their data.</p>
    <p>
      
          *****
      
      
      - ANSOLE e.V.
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>1. The software is open source and provides actually an alternative that can combat Microsoft Online and Google Drive/Documents. An "online LibreOffice"
2. The CryptPad official instance collects minimal data; only that which is required to operate the service which prevents them from being able to leak data to intelligence agencies as they do not possess any.
3. It has a free option and a paid with extra features so a sustainable model.
4. ToS and Privacy Policy are summarized and clear.</p>
    <p>
      
        User
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It has so much functionality, and yet it's all free, all secure, all private.</p>
    <p>
      
        Aidan
        
      
      - Acorn Tuition (small tutoring company)
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Es un servicio sólido, respetuoso del usuario y su privacidad.
La funcionalidad es suficiente y hasta más de lo que necesito habitualmente.
Muchas gracias por todo.</p>
    <p>
      
        Marcelo
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>CryptPad is a no-thought-response to all sharing needs with friends and family. The 0-knowledge infrastructure helps everyone feel safe about the fragments of life we share :)</p>
    <p>
      
        Jaxom
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Everything is good, perfect. This is the best for me.
I like the mystery and the independent.
In the future I will use for the company where I work, because it's safe and man can easy navigation and share files in CryptDrive.</p>
    <p>
      
        Attko22
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I like CryptPad because of its minimalist design, which allows me to better focus on the file I'm working on.</p>
    <p>
      
        eneskanal
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Ease of use for people coming from Google Drive</p>
    <p>
      
        Reed Smith
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I like working with Pads. Now I can do it with encryption. Great!</p>
    <p>
      
        Spiff
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Privacy friendly and feature reach. Very generous plans</p>
    <p>
      
        Andrii
        
      
    </p>
</div>
        
      
        
          
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>Simple, effective design. Security seems tight. Very user friendly. </p>
    <p>
      
        Jef
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>I love the easy handling and its effectiveness to publish own digital content in a secure way with healthy data treatment.
It is thought to be used by my pupils to get in contact with special content during their lesson-free time or whenever they like.  </p>
    <p>
      
        Sonia
        
      
    </p>
</div>
        
      
        
          <div role="group" aria-roledescription="slide">
    <p>It's encrypted and offers a lot of functionality</p>
    <p>
      
        Niklas
        
      
      - School
      
    </p>
</div>
        
      
    </div>


    <p><a href="https://cryptpad.org/testimonials/">See all 497 Testimonials</a></p>

</section>

    

    


</div>]]></description>
        </item>
        <item>
            <title><![CDATA[Data manipulations alleged in study that paved way for Microsoft's quantum chip (196 pts)]]></title>
            <link>https://www.science.org/content/article/data-manipulations-alleged-study-paved-way-microsoft-s-quantum-chip</link>
            <guid>43935625</guid>
            <pubDate>Fri, 09 May 2025 11:23:36 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.science.org/content/article/data-manipulations-alleged-study-paved-way-microsoft-s-quantum-chip">https://www.science.org/content/article/data-manipulations-alleged-study-paved-way-microsoft-s-quantum-chip</a>, See on <a href="https://news.ycombinator.com/item?id=43935625">Hacker News</a></p>
Couldn't get https://www.science.org/content/article/data-manipulations-alleged-study-paved-way-microsoft-s-quantum-chip: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[Amazon's Vulcan Robots Now Stow Items Faster Than Humans (187 pts)]]></title>
            <link>https://spectrum.ieee.org/amazon-stowing-robots</link>
            <guid>43935586</guid>
            <pubDate>Fri, 09 May 2025 11:18:06 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://spectrum.ieee.org/amazon-stowing-robots">https://spectrum.ieee.org/amazon-stowing-robots</a>, See on <a href="https://news.ycombinator.com/item?id=43935586">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-headline="Amazon’s Vulcan Robots Now Stow Items Faster Than Humans"><p><span>At an event in Dortmund, <a href="https://spectrum.ieee.org/tag/germany">Germany</a></span><span>today, <a href="https://spectrum.ieee.org/tag/amazon">Amazon</a> announced a new robotic system called Vulcan, which the company is calling “its first robotic system with a genuine sense of touch—designed to transform how robots interact with the physical world.” In the short to medium term, the physical world that Amazon is most concerned with is its <a data-linked-post="2657548996" href="https://spectrum.ieee.org/amazon-warehouse-robots" target="_blank">warehouses</a>, and Vulcan is designed to assist (or take over, depending on your perspective) with stowing and picking items in its mobile robotic inventory system.</span></p><p><span>Related: <a href="https://spectrum.ieee.org/amazon-robotics-vulcan-warehouse-picking" target="_blank">Amazon’s Vulcan Robots Are Mastering Picking Packages</a></span></p><p>In two upcoming papers in <em><a href="https://ieeexplore.ieee.org/xpl/RecentIssue.jsp?punumber=8860" target="_blank">IEEE Transactions on Robotics</a></em>, Amazon researchers describe how both the stowing and picking side of the system operates. We covered <a href="https://spectrum.ieee.org/amazon-warehouse-robots-2659064182" target="_blank">stowing in detail</a> a couple of years ago, when we spoke with <a href="https://www.linkedin.com/in/aaron-parness-5a9aaa46/" target="_blank">Aaron Parness</a>, the director of applied science at <a href="https://spectrum.ieee.org/tag/amazon-robotics">Amazon Robotics</a>. Parness and his team have made a lot of progress on stowing since then, improving speed and reliability over more than 500,000 stows in operational warehouses to the point where the average stowing robot is now slightly faster than the average stowing human. W<span>e spoke with Parness to get an update on stowing, as well as an in-depth look at how Vulcan handles picking, which you can find in this <a href="https://spectrum.ieee.org/amazon-vulcan-picking-robots" target="_blank">separate article</a>. It’s a much different problem, and well worth a read.</span></p><h2>Optimizing Amazon’s Stowing Process</h2><p>Stowing is the process by which Amazon brings products into its warehouses and adds them to its inventory so that you can order them. Not surprisingly, Amazon has gone to extreme lengths to optimize this process to maximize efficiency in both space and time. Human stowers are presented with a <a href="https://robotsguide.com/robots/kiva" target="_blank">mobile robotic pod</a> full of fabric cubbies (bins) with elastic bands across the front of them to keep stuff from falling out. The human’s job is to find a promising space in a bin, pull the plastic band aside, and stuff the thing into that space. The item’s new home is recorded in Amazon’s system, the pod then drives back into the warehouse, and the next pod comes along, ready for the next item.</p><p><img alt="Robotic machinery organizing items on high shelves in an automated warehouse setting." data-rm-shortcode-id="eda75ca026a72359c18081c71abc7692" data-rm-shortcode-name="rebelmouse-image" data-runner-src="https://spectrum.ieee.org/media-library/robotic-machinery-organizing-items-on-high-shelves-in-an-automated-warehouse-setting.png?id=60140645&amp;width=980" height="1080" id="e6279" lazy-loadable="true" src="https://spectrum.ieee.org/media-library/robotic-machinery-organizing-items-on-high-shelves-in-an-automated-warehouse-setting.png?id=60140645&amp;width=980" width="1920"><small placeholder="Add Photo Caption...">Different manipulation tools are used to interact with human-optimized bins.</small><small placeholder="Add Photo Credit...">Amazon</small></p><p>The new paper on stowing includes some interesting numbers about Amazon’s inventory-handling process that helps put the scale of the problem in perspective. More than 14 billion items are stowed by hand every year at Amazon warehouses. Amazon is hoping that Vulcan robots will be able to stow 80 percent of these items at a rate of 300 items per hour, while operating 20 hours per day. It’s a very, very high bar.</p><p>After a lot of practice, Amazon’s robots are now quite good at the stowing task. Parness tells us that the stow system is operating three times as fast as it was 18 months ago, meaning that it’s actually a little bit <em><em>faster</em></em> than an average human. This is exciting, but as Parness explains, expert humans still put the robots to shame. “The fastest humans at this task are like Olympic athletes. They’re far faster than the robots, and they’re able to store items in pods at much higher densities.” High density is important because it means that more stuff can fit into warehouses that are physically closer to more people, which is especially relevant in urban areas where space is at a premium. The best humans can get very creative when it comes to this physical three-dimensional “<a href="https://www.merriam-webster.com/wordplay/tetris-video-game-verb" rel="noopener noreferrer" target="_blank">Tetris-ing</a>,” which the robots are still working on.</p><p><span data-rm-shortcode-id="03871ad39417b7a7f530d301c2812f68"><iframe frameborder="0" height="auto" type="lazy-iframe" scrolling="no" data-runner-src="https://www.youtube.com/embed/oWXco05eK28?rel=0" width="100%"></iframe></span></p><p>Where robots do excel is planning ahead, and this is likely why the average robot stower is now able to outpace the average human stower—Tetris-ing is a mental process, too. In the same way that good Tetris players are thinking about where the <em><em>next</em></em> piece is going to go, not just the current piece, robots are able to leverage a lot more information than humans can to optimize what gets stowed where and when, says Parness. “When you’re a person doing this task, you’ve got a buffer of 20 or 30 items, and you’re looking for an opportunity to fit those items into different bins, and having to remember which item might go into which space. But the robot knows all of the properties of all of our items at once, and we can also look at all of the bins at the same time along with the bins in the next couple of pods that are coming up. So we can do this optimization over the whole set of information in 100 milliseconds.”</p><p>Essentially, robots are far better at optimization within the planning side of Tetrising, while humans are (still) far better at the manipulation side, but that gap is closing as robots get more experienced at operating in clutter and contact. Amazon has had Vulcan stowing robots operating for over a year in live warehouses in Germany and Washington state to collect training data, and those robots have successfully stowed hundreds of thousands of items.</p><p>Stowing is of course only half of what Vulcan is designed to do. Picking offers all kinds of unique challenges too, and you can read our in-depth discussion with Parness on that topic <a href="https://spectrum.ieee.org/amazon-vulcan-picking-robots" target="_blank">right here</a>.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Implementing a Struct of Arrays (112 pts)]]></title>
            <link>https://brevzin.github.io/c++/2025/05/02/soa/</link>
            <guid>43935434</guid>
            <pubDate>Fri, 09 May 2025 10:52:15 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://brevzin.github.io/c++/2025/05/02/soa/">https://brevzin.github.io/c++/2025/05/02/soa/</a>, See on <a href="https://news.ycombinator.com/item?id=43935434">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>Recently, I watched Andrew Kelley’s talk on <a href="https://www.youtube.com/watch?v=IroPQ150F6c">Practical Data Oriented Design</a>. It goes into some of the architectural changes he’s been making to the Zig compiler, with pretty significant performance benefit. Would definitely recommend checking out the talk, even if you’re like me and have never written any Zig.</p><p>About halfway through the talk, he shows a way to improve his memory usage by avoiding wasting memory. By turning this structure:</p><pre><code>const Monster = struct {
    anim : *Animation,
    kind : Kind,

    const Kind = enum {
        snake, bat, wolf, dingo, human
    };
};

var monsters : ArrayList(Monster) = .{};
</code></pre><p>into this one:</p><pre><code>var monsters : MultiArrayList(Monster) = .{};
</code></pre><p><code>ArrayList(Monster)</code> is what we could call <code>std::vector&lt;Monster&gt;</code>, and <code>MultiArrayList(Monster)</code> now stores the <code>anim</code>s and <code>kind</code>s in two separate arrays, instead of one. That is, a struct of arrays instead of an array of structs. But it’s a <em>tiny</em> code change.</p><blockquote><p>One of the interesting things about Zig to me is that types are first class. Rather than having a class template that takes a template type parameter (like <code>std::vector</code> taking <code>T</code>), you write a function that takes a function parameter that is a type. That function then returns a type.</p><p>The implementation of MultiArrayList is <a href="https://github.com/ziglang/zig/blob/master/lib/std/multi_array_list.zig">literally</a></p><pre><code>pub fn MultiArrayList(comptime T: type) type {
  return struct {
    // lots of code
  };
}
</code></pre></blockquote><p>The goal of this blog post is to implement the same thing using C++26 Reflection. We’re going to write a <code>SoaVector&lt;T&gt;</code> that instead being a dynamic array of <code>T</code>s has one dynamic array for each non-static data member of <code>T</code>.</p><h2 id="we-start-with-storage"><span>We Start with Storage</span><a href="#we-start-with-storage"><i></i></a></h2><p>For the purposes of this post, we’re going to pick a simple type that has two members of different types. Let’s say… a chess coordinate:</p><pre><code>struct Point {
    char x;
    int y;
};
</code></pre><p>If we were implementing a simple <code>Vector&lt;Point&gt;</code> our storage would look like</p><pre><code>struct {
    Point* data;
    size_t size;
    size_t capacity;
};
</code></pre><p>But we’re writing an <code>SoaVector&lt;Point&gt;</code>, which means we want to store the <code>x</code>s and <code>y</code>s separately. Now, we could be lazy and do this:</p><pre><code>struct {
    std::vector&lt;char&gt; x;
    std::vector&lt;int&gt; y;
};
</code></pre><p>That would meet the requirements, but it’s not a great approach. These two <code>vector</code>s always have the same size and capacity — no reason to track them independently. It’s not like I’m trying to produce some optimal, production-ready structure in this blog… but let’s not prematurely pessimize either.</p><p>Instead, we want to do this:</p><pre><code>struct {
    // a pointer for each non-static data member
    char* x;
    int* y;

    // and then a size/capacity that apply to all of them
    size_t size;
    size_t capacity;
};
</code></pre><p>C++26 Reflection doesn’t have a lot on offer when it comes to code generation, but it <em>does</em> have the tools for this. There is a function <code>std::meta::define_aggregate()</code> which lets us… well… define an aggregate. By providing it with the data members we want to generate.</p><p>That, coupled with the ability to query data members, is all we need to begin:</p><pre><code>template &lt;class T&gt;
struct SoaVector {
    struct Pointers;
    consteval {
        define_aggregate(^^Pointers,
            nsdms(^^T)
            | std::views::transform([](std::meta::info member){
                return data_member_spec(add_pointer(type_of(member)),
                                        {.name = identifier_of(member)});
            }));
    }

    Pointers pointers_ = {};
    size_t size_ = 0;
    size_t capacity_ = 0;
};
</code></pre><p>Here, <code>nsdms</code> is a convenience helper because the real API is a mouthful:</p><pre><code>consteval auto nsdms(std::meta::info type) -&gt; std::vector&lt;std::meta::info&gt; {
    return nonstatic_data_members_of(type, std::meta::access_context::current());
}
</code></pre><p>And then, for each non-static data member <code>T mem</code> we create a <code>data_member_spec</code> whose type is <code>T*</code> and whose name is <code>mem</code>. I’m choosing to keep the <code>size_</code> and <code>capacity_</code> members separate, both because it’s simpler (why code-gen members I know I need), because it makes for nice symmetry (<code>SoaVector&lt;T&gt;::Pointers</code> and <code>T</code> have the same number of members), and perhaps most importantly it means that I don’t have to worry about the names of any of <code>T</code>’s members and potentially clashing with <code>size_</code> and <code>capacity_</code>.</p><p>We’re off to a nice start.</p><h2 id="lets-add-some-elements"><span>Let’s Add Some Elements</span><a href="#lets-add-some-elements"><i></i></a></h2><p>Of course our storage isn’t particularly interesting just sitting there. The next thing to implement is <code>push_back</code>. The basic contours of <code>push_back</code> for our <code>SoaVector</code> are the same as for a regular <code>Vector</code>, so we start with the skeleton:</p><pre><code>auto push_back(T const&amp; value) -&gt; void {
    if (size_ == capacity_) {
        grow(/* some new capacity */);
    }

    // add this element

    ++size_;
}
</code></pre><p>where</p><pre><code>auto grow(size_t new_capacity) -&gt; void {
    // 1. allocate new storage
    // 2. copy/move into the new storage
    // 3. deallocate the old storage
}
</code></pre><p>Now, both for simplicity and to limit our focus, I’m not going to worry about things like exception safety, and we’re just going to copy elements.</p><p>We’ll start with <code>grow</code> first, since it’s simpler. And because I’m not worrying about exceptions, we can actually do that sequence of steps for each non-static data member in order</p><pre><code>auto grow(size_t new_capacity) -&gt; void {
    Pointers new_pointers = {};
    template for (constexpr auto M : /* ??? */) {
        // 1. allocate new storage
        // 2. copy into the new storage
        // 3. deallocate the old storage
    }

    pointers_ = new_pointers;
    capacity_ = new_capacity;
}
</code></pre><p>Unfortunately, one of the C++26 limitations is that we can’t just do <code>nsdms(^^Pointers)</code> in the expansion statement. That requires non-transient allocation, which we don’t have. Thankfully, we have a library solution for this in the form of <code>std::define_static_array()</code>. That function creates a static storage array with the contents you pass into it and returns a <code>std::span&lt;T const&gt;</code> into those contents. That <code>std::span</code>, importantly, can be used as a <code>constexpr</code> variable (it just points into <code>static</code> storage)! This is something that’s going to come up repeatedly, so we’ll store that in the class itself:</p><pre data-line="9-10"><code>template &lt;class T&gt;
struct SoaVector {
    struct Pointers;
    consteval { /* ... */ }
    Pointers pointers_ = {};
    size_t size_ = 0;
    size_t capacity_ = 0;

    static constexpr auto mems = define_static_array(nsdms(^^T));
    static constexpr auto ptr_mems = define_static_array(nsdms(^^Pointers));
};
</code></pre><p>Which will allow us to implement <code>grow</code> (with a couple helper functions for convenience):</p><pre><code>auto grow(size_t new_capacity) -&gt; void {
    Pointers new_pointers = {};
    template for (constexpr auto M : ptr_mems) {
        // 1. allocate
        new_pointers.[:M:] = allocate&lt;[:remove_pointer(type_of(M)):]&gt;(
            new_capacity);
        // 2. copy
        std::uninitialized_copy_n(pointers_.[:M:], size_, new_pointers.[:M:]);
        // 3. deallocate
        delete_range(pointers_.[:M:]);
    }
    pointers_ = new_pointers;
    capacity_ = new_capacity;
}

template &lt;class U&gt;
auto allocate(size_t cap) -&gt; U* {
    return std::allocator&lt;U&gt;().allocate(cap);
}

template &lt;class U&gt;
auto delete_range(U* ptr) -&gt; void {
    std::destroy(ptr, ptr + size_);
    std::allocator&lt;U&gt;().deallocate(ptr, capacity_);
}
</code></pre><p>Whenever we allocate memory, we have to remember to clean it up. We’re doing that to the old storage in <code>grow</code> and we have to do it in our destructor too:</p><pre><code>~SoaVector() {
    template for (constexpr auto M : ptr_mems) {
        delete_range(pointers_.[:M:]);
    }
}
</code></pre><p>Now that we have our memory (and properly cleaning it up too), let’s go back to <code>push_back</code>. What we need to do is take a <code>T</code> and write each member of that <code>T</code> into the corresponding array. Reading the source member requires looking at a non-static data member of <code>T</code>, while writing the destination member requires looking at a non-static data member of <code>Pointers</code>. We could either loop over the number of members, or we could loop over a <code>zip</code> of the two sets of members.</p><p>I’m going to do the former since clang doesn’t yet implement <code>constexpr</code> structured bindings:</p><pre><code>auto push_back(T const&amp; value) -&gt; void {
    if (size_ == capacity_) {
        // some exponential growth
        grow(std::max(3 * size_ / 2, size_ + 2));
    }

    template for (constexpr auto I : std::views::iota(0zu, mems.size())) {
        constexpr auto from = mems[I];
        constexpr auto to = ptr_mems[I];

        using M = [: type_of(from) :];
        ::new (pointers_.[: to :] + size_) M(value.[:from:]);
    }

    ++size_;
}
</code></pre><p>That would actually be simpler if I used <code>std::construct_at</code>, since I wouldn’t need to determine <code>M</code>. But in general I prefer placement new (especially since that’ll be <code>constexpr</code> in C++26 too) since it can do all kinds of initialization.</p><p>So far so good. If I just make everything <code>public</code> for <a href="https://godbolt.org/z/GfWYTMn5v">easy debugging</a>:</p><pre><code>struct Point {
    char x;
    int y;
};

int main() {
    SoaVector&lt;Point&gt; v;
    v.push_back(Point{.x='e', .y=4});
    v.push_back(Point{.x='f', .y=7});

    std::println("x={}", std::span(v.pointers_.x, v.size_)); // x=['e', 'f']
    std::println("y={}", std::span(v.pointers_.y, v.size_)); // y=[4, 7]
}
</code></pre><h2 id="reading-those-elements"><span>Reading Those Elements</span><a href="#reading-those-elements"><i></i></a></h2><p>Now indexing is where things get really interesting. Because what do we return? For the purposes of this blog, we’re going to do things two different ways:</p><ul><li>the <code>const</code> indexing operator is just going to return a <code>Point</code>, by value.</li><li>the mutable indexing operator is going to return a view into a <code>Point</code> —&nbsp;a new <code>PointRef</code> type.</li></ul><p>What I mean by <code>PointRef</code> is:</p><pre><code>struct PointRef {
    char&amp; x;
    int&amp; y;

    auto operator=(Point const&amp;) const -&gt; void; // assigns through
};
</code></pre><p>The point (sorry) here isn’t to argue that this is the absolutely correct way to implement <code>SoaVector&lt;T&gt;</code>. Maybe you think the <code>const</code> indexing operator should return a version of <code>PointRef</code> that has <code>const&amp;</code>s. Maybe you think there shouldn’t even be an indexing operator. I don’t know what the right answer is. But doing it this way should show how it’s possible to do whatever it is you want to do.</p><p>But before we go further, let’s add some more debuggability to this project (copying from <a href="https://brevzin.github.io/c++/2024/09/30/annotations/#pretty-printing-a-struct">this earlier post</a>):</p><pre data-line="1"><code>struct [[=derive&lt;Debug&gt;]] Point {
    char x;
    int y;
};
</code></pre><p>Now we can actually print our <code>Point</code>s. Much better!</p><h3 id="indexing-into-a-value"><span>Indexing into a Value</span><a href="#indexing-into-a-value"><i></i></a></h3><p>The first thing we’ll do is write</p><pre><code>auto operator[](size_t idx) const -&gt; T;
</code></pre><p>That’ll get us to the point where we can both <code>push_back</code> <code>Point</code>s into our <code>SoaVector</code> and then read <code>Point</code>s back out successfully. That’s really the bare minimum to be able to claim that we’ve actually implemented a struct-of-arrays vector.</p><p>Now, so far, we’ve seen several examples where we need to iterate one member at a time. We allocated/deallocated one member at a time, we wrote one member at a time. But reading we can’t really do one member at a time. Well, we <em>could</em> —&nbsp;emitting the equivalent of:</p><pre><code>auto operator[](size_t idx) const -&gt; Point {
    Point p;
    p.x = pointers_.x[idx];
    p.y = pointers_.y[idx];
    return p;
}
</code></pre><p>And for this <code>Point</code> type, that’s perfectly fine. But let’s try for something better. We want to emit:</p><pre><code>auto operator[](size_t idx) const -&gt; Point {
    return Point{pointers_.x[idx], pointers_.y[idx]};
}
</code></pre><p>The only way in C++26 to do this is to expand a pack. We can get that pack by using the <code>index_sequence</code> trick as usual. Or we can get that pack by doing something reflection-specific. Let’s just do the latter, for the sake of doing the latter:</p><pre><code>auto operator[](size_t idx) const -&gt; T {
    return [: expand_all(ptr_mems) :] &gt;&gt; [this, idx]&lt;auto... M&gt;{
        return T{pointers_.[:M:][idx]...};
    };
}
</code></pre><p>And with that, we have both <code>push_back</code> and <code>operator[]</code> <a href="https://godbolt.org/z/od3Kq6683">working</a>:</p><pre><code>struct [[=derive&lt;Debug&gt;]] Point {
    char x;
    int y;
};

int main() {
    SoaVector&lt;Point&gt; v;
    v.push_back(Point{.x='e', .y=4});
    v.push_back(Point{.x='f', .y=7});

    std::println("v[0]={}", v[0]); // v[0]=Point{.x='e', .y=4}
    std::println("v[1]={}", v[1]); // v[1]=Point{.x='f', .y=7}
}
</code></pre><h3 id="indexing-into-a-reference"><span>Indexing into a Reference</span><a href="#indexing-into-a-reference"><i></i></a></h3><p>Let’s take the next step. We don’t want to just read <code>v[0]</code>, we want to be able to write into it. We want to make <code>v[0] = Point{.x='a', .y=8}</code> work. How do we do it?</p><p>To start with, we need to generate a new type. But now, we don’t just want to emit:</p><pre><code>struct PointRef {
    char&amp; x;
    int&amp; y;
};
</code></pre><p>We also wanted an assignment operator and a conversion operator. <code>std::meta::define_aggregate()</code> doesn’t have the ability to generate member functions — only non-static data members. But that’s no matter, we can generate those members and then add those member functions in a derived class:</p><pre data-line="5,9-10,18,20-22"><code>template &lt;class T&gt;
struct SoaVector {
private:
    struct Pointers;
    struct RefBase;
    consteval {
        define_aggregate(^^Pointers,
            transform_members(^^T, std::meta::add_pointer));
        define_aggregate(^^RefBase,
            transform_members(^^T, std::meta::add_lvalue_reference));
    }
    Pointers pointers_ = {};
    size_t size_ = 0;
    size_t capacity_ = 0;

    static constexpr auto mems = define_static_array(nsdms(^^T));
    static constexpr auto ptr_mems = define_static_array(nsdms(^^Pointers));
    static constexpr auto ref_mems = define_static_array(nsdms(^^RefBase));

    struct Ref : RefBase {
        auto operator=(T const&amp; value) const -&gt; void;
    };
};
</code></pre><p>The logic for the assignment operator is the same as what we saw in <code>push_back</code>, except we’re writing through reference members instead of indexed pointer ones:</p><pre><code>struct Ref : RefBase {
    auto operator=(T const&amp; value) const -&gt; void {
        template for (constexpr auto I : std::views::iota(0zu, mems.size())) {
            this-&gt;[:ref_mems[I]:] = value.[:mems[I]:];
        }
    }
};
</code></pre><p>And that’s… basically it. The index operator that returns a <code>Ref</code> looks nearly the same as the one that returns the <code>T</code>, we’re just initializing a different thing:</p><pre><code>auto operator[](size_t idx) -&gt; Ref {
    return [: expand_all(ptr_mems) :] &gt;&gt; [this, idx]&lt;auto... M&gt;{
        return Ref{pointers_.[:M:][idx]...};
    };
}

auto operator[](size_t idx) const -&gt; T {
    return [: expand_all(ptr_mems) :] &gt;&gt; [this, idx]&lt;auto... M&gt;{
        return T{pointers_.[:M:][idx]...};
    };
}
</code></pre><p>Which gives us:</p><pre><code>struct [[=derive&lt;Debug&gt;]] Point {
    char x;
    int y;
};

int main() {
    SoaVector&lt;Point&gt; v;
    v.push_back(Point{.x='e', .y=4});
    v.push_back(Point{.x='f', .y=7});

    v[0] = Point{.x='a', .y=8};

    std::println("v[0]={}", std::as_const(v)[0]); // v[0]=Point{.x='a', .y=8}
    std::println("v[1]={}", std::as_const(v)[1]); // v[1]=Point{.x='f', .y=7}
}
</code></pre><p>Which is pretty sweet.</p><h3 id="formatting-the-reference"><span>Formatting the Reference</span><a href="#formatting-the-reference"><i></i></a></h3><p>Well, okay. It feels a bit incomplete right. We should be able to just print <code>v[0]</code> and not have to print <code>std::as_const(v)[0]</code>! Thankfully, annotations help us out there too. We just have to use them:</p><pre data-line="5,15"><code>template &lt;class T&gt;
struct SoaVector {
private:
    struct Pointers;
    struct [[=derive&lt;Debug&gt;]] RefBase;
    consteval { /* ... */ }
    Pointers pointers_ = {};
    size_t size_ = 0;
    size_t capacity_ = 0;

    static constexpr auto mems = define_static_array(nsdms(^^T));
    static constexpr auto ptr_mems = define_static_array(nsdms(^^Pointers));
    static constexpr auto ref_mems = define_static_array(nsdms(^^RefBase));

    struct [[=derive&lt;Debug&gt;]] Ref : RefBase {
        // ...
    };
};
</code></pre><p>Annotations are <em>so</em> cool.</p><p>Anyway, that’s great, since it lets us just print <code>v[0]</code> instead of <code>std::as_const(v)[0]</code>. But it doesn’t quite print it <a href="https://godbolt.org/z/eKKdroTbM">the way I’d like</a>:</p><pre><code>v[0]=Ref{RefBase{.x='a', .y=8}}
v[1]=Ref{RefBase{.x='f', .y=7}}
</code></pre><p>What if we just, at the point of formatting, forced the conversion to <code>Point</code>? That requires two things. First, we need to add such a conversion. That’s no problem, we’ve already done that twice:</p><pre data-line="8-12"><code>struct [[=derive&lt;Debug&gt;]] Ref : RefBase {
    auto operator=(T const&amp; value) const -&gt; void {
        template for (constexpr auto I : std::views::iota(0zu, mems.size())) {
            this-&gt;[:ref_mems[I]:] = value.[:mems[I]:];
        }
    }

    operator T() const {
        return [: expand_all(ref_mems) :] &gt;&gt; [this]&lt;auto... M&gt;{
            return T{this-&gt;[:M:]...};
        };
    }
};
</code></pre><p>And then we add some more functionality to our little formatting annotation library. Right now we just have <code>derive&lt;Debug&gt;</code>. We could add some more information there — add <em>which</em> type we want to format as. Let’s do something like this. We’ll add a new annotation type:</p><pre><code>struct format_as { std::meta::info type; };
</code></pre><p>Which we’ll add to <code>Ref</code> (and then remove the <code>derive&lt;Debug&gt;</code> from <code>RefBase</code> as no longer necessary):</p><pre data-line="5,13"><code>template &lt;class T&gt;
struct SoaVector {
private:
    struct Pointers;
    struct RefBase;
    consteval { /* ... */; }
    Pointers pointers_ = {};
    size_t size_ = 0;
    size_t capacity_ = 0;

    // ...

    struct [[=derive&lt;Debug&gt;, =format_as{^^T}]] Ref : RefBase {
        // ...
    };
};
</code></pre><p>Now we have to teach our annotation-based formatter to look for this other annotation. First, we determine what type we’re formatting as. That’s the <code>format_as</code> type, if present:</p><pre><code>consteval auto format_type(std::meta::info type) -&gt; std::meta::info {
    auto as = annotations_of(type, ^^format_as);
    if (not as.empty()) {
        return extract&lt;format_as&gt;(as[0]).type;
    } else {
        return type;
    }
}
</code></pre><p>If we find an annotation of type <code>format_as</code>, <code>as[0]</code> will still be of type <code>std::meta::info</code> — so we need <code>extract&lt;format_as&gt;()</code> to actually pull out a <code>format_as</code> value.</p><blockquote><p>One of the advantages of the value-based reflection model is that a lot of Reflection functions are just that — functions.</p></blockquote><p>And once we have this function, the simplest change we can make is to change our formatter to inherit from a different class template:</p><pre data-line="11-12"><code>template &lt;class T&gt;
struct derive_formatter {
    constexpr auto parse(auto&amp; ctx) { return ctx.begin(); }

    auto format(T const&amp;, auto&amp; ctx) const {
        // all as before
    }
};

template &lt;class T&gt; requires (has_annotation(^^T, derive&lt;Debug&gt;))
struct std::formatter&lt;T&gt;
    : derive_formatter&lt;[: format_type(^^T) :]&gt;
{ };
</code></pre><p>And we’re done. <code>std::formatter&lt;Point&gt;</code> and <code>std::formatter&lt;SoaVector&lt;Point&gt;::Ref&gt;</code> both inherit from <code>derive_formatter&lt;Point&gt;</code>, whose <code>format()</code> takes a <code>Point const&amp;</code>. For <code>Ref</code>, that implicit conversion just happens on the way in.</p><h2 id="a-working-implementation"><span>A Working Implementation</span><a href="#a-working-implementation"><i></i></a></h2><p>And with all that said and done, let’s look at <a href="https://godbolt.org/z/jjTEWdY6d">this program</a>:</p><pre><code>struct [[=derive&lt;Debug&gt;]] Point {
    char x;
    int y;
};

int main() {
    SoaVector&lt;Point&gt; v;
    v.push_back(Point{.x='e', .y=4});
    v.push_back(Point{.x='f', .y=7});

    v[0] = Point{.x='a', .y=8};

    std::println("v[0]={}", v[0]); // v[0]=Point{.x='a', .y=8}
    std::println("v[1]={}", v[1]); // v[1]=Point{.x='f', .y=7}
}
</code></pre><p>We’re taking an arbitrary type, creating a struct of vectors out of each element, supporting pushing elements into it (handling the piece-wise split ourselves), reading elements out of it (ditto), and even supporting proxy references that print like the original type.</p><p>The complete implementation of <code>SoaVector</code> here was less than 100 lines of code, plus a few other short helpers. Just pasting the actual implementation:</p><pre><code>template &lt;class T&gt;
struct SoaVector {
private:
    struct Pointers;
    struct RefBase;
    consteval {
        define_aggregate(
            ^^Pointers,
            transform_members(^^T, std::meta::add_pointer));
        define_aggregate(
            ^^RefBase,
            transform_members(^^T, std::meta::add_lvalue_reference));
    }
    Pointers pointers_ = {};
    size_t size_ = 0;
    size_t capacity_ = 0;

    static constexpr auto mems = define_static_array(nsdms(^^T));
    static constexpr auto ptr_mems = define_static_array(nsdms(^^Pointers));
    static constexpr auto ref_mems = define_static_array(nsdms(^^RefBase));

    struct [[=derive&lt;Debug&gt;, =format_as{^^T}]] Ref : RefBase {
        auto operator=(T const&amp; value) const -&gt; void {
            template for (constexpr auto I :
                          std::views::iota(0zu, mems.size())) {
                this-&gt;[:ref_mems[I]:] = value.[:mems[I]:];
            }
        }

        operator T() const {
            return [: expand_all(ref_mems) :] &gt;&gt; [this]&lt;auto... M&gt;{
                return T{this-&gt;[:M:]...};
            };
        }
    };

    auto grow(size_t new_capacity) -&gt; void {
        Pointers new_pointers = {};
        template for (constexpr auto M : ptr_mems) {
            new_pointers.[:M:] = alloc&lt;[:remove_pointer(type_of(M)):]&gt;(
                new_capacity);
            std::uninitialized_copy_n(pointers_.[:M:],
                                      size_,
                                      new_pointers.[:M:]);
            delete_range(pointers_.[:M:]);
        }
        pointers_ = new_pointers;
        capacity_ = new_capacity;
    }

    template &lt;class U&gt;
    auto alloc(size_t cap) -&gt; U* {
        return std::allocator&lt;U&gt;().allocate(cap);
    }

    template &lt;class U&gt;
    auto delete_range(U* ptr) -&gt; void {
        std::destroy(ptr, ptr + size_);
        std::allocator&lt;U&gt;().deallocate(ptr, capacity_);
    }

public:
    SoaVector() = default;
    ~SoaVector() {
        template for (constexpr auto M : ptr_mems) {
            delete_range(pointers_.[:M:]);
        }
    }

    auto push_back(T const&amp; value) -&gt; void {
        if (size_ == capacity_) {
            grow(std::max(3 * size_ / 2, size_ + 2));
        }

        template for (constexpr auto I :
                      std::views::iota(0zu, mems.size())) {
            constexpr auto from = mems[I];
            constexpr auto to = ptr_mems[I];

            using M = [: type_of(from) :];
            ::new (pointers_.[: to :] + size_) M(value.[:from:]);
        }

        ++size_;
    }

    auto operator[](size_t idx) -&gt; Ref {
        return [: expand_all(ptr_mems) :] &gt;&gt; [this, idx]&lt;auto... M&gt;{
            return Ref{pointers_.[:M:][idx]...};
        };
    }

    auto operator[](size_t idx) const -&gt; T {
        return [: expand_all(ptr_mems) :] &gt;&gt; [this, idx]&lt;auto... M&gt;{
            return T{pointers_.[:M:][idx]...};
        };
    }
};
</code></pre><p>Of course this is still just <code>push_back</code> and two overloads of <code>operator[]</code>, I didn’t even add iterator support or any of the other functions you’d probably want. But this was basically already the hard part. Once we can do this, we’ve demonstrated that we can do everything.</p><p>For instance, you might want to be able to have <code>v.fields().x</code> give you a <code>std::span&lt;char&gt;</code> (or <code>std::span&lt;char const&gt;</code>) — just the <code>x</code>s. I’d manually done that earlier just to be able to test the implementation, but that’s actually a useful thing to want. Doing so is just another round of generating a type and then populating it.</p><p>Needless to say, I’m <em>very</em> excited about Reflection.</p><h2 id="comparison-with-zig"><span>Comparison with Zig</span><a href="#comparison-with-zig"><i></i></a></h2><p>I’ve written in this blog about Rust a number of times. And while I don’t know Rust very well at all, I have at least read the Rust Programming Language, written a number of small Rust programs, read blogs, watched talks, and talked to Rust people about Rust things.</p><p>I can’t say <em>any</em> of that about Zig. The only Zig talk I’ve ever watched is the one I linked to above (and that one arguably is less a Zig talk and more a “Practical Data-Oriented Design” talk that is somewhat language-agnostic). I haven’t read any Zig books or blogs, written any programs, nothing like that. I have browsed through the docs. Sort of. So I am not exactly in a great position to give a proper comparison to the Zig implementation here. I apologize in advance for all the egregious errors.</p><p>The <a href="https://github.com/ziglang/zig/blob/master/lib/std/multi_array_list.zig">Zig implementation</a> of <code>MultiArrayList</code> does an extra optimization that I didn’t think about: it does a single allocation — and then chunks that allocation up. Its layout is simply:</p><pre><code>pub fn MultiArrayList(comptime T: type) type {
    return struct {
        bytes: [*]align(@alignOf(T)) u8 = undefined,
        len: usize = 0,
        capacity: usize = 0,
        // ...
    };
}
</code></pre><blockquote><p>Coming from C/C++, Zig declaration syntax is a bit jarring — but it has a lot going for it. Declarations always read in one direction, there’s no spiraling. Here, <code>bytes</code> is a many-item pointer (<code>[*]</code>) to an unknown number of suitably-aligned (<code>@alignof(T)</code>) <code>u8</code>, initialized to <code>undefined</code>. Zig also differentiates between a many-item pointer (<code>[*]T</code>) and a single-item pointer (<code>*T</code>).</p></blockquote><p>Now, whereas I created the struct <code>Pointers</code> (which had a <code>char*</code> and an <code>int*</code> for the two fields), the Zig implementation doesn’t do that. Instead, when it chunks up its single allocation, it still keeps everything in <code>u8</code> space:</p><pre><code>pub const Slice = struct {
    ptrs: [fields.len][*]u8,
    len: usize,
    capacity: usize,
};
</code></pre><p><code>ptrs</code> is an array of many-item pointers to <code>u8</code>, one pointer for each field.</p><p>Eventually though, we need to go back to type-space. Before I walk through any of the code, there is one type being generated that is worth talking about:</p><pre><code>pub const Field = meta.FieldEnum(T);
</code></pre><p><code>meta.FieldEnum()</code> is a Zig function that takes a type and returns an <code>enum</code> (roughly a C++ <code>enum class</code>) with an enumerator for each member. So if we had:</p><pre><code>const Point = struct {
    x : c_char,
    y : i32
};
</code></pre><p>then <code>meta.FieldEnum(Point)</code> would produce <code>enum { x, y }</code>.</p><blockquote><p>One of the things I <em>really</em> like about Zig is that, because types are first-class, you can just have functions that take types and return types. One of the parts of C++26 reflection that I dislike is our approach to generating types. Right now, I have to write:</p><pre><code>struct Pointers;
consteval {
    define_aggregate(^^Pointers,
                     transform_members(^^T, std::meta::add_pointer));
}
</code></pre><p>When <em>really</em> the meaning and intent here is more akin to:</p><pre><code>struct Pointers = transform_members(^^T, std::meta::add_pointer);
</code></pre><p>Zig gets me the latter. Even if I wanted to write <code>AddPointers&lt;T&gt;</code>, the only way to implement that is by doing one further layer of indirection:</p><pre><code>template &lt;class T&gt;
struct AddPointersImpl {
    struct type;
    consteval { transform_members(^^type, std::meta::add_pointer); }
};

template &lt;class T&gt;
using AddPointers = AddPointersImpl&lt;T&gt;::type;
</code></pre></blockquote><p>Also, let’s look at how <code>FieldEnum</code> <a href="https://github.com/ziglang/zig/blob/master/lib/std/meta.zig">actually works</a>:</p><pre><code>pub fn FieldEnum(comptime T: type) type {
    const field_infos = fields(T); // basically, @typeInfo(T).fields

    if (field_infos.len == 0) {
        // skipping for brevity
    }

    if (@typeInfo(T) == .@"union") {
        // skipping for brevity
    }

    var decls = [_]std.builtin.Type.Declaration{};

    var enumFields: [field_infos.len]std.builtin.Type.EnumField = undefined;
    inline for (field_infos, 0..) |field, i| {
        enumFields[i] = .{
            .name = field.name ++ "",
            .value = i,
        };
    }

    return @Type(.{
        .@"enum" = .{
            .tag_type = std.math.IntFittingRange(0, field_infos.len - 1),
            .fields = &amp;enumFields,
            .decls = &amp;decls,
            .is_exhaustive = true,
        },
    });
}
</code></pre><p>This is pretty similar in spirit to how <code>std::meta::define_aggregate()</code> works, the primary difference being that we’re <em>returning</em> a new type rather than taking as a parameter the type we’re defining. An equivalent <code>std::meta::define_enum()</code> should be a fairly straightforward extension.</p><p>Moving on. Eventually Zig has to get from a bunch of <code>u8</code>s to specific types. We have <code>items()</code> for that:</p><pre data-line="4"><code>// for our Point example, this was enum { x, y }
pub const Field = meta.FieldEnum(T);

pub fn items(self: Slice, comptime field: Field) []FieldType(field) {
    const F = FieldType(field);
    if (self.capacity == 0) {
        return &amp;[_]F{};
    }
    const byte_ptr = self.ptrs[@intFromEnum(field)];
    const casted_ptr: [*]F = if (@sizeOf(F) == 0)
        undefined
    else
        @ptrCast(@alignCast(byte_ptr));
    return casted_ptr[0..self.len];
}
</code></pre><p>There’s a lot of interesting stuff going on in the highlighted line so I wanted to call it out:</p><ul><li><code>field</code> is a <code>comptime</code> function parameter. This is what C++ would call <code>constexpr</code> function parameters. We already saw a few cases with passing a <em>type</em> as a function parameter, this is now passing an <code>enum</code>.</li><li>This returns <code>[]FieldType(field)</code>. The type <code>[]T</code> (a slice) is what C++ would spell <code>std::span&lt;T&gt;</code>, it’s basically many-item pointer and a length. Other languages have a slice type too — Rust spells it <code>[T]</code> and D spells it <code>T[]</code>. Anywhere you put the <code>T</code> is valid in some language.</li><li>The specific type <code>FieldType(field)</code> is shorter convenience for <code>@FieldType(T, @tagName(field))</code>. The <code>@</code> functions are all Zig builtins. I’m guessing <code>@FieldType</code> is capitalized because it’s a type, while <code>@tagName</code> is a value.</li></ul><p>For the call <code>self.items(Field.x)</code> (or simply <code>self.items(.x)</code> as a nice shorthand), we’d look up the return type as <code>@FieldType(Point, @tagName(Field.x))</code> which is <code>@FieldType(Point, "x")</code> which is <code>c_char</code>. So this returns a <code>[]c_char</code> (or <code>std::span&lt;char&gt;</code>).</p><p>The enum here is used two ways —&nbsp;its name maps back to the original field to gets its type, and its <em>index</em> is used to pick which byte array we’re accessing —&nbsp;that’s <code>self.ptrs[@intFromEnum(field)]</code> (where <code>@intFromEnum</code> is just an explicit cast from <code>enum</code> to <code>int</code>).</p><p>Lastly, let’s actually get an element. What does that look like? I’m simplifying the implementation slightly to only care about the <code>struct</code> case:</p><pre><code>pub fn get(self: Slice, index: usize) T {
    var result: T = undefined;
    inline for (fields, 0..) |field_info, i| {
        @field(result, field_info.name) =
            self.items(@as(Field, @enumFromInt(i)))[index];
    }
    return result;
}
</code></pre><p>One nice thing Zig has going for it is that, as a C language, you can just construct an <code>undefined</code> object and then piece-wise assign the members. Can’t do that in C++, so this function was always going to be simpler in Zig than in C++. The <code>@as(Field, @enumfromInt(i))</code> part is taking the <code>int</code> iteration index and casting it to our <code>Field</code> enum. <code>inline for</code> is semantically equivalent to C++’s <code>template for</code>.</p><p>But other than that, this implementation isn’t actually all that different than what we’d do in C++. Copying the member-at-a-time approach, the C++ implementation is:</p><pre><code>auto operator[](size_t index) const -&gt; T {
    T result;
    template for (constexpr auto I : views::iota(0zu, mems.size())) {
        result.[:mems[I]:] = pointers_.[:pmems[I]:][index];
    }
    return result;
}
</code></pre><p>It’s interesting that while <em>syntactic</em> choices are quite different, the semantics are remarkably similar between the two approaches to reflection. While the Zig language is still very foreign to me, a lot of the implementation I nevertheless found familiar — because it wasn’t all that different from what I just did.</p><p>But there are a few choices Zig makes that I really like, that I wanted to specifically note:</p><ul><li>As already mentioned, the ability to “initialize” types in the same way that you could initialize other values. This may prove difficult in C++ for a number of reasons, but I think it’s worth considering —&nbsp;especially as we’ll want to pursue more code generation utilities.</li><li><code>constexpr</code> function parameters make for nice syntax, since you don’t have different syntax choices for different “kinds” of parameters.</li><li>Being able to implicitly name enumerators. I don’t know what Zig calls this feature, but basically the fact that this works:<pre><code>const Color = enum { red, green, blue };

pub fn takes_color(c: Color) void { _ = c; }

pub fn main() void {
    takes_color(.red); // ok, implicitly Color.red
}
</code></pre><p>which is what allows this syntax to work:</p><pre><code>var list : std.MultiArrayList(Point) = .{};
var xs : []c_char = list.items(.x);
var y0 : i32      = list.items(.y)[0];
</code></pre><p>After all, is <code>f(.x)</code> all that different to support than <code>f({.x=1})</code> which already works? The best I can come up with in C++ right now is <a href="https://godbolt.org/z/M3cncEWre">this syntax</a>, using the proposed <a href="https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2025/p2781r8.html"><code>std::constant_wrapper</code></a>:</p><pre><code>std::println("xs={}", v.items(std::cw&lt;"x"&gt;)); // xs=['a', 'f']
std::println("ys={}", v.items(std::cw&lt;"y"&gt;)); // ys=[8, 7]
</code></pre><p>One of the reasons this is reasonable in Zig is that <code>.red</code> is short-hand for <code>Color.red</code>. But in C++, the qualified name for the enumerator isn’t <code>Color.red</code>, we’d spell it <code>Color::red</code> instead. Having <code>.red</code> be short-hand for a completely different syntax might be a hard sell. And <code>::red</code> already has meaning. We’ll see.</p></li></ul><p>That all said, I will simply repeat how I ended the previous section: I’m very excited about Reflection in C++.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Hyvector – A fast and modern SVG editor (244 pts)]]></title>
            <link>https://www.hyvector.com</link>
            <guid>43935394</guid>
            <pubDate>Fri, 09 May 2025 10:45:40 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.hyvector.com">https://www.hyvector.com</a>, See on <a href="https://news.ycombinator.com/item?id=43935394">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Rust’s dependencies are starting to worry me (182 pts)]]></title>
            <link>https://vincents.dev/blog/rust-dependencies-scare-me/?</link>
            <guid>43935067</guid>
            <pubDate>Fri, 09 May 2025 09:11:05 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://vincents.dev/blog/rust-dependencies-scare-me/?">https://vincents.dev/blog/rust-dependencies-scare-me/?</a>, See on <a href="https://news.ycombinator.com/item?id=43935067">Hacker News</a></p>
<div id="readability-page-1" class="page">
        

        <a href="https://vincents.dev/">
            <img src="https://vincents.dev/home.png">
        </a>

        <p>
            I do not pretend to have more experience or understanding than the top level engineers I often see writing blogs here, but what I am is annoyed. I love rust. It's by far my favorite language, I enjoy the community and the language ergonomics. I've been able to incorporate it into projects in my day job where fit.
        </p>

        <picture>
            <img src="https://vincents.dev/blog/rust-dependencies-scare-me/images/crates.png">
        </picture>

        <p>
            Rust's dependencies are starting to worry me. For those who don't code in Rust, Rust provides an ecosystem of crates through crates.io, allowing users to helpfully install them with the command cargo add, or by simply adding the requested crate and version to the Cargo.toml file. This paradigm is similar to NPM for nodejs.
        </p>

         <h2>The Good</h2>

         <p>Cargo is helpful and a huge productivity booster, ensuring I don't have to hunt around and link files myself with something like CMake. This also allows me to swap between architectures and operating systems pretty frequently, mainly my M1 macbook air and my x86 Debian desktop. In general I don't have to think much about package management and gets me right into writing code.</p>

        <h2>The Bad</h2>

        <p>Not thinking about package management careful makes me sloppy. In a recent production project I pulled in dotenv a crate I've seen many other rust developers use. This worked fine for multiple weeks until recently when checking a rust security advisory mentioning that dotenv is <a href="https://rustsec.org/advisories/RUSTSEC-2021-0141.html">unmaintained</a>. Below is a suggested alternative dotenvy. This whole fiasco led me tho think .... do I even need this crate at all? 35 lines later I had the parts of dotenv I needed. Packages become un-mainted in every language and it was my choice to pull in an arguably trivial dependency. So what happens when I have dependencies I do need?</p>

        <h2>So Much Code</h2>

        <picture>
            <img src="https://vincents.dev/blog/rust-dependencies-scare-me/images/why.png">
        </picture>

        <p>Tokio is one of rust's most well maintained packages of all time. This was added with axum a webserver by the same folks that sits on top of the tokio (the async runtime). Tokio is legitimately one of the coolest things  I've ever gotten to work with, touting itself as a work stealing multithreaded runtime. Tokio has performed leaps and bounds better than I ever could have hoped. </p>

        <p>So with that I chose to add a couple more dependencies that I belived were needed, bringing my total cargo file to these
Axum, Reqwest , ripunzip, serde, serde_json, tokio, tower-http, tracing, and tracing-subscriber</p>

        <p>In general I considered the project to be trivial, a webserver that handles requests, unzips files, and has logs</p>

        <p>In an attempt to build resilient software I decided to vendor my packages, a cargo feature that downloads all my dependencies so I can host them locally.</p>

        <p>Out of curiosity I ran <a href="https://github.com/XAMPPRocky/tokei">toeki</a> a tool for counting lines of code, and found a staggering 3.6 million lines of rust. Removing the vendored packages reduces this to 11136 lines of rust.</p>

        <picture>
            <img src="https://vincents.dev/blog/rust-dependencies-scare-me/images/vendored.png">
        </picture>

        <p>Now I understand that webservers are complex, and a full asyncronous runtime is even more complex. However the entire linux kernel is 27.8 million lines according to this <a href="https://www.theregister.com/2020/01/06/linux_2020_kernel_systemd_code/">register article</a></p>

        <p>That's only 7 of my project....</p>

        <p>How could I ever audit all of that code?</p>

        <p>The code that I personally wrote is only around 1000 lines</p>

        <picture>
            <img src="https://vincents.dev/blog/rust-dependencies-scare-me/images/onlymine.png">
        </picture>


        <h2>What's the solution?</h2>

        <p>I have no idea... Many call for adding more to the rust standard library much like Go, however this causes its own set of issues. Rust is positioned as a high performance, safe, and modular language meaning to compete with CPP and C. That means it targets things like embedded devices. Every new thing that gets added to the std library is one more thing for the rust team to have to manage and work on. Just Tokio itself has one of the most active Github and programming discords Ive seen.</p>

        <p>I can't rewrite the world, an async runtime and web server are just too difficult and take to long for me to justify writing for a project like this (although I should eventually just for a better understanding).</p>

        <p>With a question I've asked during an interview at cloudflare I was told that cloudflare just leverages tokio like everyone else and pulls from crates.io.  How often do they audit that code?</p>

        <p>Clickhouse has mentioned problems with <a href="https://clickhouse.com/blog/rust">binary sizes</a> and I doubt they even have the same amount of crates.</p>

        <p>With cargo there is no easy way (as far as I can tell) to see what lines ACTUALLY get compiled into the final binary, many crates include items for windows which I don't necessarily need (but there's no official way to tell cargo that).</p>

        <p>So now I pose the question to you what do we do?</p>



        <a href="https://vincents.dev/resume">Hiring for a rust role?  consider me :)</a>
    

</div>]]></description>
        </item>
        <item>
            <title><![CDATA[WASM 2.0 (301 pts)]]></title>
            <link>https://www.w3.org/TR/wasm-core-2/</link>
            <guid>43934711</guid>
            <pubDate>Fri, 09 May 2025 08:01:06 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.w3.org/TR/wasm-core-2/">https://www.w3.org/TR/wasm-core-2/</a>, See on <a href="https://news.ycombinator.com/item?id=43934711">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
     <section id="introduction">
      <span id="intro"></span>
     <h2 data-level="1" id="introduction①"><span>1. </span><span>Introduction</span><a href="#introduction①"></a></h2>
     <div>
       <section id="introduction②">
       <h3 data-level="1.1" id="introduction③"><span>1.1. </span><span>Introduction</span><a href="#introduction③"></a></h3>
       <p>WebAssembly (abbreviated Wasm <a href="#wasm" id="id1" role="doc-noteref"><span>[</span>1<span>]</span></a>) is a <em>safe, portable, low-level code format</em> designed for efficient execution and compact representation.
Its main goal is to enable high performance applications on the Web, but it does not make any Web-specific assumptions or provide Web-specific features, so it can be employed in other environments as well.</p>
       <p>WebAssembly is an open standard developed by a <a href="https://www.w3.org/community/webassembly/">W3C Community Group</a>.</p>
       <p>This document describes version 2.0 (Draft 2024-12-18) of the <a href="#scope"><span>core</span></a> WebAssembly standard.
It is intended that it will be superseded by new incremental releases with additional features in the future.</p>
       <section id="design-goals">
         <span id="goals"></span>
        <h4 data-level="1.1.1" id="design-goals①"><span>1.1.1. </span><span>Design Goals</span><a href="#design-goals①"></a></h4>
        <p id="index-0">The design goals of WebAssembly are the following:</p>
        <ul>
         <li>
          <p>Fast, safe, and portable <em>semantics</em>:</p>
          <ul>
           <li>
            <p><strong>Fast</strong>: executes with near native code performance, taking advantage of capabilities common to all contemporary hardware.</p>
           </li><li>
            <p><strong>Safe</strong>: code is validated and executes in a memory-safe <a href="#memorysafe" id="id2" role="doc-noteref"><span>[</span>2<span>]</span></a>, sandboxed environment preventing data corruption or security breaches.</p>
           </li><li>
            <p><strong>Well-defined</strong>: fully and precisely defines valid programs and their behavior in a way that is easy to reason about informally and formally.</p>
           </li><li>
            <p><strong>Hardware-independent</strong>: can be compiled on all modern architectures, desktop or mobile devices and embedded systems alike.</p>
           </li><li>
            <p><strong>Language-independent</strong>: does not privilege any particular language, programming model, or object model.</p>
           </li><li>
            <p><strong>Platform-independent</strong>: can be embedded in browsers, run as a stand-alone VM, or integrated in other environments.</p>
           </li><li>
            <p><strong>Open</strong>: programs can interoperate with their environment in a simple and universal manner.</p>
          </li></ul>
         </li><li>
          <p>Efficient and portable <em>representation</em>:</p>
          <ul>
           <li>
            <p><strong>Compact</strong>: has a binary format that is fast to transmit by being smaller than typical text or native code formats.</p>
           </li><li>
            <p><strong>Modular</strong>: programs can be split up in smaller parts that can be transmitted, cached, and consumed separately.</p>
           </li><li>
            <p><strong>Efficient</strong>: can be decoded, validated, and compiled in a fast single pass, equally with either just-in-time (JIT) or ahead-of-time (AOT) compilation.</p>
           </li><li>
            <p><strong>Streamable</strong>: allows decoding, validation, and compilation to begin as soon as possible, before all data has been seen.</p>
           </li><li>
            <p><strong>Parallelizable</strong>: allows decoding, validation, and compilation to be split into many independent parallel tasks.</p>
           </li><li>
            <p><strong>Portable</strong>: makes no architectural assumptions that are not broadly supported across modern hardware.</p>
          </li></ul>
        </li></ul>
        <p>WebAssembly code is also intended to be easy to inspect and debug, especially in environments like web browsers, but such features are beyond the scope of this specification.</p>
        
       </section>
       <section id="scope">
         <span id="id3"></span>
        <h4 data-level="1.1.2" id="scope①"><span>1.1.2. </span><span>Scope</span><a href="#scope①"></a></h4>
        <p>At its core, WebAssembly is a <em>virtual instruction set architecture (virtual ISA)</em>.
As such, it has many use cases and can be embedded in many different environments.
To encompass their variety and enable maximum reuse, the WebAssembly specification is split and layered into several documents.</p>
        <p>This document is concerned with the core ISA layer of WebAssembly.
It defines the instruction set, binary encoding, validation, and execution semantics, as well as a textual representation.
It does not, however, define how WebAssembly programs can interact with a specific environment they execute in, nor how they are invoked from such an environment.</p>
        <p>Instead, this specification is complemented by additional documents defining interfaces to specific embedding environments such as the Web.
These will each define a WebAssembly <em>application programming interface (API)</em> suitable for a given environment.</p>
       </section>
       <section id="security-considerations">
         <span id="security"></span><span id="index-1"></span>
        <h4 data-level="1.1.3" id="security-considerations①"><span>1.1.3. </span><span>Security Considerations</span><a href="#security-considerations①"></a></h4>
        <p>WebAssembly provides no ambient access to the computing environment in which code is executed.
Any interaction with the environment, such as I/O, access to resources, or operating system calls, can only be performed by invoking <a href="https://www.w3.org/TR/wasm-core-2/index.html#function"><span>functions</span></a> provided by the <a href="https://www.w3.org/TR/wasm-core-2/index.html#embedder"><span>embedder</span></a> and imported into a WebAssembly <a href="https://www.w3.org/TR/wasm-core-2/index.html#module"><span>module</span></a>.
An embedder can establish security policies suitable for a respective environment by controlling or limiting which functional capabilities it makes available for import.
Such considerations are an embedder’s responsibility and the subject of <a href="#scope"><span>API definitions</span></a> for a specific environment.</p>
        <p>Because WebAssembly is designed to be translated into machine code running directly on the host’s hardware, it is potentially vulnerable to side channel attacks on the hardware level.
In environments where this is a concern, an embedder may have to put suitable mitigations into place to isolate WebAssembly computations.</p>
       </section>
       <section id="dependencies">
         <span id="index-2"></span><span id="id4"></span>
        <h4 data-level="1.1.4" id="dependencies①"><span>1.1.4. </span><span>Dependencies</span><a href="#dependencies①"></a></h4>
        <p>WebAssembly depends on two existing standards:</p>
        <ul>
         <li>
          <p><a data-link-type="biblio" href="#biblio-ieee-754-2019" title="IEEE Standard for Floating-Point Arithmetic">[IEEE-754-2019]</a>, for the representation of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-float"><span>floating-point data</span></a> and the semantics of respective <a href="https://www.w3.org/TR/wasm-core-2/index.html#float-ops"><span>numeric operations</span></a>.</p>
         </li><li>
          <p><a data-link-type="biblio" href="#biblio-unicode" title="The Unicode Standard">[UNICODE]</a>, for the representation of import/export <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-name"><span>names</span></a> and the <a href="https://www.w3.org/TR/wasm-core-2/index.html#text"><span>text format</span></a>.</p>
        </li></ul>
        <p>However, to make this specification self-contained, relevant aspects of the aforementioned standards are defined and formalized as part of this specification,
such as the <a href="https://www.w3.org/TR/wasm-core-2/index.html#aux-fbits"><span>binary representation</span></a> and <a href="https://www.w3.org/TR/wasm-core-2/index.html#aux-ieee"><span>rounding</span></a> of floating-point values, and the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-char"><span>value range</span></a> and <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-utf8"><span>UTF-8 encoding</span></a> of Unicode characters.</p>
        <div role="note">
         <p>Note</p>
         <p>The aforementioned standards are the authoritative source of all respective definitions.
Formalizations given in this specification are intended to match these definitions.
Any discrepancy in the syntax or semantics described is to be considered an error.</p>
        </div>
       </section>
      </section>
       <section id="overview">
       <h3 data-level="1.2" id="overview①"><span>1.2. </span><span>Overview</span><a href="#overview①"></a></h3>
       <section id="concepts">
         <span id="index-0①"></span><span id="id1①"></span>
        <h4 data-level="1.2.1" id="concepts①"><span>1.2.1. </span><span>Concepts</span><a href="#concepts①"></a></h4>
        <p>WebAssembly encodes a low-level, assembly-like programming language.
This language is structured around the following concepts.</p>
        <dl id="value">
         <dt><strong>Values</strong>
         </dt><dd>
          <p>WebAssembly provides only four basic <em>number types</em>.
These are integers and <a data-link-type="biblio" href="#biblio-ieee-754-2019" title="IEEE Standard for Floating-Point Arithmetic">[IEEE-754-2019]</a> numbers,
each in 32 and 64 bit width.
32 bit integers also serve as Booleans and as memory addresses.
The usual operations on these types are available,
including the full matrix of conversions between them.
There is no distinction between signed and unsigned integer types.
Instead, integers are interpreted by respective operations
as either unsigned or signed in two’s complement representation.</p>
          <p>In addition to these basic number types, there is a single 128 bit wide
vector type representing different types of packed data.
The supported representations are 4 32-bit, or 2 64-bit <a data-link-type="biblio" href="#biblio-ieee-754-2019" title="IEEE Standard for Floating-Point Arithmetic">[IEEE-754-2019]</a> numbers, or different widths of packed integer values,
specifically 2 64-bit integers, 4 32-bit integers, 8
16-bit integers, or 16 8-bit integers.</p>
          <p>Finally, values can consist of opaque <em>references</em> that represent pointers towards different sorts of entities.
Unlike with other types, their size or representation is not observable.</p>
        </dd></dl>
        <dl id="instruction">
         <dt><strong>Instructions</strong>
         </dt><dd>
          <p>The computational model of WebAssembly is based on a <em>stack machine</em>.
Code consists of sequences of <em>instructions</em> that are executed in order.
Instructions manipulate values on an implicit <em>operand stack</em> <a href="#stackmachine" id="id2①" role="doc-noteref"><span>[</span>1<span>]</span></a> and fall into two main categories. <em>Simple</em> instructions perform basic operations on data.
They pop arguments from the operand stack and push results back to it. <em>Control</em> instructions alter control flow.
Control flow is <em>structured</em>, meaning it is expressed with well-nested constructs such as blocks, loops, and conditionals.
Branches can only target such constructs.</p>
        </dd></dl>
        <dl id="trap">
         <dt><strong>Traps</strong>
         </dt><dd>
          <p>Under some conditions, certain instructions may produce a <em>trap</em>,
which immediately aborts execution.
Traps cannot be handled by WebAssembly code,
but are reported to the outside environment,
where they typically can be caught.</p>
        </dd></dl>
        <dl id="function">
         <dt><strong>Functions</strong>
         </dt><dd>
          <p>Code is organized into separate <em>functions</em>.
Each function takes a sequence of values as parameters
and returns a sequence of values as results.
Functions can call each other, including recursively,
resulting in an implicit call stack that cannot be accessed directly.
Functions may also declare mutable <em>local variables</em> that are usable as virtual registers.</p>
        </dd></dl>
        <dl id="table">
         <dt><strong>Tables</strong>
         </dt><dd>
          <p>A <em>table</em> is an array of opaque values of a particular <em>element type</em>.
It allows programs to select such values indirectly through a dynamic index operand.
Currently, the only available element type is an untyped function reference or a reference to an external host value.
Thereby, a program can call functions indirectly through a dynamic index into a table.
For example, this allows emulating function pointers by way of table indices.</p>
        </dd></dl>
        <dl id="memory">
         <dt><strong>Linear Memory</strong>
         </dt><dd>
          <p>A <em>linear memory</em> is a contiguous, mutable array of raw bytes.
Such a memory is created with an initial size but can be grown dynamically.
A program can load and store values from/to a linear memory at any byte address (including unaligned).
Integer loads and stores can specify a <em>storage size</em> which is smaller than the size of the respective value type.
A trap occurs if an access is not within the bounds of the current memory size.</p>
        </dd></dl>
        <dl id="module">
         <dt><strong>Modules</strong>
         </dt><dd>
          <p>A WebAssembly binary takes the form of a <em>module</em> that contains definitions for functions, tables, and linear memories,
as well as mutable or immutable <em>global variables</em>.
Definitions can also be <em>imported</em>, specifying a module/name pair and a suitable type.
Each definition can optionally be <em>exported</em> under one or more names.
In addition to definitions, modules can define initialization data for their memories or tables
that takes the form of <em>segments</em> copied to given offsets.
They can also define a <em>start function</em> that is automatically executed.</p>
        </dd></dl>
        <dl id="embedder">
         <dt><strong>Embedder</strong>
         </dt><dd>
          <p>A WebAssembly implementation will typically be <em>embedded</em> into a <em>host</em> environment.
This environment defines how loading of modules is initiated,
how imports are provided (including host-side definitions), and how exports can be accessed.
However, the details of any particular embedding are beyond the scope of this specification, and will instead be provided by complementary, environment-specific API definitions.</p>
        </dd></dl>
        
       </section>
       <section id="semantic-phases">
         <span id="index-1①"></span>
        <h4 data-level="1.2.2" id="semantic-phases①"><span>1.2.2. </span><span>Semantic Phases</span><a href="#semantic-phases①"></a></h4>
        <p>Conceptually, the semantics of WebAssembly is divided into three phases.
For each part of the language, the specification specifies each of them.</p>
        <dl id="decoding">
         <dt><strong>Decoding</strong>
         </dt><dd>
          <p>WebAssembly modules are distributed in a <em>binary format</em>. <em>Decoding</em> processes that format and converts it into an internal representation of a module.
In this specification, this representation is modelled by <em>abstract syntax</em>, but a real implementation could compile directly to machine code instead.</p>
        </dd></dl>
        <dl id="validation">
         <dt><strong>Validation</strong>
         </dt><dd>
          <p>A decoded module has to be <em>valid</em>.
Validation checks a number of well-formedness conditions to guarantee that the module is meaningful and safe.
In particular, it performs <em>type checking</em> of functions and the instruction sequences in their bodies, ensuring for example that the operand stack is used consistently.</p>
        </dd></dl>
         <span id="instantiation"></span><span id="execution"></span>
        <dl id="invocation">
         <dt><strong>Execution</strong>
         </dt><dd>
          <p>Finally, a valid module can be <em>executed</em>.
Execution can be further divided into two phases:</p>
          <p><strong>Instantiation</strong>.
A module <em>instance</em> is the dynamic representation of a module,
complete with its own state and execution stack.
Instantiation executes the module body itself, given definitions for all its imports.
It initializes globals, memories and tables and invokes the module’s start function if defined.
It returns the instances of the module’s exports.</p>
          <p><strong>Invocation</strong>.
Once instantiated, further WebAssembly computations can be initiated by <em>invoking</em> an exported function on a module instance.
Given the required arguments, that executes the respective function and returns its results.</p>
          <p>Instantiation and invocation are operations within the embedding environment.</p>
        </dd></dl>
       </section>
      </section>
     </div>
    </section>
     <section id="structure">
      <span id="syntax"></span>
     <h2 data-level="2" id="structure①"><span>2. </span><span>Structure</span><a href="#structure①"></a></h2>
     <div>
       <section id="conventions">
        <span id="index-0②"></span>
       <h3 data-level="2.1" id="conventions①"><span>2.1. </span><span>Conventions</span><a href="#conventions①"></a></h3>
       <p>WebAssembly is a programming language that has multiple concrete representations
(its <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary"><span>binary format</span></a> and the <a href="https://www.w3.org/TR/wasm-core-2/index.html#text"><span>text format</span></a>).
Both map to a common structure.
For conciseness, this structure is described in the form of an <em>abstract syntax</em>.
All parts of this specification are defined in terms of this abstract syntax.</p>
       <section id="grammar-notation">
         <span id="grammar"></span><span id="index-1②"></span>
        <h4 data-level="2.1.1" id="grammar-notation①"><span>2.1.1. </span><span>Grammar Notation</span><a href="#grammar-notation①"></a></h4>
        <p>The following conventions are adopted in defining grammar rules for abstract syntax.</p>
        <ul>
         <li>
          <p>Terminal symbols (atoms) are written in sans-serif font or in symbolic form: <span><span><span></span></span></span>.</p>
         </li><li>
          <p>Nonterminal symbols are written in italic font: <span><span><span></span></span></span>.</p>
         </li><li>
          <p><span><span><span></span></span></span> is a sequence of <span><span><span></span></span></span> iterations  of <span><span><span></span></span></span>.</p>
         </li><li>
          <p><span><span><span></span></span></span> is a possibly empty sequence of iterations of <span><span><span></span></span></span>.
(This is a shorthand for <span><span><span></span></span></span> used where <span><span><span></span></span></span> is not relevant.)</p>
         </li><li>
          <p><span><span><span></span></span></span> is a non-empty sequence of iterations of <span><span><span></span></span></span>.
(This is a shorthand for <span><span><span></span></span></span> where <span><span><span></span></span></span>.)</p>
         </li><li>
          <p><span><span><span></span></span></span> is an optional occurrence of <span><span><span></span></span></span>.
(This is a shorthand for <span><span><span></span></span></span> where <span><span><span></span></span></span>.)</p>
         </li><li>
          <p>Productions are written <span><span><span></span></span></span>.</p>
         </li><li>
          <p>Large productions may be split into multiple definitions, indicated by ending the first one with explicit ellipses, <span><span><span></span></span></span>, and starting continuations with ellipses, <span><span><span></span></span></span>.</p>
         </li><li>
          <p>Some productions are augmented with side conditions in parentheses, “<span><span><span></span></span></span>”, that provide a shorthand for a combinatorial expansion of the production into many separate cases.</p>
         </li><li>
          <p>If the same meta variable or non-terminal symbol appears multiple times in a production, then all those occurrences must have the same instantiation.
(This is a shorthand for a side condition requiring multiple different variables to be equal.)</p>
        </li></ul>
       </section>
       <section id="auxiliary-notation">
         <span id="notation-compose"></span><span id="notation-concat"></span><span id="notation-project"></span><span id="notation-record"></span><span id="notation-replace"></span><span id="notation-slice"></span><span id="notation-index"></span><span id="notation-length"></span><span id="notation-epsilon"></span>
        <h4 data-level="2.1.2" id="auxiliary-notation①"><span>2.1.2. </span><span>Auxiliary Notation</span><a href="#auxiliary-notation①"></a></h4>
        <p>When dealing with syntactic constructs the following notation is also used:</p>
        <ul>
         <li>
          <p><span><span><span></span></span></span> denotes the empty sequence.</p>
         </li><li>
          <p><span><span><span></span></span></span> denotes the length of a sequence <span><span><span></span></span></span>.</p>
         </li><li>
          <p><span><span><span></span></span></span> denotes the <span><span><span></span></span></span>-th element of a sequence <span><span><span></span></span></span>, starting from <span><span><span></span></span></span>.</p>
         </li><li>
          <p><span><span><span></span></span></span> denotes the sub-sequence <span><span><span></span></span></span> of a sequence <span><span><span></span></span></span>.</p>
         </li><li>
          <p><span><span><span></span></span></span> denotes the same sequence as <span><span><span></span></span></span>,
except that the <span><span><span></span></span></span>-th element is replaced with <span><span><span></span></span></span>.</p>
         </li><li>
          <p><span><span><span></span></span></span> denotes the same sequence as <span><span><span></span></span></span>,
except that the sub-sequence <span><span><span></span></span></span> is replaced with <span><span><span></span></span></span>.</p>
         </li><li>
          <p><span><span><span></span></span></span> denotes the flat sequence formed by concatenating all sequences <span><span><span></span></span></span> in <span><span><span></span></span></span>.</p>
        </li></ul>
        <p>Moreover, the following conventions are employed:</p>
        <ul>
         <li>
          <p>The notation <span><span><span></span></span></span>, where <span><span><span></span></span></span> is a non-terminal symbol, is treated as a meta variable ranging over respective sequences of <span><span><span></span></span></span> (similarly for <span><span><span></span></span></span>, <span><span><span></span></span></span>, <span><span><span></span></span></span>).</p>
         </li><li>
          <p>When given a sequence <span><span><span></span></span></span>,
then the occurrences of <span><span><span></span></span></span> in a sequence written <span><span><span></span></span></span> are assumed to be in point-wise correspondence with <span><span><span></span></span></span> (similarly for <span><span><span></span></span></span>, <span><span><span></span></span></span>, <span><span><span></span></span></span>).
This implicitly expresses a form of mapping syntactic constructions over a sequence.</p>
        </li></ul>
        <p>Productions of the following form are interpreted as <em>records</em> that map a fixed set of fields <span><span><span></span></span></span> to “values” <span><span><span></span></span></span>, respectively:</p>
        
        <p>The following notation is adopted for manipulating such records:</p>
        <ul>
         <li>
          <p><span><span><span></span></span></span> denotes the contents of the <span><span><span></span></span></span> component of <span><span><span></span></span></span>.</p>
         </li><li>
          <p><span><span><span></span></span></span> denotes the same record as <span><span><span></span></span></span>,
except that the contents of the <span><span><span></span></span></span> component is replaced with <span><span><span></span></span></span>.</p>
         </li><li>
          <p><span><span><span></span></span></span> denotes the composition of two records with the same fields of sequences by appending each sequence point-wise:</p>
          
         </li><li>
          <p><span><span><span></span></span></span> denotes the composition of a sequence of records, respectively; if the sequence is empty, then all fields of the resulting record are empty.</p>
        </li></ul>
        <p>The update notation for sequences and records generalizes recursively to nested components accessed by “paths” <span><span><span></span></span></span>:</p>
        <ul>
         <li>
          <p><span><span><span></span></span></span> is short for <span><span><span></span></span></span>,</p>
         </li><li>
          <p><span><span><span></span></span></span> is short for <span><span><span></span></span></span>,</p>
        </li></ul>
        <p>where <span><span><span></span></span></span> is shortened to <span><span><span></span></span></span>.</p>
       </section>
       <section id="vectors">
         <span id="syntax-vec"></span><span id="index-2①"></span>
        <h4 data-level="2.1.3" id="vectors①"><span>2.1.3. </span><span>Vectors</span><a href="#vectors①"></a></h4>
        <p><em>Vectors</em> are bounded sequences of the form <span><span><span></span></span></span> (or <span><span><span></span></span></span>),
where the <span><span><span></span></span></span> can either be values or complex constructions.
A vector can have at most <span><span><span></span></span></span> elements.</p>
        
       </section>
      </section>
       <section id="values">
        <span id="syntax-value"></span><span id="index-0③"></span>
       <h3 data-level="2.2" id="values①"><span>2.2. </span><span>Values</span><a href="#values①"></a></h3>
       <p>WebAssembly programs operate on primitive numeric <em>values</em>.
Moreover, in the definition of programs, immutable sequences of values occur to represent more complex data, such as text strings or other vectors.</p>
       <section id="bytes">
         <span id="syntax-byte"></span><span id="index-1③"></span>
        <h4 data-level="2.2.1" id="bytes①"><span>2.2.1. </span><span>Bytes</span><a href="#bytes①"></a></h4>
        <p>The simplest form of value are raw uninterpreted <em>bytes</em>.
In the abstract syntax they are represented as hexadecimal literals.</p>
        
        <section id="conventions②">
         <h5 data-level="2.2.1.1" id="conventions③"><span>2.2.1.1. </span><span>Conventions</span><a href="#conventions③"></a></h5>
         <ul>
          <li>
           <p>The meta variable <span><span><span></span></span></span> ranges over bytes.</p>
          </li><li>
           <p>Bytes are sometimes interpreted as natural numbers <span><span><span></span></span></span>.</p>
         </li></ul>
        </section>
       </section>
       <section id="integers">
         <span id="syntax-int"></span><span id="syntax-uint"></span><span id="syntax-sint"></span><span id="index-2②"></span>
        <h4 data-level="2.2.2" id="integers①"><span>2.2.2. </span><span>Integers</span><a href="#integers①"></a></h4>
        <p>Different classes of <em>integers</em> with different value ranges are distinguished by their <em>bit width</em> <span><span><span></span></span></span> and by whether they are <em>unsigned</em> or <em>signed</em>.</p>
        
        <p>The class <span><span><span></span></span></span> defines <em>uninterpreted</em> integers, whose signedness interpretation can vary depending on context.
In the abstract syntax, they are represented as unsigned values.
However, some operations <a href="https://www.w3.org/TR/wasm-core-2/index.html#aux-signed"><span>convert</span></a> them to signed based on a two’s complement interpretation.</p>
        <div role="note">
         <p>Note</p>
         <p>The main integer types occurring in this specification are <span><span><span></span></span></span>, <span><span><span></span></span></span>, <span><span><span></span></span></span>, <span><span><span></span></span></span>, <span><span><span></span></span></span>, <span><span><span></span></span></span>, <span><span><span></span></span></span>, <span><span><span></span></span></span>.
However, other sizes occur as auxiliary constructions, e.g., in the definition of <a href="#syntax-float"><span>floating-point</span></a> numbers.</p>
        </div>
        <section id="id1②">
         <h5 data-level="2.2.2.1" id="conventions④"><span>2.2.2.1. </span><span>Conventions</span><a href="#conventions④"></a></h5>
         <ul>
          <li>
           <p>The meta variables <span><span><span></span></span></span> range over integers.</p>
          </li><li>
           <p>Numbers may be denoted by simple arithmetics, as in the grammar above.
In order to distinguish arithmetics like <span><span><span></span></span></span> from sequences like <span><span><span></span></span></span>, the latter is distinguished with parentheses.</p>
         </li></ul>
        </section>
       </section>
       <section id="floating-point">
         <span id="syntax-float"></span><span id="syntax-payload"></span><span id="syntax-nan"></span><span id="index-3"></span>
        <h4 data-level="2.2.3" id="floating-point①"><span>2.2.3. </span><span>Floating-Point</span><a href="#floating-point①"></a></h4>
        <p><em>Floating-point</em> data represents 32 or 64 bit values that correspond to the respective binary formats of the <a data-link-type="biblio" href="#biblio-ieee-754-2019" title="IEEE Standard for Floating-Point Arithmetic">[IEEE-754-2019]</a> standard (Section 3.3).</p>
        <p>Every value has a <em>sign</em> and a <em>magnitude</em>.
Magnitudes can either be expressed as <em>normal</em> numbers of the form <span><span><span></span></span></span>, where <span><span><span></span></span></span> is the exponent and <span><span><span></span></span></span> is the <em>significand</em> whose most significant bit <span><span><span></span></span></span> is <span><span><span></span></span></span>,
or as a <em>subnormal</em> number where the exponent is fixed to the smallest possible value and <span><span><span></span></span></span> is <span><span><span></span></span></span>; among the subnormals are positive and negative zero values.
Since the significands are binary values, normals are represented in the form <span><span><span></span></span></span>, where <span><span><span></span></span></span> is the bit width of <span><span><span></span></span></span>; similarly for subnormals.</p>
        <p>Possible magnitudes also include the special values <span><span><span></span></span></span> (infinity) and <span><span><span></span></span></span> (<em>NaN</em>, not a number).
NaN values have a <em>payload</em> that describes the mantissa bits in the underlying <a href="https://www.w3.org/TR/wasm-core-2/index.html#aux-fbits"><span>binary representation</span></a>.
No distinction is made between signalling and quiet NaNs.</p>
        
        <p>where <span><span><span></span></span></span> and <span><span><span></span></span></span> with</p>
        
        <p id="aux-canon"><span id="arithmetic-nan"></span><span id="canonical-nan"></span>A <em>canonical NaN</em> is a floating-point value <span><span><span></span></span></span> where <span><span><span></span></span></span> is a payload whose most significant bit is <span><span><span></span></span></span> while all others are <span><span><span></span></span></span>:</p>
        
        <p>An <em>arithmetic NaN</em> is a floating-point value <span><span><span></span></span></span> with <span><span><span></span></span></span>, such that the most significant bit is <span><span><span></span></span></span> while all others are arbitrary.</p>
        <div role="note">
         <p>Note</p>
         <p>In the abstract syntax, subnormals are distinguished by the leading 0 of the significand. The exponent of subnormals has the same value as the smallest possible exponent of a normal number. Only in the <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-float"><span>binary representation</span></a> the exponent of a subnormal is encoded differently than the exponent of any normal number.</p>
         <p>The notion of canonical NaN defined here is unrelated to the notion of canonical NaN that the <a data-link-type="biblio" href="#biblio-ieee-754-2019" title="IEEE Standard for Floating-Point Arithmetic">[IEEE-754-2019]</a> standard (Section 3.5.2) defines for decimal interchange formats.</p>
        </div>
        <section id="id2②">
         <h5 data-level="2.2.3.1" id="conventions⑤"><span>2.2.3.1. </span><span>Conventions</span><a href="#conventions⑤"></a></h5>
         <ul>
          <li>
           <p>The meta variable <span><span><span></span></span></span> ranges over floating-point values where clear from context.</p>
         </li></ul>
        </section>
       </section>
       <section id="vectors②">
         <span id="syntax-vecnum"></span><span id="index-4"></span>
        <h4 data-level="2.2.4" id="vectors③"><span>2.2.4. </span><span>Vectors</span><a href="#vectors③"></a></h4>
        <p><em>Numeric vectors</em> are 128-bit values that are processed by vector instructions (also known as <em>SIMD</em> instructions, single instruction multiple data).
They are represented in the abstract syntax using <span><span><span></span></span></span>. The interpretation of lane types (<a href="#syntax-int"><span>integer</span></a> or <a href="#syntax-float"><span>floating-point</span></a> numbers) and lane sizes are determined by the specific instruction operating on them.</p>
       </section>
       <section id="names">
         <span id="syntax-name"></span><span id="syntax-char"></span><span id="index-5"></span>
        <h4 data-level="2.2.5" id="names①"><span>2.2.5. </span><span>Names</span><a href="#names①"></a></h4>
        <p><em>Names</em> are sequences of <em>characters</em>, which are <em>scalar values</em> as defined by <a data-link-type="biblio" href="#biblio-unicode" title="The Unicode Standard">[UNICODE]</a> (Section 2.4).</p>
        
        <p>Due to the limitations of the <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-name"><span>binary format</span></a>,
the length of a name is bounded by the length of its <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-utf8"><span>UTF-8</span></a> encoding.</p>
        <section id="convention">
         <h5 data-level="2.2.5.1" id="convention①"><span>2.2.5.1. </span><span>Convention</span><a href="#convention①"></a></h5>
         <ul>
          <li>
           <p>Characters (Unicode scalar values) are sometimes used interchangeably with natural numbers <span><span><span></span></span></span>.</p>
         </li></ul>
        </section>
       </section>
      </section>
       <section id="types">
        <span id="syntax-type"></span><span id="index-0④"></span>
       <h3 data-level="2.3" id="types①"><span>2.3. </span><span>Types</span><a href="#types①"></a></h3>
       <p>Various entities in WebAssembly are classified by types.
Types are checked during <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid"><span>validation</span></a>, <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-instantiation"><span>instantiation</span></a>, and possibly <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-call-indirect"><span>execution</span></a>.</p>
       <section id="number-types">
         <span id="syntax-numtype"></span><span id="index-1④"></span>
        <h4 data-level="2.3.1" id="number-types①"><span>2.3.1. </span><span>Number Types</span><a href="#number-types①"></a></h4>
        <p><em>Number types</em> classify numeric values.</p>
        
        <p>The types <span><span><span></span></span></span> and <span><span><span></span></span></span> classify 32 and 64 bit integers, respectively.
Integers are not inherently signed or unsigned, their interpretation is determined by individual operations.</p>
        <p>The types <span><span><span></span></span></span> and <span><span><span></span></span></span> classify 32 and 64 bit floating-point data, respectively.
They correspond to the respective binary floating-point representations, also known as <em>single</em> and <em>double</em> precision, as defined by the <a data-link-type="biblio" href="#biblio-ieee-754-2019" title="IEEE Standard for Floating-Point Arithmetic">[IEEE-754-2019]</a> standard (Section 3.3).</p>
        <p>Number types are <em>transparent</em>, meaning that their bit patterns can be observed.
Values of number type can be stored in <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-mem"><span>memories</span></a>.</p>
        <section id="conventions⑥">
          <span id="bitwidth"></span>
         <h5 data-level="2.3.1.1" id="conventions⑦"><span>2.3.1.1. </span><span>Conventions</span><a href="#conventions⑦"></a></h5>
         <ul>
          <li>
           <p>The notation <span><span><span></span></span></span> denotes the <em>bit width</em> of a number type <span><span><span></span></span></span>.
That is, <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
         </li></ul>
        </section>
       </section>
       <section id="vector-types">
         <span id="syntax-vectype"></span><span id="index-2③"></span>
        <h4 data-level="2.3.2" id="vector-types①"><span>2.3.2. </span><span>Vector Types</span><a href="#vector-types①"></a></h4>
        <p><em>Vector types</em> classify vectors of <a href="#syntax-numtype"><span>numeric</span></a> values processed by vector instructions (also known as <em>SIMD</em> instructions, single instruction multiple data).</p>
        
        <p>The type <span><span><span></span></span></span> corresponds to a 128 bit vector of packed integer or floating-point data. The packed data
can be interpreted as signed or unsigned integers, single or double precision floating-point
values, or a single 128 bit type. The interpretation is determined by individual operations.</p>
        <p>Vector types, like <a href="#syntax-numtype"><span>number types</span></a> are <em>transparent</em>, meaning that their bit patterns can be observed.
Values of vector type can be stored in <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-mem"><span>memories</span></a>.</p>
        <section id="id1③">
         <h5 data-level="2.3.2.1" id="conventions⑧"><span>2.3.2.1. </span><span>Conventions</span><a href="#conventions⑧"></a></h5>
         <ul>
          <li>
           <p>The notation <span><span><span></span></span></span> for <a href="#bitwidth"><span>bit width</span></a> extends to vector types as well, that is, <span><span><span></span></span></span>.</p>
         </li></ul>
        </section>
       </section>
       <section id="reference-types">
         <span id="syntax-reftype"></span><span id="index-3①"></span>
        <h4 data-level="2.3.3" id="reference-types①"><span>2.3.3. </span><span>Reference Types</span><a href="#reference-types①"></a></h4>
        <p><em>Reference types</em> classify first-class references to objects in the runtime <a href="https://www.w3.org/TR/wasm-core-2/index.html#store"><span>store</span></a>.</p>
        
        <p>The type <span><span><span></span></span></span> denotes the infinite union of all references to <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-func"><span>functions</span></a>, regardless of their <a href="#syntax-functype"><span>function types</span></a>.</p>
        <p>The type <span><span><span></span></span></span> denotes the infinite union of all references to objects owned by the <a href="https://www.w3.org/TR/wasm-core-2/index.html#embedder"><span>embedder</span></a> and that can be passed into WebAssembly under this type.</p>
        <p>Reference types are <em>opaque</em>, meaning that neither their size nor their bit pattern can be observed.
Values of reference type can be stored in <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-table"><span>tables</span></a>.</p>
       </section>
       <section id="value-types">
         <span id="syntax-valtype"></span><span id="index-4①"></span>
        <h4 data-level="2.3.4" id="value-types①"><span>2.3.4. </span><span>Value Types</span><a href="#value-types①"></a></h4>
        <p><em>Value types</em> classify the individual values that WebAssembly code can compute with and the values that a variable accepts.
They are either <a href="#syntax-numtype"><span>number types</span></a>, <a href="#syntax-vectype"><span>vector types</span></a>, or <a href="#syntax-reftype"><span>reference types</span></a>.</p>
        
        <section id="id2③">
         <h5 data-level="2.3.4.1" id="conventions⑨"><span>2.3.4.1. </span><span>Conventions</span><a href="#conventions⑨"></a></h5>
         <ul>
          <li>
           <p>The meta variable <span><span><span></span></span></span> ranges over value types or subclasses thereof where clear from context.</p>
         </li></ul>
        </section>
       </section>
       <section id="result-types">
         <span id="syntax-resulttype"></span><span id="index-5①"></span>
        <h4 data-level="2.3.5" id="result-types①"><span>2.3.5. </span><span>Result Types</span><a href="#result-types①"></a></h4>
        <p><em>Result types</em> classify the result of <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-instr"><span>executing</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr"><span>instructions</span></a> or <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-func"><span>functions</span></a>,
which is a sequence of values, written with brackets.</p>
        
       </section>
       <section id="function-types">
         <span id="syntax-functype"></span><span id="index-6"></span>
        <h4 data-level="2.3.6" id="function-types①"><span>2.3.6. </span><span>Function Types</span><a href="#function-types①"></a></h4>
        <p><em>Function types</em> classify the signature of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-func"><span>functions</span></a>,
mapping a vector of parameters to a vector of results.
They are also used to classify the inputs and outputs of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr"><span>instructions</span></a>.</p>
        
       </section>
       <section id="limits">
         <span id="syntax-limits"></span><span id="index-7"></span>
        <h4 data-level="2.3.7" id="limits①"><span>2.3.7. </span><span>Limits</span><a href="#limits①"></a></h4>
        <p><em>Limits</em> classify the size range of resizeable storage associated with <a href="#syntax-memtype"><span>memory types</span></a> and <a href="#syntax-tabletype"><span>table types</span></a>.</p>
        
        <p>If no maximum is given, the respective storage can grow to any size.</p>
       </section>
       <section id="memory-types">
         <span id="syntax-memtype"></span><span id="index-8"></span>
        <h4 data-level="2.3.8" id="memory-types①"><span>2.3.8. </span><span>Memory Types</span><a href="#memory-types①"></a></h4>
        <p><em>Memory types</em> classify linear <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-mem"><span>memories</span></a> and their size range.</p>
        
        <p>The limits constrain the minimum and optionally the maximum size of a memory.
The limits are given in units of <a href="https://www.w3.org/TR/wasm-core-2/index.html#page-size"><span>page size</span></a>.</p>
       </section>
       <section id="table-types">
         <span id="syntax-tabletype"></span><span id="index-9"></span>
        <h4 data-level="2.3.9" id="table-types①"><span>2.3.9. </span><span>Table Types</span><a href="#table-types①"></a></h4>
        <p><em>Table types</em> classify <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-table"><span>tables</span></a> over elements of <a href="#syntax-reftype"><span>reference type</span></a> within a size range.</p>
        
        <p>Like memories, tables are constrained by limits for their minimum and optionally maximum size.
The limits are given in numbers of entries.</p>
        <div role="note">
         <p>Note</p>
         <p>In future versions of WebAssembly, additional element types may be introduced.</p>
        </div>
       </section>
       <section id="global-types">
         <span id="syntax-globaltype"></span><span id="syntax-mut"></span><span id="index-10"></span>
        <h4 data-level="2.3.10" id="global-types①"><span>2.3.10. </span><span>Global Types</span><a href="#global-types①"></a></h4>
        <p><em>Global types</em> classify <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-global"><span>global</span></a> variables, which hold a value and can either be mutable or immutable.</p>
        
       </section>
       <section id="external-types">
         <span id="syntax-externtype"></span><span id="index-11"></span>
        <h4 data-level="2.3.11" id="external-types①"><span>2.3.11. </span><span>External Types</span><a href="#external-types①"></a></h4>
        <p><em>External types</em> classify <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-import"><span>imports</span></a> and <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externval"><span>external values</span></a> with their respective types.</p>
        
        <section id="id3①">
         <h5 data-level="2.3.11.1" id="conventions①⓪"><span>2.3.11.1. </span><span>Conventions</span><a href="#conventions①⓪"></a></h5>
         <p>The following auxiliary notation is defined for sequences of external types.
It filters out entries of a specific kind in an order-preserving fashion:</p>
         <ul>
          <li>
           
          </li><li>
           
          </li><li>
           
          </li><li>
           
         </li></ul>
        </section>
       </section>
      </section>
       <section id="instructions">
        <span id="syntax-instr"></span><span id="index-0⑤"></span>
       <h3 data-level="2.4" id="instructions①"><span>2.4. </span><span>Instructions</span><a href="#instructions①"></a></h3>
       <p>WebAssembly code consists of sequences of <em>instructions</em>.
Its computational model is based on a <em>stack machine</em> in that instructions manipulate values on an implicit <em>operand stack</em>,
consuming (popping) argument values and producing or returning (pushing) result values.</p>
       <p>In addition to dynamic operands from the stack, some instructions also have static <em>immediate</em> arguments,
typically <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-index"><span>indices</span></a> or type annotations,
which are part of the instruction itself.</p>
       <p>Some instructions are <a href="#syntax-instr-control"><span>structured</span></a> in that they bracket nested sequences of instructions.</p>
       <p>The following sections group instructions into a number of different categories.</p>
       <section id="numeric-instructions">
         <span id="syntax-instr-numeric"></span><span id="syntax-frelop"></span><span id="syntax-ftestop"></span><span id="syntax-fbinop"></span><span id="syntax-funop"></span><span id="syntax-irelop"></span><span id="syntax-itestop"></span><span id="syntax-ibinop"></span><span id="syntax-iunop"></span><span id="syntax-const"></span><span id="syntax-sx"></span><span id="index-1⑤"></span>
        <h4 data-level="2.4.1" id="numeric-instructions①"><span>2.4.1. </span><span>Numeric Instructions</span><a href="#numeric-instructions①"></a></h4>
        <p>Numeric instructions provide basic operations over numeric <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-value"><span>values</span></a> of specific <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-numtype"><span>type</span></a>.
These operations closely match respective operations available in hardware.</p>
        
        <p>Numeric instructions are divided by <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-numtype"><span>number type</span></a>.
For each type, several subcategories can be distinguished:</p>
        <ul>
         <li>
          <p><em>Constants</em>: return a static constant.</p>
         </li><li>
          <p><em>Unary Operations</em>: consume one operand and produce one result of the respective type.</p>
         </li><li>
          <p><em>Binary Operations</em>: consume two operands and produce one result of the respective type.</p>
         </li><li>
          <p><em>Tests</em>: consume one operand of the respective type and produce a Boolean integer result.</p>
         </li><li>
          <p><em>Comparisons</em>: consume two operands of the respective type and produce a Boolean integer result.</p>
         </li><li>
          <p><em>Conversions</em>: consume a value of one type and produce a result of another
(the source type of the conversion is the one after the “<span><span><span></span></span></span>”).</p>
        </li></ul>
        <p>Some integer instructions come in two flavors,
where a signedness annotation <span><span><span></span></span></span> distinguishes whether the operands are to be <a href="https://www.w3.org/TR/wasm-core-2/index.html#aux-signed"><span>interpreted</span></a> as <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-uint"><span>unsigned</span></a> or <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-sint"><span>signed</span></a> integers.
For the other integer instructions, the use of two’s complement for the signed interpretation means that they behave the same regardless of signedness.</p>
        <section id="conventions①①">
          <span id="syntax-cvtop"></span><span id="syntax-relop"></span><span id="syntax-testop"></span><span id="syntax-binop"></span><span id="syntax-unop"></span>
         <h5 data-level="2.4.1.1" id="conventions①②"><span>2.4.1.1. </span><span>Conventions</span><a href="#conventions①②"></a></h5>
         <p>Occasionally, it is convenient to group operators together according to the following grammar shorthands:</p>
         
        </section>
       </section>
       <section id="vector-instructions">
         <span id="syntax-instr-vec"></span><span id="syntax-vfbinop"></span><span id="syntax-vfunop"></span><span id="syntax-visatbinop"></span><span id="syntax-viminmaxop"></span><span id="syntax-vibinop"></span><span id="syntax-viunop"></span><span id="syntax-vishiftop"></span><span id="syntax-vfrelop"></span><span id="syntax-virelop"></span><span id="syntax-vitestop"></span><span id="syntax-vvtestop"></span><span id="syntax-vvternop"></span><span id="syntax-vvbinop"></span><span id="syntax-vvunop"></span><span id="syntax-half"></span><span id="syntax-shape"></span><span id="syntax-laneidx"></span><span id="index-2④"></span>
        <h4 data-level="2.4.2" id="vector-instructions①"><span>2.4.2. </span><span>Vector Instructions</span><a href="#vector-instructions①"></a></h4>
        <p>Vector instructions (also known as <em>SIMD</em> instructions, <em>single instruction multiple data</em>) provide basic operations over <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-value"><span>values</span></a> of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-vectype"><span>vector type</span></a>.</p>
        
        
        
        <p id="syntax-vec-shape">Vector instructions have a naming convention involving a prefix that
determines how their operands will be interpreted.
This prefix describes the <em>shape</em> of the operand,
written <span><span><span></span></span></span>, and consisting of a packed <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-numtype"><span>numeric type</span></a> <span><span><span></span></span></span> and the number of <em>lanes</em> <span><span><span></span></span></span> of that type.
Operations are performed point-wise on the values of each lane.</p>
        <div role="note">
         <p>Note</p>
         <p>For example, the shape <span><span><span></span></span></span> interprets the operand
as four <span><span><span></span></span></span> values, packed into an <span><span><span></span></span></span>.
The bitwidth of the numeric type <span><span><span></span></span></span> times <span><span><span></span></span></span> always is 128.</p>
        </div>
        <p>Instructions prefixed with <span><span><span></span></span></span> do not involve a specific interpretation, and treat the <span><span><span></span></span></span> as an <span><span><span></span></span></span> value or a vector of 128 individual bits.</p>
        <p>Vector instructions can be grouped into several subcategories:</p>
        <ul>
         <li>
          <p><em>Constants</em>: return a static constant.</p>
         </li><li>
          <p><em>Unary Operations</em>: consume one <span><span><span></span></span></span> operand and produce one <span><span><span></span></span></span> result.</p>
         </li><li>
          <p><em>Binary Operations</em>: consume two <span><span><span></span></span></span> operands and produce one <span><span><span></span></span></span> result.</p>
         </li><li>
          <p><em>Ternary Operations</em>: consume three <span><span><span></span></span></span> operands and produce one <span><span><span></span></span></span> result.</p>
         </li><li>
          <p><em>Tests</em>: consume one <span><span><span></span></span></span> operand and produce a Boolean integer result.</p>
         </li><li>
          <p><em>Shifts</em>: consume a <span><span><span></span></span></span> operand and a <span><span><span></span></span></span> operand, producing one <span><span><span></span></span></span> result.</p>
         </li><li>
          <p><em>Splats</em>: consume a value of numeric type and produce a <span><span><span></span></span></span> result of a specified shape.</p>
         </li><li>
          <p><em>Extract lanes</em>: consume a <span><span><span></span></span></span> operand and return the numeric value in a given lane.</p>
         </li><li>
          <p><em>Replace lanes</em>: consume a <span><span><span></span></span></span> operand and a numeric value for a given lane, and produce a <span><span><span></span></span></span> result.</p>
        </li></ul>
        <p>Some vector instructions have a signedness annotation <span><span><span></span></span></span> which distinguishes whether the elements in the operands are to be <a href="https://www.w3.org/TR/wasm-core-2/index.html#aux-signed"><span>interpreted</span></a> as <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-uint"><span>unsigned</span></a> or <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-sint"><span>signed</span></a> integers.
For the other vector instructions, the use of two’s complement for the signed interpretation means that they behave the same regardless of signedness.</p>
        <section id="syntax-vcvtop">
          <span id="syntax-vtestop"></span><span id="syntax-vrelop"></span><span id="syntax-vbinop"></span><span id="syntax-vunop"></span><span id="id1④"></span>
         <h5 data-level="2.4.2.1" id="conventions①③"><span>2.4.2.1. </span><span>Conventions</span><a href="#conventions①③"></a></h5>
         <p>Occasionally, it is convenient to group operators together according to the following grammar shorthands:</p>
         
        </section>
       </section>
       <section id="reference-instructions">
         <span id="syntax-instr-ref"></span><span id="syntax-ref-func"></span><span id="syntax-ref-is-null"></span><span id="syntax-ref-null"></span><span id="index-3②"></span>
        <h4 data-level="2.4.3" id="reference-instructions①"><span>2.4.3. </span><span>Reference Instructions</span><a href="#reference-instructions①"></a></h4>
        <p>Instructions in this group are concerned with accessing <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>references</span></a>.</p>
        
        <p>These instructions produce a null value, check for a null value, or produce a reference to a given function, respectively.</p>
       </section>
       <section id="parametric-instructions">
         <span id="syntax-instr-parametric"></span><span id="index-4②"></span>
        <h4 data-level="2.4.4" id="parametric-instructions①"><span>2.4.4. </span><span>Parametric Instructions</span><a href="#parametric-instructions①"></a></h4>
        <p>Instructions in this group can operate on operands of any <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a>.</p>
        
        <p>The <span><span><span></span></span></span> instruction simply throws away a single operand.</p>
        <p>The <span><span><span></span></span></span> instruction selects one of its first two operands based on whether its third operand is zero or not.
It may include a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> determining the type of these operands. If missing, the operands must be of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-numtype"><span>numeric type</span></a>.</p>
        <div role="note">
         <p>Note</p>
         <p>In future versions of WebAssembly, the type annotation on <span><span><span></span></span></span> may allow for more than a single value being selected at the same time.</p>
        </div>
       </section>
       <section id="variable-instructions">
         <span id="syntax-instr-variable"></span><span id="index-5②"></span>
        <h4 data-level="2.4.5" id="variable-instructions①"><span>2.4.5. </span><span>Variable Instructions</span><a href="#variable-instructions①"></a></h4>
        <p>Variable instructions are concerned with access to <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-local"><span>local</span></a> or <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-global"><span>global</span></a> variables.</p>
        
        <p>These instructions get or set the values of variables, respectively.
The <span><span><span></span></span></span> instruction is like <span><span><span></span></span></span> but also returns its argument.</p>
       </section>
       <section id="table-instructions">
         <span id="syntax-table-fill"></span><span id="syntax-table-grow"></span><span id="syntax-table-size"></span><span id="syntax-table-set"></span><span id="syntax-table-get"></span><span id="syntax-instr-table"></span><span id="index-6①"></span>
        <h4 data-level="2.4.6" id="table-instructions①"><span>2.4.6. </span><span>Table Instructions</span><a href="#table-instructions①"></a></h4>
        <p>Instructions in this group are concerned with tables <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-table"><span>table</span></a>.</p>
        
        <p>The <span><span><span></span></span></span> and <span><span><span></span></span></span> instructions load or store an element in a table, respectively.</p>
        <p>The <span><span><span></span></span></span> instruction returns the current size of a table.
The <span><span><span></span></span></span> instruction grows table by a given delta and returns the previous size, or <span><span><span></span></span></span> if enough space cannot be allocated.
It also takes an initialization value for the newly allocated entries.</p>
        <p>The <span><span><span></span></span></span> instruction sets all entries in a range to a given value.</p>
        <p>The <span><span><span></span></span></span> instruction copies elements from a source table region to a possibly overlapping destination region; the first index denotes the destination.
The <span><span><span></span></span></span> instruction copies elements from a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elem"><span>passive element segment</span></a> into a table.
The <span><span><span></span></span></span> instruction prevents further use of a passive element segment. This instruction is intended to be used as an optimization hint. After an element segment is dropped its elements can no longer be retrieved, so the memory used by this segment may be freed.</p>
        <p>An additional instruction that accesses a table is the <a href="#syntax-instr-control"><span>control instruction</span></a> <span><span><span></span></span></span>.</p>
       </section>
       <section id="memory-instructions">
         <span id="syntax-instr-memory"></span><span id="syntax-lanewidth"></span><span id="syntax-memarg"></span><span id="syntax-storen"></span><span id="syntax-loadn"></span><span id="index-7①"></span>
        <h4 data-level="2.4.7" id="memory-instructions①"><span>2.4.7. </span><span>Memory Instructions</span><a href="#memory-instructions①"></a></h4>
        <p>Instructions in this group are concerned with linear <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-mem"><span>memory</span></a>.</p>
        
        <p>Memory is accessed with <span><span><span></span></span></span> and <span><span><span></span></span></span> instructions for the different <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-numtype"><span>number types</span></a>.
They all take a <em>memory immediate</em> <span><span><span></span></span></span> that contains an address <em>offset</em> and the expected <em>alignment</em> (expressed as the exponent of a power of 2).
Integer loads and stores can optionally specify a <em>storage size</em> that is smaller than the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-numtype"><span>bit width</span></a> of the respective value type.
In the case of loads, a sign extension mode <span><span><span></span></span></span> is then required to select appropriate behavior.</p>
        <p>Vector loads can specify a shape that is half the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>bit width</span></a> of <span><span><span></span></span></span>. Each lane is half its usual size, and the sign extension mode <span><span><span></span></span></span> then specifies how the smaller lane is extended to the larger lane.
Alternatively, vector loads can perform a <em>splat</em>, such that only a single lane of the specified storage size is loaded, and the result is duplicated to all lanes.</p>
        <p>The static address offset is added to the dynamic address operand, yielding a 33 bit <em>effective address</em> that is the zero-based index at which the memory is accessed.
All values are read and written in <a href="https://en.wikipedia.org/wiki/Endianness#Little-endian">little endian</a> byte order.
A <a href="https://www.w3.org/TR/wasm-core-2/index.html#trap"><span>trap</span></a> results if any of the accessed memory bytes lies outside the address range implied by the memory’s current size.</p>
        <div role="note">
         <p>Note</p>
         <p>Future versions of WebAssembly might provide memory instructions with 64 bit address ranges.</p>
        </div>
        <p>The <span><span><span></span></span></span> instruction returns the current size of a memory.
The <span><span><span></span></span></span> instruction grows memory by a given delta and returns the previous size, or <span><span><span></span></span></span> if enough memory cannot be allocated.
Both instructions operate in units of <a href="https://www.w3.org/TR/wasm-core-2/index.html#page-size"><span>page size</span></a>.</p>
        <p>The <span><span><span></span></span></span> instruction sets all values in a region to a given byte.
The <span><span><span></span></span></span> instruction copies data from a source memory region to a possibly overlapping destination region.
The <span><span><span></span></span></span> instruction copies data from a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-data"><span>passive data segment</span></a> into a memory.
The <span><span><span></span></span></span> instruction prevents further use of a passive data segment. This instruction is intended to be used as an optimization hint. After a data segment is dropped its data can no longer be retrieved, so the memory used by this segment may be freed.</p>
        <div role="note">
         <p>Note</p>
         <p>In the current version of WebAssembly,
all memory instructions implicitly operate on <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-mem"><span>memory</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memidx"><span>index</span></a> <span><span><span></span></span></span>.
This restriction may be lifted in future versions.</p>
        </div>
       </section>
       <section id="control-instructions">
         <span id="syntax-instr-control"></span><span id="syntax-instr-seq"></span><span id="syntax-call-indirect"></span><span id="syntax-call"></span><span id="syntax-return"></span><span id="syntax-br-table"></span><span id="syntax-br-if"></span><span id="syntax-br"></span><span id="syntax-if"></span><span id="syntax-loop"></span><span id="syntax-block"></span><span id="syntax-unreachable"></span><span id="syntax-nop"></span><span id="syntax-blocktype"></span><span id="index-8①"></span>
        <h4 data-level="2.4.8" id="control-instructions①"><span>2.4.8. </span><span>Control Instructions</span><a href="#control-instructions①"></a></h4>
        <p>Instructions in this group affect the flow of control.</p>
        
        <p>The <span><span><span></span></span></span> instruction does nothing.</p>
        <p>The <span><span><span></span></span></span> instruction causes an unconditional <a href="https://www.w3.org/TR/wasm-core-2/index.html#trap"><span>trap</span></a>.</p>
        <p>The <span><span><span></span></span></span>, <span><span><span></span></span></span> and <span><span><span></span></span></span> instructions are <em>structured</em> instructions.
They bracket nested sequences of instructions, called <em>blocks</em>, terminated with, or separated by, <span><span><span></span></span></span> or <span><span><span></span></span></span> pseudo-instructions.
As the grammar prescribes, they must be well-nested.</p>
        <p>A structured instruction can consume <em>input</em> and produce <em>output</em> on the operand stack according to its annotated <em>block type</em>.
It is given either as a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcidx"><span>type index</span></a> that refers to a suitable <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a>, or as an optional <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> inline, which is a shorthand for the function type <span><span><span></span></span></span>.</p>
        <p>Each structured control instruction introduces an implicit <em>label</em>.
Labels are targets for branch instructions that reference them with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-labelidx"><span>label indices</span></a>.
Unlike with other <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-index"><span>index spaces</span></a>, indexing of labels is relative by nesting depth,
that is, label <span><span><span></span></span></span> refers to the innermost structured control instruction enclosing the referring branch instruction,
while increasing indices refer to those farther out.
Consequently, labels can only be referenced from <em>within</em> the associated structured control instruction.
This also implies that branches can only be directed outwards,
“breaking” from the block of the control construct they target.
The exact effect depends on that control construct.
In case of <span><span><span></span></span></span> or <span><span><span></span></span></span> it is a <em>forward jump</em>,
resuming execution after the matching <span><span><span></span></span></span>.
In case of <span><span><span></span></span></span> it is a <em>backward jump</em> to the beginning of the loop.</p>
        <div role="note">
         <p>Note</p>
         <p>This enforces <em>structured control flow</em>.
Intuitively, a branch targeting a <span><span><span></span></span></span> or <span><span><span></span></span></span> behaves like a <span><span><span></span></span></span> statement in most C-like languages,
while a branch targeting a <span><span><span></span></span></span> behaves like a <span><span><span></span></span></span> statement.</p>
        </div>
        <p>Branch instructions come in several flavors: <span><span><span></span></span></span> performs an unconditional branch, <span><span><span></span></span></span> performs a conditional branch,
and <span><span><span></span></span></span> performs an indirect branch through an operand indexing into the label vector that is an immediate to the instruction, or to a default target if the operand is out of bounds.
The <span><span><span></span></span></span> instruction is a shortcut for an unconditional branch to the outermost block, which implicitly is the body of the current function.
Taking a branch <em>unwinds</em> the operand stack up to the height where the targeted structured control instruction was entered.
However, branches may additionally consume operands themselves, which they push back on the operand stack after unwinding.
Forward branches require operands according to the output of the targeted block’s type, i.e., represent the values produced by the terminated block.
Backward branches require operands according to the input of the targeted block’s type, i.e., represent the values consumed by the restarted block.</p>
        <p>The <span><span><span></span></span></span> instruction invokes another <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-func"><span>function</span></a>, consuming the necessary arguments from the stack and returning the result values of the call.
The <span><span><span></span></span></span> instruction calls a function indirectly through an operand indexing into a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-table"><span>table</span></a> that is denoted by a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableidx"><span>table index</span></a> and must have type <span><span><span></span></span></span>.
Since it may contain functions of heterogeneous type,
the callee is dynamically checked against the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> indexed by the instruction’s second immediate, and the call is aborted with a <a href="https://www.w3.org/TR/wasm-core-2/index.html#trap"><span>trap</span></a> if it does not match.</p>
       </section>
       <section id="expressions">
         <span id="syntax-expr"></span><span id="index-9①"></span>
        <h4 data-level="2.4.9" id="expressions①"><span>2.4.9. </span><span>Expressions</span><a href="#expressions①"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-func"><span>Function</span></a> bodies, initialization values for <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-global"><span>globals</span></a>, elements and offsets of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elem"><span>element</span></a> segments, and offsets of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-data"><span>data</span></a> segments are given as expressions, which are sequences of <a href="#syntax-instr"><span>instructions</span></a> terminated by an <span><span><span></span></span></span> marker.</p>
        
        <p>In some places, validation <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-constant"><span>restricts</span></a> expressions to be <em>constant</em>, which limits the set of allowable instructions.</p>
       </section>
      </section>
       <section id="modules">
        <span id="syntax-module"></span><span id="index-0⑥"></span>
       <h3 data-level="2.5" id="modules①"><span>2.5. </span><span>Modules</span><a href="#modules①"></a></h3>
       <p>WebAssembly programs are organized into <em>modules</em>,
which are the unit of deployment, loading, and compilation.
A module collects definitions for <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-type"><span>types</span></a>, <a href="#syntax-func"><span>functions</span></a>, <a href="#syntax-table"><span>tables</span></a>, <a href="#syntax-mem"><span>memories</span></a>, and <a href="#syntax-global"><span>globals</span></a>.
In addition, it can declare <a href="#syntax-import"><span>imports</span></a> and <a href="#syntax-export"><span>exports</span></a> and provide initialization in the form of <a href="#syntax-data"><span>data</span></a> and <a href="#syntax-elem"><span>element</span></a> segments, or a <a href="#syntax-start"><span>start function</span></a>.</p>
       
       <p>Each of the vectors – and thus the entire module – may be empty.</p>
       <section id="indices">
         <span id="syntax-index"></span><span id="syntax-labelidx"></span><span id="syntax-localidx"></span><span id="syntax-dataidx"></span><span id="syntax-elemidx"></span><span id="syntax-globalidx"></span><span id="syntax-memidx"></span><span id="syntax-tableidx"></span><span id="syntax-funcidx"></span><span id="syntax-typeidx"></span><span id="index-1⑥"></span>
        <h4 data-level="2.5.1" id="indices①"><span>2.5.1. </span><span>Indices</span><a href="#indices①"></a></h4>
        <p>Definitions are referenced with zero-based <em>indices</em>.
Each class of definition has its own <em>index space</em>, as distinguished by the following classes.</p>
        
        <p>The index space for <a href="#syntax-func"><span>functions</span></a>, <a href="#syntax-table"><span>tables</span></a>, <a href="#syntax-mem"><span>memories</span></a> and <a href="#syntax-global"><span>globals</span></a> includes respective <a href="#syntax-import"><span>imports</span></a> declared in the same module.
The indices of these imports precede the indices of other definitions in the same index space.</p>
        <p>Element indices reference <a href="#syntax-elem"><span>element segments</span></a> and data indices reference <a href="#syntax-data"><span>data segments</span></a>.</p>
        <p>The index space for <a href="#syntax-local"><span>locals</span></a> is only accessible inside a <a href="#syntax-func"><span>function</span></a> and includes the parameters of that function, which precede the local variables.</p>
        <p>Label indices reference <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-control"><span>structured control instructions</span></a> inside an instruction sequence.</p>
        <section id="conventions①④">
          <span id="free-index"></span><span id="free-labelidx"></span><span id="free-localidx"></span><span id="free-dataidx"></span><span id="free-elemidx"></span><span id="free-globalidx"></span><span id="free-memidx"></span><span id="free-tableidx"></span><span id="free-funcidx"></span><span id="free-typeidx"></span>
         <h5 data-level="2.5.1.1" id="conventions①⑤"><span>2.5.1.1. </span><span>Conventions</span><a href="#conventions①⑤"></a></h5>
         <ul>
          <li>
           <p>The meta variable <span><span><span></span></span></span> ranges over label indices.</p>
          </li><li>
           <p>The meta variables <span><span><span></span></span></span> range over indices in any of the other index spaces.</p>
          </li><li>
           <p>The notation <span><span><span></span></span></span> denotes the set of indices from index space <span><span><span></span></span></span> occurring free in <span><span><span></span></span></span>. Sometimes this set is reinterpreted as the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-vec"><span>vector</span></a> of its elements.</p>
         </li></ul>
         <div role="note">
          <p>Note</p>
          <p>For example, if <span><span><span></span></span></span> is <span><span><span></span></span></span>, then <span><span><span></span></span></span>, or equivalently, the vector <span><span><span></span></span></span>.</p>
         </div>
        </section>
       </section>
       <section id="types②">
         <span id="syntax-typedef"></span><span id="index-2⑤"></span>
        <h4 data-level="2.5.2" id="types③"><span>2.5.2. </span><span>Types</span><a href="#types③"></a></h4>
        <p>The <span><span><span></span></span></span> component of a module defines a vector of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function types</span></a>.</p>
        <p>All function types used in a module must be defined in this component.
They are referenced by <a href="#syntax-typeidx"><span>type indices</span></a>.</p>
        <div role="note">
         <p>Note</p>
         <p>Future versions of WebAssembly may add additional forms of type definitions.</p>
        </div>
       </section>
       <section id="functions">
         <span id="syntax-func"></span><span id="syntax-local"></span><span id="index-3③"></span>
        <h4 data-level="2.5.3" id="functions①"><span>2.5.3. </span><span>Functions</span><a href="#functions①"></a></h4>
        <p>The <span><span><span></span></span></span> component of a module defines a vector of <em>functions</em> with the following structure:</p>
        
        <p>The <span><span><span></span></span></span> of a function declares its signature by reference to a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-type"><span>type</span></a> defined in the module.
The parameters of the function are referenced through 0-based <a href="#syntax-localidx"><span>local indices</span></a> in the function’s body; they are mutable.</p>
        <p>The <span><span><span></span></span></span> declare a vector of mutable local variables and their types.
These variables are referenced through <a href="#syntax-localidx"><span>local indices</span></a> in the function’s body.
The index of the first local is the smallest index not referencing a parameter.</p>
        <p>The <span><span><span></span></span></span> is an <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-expr"><span>instruction</span></a> sequence that upon termination must produce a stack matching the function type’s <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result type</span></a>.</p>
        <p>Functions are referenced through <a href="#syntax-funcidx"><span>function indices</span></a>,
starting with the smallest index not referencing a function <a href="#syntax-import"><span>import</span></a>.</p>
       </section>
       <section id="tables">
         <span id="syntax-table"></span><span id="index-4③"></span>
        <h4 data-level="2.5.4" id="tables①"><span>2.5.4. </span><span>Tables</span><a href="#tables①"></a></h4>
        <p>The <span><span><span></span></span></span> component of a module defines a vector of <em>tables</em> described by their <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table type</span></a>:</p>
        
        <p>A table is a vector of opaque values of a particular <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference type</span></a>.
The <span><span><span></span></span></span> size in the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-limits"><span>limits</span></a> of the table type specifies the initial size of that table, while its <span><span><span></span></span></span>, if present, restricts the size to which it can grow later.</p>
        <p>Tables can be initialized through <a href="#syntax-elem"><span>element segments</span></a>.</p>
        <p>Tables are referenced through <a href="#syntax-tableidx"><span>table indices</span></a>,
starting with the smallest index not referencing a table <a href="#syntax-import"><span>import</span></a>.
Most constructs implicitly reference table index <span><span><span></span></span></span>.</p>
       </section>
       <section id="memories">
         <span id="syntax-mem"></span><span id="index-5③"></span>
        <h4 data-level="2.5.5" id="memories①"><span>2.5.5. </span><span>Memories</span><a href="#memories①"></a></h4>
        <p>The <span><span><span></span></span></span> component of a module defines a vector of <em>linear memories</em> (or <em>memories</em> for short) as described by their <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memtype"><span>memory type</span></a>:</p>
        
        <p>A memory is a vector of raw uninterpreted bytes.
The <span><span><span></span></span></span> size in the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-limits"><span>limits</span></a> of the memory type specifies the initial size of that memory, while its <span><span><span></span></span></span>, if present, restricts the size to which it can grow later.
Both are in units of <a href="https://www.w3.org/TR/wasm-core-2/index.html#page-size"><span>page size</span></a>.</p>
        <p>Memories can be initialized through <a href="#syntax-data"><span>data segments</span></a>.</p>
        <p>Memories are referenced through <a href="#syntax-memidx"><span>memory indices</span></a>,
starting with the smallest index not referencing a memory <a href="#syntax-import"><span>import</span></a>.
Most constructs implicitly reference memory index <span><span><span></span></span></span>.</p>
        <div role="note">
         <p>Note</p>
         <p>In the current version of WebAssembly, at most one memory may be defined or imported in a single module,
and <em>all</em> constructs implicitly reference this memory <span><span><span></span></span></span>.
This restriction may be lifted in future versions.</p>
        </div>
       </section>
       <section id="globals">
         <span id="syntax-global"></span><span id="index-6②"></span>
        <h4 data-level="2.5.6" id="globals①"><span>2.5.6. </span><span>Globals</span><a href="#globals①"></a></h4>
        <p>The <span><span><span></span></span></span> component of a module defines a vector of <em>global variables</em> (or <em>globals</em> for short):</p>
        
        <p>Each global stores a single value of the given <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaltype"><span>global type</span></a>.
Its <span><span><span></span></span></span> also specifies whether a global is immutable or mutable.
Moreover, each global is initialized with an <span><span><span></span></span></span> value given by a <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-constant"><span>constant</span></a> initializer <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-expr"><span>expression</span></a>.</p>
        <p>Globals are referenced through <a href="#syntax-globalidx"><span>global indices</span></a>,
starting with the smallest index not referencing a global <a href="#syntax-import"><span>import</span></a>.</p>
       </section>
       <section id="element-segments">
         <span id="syntax-elemmode"></span><span id="syntax-elem"></span><span id="index-7②"></span>
        <h4 data-level="2.5.7" id="element-segments①"><span>2.5.7. </span><span>Element Segments</span><a href="#element-segments①"></a></h4>
        <p>The initial contents of a table is uninitialized. <em>Element segments</em> can be used to initialize a subrange of a table from a static <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-vec"><span>vector</span></a> of elements.</p>
        <p>The <span><span><span></span></span></span> component of a module defines a vector of element segments.
Each element segment defines a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference type</span></a> and a corresponding list of <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-constant"><span>constant</span></a> element <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-expr"><span>expressions</span></a>.</p>
        <p>Element segments have a mode that identifies them as either <em>passive</em>, <em>active</em>, or <em>declarative</em>.
A passive element segment’s elements can be copied to a table using the <span><span><span></span></span></span> instruction.
An active element segment copies its elements into a table during <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-instantiation"><span>instantiation</span></a>, as specified by a <a href="#syntax-tableidx"><span>table index</span></a> and a <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-constant"><span>constant</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-expr"><span>expression</span></a> defining an offset into that table.
A declarative element segment is not available at runtime but merely serves to forward-declare references that are formed in code with instructions like <span><span><span></span></span></span>.</p>
        
        <p>The <span><span><span></span></span></span> is given by a <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-constant"><span>constant</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-expr"><span>expression</span></a>.</p>
        <p>Element segments are referenced through <a href="#syntax-elemidx"><span>element indices</span></a>.</p>
       </section>
       <section id="data-segments">
         <span id="syntax-datamode"></span><span id="syntax-data"></span><span id="index-8②"></span>
        <h4 data-level="2.5.8" id="data-segments①"><span>2.5.8. </span><span>Data Segments</span><a href="#data-segments①"></a></h4>
        <p>The initial contents of a <a href="#syntax-mem"><span>memory</span></a> are zero bytes. <em>Data segments</em> can be used to initialize a range of memory from a static <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-vec"><span>vector</span></a> of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-byte"><span>bytes</span></a>.</p>
        <p>The <span><span><span></span></span></span> component of a module defines a vector of data segments.</p>
        <p>Like element segments, data segments have a mode that identifies them as either <em>passive</em> or <em>active</em>.
A passive data segment’s contents can be copied into a memory using the <span><span><span></span></span></span> instruction.
An active data segment copies its contents into a memory during <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-instantiation"><span>instantiation</span></a>, as specified by a <a href="#syntax-memidx"><span>memory index</span></a> and a <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-constant"><span>constant</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-expr"><span>expression</span></a> defining an offset into that memory.</p>
        
        <p>Data segments are referenced through <a href="#syntax-dataidx"><span>data indices</span></a>.</p>
        <div role="note">
         <p>Note</p>
         <p>In the current version of WebAssembly, at most one memory is allowed in a module.
Consequently, the only valid <span><span><span></span></span></span> is <span><span><span></span></span></span>.</p>
        </div>
       </section>
       <section id="start-function">
         <span id="syntax-start"></span><span id="index-9②"></span>
        <h4 data-level="2.5.9" id="start-function①"><span>2.5.9. </span><span>Start Function</span><a href="#start-function①"></a></h4>
        <p>The <span><span><span></span></span></span> component of a module declares the <a href="#syntax-funcidx"><span>function index</span></a> of a <em>start function</em> that is automatically invoked when the module is <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-instantiation"><span>instantiated</span></a>, after <a href="#syntax-table"><span>tables</span></a> and <a href="#syntax-mem"><span>memories</span></a> have been initialized.</p>
        
        <div role="note">
         <p>Note</p>
         <p>The start function is intended for initializing the state of a module.
The module and its exports are not accessible externally before this initialization has completed.</p>
        </div>
       </section>
       <section id="exports">
         <span id="syntax-export"></span><span id="syntax-exportdesc"></span><span id="index-10①"></span>
        <h4 data-level="2.5.10" id="exports①"><span>2.5.10. </span><span>Exports</span><a href="#exports①"></a></h4>
        <p>The <span><span><span></span></span></span> component of a module defines a set of <em>exports</em> that become accessible to the host environment once the module has been <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-instantiation"><span>instantiated</span></a>.</p>
        
        <p>Each export is labeled by a unique <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-name"><span>name</span></a>.
Exportable definitions are <a href="#syntax-func"><span>functions</span></a>, <a href="#syntax-table"><span>tables</span></a>, <a href="#syntax-mem"><span>memories</span></a>, and <a href="#syntax-global"><span>globals</span></a>,
which are referenced through a respective descriptor.</p>
        <section id="id1⑤">
         <h5 data-level="2.5.10.1" id="conventions①⑥"><span>2.5.10.1. </span><span>Conventions</span><a href="#conventions①⑥"></a></h5>
         <p>The following auxiliary notation is defined for sequences of exports, filtering out indices of a specific kind in an order-preserving fashion:</p>
         <ul>
          <li>
           
          </li><li>
           
          </li><li>
           
          </li><li>
           
         </li></ul>
        </section>
       </section>
       <section id="imports">
         <span id="syntax-import"></span><span id="syntax-importdesc"></span><span id="index-11①"></span>
        <h4 data-level="2.5.11" id="imports①"><span>2.5.11. </span><span>Imports</span><a href="#imports①"></a></h4>
        <p>The <span><span><span></span></span></span> component of a module defines a set of <em>imports</em> that are required for <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-instantiation"><span>instantiation</span></a>.</p>
        
        <p>Each import is labeled by a two-level <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-name"><span>name</span></a> space, consisting of a <span><span><span></span></span></span> name and a <span><span><span></span></span></span> for an entity within that module.
Importable definitions are <a href="#syntax-func"><span>functions</span></a>, <a href="#syntax-table"><span>tables</span></a>, <a href="#syntax-mem"><span>memories</span></a>, and <a href="#syntax-global"><span>globals</span></a>.
Each import is specified by a descriptor with a respective type that a definition provided during instantiation is required to match.</p>
        <p>Every import defines an index in the respective <a href="#syntax-index"><span>index space</span></a>.
In each index space, the indices of imports go before the first index of any definition contained in the module itself.</p>
        <div role="note">
         <p>Note</p>
         <p>Unlike export names, import names are not necessarily unique.
It is possible to import the same <span><span><span></span></span></span>/<span><span><span></span></span></span> pair multiple times;
such imports may even have different type descriptions, including different kinds of entities.
A module with such imports can still be instantiated depending on the specifics of how an <a href="https://www.w3.org/TR/wasm-core-2/index.html#embedder"><span>embedder</span></a> allows resolving and supplying imports.
However, embedders are not required to support such overloading,
and a WebAssembly module itself cannot implement an overloaded name.</p>
        </div>
       </section>
      </section>
     </div>
    </section>
     <section id="validation①">
      <span id="valid"></span>
     <h2 data-level="3" id="validation②"><span>3. </span><span>Validation</span><a href="#validation②"></a></h2>
     <div>
       <section id="conventions①⑦">
        <span id="type-system"></span><span id="index-0⑦"></span>
       <h3 data-level="3.1" id="conventions①⑧"><span>3.1. </span><span>Conventions</span><a href="#conventions①⑧"></a></h3>
       <p>Validation checks that a WebAssembly module is well-formed.
Only valid modules can be <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-instantiation"><span>instantiated</span></a>.</p>
       <p>Validity is defined by a <em>type system</em> over the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax"><span>abstract syntax</span></a> of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a> and its contents.
For each piece of abstract syntax, there is a typing rule that specifies the constraints that apply to it.
All rules are given in two <em>equivalent</em> forms:</p>
       <ol>
        <li>
         <p>In <em>prose</em>, describing the meaning in intuitive form.</p>
        </li><li>
         <p>In <em>formal notation</em>, describing the rule in mathematical form. <a href="#cite-pldi2017" id="id1⑥" role="doc-noteref"><span>[</span>1<span>]</span></a></p>
       </li></ol>
       <div role="note">
        <p>Note</p>
        <p>The prose and formal rules are equivalent,
so that understanding of the formal notation is <em>not</em> required to read this specification.
The formalism offers a more concise description in notation that is used widely in programming languages semantics and is readily amenable to mathematical proof.</p>
       </div>
       <p>In both cases, the rules are formulated in a <em>declarative</em> manner.
That is, they only formulate the constraints, they do not define an algorithm.
The skeleton of a sound and complete algorithm for type-checking instruction sequences according to this specification is provided in the <a href="https://www.w3.org/TR/wasm-core-2/index.html#algo-valid"><span>appendix</span></a>.</p>
       <section id="contexts">
         <span id="context"></span><span id="index-1⑦"></span>
        <h4 data-level="3.1.1" id="contexts①"><span>3.1.1. </span><span>Contexts</span><a href="#contexts①"></a></h4>
        <p>Validity of an individual definition is specified relative to a <em>context</em>,
which collects relevant information about the surrounding <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a> and the definitions in scope:</p>
        <ul>
         <li>
          <p><em>Types</em>: the list of types defined in the current module.</p>
         </li><li>
          <p><em>Functions</em>: the list of functions declared in the current module, represented by their function type.</p>
         </li><li>
          <p><em>Tables</em>: the list of tables declared in the current module, represented by their table type.</p>
         </li><li>
          <p><em>Memories</em>: the list of memories declared in the current module, represented by their memory type.</p>
         </li><li>
          <p><em>Globals</em>: the list of globals declared in the current module, represented by their global type.</p>
         </li><li>
          <p><em>Element Segments</em>: the list of element segments declared in the current module, represented by their element type.</p>
         </li><li>
          <p><em>Data Segments</em>: the list of data segments declared in the current module, each represented by an <span><span><span></span></span></span> entry.</p>
         </li><li>
          <p><em>Locals</em>: the list of locals declared in the current function (including parameters), represented by their value type.</p>
         </li><li>
          <p><em>Labels</em>: the stack of labels accessible from the current position, represented by their result type.</p>
         </li><li>
          <p><em>Return</em>: the return type of the current function, represented as an optional result type that is absent when no return is allowed, as in free-standing expressions.</p>
         </li><li>
          <p><em>References</em>: the list of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcidx"><span>function indices</span></a> that occur in the module outside functions and can hence be used to form references inside them.</p>
        </li></ul>
        <p>In other words, a context contains a sequence of suitable <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-type"><span>types</span></a> for each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-index"><span>index space</span></a>,
describing each defined entry in that space.
Locals, labels and return type are only used for validating <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr"><span>instructions</span></a> in <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-func"><span>function bodies</span></a>, and are left empty elsewhere.
The label stack is the only part of the context that changes as validation of an instruction sequence proceeds.</p>
        <p>More concretely, contexts are defined as <a href="https://www.w3.org/TR/wasm-core-2/index.html#notation-record"><span>records</span></a> <span><span><span></span></span></span> with abstract syntax:</p>
        
        <p id="notation-extend">In addition to field access written <span><span><span></span></span></span> the following notation is adopted for manipulating contexts:</p>
        <ul>
         <li>
          <p>When spelling out a context, empty fields are omitted.</p>
         </li><li>
          <p><span><span><span></span></span></span> denotes the same context as <span><span><span></span></span></span> but with the elements <span><span><span></span></span></span> prepended to its <span><span><span></span></span></span> component sequence.</p>
        </li></ul>
        <div role="note">
         <p>Note</p>
         <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#notation-index"><span>Indexing notation</span></a> like <span><span><span></span></span></span> is used to look up indices in their respective <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-index"><span>index space</span></a> in the context.
Context extension notation <span><span><span></span></span></span> is primarily used to locally extend <em>relative</em> index spaces, such as <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-labelidx"><span>label indices</span></a>.
Accordingly, the notation is defined to append at the <em>front</em> of the respective sequence, introducing a new relative index <span><span><span></span></span></span> and shifting the existing ones.</p>
        </div>
       </section>
       <section id="prose-notation">
         <span id="valid-notation-textual"></span>
        <h4 data-level="3.1.2" id="prose-notation①"><span>3.1.2. </span><span>Prose Notation</span><a href="#prose-notation①"></a></h4>
        <p>Validation is specified by stylised rules for each relevant part of the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax"><span>abstract syntax</span></a>.
The rules not only state constraints defining when a phrase is valid,
they also classify it with a type.
The following conventions are adopted in stating these rules.</p>
        <ul>
         <li>
          <p>A phrase <span><span><span></span></span></span> is said to be “valid with type <span><span><span></span></span></span>”
if and only if all constraints expressed by the respective rules are met.
The form of <span><span><span></span></span></span> depends on what <span><span><span></span></span></span> is.</p>
          
         </li><li>
          <p>The rules implicitly assume a given <a href="#context"><span>context</span></a> <span><span><span></span></span></span>.</p>
         </li><li>
          <p>In some places, this context is locally extended to a context <span><span><span></span></span></span> with additional entries.
The formulation “Under context <span><span><span></span></span></span>, … <em>statement</em> …” is adopted to express that the following statement must apply under the assumptions embodied in the extended context.</p>
        </li></ul>
       </section>
       <section id="formal-notation">
         <span id="valid-notation"></span><span id="index-2⑥"></span>
        <h4 data-level="3.1.3" id="formal-notation①"><span>3.1.3. </span><span>Formal Notation</span><a href="#formal-notation①"></a></h4>
        <div role="note">
         <p>Note</p>
         <p>This section gives a brief explanation of the notation for specifying typing rules formally.
For the interested reader, a more thorough introduction can be found in respective text books. <a href="#cite-tapl" id="id2④" role="doc-noteref"><span>[</span>2<span>]</span></a></p>
        </div>
        <p>The proposition that a phrase <span><span><span></span></span></span> has a respective type <span><span><span></span></span></span> is written <span><span><span></span></span></span>.
In general, however, typing is dependent on a context <span><span><span></span></span></span>.
To express this explicitly, the complete form is a <em>judgement</em> <span><span><span></span></span></span>,
which says that <span><span><span></span></span></span> holds under the assumptions encoded in <span><span><span></span></span></span>.</p>
        <p>The formal typing rules use a standard approach for specifying type systems, rendering them into <em>deduction rules</em>.
Every rule has the following general form:</p>
        
        <p>Such a rule is read as a big implication: if all premises hold, then the conclusion holds.
Some rules have no premises; they are <em>axioms</em> whose conclusion holds unconditionally.
The conclusion always is a judgment <span><span><span></span></span></span>,
and there is one respective rule for each relevant construct <span><span><span></span></span></span> of the abstract syntax.</p>
        <div role="note">
         <p>Note</p>
         <p>For example, the typing rule for the <span><span><span></span></span></span> instruction can be given as an axiom:</p>
         
         <p>The instruction is always valid with type <span><span><span></span></span></span> (saying that it consumes two <span><span><span></span></span></span> values and produces one),
independent of any side conditions.</p>
         <p>An instruction like <span><span><span></span></span></span> can be typed as follows:</p>
         
         <p>Here, the premise enforces that the immediate <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-localidx"><span>local index</span></a> <span><span><span></span></span></span> exists in the context.
The instruction produces a value of its respective type <span><span><span></span></span></span> (and does not consume any values).
If <span><span><span></span></span></span> does not exist then the premise does not hold,
and the instruction is ill-typed.</p>
         <p>Finally, a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-control"><span>structured</span></a> instruction requires
a recursive rule, where the premise is itself a typing judgement:</p>
         
         <p>A <span><span><span></span></span></span> instruction is only valid when the instruction sequence in its body is.
Moreover, the result type must match the block’s annotation <span><span><span></span></span></span>.
If so, then the <span><span><span></span></span></span> instruction has the same type as the body.
Inside the body an additional label of the corresponding result type is available,
which is expressed by extending the context <span><span><span></span></span></span> with the additional label information for the premise.</p>
        </div>
        
       </section>
      </section>
       <section id="types④">
       <h3 data-level="3.2" id="types⑤"><span>3.2. </span><span>Types</span><a href="#types⑤"></a></h3>
       <p>Most <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-type"><span>types</span></a> are universally valid.
However, restrictions apply to <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-limits"><span>limits</span></a>, which must be checked during validation.
Moreover, <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-blocktype"><span>block types</span></a> are converted to plain <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function types</span></a> for ease of processing.</p>
       <section id="limits②">
         <span id="valid-limits"></span><span id="index-0⑧"></span>
        <h4 data-level="3.2.1" id="limits③"><span>3.2.1. </span><span>Limits</span><a href="#limits③"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-limits"><span>Limits</span></a> must have meaningful bounds that are within a given range.</p>
        <section id="xref-syntax-types-syntax-limits-mathsf-min-n-xref-syntax-types-syntax-limits-mathsf-max-m">
         <h5 data-level="3.2.1.1" id="--hrefsyntax-limitsmathsfminn-hrefsyntax-limitsmathsfmaxm"><span>3.2.1.1. </span><span><span><span><span></span></span></span></span><a href="#--hrefsyntax-limitsmathsfminn-hrefsyntax-limitsmathsfmaxm"></a></h5>
         <ul>
          <li>
           <p>The value of <span><span><span></span></span></span> must not be larger than <span><span><span></span></span></span>.</p>
          </li><li>
           <p>If the maximum <span><span><span></span></span></span> is not empty, then:</p>
           <ul>
            <li>
             <p>Its value must not be larger than <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Its value must not be smaller than <span><span><span></span></span></span>.</p>
           </li></ul>
          </li><li>
           <p>Then the limit is valid within range <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="block-types">
         <span id="valid-blocktype"></span><span id="index-1⑧"></span>
        <h4 data-level="3.2.2" id="block-types①"><span>3.2.2. </span><span>Block Types</span><a href="#block-types①"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-blocktype"><span>Block types</span></a> may be expressed in one of two forms, both of which are converted to plain <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function types</span></a> by the following rules.</p>
        <section id="xref-syntax-modules-syntax-typeidx-mathit-typeidx">
         <h5 data-level="3.2.2.1" id="-hrefsyntax-typeidxmathittypeidx"><span>3.2.2.1. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-typeidxmathittypeidx"></a></h5>
         <ul>
          <li>
           <p>The type <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Then the block type is valid as <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-types-syntax-valtype-mathit-valtype">
         <h5 data-level="3.2.2.2" id="-hrefsyntax-valtypemathitvaltype"><span>3.2.2.2. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-valtypemathitvaltype"></a></h5>
         <ul>
          <li>
           <p>The block type is valid as <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="function-types②">
         <span id="valid-functype"></span><span id="index-2⑦"></span>
        <h4 data-level="3.2.3" id="function-types③"><span>3.2.3. </span><span>Function Types</span><a href="#function-types③"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>Function types</span></a> are always valid.</p>
        <section id="t-1-n-xref-syntax-types-syntax-functype-rightarrow-t-2-m">
         <h5 data-level="3.2.3.1" id="-t_1n-hrefsyntax-functyperightarrow-t_2m"><span>3.2.3.1. </span><span><span><span><span></span></span></span></span><a href="#-t_1n-hrefsyntax-functyperightarrow-t_2m"></a></h5>
         <ul>
          <li>
           <p>The function type is valid.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="table-types②">
         <span id="valid-tabletype"></span><span id="index-3④"></span>
        <h4 data-level="3.2.4" id="table-types③"><span>3.2.4. </span><span>Table Types</span><a href="#table-types③"></a></h4>
        <section id="xref-syntax-types-syntax-limits-mathit-limits-xref-syntax-types-syntax-reftype-mathit-reftype">
         <h5 data-level="3.2.4.1" id="-hrefsyntax-limitsmathitlimitshrefsyntax-reftypemathitreftype"><span>3.2.4.1. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-limitsmathitlimitshrefsyntax-reftypemathitreftype"></a></h5>
         <ul>
          <li>
           <p>The limits <span><span><span></span></span></span> must be <a href="#valid-limits"><span>valid</span></a> within range <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the table type is valid.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="memory-types②">
         <span id="valid-memtype"></span><span id="index-4④"></span>
        <h4 data-level="3.2.5" id="memory-types③"><span>3.2.5. </span><span>Memory Types</span><a href="#memory-types③"></a></h4>
        <section id="xref-syntax-types-syntax-limits-mathit-limits">
         <h5 data-level="3.2.5.1" id="-hrefsyntax-limitsmathitlimits"><span>3.2.5.1. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-limitsmathitlimits"></a></h5>
         <ul>
          <li>
           <p>The limits <span><span><span></span></span></span> must be <a href="#valid-limits"><span>valid</span></a> within range <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the memory type is valid.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="global-types②">
         <span id="valid-globaltype"></span><span id="index-5④"></span>
        <h4 data-level="3.2.6" id="global-types③"><span>3.2.6. </span><span>Global Types</span><a href="#global-types③"></a></h4>
        <section id="xref-syntax-types-syntax-mut-mathit-mut-xref-syntax-types-syntax-valtype-mathit-valtype">
         <h5 data-level="3.2.6.1" id="-hrefsyntax-mutmathitmuthrefsyntax-valtypemathitvaltype"><span>3.2.6.1. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-mutmathitmuthrefsyntax-valtypemathitvaltype"></a></h5>
         <ul>
          <li>
           <p>The global type is valid.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="external-types②">
         <span id="valid-externtype"></span><span id="index-6③"></span>
        <h4 data-level="3.2.7" id="external-types③"><span>3.2.7. </span><span>External Types</span><a href="#external-types③"></a></h4>
        <section id="xref-syntax-types-syntax-externtype-mathsf-func-xref-syntax-types-syntax-functype-mathit-functype">
         <h5 data-level="3.2.7.1" id="-hrefsyntax-externtypemathsffunchrefsyntax-functypemathitfunctype"><span>3.2.7.1. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-externtypemathsffunchrefsyntax-functypemathitfunctype"></a></h5>
         <ul>
          <li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span> must be <a href="#valid-functype"><span>valid</span></a>.</p>
          </li><li>
           <p>Then the external type is valid.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-types-syntax-externtype-mathsf-table-xref-syntax-types-syntax-tabletype-mathit-tabletype">
         <h5 data-level="3.2.7.2" id="-hrefsyntax-externtypemathsftablehrefsyntax-tabletypemathittabletype"><span>3.2.7.2. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-externtypemathsftablehrefsyntax-tabletypemathittabletype"></a></h5>
         <ul>
          <li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table type</span></a> <span><span><span></span></span></span> must be <a href="#valid-tabletype"><span>valid</span></a>.</p>
          </li><li>
           <p>Then the external type is valid.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-types-syntax-externtype-mathsf-mem-xref-syntax-types-syntax-memtype-mathit-memtype">
         <h5 data-level="3.2.7.3" id="-hrefsyntax-externtypemathsfmemhrefsyntax-memtypemathitmemtype"><span>3.2.7.3. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-externtypemathsfmemhrefsyntax-memtypemathitmemtype"></a></h5>
         <ul>
          <li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memtype"><span>memory type</span></a> <span><span><span></span></span></span> must be <a href="#valid-memtype"><span>valid</span></a>.</p>
          </li><li>
           <p>Then the external type is valid.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-types-syntax-externtype-mathsf-global-xref-syntax-types-syntax-globaltype-mathit-globaltype">
         <h5 data-level="3.2.7.4" id="-hrefsyntax-externtypemathsfglobalhrefsyntax-globaltypemathitglobaltype"><span>3.2.7.4. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-externtypemathsfglobalhrefsyntax-globaltypemathitglobaltype"></a></h5>
         <ul>
          <li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaltype"><span>global type</span></a> <span><span><span></span></span></span> must be <a href="#valid-globaltype"><span>valid</span></a>.</p>
          </li><li>
           <p>Then the external type is valid.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="import-subtyping">
         <span id="match"></span><span id="exec-import"></span><span id="index-7③"></span>
        <h4 data-level="3.2.8" id="import-subtyping①"><span>3.2.8. </span><span>Import Subtyping</span><a href="#import-subtyping①"></a></h4>
        <p>When <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-module"><span>instantiating</span></a> a module, <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externval"><span>external values</span></a> must be provided whose <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-externval"><span>types</span></a> are <em>matched</em> against the respective <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external types</span></a> classifying each import.
In some cases, this allows for a simple form of subtyping (written “<span><span><span></span></span></span>” formally), as defined here.</p>
        <section id="match-limits">
          <span id="index-8③"></span><span id="id1⑦"></span>
         <h5 data-level="3.2.8.1" id="limits④"><span>3.2.8.1. </span><span>Limits</span><a href="#limits④"></a></h5>
         <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-limits"><span>Limits</span></a> <span><span><span></span></span></span> match limits <span><span><span></span></span></span> if and only if:</p>
         <ul>
          <li>
           <p><span><span><span></span></span></span> is larger than or equal to <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Either:</p>
           <ul>
            <li>
             <p><span><span><span></span></span></span> is empty.</p>
           </li></ul>
          </li><li>
           <p>Or:</p>
           <ul>
            <li>
             <p>Both <span><span><span></span></span></span> and <span><span><span></span></span></span> are non-empty.</p>
            </li><li>
             <p><span><span><span></span></span></span> is smaller than or equal to <span><span><span></span></span></span>.</p>
           </li></ul>
         </li></ul>
         
          <span id="match-externtype"></span>
        </section>
        <section id="functions②">
          <span id="match-functype"></span><span id="index-9③"></span>
         <h5 data-level="3.2.8.2" id="functions③"><span>3.2.8.2. </span><span>Functions</span><a href="#functions③"></a></h5>
         <p>An <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external type</span></a> <span><span><span></span></span></span> matches <span><span><span></span></span></span> if and only if:</p>
         <ul>
          <li>
           <p>Both <span><span><span></span></span></span> and <span><span><span></span></span></span> are the same.</p>
         </li></ul>
         
        </section>
        <section id="tables②">
          <span id="match-tabletype"></span><span id="index-10②"></span>
         <h5 data-level="3.2.8.3" id="tables③"><span>3.2.8.3. </span><span>Tables</span><a href="#tables③"></a></h5>
         <p>An <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external type</span></a> <span><span><span></span></span></span> matches <span><span><span></span></span></span> if and only if:</p>
         <ul>
          <li>
           <p>Limits <span><span><span></span></span></span> <a href="#match-limits"><span>match</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Both <span><span><span></span></span></span> and <span><span><span></span></span></span> are the same.</p>
         </li></ul>
         
        </section>
        <section id="memories②">
          <span id="match-memtype"></span><span id="index-11②"></span>
         <h5 data-level="3.2.8.4" id="memories③"><span>3.2.8.4. </span><span>Memories</span><a href="#memories③"></a></h5>
         <p>An <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external type</span></a> <span><span><span></span></span></span> matches <span><span><span></span></span></span> if and only if:</p>
         <ul>
          <li>
           <p>Limits <span><span><span></span></span></span> <a href="#match-limits"><span>match</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="globals②">
          <span id="match-globaltype"></span><span id="index-12"></span>
         <h5 data-level="3.2.8.5" id="globals③"><span>3.2.8.5. </span><span>Globals</span><a href="#globals③"></a></h5>
         <p>An <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external type</span></a> <span><span><span></span></span></span> matches <span><span><span></span></span></span> if and only if:</p>
         <ul>
          <li>
           <p>Both <span><span><span></span></span></span> and <span><span><span></span></span></span> are the same.</p>
         </li></ul>
         
        </section>
       </section>
      </section>
       <section id="instructions②">
        <span id="syntax-opdtype"></span><span id="syntax-stacktype"></span><span id="valid-instr"></span><span id="index-0⑨"></span>
       <h3 data-level="3.3" id="instructions③"><span>3.3. </span><span>Instructions</span><a href="#instructions③"></a></h3>
       <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr"><span>Instructions</span></a> are classified by <em>stack types</em> <span><span><span></span></span></span> that describe how instructions manipulate the <a href="https://www.w3.org/TR/wasm-core-2/index.html#stack"><span>operand stack</span></a>.</p>
       
       <p>The types describe the required input stack with <em>operand types</em> <span><span><span></span></span></span> that an instruction pops off
and the provided output stack with result values of types <span><span><span></span></span></span> that it pushes back.
Stack types are akin to <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function types</span></a>,
except that they allow individual operands to be classified as <span><span><span></span></span></span> (<em>bottom</em>), indicating that the type is unconstrained.
As an auxiliary notion, an operand type <span><span><span></span></span></span> <em>matches</em> another operand type <span><span><span></span></span></span>, if <span><span><span></span></span></span> is either <span><span><span></span></span></span> or equal to <span><span><span></span></span></span>.
This is extended to stack types in a point-wise manner.</p>
       
       
       <div role="note">
        <p>Note</p>
        <p>For example, the instruction <span><span><span></span></span></span> has type <span><span><span></span></span></span>,
consuming two <span><span><span></span></span></span> values and producing one.</p>
       </div>
       <p>Typing extends to <a href="#valid-instr-seq"><span>instruction sequences</span></a> <span><span><span></span></span></span>.
Such a sequence has a <a href="#syntax-stacktype"><span>stack type</span></a> <span><span><span></span></span></span> if the accumulative effect of executing the instructions is consuming values of types <span><span><span></span></span></span> off the operand stack and pushing new values of types <span><span><span></span></span></span>.</p>
       <p id="polymorphism">For some instructions, the typing rules do not fully constrain the type,
and therefore allow for multiple types.
Such instructions are called <em>polymorphic</em>.
Two degrees of polymorphism can be distinguished:</p>
       <ul>
        <li>
         <p><em>value-polymorphic</em>:
the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> of one or several individual operands is unconstrained.
That is the case for all <a href="#valid-instr-parametric"><span>parametric instructions</span></a> like <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
        </li><li>
         <p><em>stack-polymorphic</em>:
the entire (or most of the) <a href="#syntax-stacktype"><span>stack type</span></a> <span><span><span></span></span></span> of the instruction is unconstrained.
That is the case for all <a href="#valid-instr-control"><span>control instructions</span></a> that perform an <em>unconditional control transfer</em>, such as <span><span><span></span></span></span>, <span><span><span></span></span></span>, <span><span><span></span></span></span>, and <span><span><span></span></span></span>.</p>
       </li></ul>
       <p>In both cases, the unconstrained types or type sequences can be chosen arbitrarily, as long as they meet the constraints imposed for the surrounding parts of the program.</p>
       <div role="note">
        <p>Note</p>
        <p>For example, the <span><span><span></span></span></span> instruction is valid with type <span><span><span></span></span></span>, for any possible <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-numtype"><span>number type</span></a> <span><span><span></span></span></span>.   Consequently, both instruction sequences</p>
        
        <p>and</p>
        
        <p>are valid, with <span><span><span></span></span></span> in the typing of <span><span><span></span></span></span> being instantiated to <span><span><span></span></span></span> or <span><span><span></span></span></span>, respectively.</p>
        <p>The <span><span><span></span></span></span> instruction is valid with type <span><span><span></span></span></span> for any possible sequences of <a href="#syntax-opdtype"><span>operand types</span></a> <span><span><span></span></span></span> and <span><span><span></span></span></span>.
Consequently,</p>
        
        <p>is valid by assuming type <span><span><span></span></span></span> for the <span><span><span></span></span></span> instruction.
In contrast,</p>
        
        <p>is invalid, because there is no possible type to pick for the <span><span><span></span></span></span> instruction that would make the sequence well-typed.</p>
       </div>
       <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#algo-valid"><span>Appendix</span></a> describes a type checking <a href="https://www.w3.org/TR/wasm-core-2/index.html#algo-valid"><span>algorithm</span></a> that efficiently implements validation of instruction sequences as prescribed by the rules given here.</p>
       <section id="numeric-instructions②">
         <span id="valid-instr-numeric"></span><span id="index-1⑨"></span>
        <h4 data-level="3.3.1" id="numeric-instructions③"><span>3.3.1. </span><span>Numeric Instructions</span><a href="#numeric-instructions③"></a></h4>
        <section id="t-mathsf-xref-syntax-instructions-syntax-instr-numeric-mathsf-const-c">
          <span id="valid-const"></span>
         <h5 data-level="3.3.1.1" id="-tmathsfhrefsyntax-instr-numericmathsfconstc"><span>3.3.1.1. </span><span><span><span><span></span></span></span></span><a href="#-tmathsfhrefsyntax-instr-numericmathsfconstc"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="t-mathsf-xref-syntax-instructions-syntax-unop-mathit-unop">
          <span id="valid-unop"></span>
         <h5 data-level="3.3.1.2" id="-tmathsfhrefsyntax-unopmathitunop"><span>3.3.1.2. </span><span><span><span><span></span></span></span></span><a href="#-tmathsfhrefsyntax-unopmathitunop"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="t-mathsf-xref-syntax-instructions-syntax-binop-mathit-binop">
          <span id="valid-binop"></span>
         <h5 data-level="3.3.1.3" id="-tmathsfhrefsyntax-binopmathitbinop"><span>3.3.1.3. </span><span><span><span><span></span></span></span></span><a href="#-tmathsfhrefsyntax-binopmathitbinop"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="t-mathsf-xref-syntax-instructions-syntax-testop-mathit-testop">
          <span id="valid-testop"></span>
         <h5 data-level="3.3.1.4" id="-tmathsfhrefsyntax-testopmathittestop"><span>3.3.1.4. </span><span><span><span><span></span></span></span></span><a href="#-tmathsfhrefsyntax-testopmathittestop"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="t-mathsf-xref-syntax-instructions-syntax-relop-mathit-relop">
          <span id="valid-relop"></span>
         <h5 data-level="3.3.1.5" id="-tmathsfhrefsyntax-relopmathitrelop"><span>3.3.1.5. </span><span><span><span><span></span></span></span></span><a href="#-tmathsfhrefsyntax-relopmathitrelop"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="t-2-mathsf-xref-syntax-instructions-syntax-cvtop-mathit-cvtop-mathsf-t-1-mathsf-xref-syntax-instructions-syntax-sx-mathit-sx">
          <span id="valid-cvtop"></span>
         <h5 data-level="3.3.1.6" id="-t_2mathsfhrefsyntax-cvtopmathitcvtopmathsf_t_1mathsf_hrefsyntax-sxmathitsx"><span>3.3.1.6. </span><span><span><span><span></span></span></span></span><a href="#-t_2mathsfhrefsyntax-cvtopmathitcvtopmathsf_t_1mathsf_hrefsyntax-sxmathitsx"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="reference-instructions②">
         <span id="valid-instr-ref"></span><span id="index-2⑧"></span>
        <h4 data-level="3.3.2" id="reference-instructions③"><span>3.3.2. </span><span>Reference Instructions</span><a href="#reference-instructions③"></a></h4>
        <section id="xref-syntax-instructions-syntax-instr-ref-mathsf-ref-null-t">
          <span id="valid-ref-null"></span>
         <h5 data-level="3.3.2.1" id="-hrefsyntax-instr-refmathsfrefnullt"><span>3.3.2.1. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-refmathsfrefnullt"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
         <div role="note">
          <p>Note</p>
          <p>In future versions of WebAssembly, there may be reference types for which no null reference is allowed.</p>
         </div>
        </section>
        <section id="xref-syntax-instructions-syntax-instr-ref-mathsf-ref-is-null">
          <span id="valid-ref-is-null"></span>
         <h5 data-level="3.3.2.2" id="-hrefsyntax-instr-refmathsfrefis_null"><span>3.3.2.2. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-refmathsfrefis_null"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>, for any <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-ref-mathsf-ref-func-x">
          <span id="valid-ref-func"></span>
         <h5 data-level="3.3.2.3" id="-hrefsyntax-instr-refmathsfreffuncx"><span>3.3.2.3. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-refmathsfreffuncx"></a></h5>
         <ul>
          <li>
           <p>The function <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcidx"><span>function index</span></a> <span><span><span></span></span></span> must be contained in <span><span><span></span></span></span>.</p>
          </li><li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="vector-instructions②">
         <span id="aux-unpacked"></span><span id="valid-instr-vec"></span><span id="index-3⑤"></span>
        <h4 data-level="3.3.3" id="vector-instructions③"><span>3.3.3. </span><span>Vector Instructions</span><a href="#vector-instructions③"></a></h4>
        <p>Vector instructions can have a prefix to describe the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-vec-shape"><span>shape</span></a> of the operand. Packed numeric types, <span><span><span></span></span></span> and <span><span><span></span></span></span>, are not <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value types</span></a>. An auxiliary function maps such packed type shapes to value types:</p>
        
        <p>The following auxiliary function denotes the number of lanes in a vector shape, i.e., its <em>dimension</em>:</p>
        
        <section id="xref-syntax-types-syntax-valtype-mathsf-v128-mathsf-xref-syntax-instructions-syntax-instr-vec-mathsf-const-c">
          <span id="valid-vconst"></span>
         <h5 data-level="3.3.3.1" id="-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-instr-vecmathsfconstc"><span>3.3.3.1. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-instr-vecmathsfconstc"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-types-syntax-valtype-mathsf-v128-mathsf-xref-syntax-instructions-syntax-vvunop-mathit-vvunop">
          <span id="valid-vvunop"></span>
         <h5 data-level="3.3.3.2" id="-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-vvunopmathitvvunop"><span>3.3.3.2. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-vvunopmathitvvunop"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-types-syntax-valtype-mathsf-v128-mathsf-xref-syntax-instructions-syntax-vvbinop-mathit-vvbinop">
          <span id="valid-vvbinop"></span>
         <h5 data-level="3.3.3.3" id="-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-vvbinopmathitvvbinop"><span>3.3.3.3. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-vvbinopmathitvvbinop"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-types-syntax-valtype-mathsf-v128-mathsf-xref-syntax-instructions-syntax-vvternop-mathit-vvternop">
          <span id="valid-vvternop"></span>
         <h5 data-level="3.3.3.4" id="-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-vvternopmathitvvternop"><span>3.3.3.4. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-vvternopmathitvvternop"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-types-syntax-valtype-mathsf-v128-mathsf-xref-syntax-instructions-syntax-vvtestop-mathit-vvtestop">
          <span id="valid-vvtestop"></span>
         <h5 data-level="3.3.3.5" id="-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-vvtestopmathitvvtestop"><span>3.3.3.5. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-vvtestopmathitvvtestop"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="mathsf-i8x16-xref-syntax-instructions-syntax-instr-vec-mathsf-swizzle">
          <span id="valid-vec-swizzle"></span>
         <h5 data-level="3.3.3.6" id="-mathsfi8x16hrefsyntax-instr-vecmathsfswizzle"><span>3.3.3.6. </span><span><span><span><span></span></span></span></span><a href="#-mathsfi8x16hrefsyntax-instr-vecmathsfswizzle"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="mathsf-i8x16-xref-syntax-instructions-syntax-instr-vec-mathsf-shuffle-xref-syntax-instructions-syntax-laneidx-mathit-laneidx-16">
          <span id="valid-vec-shuffle"></span>
         <h5 data-level="3.3.3.7" id="-mathsfi8x16hrefsyntax-instr-vecmathsfshufflehrefsyntax-laneidxmathitlaneidx16"><span>3.3.3.7. </span><span><span><span><span></span></span></span></span><a href="#-mathsfi8x16hrefsyntax-instr-vecmathsfshufflehrefsyntax-laneidxmathitlaneidx16"></a></h5>
         <ul>
          <li>
           <p>For all <span><span><span></span></span></span>, in <span><span><span></span></span></span>, <span><span><span></span></span></span> must be smaller than <span><span><span></span></span></span>.</p>
          </li><li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-shape-mathit-shape-mathsf-xref-syntax-instructions-syntax-instr-vec-mathsf-splat">
          <span id="valid-vec-splat"></span>
         <h5 data-level="3.3.3.8" id="-hrefsyntax-shapemathitshapemathsfhrefsyntax-instr-vecmathsfsplat"><span>3.3.3.8. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-shapemathitshapemathsfhrefsyntax-instr-vecmathsfsplat"></a></h5>
         <ul>
          <li>
           <p>Let <span><span><span></span></span></span> be <span><span><span></span></span></span>.</p>
          </li><li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        
        <section id="xref-syntax-instructions-syntax-shape-mathit-shape-mathsf-xref-syntax-instructions-syntax-instr-vec-mathsf-replace-lane-xref-syntax-instructions-syntax-laneidx-mathit-laneidx">
          <span id="valid-vec-replace-lane"></span>
         <h5 data-level="3.3.3.10" id="-hrefsyntax-shapemathitshapemathsfhrefsyntax-instr-vecmathsfreplace_lanehrefsyntax-laneidxmathitlaneidx"><span>3.3.3.10. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-shapemathitshapemathsfhrefsyntax-instr-vecmathsfreplace_lanehrefsyntax-laneidxmathitlaneidx"></a></h5>
         <ul>
          <li>
           <p>The lane index <span><span><span></span></span></span> must be smaller than <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be <span><span><span></span></span></span>.</p>
          </li><li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-shape-mathit-shape-mathsf-xref-syntax-instructions-syntax-vunop-mathit-vunop">
          <span id="valid-vunop"></span>
         <h5 data-level="3.3.3.11" id="-hrefsyntax-shapemathitshapemathsfhrefsyntax-vunopmathitvunop"><span>3.3.3.11. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-shapemathitshapemathsfhrefsyntax-vunopmathitvunop"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-shape-mathit-shape-mathsf-xref-syntax-instructions-syntax-vbinop-mathit-vbinop">
          <span id="valid-vbinop"></span>
         <h5 data-level="3.3.3.12" id="-hrefsyntax-shapemathitshapemathsfhrefsyntax-vbinopmathitvbinop"><span>3.3.3.12. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-shapemathitshapemathsfhrefsyntax-vbinopmathitvbinop"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-shape-mathit-shape-mathsf-xref-syntax-instructions-syntax-vrelop-mathit-vrelop">
          <span id="valid-vrelop"></span>
         <h5 data-level="3.3.3.13" id="-hrefsyntax-shapemathitshapemathsfhrefsyntax-vrelopmathitvrelop"><span>3.3.3.13. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-shapemathitshapemathsfhrefsyntax-vrelopmathitvrelop"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-shape-mathit-ishape-mathsf-xref-syntax-instructions-syntax-vishiftop-mathit-vishiftop">
          <span id="valid-vishiftop"></span>
         <h5 data-level="3.3.3.14" id="-hrefsyntax-shapemathitishapemathsfhrefsyntax-vishiftopmathitvishiftop"><span>3.3.3.14. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-shapemathitishapemathsfhrefsyntax-vishiftopmathitvishiftop"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-shape-mathit-shape-mathsf-xref-syntax-instructions-syntax-vtestop-mathit-vtestop">
          <span id="valid-vtestop"></span>
         <h5 data-level="3.3.3.15" id="-hrefsyntax-shapemathitshapemathsfhrefsyntax-vtestopmathitvtestop"><span>3.3.3.15. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-shapemathitshapemathsfhrefsyntax-vtestopmathitvtestop"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-shape-mathit-shape-mathsf-xref-syntax-instructions-syntax-vcvtop-mathit-vcvtop-mathsf-xref-syntax-instructions-syntax-half-mathit-half-mathsf-xref-syntax-instructions-syntax-shape-mathit-shape-mathsf-xref-syntax-instructions-syntax-sx-mathit-sx-mathsf-zero">
          <span id="valid-vcvtop"></span>
         <h5 data-level="3.3.3.16" id="-hrefsyntax-shapemathitshapemathsfhrefsyntax-vcvtopmathitvcvtopmathsf_hrefsyntax-halfmathithalfmathsf_hrefsyntax-shapemathitshapemathsf_hrefsyntax-sxmathitsxmathsf_zero"><span>3.3.3.16. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-shapemathitshapemathsfhrefsyntax-vcvtopmathitvcvtopmathsf_hrefsyntax-halfmathithalfmathsf_hrefsyntax-shapemathitshapemathsf_hrefsyntax-sxmathitsxmathsf_zero"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-shape-mathit-ishape-1-mathsf-xref-syntax-instructions-syntax-instr-vec-mathsf-narrow-mathsf-xref-syntax-instructions-syntax-shape-mathit-ishape-2-mathsf-xref-syntax-instructions-syntax-sx-mathit-sx">
          <span id="valid-vec-narrow"></span>
         <h5 data-level="3.3.3.17" id="-hrefsyntax-shapemathitishape_1mathsfhrefsyntax-instr-vecmathsfnarrowmathsf_hrefsyntax-shapemathitishape_2mathsf_hrefsyntax-sxmathitsx"><span>3.3.3.17. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-shapemathitishape_1mathsfhrefsyntax-instr-vecmathsfnarrowmathsf_hrefsyntax-shapemathitishape_2mathsf_hrefsyntax-sxmathitsx"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-shape-mathit-ishape-mathsf-xref-syntax-instructions-syntax-instr-vec-mathsf-bitmask">
          <span id="valid-vec-bitmask"></span>
         <h5 data-level="3.3.3.18" id="-hrefsyntax-shapemathitishapemathsfhrefsyntax-instr-vecmathsfbitmask"><span>3.3.3.18. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-shapemathitishapemathsfhrefsyntax-instr-vecmathsfbitmask"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-shape-mathit-ishape-1-mathsf-xref-syntax-instructions-syntax-instr-vec-mathsf-dot-mathsf-xref-syntax-instructions-syntax-shape-mathit-ishape-2-mathsf-s">
          <span id="valid-vec-dot"></span>
         <h5 data-level="3.3.3.19" id="-hrefsyntax-shapemathitishape_1mathsfhrefsyntax-instr-vecmathsfdotmathsf_hrefsyntax-shapemathitishape_2mathsf_s"><span>3.3.3.19. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-shapemathitishape_1mathsfhrefsyntax-instr-vecmathsfdotmathsf_hrefsyntax-shapemathitishape_2mathsf_s"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-shape-mathit-ishape-1-mathsf-xref-syntax-instructions-syntax-instr-vec-mathsf-extmul-mathsf-xref-syntax-instructions-syntax-half-mathit-half-mathsf-xref-syntax-instructions-syntax-shape-mathit-ishape-2-mathsf-xref-syntax-instructions-syntax-sx-mathit-sx">
          <span id="valid-vec-extmul"></span>
         <h5 data-level="3.3.3.20" id="-hrefsyntax-shapemathitishape_1mathsfhrefsyntax-instr-vecmathsfextmulmathsf_hrefsyntax-halfmathithalfmathsf_hrefsyntax-shapemathitishape_2mathsf_hrefsyntax-sxmathitsx"><span>3.3.3.20. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-shapemathitishape_1mathsfhrefsyntax-instr-vecmathsfextmulmathsf_hrefsyntax-halfmathithalfmathsf_hrefsyntax-shapemathitishape_2mathsf_hrefsyntax-sxmathitsx"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-shape-mathit-ishape-1-mathsf-xref-syntax-instructions-syntax-instr-vec-mathsf-extadd-pairwise-mathsf-xref-syntax-instructions-syntax-shape-mathit-ishape-2-mathsf-xref-syntax-instructions-syntax-sx-mathit-sx">
          <span id="valid-vec-extadd-pairwise"></span>
         <h5 data-level="3.3.3.21" id="-hrefsyntax-shapemathitishape_1mathsfhrefsyntax-instr-vecmathsfextadd_pairwisemathsf_hrefsyntax-shapemathitishape_2mathsf_hrefsyntax-sxmathitsx"><span>3.3.3.21. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-shapemathitishape_1mathsfhrefsyntax-instr-vecmathsfextadd_pairwisemathsf_hrefsyntax-shapemathitishape_2mathsf_hrefsyntax-sxmathitsx"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="parametric-instructions②">
         <span id="valid-instr-parametric"></span><span id="index-4⑤"></span>
        <h4 data-level="3.3.4" id="parametric-instructions③"><span>3.3.4. </span><span>Parametric Instructions</span><a href="#parametric-instructions③"></a></h4>
        <section id="xref-syntax-instructions-syntax-instr-parametric-mathsf-drop">
          <span id="valid-drop"></span>
         <h5 data-level="3.3.4.1" id="-hrefsyntax-instr-parametricmathsfdrop"><span>3.3.4.1. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-parametricmathsfdrop"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>, for any <a href="#syntax-opdtype"><span>operand type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
         <div role="note">
          <p>Note</p>
          <p>Both <span><span><span></span></span></span> and <span><span><span></span></span></span> without annotation are <a href="#polymorphism"><span>value-polymorphic</span></a> instructions.</p>
         </div>
        </section>
        <section id="xref-syntax-instructions-syntax-instr-parametric-mathsf-select-t-ast">
          <span id="valid-select"></span>
         <h5 data-level="3.3.4.2" id="-hrefsyntax-instr-parametricmathsfselect-tast"><span>3.3.4.2. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-parametricmathsfselect-tast"></a></h5>
         <ul>
          <li>
           <p>If <span><span><span></span></span></span> is present, then:</p>
           <ul>
            <li>
             <p>The length of <span><span><span></span></span></span> must be <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
           </li></ul>
          </li><li>
           <p>Else:</p>
           <ul>
            <li>
             <p>The instruction is valid with type <span><span><span></span></span></span>, for any <a href="#syntax-opdtype"><span>operand type</span></a> <span><span><span></span></span></span> that <a href="#match-opdtype"><span>matches</span></a> some <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-numtype"><span>number type</span></a> or <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-vectype"><span>vector type</span></a>.</p>
           </li></ul>
         </li></ul>
         
         <div role="note">
          <p>Note</p>
          <p>In future versions of WebAssembly, <span><span><span></span></span></span> may allow more than one value per choice.</p>
         </div>
        </section>
       </section>
       <section id="variable-instructions②">
         <span id="valid-instr-variable"></span><span id="index-5⑤"></span>
        <h4 data-level="3.3.5" id="variable-instructions③"><span>3.3.5. </span><span>Variable Instructions</span><a href="#variable-instructions③"></a></h4>
        <section id="xref-syntax-instructions-syntax-instr-variable-mathsf-local-get-x">
          <span id="valid-local-get"></span>
         <h5 data-level="3.3.5.1" id="-hrefsyntax-instr-variablemathsflocalgetx"><span>3.3.5.1. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-variablemathsflocalgetx"></a></h5>
         <ul>
          <li>
           <p>The local <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-variable-mathsf-local-set-x">
          <span id="valid-local-set"></span>
         <h5 data-level="3.3.5.2" id="-hrefsyntax-instr-variablemathsflocalsetx"><span>3.3.5.2. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-variablemathsflocalsetx"></a></h5>
         <ul>
          <li>
           <p>The local <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-variable-mathsf-local-tee-x">
          <span id="valid-local-tee"></span>
         <h5 data-level="3.3.5.3" id="-hrefsyntax-instr-variablemathsflocalteex"><span>3.3.5.3. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-variablemathsflocalteex"></a></h5>
         <ul>
          <li>
           <p>The local <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-variable-mathsf-global-get-x">
          <span id="valid-global-get"></span>
         <h5 data-level="3.3.5.4" id="-hrefsyntax-instr-variablemathsfglobalgetx"><span>3.3.5.4. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-variablemathsfglobalgetx"></a></h5>
         <ul>
          <li>
           <p>The global <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaltype"><span>global type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-variable-mathsf-global-set-x">
          <span id="valid-global-set"></span>
         <h5 data-level="3.3.5.5" id="-hrefsyntax-instr-variablemathsfglobalsetx"><span>3.3.5.5. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-variablemathsfglobalsetx"></a></h5>
         <ul>
          <li>
           <p>The global <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaltype"><span>global type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>The mutability <span><span><span></span></span></span> must be <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="table-instructions②">
         <span id="valid-instr-table"></span><span id="index-6④"></span>
        <h4 data-level="3.3.6" id="table-instructions③"><span>3.3.6. </span><span>Table Instructions</span><a href="#table-instructions③"></a></h4>
        <section id="xref-syntax-instructions-syntax-instr-table-mathsf-table-get-x">
          <span id="valid-table-get"></span>
         <h5 data-level="3.3.6.1" id="-hrefsyntax-instr-tablemathsftablegetx"><span>3.3.6.1. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-tablemathsftablegetx"></a></h5>
         <ul>
          <li>
           <p>The table <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-table-mathsf-table-set-x">
          <span id="valid-table-set"></span>
         <h5 data-level="3.3.6.2" id="-hrefsyntax-instr-tablemathsftablesetx"><span>3.3.6.2. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-tablemathsftablesetx"></a></h5>
         <ul>
          <li>
           <p>The table <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-table-mathsf-table-size-x">
          <span id="valid-table-size"></span>
         <h5 data-level="3.3.6.3" id="-hrefsyntax-instr-tablemathsftablesizex"><span>3.3.6.3. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-tablemathsftablesizex"></a></h5>
         <ul>
          <li>
           <p>The table <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-table-mathsf-table-grow-x">
          <span id="valid-table-grow"></span>
         <h5 data-level="3.3.6.4" id="-hrefsyntax-instr-tablemathsftablegrowx"><span>3.3.6.4. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-tablemathsftablegrowx"></a></h5>
         <ul>
          <li>
           <p>The table <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-table-mathsf-table-fill-x">
          <span id="valid-table-fill"></span>
         <h5 data-level="3.3.6.5" id="-hrefsyntax-instr-tablemathsftablefillx"><span>3.3.6.5. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-tablemathsftablefillx"></a></h5>
         <ul>
          <li>
           <p>The table <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-table-mathsf-table-copy-x-y">
          <span id="valid-table-copy"></span>
         <h5 data-level="3.3.6.6" id="-hrefsyntax-instr-tablemathsftablecopyxy"><span>3.3.6.6. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-tablemathsftablecopyxy"></a></h5>
         <ul>
          <li>
           <p>The table <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>The table <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference type</span></a> <span><span><span></span></span></span> must be the same as <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-table-mathsf-table-init-x-y">
          <span id="valid-table-init"></span>
         <h5 data-level="3.3.6.7" id="-hrefsyntax-instr-tablemathsftableinitxy"><span>3.3.6.7. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-tablemathsftableinitxy"></a></h5>
         <ul>
          <li>
           <p>The table <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>The element segment <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference type</span></a> <span><span><span></span></span></span> must be the same as <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-table-mathsf-elem-drop-x">
          <span id="valid-elem-drop"></span>
         <h5 data-level="3.3.6.8" id="-hrefsyntax-instr-tablemathsfelemdropx"><span>3.3.6.8. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-tablemathsfelemdropx"></a></h5>
         <ul>
          <li>
           <p>The element segment <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="memory-instructions②">
         <span id="valid-instr-memory"></span><span id="valid-memarg"></span><span id="index-7④"></span>
        <h4 data-level="3.3.7" id="memory-instructions③"><span>3.3.7. </span><span>Memory Instructions</span><a href="#memory-instructions③"></a></h4>
        <section id="t-mathsf-xref-syntax-instructions-syntax-instr-memory-mathsf-load-xref-syntax-instructions-syntax-memarg-mathit-memarg">
          <span id="valid-load"></span>
         <h5 data-level="3.3.7.1" id="-tmathsfhrefsyntax-instr-memorymathsfloadhrefsyntax-memargmathitmemarg"><span>3.3.7.1. </span><span><span><span><span></span></span></span></span><a href="#-tmathsfhrefsyntax-instr-memorymathsfloadhrefsyntax-memargmathitmemarg"></a></h5>
         <ul>
          <li>
           <p>The memory <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>The alignment <span><span><span></span></span></span> must not be larger than the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-numtype"><span>bit width</span></a> of <span><span><span></span></span></span> divided by <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="t-mathsf-xref-syntax-instructions-syntax-instr-memory-mathsf-load-n-mathsf-xref-syntax-instructions-syntax-sx-mathit-sx-xref-syntax-instructions-syntax-memarg-mathit-memarg">
          <span id="valid-loadn"></span>
         <h5 data-level="3.3.7.2" id="-tmathsfhrefsyntax-instr-memorymathsfloadnmathsf_hrefsyntax-sxmathitsxhrefsyntax-memargmathitmemarg"><span>3.3.7.2. </span><span><span><span><span></span></span></span></span><a href="#-tmathsfhrefsyntax-instr-memorymathsfloadnmathsf_hrefsyntax-sxmathitsxhrefsyntax-memargmathitmemarg"></a></h5>
         <ul>
          <li>
           <p>The memory <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>The alignment <span><span><span></span></span></span> must not be larger than <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="t-mathsf-xref-syntax-instructions-syntax-instr-memory-mathsf-store-xref-syntax-instructions-syntax-memarg-mathit-memarg">
         <h5 data-level="3.3.7.3" id="-tmathsfhrefsyntax-instr-memorymathsfstorehrefsyntax-memargmathitmemarg"><span>3.3.7.3. </span><span><span><span><span></span></span></span></span><a href="#-tmathsfhrefsyntax-instr-memorymathsfstorehrefsyntax-memargmathitmemarg"></a></h5>
         <ul>
          <li>
           <p>The memory <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>The alignment <span><span><span></span></span></span> must not be larger than the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-numtype"><span>bit width</span></a> of <span><span><span></span></span></span> divided by <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="t-mathsf-xref-syntax-instructions-syntax-instr-memory-mathsf-store-n-xref-syntax-instructions-syntax-memarg-mathit-memarg">
          <span id="valid-storen"></span>
         <h5 data-level="3.3.7.4" id="-tmathsfhrefsyntax-instr-memorymathsfstorenhrefsyntax-memargmathitmemarg"><span>3.3.7.4. </span><span><span><span><span></span></span></span></span><a href="#-tmathsfhrefsyntax-instr-memorymathsfstorenhrefsyntax-memargmathitmemarg"></a></h5>
         <ul>
          <li>
           <p>The memory <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>The alignment <span><span><span></span></span></span> must not be larger than <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="mathsf-v128-xref-syntax-instructions-syntax-instr-memory-mathsf-load-n-mathsf-x-m-xref-syntax-instructions-syntax-sx-mathit-sx-xref-syntax-instructions-syntax-memarg-mathit-memarg">
          <span id="valid-load-extend"></span>
         <h5 data-level="3.3.7.5" id="-mathsfv128hrefsyntax-instr-memorymathsfloadnmathsfxm_hrefsyntax-sxmathitsxhrefsyntax-memargmathitmemarg"><span>3.3.7.5. </span><span><span><span><span></span></span></span></span><a href="#-mathsfv128hrefsyntax-instr-memorymathsfloadnmathsfxm_hrefsyntax-sxmathitsxhrefsyntax-memargmathitmemarg"></a></h5>
         <ul>
          <li>
           <p>The memory <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>The alignment <span><span><span></span></span></span> must not be larger than <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="mathsf-v128-xref-syntax-instructions-syntax-instr-memory-mathsf-load-n-mathsf-splat-xref-syntax-instructions-syntax-memarg-mathit-memarg">
          <span id="valid-load-splat"></span>
         <h5 data-level="3.3.7.6" id="-mathsfv128hrefsyntax-instr-memorymathsfloadnmathsf_splathrefsyntax-memargmathitmemarg"><span>3.3.7.6. </span><span><span><span><span></span></span></span></span><a href="#-mathsfv128hrefsyntax-instr-memorymathsfloadnmathsf_splathrefsyntax-memargmathitmemarg"></a></h5>
         <ul>
          <li>
           <p>The memory <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>The alignment <span><span><span></span></span></span> must not be larger than <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="mathsf-v128-xref-syntax-instructions-syntax-instr-memory-mathsf-load-n-mathsf-zero-xref-syntax-instructions-syntax-memarg-mathit-memarg">
          <span id="valid-load-zero"></span>
         <h5 data-level="3.3.7.7" id="-mathsfv128hrefsyntax-instr-memorymathsfloadnmathsf_zerohrefsyntax-memargmathitmemarg"><span>3.3.7.7. </span><span><span><span><span></span></span></span></span><a href="#-mathsfv128hrefsyntax-instr-memorymathsfloadnmathsf_zerohrefsyntax-memargmathitmemarg"></a></h5>
         <ul>
          <li>
           <p>The memory <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>The alignment <span><span><span></span></span></span> must not be larger than <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="mathsf-v128-xref-syntax-instructions-syntax-instr-memory-mathsf-load-n-mathsf-lane-xref-syntax-instructions-syntax-memarg-mathit-memarg-xref-syntax-instructions-syntax-laneidx-mathit-laneidx">
          <span id="valid-load-lane"></span>
         <h5 data-level="3.3.7.8" id="-mathsfv128hrefsyntax-instr-memorymathsfloadnmathsf_lanehrefsyntax-memargmathitmemarghrefsyntax-laneidxmathitlaneidx"><span>3.3.7.8. </span><span><span><span><span></span></span></span></span><a href="#-mathsfv128hrefsyntax-instr-memorymathsfloadnmathsf_lanehrefsyntax-memargmathitmemarghrefsyntax-laneidxmathitlaneidx"></a></h5>
         <ul>
          <li>
           <p>The lane index <span><span><span></span></span></span> must be smaller than <span><span><span></span></span></span>.</p>
          </li><li>
           <p>The memory <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>The alignment <span><span><span></span></span></span> must not be larger than <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="mathsf-v128-xref-syntax-instructions-syntax-instr-memory-mathsf-store-n-mathsf-lane-xref-syntax-instructions-syntax-memarg-mathit-memarg-xref-syntax-instructions-syntax-laneidx-mathit-laneidx">
          <span id="valid-store-lane"></span>
         <h5 data-level="3.3.7.9" id="-mathsfv128hrefsyntax-instr-memorymathsfstorenmathsf_lanehrefsyntax-memargmathitmemarghrefsyntax-laneidxmathitlaneidx"><span>3.3.7.9. </span><span><span><span><span></span></span></span></span><a href="#-mathsfv128hrefsyntax-instr-memorymathsfstorenmathsf_lanehrefsyntax-memargmathitmemarghrefsyntax-laneidxmathitlaneidx"></a></h5>
         <ul>
          <li>
           <p>The lane index <span><span><span></span></span></span> must be smaller than <span><span><span></span></span></span>.</p>
          </li><li>
           <p>The memory <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>The alignment <span><span><span></span></span></span> must not be larger than <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-memory-mathsf-memory-size">
          <span id="valid-memory-size"></span>
         <h5 data-level="3.3.7.10" id="-hrefsyntax-instr-memorymathsfmemorysize"><span>3.3.7.10. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-memorymathsfmemorysize"></a></h5>
         <ul>
          <li>
           <p>The memory <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-memory-mathsf-memory-grow">
          <span id="valid-memory-grow"></span>
         <h5 data-level="3.3.7.11" id="-hrefsyntax-instr-memorymathsfmemorygrow"><span>3.3.7.11. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-memorymathsfmemorygrow"></a></h5>
         <ul>
          <li>
           <p>The memory <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-memory-mathsf-memory-fill">
          <span id="valid-memory-fill"></span>
         <h5 data-level="3.3.7.12" id="-hrefsyntax-instr-memorymathsfmemoryfill"><span>3.3.7.12. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-memorymathsfmemoryfill"></a></h5>
         <ul>
          <li>
           <p>The memory <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-memory-mathsf-memory-copy">
          <span id="valid-memory-copy"></span>
         <h5 data-level="3.3.7.13" id="-hrefsyntax-instr-memorymathsfmemorycopy"><span>3.3.7.13. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-memorymathsfmemorycopy"></a></h5>
         <ul>
          <li>
           <p>The memory <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-memory-mathsf-memory-init-x">
          <span id="valid-memory-init"></span>
         <h5 data-level="3.3.7.14" id="-hrefsyntax-instr-memorymathsfmemoryinitx"><span>3.3.7.14. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-memorymathsfmemoryinitx"></a></h5>
         <ul>
          <li>
           <p>The memory <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>The data segment <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-memory-mathsf-data-drop-x">
          <span id="valid-data-drop"></span>
         <h5 data-level="3.3.7.15" id="-hrefsyntax-instr-memorymathsfdatadropx"><span>3.3.7.15. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-memorymathsfdatadropx"></a></h5>
         <ul>
          <li>
           <p>The data segment <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="control-instructions②">
         <span id="valid-instr-control"></span><span id="valid-label"></span><span id="index-8④"></span>
        <h4 data-level="3.3.8" id="control-instructions③"><span>3.3.8. </span><span>Control Instructions</span><a href="#control-instructions③"></a></h4>
        <section id="xref-syntax-instructions-syntax-instr-control-mathsf-nop">
          <span id="valid-nop"></span>
         <h5 data-level="3.3.8.1" id="-hrefsyntax-instr-controlmathsfnop"><span>3.3.8.1. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-controlmathsfnop"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-control-mathsf-unreachable">
          <span id="valid-unreachable"></span>
         <h5 data-level="3.3.8.2" id="-hrefsyntax-instr-controlmathsfunreachable"><span>3.3.8.2. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-controlmathsfunreachable"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>, for any sequences of <a href="#syntax-opdtype"><span>operand types</span></a> <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
         </li></ul>
         
         <div role="note">
          <p>Note</p>
          <p>The <span><span><span></span></span></span> instruction is <a href="#polymorphism"><span>stack-polymorphic</span></a>.</p>
         </div>
        </section>
        <section id="xref-syntax-instructions-syntax-instr-control-mathsf-block-xref-syntax-instructions-syntax-blocktype-mathit-blocktype-xref-syntax-instructions-syntax-instr-mathit-instr-ast-xref-syntax-instructions-syntax-instr-control-mathsf-end">
          <span id="valid-block"></span>
         <h5 data-level="3.3.8.3" id="-hrefsyntax-instr-controlmathsfblockhrefsyntax-blocktypemathitblocktypehrefsyntax-instrmathitinstrasthrefsyntax-instr-controlmathsfend"><span>3.3.8.3. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-controlmathsfblockhrefsyntax-blocktypemathitblocktypehrefsyntax-instrmathitinstrasthrefsyntax-instr-controlmathsfend"></a></h5>
         <ul>
          <li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-blocktype"><span>block type</span></a> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-blocktype"><span>valid</span></a> as some <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the same <a href="https://www.w3.org/TR/wasm-core-2/index.html#context"><span>context</span></a> as <span><span><span></span></span></span>, but with the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result type</span></a> <span><span><span></span></span></span> prepended to the <span><span><span></span></span></span> vector.</p>
          </li><li>
           <p>Under context <span><span><span></span></span></span>,
the instruction sequence <span><span><span></span></span></span> must be <a href="#valid-instr-seq"><span>valid</span></a> with type <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the compound instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
         <div role="note">
          <p>Note</p>
          <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#notation-extend"><span>notation</span></a> <span><span><span></span></span></span> inserts the new label type at index <span><span><span></span></span></span>, shifting all others.</p>
         </div>
        </section>
        <section id="xref-syntax-instructions-syntax-instr-control-mathsf-loop-xref-syntax-instructions-syntax-blocktype-mathit-blocktype-xref-syntax-instructions-syntax-instr-mathit-instr-ast-xref-syntax-instructions-syntax-instr-control-mathsf-end">
          <span id="valid-loop"></span>
         <h5 data-level="3.3.8.4" id="-hrefsyntax-instr-controlmathsfloophrefsyntax-blocktypemathitblocktypehrefsyntax-instrmathitinstrasthrefsyntax-instr-controlmathsfend"><span>3.3.8.4. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-controlmathsfloophrefsyntax-blocktypemathitblocktypehrefsyntax-instrmathitinstrasthrefsyntax-instr-controlmathsfend"></a></h5>
         <ul>
          <li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-blocktype"><span>block type</span></a> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-blocktype"><span>valid</span></a> as some <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the same <a href="https://www.w3.org/TR/wasm-core-2/index.html#context"><span>context</span></a> as <span><span><span></span></span></span>, but with the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result type</span></a> <span><span><span></span></span></span> prepended to the <span><span><span></span></span></span> vector.</p>
          </li><li>
           <p>Under context <span><span><span></span></span></span>,
the instruction sequence <span><span><span></span></span></span> must be <a href="#valid-instr-seq"><span>valid</span></a> with type <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the compound instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
         <div role="note">
          <p>Note</p>
          <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#notation-extend"><span>notation</span></a> <span><span><span></span></span></span> inserts the new label type at index <span><span><span></span></span></span>, shifting all others.</p>
         </div>
        </section>
        <section id="xref-syntax-instructions-syntax-instr-control-mathsf-if-xref-syntax-instructions-syntax-blocktype-mathit-blocktype-xref-syntax-instructions-syntax-instr-mathit-instr-1-ast-xref-syntax-instructions-syntax-instr-control-mathsf-else-xref-syntax-instructions-syntax-instr-mathit-instr-2-ast-xref-syntax-instructions-syntax-instr-control-mathsf-end">
          <span id="valid-if"></span>
         <h5 data-level="3.3.8.5" id="-hrefsyntax-instr-controlmathsfifhrefsyntax-blocktypemathitblocktypehrefsyntax-instrmathitinstr_1asthrefsyntax-instr-controlmathsfelsehrefsyntax-instrmathitinstr_2asthrefsyntax-instr-controlmathsfend"><span>3.3.8.5. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-controlmathsfifhrefsyntax-blocktypemathitblocktypehrefsyntax-instrmathitinstr_1asthrefsyntax-instr-controlmathsfelsehrefsyntax-instrmathitinstr_2asthrefsyntax-instr-controlmathsfend"></a></h5>
         <ul>
          <li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-blocktype"><span>block type</span></a> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-blocktype"><span>valid</span></a> as some <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the same <a href="https://www.w3.org/TR/wasm-core-2/index.html#context"><span>context</span></a> as <span><span><span></span></span></span>, but with the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result type</span></a> <span><span><span></span></span></span> prepended to the <span><span><span></span></span></span> vector.</p>
          </li><li>
           <p>Under context <span><span><span></span></span></span>,
the instruction sequence <span><span><span></span></span></span> must be <a href="#valid-instr-seq"><span>valid</span></a> with type <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Under context <span><span><span></span></span></span>,
the instruction sequence <span><span><span></span></span></span> must be <a href="#valid-instr-seq"><span>valid</span></a> with type <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the compound instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
         <div role="note">
          <p>Note</p>
          <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#notation-extend"><span>notation</span></a> <span><span><span></span></span></span> inserts the new label type at index <span><span><span></span></span></span>, shifting all others.</p>
         </div>
        </section>
        <section id="xref-syntax-instructions-syntax-instr-control-mathsf-br-l">
          <span id="valid-br"></span>
         <h5 data-level="3.3.8.6" id="-hrefsyntax-instr-controlmathsfbrl"><span>3.3.8.6. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-controlmathsfbrl"></a></h5>
         <ul>
          <li>
           <p>The label <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>, for any sequences of <a href="#syntax-opdtype"><span>operand types</span></a> <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
         </li></ul>
         
         <div role="note">
          <p>Note</p>
          <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-labelidx"><span>label index</span></a> space in the <a href="https://www.w3.org/TR/wasm-core-2/index.html#context"><span>context</span></a> <span><span><span></span></span></span> contains the most recent label first, so that <span><span><span></span></span></span> performs a relative lookup as expected.</p>
          <p>The <span><span><span></span></span></span> instruction is <a href="#polymorphism"><span>stack-polymorphic</span></a>.</p>
         </div>
        </section>
        <section id="xref-syntax-instructions-syntax-instr-control-mathsf-br-if-l">
          <span id="valid-br-if"></span>
         <h5 data-level="3.3.8.7" id="-hrefsyntax-instr-controlmathsfbr_ifl"><span>3.3.8.7. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-controlmathsfbr_ifl"></a></h5>
         <ul>
          <li>
           <p>The label <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
         <div role="note">
          <p>Note</p>
          <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-labelidx"><span>label index</span></a> space in the <a href="https://www.w3.org/TR/wasm-core-2/index.html#context"><span>context</span></a> <span><span><span></span></span></span> contains the most recent label first, so that <span><span><span></span></span></span> performs a relative lookup as expected.</p>
         </div>
        </section>
        <section id="xref-syntax-instructions-syntax-instr-control-mathsf-br-table-l-ast-l-n">
          <span id="valid-br-table"></span>
         <h5 data-level="3.3.8.8" id="-hrefsyntax-instr-controlmathsfbr_tablelastl_n"><span>3.3.8.8. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-controlmathsfbr_tablelastl_n"></a></h5>
         <ul>
          <li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-label"><span>label</span></a> <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-label"><span>label</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span>,
the label <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>There must be a sequence <span><span><span></span></span></span> of <a href="#syntax-opdtype"><span>operand types</span></a>, such that:</p>
           <ul>
            <li>
             <p>The length of the sequence <span><span><span></span></span></span> is the same as the length of the sequence <span><span><span></span></span></span>.</p>
            </li><li>
             <p>For each <a href="#syntax-opdtype"><span>operand type</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span> and corresponding type <span><span><span></span></span></span> in <span><span><span></span></span></span>, <span><span><span></span></span></span> <a href="#match-opdtype"><span>matches</span></a> <span><span><span></span></span></span>.</p>
            </li><li>
             <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-label"><span>label</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span>:</p>
             <ul>
              <li>
               <p>The length of the sequence <span><span><span></span></span></span> is the same as the length of the sequence <span><span><span></span></span></span>.</p>
              </li><li>
               <p>For each <a href="#syntax-opdtype"><span>operand type</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span> and corresponding type <span><span><span></span></span></span> in <span><span><span></span></span></span>, <span><span><span></span></span></span> <a href="#match-opdtype"><span>matches</span></a> <span><span><span></span></span></span>.</p>
             </li></ul>
           </li></ul>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>, for any sequences of <a href="#syntax-opdtype"><span>operand types</span></a> <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
         </li></ul>
         
         <div role="note">
          <p>Note</p>
          <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-labelidx"><span>label index</span></a> space in the <a href="https://www.w3.org/TR/wasm-core-2/index.html#context"><span>context</span></a> <span><span><span></span></span></span> contains the most recent label first, so that <span><span><span></span></span></span> performs a relative lookup as expected.</p>
          <p>The <span><span><span></span></span></span> instruction is <a href="#polymorphism"><span>stack-polymorphic</span></a>.</p>
         </div>
        </section>
        <section id="xref-syntax-instructions-syntax-instr-control-mathsf-return">
          <span id="valid-return"></span>
         <h5 data-level="3.3.8.9" id="-hrefsyntax-instr-controlmathsfreturn"><span>3.3.8.9. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-controlmathsfreturn"></a></h5>
         <ul>
          <li>
           <p>The return type <span><span><span></span></span></span> must not be absent in the context.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result type</span></a> of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>, for any sequences of <a href="#syntax-opdtype"><span>operand types</span></a> <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
         </li></ul>
         
         <div role="note">
          <p>Note</p>
          <p>The <span><span><span></span></span></span> instruction is <a href="#polymorphism"><span>stack-polymorphic</span></a>.</p>
          <p><span><span><span></span></span></span> is absent (set to <span><span><span></span></span></span>) when validating an <a href="#valid-expr"><span>expression</span></a> that is not a function body.
This differs from it being set to the empty result type (<span><span><span></span></span></span>),
which is the case for functions not returning anything.</p>
         </div>
        </section>
        <section id="xref-syntax-instructions-syntax-instr-control-mathsf-call-x">
          <span id="valid-call"></span>
         <h5 data-level="3.3.8.10" id="-hrefsyntax-instr-controlmathsfcallx"><span>3.3.8.10. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-controlmathsfcallx"></a></h5>
         <ul>
          <li>
           <p>The function <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-control-mathsf-call-indirect-x-y">
          <span id="valid-call-indirect"></span>
         <h5 data-level="3.3.8.11" id="-hrefsyntax-instr-controlmathsfcall_indirectxy"><span>3.3.8.11. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-controlmathsfcall_indirectxy"></a></h5>
         <ul>
          <li>
           <p>The table <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference type</span></a> <span><span><span></span></span></span> must be <span><span><span></span></span></span>.</p>
          </li><li>
           <p>The type <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="instruction-sequences">
         <span id="valid-instr-seq"></span><span id="index-9④"></span>
        <h4 data-level="3.3.9" id="instruction-sequences①"><span>3.3.9. </span><span>Instruction Sequences</span><a href="#instruction-sequences①"></a></h4>
        <p>Typing of instruction sequences is defined recursively.</p>
        <section id="empty-instruction-sequence-epsilon">
         <h5 data-level="3.3.9.1" id="empty-instruction-sequence--epsilon"><span>3.3.9.1. </span><span>Empty Instruction Sequence: <span><span><span></span></span></span></span><a href="#empty-instruction-sequence--epsilon"></a></h5>
         <ul>
          <li>
           <p>The empty instruction sequence is valid with type <span><span><span></span></span></span>,
for any sequence of <a href="#syntax-opdtype"><span>operand types</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="non-empty-instruction-sequence-xref-syntax-instructions-syntax-instr-mathit-instr-ast-xref-syntax-instructions-syntax-instr-mathit-instr-n">
         <h5 data-level="3.3.9.2" id="non-empty-instruction-sequence--hrefsyntax-instrmathitinstrasthrefsyntax-instrmathitinstr_n"><span>3.3.9.2. </span><span>Non-empty Instruction Sequence: <span><span><span></span></span></span></span><a href="#non-empty-instruction-sequence--hrefsyntax-instrmathitinstrasthrefsyntax-instrmathitinstr_n"></a></h5>
         <ul>
          <li>
           <p>The instruction sequence <span><span><span></span></span></span> must be valid with type <span><span><span></span></span></span>,
for some sequences of <a href="#syntax-opdtype"><span>operand types</span></a> <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
          </li><li>
           <p>The instruction <span><span><span></span></span></span> must be valid with type <span><span><span></span></span></span>,
for some sequences of <a href="#syntax-opdtype"><span>operand types</span></a> <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
          </li><li>
           <p>There must be a sequence of <a href="#syntax-opdtype"><span>operand types</span></a> <span><span><span></span></span></span>,
such that <span><span><span></span></span></span> where the type sequence <span><span><span></span></span></span> is as long as <span><span><span></span></span></span>.</p>
          </li><li>
           <p>For each <a href="#syntax-opdtype"><span>operand type</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span> and corresponding type <span><span><span></span></span></span> in <span><span><span></span></span></span>, <span><span><span></span></span></span> <a href="#match-opdtype"><span>matches</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the combined instruction sequence is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="expressions②">
         <span id="valid-expr"></span><span id="index-10③"></span>
        <h4 data-level="3.3.10" id="expressions③"><span>3.3.10. </span><span>Expressions</span><a href="#expressions③"></a></h4>
        <p>Expressions <span><span><span></span></span></span> are classified by <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result types</span></a> of the form <span><span><span></span></span></span>.</p>
        <section id="xref-syntax-instructions-syntax-instr-mathit-instr-ast-xref-syntax-instructions-syntax-instr-control-mathsf-end">
         <h5 data-level="3.3.10.1" id="-hrefsyntax-instrmathitinstrasthrefsyntax-instr-controlmathsfend"><span>3.3.10.1. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instrmathitinstrasthrefsyntax-instr-controlmathsfend"></a></h5>
         <ul>
          <li>
           <p>The instruction sequence <span><span><span></span></span></span> must be <a href="#valid-instr-seq"><span>valid</span></a> with some <a href="#syntax-stacktype"><span>stack type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>For each <a href="#syntax-opdtype"><span>operand type</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span> and corresponding <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span>, <span><span><span></span></span></span> <a href="#match-opdtype"><span>matches</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the expression is valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="constant-expressions">
          <span id="valid-constant"></span><span id="index-11③"></span>
         <h5 data-level="3.3.10.2" id="constant-expressions①"><span>3.3.10.2. </span><span>Constant Expressions</span><a href="#constant-expressions①"></a></h5>
         <ul>
          <li>
           <p>In a <em>constant</em> expression <span><span><span></span></span></span> all instructions in <span><span><span></span></span></span> must be constant.</p>
          </li><li>
           <p>A constant instruction <span><span><span></span></span></span> must be:</p>
           <ul>
            <li>
             <p>either of the form <span><span><span></span></span></span>,</p>
            </li><li>
             <p>or of the form <span><span><span></span></span></span>,</p>
            </li><li>
             <p>or of the form <span><span><span></span></span></span>,</p>
            </li><li>
             <p>or of the form <span><span><span></span></span></span>, in which case <span><span><span></span></span></span> must be a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaltype"><span>global type</span></a> of the form <span><span><span></span></span></span>.</p>
           </li></ul>
         </li></ul>
         
         
         
         <div role="note">
          <p>Note</p>
          <p>Currently, constant expressions occurring in <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-global"><span>globals</span></a>, <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elem"><span>element</span></a>, or <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-data"><span>data</span></a> segments are further constrained in that contained <span><span><span></span></span></span> instructions are only allowed to refer to <em>imported</em> globals.
This is enforced in the <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-module"><span>validation rule for modules</span></a> by constraining the context <span><span><span></span></span></span> accordingly.</p>
          <p>The definition of constant expression may be extended in future versions of WebAssembly.</p>
         </div>
        </section>
       </section>
      </section>
       <section id="modules②">
       <h3 data-level="3.4" id="modules③"><span>3.4. </span><span>Modules</span><a href="#modules③"></a></h3>
       <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>Modules</span></a> are valid when all the components they contain are valid.
Furthermore, most definitions are themselves classified with a suitable type.</p>
       <section id="functions④">
         <span id="valid-func"></span><span id="valid-local"></span><span id="index-0①⓪"></span>
        <h4 data-level="3.4.1" id="functions⑤"><span>3.4.1. </span><span>Functions</span><a href="#functions⑤"></a></h4>
        <p>Functions <span><span><span></span></span></span> are classified by <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function types</span></a> of the form <span><span><span></span></span></span>.</p>
        <section id="xref-syntax-modules-syntax-func-mathsf-type-x-xref-syntax-modules-syntax-func-mathsf-locals-t-ast-xref-syntax-modules-syntax-func-mathsf-body-xref-syntax-instructions-syntax-expr-mathit-expr">
         <h5 data-level="3.4.1.1" id="--hrefsyntax-funcmathsftypex-hrefsyntax-funcmathsflocalstast-hrefsyntax-funcmathsfbodyhrefsyntax-exprmathitexpr"><span>3.4.1.1. </span><span><span><span><span></span></span></span></span><a href="#--hrefsyntax-funcmathsftypex-hrefsyntax-funcmathsflocalstast-hrefsyntax-funcmathsfbodyhrefsyntax-exprmathitexpr"></a></h5>
         <ul>
          <li>
           <p>The type <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the same <a href="https://www.w3.org/TR/wasm-core-2/index.html#context"><span>context</span></a> as <span><span><span></span></span></span>,
but with:</p>
           <ul>
            <li>
             <p><span><span><span></span></span></span> set to the sequence of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value types</span></a> <span><span><span></span></span></span>, concatenating parameters and locals,</p>
            </li><li>
             <p><span><span><span></span></span></span> set to the singular sequence containing only <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result type</span></a> <span><span><span></span></span></span>.</p>
            </li><li>
             <p><span><span><span></span></span></span> set to the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result type</span></a> <span><span><span></span></span></span>.</p>
           </li></ul>
          </li><li>
           <p>Under the context <span><span><span></span></span></span>,
the expression <span><span><span></span></span></span> must be valid with type <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the function definition is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="tables④">
         <span id="valid-table"></span><span id="index-1①⓪"></span>
        <h4 data-level="3.4.2" id="tables⑤"><span>3.4.2. </span><span>Tables</span><a href="#tables⑤"></a></h4>
        <p>Tables <span><span><span></span></span></span> are classified by <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table types</span></a>.</p>
        <section id="xref-syntax-modules-syntax-table-mathsf-type-xref-syntax-types-syntax-tabletype-mathit-tabletype">
         <h5 data-level="3.4.2.1" id="--hrefsyntax-tablemathsftypehrefsyntax-tabletypemathittabletype"><span>3.4.2.1. </span><span><span><span><span></span></span></span></span><a href="#--hrefsyntax-tablemathsftypehrefsyntax-tabletypemathittabletype"></a></h5>
         <ul>
          <li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table type</span></a> <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-tabletype"><span>valid</span></a>.</p>
          </li><li>
           <p>Then the table definition is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="memories④">
         <span id="valid-mem"></span><span id="index-2⑨"></span>
        <h4 data-level="3.4.3" id="memories⑤"><span>3.4.3. </span><span>Memories</span><a href="#memories⑤"></a></h4>
        <p>Memories <span><span><span></span></span></span> are classified by <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memtype"><span>memory types</span></a>.</p>
        <section id="xref-syntax-modules-syntax-mem-mathsf-type-xref-syntax-types-syntax-memtype-mathit-memtype">
         <h5 data-level="3.4.3.1" id="--hrefsyntax-memmathsftypehrefsyntax-memtypemathitmemtype"><span>3.4.3.1. </span><span><span><span><span></span></span></span></span><a href="#--hrefsyntax-memmathsftypehrefsyntax-memtypemathitmemtype"></a></h5>
         <ul>
          <li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memtype"><span>memory type</span></a> <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memtype"><span>valid</span></a>.</p>
          </li><li>
           <p>Then the memory definition is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="globals④">
         <span id="valid-global"></span><span id="index-3⑥"></span>
        <h4 data-level="3.4.4" id="globals⑤"><span>3.4.4. </span><span>Globals</span><a href="#globals⑤"></a></h4>
        <p>Globals <span><span><span></span></span></span> are classified by <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaltype"><span>global types</span></a> of the form <span><span><span></span></span></span>.</p>
        <section id="xref-syntax-modules-syntax-global-mathsf-type-xref-syntax-types-syntax-mut-mathit-mut-t-xref-syntax-modules-syntax-global-mathsf-init-xref-syntax-instructions-syntax-expr-mathit-expr">
         <h5 data-level="3.4.4.1" id="--hrefsyntax-globalmathsftypehrefsyntax-mutmathitmutt-hrefsyntax-globalmathsfinithrefsyntax-exprmathitexpr"><span>3.4.4.1. </span><span><span><span><span></span></span></span></span><a href="#--hrefsyntax-globalmathsftypehrefsyntax-mutmathitmutt-hrefsyntax-globalmathsfinithrefsyntax-exprmathitexpr"></a></h5>
         <ul>
          <li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaltype"><span>global type</span></a> <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-globaltype"><span>valid</span></a>.</p>
          </li><li>
           <p>The expression <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-expr"><span>valid</span></a> with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>The expression <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-constant"><span>constant</span></a>.</p>
          </li><li>
           <p>Then the global definition is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="element-segments②">
         <span id="valid-elem"></span><span id="index-4⑥"></span>
        <h4 data-level="3.4.5" id="element-segments③"><span>3.4.5. </span><span>Element Segments</span><a href="#element-segments③"></a></h4>
        <p>Element segments <span><span><span></span></span></span> are classified by the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference type</span></a> of their elements.</p>
        <section id="xref-syntax-modules-syntax-elem-mathsf-type-t-xref-syntax-modules-syntax-elem-mathsf-init-e-ast-xref-syntax-modules-syntax-elem-mathsf-mode-xref-syntax-modules-syntax-elemmode-mathit-elemmode">
         <h5 data-level="3.4.5.1" id="--hrefsyntax-elemmathsftypet-hrefsyntax-elemmathsfiniteast-hrefsyntax-elemmathsfmodehrefsyntax-elemmodemathitelemmode"><span>3.4.5.1. </span><span><span><span><span></span></span></span></span><a href="#--hrefsyntax-elemmathsftypet-hrefsyntax-elemmathsfiniteast-hrefsyntax-elemmathsfmodehrefsyntax-elemmodemathitelemmode"></a></h5>
         <ul>
          <li>
           <p>For each <span><span><span></span></span></span> in <span><span><span></span></span></span>:</p>
           <ul>
            <li>
             <p>The expression <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-expr"><span>valid</span></a> with some <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result type</span></a> <span><span><span></span></span></span>.</p>
            </li><li>
             <p>The expression <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-constant"><span>constant</span></a>.</p>
           </li></ul>
          </li><li>
           <p>The element mode <span><span><span></span></span></span> must be valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the element segment is valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-modules-syntax-elemmode-mathsf-passive">
          <span id="valid-elemmode"></span>
         <h5 data-level="3.4.5.2" id="-hrefsyntax-elemmodemathsfpassive"><span>3.4.5.2. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-elemmodemathsfpassive"></a></h5>
         <ul>
          <li>
           <p>The element mode is valid with any <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference type</span></a>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-modules-syntax-elemmode-mathsf-active-xref-syntax-modules-syntax-elem-mathsf-table-x-xref-syntax-modules-syntax-elem-mathsf-offset-xref-syntax-instructions-syntax-expr-mathit-expr">
         <h5 data-level="3.4.5.3" id="-hrefsyntax-elemmodemathsfactive-hrefsyntax-elemmathsftablex-hrefsyntax-elemmathsfoffsethrefsyntax-exprmathitexpr"><span>3.4.5.3. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-elemmodemathsfactive-hrefsyntax-elemmathsftablex-hrefsyntax-elemmathsfoffsethrefsyntax-exprmathitexpr"></a></h5>
         <ul>
          <li>
           <p>The table <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>The expression <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-expr"><span>valid</span></a> with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>The expression <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-constant"><span>constant</span></a>.</p>
          </li><li>
           <p>Then the element mode is valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-modules-syntax-elemmode-mathsf-declarative">
         <h5 data-level="3.4.5.4" id="-hrefsyntax-elemmodemathsfdeclarative"><span>3.4.5.4. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-elemmodemathsfdeclarative"></a></h5>
         <ul>
          <li>
           <p>The element mode is valid with any <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference type</span></a>.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="data-segments②">
         <span id="valid-data"></span><span id="index-5⑥"></span>
        <h4 data-level="3.4.6" id="data-segments③"><span>3.4.6. </span><span>Data Segments</span><a href="#data-segments③"></a></h4>
        <p>Data segments <span><span><span></span></span></span> are not classified by any type but merely checked for well-formedness.</p>
        <section id="xref-syntax-modules-syntax-data-mathsf-init-b-ast-xref-syntax-modules-syntax-data-mathsf-mode-xref-syntax-modules-syntax-datamode-mathit-datamode">
         <h5 data-level="3.4.6.1" id="--hrefsyntax-datamathsfinitbast-hrefsyntax-datamathsfmodehrefsyntax-datamodemathitdatamode"><span>3.4.6.1. </span><span><span><span><span></span></span></span></span><a href="#--hrefsyntax-datamathsfinitbast-hrefsyntax-datamathsfmodehrefsyntax-datamodemathitdatamode"></a></h5>
         <ul>
          <li>
           <p>The data mode <span><span><span></span></span></span> must be valid.</p>
          </li><li>
           <p>Then the data segment is valid.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-modules-syntax-datamode-mathsf-passive">
          <span id="valid-datamode"></span>
         <h5 data-level="3.4.6.2" id="-hrefsyntax-datamodemathsfpassive"><span>3.4.6.2. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-datamodemathsfpassive"></a></h5>
         <ul>
          <li>
           <p>The data mode is valid.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-modules-syntax-datamode-mathsf-active-xref-syntax-modules-syntax-data-mathsf-memory-x-xref-syntax-modules-syntax-data-mathsf-offset-xref-syntax-instructions-syntax-expr-mathit-expr">
         <h5 data-level="3.4.6.3" id="-hrefsyntax-datamodemathsfactive-hrefsyntax-datamathsfmemoryx-hrefsyntax-datamathsfoffsethrefsyntax-exprmathitexpr"><span>3.4.6.3. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-datamodemathsfactive-hrefsyntax-datamathsfmemoryx-hrefsyntax-datamathsfoffsethrefsyntax-exprmathitexpr"></a></h5>
         <ul>
          <li>
           <p>The memory <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>The expression <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-expr"><span>valid</span></a> with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>The expression <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-constant"><span>constant</span></a>.</p>
          </li><li>
           <p>Then the data mode is valid.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="start-function②">
         <span id="valid-start"></span><span id="index-6⑤"></span>
        <h4 data-level="3.4.7" id="start-function③"><span>3.4.7. </span><span>Start Function</span><a href="#start-function③"></a></h4>
        <p>Start function declarations <span><span><span></span></span></span> are not classified by any type.</p>
        <section id="xref-syntax-modules-syntax-start-mathsf-func-x">
         <h5 data-level="3.4.7.1" id="--hrefsyntax-startmathsffuncx"><span>3.4.7.1. </span><span><span><span><span></span></span></span></span><a href="#--hrefsyntax-startmathsffuncx"></a></h5>
         <ul>
          <li>
           <p>The function <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>The type of <span><span><span></span></span></span> must be <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the start function is valid.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="exports②">
         <span id="valid-export"></span><span id="valid-exportdesc"></span><span id="index-7⑤"></span>
        <h4 data-level="3.4.8" id="exports③"><span>3.4.8. </span><span>Exports</span><a href="#exports③"></a></h4>
        <p>Exports <span><span><span></span></span></span> and export descriptions <span><span><span></span></span></span> are classified by their <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external type</span></a>.</p>
        <section id="xref-syntax-modules-syntax-export-mathsf-name-xref-syntax-values-syntax-name-mathit-name-xref-syntax-modules-syntax-export-mathsf-desc-xref-syntax-modules-syntax-exportdesc-mathit-exportdesc">
         <h5 data-level="3.4.8.1" id="--hrefsyntax-exportmathsfnamehrefsyntax-namemathitname-hrefsyntax-exportmathsfdeschrefsyntax-exportdescmathitexportdesc"><span>3.4.8.1. </span><span><span><span><span></span></span></span></span><a href="#--hrefsyntax-exportmathsfnamehrefsyntax-namemathitname-hrefsyntax-exportmathsfdeschrefsyntax-exportdescmathitexportdesc"></a></h5>
         <ul>
          <li>
           <p>The export description <span><span><span></span></span></span> must be valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the export is valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-modules-syntax-exportdesc-mathsf-func-x">
         <h5 data-level="3.4.8.2" id="-hrefsyntax-exportdescmathsffuncx"><span>3.4.8.2. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-exportdescmathsffuncx"></a></h5>
         <ul>
          <li>
           <p>The function <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Then the export description is valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-modules-syntax-exportdesc-mathsf-table-x">
         <h5 data-level="3.4.8.3" id="-hrefsyntax-exportdescmathsftablex"><span>3.4.8.3. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-exportdescmathsftablex"></a></h5>
         <ul>
          <li>
           <p>The table <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Then the export description is valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-modules-syntax-exportdesc-mathsf-mem-x">
         <h5 data-level="3.4.8.4" id="-hrefsyntax-exportdescmathsfmemx"><span>3.4.8.4. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-exportdescmathsfmemx"></a></h5>
         <ul>
          <li>
           <p>The memory <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Then the export description is valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-modules-syntax-exportdesc-mathsf-global-x">
         <h5 data-level="3.4.8.5" id="-hrefsyntax-exportdescmathsfglobalx"><span>3.4.8.5. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-exportdescmathsfglobalx"></a></h5>
         <ul>
          <li>
           <p>The global <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Then the export description is valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="imports②">
         <span id="valid-import"></span><span id="valid-importdesc"></span><span id="index-8⑤"></span>
        <h4 data-level="3.4.9" id="imports③"><span>3.4.9. </span><span>Imports</span><a href="#imports③"></a></h4>
        <p>Imports <span><span><span></span></span></span> and import descriptions <span><span><span></span></span></span> are classified by <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external types</span></a>.</p>
        <section id="xref-syntax-modules-syntax-import-mathsf-module-xref-syntax-values-syntax-name-mathit-name-1-xref-syntax-modules-syntax-import-mathsf-name-xref-syntax-values-syntax-name-mathit-name-2-xref-syntax-modules-syntax-import-mathsf-desc-xref-syntax-modules-syntax-importdesc-mathit-importdesc">
         <h5 data-level="3.4.9.1" id="--hrefsyntax-importmathsfmodulehrefsyntax-namemathitname_1-hrefsyntax-importmathsfnamehrefsyntax-namemathitname_2-hrefsyntax-importmathsfdeschrefsyntax-importdescmathitimportdesc"><span>3.4.9.1. </span><span><span><span><span></span></span></span></span><a href="#--hrefsyntax-importmathsfmodulehrefsyntax-namemathitname_1-hrefsyntax-importmathsfnamehrefsyntax-namemathitname_2-hrefsyntax-importmathsfdeschrefsyntax-importdescmathitimportdesc"></a></h5>
         <ul>
          <li>
           <p>The import description <span><span><span></span></span></span> must be valid with type <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the import is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-modules-syntax-importdesc-mathsf-func-x">
         <h5 data-level="3.4.9.2" id="-hrefsyntax-importdescmathsffuncx"><span>3.4.9.2. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-importdescmathsffuncx"></a></h5>
         <ul>
          <li>
           <p>The function <span><span><span></span></span></span> must be defined in the context.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the import description is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-modules-syntax-importdesc-mathsf-table-xref-syntax-types-syntax-tabletype-mathit-tabletype">
         <h5 data-level="3.4.9.3" id="-hrefsyntax-importdescmathsftablehrefsyntax-tabletypemathittabletype"><span>3.4.9.3. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-importdescmathsftablehrefsyntax-tabletypemathittabletype"></a></h5>
         <ul>
          <li>
           <p>The table type <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-tabletype"><span>valid</span></a>.</p>
          </li><li>
           <p>Then the import description is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-modules-syntax-importdesc-mathsf-mem-xref-syntax-types-syntax-memtype-mathit-memtype">
         <h5 data-level="3.4.9.4" id="-hrefsyntax-importdescmathsfmemhrefsyntax-memtypemathitmemtype"><span>3.4.9.4. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-importdescmathsfmemhrefsyntax-memtypemathitmemtype"></a></h5>
         <ul>
          <li>
           <p>The memory type <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memtype"><span>valid</span></a>.</p>
          </li><li>
           <p>Then the import description is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-syntax-modules-syntax-importdesc-mathsf-global-xref-syntax-types-syntax-globaltype-mathit-globaltype">
         <h5 data-level="3.4.9.5" id="-hrefsyntax-importdescmathsfglobalhrefsyntax-globaltypemathitglobaltype"><span>3.4.9.5. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-importdescmathsfglobalhrefsyntax-globaltypemathitglobaltype"></a></h5>
         <ul>
          <li>
           <p>The global type <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-globaltype"><span>valid</span></a>.</p>
          </li><li>
           <p>Then the import description is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="valid-module">
         <span id="index-9⑤"></span><span id="id1⑧"></span>
        <h4 data-level="3.4.10" id="modules④"><span>3.4.10. </span><span>Modules</span><a href="#modules④"></a></h4>
        <p>Modules are classified by their mapping from the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external types</span></a> of their <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-import"><span>imports</span></a> to those of their <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-export"><span>exports</span></a>.</p>
        <p>A module is entirely <em>closed</em>,
that is, its components can only refer to definitions that appear in the module itself.
Consequently, no initial <a href="https://www.w3.org/TR/wasm-core-2/index.html#context"><span>context</span></a> is required.
Instead, the context <span><span><span></span></span></span> for validation of the module’s content is constructed from the definitions in the module.</p>
        <ul>
         <li>
          <p>Let <span><span><span></span></span></span> be the module to validate.</p>
         </li><li>
          <p>Let <span><span><span></span></span></span> be a <a href="https://www.w3.org/TR/wasm-core-2/index.html#context"><span>context</span></a> where:</p>
          <ul>
           <li>
            <p><span><span><span></span></span></span> is <span><span><span></span></span></span>,</p>
           </li><li>
            <p><span><span><span></span></span></span> is <span><span><span></span></span></span> concatenated with <span><span><span></span></span></span>,
with the import’s <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external types</span></a> <span><span><span></span></span></span> and the internal <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function types</span></a> <span><span><span></span></span></span> as determined below,</p>
           </li><li>
            <p><span><span><span></span></span></span> is <span><span><span></span></span></span> concatenated with <span><span><span></span></span></span>,
with the import’s <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external types</span></a> <span><span><span></span></span></span> and the internal <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table types</span></a> <span><span><span></span></span></span> as determined below,</p>
           </li><li>
            <p><span><span><span></span></span></span> is <span><span><span></span></span></span> concatenated with <span><span><span></span></span></span>,
with the import’s <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external types</span></a> <span><span><span></span></span></span> and the internal <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memtype"><span>memory types</span></a> <span><span><span></span></span></span> as determined below,</p>
           </li><li>
            <p><span><span><span></span></span></span> is <span><span><span></span></span></span> concatenated with <span><span><span></span></span></span>,
with the import’s <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external types</span></a> <span><span><span></span></span></span> and the internal <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaltype"><span>global types</span></a> <span><span><span></span></span></span> as determined below,</p>
           </li><li>
            <p><span><span><span></span></span></span> is <span><span><span></span></span></span> as determined below,</p>
           </li><li>
            <p><span><span><span></span></span></span> is <span><span><span></span></span></span>, where <span><span><span></span></span></span> is the length of the vector <span><span><span></span></span></span>,</p>
           </li><li>
            <p><span><span><span></span></span></span> is empty,</p>
           </li><li>
            <p><span><span><span></span></span></span> is empty,</p>
           </li><li>
            <p><span><span><span></span></span></span> is empty.</p>
           </li><li>
            <p><span><span><span></span></span></span> is the set <span><span><span></span></span></span>, i.e., the set of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcidx"><span>function indices</span></a> occurring in the module, except in its <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-func"><span>functions</span></a> or <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-start"><span>start function</span></a>.</p>
          </li></ul>
         </li><li>
          <p>Let <span><span><span></span></span></span> be the same <a href="https://www.w3.org/TR/wasm-core-2/index.html#context"><span>context</span></a> as <span><span><span></span></span></span>, except that <span><span><span></span></span></span> is just the sequence <span><span><span></span></span></span>.</p>
         </li><li>
          <p>For each <span><span><span></span></span></span> in <span><span><span></span></span></span>,
the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-functype"><span>valid</span></a>.</p>
         </li><li>
          <p>Under the context <span><span><span></span></span></span>:</p>
          <ul>
           <li>
            <p>For each <span><span><span></span></span></span> in <span><span><span></span></span></span>,
the definition <span><span><span></span></span></span> must be <a href="#valid-table"><span>valid</span></a> with a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table type</span></a> <span><span><span></span></span></span>.</p>
           </li><li>
            <p>For each <span><span><span></span></span></span> in <span><span><span></span></span></span>,
the definition <span><span><span></span></span></span> must be <a href="#valid-mem"><span>valid</span></a> with a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memtype"><span>memory type</span></a> <span><span><span></span></span></span>.</p>
           </li><li>
            <p>For each <span><span><span></span></span></span> in <span><span><span></span></span></span>,
the definition <span><span><span></span></span></span> must be <a href="#valid-global"><span>valid</span></a> with a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaltype"><span>global type</span></a> <span><span><span></span></span></span>.</p>
           </li><li>
            <p>For each <span><span><span></span></span></span> in <span><span><span></span></span></span>,
the segment <span><span><span></span></span></span> must be <a href="#valid-elem"><span>valid</span></a> with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference type</span></a> <span><span><span></span></span></span>.</p>
           </li><li>
            <p>For each <span><span><span></span></span></span> in <span><span><span></span></span></span>,
the segment <span><span><span></span></span></span> must be <a href="#valid-data"><span>valid</span></a>.</p>
          </li></ul>
         </li><li>
          <p>Under the context <span><span><span></span></span></span>:</p>
          <ul>
           <li>
            <p>For each <span><span><span></span></span></span> in <span><span><span></span></span></span>,
the definition <span><span><span></span></span></span> must be <a href="#valid-func"><span>valid</span></a> with a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span>.</p>
           </li><li>
            <p>If <span><span><span></span></span></span> is non-empty,
then <span><span><span></span></span></span> must be <a href="#valid-start"><span>valid</span></a>.</p>
           </li><li>
            <p>For each <span><span><span></span></span></span> in <span><span><span></span></span></span>,
the segment <span><span><span></span></span></span> must be <a href="#valid-import"><span>valid</span></a> with an <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external type</span></a> <span><span><span></span></span></span>.</p>
           </li><li>
            <p>For each <span><span><span></span></span></span> in <span><span><span></span></span></span>,
the segment <span><span><span></span></span></span> must be <a href="#valid-export"><span>valid</span></a> with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external type</span></a> <span><span><span></span></span></span>.</p>
          </li></ul>
         </li><li>
          <p>The length of <span><span><span></span></span></span> must not be larger than <span><span><span></span></span></span>.</p>
         </li><li>
          <p>All export names <span><span><span></span></span></span> must be different.</p>
         </li><li>
          <p>Let <span><span><span></span></span></span> be the concatenation of the internal <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function types</span></a> <span><span><span></span></span></span>, in index order.</p>
         </li><li>
          <p>Let <span><span><span></span></span></span> be the concatenation of the internal <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table types</span></a> <span><span><span></span></span></span>, in index order.</p>
         </li><li>
          <p>Let <span><span><span></span></span></span> be the concatenation of the internal <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memtype"><span>memory types</span></a> <span><span><span></span></span></span>, in index order.</p>
         </li><li>
          <p>Let <span><span><span></span></span></span> be the concatenation of the internal <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaltype"><span>global types</span></a> <span><span><span></span></span></span>, in index order.</p>
         </li><li>
          <p>Let <span><span><span></span></span></span> be the concatenation of the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference types</span></a> <span><span><span></span></span></span>, in index order.</p>
         </li><li>
          <p>Let <span><span><span></span></span></span> be the concatenation of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external types</span></a> <span><span><span></span></span></span> of the imports, in index order.</p>
         </li><li>
          <p>Let <span><span><span></span></span></span> be the concatenation of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external types</span></a> <span><span><span></span></span></span> of the exports, in index order.</p>
         </li><li>
          <p>Then the module is valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external types</span></a> <span><span><span></span></span></span>.</p>
        </li></ul>
        
        <div role="note">
         <p>Note</p>
         <p>Most definitions in a module – particularly functions – are mutually recursive.
Consequently, the definition of the <a href="https://www.w3.org/TR/wasm-core-2/index.html#context"><span>context</span></a> <span><span><span></span></span></span> in this rule is recursive:
it depends on the outcome of validation of the function, table, memory, and global definitions contained in the module,
which itself depends on <span><span><span></span></span></span>.
However, this recursion is just a specification device.
All types needed to construct <span><span><span></span></span></span> can easily be determined from a simple pre-pass over the module that does not perform any actual validation.</p>
         <p>Globals, however, are not recursive and not accessible within <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-const"><span>constant expressions</span></a> when they are defined locally.
The effect of defining the limited context <span><span><span></span></span></span> for validating certain definitions is that they can only access functions and imported globals and nothing else.</p>
        </div>
        <div role="note">
         <p>Note</p>
         <p>The restriction on the number of memories may be lifted in future versions of WebAssembly.</p>
        </div>
       </section>
      </section>
     </div>
    </section>
     <section id="execution①">
      <span id="exec"></span>
     <h2 data-level="4" id="execution②"><span>4. </span><span>Execution</span><a href="#execution②"></a></h2>
     <div>
       <section id="conventions①⑨">
        <span id="index-0①①"></span>
       <h3 data-level="4.1" id="conventions②⓪"><span>4.1. </span><span>Conventions</span><a href="#conventions②⓪"></a></h3>
       <p>WebAssembly code is <em>executed</em> when <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-instantiation"><span>instantiating</span></a> a module or <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-invocation"><span>invoking</span></a> an <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-export"><span>exported</span></a> function on the resulting module <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-moduleinst"><span>instance</span></a>.</p>
       <p>Execution behavior is defined in terms of an <em>abstract machine</em> that models the <em>program state</em>.
It includes a <em>stack</em>, which records operand values and control constructs, and an abstract <em>store</em> containing global state.</p>
       <p>For each instruction, there is a rule that specifies the effect of its execution on the program state.
Furthermore, there are rules describing the instantiation of a module.
As with <a href="https://www.w3.org/TR/wasm-core-2/index.html#validation"><span>validation</span></a>, all rules are given in two <em>equivalent</em> forms:</p>
       <ol>
        <li>
         <p>In <em>prose</em>, describing the execution in intuitive form.</p>
        </li><li>
         <p>In <em>formal notation</em>, describing the rule in mathematical form. <a href="#cite-pldi2017" id="id1⑨" role="doc-noteref"><span>[</span>1<span>]</span></a></p>
       </li></ol>
       <div role="note">
        <p>Note</p>
        <p>As with validation, the prose and formal rules are equivalent,
so that understanding of the formal notation is <em>not</em> required to read this specification.
The formalism offers a more concise description in notation that is used widely in programming languages semantics and is readily amenable to mathematical proof.</p>
       </div>
       <section id="prose-notation②">
         <span id="exec-notation-textual"></span>
        <h4 data-level="4.1.1" id="prose-notation③"><span>4.1.1. </span><span>Prose Notation</span><a href="#prose-notation③"></a></h4>
        <p>Execution is specified by stylised, step-wise rules for each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr"><span>instruction</span></a> of the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax"><span>abstract syntax</span></a>.
The following conventions are adopted in stating these rules.</p>
        <ul>
         <li>
          <p>The execution rules implicitly assume a given <a href="https://www.w3.org/TR/wasm-core-2/index.html#store"><span>store</span></a> <span><span><span></span></span></span>.</p>
         </li><li>
          <p>The execution rules also assume the presence of an implicit <a href="https://www.w3.org/TR/wasm-core-2/index.html#stack"><span>stack</span></a> that is modified by <em>pushing</em> or <em>popping</em> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-value"><span>values</span></a>, <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-label"><span>labels</span></a>, and <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frames</span></a>.</p>
         </li><li>
          <p>Certain rules require the stack to contain at least one frame.
The most recent frame is referred to as the <em>current</em> frame.</p>
         </li><li>
          <p>Both the store and the current frame are mutated by <em>replacing</em> some of their components.
Such replacement is assumed to apply globally.</p>
         </li><li>
          <p>The execution of an instruction may <em>trap</em>,
in which case the entire computation is aborted and no further modifications to the store are performed by it. (Other computations can still be initiated afterwards.)</p>
         </li><li>
          <p>The execution of an instruction may also end in a <em>jump</em> to a designated target,
which defines the next instruction to execute.</p>
         </li><li>
          <p>Execution can <em>enter</em> and <em>exit</em> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-seq"><span>instruction sequences</span></a> that form <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-control"><span>blocks</span></a>.</p>
         </li><li>
          <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-seq"><span>Instruction sequences</span></a> are implicitly executed in order, unless a trap or jump occurs.</p>
         </li><li>
          <p>In various places the rules contain <em>assertions</em> expressing crucial invariants about the program state.</p>
        </li></ul>
       </section>
       <section id="formal-notation②">
         <span id="exec-notation"></span><span id="index-1①①"></span>
        <h4 data-level="4.1.2" id="formal-notation③"><span>4.1.2. </span><span>Formal Notation</span><a href="#formal-notation③"></a></h4>
        <div role="note">
         <p>Note</p>
         <p>This section gives a brief explanation of the notation for specifying execution formally.
For the interested reader, a more thorough introduction can be found in respective text books. <a href="#cite-tapl" id="id2⑤" role="doc-noteref"><span>[</span>2<span>]</span></a></p>
        </div>
        <p>The formal execution rules use a standard approach for specifying operational semantics, rendering them into <em>reduction rules</em>.
Every rule has the following general form:</p>
        
        <p>A <em>configuration</em> is a syntactic description of a program state.
Each rule specifies one <em>step</em> of execution.
As long as there is at most one reduction rule applicable to a given configuration, reduction – and thereby execution – is <em>deterministic</em>.
WebAssembly has only very few exceptions to this, which are noted explicitly in this specification.</p>
        <p>For WebAssembly, a configuration typically is a tuple <span><span><span></span></span></span> consisting of the current <a href="https://www.w3.org/TR/wasm-core-2/index.html#store"><span>store</span></a> <span><span><span></span></span></span>, the <a href="https://www.w3.org/TR/wasm-core-2/index.html#frame"><span>call frame</span></a> <span><span><span></span></span></span> of the current function, and the sequence of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr"><span>instructions</span></a> that is to be executed.
(A more precise definition is given <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-config"><span>later</span></a>.)</p>
        <p>To avoid unnecessary clutter, the store <span><span><span></span></span></span> and the frame <span><span><span></span></span></span> are omitted from reduction rules that do not touch them.</p>
        <p>There is no separate representation of the <a href="https://www.w3.org/TR/wasm-core-2/index.html#stack"><span>stack</span></a>.
Instead, it is conveniently represented as part of the configuration’s instruction sequence.
In particular, <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>values</span></a> are defined to coincide with <span><span><span></span></span></span> instructions,
and a sequence of <span><span><span></span></span></span> instructions can be interpreted as an operand “stack” that grows to the right.</p>
        <div role="note">
         <p>Note</p>
         <p>For example, the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-binop"><span>reduction rule</span></a> for the <span><span><span></span></span></span> instruction can be given as follows:</p>
         
         <p>Per this rule, two <span><span><span></span></span></span> instructions and the <span><span><span></span></span></span> instruction itself are removed from the instruction stream and replaced with one new <span><span><span></span></span></span> instruction.
This can be interpreted as popping two values off the stack and pushing the result.</p>
         <p>When no result is produced, an instruction reduces to the empty sequence:</p>
         
        </div>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#label"><span>Labels</span></a> and <a href="https://www.w3.org/TR/wasm-core-2/index.html#frame"><span>frames</span></a> are similarly <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-admin"><span>defined</span></a> to be part of an instruction sequence.</p>
        <p>The order of reduction is determined by the definition of an appropriate <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-ctxt-eval"><span>evaluation context</span></a>.</p>
        <p>Reduction <em>terminates</em> when no more reduction rules are applicable. <a href="https://www.w3.org/TR/wasm-core-2/index.html#soundness"><span>Soundness</span></a> of the WebAssembly <a href="https://www.w3.org/TR/wasm-core-2/index.html#type-system"><span>type system</span></a> guarantees that this is only the case when the original instruction sequence has either been reduced to a sequence of <span><span><span></span></span></span> instructions, which can be interpreted as the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>values</span></a> of the resulting operand stack,
or if a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-trap"><span>trap</span></a> occurred.</p>
        <div role="note">
         <p>Note</p>
         <p>For example, the following instruction sequence,</p>
         
         <p>terminates after three steps:</p>
         
         <p>where <span><span><span></span></span></span> and <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
        </div>
        
       </section>
      </section>
       <section id="runtime-structure">
        <span id="syntax-runtime"></span><span id="index-0①②"></span>
       <h3 data-level="4.2" id="runtime-structure①"><span>4.2. </span><span>Runtime Structure</span><a href="#runtime-structure①"></a></h3>
       <p><a href="#store"><span>Store</span></a>, <a href="#stack"><span>stack</span></a>, and other <em>runtime structure</em> forming the WebAssembly abstract machine, such as <a href="#syntax-val"><span>values</span></a> or <a href="#syntax-moduleinst"><span>module instances</span></a>, are made precise in terms of additional auxiliary syntax.</p>
       <section id="values②">
         <span id="syntax-val"></span><span id="syntax-ref-extern"></span><span id="syntax-ref"></span><span id="syntax-vecc"></span><span id="syntax-num"></span><span id="index-1①②"></span>
        <h4 data-level="4.2.1" id="values③"><span>4.2.1. </span><span>Values</span><a href="#values③"></a></h4>
        <p>WebAssembly computations manipulate <em>values</em> of either the four basic <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-numtype"><span>number types</span></a>, i.e., <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-int"><span>integers</span></a> and <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-float"><span>floating-point data</span></a> of 32 or 64 bit width each, or <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-vecnum"><span>vectors</span></a> of 128 bit width, or of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference type</span></a>.</p>
        <p>In most places of the semantics, values of different types can occur.
In order to avoid ambiguities, values are therefore represented with an abstract syntax that makes their type explicit.
It is convenient to reuse the same notation as for the <span><span><span></span></span></span> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-const"><span>instructions</span></a> and <span><span><span></span></span></span> producing them.</p>
        <p>References other than null are represented with additional <a href="#syntax-instr-admin"><span>administrative instructions</span></a>.
They either are <em>function references</em>, pointing to a specific <a href="#syntax-funcaddr"><span>function address</span></a>,
or <em>external references</em> pointing to an uninterpreted form of <a href="#syntax-externaddr"><span>extern address</span></a> that can be defined by the <a href="https://www.w3.org/TR/wasm-core-2/index.html#embedder"><span>embedder</span></a> to represent its own objects.</p>
        
        <div role="note">
         <p>Note</p>
         <p>Future versions of WebAssembly may add additional forms of reference.</p>
        </div>
        <p id="default-val">Each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> has an associated <em>default value</em>;
it is the respective value <span><span><span></span></span></span> for <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-numtype"><span>number types</span></a>, <span><span><span></span></span></span> for <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-vectype"><span>vector types</span></a>, and null for <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference types</span></a>.</p>
        
        <section id="convention②">
         <h5 data-level="4.2.1.1" id="convention③"><span>4.2.1.1. </span><span>Convention</span><a href="#convention③"></a></h5>
         <ul>
          <li>
           <p>The meta variable <span><span><span></span></span></span> ranges over reference values where clear from context.</p>
         </li></ul>
        </section>
       </section>
       <section id="results">
         <span id="syntax-result"></span><span id="index-2①⓪"></span>
        <h4 data-level="4.2.2" id="results①"><span>4.2.2. </span><span>Results</span><a href="#results①"></a></h4>
        <p>A <em>result</em> is the outcome of a computation.
It is either a sequence of <a href="#syntax-val"><span>values</span></a> or a <a href="#syntax-trap"><span>trap</span></a>.</p>
        
       </section>
       <section id="store">
         <span id="syntax-store"></span><span id="index-3⑦"></span><span id="id1①⓪"></span>
        <h4 data-level="4.2.3" id="store①"><span>4.2.3. </span><span>Store</span><a href="#store①"></a></h4>
        <p>The <em>store</em> represents all global state that can be manipulated by WebAssembly programs.
It consists of the runtime representation of all <em>instances</em> of <a href="#syntax-funcinst"><span>functions</span></a>, <a href="#syntax-tableinst"><span>tables</span></a>, <a href="#syntax-meminst"><span>memories</span></a>, and <a href="#syntax-globalinst"><span>globals</span></a>, <a href="#syntax-eleminst"><span>element segments</span></a>, and <a href="#syntax-datainst"><span>data segments</span></a> that have been <a href="https://www.w3.org/TR/wasm-core-2/index.html#alloc"><span>allocated</span></a> during the life time of the abstract machine. <a href="#gc" id="id2⑥" role="doc-noteref"><span>[</span>1<span>]</span></a></p>
        <p>It is an invariant of the semantics that no element or data instance is <a href="#syntax-addr"><span>addressed</span></a> from anywhere else but the owning module instances.</p>
        <p>Syntactically, the store is defined as a <a href="https://www.w3.org/TR/wasm-core-2/index.html#notation-record"><span>record</span></a> listing the existing instances of each category:</p>
        
        
        <section id="id3②">
         <h5 data-level="4.2.3.1" id="convention④"><span>4.2.3.1. </span><span>Convention</span><a href="#convention④"></a></h5>
         <ul>
          <li>
           <p>The meta variable <span><span><span></span></span></span> ranges over stores where clear from context.</p>
         </li></ul>
        </section>
       </section>
       <section id="addresses">
         <span id="syntax-addr"></span><span id="syntax-externaddr"></span><span id="syntax-dataaddr"></span><span id="syntax-elemaddr"></span><span id="syntax-globaladdr"></span><span id="syntax-memaddr"></span><span id="syntax-tableaddr"></span><span id="syntax-funcaddr"></span><span id="index-4⑦"></span>
        <h4 data-level="4.2.4" id="addresses①"><span>4.2.4. </span><span>Addresses</span><a href="#addresses①"></a></h4>
        <p><a href="#syntax-funcinst"><span>Function instances</span></a>, <a href="#syntax-tableinst"><span>table instances</span></a>, <a href="#syntax-meminst"><span>memory instances</span></a>, and <a href="#syntax-globalinst"><span>global instances</span></a>, <a href="#syntax-eleminst"><span>element instances</span></a>, and <a href="#syntax-datainst"><span>data instances</span></a> in the <a href="#syntax-store"><span>store</span></a> are referenced with abstract <em>addresses</em>.
These are simply indices into the respective store component.
In addition, an <a href="https://www.w3.org/TR/wasm-core-2/index.html#embedder"><span>embedder</span></a> may supply an uninterpreted set of <em>host addresses</em>.</p>
        
        <p>An <a href="https://www.w3.org/TR/wasm-core-2/index.html#embedder"><span>embedder</span></a> may assign identity to <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-export"><span>exported</span></a> store objects corresponding to their addresses,
even where this identity is not observable from within WebAssembly code itself
(such as for <a href="#syntax-funcinst"><span>function instances</span></a> or immutable <a href="#syntax-globalinst"><span>globals</span></a>).</p>
        <div role="note">
         <p>Note</p>
         <p>Addresses are <em>dynamic</em>, globally unique references to runtime objects,
in contrast to <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-index"><span>indices</span></a>,
which are <em>static</em>, module-local references to their original definitions.
A <em>memory address</em> <span><span><span></span></span></span> denotes the abstract address <em>of</em> a memory <em>instance</em> in the store,
not an offset <em>inside</em> a memory instance.</p>
         <p>There is no specific limit on the number of allocations of store objects,
hence logical addresses can be arbitrarily large natural numbers.</p>
        </div>
       </section>
       <section id="module-instances">
         <span id="syntax-moduleinst"></span><span id="index-5⑦"></span>
        <h4 data-level="4.2.5" id="module-instances①"><span>4.2.5. </span><span>Module Instances</span><a href="#module-instances①"></a></h4>
        <p>A <em>module instance</em> is the runtime representation of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a>.
It is created by <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-instantiation"><span>instantiating</span></a> a module,
and collects runtime representations of all entities that are imported, defined, or exported by the module.</p>
        
        <p>Each component references runtime instances corresponding to respective declarations from the original module – whether imported or defined – in the order of their static <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-index"><span>indices</span></a>. <a href="#syntax-funcinst"><span>Function instances</span></a>, <a href="#syntax-tableinst"><span>table instances</span></a>, <a href="#syntax-meminst"><span>memory instances</span></a>, and <a href="#syntax-globalinst"><span>global instances</span></a> are referenced with an indirection through their respective <a href="#syntax-addr"><span>addresses</span></a> in the <a href="#syntax-store"><span>store</span></a>.</p>
        <p>It is an invariant of the semantics that all <a href="#syntax-exportinst"><span>export instances</span></a> in a given module instance have different <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-name"><span>names</span></a>.</p>
       </section>
       <section id="function-instances">
         <span id="syntax-funcinst"></span><span id="syntax-hostfunc"></span><span id="index-6⑥"></span>
        <h4 data-level="4.2.6" id="function-instances①"><span>4.2.6. </span><span>Function Instances</span><a href="#function-instances①"></a></h4>
        <p>A <em>function instance</em> is the runtime representation of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-func"><span>function</span></a>.
It effectively is a <em>closure</em> of the original function over the runtime <a href="#syntax-moduleinst"><span>module instance</span></a> of its originating <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a>.
The module instance is used to resolve references to other definitions during execution of the function.</p>
        
        <p>A <em>host function</em> is a function expressed outside WebAssembly but passed to a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a> as an <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-import"><span>import</span></a>.
The definition and behavior of host functions are outside the scope of this specification.
For the purpose of this specification, it is assumed that when <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-invoke-host"><span>invoked</span></a>,
a host function behaves non-deterministically,
but within certain <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-invoke-host"><span>constraints</span></a> that ensure the integrity of the runtime.</p>
        <div role="note">
         <p>Note</p>
         <p>Function instances are immutable, and their identity is not observable by WebAssembly code.
However, the <a href="https://www.w3.org/TR/wasm-core-2/index.html#embedder"><span>embedder</span></a> might provide implicit or explicit means for distinguishing their <a href="#syntax-funcaddr"><span>addresses</span></a>.</p>
        </div>
       </section>
       <section id="table-instances">
         <span id="syntax-tableinst"></span><span id="index-7⑥"></span>
        <h4 data-level="4.2.7" id="table-instances①"><span>4.2.7. </span><span>Table Instances</span><a href="#table-instances①"></a></h4>
        <p>A <em>table instance</em> is the runtime representation of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-table"><span>table</span></a>.
It records its <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>type</span></a> and holds a vector of <a href="#syntax-ref"><span>reference values</span></a>.</p>
        
        <p>Table elements can be mutated through <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-table"><span>table instructions</span></a>, the execution of an active <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elem"><span>element segment</span></a>, or by external means provided by the <a href="https://www.w3.org/TR/wasm-core-2/index.html#embedder"><span>embedder</span></a>.</p>
        <p>It is an invariant of the semantics that all table elements have a type equal to the element type of <span><span><span></span></span></span>.
It also is an invariant that the length of the element vector never exceeds the maximum size of <span><span><span></span></span></span>, if present.</p>
       </section>
       <section id="memory-instances">
         <span id="syntax-meminst"></span><span id="page-size"></span><span id="index-8⑥"></span>
        <h4 data-level="4.2.8" id="memory-instances①"><span>4.2.8. </span><span>Memory Instances</span><a href="#memory-instances①"></a></h4>
        <p>A <em>memory instance</em> is the runtime representation of a linear <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-mem"><span>memory</span></a>.
It records its <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memtype"><span>type</span></a> and holds a vector of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-byte"><span>bytes</span></a>.</p>
        
        <p>The length of the vector always is a multiple of the WebAssembly <em>page size</em>, which is defined to be the constant <span><span><span></span></span></span> – abbreviated <span><span><span></span></span></span>.</p>
        <p>The bytes can be mutated through <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-memory"><span>memory instructions</span></a>, the execution of an active <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-data"><span>data segment</span></a>, or by external means provided by the <a href="https://www.w3.org/TR/wasm-core-2/index.html#embedder"><span>embedder</span></a>.</p>
        <p>It is an invariant of the semantics that the length of the byte vector, divided by page size, never exceeds the maximum size of <span><span><span></span></span></span>, if present.</p>
       </section>
       <section id="global-instances">
         <span id="syntax-globalinst"></span><span id="index-9⑥"></span>
        <h4 data-level="4.2.9" id="global-instances①"><span>4.2.9. </span><span>Global Instances</span><a href="#global-instances①"></a></h4>
        <p>A <em>global instance</em> is the runtime representation of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-global"><span>global</span></a> variable.
It records its <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaltype"><span>type</span></a> and holds an individual <a href="#syntax-val"><span>value</span></a>.</p>
        
        <p>The value of mutable globals can be mutated through <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-variable"><span>variable instructions</span></a> or by external means provided by the <a href="https://www.w3.org/TR/wasm-core-2/index.html#embedder"><span>embedder</span></a>.</p>
        <p>It is an invariant of the semantics that the value has a type equal to the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> of <span><span><span></span></span></span>.</p>
       </section>
       <section id="element-instances">
         <span id="syntax-eleminst"></span><span id="index-10④"></span>
        <h4 data-level="4.2.10" id="element-instances①"><span>4.2.10. </span><span>Element Instances</span><a href="#element-instances①"></a></h4>
        <p>An <em>element instance</em> is the runtime representation of an <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elem"><span>element segment</span></a>.
It holds a vector of references and their common <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>type</span></a>.</p>
        
       </section>
       <section id="data-instances">
         <span id="syntax-datainst"></span><span id="index-11④"></span>
        <h4 data-level="4.2.11" id="data-instances①"><span>4.2.11. </span><span>Data Instances</span><a href="#data-instances①"></a></h4>
        <p>An <em>data instance</em> is the runtime representation of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-data"><span>data segment</span></a>.
It holds a vector of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-byte"><span>bytes</span></a>.</p>
        
       </section>
       <section id="export-instances">
         <span id="syntax-exportinst"></span><span id="index-12①"></span>
        <h4 data-level="4.2.12" id="export-instances①"><span>4.2.12. </span><span>Export Instances</span><a href="#export-instances①"></a></h4>
        <p>An <em>export instance</em> is the runtime representation of an <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-export"><span>export</span></a>.
It defines the export’s <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-name"><span>name</span></a> and the associated <a href="#syntax-externval"><span>external value</span></a>.</p>
        
       </section>
       <section id="external-values">
         <span id="syntax-externval"></span><span id="index-13"></span>
        <h4 data-level="4.2.13" id="external-values①"><span>4.2.13. </span><span>External Values</span><a href="#external-values①"></a></h4>
        <p>An <em>external value</em> is the runtime representation of an entity that can be imported or exported.
It is an <a href="#syntax-addr"><span>address</span></a> denoting either a <a href="#syntax-funcinst"><span>function instance</span></a>, <a href="#syntax-tableinst"><span>table instance</span></a>, <a href="#syntax-meminst"><span>memory instance</span></a>, or <a href="#syntax-globalinst"><span>global instances</span></a> in the shared <a href="#syntax-store"><span>store</span></a>.</p>
        
        <section id="conventions②①">
         <h5 data-level="4.2.13.1" id="conventions②②"><span>4.2.13.1. </span><span>Conventions</span><a href="#conventions②②"></a></h5>
         <p>The following auxiliary notation is defined for sequences of external values.
It filters out entries of a specific kind in an order-preserving fashion:</p>
         <ul>
          <li>
           
          </li><li>
           
          </li><li>
           
          </li><li>
           
         </li></ul>
        </section>
       </section>
       <section id="stack">
         <span id="label"></span><span id="frame"></span><span id="syntax-label"></span><span id="syntax-framestate"></span><span id="syntax-frame"></span><span id="index-14"></span><span id="id4①"></span>
        <h4 data-level="4.2.14" id="stack①"><span>4.2.14. </span><span>Stack</span><a href="#stack①"></a></h4>
        <p>Besides the <a href="#store"><span>store</span></a>, most <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr"><span>instructions</span></a> interact with an implicit <em>stack</em>.
The stack contains three kinds of entries:</p>
        <ul>
         <li>
          <p><em>Values</em>: the <em>operands</em> of instructions.</p>
         </li><li>
          <p><em>Labels</em>: active <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-control"><span>structured control instructions</span></a> that can be targeted by branches.</p>
         </li><li>
          <p><em>Activations</em>: the <em>call frames</em> of active <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-func"><span>function</span></a> calls.</p>
        </li></ul>
        <p>These entries can occur on the stack in any order during the execution of a program.
Stack entries are described by abstract syntax as follows.</p>
        <div role="note">
         <p>Note</p>
         <p>It is possible to model the WebAssembly semantics using separate stacks for operands, control constructs, and calls.
However, because the stacks are interdependent, additional book keeping about associated stack heights would be required.
For the purpose of this specification, an interleaved representation is simpler.</p>
        </div>
        <section id="id5">
         <h5 data-level="4.2.14.1" id="values④"><span>4.2.14.1. </span><span>Values</span><a href="#values④"></a></h5>
         <p>Values are represented by <a href="#syntax-val"><span>themselves</span></a>.</p>
        </section>
        <section id="labels">
         <h5 data-level="4.2.14.2" id="labels①"><span>4.2.14.2. </span><span>Labels</span><a href="#labels①"></a></h5>
         <p>Labels carry an argument arity <span><span><span></span></span></span> and their associated branch <em>target</em>, which is expressed syntactically as an <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr"><span>instruction</span></a> sequence:</p>
         
         <p>Intuitively, <span><span><span></span></span></span> is the <em>continuation</em> to execute when the branch is taken, in place of the original control construct.</p>
         <div role="note">
          <p>Note</p>
          <p>For example, a loop label has the form</p>
          
          <p>When performing a branch to this label, this executes the loop, effectively restarting it from the beginning.
Conversely, a simple block label has the form</p>
          
          <p>When branching, the empty continuation ends the targeted block, such that execution can proceed with consecutive instructions.</p>
         </div>
        </section>
        <section id="activation-frames">
         <h5 data-level="4.2.14.3" id="activation-frames①"><span>4.2.14.3. </span><span>Activation Frames</span><a href="#activation-frames①"></a></h5>
         <p>Activation frames carry the return arity <span><span><span></span></span></span> of the respective function,
hold the values of its <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-local"><span>locals</span></a> (including arguments) in the order corresponding to their static <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-localidx"><span>local indices</span></a>,
and a reference to the function’s own <a href="#syntax-moduleinst"><span>module instance</span></a>:</p>
         
         <p>The values of the locals are mutated by respective <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-variable"><span>variable instructions</span></a>.</p>
        </section>
        <section id="exec-expand">
          <span id="id6"></span>
         <h5 data-level="4.2.14.4" id="conventions②③"><span>4.2.14.4. </span><span>Conventions</span><a href="#conventions②③"></a></h5>
         <ul>
          <li>
           <p>The meta variable <span><span><span></span></span></span> ranges over labels where clear from context.</p>
          </li><li>
           <p>The meta variable <span><span><span></span></span></span> ranges over frame states where clear from context.</p>
          </li><li>
           <p>The following auxiliary definition takes a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-blocktype"><span>block type</span></a> and looks up the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> that it denotes in the current frame:</p>
         </li></ul>
         
        </section>
       </section>
       <section id="administrative-instructions">
         <span id="syntax-instr-admin"></span><span id="syntax-invoke"></span><span id="syntax-reffuncaddr"></span><span id="syntax-trap"></span><span id="index-15"></span>
        <h4 data-level="4.2.15" id="administrative-instructions①"><span>4.2.15. </span><span>Administrative Instructions</span><a href="#administrative-instructions①"></a></h4>
        
        <p>In order to express the reduction of <a href="https://www.w3.org/TR/wasm-core-2/index.html#trap"><span>traps</span></a>, <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-call"><span>calls</span></a>, and <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-control"><span>control instructions</span></a>, the syntax of instructions is extended to include the following <em>administrative instructions</em>:</p>
        
        <p>The <span><span><span></span></span></span> instruction represents the occurrence of a trap.
Traps are bubbled up through nested instruction sequences, ultimately reducing the entire program to a single <span><span><span></span></span></span> instruction, signalling abrupt termination.</p>
        <p>The <span><span><span></span></span></span> instruction represents <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-ref-func"><span>function reference values</span></a>. Similarly, <span><span><span></span></span></span> represents <a href="#syntax-ref-extern"><span>external references</span></a>.</p>
        <p>The <span><span><span></span></span></span> instruction represents the imminent invocation of a <a href="#syntax-funcinst"><span>function instance</span></a>, identified by its <a href="#syntax-funcaddr"><span>address</span></a>.
It unifies the handling of different forms of calls.</p>
        <p>The <span><span><span></span></span></span> and <span><span><span></span></span></span> instructions model <a href="#syntax-label"><span>labels</span></a> and <a href="#syntax-frame"><span>frames</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation"><span>“on the stack”</span></a>.
Moreover, the administrative syntax maintains the nesting structure of the original <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-control"><span>structured control instruction</span></a> or <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-func"><span>function body</span></a> and their <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-seq"><span>instruction sequences</span></a> with an <span><span><span></span></span></span> marker.
That way, the end of the inner instruction sequence is known when part of an outer sequence.</p>
        <div role="note">
         <p>Note</p>
         <p>For example, the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-block"><span>reduction rule</span></a> for <span><span><span></span></span></span> is:</p>
         
         <p>This replaces the block with a label instruction,
which can be interpreted as “pushing” the label on the stack.
When <span><span><span></span></span></span> is reached, i.e., the inner instruction sequence has been reduced to the empty sequence – or rather, a sequence of <span><span><span></span></span></span> <span><span><span></span></span></span> instructions representing the resulting values – then the <span><span><span></span></span></span> instruction is eliminated courtesy of its own <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-label"><span>reduction rule</span></a>:</p>
         
         <p>This can be interpreted as removing the label from the stack and only leaving the locally accumulated operand values.</p>
        </div>
        <section id="block-contexts">
          <span id="syntax-ctxt-block"></span><span id="index-16"></span>
         <h5 data-level="4.2.15.1" id="block-contexts①"><span>4.2.15.1. </span><span>Block Contexts</span><a href="#block-contexts①"></a></h5>
         <p>In order to specify the reduction of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-control"><span>branches</span></a>, the following syntax of <em>block contexts</em> is defined, indexed by the count <span><span><span></span></span></span> of labels surrounding a <em>hole</em> <span><span><span></span></span></span> that marks the place where the next step of computation is taking place:</p>
         
         <p>This definition allows to index active labels surrounding a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-br"><span>branch</span></a> or <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-return"><span>return</span></a> instruction.</p>
         <div role="note">
          <p>Note</p>
          <p>For example, the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-br"><span>reduction</span></a> of a simple branch can be defined as follows:</p>
          
          <p>Here, the hole <span><span><span></span></span></span> of the context is instantiated with a branch instruction.
When a branch occurs,
this rule replaces the targeted label and associated instruction sequence with the label’s continuation.
The selected label is identified through the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-labelidx"><span>label index</span></a> <span><span><span></span></span></span>, which corresponds to the number of surrounding <span><span><span></span></span></span> instructions that must be hopped over – which is exactly the count encoded in the index of a block context.</p>
         </div>
        </section>
        <section id="configurations">
          <span id="syntax-config"></span><span id="syntax-thread"></span><span id="index-17"></span>
         <h5 data-level="4.2.15.2" id="configurations①"><span>4.2.15.2. </span><span>Configurations</span><a href="#configurations①"></a></h5>
         <p>A <em>configuration</em> consists of the current <a href="#syntax-store"><span>store</span></a> and an executing <em>thread</em>.</p>
         <p>A thread is a computation over <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr"><span>instructions</span></a> that operates relative to the state of a current <a href="#syntax-framestate"><span>frame</span></a> referring to the <a href="#syntax-moduleinst"><span>module instance</span></a> in which the computation runs, i.e., where the current function originates from.</p>
         
         <div role="note">
          <p>Note</p>
          <p>The current version of WebAssembly is single-threaded,
but configurations with multiple threads may be supported in the future.</p>
         </div>
        </section>
        <section id="evaluation-contexts">
          <span id="syntax-ctxt-eval"></span><span id="index-18"></span>
         <h5 data-level="4.2.15.3" id="evaluation-contexts①"><span>4.2.15.3. </span><span>Evaluation Contexts</span><a href="#evaluation-contexts①"></a></h5>
         <p>Finally, the following definition of <em>evaluation context</em> and associated structural rules enable reduction inside instruction sequences and administrative forms as well as the propagation of traps:</p>
         
         
         <p>Reduction terminates when a thread’s instruction sequence has been reduced to a <a href="#syntax-result"><span>result</span></a>,
that is, either a sequence of <a href="#syntax-val"><span>values</span></a> or to a <span><span><span></span></span></span>.</p>
         <div role="note">
          <p>Note</p>
          <p>The restriction on evaluation contexts rules out contexts like <span><span><span></span></span></span> and <span><span><span></span></span></span> for which <span><span><span></span></span></span>.</p>
          <p>For an example of reduction under evaluation contexts, consider the following instruction sequence.</p>
          
          <p>This can be decomposed into <span><span><span></span></span></span> where</p>
          
          <p>Moreover, this is the <em>only</em> possible choice of evaluation context where the contents of the hole matches the left-hand side of a reduction rule.</p>
         </div>
        </section>
       </section>
      </section>
       <section id="numerics">
        <span id="exec-numeric"></span><span id="exec-op-partial"></span><span id="index-0①③"></span>
       <h3 data-level="4.3" id="numerics①"><span>4.3. </span><span>Numerics</span><a href="#numerics①"></a></h3>
       <p>Numeric primitives are defined in a generic manner, by operators indexed over a bit width <span><span><span></span></span></span>.</p>
       <p>Some operators are <em>non-deterministic</em>, because they can return one of several possible results (such as different <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-nan"><span>NaN</span></a> values).
Technically, each operator thus returns a <em>set</em> of allowed values.
For convenience, deterministic results are expressed as plain values, which are assumed to be identified with a respective singleton set.</p>
       <p>Some operators are <em>partial</em>, because they are not defined on certain inputs.
Technically, an empty set of results is returned for these inputs.</p>
       <p>In formal notation, each operator is defined by equational clauses that apply in decreasing order of precedence.
That is, the first clause that is applicable to the given arguments defines the result.
In some cases, similar clauses are combined into one by using the notation <span><span><span></span></span></span> or <span><span><span></span></span></span>.
When several of these placeholders occur in a single clause, then they must be resolved consistently: either the upper sign is chosen for all of them or the lower sign.</p>
       <div role="note">
        <p>Note</p>
        <p>For example, the <span><span><span></span></span></span> operator is defined as follows:</p>
        
        <p>This definition is to be read as a shorthand for the following expansion of each clause into two separate ones:</p>
        
       </div>
       <p>Numeric operators are lifted to input sequences by applying the operator element-wise, returning a sequence of results. When there are multiple inputs, they must be of equal length.</p>
       
       <div role="note">
        <p>Note</p>
        <p>For example, the unary operator <span><span><span></span></span></span>, when given a sequence of floating-point values, return a sequence of floating-point results:</p>
        
        <p>The binary operator <span><span><span></span></span></span>, when given two sequences of integers of the same length, <span><span><span></span></span></span>, return a sequence of integer results:</p>
        
       </div>
       <p id="aux-trunc">Conventions:</p>
       <ul>
        <li>
         <p>The meta variable <span><span><span></span></span></span> is used to range over single bits.</p>
        </li><li>
         <p>The meta variable <span><span><span></span></span></span> is used to range over (signless) <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-float"><span>magnitudes</span></a> of floating-point values, including <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
        </li><li>
         <p>The meta variable <span><span><span></span></span></span> is used to range over (signless) <em>rational</em> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-float"><span>magnitudes</span></a>, excluding <span><span><span></span></span></span> or <span><span><span></span></span></span>.</p>
        </li><li>
         <p>The notation <span><span><span></span></span></span> denotes the inverse of a bijective function <span><span><span></span></span></span>.</p>
        </li><li>
         <p>Truncation of rational values is written <span><span><span></span></span></span>, with the usual mathematical definition:</p>
         
       </li></ul>
        <span id="aux-sat-u"></span>
       <ul id="aux-sat-s">
        <li>
         <p>Saturation of integers is written <span><span><span></span></span></span> and <span><span><span></span></span></span>. The arguments to these two functions range over arbitrary signed integers.</p>
         <ul>
          <li>
           <p>Unsigned saturation, <span><span><span></span></span></span> clamps <span><span><span></span></span></span> to between <span><span><span></span></span></span> and <span><span><span></span></span></span>:</p>
           
          </li><li>
           <p>Signed saturation, <span><span><span></span></span></span> clamps <span><span><span></span></span></span> to between <span><span><span></span></span></span> and <span><span><span></span></span></span>:</p>
         </li></ul>
         
       </li></ul>
       <section id="representations">
         <span id="aux-bits"></span><span id="index-1①③"></span>
        <h4 data-level="4.3.1" id="representations①"><span>4.3.1. </span><span>Representations</span><a href="#representations①"></a></h4>
        <p>Numbers and numeric vectors have an underlying binary representation as a sequence of bits:</p>
        
        <p>Each of these functions is a bijection, hence they are invertible.</p>
        <section id="integers②">
          <span id="aux-ibits"></span><span id="index-2①①"></span>
         <h5 data-level="4.3.1.1" id="integers③"><span>4.3.1.1. </span><span>Integers</span><a href="#integers③"></a></h5>
         <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-int"><span>Integers</span></a> are represented as base two unsigned numbers:</p>
         
         <p>Boolean operators like <span><span><span></span></span></span>, <span><span><span></span></span></span>, or <span><span><span></span></span></span> are lifted to bit sequences of equal length by applying them pointwise.</p>
        </section>
        <section id="floating-point②">
          <span id="aux-fbits"></span><span id="aux-fsign"></span><span id="aux-fbias"></span><span id="index-3⑧"></span>
         <h5 data-level="4.3.1.2" id="floating-point③"><span>4.3.1.2. </span><span>Floating-Point</span><a href="#floating-point③"></a></h5>
         <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-float"><span>Floating-point values</span></a> are represented in the respective binary format defined by <a data-link-type="biblio" href="#biblio-ieee-754-2019" title="IEEE Standard for Floating-Point Arithmetic">[IEEE-754-2019]</a> (Section 3.4):</p>
         
         <p>where <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
        </section>
        <section id="vectors④">
          <span id="syntax-i128"></span><span id="aux-lanes"></span><span id="index-4⑧"></span>
         <h5 data-level="4.3.1.3" id="vectors⑤"><span>4.3.1.3. </span><span>Vectors</span><a href="#vectors⑤"></a></h5>
         <p>Numeric vectors of type <span><span><span></span></span></span> have the same underlying representation as an <span><span><span></span></span></span>.
They can also be interpreted as a sequence of numeric values packed into a <span><span><span></span></span></span> with a particular <span><span><span></span></span></span> <span><span><span></span></span></span>,
provided that <span><span><span></span></span></span>.</p>
         
         <p>This function is a bijection on <span><span><span></span></span></span>, hence it is invertible.</p>
        </section>
        <section id="storage">
          <span id="aux-bytes"></span><span id="aux-littleendian"></span><span id="index-5⑧"></span>
         <h5 data-level="4.3.1.4" id="storage①"><span>4.3.1.4. </span><span>Storage</span><a href="#storage①"></a></h5>
         <p>When a number is stored into <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-mem"><span>memory</span></a>, it is converted into a sequence of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-byte"><span>bytes</span></a> in <a href="https://en.wikipedia.org/wiki/Endianness#Little-endian">little endian</a> byte order:</p>
         
         <p>Again these functions are invertible bijections.</p>
        </section>
       </section>
       <section id="integer-operations">
         <span id="int-ops"></span><span id="index-6⑦"></span>
        <h4 data-level="4.3.2" id="integer-operations①"><span>4.3.2. </span><span>Integer Operations</span><a href="#integer-operations①"></a></h4>
        <section id="sign-interpretation">
          <span id="aux-signed"></span><span id="index-7⑦"></span>
         <h5 data-level="4.3.2.1" id="sign-interpretation①"><span>4.3.2.1. </span><span>Sign Interpretation</span><a href="#sign-interpretation①"></a></h5>
         <p>Integer operators are defined on <span><span><span></span></span></span> values.
Operators that use a signed interpretation convert the value using the following definition, which takes the two’s complement when the value lies in the upper half of the value range (i.e., its most significant bit is <span><span><span></span></span></span>):</p>
         
         <p>This function is bijective, and hence invertible.</p>
        </section>
        <section id="boolean-interpretation">
          <span id="aux-bool"></span><span id="index-8⑦"></span>
         <h5 data-level="4.3.2.2" id="boolean-interpretation①"><span>4.3.2.2. </span><span>Boolean Interpretation</span><a href="#boolean-interpretation①"></a></h5>
         <p>The integer result of predicates – i.e., <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-testop"><span>tests</span></a> and <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-relop"><span>relational</span></a> operators – is defined with the help of the following auxiliary function producing the value <span><span><span></span></span></span> or <span><span><span></span></span></span> depending on a condition.</p>
         
        </section>
        <section id="xref-exec-numerics-op-iadd-mathrm-iadd-n-i-1-i-2">
          <span id="op-iadd"></span>
         <h5 data-level="4.3.2.3" id="-hrefop-iaddmathrmiadd_n-i_1-i_2"><span>4.3.2.3. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-iaddmathrmiadd_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Return the result of adding <span><span><span></span></span></span> and <span><span><span></span></span></span> modulo <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-isub-mathrm-isub-n-i-1-i-2">
          <span id="op-isub"></span>
         <h5 data-level="4.3.2.4" id="-hrefop-isubmathrmisub_n-i_1-i_2"><span>4.3.2.4. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-isubmathrmisub_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Return the result of subtracting <span><span><span></span></span></span> from <span><span><span></span></span></span> modulo <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-imul-mathrm-imul-n-i-1-i-2">
          <span id="op-imul"></span>
         <h5 data-level="4.3.2.5" id="-hrefop-imulmathrmimul_n-i_1-i_2"><span>4.3.2.5. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-imulmathrmimul_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Return the result of multiplying <span><span><span></span></span></span> and <span><span><span></span></span></span> modulo <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-idiv-u-mathrm-idiv-u-n-i-1-i-2">
          <span id="op-idiv-u"></span>
         <h5 data-level="4.3.2.6" id="-hrefop-idiv-umathrmidiv_u_n-i_1-i_2"><span>4.3.2.6. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-idiv-umathrmidiv_u_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>If <span><span><span></span></span></span> is <span><span><span></span></span></span>, then the result is undefined.</p>
          </li><li>
           <p>Else, return the result of dividing <span><span><span></span></span></span> by <span><span><span></span></span></span>, truncated toward zero.</p>
         </li></ul>
         
         <div role="note">
          <p>Note</p>
          <p>This operator is <a href="#exec-op-partial"><span>partial</span></a>.</p>
         </div>
        </section>
        <section id="xref-exec-numerics-op-idiv-s-mathrm-idiv-s-n-i-1-i-2">
          <span id="op-idiv-s"></span>
         <h5 data-level="4.3.2.7" id="-hrefop-idiv-smathrmidiv_s_n-i_1-i_2"><span>4.3.2.7. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-idiv-smathrmidiv_s_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="#aux-signed"><span>signed interpretation</span></a> of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="#aux-signed"><span>signed interpretation</span></a> of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is <span><span><span></span></span></span>, then the result is undefined.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> divided by <span><span><span></span></span></span> is <span><span><span></span></span></span>, then the result is undefined.</p>
          </li><li>
           <p>Else, return the result of dividing <span><span><span></span></span></span> by <span><span><span></span></span></span>, truncated toward zero.</p>
         </li></ul>
         
         <div role="note">
          <p>Note</p>
          <p>This operator is <a href="#exec-op-partial"><span>partial</span></a>.
Besides division by <span><span><span></span></span></span>, the result of <span><span><span></span></span></span> is not representable as an <span><span><span></span></span></span>-bit signed integer.</p>
         </div>
        </section>
        <section id="xref-exec-numerics-op-irem-u-mathrm-irem-u-n-i-1-i-2">
          <span id="op-irem-u"></span>
         <h5 data-level="4.3.2.8" id="-hrefop-irem-umathrmirem_u_n-i_1-i_2"><span>4.3.2.8. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-irem-umathrmirem_u_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>If <span><span><span></span></span></span> is <span><span><span></span></span></span>, then the result is undefined.</p>
          </li><li>
           <p>Else, return the remainder of dividing <span><span><span></span></span></span> by <span><span><span></span></span></span>.</p>
         </li></ul>
         
         <div role="note">
          <p>Note</p>
          <p>This operator is <a href="#exec-op-partial"><span>partial</span></a>.</p>
          <p>As long as both operators are defined,
it holds that <span><span><span></span></span></span>.</p>
         </div>
        </section>
        <section id="xref-exec-numerics-op-irem-s-mathrm-irem-s-n-i-1-i-2">
          <span id="op-irem-s"></span>
         <h5 data-level="4.3.2.9" id="-hrefop-irem-smathrmirem_s_n-i_1-i_2"><span>4.3.2.9. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-irem-smathrmirem_s_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="#aux-signed"><span>signed interpretation</span></a> of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="#aux-signed"><span>signed interpretation</span></a> of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is <span><span><span></span></span></span>, then the result is undefined.</p>
          </li><li>
           <p>Else, return the remainder of dividing <span><span><span></span></span></span> by <span><span><span></span></span></span>, with the sign of the dividend <span><span><span></span></span></span>.</p>
         </li></ul>
         
         <div role="note">
          <p>Note</p>
          <p>This operator is <a href="#exec-op-partial"><span>partial</span></a>.</p>
          <p>As long as both operators are defined,
it holds that <span><span><span></span></span></span>.</p>
         </div>
        </section>
        <section id="xref-exec-numerics-op-inot-mathrm-inot-n-i">
          <span id="op-inot"></span>
         <h5 data-level="4.3.2.10" id="-hrefop-inotmathrminot_n-i"><span>4.3.2.10. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-inotmathrminot_n-i"></a></h5>
         <ul>
          <li>
           <p>Return the bitwise negation of <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-iand-mathrm-iand-n-i-1-i-2">
          <span id="op-iand"></span>
         <h5 data-level="4.3.2.11" id="-hrefop-iandmathrmiand_n-i_1-i_2"><span>4.3.2.11. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-iandmathrmiand_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Return the bitwise conjunction of <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-iandnot-mathrm-iandnot-n-i-1-i-2">
          <span id="op-iandnot"></span>
         <h5 data-level="4.3.2.12" id="-hrefop-iandnotmathrmiandnot_n-i_1-i_2"><span>4.3.2.12. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-iandnotmathrmiandnot_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Return the bitwise conjunction of <span><span><span></span></span></span> and the bitwise negation of <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-ior-mathrm-ior-n-i-1-i-2">
          <span id="op-ior"></span>
         <h5 data-level="4.3.2.13" id="-hrefop-iormathrmior_n-i_1-i_2"><span>4.3.2.13. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-iormathrmior_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Return the bitwise disjunction of <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-ixor-mathrm-ixor-n-i-1-i-2">
          <span id="op-ixor"></span>
         <h5 data-level="4.3.2.14" id="-hrefop-ixormathrmixor_n-i_1-i_2"><span>4.3.2.14. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-ixormathrmixor_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Return the bitwise exclusive disjunction of <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-ishl-mathrm-ishl-n-i-1-i-2">
          <span id="op-ishl"></span>
         <h5 data-level="4.3.2.15" id="-hrefop-ishlmathrmishl_n-i_1-i_2"><span>4.3.2.15. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-ishlmathrmishl_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Let <span><span><span></span></span></span> be <span><span><span></span></span></span> modulo <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return the result of shifting <span><span><span></span></span></span> left by <span><span><span></span></span></span> bits, modulo <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-ishr-u-mathrm-ishr-u-n-i-1-i-2">
          <span id="op-ishr-u"></span>
         <h5 data-level="4.3.2.16" id="-hrefop-ishr-umathrmishr_u_n-i_1-i_2"><span>4.3.2.16. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-ishr-umathrmishr_u_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Let <span><span><span></span></span></span> be <span><span><span></span></span></span> modulo <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return the result of shifting <span><span><span></span></span></span> right by <span><span><span></span></span></span> bits, extended with <span><span><span></span></span></span> bits.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-ishr-s-mathrm-ishr-s-n-i-1-i-2">
          <span id="op-ishr-s"></span>
         <h5 data-level="4.3.2.17" id="-hrefop-ishr-smathrmishr_s_n-i_1-i_2"><span>4.3.2.17. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-ishr-smathrmishr_s_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Let <span><span><span></span></span></span> be <span><span><span></span></span></span> modulo <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return the result of shifting <span><span><span></span></span></span> right by <span><span><span></span></span></span> bits, extended with the most significant bit of the original value.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-irotl-mathrm-irotl-n-i-1-i-2">
          <span id="op-irotl"></span>
         <h5 data-level="4.3.2.18" id="-hrefop-irotlmathrmirotl_n-i_1-i_2"><span>4.3.2.18. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-irotlmathrmirotl_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Let <span><span><span></span></span></span> be <span><span><span></span></span></span> modulo <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return the result of rotating <span><span><span></span></span></span> left by <span><span><span></span></span></span> bits.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-irotr-mathrm-irotr-n-i-1-i-2">
          <span id="op-irotr"></span>
         <h5 data-level="4.3.2.19" id="-hrefop-irotrmathrmirotr_n-i_1-i_2"><span>4.3.2.19. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-irotrmathrmirotr_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Let <span><span><span></span></span></span> be <span><span><span></span></span></span> modulo <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return the result of rotating <span><span><span></span></span></span> right by <span><span><span></span></span></span> bits.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-iclz-mathrm-iclz-n-i">
          <span id="op-iclz"></span>
         <h5 data-level="4.3.2.20" id="-hrefop-iclzmathrmiclz_n-i"><span>4.3.2.20. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-iclzmathrmiclz_n-i"></a></h5>
         <ul>
          <li>
           <p>Return the count of leading zero bits in <span><span><span></span></span></span>; all bits are considered leading zeros if <span><span><span></span></span></span> is <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-ictz-mathrm-ictz-n-i">
          <span id="op-ictz"></span>
         <h5 data-level="4.3.2.21" id="-hrefop-ictzmathrmictz_n-i"><span>4.3.2.21. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-ictzmathrmictz_n-i"></a></h5>
         <ul>
          <li>
           <p>Return the count of trailing zero bits in <span><span><span></span></span></span>; all bits are considered trailing zeros if <span><span><span></span></span></span> is <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-ipopcnt-mathrm-ipopcnt-n-i">
          <span id="op-ipopcnt"></span>
         <h5 data-level="4.3.2.22" id="-hrefop-ipopcntmathrmipopcnt_n-i"><span>4.3.2.22. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-ipopcntmathrmipopcnt_n-i"></a></h5>
         <ul>
          <li>
           <p>Return the count of non-zero bits in <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-ieqz-mathrm-ieqz-n-i">
          <span id="op-ieqz"></span>
         <h5 data-level="4.3.2.23" id="-hrefop-ieqzmathrmieqz_n-i"><span>4.3.2.23. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-ieqzmathrmieqz_n-i"></a></h5>
         <ul>
          <li>
           <p>Return <span><span><span></span></span></span> if <span><span><span></span></span></span> is zero, <span><span><span></span></span></span> otherwise.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-ieq-mathrm-ieq-n-i-1-i-2">
          <span id="op-ieq"></span>
         <h5 data-level="4.3.2.24" id="-hrefop-ieqmathrmieq_n-i_1-i_2"><span>4.3.2.24. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-ieqmathrmieq_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Return <span><span><span></span></span></span> if <span><span><span></span></span></span> equals <span><span><span></span></span></span>, <span><span><span></span></span></span> otherwise.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-ine-mathrm-ine-n-i-1-i-2">
          <span id="op-ine"></span>
         <h5 data-level="4.3.2.25" id="-hrefop-inemathrmine_n-i_1-i_2"><span>4.3.2.25. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-inemathrmine_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Return <span><span><span></span></span></span> if <span><span><span></span></span></span> does not equal <span><span><span></span></span></span>, <span><span><span></span></span></span> otherwise.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-ilt-u-mathrm-ilt-u-n-i-1-i-2">
          <span id="op-ilt-u"></span>
         <h5 data-level="4.3.2.26" id="-hrefop-ilt-umathrmilt_u_n-i_1-i_2"><span>4.3.2.26. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-ilt-umathrmilt_u_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Return <span><span><span></span></span></span> if <span><span><span></span></span></span> is less than <span><span><span></span></span></span>, <span><span><span></span></span></span> otherwise.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-ilt-s-mathrm-ilt-s-n-i-1-i-2">
          <span id="op-ilt-s"></span>
         <h5 data-level="4.3.2.27" id="-hrefop-ilt-smathrmilt_s_n-i_1-i_2"><span>4.3.2.27. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-ilt-smathrmilt_s_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="#aux-signed"><span>signed interpretation</span></a> of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="#aux-signed"><span>signed interpretation</span></a> of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return <span><span><span></span></span></span> if <span><span><span></span></span></span> is less than <span><span><span></span></span></span>, <span><span><span></span></span></span> otherwise.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-igt-u-mathrm-igt-u-n-i-1-i-2">
          <span id="op-igt-u"></span>
         <h5 data-level="4.3.2.28" id="-hrefop-igt-umathrmigt_u_n-i_1-i_2"><span>4.3.2.28. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-igt-umathrmigt_u_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Return <span><span><span></span></span></span> if <span><span><span></span></span></span> is greater than <span><span><span></span></span></span>, <span><span><span></span></span></span> otherwise.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-igt-s-mathrm-igt-s-n-i-1-i-2">
          <span id="op-igt-s"></span>
         <h5 data-level="4.3.2.29" id="-hrefop-igt-smathrmigt_s_n-i_1-i_2"><span>4.3.2.29. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-igt-smathrmigt_s_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="#aux-signed"><span>signed interpretation</span></a> of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="#aux-signed"><span>signed interpretation</span></a> of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return <span><span><span></span></span></span> if <span><span><span></span></span></span> is greater than <span><span><span></span></span></span>, <span><span><span></span></span></span> otherwise.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-ile-u-mathrm-ile-u-n-i-1-i-2">
          <span id="op-ile-u"></span>
         <h5 data-level="4.3.2.30" id="-hrefop-ile-umathrmile_u_n-i_1-i_2"><span>4.3.2.30. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-ile-umathrmile_u_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Return <span><span><span></span></span></span> if <span><span><span></span></span></span> is less than or equal to <span><span><span></span></span></span>, <span><span><span></span></span></span> otherwise.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-ile-s-mathrm-ile-s-n-i-1-i-2">
          <span id="op-ile-s"></span>
         <h5 data-level="4.3.2.31" id="-hrefop-ile-smathrmile_s_n-i_1-i_2"><span>4.3.2.31. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-ile-smathrmile_s_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="#aux-signed"><span>signed interpretation</span></a> of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="#aux-signed"><span>signed interpretation</span></a> of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return <span><span><span></span></span></span> if <span><span><span></span></span></span> is less than or equal to <span><span><span></span></span></span>, <span><span><span></span></span></span> otherwise.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-ige-u-mathrm-ige-u-n-i-1-i-2">
          <span id="op-ige-u"></span>
         <h5 data-level="4.3.2.32" id="-hrefop-ige-umathrmige_u_n-i_1-i_2"><span>4.3.2.32. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-ige-umathrmige_u_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Return <span><span><span></span></span></span> if <span><span><span></span></span></span> is greater than or equal to <span><span><span></span></span></span>, <span><span><span></span></span></span> otherwise.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-ige-s-mathrm-ige-s-n-i-1-i-2">
          <span id="op-ige-s"></span>
         <h5 data-level="4.3.2.33" id="-hrefop-ige-smathrmige_s_n-i_1-i_2"><span>4.3.2.33. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-ige-smathrmige_s_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="#aux-signed"><span>signed interpretation</span></a> of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="#aux-signed"><span>signed interpretation</span></a> of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return <span><span><span></span></span></span> if <span><span><span></span></span></span> is greater than or equal to <span><span><span></span></span></span>, <span><span><span></span></span></span> otherwise.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-iextendn-s-mathrm-iextend-m-mathrm-s-n-i">
          <span id="op-iextendn-s"></span>
         <h5 data-level="4.3.2.34" id="-hrefop-iextendn-smathrmiextendmmathrm_s_n-i"><span>4.3.2.34. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-iextendn-smathrmiextendmmathrm_s_n-i"></a></h5>
         <ul>
          <li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-ibitselect-mathrm-ibitselect-n-i-1-i-2-i-3">
          <span id="op-ibitselect"></span>
         <h5 data-level="4.3.2.35" id="-hrefop-ibitselectmathrmibitselect_n-i_1-i_2-i_3"><span>4.3.2.35. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-ibitselectmathrmibitselect_n-i_1-i_2-i_3"></a></h5>
         <ul>
          <li>
           <p>Let <span><span><span></span></span></span> be the bitwise conjunction of <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the bitwise negation of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the bitwise conjunction of <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return the bitwise disjunction of <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-iabs-mathrm-iabs-n-i">
          <span id="op-iabs"></span>
         <h5 data-level="4.3.2.36" id="-hrefop-iabsmathrmiabs_n-i"><span>4.3.2.36. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-iabsmathrmiabs_n-i"></a></h5>
         <ul>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="#aux-signed"><span>signed interpretation</span></a> of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is greater than or equal to <span><span><span></span></span></span>, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else return the negation of <cite>j</cite>, modulo <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-ineg-mathrm-ineg-n-i">
          <span id="op-ineg"></span>
         <h5 data-level="4.3.2.37" id="-hrefop-inegmathrmineg_n-i"><span>4.3.2.37. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-inegmathrmineg_n-i"></a></h5>
         <ul>
          <li>
           <p>Return the result of negating <span><span><span></span></span></span>, modulo <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-imin-u-mathrm-imin-u-n-i-1-i-2">
          <span id="op-imin-u"></span>
         <h5 data-level="4.3.2.38" id="-hrefop-imin-umathrmimin_u_n-i_1-i_2"><span>4.3.2.38. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-imin-umathrmimin_u_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Return <span><span><span></span></span></span> if <span><span><span></span></span></span> is <span><span><span></span></span></span>, return <span><span><span></span></span></span> otherwise.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-imin-s-mathrm-imin-s-n-i-1-i-2">
          <span id="op-imin-s"></span>
         <h5 data-level="4.3.2.39" id="-hrefop-imin-smathrmimin_s_n-i_1-i_2"><span>4.3.2.39. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-imin-smathrmimin_s_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Return <span><span><span></span></span></span> if <span><span><span></span></span></span> is <span><span><span></span></span></span>, return <span><span><span></span></span></span> otherwise.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-imax-u-mathrm-imax-u-n-i-1-i-2">
          <span id="op-imax-u"></span>
         <h5 data-level="4.3.2.40" id="-hrefop-imax-umathrmimax_u_n-i_1-i_2"><span>4.3.2.40. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-imax-umathrmimax_u_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Return <span><span><span></span></span></span> if <span><span><span></span></span></span> is <span><span><span></span></span></span>, return <span><span><span></span></span></span> otherwise.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-imax-s-mathrm-imax-s-n-i-1-i-2">
          <span id="op-imax-s"></span>
         <h5 data-level="4.3.2.41" id="-hrefop-imax-smathrmimax_s_n-i_1-i_2"><span>4.3.2.41. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-imax-smathrmimax_s_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Return <span><span><span></span></span></span> if <span><span><span></span></span></span> is <span><span><span></span></span></span>, return <span><span><span></span></span></span> otherwise.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-iadd-sat-u-mathrm-iadd-sat-u-n-i-1-i-2">
          <span id="op-iadd-sat-u"></span>
         <h5 data-level="4.3.2.42" id="-hrefop-iadd-sat-umathrmiadd_sat_u_n-i_1-i_2"><span>4.3.2.42. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-iadd-sat-umathrmiadd_sat_u_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Let <span><span><span></span></span></span> be the result of adding <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-iadd-sat-s-mathrm-iadd-sat-s-n-i-1-i-2">
          <span id="op-iadd-sat-s"></span>
         <h5 data-level="4.3.2.43" id="-hrefop-iadd-sat-smathrmiadd_sat_s_n-i_1-i_2"><span>4.3.2.43. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-iadd-sat-smathrmiadd_sat_s_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Let <span><span><span></span></span></span> be the signed interpretation of <span><span><span></span></span></span></p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the signed interpretation of <span><span><span></span></span></span></p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of adding <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-isub-sat-u-mathrm-isub-sat-u-n-i-1-i-2">
          <span id="op-isub-sat-u"></span>
         <h5 data-level="4.3.2.44" id="-hrefop-isub-sat-umathrmisub_sat_u_n-i_1-i_2"><span>4.3.2.44. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-isub-sat-umathrmisub_sat_u_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Let <span><span><span></span></span></span> be the result of subtracting <span><span><span></span></span></span> from <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-isub-sat-s-mathrm-isub-sat-s-n-i-1-i-2">
          <span id="op-isub-sat-s"></span>
         <h5 data-level="4.3.2.45" id="-hrefop-isub-sat-smathrmisub_sat_s_n-i_1-i_2"><span>4.3.2.45. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-isub-sat-smathrmisub_sat_s_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Let <span><span><span></span></span></span> be the signed interpretation of <span><span><span></span></span></span></p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the signed interpretation of <span><span><span></span></span></span></p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of subtracting <span><span><span></span></span></span> from <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-iavgr-u-mathrm-iavgr-u-n-i-1-i-2">
          <span id="op-iavgr-u"></span>
         <h5 data-level="4.3.2.46" id="-hrefop-iavgr-umathrmiavgr_u_n-i_1-i_2"><span>4.3.2.46. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-iavgr-umathrmiavgr_u_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Let <span><span><span></span></span></span> be the result of adding <span><span><span></span></span></span>, <span><span><span></span></span></span>, and <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return the result of dividing <span><span><span></span></span></span> by <span><span><span></span></span></span>, truncated toward zero.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-iq15mulrsat-s-mathrm-iq15mulrsat-s-n-i-1-i-2">
          <span id="op-iq15mulrsat-s"></span>
         <h5 data-level="4.3.2.47" id="-hrefop-iq15mulrsat-smathrmiq15mulrsat_s_n-i_1-i_2"><span>4.3.2.47. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-iq15mulrsat-smathrmiq15mulrsat_s_n-i_1-i_2"></a></h5>
         <ul>
          <li>
           <p>Return the result of <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="floating-point-operations">
         <span id="float-ops"></span><span id="index-9⑦"></span>
        <h4 data-level="4.3.3" id="floating-point-operations①"><span>4.3.3. </span><span>Floating-Point Operations</span><a href="#floating-point-operations①"></a></h4>
        <p>Floating-point arithmetic follows the <a data-link-type="biblio" href="#biblio-ieee-754-2019" title="IEEE Standard for Floating-Point Arithmetic">[IEEE-754-2019]</a> standard,
with the following qualifications:</p>
        <ul>
         <li>
          <p>All operators use round-to-nearest ties-to-even, except where otherwise specified.
Non-default directed rounding attributes are not supported.</p>
         </li><li>
          <p>Following the recommendation that operators propagate <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-nan"><span>NaN</span></a> payloads from their operands is permitted but not required.</p>
         </li><li>
          <p>All operators use “non-stop” mode, and floating-point exceptions are not otherwise observable.
In particular, neither alternate floating-point exception handling attributes nor operators on status flags are supported.
There is no observable difference between quiet and signalling NaNs.</p>
        </li></ul>
        <div role="note">
         <p>Note</p>
         <p>Some of these limitations may be lifted in future versions of WebAssembly.</p>
        </div>
        <section id="rounding">
          <span id="aux-ieee"></span><span id="index-10⑤"></span>
         <h5 data-level="4.3.3.1" id="rounding①"><span>4.3.3.1. </span><span>Rounding</span><a href="#rounding①"></a></h5>
         <p>Rounding always is round-to-nearest ties-to-even, in correspondence with <a data-link-type="biblio" href="#biblio-ieee-754-2019" title="IEEE Standard for Floating-Point Arithmetic">[IEEE-754-2019]</a> (Section 4.3.1).</p>
         <p>An <em>exact</em> floating-point number is a rational number that is exactly representable as a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-float"><span>floating-point number</span></a> of given bit width <span><span><span></span></span></span>.</p>
         <p>A <em>limit</em> number for a given floating-point bit width <span><span><span></span></span></span> is a positive or negative number whose magnitude is the smallest power of <span><span><span></span></span></span> that is not exactly representable as a floating-point number of width <span><span><span></span></span></span> (that magnitude is <span><span><span></span></span></span> for <span><span><span></span></span></span> and <span><span><span></span></span></span> for <span><span><span></span></span></span>).</p>
         <p>A <em>candidate</em> number is either an exact floating-point number or a positive or negative limit number for the given bit width <span><span><span></span></span></span>.</p>
         <p>A <em>candidate pair</em> is a pair <span><span><span></span></span></span> of candidate numbers, such that no candidate number exists that lies between the two.</p>
         <p>A real number <span><span><span></span></span></span> is converted to a floating-point value of bit width <span><span><span></span></span></span> as follows:</p>
         <ul>
          <li>
           <p>If <span><span><span></span></span></span> is <span><span><span></span></span></span>, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is an exact floating-point number, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> greater than or equal to the positive limit, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is less than or equal to the negative limit, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> and <span><span><span></span></span></span> are a candidate pair such that <span><span><span></span></span></span>, then:</p>
           <ul>
            <li>
             <p>If <span><span><span></span></span></span>, then let <span><span><span></span></span></span> be <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Else if <span><span><span></span></span></span>, then let <span><span><span></span></span></span> be <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Else if <span><span><span></span></span></span> and the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-float"><span>significand</span></a> of <span><span><span></span></span></span> is even, then let <span><span><span></span></span></span> be <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Else, let <span><span><span></span></span></span> be <span><span><span></span></span></span>.</p>
           </li></ul>
          </li><li>
           <p>If <span><span><span></span></span></span> is <span><span><span></span></span></span>, then:</p>
           <ul>
            <li>
             <p>If <span><span><span></span></span></span>, then return <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Else, return <span><span><span></span></span></span>.</p>
           </li></ul>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is a limit number, then:</p>
           <ul>
            <li>
             <p>If <span><span><span></span></span></span>, then return <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Else, return <span><span><span></span></span></span>.</p>
           </li></ul>
          </li><li>
           <p>Else, return <span><span><span></span></span></span>.</p>
         </li></ul>
         
         <p>where:</p>
         
        </section>
        <section id="nan-propagation">
          <span id="aux-nans"></span><span id="index-11⑤"></span>
         <h5 data-level="4.3.3.2" id="nan-propagation①"><span>4.3.3.2. </span><span>NaN Propagation</span><a href="#nan-propagation①"></a></h5>
         <p>When the result of a floating-point operator other than <span><span><span></span></span></span>, <span><span><span></span></span></span>, or <span><span><span></span></span></span> is a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-nan"><span>NaN</span></a>,
then its sign is non-deterministic and the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-payload"><span>payload</span></a> is computed as follows:</p>
         <ul>
          <li>
           <p>If the payload of all NaN inputs to the operator is <a href="https://www.w3.org/TR/wasm-core-2/index.html#canonical-nan"><span>canonical</span></a> (including the case that there are no NaN inputs), then the payload of the output is canonical as well.</p>
          </li><li>
           <p>Otherwise the payload is picked non-deterministically among all <a href="https://www.w3.org/TR/wasm-core-2/index.html#arithmetic-nan"><span>arithmetic NaNs</span></a>; that is, its most significant bit is <span><span><span></span></span></span> and all others are unspecified.</p>
         </li></ul>
         <p>This non-deterministic result is expressed by the following auxiliary function producing a set of allowed outputs from a set of inputs:</p>
         
        </section>
        <section id="xref-exec-numerics-op-fadd-mathrm-fadd-n-z-1-z-2">
          <span id="op-fadd"></span>
         <h5 data-level="4.3.3.3" id="-hrefop-faddmathrmfadd_n-z_1-z_2"><span>4.3.3.3. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-faddmathrmfadd_n-z_1-z_2"></a></h5>
         <ul>
          <li>
           <p>If either <span><span><span></span></span></span> or <span><span><span></span></span></span> is a NaN, then return an element of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if both <span><span><span></span></span></span> and <span><span><span></span></span></span> are infinities of opposite signs, then return an element of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if both <span><span><span></span></span></span> and <span><span><span></span></span></span> are infinities of equal sign, then return that infinity.</p>
          </li><li>
           <p>Else if either <span><span><span></span></span></span> or <span><span><span></span></span></span> is an infinity, then return that infinity.</p>
          </li><li>
           <p>Else if both <span><span><span></span></span></span> and <span><span><span></span></span></span> are zeroes of opposite sign, then return positive zero.</p>
          </li><li>
           <p>Else if both <span><span><span></span></span></span> and <span><span><span></span></span></span> are zeroes of equal sign, then return that zero.</p>
          </li><li>
           <p>Else if either <span><span><span></span></span></span> or <span><span><span></span></span></span> is a zero, then return the other operand.</p>
          </li><li>
           <p>Else if both <span><span><span></span></span></span> and <span><span><span></span></span></span> are values with the same magnitude but opposite signs, then return positive zero.</p>
          </li><li>
           <p>Else return the result of adding <span><span><span></span></span></span> and <span><span><span></span></span></span>, <a href="#aux-ieee"><span>rounded</span></a> to the nearest representable value.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-fsub-mathrm-fsub-n-z-1-z-2">
          <span id="op-fsub"></span>
         <h5 data-level="4.3.3.4" id="-hrefop-fsubmathrmfsub_n-z_1-z_2"><span>4.3.3.4. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-fsubmathrmfsub_n-z_1-z_2"></a></h5>
         <ul>
          <li>
           <p>If either <span><span><span></span></span></span> or <span><span><span></span></span></span> is a NaN, then return an element of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if both <span><span><span></span></span></span> and <span><span><span></span></span></span> are infinities of equal signs, then return an element of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if both <span><span><span></span></span></span> and <span><span><span></span></span></span> are infinities of opposite sign, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is an infinity, then return that infinity.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is an infinity, then return that infinity negated.</p>
          </li><li>
           <p>Else if both <span><span><span></span></span></span> and <span><span><span></span></span></span> are zeroes of equal sign, then return positive zero.</p>
          </li><li>
           <p>Else if both <span><span><span></span></span></span> and <span><span><span></span></span></span> are zeroes of opposite sign, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is a zero, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is a zero, then return <span><span><span></span></span></span> negated.</p>
          </li><li>
           <p>Else if both <span><span><span></span></span></span> and <span><span><span></span></span></span> are the same value, then return positive zero.</p>
          </li><li>
           <p>Else return the result of subtracting <span><span><span></span></span></span> from <span><span><span></span></span></span>, <a href="#aux-ieee"><span>rounded</span></a> to the nearest representable value.</p>
         </li></ul>
         
         <div role="note">
          <p>Note</p>
          <p>Up to the non-determinism regarding NaNs, it always holds that <span><span><span></span></span></span>.</p>
         </div>
        </section>
        <section id="xref-exec-numerics-op-fmul-mathrm-fmul-n-z-1-z-2">
          <span id="op-fmul"></span>
         <h5 data-level="4.3.3.5" id="-hrefop-fmulmathrmfmul_n-z_1-z_2"><span>4.3.3.5. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-fmulmathrmfmul_n-z_1-z_2"></a></h5>
         <ul>
          <li>
           <p>If either <span><span><span></span></span></span> or <span><span><span></span></span></span> is a NaN, then return an element of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if one of <span><span><span></span></span></span> and <span><span><span></span></span></span> is a zero and the other an infinity, then return an element of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if both <span><span><span></span></span></span> and <span><span><span></span></span></span> are infinities of equal sign, then return positive infinity.</p>
          </li><li>
           <p>Else if both <span><span><span></span></span></span> and <span><span><span></span></span></span> are infinities of opposite sign, then return negative infinity.</p>
          </li><li>
           <p>Else if either <span><span><span></span></span></span> or <span><span><span></span></span></span> is an infinity and the other a value with equal sign, then return positive infinity.</p>
          </li><li>
           <p>Else if either <span><span><span></span></span></span> or <span><span><span></span></span></span> is an infinity and the other a value with opposite sign, then return negative infinity.</p>
          </li><li>
           <p>Else if both <span><span><span></span></span></span> and <span><span><span></span></span></span> are zeroes of equal sign, then return positive zero.</p>
          </li><li>
           <p>Else if both <span><span><span></span></span></span> and <span><span><span></span></span></span> are zeroes of opposite sign, then return negative zero.</p>
          </li><li>
           <p>Else return the result of multiplying <span><span><span></span></span></span> and <span><span><span></span></span></span>, <a href="#aux-ieee"><span>rounded</span></a> to the nearest representable value.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-fdiv-mathrm-fdiv-n-z-1-z-2">
          <span id="op-fdiv"></span>
         <h5 data-level="4.3.3.6" id="-hrefop-fdivmathrmfdiv_n-z_1-z_2"><span>4.3.3.6. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-fdivmathrmfdiv_n-z_1-z_2"></a></h5>
         <ul>
          <li>
           <p>If either <span><span><span></span></span></span> or <span><span><span></span></span></span> is a NaN, then return an element of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if both <span><span><span></span></span></span> and <span><span><span></span></span></span> are infinities, then return an element of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if both <span><span><span></span></span></span> and <span><span><span></span></span></span> are zeroes, then return an element of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is an infinity and <span><span><span></span></span></span> a value with equal sign, then return positive infinity.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is an infinity and <span><span><span></span></span></span> a value with opposite sign, then return negative infinity.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is an infinity and <span><span><span></span></span></span> a value with equal sign, then return positive zero.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is an infinity and <span><span><span></span></span></span> a value with opposite sign, then return negative zero.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is a zero and <span><span><span></span></span></span> a value with equal sign, then return positive zero.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is a zero and <span><span><span></span></span></span> a value with opposite sign, then return negative zero.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is a zero and <span><span><span></span></span></span> a value with equal sign, then return positive infinity.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is a zero and <span><span><span></span></span></span> a value with opposite sign, then return negative infinity.</p>
          </li><li>
           <p>Else return the result of dividing <span><span><span></span></span></span> by <span><span><span></span></span></span>, <a href="#aux-ieee"><span>rounded</span></a> to the nearest representable value.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-fmin-mathrm-fmin-n-z-1-z-2">
          <span id="op-fmin"></span>
         <h5 data-level="4.3.3.7" id="-hrefop-fminmathrmfmin_n-z_1-z_2"><span>4.3.3.7. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-fminmathrmfmin_n-z_1-z_2"></a></h5>
         <ul>
          <li>
           <p>If either <span><span><span></span></span></span> or <span><span><span></span></span></span> is a NaN, then return an element of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if either <span><span><span></span></span></span> or <span><span><span></span></span></span> is a negative infinity, then return negative infinity.</p>
          </li><li>
           <p>Else if either <span><span><span></span></span></span> or <span><span><span></span></span></span> is a positive infinity, then return the other value.</p>
          </li><li>
           <p>Else if both <span><span><span></span></span></span> and <span><span><span></span></span></span> are zeroes of opposite signs, then return negative zero.</p>
          </li><li>
           <p>Else return the smaller value of <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-fmax-mathrm-fmax-n-z-1-z-2">
          <span id="op-fmax"></span>
         <h5 data-level="4.3.3.8" id="-hrefop-fmaxmathrmfmax_n-z_1-z_2"><span>4.3.3.8. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-fmaxmathrmfmax_n-z_1-z_2"></a></h5>
         <ul>
          <li>
           <p>If either <span><span><span></span></span></span> or <span><span><span></span></span></span> is a NaN, then return an element of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if either <span><span><span></span></span></span> or <span><span><span></span></span></span> is a positive infinity, then return positive infinity.</p>
          </li><li>
           <p>Else if either <span><span><span></span></span></span> or <span><span><span></span></span></span> is a negative infinity, then return the other value.</p>
          </li><li>
           <p>Else if both <span><span><span></span></span></span> and <span><span><span></span></span></span> are zeroes of opposite signs, then return positive zero.</p>
          </li><li>
           <p>Else return the larger value of <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-fcopysign-mathrm-fcopysign-n-z-1-z-2">
          <span id="op-fcopysign"></span>
         <h5 data-level="4.3.3.9" id="-hrefop-fcopysignmathrmfcopysign_n-z_1-z_2"><span>4.3.3.9. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-fcopysignmathrmfcopysign_n-z_1-z_2"></a></h5>
         <ul>
          <li>
           <p>If <span><span><span></span></span></span> and <span><span><span></span></span></span> have the same sign, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else return <span><span><span></span></span></span> with negated sign.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-fabs-mathrm-fabs-n-z">
          <span id="op-fabs"></span>
         <h5 data-level="4.3.3.10" id="-hrefop-fabsmathrmfabs_n-z"><span>4.3.3.10. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-fabsmathrmfabs_n-z"></a></h5>
         <ul>
          <li>
           <p>If <span><span><span></span></span></span> is a NaN, then return <span><span><span></span></span></span> with positive sign.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is an infinity, then return positive infinity.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is a zero, then return positive zero.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is a positive value, then <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else return <span><span><span></span></span></span> negated.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-fneg-mathrm-fneg-n-z">
          <span id="op-fneg"></span>
         <h5 data-level="4.3.3.11" id="-hrefop-fnegmathrmfneg_n-z"><span>4.3.3.11. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-fnegmathrmfneg_n-z"></a></h5>
         <ul>
          <li>
           <p>If <span><span><span></span></span></span> is a NaN, then return <span><span><span></span></span></span> with negated sign.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is an infinity, then return that infinity negated.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is a zero, then return that zero negated.</p>
          </li><li>
           <p>Else return <span><span><span></span></span></span> negated.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-fsqrt-mathrm-fsqrt-n-z">
          <span id="op-fsqrt"></span>
         <h5 data-level="4.3.3.12" id="-hrefop-fsqrtmathrmfsqrt_n-z"><span>4.3.3.12. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-fsqrtmathrmfsqrt_n-z"></a></h5>
         <ul>
          <li>
           <p>If <span><span><span></span></span></span> is a NaN, then return an element of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is negative infinity, then return an element of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is positive infinity, then return positive infinity.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is a zero, then return that zero.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> has a negative sign, then return an element of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else return the square root of <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-fceil-mathrm-fceil-n-z">
          <span id="op-fceil"></span>
         <h5 data-level="4.3.3.13" id="-hrefop-fceilmathrmfceil_n-z"><span>4.3.3.13. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-fceilmathrmfceil_n-z"></a></h5>
         <ul>
          <li>
           <p>If <span><span><span></span></span></span> is a NaN, then return an element of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is an infinity, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is a zero, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is smaller than <span><span><span></span></span></span> but greater than <span><span><span></span></span></span>, then return negative zero.</p>
          </li><li>
           <p>Else return the smallest integral value that is not smaller than <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-ffloor-mathrm-ffloor-n-z">
          <span id="op-ffloor"></span>
         <h5 data-level="4.3.3.14" id="-hrefop-ffloormathrmffloor_n-z"><span>4.3.3.14. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-ffloormathrmffloor_n-z"></a></h5>
         <ul>
          <li>
           <p>If <span><span><span></span></span></span> is a NaN, then return an element of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is an infinity, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is a zero, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is greater than <span><span><span></span></span></span> but smaller than <span><span><span></span></span></span>, then return positive zero.</p>
          </li><li>
           <p>Else return the largest integral value that is not larger than <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-ftrunc-mathrm-ftrunc-n-z">
          <span id="op-ftrunc"></span>
         <h5 data-level="4.3.3.15" id="-hrefop-ftruncmathrmftrunc_n-z"><span>4.3.3.15. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-ftruncmathrmftrunc_n-z"></a></h5>
         <ul>
          <li>
           <p>If <span><span><span></span></span></span> is a NaN, then return an element of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is an infinity, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is a zero, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is greater than <span><span><span></span></span></span> but smaller than <span><span><span></span></span></span>, then return positive zero.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is smaller than <span><span><span></span></span></span> but greater than <span><span><span></span></span></span>, then return negative zero.</p>
          </li><li>
           <p>Else return the integral value with the same sign as <span><span><span></span></span></span> and the largest magnitude that is not larger than the magnitude of <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-fnearest-mathrm-fnearest-n-z">
          <span id="op-fnearest"></span>
         <h5 data-level="4.3.3.16" id="-hrefop-fnearestmathrmfnearest_n-z"><span>4.3.3.16. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-fnearestmathrmfnearest_n-z"></a></h5>
         <ul>
          <li>
           <p>If <span><span><span></span></span></span> is a NaN, then return an element of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is an infinity, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is a zero, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is greater than <span><span><span></span></span></span> but smaller than or equal to <span><span><span></span></span></span>, then return positive zero.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is smaller than <span><span><span></span></span></span> but greater than or equal to <span><span><span></span></span></span>, then return negative zero.</p>
          </li><li>
           <p>Else return the integral value that is nearest to <span><span><span></span></span></span>; if two values are equally near, return the even one.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-feq-mathrm-feq-n-z-1-z-2">
          <span id="op-feq"></span>
         <h5 data-level="4.3.3.17" id="-hrefop-feqmathrmfeq_n-z_1-z_2"><span>4.3.3.17. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-feqmathrmfeq_n-z_1-z_2"></a></h5>
         <ul>
          <li>
           <p>If either <span><span><span></span></span></span> or <span><span><span></span></span></span> is a NaN, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if both <span><span><span></span></span></span> and <span><span><span></span></span></span> are zeroes, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if both <span><span><span></span></span></span> and <span><span><span></span></span></span> are the same value, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else return <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-fne-mathrm-fne-n-z-1-z-2">
          <span id="op-fne"></span>
         <h5 data-level="4.3.3.18" id="-hrefop-fnemathrmfne_n-z_1-z_2"><span>4.3.3.18. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-fnemathrmfne_n-z_1-z_2"></a></h5>
         <ul>
          <li>
           <p>If either <span><span><span></span></span></span> or <span><span><span></span></span></span> is a NaN, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if both <span><span><span></span></span></span> and <span><span><span></span></span></span> are zeroes, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if both <span><span><span></span></span></span> and <span><span><span></span></span></span> are the same value, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else return <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-flt-mathrm-flt-n-z-1-z-2">
          <span id="op-flt"></span>
         <h5 data-level="4.3.3.19" id="-hrefop-fltmathrmflt_n-z_1-z_2"><span>4.3.3.19. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-fltmathrmflt_n-z_1-z_2"></a></h5>
         <ul>
          <li>
           <p>If either <span><span><span></span></span></span> or <span><span><span></span></span></span> is a NaN, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> and <span><span><span></span></span></span> are the same value, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is positive infinity, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is negative infinity, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is positive infinity, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is negative infinity, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if both <span><span><span></span></span></span> and <span><span><span></span></span></span> are zeroes, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is smaller than <span><span><span></span></span></span>, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else return <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-fgt-mathrm-fgt-n-z-1-z-2">
          <span id="op-fgt"></span>
         <h5 data-level="4.3.3.20" id="-hrefop-fgtmathrmfgt_n-z_1-z_2"><span>4.3.3.20. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-fgtmathrmfgt_n-z_1-z_2"></a></h5>
         <ul>
          <li>
           <p>If either <span><span><span></span></span></span> or <span><span><span></span></span></span> is a NaN, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> and <span><span><span></span></span></span> are the same value, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is positive infinity, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is negative infinity, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is positive infinity, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is negative infinity, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if both <span><span><span></span></span></span> and <span><span><span></span></span></span> are zeroes, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is larger than <span><span><span></span></span></span>, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else return <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-fle-mathrm-fle-n-z-1-z-2">
          <span id="op-fle"></span>
         <h5 data-level="4.3.3.21" id="-hrefop-flemathrmfle_n-z_1-z_2"><span>4.3.3.21. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-flemathrmfle_n-z_1-z_2"></a></h5>
         <ul>
          <li>
           <p>If either <span><span><span></span></span></span> or <span><span><span></span></span></span> is a NaN, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> and <span><span><span></span></span></span> are the same value, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is positive infinity, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is negative infinity, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is positive infinity, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is negative infinity, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if both <span><span><span></span></span></span> and <span><span><span></span></span></span> are zeroes, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is smaller than or equal to <span><span><span></span></span></span>, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else return <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-fge-mathrm-fge-n-z-1-z-2">
          <span id="op-fge"></span>
         <h5 data-level="4.3.3.22" id="-hrefop-fgemathrmfge_n-z_1-z_2"><span>4.3.3.22. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-fgemathrmfge_n-z_1-z_2"></a></h5>
         <ul>
          <li>
           <p>If either <span><span><span></span></span></span> or <span><span><span></span></span></span> is a NaN, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> and <span><span><span></span></span></span> are the same value, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is positive infinity, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is negative infinity, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is positive infinity, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is negative infinity, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if both <span><span><span></span></span></span> and <span><span><span></span></span></span> are zeroes, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is smaller than or equal to <span><span><span></span></span></span>, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else return <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-fpmin-mathrm-fpmin-n-z-1-z-2">
          <span id="op-fpmin"></span>
         <h5 data-level="4.3.3.23" id="-hrefop-fpminmathrmfpmin_n-z_1-z_2"><span>4.3.3.23. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-fpminmathrmfpmin_n-z_1-z_2"></a></h5>
         <ul>
          <li>
           <p>If <span><span><span></span></span></span> is less than <span><span><span></span></span></span> then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else return <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-fpmax-mathrm-fpmax-n-z-1-z-2">
          <span id="op-fpmax"></span>
         <h5 data-level="4.3.3.24" id="-hrefop-fpmaxmathrmfpmax_n-z_1-z_2"><span>4.3.3.24. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-fpmaxmathrmfpmax_n-z_1-z_2"></a></h5>
         <ul>
          <li>
           <p>If <span><span><span></span></span></span> is less than <span><span><span></span></span></span> then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else return <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="conversions">
         <span id="convert-ops"></span>
        <h4 data-level="4.3.4" id="conversions①"><span>4.3.4. </span><span>Conversions</span><a href="#conversions①"></a></h4>
        <section id="xref-exec-numerics-op-extend-u-mathrm-extend-mathsf-u-m-n-i">
          <span id="op-extend-u"></span>
         <h5 data-level="4.3.4.1" id="-hrefop-extend-umathrmextendmathsfu_m-n-i"><span>4.3.4.1. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-extend-umathrmextendmathsfu_m-n-i"></a></h5>
         <ul>
          <li>
           <p>Return <span><span><span></span></span></span>.</p>
         </li></ul>
         
         <div role="note">
          <p>Note</p>
          <p>In the abstract syntax, unsigned extension just reinterprets the same value.</p>
         </div>
        </section>
        <section id="xref-exec-numerics-op-extend-s-mathrm-extend-mathsf-s-m-n-i">
          <span id="op-extend-s"></span>
         <h5 data-level="4.3.4.2" id="-hrefop-extend-smathrmextendmathsfs_m-n-i"><span>4.3.4.2. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-extend-smathrmextendmathsfs_m-n-i"></a></h5>
         <ul>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="#aux-signed"><span>signed interpretation</span></a> of <span><span><span></span></span></span> of size <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return the two’s complement of <span><span><span></span></span></span> relative to size <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-wrap-mathrm-wrap-m-n-i">
          <span id="op-wrap"></span>
         <h5 data-level="4.3.4.3" id="-hrefop-wrapmathrmwrap_m-n-i"><span>4.3.4.3. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-wrapmathrmwrap_m-n-i"></a></h5>
         <ul>
          <li>
           <p>Return <span><span><span></span></span></span> modulo <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-trunc-u-mathrm-trunc-mathsf-u-m-n-z">
          <span id="op-trunc-u"></span>
         <h5 data-level="4.3.4.4" id="-hrefop-trunc-umathrmtruncmathsfu_m-n-z"><span>4.3.4.4. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-trunc-umathrmtruncmathsfu_m-n-z"></a></h5>
         <ul>
          <li>
           <p>If <span><span><span></span></span></span> is a NaN, then the result is undefined.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is an infinity, then the result is undefined.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is a number and <span><span><span></span></span></span> is a value within range of the target type, then return that value.</p>
          </li><li>
           <p>Else the result is undefined.</p>
         </li></ul>
         
         <div role="note">
          <p>Note</p>
          <p>This operator is <a href="#exec-op-partial"><span>partial</span></a>.
It is not defined for NaNs, infinities, or values for which the result is out of range.</p>
         </div>
        </section>
        <section id="xref-exec-numerics-op-trunc-s-mathrm-trunc-mathsf-s-m-n-z">
          <span id="op-trunc-s"></span>
         <h5 data-level="4.3.4.5" id="-hrefop-trunc-smathrmtruncmathsfs_m-n-z"><span>4.3.4.5. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-trunc-smathrmtruncmathsfs_m-n-z"></a></h5>
         <ul>
          <li>
           <p>If <span><span><span></span></span></span> is a NaN, then the result is undefined.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is an infinity, then the result is undefined.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is a number and <span><span><span></span></span></span> is a value within range of the target type, then return that value.</p>
          </li><li>
           <p>Else the result is undefined.</p>
         </li></ul>
         
         <div role="note">
          <p>Note</p>
          <p>This operator is <a href="#exec-op-partial"><span>partial</span></a>.
It is not defined for NaNs, infinities, or values for which the result is out of range.</p>
         </div>
        </section>
        <section id="xref-exec-numerics-op-trunc-sat-u-mathrm-trunc-sat-u-m-n-z">
          <span id="op-trunc-sat-u"></span>
         <h5 data-level="4.3.4.6" id="-hrefop-trunc-sat-umathrmtrunc_sat_u_m-n-z"><span>4.3.4.6. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-trunc-sat-umathrmtrunc_sat_u_m-n-z"></a></h5>
         <ul>
          <li>
           <p>If <span><span><span></span></span></span> is a NaN, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is negative infinity, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is positive infinity, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else, return <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-trunc-sat-s-mathrm-trunc-sat-s-m-n-z">
          <span id="op-trunc-sat-s"></span>
         <h5 data-level="4.3.4.7" id="-hrefop-trunc-sat-smathrmtrunc_sat_s_m-n-z"><span>4.3.4.7. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-trunc-sat-smathrmtrunc_sat_s_m-n-z"></a></h5>
         <ul>
          <li>
           <p>If <span><span><span></span></span></span> is a NaN, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is negative infinity, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is positive infinity, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else, return <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-promote-mathrm-promote-m-n-z">
          <span id="op-promote"></span>
         <h5 data-level="4.3.4.8" id="-hrefop-promotemathrmpromote_m-n-z"><span>4.3.4.8. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-promotemathrmpromote_m-n-z"></a></h5>
         <ul>
          <li>
           <p>If <span><span><span></span></span></span> is a <a href="https://www.w3.org/TR/wasm-core-2/index.html#canonical-nan"><span>canonical NaN</span></a>, then return an element of <span><span><span></span></span></span> (i.e., a canonical NaN of size <span><span><span></span></span></span>).</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is a NaN, then return an element of <span><span><span></span></span></span> (i.e., any <a href="https://www.w3.org/TR/wasm-core-2/index.html#arithmetic-nan"><span>arithmetic NaN</span></a> of size <span><span><span></span></span></span>).</p>
          </li><li>
           <p>Else, return <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-demote-mathrm-demote-m-n-z">
          <span id="op-demote"></span>
         <h5 data-level="4.3.4.9" id="-hrefop-demotemathrmdemote_m-n-z"><span>4.3.4.9. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-demotemathrmdemote_m-n-z"></a></h5>
         <ul>
          <li>
           <p>If <span><span><span></span></span></span> is a <a href="https://www.w3.org/TR/wasm-core-2/index.html#canonical-nan"><span>canonical NaN</span></a>, then return an element of <span><span><span></span></span></span> (i.e., a canonical NaN of size <span><span><span></span></span></span>).</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is a NaN, then return an element of <span><span><span></span></span></span> (i.e., any NaN of size <span><span><span></span></span></span>).</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is an infinity, then return that infinity.</p>
          </li><li>
           <p>Else if <span><span><span></span></span></span> is a zero, then return that zero.</p>
          </li><li>
           <p>Else, return <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-convert-u-mathrm-convert-mathsf-u-m-n-i">
          <span id="op-convert-u"></span>
         <h5 data-level="4.3.4.10" id="-hrefop-convert-umathrmconvertmathsfu_m-n-i"><span>4.3.4.10. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-convert-umathrmconvertmathsfu_m-n-i"></a></h5>
         <ul>
          <li>
           <p>Return <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-convert-s-mathrm-convert-mathsf-s-m-n-i">
          <span id="op-convert-s"></span>
         <h5 data-level="4.3.4.11" id="-hrefop-convert-smathrmconvertmathsfs_m-n-i"><span>4.3.4.11. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-convert-smathrmconvertmathsfs_m-n-i"></a></h5>
         <ul>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="#aux-signed"><span>signed interpretation</span></a> of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-reinterpret-mathrm-reinterpret-t-1-t-2-c">
          <span id="op-reinterpret"></span>
         <h5 data-level="4.3.4.12" id="-hrefop-reinterpretmathrmreinterpret_t_1-t_2-c"><span>4.3.4.12. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-reinterpretmathrmreinterpret_t_1-t_2-c"></a></h5>
         <ul>
          <li>
           <p>Let <span><span><span></span></span></span> be the bit sequence <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return the constant <span><span><span></span></span></span> for which <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-narrow-s-mathrm-narrow-mathsf-s-m-n-i">
          <span id="op-narrow-s"></span>
         <h5 data-level="4.3.4.13" id="-hrefop-narrow-smathrmnarrowmathsfs_m-n-i"><span>4.3.4.13. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-narrow-smathrmnarrowmathsfs_m-n-i"></a></h5>
         <ul>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="#aux-signed"><span>signed interpretation</span></a> of <span><span><span></span></span></span> of size <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-numerics-op-narrow-u-mathrm-narrow-mathsf-u-m-n-i">
          <span id="op-narrow-u"></span>
         <h5 data-level="4.3.4.14" id="-hrefop-narrow-umathrmnarrowmathsfu_m-n-i"><span>4.3.4.14. </span><span><span><span><span></span></span></span></span><a href="#-hrefop-narrow-umathrmnarrowmathsfu_m-n-i"></a></h5>
         <ul>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="#aux-signed"><span>signed interpretation</span></a> of <span><span><span></span></span></span> of size <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
       </section>
      </section>
       <section id="instructions④">
        <span id="exec-instr"></span><span id="index-0①④"></span>
       <h3 data-level="4.4" id="instructions⑤"><span>4.4. </span><span>Instructions</span><a href="#instructions⑤"></a></h3>
       <p>WebAssembly computation is performed by executing individual <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr"><span>instructions</span></a>.</p>
       <section id="numeric-instructions④">
         <span id="exec-instr-numeric"></span><span id="index-1①④"></span>
        <h4 data-level="4.4.1" id="numeric-instructions⑤"><span>4.4.1. </span><span>Numeric Instructions</span><a href="#numeric-instructions⑤"></a></h4>
        <p>Numeric instructions are defined in terms of the generic <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-numeric"><span>numeric operators</span></a>.
The mapping of numeric instructions to their underlying operators is expressed by the following definition:</p>
        
        <p>And for <a href="#exec-cvtop"><span>conversion operators</span></a>:</p>
        
        <p>Where the underlying operators are partial, the corresponding instruction will <a href="https://www.w3.org/TR/wasm-core-2/index.html#trap"><span>trap</span></a> when the result is not defined.
Where the underlying operators are non-deterministic, because they may return one of multiple possible <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-nan"><span>NaN</span></a> values, so are the corresponding instructions.</p>
        <div role="note">
         <p>Note</p>
         <p>For example, the result of instruction <span><span><span></span></span></span> applied to operands <span><span><span></span></span></span> invokes <span><span><span></span></span></span>,
which maps to the generic <span><span><span></span></span></span> via the above definition.
Similarly, <span><span><span></span></span></span> applied to <span><span><span></span></span></span> invokes <span><span><span></span></span></span>,
which maps to the generic <span><span><span></span></span></span>.</p>
        </div>
        <section id="t-mathsf-xref-syntax-instructions-syntax-instr-numeric-mathsf-const-c①">
          <span id="exec-const"></span>
         <h5 data-level="4.4.1.1" id="-tmathsfhrefsyntax-instr-numericmathsfconstc①"><span>4.4.1.1. </span><span><span><span><span></span></span></span></span><a href="#-tmathsfhrefsyntax-instr-numericmathsfconstc①"></a></h5>
         <ol>
          <li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
         </li></ol>
         <div role="note">
          <p>Note</p>
          <p>No formal reduction rule is required for this instruction, since <span><span><span></span></span></span> instructions already are <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>values</span></a>.</p>
         </div>
        </section>
        <section id="t-mathsf-xref-syntax-instructions-syntax-unop-mathit-unop①">
          <span id="exec-unop"></span>
         <h5 data-level="4.4.1.2" id="-tmathsfhrefsyntax-unopmathitunop①"><span>4.4.1.2. </span><span><span><span><span></span></span></span></span><a href="#-tmathsfhrefsyntax-unopmathitunop①"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-unop"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is defined, then:</p>
           <ol>
            <li>
             <p>Let <span><span><span></span></span></span> be a possible result of computing <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Push the value <span><span><span></span></span></span> to the stack.</p>
           </li></ol>
          </li><li>
           <p>Else:</p>
           <ol>
            <li>
             <p>Trap.</p>
           </li></ol>
         </li></ol>
         
        </section>
        <section id="t-mathsf-xref-syntax-instructions-syntax-binop-mathit-binop①">
          <span id="exec-binop"></span>
         <h5 data-level="4.4.1.3" id="-tmathsfhrefsyntax-binopmathitbinop①"><span>4.4.1.3. </span><span><span><span><span></span></span></span></span><a href="#-tmathsfhrefsyntax-binopmathitbinop①"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-binop"><span>validation</span></a>, two values of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> are on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is defined, then:</p>
           <ol>
            <li>
             <p>Let <span><span><span></span></span></span> be a possible result of computing <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Push the value <span><span><span></span></span></span> to the stack.</p>
           </li></ol>
          </li><li>
           <p>Else:</p>
           <ol>
            <li>
             <p>Trap.</p>
           </li></ol>
         </li></ol>
         
        </section>
        <section id="t-mathsf-xref-syntax-instructions-syntax-testop-mathit-testop①">
          <span id="exec-testop"></span>
         <h5 data-level="4.4.1.4" id="-tmathsfhrefsyntax-testopmathittestop①"><span>4.4.1.4. </span><span><span><span><span></span></span></span></span><a href="#-tmathsfhrefsyntax-testopmathittestop①"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-testop"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
         </li></ol>
         
        </section>
        <section id="t-mathsf-xref-syntax-instructions-syntax-relop-mathit-relop①">
          <span id="exec-relop"></span>
         <h5 data-level="4.4.1.5" id="-tmathsfhrefsyntax-relopmathitrelop①"><span>4.4.1.5. </span><span><span><span><span></span></span></span></span><a href="#-tmathsfhrefsyntax-relopmathitrelop①"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-relop"><span>validation</span></a>, two values of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> are on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
         </li></ol>
         
        </section>
        <section id="t-2-mathsf-xref-syntax-instructions-syntax-cvtop-mathit-cvtop-mathsf-t-1-mathsf-xref-syntax-instructions-syntax-sx-mathit-sx①">
          <span id="exec-cvtop"></span>
         <h5 data-level="4.4.1.6" id="-t_2mathsfhrefsyntax-cvtopmathitcvtopmathsf_t_1mathsf_hrefsyntax-sxmathitsx①"><span>4.4.1.6. </span><span><span><span><span></span></span></span></span><a href="#-t_2mathsfhrefsyntax-cvtopmathitcvtopmathsf_t_1mathsf_hrefsyntax-sxmathitsx①"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-cvtop"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is defined:</p>
           <ol>
            <li>
             <p>Let <span><span><span></span></span></span> be a possible result of computing <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Push the value <span><span><span></span></span></span> to the stack.</p>
           </li></ol>
          </li><li>
           <p>Else:</p>
           <ol>
            <li>
             <p>Trap.</p>
           </li></ol>
         </li></ol>
         
        </section>
       </section>
       <section id="reference-instructions④">
         <span id="exec-instr-ref"></span><span id="index-2①②"></span>
        <h4 data-level="4.4.2" id="reference-instructions⑤"><span>4.4.2. </span><span>Reference Instructions</span><a href="#reference-instructions⑤"></a></h4>
        <section id="xref-syntax-instructions-syntax-instr-ref-mathsf-ref-null-t①">
          <span id="exec-ref-null"></span>
         <h5 data-level="4.4.2.1" id="-hrefsyntax-instr-refmathsfrefnullt①"><span>4.4.2.1. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-refmathsfrefnullt①"></a></h5>
         <ol>
          <li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
         </li></ol>
         <div role="note">
          <p>Note</p>
          <p>No formal reduction rule is required for this instruction, since the <span><span><span></span></span></span> instruction is already a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>value</span></a>.</p>
         </div>
        </section>
        <section id="xref-syntax-instructions-syntax-instr-ref-mathsf-ref-is-null①">
          <span id="exec-ref-is-null"></span>
         <h5 data-level="4.4.2.2" id="-hrefsyntax-instr-refmathsfrefis_null①"><span>4.4.2.2. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-refmathsfrefis_null①"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-ref-is-null"><span>validation</span></a>, a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-ref"><span>reference value</span></a> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is <span><span><span></span></span></span>, then:</p>
           <ol>
            <li>
             <p>Push the value <span><span><span></span></span></span> to the stack.</p>
           </li></ol>
          </li><li>
           <p>Else:</p>
           <ol>
            <li>
             <p>Push the value <span><span><span></span></span></span> to the stack.</p>
           </li></ol>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-ref-mathsf-ref-func-x①">
          <span id="exec-ref-func"></span>
         <h5 data-level="4.4.2.3" id="-hrefsyntax-instr-refmathsfreffuncx①"><span>4.4.2.3. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-refmathsfreffuncx①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-ref-func"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcaddr"><span>function address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
         </li></ol>
         
        </section>
       </section>
       <section id="vector-instructions④">
         <span id="exec-instr-vec"></span><span id="index-3⑨"></span>
        <h4 data-level="4.4.3" id="vector-instructions⑤"><span>4.4.3. </span><span>Vector Instructions</span><a href="#vector-instructions⑤"></a></h4>
        <p>Vector instructions that operate bitwise are handled as integer operations of respective width.</p>
        
        <p>Most other vector instructions are defined in terms of numeric operators that are applied lane-wise according to the given <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-vec-shape"><span>shape</span></a>.</p>
        
        <div role="note">
         <p>Note</p>
         <p>For example, the result of instruction <span><span><span></span></span></span> applied to operands <span><span><span></span></span></span> invokes <span><span><span></span></span></span>, which maps to <span><span><span></span></span></span>,
where <span><span><span></span></span></span> and <span><span><span></span></span></span> are sequences resulting from invoking <span><span><span></span></span></span> and <span><span><span></span></span></span> respectively.</p>
        </div>
        <section id="xref-syntax-types-syntax-valtype-mathsf-v128-mathsf-xref-syntax-instructions-syntax-instr-vec-mathsf-const-c①">
          <span id="exec-vconst"></span>
         <h5 data-level="4.4.3.1" id="-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-instr-vecmathsfconstc①"><span>4.4.3.1. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-instr-vecmathsfconstc①"></a></h5>
         <ol>
          <li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
         </li></ol>
         <div role="note">
          <p>Note</p>
          <p>No formal reduction rule is required for this instruction, since <span><span><span></span></span></span> instructions coincide with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>values</span></a>.</p>
         </div>
        </section>
        <section id="xref-syntax-types-syntax-valtype-mathsf-v128-mathsf-xref-syntax-instructions-syntax-vvunop-mathit-vvunop①">
          <span id="exec-vvunop"></span>
         <h5 data-level="4.4.3.2" id="-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-vvunopmathitvvunop①"><span>4.4.3.2. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-vvunopmathitvvunop①"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-vvunop"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-types-syntax-valtype-mathsf-v128-mathsf-xref-syntax-instructions-syntax-vvbinop-mathit-vvbinop①">
          <span id="exec-vvbinop"></span>
         <h5 data-level="4.4.3.3" id="-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-vvbinopmathitvvbinop①"><span>4.4.3.3. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-vvbinopmathitvvbinop①"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-vvbinop"><span>validation</span></a>, two values of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> are on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-types-syntax-valtype-mathsf-v128-mathsf-xref-syntax-instructions-syntax-vvternop-mathit-vvternop①">
          <span id="exec-vvternop"></span>
         <h5 data-level="4.4.3.4" id="-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-vvternopmathitvvternop①"><span>4.4.3.4. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-vvternopmathitvvternop①"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-vvternop"><span>validation</span></a>, three values of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> are on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-types-syntax-valtype-mathsf-v128-mathsf-xref-syntax-instructions-syntax-instr-vec-mathsf-any-true">
          <span id="exec-vec-any-true"></span><span id="exec-vvtestop"></span>
         <h5 data-level="4.4.3.5" id="-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-instr-vecmathsfany_true"><span>4.4.3.5. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-instr-vecmathsfany_true"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-vvtestop"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> onto the stack.</p>
         </li></ol>
         
        </section>
        <section id="mathsf-i8x16-xref-syntax-instructions-syntax-instr-vec-mathsf-swizzle①">
          <span id="exec-vec-swizzle"></span>
         <h5 data-level="4.4.3.6" id="-mathsfi8x16hrefsyntax-instr-vecmathsfswizzle①"><span>4.4.3.6. </span><span><span><span><span></span></span></span></span><a href="#-mathsfi8x16hrefsyntax-instr-vecmathsfswizzle①"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-vbinop"><span>validation</span></a>, two values of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> are on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the concatenation of the two sequences <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> onto the stack.</p>
         </li></ol>
         
        </section>
        <section id="mathsf-i8x16-xref-syntax-instructions-syntax-instr-vec-mathsf-shuffle-x-ast">
          <span id="exec-vec-shuffle"></span>
         <h5 data-level="4.4.3.7" id="-mathsfi8x16hrefsyntax-instr-vecmathsfshufflexast"><span>4.4.3.7. </span><span><span><span><span></span></span></span></span><a href="#-mathsfi8x16hrefsyntax-instr-vecmathsfshufflexast"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-vec-shuffle"><span>validation</span></a>, two values of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> are on the top of the stack.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-vec-shuffle"><span>validation</span></a>, for all <span><span><span></span></span></span> in <span><span><span></span></span></span> it holds that <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the concatenation of the two sequences <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> onto the stack.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-shape-mathit-shape-mathsf-xref-syntax-instructions-syntax-instr-vec-mathsf-splat①">
          <span id="exec-vec-splat"></span>
         <h5 data-level="4.4.3.8" id="-hrefsyntax-shapemathitshapemathsfhrefsyntax-instr-vecmathsfsplat①"><span>4.4.3.8. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-shapemathitshapemathsfhrefsyntax-instr-vecmathsfsplat①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the type <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-vec-splat"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the integer <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
         </li></ol>
         
        </section>
        
        <section id="xref-syntax-instructions-syntax-shape-mathit-shape-mathsf-xref-syntax-instructions-syntax-instr-vec-mathsf-replace-lane-x">
          <span id="exec-vec-replace-lane"></span>
         <h5 data-level="4.4.3.10" id="-hrefsyntax-shapemathitshapemathsfhrefsyntax-instr-vecmathsfreplace_lanex"><span>4.4.3.10. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-shapemathitshapemathsfhrefsyntax-instr-vecmathsfreplace_lanex"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-vec-replace-lane"><span>validation</span></a>, <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the type <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-vec-replace-lane"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-vec-replace-lane"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push <span><span><span></span></span></span> on the stack.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-shape-mathit-shape-mathsf-xref-syntax-instructions-syntax-vunop-mathit-vunop①">
          <span id="exec-vunop"></span>
         <h5 data-level="4.4.3.11" id="-hrefsyntax-shapemathitshapemathsfhrefsyntax-vunopmathitvunop①"><span>4.4.3.11. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-shapemathitshapemathsfhrefsyntax-vunopmathitvunop①"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-vunop"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-shape-mathit-shape-mathsf-xref-syntax-instructions-syntax-vbinop-mathit-vbinop①">
          <span id="exec-vbinop"></span>
         <h5 data-level="4.4.3.12" id="-hrefsyntax-shapemathitshapemathsfhrefsyntax-vbinopmathitvbinop①"><span>4.4.3.12. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-shapemathitshapemathsfhrefsyntax-vbinopmathitvbinop①"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-vbinop"><span>validation</span></a>, two values of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> are on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is defined:</p>
           <ol>
            <li>
             <p>Let <span><span><span></span></span></span> be a possible result of computing <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Push the value <span><span><span></span></span></span> to the stack.</p>
           </li></ol>
          </li><li>
           <p>Else:</p>
           <ol>
            <li>
             <p>Trap.</p>
           </li></ol>
         </li></ol>
         
        </section>
        <section id="t-mathsf-x-n-mathsf-xref-syntax-instructions-syntax-vrelop-mathit-vrelop">
          <span id="exec-vrelop"></span>
         <h5 data-level="4.4.3.13" id="-tmathsfxnmathsfhrefsyntax-vrelopmathitvrelop"><span>4.4.3.13. </span><span><span><span><span></span></span></span></span><a href="#-tmathsfxnmathsfhrefsyntax-vrelopmathitvrelop"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-vrelop"><span>validation</span></a>, two values of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> are on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
         </li></ol>
         
        </section>
        <section id="t-mathsf-x-n-mathsf-xref-syntax-instructions-syntax-vishiftop-mathit-vishiftop">
          <span id="exec-vishiftop"></span>
         <h5 data-level="4.4.3.14" id="-tmathsfxnmathsfhrefsyntax-vishiftopmathitvishiftop"><span>4.4.3.14. </span><span><span><span><span></span></span></span></span><a href="#-tmathsfxnmathsfhrefsyntax-vishiftopmathitvishiftop"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-vishiftop"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-vishiftop"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-shape-mathit-shape-mathsf-xref-syntax-instructions-syntax-instr-vec-mathsf-all-true">
          <span id="exec-vec-all-true"></span><span id="exec-vtestop"></span>
         <h5 data-level="4.4.3.15" id="-hrefsyntax-shapemathitshapemathsfhrefsyntax-instr-vecmathsfall_true"><span>4.4.3.15. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-shapemathitshapemathsfhrefsyntax-instr-vecmathsfall_true"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-vtestop"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> onto the stack.</p>
         </li></ol>
         
        </section>
        <section id="t-mathsf-x-n-mathsf-xref-syntax-instructions-syntax-instr-vec-mathsf-bitmask">
          <span id="exec-vec-bitmask"></span>
         <h5 data-level="4.4.3.16" id="-tmathsfxnmathsfhrefsyntax-instr-vecmathsfbitmask"><span>4.4.3.16. </span><span><span><span><span></span></span></span></span><a href="#-tmathsfxnmathsfhrefsyntax-instr-vecmathsfbitmask"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-vec-bitmask"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>bit width</span></a> <span><span><span></span></span></span> of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the concatenation of the two sequences <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> onto the stack.</p>
         </li></ol>
         
        </section>
        <section id="t-2-mathsf-x-n-mathsf-xref-syntax-instructions-syntax-instr-vec-mathsf-narrow-mathsf-t-1-mathsf-x-m-mathsf-xref-syntax-instructions-syntax-sx-mathit-sx">
          <span id="exec-vec-narrow"></span>
         <h5 data-level="4.4.3.17" id="-t_2mathsfxnmathsfhrefsyntax-instr-vecmathsfnarrowmathsf_t_1mathsfxmmathsf_hrefsyntax-sxmathitsx"><span>4.4.3.17. </span><span><span><span><span></span></span></span></span><a href="#-t_2mathsfxnmathsfhrefsyntax-instr-vecmathsfnarrowmathsf_t_1mathsfxmmathsf_hrefsyntax-sxmathitsx"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-vec"><span>syntax</span></a>, <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-vec-narrow"><span>validation</span></a>, two values of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> are on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the concatenation of the two sequences <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> onto the stack.</p>
         </li></ol>
         
        </section>
        <section id="t-2-mathsf-x-n-mathsf-xref-syntax-instructions-syntax-vcvtop-mathit-vcvtop-mathsf-t-1-mathsf-x-m-mathsf-xref-syntax-instructions-syntax-sx-mathit-sx">
          <span id="exec-vcvtop"></span>
         <h5 data-level="4.4.3.18" id="-t_2mathsfxnmathsfhrefsyntax-vcvtopmathitvcvtopmathsf_t_1mathsfxmmathsf_hrefsyntax-sxmathitsx"><span>4.4.3.18. </span><span><span><span><span></span></span></span></span><a href="#-t_2mathsfxnmathsfhrefsyntax-vcvtopmathitvcvtopmathsf_t_1mathsfxmmathsf_hrefsyntax-sxmathitsx"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-vec"><span>syntax</span></a>, <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-vcvtop"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> onto the stack.</p>
         </li></ol>
         
        </section>
        <section id="t-2-mathsf-x-n-mathsf-xref-syntax-instructions-syntax-vcvtop-mathit-vcvtop-mathsf-xref-syntax-instructions-syntax-half-mathit-half-mathsf-t-1-mathsf-x-m-mathsf-xref-syntax-instructions-syntax-sx-mathit-sx">
         <h5 data-level="4.4.3.19" id="-t_2mathsfxnmathsfhrefsyntax-vcvtopmathitvcvtopmathsf_hrefsyntax-halfmathithalfmathsf_t_1mathsfxmmathsf_hrefsyntax-sxmathitsx"><span>4.4.3.19. </span><span><span><span><span></span></span></span></span><a href="#-t_2mathsfxnmathsfhrefsyntax-vcvtopmathitvcvtopmathsf_hrefsyntax-halfmathithalfmathsf_t_1mathsfxmmathsf_hrefsyntax-sxmathitsx"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-vec"><span>syntax</span></a>, <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-vcvtop"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is <span><span><span></span></span></span>, then:</p>
           <ol>
            <li>
             <p>Let <span><span><span></span></span></span> be the sequence <span><span><span></span></span></span>.</p>
           </li></ol>
          </li><li>
           <p>Else:</p>
           <ol>
            <li>
             <p>Let <span><span><span></span></span></span> be the sequence <span><span><span></span></span></span>.</p>
           </li></ol>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> onto the stack.</p>
         </li></ol>
         
         <p>where:</p>
         
        </section>
        <section id="t-2-mathsf-x-n-mathsf-xref-syntax-instructions-syntax-vcvtop-mathit-vcvtop-mathsf-t-1-mathsf-x-m-mathsf-xref-syntax-instructions-syntax-sx-mathit-sx-mathsf-zero">
         <h5 data-level="4.4.3.20" id="-t_2mathsfxnmathsfhrefsyntax-vcvtopmathitvcvtopmathsf_t_1mathsfxmmathsf_hrefsyntax-sxmathitsxmathsf_zero"><span>4.4.3.20. </span><span><span><span><span></span></span></span></span><a href="#-t_2mathsfxnmathsfhrefsyntax-vcvtopmathitvcvtopmathsf_t_1mathsfxmmathsf_hrefsyntax-sxmathitsxmathsf_zero"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-vec"><span>syntax</span></a>, <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-vcvtop"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the concatenation of the two sequences <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> onto the stack.</p>
         </li></ol>
         
        </section>
        <section id="mathsf-i32x4-xref-syntax-instructions-syntax-instr-vec-mathsf-dot-mathsf-i16x8-s">
          <span id="exec-vec-dot"></span>
         <h5 data-level="4.4.3.21" id="-mathsfi32x4hrefsyntax-instr-vecmathsfdotmathsf_i16x8_s"><span>4.4.3.21. </span><span><span><span><span></span></span></span></span><a href="#-mathsfi32x4hrefsyntax-instr-vecmathsfdotmathsf_i16x8_s"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-vec-dot"><span>validation</span></a>, two values of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> are on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> onto the stack.</p>
         </li></ol>
         
        </section>
        <section id="t-2-mathsf-x-n-mathsf-xref-syntax-instructions-syntax-instr-vec-mathsf-extmul-mathsf-xref-syntax-instructions-syntax-half-mathit-half-mathsf-t-1-mathsf-x-m-mathsf-xref-syntax-instructions-syntax-sx-mathit-sx">
          <span id="exec-vec-extmul"></span>
         <h5 data-level="4.4.3.22" id="-t_2mathsfxnmathsfhrefsyntax-instr-vecmathsfextmulmathsf_hrefsyntax-halfmathithalfmathsf_t_1mathsfxmmathsf_hrefsyntax-sxmathitsx"><span>4.4.3.22. </span><span><span><span><span></span></span></span></span><a href="#-t_2mathsfxnmathsfhrefsyntax-instr-vecmathsfextmulmathsf_hrefsyntax-halfmathithalfmathsf_t_1mathsfxmmathsf_hrefsyntax-sxmathitsx"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-vec"><span>syntax</span></a>, <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-vec-extmul"><span>validation</span></a>, two values of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> are on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is <span><span><span></span></span></span>, then:</p>
           <ol>
            <li>
             <p>Let <span><span><span></span></span></span> be the sequence <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Let <span><span><span></span></span></span> be the sequence <span><span><span></span></span></span>.</p>
           </li></ol>
          </li><li>
           <p>Else:</p>
           <ol>
            <li>
             <p>Let <span><span><span></span></span></span> be the sequence <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Let <span><span><span></span></span></span> be the sequence <span><span><span></span></span></span>.</p>
           </li></ol>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> onto the stack.</p>
         </li></ol>
         
         <p>where:</p>
         
        </section>
        <section id="t-2-mathsf-x-n-mathsf-xref-syntax-instructions-syntax-instr-vec-mathsf-extadd-pairwise-t-1-mathsf-x-m-xref-syntax-instructions-syntax-sx-mathit-sx">
          <span id="exec-vec-extadd-pairwise"></span>
         <h5 data-level="4.4.3.23" id="-t_2mathsfxnmathsfhrefsyntax-instr-vecmathsfextadd_pairwise_t_1mathsfxm_hrefsyntax-sxmathitsx"><span>4.4.3.23. </span><span><span><span><span></span></span></span></span><a href="#-t_2mathsfxnmathsfhrefsyntax-instr-vecmathsfextadd_pairwise_t_1mathsfxm_hrefsyntax-sxmathitsx"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-vec"><span>syntax</span></a>, <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-vec-extadd-pairwise"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
         </li></ol>
         
        </section>
       </section>
       <section id="parametric-instructions④">
         <span id="exec-instr-parametric"></span><span id="index-4⑨"></span>
        <h4 data-level="4.4.4" id="parametric-instructions⑤"><span>4.4.4. </span><span>Parametric Instructions</span><a href="#parametric-instructions⑤"></a></h4>
        <section id="xref-syntax-instructions-syntax-instr-parametric-mathsf-drop①">
          <span id="exec-drop"></span>
         <h5 data-level="4.4.4.1" id="-hrefsyntax-instr-parametricmathsfdrop①"><span>4.4.4.1. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-parametricmathsfdrop①"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-drop"><span>validation</span></a>, a value is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-parametric-mathsf-select-t-ast①">
          <span id="exec-select"></span>
         <h5 data-level="4.4.4.2" id="-hrefsyntax-instr-parametricmathsfselect-tast①"><span>4.4.4.2. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-parametricmathsfselect-tast①"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-select"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-select"><span>validation</span></a>, two more values (of the same <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a>) are on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is not <span><span><span></span></span></span>, then:</p>
           <ol>
            <li>
             <p>Push the value <span><span><span></span></span></span> back to the stack.</p>
           </li></ol>
          </li><li>
           <p>Else:</p>
           <ol>
            <li>
             <p>Push the value <span><span><span></span></span></span> back to the stack.</p>
           </li></ol>
         </li></ol>
         
         <div role="note">
          <p>Note</p>
          <p>In future versions of WebAssembly, <span><span><span></span></span></span> may allow more than one value per choice.</p>
         </div>
        </section>
       </section>
       <section id="variable-instructions④">
         <span id="exec-instr-variable"></span><span id="index-5⑨"></span>
        <h4 data-level="4.4.5" id="variable-instructions⑤"><span>4.4.5. </span><span>Variable Instructions</span><a href="#variable-instructions⑤"></a></h4>
        <section id="xref-syntax-instructions-syntax-instr-variable-mathsf-local-get-x①">
          <span id="exec-local-get"></span>
         <h5 data-level="4.4.5.1" id="-hrefsyntax-instr-variablemathsflocalgetx①"><span>4.4.5.1. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-variablemathsflocalgetx①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-local-get"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the value <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-variable-mathsf-local-set-x①">
          <span id="exec-local-set"></span>
         <h5 data-level="4.4.5.2" id="-hrefsyntax-instr-variablemathsflocalsetx①"><span>4.4.5.2. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-variablemathsflocalsetx①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-local-set"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-local-set"><span>validation</span></a>, a value is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Replace <span><span><span></span></span></span> with the value <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-variable-mathsf-local-tee-x①">
          <span id="exec-local-tee"></span>
         <h5 data-level="4.4.5.3" id="-hrefsyntax-instr-variablemathsflocalteex①"><span>4.4.5.3. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-variablemathsflocalteex①"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-local-tee"><span>validation</span></a>, a value is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p><a href="#exec-local-set"><span>Execute</span></a> the instruction <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-variable-mathsf-global-get-x①">
          <span id="exec-global-get"></span>
         <h5 data-level="4.4.5.4" id="-hrefsyntax-instr-variablemathsfglobalgetx①"><span>4.4.5.4. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-variablemathsfglobalgetx①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-global-get"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaladdr"><span>global address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-global-get"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globalinst"><span>global instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the value <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-variable-mathsf-global-set-x①">
          <span id="exec-global-set"></span>
         <h5 data-level="4.4.5.5" id="-hrefsyntax-instr-variablemathsfglobalsetx①"><span>4.4.5.5. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-variablemathsfglobalsetx①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-global-set"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaladdr"><span>global address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-global-set"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globalinst"><span>global instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-global-set"><span>validation</span></a>, a value is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Replace <span><span><span></span></span></span> with the value <span><span><span></span></span></span>.</p>
         </li></ol>
         
         <div role="note">
          <p>Note</p>
          <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-global-set"><span>Validation</span></a> ensures that the global is, in fact, marked as mutable.</p>
         </div>
        </section>
       </section>
       <section id="table-instructions④">
         <span id="exec-instr-table"></span><span id="index-6⑧"></span>
        <h4 data-level="4.4.6" id="table-instructions⑤"><span>4.4.6. </span><span>Table Instructions</span><a href="#table-instructions⑤"></a></h4>
        <section id="xref-syntax-instructions-syntax-instr-table-mathsf-table-get-x①">
          <span id="exec-table-get"></span>
         <h5 data-level="4.4.6.1" id="-hrefsyntax-instr-tablemathsftablegetx①"><span>4.4.6.1. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-tablemathsftablegetx①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-get"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableaddr"><span>table address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-get"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableinst"><span>table instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-get"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is not smaller than the length of <span><span><span></span></span></span>, then:</p>
           <ol>
            <li>
             <p>Trap.</p>
           </li></ol>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the value <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-table-mathsf-table-set-x①">
          <span id="exec-table-set"></span>
         <h5 data-level="4.4.6.2" id="-hrefsyntax-instr-tablemathsftablesetx①"><span>4.4.6.2. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-tablemathsftablesetx①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-set"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableaddr"><span>table address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-set"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableinst"><span>table instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-set"><span>validation</span></a>, a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-ref"><span>reference value</span></a> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-set"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is not smaller than the length of <span><span><span></span></span></span>, then:</p>
           <ol>
            <li>
             <p>Trap.</p>
           </li></ol>
          </li><li>
           <p>Replace the element <span><span><span></span></span></span> with <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-table-mathsf-table-size-x①">
          <span id="exec-table-size"></span>
         <h5 data-level="4.4.6.3" id="-hrefsyntax-instr-tablemathsftablesizex①"><span>4.4.6.3. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-tablemathsftablesizex①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-size"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableaddr"><span>table address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-size"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableinst"><span>table instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the length of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-table-mathsf-table-grow-x①">
          <span id="exec-table-grow"></span>
         <h5 data-level="4.4.6.4" id="-hrefsyntax-instr-tablemathsftablegrowx①"><span>4.4.6.4. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-tablemathsftablegrowx①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-grow"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableaddr"><span>table address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-grow"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableinst"><span>table instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the length of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-grow"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-fill"><span>validation</span></a>, a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-ref"><span>reference value</span></a> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <span><span><span></span></span></span> value <span><span><span></span></span></span>, for which <span><span><span></span></span></span> is <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Either:</p>
         </li></ol>
         <blockquote>
          <div>
           <ol>
            <li>
             <p>If <a href="https://www.w3.org/TR/wasm-core-2/index.html#grow-table"><span>growing</span></a> <span><span><span></span></span></span> by <span><span><span></span></span></span> entries with initialization value <span><span><span></span></span></span> succeeds, then:</p>
             <ol>
              <li>
               <p>Push the value <span><span><span></span></span></span> to the stack.</p>
             </li></ol>
            </li><li>
             <p>Else:</p>
             <ol>
              <li>
               <p>Push the value <span><span><span></span></span></span> to the stack.</p>
             </li></ol>
           </li></ol>
          </div>
         </blockquote>
         <ol start="13">
          <li>
           <p>Or:</p>
         </li></ol>
         <blockquote>
          <div>
           <ol>
            <li>
             <p>push the value <span><span><span></span></span></span> to the stack.</p>
           </li></ol>
          </div>
         </blockquote>
         
         <div role="note">
          <p>Note</p>
          <p>The <span><span><span></span></span></span> instruction is non-deterministic.
It may either succeed, returning the old table size <span><span><span></span></span></span>,
or fail, returning <span><span><span></span></span></span>.
Failure <em>must</em> occur if the referenced table instance has a maximum size defined that would be exceeded.
However, failure <em>can</em> occur in other cases as well.
In practice, the choice depends on the <a href="https://www.w3.org/TR/wasm-core-2/index.html#impl-exec"><span>resources</span></a> available to the <a href="https://www.w3.org/TR/wasm-core-2/index.html#embedder"><span>embedder</span></a>.</p>
         </div>
        </section>
        <section id="xref-syntax-instructions-syntax-instr-table-mathsf-table-fill-x①">
          <span id="exec-table-fill"></span>
         <h5 data-level="4.4.6.5" id="-hrefsyntax-instr-tablemathsftablefillx①"><span>4.4.6.5. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-tablemathsftablefillx①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-fill"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableaddr"><span>table address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-fill"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableinst"><span>table instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-fill"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-fill"><span>validation</span></a>, a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-ref"><span>reference value</span></a> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-fill"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is larger than the length of <span><span><span></span></span></span>, then:</p>
           <ol>
            <li>
             <p>Trap.</p>
           </li></ol>
         </li></ol>
         <ol start="12">
          <li>
           <p>If <span><span><span></span></span></span> is <span><span><span></span></span></span>, then:</p>
           <ol>
            <li>
             <p>Return.</p>
           </li></ol>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Execute the instruction <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Execute the instruction <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-table-mathsf-table-copy-x-y①">
          <span id="exec-table-copy"></span>
         <h5 data-level="4.4.6.6" id="-hrefsyntax-instr-tablemathsftablecopyxy①"><span>4.4.6.6. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-tablemathsftablecopyxy①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-copy"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableaddr"><span>table address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-copy"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableinst"><span>table instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-copy"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableaddr"><span>table address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-copy"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableinst"><span>table instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-copy"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-copy"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-copy"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is larger than the length of <span><span><span></span></span></span> or <span><span><span></span></span></span> is larger than the length of <span><span><span></span></span></span>, then:</p>
           <ol>
            <li>
             <p>Trap.</p>
           </li></ol>
          </li><li>
           <p>If <span><span><span></span></span></span>, then:</p>
         </li></ol>
         <blockquote>
          <div>
           <ol>
            <li>
             <p>Return.</p>
           </li></ol>
          </div>
         </blockquote>
         <ol start="18">
          <li>
           <p>If <span><span><span></span></span></span>, then:</p>
         </li></ol>
         <blockquote>
          <div>
           <ol>
            <li>
             <p>Push the value <span><span><span></span></span></span> to the stack.</p>
            </li><li>
             <p>Push the value <span><span><span></span></span></span> to the stack.</p>
            </li><li>
             <p>Execute the instruction <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Execute the instruction <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Assert: due to the earlier check against the table size, <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Push the value <span><span><span></span></span></span> to the stack.</p>
            </li><li>
             <p>Assert: due to the earlier check against the table size, <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Push the value <span><span><span></span></span></span> to the stack.</p>
           </li></ol>
          </div>
         </blockquote>
         <ol start="19">
          <li>
           <p>Else:</p>
         </li></ol>
         <blockquote>
          <div>
           <ol>
            <li>
             <p>Assert: due to the earlier check against the table size, <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Push the value <span><span><span></span></span></span> to the stack.</p>
            </li><li>
             <p>Assert: due to the earlier check against the table size, <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Push the value <span><span><span></span></span></span> to the stack.</p>
           </li></ol>
           <ol start="3">
            <li>
             <p>Execute the instruction <span><span><span></span></span></span>.</p>
           </li></ol>
           <ol start="6">
            <li>
             <p>Execute the instruction <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Push the value <span><span><span></span></span></span> to the stack.</p>
            </li><li>
             <p>Push the value <span><span><span></span></span></span> to the stack.</p>
           </li></ol>
          </div>
         </blockquote>
         <ol start="20">
          <li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Execute the instruction <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-table-mathsf-table-init-x-y①">
          <span id="exec-table-init"></span>
         <h5 data-level="4.4.6.7" id="-hrefsyntax-instr-tablemathsftableinitxy①"><span>4.4.6.7. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-tablemathsftableinitxy①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-init"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableaddr"><span>table address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-init"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableinst"><span>table instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-init"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elemaddr"><span>element address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-init"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-eleminst"><span>element instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-init"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-init"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-init"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is larger than the length of <span><span><span></span></span></span> or <span><span><span></span></span></span> is larger than the length of <span><span><span></span></span></span>, then:</p>
           <ol>
            <li>
             <p>Trap.</p>
           </li></ol>
          </li><li>
           <p>If <span><span><span></span></span></span>, then:</p>
           <ol>
            <li>
             <p>Return.</p>
           </li></ol>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-ref"><span>reference value</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Execute the instruction <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to the earlier check against the table size, <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Assert: due to the earlier check against the segment size, <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Execute the instruction <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-table-mathsf-elem-drop-x①">
          <span id="exec-elem-drop"></span>
         <h5 data-level="4.4.6.8" id="-hrefsyntax-instr-tablemathsfelemdropx①"><span>4.4.6.8. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-tablemathsfelemdropx①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-elem-drop"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elemaddr"><span>element address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-elem-drop"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Replace <span><span><span></span></span></span> with <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
       </section>
       <section id="memory-instructions④">
         <span id="exec-instr-memory"></span><span id="exec-memarg"></span><span id="index-7⑧"></span>
        <h4 data-level="4.4.7" id="memory-instructions⑤"><span>4.4.7. </span><span>Memory Instructions</span><a href="#memory-instructions⑤"></a></h4>
        <div role="note">
         <p>Note</p>
         <p>The alignment <span><span><span></span></span></span> in load and store instructions does not affect the semantics.
It is an indication that the offset <span><span><span></span></span></span> at which the memory is accessed is intended to satisfy the property <span><span><span></span></span></span>.
A WebAssembly implementation can use this hint to optimize for the intended use.
Unaligned access violating that property is still allowed and must succeed regardless of the annotation.
However, it may be substantially slower on some hardware.</p>
        </div>
        <section id="t-mathsf-xref-syntax-instructions-syntax-instr-memory-mathsf-load-xref-syntax-instructions-syntax-memarg-mathit-memarg-and-t-mathsf-xref-syntax-instructions-syntax-instr-memory-mathsf-load-n-mathsf-xref-syntax-instructions-syntax-sx-mathit-sx-xref-syntax-instructions-syntax-memarg-mathit-memarg">
          <span id="exec-loadn"></span><span id="exec-load"></span>
         <h5 data-level="4.4.7.1" id="-tmathsfhrefsyntax-instr-memorymathsfloadhrefsyntax-memargmathitmemarg-and--tmathsfhrefsyntax-instr-memorymathsfloadnmathsf_hrefsyntax-sxmathitsxhrefsyntax-memargmathitmemarg"><span>4.4.7.1. </span><span><span><span><span></span></span></span> and <span><span><span></span></span></span></span><a href="#-tmathsfhrefsyntax-instr-memorymathsfloadhrefsyntax-memargmathitmemarg-and--tmathsfhrefsyntax-instr-memorymathsfloadnmathsf_hrefsyntax-sxmathitsxhrefsyntax-memargmathitmemarg"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-loadn"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memaddr"><span>memory address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-loadn"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>memory instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-loadn"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the integer <span><span><span></span></span></span>.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is not part of the instruction, then:</p>
           <ol>
            <li>
             <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-numtype"><span>bit width</span></a> <span><span><span></span></span></span> of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-numtype"><span>number type</span></a> <span><span><span></span></span></span>.</p>
           </li></ol>
          </li><li>
           <p>If <span><span><span></span></span></span> is larger than the length of <span><span><span></span></span></span>, then:</p>
           <ol>
            <li>
             <p>Trap.</p>
           </li></ol>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the byte sequence <span><span><span></span></span></span>.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> and <span><span><span></span></span></span> are part of the instruction, then:</p>
           <ol>
            <li>
             <p>Let <span><span><span></span></span></span> be the integer for which <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
           </li></ol>
          </li><li>
           <p>Else:</p>
           <ol>
            <li>
             <p>Let <span><span><span></span></span></span> be the constant for which <span><span><span></span></span></span>.</p>
           </li></ol>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-types-syntax-valtype-mathsf-v128-mathsf-xref-syntax-instructions-syntax-instr-memory-mathsf-load-m-mathsf-x-n-xref-syntax-instructions-syntax-sx-mathit-sx-xref-syntax-instructions-syntax-memarg-mathit-memarg">
          <span id="exec-load-extend"></span>
         <h5 data-level="4.4.7.2" id="-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-instr-memorymathsfloadmmathsfxn_hrefsyntax-sxmathitsxhrefsyntax-memargmathitmemarg"><span>4.4.7.2. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-instr-memorymathsfloadmmathsfxn_hrefsyntax-sxmathitsxhrefsyntax-memargmathitmemarg"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-load-extend"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memaddr"><span>memory address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-load-extend"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>memory instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-load-extend"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the integer <span><span><span></span></span></span>.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is larger than the length of <span><span><span></span></span></span>, then:</p>
           <blockquote>
            <div>
             <ol>
              <li>
               <p>Trap.</p>
             </li></ol>
            </div>
           </blockquote>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the byte sequence <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the integer for which <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the integer <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-types-syntax-valtype-mathsf-v128-mathsf-xref-syntax-instructions-syntax-instr-memory-mathsf-load-n-mathsf-splat-xref-syntax-instructions-syntax-memarg-mathit-memarg">
          <span id="exec-load-splat"></span>
         <h5 data-level="4.4.7.3" id="-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-instr-memorymathsfloadnmathsf_splathrefsyntax-memargmathitmemarg"><span>4.4.7.3. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-instr-memorymathsfloadnmathsf_splathrefsyntax-memargmathitmemarg"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-load-extend"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memaddr"><span>memory address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-load-extend"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>memory instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-load-extend"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the integer <span><span><span></span></span></span>.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is larger than the length of <span><span><span></span></span></span>, then:</p>
           <blockquote>
            <div>
             <ol>
              <li>
               <p>Trap.</p>
             </li></ol>
            </div>
           </blockquote>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the byte sequence <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the integer for which <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the integer <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-types-syntax-valtype-mathsf-v128-mathsf-xref-syntax-instructions-syntax-instr-memory-mathsf-load-n-mathsf-zero-xref-syntax-instructions-syntax-memarg-mathit-memarg">
          <span id="exec-load-zero"></span>
         <h5 data-level="4.4.7.4" id="-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-instr-memorymathsfloadnmathsf_zerohrefsyntax-memargmathitmemarg"><span>4.4.7.4. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-instr-memorymathsfloadnmathsf_zerohrefsyntax-memargmathitmemarg"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-load-extend"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memaddr"><span>memory address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-load-extend"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>memory instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-load-extend"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the integer <span><span><span></span></span></span>.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is larger than the length of <span><span><span></span></span></span>, then:</p>
           <blockquote>
            <div>
             <ol>
              <li>
               <p>Trap.</p>
             </li></ol>
            </div>
           </blockquote>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the byte sequence <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the integer for which <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-types-syntax-valtype-mathsf-v128-mathsf-xref-syntax-instructions-syntax-instr-memory-mathsf-load-n-mathsf-lane-xref-syntax-instructions-syntax-memarg-mathit-memarg-x">
          <span id="exec-load-lane"></span>
         <h5 data-level="4.4.7.5" id="-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-instr-memorymathsfloadnmathsf_lanehrefsyntax-memargmathitmemargx"><span>4.4.7.5. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-instr-memorymathsfloadnmathsf_lanehrefsyntax-memargmathitmemargx"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-load-extend"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memaddr"><span>memory address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-load-extend"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>memory instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-load-extend"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-load-extend"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the integer <span><span><span></span></span></span>.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is larger than the length of <span><span><span></span></span></span>, then:</p>
           <ol>
            <li>
             <p>Trap.</p>
           </li></ol>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the byte sequence <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the constant for which <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
         </li></ol>
         
        </section>
        <section id="t-mathsf-xref-syntax-instructions-syntax-instr-memory-mathsf-store-xref-syntax-instructions-syntax-memarg-mathit-memarg-and-t-mathsf-xref-syntax-instructions-syntax-instr-memory-mathsf-store-n-xref-syntax-instructions-syntax-memarg-mathit-memarg">
          <span id="exec-storen"></span><span id="exec-store"></span>
         <h5 data-level="4.4.7.6" id="-tmathsfhrefsyntax-instr-memorymathsfstorehrefsyntax-memargmathitmemarg-and--tmathsfhrefsyntax-instr-memorymathsfstorenhrefsyntax-memargmathitmemarg"><span>4.4.7.6. </span><span><span><span><span></span></span></span> and <span><span><span></span></span></span></span><a href="#-tmathsfhrefsyntax-instr-memorymathsfstorehrefsyntax-memargmathitmemarg-and--tmathsfhrefsyntax-instr-memorymathsfstorenhrefsyntax-memargmathitmemarg"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-storen"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memaddr"><span>memory address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-storen"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>memory instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-storen"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-storen"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the integer <span><span><span></span></span></span>.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is not part of the instruction, then:</p>
           <ol>
            <li>
             <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-numtype"><span>bit width</span></a> <span><span><span></span></span></span> of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-numtype"><span>number type</span></a> <span><span><span></span></span></span>.</p>
           </li></ol>
          </li><li>
           <p>If <span><span><span></span></span></span> is larger than the length of <span><span><span></span></span></span>, then:</p>
           <ol>
            <li>
             <p>Trap.</p>
           </li></ol>
          </li><li>
           <p>If <span><span><span></span></span></span> is part of the instruction, then:</p>
           <ol>
            <li>
             <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Let <span><span><span></span></span></span> be the byte sequence <span><span><span></span></span></span>.</p>
           </li></ol>
          </li><li>
           <p>Else:</p>
           <ol>
            <li>
             <p>Let <span><span><span></span></span></span> be the byte sequence <span><span><span></span></span></span>.</p>
           </li></ol>
          </li><li>
           <p>Replace the bytes <span><span><span></span></span></span> with <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-types-syntax-valtype-mathsf-v128-mathsf-xref-syntax-instructions-syntax-instr-memory-mathsf-store-n-mathsf-lane-xref-syntax-instructions-syntax-memarg-mathit-memarg-x">
          <span id="exec-store-lane"></span>
         <h5 data-level="4.4.7.7" id="-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-instr-memorymathsfstorenmathsf_lanehrefsyntax-memargmathitmemargx"><span>4.4.7.7. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-valtypemathsfv128mathsfhrefsyntax-instr-memorymathsfstorenmathsf_lanehrefsyntax-memargmathitmemargx"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-storen"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memaddr"><span>memory address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-storen"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>memory instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-storen"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-storen"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the integer <span><span><span></span></span></span>.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is larger than the length of <span><span><span></span></span></span>, then:</p>
           <ol>
            <li>
             <p>Trap.</p>
           </li></ol>
          </li><li>
           <p>Let <span><span><span></span></span></span> be <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of computing <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Replace the bytes <span><span><span></span></span></span> with <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-memory-mathsf-memory-size①">
          <span id="exec-memory-size"></span>
         <h5 data-level="4.4.7.8" id="-hrefsyntax-instr-memorymathsfmemorysize①"><span>4.4.7.8. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-memorymathsfmemorysize①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memory-size"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memaddr"><span>memory address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memory-size"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>memory instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the length of <span><span><span></span></span></span> divided by the <a href="https://www.w3.org/TR/wasm-core-2/index.html#page-size"><span>page size</span></a>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-memory-mathsf-memory-grow①">
          <span id="exec-memory-grow"></span>
         <h5 data-level="4.4.7.9" id="-hrefsyntax-instr-memorymathsfmemorygrow①"><span>4.4.7.9. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-memorymathsfmemorygrow①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memory-grow"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memaddr"><span>memory address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memory-grow"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>memory instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the length of <span><span><span></span></span></span> divided by the <a href="https://www.w3.org/TR/wasm-core-2/index.html#page-size"><span>page size</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memory-grow"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <span><span><span></span></span></span> value <span><span><span></span></span></span>, for which <span><span><span></span></span></span> is <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Either:</p>
         </li></ol>
         <blockquote>
          <div>
           <ol>
            <li>
             <p>If <a href="https://www.w3.org/TR/wasm-core-2/index.html#grow-mem"><span>growing</span></a> <span><span><span></span></span></span> by <span><span><span></span></span></span> <a href="https://www.w3.org/TR/wasm-core-2/index.html#page-size"><span>pages</span></a> succeeds, then:</p>
             <ol>
              <li>
               <p>Push the value <span><span><span></span></span></span> to the stack.</p>
             </li></ol>
            </li><li>
             <p>Else:</p>
             <ol>
              <li>
               <p>Push the value <span><span><span></span></span></span> to the stack.</p>
             </li></ol>
           </li></ol>
          </div>
         </blockquote>
         <ol start="11">
          <li>
           <p>Or:</p>
         </li></ol>
         <blockquote>
          <div>
           <ol>
            <li>
             <p>Push the value <span><span><span></span></span></span> to the stack.</p>
           </li></ol>
          </div>
         </blockquote>
         
         <div role="note">
          <p>Note</p>
          <p>The <span><span><span></span></span></span> instruction is non-deterministic.
It may either succeed, returning the old memory size <span><span><span></span></span></span>,
or fail, returning <span><span><span></span></span></span>.
Failure <em>must</em> occur if the referenced memory instance has a maximum size defined that would be exceeded.
However, failure <em>can</em> occur in other cases as well.
In practice, the choice depends on the <a href="https://www.w3.org/TR/wasm-core-2/index.html#impl-exec"><span>resources</span></a> available to the <a href="https://www.w3.org/TR/wasm-core-2/index.html#embedder"><span>embedder</span></a>.</p>
         </div>
        </section>
        <section id="xref-syntax-instructions-syntax-instr-memory-mathsf-memory-fill①">
          <span id="exec-memory-fill"></span>
         <h5 data-level="4.4.7.10" id="-hrefsyntax-instr-memorymathsfmemoryfill①"><span>4.4.7.10. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-memorymathsfmemoryfill①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memory-fill"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memaddr"><span>memory address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memory-fill"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>memory instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memory-fill"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memory-fill"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memory-fill"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is larger than the length of <span><span><span></span></span></span>, then:</p>
           <ol>
            <li>
             <p>Trap.</p>
           </li></ol>
          </li><li>
           <p>If <span><span><span></span></span></span>, then:</p>
           <ol>
            <li>
             <p>Return.</p>
           </li></ol>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Execute the instruction <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to the earlier check against the memory size, <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Execute the instruction <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-memory-mathsf-memory-copy①">
          <span id="exec-memory-copy"></span>
         <h5 data-level="4.4.7.11" id="-hrefsyntax-instr-memorymathsfmemorycopy①"><span>4.4.7.11. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-memorymathsfmemorycopy①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memory-copy"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memaddr"><span>memory address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memory-copy"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>memory instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memory-copy"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memory-copy"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memory-copy"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is larger than the length of <span><span><span></span></span></span> or <span><span><span></span></span></span> is larger than the length of <span><span><span></span></span></span>, then:</p>
           <ol>
            <li>
             <p>Trap.</p>
           </li></ol>
          </li><li>
           <p>If <span><span><span></span></span></span>, then:</p>
         </li></ol>
         <blockquote>
          <div>
           <ol>
            <li>
             <p>Return.</p>
           </li></ol>
          </div>
         </blockquote>
         <ol start="14">
          <li>
           <p>If <span><span><span></span></span></span>, then:</p>
         </li></ol>
         <blockquote>
          <div>
           <ol>
            <li>
             <p>Push the value <span><span><span></span></span></span> to the stack.</p>
            </li><li>
             <p>Push the value <span><span><span></span></span></span> to the stack.</p>
            </li><li>
             <p>Execute the instruction <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Execute the instruction <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Assert: due to the earlier check against the memory size, <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Push the value <span><span><span></span></span></span> to the stack.</p>
            </li><li>
             <p>Assert: due to the earlier check against the memory size, <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Push the value <span><span><span></span></span></span> to the stack.</p>
           </li></ol>
          </div>
         </blockquote>
         <ol start="15">
          <li>
           <p>Else:</p>
         </li></ol>
         <blockquote>
          <div>
           <ol>
            <li>
             <p>Assert: due to the earlier check against the memory size, <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Push the value <span><span><span></span></span></span> to the stack.</p>
            </li><li>
             <p>Assert: due to the earlier check against the memory size, <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Push the value <span><span><span></span></span></span> to the stack.</p>
            </li><li>
             <p>Execute the instruction <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Execute the instruction <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Push the value <span><span><span></span></span></span> to the stack.</p>
            </li><li>
             <p>Push the value <span><span><span></span></span></span> to the stack.</p>
           </li></ol>
          </div>
         </blockquote>
         <ol start="16">
          <li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Execute the instruction <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-memory-mathsf-memory-init-x①">
          <span id="exec-memory-init"></span>
         <h5 data-level="4.4.7.12" id="-hrefsyntax-instr-memorymathsfmemoryinitx①"><span>4.4.7.12. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-memorymathsfmemoryinitx①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memory-init"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memaddr"><span>memory address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memory-init"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>memory instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memory-init"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-dataaddr"><span>data address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memory-init"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-datainst"><span>data instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memory-init"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memory-init"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memory-init"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is larger than the length of <span><span><span></span></span></span> or <span><span><span></span></span></span> is larger than the length of <span><span><span></span></span></span>, then:</p>
           <ol>
            <li>
             <p>Trap.</p>
           </li></ol>
          </li><li>
           <p>If <span><span><span></span></span></span>, then:</p>
           <ol>
            <li>
             <p>Return.</p>
           </li></ol>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the byte <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Execute the instruction <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to the earlier check against the memory size, <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Assert: due to the earlier check against the memory size, <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Push the value <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Execute the instruction <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-memory-mathsf-data-drop-x①">
          <span id="exec-data-drop"></span>
         <h5 data-level="4.4.7.13" id="-hrefsyntax-instr-memorymathsfdatadropx①"><span>4.4.7.13. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-memorymathsfdatadropx①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-data-drop"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-dataaddr"><span>data address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-data-drop"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Replace <span><span><span></span></span></span> with the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-datainst"><span>data instance</span></a> <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
       </section>
       <section id="control-instructions④">
         <span id="exec-instr-control"></span><span id="exec-label"></span><span id="index-8⑧"></span>
        <h4 data-level="4.4.8" id="control-instructions⑤"><span>4.4.8. </span><span>Control Instructions</span><a href="#control-instructions⑤"></a></h4>
        <section id="xref-syntax-instructions-syntax-instr-control-mathsf-nop①">
          <span id="exec-nop"></span>
         <h5 data-level="4.4.8.1" id="-hrefsyntax-instr-controlmathsfnop①"><span>4.4.8.1. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-controlmathsfnop①"></a></h5>
         <ol>
          <li>
           <p>Do nothing.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-control-mathsf-unreachable①">
          <span id="exec-unreachable"></span>
         <h5 data-level="4.4.8.2" id="-hrefsyntax-instr-controlmathsfunreachable①"><span>4.4.8.2. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-controlmathsfunreachable①"></a></h5>
         <ol>
          <li>
           <p>Trap.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-control-mathsf-block-xref-syntax-instructions-syntax-blocktype-mathit-blocktype-xref-syntax-instructions-syntax-instr-mathit-instr-ast-xref-syntax-instructions-syntax-instr-control-mathsf-end①">
          <span id="exec-block"></span>
         <h5 data-level="4.4.8.3" id="-hrefsyntax-instr-controlmathsfblockhrefsyntax-blocktypemathitblocktypehrefsyntax-instrmathitinstrasthrefsyntax-instr-controlmathsfend①"><span>4.4.8.3. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-controlmathsfblockhrefsyntax-blocktypemathitblocktypehrefsyntax-instrmathitinstrasthrefsyntax-instr-controlmathsfend①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-blocktype"><span>validation</span></a>, <span><span><span></span></span></span> is defined.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the label whose arity is <span><span><span></span></span></span> and whose continuation is the end of the block.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-block"><span>validation</span></a>, there are at least <span><span><span></span></span></span> values on the top of the stack.</p>
          </li><li>
           <p>Pop the values <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p><a href="#exec-instr-seq-enter"><span>Enter</span></a> the block <span><span><span></span></span></span> with label <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-control-mathsf-loop-xref-syntax-instructions-syntax-blocktype-mathit-blocktype-xref-syntax-instructions-syntax-instr-mathit-instr-ast-xref-syntax-instructions-syntax-instr-control-mathsf-end①">
          <span id="exec-loop"></span>
         <h5 data-level="4.4.8.4" id="-hrefsyntax-instr-controlmathsfloophrefsyntax-blocktypemathitblocktypehrefsyntax-instrmathitinstrasthrefsyntax-instr-controlmathsfend①"><span>4.4.8.4. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-controlmathsfloophrefsyntax-blocktypemathitblocktypehrefsyntax-instrmathitinstrasthrefsyntax-instr-controlmathsfend①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-blocktype"><span>validation</span></a>, <span><span><span></span></span></span> is defined.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the label whose arity is <span><span><span></span></span></span> and whose continuation is the start of the loop.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-loop"><span>validation</span></a>, there are at least <span><span><span></span></span></span> values on the top of the stack.</p>
          </li><li>
           <p>Pop the values <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p><a href="#exec-instr-seq-enter"><span>Enter</span></a> the block <span><span><span></span></span></span> with label <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-control-mathsf-if-xref-syntax-instructions-syntax-blocktype-mathit-blocktype-xref-syntax-instructions-syntax-instr-mathit-instr-1-ast-xref-syntax-instructions-syntax-instr-control-mathsf-else-xref-syntax-instructions-syntax-instr-mathit-instr-2-ast-xref-syntax-instructions-syntax-instr-control-mathsf-end①">
          <span id="exec-if"></span>
         <h5 data-level="4.4.8.5" id="-hrefsyntax-instr-controlmathsfifhrefsyntax-blocktypemathitblocktypehrefsyntax-instrmathitinstr_1asthrefsyntax-instr-controlmathsfelsehrefsyntax-instrmathitinstr_2asthrefsyntax-instr-controlmathsfend①"><span>4.4.8.5. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-controlmathsfifhrefsyntax-blocktypemathitblocktypehrefsyntax-instrmathitinstr_1asthrefsyntax-instr-controlmathsfelsehrefsyntax-instrmathitinstr_2asthrefsyntax-instr-controlmathsfend①"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-if"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is non-zero, then:</p>
           <ol>
            <li>
             <p>Execute the block instruction <span><span><span></span></span></span>.</p>
           </li></ol>
          </li><li>
           <p>Else:</p>
           <ol>
            <li>
             <p>Execute the block instruction <span><span><span></span></span></span>.</p>
           </li></ol>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-control-mathsf-br-l①">
          <span id="exec-br"></span>
         <h5 data-level="4.4.8.6" id="-hrefsyntax-instr-controlmathsfbrl①"><span>4.4.8.6. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-controlmathsfbrl①"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-br"><span>validation</span></a>, the stack contains at least <span><span><span></span></span></span> labels.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <span><span><span></span></span></span>-th label appearing on the stack, starting from the top and counting from zero.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the arity of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-br"><span>validation</span></a>, there are at least <span><span><span></span></span></span> values on the top of the stack.</p>
          </li><li>
           <p>Pop the values <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Repeat <span><span><span></span></span></span> times:</p>
           <ol>
            <li>
             <p>While the top of the stack is a value, do:</p>
             <ol>
              <li>
               <p>Pop the value from the stack.</p>
             </li></ol>
            </li><li>
             <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-br"><span>validation</span></a>, the top of the stack now is a label.</p>
            </li><li>
             <p>Pop the label from the stack.</p>
           </li></ol>
          </li><li>
           <p>Push the values <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Jump to the continuation of <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-control-mathsf-br-if-l①">
          <span id="exec-br-if"></span>
         <h5 data-level="4.4.8.7" id="-hrefsyntax-instr-controlmathsfbr_ifl①"><span>4.4.8.7. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-controlmathsfbr_ifl①"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-br-if"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is non-zero, then:</p>
           <ol>
            <li>
             <p><a href="#exec-br"><span>Execute</span></a> the instruction <span><span><span></span></span></span>.</p>
           </li></ol>
          </li><li>
           <p>Else:</p>
           <ol>
            <li>
             <p>Do nothing.</p>
           </li></ol>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-control-mathsf-br-table-l-ast-l-n①">
          <span id="exec-br-table"></span>
         <h5 data-level="4.4.8.8" id="-hrefsyntax-instr-controlmathsfbr_tablelastl_n①"><span>4.4.8.8. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-controlmathsfbr_tablelastl_n①"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-br-table"><span>validation</span></a>, a value of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is smaller than the length of <span><span><span></span></span></span>, then:</p>
           <ol>
            <li>
             <p>Let <span><span><span></span></span></span> be the label <span><span><span></span></span></span>.</p>
            </li><li>
             <p><a href="#exec-br"><span>Execute</span></a> the instruction <span><span><span></span></span></span>.</p>
           </li></ol>
          </li><li>
           <p>Else:</p>
           <ol>
            <li>
             <p><a href="#exec-br"><span>Execute</span></a> the instruction <span><span><span></span></span></span>.</p>
           </li></ol>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-control-mathsf-return①">
          <span id="exec-return"></span>
         <h5 data-level="4.4.8.9" id="-hrefsyntax-instr-controlmathsfreturn①"><span>4.4.8.9. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-controlmathsfreturn①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the arity of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-return"><span>validation</span></a>, there are at least <span><span><span></span></span></span> values on the top of the stack.</p>
          </li><li>
           <p>Pop the results <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-return"><span>validation</span></a>, the stack contains at least one <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>While the top of the stack is not a frame, do:</p>
           <ol>
            <li>
             <p>Pop the top element from the stack.</p>
           </li></ol>
          </li><li>
           <p>Assert: the top of the stack is the frame <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Pop the frame from the stack.</p>
          </li><li>
           <p>Push <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Jump to the instruction after the original call that pushed the frame.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-control-mathsf-call-x①">
          <span id="exec-call"></span>
         <h5 data-level="4.4.8.10" id="-hrefsyntax-instr-controlmathsfcallx①"><span>4.4.8.10. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-controlmathsfcallx①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-call"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcaddr"><span>function address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p><a href="#exec-invoke"><span>Invoke</span></a> the function instance at address <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="xref-syntax-instructions-syntax-instr-control-mathsf-call-indirect-x-y①">
          <span id="exec-call-indirect"></span>
         <h5 data-level="4.4.8.11" id="-hrefsyntax-instr-controlmathsfcall_indirectxy①"><span>4.4.8.11. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-instr-controlmathsfcall_indirectxy①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-call-indirect"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableaddr"><span>table address</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-call-indirect"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableinst"><span>table instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-call-indirect"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-call-indirect"><span>validation</span></a>, a value with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> is on the top of the stack.</p>
          </li><li>
           <p>Pop the value <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is not smaller than the length of <span><span><span></span></span></span>, then:</p>
           <ol>
            <li>
             <p>Trap.</p>
           </li></ol>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-ref"><span>reference</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is <span><span><span></span></span></span>, then:</p>
           <ol>
            <li>
             <p>Trap.</p>
           </li></ol>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-set"><span>validation of table mutation</span></a>, <span><span><span></span></span></span> is a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-ref-func"><span>function reference</span></a>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-ref-func"><span>function reference</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-table-set"><span>validation of table mutation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcinst"><span>function instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> and <span><span><span></span></span></span> differ, then:</p>
           <ol>
            <li>
             <p>Trap.</p>
           </li></ol>
          </li><li>
           <p><a href="#exec-invoke"><span>Invoke</span></a> the function instance at address <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
       </section>
       <section id="blocks">
         <span id="exec-instr-seq"></span><span id="index-9⑧"></span>
        <h4 data-level="4.4.9" id="blocks①"><span>4.4.9. </span><span>Blocks</span><a href="#blocks①"></a></h4>
        <p>The following auxiliary rules define the semantics of executing an <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-seq"><span>instruction sequence</span></a> that forms a <a href="#exec-instr-control"><span>block</span></a>.</p>
        <section id="entering-xref-syntax-instructions-syntax-instr-mathit-instr-ast-with-label-l">
          <span id="exec-instr-seq-enter"></span>
         <h5 data-level="4.4.9.1" id="entering--hrefsyntax-instrmathitinstrast-with-label--l"><span>4.4.9.1. </span><span>Entering <span><span><span></span></span></span> with label <span><span><span></span></span></span></span><a href="#entering--hrefsyntax-instrmathitinstrast-with-label--l"></a></h5>
         <ol>
          <li>
           <p>Push <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Jump to the start of the instruction sequence <span><span><span></span></span></span>.</p>
         </li></ol>
         <div role="note">
          <p>Note</p>
          <p>No formal reduction rule is needed for entering an instruction sequence,
because the label <span><span><span></span></span></span> is embedded in the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-admin"><span>administrative instruction</span></a> that structured control instructions reduce to directly.</p>
         </div>
        </section>
        <section id="exiting-xref-syntax-instructions-syntax-instr-mathit-instr-ast-with-label-l">
          <span id="exec-instr-seq-exit"></span>
         <h5 data-level="4.4.9.2" id="exiting--hrefsyntax-instrmathitinstrast-with-label--l"><span>4.4.9.2. </span><span>Exiting <span><span><span></span></span></span> with label <span><span><span></span></span></span></span><a href="#exiting--hrefsyntax-instrmathitinstrast-with-label--l"></a></h5>
         <p>When the end of a block is reached without a jump or trap aborting it, then the following steps are performed.</p>
         <ol>
          <li>
           <p>Pop all values <span><span><span></span></span></span> from the top of the stack.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-instr-seq"><span>validation</span></a>, the label <span><span><span></span></span></span> is now on the top of the stack.</p>
          </li><li>
           <p>Pop the label from the stack.</p>
          </li><li>
           <p>Push <span><span><span></span></span></span> back to the stack.</p>
          </li><li>
           <p>Jump to the position after the <span><span><span></span></span></span> of the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-control"><span>structured control instruction</span></a> associated with the label <span><span><span></span></span></span>.</p>
         </li></ol>
         
         <div role="note">
          <p>Note</p>
          <p>This semantics also applies to the instruction sequence contained in a <span><span><span></span></span></span> instruction.
Therefore, execution of a loop falls off the end, unless a backwards branch is performed explicitly.</p>
         </div>
        </section>
       </section>
       <section id="function-calls">
         <span id="index-10⑥"></span>
        <h4 data-level="4.4.10" id="function-calls①"><span>4.4.10. </span><span>Function Calls</span><a href="#function-calls①"></a></h4>
        <p>The following auxiliary rules define the semantics of invoking a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcinst"><span>function instance</span></a> through one of the <a href="#exec-instr-control"><span>call instructions</span></a> and returning from it.</p>
        <section id="invocation-of-function-address-a">
          <span id="exec-invoke"></span>
         <h5 data-level="4.4.10.1" id="invocation-of-function-address--a"><span>4.4.10.1. </span><span>Invocation of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcaddr"><span>function address</span></a> <span><span><span></span></span></span></span><a href="#invocation-of-function-address--a"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-call"><span>validation</span></a>, <span><span><span></span></span></span> exists.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcinst"><span>function instance</span></a>, <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the list of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value types</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-expr"><span>expression</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-call"><span>validation</span></a>, <span><span><span></span></span></span> values are on the top of the stack.</p>
          </li><li>
           <p>Pop the values <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Push the activation of <span><span><span></span></span></span> with arity <span><span><span></span></span></span> to the stack.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-label"><span>label</span></a> whose arity is <span><span><span></span></span></span> and whose continuation is the end of the function.</p>
          </li><li>
           <p><a href="#exec-instr-seq-enter"><span>Enter</span></a> the instruction sequence <span><span><span></span></span></span> with label <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="returning-from-a-function">
          <span id="exec-invoke-exit"></span>
         <h5 data-level="4.4.10.2" id="returning-from-a-function①"><span>4.4.10.2. </span><span>Returning from a function</span><a href="#returning-from-a-function①"></a></h5>
         <p>When the end of a function is reached without a jump (i.e., <span><span><span></span></span></span>) or trap aborting it, then the following steps are performed.</p>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the arity of the activation of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-instr-seq"><span>validation</span></a>, there are <span><span><span></span></span></span> values on the top of the stack.</p>
          </li><li>
           <p>Pop the results <span><span><span></span></span></span> from the stack.</p>
          </li><li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-func"><span>validation</span></a>, the frame <span><span><span></span></span></span> is now on the top of the stack.</p>
          </li><li>
           <p>Pop the frame from the stack.</p>
          </li><li>
           <p>Push <span><span><span></span></span></span> back to the stack.</p>
          </li><li>
           <p>Jump to the instruction after the original call.</p>
         </li></ol>
         
        </section>
        <section id="host-functions">
          <span id="exec-invoke-host"></span><span id="index-11⑥"></span>
         <h5 data-level="4.4.10.3" id="host-functions①"><span>4.4.10.3. </span><span>Host Functions</span><a href="#host-functions①"></a></h5>
         <p>Invoking a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-hostfunc"><span>host function</span></a> has non-deterministic behavior.
It may either terminate with a <a href="https://www.w3.org/TR/wasm-core-2/index.html#trap"><span>trap</span></a> or return regularly.
However, in the latter case, it must consume and produce the right number and types of WebAssembly <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>values</span></a> on the stack,
according to its <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a>.</p>
         <p>A host function may also modify the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-store"><span>store</span></a>.
However, all store modifications must result in an <a href="https://www.w3.org/TR/wasm-core-2/index.html#extend-store"><span>extension</span></a> of the original store, i.e., they must only modify mutable contents and must not have instances removed.
Furthermore, the resulting store must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-store"><span>valid</span></a>, i.e., all data and code in it is well-typed.</p>
         
         <p>Here, <span><span><span></span></span></span> denotes the implementation-defined execution of host function <span><span><span></span></span></span> in current store <span><span><span></span></span></span> with arguments <span><span><span></span></span></span>.
It yields a set of possible outcomes, where each element is either a pair of a modified store <span><span><span></span></span></span> and a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-result"><span>result</span></a> or the special value <span><span><span></span></span></span> indicating divergence.
A host function is non-deterministic if there is at least one argument for which the set of outcomes is not singular.</p>
         <p>For a WebAssembly implementation to be <a href="https://www.w3.org/TR/wasm-core-2/index.html#soundness"><span>sound</span></a> in the presence of host functions,
every <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcinst"><span>host function instance</span></a> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-hostfuncinst"><span>valid</span></a>,
which means that it adheres to suitable pre- and post-conditions:
under a <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-store"><span>valid store</span></a> <span><span><span></span></span></span>, and given arguments <span><span><span></span></span></span> matching the ascribed parameter types <span><span><span></span></span></span>,
executing the host function must yield a non-empty set of possible outcomes each of which is either divergence or consists of a valid store <span><span><span></span></span></span> that is an <a href="https://www.w3.org/TR/wasm-core-2/index.html#extend-store"><span>extension</span></a> of <span><span><span></span></span></span> and a result matching the ascribed return types <span><span><span></span></span></span>.
All these notions are made precise in the <a href="https://www.w3.org/TR/wasm-core-2/index.html#soundness"><span>Appendix</span></a>.</p>
         <div role="note">
          <p>Note</p>
          <p>A host function can call back into WebAssembly by <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-invocation"><span>invoking</span></a> a function <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-export"><span>exported</span></a> from a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a>.
However, the effects of any such call are subsumed by the non-deterministic behavior allowed for the host function.</p>
         </div>
        </section>
       </section>
       <section id="expressions④">
         <span id="exec-expr"></span><span id="index-12②"></span>
        <h4 data-level="4.4.11" id="expressions⑤"><span>4.4.11. </span><span>Expressions</span><a href="#expressions⑤"></a></h4>
        <p>An <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-expr"><span>expression</span></a> is <em>evaluated</em> relative to a <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-notation-textual"><span>current</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a> pointing to its containing <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-moduleinst"><span>module instance</span></a>.</p>
        <ol>
         <li>
          <p>Jump to the start of the instruction sequence <span><span><span></span></span></span> of the expression.</p>
         </li><li>
          <p>Execute the instruction sequence.</p>
         </li><li>
          <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-expr"><span>validation</span></a>, the top of the stack contains a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>value</span></a>.</p>
         </li><li>
          <p>Pop the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>value</span></a> <span><span><span></span></span></span> from the stack.</p>
        </li></ol>
        <p>The value <span><span><span></span></span></span> is the result of the evaluation.</p>
        
        <div role="note">
         <p>Note</p>
         <p>Evaluation iterates this reduction rule until reaching a value.
Expressions constituting <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-func"><span>function</span></a> bodies are executed during function <a href="#exec-invoke"><span>invocation</span></a>.</p>
        </div>
       </section>
      </section>
       <section id="modules⑤">
       <h3 data-level="4.5" id="modules⑥"><span>4.5. </span><span>Modules</span><a href="#modules⑥"></a></h3>
       <p>For modules, the execution semantics primarily defines <a href="#exec-instantiation"><span>instantiation</span></a>, which <a href="#alloc"><span>allocates</span></a> instances for a module and its contained definitions, initializes <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-table"><span>tables</span></a> and <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-mem"><span>memories</span></a> from contained <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elem"><span>element</span></a> and <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-data"><span>data</span></a> segments, and invokes the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-start"><span>start function</span></a> if present. It also includes <a href="#exec-invocation"><span>invocation</span></a> of exported functions.</p>
       <p>Instantiation depends on a number of auxiliary notions for <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-import"><span>type-checking imports</span></a> and <a href="#alloc"><span>allocating</span></a> instances.</p>
       <section id="external-typing">
         <span id="valid-externval"></span><span id="index-0①⑤"></span>
        <h4 data-level="4.5.1" id="external-typing①"><span>4.5.1. </span><span>External Typing</span><a href="#external-typing①"></a></h4>
        <p>For the purpose of checking <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externval"><span>external values</span></a> against <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-import"><span>imports</span></a>,
such values are classified by <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external types</span></a>.
The following auxiliary typing rules specify this typing relation relative to a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-store"><span>store</span></a> <span><span><span></span></span></span> in which the referenced instances live.</p>
        <section id="xref-exec-runtime-syntax-externval-mathsf-func-a">
          <span id="valid-externval-func"></span><span id="index-1①⑤"></span>
         <h5 data-level="4.5.1.1" id="-hrefsyntax-externvalmathsffunca"><span>4.5.1.1. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-externvalmathsffunca"></a></h5>
         <ul>
          <li>
           <p>The store entry <span><span><span></span></span></span> must exist.</p>
          </li><li>
           <p>Then <span><span><span></span></span></span> is valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-runtime-syntax-externval-mathsf-table-a">
          <span id="valid-externval-table"></span><span id="index-2①③"></span>
         <h5 data-level="4.5.1.2" id="-hrefsyntax-externvalmathsftablea"><span>4.5.1.2. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-externvalmathsftablea"></a></h5>
         <ul>
          <li>
           <p>The store entry <span><span><span></span></span></span> must exist.</p>
          </li><li>
           <p>Then <span><span><span></span></span></span> is valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-runtime-syntax-externval-mathsf-mem-a">
          <span id="valid-externval-mem"></span><span id="index-3①⓪"></span>
         <h5 data-level="4.5.1.3" id="-hrefsyntax-externvalmathsfmema"><span>4.5.1.3. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-externvalmathsfmema"></a></h5>
         <ul>
          <li>
           <p>The store entry <span><span><span></span></span></span> must exist.</p>
          </li><li>
           <p>Then <span><span><span></span></span></span> is valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-runtime-syntax-externval-mathsf-global-a">
          <span id="valid-externval-global"></span><span id="index-4①⓪"></span>
         <h5 data-level="4.5.1.4" id="-hrefsyntax-externvalmathsfglobala"><span>4.5.1.4. </span><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-externvalmathsfglobala"></a></h5>
         <ul>
          <li>
           <p>The store entry <span><span><span></span></span></span> must exist.</p>
          </li><li>
           <p>Then <span><span><span></span></span></span> is valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="value-typing">
         <span id="valid-val"></span><span id="index-5①⓪"></span>
        <h4 data-level="4.5.2" id="value-typing①"><span>4.5.2. </span><span>Value Typing</span><a href="#value-typing①"></a></h4>
        <p>For the purpose of checking argument <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externval"><span>values</span></a> against the parameter types of exported <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-func"><span>functions</span></a>,
values are classified by <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value types</span></a>.
The following auxiliary typing rules specify this typing relation relative to a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-store"><span>store</span></a> <span><span><span></span></span></span> in which possibly referenced addresses live.</p>
        <section id="numeric-values-t-xref-syntax-instructions-syntax-instr-numeric-mathsf-const-c">
          <span id="valid-num"></span>
         <h5 data-level="4.5.2.1" id="numeric-values--threfsyntax-instr-numericmathsfconstc"><span>4.5.2.1. </span><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>Numeric Values</span></a> <span><span><span></span></span></span></span><a href="#numeric-values--threfsyntax-instr-numericmathsfconstc"></a></h5>
         <ul>
          <li>
           <p>The value is valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-numtype"><span>number type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="null-references-xref-syntax-instructions-syntax-instr-ref-mathsf-ref-null-t">
          <span id="valid-ref"></span>
         <h5 data-level="4.5.2.2" id="null-references--hrefsyntax-instr-refmathsfrefnullt"><span>4.5.2.2. </span><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-ref"><span>Null References</span></a> <span><span><span></span></span></span></span><a href="#null-references--hrefsyntax-instr-refmathsfrefnullt"></a></h5>
         <ul>
          <li>
           <p>The value is valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="function-references-xref-exec-runtime-syntax-ref-mathsf-ref-a">
         <h5 data-level="4.5.2.3" id="function-references--hrefsyntax-refmathsfrefa"><span>4.5.2.3. </span><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-ref"><span>Function References</span></a> <span><span><span></span></span></span></span><a href="#function-references--hrefsyntax-refmathsfrefa"></a></h5>
         <ul>
          <li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externval"><span>external value</span></a> <span><span><span></span></span></span> must be <a href="#valid-externval"><span>valid</span></a>.</p>
          </li><li>
           <p>Then the value is valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="external-references-xref-exec-runtime-syntax-ref-extern-mathsf-ref-extern-a">
         <h5 data-level="4.5.2.4" id="external-references--hrefsyntax-refexternmathsfrefexterna"><span>4.5.2.4. </span><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-ref-extern"><span>External References</span></a> <span><span><span></span></span></span></span><a href="#external-references--hrefsyntax-refexternmathsfrefexterna"></a></h5>
         <ul>
          <li>
           <p>The value is valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="allocation">
         <span id="alloc"></span><span id="index-6⑨"></span>
        <h4 data-level="4.5.3" id="allocation①"><span>4.5.3. </span><span>Allocation</span><a href="#allocation①"></a></h4>
        <p>New instances of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcinst"><span>functions</span></a>, <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableinst"><span>tables</span></a>, <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>memories</span></a>, and <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globalinst"><span>globals</span></a> are <em>allocated</em> in a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-store"><span>store</span></a> <span><span><span></span></span></span>, as defined by the following auxiliary functions.</p>
        <section id="functions⑥">
          <span id="alloc-func"></span><span id="index-7⑨"></span>
         <h5 data-level="4.5.3.1" id="functions⑦"><span>4.5.3.1. </span><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcinst"><span>Functions</span></a></span><a href="#functions⑦"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-func"><span>function</span></a> to allocate and <span><span><span></span></span></span> its <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-moduleinst"><span>module instance</span></a>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the first free <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcaddr"><span>function address</span></a> in <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcinst"><span>function instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Append <span><span><span></span></span></span> to the <span><span><span></span></span></span> of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="host-functions②">
          <span id="alloc-hostfunc"></span><span id="index-8⑨"></span>
         <h5 data-level="4.5.3.2" id="host-functions③"><span>4.5.3.2. </span><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-hostfunc"><span>Host Functions</span></a></span><a href="#host-functions③"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-hostfunc"><span>host function</span></a> to allocate and <span><span><span></span></span></span> its <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the first free <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcaddr"><span>function address</span></a> in <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcinst"><span>function instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Append <span><span><span></span></span></span> to the <span><span><span></span></span></span> of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return <span><span><span></span></span></span>.</p>
         </li></ol>
         
         <div role="note">
          <p>Note</p>
          <p>Host functions are never allocated by the WebAssembly semantics itself,
but may be allocated by the <a href="https://www.w3.org/TR/wasm-core-2/index.html#embedder"><span>embedder</span></a>.</p>
         </div>
        </section>
        <section id="tables⑥">
          <span id="alloc-table"></span><span id="index-9⑨"></span>
         <h5 data-level="4.5.3.3" id="tables⑦"><span>4.5.3.3. </span><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableinst"><span>Tables</span></a></span><a href="#tables⑦"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table type</span></a> to allocate and <span><span><span></span></span></span> the initialization value.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the structure of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the first free <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableaddr"><span>table address</span></a> in <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableinst"><span>table instance</span></a> <span><span><span></span></span></span> with <span><span><span></span></span></span> elements set to <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Append <span><span><span></span></span></span> to the <span><span><span></span></span></span> of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="memories⑥">
          <span id="alloc-mem"></span><span id="index-10⑦"></span>
         <h5 data-level="4.5.3.4" id="memories⑦"><span>4.5.3.4. </span><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>Memories</span></a></span><a href="#memories⑦"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memtype"><span>memory type</span></a> to allocate.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the structure of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memtype"><span>memory type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the first free <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memaddr"><span>memory address</span></a> in <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>memory instance</span></a> <span><span><span></span></span></span> that contains <span><span><span></span></span></span> pages of zeroed <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-byte"><span>bytes</span></a>.</p>
          </li><li>
           <p>Append <span><span><span></span></span></span> to the <span><span><span></span></span></span> of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="globals⑥">
          <span id="alloc-global"></span><span id="index-11⑦"></span>
         <h5 data-level="4.5.3.5" id="globals⑦"><span>4.5.3.5. </span><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globalinst"><span>Globals</span></a></span><a href="#globals⑦"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaltype"><span>global type</span></a> to allocate and <span><span><span></span></span></span> the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>value</span></a> to initialize the global with.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the first free <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaladdr"><span>global address</span></a> in <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globalinst"><span>global instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Append <span><span><span></span></span></span> to the <span><span><span></span></span></span> of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="element-segments④">
          <span id="alloc-elem"></span><span id="index-12③"></span>
         <h5 data-level="4.5.3.6" id="element-segments⑤"><span>4.5.3.6. </span><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-eleminst"><span>Element segments</span></a></span><a href="#element-segments⑤"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the elements’ type and <span><span><span></span></span></span> the vector of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-ref"><span>references</span></a> to allocate.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the first free <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elemaddr"><span>element address</span></a> in <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-eleminst"><span>element instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Append <span><span><span></span></span></span> to the <span><span><span></span></span></span> of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="data-segments④">
          <span id="alloc-data"></span><span id="index-13①"></span>
         <h5 data-level="4.5.3.7" id="data-segments⑤"><span>4.5.3.7. </span><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-datainst"><span>Data segments</span></a></span><a href="#data-segments⑤"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the vector of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-byte"><span>bytes</span></a> to allocate.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the first free <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-dataaddr"><span>data address</span></a> in <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-datainst"><span>data instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Append <span><span><span></span></span></span> to the <span><span><span></span></span></span> of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="growing-tables">
          <span id="grow-table"></span><span id="index-14①"></span>
         <h5 data-level="4.5.3.8" id="growing-tables①"><span>4.5.3.8. </span><span>Growing <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableinst"><span>tables</span></a></span><a href="#growing-tables①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableinst"><span>table instance</span></a> to grow, <span><span><span></span></span></span> the number of elements by which to grow it, and <span><span><span></span></span></span> the initialization value.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be <span><span><span></span></span></span> added to the length of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is larger than or equal to <span><span><span></span></span></span>, then fail.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the structure of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be <span><span><span></span></span></span> with <span><span><span></span></span></span> updated to <span><span><span></span></span></span>.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is not <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-limits"><span>valid</span></a>, then fail.</p>
          </li><li>
           <p>Append <span><span><span></span></span></span> to <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Set <span><span><span></span></span></span> to the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table type</span></a> <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="growing-memories">
          <span id="grow-mem"></span><span id="index-15①"></span>
         <h5 data-level="4.5.3.9" id="growing-memories①"><span>4.5.3.9. </span><span>Growing <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>memories</span></a></span><a href="#growing-memories①"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>memory instance</span></a> to grow and <span><span><span></span></span></span> the number of <a href="https://www.w3.org/TR/wasm-core-2/index.html#page-size"><span>pages</span></a> by which to grow it.</p>
          </li><li>
           <p>Assert: The length of <span><span><span></span></span></span> is divisible by the <a href="https://www.w3.org/TR/wasm-core-2/index.html#page-size"><span>page size</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be <span><span><span></span></span></span> added to the length of <span><span><span></span></span></span> divided by the <a href="https://www.w3.org/TR/wasm-core-2/index.html#page-size"><span>page size</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is larger than <span><span><span></span></span></span>, then fail.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the structure of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memtype"><span>memory type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be <span><span><span></span></span></span> with <span><span><span></span></span></span> updated to <span><span><span></span></span></span>.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is not <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-limits"><span>valid</span></a>, then fail.</p>
          </li><li>
           <p>Append <span><span><span></span></span></span> times <span><span><span></span></span></span> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-byte"><span>bytes</span></a> with value <span><span><span></span></span></span> to <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Set <span><span><span></span></span></span> to the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memtype"><span>memory type</span></a> <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="alloc-module">
          <span id="index-16①"></span><span id="id1①①"></span>
         <h5 data-level="4.5.3.10" id="modules⑦"><span>4.5.3.10. </span><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-moduleinst"><span>Modules</span></a></span><a href="#modules⑦"></a></h5>
         <p>The allocation function for <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>modules</span></a> requires a suitable list of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externval"><span>external values</span></a> that are assumed to <a href="https://www.w3.org/TR/wasm-core-2/index.html#match-externtype"><span>match</span></a> the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-import"><span>import</span></a> vector of the module,
a list of initialization <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>values</span></a> for the module’s <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-global"><span>globals</span></a>,
and list of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-ref"><span>reference</span></a> vectors for the module’s <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elem"><span>element segments</span></a>.</p>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a> to allocate and <span><span><span></span></span></span> the vector of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externval"><span>external values</span></a> providing the module’s imports, <span><span><span></span></span></span> the initialization <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>values</span></a> of the module’s <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-global"><span>globals</span></a>, and <span><span><span></span></span></span> the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-ref"><span>reference</span></a> vectors of the module’s <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elem"><span>element segments</span></a>.</p>
          </li><li>
           <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-func"><span>function</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span>, do:</p>
           <ol>
            <li>
             <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcaddr"><span>function address</span></a> resulting from <a href="#alloc-func"><span>allocating</span></a> <span><span><span></span></span></span> for the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-moduleinst"><span>module instance</span></a> <span><span><span></span></span></span> defined below.</p>
           </li></ol>
          </li><li>
           <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-table"><span>table</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span>, do:</p>
           <ol>
            <li>
             <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table type</span></a> <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableaddr"><span>table address</span></a> resulting from <a href="#alloc-table"><span>allocating</span></a> <span><span><span></span></span></span> with initialization value <span><span><span></span></span></span>.</p>
           </li></ol>
          </li><li>
           <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-mem"><span>memory</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span>, do:</p>
           <ol>
            <li>
             <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memaddr"><span>memory address</span></a> resulting from <a href="#alloc-mem"><span>allocating</span></a> <span><span><span></span></span></span>.</p>
           </li></ol>
          </li><li>
           <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-global"><span>global</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span>, do:</p>
           <ol>
            <li>
             <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaladdr"><span>global address</span></a> resulting from <a href="#alloc-global"><span>allocating</span></a> <span><span><span></span></span></span> with initializer value <span><span><span></span></span></span>.</p>
           </li></ol>
          </li><li>
           <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elem"><span>element segment</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span>, do:</p>
           <ol>
            <li>
             <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elemaddr"><span>element address</span></a> resulting from <a href="#alloc-elem"><span>allocating</span></a> an <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-eleminst"><span>element instance</span></a> of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference type</span></a> <span><span><span></span></span></span> with contents <span><span><span></span></span></span>.</p>
           </li></ol>
          </li><li>
           <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-data"><span>data segment</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span>, do:</p>
           <ol>
            <li>
             <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-dataaddr"><span>data address</span></a> resulting from <a href="#alloc-data"><span>allocating</span></a> a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-datainst"><span>data instance</span></a> with contents <span><span><span></span></span></span>.</p>
           </li></ol>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the concatenation of the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcaddr"><span>function addresses</span></a> <span><span><span></span></span></span> in index order.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the concatenation of the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableaddr"><span>table addresses</span></a> <span><span><span></span></span></span> in index order.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the concatenation of the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memaddr"><span>memory addresses</span></a> <span><span><span></span></span></span> in index order.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the concatenation of the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaladdr"><span>global addresses</span></a> <span><span><span></span></span></span> in index order.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the concatenation of the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elemaddr"><span>element addresses</span></a> <span><span><span></span></span></span> in index order.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the concatenation of the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-dataaddr"><span>data addresses</span></a> <span><span><span></span></span></span> in index order.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the list of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcaddr"><span>function addresses</span></a> extracted from <span><span><span></span></span></span>, concatenated with <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the list of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableaddr"><span>table addresses</span></a> extracted from <span><span><span></span></span></span>, concatenated with <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the list of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memaddr"><span>memory addresses</span></a> extracted from <span><span><span></span></span></span>, concatenated with <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the list of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaladdr"><span>global addresses</span></a> extracted from <span><span><span></span></span></span>, concatenated with <span><span><span></span></span></span>.</p>
          </li><li>
           <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-export"><span>export</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span>, do:</p>
           <ol>
            <li>
             <p>If <span><span><span></span></span></span> is a function export for <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcidx"><span>function index</span></a> <span><span><span></span></span></span>, then let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externval"><span>external value</span></a> <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Else, if <span><span><span></span></span></span> is a table export for <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableidx"><span>table index</span></a> <span><span><span></span></span></span>, then let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externval"><span>external value</span></a> <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Else, if <span><span><span></span></span></span> is a memory export for <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memidx"><span>memory index</span></a> <span><span><span></span></span></span>, then let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externval"><span>external value</span></a> <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Else, if <span><span><span></span></span></span> is a global export for <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globalidx"><span>global index</span></a> <span><span><span></span></span></span>, then let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externval"><span>external value</span></a> <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-exportinst"><span>export instance</span></a> <span><span><span></span></span></span>.</p>
           </li></ol>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the concatenation of the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-exportinst"><span>export instances</span></a> <span><span><span></span></span></span> in index order.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-moduleinst"><span>module instance</span></a> <span><span><span></span></span></span> <span><span><span></span></span></span> <span><span><span></span></span></span> <span><span><span></span></span></span> <span><span><span></span></span></span> <span><span><span></span></span></span> <span><span><span></span></span></span> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return <span><span><span></span></span></span>.</p>
         </li></ol>
         
         <p>where:</p>
         
         <p>Here, the notation <span><span><span></span></span></span> is shorthand for multiple <a href="#alloc"><span>allocations</span></a> of object kind <span><span><span></span></span></span>, defined as follows:</p>
         
         <p>Moreover, if the dots <span><span><span></span></span></span> are a sequence <span><span><span></span></span></span> (as for globals or tables), then the elements of this sequence are passed to the allocation function pointwise.</p>
         <div role="note">
          <p>Note</p>
          <p>The definition of module allocation is mutually recursive with the allocation of its associated functions, because the resulting module instance <span><span><span></span></span></span> is passed to the function allocator as an argument, in order to form the necessary closures.
In an implementation, this recursion is easily unraveled by mutating one or the other in a secondary step.</p>
         </div>
        </section>
       </section>
       <section id="instantiation①">
         <span id="exec-instantiation"></span><span id="exec-module"></span><span id="index-17①"></span>
        <h4 data-level="4.5.4" id="instantiation②"><span>4.5.4. </span><span>Instantiation</span><a href="#instantiation②"></a></h4>
        <p>Given a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-store"><span>store</span></a> <span><span><span></span></span></span>, a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a> <span><span><span></span></span></span> is instantiated with a list of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externval"><span>external values</span></a> <span><span><span></span></span></span> supplying the required imports as follows.</p>
        <p>Instantiation checks that the module is <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid"><span>valid</span></a> and the provided imports <a href="https://www.w3.org/TR/wasm-core-2/index.html#match-externtype"><span>match</span></a> the declared types,
and may <em>fail</em> with an error otherwise.
Instantiation can also result in a <a href="https://www.w3.org/TR/wasm-core-2/index.html#trap"><span>trap</span></a> from initializing a table or memory from an active segment or from executing the start function.
It is up to the <a href="https://www.w3.org/TR/wasm-core-2/index.html#embedder"><span>embedder</span></a> to define how such conditions are reported.</p>
        <ol>
         <li>
          <p>If <span><span><span></span></span></span> is not <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-module"><span>valid</span></a>, then:</p>
          <ol>
           <li>
            <p>Fail.</p>
          </li></ol>
         </li><li>
          <p>Assert: <span><span><span></span></span></span> is <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-module"><span>valid</span></a> with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external types</span></a> <span><span><span></span></span></span> classifying its <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-import"><span>imports</span></a>.</p>
         </li><li>
          <p>If the number <span><span><span></span></span></span> of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-import"><span>imports</span></a> is not equal to the number <span><span><span></span></span></span> of provided <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externval"><span>external values</span></a>, then:</p>
          <ol>
           <li>
            <p>Fail.</p>
          </li></ol>
         </li><li>
          <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externval"><span>external value</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span> and <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external type</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span>, do:</p>
          <ol>
           <li>
            <p>If <span><span><span></span></span></span> is not <a href="#valid-externval"><span>valid</span></a> with an <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external type</span></a> <span><span><span></span></span></span> in store <span><span><span></span></span></span>, then:</p>
            <ol>
             <li>
              <p>Fail.</p>
            </li></ol>
           </li><li>
            <p>If <span><span><span></span></span></span> does not <a href="https://www.w3.org/TR/wasm-core-2/index.html#match-externtype"><span>match</span></a> <span><span><span></span></span></span>, then:</p>
            <ol>
             <li>
              <p>Fail.</p>
            </li></ol>
          </li></ol>
        </li></ol>
        <ol id="exec-initvals" start="5">
         <li>
          <p>Let <span><span><span></span></span></span> be the auxiliary module <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-moduleinst"><span>instance</span></a> <span><span><span></span></span></span> that only consists of the imported globals and the imported and allocated functions from the final module instance <span><span><span></span></span></span>, defined below.</p>
         </li><li>
          <p>Let <span><span><span></span></span></span> be the auxiliary <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a> <span><span><span></span></span></span>.</p>
         </li><li>
          <p>Push the frame <span><span><span></span></span></span> to the stack.</p>
         </li><li>
          <p>Let <span><span><span></span></span></span> be the vector of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-global"><span>global</span></a> initialization <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>values</span></a> determined by <span><span><span></span></span></span> and <span><span><span></span></span></span>. These may be calculated as follows.</p>
          <ol>
           <li>
            <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-global"><span>global</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span>, do:</p>
            <ol>
             <li>
              <p>Let <span><span><span></span></span></span> be the result of <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-expr"><span>evaluating</span></a> the initializer expression <span><span><span></span></span></span>.</p>
            </li></ol>
           </li><li>
            <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-module"><span>validation</span></a>, the frame <span><span><span></span></span></span> is now on the top of the stack.</p>
           </li><li>
            <p>Let <span><span><span></span></span></span> be the concatenation of <span><span><span></span></span></span> in index order.</p>
          </li></ol>
         </li><li>
          <p>Let <span><span><span></span></span></span> be the list of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-ref"><span>reference</span></a> vectors determined by the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elem"><span>element segments</span></a> in <span><span><span></span></span></span>. These may be calculated as follows.</p>
          <blockquote>
           <div>
            <ol>
             <li>
              <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elem"><span>element segment</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span>, and for each element <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-expr"><span>expression</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span>, do:</p>
              <ol>
               <li>
                <p>Let <span><span><span></span></span></span> be the result of <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-expr"><span>evaluating</span></a> the initializer expression <span><span><span></span></span></span>.</p>
              </li></ol>
             </li><li>
              <p>Let <span><span><span></span></span></span> be the concatenation of function elements <span><span><span></span></span></span> in order of index <span><span><span></span></span></span>.</p>
             </li><li>
              <p>Let <span><span><span></span></span></span> be the concatenation of function element vectors <span><span><span></span></span></span> in order of index <span><span><span></span></span></span>.</p>
            </li></ol>
           </div>
          </blockquote>
         </li><li>
          <p>Pop the frame <span><span><span></span></span></span> from the stack.</p>
         </li><li>
          <p>Let <span><span><span></span></span></span> be a new module instance <a href="#alloc-module"><span>allocated</span></a> from <span><span><span></span></span></span> in store <span><span><span></span></span></span> with imports <span><span><span></span></span></span>, global initializer values <span><span><span></span></span></span>, and element segment contents <span><span><span></span></span></span>, and let <span><span><span></span></span></span> be the extended store produced by module allocation.</p>
         </li><li>
          <p>Let <span><span><span></span></span></span> be the auxiliary <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a> <span><span><span></span></span></span>.</p>
         </li><li>
          <p>Push the frame <span><span><span></span></span></span> to the stack.</p>
         </li><li>
          <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elem"><span>element segment</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span> whose <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elemmode"><span>mode</span></a> is of the form <span><span><span></span></span></span>, do:</p>
          <ol>
           <li>
            <p>Let <span><span><span></span></span></span> be the length of the vector <span><span><span></span></span></span>.</p>
           </li><li>
            <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-instr-seq"><span>Execute</span></a> the instruction sequence <span><span><span></span></span></span>.</p>
           </li><li>
            <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-const"><span>Execute</span></a> the instruction <span><span><span></span></span></span>.</p>
           </li><li>
            <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-const"><span>Execute</span></a> the instruction <span><span><span></span></span></span>.</p>
           </li><li>
            <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-table-init"><span>Execute</span></a> the instruction <span><span><span></span></span></span>.</p>
           </li><li>
            <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-elem-drop"><span>Execute</span></a> the instruction <span><span><span></span></span></span>.</p>
          </li></ol>
         </li><li>
          <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elem"><span>element segment</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span> whose <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elemmode"><span>mode</span></a> is of the form <span><span><span></span></span></span>, do:</p>
          <ol>
           <li>
            <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-elem-drop"><span>Execute</span></a> the instruction <span><span><span></span></span></span>.</p>
          </li></ol>
         </li><li>
          <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-data"><span>data segment</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span> whose <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-datamode"><span>mode</span></a> is of the form <span><span><span></span></span></span>, do:</p>
          <ol>
           <li>
            <p>Assert: <span><span><span></span></span></span> is <span><span><span></span></span></span>.</p>
           </li><li>
            <p>Let <span><span><span></span></span></span> be the length of the vector <span><span><span></span></span></span>.</p>
           </li><li>
            <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-instr-seq"><span>Execute</span></a> the instruction sequence <span><span><span></span></span></span>.</p>
           </li><li>
            <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-const"><span>Execute</span></a> the instruction <span><span><span></span></span></span>.</p>
           </li><li>
            <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-const"><span>Execute</span></a> the instruction <span><span><span></span></span></span>.</p>
           </li><li>
            <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-memory-init"><span>Execute</span></a> the instruction <span><span><span></span></span></span>.</p>
           </li><li>
            <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-data-drop"><span>Execute</span></a> the instruction <span><span><span></span></span></span>.</p>
          </li></ol>
         </li><li>
          <p>If the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-start"><span>start function</span></a> <span><span><span></span></span></span> is not empty, then:</p>
          <ol>
           <li>
            <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-start"><span>start function</span></a> <span><span><span></span></span></span>.</p>
           </li><li>
            <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-call"><span>Execute</span></a> the instruction <span><span><span></span></span></span>.</p>
          </li></ol>
         </li><li>
          <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-module"><span>validation</span></a>, the frame <span><span><span></span></span></span> is now on the top of the stack.</p>
         </li><li>
          <p>Pop the frame <span><span><span></span></span></span> from the stack.</p>
        </li></ol>
        
        <p>where:</p>
        
        <div role="note">
         <p>Note</p>
         <p>Module <a href="#alloc-module"><span>allocation</span></a> and the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-expr"><span>evaluation</span></a> of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-global"><span>global</span></a> initializers and <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elem"><span>element segments</span></a> are mutually recursive because the global initialization <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>values</span></a> <span><span><span></span></span></span> and element segment contents <span><span><span></span></span></span> are passed to the module allocator while depending on the module instance <span><span><span></span></span></span> and store <span><span><span></span></span></span> returned by allocation.
However, this recursion is just a specification device.
In practice, the initialization values can <a href="#exec-initvals"><span>be determined</span></a> beforehand by staging module allocation such that first, the module’s own <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcinst"><span>function instances</span></a> are pre-allocated in the store, then the initializer expressions are evaluated, then the rest of the module instance is allocated, and finally the new function instances’ <span><span><span></span></span></span> fields are set to that module instance.
This is possible because <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-module"><span>validation</span></a> ensures that initialization expressions cannot actually call a function, only take their reference.</p>
         <p>All failure conditions are checked before any observable mutation of the store takes place.
Store mutation is not atomic;
it happens in individual steps that may be interleaved with other threads.</p>
         <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-expr"><span>Evaluation</span></a> of <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-constant"><span>constant expressions</span></a> does not affect the store.</p>
        </div>
       </section>
       <section id="invocation①">
         <span id="exec-invocation"></span><span id="index-18①"></span>
        <h4 data-level="4.5.5" id="invocation②"><span>4.5.5. </span><span>Invocation</span><a href="#invocation②"></a></h4>
        <p>Once a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a> has been <a href="#exec-instantiation"><span>instantiated</span></a>, any exported function can be <em>invoked</em> externally via its <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcaddr"><span>function address</span></a> <span><span><span></span></span></span> in the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-store"><span>store</span></a> <span><span><span></span></span></span> and an appropriate list <span><span><span></span></span></span> of argument <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>values</span></a>.</p>
        <p>Invocation may <em>fail</em> with an error if the arguments do not fit the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a>.
Invocation can also result in a <a href="https://www.w3.org/TR/wasm-core-2/index.html#trap"><span>trap</span></a>.
It is up to the <a href="https://www.w3.org/TR/wasm-core-2/index.html#embedder"><span>embedder</span></a> to define how such conditions are reported.</p>
        <div role="note">
         <p>Note</p>
         <p>If the <a href="https://www.w3.org/TR/wasm-core-2/index.html#embedder"><span>embedder</span></a> API performs type checks itself, either statically or dynamically, before performing an invocation, then no failure other than traps can occur.</p>
        </div>
        <p>The following steps are performed:</p>
        <ol>
         <li>
          <p>Assert: <span><span><span></span></span></span> exists.</p>
         </li><li>
          <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcinst"><span>function instance</span></a> <span><span><span></span></span></span>.</p>
         </li><li>
          <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span>.</p>
         </li><li>
          <p>If the length <span><span><span></span></span></span> of the provided argument values is different from the number <span><span><span></span></span></span> of expected arguments, then:</p>
          <ol>
           <li>
            <p>Fail.</p>
          </li></ol>
         </li><li>
          <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span> and corresponding <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>value</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span>, do:</p>
          <ol>
           <li>
            <p>If <span><span><span></span></span></span> is not <a href="#valid-val"><span>valid</span></a> with value type <span><span><span></span></span></span>, then:</p>
            <ol>
             <li>
              <p>Fail.</p>
            </li></ol>
          </li></ol>
         </li><li>
          <p>Let <span><span><span></span></span></span> be the dummy <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a> <span><span><span></span></span></span>.</p>
         </li><li>
          <p>Push the frame <span><span><span></span></span></span> to the stack.</p>
         </li><li>
          <p>Push the values <span><span><span></span></span></span> to the stack.</p>
         </li><li>
          <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-invoke"><span>Invoke</span></a> the function instance at address <span><span><span></span></span></span>.</p>
        </li></ol>
        <p>Once the function has returned, the following steps are executed:</p>
        <ol>
         <li>
          <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-func"><span>validation</span></a>, <span><span><span></span></span></span> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>values</span></a> are on the top of the stack.</p>
         </li><li>
          <p>Pop <span><span><span></span></span></span> from the stack.</p>
         </li><li>
          <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-module"><span>validation</span></a>, the frame <span><span><span></span></span></span> is now on the top of the stack.</p>
         </li><li>
          <p>Pop the frame <span><span><span></span></span></span> from the stack.</p>
        </li></ol>
        <p>The values <span><span><span></span></span></span> are returned as the results of the invocation.</p>
        
       </section>
      </section>
     </div>
    </section>
     <section id="binary-format">
      <span id="binary"></span>
     <h2 data-level="5" id="binary-format①"><span>5. </span><span>Binary Format</span><a href="#binary-format①"></a></h2>
     <div>
       <section id="conventions②④">
        <span id="index-0①⑥"></span>
       <h3 data-level="5.1" id="conventions②⑤"><span>5.1. </span><span>Conventions</span><a href="#conventions②⑤"></a></h3>
       <p>The binary format for WebAssembly <a href="https://www.w3.org/TR/wasm-core-2/index.html#module"><span>modules</span></a> is a dense linear <em>encoding</em> of their <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>abstract syntax</span></a>. <a href="#compression" id="id1①②" role="doc-noteref"><span>[</span>1<span>]</span></a></p>
       <p>The format is defined by an <em>attribute grammar</em> whose only terminal symbols are <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-byte"><span>bytes</span></a>.
A byte sequence is a well-formed encoding of a module if and only if it is generated by the grammar.</p>
       <p>Each production of this grammar has exactly one synthesized attribute: the abstract syntax that the respective byte sequence encodes.
Thus, the attribute grammar implicitly defines a <em>decoding</em> function
(i.e., a parsing function for the binary format).</p>
       <p>Except for a few exceptions, the binary grammar closely mirrors the grammar of the abstract syntax.</p>
       <div role="note">
        <p>Note</p>
        <p>Some phrases of abstract syntax have multiple possible encodings in the binary format.
For example, numbers may be encoded as if they had optional leading zeros.
Implementations of decoders must support all possible alternatives;
implementations of encoders can pick any allowed encoding.</p>
       </div>
       <p>The recommended extension for files containing WebAssembly modules in binary format is “<span><span><span></span></span></span>”
and the recommended <a href="https://www.iana.org/assignments/media-types/media-types.xhtml">Media Type</a> is “<span><span><span></span></span></span>”.</p>
       
       <section id="grammar①">
         <span id="binary-grammar"></span><span id="index-1①⑥"></span>
        <h4 data-level="5.1.1" id="grammar②"><span>5.1.1. </span><span>Grammar</span><a href="#grammar②"></a></h4>
        <p>The following conventions are adopted in defining grammar rules for the binary format.
They mirror the conventions used for <a href="https://www.w3.org/TR/wasm-core-2/index.html#grammar"><span>abstract syntax</span></a>.
In order to distinguish symbols of the binary syntax from symbols of the abstract syntax, <span><span><span></span></span></span> font is adopted for the former.</p>
        <ul>
         <li>
          <p>Terminal symbols are <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-byte"><span>bytes</span></a> expressed in hexadecimal notation: <span><span><span></span></span></span>.</p>
         </li><li>
          <p>Nonterminal symbols are written in typewriter font: <span><span><span></span></span></span>.</p>
         </li><li>
          <p><span><span><span></span></span></span> is a sequence of <span><span><span></span></span></span> iterations  of <span><span><span></span></span></span>.</p>
         </li><li>
          <p><span><span><span></span></span></span> is a possibly empty sequence of iterations of <span><span><span></span></span></span>.
(This is a shorthand for <span><span><span></span></span></span> used where <span><span><span></span></span></span> is not relevant.)</p>
         </li><li>
          <p><span><span><span></span></span></span> is an optional occurrence of <span><span><span></span></span></span>.
(This is a shorthand for <span><span><span></span></span></span> where <span><span><span></span></span></span>.)</p>
         </li><li>
          <p><span><span><span></span></span></span> denotes the same language as the nonterminal <span><span><span></span></span></span>, but also binds the variable <span><span><span></span></span></span> to the attribute synthesized for <span><span><span></span></span></span>.
A pattern may also be used instead of a variable, e.g., <span><span><span></span></span></span>.</p>
         </li><li>
          <p>Productions are written <span><span><span></span></span></span>, where each <span><span><span></span></span></span> is the attribute that is synthesized for <span><span><span></span></span></span> in the given case, usually from attribute variables bound in <span><span><span></span></span></span>.</p>
         </li><li>
          <p>Some productions are augmented by side conditions in parentheses, which restrict the applicability of the production. They provide a shorthand for a combinatorial expansion of the production into many separate cases.</p>
         </li><li>
          <p>If the same meta variable or non-terminal symbol appears multiple times in a production (in the syntax or in an attribute), then all those occurrences must have the same instantiation.
(This is a shorthand for a side condition requiring multiple different variables to be equal.)</p>
        </li></ul>
        <div role="note">
         <p>Note</p>
         <p>For example, the <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-numtype"><span>binary grammar</span></a> for <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-numtype"><span>number types</span></a> is given as follows:</p>
         
         <p>Consequently, the byte <span><span><span></span></span></span> encodes the type <span><span><span></span></span></span>, <span><span><span></span></span></span> encodes the type <span><span><span></span></span></span>, and so forth.
No other byte value is allowed as the encoding of a number type.</p>
         <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-limits"><span>binary grammar</span></a> for <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-limits"><span>limits</span></a> is defined as follows:</p>
         
         <p>That is, a limits pair is encoded as either the byte <span><span><span></span></span></span> followed by the encoding of a <span><span><span></span></span></span> value,
or the byte <span><span><span></span></span></span> followed by two such encodings.
The variables <span><span><span></span></span></span> and <span><span><span></span></span></span> name the attributes of the respective <span><span><span></span></span></span> nonterminals, which in this case are the actual <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-uint"><span>unsigned integers</span></a> those decode into.
The attribute of the complete production then is the abstract syntax for the limit, expressed in terms of the former values.</p>
        </div>
       </section>
       <section id="auxiliary-notation②">
         <span id="binary-notation"></span>
        <h4 data-level="5.1.2" id="auxiliary-notation③"><span>5.1.2. </span><span>Auxiliary Notation</span><a href="#auxiliary-notation③"></a></h4>
        <p>When dealing with binary encodings the following notation is also used:</p>
        <ul>
         <li>
          <p><span><span><span></span></span></span> denotes the empty byte sequence.</p>
         </li><li>
          <p><span><span><span></span></span></span> is the length of the byte sequence generated from the production <span><span><span></span></span></span> in a derivation.</p>
        </li></ul>
       </section>
       <section id="vectors⑥">
         <span id="binary-vec"></span><span id="index-2①④"></span>
        <h4 data-level="5.1.3" id="vectors⑦"><span>5.1.3. </span><span>Vectors</span><a href="#vectors⑦"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-vec"><span>Vectors</span></a> are encoded with their <span><span><span></span></span></span> length followed by the encoding of their element sequence.</p>
        
       </section>
      </section>
       <section id="values⑤">
        <span id="binary-value"></span><span id="index-0①⑦"></span>
       <h3 data-level="5.2" id="values⑥"><span>5.2. </span><span>Values</span><a href="#values⑥"></a></h3>
       <section id="bytes②">
         <span id="binary-byte"></span><span id="index-1①⑦"></span>
        <h4 data-level="5.2.1" id="bytes③"><span>5.2.1. </span><span>Bytes</span><a href="#bytes③"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-byte"><span>Bytes</span></a> encode themselves.</p>
        
       </section>
       <section id="integers④">
         <span id="binary-int"></span><span id="binary-uint"></span><span id="binary-sint"></span><span id="index-2①⑤"></span>
        <h4 data-level="5.2.2" id="integers⑤"><span>5.2.2. </span><span>Integers</span><a href="#integers⑤"></a></h4>
        <p>All <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-int"><span>integers</span></a> are encoded using the <a href="https://en.wikipedia.org/wiki/LEB128">LEB128</a> variable-length integer encoding, in either unsigned or signed variant.</p>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-uint"><span>Unsigned integers</span></a> are encoded in <a href="https://en.wikipedia.org/wiki/LEB128#Unsigned_LEB128">unsigned LEB128</a> format.
As an additional constraint, the total number of bytes encoding a value of type <span><span><span></span></span></span> must not exceed <span><span><span></span></span></span> bytes.</p>
        
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-sint"><span>Signed integers</span></a> are encoded in <a href="https://en.wikipedia.org/wiki/LEB128#Signed_LEB128">signed LEB128</a> format, which uses a two’s complement representation.
As an additional constraint, the total number of bytes encoding a value of type <span><span><span></span></span></span> must not exceed <span><span><span></span></span></span> bytes.</p>
        
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-int"><span>Uninterpreted integers</span></a> are encoded as signed integers.</p>
        
        <div role="note">
         <p>Note</p>
         <p>The side conditions <span><span><span></span></span></span> in the productions for non-terminal bytes of the <span><span><span></span></span></span> and <span><span><span></span></span></span> encodings restrict the encoding’s length.
However, “trailing zeros” are still allowed within these bounds.
For example, <span><span><span></span></span></span> and <span><span><span></span></span></span> are both well-formed encodings for the value <span><span><span></span></span></span> as a <span><span><span></span></span></span>.
Similarly, either of <span><span><span></span></span></span> and <span><span><span></span></span></span> and <span><span><span></span></span></span> are well-formed encodings of the value <span><span><span></span></span></span> as a <span><span><span></span></span></span>.</p>
         <p>The side conditions on the value <span><span><span></span></span></span> of terminal bytes further enforce that
any unused bits in these bytes must be <span><span><span></span></span></span> for positive values and <span><span><span></span></span></span> for negative ones.
For example, <span><span><span></span></span></span> is malformed as a <span><span><span></span></span></span> encoding.
Similarly, both <span><span><span></span></span></span> and <span><span><span></span></span></span> are malformed as <span><span><span></span></span></span> encodings.</p>
        </div>
       </section>
       <section id="floating-point④">
         <span id="binary-float"></span><span id="index-3①①"></span>
        <h4 data-level="5.2.3" id="floating-point⑤"><span>5.2.3. </span><span>Floating-Point</span><a href="#floating-point⑤"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-float"><span>Floating-point</span></a> values are encoded directly by their <a data-link-type="biblio" href="#biblio-ieee-754-2019" title="IEEE Standard for Floating-Point Arithmetic">[IEEE-754-2019]</a> (Section 3.4) bit pattern in <a href="https://en.wikipedia.org/wiki/Endianness#Little-endian">little endian</a> byte order:</p>
        
       </section>
       <section id="names②">
         <span id="binary-name"></span><span id="binary-utf8"></span><span id="index-4①①"></span>
        <h4 data-level="5.2.4" id="names③"><span>5.2.4. </span><span>Names</span><a href="#names③"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-name"><span>Names</span></a> are encoded as a <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-vec"><span>vector</span></a> of bytes containing the <a data-link-type="biblio" href="#biblio-unicode" title="The Unicode Standard">[UNICODE]</a> (Section 3.9) UTF-8 encoding of the name’s character sequence.</p>
        
        <p>The auxiliary <span><span><span></span></span></span> function expressing this encoding is defined as follows:</p>
        
        <div role="note">
         <p>Note</p>
         <p>Unlike in some other formats, name strings are not 0-terminated.</p>
        </div>
       </section>
      </section>
       <section id="types⑥">
        <span id="binary-type"></span><span id="index-0①⑧"></span>
       <h3 data-level="5.3" id="types⑦"><span>5.3. </span><span>Types</span><a href="#types⑦"></a></h3>
       <div role="note">
        <p>Note</p>
        <p>In some places, possible types include both type constructors or types denoted by <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-typeidx"><span>type indices</span></a>.
Thus, the binary format for type constructors corresponds to the encodings of small negative <span><span><span></span></span></span> values, such that they can unambiguously occur in the same place as (positive) type indices.</p>
       </div>
       <section id="number-types②">
         <span id="binary-numtype"></span><span id="index-1①⑧"></span>
        <h4 data-level="5.3.1" id="number-types③"><span>5.3.1. </span><span>Number Types</span><a href="#number-types③"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-numtype"><span>Number types</span></a> are encoded by a single byte.</p>
        
       </section>
       <section id="vector-types②">
         <span id="binary-vectype"></span><span id="index-2①⑥"></span>
        <h4 data-level="5.3.2" id="vector-types③"><span>5.3.2. </span><span>Vector Types</span><a href="#vector-types③"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-vectype"><span>Vector types</span></a> are also encoded by a single byte.</p>
        
       </section>
       <section id="reference-types②">
         <span id="binary-reftype"></span><span id="index-3①②"></span>
        <h4 data-level="5.3.3" id="reference-types③"><span>5.3.3. </span><span>Reference Types</span><a href="#reference-types③"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>Reference types</span></a> are also encoded by a single byte.</p>
        
       </section>
       <section id="value-types②">
         <span id="binary-valtype"></span><span id="index-4①②"></span>
        <h4 data-level="5.3.4" id="value-types③"><span>5.3.4. </span><span>Value Types</span><a href="#value-types③"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>Value types</span></a> are encoded with their respective encoding as a <a href="#binary-numtype"><span>number type</span></a>, <a href="#binary-vectype"><span>vector type</span></a>, or <a href="#binary-reftype"><span>reference type</span></a>.</p>
        
        <div role="note">
         <p>Note</p>
         <p>Value types can occur in contexts where <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-typeidx"><span>type indices</span></a> are also allowed, such as in the case of <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-blocktype"><span>block types</span></a>.
Thus, the binary format for types corresponds to the <a href="https://en.wikipedia.org/wiki/LEB128#Signed_LEB128">signed LEB128</a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-sint"><span>encoding</span></a> of small negative <span><span><span></span></span></span> values, so that they can coexist with (positive) type indices in the future.</p>
        </div>
       </section>
       <section id="result-types②">
         <span id="binary-resulttype"></span><span id="index-5①①"></span>
        <h4 data-level="5.3.5" id="result-types③"><span>5.3.5. </span><span>Result Types</span><a href="#result-types③"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>Result types</span></a> are encoded by the respective <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-vec"><span>vectors</span></a> of <a href="#binary-valtype"><span>value types</span></a>.</p>
        
       </section>
       <section id="function-types④">
         <span id="binary-functype"></span><span id="index-6①⓪"></span>
        <h4 data-level="5.3.6" id="function-types⑤"><span>5.3.6. </span><span>Function Types</span><a href="#function-types⑤"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>Function types</span></a> are encoded by the byte <span><span><span></span></span></span> followed by the respective <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-vec"><span>vectors</span></a> of parameter and result types.</p>
        
       </section>
       <section id="limits⑤">
         <span id="binary-limits"></span><span id="index-7①⓪"></span>
        <h4 data-level="5.3.7" id="limits⑥"><span>5.3.7. </span><span>Limits</span><a href="#limits⑥"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-limits"><span>Limits</span></a> are encoded with a preceding flag indicating whether a maximum is present.</p>
        
       </section>
       <section id="memory-types④">
         <span id="binary-memtype"></span><span id="index-8①⓪"></span>
        <h4 data-level="5.3.8" id="memory-types⑤"><span>5.3.8. </span><span>Memory Types</span><a href="#memory-types⑤"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memtype"><span>Memory types</span></a> are encoded with their <a href="#binary-limits"><span>limits</span></a>.</p>
        
       </section>
       <section id="table-types④">
         <span id="binary-tabletype"></span><span id="index-9①⓪"></span>
        <h4 data-level="5.3.9" id="table-types⑤"><span>5.3.9. </span><span>Table Types</span><a href="#table-types⑤"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>Table types</span></a> are encoded with their <a href="#binary-limits"><span>limits</span></a> and the encoding of their element <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference type</span></a>.</p>
        
       </section>
       <section id="global-types④">
         <span id="binary-globaltype"></span><span id="binary-mut"></span><span id="index-10⑧"></span>
        <h4 data-level="5.3.10" id="global-types⑤"><span>5.3.10. </span><span>Global Types</span><a href="#global-types⑤"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaltype"><span>Global types</span></a> are encoded by their <a href="#binary-valtype"><span>value type</span></a> and a flag for their <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-mut"><span>mutability</span></a>.</p>
        
       </section>
      </section>
       <section id="instructions⑥">
        <span id="binary-instr"></span><span id="index-0①⑨"></span>
       <h3 data-level="5.4" id="instructions⑦"><span>5.4. </span><span>Instructions</span><a href="#instructions⑦"></a></h3>
       <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr"><span>Instructions</span></a> are encoded by <em>opcodes</em>.
Each opcode is represented by a single byte,
and is followed by the instruction’s immediate arguments, where present.
The only exception are <a href="#binary-instr-control"><span>structured control instructions</span></a>, which consist of several opcodes bracketing their nested instruction sequences.</p>
       <div role="note">
        <p>Note</p>
        <p>Gaps in the byte code ranges for encoding instructions are reserved for future extensions.</p>
       </div>
       <section id="control-instructions⑥">
         <span id="binary-instr-control"></span><span id="index-1①⑨"></span>
        <h4 data-level="5.4.1" id="control-instructions⑦"><span>5.4.1. </span><span>Control Instructions</span><a href="#control-instructions⑦"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-control"><span>Control instructions</span></a> have varying encodings. For structured instructions, the instruction sequences forming nested blocks are terminated with explicit opcodes for <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-blocktype"><span>Block types</span></a> are encoded in special compressed form, by either the byte <span><span><span></span></span></span> indicating the empty type, as a single <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-valtype"><span>value type</span></a>, or as a <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-typeidx"><span>type index</span></a> encoded as a positive <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-sint"><span>signed integer</span></a>.</p>
        
        <div role="note">
         <p>Note</p>
         <p>The <span><span><span></span></span></span> opcode <span><span><span></span></span></span> in the encoding of an <span><span><span></span></span></span> instruction can be omitted if the following instruction sequence is empty.</p>
         <p>Unlike any <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-typeidx"><span>other occurrence</span></a>, the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-typeidx"><span>type index</span></a> in a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-blocktype"><span>block type</span></a> is encoded as a positive <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-sint"><span>signed integer</span></a>, so that its signed LEB128 bit pattern cannot collide with the encoding of <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-valtype"><span>value types</span></a> or the special code <span><span><span></span></span></span>, which correspond to the LEB128 encoding of negative integers.
To avoid any loss in the range of allowed indices, it is treated as a 33 bit signed integer.</p>
        </div>
       </section>
       <section id="reference-instructions⑥">
         <span id="binary-instr-ref"></span><span id="index-2①⑦"></span>
        <h4 data-level="5.4.2" id="reference-instructions⑦"><span>5.4.2. </span><span>Reference Instructions</span><a href="#reference-instructions⑦"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-ref"><span>Reference instructions</span></a> are represented by single byte codes.</p>
        
       </section>
       <section id="parametric-instructions⑥">
         <span id="binary-instr-parametric"></span><span id="index-3①③"></span>
        <h4 data-level="5.4.3" id="parametric-instructions⑦"><span>5.4.3. </span><span>Parametric Instructions</span><a href="#parametric-instructions⑦"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-parametric"><span>Parametric instructions</span></a> are represented by single byte codes, possibly followed by a type annotation.</p>
        
       </section>
       <section id="variable-instructions⑥">
         <span id="binary-instr-variable"></span><span id="index-4①③"></span>
        <h4 data-level="5.4.4" id="variable-instructions⑦"><span>5.4.4. </span><span>Variable Instructions</span><a href="#variable-instructions⑦"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-variable"><span>Variable instructions</span></a> are represented by byte codes followed by the encoding of the respective <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-index"><span>index</span></a>.</p>
        
       </section>
       <section id="table-instructions⑥">
         <span id="binary-elem-drop"></span><span id="binary-table-init"></span><span id="binary-table-copy"></span><span id="binary-table-fill"></span><span id="binary-table-grow"></span><span id="binary-table-size"></span><span id="binary-table-set"></span><span id="binary-table-get"></span><span id="binary-instr-table"></span><span id="index-5①②"></span>
        <h4 data-level="5.4.5" id="table-instructions⑦"><span>5.4.5. </span><span>Table Instructions</span><a href="#table-instructions⑦"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-table"><span>Table instructions</span></a> are represented either by a single byte or a one byte prefix followed by a variable-length <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-uint"><span>unsigned integer</span></a>.</p>
        
       </section>
       <section id="memory-instructions⑥">
         <span id="binary-instr-memory"></span><span id="index-6①①"></span>
        <h4 data-level="5.4.6" id="memory-instructions⑦"><span>5.4.6. </span><span>Memory Instructions</span><a href="#memory-instructions⑦"></a></h4>
        <p>Each variant of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-memory"><span>memory instruction</span></a> is encoded with a different byte code. Loads and stores are followed by the encoding of their <span><span><span></span></span></span> immediate.</p>
        
        <div role="note">
         <p>Note</p>
         <p>In future versions of WebAssembly, the additional zero bytes occurring in the encoding of the <span><span><span></span></span></span>, <span><span><span></span></span></span>, <span><span><span></span></span></span>, and <span><span><span></span></span></span> instructions may be used to index additional memories.</p>
        </div>
       </section>
       <section id="numeric-instructions⑥">
         <span id="binary-instr-numeric"></span><span id="index-7①①"></span>
        <h4 data-level="5.4.7" id="numeric-instructions⑦"><span>5.4.7. </span><span>Numeric Instructions</span><a href="#numeric-instructions⑦"></a></h4>
        <p>All variants of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-numeric"><span>numeric instructions</span></a> are represented by separate byte codes.</p>
        <p>The <span><span><span></span></span></span> instructions are followed by the respective literal.</p>
        
        <p>All other numeric instructions are plain opcodes without any immediates.</p>
        
        
        
        
        
        
        
        
        
        
        <p id="binary-cvtop-trunc-sat">The saturating truncation instructions all have a one byte prefix,
whereas the actual opcode is encoded by a variable-length <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-uint"><span>unsigned integer</span></a>.</p>
        
       </section>
       <section id="vector-instructions⑥">
         <span id="binary-instr-vec"></span><span id="index-8①①"></span>
        <h4 data-level="5.4.8" id="vector-instructions⑦"><span>5.4.8. </span><span>Vector Instructions</span><a href="#vector-instructions⑦"></a></h4>
        <p>All variants of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-vec"><span>vector instructions</span></a> are represented by separate byte codes.
They all have a one byte prefix, whereas the actual opcode is encoded by a variable-length <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-uint"><span>unsigned integer</span></a>.</p>
        <p>Vector loads and stores are followed by the encoding of their <span><span><span></span></span></span> immediate.</p>
        
        <p>The <span><span><span></span></span></span> instruction is followed by 16 immediate bytes, which are converted into a <span><span><span></span></span></span> in <span><span><span></span></span></span> byte order:</p>
        
        <p id="binary-vternop">The <span><span><span></span></span></span> instruction is also followed by the encoding of 16 <span><span><span></span></span></span> immediates.</p>
        
        <p><span><span><span></span></span></span> and <span><span><span></span></span></span> instructions are followed by the encoding of a <span><span><span></span></span></span> immediate.</p>
        
        <p>All other vector instructions are plain opcodes without any immediates.</p>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
       </section>
       <section id="expressions⑥">
         <span id="binary-expr"></span><span id="index-9①①"></span>
        <h4 data-level="5.4.9" id="expressions⑦"><span>5.4.9. </span><span>Expressions</span><a href="#expressions⑦"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-expr"><span>Expressions</span></a> are encoded by their instruction sequence terminated with an explicit <span><span><span></span></span></span> opcode for <span><span><span></span></span></span>.</p>
        
       </section>
      </section>
       <section id="modules⑧">
       <h3 data-level="5.5" id="modules⑨"><span>5.5. </span><span>Modules</span><a href="#modules⑨"></a></h3>
       <p>The binary encoding of modules is organized into <em>sections</em>.
Most sections correspond to one component of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a> record,
except that <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-func"><span>function definitions</span></a> are split into two sections, separating their type declarations in the <a href="#binary-funcsec"><span>function section</span></a> from their bodies in the <a href="#binary-codesec"><span>code section</span></a>.</p>
       <div role="note">
        <p>Note</p>
        <p>This separation enables <em>parallel</em> and <em>streaming</em> compilation of the functions in a module.</p>
       </div>
       <section id="indices②">
         <span id="binary-index"></span><span id="binary-labelidx"></span><span id="binary-localidx"></span><span id="binary-dataidx"></span><span id="binary-elemidx"></span><span id="binary-globalidx"></span><span id="binary-memidx"></span><span id="binary-tableidx"></span><span id="binary-funcidx"></span><span id="binary-typeidx"></span><span id="index-0②⓪"></span>
        <h4 data-level="5.5.1" id="indices③"><span>5.5.1. </span><span>Indices</span><a href="#indices③"></a></h4>
        <p>All <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-index"><span>indices</span></a> are encoded with their respective value.</p>
        
       </section>
       <section id="sections">
         <span id="binary-section"></span><span id="index-1②⓪"></span>
        <h4 data-level="5.5.2" id="sections①"><span>5.5.2. </span><span>Sections</span><a href="#sections①"></a></h4>
        <p>Each section consists of</p>
        <ul>
         <li>
          <p>a one-byte section <em>id</em>,</p>
         </li><li>
          <p>the <span><span><span></span></span></span> <em>size</em> of the contents, in bytes,</p>
         </li><li>
          <p>the actual <em>contents</em>, whose structure is dependent on the section id.</p>
        </li></ul>
        <p>Every section is optional; an omitted section is equivalent to the section being present with empty contents.</p>
        <p>The following parameterized grammar rule defines the generic structure of a section with id <span><span><span></span></span></span> and contents described by the grammar <span><span><span></span></span></span>.</p>
        
        <p>For most sections, the contents <span><span><span></span></span></span> encodes a <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-vec"><span>vector</span></a>.
In these cases, the empty result <span><span><span></span></span></span> is interpreted as the empty vector.</p>
        <div role="note">
         <p>Note</p>
         <p>Other than for unknown <a href="#binary-customsec"><span>custom sections</span></a>,
the <span><span><span></span></span></span> is not required for decoding, but can be used to skip sections when navigating through a binary.
The module is malformed if the size does not match the length of the binary contents <span><span><span></span></span></span>.</p>
        </div>
        <p>The following section ids are used:</p>
        <table>
         <thead>
          <tr>
           <th>
            <p>Id</p>
           </th><th>
            <p>Section</p>
         </th></tr></thead><tbody>
          <tr>
           <td>
            <p>0</p>
           </td><td>
            <p><a href="#binary-customsec"><span>custom section</span></a></p>
          </td></tr><tr>
           <td>
            <p>1</p>
           </td><td>
            <p><a href="#binary-typesec"><span>type section</span></a></p>
          </td></tr><tr>
           <td>
            <p>2</p>
           </td><td>
            <p><a href="#binary-importsec"><span>import section</span></a></p>
          </td></tr><tr>
           <td>
            <p>3</p>
           </td><td>
            <p><a href="#binary-funcsec"><span>function section</span></a></p>
          </td></tr><tr>
           <td>
            <p>4</p>
           </td><td>
            <p><a href="#binary-tablesec"><span>table section</span></a></p>
          </td></tr><tr>
           <td>
            <p>5</p>
           </td><td>
            <p><a href="#binary-memsec"><span>memory section</span></a></p>
          </td></tr><tr>
           <td>
            <p>6</p>
           </td><td>
            <p><a href="#binary-globalsec"><span>global section</span></a></p>
          </td></tr><tr>
           <td>
            <p>7</p>
           </td><td>
            <p><a href="#binary-exportsec"><span>export section</span></a></p>
          </td></tr><tr>
           <td>
            <p>8</p>
           </td><td>
            <p><a href="#binary-startsec"><span>start section</span></a></p>
          </td></tr><tr>
           <td>
            <p>9</p>
           </td><td>
            <p><a href="#binary-elemsec"><span>element section</span></a></p>
          </td></tr><tr>
           <td>
            <p>10</p>
           </td><td>
            <p><a href="#binary-codesec"><span>code section</span></a></p>
          </td></tr><tr>
           <td>
            <p>11</p>
           </td><td>
            <p><a href="#binary-datasec"><span>data section</span></a></p>
          </td></tr><tr>
           <td>
            <p>12</p>
           </td><td>
            <p><a href="#binary-datacountsec"><span>data count section</span></a></p>
        </td></tr></tbody></table>
        <div role="note">
         <p>Note</p>
         <p>Section ids do not always correspond to the <a href="#binary-module"><span>order of sections</span></a> in the encoding of a module.</p>
        </div>
       </section>
       <section id="custom-section">
         <span id="binary-customsec"></span><span id="index-2①⑧"></span>
        <h4 data-level="5.5.3" id="custom-section①"><span>5.5.3. </span><span>Custom Section</span><a href="#custom-section①"></a></h4>
        <p><em>Custom sections</em> have the id 0.
They are intended to be used for debugging information or third-party extensions, and are ignored by the WebAssembly semantics.
Their contents consist of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-name"><span>name</span></a> further identifying the custom section, followed by an uninterpreted sequence of bytes for custom use.</p>
        
        <div role="note">
         <p>Note</p>
         <p>If an implementation interprets the data of a custom section, then errors in that data, or the placement of the section, must not invalidate the module.</p>
        </div>
       </section>
       <section id="type-section">
         <span id="binary-typesec"></span><span id="binary-typedef"></span><span id="index-3①④"></span>
        <h4 data-level="5.5.4" id="type-section①"><span>5.5.4. </span><span>Type Section</span><a href="#type-section①"></a></h4>
        <p>The <em>type section</em> has the id 1.
It decodes into a vector of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function types</span></a> that represent the <span><span><span></span></span></span> component of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a>.</p>
        
       </section>
       <section id="import-section">
         <span id="binary-importsec"></span><span id="binary-importdesc"></span><span id="binary-import"></span><span id="index-4①④"></span>
        <h4 data-level="5.5.5" id="import-section①"><span>5.5.5. </span><span>Import Section</span><a href="#import-section①"></a></h4>
        <p>The <em>import section</em> has the id 2.
It decodes into a vector of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-import"><span>imports</span></a> that represent the <span><span><span></span></span></span> component of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a>.</p>
        
       </section>
       <section id="function-section">
         <span id="binary-funcsec"></span><span id="index-5①③"></span>
        <h4 data-level="5.5.6" id="function-section①"><span>5.5.6. </span><span>Function Section</span><a href="#function-section①"></a></h4>
        <p>The <em>function section</em> has the id 3.
It decodes into a vector of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-typeidx"><span>type indices</span></a> that represent the <span><span><span></span></span></span> fields of the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-func"><span>functions</span></a> in the <span><span><span></span></span></span> component of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a>.
The <span><span><span></span></span></span> and <span><span><span></span></span></span> fields of the respective functions are encoded separately in the <a href="#binary-codesec"><span>code section</span></a>.</p>
        
       </section>
       <section id="table-section">
         <span id="binary-tablesec"></span><span id="binary-table"></span><span id="index-6①②"></span>
        <h4 data-level="5.5.7" id="table-section①"><span>5.5.7. </span><span>Table Section</span><a href="#table-section①"></a></h4>
        <p>The <em>table section</em> has the id 4.
It decodes into a vector of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-table"><span>tables</span></a> that represent the <span><span><span></span></span></span> component of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a>.</p>
        
       </section>
       <section id="memory-section">
         <span id="binary-memsec"></span><span id="binary-mem"></span><span id="index-7①②"></span>
        <h4 data-level="5.5.8" id="memory-section①"><span>5.5.8. </span><span>Memory Section</span><a href="#memory-section①"></a></h4>
        <p>The <em>memory section</em> has the id 5.
It decodes into a vector of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-mem"><span>memories</span></a> that represent the <span><span><span></span></span></span> component of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a>.</p>
        
       </section>
       <section id="global-section">
         <span id="binary-globalsec"></span><span id="binary-global"></span><span id="index-8①②"></span>
        <h4 data-level="5.5.9" id="global-section①"><span>5.5.9. </span><span>Global Section</span><a href="#global-section①"></a></h4>
        <p>The <em>global section</em> has the id 6.
It decodes into a vector of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-global"><span>globals</span></a> that represent the <span><span><span></span></span></span> component of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a>.</p>
        
       </section>
       <section id="export-section">
         <span id="binary-exportsec"></span><span id="binary-exportdesc"></span><span id="binary-export"></span><span id="index-9①②"></span>
        <h4 data-level="5.5.10" id="export-section①"><span>5.5.10. </span><span>Export Section</span><a href="#export-section①"></a></h4>
        <p>The <em>export section</em> has the id 7.
It decodes into a vector of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-export"><span>exports</span></a> that represent the <span><span><span></span></span></span> component of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a>.</p>
        
       </section>
       <section id="start-section">
         <span id="binary-startsec"></span><span id="binary-start"></span><span id="index-10⑨"></span>
        <h4 data-level="5.5.11" id="start-section①"><span>5.5.11. </span><span>Start Section</span><a href="#start-section①"></a></h4>
        <p>The <em>start section</em> has the id 8.
It decodes into an optional <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-start"><span>start function</span></a> that represents the <span><span><span></span></span></span> component of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a>.</p>
        
       </section>
       <section id="element-section">
         <span id="binary-elemkind"></span><span id="binary-elemsec"></span><span id="binary-elem"></span><span id="index-11⑧"></span>
        <h4 data-level="5.5.12" id="element-section①"><span>5.5.12. </span><span>Element Section</span><a href="#element-section①"></a></h4>
        <p>The <em>element section</em> has the id 9.
It decodes into a vector of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elem"><span>element segments</span></a> that represent the <span><span><span></span></span></span> component of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a>.</p>
        
        <div role="note">
         <p>Note</p>
         <p>The initial integer can be interpreted as a bitfield.
Bit 0 distinguishes a passive or declarative segment from an active segment,
bit 1 indicates the presence of an explicit table index for an active segment and otherwise distinguishes passive from declarative segments,
bit 2 indicates the use of element type and element <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-expr"><span>expressions</span></a> instead of element kind and element indices.</p>
         <p>Additional element kinds may be added in future versions of WebAssembly.</p>
        </div>
       </section>
       <section id="code-section">
         <span id="binary-codesec"></span><span id="binary-local"></span><span id="binary-func"></span><span id="binary-code"></span><span id="index-12④"></span>
        <h4 data-level="5.5.13" id="code-section①"><span>5.5.13. </span><span>Code Section</span><a href="#code-section①"></a></h4>
        <p>The <em>code section</em> has the id 10.
It decodes into a vector of <em>code</em> entries that are pairs of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> vectors and <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-expr"><span>expressions</span></a>.
They represent the <span><span><span></span></span></span> and <span><span><span></span></span></span> field of the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-func"><span>functions</span></a> in the <span><span><span></span></span></span> component of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a>.
The <span><span><span></span></span></span> fields of the respective functions are encoded separately in the <a href="#binary-funcsec"><span>function section</span></a>.</p>
        <p>The encoding of each code entry consists of</p>
        <ul>
         <li>
          <p>the <span><span><span></span></span></span> <em>size</em> of the function code in bytes,</p>
         </li><li>
          <p>the actual <em>function code</em>, which in turn consists of</p>
          <ul>
           <li>
            <p>the declaration of <em>locals</em>,</p>
           </li><li>
            <p>the function <em>body</em> as an <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-expr"><span>expression</span></a>.</p>
          </li></ul>
        </li></ul>
        <p>Local declarations are compressed into a vector whose entries consist of</p>
        <ul>
         <li>
          <p>a <span><span><span></span></span></span> <em>count</em>,</p>
         </li><li>
          <p>a <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-valtype"><span>value type</span></a>,</p>
        </li></ul>
        <p>denoting <em>count</em> locals of the same value type.</p>
        
        <p>Here, <span><span><span></span></span></span> ranges over pairs <span><span><span></span></span></span>.
The meta function <span><span><span></span></span></span> concatenates all sequences <span><span><span></span></span></span> in <span><span><span></span></span></span>.
Any code for which the length of the resulting sequence is out of bounds of the maximum size of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-vec"><span>vector</span></a> is malformed.</p>
        <div role="note">
         <p>Note</p>
         <p>Like with <a href="#binary-section"><span>sections</span></a>, the code <span><span><span></span></span></span> is not needed for decoding, but can be used to skip functions when navigating through a binary.
The module is malformed if a size does not match the length of the respective function code.</p>
        </div>
       </section>
       <section id="data-section">
         <span id="binary-datasec"></span><span id="binary-data"></span><span id="index-13②"></span>
        <h4 data-level="5.5.14" id="data-section①"><span>5.5.14. </span><span>Data Section</span><a href="#data-section①"></a></h4>
        <p>The <em>data section</em> has the id 11.
It decodes into a vector of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-data"><span>data segments</span></a> that represent the <span><span><span></span></span></span> component of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a>.</p>
        
        <div role="note">
         <p>Note</p>
         <p>The initial integer can be interpreted as a bitfield.
Bit 0 indicates a passive segment,
bit 1 indicates the presence of an explicit memory index for an active segment.</p>
         <p>In the current version of WebAssembly, at most one memory may be defined or
imported in a single module, so all valid <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-data"><span>active</span></a> data
segments have a <span><span><span></span></span></span> value of <span><span><span></span></span></span>.</p>
        </div>
       </section>
       <section id="data-count-section">
         <span id="binary-datacountsec"></span><span id="index-14②"></span>
        <h4 data-level="5.5.15" id="data-count-section①"><span>5.5.15. </span><span>Data Count Section</span><a href="#data-count-section①"></a></h4>
        <p>The <em>data count section</em> has the id 12.
It decodes into an optional <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-uint"><span>u32</span></a> that represents the number of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-data"><span>data segments</span></a> in the <a href="#binary-datasec"><span>data section</span></a>. If this count does not match the length of the data segment vector, the module is malformed.</p>
        
        <div role="note">
         <p>Note</p>
         <p>The data count section is used to simplify single-pass validation. Since the
data section occurs after the code section, the <span><span><span></span></span></span> and <span><span><span></span></span></span> instructions would not be able to check whether the data
segment index is valid until the data section is read. The data count section
occurs before the code section, so a single-pass validator can use this count
instead of deferring validation.</p>
        </div>
       </section>
       <section id="binary-module">
         <span id="binary-version"></span><span id="binary-magic"></span><span id="index-15②"></span><span id="id1①③"></span>
        <h4 data-level="5.5.16" id="modules①⓪"><span>5.5.16. </span><span>Modules</span><a href="#modules①⓪"></a></h4>
        <p>The encoding of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a> starts with a preamble containing a 4-byte magic number (the string <span><span><span></span></span></span>) and a version field.
The current version of the WebAssembly binary format is 1.</p>
        <p>The preamble is followed by a sequence of <a href="#binary-section"><span>sections</span></a>. <a href="#binary-customsec"><span>Custom sections</span></a> may be inserted at any place in this sequence,
while other sections must occur at most once and in the prescribed order.
All sections can be empty.</p>
        <p>The lengths of vectors produced by the (possibly empty) <a href="#binary-funcsec"><span>function</span></a> and <a href="#binary-codesec"><span>code</span></a> section must match up.</p>
        <p>Similarly, the optional data count must match the length of the <a href="#binary-datasec"><span>data segment</span></a> vector.
Furthermore, it must be present if any <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-dataidx"><span>data index</span></a> occurs in the code section.</p>
        
        <p>where for each <span><span><span></span></span></span> in <span><span><span></span></span></span>,</p>
        
        <div role="note">
         <p>Note</p>
         <p>The version of the WebAssembly binary format may increase in the future
if backward-incompatible changes have to be made to the format.
However, such changes are expected to occur very infrequently, if ever.
The binary format is intended to be extensible,
such that future features can be added without incrementing its version.</p>
        </div>
       </section>
      </section>
     </div>
    </section>
     <section id="text-format">
      <span id="text"></span>
     <h2 data-level="6" id="text-format①"><span>6. </span><span>Text Format</span><a href="#text-format①"></a></h2>
     <div>
       <section id="conventions②⑥">
        <span id="index-0②①"></span>
       <h3 data-level="6.1" id="conventions②⑦"><span>6.1. </span><span>Conventions</span><a href="#conventions②⑦"></a></h3>
       <p>The textual format for WebAssembly <a href="https://www.w3.org/TR/wasm-core-2/index.html#module"><span>modules</span></a> is a rendering of their <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>abstract syntax</span></a> into <a href="https://en.wikipedia.org/wiki/S-expression">S-expressions</a>.</p>
       <p>Like the <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary"><span>binary format</span></a>, the text format is defined by an <em>attribute grammar</em>.
A text string is a well-formed description of a module if and only if it is generated by the grammar.
Each production of this grammar has at most one synthesized attribute: the abstract syntax that the respective character sequence expresses.
Thus, the attribute grammar implicitly defines a <em>parsing</em> function.
Some productions also take a <a href="#text-context"><span>context</span></a> as an inherited attribute
that records bound <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-id"><span>identifiers</span></a>.</p>
       <p>Except for a few exceptions, the core of the text grammar closely mirrors the grammar of the abstract syntax.
However, it also defines a number of <em>abbreviations</em> that are “syntactic sugar” over the core syntax.</p>
       <p>The recommended extension for files containing WebAssembly modules in text format is “<span><span><span></span></span></span>”.
Files with this extension are assumed to be encoded in UTF-8, as per <a data-link-type="biblio" href="#biblio-unicode" title="The Unicode Standard">[UNICODE]</a> (Section 2.5).</p>
       <section id="grammar③">
         <span id="text-grammar"></span><span id="index-1②①"></span>
        <h4 data-level="6.1.1" id="grammar④"><span>6.1.1. </span><span>Grammar</span><a href="#grammar④"></a></h4>
        <p>The following conventions are adopted in defining grammar rules of the text format.
They mirror the conventions used for <a href="https://www.w3.org/TR/wasm-core-2/index.html#grammar"><span>abstract syntax</span></a> and for the <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary"><span>binary format</span></a>.
In order to distinguish symbols of the textual syntax from symbols of the abstract syntax, <span><span><span></span></span></span> font is adopted for the former.</p>
        <ul>
         <li>
          <p>Terminal symbols are either literal strings of characters enclosed in quotes
or expressed as <a data-link-type="biblio" href="#biblio-unicode" title="The Unicode Standard">[UNICODE]</a> scalar values: <span><span><span></span></span></span>, <span><span><span></span></span></span>.
(All characters written literally are unambiguously drawn from the 7-bit <a href="https://webstore.ansi.org/RecordDetail.aspx?sku=INCITS+4-1986%5bR2012%5d">ASCII</a> subset of Unicode.)</p>
         </li><li>
          <p>Nonterminal symbols are written in typewriter font: <span><span><span></span></span></span>.</p>
         </li><li>
          <p><span><span><span></span></span></span> is a sequence of <span><span><span></span></span></span> iterations  of <span><span><span></span></span></span>.</p>
         </li><li>
          <p><span><span><span></span></span></span> is a possibly empty sequence of iterations of <span><span><span></span></span></span>.
(This is a shorthand for <span><span><span></span></span></span> used where <span><span><span></span></span></span> is not relevant.)</p>
         </li><li>
          <p><span><span><span></span></span></span> is a sequence of one or more iterations of <span><span><span></span></span></span>.
(This is a shorthand for <span><span><span></span></span></span> where <span><span><span></span></span></span>.)</p>
         </li><li>
          <p><span><span><span></span></span></span> is an optional occurrence of <span><span><span></span></span></span>.
(This is a shorthand for <span><span><span></span></span></span> where <span><span><span></span></span></span>.)</p>
         </li><li>
          <p><span><span><span></span></span></span> denotes the same language as the nonterminal <span><span><span></span></span></span>, but also binds the variable <span><span><span></span></span></span> to the attribute synthesized for <span><span><span></span></span></span>.
A pattern may also be used instead of a variable, e.g., <span><span><span></span></span></span>.</p>
         </li><li>
          <p>Productions are written <span><span><span></span></span></span>, where each <span><span><span></span></span></span> is the attribute that is synthesized for <span><span><span></span></span></span> in the given case, usually from attribute variables bound in <span><span><span></span></span></span>.</p>
         </li><li>
          <p>Some productions are augmented by side conditions in parentheses, which restrict the applicability of the production. They provide a shorthand for a combinatorial expansion of the production into many separate cases.</p>
         </li><li>
          <p>If the same meta variable or non-terminal symbol appears multiple times in a production (in the syntax or in an attribute), then all those occurrences must have the same instantiation.</p>
        </li></ul>
        <ul id="text-syntactic">
         <li>
          <p>A distinction is made between <em>lexical</em> and <em>syntactic</em> productions. For the latter, arbitrary <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-space"><span>white space</span></a> is allowed in any place where the grammar contains spaces. The productions defining <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-lexical"><span>lexical syntax</span></a> and the syntax of <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-value"><span>values</span></a> are considered lexical, all others are syntactic.</p>
        </li></ul>
        <div role="note">
         <p>Note</p>
         <p>For example, the <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-numtype"><span>textual grammar</span></a> for <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-numtype"><span>number types</span></a> is given as follows:</p>
         
         <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-limits"><span>textual grammar</span></a> for <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-limits"><span>limits</span></a> is defined as follows:</p>
         
         <p>The variables <span><span><span></span></span></span> and <span><span><span></span></span></span> name the attributes of the respective <span><span><span></span></span></span> nonterminals, which in this case are the actual <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-uint"><span>unsigned integers</span></a> those parse into.
The attribute of the complete production then is the abstract syntax for the limit, expressed in terms of the former values.</p>
        </div>
       </section>
       <section id="abbreviations">
         <span id="text-abbreviations"></span><span id="index-2①⑨"></span>
        <h4 data-level="6.1.2" id="abbreviations①"><span>6.1.2. </span><span>Abbreviations</span><a href="#abbreviations①"></a></h4>
        <p>In addition to the core grammar, which corresponds directly to the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax"><span>abstract syntax</span></a>, the textual syntax also defines a number of <em>abbreviations</em> that can be used for convenience and readability.</p>
        <p>Abbreviations are defined by <em>rewrite rules</em> specifying their expansion into the core syntax:</p>
        
        <p>These expansions are assumed to be applied, recursively and in order of appearance, before applying the core grammar rules to construct the abstract syntax.</p>
       </section>
       <section id="contexts②">
         <span id="text-context"></span><span id="text-context-wf"></span><span id="index-3①⑤"></span>
        <h4 data-level="6.1.3" id="contexts③"><span>6.1.3. </span><span>Contexts</span><a href="#contexts③"></a></h4>
        <p>The text format allows the use of symbolic <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-id"><span>identifiers</span></a> in place of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-index"><span>indices</span></a>.
To resolve these identifiers into concrete indices,
some grammar productions are indexed by an <em>identifier context</em> <span><span><span></span></span></span> as a synthesized attribute that records the declared identifiers in each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-index"><span>index space</span></a>.
In addition, the context records the types defined in the module, so that <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-param"><span>parameter</span></a> indices can be computed for <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-func"><span>functions</span></a>.</p>
        <p>It is convenient to define identifier contexts as <a href="https://www.w3.org/TR/wasm-core-2/index.html#notation-record"><span>records</span></a> <span><span><span></span></span></span> with abstract syntax as follows:</p>
        
        <p>For each index space, such a context contains the list of <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-id"><span>identifiers</span></a> assigned to the defined indices.
Unnamed indices are associated with empty (<span><span><span></span></span></span>) entries in these lists.</p>
        <p>An identifier context is <em>well-formed</em> if no index space contains duplicate identifiers.</p>
        <section id="id1①④">
         <h5 data-level="6.1.3.1" id="conventions②⑧"><span>6.1.3.1. </span><span>Conventions</span><a href="#conventions②⑧"></a></h5>
         <p>To avoid unnecessary clutter, empty components are omitted when writing out identifier contexts.
For example, the record <span><span><span></span></span></span> is shorthand for an <a href="#text-context"><span>identifier context</span></a> whose components are all empty.</p>
        </section>
       </section>
       <section id="vectors⑧">
         <span id="text-vec"></span><span id="index-4①⑤"></span>
        <h4 data-level="6.1.4" id="vectors⑨"><span>6.1.4. </span><span>Vectors</span><a href="#vectors⑨"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-vec"><span>Vectors</span></a> are written as plain sequences, but with a restriction on the length of these sequence.</p>
        
       </section>
      </section>
       <section id="lexical-format">
        <span id="text-lexical"></span><span id="index-0②②"></span>
       <h3 data-level="6.2" id="lexical-format①"><span>6.2. </span><span>Lexical Format</span><a href="#lexical-format①"></a></h3>
       <section id="characters">
         <span id="text-char"></span><span id="text-source"></span><span id="source"></span><span id="index-1②②"></span>
        <h4 data-level="6.2.1" id="characters①"><span>6.2.1. </span><span>Characters</span><a href="#characters①"></a></h4>
        <p>The text format assigns meaning to <em>source text</em>, which consists of a sequence of <em>characters</em>.
Characters are assumed to be represented as valid <a data-link-type="biblio" href="#biblio-unicode" title="The Unicode Standard">[UNICODE]</a> (Section 2.4) <em>scalar values</em>.</p>
        
        <div role="note">
         <p>Note</p>
         <p>While source text may contain any Unicode character in <a href="#text-comment"><span>comments</span></a> or <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-string"><span>string</span></a> literals,
the rest of the grammar is formed exclusively from the characters supported by the 7-bit <a href="https://webstore.ansi.org/RecordDetail.aspx?sku=INCITS+4-1986%5bR2012%5d">ASCII</a> subset of Unicode.</p>
        </div>
       </section>
       <section id="tokens">
         <span id="text-token"></span><span id="text-reserved"></span><span id="text-keyword"></span><span id="index-2②⓪"></span>
        <h4 data-level="6.2.2" id="tokens①"><span>6.2.2. </span><span>Tokens</span><a href="#tokens①"></a></h4>
        <p>The character stream in the source text is divided, from left to right, into a sequence of <em>tokens</em>, as defined by the following grammar.</p>
        
        <p>Tokens are formed from the input character stream according to the <em>longest match</em> rule.
That is, the next token always consists of the longest possible sequence of characters that is recognized by the above lexical grammar.
Tokens can be separated by <a href="#text-space"><span>white space</span></a>,
but except for strings, they cannot themselves contain whitespace.</p>
        <p><em>Keyword</em> tokens are defined either implicitly by an occurrence of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-grammar"><span>terminal symbol</span></a> in literal form, such as <span><span><span></span></span></span>, in a <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-syntactic"><span>syntactic</span></a> production of this chapter, or explicitly where they arise in this chapter.</p>
        <p>Any token that does not fall into any of the other categories is considered <em>reserved</em>, and cannot occur in source text.</p>
        <div role="note">
         <p>Note</p>
         <p>The effect of defining the set of reserved tokens is that all tokens must be separated by either parentheses, <a href="#text-space"><span>white space</span></a>, or <a href="#text-comment"><span>comments</span></a>.
For example, <span><span><span></span></span></span> is a single reserved token, as is <span><span><span></span></span></span>.
Consequently, they are not recognized as two separate tokens <span><span><span></span></span></span> and <span><span><span></span></span></span>, or <span><span><span></span></span></span> and <span><span><span></span></span></span>, respectively, but instead disallowed.
This property of tokenization is not affected by the fact that the definition of reserved tokens overlaps with other token classes.</p>
        </div>
       </section>
       <section id="white-space">
         <span id="text-newline"></span><span id="text-format②"></span><span id="text-space"></span><span id="index-3①⑥"></span>
        <h4 data-level="6.2.3" id="white-space①"><span>6.2.3. </span><span>White Space</span><a href="#white-space①"></a></h4>
        <p><em>White space</em> is any sequence of literal space characters, formatting characters, or <a href="#text-comment"><span>comments</span></a>.
The allowed formatting characters correspond to a subset of the <a href="https://webstore.ansi.org/RecordDetail.aspx?sku=INCITS+4-1986%5bR2012%5d">ASCII</a> <em>format effectors</em>, namely, <em>horizontal tabulation</em> (<span><span><span></span></span></span>), <em>line feed</em> (<span><span><span></span></span></span>), and <em>carriage return</em> (<span><span><span></span></span></span>).</p>
        
        <p>The only relevance of white space is to separate <a href="#text-token"><span>tokens</span></a>. It is otherwise ignored.</p>
       </section>
       
      </section>
       <section id="values⑦">
        <span id="text-value"></span><span id="index-0②③"></span>
       <h3 data-level="6.3" id="values⑧"><span>6.3. </span><span>Values</span><a href="#values⑧"></a></h3>
       <p>The grammar productions in this section define <em>lexical syntax</em>,
hence no <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-space"><span>white space</span></a> is allowed.</p>
       <section id="integers⑥">
         <span id="text-int"></span><span id="text-uint"></span><span id="text-sint"></span><span id="text-hexnum"></span><span id="text-num"></span><span id="text-hexdigit"></span><span id="text-digit"></span><span id="text-sign"></span><span id="index-1②③"></span>
        <h4 data-level="6.3.1" id="integers⑦"><span>6.3.1. </span><span>Integers</span><a href="#integers⑦"></a></h4>
        <p>All <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-int"><span>integers</span></a> can be written in either decimal or hexadecimal notation.
In both cases, digits can optionally be separated by underscores.</p>
        
        <p>The allowed syntax for integer literals depends on size and signedness.
Moreover, their value must lie within the range of the respective type.</p>
        
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-int"><span>Uninterpreted integers</span></a> can be written as either signed or unsigned, and are normalized to unsigned in the abstract syntax.</p>
        
       </section>
       <section id="floating-point⑥">
         <span id="text-float"></span><span id="text-hexfloat"></span><span id="text-hexfrac"></span><span id="text-frac"></span><span id="index-2②①"></span>
        <h4 data-level="6.3.2" id="floating-point⑦"><span>6.3.2. </span><span>Floating-Point</span><a href="#floating-point⑦"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-float"><span>Floating-point</span></a> values can be represented in either decimal or hexadecimal notation.</p>
        
        <p>The value of a literal must not lie outside the representable range of the corresponding <a data-link-type="biblio" href="#biblio-ieee-754-2019" title="IEEE Standard for Floating-Point Arithmetic">[IEEE-754-2019]</a> type
(that is, a numeric value must not overflow to <span><span><span></span></span></span>),
but it may be <a href="https://www.w3.org/TR/wasm-core-2/index.html#aux-ieee"><span>rounded</span></a> to the nearest representable value.</p>
        <div role="note">
         <p>Note</p>
         <p>Rounding can be prevented by using hexadecimal notation with no more significant bits than supported by the required type.</p>
        </div>
        <p>Floating-point values may also be written as constants for <em>infinity</em> or <em>canonical NaN</em> (<em>not a number</em>).
Furthermore, arbitrary NaN values may be expressed by providing an explicit payload value.</p>
        
       </section>
       <section id="strings">
         <span id="text-string"></span><span id="text-byte"></span><span id="index-3①⑦"></span>
        <h4 data-level="6.3.3" id="strings①"><span>6.3.3. </span><span>Strings</span><a href="#strings①"></a></h4>
        <p><em>Strings</em> denote sequences of bytes that can represent both textual and binary data.
They are enclosed in quotation marks
and may contain any character other than <a href="https://webstore.ansi.org/RecordDetail.aspx?sku=INCITS+4-1986%5bR2012%5d">ASCII</a> control characters, quotation marks (<span><span><span></span></span></span>), or backslash (<span><span><span></span></span></span>),
except when expressed with an <em>escape sequence</em>.</p>
        
        <p>Each character in a string literal represents the byte sequence corresponding to its UTF-8 <a data-link-type="biblio" href="#biblio-unicode" title="The Unicode Standard">[UNICODE]</a> (Section 2.5) encoding,
except for hexadecimal escape sequences <span><span><span></span></span></span>, which represent raw bytes of the respective value.</p>
        
       </section>
       <section id="names④">
         <span id="text-name"></span><span id="index-4①⑦"></span>
        <h4 data-level="6.3.4" id="names⑤"><span>6.3.4. </span><span>Names</span><a href="#names⑤"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-name"><span>Names</span></a> are strings denoting a literal character sequence.
A name string must form a valid UTF-8 encoding as defined by <a data-link-type="biblio" href="#biblio-unicode" title="The Unicode Standard">[UNICODE]</a> (Section 2.5) and is interpreted as a string of Unicode scalar values.</p>
        
        <div role="note">
         <p>Note</p>
         <p>Presuming the source text is itself encoded correctly,
strings that do not contain any uses of hexadecimal byte escapes are always valid names.</p>
        </div>
       </section>
       <section id="text-id">
         <span id="text-idchar"></span><span id="index-5①④"></span><span id="identifiers"></span>
        <h4 data-level="6.3.5" id="identifiers①"><span>6.3.5. </span><span>Identifiers</span><a href="#identifiers①"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-index"><span>Indices</span></a> can be given in both numeric and symbolic form.
Symbolic <em>identifiers</em> that stand in lieu of indices start with <span><span><span></span></span></span>, followed by any sequence of printable <a href="https://webstore.ansi.org/RecordDetail.aspx?sku=INCITS+4-1986%5bR2012%5d">ASCII</a> characters that does not contain a space, quotation mark, comma, semicolon, or bracket.</p>
        
        <section id="conventions②⑨">
          <span id="text-id-fresh"></span>
         <h5 data-level="6.3.5.1" id="conventions③⓪"><span>6.3.5.1. </span><span>Conventions</span><a href="#conventions③⓪"></a></h5>
         <p>The expansion rules of some abbreviations require insertion of a <em>fresh</em> identifier.
That may be any syntactically valid identifier that does not already occur in the given source text.</p>
        </section>
       </section>
      </section>
       <section id="types⑧">
        <span id="text-type"></span><span id="index-0②④"></span>
       <h3 data-level="6.4" id="types⑨"><span>6.4. </span><span>Types</span><a href="#types⑨"></a></h3>
       <section id="number-types④">
         <span id="text-numtype"></span><span id="index-1②④"></span>
        <h4 data-level="6.4.1" id="number-types⑤"><span>6.4.1. </span><span>Number Types</span><a href="#number-types⑤"></a></h4>
        
       </section>
       <section id="vector-types④">
         <span id="text-vectype"></span><span id="index-2②②"></span>
        <h4 data-level="6.4.2" id="vector-types⑤"><span>6.4.2. </span><span>Vector Types</span><a href="#vector-types⑤"></a></h4>
        
       </section>
       <section id="reference-types④">
         <span id="text-heaptype"></span><span id="text-reftype"></span><span id="index-3①⑧"></span>
        <h4 data-level="6.4.3" id="reference-types⑤"><span>6.4.3. </span><span>Reference Types</span><a href="#reference-types⑤"></a></h4>
        
       </section>
       <section id="value-types④">
         <span id="text-valtype"></span><span id="index-4①⑧"></span>
        <h4 data-level="6.4.4" id="value-types⑤"><span>6.4.4. </span><span>Value Types</span><a href="#value-types⑤"></a></h4>
        
       </section>
       <section id="function-types⑥">
         <span id="text-functype"></span><span id="text-result"></span><span id="text-param"></span><span id="index-5①⑤"></span>
        <h4 data-level="6.4.5" id="function-types⑦"><span>6.4.5. </span><span>Function Types</span><a href="#function-types⑦"></a></h4>
        
        <div role="note">
         <p>Note</p>
         <p>The optional identifier names for parameters in a function type only have documentation purpose.
They cannot be referenced from anywhere.</p>
        </div>
        <section id="abbreviations②">
         <h5 data-level="6.4.5.1" id="abbreviations③"><span>6.4.5.1. </span><span>Abbreviations</span><a href="#abbreviations③"></a></h5>
         <p>Multiple anonymous parameters or results may be combined into a single declaration:</p>
         
        </section>
       </section>
       <section id="limits⑦">
         <span id="text-limits"></span><span id="index-6①③"></span>
        <h4 data-level="6.4.6" id="limits⑧"><span>6.4.6. </span><span>Limits</span><a href="#limits⑧"></a></h4>
        
       </section>
       <section id="memory-types⑥">
         <span id="text-memtype"></span><span id="index-7①③"></span>
        <h4 data-level="6.4.7" id="memory-types⑦"><span>6.4.7. </span><span>Memory Types</span><a href="#memory-types⑦"></a></h4>
        
       </section>
       <section id="table-types⑥">
         <span id="text-tabletype"></span><span id="index-8①③"></span>
        <h4 data-level="6.4.8" id="table-types⑦"><span>6.4.8. </span><span>Table Types</span><a href="#table-types⑦"></a></h4>
        
       </section>
       <section id="global-types⑥">
         <span id="text-globaltype"></span><span id="index-9①③"></span>
        <h4 data-level="6.4.9" id="global-types⑦"><span>6.4.9. </span><span>Global Types</span><a href="#global-types⑦"></a></h4>
        
       </section>
      </section>
       <section id="instructions⑧">
        <span id="text-instr"></span><span id="index-0②⑤"></span>
       <h3 data-level="6.5" id="instructions⑨"><span>6.5. </span><span>Instructions</span><a href="#instructions⑨"></a></h3>
       <p>Instructions are syntactically distinguished into <em>plain</em> and <em>structured</em> instructions.</p>
       
       <p>In addition, as a syntactic abbreviation, instructions can be written as S-expressions in <a href="#text-foldedinstr"><span>folded</span></a> form, to group them visually.</p>
       <section id="labels②">
         <span id="text-label"></span><span id="index-1②⑤"></span>
        <h4 data-level="6.5.1" id="labels③"><span>6.5.1. </span><span>Labels</span><a href="#labels③"></a></h4>
        <p><a href="#text-instr-control"><span>Structured control instructions</span></a> can be annotated with a symbolic <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-id"><span>label identifier</span></a>.
They are the only <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-index"><span>symbolic identifiers</span></a> that can be bound locally in an instruction sequence.
The following grammar handles the corresponding update to the <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-context"><span>identifier context</span></a> by <a href="https://www.w3.org/TR/wasm-core-2/index.html#notation-compose"><span>composing</span></a> the context with an additional label entry.</p>
        
        <div role="note">
         <p>Note</p>
         <p>The new label entry is inserted at the <em>beginning</em> of the label list in the identifier context.
This effectively shifts all existing labels up by one,
mirroring the fact that control instructions are indexed relatively not absolutely.</p>
         <p>If a label with the same name already exists,
then it is shadowed and the earlier label becomes inaccessible.</p>
        </div>
       </section>
       <section id="control-instructions⑧">
         <span id="text-instr-control"></span><span id="text-plaininstr"></span><span id="text-blockinstr"></span><span id="index-2②③"></span>
        <h4 data-level="6.5.2" id="control-instructions⑨"><span>6.5.2. </span><span>Control Instructions</span><a href="#control-instructions⑨"></a></h4>
        <p id="text-instr-block"><span id="text-if"></span><span id="text-loop"></span><span id="text-block"></span><span id="text-blocktype"></span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-control"><span>Structured control instructions</span></a> can bind an optional symbolic <a href="#text-label"><span>label identifier</span></a>.
The same label identifier may optionally be repeated after the corresponding <span><span><span></span></span></span> and <span><span><span></span></span></span> pseudo instructions, to indicate the matching delimiters.</p>
        <p>Their <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-blocktype"><span>block type</span></a> is given as a <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-typeuse"><span>type use</span></a>, analogous to the type of <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-func"><span>functions</span></a>.
However, the special case of a type use that is syntactically empty or consists of only a single <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-result"><span>result</span></a> is not regarded as an <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-typeuse-abbrev"><span>abbreviation</span></a> for an inline <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a>, but is parsed directly into an optional <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a>.</p>
        
        <div role="note">
         <p>Note</p>
         <p>The side condition stating that the <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-context"><span>identifier context</span></a> <span><span><span></span></span></span> must only contain unnamed entries in the rule for <span><span><span></span></span></span> block types enforces that no identifier can be bound in any <span><span><span></span></span></span> declaration for a block type.</p>
        </div>
        <p id="text-call-indirect"><span id="text-call"></span><span id="text-return"></span><span id="text-br-table"></span><span id="text-br-if"></span><span id="text-br"></span><span id="text-unreachable"></span><span id="text-nop"></span>All other control instruction are represented verbatim.</p>
        
        <div role="note">
         <p>Note</p>
         <p>The side condition stating that the <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-context"><span>identifier context</span></a> <span><span><span></span></span></span> must only contain unnamed entries in the rule for <span><span><span></span></span></span> enforces that no identifier can be bound in any <span><span><span></span></span></span> declaration appearing in the type annotation.</p>
        </div>
        <section id="abbreviations④">
         <h5 data-level="6.5.2.1" id="abbreviations⑤"><span>6.5.2.1. </span><span>Abbreviations</span><a href="#abbreviations⑤"></a></h5>
         <p>The <span><span><span></span></span></span> keyword of an <span><span><span></span></span></span> instruction can be omitted if the following instruction sequence is empty.</p>
         
         <p>Also, for backwards compatibility, the table index to <span><span><span></span></span></span> can be omitted, defaulting to <span><span><span></span></span></span>.</p>
         
        </section>
       </section>
       <section id="reference-instructions⑧">
         <span id="text-instr-ref"></span><span id="index-3①⑨"></span>
        <h4 data-level="6.5.3" id="reference-instructions⑨"><span>6.5.3. </span><span>Reference Instructions</span><a href="#reference-instructions⑨"></a></h4>
        
       </section>
       <section id="parametric-instructions⑧">
         <span id="text-instr-parametric"></span><span id="index-4①⑨"></span>
        <h4 data-level="6.5.4" id="parametric-instructions⑨"><span>6.5.4. </span><span>Parametric Instructions</span><a href="#parametric-instructions⑨"></a></h4>
        
       </section>
       <section id="variable-instructions⑧">
         <span id="text-instr-variable"></span><span id="index-5①⑥"></span>
        <h4 data-level="6.5.5" id="variable-instructions⑨"><span>6.5.5. </span><span>Variable Instructions</span><a href="#variable-instructions⑨"></a></h4>
        
       </section>
       <section id="table-instructions⑧">
         <span id="text-instr-table"></span><span id="index-6①④"></span>
        <h4 data-level="6.5.6" id="table-instructions⑨"><span>6.5.6. </span><span>Table Instructions</span><a href="#table-instructions⑨"></a></h4>
        
        <section id="id1①⑤">
         <h5 data-level="6.5.6.1" id="abbreviations⑥"><span>6.5.6.1. </span><span>Abbreviations</span><a href="#abbreviations⑥"></a></h5>
         <p>For backwards compatibility, all <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableidx"><span>table indices</span></a> may be omitted from table instructions, defaulting to <span><span><span></span></span></span>.</p>
         
        </section>
       </section>
       <section id="memory-instructions⑧">
         <span id="text-instr-memory"></span><span id="index-7①④"></span>
        <h4 data-level="6.5.7" id="memory-instructions⑨"><span>6.5.7. </span><span>Memory Instructions</span><a href="#memory-instructions⑨"></a></h4>
        <p id="text-data-drop"><span id="text-memory-init"></span><span id="text-memory-copy"></span><span id="text-memory-fill"></span><span id="text-memory-grow"></span><span id="text-memory-size"></span><span id="text-storen"></span><span id="text-store"></span><span id="text-loadn"></span><span id="text-load"></span><span id="text-memarg"></span>The offset and alignment immediates to memory instructions are optional.
The offset defaults to <span><span><span></span></span></span>, the alignment to the storage size of the respective memory access, which is its <em>natural alignment</em>.
Lexically, an <span><span><span></span></span></span> or <span><span><span></span></span></span> phrase is considered a single <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-keyword"><span>keyword token</span></a>, so no <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-space"><span>white space</span></a> is allowed around the <span><span><span></span></span></span>.</p>
        
       </section>
       <section id="numeric-instructions⑧">
         <span id="text-instr-numeric"></span><span id="index-8①④"></span>
        <h4 data-level="6.5.8" id="numeric-instructions⑨"><span>6.5.8. </span><span>Numeric Instructions</span><a href="#numeric-instructions⑨"></a></h4>
        
        
        
        
        
        
        
        
        
        
        
       </section>
       <section id="vector-instructions⑧">
         <span id="text-instr-vec"></span><span id="index-9①④"></span>
        <h4 data-level="6.5.9" id="vector-instructions⑨"><span>6.5.9. </span><span>Vector Instructions</span><a href="#vector-instructions⑨"></a></h4>
        <p>Vector memory instructions have optional offset and alignment immediates, like the <a href="#text-memarg"><span>memory instructions</span></a>.</p>
        
        <p>Vector constant instructions have a mandatory <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-vec-shape"><span>shape</span></a> descriptor, which determines how the following values are parsed.</p>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
       </section>
       <section id="folded-instructions">
         <span id="text-foldedinstr"></span><span id="index-10①⓪"></span>
        <h4 data-level="6.5.10" id="folded-instructions①"><span>6.5.10. </span><span>Folded Instructions</span><a href="#folded-instructions①"></a></h4>
        <p>Instructions can be written as S-expressions by grouping them into <em>folded</em> form. In that notation, an instruction is wrapped in parentheses and optionally includes nested folded instructions to indicate its operands.</p>
        <p>In the case of <a href="#text-instr-block"><span>block instructions</span></a>, the folded form omits the <span><span><span></span></span></span> delimiter.
For <span><span><span></span></span></span> instructions, both branches have to be wrapped into nested S-expressions, headed by the keywords <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
        <p>The set of all phrases defined by the following abbreviations recursively forms the auxiliary syntactic class <span><span><span></span></span></span>.
Such a folded instruction can appear anywhere a regular instruction can.</p>
        
        <div role="note">
         <p>Note</p>
         <p>For example, the instruction sequence</p>
         
         <p>can be folded into</p>
         
         <p>Folded instructions are solely syntactic sugar,
no additional syntactic or type-based checking is implied.</p>
        </div>
       </section>
       <section id="expressions⑧">
         <span id="text-expr"></span><span id="index-11⑨"></span>
        <h4 data-level="6.5.11" id="expressions⑨"><span>6.5.11. </span><span>Expressions</span><a href="#expressions⑨"></a></h4>
        <p>Expressions are written as instruction sequences.
No explicit <span><span><span></span></span></span> keyword is included, since they only occur in bracketed positions.</p>
        
       </section>
      </section>
       <section id="modules①①">
       <h3 data-level="6.6" id="modules①②"><span>6.6. </span><span>Modules</span><a href="#modules①②"></a></h3>
       <section id="indices④">
         <span id="text-index"></span><span id="text-labelidx"></span><span id="text-localidx"></span><span id="text-globalidx"></span><span id="text-dataidx"></span><span id="text-elemidx"></span><span id="text-memidx"></span><span id="text-tableidx"></span><span id="text-funcidx"></span><span id="text-typeidx"></span><span id="index-0②⑥"></span>
        <h4 data-level="6.6.1" id="indices⑤"><span>6.6.1. </span><span>Indices</span><a href="#indices⑤"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-index"><span>Indices</span></a> can be given either in raw numeric form or as symbolic <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-id"><span>identifiers</span></a> when bound by a respective construct.
Such identifiers are looked up in the suitable space of the <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-context"><span>identifier context</span></a> <span><span><span></span></span></span>.</p>
        
       </section>
       <section id="types①⓪">
         <span id="text-typedef"></span><span id="index-1②⑥"></span>
        <h4 data-level="6.6.2" id="types①①"><span>6.6.2. </span><span>Types</span><a href="#types①①"></a></h4>
        <p>Type definitions can bind a symbolic <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-id"><span>type identifier</span></a>.</p>
        
       </section>
       <section id="type-uses">
         <span id="text-typeuse"></span><span id="index-2②④"></span>
        <h4 data-level="6.6.3" id="type-uses①"><span>6.6.3. </span><span>Type Uses</span><a href="#type-uses①"></a></h4>
        <p>A <em>type use</em> is a reference to a <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-type"><span>type definition</span></a>.
It may optionally be augmented by explicit inlined <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-param"><span>parameter</span></a> and <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-result"><span>result</span></a> declarations.
That allows binding symbolic <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-id"><span>identifiers</span></a> to name the <a href="#text-localidx"><span>local indices</span></a> of parameters.
If inline declarations are given, then their types must match the referenced <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-type"><span>function type</span></a>.</p>
        
        <p>The synthesized attribute of a <span><span><span></span></span></span> is a pair consisting of both the used <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-typeidx"><span>type index</span></a> and the local <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-context"><span>identifier context</span></a> containing possible parameter identifiers.
The following auxiliary function extracts optional identifiers from parameters:</p>
        
        <div role="note">
         <p>Note</p>
         <p>Both productions overlap for the case that the function type is <span><span><span></span></span></span>.
However, in that case, they also produce the same results, so that the choice is immaterial.</p>
         <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-context-wf"><span>well-formedness</span></a> condition on <span><span><span></span></span></span> ensures that the parameters do not contain duplicate identifiers.</p>
        </div>
        <section id="abbreviations⑦">
          <span id="text-typeuse-abbrev"></span>
         <h5 data-level="6.6.3.1" id="abbreviations⑧"><span>6.6.3.1. </span><span>Abbreviations</span><a href="#abbreviations⑧"></a></h5>
         <p>A <span><span><span></span></span></span> may also be replaced entirely by inline <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-param"><span>parameter</span></a> and <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-result"><span>result</span></a> declarations.
In that case, a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-typeidx"><span>type index</span></a> is automatically inserted:</p>
         
         <p>where <span><span><span></span></span></span> is the smallest existing <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-typeidx"><span>type index</span></a> whose definition in the current module is the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span>.
If no such index exists, then a new <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-type"><span>type definition</span></a> of the form</p>
         
         <p>is inserted at the end of the module.</p>
         <p>Abbreviations are expanded in the order they appear, such that previously inserted type definitions are reused by consecutive expansions.</p>
        </section>
       </section>
       <section id="imports④">
         <span id="text-import"></span><span id="text-importdesc"></span><span id="index-3②⓪"></span>
        <h4 data-level="6.6.4" id="imports⑤"><span>6.6.4. </span><span>Imports</span><a href="#imports⑤"></a></h4>
        <p>The descriptors in imports can bind a symbolic function, table, memory, or global <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-id"><span>identifier</span></a>.</p>
        
        <section id="id1①⑥">
         <h5 data-level="6.6.4.1" id="abbreviations⑨"><span>6.6.4.1. </span><span>Abbreviations</span><a href="#abbreviations⑨"></a></h5>
         <p>As an abbreviation, imports may also be specified inline with <a href="#text-func"><span>function</span></a>, <a href="#text-table"><span>table</span></a>, <a href="#text-mem"><span>memory</span></a>, or <a href="#text-global"><span>global</span></a> definitions; see the respective sections.</p>
        </section>
       </section>
       <section id="functions⑧">
         <span id="text-func"></span><span id="text-local"></span><span id="index-4②⓪"></span>
        <h4 data-level="6.6.5" id="functions⑨"><span>6.6.5. </span><span>Functions</span><a href="#functions⑨"></a></h4>
        <p>Function definitions can bind a symbolic <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-id"><span>function identifier</span></a>, and <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-id"><span>local identifiers</span></a> for its <a href="#text-typeuse"><span>parameters</span></a> and locals.</p>
        
        <p>The definition of the local <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-context"><span>identifier context</span></a> <span><span><span></span></span></span> uses the following auxiliary function to extract optional identifiers from locals:</p>
        
        <div role="note">
         <p>Note</p>
         <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-context-wf"><span>well-formedness</span></a> condition on <span><span><span></span></span></span> ensures that parameters and locals do not contain duplicate identifiers.</p>
        </div>
         <span id="index-5①⑦"></span>
        <section id="text-func-abbrev">
          <span id="index-6①⑤"></span><span id="id2⑦"></span>
         <h5 data-level="6.6.5.1" id="abbreviations①⓪"><span>6.6.5.1. </span><span>Abbreviations</span><a href="#abbreviations①⓪"></a></h5>
         <p>Multiple anonymous locals may be combined into a single declaration:</p>
         
         <p>Functions can be defined as <a href="#text-import"><span>imports</span></a> or <a href="#text-export"><span>exports</span></a> inline:</p>
         
         <div role="note">
          <p>Note</p>
          <p>The latter abbreviation can be applied repeatedly, if “<span><span><span></span></span></span>” contains additional export clauses.
Consequently, a function declaration can contain any number of exports, possibly followed by an import.</p>
         </div>
        </section>
       </section>
       <section id="tables⑧">
         <span id="text-table"></span><span id="index-7①⑤"></span>
        <h4 data-level="6.6.6" id="tables⑨"><span>6.6.6. </span><span>Tables</span><a href="#tables⑨"></a></h4>
        <p>Table definitions can bind a symbolic <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-id"><span>table identifier</span></a>.</p>
        
         <span id="index-8①⑤"></span><span id="index-9①⑤"></span>
        <section id="text-table-abbrev">
          <span id="index-10①①"></span><span id="id3③"></span>
         <h5 data-level="6.6.6.1" id="abbreviations①①"><span>6.6.6.1. </span><span>Abbreviations</span><a href="#abbreviations①①"></a></h5>
         <p>An <a href="#text-elem"><span>element segment</span></a> can be given inline with a table definition, in which case its offset is <span><span><span></span></span></span> and the <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-limits"><span>limits</span></a> of the <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-tabletype"><span>table type</span></a> are inferred from the length of the given segment:</p>
         
         
         <p>Tables can be defined as <a href="#text-import"><span>imports</span></a> or <a href="#text-export"><span>exports</span></a> inline:</p>
         
         <div role="note">
          <p>Note</p>
          <p>The latter abbreviation can be applied repeatedly, if “<span><span><span></span></span></span>” contains additional export clauses.
Consequently, a table declaration can contain any number of exports, possibly followed by an import.</p>
         </div>
        </section>
       </section>
       <section id="memories⑧">
         <span id="text-mem"></span><span id="index-11①⓪"></span>
        <h4 data-level="6.6.7" id="memories⑨"><span>6.6.7. </span><span>Memories</span><a href="#memories⑨"></a></h4>
        <p>Memory definitions can bind a symbolic <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-id"><span>memory identifier</span></a>.</p>
        
         <span id="index-12⑤"></span><span id="index-13③"></span>
        <section id="text-mem-abbrev">
          <span id="index-14③"></span><span id="id4②"></span>
         <h5 data-level="6.6.7.1" id="abbreviations①②"><span>6.6.7.1. </span><span>Abbreviations</span><a href="#abbreviations①②"></a></h5>
         <p>A <a href="#text-data"><span>data segment</span></a> can be given inline with a memory definition, in which case its offset is <span><span><span></span></span></span> and the <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-limits"><span>limits</span></a> of the <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-memtype"><span>memory type</span></a> are inferred from the length of the data, rounded up to <a href="https://www.w3.org/TR/wasm-core-2/index.html#page-size"><span>page size</span></a>:</p>
         
         <p>Memories can be defined as <a href="#text-import"><span>imports</span></a> or <a href="#text-export"><span>exports</span></a> inline:</p>
         
         <div role="note">
          <p>Note</p>
          <p>The latter abbreviation can be applied repeatedly, if “<span><span><span></span></span></span>” contains additional export clauses.
Consequently, a memory declaration can contain any number of exports, possibly followed by an import.</p>
         </div>
        </section>
       </section>
       <section id="globals⑧">
         <span id="text-global"></span><span id="index-15③"></span>
        <h4 data-level="6.6.8" id="globals⑨"><span>6.6.8. </span><span>Globals</span><a href="#globals⑨"></a></h4>
        <p>Global definitions can bind a symbolic <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-id"><span>global identifier</span></a>.</p>
        
         <span id="index-16②"></span>
        <section id="text-global-abbrev">
          <span id="index-17②"></span><span id="id5①"></span>
         <h5 data-level="6.6.8.1" id="abbreviations①③"><span>6.6.8.1. </span><span>Abbreviations</span><a href="#abbreviations①③"></a></h5>
         <p>Globals can be defined as <a href="#text-import"><span>imports</span></a> or <a href="#text-export"><span>exports</span></a> inline:</p>
         
         <div role="note">
          <p>Note</p>
          <p>The latter abbreviation can be applied repeatedly, if “<span><span><span></span></span></span>” contains additional export clauses.
Consequently, a global declaration can contain any number of exports, possibly followed by an import.</p>
         </div>
        </section>
       </section>
       <section id="exports④">
         <span id="text-export"></span><span id="text-exportdesc"></span><span id="index-18②"></span>
        <h4 data-level="6.6.9" id="exports⑤"><span>6.6.9. </span><span>Exports</span><a href="#exports⑤"></a></h4>
        <p>The syntax for exports mirrors their <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-export"><span>abstract syntax</span></a> directly.</p>
        
        <section id="id6①">
         <h5 data-level="6.6.9.1" id="abbreviations①④"><span>6.6.9.1. </span><span>Abbreviations</span><a href="#abbreviations①④"></a></h5>
         <p>As an abbreviation, exports may also be specified inline with <a href="#text-func"><span>function</span></a>, <a href="#text-table"><span>table</span></a>, <a href="#text-mem"><span>memory</span></a>, or <a href="#text-global"><span>global</span></a> definitions; see the respective sections.</p>
        </section>
       </section>
       <section id="start-function④">
         <span id="text-start"></span><span id="index-19"></span>
        <h4 data-level="6.6.10" id="start-function⑤"><span>6.6.10. </span><span>Start Function</span><a href="#start-function⑤"></a></h4>
        <p>A <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-start"><span>start function</span></a> is defined in terms of its index.</p>
        
        <div role="note">
         <p>Note</p>
         <p>At most one start function may occur in a module,
which is ensured by a suitable side condition on the <span><span><span></span></span></span> grammar.</p>
        </div>
       </section>
       <section id="element-segments⑥">
         <span id="text-tableuse"></span><span id="text-elemexpr"></span><span id="text-elemlist"></span><span id="text-elem"></span><span id="index-20"></span>
        <h4 data-level="6.6.11" id="element-segments⑦"><span>6.6.11. </span><span>Element Segments</span><a href="#element-segments⑦"></a></h4>
        <p>Element segments allow for an optional <a href="#text-tableidx"><span>table index</span></a> to identify the table to initialize.</p>
        
        <section id="id7">
         <h5 data-level="6.6.11.1" id="abbreviations①⑤"><span>6.6.11.1. </span><span>Abbreviations</span><a href="#abbreviations①⑤"></a></h5>
         <p>As an abbreviation, a single instruction may occur in place of the offset of an active element segment or as an element expression:</p>
         
         <p>Also, the element list may be written as just a sequence of <a href="#text-funcidx"><span>function indices</span></a>:</p>
         
         <p>A table use can be omitted, defaulting to <span><span><span></span></span></span>.
Furthermore, for backwards compatibility with earlier versions of WebAssembly, if the table use is omitted, the <span><span><span></span></span></span> keyword can be omitted as well.</p>
         
         <p>As another abbreviation, element segments may also be specified inline with <a href="#text-table"><span>table</span></a> definitions; see the respective section.</p>
        </section>
       </section>
       <section id="data-segments⑥">
         <span id="text-memuse"></span><span id="text-data"></span><span id="text-datastring"></span><span id="index-21"></span>
        <h4 data-level="6.6.12" id="data-segments⑦"><span>6.6.12. </span><span>Data Segments</span><a href="#data-segments⑦"></a></h4>
        <p>Data segments allow for an optional <a href="#text-memidx"><span>memory index</span></a> to identify the memory to initialize.
The data is written as a <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-string"><span>string</span></a>, which may be split up into a possibly empty sequence of individual string literals.</p>
        
        <div role="note">
         <p>Note</p>
         <p>In the current version of WebAssembly, the only valid memory index is 0
or a symbolic <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-id"><span>memory identifier</span></a> resolving to the same value.</p>
        </div>
        <section id="id8">
         <h5 data-level="6.6.12.1" id="abbreviations①⑥"><span>6.6.12.1. </span><span>Abbreviations</span><a href="#abbreviations①⑥"></a></h5>
         <p>As an abbreviation, a single instruction may occur in place of the offset of an active data segment:</p>
         
         <p>Also, a memory use can be omitted, defaulting to <span><span><span></span></span></span>.</p>
         
         <p>As another abbreviation, data segments may also be specified inline with <a href="#text-mem"><span>memory</span></a> definitions; see the respective section.</p>
        </section>
       </section>
       <section id="text-module">
         <span id="text-modulefield"></span><span id="index-22"></span><span id="id9"></span>
        <h4 data-level="6.6.13" id="modules①③"><span>6.6.13. </span><span>Modules</span><a href="#modules①③"></a></h4>
        <p>A module consists of a sequence of fields that can occur in any order.
All definitions and their respective bound <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-id"><span>identifiers</span></a> scope over the entire module, including the text preceding them.</p>
        <p>A module may optionally bind an <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-id"><span>identifier</span></a> that names the module.
The name serves a documentary role only.</p>
        
        
        <p>The following restrictions are imposed on the composition of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>modules</span></a>: <span><span><span></span></span></span> is defined if and only if</p>
        <ul>
         <li>
          
         </li><li>
          
        </li></ul>
        <div role="note">
         <p>Note</p>
         <p>The first condition ensures that there is at most one start function.
The second condition enforces that all <a href="#text-import"><span>imports</span></a> must occur before any regular definition of a <a href="#text-func"><span>function</span></a>, <a href="#text-table"><span>table</span></a>, <a href="#text-mem"><span>memory</span></a>, or <a href="#text-global"><span>global</span></a>,
thereby maintaining the ordering of the respective <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-index"><span>index spaces</span></a>.</p>
         <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-context-wf"><span>well-formedness</span></a> condition on <span><span><span></span></span></span> in the grammar for <span><span><span></span></span></span> ensures that no namespace contains duplicate identifiers.</p>
        </div>
        <p>The definition of the initial <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-context"><span>identifier context</span></a> <span><span><span></span></span></span> uses the following auxiliary definition which maps each relevant definition to a singular context with one (possibly empty) identifier:</p>
        
        <section id="id10">
         <h5 data-level="6.6.13.1" id="abbreviations①⑦"><span>6.6.13.1. </span><span>Abbreviations</span><a href="#abbreviations①⑦"></a></h5>
         <p>In a source file, the toplevel <span><span><span></span></span></span> surrounding the module body may be omitted.</p>
         
        </section>
       </section>
      </section>
     </div>
    </section>
     <section id="appendix">
      <span id="id1①⑦"></span>
     <h2 id="a-appendix"><span>A Appendix</span><a href="#a-appendix"></a></h2>
     <div>
       <section id="embedding">
        <span id="embed"></span><span id="index-0②⑦"></span>
       <h3 id="a1-embedding"><span>A.1 Embedding</span><a href="#a1-embedding"></a></h3>
       <p>A WebAssembly implementation will typically be <em>embedded</em> into a <em>host</em> environment.
An <em>embedder</em> implements the connection between such a host environment and the WebAssembly semantics as defined in the main body of this specification.
An embedder is expected to interact with the semantics in well-defined ways.</p>
       <p>This section defines a suitable interface to the WebAssembly semantics in the form of entry points through which an embedder can access it.
The interface is intended to be complete, in the sense that an embedder does not need to reference other functional parts of the WebAssembly specification directly.</p>
       <div role="note">
        <p>Note</p>
        <p>On the other hand, an embedder does not need to provide the host environment with access to all functionality defined in this interface.
For example, an implementation may not support <a href="#embed-module-parse"><span>parsing</span></a> of the <a href="https://www.w3.org/TR/wasm-core-2/index.html#text"><span>text format</span></a>.</p>
       </div>
       <section id="types①②">
        <h4 id="types①③"><span>Types</span><a href="#types①③"></a></h4>
        <p>In the description of the embedder interface, syntactic classes from the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax"><span>abstract syntax</span></a> and the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-runtime"><span>runtime’s abstract machine</span></a> are used as names for variables that range over the possible objects from that class.
Hence, these syntactic classes can also be interpreted as types.</p>
        <p>For numeric parameters, notation like <span><span><span></span></span></span> is used to specify a symbolic name in addition to the respective value range.</p>
       </section>
       <section id="errors">
         <span id="embed-error"></span>
        <h4 id="errors①"><span>Errors</span><a href="#errors①"></a></h4>
        <p>Failure of an interface operation is indicated by an auxiliary syntactic class:</p>
        
        <p>In addition to the error conditions specified explicitly in this section, implementations may also return errors when specific <a href="https://www.w3.org/TR/wasm-core-2/index.html#impl"><span>implementation limitations</span></a> are reached.</p>
        <div role="note">
         <p>Note</p>
         <p>Errors are abstract and unspecific with this definition.
Implementations can refine it to carry suitable classifications and diagnostic messages.</p>
        </div>
       </section>
       <section id="pre-and-post-conditions">
        <h4 id="pre--and-post-conditions"><span>Pre- and Post-Conditions</span><a href="#pre--and-post-conditions"></a></h4>
        <p>Some operations state <em>pre-conditions</em> about their arguments or <em>post-conditions</em> about their results.
It is the embedder’s responsibility to meet the pre-conditions.
If it does, the post conditions are guaranteed by the semantics.</p>
        <p>In addition to pre- and post-conditions explicitly stated with each operation, the specification adopts the following conventions for <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-runtime"><span>runtime objects</span></a> (<span><span><span></span></span></span>, <span><span><span></span></span></span>, <span><span><span></span></span></span>, <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-addr"><span>addresses</span></a>):</p>
        <ul>
         <li>
          <p>Every runtime object passed as a parameter must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-store"><span>valid</span></a> per an implicit pre-condition.</p>
         </li><li>
          <p>Every runtime object returned as a result is <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-store"><span>valid</span></a> per an implicit post-condition.</p>
        </li></ul>
        <div role="note">
         <p>Note</p>
         <p>As long as an embedder treats runtime objects as abstract and only creates and manipulates them through the interface defined here, all implicit pre-conditions are automatically met.</p>
        </div>
       </section>
       <section id="store②">
         <span id="embed-store"></span><span id="index-1②⑦"></span>
        <h4 id="store③"><span>Store</span><a href="#store③"></a></h4>
        <section id="mathrm-store-init-xref-exec-runtime-syntax-store-mathit-store">
          <span id="embed-store-init"></span>
         <h5 id="-mathrmstore_init--hrefsyntax-storemathitstore"><span><span><span><span></span></span></span></span><a href="#-mathrmstore_init--hrefsyntax-storemathitstore"></a></h5>
         <ol>
          <li>
           <p>Return the empty <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-store"><span>store</span></a>.</p>
         </li></ol>
         
        </section>
       </section>
       <section id="modules①④">
         <span id="embed-module"></span><span id="index-2②⑤"></span>
        <h4 id="modules①⑤"><span>Modules</span><a href="#modules①⑤"></a></h4>
        <section id="mathrm-module-decode-xref-syntax-values-syntax-byte-mathit-byte-ast-xref-syntax-modules-syntax-module-mathit-module-xref-appendix-embedding-embed-error-mathit-error">
          <span id="embed-module-decode"></span><span id="index-3②①"></span>
         <h5 id="-mathrmmodule_decode-hrefsyntax-bytemathitbyteast--hrefsyntax-modulemathitmodule--hrefembed-errormathiterror"><span><span><span><span></span></span></span></span><a href="#-mathrmmodule_decode-hrefsyntax-bytemathitbyteast--hrefsyntax-modulemathitmodule--hrefembed-errormathiterror"></a></h5>
         <ol>
          <li>
           <p>If there exists a derivation for the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-byte"><span>byte</span></a> sequence <span><span><span></span></span></span> as a <span><span><span></span></span></span> according to the <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-module"><span>binary grammar for modules</span></a>, yielding a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a> <span><span><span></span></span></span>, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else, return <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="mathrm-module-parse-xref-syntax-values-syntax-name-mathit-char-ast-xref-syntax-modules-syntax-module-mathit-module-xref-appendix-embedding-embed-error-mathit-error">
          <span id="embed-module-parse"></span><span id="index-4②①"></span>
         <h5 id="-mathrmmodule_parse-hrefsyntax-namemathitcharast--hrefsyntax-modulemathitmodule--hrefembed-errormathiterror"><span><span><span><span></span></span></span></span><a href="#-mathrmmodule_parse-hrefsyntax-namemathitcharast--hrefsyntax-modulemathitmodule--hrefembed-errormathiterror"></a></h5>
         <ol>
          <li>
           <p>If there exists a derivation for the <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-source"><span>source</span></a> <span><span><span></span></span></span> as a <span><span><span></span></span></span> according to the <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-module"><span>text grammar for modules</span></a>, yielding a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a> <span><span><span></span></span></span>, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else, return <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="mathrm-module-validate-xref-syntax-modules-syntax-module-mathit-module-xref-appendix-embedding-embed-error-mathit-error">
          <span id="embed-module-validate"></span><span id="index-5①⑧"></span>
         <h5 id="-mathrmmodule_validate-hrefsyntax-modulemathitmodule--hrefembed-errormathiterror"><span><span><span><span></span></span></span></span><a href="#-mathrmmodule_validate-hrefsyntax-modulemathitmodule--hrefembed-errormathiterror"></a></h5>
         <ol>
          <li>
           <p>If <span><span><span></span></span></span> is <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-module"><span>valid</span></a>, then return nothing.</p>
          </li><li>
           <p>Else, return <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="mathrm-module-instantiate-xref-exec-runtime-syntax-store-mathit-store-xref-syntax-modules-syntax-module-mathit-module-xref-exec-runtime-syntax-externval-mathit-externval-ast-xref-exec-runtime-syntax-store-mathit-store-xref-exec-runtime-syntax-moduleinst-mathit-moduleinst-xref-appendix-embedding-embed-error-mathit-error">
          <span id="embed-module-instantiate"></span><span id="index-6①⑥"></span>
         <h5 id="-mathrmmodule_instantiate-hrefsyntax-storemathitstore-hrefsyntax-modulemathitmodule-hrefsyntax-externvalmathitexternvalast--hrefsyntax-storemathitstore-hrefsyntax-moduleinstmathitmoduleinst--hrefembed-errormathiterror"><span><span><span><span></span></span></span></span><a href="#-mathrmmodule_instantiate-hrefsyntax-storemathitstore-hrefsyntax-modulemathitmodule-hrefsyntax-externvalmathitexternvalast--hrefsyntax-storemathitstore-hrefsyntax-moduleinstmathitmoduleinst--hrefembed-errormathiterror"></a></h5>
         <ol>
          <li>
           <p>Try <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-instantiation"><span>instantiating</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span> with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externval"><span>external values</span></a> <span><span><span></span></span></span> as imports:</p>
         </li></ol>
         <blockquote>
          <div>
           <ol>
            <li>
             <p>If it succeeds with a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-moduleinst"><span>module instance</span></a> <span><span><span></span></span></span>, then let <span><span><span></span></span></span> be <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Else, let <span><span><span></span></span></span> be <span><span><span></span></span></span>.</p>
           </li></ol>
          </div>
         </blockquote>
         <ol start="2">
          <li>
           <p>Return the new store paired with <span><span><span></span></span></span>.</p>
         </li></ol>
         
         <div role="note">
          <p>Note</p>
          <p>The store may be modified even in case of an error.</p>
         </div>
        </section>
        <section id="mathrm-module-imports-xref-syntax-modules-syntax-module-mathit-module-xref-syntax-values-syntax-name-mathit-name-xref-syntax-values-syntax-name-mathit-name-xref-syntax-types-syntax-externtype-mathit-externtype-ast">
          <span id="embed-module-imports"></span><span id="index-7①⑥"></span>
         <h5 id="-mathrmmodule_imports-hrefsyntax-modulemathitmodule--hrefsyntax-namemathitname-hrefsyntax-namemathitname-hrefsyntax-externtypemathitexterntypeast"><span><span><span><span></span></span></span></span><a href="#-mathrmmodule_imports-hrefsyntax-modulemathitmodule--hrefsyntax-namemathitname-hrefsyntax-namemathitname-hrefsyntax-externtypemathitexterntypeast"></a></h5>
         <ol>
          <li>
           <p>Pre-condition: <span><span><span></span></span></span> is <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-module"><span>valid</span></a> with external import types <span><span><span></span></span></span> and external export types <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-import"><span>imports</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: the length of <span><span><span></span></span></span> equals the length of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>For each <span><span><span></span></span></span> in <span><span><span></span></span></span> and corresponding <span><span><span></span></span></span> in <span><span><span></span></span></span>, do:</p>
         </li></ol>
         <blockquote>
          <div>
           <ol>
            <li>
             <p>Let <span><span><span></span></span></span> be the triple <span><span><span></span></span></span>.</p>
           </li></ol>
          </div>
         </blockquote>
         <ol start="5">
          <li>
           <p>Return the concatenation of all <span><span><span></span></span></span>, in index order.</p>
          </li><li>
           <p>Post-condition: each <span><span><span></span></span></span> is <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-externtype"><span>valid</span></a>.</p>
         </li></ol>
         
        </section>
        <section id="mathrm-module-exports-xref-syntax-modules-syntax-module-mathit-module-xref-syntax-values-syntax-name-mathit-name-xref-syntax-types-syntax-externtype-mathit-externtype-ast">
          <span id="embed-module-exports"></span><span id="index-8①⑥"></span>
         <h5 id="-mathrmmodule_exports-hrefsyntax-modulemathitmodule--hrefsyntax-namemathitname-hrefsyntax-externtypemathitexterntypeast"><span><span><span><span></span></span></span></span><a href="#-mathrmmodule_exports-hrefsyntax-modulemathitmodule--hrefsyntax-namemathitname-hrefsyntax-externtypemathitexterntypeast"></a></h5>
         <ol>
          <li>
           <p>Pre-condition: <span><span><span></span></span></span> is <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-module"><span>valid</span></a> with external import types <span><span><span></span></span></span> and external export types <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-export"><span>exports</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Assert: the length of <span><span><span></span></span></span> equals the length of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>For each <span><span><span></span></span></span> in <span><span><span></span></span></span> and corresponding <span><span><span></span></span></span> in <span><span><span></span></span></span>, do:</p>
         </li></ol>
         <blockquote>
          <div>
           <ol>
            <li>
             <p>Let <span><span><span></span></span></span> be the pair <span><span><span></span></span></span>.</p>
           </li></ol>
          </div>
         </blockquote>
         <ol start="5">
          <li>
           <p>Return the concatenation of all <span><span><span></span></span></span>, in index order.</p>
          </li><li>
           <p>Post-condition: each <span><span><span></span></span></span> is <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-externtype"><span>valid</span></a>.</p>
         </li></ol>
         
        </section>
       </section>
       <section id="module-instances②">
         <span id="embed-instance"></span><span id="index-9①⑥"></span>
        <h4 id="module-instances③"><span>Module Instances</span><a href="#module-instances③"></a></h4>
        <section id="mathrm-instance-export-xref-exec-runtime-syntax-moduleinst-mathit-moduleinst-xref-syntax-values-syntax-name-mathit-name-xref-exec-runtime-syntax-externval-mathit-externval-xref-appendix-embedding-embed-error-mathit-error">
          <span id="embed-instance-export"></span><span id="index-10①②"></span>
         <h5 id="-mathrminstance_export-hrefsyntax-moduleinstmathitmoduleinst-hrefsyntax-namemathitname--hrefsyntax-externvalmathitexternval--hrefembed-errormathiterror"><span><span><span><span></span></span></span></span><a href="#-mathrminstance_export-hrefsyntax-moduleinstmathitmoduleinst-hrefsyntax-namemathitname--hrefsyntax-externvalmathitexternval--hrefembed-errormathiterror"></a></h5>
         <ol>
          <li>
           <p>Assert: due to <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-moduleinst"><span>validity</span></a> of the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-moduleinst"><span>module instance</span></a> <span><span><span></span></span></span>, all its <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-exportinst"><span>export names</span></a> are different.</p>
          </li><li>
           <p>If there exists an <span><span><span></span></span></span> in <span><span><span></span></span></span> such that <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-name"><span>name</span></a> <span><span><span></span></span></span> equals <span><span><span></span></span></span>, then:</p>
           <ol>
            <li>
             <p>Return the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externval"><span>external value</span></a> <span><span><span></span></span></span>.</p>
           </li></ol>
          </li><li>
           <p>Else, return <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
       </section>
       <section id="functions①⓪">
         <span id="embed-func"></span><span id="index-11①①"></span>
        <h4 id="functions①①"><span>Functions</span><a href="#functions①①"></a></h4>
        <section id="mathrm-func-alloc-xref-exec-runtime-syntax-store-mathit-store-xref-syntax-types-syntax-functype-mathit-functype-xref-exec-runtime-syntax-hostfunc-mathit-hostfunc-xref-exec-runtime-syntax-store-mathit-store-xref-exec-runtime-syntax-funcaddr-mathit-funcaddr">
          <span id="embed-func-alloc"></span>
         <h5 id="-mathrmfunc_alloc-hrefsyntax-storemathitstore-hrefsyntax-functypemathitfunctype-hrefsyntax-hostfuncmathithostfunc--hrefsyntax-storemathitstore-hrefsyntax-funcaddrmathitfuncaddr"><span><span><span><span></span></span></span></span><a href="#-mathrmfunc_alloc-hrefsyntax-storemathitstore-hrefsyntax-functypemathitfunctype-hrefsyntax-hostfuncmathithostfunc--hrefsyntax-storemathitstore-hrefsyntax-funcaddrmathitfuncaddr"></a></h5>
         <ol>
          <li>
           <p>Pre-condition: <span><span><span></span></span></span> is <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-functype"><span>valid</span></a>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of <a href="https://www.w3.org/TR/wasm-core-2/index.html#alloc-func"><span>allocating a host function</span></a> in <span><span><span></span></span></span> with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span> and host function code <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return the new store paired with <span><span><span></span></span></span>.</p>
         </li></ol>
         
         <div role="note">
          <p>Note</p>
          <p>This operation assumes that <span><span><span></span></span></span> satisfies the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-invoke-host"><span>pre- and post-conditions</span></a> required for a function instance with type <span><span><span></span></span></span>.</p>
          <p>Regular (non-host) function instances can only be created indirectly through <a href="#embed-module-instantiate"><span>module instantiation</span></a>.</p>
         </div>
        </section>
        <section id="mathrm-func-type-xref-exec-runtime-syntax-store-mathit-store-xref-exec-runtime-syntax-funcaddr-mathit-funcaddr-xref-syntax-types-syntax-functype-mathit-functype">
          <span id="embed-func-type"></span>
         <h5 id="-mathrmfunc_type-hrefsyntax-storemathitstore-hrefsyntax-funcaddrmathitfuncaddr--hrefsyntax-functypemathitfunctype"><span><span><span><span></span></span></span></span><a href="#-mathrmfunc_type-hrefsyntax-storemathitstore-hrefsyntax-funcaddrmathitfuncaddr--hrefsyntax-functypemathitfunctype"></a></h5>
         <ol>
          <li>
           <p>Return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Post-condition: the returned <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> is <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-functype"><span>valid</span></a>.</p>
         </li></ol>
         
        </section>
        <section id="mathrm-func-invoke-xref-exec-runtime-syntax-store-mathit-store-xref-exec-runtime-syntax-funcaddr-mathit-funcaddr-xref-exec-runtime-syntax-val-mathit-val-ast-xref-exec-runtime-syntax-store-mathit-store-xref-exec-runtime-syntax-val-mathit-val-ast-xref-appendix-embedding-embed-error-mathit-error">
          <span id="embed-func-invoke"></span><span id="index-12⑥"></span>
         <h5 id="-mathrmfunc_invoke-hrefsyntax-storemathitstore-hrefsyntax-funcaddrmathitfuncaddr-hrefsyntax-valmathitvalast--hrefsyntax-storemathitstore-hrefsyntax-valmathitvalast--hrefembed-errormathiterror"><span><span><span><span></span></span></span></span><a href="#-mathrmfunc_invoke-hrefsyntax-storemathitstore-hrefsyntax-funcaddrmathitfuncaddr-hrefsyntax-valmathitvalast--hrefsyntax-storemathitstore-hrefsyntax-valmathitvalast--hrefembed-errormathiterror"></a></h5>
         <ol>
          <li>
           <p>Try <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-invocation"><span>invoking</span></a> the function <span><span><span></span></span></span> in <span><span><span></span></span></span> with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>values</span></a> <span><span><span></span></span></span> as arguments:</p>
         </li></ol>
         <blockquote>
          <div>
           <ol>
            <li>
             <p>If it succeeds with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>values</span></a> <span><span><span></span></span></span> as results, then let <span><span><span></span></span></span> be <span><span><span></span></span></span>.</p>
            </li><li>
             <p>Else it has trapped, hence let <span><span><span></span></span></span> be <span><span><span></span></span></span>.</p>
           </li></ol>
          </div>
         </blockquote>
         <ol start="2">
          <li>
           <p>Return the new store paired with <span><span><span></span></span></span>.</p>
         </li></ol>
         
         <div role="note">
          <p>Note</p>
          <p>The store may be modified even in case of an error.</p>
         </div>
        </section>
       </section>
       <section id="tables①⓪">
         <span id="embed-table"></span><span id="index-13④"></span>
        <h4 id="tables①①"><span>Tables</span><a href="#tables①①"></a></h4>
        <section id="mathrm-table-alloc-xref-exec-runtime-syntax-store-mathit-store-xref-syntax-types-syntax-tabletype-mathit-tabletype-xref-exec-runtime-syntax-ref-mathit-ref-xref-exec-runtime-syntax-store-mathit-store-xref-exec-runtime-syntax-tableaddr-mathit-tableaddr">
          <span id="embed-table-alloc"></span>
         <h5 id="-mathrmtable_alloc-hrefsyntax-storemathitstore-hrefsyntax-tabletypemathittabletype-hrefsyntax-refmathitref--hrefsyntax-storemathitstore-hrefsyntax-tableaddrmathittableaddr"><span><span><span><span></span></span></span></span><a href="#-mathrmtable_alloc-hrefsyntax-storemathitstore-hrefsyntax-tabletypemathittabletype-hrefsyntax-refmathitref--hrefsyntax-storemathitstore-hrefsyntax-tableaddrmathittableaddr"></a></h5>
         <ol>
          <li>
           <p>Pre-condition: <span><span><span></span></span></span> is <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-tabletype"><span>valid</span></a>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of <a href="https://www.w3.org/TR/wasm-core-2/index.html#alloc-table"><span>allocating a table</span></a> in <span><span><span></span></span></span> with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table type</span></a> <span><span><span></span></span></span> and initialization value <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return the new store paired with <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="mathrm-table-type-xref-exec-runtime-syntax-store-mathit-store-xref-exec-runtime-syntax-tableaddr-mathit-tableaddr-xref-syntax-types-syntax-tabletype-mathit-tabletype">
          <span id="embed-table-type"></span>
         <h5 id="-mathrmtable_type-hrefsyntax-storemathitstore-hrefsyntax-tableaddrmathittableaddr--hrefsyntax-tabletypemathittabletype"><span><span><span><span></span></span></span></span><a href="#-mathrmtable_type-hrefsyntax-storemathitstore-hrefsyntax-tableaddrmathittableaddr--hrefsyntax-tabletypemathittabletype"></a></h5>
         <ol>
          <li>
           <p>Return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Post-condition: the returned <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table type</span></a> is <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-tabletype"><span>valid</span></a>.</p>
         </li></ol>
         
        </section>
        <section id="mathrm-table-read-xref-exec-runtime-syntax-store-mathit-store-xref-exec-runtime-syntax-tableaddr-mathit-tableaddr-i-xref-syntax-values-syntax-int-mathit-u32-xref-exec-runtime-syntax-ref-mathit-ref-xref-appendix-embedding-embed-error-mathit-error">
          <span id="embed-table-read"></span>
         <h5 id="-mathrmtable_read-hrefsyntax-storemathitstore-hrefsyntax-tableaddrmathittableaddr-ihrefsyntax-intmathitu32--hrefsyntax-refmathitref--hrefembed-errormathiterror"><span><span><span><span></span></span></span></span><a href="#-mathrmtable_read-hrefsyntax-storemathitstore-hrefsyntax-tableaddrmathittableaddr-ihrefsyntax-intmathitu32--hrefsyntax-refmathitref--hrefembed-errormathiterror"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableinst"><span>table instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is larger than or equal to the length of <span><span><span></span></span></span>, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else, return the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-ref"><span>reference value</span></a> <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="mathrm-table-write-xref-exec-runtime-syntax-store-mathit-store-xref-exec-runtime-syntax-tableaddr-mathit-tableaddr-i-xref-syntax-values-syntax-int-mathit-u32-xref-exec-runtime-syntax-ref-mathit-ref-xref-exec-runtime-syntax-store-mathit-store-xref-appendix-embedding-embed-error-mathit-error">
          <span id="embed-table-write"></span>
         <h5 id="-mathrmtable_write-hrefsyntax-storemathitstore-hrefsyntax-tableaddrmathittableaddr-ihrefsyntax-intmathitu32-hrefsyntax-refmathitref--hrefsyntax-storemathitstore--hrefembed-errormathiterror"><span><span><span><span></span></span></span></span><a href="#-mathrmtable_write-hrefsyntax-storemathitstore-hrefsyntax-tableaddrmathittableaddr-ihrefsyntax-intmathitu32-hrefsyntax-refmathitref--hrefsyntax-storemathitstore--hrefembed-errormathiterror"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableinst"><span>table instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is larger than or equal to the length of <span><span><span></span></span></span>, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Replace <span><span><span></span></span></span> with the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-ref"><span>reference value</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return the updated store.</p>
         </li></ol>
         
        </section>
        <section id="mathrm-table-size-xref-exec-runtime-syntax-store-mathit-store-xref-exec-runtime-syntax-tableaddr-mathit-tableaddr-xref-syntax-values-syntax-int-mathit-u32">
          <span id="embed-table-size"></span>
         <h5 id="-mathrmtable_size-hrefsyntax-storemathitstore-hrefsyntax-tableaddrmathittableaddr--hrefsyntax-intmathitu32"><span><span><span><span></span></span></span></span><a href="#-mathrmtable_size-hrefsyntax-storemathitstore-hrefsyntax-tableaddrmathittableaddr--hrefsyntax-intmathitu32"></a></h5>
         <ol>
          <li>
           <p>Return the length of <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="mathrm-table-grow-xref-exec-runtime-syntax-store-mathit-store-xref-exec-runtime-syntax-tableaddr-mathit-tableaddr-n-xref-syntax-values-syntax-int-mathit-u32-xref-exec-runtime-syntax-ref-mathit-ref-xref-exec-runtime-syntax-store-mathit-store-xref-appendix-embedding-embed-error-mathit-error">
          <span id="embed-table-grow"></span>
         <h5 id="-mathrmtable_grow-hrefsyntax-storemathitstore-hrefsyntax-tableaddrmathittableaddr-nhrefsyntax-intmathitu32-hrefsyntax-refmathitref--hrefsyntax-storemathitstore--hrefembed-errormathiterror"><span><span><span><span></span></span></span></span><a href="#-mathrmtable_grow-hrefsyntax-storemathitstore-hrefsyntax-tableaddrmathittableaddr-nhrefsyntax-intmathitu32-hrefsyntax-refmathitref--hrefsyntax-storemathitstore--hrefembed-errormathiterror"></a></h5>
         <ol>
          <li>
           <p>Try <a href="https://www.w3.org/TR/wasm-core-2/index.html#grow-table"><span>growing</span></a> the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableinst"><span>table instance</span></a> <span><span><span></span></span></span> by <span><span><span></span></span></span> elements with initialization value <span><span><span></span></span></span>:</p>
           <ol>
            <li>
             <p>If it succeeds, return the updated store.</p>
            </li><li>
             <p>Else, return <span><span><span></span></span></span>.</p>
           </li></ol>
         </li></ol>
         
        </section>
       </section>
       <section id="memories①⓪">
         <span id="embed-mem"></span><span id="index-14④"></span>
        <h4 id="memories①①"><span>Memories</span><a href="#memories①①"></a></h4>
        <section id="mathrm-mem-alloc-xref-exec-runtime-syntax-store-mathit-store-xref-syntax-types-syntax-memtype-mathit-memtype-xref-exec-runtime-syntax-store-mathit-store-xref-exec-runtime-syntax-memaddr-mathit-memaddr">
          <span id="embed-mem-alloc"></span>
         <h5 id="-mathrmmem_alloc-hrefsyntax-storemathitstore-hrefsyntax-memtypemathitmemtype--hrefsyntax-storemathitstore-hrefsyntax-memaddrmathitmemaddr"><span><span><span><span></span></span></span></span><a href="#-mathrmmem_alloc-hrefsyntax-storemathitstore-hrefsyntax-memtypemathitmemtype--hrefsyntax-storemathitstore-hrefsyntax-memaddrmathitmemaddr"></a></h5>
         <ol>
          <li>
           <p>Pre-condition: <span><span><span></span></span></span> is <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memtype"><span>valid</span></a>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of <a href="https://www.w3.org/TR/wasm-core-2/index.html#alloc-mem"><span>allocating a memory</span></a> in <span><span><span></span></span></span> with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memtype"><span>memory type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return the new store paired with <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="mathrm-mem-type-xref-exec-runtime-syntax-store-mathit-store-xref-exec-runtime-syntax-memaddr-mathit-memaddr-xref-syntax-types-syntax-memtype-mathit-memtype">
          <span id="embed-mem-type"></span>
         <h5 id="-mathrmmem_type-hrefsyntax-storemathitstore-hrefsyntax-memaddrmathitmemaddr--hrefsyntax-memtypemathitmemtype"><span><span><span><span></span></span></span></span><a href="#-mathrmmem_type-hrefsyntax-storemathitstore-hrefsyntax-memaddrmathitmemaddr--hrefsyntax-memtypemathitmemtype"></a></h5>
         <ol>
          <li>
           <p>Return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Post-condition: the returned <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memtype"><span>memory type</span></a> is <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memtype"><span>valid</span></a>.</p>
         </li></ol>
         
        </section>
        <section id="mathrm-mem-read-xref-exec-runtime-syntax-store-mathit-store-xref-exec-runtime-syntax-memaddr-mathit-memaddr-i-xref-syntax-values-syntax-int-mathit-u32-xref-syntax-values-syntax-byte-mathit-byte-xref-appendix-embedding-embed-error-mathit-error">
          <span id="embed-mem-read"></span>
         <h5 id="-mathrmmem_read-hrefsyntax-storemathitstore-hrefsyntax-memaddrmathitmemaddr-ihrefsyntax-intmathitu32--hrefsyntax-bytemathitbyte--hrefembed-errormathiterror"><span><span><span><span></span></span></span></span><a href="#-mathrmmem_read-hrefsyntax-storemathitstore-hrefsyntax-memaddrmathitmemaddr-ihrefsyntax-intmathitu32--hrefsyntax-bytemathitbyte--hrefembed-errormathiterror"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>memory instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is larger than or equal to the length of <span><span><span></span></span></span>, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Else, return the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-byte"><span>byte</span></a> <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="mathrm-mem-write-xref-exec-runtime-syntax-store-mathit-store-xref-exec-runtime-syntax-memaddr-mathit-memaddr-i-xref-syntax-values-syntax-int-mathit-u32-xref-syntax-values-syntax-byte-mathit-byte-xref-exec-runtime-syntax-store-mathit-store-xref-appendix-embedding-embed-error-mathit-error">
          <span id="embed-mem-write"></span>
         <h5 id="-mathrmmem_write-hrefsyntax-storemathitstore-hrefsyntax-memaddrmathitmemaddr-ihrefsyntax-intmathitu32-hrefsyntax-bytemathitbyte--hrefsyntax-storemathitstore--hrefembed-errormathiterror"><span><span><span><span></span></span></span></span><a href="#-mathrmmem_write-hrefsyntax-storemathitstore-hrefsyntax-memaddrmathitmemaddr-ihrefsyntax-intmathitu32-hrefsyntax-bytemathitbyte--hrefsyntax-storemathitstore--hrefembed-errormathiterror"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>memory instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is larger than or equal to the length of <span><span><span></span></span></span>, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Replace <span><span><span></span></span></span> with <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return the updated store.</p>
         </li></ol>
         
        </section>
        <section id="mathrm-mem-size-xref-exec-runtime-syntax-store-mathit-store-xref-exec-runtime-syntax-memaddr-mathit-memaddr-xref-syntax-values-syntax-int-mathit-u32">
          <span id="embed-mem-size"></span>
         <h5 id="-mathrmmem_size-hrefsyntax-storemathitstore-hrefsyntax-memaddrmathitmemaddr--hrefsyntax-intmathitu32"><span><span><span><span></span></span></span></span><a href="#-mathrmmem_size-hrefsyntax-storemathitstore-hrefsyntax-memaddrmathitmemaddr--hrefsyntax-intmathitu32"></a></h5>
         <ol>
          <li>
           <p>Return the length of <span><span><span></span></span></span> divided by the <a href="https://www.w3.org/TR/wasm-core-2/index.html#page-size"><span>page size</span></a>.</p>
         </li></ol>
         
        </section>
        <section id="mathrm-mem-grow-xref-exec-runtime-syntax-store-mathit-store-xref-exec-runtime-syntax-memaddr-mathit-memaddr-n-xref-syntax-values-syntax-int-mathit-u32-xref-exec-runtime-syntax-store-mathit-store-xref-appendix-embedding-embed-error-mathit-error">
          <span id="embed-mem-grow"></span>
         <h5 id="-mathrmmem_grow-hrefsyntax-storemathitstore-hrefsyntax-memaddrmathitmemaddr-nhrefsyntax-intmathitu32--hrefsyntax-storemathitstore--hrefembed-errormathiterror"><span><span><span><span></span></span></span></span><a href="#-mathrmmem_grow-hrefsyntax-storemathitstore-hrefsyntax-memaddrmathitmemaddr-nhrefsyntax-intmathitu32--hrefsyntax-storemathitstore--hrefembed-errormathiterror"></a></h5>
         <ol>
          <li>
           <p>Try <a href="https://www.w3.org/TR/wasm-core-2/index.html#grow-mem"><span>growing</span></a> the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>memory instance</span></a> <span><span><span></span></span></span> by <span><span><span></span></span></span> <a href="https://www.w3.org/TR/wasm-core-2/index.html#page-size"><span>pages</span></a>:</p>
           <ol>
            <li>
             <p>If it succeeds, return the updated store.</p>
            </li><li>
             <p>Else, return <span><span><span></span></span></span>.</p>
           </li></ol>
         </li></ol>
         
        </section>
       </section>
       <section id="globals①⓪">
         <span id="embed-global"></span><span id="index-15④"></span>
        <h4 id="globals①①"><span>Globals</span><a href="#globals①①"></a></h4>
        <section id="mathrm-global-alloc-xref-exec-runtime-syntax-store-mathit-store-xref-syntax-types-syntax-globaltype-mathit-globaltype-xref-exec-runtime-syntax-val-mathit-val-xref-exec-runtime-syntax-store-mathit-store-xref-exec-runtime-syntax-globaladdr-mathit-globaladdr">
          <span id="embed-global-alloc"></span>
         <h5 id="-mathrmglobal_alloc-hrefsyntax-storemathitstore-hrefsyntax-globaltypemathitglobaltype-hrefsyntax-valmathitval--hrefsyntax-storemathitstore-hrefsyntax-globaladdrmathitglobaladdr"><span><span><span><span></span></span></span></span><a href="#-mathrmglobal_alloc-hrefsyntax-storemathitstore-hrefsyntax-globaltypemathitglobaltype-hrefsyntax-valmathitval--hrefsyntax-storemathitstore-hrefsyntax-globaladdrmathitglobaladdr"></a></h5>
         <ol>
          <li>
           <p>Pre-condition: <span><span><span></span></span></span> is <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-globaltype"><span>valid</span></a>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the result of <a href="https://www.w3.org/TR/wasm-core-2/index.html#alloc-global"><span>allocating a global</span></a> in <span><span><span></span></span></span> with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaltype"><span>global type</span></a> <span><span><span></span></span></span> and initialization value <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return the new store paired with <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="mathrm-global-type-xref-exec-runtime-syntax-store-mathit-store-xref-exec-runtime-syntax-globaladdr-mathit-globaladdr-xref-syntax-types-syntax-globaltype-mathit-globaltype">
          <span id="embed-global-type"></span>
         <h5 id="-mathrmglobal_type-hrefsyntax-storemathitstore-hrefsyntax-globaladdrmathitglobaladdr--hrefsyntax-globaltypemathitglobaltype"><span><span><span><span></span></span></span></span><a href="#-mathrmglobal_type-hrefsyntax-storemathitstore-hrefsyntax-globaladdrmathitglobaladdr--hrefsyntax-globaltypemathitglobaltype"></a></h5>
         <ol>
          <li>
           <p>Return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Post-condition: the returned <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaltype"><span>global type</span></a> is <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-globaltype"><span>valid</span></a>.</p>
         </li></ol>
         
        </section>
        <section id="mathrm-global-read-xref-exec-runtime-syntax-store-mathit-store-xref-exec-runtime-syntax-globaladdr-mathit-globaladdr-xref-exec-runtime-syntax-val-mathit-val">
          <span id="embed-global-read"></span>
         <h5 id="-mathrmglobal_read-hrefsyntax-storemathitstore-hrefsyntax-globaladdrmathitglobaladdr--hrefsyntax-valmathitval"><span><span><span><span></span></span></span></span><a href="#-mathrmglobal_read-hrefsyntax-storemathitstore-hrefsyntax-globaladdrmathitglobaladdr--hrefsyntax-valmathitval"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globalinst"><span>global instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>value</span></a> <span><span><span></span></span></span>.</p>
         </li></ol>
         
        </section>
        <section id="mathrm-global-write-xref-exec-runtime-syntax-store-mathit-store-xref-exec-runtime-syntax-globaladdr-mathit-globaladdr-xref-exec-runtime-syntax-val-mathit-val-xref-exec-runtime-syntax-store-mathit-store-xref-appendix-embedding-embed-error-mathit-error">
          <span id="embed-global-write"></span>
         <h5 id="-mathrmglobal_write-hrefsyntax-storemathitstore-hrefsyntax-globaladdrmathitglobaladdr-hrefsyntax-valmathitval--hrefsyntax-storemathitstore--hrefembed-errormathiterror"><span><span><span><span></span></span></span></span><a href="#-mathrmglobal_write-hrefsyntax-storemathitstore-hrefsyntax-globaladdrmathitglobaladdr-hrefsyntax-valmathitval--hrefsyntax-storemathitstore--hrefembed-errormathiterror"></a></h5>
         <ol>
          <li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globalinst"><span>global instance</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the structure of the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaltype"><span>global type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is not <span><span><span></span></span></span>, then return <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Replace <span><span><span></span></span></span> with the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>value</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Return the updated store.</p>
         </li></ol>
         
        </section>
       </section>
      </section>
       <section id="implementation-limitations">
        <span id="impl"></span><span id="index-0②⑧"></span>
       <h3 id="a2-implementation-limitations"><span>A.2 Implementation Limitations</span><a href="#a2-implementation-limitations"></a></h3>
       <p>Implementations typically impose additional restrictions on a number of aspects of a WebAssembly module or execution.
These may stem from:</p>
       <ul>
        <li>
         <p>physical resource limits,</p>
        </li><li>
         <p>constraints imposed by the embedder or its environment,</p>
        </li><li>
         <p>limitations of selected implementation strategies.</p>
       </li></ul>
       <p>This section lists allowed limitations.
Where restrictions take the form of numeric limits, no minimum requirements are given,
nor are the limits assumed to be concrete, fixed numbers.
However, it is expected that all implementations have “reasonably” large limits  to enable common applications.</p>
       <div role="note">
        <p>Note</p>
        <p>A conforming implementation is not allowed to leave out individual <em>features</em>.
However, designated subsets of WebAssembly may be specified in the future.</p>
       </div>
       <section id="syntactic-limits">
        <h4 id="syntactic-limits①"><span>Syntactic Limits</span><a href="#syntactic-limits①"></a></h4>
        <section id="structure②">
          <span id="impl-syntax"></span><span id="index-1②⑧"></span>
         <h5 id="structure③"><span>Structure</span><a href="#structure③"></a></h5>
         <p>An implementation may impose restrictions on the following dimensions of a module:</p>
         <ul>
          <li>
           <p>the number of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-type"><span>types</span></a> in a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a></p>
          </li><li>
           <p>the number of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-func"><span>functions</span></a> in a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a>, including imports</p>
          </li><li>
           <p>the number of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-table"><span>tables</span></a> in a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a>, including imports</p>
          </li><li>
           <p>the number of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-mem"><span>memories</span></a> in a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a>, including imports</p>
          </li><li>
           <p>the number of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-global"><span>globals</span></a> in a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a>, including imports</p>
          </li><li>
           <p>the number of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elem"><span>element segments</span></a> in a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a></p>
          </li><li>
           <p>the number of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-data"><span>data segments</span></a> in a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a></p>
          </li><li>
           <p>the number of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-import"><span>imports</span></a> to a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a></p>
          </li><li>
           <p>the number of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-export"><span>exports</span></a> from a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a></p>
          </li><li>
           <p>the number of parameters in a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a></p>
          </li><li>
           <p>the number of results in a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a></p>
          </li><li>
           <p>the number of parameters in a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-blocktype"><span>block type</span></a></p>
          </li><li>
           <p>the number of results in a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-blocktype"><span>block type</span></a></p>
          </li><li>
           <p>the number of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-local"><span>locals</span></a> in a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-func"><span>function</span></a></p>
          </li><li>
           <p>the size of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-func"><span>function</span></a> body</p>
          </li><li>
           <p>the size of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-control"><span>structured control instruction</span></a></p>
          </li><li>
           <p>the number of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-control"><span>structured control instructions</span></a> in a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-func"><span>function</span></a></p>
          </li><li>
           <p>the nesting depth of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-control"><span>structured control instructions</span></a></p>
          </li><li>
           <p>the number of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-labelidx"><span>label indices</span></a> in a <span><span><span></span></span></span> instruction</p>
          </li><li>
           <p>the length of an <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elem"><span>element segment</span></a></p>
          </li><li>
           <p>the length of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-data"><span>data segment</span></a></p>
          </li><li>
           <p>the length of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-name"><span>name</span></a></p>
          </li><li>
           <p>the range of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-char"><span>characters</span></a> in a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-name"><span>name</span></a></p>
         </li></ul>
         <p>If the limits of an implementation are exceeded for a given module,
then the implementation may reject the <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid"><span>validation</span></a>, compilation, or <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-instantiation"><span>instantiation</span></a> of that module with an embedder-specific error.</p>
         <div role="note">
          <p>Note</p>
          <p>The last item allows <a href="https://www.w3.org/TR/wasm-core-2/index.html#embedder"><span>embedders</span></a> that operate in limited environments without support for <a data-link-type="biblio" href="#biblio-unicode" title="The Unicode Standard">[UNICODE]</a> to limit the
names of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-import"><span>imports</span></a> and <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-export"><span>exports</span></a> to common subsets like <a href="https://webstore.ansi.org/RecordDetail.aspx?sku=INCITS+4-1986%5bR2012%5d">ASCII</a>.</p>
         </div>
        </section>
        <section id="binary-format②">
          <span id="impl-binary"></span><span id="index-2②⑥"></span>
         <h5 id="binary-format③"><span>Binary Format</span><a href="#binary-format③"></a></h5>
         <p>For a module given in <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary"><span>binary format</span></a>, additional limitations may be imposed on the following dimensions:</p>
         <ul>
          <li>
           <p>the size of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-module"><span>module</span></a></p>
          </li><li>
           <p>the size of any <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-section"><span>section</span></a></p>
          </li><li>
           <p>the size of an individual function’s <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-code"><span>code</span></a></p>
          </li><li>
           <p>the number of <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-section"><span>sections</span></a></p>
         </li></ul>
        </section>
        <section id="text-format③">
          <span id="impl-text"></span><span id="index-3②②"></span>
         <h5 id="text-format④"><span>Text Format</span><a href="#text-format④"></a></h5>
         <p>For a module given in <a href="https://www.w3.org/TR/wasm-core-2/index.html#text"><span>text format</span></a>, additional limitations may be imposed on the following dimensions:</p>
         <ul>
          <li>
           <p>the size of the <a href="https://www.w3.org/TR/wasm-core-2/index.html#source"><span>source text</span></a></p>
          </li><li>
           <p>the size of any syntactic element</p>
          </li><li>
           <p>the size of an individual <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-token"><span>token</span></a></p>
          </li><li>
           <p>the nesting depth of <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-foldedinstr"><span>folded instructions</span></a></p>
          </li><li>
           <p>the length of symbolic <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-id"><span>identifiers</span></a></p>
          </li><li>
           <p>the range of literal <a href="https://www.w3.org/TR/wasm-core-2/index.html#text-char"><span>characters</span></a> allowed in the <a href="https://www.w3.org/TR/wasm-core-2/index.html#source"><span>source text</span></a></p>
         </li></ul>
        </section>
       </section>
       <section id="validation③">
         <span id="impl-valid"></span><span id="index-4②②"></span>
        <h4 id="validation④"><span>Validation</span><a href="#validation④"></a></h4>
        <p>An implementation may defer <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid"><span>validation</span></a> of individual <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-func"><span>functions</span></a> until they are first <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-invoke"><span>invoked</span></a>.</p>
        <p>If a function turns out to be invalid, then the invocation, and every consecutive call to the same function, results in a <a href="https://www.w3.org/TR/wasm-core-2/index.html#trap"><span>trap</span></a>.</p>
        <div role="note">
         <p>Note</p>
         <p>This is to allow implementations to use interpretation or just-in-time compilation for functions.
The function must still be fully validated before execution of its body begins.</p>
        </div>
       </section>
       <section id="execution③">
         <span id="impl-exec"></span><span id="index-5①⑨"></span>
        <h4 id="execution④"><span>Execution</span><a href="#execution④"></a></h4>
        <p>Restrictions on the following dimensions may be imposed during <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec"><span>execution</span></a> of a WebAssembly program:</p>
        <ul>
         <li>
          <p>the number of allocated <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-moduleinst"><span>module instances</span></a></p>
         </li><li>
          <p>the number of allocated <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcinst"><span>function instances</span></a></p>
         </li><li>
          <p>the number of allocated <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableinst"><span>table instances</span></a></p>
         </li><li>
          <p>the number of allocated <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>memory instances</span></a></p>
         </li><li>
          <p>the number of allocated <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globalinst"><span>global instances</span></a></p>
         </li><li>
          <p>the size of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableinst"><span>table instance</span></a></p>
         </li><li>
          <p>the size of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>memory instance</span></a></p>
         </li><li>
          <p>the number of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frames</span></a> on the <a href="https://www.w3.org/TR/wasm-core-2/index.html#stack"><span>stack</span></a></p>
         </li><li>
          <p>the number of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-label"><span>labels</span></a> on the <a href="https://www.w3.org/TR/wasm-core-2/index.html#stack"><span>stack</span></a></p>
         </li><li>
          <p>the number of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>values</span></a> on the <a href="https://www.w3.org/TR/wasm-core-2/index.html#stack"><span>stack</span></a></p>
        </li></ul>
        <p>If the runtime limits of an implementation are exceeded during execution of a computation,
then it may terminate that computation and report an embedder-specific error to the invoking code.</p>
        <p>Some of the above limits may already be verified during instantiation, in which case an implementation may report exceedance in the same manner as for <a href="#impl-syntax"><span>syntactic limits</span></a>.</p>
        <div role="note">
         <p>Note</p>
         <p>Concrete limits are usually not fixed but may be dependent on specifics, interdependent, vary over time, or depend on other implementation- or embedder-specific situations or events.</p>
        </div>
       </section>
      </section>
       <section id="validation-algorithm">
        <span id="algo-valid"></span><span id="index-0②⑨"></span>
       <h3 id="a3-validation-algorithm"><span>A.3 Validation Algorithm</span><a href="#a3-validation-algorithm"></a></h3>
       <p>The specification of WebAssembly <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid"><span>validation</span></a> is purely <em>declarative</em>.
It describes the constraints that must be met by a <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-module"><span>module</span></a> or <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-instr"><span>instruction</span></a> sequence to be valid.</p>
       <p>This section sketches the skeleton of a sound and complete <em>algorithm</em> for effectively validating code, i.e., sequences of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr"><span>instructions</span></a>.
(Other aspects of validation are straightforward to implement.)</p>
       <p>In fact, the algorithm is expressed over the flat sequence of opcodes as occurring in the <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary"><span>binary format</span></a>, and performs only a single pass over it.
Consequently, it can be integrated directly into a decoder.</p>
       <p>The algorithm is expressed in typed pseudo code whose semantics is intended to be self-explanatory.</p>
       <section id="data-structures">
         <span id="index-1②⑨"></span>
        <h4 id="data-structures①"><span>Data Structures</span><a href="#data-structures①"></a></h4>
        <p>Types are representable as an enumeration.</p>
        <div>
<pre><span></span><span>type</span> <span>val_type</span> = I32 | I64 | F32 | F64 | V128 | Funcref | Externref

<span>func</span> <span>is_num</span>(<span>t</span> : val_type | Unknown) : bool =
  <span>return</span> t = I32 || t = I64 || t = F32 || t = F64 || t = Unknown

<span>func</span> <span>is_vec</span>(<span>t</span> : val_type | Unknown) : bool =
  <span>return</span> t = V128 || t = Unknown

<span>func</span> <span>is_ref</span>(<span>t</span> : val_type | Unknown) : bool =
  <span>return</span> t = Funcref || t = Externref || t = Unknown
</pre>
         </div>
        <p>The algorithm uses two separate stacks: the <em>value stack</em> and the <em>control stack</em>.
The former tracks the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>types</span></a> of operand values on the <a href="https://www.w3.org/TR/wasm-core-2/index.html#stack"><span>stack</span></a>,
the latter surrounding <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-control"><span>structured control instructions</span></a> and their associated <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-control"><span>blocks</span></a>.</p>
        <div>
<pre><span></span><span>type</span> <span>val_stack</span> = stack(val_type | Unknown)

<span>type</span> <span>ctrl_stack</span> = stack(ctrl_frame)
<span>type</span> <span>ctrl_frame</span> = {
  <span>opcode</span> : opcode
  <span>start_types</span> : list(val_type)
  <span>end_types</span> : list(val_type)
  <span>height</span> : nat
  <span>unreachable</span> : bool
}
</pre>
         </div>
        <p>For each value, the value stack records its <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a>, or <code><span>Unknown</span></code> when the type is not known.</p>
        <p>For each entered block, the control stack records a <em>control frame</em> with the originating opcode, the types on the top of the operand stack at the start and end of the block (used to check its result as well as branches), the height of the operand stack at the start of the block (used to check that operands do not underflow the current block), and a flag recording whether the remainder of the block is unreachable (used to handle <a href="https://www.w3.org/TR/wasm-core-2/index.html#polymorphism"><span>stack-polymorphic</span></a> typing after branches).</p>
        <p>For the purpose of presenting the algorithm, the operand and control stacks are simply maintained as global variables:</p>
        <div>
<pre><span></span><span>var</span> <span>vals</span> : val_stack
<span>var</span> <span>ctrls</span> : ctrl_stack
</pre>
         </div>
        <p>However, these variables are not manipulated directly by the main checking function, but through a set of auxiliary functions:</p>
        <div>
<pre><span></span><span>func</span> <span>push_val</span>(<span>type</span> : val_type | Unknown) =
  vals.push(type)

<span>func</span> <span>pop_val</span>() : val_type | Unknown =
  <span>if</span> (vals.size() = ctrls[0].height &amp;&amp; ctrls[0].unreachable) <span>return</span> Unknown
  error_if(vals.size() = ctrls[0].height)
  <span>return</span> vals.pop()

<span>func</span> <span>pop_val</span>(<span>expect</span> : val_type | Unknown) : val_type | Unknown =
  <span>let</span> <span>actual</span> = pop_val()
  error_if(actual =/= expect &amp;&amp; actual =/= Unknown &amp;&amp; expect =/= Unknown)
  <span>return</span> actual

<span>func</span> <span>push_vals</span>(<span>types</span> : list(val_type)) = <span>foreach</span> (t <span>in</span> types) push_val(t)
<span>func</span> <span>pop_vals</span>(<span>types</span> : list(val_type)) : list(val_type) =
  <span>var</span> <span>popped</span> := []
  <span>foreach</span> (t <span>in</span> reverse(types)) popped.prepend(pop_val(t))
  <span>return</span> popped
</pre>
         </div>
        <p>Pushing an operand value simply pushes the respective type to the value stack.</p>
        <p>Popping an operand value checks that the value stack does not underflow the current block and then removes one type.
But first, a special case is handled where the block contains no known values, but has been marked as unreachable.
That can occur after an unconditional branch, when the stack is typed <a href="https://www.w3.org/TR/wasm-core-2/index.html#polymorphism"><span>polymorphically</span></a>.
In that case, an unknown type is returned.</p>
        <p>A second function for popping an operand value takes an expected type, which the actual operand type is checked against.
The types may differ in case one of them is Unknown.
The function returns the actual type popped from the stack.</p>
        <p>Finally, there are accumulative functions for pushing or popping multiple operand types.</p>
        <div role="note">
         <p>Note</p>
         <p>The notation <code><span>stack[i]</span></code> is meant to index the stack from the top,
so that, e.g., <code><span>ctrls[0]</span></code> accesses the element pushed last.</p>
        </div>
        <p>The control stack is likewise manipulated through auxiliary functions:</p>
        <div>
<pre><span></span><span>func</span> <span>push_ctrl</span>(<span>opcode</span> : opcode, <span>in</span> : list(val_type), <span>out</span> : list(val_type)) =
  <span>let</span> <span>frame</span> = ctrl_frame(opcode, <span>in</span>, out, vals.size(), false)
  ctrls.push(frame)
  push_vals(<span>in</span>)

<span>func</span> <span>pop_ctrl</span>() : ctrl_frame =
  error_if(ctrls.is_empty())
  <span>let</span> <span>frame</span> = ctrls[0]
  pop_vals(frame.end_types)
  error_if(vals.size() =/= frame.height)
  ctrls.pop()
  <span>return</span> frame

<span>func</span> <span>label_types</span>(<span>frame</span> : ctrl_frame) : list(val_types) =
  <span>return</span> (if frame.opcode == loop then frame.start_types else frame.end_types)

<span>func</span> <span>unreachable</span>() =
  vals.resize(ctrls[0].height)
  ctrls[0].unreachable := true
</pre>
         </div>
        <p>Pushing a control frame takes the types of the label and result values.
It allocates a new frame record recording them along with the current height of the operand stack and marks the block as reachable.</p>
        <p>Popping a frame first checks that the control stack is not empty.
It then verifies that the operand stack contains the right types of values expected at the end of the exited block and pops them off the operand stack.
Afterwards, it checks that the stack has shrunk back to its initial height.</p>
        <p>The type of the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-label"><span>label</span></a> associated with a control frame is either that of the stack at the start or the end of the frame, determined by the opcode that it originates from.</p>
        <p>Finally, the current frame can be marked as unreachable.
In that case, all existing operand types are purged from the value stack, in order to allow for the <a href="https://www.w3.org/TR/wasm-core-2/index.html#polymorphism"><span>stack-polymorphism</span></a> logic in <code><span>pop_val</span></code> to take effect.
Because every function has an implicit outermost label that corresponds to an implicit block frame,
it is an invariant of the validation algorithm that there always is at least one frame on the control stack when validating an instruction, and hence, <cite>ctrls[0]</cite> is always defined.</p>
        <div role="note">
         <p>Note</p>
         <p>Even with the unreachable flag set, consecutive operands are still pushed to and popped from the operand stack.
That is necessary to detect invalid <a href="https://www.w3.org/TR/wasm-core-2/index.html#polymorphism"><span>examples</span></a> like <span><span><span></span></span></span>.
However, a polymorphic stack cannot underflow, but instead generates <code><span>Unknown</span></code> types as needed.</p>
        </div>
       </section>
       <section id="validation-of-opcode-sequences">
         <span id="index-2②⑦"></span>
        <h4 id="validation-of-opcode-sequences①"><span>Validation of Opcode Sequences</span><a href="#validation-of-opcode-sequences①"></a></h4>
        <p>The following function shows the validation of a number of representative instructions that manipulate the stack.
Other instructions are checked in a similar manner.</p>
        <div role="note">
         <p>Note</p>
         <p>Various instructions not shown here will additionally require the presence of a validation <a href="https://www.w3.org/TR/wasm-core-2/index.html#context"><span>context</span></a> for checking uses of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-index"><span>indices</span></a>.
That is an easy addition and therefore omitted from this presentation.</p>
        </div>
        <div>
<pre><span></span><span>func</span> <span>validate</span>(opcode) =
  <span>switch</span> (opcode)
    <span>case</span> (i32.add)
      pop_val(I32)
      pop_val(I32)
      push_val(I32)

   <span>case</span> (drop)
      pop_val()

   <span>case</span> (select)
      pop_val(I32)
      <span>let</span> <span>t1</span> = pop_val()
      <span>let</span> <span>t2</span> = pop_val()
      error_if(not ((is_num(t1) &amp;&amp; is_num(t2)) || (is_vec(t1) &amp;&amp; is_vec(t2))))
      error_if(t1 =/= t2 &amp;&amp; t1 =/= Unknown &amp;&amp; t2 =/= Unknown)
      push_val(if (t1 = Unknown) t2 else t1)

   <span>case</span> (select t)
      pop_val(I32)
      pop_val(t)
      pop_val(t)
      push_val(t)

   <span>case</span> (unreachable)
      unreachable()

   <span>case</span> (block t1*-&gt;t2*)
      pop_vals([t1*])
      push_ctrl(block, [t1*], [t2*])

   <span>case</span> (loop t1*-&gt;t2*)
      pop_vals([t1*])
      push_ctrl(loop, [t1*], [t2*])

   <span>case</span> (if t1*-&gt;t2*)
      pop_val(I32)
      pop_vals([t1*])
      push_ctrl(if, [t1*], [t2*])

   <span>case</span> (end)
      <span>let</span> <span>frame</span> = pop_ctrl()
      push_vals(frame.end_types)

   <span>case</span> (else)
      <span>let</span> <span>frame</span> = pop_ctrl()
      error_if(frame.opcode =/= <span>if</span>)
      push_ctrl(else, frame.start_types, frame.end_types)

   <span>case</span> (br n)
      error_if(ctrls.size() &lt; n)
      pop_vals(label_types(ctrls[n]))
      unreachable()

   <span>case</span> (br_if n)
      error_if(ctrls.size() &lt; n)
      pop_val(I32)
      pop_vals(label_types(ctrls[n]))
      push_vals(label_types(ctrls[n]))

   <span>case</span> (br_table n* m)
      pop_val(I32)
      error_if(ctrls.size() &lt; m)
      <span>let</span> <span>arity</span> = label_types(ctrls[m]).size()
      <span>foreach</span> (n <span>in</span> n*)
        error_if(ctrls.size() &lt; n)
        error_if(label_types(ctrls[n]).size() =/= arity)
        push_vals(pop_vals(label_types(ctrls[n])))
      pop_vals(label_types(ctrls[m]))
      unreachable()
</pre>
         </div>
        <div role="note">
         <p>Note</p>
         <p>It is an invariant under the current WebAssembly instruction set that an operand of <code><span>Unknown</span></code> type is never duplicated on the stack.
This would change if the language were extended with stack instructions like <code><span>dup</span></code>.
Under such an extension, the above algorithm would need to be refined by replacing the <code><span>Unknown</span></code> type with proper <em>type variables</em> to ensure that all uses are consistent.</p>
        </div>
       </section>
      </section>
       <section id="custom-sections">
        <span id="index-0③⓪"></span>
       <h3 id="a4-custom-sections"><span>A.4 Custom Sections</span><a href="#a4-custom-sections"></a></h3>
       <p>This appendix defines dedicated <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-customsec"><span>custom sections</span></a> for WebAssembly’s <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary"><span>binary format</span></a>.
Such sections do not contribute to, or otherwise affect, the WebAssembly semantics, and like any custom section they may be ignored by an implementation.
However, they provide useful meta data that implementations can make use of to improve user experience or take compilation hints.</p>
       <p>Currently, only one dedicated custom section is defined, the <a href="#binary-namesec"><span>name section</span></a>.</p>
       <section id="name-section">
         <span id="binary-namesec"></span><span id="index-1③⓪"></span>
        <h4 id="name-section①"><span>Name Section</span><a href="#name-section①"></a></h4>
        <p>The <em>name section</em> is a <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-customsec"><span>custom section</span></a> whose name string is itself <span><span><span></span></span></span>.
The name section should appear only once in a module, and only after the <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-datasec"><span>data section</span></a>.</p>
        <p>The purpose of this section is to attach printable names to definitions in a module, which e.g. can be used by a debugger or when parts of the module are to be rendered in <a href="https://www.w3.org/TR/wasm-core-2/index.html#text"><span>text form</span></a>.</p>
        <div role="note">
         <p>Note</p>
         <p>All <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-name"><span>names</span></a> are represented in <a data-link-type="biblio" href="#biblio-unicode" title="The Unicode Standard">[UNICODE]</a> encoded in UTF-8.
Names need not be unique.</p>
        </div>
        <section id="subsections">
          <span id="binary-namesubsection"></span>
         <h5 id="subsections①"><span>Subsections</span><a href="#subsections①"></a></h5>
         <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-customsec"><span>data</span></a> of a name section consists of a sequence of <em>subsections</em>.
Each subsection consists of a</p>
         <ul>
          <li>
           <p>a one-byte subsection <em>id</em>,</p>
          </li><li>
           <p>the <span><span><span></span></span></span> <em>size</em> of the contents, in bytes,</p>
          </li><li>
           <p>the actual <em>contents</em>, whose structure is dependent on the subsection id.</p>
         </li></ul>
         
         <p>The following subsection ids are used:</p>
         <table>
          <thead>
           <tr>
            <th>
             <p>Id</p>
            </th><th>
             <p>Subsection</p>
          </th></tr></thead><tbody>
           <tr>
            <td>
             <p>0</p>
            </td><td>
             <p><a href="#binary-modulenamesec"><span>module name</span></a></p>
           </td></tr><tr>
            <td>
             <p>1</p>
            </td><td>
             <p><a href="#binary-funcnamesec"><span>function names</span></a></p>
           </td></tr><tr>
            <td>
             <p>2</p>
            </td><td>
             <p><a href="#binary-localnamesec"><span>local names</span></a></p>
         </td></tr></tbody></table>
         <p>Each subsection may occur at most once, and in order of increasing id.</p>
        </section>
        <section id="name-maps">
          <span id="binary-namemap"></span><span id="binary-indirectnamemap"></span><span id="index-2②⑧"></span>
         <h5 id="name-maps①"><span>Name Maps</span><a href="#name-maps①"></a></h5>
         <p>A <em>name map</em> assigns <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-name"><span>names</span></a> to <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-index"><span>indices</span></a> in a given <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-index"><span>index space</span></a>.
It consists of a <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-vec"><span>vector</span></a> of index/name pairs in order of increasing index value.
Each index must be unique, but the assigned names need not be.</p>
         
         <p>An <em>indirect name map</em> assigns <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-name"><span>names</span></a> to a two-dimensional <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-index"><span>index space</span></a>, where secondary indices are <em>grouped</em> by primary indices.
It consists of a vector of primary index/name map pairs in order of increasing index value, where each name map in turn maps secondary indices to names.
Each primary index must be unique, and likewise each secondary index per individual name map.</p>
         
        </section>
        <section id="module-names">
          <span id="binary-modulenamesec"></span><span id="index-3②③"></span>
         <h5 id="module-names①"><span>Module Names</span><a href="#module-names①"></a></h5>
         <p>The <em>module name subsection</em> has the id 0.
It simply consists of a single <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-name"><span>name</span></a> that is assigned to the module itself.</p>
         
        </section>
        <section id="function-names">
          <span id="binary-funcnamesec"></span><span id="index-4②③"></span>
         <h5 id="function-names①"><span>Function Names</span><a href="#function-names①"></a></h5>
         <p>The <em>function name subsection</em> has the id 1.
It consists of a <a href="#binary-namemap"><span>name map</span></a> assigning function names to <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcidx"><span>function indices</span></a>.</p>
         
        </section>
        <section id="local-names">
          <span id="binary-localnamesec"></span><span id="index-5②⓪"></span>
         <h5 id="local-names①"><span>Local Names</span><a href="#local-names①"></a></h5>
         <p>The <em>local name subsection</em> has the id 2.
It consists of an <a href="#binary-indirectnamemap"><span>indirect name map</span></a> assigning local names to <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-localidx"><span>local indices</span></a> grouped by <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcidx"><span>function indices</span></a>.</p>
         
        </section>
       </section>
      </section>
       <section id="soundness">
        <span id="index-0③①"></span><span id="id1①⑧"></span>
       <h3 id="a5-soundness"><span>A.5 Soundness</span><a href="#a5-soundness"></a></h3>
       <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#type-system"><span>type system</span></a> of WebAssembly is <em>sound</em>, implying both <em>type safety</em> and <em>memory safety</em> with respect to the WebAssembly semantics. For example:</p>
       <ul>
        <li>
         <p>All types declared and derived during validation are respected at run time;
e.g., every <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-local"><span>local</span></a> or <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-global"><span>global</span></a> variable will only contain type-correct values, every <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr"><span>instruction</span></a> will only be applied to operands of the expected type, and every <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-func"><span>function</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-invocation"><span>invocation</span></a> always evaluates to a result of the right type (if it does not <a href="https://www.w3.org/TR/wasm-core-2/index.html#trap"><span>trap</span></a> or diverge).</p>
        </li><li>
         <p>No memory location will be read or written except those explicitly defined by the program, i.e., as a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-local"><span>local</span></a>, a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-global"><span>global</span></a>, an element in a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-table"><span>table</span></a>, or a location within a linear <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-mem"><span>memory</span></a>.</p>
        </li><li>
         <p>There is no undefined behavior,
i.e., the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec"><span>execution rules</span></a> cover all possible cases that can occur in a <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid"><span>valid</span></a> program, and the rules are mutually consistent.</p>
       </li></ul>
       <p>Soundness also is instrumental in ensuring additional properties, most notably, <em>encapsulation</em> of function and module scopes: no <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-local"><span>locals</span></a> can be accessed outside their own function and no <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>module</span></a> components can be accessed outside their own module unless they are explicitly <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-export"><span>exported</span></a> or <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-import"><span>imported</span></a>.</p>
       <p>The typing rules defining WebAssembly <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid"><span>validation</span></a> only cover the <em>static</em> components of a WebAssembly program.
In order to state and prove soundness precisely, the typing rules must be extended to the <em>dynamic</em> components of the abstract <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-runtime"><span>runtime</span></a>, that is, the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-store"><span>store</span></a>, <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-config"><span>configurations</span></a>, and <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-admin"><span>administrative instructions</span></a>. <a href="#cite-pldi2017" id="id2⑧" role="doc-noteref"><span>[</span>1<span>]</span></a></p>
       <section id="results②">
         <span id="valid-result"></span><span id="index-1③①"></span>
        <h4 id="results③"><span>Results</span><a href="#results③"></a></h4>
        <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-result"><span>Results</span></a> can be classified by <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result types</span></a> as follows.</p>
        <section id="results-xref-exec-runtime-syntax-val-mathit-val-ast">
         <h5 id="results--hrefsyntax-valmathitvalast"><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-result"><span>Results</span></a> <span><span><span></span></span></span></span><a href="#results--hrefsyntax-valmathitvalast"></a></h5>
         <ul>
          <li>
           <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>value</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span>:</p>
           <ul>
            <li>
             <p>The value <span><span><span></span></span></span> is <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-val"><span>valid</span></a> with some <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span>.</p>
           </li></ul>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the concatenation of all <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the result is valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="results-xref-exec-runtime-syntax-trap-mathsf-trap">
         <h5 id="results--hrefsyntax-trapmathsftrap"><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-result"><span>Results</span></a> <span><span><span></span></span></span></span><a href="#results--hrefsyntax-trapmathsftrap"></a></h5>
         <ul>
          <li>
           <p>The result is valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result type</span></a> <span><span><span></span></span></span>, for any sequence <span><span><span></span></span></span> of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value types</span></a>.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="store-validity">
         <span id="valid-store"></span><span id="module-context"></span>
        <h4 id="store-validity①"><span>Store Validity</span><a href="#store-validity①"></a></h4>
        <p>The following typing rules specify when a runtime <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-store"><span>store</span></a> <span><span><span></span></span></span> is <em>valid</em>.
A valid store must consist of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcinst"><span>function</span></a>, <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableinst"><span>table</span></a>, <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>memory</span></a>, <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globalinst"><span>global</span></a>, and <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-moduleinst"><span>module</span></a> instances that are themselves valid, relative to <span><span><span></span></span></span>.</p>
        <p>To that end, each kind of instance is classified by a respective <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function</span></a>, <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table</span></a>, <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memtype"><span>memory</span></a>, or <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaltype"><span>global</span></a> type.
Module instances are classified by <em>module contexts</em>, which are regular <a href="https://www.w3.org/TR/wasm-core-2/index.html#context"><span>contexts</span></a> repurposed as module types describing the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-index"><span>index spaces</span></a> defined by a module.</p>
        <section id="store-s">
          <span id="index-2②⑨"></span>
         <h5 id="store--s"><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-store"><span>Store</span></a> <span><span><span></span></span></span></span><a href="#store--s"></a></h5>
         <ul>
          <li>
           <p>Each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcinst"><span>function instance</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span> must be <a href="#valid-funcinst"><span>valid</span></a> with some <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableinst"><span>table instance</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span> must be <a href="#valid-tableinst"><span>valid</span></a> with some <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>memory instance</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span> must be <a href="#valid-meminst"><span>valid</span></a> with some <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memtype"><span>memory type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globalinst"><span>global instance</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span> must be <a href="#valid-globalinst"><span>valid</span></a> with some <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaltype"><span>global type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-eleminst"><span>element instance</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span> must be <a href="#valid-eleminst"><span>valid</span></a> with some <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-datainst"><span>data instance</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span> must be <a href="#valid-datainst"><span>valid</span></a>.</p>
          </li><li>
           <p>Then the store is valid.</p>
         </li></ul>
         
        </section>
        <section id="function-instances-xref-exec-runtime-syntax-funcinst-mathsf-type-xref-syntax-types-syntax-functype-mathit-functype-xref-exec-runtime-syntax-funcinst-mathsf-module-xref-exec-runtime-syntax-moduleinst-mathit-moduleinst-xref-exec-runtime-syntax-funcinst-mathsf-code-xref-syntax-modules-syntax-func-mathit-func">
          <span id="valid-funcinst"></span><span id="index-3②④"></span>
         <h5 id="function-instances--hrefsyntax-funcinstmathsftypehrefsyntax-functypemathitfunctype-hrefsyntax-funcinstmathsfmodulehrefsyntax-moduleinstmathitmoduleinst-hrefsyntax-funcinstmathsfcodehrefsyntax-funcmathitfunc"><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcinst"><span>Function Instances</span></a> <span><span><span></span></span></span></span><a href="#function-instances--hrefsyntax-funcinstmathsftypehrefsyntax-functypemathitfunctype-hrefsyntax-funcinstmathsfmodulehrefsyntax-moduleinstmathitmoduleinst-hrefsyntax-funcinstmathsfcodehrefsyntax-funcmathitfunc"></a></h5>
         <ul>
          <li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-functype"><span>valid</span></a>.</p>
          </li><li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-moduleinst"><span>module instance</span></a> <span><span><span></span></span></span> must be <a href="#valid-moduleinst"><span>valid</span></a> with some <a href="https://www.w3.org/TR/wasm-core-2/index.html#context"><span>context</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Under <a href="https://www.w3.org/TR/wasm-core-2/index.html#context"><span>context</span></a> <span><span><span></span></span></span>, the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-func"><span>function</span></a> <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-func"><span>valid</span></a> with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the function instance is valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="host-function-instances-xref-exec-runtime-syntax-funcinst-mathsf-type-xref-syntax-types-syntax-functype-mathit-functype-xref-exec-runtime-syntax-funcinst-mathsf-hostcode-mathit-hf">
          <span id="valid-hostfuncinst"></span><span id="index-4②④"></span>
         <h5 id="host-function-instances--hrefsyntax-funcinstmathsftypehrefsyntax-functypemathitfunctype-hrefsyntax-funcinstmathsfhostcodemathithf"><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcinst"><span>Host Function Instances</span></a> <span><span><span></span></span></span></span><a href="#host-function-instances--hrefsyntax-funcinstmathsftypehrefsyntax-functypemathitfunctype-hrefsyntax-funcinstmathsfhostcodemathithf"></a></h5>
         <ul>
          <li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-functype"><span>valid</span></a>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>For every <a href="#valid-store"><span>valid</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-store"><span>store</span></a> <span><span><span></span></span></span> <a href="#extend-store"><span>extending</span></a> <span><span><span></span></span></span> and every sequence <span><span><span></span></span></span> of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>values</span></a> whose <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-val"><span>types</span></a> coincide with <span><span><span></span></span></span>:</p>
           <ul>
            <li>
             <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-invoke-host"><span>Executing</span></a> <span><span><span></span></span></span> in store <span><span><span></span></span></span> with arguments <span><span><span></span></span></span> has a non-empty set of possible outcomes.</p>
            </li><li>
             <p>For every element <span><span><span></span></span></span> of this set:</p>
             <ul>
              <li>
               <p>Either <span><span><span></span></span></span> must be <span><span><span></span></span></span> (i.e., divergence).</p>
              </li><li>
               <p>Or <span><span><span></span></span></span> consists of a <a href="#valid-store"><span>valid</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-store"><span>store</span></a> <span><span><span></span></span></span> <a href="#extend-store"><span>extending</span></a> <span><span><span></span></span></span> and a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-result"><span>result</span></a> <span><span><span></span></span></span> whose <a href="#valid-result"><span>type</span></a> coincides with <span><span><span></span></span></span>.</p>
             </li></ul>
           </li></ul>
          </li><li>
           <p>Then the function instance is valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
         <div role="note">
          <p>Note</p>
          <p>This rule states that, if appropriate pre-conditions about store and arguments are satisfied, then executing the host function must satisfy appropriate post-conditions about store and results.
The post-conditions match the ones in the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-invoke-host"><span>execution rule</span></a> for invoking host functions.</p>
          <p>Any store under which the function is invoked is assumed to be an extension of the current store.
That way, the function itself is able to make sufficient assumptions about future stores.</p>
         </div>
        </section>
        <section id="table-instances-xref-exec-runtime-syntax-tableinst-mathsf-type-xref-syntax-types-syntax-limits-mathit-limits-t-xref-exec-runtime-syntax-tableinst-mathsf-elem-xref-exec-runtime-syntax-ref-mathit-ref-ast">
          <span id="valid-tableinst"></span><span id="index-5②①"></span>
         <h5 id="table-instances---hrefsyntax-tableinstmathsftype-hrefsyntax-limitsmathitlimitst-hrefsyntax-tableinstmathsfelemhrefsyntax-refmathitrefast"><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableinst"><span>Table Instances</span></a> <span><span><span></span></span></span></span><a href="#table-instances---hrefsyntax-tableinstmathsftype-hrefsyntax-limitsmathitlimitst-hrefsyntax-tableinstmathsfelemhrefsyntax-refmathitrefast"></a></h5>
         <ul>
          <li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table type</span></a> <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-tabletype"><span>valid</span></a>.</p>
          </li><li>
           <p>The length of <span><span><span></span></span></span> must equal <span><span><span></span></span></span>.</p>
          </li><li>
           <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-ref"><span>reference</span></a> <span><span><span></span></span></span> in the table’s elements <span><span><span></span></span></span>:</p>
           <ul>
            <li>
             <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-ref"><span>reference</span></a> <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-ref"><span>valid</span></a> with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference type</span></a> <span><span><span></span></span></span>.</p>
           </li></ul>
          </li><li>
           <p>Then the table instance is valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="memory-instances-xref-exec-runtime-syntax-meminst-mathsf-type-xref-syntax-types-syntax-limits-mathit-limits-xref-exec-runtime-syntax-meminst-mathsf-data-b-ast">
          <span id="valid-meminst"></span><span id="index-6①⑦"></span>
         <h5 id="memory-instances---hrefsyntax-meminstmathsftypehrefsyntax-limitsmathitlimits-hrefsyntax-meminstmathsfdatabast"><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>Memory Instances</span></a> <span><span><span></span></span></span></span><a href="#memory-instances---hrefsyntax-meminstmathsftypehrefsyntax-limitsmathitlimits-hrefsyntax-meminstmathsfdatabast"></a></h5>
         <ul>
          <li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memtype"><span>memory type</span></a> <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-memtype"><span>valid</span></a>.</p>
          </li><li>
           <p>The length of <span><span><span></span></span></span> must equal <span><span><span></span></span></span> multiplied by the <a href="https://www.w3.org/TR/wasm-core-2/index.html#page-size"><span>page size</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the memory instance is valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memtype"><span>memory type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="global-instances-xref-exec-runtime-syntax-globalinst-mathsf-type-xref-syntax-types-syntax-mut-mathit-mut-t-xref-exec-runtime-syntax-globalinst-mathsf-value-xref-exec-runtime-syntax-val-mathit-val">
          <span id="valid-globalinst"></span><span id="index-7①⑦"></span>
         <h5 id="global-instances---hrefsyntax-globalinstmathsftype-hrefsyntax-mutmathitmutt-hrefsyntax-globalinstmathsfvaluehrefsyntax-valmathitval"><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globalinst"><span>Global Instances</span></a> <span><span><span></span></span></span></span><a href="#global-instances---hrefsyntax-globalinstmathsftype-hrefsyntax-mutmathitmutt-hrefsyntax-globalinstmathsfvaluehrefsyntax-valmathitval"></a></h5>
         <ul>
          <li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaltype"><span>global type</span></a> <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-globaltype"><span>valid</span></a>.</p>
          </li><li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>value</span></a> <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-val"><span>valid</span></a> with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the global instance is valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaltype"><span>global type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="element-instances-xref-exec-runtime-syntax-eleminst-mathsf-type-t-xref-exec-runtime-syntax-eleminst-mathsf-elem-xref-exec-runtime-syntax-ref-mathit-ref-ast">
          <span id="valid-eleminst"></span><span id="index-8①⑦"></span>
         <h5 id="element-instances---hrefsyntax-eleminstmathsftypet-hrefsyntax-eleminstmathsfelemhrefsyntax-refmathitrefast"><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-eleminst"><span>Element Instances</span></a> <span><span><span></span></span></span></span><a href="#element-instances---hrefsyntax-eleminstmathsftypet-hrefsyntax-eleminstmathsfelemhrefsyntax-refmathitrefast"></a></h5>
         <ul>
          <li>
           <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-ref"><span>reference</span></a> <span><span><span></span></span></span> in the elements <span><span><span></span></span></span>:</p>
           <ul>
            <li>
             <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-ref"><span>reference</span></a> <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-ref"><span>valid</span></a> with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference type</span></a> <span><span><span></span></span></span>.</p>
           </li></ul>
          </li><li>
           <p>Then the element instance is valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="data-instances-xref-exec-runtime-syntax-datainst-mathsf-data-b-ast">
          <span id="valid-datainst"></span><span id="index-9①⑦"></span>
         <h5 id="data-instances---hrefsyntax-datainstmathsfdatabast"><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-eleminst"><span>Data Instances</span></a> <span><span><span></span></span></span></span><a href="#data-instances---hrefsyntax-datainstmathsfdatabast"></a></h5>
         <ul>
          <li>
           <p>The data instance is valid.</p>
         </li></ul>
         
        </section>
        <section id="export-instances-xref-exec-runtime-syntax-exportinst-mathsf-name-xref-syntax-values-syntax-name-mathit-name-xref-exec-runtime-syntax-exportinst-mathsf-value-xref-exec-runtime-syntax-externval-mathit-externval">
          <span id="valid-exportinst"></span><span id="index-10①③"></span>
         <h5 id="export-instances---hrefsyntax-exportinstmathsfnamehrefsyntax-namemathitname-hrefsyntax-exportinstmathsfvaluehrefsyntax-externvalmathitexternval"><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-exportinst"><span>Export Instances</span></a> <span><span><span></span></span></span></span><a href="#export-instances---hrefsyntax-exportinstmathsfnamehrefsyntax-namemathitname-hrefsyntax-exportinstmathsfvaluehrefsyntax-externvalmathitexternval"></a></h5>
         <ul>
          <li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externval"><span>external value</span></a> <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-externval"><span>valid</span></a> with some <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the export instance is valid.</p>
         </li></ul>
         
        </section>
        <section id="module-instances-xref-exec-runtime-syntax-moduleinst-mathit-moduleinst">
          <span id="valid-moduleinst"></span><span id="index-11①②"></span>
         <h5 id="module-instances--hrefsyntax-moduleinstmathitmoduleinst"><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-moduleinst"><span>Module Instances</span></a> <span><span><span></span></span></span></span><a href="#module-instances--hrefsyntax-moduleinstmathitmoduleinst"></a></h5>
         <ul>
          <li>
           <p>Each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>function type</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-functype"><span>valid</span></a>.</p>
          </li><li>
           <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcaddr"><span>function address</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span>, the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externval"><span>external value</span></a> <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-externval-func"><span>valid</span></a> with some <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableaddr"><span>table address</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span>, the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externval"><span>external value</span></a> <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-externval-table"><span>valid</span></a> with some <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memaddr"><span>memory address</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span>, the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externval"><span>external value</span></a> <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-externval-mem"><span>valid</span></a> with some <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaladdr"><span>global address</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span>, the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externval"><span>external value</span></a> <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-externval-global"><span>valid</span></a> with some <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elemaddr"><span>element address</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span>, the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-eleminst"><span>element instance</span></a> <span><span><span></span></span></span> must be <a href="#valid-eleminst"><span>valid</span></a> with some <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-dataaddr"><span>data address</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span>, the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-datainst"><span>data instance</span></a> <span><span><span></span></span></span> must be <a href="#valid-datainst"><span>valid</span></a>.</p>
          </li><li>
           <p>Each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-exportinst"><span>export instance</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span> must be <a href="#valid-exportinst"><span>valid</span></a>.</p>
          </li><li>
           <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-exportinst"><span>export instance</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span>, the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-name"><span>name</span></a> <span><span><span></span></span></span> must be different from any other name occurring in <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the concatenation of all <span><span><span></span></span></span> in order.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the concatenation of all <span><span><span></span></span></span> in order.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the concatenation of all <span><span><span></span></span></span> in order.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the concatenation of all <span><span><span></span></span></span> in order.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the concatenation of all <span><span><span></span></span></span> in order.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the length of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the length of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the sequence of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcidx"><span>function indices</span></a> from <span><span><span></span></span></span> to <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the module instance is valid with <a href="https://www.w3.org/TR/wasm-core-2/index.html#context"><span>context</span></a> <span><span><span></span></span></span> <span><span><span></span></span></span> <span><span><span></span></span></span> <span><span><span></span></span></span> <span><span><span></span></span></span> <span><span><span></span></span></span> <span><span><span></span></span></span> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="configuration-validity">
         <span id="valid-config"></span><span id="frame-context"></span><span id="index-12⑦"></span>
        <h4 id="configuration-validity①"><span>Configuration Validity</span><a href="#configuration-validity①"></a></h4>
        <p>To relate the WebAssembly <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid"><span>type system</span></a> to its <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec"><span>execution semantics</span></a>, the <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-instr"><span>typing rules for instructions</span></a> must be extended to <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-config"><span>configurations</span></a> <span><span><span></span></span></span>,
which relates the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-store"><span>store</span></a> to execution <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-thread"><span>threads</span></a>.</p>
        <p>Configurations and threads are classified by their <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result type</span></a>.
In addition to the store <span><span><span></span></span></span>, threads are typed under a <em>return type</em> <span><span><span></span></span></span>, which controls whether and with which type a <span><span><span></span></span></span> instruction is allowed.
This type is absent (<span><span><span></span></span></span>) except for instruction sequences inside an administrative <span><span><span></span></span></span> instruction.</p>
        <p>Finally, <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frames</span></a> are classified with <em>frame contexts</em>, which extend the <a href="#module-context"><span>module contexts</span></a> of a frame’s associated <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-moduleinst"><span>module instance</span></a> with the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-local"><span>locals</span></a> that the frame contains.</p>
        <section id="configurations-s-t">
          <span id="index-13⑤"></span>
         <h5 id="configurations--st"><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-config"><span>Configurations</span></a> <span><span><span></span></span></span></span><a href="#configurations--st"></a></h5>
         <ul>
          <li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-store"><span>store</span></a> <span><span><span></span></span></span> must be <a href="#valid-store"><span>valid</span></a>.</p>
          </li><li>
           <p>Under no allowed return type,
the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-thread"><span>thread</span></a> <span><span><span></span></span></span> must be <a href="#valid-thread"><span>valid</span></a> with some <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the configuration is valid with the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="threads-f-xref-syntax-instructions-syntax-instr-mathit-instr-ast">
          <span id="valid-thread"></span><span id="index-14⑤"></span>
         <h5 id="threads--fhrefsyntax-instrmathitinstrast"><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-thread"><span>Threads</span></a> <span><span><span></span></span></span></span><a href="#threads--fhrefsyntax-instrmathitinstrast"></a></h5>
         <ul>
          <li>
           <p>Let <span><span><span></span></span></span> be the current allowed return type.</p>
          </li><li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>frame</span></a> <span><span><span></span></span></span> must be <a href="#valid-frame"><span>valid</span></a> with a <a href="https://www.w3.org/TR/wasm-core-2/index.html#context"><span>context</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the same <a href="https://www.w3.org/TR/wasm-core-2/index.html#context"><span>context</span></a> as <span><span><span></span></span></span>, but with <span><span><span></span></span></span> set to <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Under context <span><span><span></span></span></span>,
the instruction sequence <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-instr-seq"><span>valid</span></a> with some type <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the thread is valid with the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result type</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="frames-xref-exec-runtime-syntax-frame-mathsf-locals-xref-exec-runtime-syntax-val-mathit-val-ast-xref-exec-runtime-syntax-frame-mathsf-module-xref-exec-runtime-syntax-moduleinst-mathit-moduleinst">
          <span id="valid-frame"></span><span id="index-15⑤"></span>
         <h5 id="frames--hrefsyntax-framemathsflocalshrefsyntax-valmathitvalast-hrefsyntax-framemathsfmodulehrefsyntax-moduleinstmathitmoduleinst"><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>Frames</span></a> <span><span><span></span></span></span></span><a href="#frames--hrefsyntax-framemathsflocalshrefsyntax-valmathitvalast-hrefsyntax-framemathsfmodulehrefsyntax-moduleinstmathitmoduleinst"></a></h5>
         <ul>
          <li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-moduleinst"><span>module instance</span></a> <span><span><span></span></span></span> must be <a href="#valid-moduleinst"><span>valid</span></a> with some <a href="#module-context"><span>module context</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>value</span></a> <span><span><span></span></span></span> in <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-val"><span>valid</span></a> with some <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the concatenation of all <span><span><span></span></span></span> in order.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the same <a href="https://www.w3.org/TR/wasm-core-2/index.html#context"><span>context</span></a> as <span><span><span></span></span></span>, but with the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value types</span></a> <span><span><span></span></span></span> prepended to the <span><span><span></span></span></span> vector.</p>
          </li><li>
           <p>Then the frame is valid with <a href="#frame-context"><span>frame context</span></a> <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="administrative-instructions②">
         <span id="valid-instr-admin"></span><span id="index-16③"></span>
        <h4 id="administrative-instructions③"><span>Administrative Instructions</span><a href="#administrative-instructions③"></a></h4>
        <p>Typing rules for <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-admin"><span>administrative instructions</span></a> are specified as follows.
In addition to the <a href="https://www.w3.org/TR/wasm-core-2/index.html#context"><span>context</span></a> <span><span><span></span></span></span>, typing of these instructions is defined under a given <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-store"><span>store</span></a> <span><span><span></span></span></span>.
To that end, all previous typing judgements <span><span><span></span></span></span> are generalized to include the store, as in <span><span><span></span></span></span>, by implicitly adding <span><span><span></span></span></span> to all rules – <span><span><span></span></span></span> is never modified by the pre-existing rules, but it is accessed in the extra rules for <a href="#valid-instr-admin"><span>administrative instructions</span></a> given below.</p>
        <section id="xref-exec-runtime-syntax-trap-mathsf-trap">
          <span id="index-17③"></span>
         <h5 id="-hrefsyntax-trapmathsftrap"><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-trapmathsftrap"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>, for any sequences of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value types</span></a> <span><span><span></span></span></span> and <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-runtime-syntax-ref-extern-mathsf-ref-extern-xref-exec-runtime-syntax-externaddr-mathit-externaddr">
          <span id="index-18③"></span>
         <h5 id="-hrefsyntax-refexternmathsfrefexternhrefsyntax-externaddrmathitexternaddr"><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-refexternmathsfrefexternhrefsyntax-externaddrmathitexternaddr"></a></h5>
         <ul>
          <li>
           <p>The instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-runtime-syntax-ref-mathsf-ref-xref-exec-runtime-syntax-funcaddr-mathit-funcaddr">
          <span id="index-19①"></span>
         <h5 id="-hrefsyntax-refmathsfrefhrefsyntax-funcaddrmathitfuncaddr"><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-refmathsfrefhrefsyntax-funcaddrmathitfuncaddr"></a></h5>
         <ul>
          <li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externval"><span>external function value</span></a> <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-externval-func"><span>valid</span></a> with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external function type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-runtime-syntax-invoke-mathsf-invoke-xref-exec-runtime-syntax-funcaddr-mathit-funcaddr">
          <span id="index-20①"></span>
         <h5 id="-hrefsyntax-invokemathsfinvokehrefsyntax-funcaddrmathitfuncaddr"><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-invokemathsfinvokehrefsyntax-funcaddrmathitfuncaddr"></a></h5>
         <ul>
          <li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externval"><span>external function value</span></a> <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-externval-func"><span>valid</span></a> with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-externtype"><span>external function type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-runtime-syntax-label-mathsf-label-n-xref-syntax-instructions-syntax-instr-mathit-instr-0-ast-xref-syntax-instructions-syntax-instr-mathit-instr-ast-xref-syntax-instructions-syntax-instr-control-mathsf-end">
          <span id="index-21①"></span>
         <h5 id="-hrefsyntax-labelmathsflabel_nhrefsyntax-instrmathitinstr_0asthrefsyntax-instrmathitinstrasthrefsyntax-instr-controlmathsfend"><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-labelmathsflabel_nhrefsyntax-instrmathitinstr_0asthrefsyntax-instrmathitinstrasthrefsyntax-instr-controlmathsfend"></a></h5>
         <ul>
          <li>
           <p>The instruction sequence <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-instr-seq"><span>valid</span></a> with some type <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the same <a href="https://www.w3.org/TR/wasm-core-2/index.html#context"><span>context</span></a> as <span><span><span></span></span></span>, but with the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result type</span></a> <span><span><span></span></span></span> prepended to the <span><span><span></span></span></span> vector.</p>
          </li><li>
           <p>Under context <span><span><span></span></span></span>,
the instruction sequence <span><span><span></span></span></span> must be <a href="https://www.w3.org/TR/wasm-core-2/index.html#valid-instr-seq"><span>valid</span></a> with type <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the compound instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="xref-exec-runtime-syntax-frame-mathsf-frame-n-f-xref-syntax-instructions-syntax-instr-mathit-instr-ast-xref-syntax-instructions-syntax-instr-control-mathsf-end">
          <span id="index-22①"></span>
         <h5 id="-hrefsyntax-framemathsfframe_nfhrefsyntax-instrmathitinstrasthrefsyntax-instr-controlmathsfend"><span><span><span><span></span></span></span></span><a href="#-hrefsyntax-framemathsfframe_nfhrefsyntax-instrmathitinstrasthrefsyntax-instr-controlmathsfend"></a></h5>
         <ul>
          <li>
           <p>Under the return type <span><span><span></span></span></span>,
the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-frame"><span>thread</span></a> <span><span><span></span></span></span> must be <a href="#valid-frame"><span>valid</span></a> with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result type</span></a> <span><span><span></span></span></span>.</p>
          </li><li>
           <p>Then the compound instruction is valid with type <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="store-extension">
         <span id="extend"></span><span id="index-23"></span>
        <h4 id="store-extension①"><span>Store Extension</span><a href="#store-extension①"></a></h4>
        <p>Programs can mutate the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-store"><span>store</span></a> and its contained instances.
Any such modification must respect certain invariants, such as not removing allocated instances or changing immutable definitions.
While these invariants are inherent to the execution semantics of WebAssembly <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-instr"><span>instructions</span></a> and <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-instantiation"><span>modules</span></a>, <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-hostfunc"><span>host functions</span></a> do not automatically adhere to them. Consequently, the required invariants must be stated as explicit constraints on the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-invoke-host"><span>invocation</span></a> of host functions.
Soundness only holds when the <a href="https://www.w3.org/TR/wasm-core-2/index.html#embedder"><span>embedder</span></a> ensures these constraints.</p>
        <p>The necessary constraints are codified by the notion of store <em>extension</em>:
a store state <span><span><span></span></span></span> extends state <span><span><span></span></span></span>, written <span><span><span></span></span></span>, when the following rules hold.</p>
        <div role="note">
         <p>Note</p>
         <p>Extension does not imply that the new store is valid, which is defined separately <a href="#valid-store"><span>above</span></a>.</p>
        </div>
        <section id="extend-store">
          <span id="index-24"></span><span id="id3④"></span>
         <h5 id="store--s①"><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-store"><span>Store</span></a> <span><span><span></span></span></span></span><a href="#store--s①"></a></h5>
         <ul>
          <li>
           <p>The length of <span><span><span></span></span></span> must not shrink.</p>
          </li><li>
           <p>The length of <span><span><span></span></span></span> must not shrink.</p>
          </li><li>
           <p>The length of <span><span><span></span></span></span> must not shrink.</p>
          </li><li>
           <p>The length of <span><span><span></span></span></span> must not shrink.</p>
          </li><li>
           <p>The length of <span><span><span></span></span></span> must not shrink.</p>
          </li><li>
           <p>The length of <span><span><span></span></span></span> must not shrink.</p>
          </li><li>
           <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcinst"><span>function instance</span></a> <span><span><span></span></span></span> in the original <span><span><span></span></span></span>, the new function instance must be an <a href="#extend-funcinst"><span>extension</span></a> of the old.</p>
          </li><li>
           <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableinst"><span>table instance</span></a> <span><span><span></span></span></span> in the original <span><span><span></span></span></span>, the new table instance must be an <a href="#extend-tableinst"><span>extension</span></a> of the old.</p>
          </li><li>
           <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>memory instance</span></a> <span><span><span></span></span></span> in the original <span><span><span></span></span></span>, the new memory instance must be an <a href="#extend-meminst"><span>extension</span></a> of the old.</p>
          </li><li>
           <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globalinst"><span>global instance</span></a> <span><span><span></span></span></span> in the original <span><span><span></span></span></span>, the new global instance must be an <a href="#extend-globalinst"><span>extension</span></a> of the old.</p>
          </li><li>
           <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-eleminst"><span>element instance</span></a> <span><span><span></span></span></span> in the original <span><span><span></span></span></span>, the new element instance must be an <a href="#extend-eleminst"><span>extension</span></a> of the old.</p>
          </li><li>
           <p>For each <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-datainst"><span>data instance</span></a> <span><span><span></span></span></span> in the original <span><span><span></span></span></span>, the new data instance must be an <a href="#extend-datainst"><span>extension</span></a> of the old.</p>
         </li></ul>
         
        </section>
        <section id="function-instance-xref-exec-runtime-syntax-funcinst-mathit-funcinst">
          <span id="extend-funcinst"></span><span id="index-25"></span>
         <h5 id="function-instance--hrefsyntax-funcinstmathitfuncinst"><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-funcinst"><span>Function Instance</span></a> <span><span><span></span></span></span></span><a href="#function-instance--hrefsyntax-funcinstmathitfuncinst"></a></h5>
         <ul>
          <li>
           <p>A function instance must remain unchanged.</p>
         </li></ul>
         
        </section>
        <section id="table-instance-xref-exec-runtime-syntax-tableinst-mathit-tableinst">
          <span id="extend-tableinst"></span><span id="index-26"></span>
         <h5 id="table-instance--hrefsyntax-tableinstmathittableinst"><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableinst"><span>Table Instance</span></a> <span><span><span></span></span></span></span><a href="#table-instance--hrefsyntax-tableinstmathittableinst"></a></h5>
         <ul>
          <li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>table type</span></a> <span><span><span></span></span></span> must remain unchanged.</p>
          </li><li>
           <p>The length of <span><span><span></span></span></span> must not shrink.</p>
         </li></ul>
         
        </section>
        <section id="memory-instance-xref-exec-runtime-syntax-meminst-mathit-meminst">
          <span id="extend-meminst"></span><span id="index-27"></span>
         <h5 id="memory-instance--hrefsyntax-meminstmathitmeminst"><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-meminst"><span>Memory Instance</span></a> <span><span><span></span></span></span></span><a href="#memory-instance--hrefsyntax-meminstmathitmeminst"></a></h5>
         <ul>
          <li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-memtype"><span>memory type</span></a> <span><span><span></span></span></span> must remain unchanged.</p>
          </li><li>
           <p>The length of <span><span><span></span></span></span> must not shrink.</p>
         </li></ul>
         
        </section>
        <section id="global-instance-xref-exec-runtime-syntax-globalinst-mathit-globalinst">
          <span id="extend-globalinst"></span><span id="index-28"></span>
         <h5 id="global-instance--hrefsyntax-globalinstmathitglobalinst"><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globalinst"><span>Global Instance</span></a> <span><span><span></span></span></span></span><a href="#global-instance--hrefsyntax-globalinstmathitglobalinst"></a></h5>
         <ul>
          <li>
           <p>The <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-globaltype"><span>global type</span></a> <span><span><span></span></span></span> must remain unchanged.</p>
          </li><li>
           <p>Let <span><span><span></span></span></span> be the structure of <span><span><span></span></span></span>.</p>
          </li><li>
           <p>If <span><span><span></span></span></span> is <span><span><span></span></span></span>, then the <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-val"><span>value</span></a> <span><span><span></span></span></span> must remain unchanged.</p>
         </li></ul>
         
        </section>
        <section id="element-instance-xref-exec-runtime-syntax-eleminst-mathit-eleminst">
          <span id="extend-eleminst"></span><span id="index-29"></span>
         <h5 id="element-instance--hrefsyntax-eleminstmathiteleminst"><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-eleminst"><span>Element Instance</span></a> <span><span><span></span></span></span></span><a href="#element-instance--hrefsyntax-eleminstmathiteleminst"></a></h5>
         <ul>
          <li>
           <p>The vector <span><span><span></span></span></span> must either remain unchanged or shrink to length <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
        <section id="data-instance-xref-exec-runtime-syntax-datainst-mathit-datainst">
          <span id="extend-datainst"></span><span id="index-30"></span>
         <h5 id="data-instance--hrefsyntax-datainstmathitdatainst"><span><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-datainst"><span>Data Instance</span></a> <span><span><span></span></span></span></span><a href="#data-instance--hrefsyntax-datainstmathitdatainst"></a></h5>
         <ul>
          <li>
           <p>The vector <span><span><span></span></span></span> must either remain unchanged or shrink to length <span><span><span></span></span></span>.</p>
         </li></ul>
         
        </section>
       </section>
       <section id="theorems">
         <span id="soundness-statement"></span><span id="index-31"></span>
        <h4 id="theorems①"><span>Theorems</span><a href="#theorems①"></a></h4>
        <p>Given the definition of <a href="#valid-config"><span>valid configurations</span></a>,
the standard soundness theorems hold. <a href="#cite-cpp2018" id="id4③" role="doc-noteref"><span>[</span>2<span>]</span></a> <a href="#cite-fm2021" id="id5②" role="doc-noteref"><span>[</span>3<span>]</span></a></p>
        <p><strong>Theorem (Preservation).</strong> If a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-config"><span>configuration</span></a> <span><span><span></span></span></span> is <a href="#valid-config"><span>valid</span></a> with <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result type</span></a> <span><span><span></span></span></span> (i.e., <span><span><span></span></span></span>),
and steps to <span><span><span></span></span></span> (i.e., <span><span><span></span></span></span>),
then <span><span><span></span></span></span> is a valid configuration with the same result type (i.e., <span><span><span></span></span></span>).
Furthermore, <span><span><span></span></span></span> is an <a href="#extend-store"><span>extension</span></a> of <span><span><span></span></span></span> (i.e., <span><span><span></span></span></span>).</p>
        <p>A <em>terminal</em> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-thread"><span>thread</span></a> is one whose sequence of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr"><span>instructions</span></a> is a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-result"><span>result</span></a>.
A terminal configuration is a configuration whose thread is terminal.</p>
        <p><strong>Theorem (Progress).</strong> If a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-config"><span>configuration</span></a> <span><span><span></span></span></span> is <a href="#valid-config"><span>valid</span></a> (i.e., <span><span><span></span></span></span> for some <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result type</span></a> <span><span><span></span></span></span>),
then either it is terminal,
or it can step to some configuration <span><span><span></span></span></span> (i.e., <span><span><span></span></span></span>).</p>
        <p>From Preservation and Progress the soundness of the WebAssembly type system follows directly.</p>
        <p><strong>Corollary (Soundness).</strong> If a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-config"><span>configuration</span></a> <span><span><span></span></span></span> is <a href="#valid-config"><span>valid</span></a> (i.e., <span><span><span></span></span></span> for some <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-resulttype"><span>result type</span></a> <span><span><span></span></span></span>),
then it either diverges or takes a finite number of steps to reach a terminal configuration <span><span><span></span></span></span> (i.e., <span><span><span></span></span></span>) that is valid with the same result type (i.e., <span><span><span></span></span></span>)
and where <span><span><span></span></span></span> is an <a href="#extend-store"><span>extension</span></a> of <span><span><span></span></span></span> (i.e., <span><span><span></span></span></span>).</p>
        <p>In other words, every thread in a valid configuration either runs forever, traps, or terminates with a result that has the expected type.
Consequently, given a <a href="#valid-store"><span>valid store</span></a>, no computation defined by <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-instantiation"><span>instantiation</span></a> or <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec-invocation"><span>invocation</span></a> of a valid module can “crash” or otherwise (mis)behave in ways not covered by the <a href="https://www.w3.org/TR/wasm-core-2/index.html#exec"><span>execution</span></a> semantics given in this specification.</p>
        
       </section>
      </section>
       <section id="change-history">
        <span id="changes"></span><span id="index-0③②"></span>
       <h3 id="a6-change-history"><span>A.6 Change History</span><a href="#a6-change-history"></a></h3>
       <p>Since the original release 1.0 of the WebAssembly specification, a number of proposals for extensions have been integrated.
The following sections provide an overview of what has changed.</p>
       <section id="release-2-0">
        <h4 id="release-20"><span>Release 2.0</span><a href="#release-20"></a></h4>
        <section id="sign-extension-instructions">
          <span id="index-1③②"></span>
         <h5 id="sign-extension-instructions①"><span>Sign extension instructions</span><a href="#sign-extension-instructions①"></a></h5>
         <p>Added new numeric instructions for performing sign extension within integer representations <a href="#proposal-signext" id="id1①⑨" role="doc-noteref"><span>[</span>1<span>]</span></a>.</p>
         <ul>
          <li>
           <p>New <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-numeric"><span>numeric instructions</span></a>:</p>
           <ul>
            <li>
             
           </li></ul>
         </li></ul>
        </section>
        <section id="non-trapping-float-to-int-conversions">
          <span id="index-2③⓪"></span>
         <h5 id="non-trapping-float-to-int-conversions①"><span>Non-trapping float-to-int conversions</span><a href="#non-trapping-float-to-int-conversions①"></a></h5>
         <p>Added new conversion instructions that avoid trapping when converting a floating-point number to an integer <a href="#proposal-cvtsat" id="id2⑨" role="doc-noteref"><span>[</span>2<span>]</span></a>.</p>
         <ul>
          <li>
           <p>New <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-numeric"><span>numeric instructions</span></a>:</p>
           <ul>
            <li>
             
           </li></ul>
         </li></ul>
        </section>
        <section id="multiple-values">
          <span id="index-3②⑤"></span>
         <h5 id="multiple-values①"><span>Multiple values</span><a href="#multiple-values①"></a></h5>
         <p>Generalized the result type of blocks and functions to allow for multiple values; in addition, introduced the ability to have block parameters <a href="#proposal-multivalue" id="id3⑤" role="doc-noteref"><span>[</span>3<span>]</span></a>.</p>
         <ul>
          <li>
           <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-functype"><span>Function types</span></a> allow more than one result</p>
          </li><li>
           <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-blocktype"><span>Block types</span></a> can be arbitrary function types</p>
         </li></ul>
        </section>
        <section id="reference-types⑥">
          <span id="index-4②⑤"></span>
         <h5 id="reference-types⑦"><span>Reference types</span><a href="#reference-types⑦"></a></h5>
         <p>Added <span><span><span></span></span></span> and <span><span><span></span></span></span> as new value types and respective instructions <a href="#proposal-reftype" id="id4④" role="doc-noteref"><span>[</span>4<span>]</span></a>.</p>
         <ul>
          <li>
           <p>New <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference</span></a> <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value types</span></a>:</p>
           <ul>
            <li>
             
            </li><li>
             
           </li></ul>
          </li><li>
           <p>New <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-ref"><span>reference instructions</span></a>:</p>
           <ul>
            <li>
             
            </li><li>
             
            </li><li>
             
           </li></ul>
          </li><li>
           <p>Enrich <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-parametric"><span>parametric instruction</span></a>:</p>
           <ul>
            <li>
             <p><span><span><span></span></span></span> with optional type immediate</p>
           </li></ul>
          </li><li>
           <p>New <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elemmode"><span>declarative</span></a> form of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elem"><span>element segment</span></a></p>
         </li></ul>
        </section>
        <section id="table-instructions①⓪">
          <span id="index-5②②"></span>
         <h5 id="table-instructions①①"><span>Table instructions</span><a href="#table-instructions①①"></a></h5>
         <p>Added instructions to directly access and modify tables <a href="#proposal-reftype" id="id5③" role="doc-noteref"><span>[</span>4<span>]</span></a>.</p>
         <ul>
          <li>
           <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tabletype"><span>Table types</span></a> allow any <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-reftype"><span>reference type</span></a> as element type</p>
          </li><li>
           <p>New <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-table"><span>table instructions</span></a>:</p>
           <ul>
            <li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
           </li></ul>
         </li></ul>
        </section>
        <section id="multiple-tables">
          <span id="index-6①⑧"></span>
         <h5 id="multiple-tables①"><span>Multiple tables</span><a href="#multiple-tables①"></a></h5>
         <p>Added the ability to use multiple tables per module <a href="#proposal-reftype" id="id6②" role="doc-noteref"><span>[</span>4<span>]</span></a>.</p>
         <ul>
          <li>
           <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-module"><span>Modules</span></a> may</p>
           <ul>
            <li>
             <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-table"><span>define</span></a> multiple tables</p>
            </li><li>
             <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-import"><span>import</span></a> multiple tables</p>
            </li><li>
             <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-export"><span>export</span></a> multiple tables</p>
           </li></ul>
          </li><li>
           <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-table"><span>Table instructions</span></a> take a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableidx"><span>table index</span></a> immediate:</p>
           <ul>
            <li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
           </li></ul>
          </li><li>
           <p><a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elem"><span>Element segments</span></a> take a <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-tableidx"><span>table index</span></a></p>
         </li></ul>
        </section>
        <section id="bulk-memory-and-table-instructions">
          <span id="index-7①⑧"></span>
         <h5 id="bulk-memory-and-table-instructions①"><span>Bulk memory and table instructions</span><a href="#bulk-memory-and-table-instructions①"></a></h5>
         <p>Added instructions that modify ranges of memory or table entries <a href="#proposal-reftype" id="id7①" role="doc-noteref"><span>[</span>4<span>]</span></a> <a href="#proposal-bulk" id="id8①" role="doc-noteref"><span>[</span>5<span>]</span></a></p>
         <ul>
          <li>
           <p>New <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-memory"><span>memory instructions</span></a>:</p>
           <ul>
            <li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
           </li></ul>
          </li><li>
           <p>New <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-table"><span>table instructions</span></a>:</p>
           <ul>
            <li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
           </li></ul>
          </li><li>
           <p>New <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-datamode"><span>passive</span></a> form of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-data"><span>data segment</span></a></p>
          </li><li>
           <p>New <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elemmode"><span>passive</span></a> form of <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-elem"><span>element segment</span></a></p>
          </li><li>
           <p>New <a href="https://www.w3.org/TR/wasm-core-2/index.html#binary-datacountsec"><span>data count section</span></a> in binary format</p>
          </li><li>
           <p>Active data and element segments boundaries are no longer checked at compile time but may trap instead</p>
         </li></ul>
        </section>
        <section id="vector-instructions①⓪">
          <span id="index-8①⑧"></span>
         <h5 id="vector-instructions①①"><span>Vector instructions</span><a href="#vector-instructions①①"></a></h5>
         <p>Added vector type and instructions that manipulate multiple numeric values in parallel
(also known as <em>SIMD</em>, single instruction multiple data) <a href="#proposal-vectype" id="id9①" role="doc-noteref"><span>[</span>6<span>]</span></a></p>
         <ul>
          <li>
           <p>New <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-valtype"><span>value type</span></a>:</p>
           <ul>
            <li>
             
           </li></ul>
          </li><li>
           <p>New <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-memory"><span>memory instructions</span></a>:</p>
           <ul>
            <li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
           </li></ul>
          </li><li>
           <p>New constant <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-vec"><span>vector instruction</span></a>:</p>
           <ul>
            <li>
             
           </li></ul>
          </li><li>
           <p>New unary <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-vec"><span>vector instructions</span></a>:</p>
           <ul>
            <li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
           </li></ul>
          </li><li>
           <p>New binary <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-vec"><span>vector instructions</span></a>:</p>
           <ul>
            <li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
           </li></ul>
          </li><li>
           <p>New ternary <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-vec"><span>vector instruction</span></a>:</p>
           <ul>
            <li>
             
           </li></ul>
          </li><li>
           <p>New test <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-vec"><span>vector instructions</span></a>:</p>
           <ul>
            <li>
             
            </li><li>
             
           </li></ul>
          </li><li>
           <p>New relational <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-vec"><span>vector instructions</span></a>:</p>
           <ul>
            <li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
           </li></ul>
          </li><li>
           <p>New conversion <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-vec"><span>vector instructions</span></a>:</p>
           <ul>
            <li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
           </li></ul>
          </li><li>
           <p>New lane access <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-vec"><span>vector instructions</span></a>:</p>
           <ul>
            <li>
             
            </li><li>
             
            </li><li>
             
            </li><li>
             
           </li></ul>
          </li><li>
           <p>New lane splitting/combining <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-vec"><span>vector instructions</span></a>:</p>
           <ul>
            <li>
             
            </li><li>
             
            </li><li>
             
           </li></ul>
          </li><li>
           <p>New byte reordering <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-vec"><span>vector instructions</span></a>:</p>
           <ul>
            <li>
             
            </li><li>
             
           </li></ul>
          </li><li>
           <p>New injection/projection <a href="https://www.w3.org/TR/wasm-core-2/index.html#syntax-instr-vec"><span>vector instructions</span></a>:</p>
           <ul>
            <li>
             
            </li><li>
             
            </li><li>
             
           </li></ul>
         </li></ul>
         
        </section>
       </section>
      </section>
     </div>
     
    </section>
   </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Doge software engineer's computer infected by info-stealing malware (282 pts)]]></title>
            <link>https://arstechnica.com/security/2025/05/doge-software-engineers-computer-infected-by-info-stealing-malware/</link>
            <guid>43934540</guid>
            <pubDate>Fri, 09 May 2025 07:22:08 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arstechnica.com/security/2025/05/doge-software-engineers-computer-infected-by-info-stealing-malware/">https://arstechnica.com/security/2025/05/doge-software-engineers-computer-infected-by-info-stealing-malware/</a>, See on <a href="https://news.ycombinator.com/item?id=43934540">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
                      
                      
          <p>Login credentials belonging to an employee at both the Cybersecurity and Infrastructure Security Agency and the Department of Government Efficiency have appeared in multiple public leaks from info-stealer malware, a strong indication that devices belonging to him have been hacked in recent years.</p>
<p>Kyle Schutt is a 30-something-year-old software engineer who, according to <a href="https://www.dropsitenews.com/p/doge-fema-funding-access-social-security-numbers">Dropsite News</a>, gained access in February to a “core financial management system” belonging to the Federal Emergency Management Agency. As an employee of DOGE, Schutt accessed FEMA’s proprietary software for managing both disaster and non-disaster funding grants. Under his role at CISA, he likely is privy to sensitive information regarding the security of civilian federal government networks and critical infrastructure throughout the US.</p>
<h2>A steady stream of published credentials</h2>
<p>According to journalist <a href="https://micahflee.com/doge-bro-kyle-schutts-computer-infected-by-malware-credentials-found-in-stealer-logs/">Micah Lee</a>, user names and passwords for logging in to various accounts belonging to Schutt have been published at least four times since 2023 in logs from stealer malware. Stealer malware typically infects devices through trojanized apps, phishing, or software exploits. Besides pilfering login credentials, stealers can also log all keystrokes and capture or record screen output. The data is then sent to the attacker and, occasionally after that, can make its way into public credential dumps.</p>
<p>“I have no way of knowing exactly when Schutt's computer was hacked, or how many times,” Lee wrote. “I don't know nearly enough about the origins of these stealer log datasets. He might have gotten hacked years ago and the stealer log datasets were just published recently. But he also might have gotten hacked within the last few months.”</p>
<p>Lee went on to say that credentials belonging to a Gmail account known to belong to Schutt have appeared in 51 data breaches and five pastes tracked by breach notification service <a href="https://haveibeenpwned.com/">Have I Been Pwned</a>. Among the breaches that supplied the credentials is one from 2013 that pilfered password data for <a href="https://arstechnica.com/information-technology/2013/10/adobe-source-code-and-customer-data-stolen-in-sustained-network-hack/">3 million</a> Adobe account holders, one in a 2016 breach that stole credentials for <a href="https://arstechnica.com/information-technology/2016/05/then-there-were-117-million-linkedin-password-breach-much-bigger-than-thought/">164 million LinkedIn users</a>, a 2020 breach affecting 167 million users of Gravatar, and a breach last year of the conservative news site The Post Millennial.</p>

          
                      
                  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The dark side of account bans (121 pts)]]></title>
            <link>https://madelinemiller.dev/blog/dark-side-account-bans/</link>
            <guid>43934313</guid>
            <pubDate>Fri, 09 May 2025 06:29:38 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://madelinemiller.dev/blog/dark-side-account-bans/">https://madelinemiller.dev/blog/dark-side-account-bans/</a>, See on <a href="https://news.ycombinator.com/item?id=43934313">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>In the modern world, online accounts are ubiquitous. You’ve likely got so many that you’d have trouble actually counting them. Almost everything you do requires an account at this point. This wasn’t something I put too much thought into, beyond the mild annoyance of having to sign up to yet another website, until I was recently locked out of all Meta services for nearly two months. This experience was eye opening; it shocked me at how fundamental online platforms owned by companies have actually become to modern life.</p>
<section><h2 id="what-happened"><a aria-hidden="" tabindex="-1" href="#what-happened"></a>What happened</h2><p>For some background context, I develop a few Minecraft mods that are reasonably popular. If you’re not familiar with game modding communities, <a href="https://www.thegamer.com/baldurs-gate-3-modder-says-console-players-making-threats-patch-8/">they can be quite toxic sometimes</a>, with mod developers facing <a href="https://www.gamesradar.com/games/the-elder-scrolls/it-makes-me-sick-popular-skyrim-modder-with-500-000-downloads-abandons-modding-after-thousands-of-hours-of-work-on-what-they-call-the-most-advanced-follower-to-ever-exist/">significant harassment from certain users</a>. Because we were waiting for mod platforms to stabilise before publishing a final release of <a href="https://enginehub.org/worldedit/">WorldEdit</a> for a recently released Minecraft update, opting to only publish development builds until we were confident that it wouldn’t suddenly break, I received an anonymous threat.</p><figure><picture><source type="image/avif" srcset="https://madelinemiller.dev/assets/static/threat.DIg0lRg2.avif 650w, https://madelinemiller.dev/assets/static/threat.eccSIM64.avif 1144w"><source type="image/webp" srcset="https://madelinemiller.dev/assets/static/threat.DwWCDdtS.webp 650w, https://madelinemiller.dev/assets/static/threat.Bz4e0lXm.webp 1144w"><img src="https://madelinemiller.dev/assets/static/threat.4kQRGsXO.png" alt="Threat from an angry user" title="Threat from an angry user" loading="lazy" decoding="async" srcset="https://madelinemiller.dev/assets/static/threat.BZzzpfQ5.png 650w, https://madelinemiller.dev/assets/static/threat.4kQRGsXO.png 1144w"></picture><figcaption>Threat from an angry user</figcaption></figure><p>As threatened, this person attempted to get my online accounts banned. I’m not sure how many they reported, but a few hours later I was notified that my Facebook, Instagram, and WhatsApp accounts were all permanently banned. I was informed that I would not be able to create a new account, and to never attempt to gain access to a Meta-related system again. These kinds of threats were not new to me; I get hundreds a month. This was also not the first time I lost an account due to an angry user; I lost my PayPal account a few years ago and had to make a new one, due to a similar incident.</p><p>I got absolutely nowhere with support. I even paid for my partner’s account to access paid support, in an attempt to get in contact with a real person. I did end up speaking to a few engineers at Meta through connections, either directly or through others, many of which recommended suing Meta to unlock my accounts. This was extra complicated due to me living in Australia, so it’s not something I tried. Eventually, I decided to <a href="https://x.com/the_me4502/status/1914130751353995626">make a tweet about it</a>. Despite the armies of spam bots that immediately inundated my notifications, eventually someone with the ability to unban accounts saw the tweet and unbanned me. The only way I managed to get my account back was sheer luck, likely heavily assisted by the number of people with large follower counts who retweeted my post. If I was not as connected as I am online, I likely would’ve been entirely out of luck.</p></section>
<section><p>Now you might be thinking, “Maddy, losing a Facebook account isn’t the end of the world, right?” And yes, that’s what I thought too. I’d always wanted to reduce my reliance on Facebook, and I initially took this as a good excuse to. I was not at all anticipating how hard it would be.</p><section><h3 id="communication"><a aria-hidden="" tabindex="-1" href="#communication"></a>Communication</h3><p>Facebook is a social network, so the most obvious issue you’d face is losing contact with people on the platform. In Australia, a vast majority of people purely use Facebook Messenger as the way to keep in touch with people. While I’m not happy about it, that’s the current reality of Australian culture. My understanding is that it’s a similar situation with WhatsApp and most of Europe. This meant that not only did I immediately lose access to all of the group chats I was in, I lost my ability to actually contact many people. I don’t save people’s numbers in my contacts because I have everyone on Facebook Messenger, and I never call my friends on the phone.</p><p>When I did find alternative ways to contact people, or had other people do it for me, I was met with “Oh I don’t text, do you have Insta or WhatsApp?” If you haven’t noticed the pattern there, both of those platforms are owned by Meta. In Australia, Meta have a near monopoly on the concept of online communication.</p></section><section><h3 id="aspects-of-daily-life"><a aria-hidden="" tabindex="-1" href="#aspects-of-daily-life"></a>Aspects of daily life</h3><p>A few weeks into my “WorldEdit user”-ordered Meta detox, I tried to organise brunch with a friend. She recommended a few cafes, and I went to look at their menus. To my surprise, I couldn’t access their menus. They were only on Instagram, and it’d force a sign in before showing me the content. This was, of course, concerning. I hadn’t thought much about it beforehand, but so many restaurants and cafes here purely use Instagram (or sometimes Facebook) to host their menus, public holiday trading hours, or other important announcements.</p><p>I then went to sell some old PC hardware and asked around for a good marketplace to use. eBay had completely unreasonable fees, and the other ones used in Australia just didn’t have the right demographic to make that sort of sale. If I wanted to successfully sell something like that second hand, I needed to use Facebook Marketplace.</p><p>I was looking up the event times for something I was interested in going to, but I found that they only published their events on Facebook. Not only that, but they also wanted RSVPs, which of course yet again required access to Facebook.</p><p>By not having access to Facebook, I lost the ability to look at menus and check open hours, the ability to buy and sell second hand items, and the ability to attend public events. These platforms have managed to cement themselves so deeply, that by not using them you’re cut out of certain aspects of society.</p></section><section><h3 id="not-just-meta"><a aria-hidden="" tabindex="-1" href="#not-just-meta"></a>Not just Meta</h3><p>While my experiences here were all related to Meta products, this is of course not just an issue with Meta. Different people will be affected by different account losses to different degrees, but most people will have at least one account that’ll severely impact their life to lose. With the growing popularity of single-sign-on providers such as Google, this could even affect access to entirely unrelated services. This article is not a complaint about Meta; it’s a wider discussion on how we as a society have allowed platforms like Facebook to become borderline necessary to participate in society. It’s about how a company is allowed to be the sole decision maker in whether you can participate in those areas of society. My experiences are a case study, sadly of an experience that is growing more and more common.</p></section></section>
<section><h2 id="what-needs-to-change"><a aria-hidden="" tabindex="-1" href="#what-needs-to-change"></a>What needs to change</h2><p>When you think of account bans, you probably think of all of those spam accounts DMing you scam links. Or hate groups having their content taken down. What you probably don’t think about though, are all the people who are maliciously reported, the people who are just incorrectly flagged by AI moderation tools, or those who’s accounts might’ve been hijacked by malicious users. Many of the people affected by this might be less tech savvy. Not able to work out why this happened, or how they can fix it. All they know is that one day, they were cut off from a large portion of their social lives. They might’ve lost precious memories, contact with people they went to school with, or the ability to participate in certain areas of society.</p><p>Most large companies have fairly poor customer support, especially when it comes to appealing banned accounts. For every real person who’s just had their life upended by an undeserved account ban, there are also malicious actors abusing the support systems for their own gain. This creates a situation where companies cannot dedicate enough resources to customer support. In my research attempting to regain access to my Facebook account, I found that small claims court has actually become <a href="https://www.engadget.com/how-small-claims-court-became-metas-customer-service-hotline-160224479.html">a common tactic</a> to get accounts unbanned.</p><p>We’re in a situation where companies have managed to embed themselves so far into society, that they’re acting like providers of social services. The issue is they’re not held accountable to the same degree. I’ve written before about a <a href="https://madelinemiller.dev/blog/social-implications-vac-ban/">false positive VAC ban I’ve received on the Steam platform, in the game Rust</a>, and how those bans are intentionally used to socially ostracise people who cheat in video games. While that incident did affect my income at the time due to working on game anticheat software, and VAC bans have affected professional gamers in a similar way, that is far less of an issue than something like this.</p><p>If you Google, or search any social media site, a phrase such as “[Company] banned my account,” you’ll find hundreds of posts like this. People are cut off from their social network and completely lost about what to do. Not having proper customer support is normalised. This needs to change.</p></section>
<section><h2 id="conclusion"><a aria-hidden="" tabindex="-1" href="#conclusion"></a>Conclusion</h2><p>Now that I actually have my account back, I’m more comfortable making this post. I don’t want this to come across as someone complaining because she’s lost her account. It’s scary just how easy it is to lose an account. I did nothing wrong beyond being a woman who’s visible on the internet. If you do lose an account, getting it back is extremely difficult unless you have connections. I got my account back purely by luck. I cannot even imagine what this feels like for someone who’s less tech savvy than I am.</p></section></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[LegoGPT: Generating Physically Stable and Buildable Lego (536 pts)]]></title>
            <link>https://avalovelace1.github.io/LegoGPT/</link>
            <guid>43933891</guid>
            <pubDate>Fri, 09 May 2025 04:55:20 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://avalovelace1.github.io/LegoGPT/">https://avalovelace1.github.io/LegoGPT/</a>, See on <a href="https://news.ycombinator.com/item?id=43933891">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        <p ;=""> <span>LegoGPT</span> generates a LEGO structure from a user-provided text prompt in an end-to-end manner. Notably, our generated LEGO structure is physically stable and buildable. </p>


        <p><img src="https://avalovelace1.github.io/LegoGPT/assets/teaser.jpg"></p><!-- <video autoplay="autoplay" controls="controls" loop="loop" muted="muted"
                                    src="rsc/figures/teaser.mp4"
                                    style="width: 100%" type="video/mp4"></video> -->
        
            <!--  -->
    </div><div>
                <h2>Abstract</h2>
                <p>
                    We introduce <span>LegoGPT</span>, the first approach for generating physically stable LEGO brick models from text prompts. To achieve this, we construct a large-scale, physically stable dataset of LEGO designs, along with their associated captions, and train an autoregressive large language model to predict the next brick to add via next-token prediction. To improve the stability of the resulting designs, we employ an efficient validity check and physics-aware rollback during autoregressive inference, which prunes infeasible token predictions using physics laws and assembly constraints. Our experiments show that <span>LegoGPT</span> produces stable, diverse, and aesthetically pleasing LEGO designs that align closely with the input text prompts. We also develop a text-based LEGO texturing method to generate colored and textured designs. We show that our designs can be assembled manually by humans and automatically by robotic arms. We also release our new dataset, <span>StableText2Lego</span>, containing over 47,000 LEGO structures of over 28,000 unique 3D objects accompanied by detailed captions, along with our code and models.
                </p>

            </div><div>
        <h2>Step by step generation of LEGO structures from text</h2>

    
        

        <div>

            

            <p>
                    "A streamlined vessel with a long, narrow hull"
                </p>
            <p>
                    "A classical guitar"
                </p>
            <p>
                    "A basic sofa"
                </p>
            

        </div>

        

        <div>
            <p>
                    "A bookshelf with horizontal tiers"
                </p>
            <p>
                    "A high-backed chair"
                </p>
            <p>
                    "A backless bench with armrest"
                </p>
        </div>
    </div><div>
        <h2>Automated assembly of generated LEGO structures using robots (8x speed)</h2>

        

        <div>
            <p>
                    "A streamlined vessel with a long, narrow hull [...]"
                </p>
            <p>
                    "An asymmetrical six-string guitar [...]"
                </p>
        </div>
    </div><div>
        <h2>Generated Textured LEGO Models</h2>

        

        <div>
            <p>
                    "Rustic stone bench with moss growth [...]"
                </p>
            <p>
                    "Hot rod with flame paintwork [...]"
                </p>
            <p>
                    "Rustic farmhouse chair built from reclaimed wood [...]"
                </p>
            <p>
                    "Live edge walnut table [...]"
                </p>
        </div>
    
        

        <div>
            <p>
                    "Comfortable lounge chair wrapped in Japanese shibori fabric [...]"
                </p>
            <p>
                    "Cyberpunk holographic material with neon purple and blue gradients [...]"
                </p>
            <p>
                    "Rustic farmhouse armchair built from reclaimed wood [...]"
                </p>
            <p>
                    "Vintage floral tapestry with deep reds and golds [...]"
                </p>
        </div>

        

        <div>
            <p>
                    "Gothic cathedral bookshelf with arch details, medieval style [...]"
                </p>
            <p>
                    "Japanese sliding bookcase with shoji screens, traditional design [...]"
                </p>
            <p>
                    "Victorian library shelving with carved moldings [...]"
                </p>
        </div>
    </div><div>
        <h2>Generated Colored LEGO Models</h2>

    
        

        <div>
            <p>
                    "Parlor guitar with ladder bracing [...]"
                </p>
            <p>
                    "Electric guitar in metallic purple [...]"
                </p>
            <p>
                    "Steel resonator with engraved body[...]"
                </p>
            <p>
                    "Sunburst Les Paul with amber finish  [...]"
                </p>
        </div>
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Dead Reckoning (167 pts)]]></title>
            <link>https://www.damninteresting.com/dead-reckoning/</link>
            <guid>43933628</guid>
            <pubDate>Fri, 09 May 2025 03:46:53 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.damninteresting.com/dead-reckoning/">https://www.damninteresting.com/dead-reckoning/</a>, See on <a href="https://news.ycombinator.com/item?id=43933628">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>

                    

                    <p><span>

                                                	<span>Long-Form/Podcast:</span>
                            <span>The 18th century misadventures of HMS Wager and her reluctant crew<br></span>
                            <span>Written by <a href="https://www.damninteresting.com/contributors/alan-bellows/">Alan Bellows</a></span>
                        
                                                	•
                        	<span>Non-Fiction</span>
                        
		        					        		•
			        		<span>September 2019</span>
		        		                    </span>


                </p></div><div>

		            				<article>
											<p>
			© 2019 All Rights Reserved. Do not distribute or repurpose this work without written permission from the copyright holder(s).
	</p>
<p>
	Printed from https://www.damninteresting.com/dead-reckoning/<br>
</p>
										
				
									
		                
						
						
											
					<p><i>This story is assembled from contemporaneous first-person accounts. As such, quotations contain some antiquated spellings, grammar, and phrasing.</i></p>
<p>In the Earth’s extreme southern latitudes, where the Pacific and Atlantic oceans meet, there is a rocky gap of sea between Antarctica and South America known as the Drake Passage. Among 18th century seafarers, this corridor was also known by a more ghoulish nickname: The sailors’ graveyard. In the so-called Age of Exploration, the Drake Passage was the least impractical route for large European ships to travel around South America to access its west coast. The passage hooks far south⁠—almost to the Antarctic Circle⁠—to navigate around Cape Horn on the extreme southern tip of the continent. Sensible sailors avoided the corridor except in the relatively calm summer, yet on 12 April 1741⁠—deep into blustery autumn⁠—the British Royal Navy ship HMS <i>Wager</i> was at full sail in the dead center of the Drake Passage.</p>
<p>Aboard <i>Wager</i>, veteran ship’s gunner John Bulkeley was the officer of the watch, overseeing the ship’s navigation in the midst of a violent storm. The sky was a wet, howling tempest, the sea undulated with mountainous swells. <i>Wager’s</i> timbers creaked and her sails thrashed as the air and ocean conspired to smash the ship to pieces. Bulkeley had seen a lot of storms in his day, but nothing like this. One ocean swell⁠—the largest he had ever witnessed⁠—swept over the ship and briefly submerged <i>Wager</i> and her 160 crew in frigid water, washing Bulkeley across the quarter-deck.</p>
<p><i>Wager</i> had entered the Drake Passage about a month earlier. She had been accompanied by seven other Royal Navy ships, all part of a secret squadron on a wartime mission heading for Patagonia on the west coast of South America. A principal hazard in sailing westward in the Drake Passage is that the winds and currents are powerful, relentless, and moving in exactly the wrong direction. Temperatures are frosty in autumn at such a southern latitude, and precipitation is nearly constant. In the era of sailing ships, the Drake Passage was a perilous venture even for a robust vessel manned by an intrepid crew in the calm season⁠—a collection of characteristics that utterly failed to describe HMS <i>Wager</i>.</p>
<p><i>Wager’s</i> speed and maneuverability were compromised due to the loss of a mast in the storm. Her captain was dead, her acting captain was bedridden, and many of the men were deathly ill. <i>Wager</i> had lost contact with the other ships of the squadron, having fallen hopelessly far behind. And her crew’s troubles had only just begun.
</p>
<figure data-embiggen="true"><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFgYGBAAAAqeg2zgAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-height-ratio="1.5062761506276" data-lazy-load-src="https://damn-8791.kxcdn.com/wp-content/uploads/2019/08/cape-horn.jpg" alt="Cape Horn from space" title="Cape Horn from space"></p><figcaption>Cape Horn from space</figcaption></figure>
<p><i>Wager</i> was a long way from where she had started life. She was originally built in 1734 for the East India Company to shuttle spices, fabrics, and other exotic goods from the Far East to England, defended by 28 cannons. Although the name “Wager” evokes images of risk-taking and swashbuckling, her namesake was mundane⁠—she was named after Admiral Sir Charles Wager, First Lord of the Admiralty of the British Royal Navy. In 1739, the same navy purchased the lightly-used cargo ship, and refitted <i>Wager</i> into His Majesty’s Ship <i>Wager</i>, a supply and support vessel. She was placed under the command of Captain Dandy Kidd, and this delightfully monikered officer’s first mission as <i>Wager’s</i> captain would be to support Commodore George Anson on a clandestine mission to surprise, harass, and plunder the enemy in the name of King George II.</p>
<p>The enemy in question was the Spanish Empire. Two and a half centuries earlier, Christopher Columbus had stumbled upon the Americas on behalf of Spain, and subsequently Spain established a firm foothold in the so-called “New World.” The Spanish Empire looted vast quantities of silver, spices, sugar, and tobacco, and this flow of wealth attracted the jealous attention of the British monarchy. Spain strictly limited other nations’ business in the New World, nevertheless English privateers often smuggled goods and slaves in the region. In response, the Spanish navy began patrolling these waters, asserting the right to inspect any vessels.</p>
<p>During one such inspection in 1731, a British merchant captain named Robert Jenkins protested the intrusion, and in the ensuing scuffle the Spanish captain’s blade somehow separated Captain Jenkins from his left ear. This civilian injury was far from newsworthy back in Britain⁠—after all, smuggling was a rough business. Eight years later, however, when Great Britain sought a pretext for war, it became politically expedient for British politicians to suffer outrage over this unauthorized amputation. Legend has it that Captain Robert Jenkins himself held aloft the very ear in question at a Parliamentary hearing, as evidence for the grave insult to the crown⁠—though there is no historical proof that this exhibition actually occurred. Ear regardless, the outrage was successfully fabricated, and the resulting years of hostilities would come to be known as “The War of Jenkins’ Ear.”</p>
<p>Commodore Anson’s orders were to capture profitable Spanish possessions on the west coast of South America. The mission was delayed, however, due to a severe shortage of men. The Admiralty acquired some sailors through the controversial institution of the press-gang, where civilians were forced into military service on pain of death. To fill the remaining vacancies, the Admiralty waived their “able-bodied” requirement and drafted 500 men from the “Corps of Invalids,” a stockpile of army veterans who were too old, injured, or otherwise infirm for further army service. Some of these men were barely able to stand unassisted, let alone walk, or handle rigging on a lurching deck. Among those who <i>could</i> walk, many of them did, directly away from the navy ships, before the squadron was even underway.</p>
<p>Of the men that remained, Commodore Anson later wrote:</p>
<figure data-embiggen="true"><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFgYGBAAAAqeg2zgAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-height-ratio="1.2720848056537" data-lazy-load-src="https://damn-8791.kxcdn.com/wp-content/uploads/2019/08/george-anson.jpg" alt="George Anson, painted by Sir Joshua Reynolds" title="George Anson, painted by Sir Joshua Reynolds"></p><figcaption>George Anson, painted by Sir Joshua Reynolds</figcaption></figure>
			<blockquote>
				<p>It is difficult to conceive a more moving scene than the embarkation of these unhappy veterans. They were themselves extremely averse to the service they were engaged in […] to be thus hurried from their repose into a fatiguing employ to which neither the strength of their bodies nor the vigour of their minds were in any way proportioned, and where, without seeing the face of an enemy…they would in all probability uselessly perish.</p>
			</blockquote>
					
<p>An additional concern was the general condition of His Majesty’s ships. Years of neglect and corruption had left the king’s navy in poor repair, with rot in ships’ masts and decay in their carpentry. Furthermore, many vessels were haphazard conversions from civilian sources, such as <i>Wager</i> herself. This mix-and-match fleet meant that ships did not have interchangeable parts, making it impossible to carry an adequate supply of spare parts for repairs at sea.</p>
<p>Be that as it may, Commodore Anson was eager to get underway. He was aware that the journey from England to the Drake Passage would require about five months, and he was aware that Cape Horn’s climate offered a short summer window⁠—November through January⁠—where the passage was merely very dangerous rather than suicidal. But he was waylaid by bureaucracy as the Admiralty struggled to acquire sailors, marines, and supplies. To have any hope of reaching the South Sea unscathed, Anson knew that his squadron <i>must</i> depart from England by June’s end⁠—early July at the absolute latest.</p>
<p>The squadron sailed in late September.</p>
<center>•&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;•&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;•</center>
<p>By February, as autumn began to settle on the southern hemisphere, Commodore Anson’s secret squadron was bobbing at anchor in St. Julian’s Bay, a natural harbor in modern-day Argentina. This was the last stop for seagoing vessels to repair and resupply before entering the Straits le Maire⁠—the gateway to the dreaded Drake Passage.</p>
<p>The stormy Atlantic crossing had battered the squadron’s vessels, and ships’ carpenters spent the dwindling daylight hours mending masts and repairing riggings. Many of the squadron’s 1,800 or so humans were in similar disrepair⁠—complaining of weakness, exhaustion, sore limbs, loss of teeth, spontaneous bleeding from the skin, and, occasionally, death. These were the unmistakable symptoms of vitamin C deficiency, more commonly known as scurvy. Humans, it turns out, are among the few species on Earth that cannot synthesize vitamin C; but at that time the Royal Navy was unaware of this biological shortcoming, and they had not yet discovered the scurvy-thwarting power of citrus that would eventually earn British sailors the nickname ‘limeys.’ Among the deceased was Captain Dandy Kidd of <i>Wager</i>. According to some depictions of his death, in his final days Captain Kidd uttered an ominous prophesy that the squadron was doomed to “poverty, vermin, famine, death, and destruction”; but this was likely a later embellishment for dramatic effect⁠—retroactive foreshadowing. After some shuffling of officers, Lieutenant David Cheap of the sloop <i>Tryal</i> was promoted to acting captain of <i>Wager</i>.</p>
<p>According to reports from authorities ashore at St. Julian’s Bay, five well-armed Spanish men-of-war had sailed through just a few weeks prior to Anson’s arrival, headed for the Drake Passage. Commodore Anson was keen to overtake his enemy around Cape Horn, so he could gain the tactical initiative. To that end, on 27 February 1741, the squadron pulled anchor and sailed for the Straits le Maire. Anson ordered all ships to round Cape Horn⁠—storms and scurvy be damned⁠—and rendezvous off the island of Nuestra Señora de Socorro west of South America.</p>
<p>As the squadron departed St. Julian’s Bay, the sun was shining pleasantly, and the wind blew in a favorable direction. It appeared to be a beautiful day for sailing. Commodore Anson would later write:</p>
			<blockquote>
				<p>We passed those memorable Streights, ignorant of the dreadful calamities which were then impending, and just ready to break upon us; ignorant that the time drew near, when the squadron would be separated never to unite again, and that this day of our passage was the last chearful day that the greatest part of us would ever live to enjoy.</p>
			</blockquote>
					
<figure data-embiggen="true"><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFgYGBAAAAqeg2zgAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-height-ratio="0.92941176470588" data-lazy-load-src="https://damn-8791.kxcdn.com/wp-content/uploads/2019/08/acc.jpg" alt="The Antarctic Circumpolar Current" title="The Antarctic Circumpolar Current"></p><figcaption>The Antarctic Circumpolar Current</figcaption></figure>
<p>Commodore Anson’s squadron entered the Drake Passage on 07 March 1741, sailing westward. The latitude of the Drake Passage⁠—approximately 60º south⁠—does not contain any landmasses, leaving a belt of uninterrupted ocean and atmosphere all the way around the planet. The Earth’s rotation drags this band of air and water into a nonstop west-to-east loop, a phenomenon known as the Antarctic Circumpolar Current. The Drake Passage constricts the flow into a relatively narrow space, intensifying the waves like rapids on a river. Sailing westward there means sailing against the current and the wind, which necessitates <i>tacking</i>, a means of making slow headway by setting a course almost perpendicular to the headwind, but with a slight slant in the desired direction. With periodic turns a ship can gradually zig-zag into the wind, like using switchbacks to climb a steep mountainside.</p>
<p>The squadron set out on a southerly zig, but shallow rocks made it too dangerous to zag north. So the crews maintained their south-southwest course, inching westward while rushing southward, bearing into the increasingly frigid Antarctic waters. They would need to turn north eventually⁠—Europeans at that time had not yet discovered Antarctica, but they were aware that sailing too far south at this latitude meant encounters with rocky shoals, icebergs, and lethal cold. Due to the extreme tacking required, Anson expected his squadron to spend about seven weeks rounding Cape Horn.</p>
<p>In the heavy precipitation and turbulent seas, the ships of the squadron scattered, only intermittently visible to one another. Great cold waves inundated the ships’ decks. The hulls groaned and heaved as crewmen did the same. Sudden lurches sent sailors sliding and tumbling, a few of them overboard with no hope of rescue. As often as possible officers used an astronomical instrument called an octant⁠—a precursor to the sextant⁠—to estimate their position, but an accurate calculation at such extreme latitudes would require a clear view of heavenly bodies, a stable platform, and a chronometer more accurate than any that existed at the time. The men were therefore forced to rely mostly on <i>dead reckoning</i>, the process of estimating one’s position based on speed, elapsed time, and previously estimated position. This imprecise method led to compounding errors, and decreasingly reliable positional data.</p>
<p>Aboard <i>Wager</i>, after enduring the miserable weather for weeks, the officers decided it was time to make their turn. They changed course to a long zag north. After travelling north only a short time, they heard cannon fire in the distance⁠—a warning from another ship in the squadron that deadly rocks had been sighted to the north. Evidently the squadron was only about halfway past the cape. Dejected, <i>Wager’s</i> crew turned again, and resumed the journey south. As winter and the Antarctic Circle drew closer, the frost began to bite. The converted cargo ship lacked the proper rigging for sailing into contrary wind, a matter made worse when one of the ship’s secondary masts buckled. Only a fraction of the men were well enough to run the ice-encrusted rigging, the skeleton crew barely managing to maintain a south-southwest trajectory. Captain Cheap himself was bedridden by germ or scurvy. Unbeknownst to the rest of the squadron, their supply ship was falling dangerously far behind.</p>
<p>On 01 May 1741, a little over two months after leaving St. Julian’s Bay, <i>Wager’s</i> officers again estimated that they had made adequate westerly progress. Just a few degrees north of the Antarctic Circle, they changed course to north-northwest. Ship’s gunner John Bulkeley⁠—well-regarded among the crew as the ship’s most capable seaman⁠—assessed the condition of <i>Wager</i> as she staggered roughly northward. As damaged as <i>Wager</i> was, Bulkeley was uncertain whether they could make the prearranged rendezvous with Commodore Anson at Socorro island. Further, the ship’s stores of food and fresh water were running worryingly low. Bulkeley proposed an alternate plan to Captain Cheap: Juan Fernandez island. Juan Fernandez was safer and more accessible, and there the crew could repair and resupply before seeking out the squadron at Socorro. Cheap did not agree, and he ordered his bewildered crew to stay the course in the general direction of Socorro. To forestall the exhaustion of food supplies, the captain instituted rations. To forestall mutinous actions from a hungry, scurvy-ridden crew, the captain ordered his officers to carry pistols.</p>
<figure data-embiggen="true"><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFgYGBAAAAqeg2zgAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-height-ratio="0.70882352941176" data-lazy-load-src="https://damn-8791.kxcdn.com/wp-content/uploads/2019/08/HMS-Wager-Rounding-th-Horn-by-Geoff-Hunt.jpg" alt="HMS Wager Rounding the Horn by Geoff Hunt PPRSMA (limited edition prints on canvas and on paper)" title="HMS Wager Rounding the Horn by Geoff Hunt PPRSMA (limited edition prints on canvas and on paper)"></p><figcaption><i>HMS Wager Rounding the Horn</i> by Geoff Hunt PPRSMA (<a href="http://www.artmarine.co.uk/" rel="noopener noreferrer">limited edition prints on canvas and on paper</a>)</figcaption></figure>
<p>Thirteen days after <i>Wager’s</i> turn northwest, in the dawn hour, the ship was sailing along the west coast of South America when ship’s carpenter John Cummins thought he caught a glimpse of something unexpected off to the west: <i>Land</i>. But visibility was dreadful, the light was still dim, and his fellow officer Lieutenant Baynes assured him that their first sighting of land on this side of Cape Horn would be to the east⁠—to the west there was nothing but empty ocean for thousands of miles. Later that day, however, ship’s gunner Bulkeley also spotted a rocky shoreline, and it was to the west just as Carpenter Cummins had claimed. <i>Wager</i> was headed straight for it. Evidently during the night the ship had drifted into a large, uncharted bay on South America’s west coast. One of the few able-bodied men turned the wheel hard to starboard, and the others struggled with the crippled rigging throughout the afternoon and evening, working in gale force winds to reorient the sails. <i>Wager</i> began to haltingly twist away from the rocks. Captain Cheap had recovered from his earlier ailment, but in the rush and bluster, the deck pitched and the captain lost his footing, falling hard on the rung of a ladder and dislocating his shoulder.</p>
<p>The effort continued until after sundown. A dense cover of clouds crowded the sky and smothered the moon, hiding the looming shore from view. The men had altered <i>Wager’s</i> course, but it was impossible to know whether they had turned far enough. Gusts of wind agitated the ocean and pushed <i>Wager</i> through the cold darkness. Heavy raindrops pelted the deck. The ship full of ailing conscripts teeter-tottered blindly through writhing seas.</p>
<p>At around 4:30 in the morning, a tremendous thump rattled <i>Wager’s</i> weary bones. She was stuck on a rock. This lasted only a moment before a rolling wave scraped her off again. Captain Cheap ordered Lieutenant Baynes to drop the anchor, but before he complied, <i>Wager’s</i> hull shook from another impact, this one much harder than before. Stacks of heavy items in the cargo holds shifted and collapsed, knocking holes through the hull. Water poured in from the sea. There were wails of protest from hull and crew alike. <i>Wager</i> drifted and bobbed, her rudder broken. Finally, with a shudder, the ship ground to a halt, wedged in a gap between two rocky protrusions.</p>
<p>Midshipman John Byron wrote:</p>
			<blockquote>
				<p>Every person that now could stir was presently upon the quarter-deck; and many even of those were alert upon this occasion, that had not showed their faces upon the deck for above two months before: several poor wretches, who were in the last stage of scurvy, and who could not get out of their hammocks, were immediately drowned.</p>
			</blockquote>
					
<p>Once it was clear that their ship was stuck fast and taking on water, Captain Cheap ordered the remaining masts be cut down, lest the wind twist the ship to pieces. There was nothing more to do but wait out the night.</p>
<p>At daybreak, when the rocky shore became visible, Cheap ordered Master’s Mate John Snow to make landfall, reconnoiter, and return at once. His Majesty’s Shipwreck <i>Wager</i> was quite immobilized, but she was equipped with four smaller craft intended for various operations between ships and shore: the flat-bottomed barge for navigating shallow water, the cutter and yawl for small groups, and the longboat for much larger away missions. Snow set off on the barge along with a small crowd of pitiful survivors, but after an hour he had evidently decided to stay ashore, to the great exasperation of the remaining crew. Cheap ordered Lieutenant Baynes to go after him in the yawl, fetch the barge, and personally return with an assessment. Baynes dutifully departed, but neither he nor the barge returned⁠—instead the Lieutenant sent back another crewman in the yawl with vague good news about the conditions on land. Despite Cheap’s injury and his fury at defied orders, the other officers persuaded him to go ashore himself, along with all of the crew who could fit in the available landing craft. Those who could not squeeze in would need to linger on the wreck a little longer.</p>
<p>Ashore, the survivors found rocks, marshes, scattered scraggly shrubs, and little more. But they did discover one hint of civilization: a small man-made hut, the only effective shelter in the observable universe. On that first dreary day Captain Cheap claimed the hut as his own, while most of the other survivors scavenged wood, built a great bonfire, found some wild celery for dinner, and crowded under the few trees large enough to offer a modicum of shelter. By morning, three men had died of exposure.</p>
<figure data-embiggen="true"><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFgYGBAAAAqeg2zgAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-height-ratio="0.68235294117647" data-lazy-load-src="https://damn-8791.kxcdn.com/wp-content/uploads/2019/08/loss-of-wager.jpg" alt="&quot;Loss of the Wager, Man of War, on Wager Island, near Mount Misery&quot;" title="&quot;Loss of the Wager, Man of War, on Wager Island, near Mount Misery&quot;"></p><figcaption>"Loss of the Wager, Man of War, on Wager Island, near Mount Misery"</figcaption></figure>
<p>In the days that followed, the officers organized the retrieval of additional provisions and survivors from the hulk of the <i>Wager</i>. Some of the seamen left behind, having located and appropriated the ship’s cache of liquor, decided to remain aboard the wreck indefinitely. Liberated from their inhibitions, they argued that they were no longer duty-bound to Captain Cheap. After all, the loss of the <i>Wager</i> meant that their pay would be suspended. Three sheets to the wind, the cantankerous holdouts plundered the cabins of the command crew, emerging with weapons in hand, draped in the officers’ special-occasion lace and finery. Ashore, a midshipman named Campbell was ordered to return to the wreck on a supply run, and he later wrote in his journal:</p>
			<blockquote>
				<p>Accordingly I went, but found them all in such Confusion as cannot be imagined by any who were not Eye-witnesses of it. Some were singing Psalms, others fighting, others swearing, and some lay drunk on the Deck.</p>
			</blockquote>
					
<p>The ocean intensified its heaving, so much so that the creaking hulk of the <i>Wager</i> seemed on the verge of disintegration out on the rocks. Officers ashore noted that one of the few remaining holdouts on the wreck⁠—Boatswain John King⁠—was signaling for rescue. However the sea was too heavy for any of the small vessels to cross the water, so King would have to wait. When King realized that no one was coming right away, the indignant boatswain aimed one of <i>Wager’s</i> cannons toward the shore and fired. The whoosh of a passing cannonball ripped the air just above the captain’s hut. King fired a second time, again narrowly missing the captain’s quarters.</p>
<p>Once the weather permitted rescue, when King finally stepped onto land draped in a soggy suit of offers’ lace, Captain Cheap was present to meet him. The captain struck King with a cane, cursing the insubordinate boatswain as a ‘rogue and a villain’. King fell prostrate into the sand as fellow crewmen looked on warily. King saw a cocked pistol in the captain’s other hand, and pulled open the collar of his garish blouse to bare his breast and receive the inevitable. “You deserve to be shot,” the captain said. But he did not do the deed.</p>
<p>Eventually, one hundred and forty survivors made it ashore. In dire need of supplies, whenever weather permitted, the men rowed out to the wreck to pick <i>Wager’s</i> bones under the watchful eyes of officers. Sailors hammered holes into the mostly submerged hull to flood inaccessible spaces. This washed out barrels of provisions, and scores of bloated corpses. Captain Cheap ordered that all recovered supplies be stored in a tent adjacent to his hut, to be set aside for strict rationing. The tent soon housed stacks of barrels containing biscuits, beef, pork, peas, oatmeal, flour, brandy, wine, and rum⁠—as well as black powder and ammunition. The captain enacted strict, meager rations, and asked Lieutenant Hamilton of the marines to post sentries outside the tent to discourage theft. The marines were not under the direct command of the ship’s captain⁠—Lieutenant Hamilton reported to Captain Pemberton of the marines⁠—but the land and sea branches of the military were expected to cooperate.</p>
<figure data-embiggen="true"><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFgYGBAAAAqeg2zgAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-height-ratio="1.0650887573964" data-lazy-load-src="https://damn-8791.kxcdn.com/wp-content/uploads/2019/08/route-wager.jpg" alt="A rough approximation of the route of HMS Wager" title="A rough approximation of the route of HMS Wager"></p><figcaption>A rough approximation of the route of HMS <i>Wager</i></figcaption></figure>
<p>As winter set in, a sagging encampment of handmade tents gradually fanned out around the captain’s hut, providing slight respite from the incessant rain and snow. Some of the relatively healthy men explored the area around the camp, determining that fate had deposited the <i>Wager’s</i> crew upon a small, uninhabited, marshy island off the western shore of South America. Plant and animal life were scarce due to the hostile conditions. The men dubbed it “Wager Island”. They christened the hill to the north of the encampment “Mount Misery”. Survivors munched on wild celery, and ate small mollusks peeled from the rocks. Regarding the collection of shellfish for days on end, Midshipman Byron wrote:</p>
			<blockquote>
				<p>…this rummaging of the shore was now becoming extremely irksome to those who had any feeling, by the bodies of our drowned people thrown among the rocks, some of which were hideous spectacles. […] A boy, when no other eatables could be found, having picked up the liver of one of the drowned men (whose carcase had been torn to pieces by the force with which the sea drove it among the rocks), was with difficulty withheld from making a meal of it.</p>
			</blockquote>
					
<p>Many mornings men awoke to find some among them had died. Survivors shot and devoured the crows that dined on the dead. Some men merely disappeared, presumably to craft rafts and paddle for the mainland. Alcohol was relatively plentiful, so intoxication was common. Robberies of food and liquor from the storage tent occurred often, as the guards were too weary, hungry, and easily bribed to present an effective deterrence. It was in this bleak condition, a week after the loss of their ship, that the marooned Englishmen first made contact with the indigenous people.</p>
<p>The native men⁠—who the Englishmen referred to as “Indians” and “savages”⁠—appeared in the distance in three canoes. In spite of the cold they wore little clothing, Byron describing their garb as “nothing but a bit of some beast’s skin about their waists, and something woven from feathers over the shoulders.” The natives were relatively short in stature, with long black hair, olive skin, and astonishing muscle tone. At first the natives were apprehensive at the sight of the tall, pale, emaciated aliens, but the Europeans piqued their curiosity with offerings of unfamiliar technological wonders such as bales of fine cloth, articles of clothing, and⁠—most peculiar of all⁠—a “looking glass”.</p>
<p>Midshipman Byron wrote:</p>
			<blockquote>
				<p>It was some time before we could prevail upon them to lay aside their fears and approach us; which at length they were induced to do by the signs of friendship we made them, and by shewing some bale-goods, which they accepted, and suffered themselves to be conducted to the captain, who made them, likewise, some presents. They were strangely affected with the novelty thereof; but chiefly when shewn the looking-glass, in which the beholder could not conceive it to be his own face that was represented, but that of some other behind it, which he therefore went round to the back of the glass to find out.</p>
			</blockquote>
					
<p>Communicating via gestures, the natives agreed to trade for some food⁠—a small stockpile of mollusks. They returned some time later offering three sheep, which the Englishmen eagerly accepted for future meals. The natives also offered two dogs, which the Englishmen immediately roasted and ate. Groups of indigenous people stayed on the island from time to time, eventually establishing a small settlement with their own clutch of seal-skin wigwams housing dozens of men, women, and children. The men hunted while the women embarked on lengthy dives into the ocean for “sea-eggs” (probably sea urchins). But these families did not stay long⁠—the castaways had not seen any women in months, and based on the resulting unwanted attention, the indigenous people opted to evacuate before the English seamen became a problem.</p>
<p>The quality of the weather continued to deteriorate. About 100 men still survived. Midshipman Byron wrote of one desperate incident:</p>
			<blockquote>
				<p>I built a little hut just big enough for myself and a poor Indian dog I found in the woods, who could shift for himself along shore at low water by getting limpets. This creature grew so fond of me and faithful that he would suffer nobody to come near the hut without biting them. […] One day when I was at home in my hut with my Indian dog, a party came to my door and told me their necessities were such, that they must eat the creature or starve. Though their plea was urgent, I could not help using some arguments to endeavour to dissuade them from killing him, as his faithful services and fondness deserved it at my hands. But without weighing any arguments they took him away by force and killed him; upon which, thinking that I had at least as good a right to a share as the rest, I sat down with them and partook of their repast. Three weeks after that I was glad to make a meal of his paws and skin, which, upon recollecting the spot where they had killed him, I found thrown aside and rotten.</p>
			</blockquote>
					
<figure data-embiggen="true"><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFgYGBAAAAqeg2zgAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-height-ratio="1.2631578947368" data-lazy-load-src="https://damn-8791.kxcdn.com/wp-content/uploads/2019/08/cheap-1.jpg" alt="David Cheap, painted by Sir Joshua Reynolds" title="David Cheap, painted by Sir Joshua Reynolds"></p><figcaption>David Cheap, painted by Sir Joshua Reynolds</figcaption></figure>
<p>Amid the chronic starvation and intoxication, with no evidence of imminent deliverance or plan of action, murmurs of desertion and mutiny occasionally escalated into action. Along with individual desertions, ten sailors elected to band together and strike out on their own. Not content to merely disappear, they quietly placed a half barrel of explosive black powder just outside the captain’s hut. As Cheap sat inside, unaware of the treachery, they poured out a line of powder to the keg to act as a fuse. Before they lit the powder, however, one among them lost his nerve, and the ten fled without violence.</p>
<p>Some days later, in a heavy rain on 10 June 1741, Captain Cheap was in his hut conversing with Lieutenant Hamilton of the marines, when the men heard a pistol shot from outside, and shouting voices. Lieutenant Hamilton dashed outside shouting “Mutiny!”</p>
<p>The captain stepped out into the cold downpour, cocked pistol in hand. “Where is the villain?” he shouted, whereupon he spotted a midshipman named Cozens lurching toward him, with, as one onlooker put it, “the face and gesture of a mere fury”. Midshipman Cozens was well known to Captain Cheap⁠—in the days since the crew had become marooned on Wager Island, Mr. Cozens had been disciplined several times: for drunkenness, abusive language, an exchange of blows with the ship’s surgeon, and implications of mutiny. Without another word, the captain raised his pistol, and Captain Cheap shot Midshipman Cozens directly in the face.</p>
<p>Cozens fell to the ground with an expression of shock and bewilderment, blood gushing from a wound under his right eye. Once some onlookers regained their wits, several men picked him up and rushed him to the sick tent as others whispered among themselves. Captain Cheap went back inside. Lieutenant Hamilton summoned the naval officers to the captain’s hut, and there the captain greeted them with his pistol in hand.</p>
<p>“Sir,” Midshipman Byron said to the captain, “You see we are disarmed.”</p>
<p>The Captain dropped his pistol ceremoniously. “I see you are, and have only sent for you to let you all know I am still your Commander,” he said. “So let every man go to his tent.” The officers did as ordered.</p>
<p>In the meantime, upon learning of Cozens’s injury, the surgeon recused himself from treating the wound, citing his recent fisticuffs with the midshipman. The surgeon’s assistant dressed the wound and extracted the ball on his own without complication. It appeared that Cozens would be scarred, but he would live. Some crewmates asked permission to move Cozens from the open-air sick tent⁠—which was just a wet canvas stretched over some bushes⁠—to a crew tent for recovery. “No,” Captain Cheap responded, “the scoundrel shan’t be gratified.”</p>
<p>Eyewitness accounts would later indicate that Midshipman Cozens had not fired the shot that had led Cheap and Hamilton to suspect that insurrection was afoot. Instead, the shot was from the pistol of the ship’s purser, Thomas Harvey, who had fired at Cozens after an angry confrontation regarding the handling of rations. Mr. Cozens was only spared from that shooting because John Young, the ship’s cooper, had deflected Harvey’s pistol just before he fired. Cozens was guilty of being cold, hungry, nearly murdered, and quite possibly drunk⁠—but he had not done anything amounting to mutiny. Nonetheless, by the captain’s order, he lay on the freezing floor of the sick tent for days on end. After languishing there for two weeks, Midshipman Cozens died.</p>
<p>Ship’s Cooper John Young wrote:</p>
			<blockquote>
				<p>His shipmates buried him with all the decent formality their situation would then admit of. There were no tears shed at the funeral, for those distil but rarely from the eyes of sailors, but several resentful speeches dropped from envenomed tongues, and the obsequies were solemnised with volleys of scandal. It was among other like things said, that though the deceased was a conceited busy fellow, and would be always meddling, that was not a sufficient reason for killing him; that he had never appeared in arms on any occasion since they came ashore; and that to shoot a man through the head on a mere surmise, without any inquisition or process of law at all, was something worse than manslaughter…</p>
			</blockquote>
					
<figure data-embiggen="true"><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFgYGBAAAAqeg2zgAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-height-ratio="0.77941176470588" data-lazy-load-src="https://damn-8791.kxcdn.com/wp-content/uploads/2019/08/cheap-shot.jpg" alt="&quot;A Representation of Cap. Cheap, Commander of the Wager, Shooting Mr. Cozens his Midshipman with the Crew building their Tents after the Ship was Cast away on a desolate Island on the Coast of Patagonia&quot;" title="&quot;A Representation of Cap. Cheap, Commander of the Wager, Shooting Mr. Cozens his Midshipman with the Crew building their Tents after the Ship was Cast away on a desolate Island on the Coast of Patagonia&quot;"></p><figcaption>"A Representation of Cap. Cheap, Commander of the Wager, Shooting Mr. Cozens his Midshipman with the Crew building their Tents after the Ship was Cast away on a desolate Island on the Coast of Patagonia"</figcaption></figure>
<p>Meanwhile, salvage efforts aboard <i>Wager</i> had extracted a new treasure: the longboat. It was large enough that the men had to partially disassemble <i>Wager’s</i> gunwale in order to get to it. The longboat was the highest capacity of the ship’s array of supporting craft, an open vessel approximately 37 feet (11.3 meters) long. The longboat was only suitable for moderate jaunts, however Carpenter John Cummins had devised a plan to expand and upgrade the longboat into a schooner, a dual-masted sailboat more suited for journeys on the open ocean. He had managed to recover most of his tools from the wreck, and he could scavenge construction materials from <i>Wager</i>. Amid gusty winds and intermittent hail, Carpenter Cummins and his team overturned the boat onto stands, sawed its hull in half crosswise, and began sandwiching a new section in its center, lengthening the hull to nearly 50 feet (15.2 meters). It would take months to complete a seaworthy upgrade, but the carpenter projected that the final product would be able to support up to 80 closely-packed souls.</p>
<p>Captain Cheap was eager for the carpenter to complete the schooner, he intended to lead his crew to the north, where somehow he would catch up with Commodore Anson and rejoin the ongoing fight. To his thinking, it would be insubordination to attempt anything less. Ship’s gunner John Bulkeley found this idea preposterous⁠—the schooner would be a fragile vessel, and she would not have any offensive capabilities. Sailing north would risk a brush with a patrolling Spanish man-of-war, which would mean certain death for some, and imprisonment and torture for the rest. Bulkeley had designs on sailing south instead, back from whence they came, using the schooner as a lifeboat to reach Portuguese-controlled Brazil, then on to England. To his thinking, it would be suicide to attempt anything more.</p>
<p>On 04 August 1741, nearly three months after <i>Wager</i> wrecked on the rocks, Carpenter Cummins took a break from his boat-building to join Gunner Bulkeley on a visit to the Captain’s hut. Bulkeley had a document which he had been quietly showing to others around the camp. He read its contents aloud to the captain:</p>
			<blockquote>
				<p>We whose Names are under-mentioned, do, upon mature Consideration, as we have met with so happy a Deliverance, think it is the best, surest, and most safe Way, for the Preservation of the Body of the People on the Spot, to proceed through the Streights of Magellan for England.</p>
			</blockquote>
					
<p>A list of signatures indicated broad support for Bulkeley’s south-for-England plan, the letter having been signed by a majority of the naval officers, as well Captain Pemberton of the marines, two of his Lieutenants, and a large number of seamen.</p>
<p>The Straits of Magellan mentioned in Bulkeley’s note was (and is) a jagged series of waterways across the southern end of South America, a route first discovered by Europeans when Portuguese explorer Ferdinand Magellan survived navigating the straits in 1520. It offered a shorter and more sheltered southern route than the Drake Passage, but it presented its own catalog of hazards: Narrow channels, unpredictable currents, and strong winds. But Bulkeley was a seasoned sailor, and he was confident that the modified longboat would fare better against the capricious Straits of Magellan than it would against the outright murderous temperament of the cape. </p>
<p>Captain Cheap did not immediately respond to the makeshift comment card. The tense discussion around north versus south dragged into the following days. The officers gradually concluded that the captain had not been swayed from his plan to sail the longboat north to seek out the squadron. Captain Cheap even fantasized aloud that they might intercept and confiscate an enemy ship along the way, in order to gain offensive capabilities. “We have always obeyed you,” Bulkeley said to the captain, speaking for himself and the other officers of <i>Wager</i>, “and will continue to support your authority as long as it is for the common welfare.”</p>
<p>Initially, most of the sick and starving sailors and marines supported Gunner Bulkeley’s plan to sail south. Perhaps along the way they might find more invigorating belly-timber than the seaweed-and-flour paste that had become a staple of last resort. Perhaps a few of them might actually survive. But as the days wore on, favor began to drift toward Captain Cheap’s plan for a bold northern offensive. Upon investigating these inexplicable changes of hearts, Bulkeley discovered that Purser Harvey⁠—the officer in charge of allocating food and supplies⁠—was handing out substantial extra rations of rum and brandy to any man who would side with the captain. Bulkeley was outraged by these “rebels,” as he called them, and their betrayal of his own, more respectable rebellion. A deep fissure formed between the two factions. Bulkeley resolved to change the captain’s mind, and secure Cheap’s support for the plan to sail south, which would put the increasingly tense controversy to rest. In the midst of this turbulence, in what would be rightly criticized as ham-handed metaphor in a work of fiction, the very Earth shook. Carpenter Cummins summed it up in his journal: “This day felt four great Earthquakes, three of which were very terrible.”</p>
<figure data-embiggen="true"><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFgYGBAAAAqeg2zgAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-height-ratio="1.2996389891697" data-lazy-load-src="https://damn-8791.kxcdn.com/wp-content/uploads/2019/08/StraitOfMagellan.jpg" alt="The Straits of Magellan, the V-shaped water route" title="The Straits of Magellan, the V-shaped water route"></p><figcaption>The Straits of Magellan, the V-shaped water route</figcaption></figure>
<p>On Friday, 28 August 1741, the officers of the former HMS <i>Wager</i> gathered in Captain Cheap’s hut for a meeting. Each man carried a firearm. Partway through this meeting, Gunner Bulkeley produced a new document and read it aloud to the captain:</p>
			<blockquote>
				<p>Whereas upon a General Consultation, it has been agreed to go from this Place through the Streights of Magellan, for the Coast of Brazil, in our Way for England: We do, notwithstanding, find the People separating into Parties, which must consequently end in the Destruction of the whole Body; and as also there have been great robberies committed on the Stores, and every Thing is now at a Stand; therefore, to prevent all future Frauds and Animosities, we are unanimously agreed to proceed as above-mentioned.</p>
			</blockquote>
					
<p>Bulkeley then asked the captain to sign the document to cement his support for the southbound plan. Bulkeley’s copy of this paper was but one of several; he had produced copies for all of the officers to carry. This new note and its duplicates had been produced at the suggestion of Lieutenant Baynes, who had theretofore been loyal to the captain. Baynes had also suggested, should the captain refuse to sign the note, that the officers arrest the captain for the murder of Mr. Cozens. But despite his earlier audacity, Baynes sat silent as Bulkeley read the note. Captain Cheap seethed, refusing to sign, or even to respond. Regarding Baynes’s silence, Bulkeley would later write, “We thought the Lieutenant a Gentleman of resolution; but the Words and Actions of People do not always concur.”</p>
<p>The naval officers⁠—with the exception of the captain and Lieutenant Baynes⁠—burst from Cheap’s hut and crossed camp directly to Captain Pemberton of the marines. They asked for Pemberton’s allegiance in their plan to remove Captain Cheap from command. Captain Pemberton, before a crowd of onlookers, responded that he would stand by them with his life. Three cheers went up in the crowd, along with shouts of “For England!”</p>
<p>Captain Cheap threw open the flap of his hut and demanded an explanation for the riotous noise. When he was made to understand that the officers intended to remove him from command, he shouted to the crowd, “Who is he that will take the command from me?” Then, to Lieutenant Baynes, “Is it you, sir?”</p>
<p>Baynes blanched. “No sir.”</p>
<figure data-embiggen="true"><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFgYGBAAAAqeg2zgAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-height-ratio="0.6" data-lazy-load-src="https://damn-8791.kxcdn.com/wp-content/uploads/2019/08/firelock.jpg" alt="A firelock pistol similar to Captain Cheap's" title="A firelock pistol similar to Captain Cheap's"></p><figcaption>A firelock pistol similar to Captain Cheap's</figcaption></figure>
<p>The throng of starving castaways smelled mutiny. There arose considerable shouting and disorder. Some men charged their muskets, and some began to make demands regarding distribution of provisions. Amid the uproar the captain tossed his pistol aside melodramatically, and shouted over the din, “What are your grievances? In the name of God I am willing to put them right, and to go southward with you if that is your resolve.” With this major concession⁠—and agreeing to increase each man’s daily allowance of liquor⁠—the captain calmed the crowd, and the animosity returned to a simmer. The following day, some fifty or so indigenous people arrived in canoes, but they refused to barter with the agitated Englishmen, and they departed immediately in the morning.</p>
<p>The men began preparations for the journey home. Captain Cheap ordered a team to take the barge south along the coast, scouting the way to the Straits of Magellan. Carpenter Cummins recruited assistance in turning the soon-to-be-schooner right side up. Bulkeley, realizing that the schooner would need much more freshwater for the voyage, stated his intention to dump a number of barrels of black powder into the sea, so that the containers could be refitted for water storage. The captain’s response was disconcerting: “I desire you will not destroy any one thing without my orders.” Without additional fresh water capacity, the long journey to Brazil would be impossible, but the captain adamantly refused to part with the powder.</p>
<p>On the morning of 09 September, the captain was asleep in his hut when he was awakened by a number of hands roughly grasping his person. One among the intruders took the captain’s pistol, while another bound the captain’s hands. “What are you about?” demanded Cheap, “Where are my officers?” The Master, Gunner, Carpenter, and Boatswain stepped inside. “Gentlemen,” the captain said, “Do you know what you have done, or are about?”</p>
<p>“Yes, sir,” one of them responded, “Our assistance was demanded by Captain Pemberton, to secure you as a prisoner for the death of Mr Cozens; and as we are subjects of Great Britain, we are obliged to take you as such to England.”</p>
<p>“Gentlemen,” Cheap said, “Captain Pemberton has nothing to do with me; I am your commander still.” But his hands were tied. Although Pemberton had indeed asked them to arrest the captain, the murder was convenient pretext⁠—a Jenkin’s Ear. The men had gathered and agreed that Captain Cheap still secretly intended to sail the schooner north to find Commodore Anson, as evidenced by his comportment regarding the powder kegs. He was, in their view, reckless with the lives of the crew, and no longer to be trusted.</p>
<p>Four days after the captain’s arrest, being five months since the loss of <i>Wager</i>, the survivors christened the completed schooner as <i>Speedwell</i>. The men loaded her modest hold with their modest stock of provisions, including powder kegs converted for fresh water. Captain Cheap insisted that he would rather be shot than carried away a prisoner, and asked to be left behind on the island. The others readily agreed. Better for the captain to disappear than have him come along and survive to press charges of mutiny back in England. Surgeon Elliot opted to stay with the captain, as did Lieutenant Hamilton of the marines. A handful of additional men were left behind due to prior desertions. The departing contingent left a portion of provisions for their marooned countrymen, along with the little yawl, so that the captain might have <i>some</i> transportation, whatever he decided to do.</p>
<p>One of the officers⁠—most likely Bulkeley⁠—wrote up a short constitution for <i>Speedwell’s</i> journey home. It consisted of a justification for Cheap’s arrest and abandonment, as well as a series of articles that forbade violence, and outlined the fair division of current and future provisions. By noon the departing men had pressed themselves into the trio of escape craft: fifty-nine on <i>Speedwell</i>, twelve on the cutter, and ten on the barge. The survivors set sail southward.</p>
<p>Ship’s gunner Bulkeley wrote:</p>
			<blockquote>
				<p>This was the last Time I ever saw the unfortunate Captain Cheap. […] let us do so much Justice to his Character, do declare, he was a Gentleman posses’d of many Virtues; he was an excellent Seaman himself, and lov’d a Seaman; as for personal Bravery, no Man had a larger Share of it; even when a Prisoner he preserv’d the Dignity of a Commander.</p>
			</blockquote>
					
<p>The escapees were about a day into their journey⁠—still in the confines of “Cheap’s Bay”⁠—when they suffered a major loss of men. The officers on <i>Speedwell</i> realized that their supply of sailcloth was insufficient for the undertaking, and they sent nine men on the barge back to Wager Island to retrieve spare material. One of the occupants of the barge⁠—Midshipman John Byron⁠—walked back to where <i>Speedwell</i> was anchored near the shore to inform Gunner Bulkeley that those on the barge had decided to stay with the captain. The loss of the barge was alarming, as it was useful for fetching food and water from shore; but <i>Speedwell</i> still had the cutter. The seventy-two remaining evacuees in two vessels resumed their departure from Cheap’s Bay.</p>
<p>For weeks on end, the sailors delicately steered <i>Speedwell</i> southeast through “boisterous” seas and narrow, rocky channels. The men in the cutter groped just ahead, frequently measuring the depth of the water to ensure the larger schooner would not run aground. Each evening the vessels anchored, and the cutter carried men ashore to hunt wild geese, forage for shellfish, and collect drinking water. The closely-packed living area became a swamp of bodily odors. One man wrote, “The Steams of our Bodies and filthy wet Apparel infected the Air.” Another described, “The Stench of the Mens wet Cloaths makes the Air we breathe nauseous.” In spite of the discomfort, the journey was beginning to feel survivable. On 03 November, however, the cutter’s square-sail tore in a violent squall. Unable to steer, the small vessel was blown away and well out of sight. The loss of the cutter made it nearly impossible for <i>Speedwell</i> acquire fresh food, and just a few days in this state left the men with little motivation to survive. But in these literal dire straits, in what must have seemed a miracle, the cutter reappeared. Its crew of eleven men sailed up alongside and tied their craft to <i>Speedwell</i>, to the great relief of all present. Overnight the winds howled and flailed. The cutter broke loose, disappearing into the rocks and darkness. This time it did not return.</p>
<figure data-embiggen="true"><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFgYGBAAAAqeg2zgAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-height-ratio="0.66764705882353" data-lazy-load-src="https://damn-8791.kxcdn.com/wp-content/uploads/2019/08/speedwell.jpg" alt="Artist's impression of Speedwell in the straits" title="Artist's impression of Speedwell in the straits"></p><figcaption>Artist's impression of <i>Speedwell</i> in the straits</figcaption></figure>
<p>Some days later in the journey, according to Gunner Bulkeley’s journal, ten men “requested and desired” to be put ashore to find their own way. It is unlikely they volunteered voluntarily, their chances of survival on foot were dismal, and the men in question happened to be regarded as the most apathetic of the crew. Nevertheless, they were ejected ashore into the desolate, cold bog. Sixty souls remained aboard <i>Speedwell</i> as it entered the Straits of Magellan.</p>
<p>“We expected every Wave to swallow us, and the Boat to founder,” wrote Bulkeley. “We were surrounded with Rocks, and so near that a Man might toss a Bisket on them. It blew a Hurricane of Wind.” During rare calm weather, a few crew swam ashore to seek food. On one occasion they encountered some natives, and traded a pair of English trousers for a mangy dog to eat. On another occasion a marine successfully hunted a large seal. But these victuals did not go far among sixty stomachs. As <i>Speedwell</i> inched through the craggy, labyrinthine channels, men began to die of starvation.</p>
<p>Ship’s cooper John Young wrote:</p>
			<blockquote>
				<p>It was remarkable of these people that some hours before they expired they became delirious. In this state they would joke, laugh immoderately, and play ridiculous pranks, as if they were really merry; in which temper they died. Those of us that survived had almost ground to envy the deceased, who were thereby freed from the horrid circumstances under which we groaned, tortured with hunger and thirst, catching at the most nauseous things that could any way appease the rage of these cruel appetites, and an abhorrence even to ourselves by reason of stench and vermin. Was not death in such a case a release or deliverance?</p>
			</blockquote>
					
<p>Hopelessly lost, the survivors turned around and went back to the entrance of the straits to regain their bearings, costing them a week and a half. Upon resuming the transit, they made good progress, though the ship grounded twice, and narrowly avoided sinking.</p>
<p><i>Speedwell</i> emerged from the Straits of Magellan into the Atlantic Ocean in early December 1741. Those who survived owed their lives to Gunner Bulkeley and his proficient navigation. The crew anchored off Seal Island, which, true to its name, was crowded with the blubbery “sea dogs.” The Englishmen set up a butcher tent and processed a number of seals to replenish the larder, then set off again.</p>
<p>Within a few days the seal meat began to decay, saturating the air with the stench of death, but the rotting meat remained the only nourishment on offer. The freshwater supply was also dwindling fast. “Never were beheld a Parcel of more miserable Objects,” Bulkeley wrote, “there are not above fifteen of us healthy (if People may be call’d healthy that are scarce able to crawl).” In desperation, fourteen men jumped into the sea and swam toward land with weapons and water casks. One man drowned in the crossing, but the others got ashore. They shot, butchered, and cooked several fresh seals, one horse, and one wild dog. As swimmers helped haul the meat and water to <i>Speedwell</i> on a makeshift raft, the wind began to worsen, and the rickety schooner was obliged to move away from shore. Eight men were left behind.</p>
<p>Fifteen weeks after departing from Wager Island, having crossed over 2,000 miles, <i>Speedwell</i> arrived at the mouth of the Rio Grande river in Brazil. The schooner was barely seaworthy, broken and sagging much like her crew. As <i>Speedwell</i> approached the shore, a friendly ship of the Portuguese navy sailed alongside and two officials boarded. They were aghast at the bleak mass of skeletal humanity that occupied the open boat. “We were become such a frightful Crew of Starvelings,” Cooper John Young wrote, “that they could not but look on us with a Mixture of Horror and Compassion.” Thirty men were all that remained of the original eighty-one.</p>
<figure data-embiggen="true"><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFgYGBAAAAqeg2zgAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-height-ratio="1.0650887573964" data-lazy-load-src="https://damn-8791.kxcdn.com/wp-content/uploads/2019/08/route-speedwell.jpg" alt="A rough approximation of the route of Speedwell" title="A rough approximation of the route of Speedwell"></p><figcaption>A rough approximation of the route of <i>Speedwell</i></figcaption></figure>
<p>Bulkeley and most of his fellow survivors arrived back in England, at the port city of Spithead, on New Year’s Day 1743. The last leg of their lengthy journey home had been aboard HMS <i>Stirling Castle</i>. Their stay in Brazil had been fraught with complications; the boatswain John King⁠—the same man who had fired a cannon at Captain Cheap’s hut back on Wager Island⁠—had formed a gang there and inexplicably terrorized his fellow survivors. And the crossing of the Atlantic had been somewhat harrowing, having encountered several severe storms, one of which nearly pushed their vessel into the rocky shore. But here they were at long last. It had been more than two years since they had departed England aboard <i>Wager</i>.</p>
<p>Lieutenant Baynes rushed ahead of the others to report to the Admiralty first, and delivered a narrative which left himself blameless. His retelling conflicted with Bulkeley’s and Cummins’s in some meaningful details. The Admiralty were reluctant to draw attention to this embarrassing probable mutiny, so their Lordships stalled formal legal proceedings pending Commodore Anson’s anticipated return. The devastated remnants of Commodore Anson’s squadron did indeed return to England over a year later, only 188 men surviving of the original 1,854. Exactly as Anson had predicted before the squadron originally sailed, most of the conscripts uselessly perished. Still, the squadron had circumnavigated the globe, and taken some valuable prizes from the Spanish along the way, so Anson was received as a hero, with a reception from King George II, a knighthood, and a promotion to the rank of Rear-Admiral. It was now up to the freshly-minted Rear-Admiral to initiate legal proceedings regarding the loss of HMS <i>Wager</i>. But Anson cleverly sidestepped the awkwardness by declining to court-martial the officers in the absence of their captain, thereby postponing the reckoning indefinitely.</p>
<p>Bulkeley went on to command his own ship⁠—a forty gun privateer⁠—where his gallantry and grit against the French won him some fame in London newspapers. He and Cummins published their narratives and journal entries from the <i>Wager</i> shipwreck and subsequent misadventures, and though some readers concluded that the men should be hanged as mutineers, much of the public viewed their survival as miraculous deliverance. The officers of the late HMS <i>Wager</i> each went on with his own life, having circumnavigated any repercussions for their questionable actions on Wager Island. That is, until 26 March 1746, when an advertisement began appearing in newspapers all over Britain:</p>
			<blockquote>
				<p>Vice-Admiral Stewart being directed to hold a court-martial at Portsmouth for enquiring into the cause of the loss of His Majesty’s late ship the Wager, the Lords Commissioners of the Admiralty do hereby direct the officers, petty-officers, and foremast-men who belonged to the said ship, to repair immediately down to Portsmouth</p>
			</blockquote>
					
<p>By God, Captain Cheap was in London.</p>
<center>•&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;•&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;•</center>
<p>When describing the departure of <i>Speedwell</i> from Wager Island, Ship’s Gunner John Bulkeley had written in his journal that the departing party gave three cheers to the men left ashore, and that the cheers were returned in kind. This depiction was almost certainly a fiction, as Captain Cheap and his small party of castaways were decidedly uncheerful under the circumstances. Their mood improved, however, when the barge returned, expanding Captain Cheap’s group to twenty mostly loyal men. They immediately began preparations to refit their two vessels and stock them with provisions for a journey to the island of Chiloé 300 miles to the north. They were sure to be taken prisoner by the Spanish there, but at least they would live.</p>
<p>About two months later they set sail. The rain remained relentless, and the sea was heaving in its usual way along the Patagonian shore, and just a few hours after departure the overloaded barge and yawl were both inundated with water. To avoid certain sinking, the desperate men threw all of their food and supplies overboard. This saved their lives for the moment, but within days the absence of nourishment became acute. The closest thing they had to food was the shoes on their feet, handcrafted from raw sealskin, which was quite inedible. The men ate them anyway. The pair of vessels crept along the coast, occasionally scraping a meager sustenance of shellfish from the rocks. The men shot a few geese and seals. The starving sailors indulged themselves on the seals’ rich livers, which was dangerous owing to the concentration of vitamin A. They were indeed stricken with acute vitamin A toxicity. “We were seized with excessive sickness,” Midshipman Byron recorded, “which affected us so much that our skin peeled off from head to foot.”</p>
<p>One night, while both boats were at anchor, the wind suddenly and turbulently shifted from the north to the south. The yawl capsized and sank. The barge was not large enough to accommodate all of the remaining survivors, so a decision was made to abandon four marines who were in poor health. The barge went on with its fourteen, but could no longer make northerly progress due to the shift in the winds. Having no better option, the party fell all the way back to their abandoned camp on Wager Island. The aborted attempt had cost them all of their food, supplies, and two months of time.</p>
<p>A fortnight and a day after returning to Wager Island, a group of indigenous people arrived, surprised to find that the Englishmen had returned. One of their number⁠—a chief who went by the name Martin⁠—spoke a little Spanish, as did surgeon Elliot, and thus the castaways were able to arrange a trade: the natives would escort the Englishmen to a Spanish settlement in exchange for the barge.</p>
<p>Two men died of starvation shortly after the group resumed the attempt north. As captain, Cheap was entitled to more rations, which he took, much to the bitter annoyance of the other survivors. While camping on a desolate island, six sailors set off in the barge claiming to be seeking food, but they never returned. Five men remained in Captain Cheap’s party: Lieutenant Hamilton of the marines, Surgeon Elliot, Midshipman Byron, Midshipman Campbell, and Captain Cheap himself. Elliot persuaded Chief Martin to continue escorting them despite the loss of the barge; instead they would give him their last remaining firearm, and they promised further compensation on arrival at Chiloé.</p>
<p>This new route required the men to paddle by canoe on rivers for some stretches, and carry the canoes overland for other stretches. The starving Englishmen spent much of their time wading through waist-to-shoulder-deep bogs thick with woody vegetation. They had no shoes, and their tattered clothing became “alive with vermin” (probably lice and/or fleas). The party encountered occasional villages and groups of natives, and the Englishmen received a variety of reactions ranging from sympathy to disgust and contempt. Surgeon Elliot succumbed to starvation, depriving the two groups of intercommunication beyond mere gestures. Lieutenant Hamilton of the marines became separated from the others. Three remained in Cheap’s party.</p>
<p>From midshipman Byron’s narrative:</p>
			<blockquote>
				<p>It is impossible for me to describe the miserable state we were reduced to; our bodies were so emaciated that we hardly appeared the figures of men. It often happened to me in the coldest night, both in hail and snow, where we had nothing but an open beach to lie down upon, in order to procure a little rest, that I was obliged to pull off the few rags I had on, as it was impossible to get a moment’s sleep with them on for the vermin that swarmed about them. I used, as often as I had time, to take my clothes off, and putting them upon a large stone beat them with another, in hopes of killing hundreds at once, for it was endless work to pick them off. What we suffered from this was ten times worse even than hunger.</p>
<p>But we were clean in comparison to Captain Cheap; for I could compare his body to nothing but an ant-hill, with thousands of those insects crawling over it; for he was now past attempting to rid himself in the least from this torment, as he had quite lost himself, not recollecting our names that were about him, or even his own. His beard was as long as a hermit’s…</p>
			</blockquote>
					
<p>Four months after beginning the overland journey with Chief Martin, in the dead of winter, the three remaining Englishmen arrived at a village south of the Spanish town of Castro. The villagers sent word of the survivors’ arrival, built a great fire, and fed the malnourished, pest-eaten trio a feast of mutton, potatoes, eggs, and barley meal as they awaited armed escort to Spanish detention.</p>
<p>The Englishmen’s stay with the Spaniards was surprisingly congenial. They stayed in the Spanish town of Chacao on Chiloé island as guests of the governor. There they were housed, fed, and allowed to move around freely as they recovered from their ordeal. A search party located Lieutenant Hamilton, and he was reunited with his countrymen. Via a series of vehicles ranging from ships to mules, the four were eventually conveyed to a frigate that was bound for France, though the men were legally prisoners of Spain.</p>
<figure data-embiggen="true"><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFgYGBAAAAqeg2zgAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-height-ratio="1.0650887573964" data-lazy-load-src="https://damn-8791.kxcdn.com/wp-content/uploads/2019/08/route-cheap.jpg" alt="A rough approximation of the route of Captain Cheap's party" title="A rough approximation of the route of Captain Cheap's party"></p><figcaption>A rough approximation of the route of Captain Cheap's party</figcaption></figure>
<p>After delaying departure for about six months, the frigate set sail for the city of Brest in France. Upon arrival there, the Englishmen were forced to wait several more months for permission to return home to England under a prisoner exchange program. Finally, on 05 February 1746, the Court of Spain ordered that the four English captives be allowed to return home. Cheap, Hamilton, Byron, and Campbell arrived in Dover over four years after originally setting out with Commodore Anson’s secret squadron. Captain Cheap’s first priority was to go to his superiors in London to make his full report.</p>
<p>With the return of Captain Cheap, the Admiralty were reluctantly duty-bound to move forward with legal proceedings. They published the newspaper advertisement ordering all surviving officers of HMS <i>Wager</i> present themselves for a court-martial. The Admiralty also sent out messengers to retrieve Bulkeley, Cummins, Baynes, and King. If any or all of these men were found guilty of mutiny, each man’s punishment would certainly involve a brief suspension⁠—from the end of a noose.</p>
<p>After arriving in Spithead as summoned, Bulkeley learned that the Deputy Marshal who sought him was dining at nearby Paul’s-Head Tavern. Bulkeley went there himself and approached the Deputy Marshal anonymously, engaging him in conversation about the gossip of the day: these <i>Wager</i> officers and the miraculous return of their captain.</p>
<p>Bulkeley wrote of the exchange:</p>
			<blockquote>
				<p>His answer was that he believed we should be hanged. To which I replied, for God’s sake for what, for not being drowned? And is a murderer at last come home to be their accuser? I have carefully perused the journal, and can’t conceive that they have been guilty of piracy, mutiny, nor anything else to deserve it. […] At which he said, Sir, they have been guilty of such things to Captain Cheap whilst a prisoner, that I believe the Gunner and Carpenter will be hanged, if nobody else.</p>
			</blockquote>
					
<p>Bulkeley then confessed his identity and was duly arrested. Friends of Bulkeley took it upon themselves to visit Captain Cheap. “Gentlemen,” the captain told them, “I have nothing to say for nor against the villains, until the day of trial, and then it is not in my power to be off from hanging them.”</p>
<p>On Monday, 14 April 1746, Deputy Judge Advocate Atkins summoned Bulkeley for his deposition. Charges of mutiny seemed inevitable⁠—and Bulkeley would no doubt be regarded as the de facto leader. The officers might also be charged with piracy for the theft of crown property, having appropriated the longboat as they did. In his defense, Bulkeley had his journal, his myriad legal papers, and his <i>Speedwell</i> constitution, but none of these self-serving records was likely to withstand the direct, withering accusations of a navy captain. When seated for questioning, Bulkeley prevailed upon Judge Atkins to describe whatever charges Captain Cheap had made against him. This court-martial, Judge Atkins then informed him, served but a single purpose: to investigate the loss of His Majesty’s Ship <i>Wager</i>. Whatever happened after the wreck was no concern to these proceedings. No charges of mutiny or piracy were to be brought.</p>
<p>Hints in the historical record suggest that Rear-Admiral Sir George Anson had urged the prosecutors to focus on the sinking, and to conveniently overlook subsequent misconduct. The Admiralty complied, grateful to avoid the public outcry that would ensue if they prosecuted capital crimes against the officers of <i>Wager</i>, especially the popular John Bulkeley. Captain Cheap had not pressed the issue, as this also meant that the matter of the murder of Midshipman Cozens would be formally forgotten. Ultimately only Lieutenant Baynes was formally reprimanded⁠—for dismissing the sighting of land that fateful day, and for failing to drop the anchor when so ordered. Soon thereafter the Admiralty revised the Articles of War to clarify that men on a Royal Navy ship remained under the command of their captain for the duration of the mission, even in the event of shipwreck.</p>
<p>In the aftermath of the <i>Wager</i> court-martial, many of the officers faded from the historical record. Captain Cheap, however, was promoted to post captain, and went on to command HMS <i>Lark</i>, having a respectable subsequent naval career. As for Gunner John Bulkeley, the Royal Navy offered to reinstate him as an officer and give him his own command: the cutter <i>Royal George</i>. Upon inspection of the vessel he declined, assessing that the vessel was in poor repair, and not seaworthy, a gloomy assessment coming from the navigator of <i>Speedwell.</i> But his view was later validated, when <i>Royal George</i> sank in the Bay of Biscay with no survivors. Bulkeley removed to America and disappeared from public view.</p>
<p>The War of Jenkins’ Ear formally ended along with the War of the Austrian Succession in 1748. After David Cheap died in 1752, John Byron of the <i>Wager</i> wrote his own story of escaping Wager Island with the captain, and the book became a major bestseller in its day. Byron went on to have a highly distinguished naval career, being promoted all the way to Vice-Admiral before he retired. One of his grandchildren grew up to be the famous poet Lord Byron; and one of Lord Byron’s children was Ada Lovelace, widely regarded as history’s first programmer. But that’s another story altogether.</p>
<p>To this day, the Drake Passage remains a harrowing stretch of sea, even for modern motorized seagoing vessels. But the Antarctic corridor was rendered mostly obsolete in 1914, when the Panama Canal was completed at a much milder latitude, just nine degrees north of the equator. The Drake Passage is now mostly reserved for summer travel and dedicated adventurers.</p>
<figure data-embiggen="true"><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFgYGBAAAAqeg2zgAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" data-height-ratio="0.72647058823529" data-lazy-load-src="https://damn-8791.kxcdn.com/wp-content/uploads/2019/08/wager-remains.jpg" alt="Treated timber found at the Wager wreck site in 2006" title="Treated timber found at the Wager wreck site in 2006"></p><figcaption>Treated timber found at the <i>Wager</i> wreck site in 2006</figcaption></figure>
<p>In 2006, the Scientific Exploration Society conducted an expedition to find the site where HMS <i>Wager</i> wrecked off the coast of Chile. After assembling clues from first-person accounts, satellite imagery, and local historians, the team identified an area that matched contemporaneous descriptions of Wager Island’s 1741 encampment. Despite the dreary weather, the researchers explored the region and identified landmarks to approximate the location where <i>Wager</i> ran aground. There, as the team worked in the shallow water, a member of the team stubbed his toe on something solid. The team brushed the silt aside, and were surprised to reveal a five square meter section of centuries-old treated timbers: the last surviving fragments of HMS <i>Wager</i>, still resting out on the rocks after 265 years.</p>
<p>The whereabouts of captain Robert Jenkins’ left ear, however, remain unknown.</p>
				

										
										
						<p>
			© 2019 All Rights Reserved. Do not distribute or repurpose this work without written permission from the copyright holder(s).
	</p>
<p>
	Printed from https://www.damninteresting.com/dead-reckoning/<br>
</p>
						<p>
							<i>Since you enjoyed our work enough to print it out, and read it clear to the end, would you consider donating a few dollars at https://www.damninteresting.com/donate</i> ?
						</p>
									</article>
			
		            	            		
	            	
		            			

				</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Usenix ATC Announcement (106 pts)]]></title>
            <link>https://www.usenix.org/blog/usenix-atc-announcement</link>
            <guid>43933511</guid>
            <pubDate>Fri, 09 May 2025 03:18:03 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.usenix.org/blog/usenix-atc-announcement">https://www.usenix.org/blog/usenix-atc-announcement</a>, See on <a href="https://news.ycombinator.com/item?id=43933511">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>USENIX celebrates its 50th anniversary in 2025. We celebrate decades of innovations, experiments, and gatherings of the advanced computing system community. And in the spirit of our ever-evolving community, field, and industry, we announce the bittersweet conclusion of our longest-running event, the USENIX Annual Technical Conference in July 2025, following USENIX ATC '25.</p>
<p>Since USENIX's inception in 1975, it has been a key gathering place for innovators in the advanced computing systems community. The early days of meetings evolved into the two annual conferences, the USENIX Summer and Winter Conferences, which in 1995 merged into the single Annual Technical Conference that has continued to evolve and serve thousands of our constituents for 30 years.</p>
<p>For the past two decades, as more USENIX conferences have joined the USENIX calendar by focusing on specific topics that grew out of ATC itself, attendance at ATC has steadily decreased to the point where there is no longer a critical mass of researchers and practitioners joining us. Thus, after many years of experiments to adapt this conference to the ever-changing tech landscape and community, the USENIX Board of Directors has made the difficult decision to sunset USENIX ATC.</p>
<p>USENIX ATC in its many iterations has been the home of an incredible list of "firsts" in our industry:</p>
<ul>
	<li>In 1979, ONYX, the first attempt at genuine UNIX hardware, was announced.</li>
	<li>In 1982, DEC unveiled the creation of its UNIX product.</li>
	<li>In 1983, Eric Allman presented the first paper on Sendmail, "Mail Systems and Addressing in 4.2BSD."</li>
	<li>In 1985, Sun Microsystems presented the first paper on NFS, "Design and Implementation of the Sun Network Filesystem."</li>
	<li>In 1988, the first light on Kerberos and the X Window system was presented.</li>
	<li>In 1989, Tom Christiansen made his first Perl presentation as an Invited Talk.</li>
	<li>In 1990, John Ousterhout presented Tcl.</li>
	<li>In 1995, the first talk on Oak (later JAVA) was given as a Work-in-Progress report.</li>
	<li>In 1998, Miguel de Icaza presented "The GNOME Desktop Environment."</li>
</ul>
<p>These examples represent just a few of the many contributions presented at USENIX ATC over the years, with hundreds of papers that account for thousands of citations of work that the community has presented, discussed, learned from, and built upon as the community evolved.</p>
<p>Part of that evolution involved the continued development of subcommunities, as has been the case with USENIX Security, which began as a workshop in 1988 and has since grown to an annual symposium and the largest of our events in terms of both papers published and number of attendees annually, with 417 papers and 1,015 attendees at USENIX Security '24. The LISA (Large Installation System Administration) Conference, which also started as a workshop in 1987, grew in a similar fashion to its peak of over 1,000 attendees, but like USENIX ATC declined as its community changed until its own sunset in 2021.</p>
<p>Papers on file and storage systems that would have previously been presented at USENIX ATC in the early 2000s began to find homes at FAST when it was founded in 2002. Networked systems papers started flowing to NSDI in 2003. As the biennial OSDI continued to grow alongside ACM's SOSP, OSDI became annual in 2021 and SOSP followed suit, providing the community with additional venues. While landmark moments in our community have continued at USENIX ATC, many others have also occurred at these other USENIX conferences, as showcased in the <a href="https://www.usenix.org/conferences/test-of-time-awards" title="USENIX Test of Time Awards">USENIX Test of Time Awards</a> and the <a href="https://www.sigops.org/awards/hof/" title="ACM SIGOPS Hall of Fame Awards" target="_blank">ACM SIGOPS Hall of Fame Awards</a>, which celebrate influential works presented at both SOSP and OSDI. Although numerous papers continue to be submitted to USENIX ATC with significant research being reviewed, accepted, and presented, the community has evolved, and now attends conferences other than USENIX ATC. From 1,698 attendees in San Diego in 2000, ATC attendance dwindled to 165 attendees in Santa Clara in 2024—even as we had over 4,000 people attend all USENIX conferences in 2024.</p>
<p>USENIX recognizes the pivotal role that USENIX ATC has played in the shaping of the Association itself as well as the lives and careers of its many attendees and members. We also realize that change is inevitable, and all good things must come to an end: if it weren't for ATC being a "victim of its own great success"—a foundry of so many other successful conferences and workshops—USENIX would never have grown and expanded so much over the decades. Thus our hearts are heavy as we celebrate ATC's history and legacy alongside the evolution of its younger siblings and face the financial realities of the post-pandemic world and volatile global economy. USENIX's resources to support its conferences and communities are not unlimited, particularly as we maintain our commitment to open-access publications that are free for our authors to publish. We have been reporting about these challenges via our Annual Meeting and subsequent reports for the past several years (<a href="https://www.usenix.org/blog/2024-usenix-annual-meeting-report" title="2024 USENIX Annual Meeting Report">2024</a>, <a href="https://www.usenix.org/blog/2023-usenix-annual-meeting-report" title="2023 USENIX Annual Meeting Report">2023</a>, <a href="https://www.usenix.org/blog/2022-usenix-annual-meeting-report" title="2022 USENIX Annual Meeting Report">2022</a>, <a href="https://www.usenix.org/blog/2021-usenix-annual-meeting-report" title="2021 USENIX Annual Meeting Report">2021</a>, <a href="https://www.usenix.org/blog/future-usenix-report-annual-membership-meeting" title="2020 USENIX Annual Meeting Report">2020</a>). We deeply appreciate the financial support we have received from our community in the form of donations, memberships, and conference registrations. However, we continue to operate at a deficit and ATC continues to shrink. In making this hard choice, accepting the reality in front of us that encourages us to innovate in a different direction under challenging circumstances, we seek to embody the values of this community that was founded on curiosity, persistence, and collaboration.</p>
<p>As we celebrate 50 years of both USENIX and ATC in its varying forms, we look towards the future of this vibrant community in the form of the many conferences that ATC continues to help create in its image: welcoming, thoughtful environments for the presentation of innovative work that fellow conference attendees help push forward. We look forward to honoring ATC's legacy alongside USENIX's history and its future in Boston in July of 2025.</p>
<p>We would love to hear memories of your experience at the USENIX Annual Technical Conference over the years. Please <a href="https://forms.gle/SBFx7Nyeg7Bxt7WJ7" title="Form for Collecting Memories about USENIX ATC and USENIX">submit your thoughts</a> in words, video, or both by <strong>Monday, June 2</strong>. We will share your memories both at USENIX ATC '25 and afterwards. We hope that you will join us at <a href="https://www.usenix.org/conference/atc25">USENIX ATC '25</a>, which will include both a celebration of USENIX's 50th anniversary on the evening of <strong>Monday, July 7</strong>, and a tribute to USENIX ATC on the evening of <strong>Tuesday, July 8</strong>.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Starlink User Terminal Teardown (272 pts)]]></title>
            <link>https://www.darknavy.org/blog/a_first_glimpse_of_the_starlink_user_ternimal/</link>
            <guid>43933452</guid>
            <pubDate>Fri, 09 May 2025 03:03:51 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.darknavy.org/blog/a_first_glimpse_of_the_starlink_user_ternimal/">https://www.darknavy.org/blog/a_first_glimpse_of_the_starlink_user_ternimal/</a>, See on <a href="https://news.ycombinator.com/item?id=43933452">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><blockquote><p>I think the human race has no future if it doesn’t go to space. —— Stephen Hawking</p></blockquote><p>Starlink is a low Earth orbit (LEO) satellite internet service provided by SpaceX. Users connect to near-Earth orbit satellites through a user terminal, which then connects to the internet via ground gateways.</p><p><img alt="Basic architecture of the Starlink system [1]" loading="lazy" src="https://www.darknavy.org/blog/a_first_glimpse_of_the_starlink_user_ternimal/attachments/d48521bc-861b-4050-82df-1366d6bc01d2.png"></p><p>As the new generation of satellites gradually incorporates laser links, some satellites can communicate with each other via laser. This both reduces reliance on ground stations and improves transmission efficiency, enhancing global coverage.</p><p><img alt="Starlink terminals in Ukraine access the Internet via satellite and gateways in neighboring countries" loading="lazy" src="https://www.darknavy.org/blog/a_first_glimpse_of_the_starlink_user_ternimal/attachments/62ba1b39-218f-4887-9dab-7957d3f342fe.png" title=" =593.6x434"></p><p>Even on the Ukrainian battlefield where there are no local ground stations, Starlink user terminals can indirectly access gateways in neighboring countries through inter-satellite links [1].</p><p>In this article, we provide a concise overview of DARKNAVY’s recent preliminary investigation into the Starlink user terminal.</p><hr><h2 id="hardware-analysis">Hardware Analysis</h2><p>A complete Starlink user terminal consists of two parts: a router and an antenna. This article focuses on the antenna component (User Terminal Antenna, hereafter referred to as “UTA”). DARKNAVY purchased a Starlink Standard Actuated (also known as Rev3 or GenV2) user terminal in Singapore and disassembled its antenna portion.</p><p><img alt="Starlink UTA Rev3 PCB (full view)" loading="lazy" src="https://www.darknavy.org/blog/a_first_glimpse_of_the_starlink_user_ternimal/attachments/7beb1f43-a758-4a5c-ad1e-73fc65157927.png"></p><p>As shown above, after disassembly, we found that the UTA’s PCB is almost as large as its outer shell. Most of the board is occupied by RF front-end chips produced by STMicroelectronics (left side in the photo), while the core control components are mainly concentrated on one side of the PCB.</p><p><img loading="lazy" src="https://www.darknavy.org/blog/a_first_glimpse_of_the_starlink_user_ternimal/attachments/49fe99e2-633f-46a8-82b4-d5dc91fcdb49.png" title=" =2070x775"></p><p><em>Starlink Rev3 PCB (core area)</em></p><p>Aside from the RF antenna, the overall design of the UTA’s core area is quite similar to that of a standard IoT device. The main SoC, custom-made by ST for SpaceX, is a quad-core Cortex-A53. Currently, the hardware and datasheet for this chip are confidential and unavailable to the public.</p><p>At Black Hat USA 2022, Dr. Lennert Wouters from KU Leuven demonstrated a fault-injection attack against the first-generation Starlink antenna (GenV1) to obtain a root shell of the device. In response, SpaceX disabled the UART debug interface on the PCB via a firmware update to enhance fault-attack resistance. However, Wouters subsequently managed to break in again by refining his approach [2].</p><hr><h2 id="firmware-extraction-and-analysis">Firmware Extraction and Analysis</h2><p>To analyze the UTA in depth, DARKNAVY directly dumped the firmware from the eMMC chip. Since no obvious eMMC debug pins exist on the Rev3 board, we had to desolder the eMMC chip from the PCB and read it using a programmer. Once extracted, we discovered that most of the firmware contents were unencrypted, revealing the boot chain (excluding BootROM), kernel, and the unencrypted portions of the filesystem. Further analysis showed that after the kernel starts, it reads most of the runtime environment from the eMMC and unpacks it to the <code>/sx/local/runtime</code> directory.</p><p><img alt="Core runtime of the UTA" loading="lazy" src="https://www.darknavy.org/blog/a_first_glimpse_of_the_starlink_user_ternimal/attachments/80819cd3-d929-4e20-a1e9-77f65b3ccb33.png"></p><p>As shown above, the <code>bin</code> directory contains the executables required by the Starlink software stack, while <code>dat</code> stores configuration files, and <code>revision_info</code> records the current software and hardware version. Other than <code>user_terminal_frontend</code> (written in Go) for handling user communications, most programs are statically compiled C++ executables without symbols. Drawing on existing research [3], our preliminary analysis of these programs and configurations suggests that the network stack architecture is somewhat similar to DPDK [4], mainly relying on a user-space C++ program to bypass the kernel for handling network packets. The Linux kernel’s primary role is to provide basic hardware drivers and process management.</p><p>Interestingly, the core software extracted from the UTA also includes some functionalities that seemingly belong on satellites or ground gateways. Our initial reverse-engineering indicates that, during startup, the system identifies the device type based on hardware peripherals and then loads and executes the corresponding logic.</p><hr><h2 id="emulation">Emulation</h2><p>For convenient ongoing analysis of the UTA, DARKNAVY built a basic QEMU-based emulation environment for the Rev3 firmware:</p><p>Within this environment, we successfully ran and debugged parts of the software, including <code>httpd</code>, <code>WebSocket</code>, and <code>gRPC</code> services that interact with external entities.</p><p><img alt="Debugging the user_terminal_frontend program" loading="lazy" src="https://www.darknavy.org/blog/a_first_glimpse_of_the_starlink_user_ternimal/attachments/91f681b3-25c3-4487-a2db-518aedba9a22.png"></p><hr><h2 id="security-chip">Security Chip</h2><p>Besides the main SoC, the UTA also features a dedicated security chip, <code>STSAFE-A110</code>, which claims a CC EAL5+ security rating [5]. Unlike the custom SoC, this chip can be legally purchased under an NDA. In the UTA firmware, a user-space program named <code>stsafe_cli</code> handles interactions with this chip. Reverse-engineering suggests that STSAFE primarily provides:</p><ul><li>A unique identifier (UUID) for each device</li><li>Management of a public key certificate (<code>stsafe_leaf.pem</code>), presumably used for satellite communication authentication</li><li>Derivation of symmetric encryption keys for user data transmission</li></ul><p>Overall, this chip serves as an additional root of trust independent of the SoC’s secure boot mechanism, which aligns with modern embedded security design practices.</p><hr><h2 id="easter-egg-is-elon-watching-you">Easter Egg: Is Elon Watching You?</h2><p>During the analysis, DARKNAVY stumbled upon a program labeled <strong>Ethernet Data Recorder</strong>, which naturally raises suspicions of a backdoor capturing user data.</p><p><img alt="Ethernet Data Recorder" loading="lazy" src="https://www.darknavy.org/blog/a_first_glimpse_of_the_starlink_user_ternimal/attachments/a451b9c1-5be5-4d8f-a77a-f17edef85653.png"></p><p>This program’s name and functionality hint at potential packet logging. Closer inspection reveals that it leverages a <code>pcap_filter</code>-like mechanism to record certain network packets, with capture rules resembling:</p><div><pre tabindex="0"><code data-lang="cpp"><span><span><span># name            track   options                type    interfaces       pcap_filter
</span></span></span><span><span><span></span><span>diagnostics</span>       <span>0</span>       <span>compress</span><span>,</span><span>ipcompress</span>    <span>telem</span>   <span>lo</span>               <span>udp</span> <span>and</span> <span>dst</span> <span>port</span> <span>10017</span> <span>and</span> <span>(</span><span>dst</span> <span>host</span> <span>239.26.7.131</span> <span>or</span> <span>dst</span> <span>host</span> <span>239.26.7.130</span><span>)</span>
</span></span></code></pre></div><p>Based on other clues in the firmware, these packets are related to satellite telemetry. All captured traffic is also encrypted using hardware keys fused into the SoC. From the information we have so far, it does not appear to collect user privacy data.</p><p>During device initialization, if the system identifies itself as a user terminal, the initialization script automatically writes 41 SSH public keys into <code>/root/.ssh/authorized_keys</code>. Notably, port 22 on the UTA remains open to the local network at all times. Having such a large number of unknown login keys on a user product certainly raises eyebrows.</p><hr><p>As satellite technology continues to evolve and find applications across diverse industries, every component of Starlink—and other satellite internet systems—may become a critical battleground for future offensive and defensive operations. In space security, developers and hackers contend not only in the digital realm but also against the constraints of cosmic physics: one wrong move could mean losing contact with the target forever.</p><h2 id="references">References</h2><ul><li>[1] <a href="https://www.ciscolive.com/c/dam/r/ciscolive/global-event/docs/2024/pdf/BRKSEC-2150.pdf">https://www.ciscolive.com/c/dam/r/ciscolive/global-event/docs/2024/pdf/BRKSEC-2150.pdf</a></li><li>[2] <a href="https://i.blackhat.com/USA-22/Wednesday/US-22-Wouters-Glitched-On-Earth.pdf">https://i.blackhat.com/USA-22/Wednesday/US-22-Wouters-Glitched-On-Earth.pdf</a></li><li>[3] <a href="https://blog.quarkslab.com/starlink.html">https://blog.quarkslab.com/starlink.html</a></li><li>[4] <a href="https://www.dpdk.org/">https://www.dpdk.org/</a></li><li>[5] <a href="https://www.st.com/en/secure-mcus/stsafe-a110.html">https://www.st.com/en/secure-mcus/stsafe-a110.html</a></li></ul></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[A Formal Analysis of Apple's iMessage PQ3 Protocol [pdf] (138 pts)]]></title>
            <link>https://www.usenix.org/system/files/conference/usenixsecurity25/sec25cycle1-prepub-595-linker.pdf</link>
            <guid>43933412</guid>
            <pubDate>Fri, 09 May 2025 02:54:45 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.usenix.org/system/files/conference/usenixsecurity25/sec25cycle1-prepub-595-linker.pdf">https://www.usenix.org/system/files/conference/usenixsecurity25/sec25cycle1-prepub-595-linker.pdf</a>, See on <a href="https://news.ycombinator.com/item?id=43933412">Hacker News</a></p>
&lt;Not HTML&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Audiobookshelf: Self-hosted audiobook and podcast server (168 pts)]]></title>
            <link>https://www.audiobookshelf.org/</link>
            <guid>43933248</guid>
            <pubDate>Fri, 09 May 2025 02:17:55 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.audiobookshelf.org/">https://www.audiobookshelf.org/</a>, See on <a href="https://news.ycombinator.com/item?id=43933248">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p><img src="https://www.audiobookshelf.org/Logo.png"></p> <p>Self-hosted audiobook and podcast server</p></div></div>]]></description>
        </item>
    </channel>
</rss>