<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Sat, 21 Oct 2023 22:00:07 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Reddit mods dumped tokens hours before blockchain program termination (154 pts)]]></title>
            <link>https://cointelegraph.com/news/reddit-mods-dumped-tokens-hours-before-blockchain-program-termination</link>
            <guid>37969387</guid>
            <pubDate>Sat, 21 Oct 2023 18:38:45 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://cointelegraph.com/news/reddit-mods-dumped-tokens-hours-before-blockchain-program-termination">https://cointelegraph.com/news/reddit-mods-dumped-tokens-hours-before-blockchain-program-termination</a>, See on <a href="https://news.ycombinator.com/item?id=37969387">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-gtm-locator="a1" data-v-3d3be88a=""><article id="article-118556" data-v-3d3be88a=""><p itemprop="description" data-v-3d3be88a=""> Analysis suggests at least three Reddit moderators dumped thousands of dollars worth of Moons just minutes before the actual announcement.  </p><div data-v-1b2c826e="" data-v-3d3be88a=""><p><span data-v-1b2c826e=""></span><span data-v-1b2c826e=""> 8617 </span><span data-v-1b2c826e=""> Total views </span></p><p><span data-v-1b2c826e=""> 648 </span><span data-v-1b2c826e=""> Total shares </span></p></div><div data-v-3d3be88a=""><picture><source media="(min-width: 1200px)" srcset="https://images.cointelegraph.com/cdn-cgi/image/format=auto,onerror=redirect,quality=90,width=717/https://s3.cointelegraph.com/uploads/2023-10/8f74cc48-aa85-47c9-955d-ad9dc3ed33a3.jpg, https://images.cointelegraph.com/cdn-cgi/image/format=auto,onerror=redirect,quality=90,width=1434/https://s3.cointelegraph.com/uploads/2023-10/8f74cc48-aa85-47c9-955d-ad9dc3ed33a3.jpg"><source media="(min-width: 992px)" srcset="https://images.cointelegraph.com/cdn-cgi/image/format=auto,onerror=redirect,quality=90,width=587/https://s3.cointelegraph.com/uploads/2023-10/8f74cc48-aa85-47c9-955d-ad9dc3ed33a3.jpg, https://images.cointelegraph.com/cdn-cgi/image/format=auto,onerror=redirect,quality=90,width=1174/https://s3.cointelegraph.com/uploads/2023-10/8f74cc48-aa85-47c9-955d-ad9dc3ed33a3.jpg"><source media="(min-width: 768px)" srcset="https://images.cointelegraph.com/cdn-cgi/image/format=auto,onerror=redirect,quality=90,width=638/https://s3.cointelegraph.com/uploads/2023-10/8f74cc48-aa85-47c9-955d-ad9dc3ed33a3.jpg, https://images.cointelegraph.com/cdn-cgi/image/format=auto,onerror=redirect,quality=90,width=1276/https://s3.cointelegraph.com/uploads/2023-10/8f74cc48-aa85-47c9-955d-ad9dc3ed33a3.jpg"><source media="(min-width: 480px)" srcset="https://images.cointelegraph.com/cdn-cgi/image/format=auto,onerror=redirect,quality=90,width=747/https://s3.cointelegraph.com/uploads/2023-10/8f74cc48-aa85-47c9-955d-ad9dc3ed33a3.jpg, https://images.cointelegraph.com/cdn-cgi/image/format=auto,onerror=redirect,quality=90,width=1494/https://s3.cointelegraph.com/uploads/2023-10/8f74cc48-aa85-47c9-955d-ad9dc3ed33a3.jpg"><img srcset="https://images.cointelegraph.com/cdn-cgi/image/format=auto,onerror=redirect,quality=90,width=480/https://s3.cointelegraph.com/uploads/2023-10/8f74cc48-aa85-47c9-955d-ad9dc3ed33a3.jpg, https://images.cointelegraph.com/cdn-cgi/image/format=auto,onerror=redirect,quality=90,width=960/https://s3.cointelegraph.com/uploads/2023-10/8f74cc48-aa85-47c9-955d-ad9dc3ed33a3.jpg" src="https://images.cointelegraph.com/cdn-cgi/image/format=auto,onerror=redirect,quality=90,width=1434/https://s3.cointelegraph.com/uploads/2023-10/8f74cc48-aa85-47c9-955d-ad9dc3ed33a3.jpg" alt="Reddit mods dumped tokens hours before blockchain program termination"></picture><!----></div><!----><!----><div data-v-3d3be88a=""><!----><div data-v-3d3be88a=""><p>Popular social network platform <a href="https://cointelegraph.com/news/reddit-shutters-blockchain-based-community-points" data-amp="https://cointelegraph-com.cdn.ampproject.org/c/s/cointelegraph.com/news/reddit-shutters-blockchain-based-community-points/amp">Reddit announced the winddown of its blockchain-based community points program</a> on Oct. 17, citing scalability issues. The announcement created controversy in the crypto community, with many calling it a rug-pull, as the price of the native token on different subreddits tanked after the news was revealed.&nbsp;</p><p>Each subreddit had its own native token. For example, the Moons (MOON) token was the native crypto asset of r/CryptoCurrency, while Bricks (BRICK) was for r/FortNiteBR. Users could spend these points on badges and exclusive items for their avatars. </p><p>At the time of the announcement, the moderators of most of the subreddits involved with the community points program claimed to be unaware of the decision. However, this is now being called into question as new on-chain data suggests that at least a couple of moderators holding Moons may have been linked to three wallets that dumped millions of the tokens shortly before the announcement.</p><p><strong><em>Related: </em></strong><a href="https://cointelegraph.com/news/reddit-community-tokens-soar-kraken-listing" data-amp="https://cointelegraph-com.cdn.ampproject.org/c/s/cointelegraph.com/news/reddit-community-tokens-soar-kraken-listing/amp"><strong><em>Reddit community tokens soar on Kraken listing</em></strong></a></p><p>On-chain analysts such as Pledditor were the first to draw attention to the actions of subreddit moderator u/Mcgillby. On-chain data reveals that this moderator transferred more than 100,000 MOON over two different transactions on the Arbitrum Nova blockchain, turning it into more than $23,000 in Ether (<a href="https://cointelegraph.com/ethereum-price">ETH</a>). The user subsequently deleted all earlier Reddit posts.</p><blockquote><div lang="en" dir="ltr"><p>.<a href="https://twitter.com/Reddit?ref_src=twsrc%5Etfw">@Reddit</a> admins told /r/CryptoCurrency moderators beforehand, and 3 moderators sold <a href="https://twitter.com/search?q=%24MOON&amp;src=ctag&amp;ref_src=twsrc%5Etfw">$MOON</a> tokens on insider information<a href="https://twitter.com/search?q=%24MOON&amp;src=ctag&amp;ref_src=twsrc%5Etfw">$MOON</a> price dropped -22% minutes before the announcement was posted</p><p>Here is a list of Reddit moderators acting on inside information BEFORE the announcement: <a href="https://t.co/xAh75hOVEa">pic.twitter.com/xAh75hOVEa</a></p></div>— Pledditor (@Pledditor) <a href="https://twitter.com/Pledditor/status/1714610041699930439?ref_src=twsrc%5Etfw">October 18, 2023</a></blockquote>

<p>In another incident, just 17 minutes before Reddit’s statement, moderator u/Rider_of_the_storm allegedly shifted 345,422 MOON, worth over $69,000 at the time, to an exchange address. The Reddit account in question has since been deactivated. According to Lookonchain, on-chain data showed that at least three of the administrators overseeing the cryptocurrency subreddit liquidated tokens some 20 to 30 minutes before the announcement went public. </p><blockquote><p lang="en" dir="ltr">1/ Three <a href="https://twitter.com/CCMOD_?ref_src=twsrc%5Etfw">@CCMOD_</a> moderators dumped <a href="https://twitter.com/search?q=%24MOON&amp;src=ctag&amp;ref_src=twsrc%5Etfw">$MOON</a> in advance via <a href="https://twitter.com/hashtag/inside?src=hash&amp;ref_src=twsrc%5Etfw">#inside</a> information from <a href="https://twitter.com/Reddit?ref_src=twsrc%5Etfw">@Reddit</a> admins. <a href="https://t.co/ucrPkh6siX">pic.twitter.com/ucrPkh6siX</a></p>— Lookonchain (@lookonchain) <a href="https://twitter.com/lookonchain/status/1714851956995555816?ref_src=twsrc%5Etfw">October 19, 2023</a></blockquote>

<p>A statement from the Reddit moderators <a href="https://www.reddit.com/r/CryptoCurrency/comments/17a33ql/comment/k5ahcpu/?utm_source=reddit&amp;utm_medium=web2x&amp;context=3" target="_blank" rel="noopener nofollow">clarified</a> that they received the notice about the termination of the community points program an hour prior, suggesting that the three moderators could have used the information to dump their token holdings.</p><p><strong><em>Magazine: </em></strong><a href="https://cointelegraph.com/magazine/blockchain-detectives-mt-gox-collapse-birth-chainalysis/"><strong><em>Blockchain detectives — Mt. Gox collapse saw birth of Chainalysis</em></strong></a></p><template data-name="subscription_form" data-type="law_decoded"></template>










</div><!----><!----><!----><!----><p><img alt="" src="https://zoa.cointelegraph.com/pixel?postId=118556&amp;regionId=1" data-v-3d3be88a=""></p></div></article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Adtech surveillance and government surveillance are often the same (123 pts)]]></title>
            <link>https://www.eff.org/deeplinks/2023/10/adtech-surveillance-and-government-surveillance-are-often-same-surveillance</link>
            <guid>37969248</guid>
            <pubDate>Sat, 21 Oct 2023 18:22:32 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.eff.org/deeplinks/2023/10/adtech-surveillance-and-government-surveillance-are-often-same-surveillance">https://www.eff.org/deeplinks/2023/10/adtech-surveillance-and-government-surveillance-are-often-same-surveillance</a>, See on <a href="https://news.ycombinator.com/item?id=37969248">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <article role="article">
  
  
  <div><p><span>In the absence of comprehensive federal privacy </span><a href="https://www.eff.org/deeplinks/2019/06/effs-recommendations-consumer-data-privacy-laws"><span>legislation</span></a><span> in the United States, the </span><a href="https://www.eff.org/deeplinks/2019/01/guided-tour-data-facebook-uses-target-ads"><span>targeted</span></a> <a href="https://www.eff.org/wp/behind-the-one-way-mirror"><span>advertising</span></a> <a href="https://www.eff.org/deeplinks/2022/03/ban-online-behavioral-advertising"><span>industry</span></a><span>, fueled by personal information harvested from our cell phone applications, has run roughshod over our privacy. Worse, the boundaries between corporate surveillance and government surveillance are eroding. Unless your data is fully encrypted or stored locally by you, the government often can get it from a communications or computing company. <br></span></p>
<p><span>Traditionally, that required a court order. But increasingly, the government just buys it from data brokers who bought it from the adtech industry. <br></span></p>
<p><span>An investigation from the </span><a href="https://www.wsj.com/tech/cybersecurity/how-ads-on-your-phone-can-aid-government-surveillance-943bde04"><span>Wall Street Journal </span></a><span>identified a company called Near Intelligence that purchased data about individuals and their devices from brokers who usually sell to advertisers. The company had contracts with government contractors that passed this data along to federal military and intelligence agencies. The company says it purchased data on over a billion devices. The government, in turn, can buy access to geolocation data on all those devices, when generally they’d have to show probable cause and get a warrant to get that same data. <br></span></p>
<p><span>Many smartphone application developers, to make a quick buck, are all too eager to sell your data to the highest bidder–and that often includes the government. Courts should hold that the Fourth Amendment requires police to get a warrant before tracking a person this way, but unfortunately, this corporate-government surveillance partnership has mostly evaded judicial review. <br></span></p>
<p><span>With the click of a mouse, police can use such surveillance tools to see the devices of people who attended a protest, follow them home to where they sleep, and target them for more surveillance, harassment, and retribution. Police can also track people whose devices have been inside an immigration attorney’s office, a reproductive health clinic, or a mental health facility. Police could easily use this tool to watch a secret rendezvous between a journalist and their whistleblowing source. Not to mention that law enforcement officials have often</span><a href="https://slate.com/technology/2013/09/loveint-how-nsa-spies-snooped-on-girlfriends-lovers-and-first-dates.html"> <span>abused</span></a><span> surveillance technologies for</span><a href="https://www.kentucky.com/news/nation-world/national/article243605777.html"> <span>malicious personal reasons</span></a><span>.</span></p>
<p><span>This type of surveillance also makes people who live and work in heavily-policed areas more vulnerable to falling under police suspicion. If you happened to be next door to a pizza shop that got robbed, or took a coffee break near graffiti, police could easily see your device located near the crime and target you for more surveillance.</span></p>
<p><span>News about Near Intelligence comes just a year after an EFF investigation revealed </span><a href="https://www.eff.org/deeplinks/2022/06/what-fog-data-science-why-surveillance-company-so-dangerous"><span>Fog Data Science</span></a><span>, a previously unknown company that provides state and local law enforcement with easy and often warrantless access to the precise and continuous geolocation of hundreds of millions of unsuspecting Americans, collected through their smartphone apps and then aggregated by shadowy data brokers. <br></span></p>
<p><span>In light of the Journal’s recent expose, Congress must close this databroker loophole once and for all. The </span><a href="https://www.wyden.senate.gov/news/press-releases/wyden-paul-and-bipartisan-senators-reintroduce-the-fourth-amendment-is-not-for-sale-act"><span>Fourth Amendment is Not For Sale Act</span></a><span> is bipartisan, commonsense law that would ban the U.S. government from purchasing data it would otherwise need a warrant to acquire.&nbsp; Moreover, with the invasive surveillance law</span><a href="https://act.eff.org/action/tell-congress-absent-major-changes-702-should-not-be-renewed"><span> Section 702 of the Foreign Intelligence Surveillance Act set to expire in December 2023</span></a><span>, Congress has a chance to include a databroker limits in any bill that seeks to renew it. <br></span></p>
<p><span>Further, Congress and the states must enact </span><a href="https://www.eff.org/deeplinks/2019/06/effs-recommendations-consumer-data-privacy-laws"><span>comprehensive</span></a> <a href="https://www.eff.org/deeplinks/2022/07/federal-preemption-state-privacy-law-hurts-everyone"><span>consumer</span></a> <a href="https://www.eff.org/deeplinks/2019/01/you-should-have-right-sue-companies-violate-your-privacy"><span>data</span></a> <a href="https://www.eff.org/deeplinks/2022/04/stop-forced-arbitration-data-privacy-legislation"><span>privacy</span></a> <a href="https://www.eff.org/deeplinks/2023/03/eff-comments-ntia-privacy-and-civil-rights"><span>legislation</span></a><span>. If companies harvest less of our data, then there will be less data for the government to buy from those companies. <br></span></p>
<p><span>It’s up to us to keep agitating to prevent the government from continuing to buy information about us that it would otherwise need a warrant for.&nbsp;</span></p>

</div>

          </article>
    </div><div>
          <h2>Join EFF Lists</h2>
        
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The Worlds First FPGA N64 (243 pts)]]></title>
            <link>http://www.ultrafp64.com/</link>
            <guid>37967936</guid>
            <pubDate>Sat, 21 Oct 2023 16:01:45 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="http://www.ultrafp64.com/">http://www.ultrafp64.com/</a>, See on <a href="https://news.ycombinator.com/item?id=37967936">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="page">
	<p><a href="#content">Skip to content</a></p><header id="masthead" role="banner">

	

<div>

	
						
			
			<p>
			The Worlds First FPGA N64		</p>
	</div><!-- .site-branding -->
	
	<!-- #site-navigation -->

</header><!-- #masthead -->

	<div id="content">
			<main id="main" role="main">

<article id="post-5" class="page">

	
	<div>
		
<figure><img width="1024" height="577" src="http://www.ultrafp64.com/wp-content/uploads/2022/06/20220615_164630-1024x577.jpg" alt="" srcset="http://www.ultrafp64.com/wp-content/uploads/2022/06/20220615_164630-1024x577.jpg 1024w, http://www.ultrafp64.com/wp-content/uploads/2022/06/20220615_164630-300x169.jpg 300w, http://www.ultrafp64.com/wp-content/uploads/2022/06/20220615_164630-768x433.jpg 768w, http://www.ultrafp64.com/wp-content/uploads/2022/06/20220615_164630-1536x865.jpg 1536w, http://www.ultrafp64.com/wp-content/uploads/2022/06/20220615_164630-2048x1154.jpg 2048w, http://www.ultrafp64.com/wp-content/uploads/2022/06/20220615_164630-1568x883.jpg 1568w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<h2 id="many-things-done-and-the-core-itself-is-almost-done-4-years-in-the-making-by-probing-everything-in-the-real-hardware-rcp-core-done-now-on-to-the-cpu">Many things are done, and the core itself is almost done – 5 Years in the making by probing everything in the real hardware. </h2>



<h2 id="many-things-done-and-the-core-itself-is-almost-done-4-years-in-the-making-by-probing-everything-in-the-real-hardware-rcp-core-done-now-on-to-the-cpu">Everything is now done!!! Just working on some upgrades!!!!</h2>



<div>
<div>
<h2 id="cpu-design"><strong>CPU design</strong></h2>




</div>



<div>
<h2 id="bus-design"><strong>Bus Design</strong></h2>




</div>



<div>
<h2 id="mips-interface"><strong>MIPS Interface</strong></h2>




</div>
</div>



<div>
<div>
<h2 id="pif-si-interface"><strong>PIF/SI interface</strong></h2>




</div>



<div>
<h2 id="rom-reader"><strong>Rom Reader</strong></h2>




</div>



<div>
<h2 id="ram-controller"><strong>Ram controller</strong></h2>




</div>
</div>



<div>
<div>
<h2 id="rsp-core-completed"><strong>RSP Core</strong>&nbsp;-completed</h2>




</div>



<div>
<h2 id="rdp-core-completed-with-one-masking-issue"><strong>RDP Core</strong> – completed</h2>




</div>



<div>
<h2 id="video-core"><strong>Video Core</strong>&nbsp;</h2>




</div>
</div>



<div>
<h2 id="audio-core">Audio Core</h2>




</div>







<p>This has been Five years in the making and written fully by myself. No leaks were used for the production of this core. Only emulators, reverse engineering and a lot of reading of patents. Coffee was overused as well</p>



<p>Many thanks to the N64Brew team and Decompiler teams as well for testing and source code access to find all the bugs.  </p>



<p><a href="https://www.twitch.tv/ultrafp64">https://www.twitch.tv/ultrafp64</a></p>



<p><a href="https://www.youtube.com/user/mazamars312/videos">https://www.youtube.com/user/mazamars312/videos</a></p>



<figure><img loading="lazy" width="1024" height="576" src="https://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_25_33_Pro-1024x576.jpg" alt="" srcset="http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_25_33_Pro-1024x576.jpg 1024w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_25_33_Pro-300x169.jpg 300w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_25_33_Pro-768x432.jpg 768w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_25_33_Pro-1536x864.jpg 1536w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_25_33_Pro-1568x882.jpg 1568w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_25_33_Pro.jpg 1920w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<figure><img loading="lazy" width="1024" height="576" src="https://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_26_21_Pro-1024x576.jpg" alt="" srcset="http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_26_21_Pro-1024x576.jpg 1024w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_26_21_Pro-300x169.jpg 300w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_26_21_Pro-768x432.jpg 768w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_26_21_Pro-1536x864.jpg 1536w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_26_21_Pro-1568x882.jpg 1568w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_26_21_Pro.jpg 1920w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<figure>
<figure><img loading="lazy" width="1024" height="576" data-id="43" src="https://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_26_48_Pro-1024x576.jpg" alt="" srcset="http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_26_48_Pro-1024x576.jpg 1024w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_26_48_Pro-300x169.jpg 300w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_26_48_Pro-768x432.jpg 768w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_26_48_Pro-1536x864.jpg 1536w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_26_48_Pro-1568x882.jpg 1568w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_26_48_Pro.jpg 1920w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<figure><img loading="lazy" width="1024" height="576" data-id="45" src="https://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_26_53_Pro-1024x576.jpg" alt="" srcset="http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_26_53_Pro-1024x576.jpg 1024w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_26_53_Pro-300x169.jpg 300w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_26_53_Pro-768x432.jpg 768w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_26_53_Pro-1536x864.jpg 1536w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_26_53_Pro-1568x882.jpg 1568w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_26_53_Pro.jpg 1920w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<figure><img loading="lazy" width="1024" height="576" data-id="39" src="https://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_23_Pro-1024x576.jpg" alt="" srcset="http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_23_Pro-1024x576.jpg 1024w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_23_Pro-300x169.jpg 300w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_23_Pro-768x432.jpg 768w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_23_Pro-1536x864.jpg 1536w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_23_Pro-1568x882.jpg 1568w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_23_Pro.jpg 1920w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<figure><img loading="lazy" width="1024" height="576" data-id="40" src="https://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_26_Pro-1024x576.jpg" alt="" srcset="http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_26_Pro-1024x576.jpg 1024w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_26_Pro-300x169.jpg 300w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_26_Pro-768x432.jpg 768w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_26_Pro-1536x864.jpg 1536w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_26_Pro-1568x882.jpg 1568w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_26_Pro.jpg 1920w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<figure><img loading="lazy" width="1024" height="576" data-id="42" src="https://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_43_Pro-1024x576.jpg" alt="" srcset="http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_43_Pro-1024x576.jpg 1024w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_43_Pro-300x169.jpg 300w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_43_Pro-768x432.jpg 768w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_43_Pro-1536x864.jpg 1536w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_43_Pro-1568x882.jpg 1568w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_43_Pro.jpg 1920w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<figure><img loading="lazy" width="1024" height="576" data-id="44" src="https://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_47_Pro-1024x576.jpg" alt="" srcset="http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_47_Pro-1024x576.jpg 1024w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_47_Pro-300x169.jpg 300w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_47_Pro-768x432.jpg 768w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_47_Pro-1536x864.jpg 1536w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_47_Pro-1568x882.jpg 1568w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_27_47_Pro.jpg 1920w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<figure><img loading="lazy" width="1024" height="576" data-id="41" src="https://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_28_07_Pro-1024x576.jpg" alt="" srcset="http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_28_07_Pro-1024x576.jpg 1024w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_28_07_Pro-300x169.jpg 300w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_28_07_Pro-768x432.jpg 768w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_28_07_Pro-1536x864.jpg 1536w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_28_07_Pro-1568x882.jpg 1568w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_28_07_Pro.jpg 1920w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<figure><img loading="lazy" width="1024" height="576" data-id="46" src="https://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_28_16_Pro-1024x576.jpg" alt="" srcset="http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_28_16_Pro-1024x576.jpg 1024w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_28_16_Pro-300x169.jpg 300w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_28_16_Pro-768x432.jpg 768w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_28_16_Pro-1536x864.jpg 1536w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_28_16_Pro-1568x882.jpg 1568w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_28_16_Pro.jpg 1920w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<figure><img loading="lazy" width="1024" height="576" data-id="48" src="https://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_30_10_Pro-1024x576.jpg" alt="" srcset="http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_30_10_Pro-1024x576.jpg 1024w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_30_10_Pro-300x169.jpg 300w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_30_10_Pro-768x432.jpg 768w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_30_10_Pro-1536x864.jpg 1536w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_30_10_Pro-1568x882.jpg 1568w, http://www.ultrafp64.com/wp-content/uploads/2022/03/WIN_20220401_08_30_10_Pro.jpg 1920w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>
</figure>



<p>Where am I up to right now….. Well, let’s just say I’m almost done 🙂 Finally!!!!</p>



<p>I have no issues with buying myself a coffee to help my coffee addiction 🙂</p>








	</div><!-- .entry-content -->

	</article><!-- #post-5 -->
			</main><!-- #main -->
		</div><!-- #content -->

	
	<!-- .widget-area -->


	<!-- #colophon -->

</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[What every developer should know about GPU computing (298 pts)]]></title>
            <link>https://codeconfessions.substack.com/p/gpu-computing</link>
            <guid>37967126</guid>
            <pubDate>Sat, 21 Oct 2023 14:36:47 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://codeconfessions.substack.com/p/gpu-computing">https://codeconfessions.substack.com/p/gpu-computing</a>, See on <a href="https://news.ycombinator.com/item?id=37967126">Hacker News</a></p>
<div id="readability-page-1" class="page"><div dir="auto"><p>Most programmers have an intimate understanding of CPUs and sequential programming because they grow up writing code for the CPU, but many are less familiar with the inner workings of GPUs and what makes them so special. Over the past decade, GPUs have become incredibly important because of their pervasive use in deep learning. Today, it is essential for every software engineer to possess a basic understanding of how they work. My goal with this article is to give you that background.&nbsp;</p><blockquote><p><em><span>Much of this article is based on the book “</span><a href="https://shop.elsevier.com/books/programming-massively-parallel-processors/hwu/978-0-323-91231-0" rel="">Programming Massively Parallel Processors</a><span>”, 4th edition by Hwu et al. As the book covers Nvidia GPUs, I will also be talking about Nvidia GPUs and using Nvidia specific terminology. However, the fundamental concepts and approach to GPU programming apply to other vendors as well.</span></em></p></blockquote><p>We will start by doing a comparison between CPU and GPU which will give us a better vantage point of the GPU landscape. However, this is a topic of its own and we cannot possibly squeeze everything in one section. So, we will stick to a few key points.</p><p><span>The major difference between CPUs and GPUs is in their design goals. CPUs were designed to execute sequential instructions</span></p><p><span>. To improve their sequential execution performance, many features have been introduced in the CPU design over the years. The emphasis has been on reducing the instruction execution latency so that CPUs can execute a sequence of instructions as fast as possible. This includes features like </span><a href="https://en.wikipedia.org/wiki/Instruction_pipelining" rel="">instruction pipelining</a><span>, </span><a href="https://en.wikipedia.org/wiki/Out-of-order_execution" rel="">out of order execution</a><span>, </span><a href="https://en.wikipedia.org/wiki/Speculative_execution" rel="">speculative execution</a><span> and multilevel caches (just to list a few).</span></p><p>GPUs on the other hand have been designed for massive levels of parallelism and high throughput, at the cost of medium to high instruction latency. This design direction has been influenced by their use in video games, graphics, numerical computing, and now deep learning. All of these applications need to perform a ton of linear algebra and numerical computations at a very fast rate, because of which a lot of attention has gone into improving the throughput of these devices.</p><p>Let’s consider a concrete example. A CPU can add two numbers much faster than the GPU because of its low instruction latency. They will be able to do several of such computations in a sequence faster than a GPU. However, when it comes to doing millions or billions of such computations, a GPU will do those computations much much faster than a CPU because of its sheer massive parallelism.</p><p>If you like numbers, let’s talk about numbers. The performance of hardware for numerical computations is measured in terms of how many floating point operations it can do per second (FLOPS). The Nvidia Ampere A100 offers a throughput of 19.5 TFLOPS for 32-bit precision. In comparison, the throughput of an Intel 24-core processor is 0.66 TFLOPS for 32-bit precision (these numbers are from 2021). And, this gap in the throughput performance between GPUs and CPUs has been growing wider with each passing year.</p><p>The following figure compares the architectures of CPUs and GPUs.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2e81d6e3-f38b-49d3-995b-a334fb38394f_1456x719.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2e81d6e3-f38b-49d3-995b-a334fb38394f_1456x719.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2e81d6e3-f38b-49d3-995b-a334fb38394f_1456x719.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2e81d6e3-f38b-49d3-995b-a334fb38394f_1456x719.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2e81d6e3-f38b-49d3-995b-a334fb38394f_1456x719.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2e81d6e3-f38b-49d3-995b-a334fb38394f_1456x719.png" width="1456" height="719" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/2e81d6e3-f38b-49d3-995b-a334fb38394f_1456x719.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:719,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:&quot;Figure 1: A comparison of the CPU and GPU chip design. Figure from the Nvidia CUDA C++ Programming Guide&quot;,&quot;title&quot;:&quot;A comparison of the CPU and GPU chip design. Figure from the Nvidia CUDA C++ Programming Guide&quot;,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="Figure 1: A comparison of the CPU and GPU chip design. Figure from the Nvidia CUDA C++ Programming Guide" title="A comparison of the CPU and GPU chip design. Figure from the Nvidia CUDA C++ Programming Guide" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2e81d6e3-f38b-49d3-995b-a334fb38394f_1456x719.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2e81d6e3-f38b-49d3-995b-a334fb38394f_1456x719.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2e81d6e3-f38b-49d3-995b-a334fb38394f_1456x719.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2e81d6e3-f38b-49d3-995b-a334fb38394f_1456x719.png 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>Figure 1: A comparison of the CPU and GPU chip design. Figure from the Nvidia CUDA C++ Programming Guide</figcaption></figure></div><p>As you may see, CPUs dedicate a significant amount of chip area towards features which will reduce instruction latency, such as large caches, less ALUs and more control units. In contrast, GPUs use a large number of ALUs to maximize their computation power and throughput. They use a very small amount of the chip area for caches and control units, the things which reduce the latency for CPUs.</p><p><span>You might wonder, how do the GPUs tolerate high latencies and yet provide high performance. We can understand this with the help of </span><a href="https://en.wikipedia.org/wiki/Little%27s_law" rel="">Little’s law</a><span> from queuing theory. It states that the average number of requests in the system (Qd for queue depth) is equal to the average arrival rate of requests (throughput T) multiplied by the average amount of time to serve a request (latency L).</span></p><p>In the context of GPUs, this basically means one can tolerate a given level of latency in the system to achieve a target throughput by maintaining a queue of instructions which are either in execution or waiting. The large number of compute units in the GPU and efficient thread scheduling enables the GPUs to maintain this queue over kernel execution time and achieve a high throughput despite these long memory latencies.</p><p>So we understand GPUs favor high throughput but what does their architecture look like which enables them to achieve this, let’s discuss in this section.</p><p>A GPU consists of an array of streaming multiprocessors (SM). Each of these SMs in turn consists of several streaming processors or cores or threads. For instance, the Nvidia H100 GPU has 132 SMs with 64 cores per SM, totalling a whopping 8448 cores.</p><p>Each SM has a limited amount of on-chip memory, often referred to as shared memory or a scratchpad, which is shared among all the cores. Likewise, the control unit resources on the SM are shared by all the cores. Additionally, each SM is equipped with hardware-based thread schedulers for executing threads.</p><p>Apart from these, each SM also has several functional units or other accelerated compute units such as tensor cores, or ray tracing units to serve specific compute demands of the workload that the GPU caters to.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f4c3f5e-1d1c-4556-8c7e-2725cc82d2df_971x593.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f4c3f5e-1d1c-4556-8c7e-2725cc82d2df_971x593.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f4c3f5e-1d1c-4556-8c7e-2725cc82d2df_971x593.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f4c3f5e-1d1c-4556-8c7e-2725cc82d2df_971x593.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f4c3f5e-1d1c-4556-8c7e-2725cc82d2df_971x593.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f4c3f5e-1d1c-4556-8c7e-2725cc82d2df_971x593.png" width="971" height="593" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/0f4c3f5e-1d1c-4556-8c7e-2725cc82d2df_971x593.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:593,&quot;width&quot;:971,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:&quot;Figure 2: The GPU Compute Architecture&quot;,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="Figure 2: The GPU Compute Architecture" title="Figure 2: The GPU Compute Architecture" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f4c3f5e-1d1c-4556-8c7e-2725cc82d2df_971x593.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f4c3f5e-1d1c-4556-8c7e-2725cc82d2df_971x593.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f4c3f5e-1d1c-4556-8c7e-2725cc82d2df_971x593.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0f4c3f5e-1d1c-4556-8c7e-2725cc82d2df_971x593.png 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>Figure 2: The GPU Compute Architecture</figcaption></figure></div><p>Next, let’s breakdown the GPU memory and look inside.</p><p>The GPU has several layers of different kinds of memories, with each having their specific use case. The following figure shows the memory hierarchy for one SM in the GPU.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e9b3eeb-76c2-4a9e-b526-52cea31bfc9a_1456x1228.jpeg" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e9b3eeb-76c2-4a9e-b526-52cea31bfc9a_1456x1228.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e9b3eeb-76c2-4a9e-b526-52cea31bfc9a_1456x1228.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e9b3eeb-76c2-4a9e-b526-52cea31bfc9a_1456x1228.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e9b3eeb-76c2-4a9e-b526-52cea31bfc9a_1456x1228.jpeg 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e9b3eeb-76c2-4a9e-b526-52cea31bfc9a_1456x1228.jpeg" width="1456" height="1228" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/6e9b3eeb-76c2-4a9e-b526-52cea31bfc9a_1456x1228.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1228,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:&quot;Figure 3: The GPU Memory Architecture from the Cornell Virtual Workshop on Understanding GPUs&quot;,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="Figure 3: The GPU Memory Architecture from the Cornell Virtual Workshop on Understanding GPUs" title="Figure 3: The GPU Memory Architecture from the Cornell Virtual Workshop on Understanding GPUs" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e9b3eeb-76c2-4a9e-b526-52cea31bfc9a_1456x1228.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e9b3eeb-76c2-4a9e-b526-52cea31bfc9a_1456x1228.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e9b3eeb-76c2-4a9e-b526-52cea31bfc9a_1456x1228.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6e9b3eeb-76c2-4a9e-b526-52cea31bfc9a_1456x1228.jpeg 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>Figure 3: The GPU Memory Architecture from the Cornell Virtual Workshop on Understanding GPUs</figcaption></figure></div><p>Let’s break it down.</p><ul><li><p><strong>Registers:</strong><span> We will start with the registers. Each SM in the GPU has a large number of registers. For instance, the Nvidia A100, and H100 models have 65,536 registers per SM. These registers are shared between the cores, and are allocated to them dynamically depending on the requirement of the threads. During execution the registers allocated to a thread are private to it, i.e., other threads cannot read/write those registers.</span></p></li><li><p><strong>Constant Caches:</strong><span> Next, we have constant caches on the chip. These are used to cache constant data used by the code executing on the SM. To utilize these caches, programmers have to explicitly declare objects as constants in the code so that the GPU may cache and keep them in the constant cache.</span></p></li><li><p><strong>Shared Memory:</strong><span> Each SM also has a shared memory or scratchpad which is a small amount of fast and low latency on-chip programmable SRAM memory. It is designed to be shared by a block of threads running on the SM. The idea behind shared memory is that if multiple threads need to work with the same piece of data, only one of them should load it from the global memory, while others will share it. Careful usage of shared memory can cut down redundant load operations from global memory, and improve the kernel execution performance. Another usage of the shared memory is as a synchronization mechanism between threads executing within a block.&nbsp;</span></p></li><li><p><strong>L1 Cache:</strong><span> Each SM also has an L1 cache which can cache frequently accessed data from L2 cache.&nbsp;</span></p></li><li><p><strong>L2 Cache:</strong><span> There is an L2 cache which is shared by all SMs. It caches the frequently accessed data from the global memory to cut down the latency. Note that both L1 and L2 caches are transparent to the SM, i.e., the SM doesn’t know it is getting data from L1 or L2. As far as the SM is concerned, it is getting data from the global memory. This is similar to how L1/L2/L3 caches work in CPUs.</span></p></li><li><p><strong>Global Memory:</strong><span> The GPU also has an off-chip global memory, which is a high capacity and high bandwidth DRAM. For instance, the Nvidia H100 has 80 GB high bandwidth memory (HBM) with bandwidth of 3000 GB/second. Due to being far away from the SMs, the latency of global memory is quite high. However, the several additional layers of on-chip memories, and high number of compute units help hide this latency (see Little's law discussion in the CPU vs GPU section).</span></p></li></ul><p>Now that we know about the key components of the GPU hardware, let’s go one step deeper and understand how these components come into picture when executing code.</p><p>To understand how the GPU executes a kernel, we first need to understand what a kernel is and what its configurations are. Let’s start there.</p><p>CUDA is the programming interface provided by Nvidia for writing programs for their GPUs. In CUDA you express a computation that you want to run on the GPU in the form similar to a&nbsp; C/C++ function and this function is called a kernel. The kernel operates on vectors of numbers in parallel which are provided to it as function parameters. A simple example would be a kernel to perform vector addition, i.e., a kernel that takes two vectors of numbers as inputs, adds them element-wise and writes the result to a third vector.&nbsp;</p><p>To execute a kernel on the GPU, we need to launch a number of threads which is collectively referred to as a grid. But there is more structure to the grid. A grid consists of one or more thread blocks (sometimes simply called as blocks) and each block consists of one or more threads.</p><p>The number of blocks and threads depends on the size of the data and the amount of parallelism we want. For instance, in our vector addition example, if we are adding vectors of dimension 256, then we may decide to configure a single thread block of 256 threads so that each thread operates on one element of the vector. For bigger problems, we may not have enough threads available on the GPU and we might want each thread to handle multiple data points.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16b44282-f064-478e-84b4-0c44664c1630_1600x760.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16b44282-f064-478e-84b4-0c44664c1630_1600x760.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16b44282-f064-478e-84b4-0c44664c1630_1600x760.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16b44282-f064-478e-84b4-0c44664c1630_1600x760.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16b44282-f064-478e-84b4-0c44664c1630_1600x760.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16b44282-f064-478e-84b4-0c44664c1630_1600x760.png" width="1456" height="692" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/16b44282-f064-478e-84b4-0c44664c1630_1600x760.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:692,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:&quot;Grid of thread blocks (figure from Nvidia CUDA C++ Programming Guide)&quot;,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="Grid of thread blocks (figure from Nvidia CUDA C++ Programming Guide)" title="Grid of thread blocks (figure from Nvidia CUDA C++ Programming Guide)" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16b44282-f064-478e-84b4-0c44664c1630_1600x760.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16b44282-f064-478e-84b4-0c44664c1630_1600x760.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16b44282-f064-478e-84b4-0c44664c1630_1600x760.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F16b44282-f064-478e-84b4-0c44664c1630_1600x760.png 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>Figure 4: Grid of thread blocks (figure from Nvidia CUDA C++ Programming Guide)</figcaption></figure></div><p>As far as implementation goes, writing a kernel requires two parts. One is the host code which executes on the CPU. This is where we load the data, allocate memory on the GPU, and launch the kernel with a configured grid of threads. The 2nd part is writing the device (GPU) code which executes on the GPU.</p><p>For our vector addition example, the following figure shows the host code.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F51685688-c07d-4baa-b0c0-7021597e7132_1442x739.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F51685688-c07d-4baa-b0c0-7021597e7132_1442x739.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F51685688-c07d-4baa-b0c0-7021597e7132_1442x739.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F51685688-c07d-4baa-b0c0-7021597e7132_1442x739.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F51685688-c07d-4baa-b0c0-7021597e7132_1442x739.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F51685688-c07d-4baa-b0c0-7021597e7132_1442x739.png" width="1442" height="739" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/51685688-c07d-4baa-b0c0-7021597e7132_1442x739.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:739,&quot;width&quot;:1442,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:&quot;Host code for the CUDA kernel for adding two vectors&quot;,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="Host code for the CUDA kernel for adding two vectors" title="Host code for the CUDA kernel for adding two vectors" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F51685688-c07d-4baa-b0c0-7021597e7132_1442x739.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F51685688-c07d-4baa-b0c0-7021597e7132_1442x739.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F51685688-c07d-4baa-b0c0-7021597e7132_1442x739.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F51685688-c07d-4baa-b0c0-7021597e7132_1442x739.png 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>Figure 5: Host code for the CUDA kernel for adding two vectors</figcaption></figure></div><p>And the following is the device code, which defines the actual kernel function.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7cb6a3a-d76f-4263-b9b8-0915e6b74c8f_1506x638.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7cb6a3a-d76f-4263-b9b8-0915e6b74c8f_1506x638.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7cb6a3a-d76f-4263-b9b8-0915e6b74c8f_1506x638.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7cb6a3a-d76f-4263-b9b8-0915e6b74c8f_1506x638.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7cb6a3a-d76f-4263-b9b8-0915e6b74c8f_1506x638.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7cb6a3a-d76f-4263-b9b8-0915e6b74c8f_1506x638.png" width="1456" height="617" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/f7cb6a3a-d76f-4263-b9b8-0915e6b74c8f_1506x638.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:617,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:&quot;Device code containing the definition of the vector addition kernel&quot;,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="Device code containing the definition of the vector addition kernel" title="Device code containing the definition of the vector addition kernel" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7cb6a3a-d76f-4263-b9b8-0915e6b74c8f_1506x638.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7cb6a3a-d76f-4263-b9b8-0915e6b74c8f_1506x638.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7cb6a3a-d76f-4263-b9b8-0915e6b74c8f_1506x638.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7cb6a3a-d76f-4263-b9b8-0915e6b74c8f_1506x638.png 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>Figure 6: Device code containing the definition of the vector addition kernel</figcaption></figure></div><blockquote><p>As the focus of this article is not teaching CUDA, we will not be going any deeper in this code. Now, let’s look at the exact steps behind the execution of a kernel on the GPU.</p></blockquote><p><span>Before the kernel can be scheduled for execution, all the data that it needs has to be copied from the memory of the host (the CPU) onto the global memory of the GPU (the device). Although, in latest GPU hardware one can also read directly from host memory using unified virtual memory (see section 2.2 of the paper: “</span><a href="https://arxiv.org/pdf/2006.06890.pdf" rel="">EMOGI: Efficient Memory-access for Out-of-memory Graph-traversal in GPUs</a><span>”).&nbsp;</span></p><p>After the GPU has all the necessary data in its memory, it assigns the thread blocks to the SMs. All threads within a block are processed by the same SM at the same time. To make this happen, the GPU must set aside resources on the SM for those threads before it can start executing them. In practice, multiple thread blocks can be assigned to the same SM for simultaneous execution.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0417e64e-77a6-443f-b861-5f2640291187_1041x331.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0417e64e-77a6-443f-b861-5f2640291187_1041x331.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0417e64e-77a6-443f-b861-5f2640291187_1041x331.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0417e64e-77a6-443f-b861-5f2640291187_1041x331.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0417e64e-77a6-443f-b861-5f2640291187_1041x331.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0417e64e-77a6-443f-b861-5f2640291187_1041x331.png" width="1041" height="331" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/0417e64e-77a6-443f-b861-5f2640291187_1041x331.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:331,&quot;width&quot;:1041,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:null,&quot;alt&quot;:&quot;Assignment of a thread block to an SM&quot;,&quot;title&quot;:null,&quot;type&quot;:null,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="Assignment of a thread block to an SM" title="Assignment of a thread block to an SM" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0417e64e-77a6-443f-b861-5f2640291187_1041x331.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0417e64e-77a6-443f-b861-5f2640291187_1041x331.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0417e64e-77a6-443f-b861-5f2640291187_1041x331.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0417e64e-77a6-443f-b861-5f2640291187_1041x331.png 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>Figure 7: Assignment of a thread block to an SM</figcaption></figure></div><p>As there are a limited number of SMs and large kernels can have a very large number of blocks, not all the blocks may get assigned for execution immediately. The GPU maintains a list of blocks which are waitlisted for assignment and execution. As and when any block finishes execution, the GPU assigns one of the waitlisted blocks for execution.</p><p><span>We know that all threads of a block are assigned to the same SM. But there’s another level of division of threads after this. These threads are further grouped into sizes of 32, which is called a warp (called a </span><em>warp</em></p><p><span>), and assigned together for execution on a set of cores called a processing block.</span></p><p>The SM executes all the threads within a warp together by fetching and issuing the same instruction to all of them. These threads then execute that instruction simultaneously, but on different parts of the data. In our vector addition example, all the threads in a warp might be executing the add instruction, but they would be operating on different indices of the vectors.</p><p><span>This execution model of the warp is also called </span><em>single instruction multiple threads</em><span> (SIMT) because multiple threads are executing the same instruction. It is similar to the </span><em><a href="https://en.wikipedia.org/wiki/Single_instruction,_multiple_data" rel="">single instruction multiple data</a></em><span> (SIMD) instructions in CPUs.</span></p><blockquote><p><span>There is an alternative instruction scheduling mechanism available in newer generations of GPUs, starting from Volta and onwards, known as </span><em>independent thread scheduling</em><span>. It allows full concurrency between threads, regardless of warp. It can be used to make better use of the execution resources, or as a synchronization mechanism between threads. We will not cover independent thread scheduling here, but you can read about it in the </span><a href="https://docs.nvidia.com/cuda/cuda-c-programming-guide/index.html#simt-architecture" rel="">CUDA programming guide</a><span>.</span></p></blockquote><p>There are some interesting details about how warps work, that are worth discussing.</p><p>Even if all the processing blocks (groups of cores) within an SM are handling warps, only a few of them are actively executing instructions at any given moment. This happens because there are a limited number of execution units available in the SM.</p><p>But some instructions take longer to complete, causing a warp to wait for the result. In such cases, the SM puts that waiting warp to sleep and starts executing another warp that doesn't need to wait for anything. This enables the GPUs to maximally utilize all the available compute and deliver high throughput (Little’s law again in action here).</p><blockquote><p><strong>Zero-overhead Scheduling: </strong><span>As each thread in each warp has its own set of registers, there is no overhead for the SM to switch from executing one warp to another.&nbsp;</span></p><p>This is in contrast to how context-switching between processes happens on the CPU. If a process is waiting for a long running operation, the CPU schedules another process on that core in the meanwhile. However, context switching in CPU is expensive because the CPU needs to save the registers into main memory, and restore the state of the other process.</p></blockquote><p>Finally, when all the threads of the kernel have finished executing, the final step is to copy the result back to the host memory.</p><p>Although we covered everything about a typical kernel execution but there is one more thing that requires its own section: dynamic resource partitioning.</p><p><span>We measure the utilization of the GPU resources through a metric called “</span><em>occupancy</em><span>”, which represents the ratio of the number of warps assigned to an SM to the maximum number it can support. To achieve maximum throughput, we would want to have 100% occupancy. However, in practice it is not always possible due to various constraints.&nbsp;</span></p><p>So, why can't we always reach 100% occupancy? The SM has a fixed set of execution resources, including registers, shared memory, thread block slots, and thread slots. These resources are dynamically divided among threads based on their requirements and the GPU's limits. For example, on the Nvidia H100, each SM can handle 32 blocks, 64 warps (i.e., 2048 threads), and 1024 threads per block. If we launch a grid with a block size of 1024 threads, the GPU will split the 2048 available thread slots into 2 blocks.</p><blockquote><p><strong>Dynamic vs Fixed partitioning</strong><span>: Dynamic partitioning allows for more effective usage of the computation resources in the GPU. If we compare this with a fixed partitioning scheme where each thread block receives a fixed amount of execution resources it might not always be the most efficient. In some cases the threads might be assigned more resources than they need, leading to wastage of resources and reduced throughput.</span></p></blockquote><p>Now, let's look at an example to see how resource allocation can affect the occupancy of an SM. If we use a block size of 32 threads and need a total of 2048 threads, we'll have 64 of these blocks. However, each SM can only handle 32 blocks at once. So, even though the SM can run 2048 threads, it will only be running 1024 threads at a time, resulting in a 50% occupancy rate.&nbsp;</p><p>Similarly, each SM has 65536 registers. To execute 2048 threads simultaneously, each thread can have a maximum of 32 registers (65536/2048 = 32). If a kernel needs 64 registers per thread, we can only run 1024 threads per SM, again resulting in 50% occupancy.</p><p>The challenge with suboptimal occupancy is that it may not provide the necessary tolerance for latency or the required compute throughput to reach the hardware’s peak performance.</p><p>Efficiently creating GPU kernels is a complex task. We must allocate resources wisely to maintain high occupancy while minimizing latency. For example, having many registers can make code run quickly but might reduce occupancy, so careful code optimization is important.</p><p>I understand that wrapping your head around so many new terms and concepts is daunting. Let’s summarize the key points for a quick review.</p><ul><li><p>A GPU consists of several streaming multiprocessors (SM), where each SM has several processing cores.</p></li><li><p>There is an off chip global memory, which is a HBM or DRAM. It is far from the SMs on the chip and has high latency.</p></li><li><p>There is an off chip L2 cache and an on chip L1 cache. These L1 and L2 caches operate similarly to how L1/L2 caches operate in CPUs.</p></li><li><p>There is a small amount of configurable shared memory on each SM. This is shared between the cores. Typically, threads within a thread block load a piece of data into the shared memory and then reuse it instead of loading it again from global memory.</p></li><li><p>Each SM has a large number of registers, which are partitioned between threads depending on their requirement. The Nvidia H100 has 65,536 registers per SM.</p></li><li><p>To execute a kernel on the GPU, we launch a grid of threads. A grid consists of one or more thread blocks and each thread block consists of one or more threads.</p></li><li><p>The GPU assigns one or more blocks for execution on an SM depending on resource availability. All threads of one block are assigned and executed on the same SM. This is for leveraging data locality and for synchronization between threads.</p></li><li><p>The threads assigned to an SM are further grouped into sizes of 32, which is called a warp. All the threads within a warp execute the same instruction at the same time, but on different parts of the data (SIMT). (Although newer generations of GPUs also support independent thread scheduling.)</p></li><li><p>The GPU performs dynamic resource partitioning between the threads based on each threads requirements and the limits of the SM. The programmer needs to carefully optimize code to ensure the highest level of SM occupancy during execution.</p></li></ul><p><span>GPUs are in pervasive use today, but their architecture and execution model is fundamentally very different from CPUs. In this article we covered various aspects of GPUs, including their architecture and their execution model. If you're curious about what makes GPUs so sought after and how they operate, I hope this article has provided some valuable insights. If you have any questions about what we discussed here, feel free to ask them in the comments, or reach out to me on</span><a href="https://twitter.com/abhi9u" rel=""> Twitter/X</a><span>.</span></p><p>I would also like to give a shout out to our community. This topic was requested by many of you and I had to cover it. You can also request me to write about a topic of your choice by becoming a paid subscriber.</p><p><span>I would like to thank </span><a href="https://msharmavikram.github.io/" rel="">Vikram Sharma Mailthody</a><span>, who is a Senior Research Scientist at Nvidia for reviewing and offering insights on various parts of the article. His feedback helped improve the quality of the article significantly. I am very grateful. Vikram is very interested in increasing awareness about GPU programming, so if you are interested in learning more about this area, reach out to him on </span><a href="https://twitter.com/msharmavikram" rel="">Twitter</a><span> or </span><a href="https://www.linkedin.com/in/vikramsharmam/" rel="">LinkedIn</a><span>.</span></p><p>If you want to dive deeper into GPUs, here are few resources you could refer to:</p><ul><li><p>Programming Massively Parallel Processors: 4th edition is the most up-to-date reference, but earlier editions are fine, too.</p></li><li><p><a href="https://www.youtube.com/channel/UC2Y6MNqiTwTrh-qPQHGIUyg" rel="">Programming Massively Parallel Processors</a><span>: online course by Prof. Hwu</span></p></li><li><p><a href="https://docs.nvidia.com/cuda/cuda-c-programming-guide/index.html" rel="">Nvidia’s CUDA C++ Programming Guide</a></p></li><li><p><a href="https://www.youtube.com/watch?v=3l10o0DYJXg" rel="">How GPU Computing Works (YouTube)</a></p></li><li><p><a href="https://enccs.github.io/gpu-programming/" rel="">GPU Programming: When, Why and How?</a></p></li><li><p><span>For Little’s law refer to section 2.2 of the paper “</span><a href="https://arxiv.org/pdf/2203.04910.pdf" rel="">GPU-Initiated On-Demand High-Throughput Storage Access in the BaM System Architecture</a><span>”</span></p></li></ul><p data-attrs="{&quot;url&quot;:&quot;https://codeconfessions.substack.com/p/gpu-computing?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share&quot;,&quot;text&quot;:&quot;Share&quot;,&quot;action&quot;:null,&quot;class&quot;:null}" data-component-name="ButtonCreateButton"><a href="https://codeconfessions.substack.com/p/gpu-computing?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share" rel=""><span>Share</span></a></p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Cratering motor fuel sales in Norway show the death spiral that can end oil (118 pts)]]></title>
            <link>https://electrek.co/2023/10/20/cratering-motor-fuel-sales-in-norway-show-the-death-spiral-that-can-end-oil/</link>
            <guid>37966767</guid>
            <pubDate>Sat, 21 Oct 2023 13:48:56 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://electrek.co/2023/10/20/cratering-motor-fuel-sales-in-norway-show-the-death-spiral-that-can-end-oil/">https://electrek.co/2023/10/20/cratering-motor-fuel-sales-in-norway-show-the-death-spiral-that-can-end-oil/</a>, See on <a href="https://news.ycombinator.com/item?id=37966767">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
					
<figure>
			<img src="https://electrek.co/wp-content/uploads/sites/3/2019/10/CircleK_pressebilder_23sept2019_2395.jpg?quality=82&amp;strip=all&amp;w=1600" srcset="https://i0.wp.com/electrek.co/wp-content/uploads/sites/3/2019/10/CircleK_pressebilder_23sept2019_2395.jpg?w=320&amp;quality=82&amp;strip=all&amp;ssl=1 320w, https://i0.wp.com/electrek.co/wp-content/uploads/sites/3/2019/10/CircleK_pressebilder_23sept2019_2395.jpg?w=640&amp;quality=82&amp;strip=all&amp;ssl=1 640w, https://i0.wp.com/electrek.co/wp-content/uploads/sites/3/2019/10/CircleK_pressebilder_23sept2019_2395.jpg?w=1024&amp;quality=82&amp;strip=all&amp;ssl=1 1024w, https://i0.wp.com/electrek.co/wp-content/uploads/sites/3/2019/10/CircleK_pressebilder_23sept2019_2395.jpg?w=1500&amp;quality=82&amp;strip=all&amp;ssl=1 1500w" width="1600" height="796" alt="norway ev charger gas station" fetchpriority="high">
	
	</figure>

<p>It’s common knowledge that Norway is the <a href="https://electrek.co/2023/01/03/norway-electric-car-utopia-sustainable-transportation/">land of electric cars</a> and that the country keeps breaking EV sales records with <a href="https://electrek.co/2023/06/01/tesla-model-y-outsells-2nd-place-id-4-by-4x-in-norway-97-electrified-in-may/">virtually no new fossil vehicle sales</a>. But what’s <em>really</em> important is the effect those EVs are having on oil sales, which are in steep decline in the country as a result –&nbsp;and the same thing could happen elsewhere.</p>



<p>Norwegian statistics agency SSB released its latest numbers on motor fuel sales today, showing a <a href="https://www.ssb.no/en/energi-og-industri/olje-og-gass/statistikk/sal-av-petroleumsprodukt">whopping 9% decline</a> in motor fuel sales year-over-year for the month of September.</p>



<p>This is a result of Norway’s world-leading EV sales, with over 90% of new vehicles in the country having some sort of plug and <a href="https://electrek.co/2023/06/01/tesla-model-y-outsells-2nd-place-id-4-by-4x-in-norway-97-electrified-in-may/">vanishingly few having no electrification at all</a>. The country has exceeded its own high expectations, virtually ending fossil vehicle sales <a href="https://electrek.co/2021/09/23/norway-bans-gas-cars-in-2025-but-trends-point-toward-100-ev-sales-as-early-as-april/">years ahead of schedule</a>.</p>



<p>However, there are still fossil vehicles on the road from previous years that are continuing to pollute and use fossil fuels throughout their lifecycle. But as they age and are replaced almost solely with EVs, the vehicle fleet cycles out from fossil to electric. If it takes 10-15 years for the vehicle fleet to cycle out, then that means Norway would remove ~6-10% of fossil cars from the road every year, replace them with electric cars, and thus reduce motor fuel usage by a similar amount every year.</p>



<p>But this trend is nothing particularly new. While this big 9% drop is just a one-month snapshot, petrol/gasoline sales have been in decline for about two decades in the country, as diesel started to replace petrol in the mid-2000s. But diesel has also been in decline for the better part of a decade, as electricity has replaced it as a motor fuel.</p>



<figure><img decoding="async" fetchpriority="high" width="1852" height="1042" src="https://electrek.co/wp-content/uploads/sites/3/2023/10/NORenergy.png?w=1024" alt="" srcset="https://electrek.co/wp-content/uploads/sites/3/2023/10/NORenergy.png 1852w, https://electrek.co/wp-content/uploads/sites/3/2023/10/NORenergy.png?resize=150,84 150w, https://electrek.co/wp-content/uploads/sites/3/2023/10/NORenergy.png?resize=300,169 300w, https://electrek.co/wp-content/uploads/sites/3/2023/10/NORenergy.png?resize=768,432 768w, https://electrek.co/wp-content/uploads/sites/3/2023/10/NORenergy.png?resize=1024,576 1024w, https://electrek.co/wp-content/uploads/sites/3/2023/10/NORenergy.png?resize=1536,864 1536w, https://electrek.co/wp-content/uploads/sites/3/2023/10/NORenergy.png?resize=350,197 350w, https://electrek.co/wp-content/uploads/sites/3/2023/10/NORenergy.png?resize=140,79 140w, https://electrek.co/wp-content/uploads/sites/3/2023/10/NORenergy.png?resize=1600,900 1600w" sizes="(max-width: 1852px) 100vw, 1852px"><figcaption>Stats from Robbie Andrew’s excellent Norway EV stats tracker at <a href="https://robbieandrew.github.io/EV/">robbieandrew.github.io/EV/</a></figcaption></figure>



<p>To compare against other rapid declines, US coal usage has gone from a peak of 1,045 million tons in 2007 to 469 million tons in 2022, a decline of about 5% per year (and going from ~50% of the US electricity mix to ~20% now, and dropping). Many observers acknowledged, even <a href="https://www.desmog.com/2011/01/03/future-coal-dims-further-2010-dying-industry-still-killing-and-polluting/">near the beginning of this trend</a>, that coal was a dead industry. Any subsequent <a href="https://electrek.co/2018/07/05/scott-pruitt-resigns-replaced-by-climate-denier-and-coal-lobbyist-andrew-wheeler/">attempts to expand it</a> have been <a href="https://electrek.co/2020/11/23/egeb-trump-administration-coal-childrens-climate-prize-solar-iron/">unserious political stunts</a> that were doomed to fail from the start – everyone (<a href="https://electrek.co/2020/03/31/epa-andrew-wheeler-idiot-liar/">with a brain</a>) knows the industry is dead.</p>



<p>But in that context, Norway’s decline in motor fuel sales seems to be happening <em>almost twice as fast</em> on a percentage basis as the United States’ decline in coal use, at least according to today’s data point. And the long-term trend may accelerate as the country now has virtually no gas vehicle sales.</p>



<p>This is important because when we talk about electrifying the auto industry, the point is not just to get people into better cars with neat new technology. The point is to reduce oil consumption, such that carbon that belongs underground stays there –&nbsp;permanently.</p>



<p>This is vitally important because if we burned even a fraction of all the oil that is already discovered and owned by oil companies, the carbon released would cause catastrophic climate change. This was covered in Bill McKibben’s excellent 2012 article “<a href="https://www.rollingstone.com/politics/politics-news/global-warmings-terrifying-new-math-188550/">Global Warming’s Terrifying New Math</a>.”</p>



<p>The only way we can avoid this fate is through one of the more wonderful phrases in the English language: “stranded assets.” In this context, the phrase refers to&nbsp;oil reserves owned by oil companies which get written off of those companies’ books because they are uneconomical to extract and sell.</p>



<p>In short, oil companies need to lose money, and lots of them need to go bankrupt.</p>



<p>And while Norway is just one relatively small country, news like this shows how that could happen as EV sales (and better yet, <a href="https://electrek.co/2022/05/17/norway-rolls-back-ev-incentives-while-boosting-walking-and-cycling/">even cleaner methods of transportation</a> like e-bikes and public transit) grow rapidly worldwide.</p>



<h2 id="h-oil-demand-oil-prices-oil-supply">Oil demand -&gt; oil prices -&gt; oil supply</h2>



<p>There is an interplay between oil demand, oil prices, and oil supply that could lead to a death spiral for the oil industry.</p>



<p>Lately, oil prices have been quite high around the world, nearing the <a href="https://www.macrotrends.net/1369/crude-oil-price-history-chart">historic highs of the 2010s and late 70s</a>. This spike has largely been driven by pandemic-related supply (and demand) disruptions, the Russian invasion of Ukraine, and, as always, the decisions of Saudi Arabia (in this case, their decision to cut supply to buoy oil prices).</p>



<p>But looking back to the last peak, we can see another interesting thing: a giant drop in oil prices in the mid-2010s, which was driven by a “supply glut.” This supply glut was at least partially related to increased usage of hybrid and electric cars, which led to a relatively small decrease in oil demand. However, that small decrease meant that more oil was being pumped than used, which led prices to drop by about two-thirds in a matter of months.</p>



<p>The effect of oil prices on consumer demand is that as oil prices go up, usage (often) goes down, and interest in electric cars goes up. This stands to reason, as people start thinking about more efficient vehicles when the cost of fueling their vehicle becomes too much.</p>



<p>But the effect on supply is less popularly examined. In this case, low oil prices can actually be environmentally advantageous because it means that oil companies are less incentivized to explore new methods of extraction and that more expensive methods (such as tar sands extraction, which is also much more environmentally costly) become uneconomical.</p>



<p>If it costs more to extract the oil than the oil is worth, then the project won’t get started. And if the project doesn’t get started, then the oil stays in the ground to begin with, right where it belongs.</p>



<p>So, in a way, low oil prices can actually be better for the environment than high oil prices. This means fewer projects get started, and more projects and companies go bankrupt due to high costs and low profits.</p>



<p>And this is the spiral that we want to see. As the primary driver of oil demand (vehicles, specifically consumer vehicles) disappears, oil prices can drop because of this supply-demand imbalance. Then, there will be less reason for companies to extract oil in the first place, leading to the stranded assets we spoke of before.</p>



<p>Some regions with low cost of extraction might even prefer it this way and work to ensure this happens. The Middle East can extract oil for <a href="https://www.energy.ca.gov/sites/default/files/2021-09/2021-09_Petroleum_Watch_ADA.pdf">cheaper than anywhere else</a>, so it could be to their benefit to put high-cost extraction methods out of business. Norway itself is an oil country (primarily for export, at this point) and has middling oil-extraction costs, but it may benefit in the short term from a shakeout of higher-cost countries. But ideally, Norway’s extraction would soon become uneconomical –&nbsp;and hopefully, so will Saudi Arabia’s.</p>




	<p>The one danger of this path is that if oil demand does drop low enough, low oil prices could jeopardize consumer decision-making to move to cleaner options. Oil is subsidized to the tune of <a href="https://www.imf.org/en/Blogs/Articles/2023/08/24/fossil-fuel-subsidies-surged-to-record-7-trillion">trillions of dollars worldwide per year</a> based on unpriced external costs that all of us are paying on the back end –&nbsp;usually in the form of higher hospital bills or other environmental costs.</p>



<p>This could be solved by <a href="https://electrek.co/2017/12/02/hey-gop-you-passed-your-tax-hike-now-pass-your-carbon-price-too/">finally properly pricing oil</a> globally, as <a href="https://bellona.org/news/carbon-accounting/2021-02-norway-proposes-e200-per-ton-co2-tax-by-2030">Norway already rightly does</a>. Norway’s realistic pricing for carbon pollution has helped to ensure that the true price of oil is reflected in consumer pricing, making it more apparent to consumers that fossil vehicles are not an economical option for society or their pocketbooks.</p>



<p>In contrast, the <a href="https://www.bloomberg.com/news/articles/2015-01-05/the-real-reason-u-s-gas-is-so-cheap-is-americans-don-t-pay-the-true-cost-of-driving">artificially low</a> gasoline costs in the US (yes, US gasoline prices are still artificially low, even at today’s high prices) work to buoy consumer oil demand. Removing the <a href="https://www.imf.org/en/Publications/WP/Issues/2019/05/02/Global-Fossil-Fuel-Subsidies-Remain-Large-An-Update-Based-on-Country-Level-Estimates-46509">~$650 billion in implicit subsidies</a> received by the fossil fuel industry in the US alone would help ensure that fair market conditions could prevail, and consumers would have a clear choice about what the better and cleaner option is.</p>



<p>And if we finally let the market work freely, after more than a century of both <a href="https://www.motherjones.com/politics/2014/04/oil-subsidies-energy-timeline/">direct</a> and <a href="https://en.wikipedia.org/wiki/Tragedy_of_the_commons">implicit</a> oil subsidies that have coddled this <a href="https://www.npr.org/2021/07/01/1012138741/exxon-lobbyist-caught-on-video-talks-about-undermining-bidens-climate-push">lying</a>, <a href="https://www.nrdc.org/stories/fossil-fuel-air-pollution-kills-one-five-people">deadly</a> industry, we could finally see it spiral into the oblivion it deserves.</p>
	<p>
		<a target="_blank" rel="nofollow" href="https://news.google.com/publications/CAAqBwgKMKqD-Qow6c_gAg?hl=en-US&amp;gl=US&amp;ceid=US:en">
			<em>Add Electrek to your Google News feed.</em>&nbsp;
					</a>
	</p>
	<p><em>FTC: We use income earning auto affiliate links.</em> <a href="https://electrek.co/about/#affiliate">More.</a></p>				</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The Problem with Jon Stewart cancellation highlights a problem for Apple content (101 pts)]]></title>
            <link>https://arstechnica.com/gadgets/2023/10/report-apple-cancels-the-problem-with-jon-stewart-over-china-ai-topics/</link>
            <guid>37966643</guid>
            <pubDate>Sat, 21 Oct 2023 13:28:28 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arstechnica.com/gadgets/2023/10/report-apple-cancels-the-problem-with-jon-stewart-over-china-ai-topics/">https://arstechnica.com/gadgets/2023/10/report-apple-cancels-the-problem-with-jon-stewart-over-china-ai-topics/</a>, See on <a href="https://news.ycombinator.com/item?id=37966643">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <h4>
      The Weekly Show    —
</h4>
            
            <h2 itemprop="description">The problem with Jon Stewart seems to be that he could land Apple in hot water.</h2>
                    </div><div itemprop="articleBody">
                                    
<figure>
  <img src="https://cdn.arstechnica.net/wp-content/uploads/2023/10/The-Problem-with-Jon-Stewart-2-800x470.png" alt="Jon Stewart holds up a pen as he makes a point at his dsek">
      <figcaption><p><a href="https://cdn.arstechnica.net/wp-content/uploads/2023/10/The-Problem-with-Jon-Stewart-2.png" data-height="830" data-width="1414">Enlarge</a> <span>/</span> Jon Stewart on his Apple TV show.</p><p>Apple</p></figcaption>  </figure>

  




<!-- cache hit 1017:single/related:2f1d48c3ca09fba499be7fbde4a53ce0 --><!-- empty -->
<p>Jon Stewart and his weekly talk show <em>The Problem with Jon Stewart</em> are out at Apple, according to reports from <a href="https://www.nytimes.com/2023/10/19/business/media/jon-stewart-the-problem-ends.html">The New York Times</a> and <a href="https://variety.com/2023/tv/news/jon-stewart-the-problem-canceled-season-3-apple-tv-1235762554/">Variety</a>. Apple canceled the show just weeks before its third season began taping. Its cancellation sheds some light on the conflict of priorities Apple faces as it leans more into content rather than just selling tools, platforms, and gadgets.</p>
<p>The New York Times article cites "several people with knowledge of the situation," saying that staffers working on the show were told at the end of the day Thursday that it would not move forward.</p>
<p>The reason for the shift? Stewart and Apple executives "had disagreements over some of the topics and guests," the sources said. Specifically, they claimed Stewart told staffers that Apple execs took issue with planned programming related to both China and artificial intelligence, and noted that with the 2024 US election coming up, there might have been additional opportunities for disagreement then.</p>
<p>Apple does much of its business (both in production and sales) in China and has invested heavily in the country's infrastructure. Regarding China, Apple execs may have been worried that Stewart's planned commentary could alienate customers or partners in the country.</p>                                            
                                                        
<p>As for AI, Apple has increasingly focused on AI for software features on the iPhone. Primarily, it uses machine learning to drive things like search suggestions, photography, and palm detection. There have also been rumors that Apple plans to get into ChatGPT-like <a href="https://arstechnica.com/information-technology/2023/10/ted-ai-2023-a-historic-symposium-on-benefits-risks-and-applications-of-ai/">large language models, which have been more controversial.</a></p>
<p>We're just engaging in informed speculation about the specific reasoning, though; Apple declined to comment on the NYT story.</p>
<p>The show's cancellation is indicative of the kinds of challenges owners of platforms (like Apple, Amazon, Google, and others) face when they are producing content, too. Apple TV+, the iPhone, and other Apple products are used by a wide range of people, and investing in content that may be contentious for key customers or partners could create big problems for the company's overall business.</p>
<p>It's also part of a larger pattern of streaming services struggling with the talk show format. There have been numerous attempts, but most (talk shows like Netflix's <em>Norm Macdonald has a Show</em>) have not been hugely successful—in part because the business model of streaming TV is as much about the long-term value of content as it is about timeliness, and talk shows tend to focus on topics du jour.</p>
<p><em>The Problem with Jon Stewart</em> was Stewart's first return to hosting a TV show since his much-praised and widely watched tenure on <em>The Daily Show</em> ended in 2015. Stewart has not yet announced any future television plans.</p>

                                                </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The Pixel 8 Pro's Tensor G3 off-loads all generative AI tasks to the cloud (165 pts)]]></title>
            <link>https://www.notebookcheck.net/MrWhosetheboss-video-reveals-Google-s-Pixel-8-Pro-Tensor-G3-off-loads-all-generative-AI-tasks-to-the-cloud.760215.0.html</link>
            <guid>37966569</guid>
            <pubDate>Sat, 21 Oct 2023 13:14:15 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.notebookcheck.net/MrWhosetheboss-video-reveals-Google-s-Pixel-8-Pro-Tensor-G3-off-loads-all-generative-AI-tasks-to-the-cloud.760215.0.html">https://www.notebookcheck.net/MrWhosetheboss-video-reveals-Google-s-Pixel-8-Pro-Tensor-G3-off-loads-all-generative-AI-tasks-to-the-cloud.760215.0.html</a>, See on <a href="https://news.ycombinator.com/item?id=37966569">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="c10363088"><figure><a href="https://www.notebookcheck.net/fileadmin/_processed_/3/3/csm_IMG_0003_d19336e9c2.jpg" title="Google and its Pixel 8 Pro are at the center of another controversy. (Source: Notebookcheck)" data-fancybox="news_intro_image" data-caption="Google and its Pixel 8 Pro are at the center of another controversy. (Source: Notebookcheck)" data-title-id="lightbox_title_news_intro_image"><picture><source srcset="https://www.notebookcheck.net/fileadmin/_processed_/webp/Notebooks/News/_nc3/IMG_0003-q82-w240-h.webp 1x, https://www.notebookcheck.net/fileadmin/_processed_/webp/Notebooks/News/_nc3/IMG_0003-q82-w480-h.webp 2x" type="image/webp"><img src="https://www.notebookcheck.net/fileadmin/_processed_/3/3/csm_IMG_0003_82337d91e4.jpg" loading="lazy" width="240" height="309" alt="Google and its Pixel 8 Pro are at the center of another controversy. (Source: Notebookcheck)"></picture></a><figcaption>Google and its Pixel 8 Pro are at the center of another controversy. (Source: Notebookcheck)</figcaption></figure><div><p>Popular YouTuber @Mrwhosetheboss has singled out the Google Tensor G3 as a major failing of the Pixel 8 Pro. According to the YouTuber, all of the new generative AI features found on the Pixel 8 Pro cannot be processed onboard the device, but need to be off-loaded to the cloud for processing, despite Google pitching the device as being “AI-first.”</p></div></div><div id="c10363087">
<p>The Google Pixel 8 Pro has had a rockier launch than has been typical for the flagship series. Last year’s Pixel 7 Pro won a few high-profile YouTuber “Phone of the Year” awards, including from Arun Maini, who is better known by his handle of @Mrwhosetheboss. While Maini awarded the <a href="https://www.notebookcheck.net/Google-Pixel-7-Pro-review-Premium-smartphone-with-stock-Android.669256.0.html" target="_self">Pixel 7 Pro </a>his gong for “Best Smartphone of 2022”, he hasn’t been quite so effusive in his praise for the <a href="https://www.notebookcheck.net/Google-Pixel-8-Pro-starts-at-US-999-with-2-400-nit-display-new-48-MP-ultra-wide-angle-camera-and-free-Pixel-Watch-2-with-pre-orders.757289.0.html" target="_self">Pixel 8 Pro</a>. </p>
<p>There are many aspects of the Pixel 8 series that Maini praises in his latest video, including its design, the frosted glass finish on the rear of the Pixel 8 Pro, and its advanced software. He also praises the still photo capabilities of the devices, as well as new AI-powered features like Best Photo, Magic Editor and Audio Magic Eraser. However, Maini is less than complimentary about the janky way the Pixel 8 Pro handles zoom when transitioning between lenses, and its artificial-looking video stabilization. But his biggest criticism of the Pixel 8 series is reserved for the <a href="https://www.notebookcheck.net/Google-Tensor-G3-Pixel-8-Pro-fails-to-outperform-its-predecessor-in-Genshin-Impact.759422.0.html" target="_self">Tensor G3</a> processor. </p>
<p>Maini highlights how the new generative AI features including AI wallpaper and Magic Editor, for example, need a permanent internet connection as these require more processing power than the Tensor G3 SoC can deliver. As Maini explains:</p><blockquote><p>For all of this generative AI stuff, for anything that actually has to use AI to create things like the AI Wallpaper making, the Magic Editor needs a permanent internet connection. [This is] because every action you take needs to be passed through Google’s servers…It feels so sluggish, that you are constantly reminded that it's not running on-device…It really makes you realize that the Tensor G3 chip inside this phone is not quite flagship level.</p></blockquote><p>Maini’s observations run contrary to Google’s marketing which touts the AI processing capabilities of the Tensor G3 as being “AI-first.” In an official blog, Monika Gupta, Google VP of Product Management makes the following claims about the Tensor G3:</p><blockquote><p>This past year we’ve seen incredible AI breakthroughs and innovations — but a lot of those are built on the kind of compute power only available in a data center. To bring the transformative power of AI to your everyday life, we need to make sure you can access it from the device you use every day. That's why we're so excited that the latest Pixel phone features our latest custom silicon chip: Tensor G3. </p>
<p>Our third-generation Google Tensor G3 chip continues to push the boundaries of on-device machine learning, bringing the latest in Google AI research directly to our newest phones: Pixel 8 and Pixel 8 Pro. </p>
<p>Our work with Tensor has never been about speeds and feeds, or traditional performance metrics. It’s about pushing the mobile computing experience forward. And in our new Tensor G3 chip, every major subsystem has been upgraded, paving the way for on-device generative AI. It includes the latest generation of Arm CPUs, an upgraded GPU, new ISP and Imaging DSP and our next-gen TPU, which was custom-designed to run Google’s AI models.</p></blockquote><p>Not only does Google’s account of the importance of both what the Tensor G3 claims to be able to accomplish apparently clash with the reality of how the Pixel 8 Pro is actually handling generative AI tasks, its claims about the unimportance of performance metrics do not stack up with Arm’s own account of the central its CPUs and GPUs play in processing AI tasks – these are not solely handled by the TPU (Tensor Processing Unit), as Google infers in its blog. </p>
<p>On its website, Arm <a href="https://www.arm.com/markets/artificial-intelligence/machine-learning" target="_blank">explains</a>&nbsp;why its CPUs and GPUs (such as those used in the Tensor G3) are critical in performing AI tasks on device:</p><blockquote><p> As AI compute moves from the cloud to where the data is gathered, Arm CPU and MCU (Micro Controller Unit) technologies are already handling the majority of AI and ML workloads at the edge and endpoints. The CPU is central to all AI systems, whether it’s handling the AI entirely or partnering with a co-processor, such as a GPU or an NPU for certain tasks.</p></blockquote><p>As we covered exclusively earlier this week, in an extraordinary move, Google went out of its way to <a href="https://www.notebookcheck.net/Google-blocked-Pixel-8-Pixel-8-Pro-reviewers-from-using-popular-benchmarks-to-test-the-Tensor-G3-chip-new-owners-too.759260.0.html" target="_self">block reviewers</a> from being able to easily install popular benchmark apps through its Play Store during the review embargo period. This actually also extended into the post-launch period too, however <a href="https://www.notebookcheck.net/Google-Pixel-8-Pixel-8-Pro-benchmark-block-lifted.759613.0.html" target="_self">Google lifted the ban</a> after our article went live. Tests using Primate Labs’ popular cross-platform benchmark <i>Geekbench 6</i> <a href="https://www.notebookcheck.net/Google-Pixel-8-Pro-and-Tensor-G3-appear-on-Geekbench-ahead-of-launch-with-disappointing-CPU-scores.756901.0.html" target="_self">showed</a> that - despite having quite new CPU architecture - Tensor G3 performance is closer to the mid-range Qualcomm <a href="https://www.notebookcheck.net/Qualcomm-Snapdragon-7-Gen-2-Processor-Benchmarks-and-Specs.750396.0.html" target="_blank">Snapdragon 7+ Gen 2</a> than it is to its current flagship chip the <a href="https://www.notebookcheck.net/Qualcomm-Snapdragon-8-Gen-2-Processor-Benchmarks-and-Specs.670032.0.html" target="_self">Snapdragon 8 Gen 2</a>. </p>
<p><b>Update:</b> We've recorded a couple of short clips confirming that a persistent internet connection to enable cloud-based processing is indeed required for the new Pixel 8 Pro AI features including Magic Editor and AI Wallpaper. </p>
<p><a href="https://www.amazon.com/Google-Pixel-Pro-Smartphone-Telephoto/dp/B0CGTJ12Z9?tag=notebookcheck-20" target="_blank">Purchase the Google Pixel 8 Pro 128GB from Amazon starting from $999</a>.</p></div><div itemscope="" itemtype="http://schema.org/Person" rel="author"><div><a href="https://www.notebookcheck.net/Notebookcheck-Team.212978.0.html?&amp;tx_nbc2journalist_pi1%5Bmode%5D=show&amp;tx_nbc2journalist_pi1%5Buid%5D=230"><picture><source srcset="https://www.notebookcheck.net/fileadmin/_processed_/6/e/csm_San_sathiah_9451ededa5.png 1x, https://www.notebookcheck.net/fileadmin/_processed_/6/e/csm_San_sathiah_4165f56c18.png 2x"><img src="https://www.notebookcheck.net/fileadmin/_processed_/6/e/csm_San_sathiah_9451ededa5.png" loading="lazy" width="120" height="120" alt="Sanjiv Sathiah"></picture></a></div><p><a href="https://www.notebookcheck.net/Notebookcheck-Team.212978.0.html?&amp;tx_nbc2journalist_pi1%5Bmode%5D=show&amp;tx_nbc2journalist_pi1%5Buid%5D=230">Sanjiv Sathiah</a> - Senior Tech Writer <span title="1413&nbsp;"> - 1413 articles published on Notebookcheck</span> since 2017</p><p>I have been writing about consumer technology over the past ten years, previously with the former MacNN and Electronista, and now Notebookcheck since 2017. My first computer was an Apple ][c and this sparked a passion for Apple, but also technology in general. In the past decade, I’ve become increasingly platform agnostic and love to get my hands on and explore as much technology as I can get my hand on. Whether it is Windows, Mac, iOS, Android, Linux, Nintendo, Xbox, or PlayStation, each has plenty to offer and has given me great joy exploring them all. I was drawn to writing about tech because I love learning about the latest devices and also sharing whatever insights my experience can bring to the site and its readership.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Refactoring has a price, not refactoring has a cost (120 pts)]]></title>
            <link>https://www.germanvelasco.com/blog/refactoring-is-a-habit</link>
            <guid>37966485</guid>
            <pubDate>Sat, 21 Oct 2023 13:02:14 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.germanvelasco.com/blog/refactoring-is-a-habit">https://www.germanvelasco.com/blog/refactoring-is-a-habit</a>, See on <a href="https://news.ycombinator.com/item?id=37966485">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
      <p>I recently heard this phrase:</p>

<blockquote>
  <p>Good habits have a price. Bad habits have a cost. Either way, you pay.</p>
</blockquote>

<p>That is a great life lesson. But it’s also a great lesson for our team and
codebase.</p>

<p>Refactoring is a good habit.</p>

<p>I’m talking about refactoring as <a href="https://www.germanvelasco.com/blog/finding-the-time-to-refactor#thinking-differently">test-driven development (TDD) defines it</a> – something you do with every test and feature. I’m not talking about
pausing feature work for a month so we can do refactoring.</p>

<p>In TDD, we refactor as the third step of the red-green-refactor cycle:</p>

<ul>
  <li>Red: write a test that fails</li>
  <li>Green: get the test to pass</li>
  <li>Refactor: clean up the changes. Improve design.</li>
</ul>

<p><img src="https://www.germanvelasco.com/images/red-green-refactor-def-done.png" alt="Red points to green. Work isn't done. Green points to refactor. Now work is done. Refactor points back to red."></p>

<p>Many developers think our work is done when the code “works” (when we get to green).
After all, the tests pass. So, we’re good, right?</p>

<p>I think that misses an amazing opportunity to improve our codebase!</p>

<p>The work is not done when the code works. The work is done when the code works
<em>and</em> when we’ve made sure the changes are designed well. And to do that, we
need to refactor.</p>

<p>Of course, refactoring after every feature has a price – just like good habits.
It takes time and discipline. But people erroneously think that the alternative
is free – that <em>not</em> refactoring has no cost.</p>

<p>Yet, if we don’t refactor continuously, we eventually have to pay the cost.</p>

<p>That cost is likely imperceptible at first. So, we carry on without refactoring.
Our codebase atrophies day by day, feature by feature, every change seemingly
not affecting the whole.</p>

<p>But one day all the cruft calcifies, and the numerous incompatible changes and
features grind our progress to a halt. It is <em>suddenly</em> impossible to add new
features without breaking something else. Bugs come up faster than we can squash
them. And every feature takes longer and longer to ship as we have to verify
that nothing is breaking.</p>

<p>The cost of our bad habit accumulates until we cannot foot the bill. That’s when
we throw in the towel, declare code bankruptcy, and call for the “great
rewrite”.</p>

<p>We either refactor continuously as we build features – paying the price. Or we
slowly accumulate cruft until our codebase is impossible to change – paying the
cost.</p>

<p>Either way, you pay.</p>

    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[It takes 12 people to use the 18k Sphere camera (115 pts)]]></title>
            <link>https://petapixel.com/2023/10/20/darren-aronofsky-says-it-takes-12-people-to-use-the-18k-sphere-camera/</link>
            <guid>37966367</guid>
            <pubDate>Sat, 21 Oct 2023 12:45:12 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://petapixel.com/2023/10/20/darren-aronofsky-says-it-takes-12-people-to-use-the-18k-sphere-camera/">https://petapixel.com/2023/10/20/darren-aronofsky-says-it-takes-12-people-to-use-the-18k-sphere-camera/</a>, See on <a href="https://news.ycombinator.com/item?id=37966367">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<p><img data-perfmatters-preload="" decoding="async" fetchpriority="high" src="https://petapixel.com/assets/uploads/2023/10/aronofsky-big-sky-camera.jpg" alt="Sphere Camera Darren Aronofsky" width="1600" height="840" srcset="https://petapixel.com/assets/uploads/2023/10/aronofsky-big-sky-camera.jpg 1600w, https://petapixel.com/assets/uploads/2023/10/aronofsky-big-sky-camera-320x168.jpg 320w, https://petapixel.com/assets/uploads/2023/10/aronofsky-big-sky-camera-800x420.jpg 800w, https://petapixel.com/assets/uploads/2023/10/aronofsky-big-sky-camera-1536x806.jpg 1536w, https://petapixel.com/assets/uploads/2023/10/aronofsky-big-sky-camera-150x79.jpg 150w, https://petapixel.com/assets/uploads/2023/10/aronofsky-big-sky-camera-300x157.jpg 300w, https://petapixel.com/assets/uploads/2023/10/aronofsky-big-sky-camera-400x209.jpg 400w, https://petapixel.com/assets/uploads/2023/10/aronofsky-big-sky-camera-550x288.jpg 550w" sizes="(max-width: 1600px) 100vw, 1600px"></p> <p>The music and entertainment arena <a href="https://petapixel.com/2023/06/12/sphere-studios-big-sky-cinema-camera-features-an-insane-18k-sensor/" data-wpel-link="internal">Sphere</a> opened in September in Las Vegas and the striking venue is the largest spherical building in the world. It features the world’s biggest and highest-resolution screens and its content is captured using a <a href="https://petapixel.com/2023/06/12/sphere-studios-big-sky-cinema-camera-features-an-insane-18k-sensor/" data-wpel-link="internal">state-of-the-art 18K cinema camera</a>. </p>  <p>Acclaimed filmmaker Darren Aronofsky used the remarkable camera to create his new movie, <em>Postcard From Earth</em>, which is now playing at Sphere. <a href="https://petapixel.com/2023/06/12/sphere-studios-big-sky-cinema-camera-features-an-insane-18k-sensor/" data-wpel-link="internal">As <em>Screen Rant</em> describes</a>, Aronofsky’s new film is a “technical marvel.” </p> <p>In a recent appearance on <em>Late Night With Seth Meyers</em>, Aronofsky discussed <em>Postcard From Earth</em>, including some remarkable behind-the-scenes information. Among the fascinating details Aronofsky discusses is that the 18K camera he used requires about a dozen people to operate, including moving it and keeping it from overheating. </p> <div><p><iframe src="https://www.youtube.com/embed/9WUehJrAekw?si=jFeieB3nsR885-3d" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe></p></div> <p>Aronofsky’s 18K resolution film plays back at Sphere at a blistering-fast 60 frames per second, more than twice the speed of the typical 24p motion picture, and is about half a petabyte in size, or about 500 terabytes. Aronofsky explains that the movie is about 32GB of data per second, or nearly 2,000 GB a minute. </p> <p><img decoding="async" src="https://petapixel.com/assets/uploads/2023/10/BBB4994.jpg" alt="Sphere Camera Darren Aronofsky" width="1600" height="1067" srcset="https://petapixel.com/assets/uploads/2023/10/BBB4994.jpg 1600w, https://petapixel.com/assets/uploads/2023/10/BBB4994-320x213.jpg 320w, https://petapixel.com/assets/uploads/2023/10/BBB4994-800x534.jpg 800w, https://petapixel.com/assets/uploads/2023/10/BBB4994-1536x1024.jpg 1536w, https://petapixel.com/assets/uploads/2023/10/BBB4994-450x300.jpg 450w, https://petapixel.com/assets/uploads/2023/10/BBB4994-300x200.jpg 300w, https://petapixel.com/assets/uploads/2023/10/BBB4994-120x80.jpg 120w" sizes="(max-width: 1600px) 100vw, 1600px"></p>
<p>Beyond the technical challenges, working with never-before-seen technology also presents artistic challenges. Aronofsky worked on a project for a wholly unique venue that he had not even been able to see in person. He didn’t see Sphere until August, the month before it opened. </p> <p>Seeing the 18K creation for the first time on the world’s most gargantuan screen was a spectacular experience. </p> <p>“It was great. It was what we were hoping for. So, no one had ever seen it, so we didn’t really know what they would respond. And then this moment happened. I actually didn’t know that jaw-dropping was a real thing. You hear that word, but it’s fun to look around, and people are just like, their jaws are literally dropped, and they’re all pointing at different places on the screen. So it’s a joy to have audiences go along for that trip,” Aronofsky says to Meyers. </p> <p><img decoding="async" loading="lazy" src="https://petapixel.com/assets/uploads/2023/10/BigSky_1-Credit-Sphere-Entertainment.jpg" alt="Sphere Camera Darren Aronofsky" width="1600" height="1067" srcset="https://petapixel.com/assets/uploads/2023/10/BigSky_1-Credit-Sphere-Entertainment.jpg 1600w, https://petapixel.com/assets/uploads/2023/10/BigSky_1-Credit-Sphere-Entertainment-320x213.jpg 320w, https://petapixel.com/assets/uploads/2023/10/BigSky_1-Credit-Sphere-Entertainment-800x534.jpg 800w, https://petapixel.com/assets/uploads/2023/10/BigSky_1-Credit-Sphere-Entertainment-1536x1024.jpg 1536w, https://petapixel.com/assets/uploads/2023/10/BigSky_1-Credit-Sphere-Entertainment-450x300.jpg 450w, https://petapixel.com/assets/uploads/2023/10/BigSky_1-Credit-Sphere-Entertainment-300x200.jpg 300w, https://petapixel.com/assets/uploads/2023/10/BigSky_1-Credit-Sphere-Entertainment-120x80.jpg 120w" sizes="(max-width: 1600px) 100vw, 1600px"></p> <p>“The venue will house the world’s highest resolution LED screen: a 160,000 square-foot display plane that will wrap up, over, and behind the audience at a resolution over 80 times that of a high-definition television with approximately 17,500 seats and a scalable capacity up to 20,000 guests. While the facility for viewing these immersive experiences sounds impressive on its own, it leaves one wondering what kind of cameras and equipment are needed to capture the content that gets played there,” <em><a href="https://petapixel.com/2023/06/12/sphere-studios-big-sky-cinema-camera-features-an-insane-18k-sensor/" data-wpel-link="internal">PetaPixel</a></em><a href="https://petapixel.com/2023/06/12/sphere-studios-big-sky-cinema-camera-features-an-insane-18k-sensor/" data-wpel-link="internal"> wrote about Sphere earlier this year</a>. </p> <p><img decoding="async" loading="lazy" src="https://petapixel.com/assets/uploads/2023/06/Sphere-Skyline-2-Credit-Sphere-Entertainment.jpg" alt="" width="1500" height="844" srcset="https://petapixel.com/assets/uploads/2023/06/Sphere-Skyline-2-Credit-Sphere-Entertainment.jpg 1500w, https://petapixel.com/assets/uploads/2023/06/Sphere-Skyline-2-Credit-Sphere-Entertainment-320x180.jpg 320w, https://petapixel.com/assets/uploads/2023/06/Sphere-Skyline-2-Credit-Sphere-Entertainment-800x450.jpg 800w" sizes="(max-width: 1500px) 100vw, 1500px"></p> <p>The 18K camera Aronofsky describes, dubbed Big Sky, features a 316-megapixel HDR image sensor three by three inches in size. That is a 40x resolution increase compared to 4K cameras. For a detailed dive into this remarkable camera, make sure to <a href="https://petapixel.com/2023/06/12/sphere-studios-big-sky-cinema-camera-features-an-insane-18k-sensor/" data-wpel-link="internal">read <em>PetaPixel</em>‘s exclusive coverage</a> from earlier this year.</p>
<p>Aronofsky will not be the only talented filmmaker to get their hands on the camera, and it will be incredible to see how visual artists take advantage of the camera and the one-of-a-kind venue, Sphere. <em>Postcard From Earth</em> will play exclusively at Sphere for two years. </p> <hr> <p><em><strong>Image credits:</strong> Sphere Studios, MSG. Image of Darren Aronofsky licensed via <a href="https://depositphotos.com/" rel="nofollow external noopener" data-wpel-link="external" target="_blank">Depositphotos</a>.</em></p>  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Google cuts dozens of jobs in news division (106 pts)]]></title>
            <link>https://www.cnbc.com/2023/10/18/google-cuts-dozens-of-jobs-in-news-division-.html</link>
            <guid>37965564</guid>
            <pubDate>Sat, 21 Oct 2023 10:21:28 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.cnbc.com/2023/10/18/google-cuts-dozens-of-jobs-in-news-division-.html">https://www.cnbc.com/2023/10/18/google-cuts-dozens-of-jobs-in-news-division-.html</a>, See on <a href="https://news.ycombinator.com/item?id=37965564">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="RegularArticle-ArticleBody-6" data-module="ArticleBody" data-test="articleBody-2" data-analytics="RegularArticle-articleBody-6-2"><div id="ArticleBody-InlineImage-107186646" data-test="InlineImage"><p>Google headquarters in Mountain View, California, on Jan. 30, 2023.</p><p>Marlena Sloss | Bloomberg | Getty Images</p></div><div><div><p><span data-test="QuoteInBody" id="RegularArticle-QuoteInBody-1"><a href="https://www.cnbc.com/quotes/GOOG/">Google</a><span><span id="-WatchlistDropdown" data-analytics-id="-WatchlistDropdown"></span></span></span> cut dozens of jobs in its news division this week, CNBC has learned, downsizing at a particularly sensitive time for online platforms and publishers. </p><p>An estimated 40 to 45 workers in Google News have lost their jobs, according to an Alphabet Workers Union spokesperson, who didn't know the exact number.</p></div><p>A Google spokesperson confirmed the cuts but didn't provide a number, and said there are still hundreds of people working on the news product.</p><p>"We're deeply committed to a vibrant information ecosystem, and news is a part of that long-term investment," the spokesperson said. "We've made some internal changes to streamline our organization. A small number of employees were impacted. We're supporting everyone with a transition period, outplacement services and severance as they look for new opportunities at Google and beyond."</p><p>Google News presents links to articles from thousands of publishers and magazines. It's a popular tab for people who use Google search, allowing them to find top-ranked stories on a particular topic.</p><p>The layoffs come amid a <a href="https://www.cnbc.com/2023/10/19/israel-hamas-war-gaza-live-updates-latest-news.html">war between Israel and Hamas</a> that has claimed thousands of lives in both Israel and Gaza since Oct. 7, and 20 months after Russia invaded Ukraine. Both wars have spawned a surge in the spread of misinformation across the web, heightening the importance of Google and other sites that users count on to find up-to-date news.</p></div><div id="Placeholder-ArticleBody-Video-107185555" data-test="VideoPlaceHolder" role="region" tabindex="0" data-vilynx-id="7000283302" aria-labelledby="Placeholder-ArticleBody-Video-107185555"><p><img src="https://image.cnbcfm.com/api/v1/image/107185556-GettyImages-1244644880.jpg?v=1682592778&amp;w=750&amp;h=422&amp;vtcrop=y" alt="Is the bubble bursting for tech workers?"><span></span><span></span></p></div><div><p>Sen. Michael Bennet, D-Colo., on Tuesday <a href="https://www.reuters.com/technology/us-lawmaker-seeks-answers-meta-x-google-tiktok-over-israel-hamas-false-content-2023-10-17/" target="_blank">asked</a> for information on how Google; X, formerly known as Twitter; <span data-test="QuoteInBody" id="RegularArticle-QuoteInBody-4"><a href="https://www.cnbc.com/quotes/META/">Meta</a><span><span id="-WatchlistDropdown" data-analytics-id="-WatchlistDropdown"></span></span></span>; and TikTok were trying to stop the spread of false and misleading content about the Israel-Hamas conflict on their platforms.</p><p>European Union industry chief Thierry Breton <a href="https://www.cnbc.com/2023/10/11/europe-gives-zuckerberg-24-hours-to-respond-about-israel-hamas-misinfo.html">demanded</a> that companies, including Google, take stricter steps to battle disinformation as the conflict escalates. Breton specifically <a href="https://x.com/ThierryBreton/status/1712866215591379259?s=20" target="_blank">addressed</a> letters to Google CEO <a href="https://www.cnbc.com/sundar-pichai/">Sundar Pichai</a> and YouTube CEO Neal Mohan, reminding them of the content moderation requirements under the EU's Digital Services Act.</p><p>Google's spokesperson said, "These internal changes have no impact on our misinformation and information quality work in News."</p><p>Some tech companies said they've <a href="https://www.axios.com/2023/10/17/social-media-israel-hamas" target="_blank">staffed up</a> on content moderators as they scramble to battle misinformation.</p><p>Meanwhile, Canada and other countries are eyeing laws that would force tech platforms to compensate publishers for their work.</p><p>The cuts in Google News follow widespread layoffs across many parts of the company this year. In January, Google <a href="https://www.cnbc.com/2023/01/20/google-to-lay-off-12000-people-memo-from-ceo-sundar-pichai-says.html">announced</a> it was cutting 12,000 jobs, affecting roughly 6% of the full-time workforce. Last month, the company <a href="https://www.cnbc.com/2023/09/13/google-is-cutting-hundreds-of-jobs-in-its-recruiting-organization.html">eliminated hundreds</a> of positions from its recruiting organization.</p><p>A staff engineer at Google News <a href="https://www.linkedin.com/posts/robruenes_googlelayoffs-activity-7120150535122415617-Fo_g?utm_source=share&amp;amp;utm_medium=member_desktop" target="_blank">wrote</a> a post on LinkedIn on Tuesday regarding the layoffs.</p><p>"These are some of the best and brightest people I've ever worked with," the person wrote. "We're definitely worse off without them."</p><p><strong>WATCH:</strong> <a href="https://www.cnbc.com/video/2023/10/04/google-is-the-magnificent-seven-stock-that-has-the-best-catalyst-says-deepwaters-doug-clinton.html">Google is the 'Magnificent Seven' stock that has the best catalyst</a></p></div><div id="Placeholder-ArticleBody-Video-107311362" data-test="VideoPlaceHolder" role="region" tabindex="0" data-vilynx-id="7000317796" aria-labelledby="Placeholder-ArticleBody-Video-107311362"><p><img src="https://image.cnbcfm.com/api/v1/image/107311363-16964279221696427917-31456107030-1080pnbcnews.jpg?v=1696428449&amp;w=750&amp;h=422&amp;vtcrop=y" alt="Google is the 'Magnificent Seven' stock that has the best catalyst, says Deepwater's Doug Clinton"><span></span><span></span></p></div><div><p><em>Don't miss these CNBC PRO stories:</em></p><ul><li><a href="https://www.cnbc.com/2023/10/09/this-bank-just-hiked-its-1-year-cd-rate-to-a-fresh-high.html"><em>This bank just hiked its 1-year CD rate to a fresh high</em></a></li><li><a href="https://www.cnbc.com/2023/10/16/a-low-cost-way-to-protect-against-an-sp-500-drawdown-as-risks-escalate.html"><em>A low-cost way to protect against an S&amp;P 500 drawdown as risks escalate</em></a></li><li><a href="https://www.cnbc.com/2023/10/09/how-to-invest-1-million-for-the-next-decade-according-to-the-pros.html"><em>How to invest $1 million for the next decade, according to private bankers and wealth advisors</em></a></li><li><a href="https://www.cnbc.com/2023/10/15/this-highly-profitable-industry-is-booming-as-the-population-ages.html"><em>This highly profitable industry is booming as the population ages</em></a></li><li><a href="https://www.cnbc.com/2023/10/11/bank-of-america-sees-risks-for-employers-as-insurance-coverage-of-weight-loss-drugs-grows.html"><em>Bank of America sees risks for employers as insurance coverage of weight loss drugs grows</em></a></li></ul></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Town Repeatedly Surveilled Man's Yard with Drone Without a Warrant (103 pts)]]></title>
            <link>https://www.404media.co/town-surveilled-mans-yard-without-a-warrant/</link>
            <guid>37965297</guid>
            <pubDate>Sat, 21 Oct 2023 09:19:55 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.404media.co/town-surveilled-mans-yard-without-a-warrant/">https://www.404media.co/town-surveilled-mans-yard-without-a-warrant/</a>, See on <a href="https://news.ycombinator.com/item?id=37965297">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        <article>
          <div>
                <div>
    <h5>Subscribe</h5>
    <div>
      <p>Join the newsletter to get the latest updates.</p>
      <form data-members-form="subscribe">
        
        
        <div>
          
          <p>
            Great! Check your inbox and click the link.
          </p>
        </div>
        <div>
          
          <p>
            Please enter a valid email address.
          </p>
        </div>
      </form>
    </div>
  </div>
<p>The Michigan Supreme Court heard a case Wednesday that will determine if it was legal under the Fourth Amendment for a local town to hire a drone company to repeatedly spy on the home of one of its residents without a warrant.&nbsp;</p><p>In the case, a man named Todd Maxon was storing and fixing up junked cars on his five-acre property in Long Lake Township in Michigan. Maxon and the township signed an agreement in 2008 that Maxon would not face any zoning action if he did not increase the number of cars he had on his property. In 2010, 2016, 2017, and 2018, the township hired a company called Zero Gravity Aerial to do aerial drone surveys of Maxon’s property to ensure he was complying with the settlement. The town filed a complaint against Maxon stating that he and his wife “significantly increased the scope of the junk cars and other junk material being kept on their property,” as determined by “aerial photographs.”</p><p>“The photographs reveal the existence of a number of trailers and trucks with enclosed beds, which, upon information and belief, are being used as storage by the Defendants,” the city wrote in its enforcement action. “These temporary storage structures violate the zoning ordinance because they are impermissible accessory buildings.”</p><figure><img src="https://www.404media.co/content/images/2023/10/Screenshot-2023-10-19-at-8.07.20-AM.png" alt="" loading="lazy" width="1556" height="730" srcset="https://www.404media.co/content/images/size/w600/2023/10/Screenshot-2023-10-19-at-8.07.20-AM.png 600w, https://www.404media.co/content/images/size/w1000/2023/10/Screenshot-2023-10-19-at-8.07.20-AM.png 1000w, https://www.404media.co/content/images/2023/10/Screenshot-2023-10-19-at-8.07.20-AM.png 1556w" sizes="(min-width: 720px) 720px"><figcaption><span>Todd Maxon</span></figcaption></figure><p>Court records reviewed by 404 Media show that the township hired Zero Gravity Aerial to specifically and repeatedly fly over Maxon’s property for the express purpose of proving he had violated the township’s ordinances. It’s particularly notable that the township did not get a warrant to do this and chose to contract with a commercial drone business to do surveillance, rather than work with local law enforcement or get permission from a judge.</p><p>“The approximately 10-acre area surrounding the property of Todd Maxon [address redacted] will be photographed and mapped to provide evidence for the purposes of code enforcement,” a <a href="https://ij.org/case/michigan-drone-surveillance/?ref=404media.co">proposal from Zero Gravity Aerial</a> reviewed by 404 Media reads. “Primary emphasis will be placed upon identification and documentation of vehicles, scrap, and other detritus located on the property. Digital imagery and GPS coordinates of the proposed area and in the surrounding areas will be recorded.”</p><p>Zero Gravity Aerial delivered “aerial photographs of the proposed property, Ground photographs taken from accessible nearby properties, and a finished orthomap of the proposed property,” according to the proposal, which was submitted as evidence. The company also documented each and every “item” on the property that had moved or been added and created an “inventory” of everything on his property, and was paid $1,200 for doing so.&nbsp;&nbsp;&nbsp;</p><figure><img src="https://www.404media.co/content/images/2023/10/Screenshot-2023-10-18-at-11.27.32-AM-1.png" alt="" loading="lazy" width="1636" height="1017" srcset="https://www.404media.co/content/images/size/w600/2023/10/Screenshot-2023-10-18-at-11.27.32-AM-1.png 600w, https://www.404media.co/content/images/size/w1000/2023/10/Screenshot-2023-10-18-at-11.27.32-AM-1.png 1000w, https://www.404media.co/content/images/size/w1600/2023/10/Screenshot-2023-10-18-at-11.27.32-AM-1.png 1600w, https://www.404media.co/content/images/2023/10/Screenshot-2023-10-18-at-11.27.32-AM-1.png 1636w" sizes="(min-width: 720px) 720px"><figcaption><span>A survey of items created by the city</span></figcaption></figure><p>Dennis Wiand, the owner of Zero Gravity Aerial, wrote an affidavit in which he said that while he was flying his “mission” over the Maxon’s property, he “did see Mr. Maxon walk out to his vehicle and look up at the drone.” He also stated that Maxon walked over to where he was piloting the drone and began to ask him what he was doing and that he “was interfering with my work.”&nbsp;</p><p>“Todd appeared to be frustrated and began to walk away and told me to ‘Go fuck yourself,’” Wiand noted.</p><p>Wiand told me in a phone call that this was the first survey of this type he had done. Wiand specializes in environmental monitoring, and in particular has expertise in flying over lakes to determine if invasive plant species have proliferated there.&nbsp;Wiand is not a party to the case and is not accused of any wrongdoing.</p><p>“I tried to help them solve a problem,” Wiand told me. “I was hired to gather data.”</p><div><p>💡</p><p><b><strong>Any drone surveillance stories I should know about? I would love to hear from you. Using a non-work device, you can message me securely on Signal at +1 202 505 1702. Otherwise, send me an email at jason@404media.co.</strong></b></p></div><p>To put this simply, and to put the specific legal questions at play aside for a moment: What the township did was dangerous for both Wiand and Maxon. People, generally, do not like when unknown drones fly over and surveil their property, and it is dumbfounding that a local government would hire a civilian commercial drone photographer to collect evidence for it in a legal proceeding of this nature, rather than having a town official or law enforcement officer do it. I have written about <a href="https://www.vice.com/en/article/xywjd3/the-skys-not-your-lawn-man-wins-lawsuit-after-neighbor-shotgunned-his-drone?ref=404media.co">numerous</a> instances of <a href="https://arstechnica.com/tech-policy/2020/05/minnesota-man-faces-felony-charges-for-shooting-down-drone/?ref=404media.co">homeowners</a> shooting <a href="https://www.airsight.com/en/news/man-arrested-for-shooting-down-drone-in-long-island-new-york?ref=404media.co">drones</a> down, getting into verbal and <a href="https://www.vice.com/en/article/xyww5d/this-kid-got-assaulted-for-flying-his-drone-on-a-beach?ref=404media.co">physical</a> <a href="https://www.vice.com/en/article/ezvwnk/a-national-parks-service-ranger-tased-a-man-flying-a-3-inch-toy-helicopter?ref=404media.co">altercations</a> with drone pilots, and things of this nature. Everyone is very lucky that no one got hurt.</p><figure><img src="https://www.404media.co/content/images/2023/10/Screenshot-2023-10-19-at-8.29.34-AM-1.png" alt="" loading="lazy" width="1428" height="1682" srcset="https://www.404media.co/content/images/size/w600/2023/10/Screenshot-2023-10-19-at-8.29.34-AM-1.png 600w, https://www.404media.co/content/images/size/w1000/2023/10/Screenshot-2023-10-19-at-8.29.34-AM-1.png 1000w, https://www.404media.co/content/images/2023/10/Screenshot-2023-10-19-at-8.29.34-AM-1.png 1428w" sizes="(min-width: 720px) 720px"><figcaption><span>A screenshot of the drone photography proposal.</span></figcaption></figure><p>Groups like the <a href="https://www.aclu.org/report/protecting-privacy-aerial-surveillance-recommendations-government-use-drone-aircraft?ref=404media.co">ACLU</a> and <a href="https://www.eff.org/deeplinks/2022/08/over-horizon-drones-lineup-privacy-not-sight?ref=404media.co">Electronic Frontier Foundation</a> have been warning that what happened to Maxon could happen for more than a decade. We are far past the original drone hype cycle, and there are now many police departments that use drones for surveillance, emergency response, and search-and-rescue. Many cities and states have highly specific rules for who can fly a drone on official government business, when they can fly it, and how that evidence can be used. Civil liberties experts are not always happy with these rules, but many jurisdictions have them nonetheless.&nbsp;</p><figure><img src="https://www.404media.co/content/images/2023/10/Screenshot-2023-10-18-at-11.27.41-AM.png" alt="" loading="lazy" width="1374" height="1232" srcset="https://www.404media.co/content/images/size/w600/2023/10/Screenshot-2023-10-18-at-11.27.41-AM.png 600w, https://www.404media.co/content/images/size/w1000/2023/10/Screenshot-2023-10-18-at-11.27.41-AM.png 1000w, https://www.404media.co/content/images/2023/10/Screenshot-2023-10-18-at-11.27.41-AM.png 1374w" sizes="(min-width: 720px) 720px"><figcaption><span>An accounting of every large item on the Maxon's property.</span></figcaption></figure><p>Michigan’s Supreme Court will now decide whether it was a Fourth Amendment violation for the township to surveil his property without a warrant, meaning it would be an unreasonable search and seizure. “We argue that both what the government did to the Maxon’s was an unconstitutional search, and that deliberate, repeated drone snooping like this can’t be excused, and you have to exclude that evidence if you don’t want an eye in the sky in everybody’s backyard,” Robert Frommer, an attorney with the Institute for Justice, who is representing Maxon in the case, told me.</p><p>The <a href="https://ij.org/wp-content/uploads/2022/10/164948_122_ac_brf-aclu.pdf?ref=404media.co">ACLU</a> and <a href="https://www.eff.org/deeplinks/2023/09/eff-michigan-court-governments-shouldnt-be-allowed-use-drone-spy-you-without?ref=404media.co">EFF</a> both filed supporting motions in which they argue that what happened was wildly inappropriate and illegal: “No one, anywhere, reasonably expects that their local government will deploy investigative cameras in the sky to repeatedly record their behavior on their own private property. Yet that is what happened in this case—and if the Township gets its way, it will not only profit from its privacy violations, but open the door to other local governments deploying cheap, pervasive, flying surveillance devices to surveil private property for the smallest of civil infractions. This Court should ensure that this is not the future in which Michiganders are consigned to live,” the ACLU wrote.&nbsp;</p><p>Long Lake Township did not respond to a request for comment.</p>
          </div>
        </article>
      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Go Package for Building Progressive Web Apps (105 pts)]]></title>
            <link>https://go-app.dev</link>
            <guid>37965217</guid>
            <pubDate>Sat, 21 Oct 2023 08:59:33 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://go-app.dev">https://go-app.dev</a>, See on <a href="https://news.ycombinator.com/item?id=37965217">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><h2 id="declarative-syntax">Declarative Syntax</h2>

<p>Go-app uses a declarative syntax so you can <strong>write reusable component-based UI elements just by using the Go programming language</strong>.</p>

<pre><code>// A component that displays a Hello world by composing with HTML elements,
// conditions, and binding.
type hello struct {
	app.Compo

	name string
}

func (h *hello) Render() app.UI {
	return app.Div().Body(
		app.H1().Body(
			app.Text("Hello, "),
			app.If(h.name != "",
				app.Text(h.name),
			).Else(
				app.Text("World!"),
			),
		),
		app.P().Body(
			app.Input().
				Type("text").
				Value(h.name).
				Placeholder("What is your name?").
				AutoFocus(true).
				OnChange(h.ValueTo(&amp;h.name)),
		),
	)
}
</code></pre>

<h2 id="standard-http-server">Standard HTTP Server</h2>

<p>Serving an app built with go-app is done by using the <a href="https://golang.org/pkg/net/http">Go standard HTTP model</a>.</p>

<pre><code>func main() {
    // Go-app component routing (client-side):
	app.Route("/", &amp;hello{})
	app.Route("/hello", &amp;hello{})
	app.RunWhenOnBrowser()

    // Standard HTTP routing (server-side):
	http.Handle("/", &amp;app.Handler{
		Name:        "Hello",
		Description: "An Hello World! example",
	})

	if err := http.ListenAndServe(":8000", nil); err != nil {
		log.Fatal(err)
	}
}
</code></pre>

<h2 id="other-features">Other Features</h2>

<ul>
<li>Works as a <a href="https://en.wikipedia.org/wiki/Single-page_application">Single-page application</a></li>
<li>SEO friendly</li>
<li>Installable</li>
<li>Offline mode support</li>
<li>State management</li>
</ul>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[We have used too many levels of abstractions and now the future looks bleak (713 pts)]]></title>
            <link>https://unixsheikh.com/articles/we-have-used-too-many-levels-of-abstractions-and-now-the-future-looks-bleak.html</link>
            <guid>37965142</guid>
            <pubDate>Sat, 21 Oct 2023 08:42:52 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://unixsheikh.com/articles/we-have-used-too-many-levels-of-abstractions-and-now-the-future-looks-bleak.html">https://unixsheikh.com/articles/we-have-used-too-many-levels-of-abstractions-and-now-the-future-looks-bleak.html</a>, See on <a href="https://news.ycombinator.com/item?id=37965142">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>


<p>Published on <span id="pubdate">2023-10-21</span>. Modified on <span id="moddate">2023-10-21</span>.</p>
<p><span id="description">A big percentage of so-called experts today only know how to configure some kind of hype-tool, but they understand nothing about how things work at the deeper level. This is a real challenge and a big problem for the future.</span></p>

<p>A steering wheel is an abstraction that makes it easier for me to drive my car. Power steering is yet another level of abstraction that further improves the driving experience. Abstractions are nice, they generally improve the quality of life. However, in Denmark we have a proverb that says:</p>

<blockquote>Too little and too much spoils everything.</blockquote>

<p>What good does an abstraction do when it breaks and nobody any longer understands how the technology under the hood works?</p>

<p>Everything in the tech industry is driven with a very hardcore eye for profit and very little interest in anything else. So you need to be able to push out new products or new services as fast as possible. This means more abstraction and more automation, less and less people, and less deeper understanding.</p>

<p>Today programmers and system administrators no longer exist, instead we have <a href="https://en.wikipedia.org/wiki/DevOps">DevOps</a> and even <a href="https://en.wiktionary.org/wiki/DevSecOps">DevSecOps</a>, in which the industry is trying very hard to stuff every single task into the job description of a single individual. The tech guys needs to do development (Dev), security (Sec) and operations (Ops), i.e. system administration, but since no single individual can truly master all that, we need to automate as much as possible in order to save money and avoid the complexities of human social interaction between different tech departments. As a result, the modern tech person is only taught about how to use specific tools, he or she then knows very little about the technology under the hood.</p>

<p>It doesn't help that technology has become increasingly difficult to understand, but more and more of modern life depends heavily upon the tech we're using. So what is going to happen when the level of understanding in the tech industry reaches such a low point in which the majority of people don't even know how to fix the tools they are using?</p>

<video controls="">
  <source src="https://unixsheikh.com/includes/video/wall-e-manual-scene.mp4" type="video/mp4">
  <source src="https://unixsheikh.com/includes/video/wall-e-manual-scene.webm" type="video/webm">
  <p>Your browser does not support the video tag. Download the <a href="https://unixsheikh.com/includes/video/wall-e-manual-scene.webm">WEBM</a> or <a href="https://unixsheikh.com/includes/video/wall-e-manual-scene.mp4">MP4</a> video instead.</p>
</video>

<p>"Manual scene" from the WALL-E movie.</p>

<p>People have become accustomed to the state of abstraction and they think it's the correct approach and they happily contribute to the mess by adding even more abstraction.</p>

<blockquote>Yes, let's all go back to coding in assembly!<p>― Sarcastic comment by arrogant developer</p></blockquote>

<p>We need abstractions, no doubt about it, but every level of abstraction comes with a price which, ironically enough, eventually can cause a massive loss in profit.</p>

<p>Already now a majority of "security people" know very little about security and only about how to use some kind of pre-made penetration testing tool. The penetration testing tool shows a bunch of green lights in its web GUI board and all is assumed well. Yet, a real security expert with evil intentions has broken the system long ago and keeps selling valuable data on the <a href="https://en.wikipedia.org/wiki/Darknet">darknet</a>. Nothing is leaked and nothing is discovered. This can go on for years without anyone finding out because, well, the GUI board says that all is <span>OK</span>.</p>

<h2>A simple case example</h2>

<p>One company I helped with security had used a third party developer firm who hired these exact types of people. The developers knew how to put together a website and an API using a "modern framework", but did not understand much of the coding of the framework itself and nothing about security, and as soon as problems began occurring, nobody could figure out what was going on. They had actually been struggling with the situation for months before they finally decided to reach out for help.</p>

<p>It was clear, just by looking at how bad everything was performing, that something was wrong. I copied everything for offline scrutiny and went straight to the code of the system and spend an evening looking through lines of code, file by file, doing some simple <a href="https://en.wikipedia.org/wiki/Diff">diffing</a> between some of the original framework files and the files running on the company host machines. Just looking through code and files.</p>

<p>Of course, it was not my intention to look through everything, but it is often surprising just how much you can learn from a bit of manual inspection. Often the truth lies just beneath the surface and with a little patience you can find it. This requires of course that you have more than just a basic understanding of how the technology works. Some students today apparently <a href="https://news.slashdot.org/story/21/09/27/2032200/students-dont-know-what-files-and-folders-are-professors-say">don't even know what files and folders are</a>?</p>

<p>Long story short, in the specific case, it turned out that they had been hacked and the system was being used as some kind of back-end distribution database for porn and other stuff. The performance problems was not caused by the hacking, but by the framework itself, which was horribly slow (no surprise there). The hacking was rather discrete and would most likely never had be discovered where it not because I decided to "poke around" and actually physically look at files and code.</p>

<h2>Advice to people studying technology</h2>

<ul>
  <li>Never just follow hype or trends.</li>
  <li>Be curious. Don't just learn tools, try to understand how the underlying technology works.</li>
  <li>If possible, try at least once to manually do what e.g. a configuration tool does for you.</li>
  <li>If possible, try to look at the code for the tool. Even a basic understanding of the code can be very valuable.</li>
  <li>Stay curious. Keep learning. Experiment. Dive deeper into the technology that interests you. If possible, set up a homelab and use it as a playground for learning and breaking things.</li>
  <li>Question everything. Especially things that don't make any sense to you. Don't just assume that someone else knows better - that's how you quickly turn into a blind follower. Sometimes someone else truly knows better, but don't just assume that to be the case by default. And be brave! Stand by the truth and your convictions even if that makes you feel like you stand alone.<p><img src="https://unixsheikh.com/includes/images/blind-following.webp" alt="People blindly following eachother"></p></li>
</ul>

</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[O3DE (258 pts)]]></title>
            <link>https://o3de.org/</link>
            <guid>37964999</guid>
            <pubDate>Sat, 21 Oct 2023 08:09:05 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://o3de.org/">https://o3de.org/</a>, See on <a href="https://news.ycombinator.com/item?id=37964999">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <main>

                

                    
        <!---- create contribute section--->

        <div>
                    <p>
                        <h2>CREATE in the open</h2>
                    </p>
                </div>

        <!---- features section--->

        <div>
                <div>
                    <p>
                        <h2>WHY O3DE?</h2>
                    </p>
                    <p>Discover the continuously evolving benefits of O3DE and our growing, welcoming community around the world.
</p>
                    
                </div>

                <div>
                                                                            <div>
                                        <p><img src="https://o3de.org/wp-content/uploads/2023/05/high-fidelity.svg" alt="">
                                        </p>
                                        <p>
                                            High
Fidelity                                        </p>
                                    </div>

                                                            <div>
                                        <p><img src="https://o3de.org/wp-content/uploads/2023/05/modular.svg" alt="">
                                        </p>
                                        <p>
                                            Modular                                        </p>
                                    </div>

                                                            <div>
                                        <p><img src="https://o3de.org/wp-content/uploads/2023/05/interoperable.svg" alt="">
                                        </p>
                                        <p>
                                            Inter-operable
                                        </p>
                                    </div>

                                                            <div>
                                        <p><img src="https://o3de.org/wp-content/uploads/2023/05/cross-platform.svg" alt="">
                                        </p>
                                        <p>
                                            Cross Platform
                                        </p>
                                    </div>

                                                            <div>
                                        <p><img src="https://o3de.org/wp-content/uploads/2023/05/Community-1.svg" alt="">
                                        </p>
                                        <p>
                                            Community Driven
                                        </p>
                                    </div>

                                                            <div>
                                        <p><img src="https://o3de.org/wp-content/uploads/2023/05/open-source.svg" alt="">
                                        </p>
                                        <p>
                                            Open
Source                                        </p>
                                    </div>

                                                            <div>
                                        <p><img src="https://o3de.org/wp-content/uploads/2023/05/cloud.svg" alt="">
                                        </p>
                                        <p>
                                            Cloud Friendly                                        </p>
                                    </div>

                                                                                        </div>
                

            </div>
        <!------ Industries ---->
        
        <div>
                <div>
                    <p>
                        <h2>OPEN TO ALL<br>
INDUSTRIES</h2>
                    </p>
                    <p>Unleash your creativity across a variety of industries, applications and platforms, using O3DE as the foundation for any 3D project.</p>
                    
                </div>

                <div>
                    <div>
                        <ul>

                                                                                                    <li data-industry="0">
                                            <div>
                                                <p><span>
                                                    <img src="https://o3de.org/wp-content/uploads/2023/05/gaming.svg" alt="">
                                                </span></p><h4>Gaming</h4>
                                            </div>
                                            
                                        </li>

                                                                            <li data-industry="1">
                                            <div>
                                                <p><span>
                                                    <img src="https://o3de.org/wp-content/uploads/2023/05/robotics.svg" alt="">
                                                </span></p><h4>Robotics</h4>
                                            </div>
                                            
                                        </li>

                                                                            <li data-industry="2">
                                            <div>
                                                <p><span>
                                                    <img src="https://o3de.org/wp-content/uploads/2023/05/metaverse-1.svg" alt="">
                                                </span></p><h4>Metaverse</h4>
                                            </div>
                                            
                                        </li>

                                                                            <li data-industry="3">
                                            <div>
                                                <p><span>
                                                    <img src="https://o3de.org/wp-content/uploads/2023/05/education.svg" alt="">
                                                </span></p><h4>Education</h4>
                                            </div>
                                            
                                        </li>

                                                                                                                        </ul>
                    </div>
                    <div>
                                                                        <div>
                                                <h5>Gaming</h5>
                                                <p>Create stunning worlds that support multi-faceted storytelling and game play, with open source, modular tools.</p>
                                            </div>
                                                                            <div>
                                                <h5>Robotics</h5>
                                                <p>Deploy O3DE in robotics applications through integration with the modern Robot Operating System (ROS).
</p>
                                            </div>
                                                                            <div>
                                                <h5>Metaverse</h5>
                                                <p>Deliver immersive experiences and 3D digital assets for the emerging world of the open metaverse.</p>
                                            </div>
                                                                            <div>
                                                <h5>Education</h5>
                                                <p>Apply different modalities of learning to meet the needs of the modern classroom, with 3D technology that enables deeper understanding and faster learning.</p>
                                            </div>
                                                                                                </div>
                </div>

                
            </div>

        <!---- Gallery section --->
        <div>
                    <div>
                                                        <h2>MADE WITH O3DE</h2>
<p>Our O3DE gallery showcases the latest and greatest creations and simulations from our global community of O3DE users and contributors.</p>
<p><a href="https://o3de.org/showcase/">SEE SHOWCASE</a></p>

                        </div>
                    <div>
                                                                                                            <div data-swiper-autoplay="5000">
                                                    <h4>Robotic Warehouse Simulation</h4>
                                                    <p>Robotec.ai</p>
                                                </div>
                                                                            
                                                                            <div data-swiper-autoplay="5000">
                                                    <h4>Robotic Simulation Example</h4>
                                                    <p>Robotec.ai</p>
                                                </div>
                                                                            <div data-swiper-autoplay="5000">
                                                    <h4>Using Material Maker with O3DE</h4>
                                                    <p>Darkinggq</p>
                                                </div>
                                                                            
                                                                            <div data-swiper-autoplay="5000">
                                                    <h4>Chain Arc skill using PopcornFX</h4>
                                                    <p>Olex Lozitskiy</p>
                                                </div>
                                                                            
                                                                            <div data-swiper-autoplay="5000">
                                                    <h4>Planet Survival Game</h4>
                                                    <p>Starr Shaw</p>
                                                </div>
                                                                            <div data-swiper-autoplay="5000">
                                                <p><img src="https://o3de.org/wp-content/uploads/2023/05/FPC-gem.jpeg" alt="First Person Controller Gem">
                                                                                                    </p>
                                                
                                                <div>
                                                    <h4>First Person Controller Gem</h4>
                                                    <p>Porcupine-Factory</p>
                                                </div>
                                            </div>
                                                                            <div data-swiper-autoplay="5000">
                                                <p><img src="https://o3de.org/wp-content/uploads/2023/05/Paper-Kid.jpeg" alt="Paper Kid">
                                                                                                    </p>
                                                
                                                
                                            </div>
                                                                            <div data-swiper-autoplay="5000">
                                                <p><img src="https://o3de.org/wp-content/uploads/2023/05/buon.jpg" alt="Buon(G.I)orno Sample and Gem">
                                                                                                    </p>
                                                
                                                <div>
                                                    <h4>Buon(G.I)orno Sample and Gem</h4>
                                                    <p>Imagination Technologies</p>
                                                </div>
                                            </div>
                                                                                                        
                            </div>
                </div>

        

        <!--- Members section --->
        <!-- <section class="members-section section-gradient">
        
            
            <div class="container">
                <div class="row mb-80 justify-content-center">
                    <div class="col-sm-9 text-center">
                        <h2>MEMBER ORGANIZATIONS</h2>
<p>More than 25 companies across the globe support O3DE as members of the Open 3D Foundation.<br />
Find out why and discover how becoming a member helps you to shape the future of O3DE.</p>
                    </div>

                </div>
                <div class="row">
                    <div class="col-sm-12">
                                                <div class="swiper member-slider member-slider-1">
                            <div class="swiper-wrapper">
                                                                    <div class="logo-col  swiper-slide"><img class="img-fluid" src="" alt=""></div>
                                                            </div>
                        </div>
                        <div class="swiper member-slider member-slider-2">
                            <div class="swiper-wrapper">
                                                                    <div class="logo-col  swiper-slide"><img class="img-fluid" src="" alt=""></div>
                                                            </div>
                        </div>

                    </div>
                </div>
                <div class="row justify-content-center mt-5 mb-80">
                    <div class="col-sm-4 text-center">
                        <a href="https://o3d.foundation/community/become-a-member/" target="_blank" class="center btn-underline">Become a Member</a>
                    </div>
                </div>
            </div>
        </section> -->
        <div>
                        <h2>MEMBER ORGANIZATIONS</h2>
<p>More than 25 companies across the globe support O3DE as members of the Open 3D Foundation.<br>
Find out why and discover how becoming a member helps you to shape the future of O3DE.</p>
                    </div>


        </main>


</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Microwatt: A tiny Open POWER ISA softcore written in VHDL 2008 (118 pts)]]></title>
            <link>https://github.com/antonblanchard/microwatt</link>
            <guid>37964878</guid>
            <pubDate>Sat, 21 Oct 2023 07:40:42 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/antonblanchard/microwatt">https://github.com/antonblanchard/microwatt</a>, See on <a href="https://news.ycombinator.com/item?id=37964878">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><p dir="auto">
<a target="_blank" rel="noopener noreferrer" href="https://github.com/antonblanchard/microwatt/blob/master/media/microwatt-title.png"><img src="https://github.com/antonblanchard/microwatt/raw/master/media/microwatt-title.png" alt="Microwatt"></a>
</p>
<h2 tabindex="-1" id="user-content-microwatt" dir="auto"><a href="#microwatt">Microwatt</a></h2>
<p dir="auto">A tiny Open POWER ISA softcore written in VHDL 2008. It aims to be simple and easy
to understand.</p>
<h2 tabindex="-1" id="user-content-simulation-using-ghdl" dir="auto"><a href="#simulation-using-ghdl">Simulation using ghdl</a></h2>
<p dir="auto">
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/fef790b5fc71f2acb41496a07b7cfac962e67b994bb8a3a9b821fd27be3009ce/687474703a2f2f6e65756c696e672e6f72672f6d6963726f776174742d6d6963726f707974686f6e2e676966"><img src="https://camo.githubusercontent.com/fef790b5fc71f2acb41496a07b7cfac962e67b994bb8a3a9b821fd27be3009ce/687474703a2f2f6e65756c696e672e6f72672f6d6963726f776174742d6d6963726f707974686f6e2e676966" alt="MicroPython running on Microwatt" data-animated-image="" data-canonical-src="http://neuling.org/microwatt-micropython.gif"></a>
</p>
<p dir="auto">You can try out Microwatt/Micropython without hardware by using the ghdl simulator. If you want to build directly for a hardware target board, see below.</p>
<ul dir="auto">
<li>Build micropython. If you aren't building on a ppc64le box you
will need a cross compiler. If it isn't available on your distro
grab the powerpc64le-power8 toolchain from <a href="https://toolchains.bootlin.com/" rel="nofollow">https://toolchains.bootlin.com</a>.
You may need to set the CROSS_COMPILE environment variable
to the prefix used for your cross compilers.  The default is
powerpc64le-linux-gnu-.</li>
</ul>
<div data-snippet-clipboard-copy-content="git clone https://github.com/micropython/micropython.git
cd micropython
cd ports/powerpc
make -j$(nproc)
cd ../../../"><pre><code>git clone https://github.com/micropython/micropython.git
cd micropython
cd ports/powerpc
make -j$(nproc)
cd ../../../
</code></pre></div>
<p dir="auto">A prebuilt micropython image is also available in the micropython/ directory.</p>
<ul dir="auto">
<li>
<p dir="auto">Microwatt uses ghdl for simulation. Either install this from your
distro or build it. Microwatt requires ghdl to be built with the LLVM
or gcc backend, which not all distros do (Fedora does, Debian/Ubuntu
appears not to). ghdl with the LLVM backend is likely easier to build.</p>
<p dir="auto">If building ghdl from scratch is too much for you, the microwatt Makefile
supports using Docker or Podman.</p>
</li>
<li>
<p dir="auto">Next build microwatt:</p>
</li>
</ul>
<div data-snippet-clipboard-copy-content="git clone https://github.com/antonblanchard/microwatt
cd microwatt
make"><pre><code>git clone https://github.com/antonblanchard/microwatt
cd microwatt
make
</code></pre></div>
<p dir="auto">To build using Docker:</p>

<p dir="auto">and to build using Podman:</p>

<ul dir="auto">
<li>Link in the micropython image:</li>
</ul>
<div data-snippet-clipboard-copy-content="ln -s ../micropython/ports/powerpc/build/firmware.bin main_ram.bin"><pre><code>ln -s ../micropython/ports/powerpc/build/firmware.bin main_ram.bin
</code></pre></div>
<p dir="auto">Or if you were using the pre-built image:</p>
<div data-snippet-clipboard-copy-content="ln -s micropython/firmware.bin main_ram.bin"><pre><code>ln -s micropython/firmware.bin main_ram.bin
</code></pre></div>
<ul dir="auto">
<li>Now run microwatt, sending debug output to /dev/null:</li>
</ul>

<h2 tabindex="-1" id="user-content-synthesis-on-xilinx-fpgas-using-vivado" dir="auto"><a href="#synthesis-on-xilinx-fpgas-using-vivado">Synthesis on Xilinx FPGAs using Vivado</a></h2>
<ul dir="auto">
<li>
<p dir="auto">Install Vivado (I'm using the free 2019.1 webpack edition).</p>
</li>
<li>
<p dir="auto">Setup Vivado paths:</p>
</li>
</ul>
<div data-snippet-clipboard-copy-content="source /opt/Xilinx/Vivado/2019.1/settings64.sh"><pre><code>source /opt/Xilinx/Vivado/2019.1/settings64.sh
</code></pre></div>
<ul dir="auto">
<li>Install FuseSoC:</li>
</ul>
<div data-snippet-clipboard-copy-content="pip3 install --user -U fusesoc"><pre><code>pip3 install --user -U fusesoc
</code></pre></div>
<p dir="auto">Fedora users can get FuseSoC package via</p>
<div data-snippet-clipboard-copy-content="sudo dnf copr enable sharkcz/danny
sudo dnf install fusesoc"><pre><code>sudo dnf copr enable sharkcz/danny
sudo dnf install fusesoc
</code></pre></div>
<ul dir="auto">
<li>If this is your first time using fusesoc, initialize fusesoc.
This is needed to be able to pull down fussoc library components referenced
by microwatt. Run</li>
</ul>
<div data-snippet-clipboard-copy-content="fusesoc init
fusesoc fetch uart16550
fusesoc library add microwatt /path/to/microwatt"><pre><code>fusesoc init
fusesoc fetch uart16550
fusesoc library add microwatt /path/to/microwatt
</code></pre></div>
<ul dir="auto">
<li>Build using FuseSoC. For hello world (Replace nexys_video with your FPGA board such as --target=arty_a7-100):
You may wish to ensure you have <a href="https://reference.digilentinc.com/vivado/installing-vivado/start#installing_digilent_board_files" rel="nofollow">installed Digilent Board files</a>
or appropriate files for your board first.</li>
</ul>
<div data-snippet-clipboard-copy-content="fusesoc run --target=nexys_video microwatt --memory_size=16384 --ram_init_file=/path/to/microwatt/fpga/hello_world.hex"><pre><code>fusesoc run --target=nexys_video microwatt --memory_size=16384 --ram_init_file=/path/to/microwatt/fpga/hello_world.hex
</code></pre></div>
<p dir="auto">You should then be able to see output via the serial port of the board (/dev/ttyUSB1, 115200 for example assuming standard clock speeds). There is a know bug where initial output may not be sent - try the reset (not programming button) on your board if you don't see anything.</p>
<ul dir="auto">
<li>To build micropython (currently requires 1MB of BRAM eg an Artix-7 A200):</li>
</ul>
<div data-snippet-clipboard-copy-content="fusesoc run --target=nexys_video microwatt"><pre><code>fusesoc run --target=nexys_video microwatt
</code></pre></div>
<h2 tabindex="-1" id="user-content-linux-on-microwatt" dir="auto"><a href="#linux-on-microwatt">Linux on Microwatt</a></h2>
<p dir="auto">Mainline Linux supports Microwatt as of v5.14. The Arty A7 is the best tested
platform, but it's also been tested on the OrangeCrab and ButterStick.</p>
<ol dir="auto">
<li>
<p dir="auto">Use buildroot to create a userspace</p>
<p dir="auto">A small change is required to glibc in order to support the VMX/AltiVec-less
Microwatt, as float128 support is mandiatory and for this in GCC requires
VSX/AltiVec. This change is included in Joel's buildroot fork, along with a
defconfig:</p>
<div data-snippet-clipboard-copy-content="git clone -b microwatt https://github.com/shenki/buildroot
cd buildroot
make ppc64le_microwatt_defconfig
make"><pre><code>git clone -b microwatt https://github.com/shenki/buildroot
cd buildroot
make ppc64le_microwatt_defconfig
make
</code></pre></div>
<p dir="auto">The output is <code>output/images/rootfs.cpio</code>.</p>
</li>
<li>
<p dir="auto">Build the Linux kernel</p>
<div data-snippet-clipboard-copy-content="git clone https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git
cd linux
make ARCH=powerpc microwatt_defconfig
make ARCH=powerpc CROSS_COMPILE=powerpc64le-linux-gnu- \
  CONFIG_INITRAMFS_SOURCE=/buildroot/output/images/rootfs.cpio -j`nproc`"><pre><code>git clone https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git
cd linux
make ARCH=powerpc microwatt_defconfig
make ARCH=powerpc CROSS_COMPILE=powerpc64le-linux-gnu- \
  CONFIG_INITRAMFS_SOURCE=/buildroot/output/images/rootfs.cpio -j`nproc`
</code></pre></div>
<p dir="auto">The output is <code>arch/powerpc/boot/dtbImage.microwatt.elf</code>.</p>
</li>
<li>
<p dir="auto">Build gateware using FuseSoC</p>
<p dir="auto">First configure FuseSoC as above.</p>
<div data-snippet-clipboard-copy-content="fusesoc run --build --target=arty_a7-100 microwatt --no_bram --memory_size=0"><pre><code>fusesoc run --build --target=arty_a7-100 microwatt --no_bram --memory_size=0
</code></pre></div>
<p dir="auto">The output is <code>build/microwatt_0/arty_a7-100-vivado/microwatt_0.bit</code>.</p>
</li>
<li>
<p dir="auto">Program the flash</p>
<p dir="auto">This operation will overwrite the contents of your flash.</p>
<p dir="auto">For the Arty A7 A100, set <code>FLASH_ADDRESS</code> to <code>0x400000</code> and pass <code>-f a100</code>.</p>
<p dir="auto">For the Arty A7 A35, set <code>FLASH_ADDRESS</code> to <code>0x300000</code> and pass <code>-f a35</code>.</p>
<div data-snippet-clipboard-copy-content="microwatt/openocd/flash-arty -f a100 build/microwatt_0/arty_a7-100-vivado/microwatt_0.bit
microwatt/openocd/flash-arty -f a100 dtbImage.microwatt.elf -t bin -a $FLASH_ADDRESS"><pre><code>microwatt/openocd/flash-arty -f a100 build/microwatt_0/arty_a7-100-vivado/microwatt_0.bit
microwatt/openocd/flash-arty -f a100 dtbImage.microwatt.elf -t bin -a $FLASH_ADDRESS
</code></pre></div>
</li>
<li>
<p dir="auto">Connect to the second USB TTY device exposed by the FPGA</p>

<p dir="auto">The gateware has firmware that will look at <code>FLASH_ADDRESS</code> and attempt to
parse an ELF there, loading it to the address specified in the ELF header
and jumping to it.</p>
</li>
</ol>
<h2 tabindex="-1" id="user-content-testing" dir="auto"><a href="#testing">Testing</a></h2>
<ul dir="auto">
<li>A simple test suite containing random execution test cases and a couple of
micropython test cases can be run with:</li>
</ul>

<h2 tabindex="-1" id="user-content-issues" dir="auto"><a href="#issues">Issues</a></h2>
<ul dir="auto">
<li>There are a few instructions still to be implemented:
<ul dir="auto">
<li>Vector/VMX/VSX</li>
</ul>
</li>
</ul>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[With Firefox on X11, any page can pastejack you anytime (middle button paste) (193 pts)]]></title>
            <link>https://www.openwall.com/lists/oss-security/2023/10/17/1</link>
            <guid>37964835</guid>
            <pubDate>Sat, 21 Oct 2023 07:30:39 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.openwall.com/lists/oss-security/2023/10/17/1">https://www.openwall.com/lists/oss-security/2023/10/17/1</a>, See on <a href="https://news.ycombinator.com/item?id=37964835">Hacker News</a></p>
<div id="readability-page-1" class="page">


<table>
<tbody><tr>

<td>
<a href="https://www.openwall.com/"><img src="https://www.openwall.com/logo.png" width="182" height="80" alt="Openwall"></a>
</td><td>
<div>
<ul>
<li><a href="https://www.openwall.com/">Products</a>
<ul>
<li><a href="https://www.openwall.com/Owl/">Openwall GNU/*/Linux &nbsp; <i>server OS</i></a>
</li><li><a href="https://www.openwall.com/lkrg/">Linux Kernel Runtime Guard</a>
</li><li><a href="https://www.openwall.com/john/">John the Ripper &nbsp; <i>password cracker</i></a>
<ul>
<li><a href="https://www.openwall.com/john/">Free &amp; Open Source for any platform</a>
</li><li><a href="https://www.openwall.com/john/cloud/">in the cloud</a>
</li><li><a href="https://www.openwall.com/john/pro/linux/">Pro for Linux</a>
</li><li><a href="https://www.openwall.com/john/pro/macosx/">Pro for macOS</a>
</li></ul>
</li><li><a href="https://www.openwall.com/wordlists/">Wordlists &nbsp; <i>for password cracking</i></a>
</li><li><a href="https://www.openwall.com/passwdqc/">passwdqc &nbsp; <i>policy enforcement</i></a>
<ul>
<li><a href="https://www.openwall.com/passwdqc/">Free &amp; Open Source for Unix</a>
</li><li><a href="https://www.openwall.com/passwdqc/windows/">Pro for Windows (Active Directory)</a>
</li></ul>
</li><li><a href="https://www.openwall.com/yescrypt/">yescrypt &nbsp; <i>KDF &amp; password hashing</i></a>
</li><li><a href="https://www.openwall.com/yespower/">yespower &nbsp; <i>Proof-of-Work (PoW)</i></a>
</li><li><a href="https://www.openwall.com/crypt/">crypt_blowfish &nbsp; <i>password hashing</i></a>
</li><li><a href="https://www.openwall.com/phpass/">phpass &nbsp; <i>ditto in PHP</i></a>
</li><li><a href="https://www.openwall.com/tcb/">tcb &nbsp; <i>better password shadowing</i></a>
</li><li><a href="https://www.openwall.com/pam/">Pluggable Authentication Modules</a>
</li><li><a href="https://www.openwall.com/scanlogd/">scanlogd &nbsp; <i>port scan detector</i></a>
</li><li><a href="https://www.openwall.com/popa3d/">popa3d &nbsp; <i>tiny POP3 daemon</i></a>
</li><li><a href="https://www.openwall.com/blists/">blists &nbsp; <i>web interface to mailing lists</i></a>
</li><li><a href="https://www.openwall.com/msulogin/">msulogin &nbsp; <i>single user mode login</i></a>
</li><li><a href="https://www.openwall.com/php_mt_seed/">php_mt_seed &nbsp; <i>mt_rand() cracker</i></a>
</li></ul>
</li><li><a href="https://www.openwall.com/services/">Services</a>
</li><li id="narrow-li-1"><a>Publications</a>
<ul>
<li><a href="https://www.openwall.com/articles/">Articles</a>
</li><li><a href="https://www.openwall.com/presentations/">Presentations</a>
</li></ul>
</li><li><a>Resources</a>
<ul>
<li><a href="https://www.openwall.com/lists/">Mailing lists</a>
</li><li><a href="https://openwall.info/wiki/">Community wiki</a>
</li><li><a href="https://github.com/openwall">Source code repositories (GitHub)</a>
</li><li><a href="https://cvsweb.openwall.com/">Source code repositories (CVSweb)</a>
</li><li><a href="https://www.openwall.com/mirrors/">File archive &amp; mirrors</a>
</li><li><a href="https://www.openwall.com/signatures/">How to verify digital signatures</a>
</li><li><a href="https://www.openwall.com/ove/">OVE IDs</a>
</li></ul>
</li><li id="last-li"><a href="https://www.openwall.com/news">What's new</a>
</li></ul>
</div>


</td></tr></tbody></table>




<a href="https://www.openwall.com/lists/oss-security/2023/10/16/23">[&lt;prev]</a> <a href="https://www.openwall.com/lists/oss-security/2023/10/17/2">[next&gt;]</a> <a href="https://www.openwall.com/lists/oss-security/2023/10/18/3">[thread-next&gt;]</a> <a href="https://www.openwall.com/lists/oss-security/2023/10/17/">[day]</a> <a href="https://www.openwall.com/lists/oss-security/2023/10/">[month]</a> <a href="https://www.openwall.com/lists/oss-security/2023/">[year]</a> <a href="https://www.openwall.com/lists/oss-security/">[list]</a>
<pre>Date: Tue, 17 Oct 2023 03:17:36 +0300
From: turistu &lt;turistu@...il.com&gt;
To: oss-security@...ts.openwall.com
Subject: with firefox on X11, any page can pastejack you anytime

Note to the moderator: I have already submitted this to the firefox people
three weeks ago, and according to them, this is not a real security issue,
or at least not worse than those pesky scripts which you cannot kill without
killing firefox itself; if you think the same, just ignore this without
replying.

I would however appreciate if you let this through and so give it some
visibility so that the other 2 or 3 people who may be affected by this
could learn about it.

Thank you very much.

====

In firefox running on X11, any script from any page can freely write to the
primary selection, and that can be easily exploited to run arbitrary code
on the user's machine.

No user interaction is necessary -- any page able to run javascript can do it,
including e.g. a page from a background tab of a minimized window, an iframe
inside such a window, an error page, a sandboxed iframe, a page that has
reloaded itself via `meta http-equiv=refresh`, etc.

This applies to all the versions of mozilla/firefox and their derivatives
(seamonkey, etc) that I was able to test, including the latest nightly.

### Example

The simplest example, which works in the default configurations of systems
like OpenBSD or Alpine Linux (= any Unix/Linux system where Wayland is not
the default and the default *shell* does not implement bracketed-paste),
would go like this:

Load the following snippet in firefox:

	&lt;pre id=pre style=font-size:0&gt;&lt;/pre&gt;
	intentionally left blank
	&lt;script&gt;
	function writeXPrimary(s){
		pre.textContent = s; getSelection().selectAllChildren(pre);
	}
	setInterval(function(){
		writeXPrimary('touch ~/LOL-' + Date.now() / 1000 +'\r')
	}, 500)
	&lt;/script&gt;

Then pretend to forget about it, and go about your work. Sooner or later,
when trying to paste something in the terminal with shift-Insert or middle
click, you will end up running the command `writeXPrimary()` has injected
just between your copy and paste.

live example of that snippet: <a href="https://turistu.github.io/firefox/pastejack.html" rel="nofollow">https://turistu.github.io/firefox/pastejack.html</a>

### Short technical explanation

Browsers like firefox have the concepts of "secure context" (e.g. `https://`)
and "transient user activation"; the javascript from the page gets some
temporary powers as soon as you have interacted *even so little* with the
page, like clicked, touched, etc.

For instance, writing with `Clipboard.writeText()` to the windows-style
Ctrl-C Ctrl-V *clipboard* selection is only possible from secure contexts
and only in the short while after the user has clicked a button, etc on the page.
As this bug demonstrates, those prerequisites are not needed for writing to the
*primary* selection, which on X11 is much more used and much more valuable.

### Workaround

Without patching firefox, the only workaround I can think about is
disabling the `Clipboard.selectAllChildren()` function from an addon's
content script, e.g. like this:

	let block = function(){ throw Error('blocked') };
	exportFunction(block, Selection.prototype, { defineAs: 'selectAllChildren' });

Complete extension here at <a href="https://github.com/turistu/odds-n-ends/raw/main/firefox/no-sel.xpi" rel="nofollow">https://github.com/turistu/odds-n-ends/raw/main/firefox/no-sel.xpi</a>.

I tried to submit it to addons.mozilla.org but they didn't accept it. If
you're running firefox-esr, the development edition or nightly, you can just
`set xpinstall.signatures.required` to true in `about:config` and install
it with `firefox no-sel.xpi`.

### Firefox Patch
```
diff -r 9b362770f30b layout/generic/nsFrameSelection.cpp
--- a/layout/generic/nsFrameSelection.cpp	Fri Oct 06 12:03:17 2023 +0000
+++ b/layout/generic/nsFrameSelection.cpp	Sun Oct 08 11:04:41 2023 +0300
@@ -3345,6 +3345,10 @@
     return;  // Don't care if we are still dragging.
   }
 
+  if (aReason &amp; nsISelectionListener::JS_REASON) {
+    return;
+  }
+
   if (!aDocument || aSelection.IsCollapsed()) {
 #ifdef DEBUG_CLIPBOARD
     fprintf(stderr, "CLIPBOARD: no selection/collapsed selection\n");
```

The idea of this patch was to *always* prevent javascript from indirectly
messing with the primary selection via the Selection API. However, it turned
out that the `JS_REASON` flag was not reliable; if javascript calls some
function like `addRange()` or `selectAllChildren()` while the user has started
dragging but hasn't released the mouse button yet, that code will be called
*without* that flag but with the text set by javascript, not the text
selected by the user. However, I think that this patch is still enough
to fill the glaring hole opened by `selectAllChildren()`.

### About the example and bracketed-paste

The bracketed paste feature of bash/readline and zsh means that you
cannot just append a CR or LF to the payload and be done, it's the
user who has to press ENTER for it to run.

However, workarounds exist.  For instance, some terminals like mlterm
don't filter out the pasted data, and you can terminate the pasting
mode early by inserting a `\e[201~` in the payload.

For bash, you can take advantage of some quirks in the readline library
to turn off the highlighting and make the payload invisible to the user.
E.g.:

	let payload = 'touch ~/LOL-' + Date.now() / 1000;
	writeXPrimary('\n' + payload + '\n'.repeat(100) + ' '.repeat(30)
		+ '\n'.repeat(100))

which will confuse the user with the same screen as when some stray background job
had written something to the terminal:

	user@...t:~$ : previous unrelated command
	user@...t:~$	&lt;-- paste here
	#   &lt;-- cursor here, most users will just hit Enter to get a new prompt

live example of that snippet:	<a href="https://turistu.github.io/firefox/bash-pastejack.html" rel="nofollow">https://turistu.github.io/firefox/bash-pastejack.html</a>

Just to be clear, I don't think that either mlterm, bash, nor the shells that
don't do have that bracketed-paste feature are at fault here in any way
(and I personally always turn off that misfeature as it badly interferes
with my workflow): It's firefox which should get all the blame for letting
random javascript evade its pretended "sandbox" in this way.

### About Wayland

For firefox running in Wayland, `writeXPrimary()` will only succeed
when the firefox window (the main window, not necessarily the tab the code
runs in) has the focus. Otherwise the selection will be cleared. At first I
assumed that this is something specific to the Wayland protocol, but that
turned out to be utterly false; it's just some quirk, bug or "feature"
specific to either firefox itself or GTK.

But I think that's still bad enough, even if the page should take care to
only set the selection when the main window has gained focus.

And of course, all this doesn't affect the situation where you're copying
and pasting in another firefox tab with a different context, origin, etc;
and all the other situations where you don't appreciate having random
javascript you don't even know about messing with your copy &amp; paste.

===

This is a slightly edited version of
<a href="https://github.com/turistu/odds-n-ends/blob/main/firefox/pastejack.md" rel="nofollow">https://github.com/turistu/odds-n-ends/blob/main/firefox/pastejack.md</a>.

I will correct any errors or omissions and also add more info there.
</pre>
<p><a href="http://www.openwall.com/blists/">Powered by blists</a> - <a href="http://lists.openwall.net/">more mailing lists</a>


</p><p>
Please check out the
<a href="https://oss-security.openwall.org/wiki/">
Open Source Software Security Wiki</a>, which is counterpart to this
<a href="https://oss-security.openwall.org/wiki/mailing-lists/oss-security">mailing list</a>.
</p><p>
Confused about <a href="https://www.openwall.com/lists/">mailing lists</a> and their use?
<a href="https://en.wikipedia.org/wiki/Electronic_mailing_list">Read about mailing lists on Wikipedia</a>
and check out these
<a href="https://www.complang.tuwien.ac.at/anton/mail-news-errors.html">guidelines on proper formatting of your messages</a>.
</p></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Common-knowledge effect: A bias in team decision making (106 pts)]]></title>
            <link>https://www.nngroup.com/articles/common-knowledge-effect/</link>
            <guid>37964682</guid>
            <pubDate>Sat, 21 Oct 2023 06:51:42 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.nngroup.com/articles/common-knowledge-effect/">https://www.nngroup.com/articles/common-knowledge-effect/</a>, See on <a href="https://news.ycombinator.com/item?id=37964682">Hacker News</a></p>
<div id="readability-page-1" class="page"><section id="articleBody"><p>"None of us is as smart as all of us" is a well-known quote by management consultant Kenneth Blanchard. It summarizes the intuitive and commonly held sentiment that teams are more intelligent and capable than individuals. Teams have more brainpower, knowledge, and experience. When confronted with a difficult decision, you want a team — not just one individual — to analyze, deliberate, and resolve the situation.</p>
<p>But is the superiority of team decision making a reality or a myth? Behavioral-psychology research suggests that the answer is not as simple as it may seem.</p>
<h3>On This Page:</h3>
<ul>
<li><a href="#The Common-Knowledge Effect">The Common-Knowledge Effect</a></li>
<li><a href="#Scenario">Scenario</a></li>
<li><a href="#Individual Decision Making">Individual Decision Making</a></li>
<li><a href="#Team Decision Making">Team Decision Making</a></li>
<li><a href="#Why Does the Common-Knowledge Effect Happen?">Why Does the Common-Knowledge Effect Happen?</a></li>
<li><a href="#Why the Common-Knowledge Effect Matters to UX">Why the Common-Knowledge Effect Matters to UX</a></li>
<li><a href="#How to Mitigate the Common-Knowledge Effect">How to Mitigate the Common-Knowledge Effect</a></li>
<li><a href="#Conclusion">Conclusion</a></li>
<li><a href="#References">References</a></li>
</ul>
<h2><a id="The Common-Knowledge Effect" name="The Common-Knowledge Effect"></a>The Common-Knowledge Effect</h2>
<p>Psychologists Garold Stasser and William Titus found that teams often do not live up to their decision-making potential. Instead of harnessing the members' collective resources to make robust decisions, teams spend most of their time discussing the information they all already know and not enough time on uniquely held information, consequently engaging in poor decision making. This phenomenon hindering team decision making (just one problem among many, such as <a href="https://www.nngroup.com/articles/groupthink-in-ux/">groupthink</a>) has been consistently confirmed by psychology researchers over four decades.</p>
<p>Definition: The <strong>common-knowledge effect</strong> is a decision-making bias where teams overemphasize the information most team members understand instead of pursuing and incorporating the unique knowledge of team members.</p>
<p>Let's walk through a scenario demonstrating how the common-knowledge effect can hamper your team's decision making.</p>
<h2><a id="Scenario" name="Scenario"></a>Scenario</h2>
<p>Assume you're a UX leader at a software company. You and your colleagues must decide on pursuing one of three possible projects, A, B, and C, next year. Because this is a strategic decision requiring cross-department coordination and sizable investment, each project has been extensively researched. Multiple facts are known about each project.</p>
<p>To construct this scenario, we used ChatGPT to generate plausible factual statements for each software project. The statements focused on engineering, product management, or user-experience topics. All statements could either be positive or negative. Positive statements suggested that a project would be advantageous, profitable, or beneficial to the organization. Negative statements suggested a project would be challenging, costly, or detrimental to the organization. As part of the statement-generating prompt, ChatGPT was instructed to use sentiment analysis to create statements that were roughly equivalent in the magnitude of their positivity or negativity. (For example, we wouldn’t want a statement like <em>This project is expected to generate billions in revenue</em>, as it would make choosing a project too easy.)</p>
<table>
<tbody>
<tr>
<td>
<p>Statements</p>
</td>
<td>
<p>Project A</p>
</td>
<td>
<p>Project B</p>
</td>
<td>
<p>Project C</p>
</td>
</tr>
<tr>
<td>
<p>Positive</p>
</td>
<td>
<p>4</p>
</td>
<td>
<p><strong>7</strong></p>
</td>
<td>
<p>4</p>
</td>
</tr>
<tr>
<td>
<p>Negative</p>
</td>
<td>
<p>6</p>
</td>
<td>
<p><strong>3</strong></p>
</td>
<td>
<p>6</p>
</td>
</tr>
</tbody>
</table>
<p>Based on this distribution of statements, it's easy to determine that project B is the optimal choice: it has the most positive and the fewest negative statements compared to the other projects.</p>
<h2><a id="Individual Decision Making" name="Individual Decision Making"></a>Individual Decision Making</h2>
<p>We then used this scenario in a digital survey with 307 participants in April 2023. A majority of participants were designers or UX researchers.</p>
<figure><img alt="Bar chart depicting designers and UX researchers were the majority of participants in the survey" height="436" loading="lazy" src="https://media.nngroup.com/media/editor/2023/09/28/percentage-of-sp-by-role.png" width="692">
<figcaption><em>The distribution of roles in our individual decision-making survey</em></figcaption>
</figure>
<p>We presented the above scenario and gave participants 10 minutes to review all statements for each project. The survey tool required all participants to view the statements for 10 minutes before submitting their decision on which project to pursue to ensure a standardized time for evaluation. All statements were listed in randomized order under their respective project without indicating a statement's positivity or negativity. We also informed participants that of the three available projects, one was objectively <strong>optimal compared to the others</strong>, and they should focus on determining this ideal solution based on the statements provided.</p>
<p>When presented with all available project statements, <strong>80% of participants selected Project B as the recommended project, which was indeed the optimal choice</strong>. Of course, in the real world, we never have perfect and complete information regarding our decisions, but this feedback assures us that, if all these project statements are analyzed, then project B is generally seen as best.</p>
<figure><img alt="Bar chart depicting which project was selected as best by survey participants, with Project B at 80%" height="450" loading="lazy" src="https://media.nngroup.com/media/editor/2023/09/28/survey-participants-selected-optimal-projects.png" width="692">
<figcaption><em>When individuals analyzed all project statements, they predominately and correctly selected project B as the best project to pursue (Error bars represent 95% confidence intervals.) This percentage is very close to 83%, the number found by the Stasser and Titus study.</em></figcaption>
</figure>
<h2><a id="Team Decision Making" name="Team Decision Making"></a>Team Decision Making</h2>
<p>An interesting phenomenon happens when this scenario is given to teams. If each team member is provided with all project statements, then the team can match the decision-making effectiveness of an individual (which is about 80%). <strong>But what if information is not equally shared among all team members</strong>? Information asymmetry is prevalent in the UX workplace. Departments and their leaders have different domains of expertise, are measured on various metrics and goals, and may have personal agendas influencing what they divulge to others. In addition, the organization may be less proficient in acquiring new data through research, or its corporate culture may promote secrecy and discourage knowledge sharing.</p>
<p>Furthermore, team members often have preformed preferences that influence their high-stakes decision making. People evaluate what they know about a situation, are influenced by their motivations and biases (both conscious and unconscious), and form opinions before deliberating with others.</p>
<p>With this understanding, we presented participants in our <a href="https://www.nngroup.com/courses/design-tradeoffs/">Design Tradeoffs and UX Decision Making course</a> the following adjusted scenario, that simulates a real-world, team-based decision-making process:</p>
<ol>
<li>Each team member was given a portion of the project statements. (All statements remained identical to those used in the individual decision-making survey.)</li>
<li>Project statements were distributed unevenly:
	<ul>
<li>Projects A and C had all their <strong>positive statements shared </strong>with all team members. Their <strong>negative statements were divided</strong> between team members.</li>
<li>Project B had all its <strong>negative statements shared </strong>with all team members. Most of its <strong>positive statements were divided</strong> between team members.</li>
</ul>
</li>
<li>Each team member was given time to review their project statements privately and decide which project is best. Team members could take personal notes and use them in their subsequent team deliberations.</li>
<li>Afterward, team members got together and were given 10 minutes to share, discuss, and determine the best project.</li>
</ol>
<p>If the team facilitates knowledge sharing and learns from each member's unique information — as the ideal team decision-making process should go — it will likely identify and select project B as the optimal choice. However, if the team leans towards premature consensus building and commonly understood facts, it'll probably select suboptimal projects A or C instead.</p>
<figure><img alt="Multi-column bar chart showing the distribution of statements for each project, with Project B having the most positive and fewest negatives." height="450" loading="lazy" src="https://media.nngroup.com/media/editor/2023/09/28/team-decision-making-copy.png" width="692">
<figcaption><em>Project B's flaws were widely understood among all team members, while many of its benefits were known only to some individuals. This distribution made project B appear unappealing to individuals, but it is, in fact, the team's optimal choice.</em></figcaption>
</figure>
<p>When we give this scenario in our <a href="https://www.nngroup.com/courses/design-tradeoffs/">Design Tradeoffs and UX Decision-Making course</a>, the percentages vary from one course installment to the next, but the results are generally the same: most teams are unable to facilitate their decision-making discussion effectively. <strong>Teams select the optimal project at a significantly reduced rate compared to individuals.</strong></p>
<figure><img alt="Bar chart comparison of individual and team performance showing that teams select the optimal project significantly less than individuals" height="451" loading="lazy" src="https://media.nngroup.com/media/editor/2023/09/28/teams-selected-optimal-projects.png" width="692">
<figcaption><em>Results from our Design Tradeoffs course where 29 teams of 3–4 attendees engaged in this scenario. Attendees tended to adhere to preconceived opinions, not divulge unique statements, and focus on statements all team members knew. Consequently, teams selected the optimal project B far less than individual decision makers (Error bars represent 95% confidence intervals). Teams also selected Project C at a greater rate than individuals. Both differences were statistically significant at p &lt; .05.</em></figcaption>
</figure>
<h2><a id="Why Does the Common-Knowledge Effect Happen?" name="Why Does the Common-Knowledge Effect Happen?"></a>Why Does the Common-Knowledge Effect Happen?</h2>
<p>Decision-making is inherently complex, and involving more people makes it even more complicated. The mixture of individual traits, group dynamics, and social hierarchy can all perpetuate the common-knowledge effect when multiple people are involved. Communication expert Gwen Wittenbaum has developed a framework to categorize the many factors affecting the information sharing of groups:</p>
<h3>Information Availability and Memory</h3>
<ul>
<li>We are more likely to recall and discuss recent or memorable information.</li>
<li>Commonly held information has more opportunities to be shared with the team since several team members possess it. Unique information depends on an individual sharing it.</li>
<li>Once information is shared with a team, it tends to be repeated by others, which boosts its perceived credibility.</li>
</ul>
<h3>Preference Bias</h3>
<ul>
<li>We are more likely to discuss information that aligns with our initial preferences or preconceived notions.</li>
<li>Even when all information is shared with the group, we still process that information according to our initial preferences.</li>
</ul>
<h3>Social Comparison</h3>
<ul>
<li>We seek social acceptance and avoid conflict with teammates. We tend to adopt the group's prevailing view when evaluating information in unclear situations.</li>
<li>Information familiar to multiple team members becomes socially validated and more likely to be repeated and affirmed.</li>
</ul>
<h2><a id="Why the Common-Knowledge Effect Matters to UX" name="Why the Common-Knowledge Effect Matters to UX"></a>Why the Common-Knowledge Effect Matters to UX</h2>
<p>The common-knowledge effect has a real-world impact on UX professionals for several reasons:</p>
<ul>
<li><strong>You are often making team decisions</strong>. Even for small-scale tactical decisions, UX needs collaboration with other departments to see their insights or designs implemented. Creating digital experiences demands teamwork.</li>
<li><strong>You are often outnumbered</strong>. UX professionals are usually fewer in number compared to other groups, such as developers. Consequently, unless UX knowledge is regularly distributed and socialized, such information is unique and not commonly understood by other team members.</li>
<li><strong>You are often an outsider. </strong>Especially in organizations with <a href="https://www.nngroup.com/articles/ux-maturity-model/">lower UX maturity</a>, with new UX roles or departments, UX can be a "cognitively peripheral" group, meaning that it may lack knowledge known to other team members. Research by Susanne Abele and colleagues found that members who share more knowledge with other team members were "cognitively central" and seen as more credible and influential in discussions. Team members with mostly unique knowledge struggled to persuade their fellow team members successfully.</li>
</ul>
<h2><a id="How to Mitigate the Common-Knowledge Effect" name="How to Mitigate the Common-Knowledge Effect"></a>How to Mitigate the Common-Knowledge Effect</h2>
<p>Here are some tips on how UX professionals can mitigate the common-knowledge effect in their group decision making:</p>
<ul>
<li><strong>Promote psychological safety</strong>. Despite being a great learning opportunity, UX-research findings may disappoint or upset the organization's status quo. Sharing this type of dissenting information is challenging if the environment feels unwelcoming. Leaders must model and normalize mutual respect and open communication with their teams.</li>
<li><strong>Be aware of role-power imbalance</strong>. Leaders who insert themselves into team decision making will distort information sharing; delegate exploring complex decisions to teams of equals.</li>
<li><strong>Deliberating in person isn't superior to online.</strong> According to research by Simon Lam and John Schaubroeck, virtual teams are more likely to overcome the common-knowledge effect compared to face-to-face teams, perhaps due to easier access to notes and materials.</li>
<li><strong>Disregard past opinions</strong>. Strongly encourage colleagues (<strong>especially yourself</strong>) to put aside preconceived ideas about the best choice. This approach is quite difficult, but research by Torsten Reimer, Andrea Reimer, and Verlin B. Hinsz suggests that <strong>premature judgments ruin our decision-making capabilities</strong>. In their study, teams whose members<strong> avoided making hasty judgments</strong> before deliberating were <strong>likelier to overcome the common-knowledge effect</strong> and make optimal decisions.</li>
<li><strong>Unite around common goals</strong>. Because human nature is prone to factionalism, UX folks can expect cross-departmental rivalries. But a product team doesn't necessarily succeed by reusing the most code, being the first to release a new product, or fully implementing a design with pixel-perfect precision. Remind team members of KPIs and goals relevant to all involved to disrupt siloed thinking and agendas that may inhibit information sharing.</li>
<li><strong>Remind team members of their individual expertise</strong>. Publicly recognize team members with domain expertise to coax the sharing of unique knowledge. For example, a developer is well-suited to knowing facts about potential technical complications.</li>
<li><strong>Warn against overconfidence bias</strong>. Remind team members that, although they possess expertise, our understanding of complex topics is often incomplete and oversimplified.</li>
<li><strong>Don't rush to consensus</strong>. Never start a crucial decision-making meeting by polling, voting, or requesting opinions from participants (even anonymously). These activities reduce information sharing and processing and make it challenging to integrate new knowledge.</li>
<li><strong>Prioritize data gathering</strong>. Instruct team members to brainstorm before a deliberation meeting and come prepared to share their information immediately. Budget more time for this process when the consequences of failure are high.</li>
<li><strong>Visualize the data</strong>. Anyone who's engaged a team with a prototype has experienced the power of getting people out of their heads and onto a common understanding that all can see (a valuable aspect of <a href="https://www.nngroup.com/courses/ux-deliverables/">UX deliverables</a>). Favor <a href="https://www.nngroup.com/articles/recognition-and-recall/">recognition over recall</a>. Use whiteboards and write down all contributed information to ease the cognitive load.</li>
<li><strong>Mitigate social loafing</strong>. When team members withdraw from discussions, they stop contributing their unique knowledge. Direct questions to members exhibiting this behavior to reengage them.</li>
<li><strong>Involve others in UX research activities</strong>. One of the advantages of having colleagues participate in user research is that they gain first-hand knowledge. This tactic transforms UX research results from unique to common knowledge.</li>
<li><strong>Be cautious of using a devil's advocate</strong>. A devil's advocate is a team member assigned to critically review proposals to uncover problems or unrevealed <a href="https://www.nngroup.com/videos/design-tradeoffs-hidden-costs/">opportunity costs</a>. Research by Charles Schwenk and Richard Cosier suggests this tactic has mixed results. A devil's advocate can improve critical thinking but also decrease team members' desire to work together in the future.</li>
</ul>
<h2><a id="Conclusion" name="Conclusion"></a>Conclusion</h2>
<p>As counterintuitive as it seems, increasing the number of people involved in a difficult decision will likely decrease decision-making quality. Whatever unique knowledge individuals could offer to deliberations often goes unshared or disregarded. When decision-making stakes are high, don't let your valuable UX insights fall victim to the common-knowledge effect. Be a vigilant team facilitator to ensure that all of us are at least as smart as each of us.</p>
<h2><a id="References" name="References"></a>References</h2>
<p>Garold Stasser and William Titus. Pooling of unshared information in Group Decision making: Biased information sampling during discussion. <em>Journal of Personality and Social Psychology</em> <em>48</em>, 6 (1985), 1467–1478. DOI:http://dx.doi.org/10.1037/0022-3514.48.6.1467</p>
<p>Susanne Abele, Garold Stasser, and Sandra Vaughan-Parsons. Information Sharing, Cognitive Centrality, and Influence Among Business Executives During Collective Choice. <em>ERIM Report Series</em> <em>Reference No</em>. ERS-2005-037-ORG, (2005).</p>
<p>Torsten Reimer, Andrea Reimer, and Verlin B. Hinsz. 2010. Naïve groups can solve the hidden-profile problem. <em>Human Communication Research</em> 36, 3 (2010), 443–467. DOI:http://dx.doi.org/10.1111/j.1468-2958.2010.01383.x</p>
<p>Gwen M. Wittenbaum, Andrea B. Hollingshead, and Isabel C. Botero. 2004. From cooperative to motivated information sharing in groups: moving beyond the hidden profile paradigm. <em>Communication Monographs 71</em>, 3 (September 2004), 286–310. DOI:https://doi.org/10.1080/0363452042000299894</p>
<p>Charles R. Schwenk and Richard A. Cosier. 1993. Effects of Consensus and Devil's Advocacy On Strategic Decision-Making. <em>Journal of Applied Social Psychology</em> <em>23</em>, 2 (January 1993), 126–139. DOI:https://doi.org/10.1111/j.1559-1816.1993.tb01056.x</p>
<p>Simon S. K. Lam and John Schaubroeck. 2000. Improving group decisions by better pooling information: A comparative advantage of group decision support systems. <em>Journal of Applied Psychology 85</em>, 4 (2000), 565–573. DOI:https://doi.org/10.1037/0021-9010.85.4.565</p></section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The 7th Guest gets VR remake using volumetric video (124 pts)]]></title>
            <link>https://www.the7thguest-vr.com/</link>
            <guid>37964575</guid>
            <pubDate>Sat, 21 Oct 2023 06:28:53 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.the7thguest-vr.com/">https://www.the7thguest-vr.com/</a>, See on <a href="https://news.ycombinator.com/item?id=37964575">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-elementor-type="wp-post" data-elementor-id="7">
									<div data-id="df86461" data-element_type="section" data-settings="{&quot;sticky&quot;:&quot;top&quot;,&quot;transparent&quot;:&quot;yes&quot;,&quot;sticky_on&quot;:[&quot;desktop&quot;,&quot;tablet&quot;,&quot;mobile&quot;],&quot;sticky_offset&quot;:0,&quot;sticky_effects_offset&quot;:0,&quot;transparent_on&quot;:[&quot;desktop&quot;,&quot;tablet&quot;,&quot;mobile&quot;],&quot;scroll_distance&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;size&quot;:60,&quot;sizes&quot;:[]},&quot;scroll_distance_tablet&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;size&quot;:&quot;&quot;,&quot;sizes&quot;:[]},&quot;scroll_distance_mobile&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;size&quot;:&quot;&quot;,&quot;sizes&quot;:[]}}">
					<div data-id="2a91c51" data-element_type="column" data-widget_type="image.default">
				<p><a href="#home">
							<img decoding="async" src="https://www.the7thguest-vr.com/wp-content/uploads/elementor/thumbs/7thGuest_Logo_Small_small-qaeu1nnfkdo41ldviezscxbgdwu2f0cbiplipgn8qo.png" title="7thGuest_Logo_Small_small" alt="7thGuest_Logo_Small_small" loading="lazy">								</a>
															</p>
				</div>
				<div data-id="7c2cc76" data-element_type="column" data-widget_type="image.default">
				<p><a href="#home">
							<img decoding="async" src="https://www.the7thguest-vr.com/wp-content/uploads/elementor/thumbs/7thGuest_btn_BuyNow-qdzp1r7jvym73995gt3z6ouj9s828wy03xlc3zysq4.jpg" title="7thGuest_btn_BuyNow" alt="7thGuest_btn_BuyNow" loading="lazy">								</a>
															</p>
				</div>
							</div>
				<div data-id="1ac276a" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;video&quot;,&quot;background_video_link&quot;:&quot;https:\/\/youtu.be\/-k6ZwSVokY4&quot;,&quot;background_video_start&quot;:0,&quot;background_video_end&quot;:40,&quot;background_play_on_mobile&quot;:&quot;yes&quot;}">
								
				<div data-id="6ea7178" data-element_type="widget" data-widget_type="image.default">
				<p><img decoding="async" src="https://www.the7thguest-vr.com/wp-content/uploads/elementor/thumbs/7thGuest_Logo_Update-qaeu0z7spyln4u219o5kcp17z1x50on9mssvmphtk0.png" title="7thGuest_Logo_Update" alt="7thGuest_Logo_Update" loading="lazy">															</p>
				</div>
				<div data-id="6a034ae" data-element_type="section" data-widget_type="gradient_heading.default">
				<p>
			
		
            <h3>
                out now            </h3>
		
					</p>
				</div>
				
					</div>
				<div data-id="2e729cb" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
								<div data-id="a42af5b" data-element_type="widget" data-widget_type="gradient_heading.default">
				<p>
			
		
            <h4>
                EXPERIENCE A SPINE-TINGLING MYSTERY 
LIKE NO OTHER            </h4>
		
					</p>
				</div>
				<div data-id="0510e5e" data-element_type="widget" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="792" height="51" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGreen.png" alt="" srcset="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGreen.png 792w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGreen-300x19.png 300w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGreen-768x49.png 768w" sizes="(max-width: 792px) 100vw, 792px">															</p>
				</div>
				<div data-id="caca101" data-element_type="widget" data-widget_type="text-editor.default">
							<p>The iconic mystery game that chilled you to the bone in the 90s, the 7th Guest, has been brought back to life with cutting-edge VR technology that delivers an atmospheric and haunting story.&nbsp;</p>
<p>Explore the foreboding mansion, solve challenging puzzles, and uncover its dark secrets. The 7th Guest VR is the ultimate mystery adventure, and it’s time for you to experience it for yourself.&nbsp;</p>
<p>Six guests have been welcomed to the foreboding mansion. But something sinister is at play…</p>						</div>
					</div>
				<div data-id="156321d" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;,&quot;background_motion_fx_motion_fx_scrolling&quot;:&quot;yes&quot;,&quot;background_motion_fx_translateY_effect&quot;:&quot;yes&quot;,&quot;background_motion_fx_translateY_affectedRange&quot;:{&quot;unit&quot;:&quot;%&quot;,&quot;size&quot;:&quot;&quot;,&quot;sizes&quot;:{&quot;start&quot;:10,&quot;end&quot;:90}},&quot;background_motion_fx_translateY_speed&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;size&quot;:5.7,&quot;sizes&quot;:[]},&quot;background_motion_fx_devices&quot;:[&quot;desktop&quot;,&quot;tablet&quot;,&quot;mobile&quot;]}">
								<div data-id="6824e64" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
								<div data-id="948c4b2" data-element_type="widget" data-settings="{&quot;_position&quot;:&quot;absolute&quot;}" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="182" height="152" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_Silo_Corner_Gold_TopLft-1.png" alt="">															</p>
				</div>
				<div data-id="59f1b68" data-element_type="widget" data-widget_type="gradient_heading.default">
				<p>
			
		
            <h4>
                A BELOVED CLASSICAL GAMING BRAND            </h4>
		
					</p>
				</div>
				<div data-id="efb14af" data-element_type="widget" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="622" height="51" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGold.png" alt="" srcset="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGold.png 622w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGold-300x25.png 300w" sizes="(max-width: 622px) 100vw, 622px">															</p>
				</div>
				<div data-id="a1ff371" data-element_type="widget" data-widget_type="text-editor.default">
				<p>Experience the classic game by Trilobyte and relive the original story from a whole new perspective. The 7th Guest VR brings back characters like Martine Burden, Brian Dutton, Edward &amp; Elinor Knox and others. Time to discover who is The 7th guest.</p>
				</div>
				<div data-id="1f17840" data-element_type="widget" data-settings="{&quot;_position&quot;:&quot;absolute&quot;}" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="182" height="152" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_Silo_Corner_Gold_BtmLft-1.png" alt="">															</p>
				</div>
					</div>
				<div data-id="659d430" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
								<div data-id="b83dfa0" data-element_type="widget" data-settings="{&quot;_position&quot;:&quot;absolute&quot;}" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="182" height="152" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_Silo_Corner_Gold_TopRgt-1.png" alt="">															</p>
				</div>
				<div data-id="1974442" data-element_type="widget" data-widget_type="gradient_heading.default">
				<p>
			
		
            <h4>
                A TECHNICAL BENCHMARK            </h4>
		
					</p>
				</div>
				<div data-id="60f995b" data-element_type="widget" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="622" height="51" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGold.png" alt="" srcset="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGold.png 622w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGold-300x25.png 300w" sizes="(max-width: 622px) 100vw, 622px">															</p>
				</div>
				<div data-id="57e012f" data-element_type="widget" data-settings="{&quot;_position&quot;:&quot;absolute&quot;}" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="182" height="152" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_Silo_Corner_Gold_BtmRgt-1.png" alt="">															</p>
				</div>
				<div data-id="843c6bf" data-element_type="widget" data-widget_type="text-editor.default">
				<p>Immerse into a visceral &amp; haunting VR story. Told through innovative and cutting-edge ghostly volumetric video capture with 3D live-action graphics and exquisite performances.</p>
				</div>
					</div>
					</div>
				<div data-id="02f3a12" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;,&quot;background_motion_fx_motion_fx_scrolling&quot;:&quot;yes&quot;,&quot;background_motion_fx_translateY_effect&quot;:&quot;yes&quot;,&quot;background_motion_fx_translateY_affectedRange&quot;:{&quot;unit&quot;:&quot;%&quot;,&quot;size&quot;:&quot;&quot;,&quot;sizes&quot;:{&quot;start&quot;:10,&quot;end&quot;:90}},&quot;background_motion_fx_translateY_speed&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;size&quot;:5.7,&quot;sizes&quot;:[]},&quot;background_motion_fx_devices&quot;:[&quot;desktop&quot;,&quot;tablet&quot;,&quot;mobile&quot;]}">
								<div data-id="7326ee0" data-element_type="widget" data-widget_type="image.default">
				<p><img decoding="async" src="https://www.the7thguest-vr.com/wp-content/uploads/elementor/thumbs/7thGuest_IMG_Mansion-q67k83nimx8vnqc7mlbjglz0okd5j95tl5sqyovumm.jpg" title="7thGuest_IMG_Mansion" alt="7thGuest_IMG_Mansion" loading="lazy">															</p>
				</div>
				<div data-id="067258d" data-element_type="widget" data-widget_type="gradient_heading.default">
				<p>
			
		
            <h4>
                A BELOVED CLASSICAL GAMING BRAND            </h4>
		
					</p>
				</div>
				<div data-id="2475fe5" data-element_type="widget" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="622" height="51" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGold.png" alt="" srcset="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGold.png 622w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGold-300x25.png 300w" sizes="(max-width: 622px) 100vw, 622px">															</p>
				</div>
				<div data-id="fea1a5b" data-element_type="widget" data-widget_type="text-editor.default">
				<p>Experience the classic game by Trilobyte and relive the original story from a whole new perspective. The 7th Guest VR brings back characters like Martine Burden, Brian Dutton, Edward &amp; Elinor Knox and others. Time to discover who is The 7th guest.</p>
				</div>
				<div data-id="fc7b206" data-element_type="widget" data-widget_type="image.default">
				<p><img decoding="async" src="https://www.the7thguest-vr.com/wp-content/uploads/elementor/thumbs/7thGuest_IMG_Volumetric-q67k84lctra5zcauh3q613qh9y8iqy9jxag8fyugge.jpg" title="7thGuest_IMG_Volumetric" alt="7thGuest_IMG_Volumetric" loading="lazy">															</p>
				</div>
				<div data-id="f1bc4a8" data-element_type="widget" data-widget_type="gradient_heading.default">
				<p>
			
		
            <h4>
                A TECHNICAL BENCHMARK            </h4>
		
					</p>
				</div>
				<div data-id="ea02f17" data-element_type="widget" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="622" height="51" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGold.png" alt="" srcset="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGold.png 622w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGold-300x25.png 300w" sizes="(max-width: 622px) 100vw, 622px">															</p>
				</div>
				<div data-id="8653ec1" data-element_type="widget" data-widget_type="text-editor.default">
				<p>Immerse into a visceral &amp; haunting VR story. Told through innovative and cutting-edge ghostly volumetric video capture with 3D live-action graphics and exquisite performances.</p>
				</div>
					</div>
				<div data-id="61056ef" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
								<div data-id="e97e0cc" data-element_type="section">
								<div data-id="328944e" data-element_type="widget" data-widget_type="gradient_heading.default">
				<p>
			
		
            <h4>
                IMMERSIVE VR PUZZLE GAMEPLAY            </h4>
		
					</p>
				</div>
				<div data-id="40d261b" data-element_type="widget" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="792" height="51" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGreen.png" alt="" srcset="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGreen.png 792w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGreen-300x19.png 300w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGreen-768x49.png 768w" sizes="(max-width: 792px) 100vw, 792px">															</p>
				</div>
				<div data-id="d0b90b4" data-element_type="widget" data-widget_type="text-editor.default">
				<p>All-new handcrafted puzzles, carefully redesigned for VR. All puzzles are meaningful to the story and rooted in lore with recognizable aesthetic elements paying homage to the original.</p>
				</div>
					</div>
				<div data-id="f846f29" data-element_type="section">
					<div data-id="454313f" data-element_type="column" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="432" height="300" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/06/T7G_Image_Animated_1-1.gif" alt="">															</p>
				</div>
				<div data-id="353e0c4" data-element_type="column" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="432" height="300" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/06/T7G_Image_Animated_2.gif" alt="">															</p>
				</div>
							</div>
				<div data-id="d7c1c28" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
								<div data-id="6d34f5a" data-element_type="widget" data-settings="{&quot;_position&quot;:&quot;absolute&quot;}" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="182" height="152" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_Silo_Corner_Green_TopLft-1.png" alt="">															</p>
				</div>
				<div data-id="bd0312f" data-element_type="widget" data-widget_type="gradient_heading.default">
				<p>
			
		
            <h4>
                VR EXPLORATION            </h4>
		
					</p>
				</div>
				<div data-id="124207b" data-element_type="widget" data-settings="{&quot;_position&quot;:&quot;absolute&quot;}" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="182" height="152" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_Silo_Corner_Green_TopRgt-1.png" alt="">															</p>
				</div>
				<div data-id="24858cb" data-element_type="widget" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="768" height="49" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGreen-768x49.png" alt="" srcset="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGreen-768x49.png 768w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGreen-300x19.png 300w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGreen.png 792w" sizes="(max-width: 768px) 100vw, 768px">															</p>
				</div>
				<div data-id="5c0534d" data-element_type="widget" data-widget_type="text-editor.default">
				<p>The equally beloved and feared haunted mansion comes alive around you through high-end visuals and VR-powered optical illusions, along with an an all new adaptive soundtrack, inspired by the original and positional audio.</p>
				</div>
				<div data-id="5dcf4a4" data-element_type="widget" data-settings="{&quot;_position&quot;:&quot;absolute&quot;}" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="182" height="152" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_Silo_Corner_Green_BtmLft-1.png" alt="">															</p>
				</div>
				<div data-id="fc1de4d" data-element_type="widget" data-widget_type="wb-before-after-image-slider-elementor.default">
					<p><span>Before</span>
			<span>After</span>
<img loading="lazy" width="1276" height="886" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_IMG_Volumetric_Pristine-1.jpg" alt="" decoding="async" srcset="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_IMG_Volumetric_Pristine-1.jpg 1276w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_IMG_Volumetric_Pristine-1-300x208.jpg 300w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_IMG_Volumetric_Pristine-1-1024x711.jpg 1024w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_IMG_Volumetric_Pristine-1-768x533.jpg 768w" sizes="(max-width: 1276px) 100vw, 1276px"><img loading="lazy" width="1276" height="886" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_IMG_Volumetric_Limbo-1.jpg" alt="" decoding="async" srcset="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_IMG_Volumetric_Limbo-1.jpg 1276w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_IMG_Volumetric_Limbo-1-300x208.jpg 300w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_IMG_Volumetric_Limbo-1-1024x711.jpg 1024w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_IMG_Volumetric_Limbo-1-768x533.jpg 768w" sizes="(max-width: 1276px) 100vw, 1276px">		</p>
		
		</div>
				<div data-id="169b1dc" data-element_type="widget" data-settings="{&quot;_position&quot;:&quot;absolute&quot;}" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="182" height="152" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_Silo_Corner_Green_BtmRgt-1.png" alt="">															</p>
				</div>
					</div>
					</div>
				<div data-id="c714b09" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
								<div data-id="7255453" data-element_type="section">
								<div data-id="67301ab" data-element_type="widget" data-widget_type="gradient_heading.default">
				<p>
			
		
            <h4>
                IMMERSIVE VR PUZZLE GAMEPLAY            </h4>
		
					</p>
				</div>
				<div data-id="95ff377" data-element_type="widget" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="792" height="51" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGreen.png" alt="" srcset="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGreen.png 792w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGreen-300x19.png 300w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGreen-768x49.png 768w" sizes="(max-width: 792px) 100vw, 792px">															</p>
				</div>
				<div data-id="0e3c29f" data-element_type="widget" data-widget_type="text-editor.default">
				<p>All-new handcrafted puzzles, carefully redesigned for VR. All puzzles are meaningful to the story and rooted in lore with recognizable aesthetic elements paying homage to the original.</p>
				</div>
					</div>
				<div data-id="f6c1a4d" data-element_type="section">
					<div data-id="774bd71" data-element_type="column" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="432" height="300" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/06/T7G_Image_Animated_1-1.gif" alt="">															</p>
				</div>
				<div data-id="fa83c54" data-element_type="column" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="432" height="300" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/06/T7G_Image_Animated_2.gif" alt="">															</p>
				</div>
							</div>
				<div data-id="69f9d1c" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
								<div data-id="49240aa" data-element_type="widget" data-widget_type="gradient_heading.default">
				<p>
			
		
            <h4>
                VR EXPLORATION            </h4>
		
					</p>
				</div>
				<div data-id="270b05c" data-element_type="widget" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="768" height="49" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGreen-768x49.png" alt="" srcset="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGreen-768x49.png 768w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGreen-300x19.png 300w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGreen.png 792w" sizes="(max-width: 768px) 100vw, 768px">															</p>
				</div>
				<div data-id="16ce997" data-element_type="widget" data-widget_type="text-editor.default">
				<p>The equally beloved and feared haunted mansion comes alive around you through high-end visuals and VR-powered optical illusions, along with an an all new adaptive soundtrack, inspired by the original and positional audio.</p>
				</div>
				<div data-id="9c7e0ac" data-element_type="widget" data-widget_type="wb-before-after-image-slider-elementor.default">
					<p><span>Before</span>
			<span>After</span>
<img loading="lazy" width="1276" height="886" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_IMG_Volumetric_Limbo-1.jpg" alt="" decoding="async" srcset="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_IMG_Volumetric_Limbo-1.jpg 1276w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_IMG_Volumetric_Limbo-1-300x208.jpg 300w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_IMG_Volumetric_Limbo-1-1024x711.jpg 1024w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_IMG_Volumetric_Limbo-1-768x533.jpg 768w" sizes="(max-width: 1276px) 100vw, 1276px"><img loading="lazy" width="1276" height="886" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_IMG_Volumetric_Pristine-1.jpg" alt="" decoding="async" srcset="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_IMG_Volumetric_Pristine-1.jpg 1276w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_IMG_Volumetric_Pristine-1-300x208.jpg 300w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_IMG_Volumetric_Pristine-1-1024x711.jpg 1024w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_IMG_Volumetric_Pristine-1-768x533.jpg 768w" sizes="(max-width: 1276px) 100vw, 1276px">		</p>
		
		</div>
					</div>
					</div>
				<div data-id="10145c4" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;,&quot;background_motion_fx_motion_fx_scrolling&quot;:&quot;yes&quot;,&quot;background_motion_fx_translateY_effect&quot;:&quot;yes&quot;,&quot;background_motion_fx_translateY_affectedRange&quot;:{&quot;unit&quot;:&quot;%&quot;,&quot;size&quot;:&quot;&quot;,&quot;sizes&quot;:{&quot;start&quot;:10,&quot;end&quot;:90}},&quot;background_motion_fx_translateY_speed&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;size&quot;:5.7,&quot;sizes&quot;:[]},&quot;background_motion_fx_devices&quot;:[&quot;desktop&quot;,&quot;tablet&quot;,&quot;mobile&quot;]}">
								<div data-id="55fc43e" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
								<div data-id="8f15f79" data-element_type="widget" data-settings="{&quot;_position&quot;:&quot;absolute&quot;}" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="182" height="152" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_Silo_Corner_Gold_TopLft-1.png" alt="">															</p>
				</div>
				<div data-id="b81cf24" data-element_type="widget" data-widget_type="gradient_heading.default">
				<p>
			
		
            <h4>
                MORE FROM THE 7TH GUEST VR            </h4>
		
					</p>
				</div>
				<div data-id="7d51409" data-element_type="widget" data-settings="{&quot;_position&quot;:&quot;absolute&quot;}" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="182" height="152" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_Silo_Corner_Gold_TopRgt-1.png" alt="">															</p>
				</div>
				<div data-id="ca0b321" data-element_type="widget" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="622" height="51" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGold.png" alt="" srcset="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGold.png 622w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGold-300x25.png 300w" sizes="(max-width: 622px) 100vw, 622px">															</p>
				</div>
				
				
				<div data-id="b9d1ef1" data-element_type="widget" data-settings="{&quot;_position&quot;:&quot;absolute&quot;}" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="182" height="152" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_Silo_Corner_Gold_BtmLft-1.png" alt="">															</p>
				</div>
				<div data-id="c867774" data-element_type="widget" data-settings="{&quot;_position&quot;:&quot;absolute&quot;}" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="182" height="152" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_Silo_Corner_Gold_BtmRgt-1.png" alt="">															</p>
				</div>
					</div>
				<div data-id="08da0af" data-element_type="section" data-widget_type="heading.default">
				<p>
			<h2>buy now</h2>		</p>
				</div>
				
					</div>
				<div data-id="0d70d91" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;,&quot;background_motion_fx_motion_fx_scrolling&quot;:&quot;yes&quot;,&quot;background_motion_fx_translateY_effect&quot;:&quot;yes&quot;,&quot;background_motion_fx_translateY_affectedRange&quot;:{&quot;unit&quot;:&quot;%&quot;,&quot;size&quot;:&quot;&quot;,&quot;sizes&quot;:{&quot;start&quot;:10,&quot;end&quot;:90}},&quot;background_motion_fx_translateY_speed&quot;:{&quot;unit&quot;:&quot;px&quot;,&quot;size&quot;:5.7,&quot;sizes&quot;:[]},&quot;background_motion_fx_devices&quot;:[&quot;desktop&quot;,&quot;tablet&quot;,&quot;mobile&quot;]}">
								<div data-id="0368221" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}">
								<div data-id="ac1d3ff" data-element_type="widget" data-widget_type="gradient_heading.default">
				<p>
			
		
            <h4>
                MORE FROM THE 7TH GUEST VR            </h4>
		
					</p>
				</div>
				<div data-id="862b4e4" data-element_type="widget" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="622" height="51" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGold.png" alt="" srcset="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGold.png 622w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/7thGuest_DeviderGold-300x25.png 300w" sizes="(max-width: 622px) 100vw, 622px">															</p>
				</div>
				
					</div>
				<div data-id="9789718" data-element_type="section" data-widget_type="heading.default">
				<p>
			<h2>Wishlist now</h2>		</p>
				</div>
				
					</div>
				
				<div data-id="721c791" data-element_type="section">
								<div data-id="7b31796" data-element_type="section" data-widget_type="image.default">
				<p><a href="https://vertigo-games.com/" target="_blank">
							<img decoding="async" src="https://www.the7thguest-vr.com/wp-content/uploads/elementor/thumbs/VG_Horizontel_Light_FullColor-q6jjwk5hckbqvgis09zeac032zystkj9vnkhrb9fy8.png" title="VG_Horizontel_Light_FullColor" alt="VG_Horizontel_Light_FullColor" loading="lazy">								</a>
															</p>
				</div>
				
				<div data-id="317a997" data-element_type="section">
					<div data-id="9b2f58c" data-element_type="column" data-widget_type="text-editor.default">
							<p>The 7th Guest VR® 2023 Vertigo Games, Published by Vertigo Publishing B.V. Developed by Vertigo Studios B.V. ©2023</p><p>©2023 Facebook Technologies, LLC. OCULUS and OCULUS logo are trademarks or registered trademarks of Facebook Technologies, LLC. All rights reserved</p><p>®2023 Sony Interactive Entertainment LLC “PlayStation Family Mark”, “PlayStation”, “PS5 logo”, “PS5”, “PS4 logo”, “PS4”, “PlayStation Shapes Logo”and “Play Has No Limits” are registered trademarks or trademarks of Sony Interactive Entertainment Inc.</p><p><a href="https://drive.google.com/open?id=1gFC7opo9PjP08p5ZibK_wkLn0CFIOzNW&amp;usp=drive_fs" target="_blank" rel="noopener">Press Pack</a></p>						</div>
				<div data-id="a15d02f" data-element_type="column" data-widget_type="image.default">
				<p><img decoding="async" loading="lazy" width="631" height="300" src="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/T7G_ESRB_descriptors.png" alt="" srcset="https://www.the7thguest-vr.com/wp-content/uploads/2023/05/T7G_ESRB_descriptors.png 631w, https://www.the7thguest-vr.com/wp-content/uploads/2023/05/T7G_ESRB_descriptors-300x143.png 300w" sizes="(max-width: 631px) 100vw, 631px">															</p>
				</div>
							</div>
					</div>
							</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Twitch will now let streamers simultaneously stream on any service they want (176 pts)]]></title>
            <link>https://www.theverge.com/2023/10/20/23926013/twitch-simultaneously-stream-any-service-platform-twitchcon</link>
            <guid>37964204</guid>
            <pubDate>Sat, 21 Oct 2023 04:55:51 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theverge.com/2023/10/20/23926013/twitch-simultaneously-stream-any-service-platform-twitchcon">https://www.theverge.com/2023/10/20/23926013/twitch-simultaneously-stream-any-service-platform-twitchcon</a>, See on <a href="https://news.ycombinator.com/item?id=37964204">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>Twitch will now let its creators simultaneously stream across any live streaming service, the company announced on Friday as part of <a href="https://blog.twitch.tv/en/2023/10/20/everything-we-announced-at-twitchcon-las-vegas/">a big batch of news from TwitchCon</a>. Previously, streamers could simulcast <a href="https://www.theverge.com/2022/8/23/23317939/twitch-ends-partner-exclusivity-youtube-tiktok-facebook-gaming">on mobile platforms</a> like TikTok and Instagram, but as of Friday, Twitch is significantly broadening where streamers can simultaneously go live. (Well, assuming the streamers don’t have a Twitch exclusivity agreement in place.)</p><p>As of late, some Twitch streamers have been exploring options on other platforms. Big names like <a href="https://www.theverge.com/2023/6/17/23764530/twitch-star-felix-xqc-lengyel-has-signed-a-100-million-deal-with-rival-platform-kick">xQc</a>, <a href="https://www.pcgamer.com/amouranth-gives-twitch-the-boot-as-kick-steals-second-streaming-star-in-under-2-days/">Amouranth</a>, and <a href="https://www.forbes.com/sites/mattcraig/2023/10/19/kick-signs-nickmercs-nick-kolcheff--to-10-million-deal/?sh=6fe7cc994c66">Nickmercs</a> have signed major deals with Twitch competitor Kick this year; xQc’s and Nickmercs’ deals are non-exclusive, and given that Amouranth has a video on her Twitch account from a couple months ago, it seems hers is non-exclusive, too. Ninja dropped his exclusive contract with Twitch <a href="https://www.pcgamer.com/ninja-drops-twitch-exclusivity-and-starts-streaming-on-youtube-facebook-and-more/">in September 2022</a> so he could simulcast on multiple platforms. (He dined with Twitch CEO Dan Clancy <a href="https://twitter.com/djclancy999/status/1709393663975960825">earlier this month</a> and <a href="https://twitter.com/Ninja/status/1715442576793465285">seems pleased with Friday’s news</a>.) </p><p>There are a few guidelines for Twitch’s new simulcasting policy, <a href="https://help.twitch.tv/s/article/simulcasting-guidelines?language=en_US">according to a support document</a>. Streamers will have to make sure the quality of their stream on Twitch is “no less than the experience on other platforms or services.” Streamers “should not” share links to their Twitch community to their simulcasts on other platforms. (Streamers can still share links to third-party websites on their About pages on their channels, they just can’t link out to their other simulcasts while they’re also live on Twitch.) And streamers can’t use third-party services to do things like merge chat across platforms.</p><p>At some point in the future, Twitch says it will add a tool so that streamers can indicate that they are simulcasting.</p><p>Twitch also announced a big update to its off-service conduct policy. “To further protect our streamers, we’re&nbsp;<strong>adding doxxing and swatting to the list of Off-Service Conduct</strong>&nbsp;behaviors we will enforce against,” the company says (emphasis Twitch’s), and the changes are in effect as of Friday. The addition of doxxing to the policy follows a recent controversy involving <a href="https://www.nbcnews.com/tech/jacksfilms-sssniperwolf-doxxing-allegations-youtube-response-rcna121297">YouTuber Jacksfilms accusing SSSniperWolf of doxxing him</a> in an Instagram story; on Friday, YouTube announced it would be temporarily <a href="https://twitter.com/TeamYouTube/status/1715406957736038476?s=20">demonetizing SSSniperWolf’s channel</a> and SSSniperWolf posted <a href="https://twitter.com/sssniperwolf/status/1715417126113362219?s=20">an apology on X (formerly Twitter)</a>.</p><p>Twitch revealed some product changes, too. <a href="https://www.theverge.com/2023/3/21/23644633/twitch-monetization-ad-incentive-program-guest-star">Guest Star</a>, which lets streamers host co-streams with others, will now be named Stream Together and will be getting features like the ability to merge chats. Twitch says a version of <a href="https://www.theverge.com/2023/8/22/23842075/twitch-tiktok-style-discovery-feed">its TikTok-style Discovery Feed</a> that surfaces live channels is in testing. And Twitch’s own alerts system for notifications like subscribers and <a href="https://www.theverge.com/2016/6/27/12041426/twitch-streaming-real-money-bits-emotes-cheer-feature">Bits donations</a> will “soon” support a streamer’s custom animated emotes.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Recent adventures in performance optimization with Rust (144 pts)]]></title>
            <link>https://willcrichton.net/notes/k-corrset/</link>
            <guid>37964161</guid>
            <pubDate>Sat, 21 Oct 2023 04:44:42 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://willcrichton.net/notes/k-corrset/">https://willcrichton.net/notes/k-corrset/</a>, See on <a href="https://news.ycombinator.com/item?id=37964161">Hacker News</a></p>
<div id="readability-page-1" class="page">

<p>This note documents one of my recent adventures in performance
optimization with Rust. By following along, hopefully you’ll learn
something about how to write fast Rust.</p>
<p>Here’s the context: imagine you have data from an online exam where a
set of users answered a set of questions. The raw data looks like
this:</p>
<div id="cb1"><pre><code><span id="cb1-1">[</span>
<span id="cb1-2">  {</span>
<span id="cb1-3">    <span>"user"</span><span>:</span> <span>"5ea2c2e3-4dc8-4a5a-93ec-18d3d9197374"</span><span>,</span></span>
<span id="cb1-4">    <span>"question"</span><span>:</span> <span>"7d42b17d-77ff-4e0a-9a4d-354ddd7bbc57"</span><span>,</span></span>
<span id="cb1-5">    <span>"score"</span><span>:</span> <span>1</span></span>
<span id="cb1-6">  }<span>,</span></span>
<span id="cb1-7">  {</span>
<span id="cb1-8">    <span>"user"</span><span>:</span> <span>"b7746016-fdbf-4f8a-9f84-05fde7b9c07a"</span><span>,</span></span>
<span id="cb1-9">    <span>"question"</span><span>:</span> <span>"7d42b17d-77ff-4e0a-9a4d-354ddd7bbc57"</span><span>,</span></span>
<span id="cb1-10">    <span>"score"</span><span>:</span> <span>0</span></span>
<span id="cb1-11">  }<span>,</span>  </span>
<span id="cb1-12">  <span>/* ... more data ... */</span></span>
<span id="cb1-13">]</span></code></pre></div>
<p>Note that each user only answered a subset of all possible questions,
and all scores are either 0 or 1.</p>
<p>Here’s the problem: given a size
<span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span></span>,
which set of
<span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span></span>
questions has the highest correlation with overall performance? We’ll
call this the <strong>k-CorrSet problem</strong>. A simple brute-force
algorithm for solving the k-CorrSet problem looks like this
pseudocode:</p>
<pre><code>func k_corrset($data, $k):
  $all_qs = all questions in $data
  for all $k-sized subsets $qs within $all_qs:
    $us = all users that answered every question in $qs
    $qs_totals = the total score on $qs of each user in $us
    $grand_totals = the grand score on $all_qs of each user in $us
    $r = correlation($qs_totals, $grand_totals)
  return $qs with maximum $r    </code></pre>
<p>We are going to implement several variations on this algorithm to see
how fast we can make it.</p>
<h2 id="python-baseline">Python Baseline</h2>
<p>When I do data analysis, I usually start with Python and then
transition to Rust when I need better speed or memory consumption. So as
a baseline, let’s look at a straightforward <a href="https://pandas.pydata.org/">Pandas</a> program for solving
k-CorrSet:</p>
<div id="cb3"><pre><code><span id="cb3-1"><span>from</span> itertools <span>import</span> combinations</span>
<span id="cb3-2"><span>import</span> pandas <span>as</span> pd</span>
<span id="cb3-3"><span>from</span> pandas <span>import</span> IndexSlice <span>as</span> islice</span>
<span id="cb3-4"></span>
<span id="cb3-5"><span>def</span> k_corrset(data, K):</span>
<span id="cb3-6">    all_qs <span>=</span> data.question.unique()</span>
<span id="cb3-7">    q_to_score <span>=</span> data.set_index([<span>'question'</span>, <span>'user'</span>])</span>
<span id="cb3-8">    all_grand_totals <span>=</span> data.groupby(<span>'user'</span>).score.<span>sum</span>().rename(<span>'grand_total'</span>)</span>
<span id="cb3-9"></span>
<span id="cb3-10">    corrs <span>=</span> []</span>
<span id="cb3-11">    <span>for</span> qs <span>in</span> combinations(all_qs, K):</span>
<span id="cb3-12">        qs_data <span>=</span> q_to_score.loc[islice[qs,:],:].swaplevel()</span>
<span id="cb3-13">        answered_all <span>=</span> qs_data.groupby(level<span>=</span>[<span>0</span>]).size() <span>==</span> K</span>
<span id="cb3-14">        answered_all <span>=</span> answered_all[answered_all].index</span>
<span id="cb3-15">        qs_totals <span>=</span> qs_data.loc[islice[answered_all,:]] <span>\</span></span>
<span id="cb3-16">            .groupby(level<span>=</span>[<span>0</span>]).<span>sum</span>().rename(columns<span>=</span>{<span>'score'</span>: <span>'qs'</span>})</span>
<span id="cb3-17">        r <span>=</span> qs_totals.join(all_grand_totals).corr().qs.grand_total</span>
<span id="cb3-18">        corrs.append({<span>'qs'</span>: qs, <span>'r'</span>: r})</span>
<span id="cb3-19">    corrs <span>=</span> pd.DataFrame(corrs)</span>
<span id="cb3-20"></span>
<span id="cb3-21">    <span>return</span> corrs.sort_values(<span>'r'</span>, ascending<span>=</span><span>False</span>).iloc[<span>0</span>].qs</span>
<span id="cb3-22"></span>
<span id="cb3-23">data <span>=</span> pd.read_json(<span>'scores.json'</span>)</span>
<span id="cb3-24"><span>print</span>(k_corrset(data, K<span>=</span><span>5</span>))</span></code></pre></div>
<p>This uses a bit of <a href="https://pandas.pydata.org/docs/user_guide/advanced.html">MultiIndex</a>
magic, but don’t sweat the details. Let’s start benchmarking. First, we
need data. To make the benchmark realistic, I generated synthetic data
that roughly matches the properties of my actual data. The properties of
the synthetic data are:</p>
<ul>
<li>60,000 users</li>
<li>200 questions</li>
<li>20% sparsity (i.e., 12,000 users answered each question)</li>
<li>Each score is equally likely 1 or 0</li>
</ul>
<p>Our goal will be to compute k-CorrSet on this dataset for k = 5 in a
reasonable amount of time on my 2021 M1 Macbook Pro. Note that there are
<span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">(</mo><mfrac linethickness="0px"><mn>200</mn><mn>5</mn></mfrac><mo fence="true">)</mo></mrow><annotation encoding="application/x-tex">\binom{200}{5}</annotation></semantics></math></span></span>
= 2.5 billion combinations of questions, so we need the inner loop of
the brute-force algorithm to be quite fast.</p>
<p>Using Python’s <a href="https://docs.python.org/3/library/time.html#time.time"><code>time.time()</code></a>
function, I computed the speed of the inner loop for 1,000 iterations
running with CPython 3.9.17. The average execution time was <strong>36
milliseconds</strong>. Not too bad, but at this rate, the full
computation would complete in <strong>2.9 years</strong>. Let’s make
that faster!</p>
<blockquote>
<p>Note: there are lots of ways we could make the Python code faster,
but the point of this post isn’t to compare highly-optimized Python to
highly-optimized Rust. The point is to compare
“standard-Jupyter-notebook” Python to highly-optimized Rust.</p>
</blockquote>
<h2 id="rust-reimplementation">Rust Reimplementation</h2>
<p>We can start optimizing by reimplementing the Python code into a
roughly equivalent Rust program, expecting some free speedups from
Rust’s compiler optimizations. For readability, all the code below is a
simplification of the actual benchmark. For instance, I will omit
<code>#[derive]</code>s on types, and I will coalesce disparate blocks
of code into straight-line functions. You can see the full benchmark
here: <a href="https://github.com/willcrichton/corrset-benchmark">https://github.com/willcrichton/corrset-benchmark</a></p>
<p>First, we translate the data types:</p>
<div id="cb4"><pre><code><span id="cb4-1"><span>pub</span> <span>struct</span> User(<span>pub</span> <span>String</span>)<span>;</span></span>
<span id="cb4-2"></span>
<span id="cb4-3"><span>pub</span> <span>struct</span> Question(<span>pub</span> <span>String</span>)<span>;</span></span>
<span id="cb4-4"></span>
<span id="cb4-5"><span>pub</span> <span>struct</span> Row <span>{</span></span>
<span id="cb4-6">  <span>pub</span> user<span>:</span> User<span>,</span></span>
<span id="cb4-7">  <span>pub</span> question<span>:</span> Question<span>,</span></span>
<span id="cb4-8">  <span>pub</span> score<span>:</span> <span>u32</span><span>,</span></span>
<span id="cb4-9"><span>}</span></span></code></pre></div>
<p>We make <code>User</code> and <code>Question</code> into newtypes
both for clarity and so we can implement traits on them. Then, the basic
k-CorrSet algorithm is implemented as follows:</p>
<div id="cb5"><pre><code><span id="cb5-1"><span>fn</span> k_corrset(data<span>:</span> <span>&amp;</span>[Row]<span>,</span> k<span>:</span> <span>usize</span>) <span>-&gt;</span> <span>Vec</span><span>&lt;&amp;</span>Question<span>&gt;</span> <span>{</span></span>
<span id="cb5-2">  <span>// utils::group_by(impl Iterator&lt;Item = (K1, K2, V)&gt;) </span></span>
<span id="cb5-3">  <span>//   -&gt; HashMap&lt;K1, HashMap&lt;K2, V&gt;&gt;;</span></span>
<span id="cb5-4">  <span>let</span> q_to_score<span>:</span> HashMap<span>&lt;&amp;</span>Question<span>,</span> HashMap<span>&lt;&amp;</span>User<span>,</span> <span>u32</span><span>&gt;&gt;</span> <span>=</span> </span>
<span id="cb5-5">    <span>utils::</span>group_by(data<span>.</span>iter()<span>.</span>map(<span>|</span>r<span>|</span> (<span>&amp;</span>r<span>.</span>question<span>,</span> <span>&amp;</span>r<span>.</span>user<span>,</span> r<span>.</span>score)))<span>;</span></span>
<span id="cb5-6">  <span>let</span> u_to_score<span>:</span> HashMap<span>&lt;&amp;</span>User<span>,</span> HashMap<span>&lt;&amp;</span>Question<span>,</span> <span>u32</span><span>&gt;&gt;</span> <span>=</span> </span>
<span id="cb5-7">    <span>utils::</span>group_by(data<span>.</span>iter()<span>.</span>map(<span>|</span>r<span>|</span> (<span>&amp;</span>r<span>.</span>user<span>,</span> <span>&amp;</span>r<span>.</span>question<span>,</span> r<span>.</span>score)))<span>;</span></span>
<span id="cb5-8">  <span>let</span> all_grand_totals<span>:</span> HashMap<span>&lt;&amp;</span>User<span>,</span> <span>u32</span><span>&gt;</span> <span>=</span> </span>
<span id="cb5-9">    u_to_score<span>.</span>iter()<span>.</span>map(<span>|</span>(user<span>,</span> scores)<span>|</span> <span>{</span></span>
<span id="cb5-10">      <span>let</span> total <span>=</span> scores<span>.</span>values()<span>.</span><span>sum::</span><span>&lt;</span><span>u32</span><span>&gt;</span>()<span>;</span></span>
<span id="cb5-11">      (<span>*</span>user<span>,</span> total)</span>
<span id="cb5-12">    <span>}</span>)</span>
<span id="cb5-13">    <span>.</span>collect()<span>;</span></span>
<span id="cb5-14"></span>
<span id="cb5-15">  <span>let</span> all_qs <span>=</span> q_to_score<span>.</span>keys()<span>.</span>copied()<span>;</span></span>
<span id="cb5-16">  all_qs<span>.</span>combinations(k)</span>
<span id="cb5-17">    <span>.</span>filter_map(<span>|</span>qs<span>:</span> <span>Vec</span><span>&lt;&amp;</span>Question<span>&gt;|</span> <span>{</span></span>
<span id="cb5-18">      <span>let</span> (qs_totals<span>,</span> grand_totals)<span>:</span> (<span>Vec</span><span>&lt;</span>_<span>&gt;,</span> <span>Vec</span><span>&lt;</span>_<span>&gt;</span>) <span>=</span> all_grand_totals<span>.</span>iter()</span>
<span id="cb5-19">        <span>.</span>filter_map(<span>|</span>(u<span>,</span> grand_total)<span>|</span> <span>{</span></span>
<span id="cb5-20">          <span>let</span> q_total <span>=</span> qs<span>.</span>iter()</span>
<span id="cb5-21">            <span>.</span>map(<span>|</span>q<span>|</span> q_to_score[<span>*</span>q]<span>.</span>get(u)<span>.</span>copied())</span>
<span id="cb5-22">            <span>.</span><span>sum::</span><span>&lt;</span><span>Option</span><span>&lt;</span><span>u32</span><span>&gt;&gt;</span>()<span>?;</span></span>
<span id="cb5-23">          <span>Some</span>((q_total <span>as</span> <span>f64</span><span>,</span> <span>*</span>grand_total <span>as</span> <span>f64</span>))</span>
<span id="cb5-24">        <span>}</span>)</span>
<span id="cb5-25">        <span>.</span>unzip()<span>;</span></span>
<span id="cb5-26">      <span>// utils::correlation(&amp;[f64], &amp;[f64]) -&gt; f64;</span></span>
<span id="cb5-27">      <span>let</span> r <span>=</span> <span>utils::</span>correlation(<span>&amp;</span>qs_totals<span>,</span> <span>&amp;</span>grand_totals)<span>;</span></span>
<span id="cb5-28">      (<span>!</span>r<span>.</span>is_nan())<span>.</span>then_some((qs<span>,</span> r))</span>
<span id="cb5-29">    <span>}</span>)</span>
<span id="cb5-30">    <span>.</span>max_by_key(<span>|</span>(_<span>,</span> r)<span>|</span> FloatOrd(<span>*</span>r))</span>
<span id="cb5-31">    <span>.</span>unwrap()<span>.</span><span>0</span></span>
<span id="cb5-32"><span>}</span></span></code></pre></div>
<p>The key elements to understand:</p>
<ul>
<li>Like with Python, we convert the flat data into hierarchical data
with a hashmap and the <code>utils::group_by</code> helper. (Note that
everywhere we refer to <code>HashMap</code> is actually an alias for <a href="https://docs.rs/fxhash/0.2.1/fxhash/type.FxHashMap.html"><code>fxhash::FxHashMap</code></a>,
which is just <a href="https://doc.rust-lang.org/stable/std/collections/struct.HashMap.html"><code>std::collections::HashMap</code></a>
with a more efficient hashing algorithm.)</li>
<li>Then we iterate over all combinations of questions using the <a href="https://docs.rs/itertools/0.11.0/itertools/trait.Itertools.html#method.combinations"><code>Itertools::combinations</code></a>
method.</li>
<li>In the inner loop, we iterate over all users via
<code>all_grand_totals.iter()</code>.</li>
<li>The expression <code>q_to_score[*q].get(u).copied()</code> has type
<code>Option&lt;u32&gt;</code>, which is <code>Some(n)</code> if the
user has a score for <code>q</code>, and <code>None</code>
otherwise.</li>
<li>The iterator method <code>.sum::&lt;Option&lt;u32&gt;&gt;()</code>
returns <code>Some(total)</code> if the user answered every question in
<code>qs</code>, and <code>None</code> otherwise.</li>
<li>We call a helper method <code>utils::correlation</code> that
implements a standard calculation for <a href="https://en.wikipedia.org/wiki/Pearson_correlation_coefficient">Pearson’s
<span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span></span></a>.</li>
<li>We use <code>max_by_key</code> to get the questions with the highest
correlation. We use <a href="https://docs.rs/float-ord/0.3.2/float_ord/struct.FloatOrd.html"><code>FloatOrd</code></a>
so we can compare floats.</li>
</ul>
<p>So how’s the performance? I used <a href="https://bheisler.github.io/criterion.rs/book/index.html">Criterion</a>
to benchmark the performance of the inner loop (the
<code>filter_map</code>) with Criterion’s default settings, using the
same dataset as before. The new inner loop runs in <strong>4.2
milliseconds</strong>, which is about 8 times faster than the Python
baseline! But our full computation is still 124 days, which is too long.
Now let’s start really optimizing.</p>
<h2 id="indexed-data">Indexed Data</h2>
<p>Rather than guess how to optimize the code, let’s run a profiler to
see where the bottleneck is. On my Mac, I usually use <a href="https://en.wikipedia.org/wiki/Instruments_(software)">Instruments.app</a>,
but recently I tried <a href="https://github.com/mstange/samply/">samply</a> and wow! It’s much
nicer to use. Samply seems to work better with Rust both in terms of
symbol demangling and in terms of reconstructing the call stack. Here’s
a screenshot of the relevant part of the samply trace for the Rust
implementation so far:</p>
<p><img src="https://willcrichton.net/notes/k-corrset/img/profile-naive.png"></p>
<p>We’re spending 75% of our time in <code>HashMap::get</code>! This is
the offending line of code:</p>
<div id="cb6"><pre><code><span id="cb6-1">q_to_score[<span>*</span>q]<span>.</span>get(u)<span>.</span>copied()</span></code></pre></div>
<p>The problem is that we’re hashing and comparing 36-byte UUID strings,
which is expensive. We need a smaller type that can stand-in for the
question/user strings.</p>
<p>The solution is that we will collect all the questions and users into
a <code>Vec</code>, and represent each question/user by their index in
that <code>Vec</code>. We could just use <code>usize</code> indices with
the <code>Vec</code> type, but a better practice is to use newtypes to
represent each kind of index. In fact, this problem comes up so often in
my work that I’ve already made a crate for it, <a href="https://docs.rs/indexical/0.6.0/indexical/index.html">Indexical</a>
(which builds on the <a href="https://docs.rs/index_vec/0.1.3/index_vec/index.html">index_vec</a>
crate). We define those index types like this:</p>
<div id="cb7"><pre><code><span id="cb7-1"><span>pub</span> <span>struct</span> QuestionRef<span>&lt;</span><span>'a</span><span>&gt;</span>(<span>pub</span> <span>&amp;</span><span>'a</span> Question)<span>;</span></span>
<span id="cb7-2"><span>pub</span> <span>struct</span> UserRef<span>&lt;</span><span>'a</span><span>&gt;</span>(<span>pub</span> <span>&amp;</span><span>'a</span> User)<span>;</span></span>
<span id="cb7-3"></span>
<span id="cb7-4"><span>define_index_type!</span> <span>{</span></span>
<span id="cb7-5">  <span>pub</span> <span>struct</span> QuestionIdx <span>for</span> QuestionRef<span>&lt;</span><span>'a</span><span>&gt;</span> <span>=</span> <span>u16</span><span>;</span></span>
<span id="cb7-6"><span>}</span></span>
<span id="cb7-7"></span>
<span id="cb7-8"><span>define_index_type!</span> <span>{</span></span>
<span id="cb7-9">  <span>pub</span> <span>struct</span> UserIdx <span>for</span> UserRef<span>&lt;</span><span>'a</span><span>&gt;</span> <span>=</span> <span>u32</span><span>;</span></span>
<span id="cb7-10"><span>}</span></span></code></pre></div>
<p>The <code>QuestionRef</code> and <code>UserRef</code> types are
newtypes that enable us to implement traits on
<code>&amp;Question</code> and <code>&amp;User</code>. The
<code>define_index_type</code> macro creates new index types
<code>QuestionIdx</code> and <code>UserIdx</code> which are associated
with <code>QuestionRef</code> and <code>UserRef</code>. Those indices
are represented as <code>u16</code> and a <code>u32</code>,
respectively.</p>
<p>Finally we update <code>k_corrset</code> to generate an <a href="https://docs.rs/indexical/0.6.0/indexical/struct.IndexedDomain.html"><code>IndexedDomain</code></a>
for questions and users, and then use the <code>QuestionIdx</code> and
<code>UserIdx</code> types throughout the rest of the code:</p>
<div id="cb8"><pre><code><span id="cb8-1"><span>fn</span> k_corrset(data<span>:</span> <span>&amp;</span>[Row]<span>,</span> k<span>:</span> <span>usize</span>) <span>-&gt;</span> <span>Vec</span><span>&lt;&amp;</span>Question<span>&gt;</span> <span>{</span></span>
<span id="cb8-2">  <span>// first, we create an `IndexedDomain` for questions and users</span></span>
<span id="cb8-3">  <span>let</span> (questions_set<span>,</span> users_set)<span>:</span> (HashSet<span>&lt;</span>_<span>&gt;,</span> HashSet<span>&lt;</span>_<span>&gt;</span>) <span>=</span> data<span>.</span>iter()</span>
<span id="cb8-4">    <span>.</span>map(<span>|</span>row<span>|</span> (QuestionRef(<span>&amp;</span>row<span>.</span>question)<span>,</span> UserRef(<span>&amp;</span>row<span>.</span>user)))</span>
<span id="cb8-5">    <span>.</span>unzip()<span>;</span></span>
<span id="cb8-6">  <span>let</span> questions <span>=</span> <span>IndexedDomain::</span>from_iter(questions_set)<span>;</span></span>
<span id="cb8-7">  <span>let</span> users <span>=</span> <span>IndexedDomain::</span>from_iter(users_set)<span>;</span></span>
<span id="cb8-8"></span>
<span id="cb8-9">  <span>// then we create the same data structures as before, </span></span>
<span id="cb8-10">  <span>// except using `IndexedDomain::index` to lookup indices.</span></span>
<span id="cb8-11">  <span>// note the change in the HashMap key types</span></span>
<span id="cb8-12">  <span>let</span> q_to_score<span>:</span> HashMap<span>&lt;</span>QuestionIdx<span>,</span> HashMap<span>&lt;</span>UserIdx<span>,</span> <span>u32</span><span>&gt;&gt;</span> <span>=</span> </span>
<span id="cb8-13">    <span>utils::</span>group_by(data<span>.</span>iter()<span>.</span>map(<span>|</span>r<span>|</span> (</span>
<span id="cb8-14">      questions<span>.</span>index(<span>&amp;</span>(QuestionRef(<span>&amp;</span>r<span>.</span>question)))<span>,</span></span>
<span id="cb8-15">      users<span>.</span>index(<span>&amp;</span>(UserRef(<span>&amp;</span>r<span>.</span>user)))<span>,</span></span>
<span id="cb8-16">      r<span>.</span>score<span>,</span></span>
<span id="cb8-17">    )))<span>;</span></span>
<span id="cb8-18">  <span>let</span> u_to_score<span>:</span> HashMap<span>&lt;</span>UserIdx<span>,</span> HashMap<span>&lt;</span>QuestionIdx<span>,</span> <span>u32</span><span>&gt;&gt;</span> <span>=</span> </span>
<span id="cb8-19">    <span>utils::</span>group_by(data<span>.</span>iter()<span>.</span>map(<span>|</span>r<span>|</span> (</span>
<span id="cb8-20">      users<span>.</span>index(<span>&amp;</span>(UserRef(<span>&amp;</span>r<span>.</span>user)))<span>,</span></span>
<span id="cb8-21">      questions<span>.</span>index(<span>&amp;</span>(QuestionRef(<span>&amp;</span>r<span>.</span>question)))<span>,</span></span>
<span id="cb8-22">      r<span>.</span>score<span>,</span></span>
<span id="cb8-23">    )))<span>;</span>  </span>
<span id="cb8-24">  <span>let</span> all_grand_totals <span>=</span> <span>// same code</span></span>
<span id="cb8-25"></span>
<span id="cb8-26">  <span>let</span> all_qs <span>=</span> questions<span>.</span>indices()<span>;</span></span>
<span id="cb8-27">  all_qs<span>.</span>combinations(k)</span>
<span id="cb8-28">    <span>.</span>filter_map(<span>|</span>qs<span>:</span> <span>Vec</span><span>&lt;</span>QuestionIdx<span>&gt;|</span> <span>{</span></span>
<span id="cb8-29">      <span>// same code</span></span>
<span id="cb8-30">    <span>}</span>)</span>
<span id="cb8-31">    <span>.</span>max_by_key(<span>|</span>(_<span>,</span> r)<span>|</span> FloatOrd(<span>*</span>r))</span>
<span id="cb8-32">    <span>.</span>unwrap()<span>.</span><span>0</span></span>
<span id="cb8-33">    <span>// we have to post-process the indices back to values</span></span>
<span id="cb8-34">    <span>.</span>into_iter()<span>.</span>map(<span>|</span>idx<span>|</span> questions<span>.</span>value(idx)<span>.</span><span>0</span>)<span>.</span>collect()</span>
<span id="cb8-35"><span>}</span></span></code></pre></div>
<p>Again, check out the <a href="https://github.com/willcrichton/corrset-benchmark/blob/main/src/inner/indexed.rs">GitHub</a>
for the complete implementation, and check out the <a href="https://docs.rs/indexical/0.6.0/indexical/index.html">indexical
docs</a> for details on its API.</p>
<p>Once again we run our benchmark on the inner loop of the computation.
The new inner loop runs in <strong>1.0 milliseconds</strong>, which is 4
times faster than our last iteration, and 35 times faster than our
Python baseline. We’re down to 30 days for the total computation — let’s
keep going!</p>
<h2 id="indexed-collections">Indexed Collections</h2>
<p>Let’s profile again:</p>
<p><img src="https://willcrichton.net/notes/k-corrset/img/profile-indexed.png"></p>
<p>Blast, still spending most our time in <code>HashMap::get</code>.
Well, what if we got rid of hash maps altogether? A
<code>HashMap&lt;&amp;User, u32&gt;</code> is conceptually the same
thing as a <code>Vec&lt;Option&lt;u32&gt;&gt;</code> where each
<code>&amp;User</code> has a unique index. For example, in a domain of
users <code>["a", "b", "c"]</code>, then the hash map
<code>{"b" =&gt; 1}</code> is equivalent to the vector
<code>[None, Some(1), None]</code>. This vector costs more memory
(paying for the <code>None</code> spaces), but it improves the
performance of key/value lookups (avoids hashing).</p>
<p>We’re trying to fully optimize for performance, and given the scale
of our dataset, we can afford to make the compute/memory trade-off. We
will use Indexical which provides a <a href="https://docs.rs/indexical/0.6.0/indexical/map/struct.DenseIndexMap.html"><code>DenseIndexMap&lt;K, V&gt;</code></a>
type that is internally implemented as a <code>Vec&lt;V&gt;</code> type
indexed by <code>K::Index</code>.</p>
<p>The main change to the <code>k_corrset</code> function is that we
convert all our auxiliary data structures to dense index maps:</p>
<div id="cb9"><pre><code><span id="cb9-1"><span>pub</span> <span>type</span> QuestionMap<span>&lt;</span><span>'a</span><span>,</span> T<span>&gt;</span> <span>=</span> DenseIndexMap<span>&lt;</span><span>'a</span><span>,</span> QuestionRef<span>&lt;</span><span>'a</span><span>&gt;,</span> T<span>&gt;;</span></span>
<span id="cb9-2"><span>pub</span> <span>type</span> UserMap<span>&lt;</span><span>'a</span><span>,</span> T<span>&gt;</span> <span>=</span> DenseIndexMap<span>&lt;</span><span>'a</span><span>,</span> UserRef<span>&lt;</span><span>'a</span><span>&gt;,</span> T<span>&gt;;</span></span>
<span id="cb9-3"></span>
<span id="cb9-4"><span>fn</span> k_corrset(data<span>:</span> <span>&amp;</span>[Row]<span>,</span> k<span>:</span> <span>usize</span>) <span>-&gt;</span> <span>Vec</span><span>&lt;&amp;</span>Question<span>&gt;</span> <span>{</span></span>
<span id="cb9-5">  <span>// build the `users` and `questions` domains same as before</span></span>
<span id="cb9-6"></span>
<span id="cb9-7">  <span>// Initialize q_to_score to an empty dense map</span></span>
<span id="cb9-8">  <span>let</span> <span>mut</span> q_to_score<span>:</span> QuestionMap<span>&lt;</span><span>'_</span><span>,</span> UserMap<span>&lt;</span><span>'_</span><span>,</span> <span>Option</span><span>&lt;</span><span>u32</span><span>&gt;&gt;&gt;</span> <span>=</span> </span>
<span id="cb9-9">    <span>QuestionMap::</span>new(<span>&amp;</span>questions<span>,</span> <span>|</span>_<span>|</span> <span>UserMap::</span>new(<span>&amp;</span>users<span>,</span> <span>|</span>_<span>|</span> <span>None</span>))<span>;</span>  </span>
<span id="cb9-10"></span>
<span id="cb9-11">  <span>// Fill in q_to_score with the dataset</span></span>
<span id="cb9-12">  <span>for</span> r <span>in</span> data <span>{</span></span>
<span id="cb9-13">    q_to_score</span>
<span id="cb9-14">      <span>.</span>get_mut(<span>&amp;</span>QuestionRef(<span>&amp;</span>r<span>.</span>question))</span>
<span id="cb9-15">      <span>.</span>unwrap()</span>
<span id="cb9-16">      <span>.</span>insert(UserRef(<span>&amp;</span>r<span>.</span>user)<span>,</span> <span>Some</span>(r<span>.</span>score))<span>;</span></span>
<span id="cb9-17">  <span>}</span></span>
<span id="cb9-18"></span>
<span id="cb9-19">  <span>let</span> grand_totals <span>=</span> <span>UserMap::</span>new(<span>&amp;</span>users<span>,</span> <span>|</span>u<span>|</span> <span>{</span></span>
<span id="cb9-20">    q_to_score<span>.</span>values()<span>.</span>filter_map(<span>|</span>v<span>|</span> v[u])<span>.</span><span>sum::</span><span>&lt;</span><span>u32</span><span>&gt;</span>()</span>
<span id="cb9-21">  <span>}</span>)<span>;</span></span>
<span id="cb9-22"></span>
<span id="cb9-23">  <span>let</span> all_qs <span>=</span> questions<span>.</span>indices()<span>;</span></span>
<span id="cb9-24">  all_qs<span>.</span>combinations(k)</span>
<span id="cb9-25">    <span>// almost the same code, see below</span></span>
<span id="cb9-26"><span>}</span></span></code></pre></div>
<p>The only change to the inner loop is that our code which used to say
this:</p>
<div id="cb10"><pre><code><span id="cb10-1">q_to_score[<span>*</span>q]<span>.</span>get(u)<span>.</span>copied()</span></code></pre></div>
<p>Is now this:</p>

<p>Running the benchmark again, the new inner loop runs in <strong>181
microseconds</strong>, which is 6 times faster than our last iteration,
and 199 times faster than our Python baseline. We’re down to 5.3 days
for the total computation.</p>
<h2 id="bounds-checks">Bounds Checks</h2>
<p>Another small performance hit comes every time we use the brackets
<code>[]</code> to index into an <code>DenseIndexMap</code>. The vector
beneath will run a bounds-check for safety, but our code is guaranteed
to never exceed vector bounds as written. I couldn’t actually find the
bounds check in the samply profile, but it does make a noticeable
difference in the benchmark, so it’s worth implementing.</p>
<p>Before our inner loop looked like this:</p>
<div id="cb12"><pre><code><span id="cb12-1"><span>let</span> q_total <span>=</span> qs<span>.</span>iter()</span>
<span id="cb12-2">  <span>.</span>map(<span>|</span>q<span>|</span> q_to_score[<span>*</span>q][u])</span>
<span id="cb12-3">  <span>.</span><span>sum::</span><span>&lt;</span><span>Option</span><span>&lt;</span><span>u32</span><span>&gt;&gt;</span>()<span>?;</span></span>
<span id="cb12-4"><span>let</span> grand_total <span>=</span> all_grand_totals[u]<span>;</span></span></code></pre></div>
<p>Removing bounds checks with <code>get_unchecked</code>, our new inner
loop looks like this:</p>
<div id="cb13"><pre><code><span id="cb13-1"><span>let</span> q_total <span>=</span> qs<span>.</span>iter()</span>
<span id="cb13-2">  <span>.</span>map(<span>|</span>q<span>|</span> <span>unsafe</span> <span>{</span></span>
<span id="cb13-3">    <span>let</span> u_scores <span>=</span> q_to_score<span>.</span>get_unchecked(q)<span>;</span></span>
<span id="cb13-4">    <span>*</span>u_scores<span>.</span>get_unchecked(u)</span>
<span id="cb13-5">  <span>}</span>)</span>
<span id="cb13-6">  <span>.</span><span>sum::</span><span>&lt;</span><span>Option</span><span>&lt;</span><span>u32</span><span>&gt;&gt;</span>()<span>?;</span></span>
<span id="cb13-7"><span>let</span> grand_total <span>=</span> <span>unsafe</span> <span>{</span> <span>*</span>all_grand_totals<span>.</span>get_unchecked(u) <span>};</span></span></code></pre></div>
<p>It is unsafe without bounds-checks, so we have to mark these blocks
as <code>unsafe</code>.</p>
<p>Running the benchmark again, the new inner loop runs in <strong>156
microseconds</strong>, which is 1.16x faster than our last iteration,
and 229 times faster than our Python baseline. We’re down to 4.6 days
for the total computation.</p>
<h2 id="bit-sets">Bit-sets</h2>
<p>We’re currently at a 225x speedup, which means we still have three
orders of magnitude left to go. To get there, we need to rethink the
computational structure of the inner loop. Right now, our loop
effectively looks like:</p>
<pre><code>for each subset of questions $qs:
  for each user $u:
    for each question $q in $qs:
      if $u answered $q: add $u's score on $q to a running total
      else: skip to the next user
    $r = correlation($u's totals on $qs, $u's grand total)</code></pre>
<p>An important aspect of our data is that it forms a <em>sparse</em>
matrix. For a given question, only 20% of users have answered that
question. For a set of 5 questions, a much smaller fraction have
answered all 5 questions. So if we can efficiently determine first which
users have answered all 5 questions, then our subsequent loop will run
for fewer iterations (and be free of branches). Something like this:</p>
<pre><code>for each subset of questions $qs:
  $qs_u = all users who have answered every question in $qs
  for each user $u in $qs_u:
    for each question $q in $qs:
      add $u's score on $q to a running total
    $r = correlation($u's scores on $qs, $u's grand total)</code></pre>
<p>So how do we represent the set of users who have answered a given
question? We could use a <a href="https://doc.rust-lang.org/std/collections/struct.HashSet.html"><code>HashSet</code></a>,
but we saw earlier that hashing is computationally expensive. Because
our data is indexed, we can use a more efficient data structure: the <a href="https://en.wikipedia.org/wiki/Bit_array">bit-set</a>, which uses
the individual bits of memory to represent whether an object is present
or absent in a set. Indexical provides another abstraction for
integratings bit-sets with our newtype indices: the <a href="https://docs.rs/indexical/0.6.0/indexical/struct.IndexSet.html"><code>IndexSet</code></a>.</p>
<p>Previously, our <code>q_to_score</code> data structure mapped from
questions to a user-indexed vector of optional scores (that is,
<code>UserMap&lt;'_, Option&lt;u32&gt;&gt;</code>). Now we will change
<code>Option&lt;u32&gt;</code> to <code>u32</code> and add a bit-set
describing the set of users who answered a given question. The first
half of the updated code looks like this:</p>
<div id="cb16"><pre><code><span id="cb16-1"><span>type</span> UserSet<span>&lt;</span><span>'a</span><span>&gt;</span> <span>=</span> IndexSet<span>&lt;</span><span>'a</span><span>,</span> UserRef<span>&lt;</span><span>'a</span><span>&gt;&gt;;</span></span>
<span id="cb16-2"></span>
<span id="cb16-3"><span>let</span> <span>mut</span> q_to_score<span>:</span> QuestionMap<span>&lt;</span><span>'_</span><span>,</span> (UserSet<span>&lt;</span><span>'_</span><span>&gt;,</span> UserMap<span>&lt;</span><span>'_</span><span>,</span> <span>u32</span><span>&gt;</span>)<span>&gt;</span> <span>=</span> </span>
<span id="cb16-4">  <span>QuestionMap::</span>new(<span>&amp;</span>questions<span>,</span> <span>|</span>_<span>|</span> (</span>
<span id="cb16-5">    <span>UserMap::</span><span>&lt;</span><span>'_</span><span>,</span> <span>u32</span><span>&gt;</span><span>::</span>new(<span>&amp;</span>users<span>,</span> <span>|</span>_<span>|</span> <span>0</span>)<span>,</span></span>
<span id="cb16-6">    <span>UserSet::</span>new(<span>&amp;</span>users)<span>,</span></span>
<span id="cb16-7">  ))<span>;</span></span>
<span id="cb16-8"><span>for</span> r <span>in</span> data <span>{</span></span>
<span id="cb16-9">  <span>let</span> (scores<span>,</span> set) <span>=</span> <span>&amp;</span><span>mut</span> q_to_score<span>.</span>get_mut(<span>&amp;</span>QuestionRef(<span>&amp;</span>r<span>.</span>question))<span>.</span>unwrap()<span>;</span></span>
<span id="cb16-10">  scores<span>.</span>insert(UserRef(<span>&amp;</span>r<span>.</span>user)<span>,</span> r<span>.</span>score)<span>;</span></span>
<span id="cb16-11">  set<span>.</span>insert(UserRef(<span>&amp;</span>r<span>.</span>user))<span>;</span></span>
<span id="cb16-12"><span>}</span></span></code></pre></div>
<p>Note that <code>q_to_score</code> now effectively has invalid values,
since we provide a default value of 0 for users who did not answer a
question. We have to be careful not to use these invalid values in the
computation.</p>
<p>Then we update our inner loop to match the new pseudocode:</p>
<div id="cb17"><pre><code><span id="cb17-1"><span>let</span> all_qs <span>=</span> questions<span>.</span>indices()<span>;</span></span>
<span id="cb17-2">all_qs<span>.</span>combinations(k)</span>
<span id="cb17-3">  <span>.</span>filter_map(<span>|</span>qs<span>:</span> <span>Vec</span><span>&lt;</span>QuestionIdx<span>&gt;|</span> <span>{</span></span>
<span id="cb17-4">    <span>// Compute the intersection of the user-sets for each question</span></span>
<span id="cb17-5">    <span>let</span> <span>mut</span> users <span>=</span> q_to_score[qs[<span>0</span>]]<span>.</span><span>1</span><span>.</span>clone()<span>;</span></span>
<span id="cb17-6">    <span>for</span> q <span>in</span> <span>&amp;</span>qs[<span>1</span><span>..</span>] <span>{</span></span>
<span id="cb17-7">      users<span>.</span>intersect(<span>&amp;</span>q_to_score[<span>*</span>q]<span>.</span><span>1</span>)<span>;</span></span>
<span id="cb17-8">    <span>}</span></span>
<span id="cb17-9"></span>
<span id="cb17-10">    <span>let</span> (qs_totals<span>,</span> grand_totals)<span>:</span> (<span>Vec</span><span>&lt;</span>_<span>&gt;,</span> <span>Vec</span><span>&lt;</span>_<span>&gt;</span>) <span>=</span> users<span>.</span>indices()</span>
<span id="cb17-11">      <span>// only .map, not .filter_map as before</span></span>
<span id="cb17-12">      <span>.</span>map(<span>|</span>u<span>|</span> <span>{</span></span>
<span id="cb17-13">        <span>let</span> q_total <span>=</span> qs<span>.</span>iter()          </span>
<span id="cb17-14">          <span>.</span>map(<span>|</span>q<span>|</span> <span>unsafe</span> <span>{</span></span>
<span id="cb17-15">            <span>let</span> (u_scores<span>,</span> _) <span>=</span> q_to_score<span>.</span>get_unchecked(q)<span>;</span></span>
<span id="cb17-16">            <span>*</span>u_scores<span>.</span>get_unchecked(u)</span>
<span id="cb17-17">          <span>}</span>)</span>
<span id="cb17-18">          <span>// only u32, not Option&lt;u32&gt; as before</span></span>
<span id="cb17-19">          <span>.</span><span>sum::</span><span>&lt;</span><span>u32</span><span>&gt;</span>()<span>;</span></span>
<span id="cb17-20">        <span>let</span> grand_total <span>=</span> <span>unsafe</span> <span>{</span> <span>*</span>all_grand_totals<span>.</span>get_unchecked(u) <span>};</span></span>
<span id="cb17-21">        (q_total <span>as</span> <span>f64</span><span>,</span> grand_total <span>as</span> <span>f64</span>)</span>
<span id="cb17-22">      <span>}</span>)</span>
<span id="cb17-23">      <span>.</span>unzip()<span>;</span></span>
<span id="cb17-24">    <span>let</span> r <span>=</span> <span>utils::</span>correlation(<span>&amp;</span>qs_totals<span>,</span> <span>&amp;</span>grand_totals)<span>;</span></span>
<span id="cb17-25">    (<span>!</span>r<span>.</span>is_nan())<span>.</span>then_some((qs<span>,</span> r))</span>
<span id="cb17-26">  <span>}</span>)</span>
<span id="cb17-27">  <span>// rest of the code is the same</span></span></code></pre></div>
<p>Running the benchmark again, the new inner loop runs in <strong>47
microseconds</strong>, which is 3.4 times faster than our last
iteration, and 769 times faster than our Python baseline. We’re down to
1.4 days for the total computation.</p>
<h2 id="simd">SIMD</h2>
<p>Our new computational structure is definitely helping, but it’s still
not fast enough. Let’s check back in with samply:</p>
<p><img src="https://willcrichton.net/notes/k-corrset/img/profile-bitset.png"></p>
<p>Now we’re spending all our time in the bit-set intersection! That
means we need to dig in to how the bit-set is implemented. The default
bit-set library used by Indexical is <a href="https://docs.rs/bitvec/1.0.1/bitvec/index.html">bitvec</a>. As of
2023, the implementation of intersection within bitvec’s bit-set is
roughly this code:</p>
<div id="cb18"><pre><code><span id="cb18-1"><span>fn</span> intersect(dst<span>:</span> <span>&amp;</span><span>mut</span> BitSet<span>,</span> src<span>:</span> <span>&amp;</span>BitSet) <span>{</span></span>
<span id="cb18-2">  <span>for</span> (n1<span>,</span> n2)<span>:</span> (<span>&amp;</span><span>mut</span> <span>u64</span><span>,</span> <span>&amp;</span><span>u64</span>) <span>in</span> dst<span>.</span>iter_mut()<span>.</span>zip(<span>&amp;</span>src) <span>{</span></span>
<span id="cb18-3">    <span>*</span>n1 <span>&amp;=</span> <span>*</span>n2<span>;</span></span>
<span id="cb18-4">  <span>}</span></span>
<span id="cb18-5"><span>}</span></span></code></pre></div>
<p>So bitvec is AND-ing a <code>u64</code> at a time. But it turns out
most processors have instructions specifically for doing
bit-manipulation on multiple <code>u64</code>s at a time, called <a href="https://en.wikipedia.org/wiki/Single_instruction,_multiple_data">SIMD</a>
(single instruction, multiple data). Thankfully, Rust provides an
experimental SIMD API <a href="https://doc.rust-lang.org/std/simd/index.html"><code>std::simd</code></a>
that we can use. Roughly speaking, the SIMD version of bit-set
intersection looks like this:</p>
<div id="cb19"><pre><code><span id="cb19-1"><span>fn</span> intersect(dst<span>:</span> <span>&amp;</span><span>mut</span> SimdBitSet<span>,</span> src<span>:</span> <span>&amp;</span>SimdBitSet) <span>{</span></span>
<span id="cb19-2">  <span>for</span> (n1<span>,</span> n2)<span>:</span> (<span>&amp;</span><span>mut</span> u64x4<span>,</span> <span>&amp;</span>u64x4) <span>in</span> dst<span>.</span>iter_mut()<span>.</span>zip(<span>&amp;</span>src) <span>{</span></span>
<span id="cb19-3">    <span>*</span>n1 <span>&amp;=</span> <span>*</span>n2<span>;</span></span>
<span id="cb19-4">  <span>}</span></span>
<span id="cb19-5"><span>}</span></span></code></pre></div>
<p>The only difference is that we’ve replaced our primitive
<code>u64</code> type with a SIMD type <a href="https://doc.rust-lang.org/std/simd/type.u64x4.html"><code>u64x4</code></a>,
and under the hood, Rust emits a single SIMD instruction to perform the
<code>&amp;=</code> operation that ANDs four <code>u64</code>s at a
time.</p>
<p>Where can we find a SIMD-accelerated bitset? <a href="https://docs.rs/bitvec/1.0.1/bitvec/index.html">bitvec</a> doesn’t
support SIMD. There are a few on <a href="https://crates.io/">crates.io</a>, and I tried out one called <a href="https://github.com/psiace/bitsvec">bitsvec</a>. It works well for
fast intersection, but I found that its iterator which finds the indices
of the 1-bits is actually quite slow. So I copied large portions of the
bitsvec implementation and wrote a more efficient iterator, which you
can check out in the <a href="https://github.com/willcrichton/indexical/blob/913fbf5830f4d5acedd23e04841e453ed2659165/src/bitset/simd.rs">Indexical
source</a> if you’re curious.</p>
<p>Thanks to Indexical’s abstractions, swapping in the SIMD bitset only
requires changing a type alias and no other modifications to the
<code>k_corrset</code> function. I experimented with different lane
sizes and found <code>u64x16</code> is the most efficient on my machine
for this dataset.</p>
<p>Once more we run the benchmark, and the new inner loop runs in
<strong>1.35 microseconds</strong>, which is 34 times faster than our
last iteration, and 26,459 times faster than our Python baseline. We’re
down to 57 minutes for the total computation.</p>
<h2 id="allocation">Allocation</h2>
<p>At this point, we’re pretty close to peak performance. (You may not
like it, but…) Let’s go back to the profile, this time looking at the
inverted view (which shows the most-called functions at the leaves of
the call tree):</p>
<p><img src="https://willcrichton.net/notes/k-corrset/img/profile-simd.png"></p>
<p>The biggest bottleneck is our bit-set iterator! I wasn’t joking! But
we see several concerning functions: <code>memmove</code>,
<code>realloc</code>, <code>allocate</code> — that’s right, we’re
allocating memory in the inner loop of this function. Specifically,
there’s the user bit-set that we initially clone, and there’s the two
vectors for <code>qs_totals</code> and <code>grand_totals</code> that we
allocate with <code>unzip</code>.</p>
<p>To avoid allocation, we create these data structures up front with
the maximum possible size needed, and then repeatedly write into
them:</p>
<div id="cb20"><pre><code><span id="cb20-1"><span>// Allocate our data up front</span></span>
<span id="cb20-2"><span>let</span> <span>mut</span> qs_totals <span>=</span> <span>vec!</span>[<span>0</span><span>.;</span> users<span>.</span>len()]</span>
<span id="cb20-3"><span>let</span> <span>mut</span> grand_totals <span>=</span> <span>vec!</span>[<span>0</span><span>.;</span> users<span>.</span>len()]<span>;</span></span>
<span id="cb20-4"><span>let</span> <span>mut</span> user_set <span>=</span> <span>IndexSet::</span>new(<span>&amp;</span>users)<span>;</span></span>
<span id="cb20-5"></span>
<span id="cb20-6"><span>let</span> all_qs <span>=</span> questions<span>.</span>indices()<span>;</span></span>
<span id="cb20-7">all_qs<span>.</span>combinations(k)</span>
<span id="cb20-8">  <span>.</span>filter_map(<span>|</span>qs<span>|</span> <span>{</span></span>
<span id="cb20-9">    <span>// Use `clone_from` rather than `clone` to copy without allocation</span></span>
<span id="cb20-10">    user_set<span>.</span>clone_from(<span>&amp;</span>q_to_score[qs[<span>0</span>]]<span>.</span><span>1</span>)<span>;</span></span>
<span id="cb20-11">    <span>for</span> q <span>in</span> <span>&amp;</span>qs[<span>1</span><span>..</span>] <span>{</span></span>
<span id="cb20-12">      user_set<span>.</span>intersect(<span>&amp;</span>q_to_score[<span>*</span>q]<span>.</span><span>1</span>)<span>;</span></span>
<span id="cb20-13">    <span>}</span></span>
<span id="cb20-14"></span>
<span id="cb20-15">    <span>let</span> <span>mut</span> n <span>=</span> <span>0</span><span>;</span></span>
<span id="cb20-16">    <span>for</span> (i<span>,</span> u) <span>in</span> user_set<span>.</span>indices()<span>.</span>enumerate() <span>{</span></span>
<span id="cb20-17">      <span>let</span> q_total <span>=</span> qs<span>.</span>iter()</span>
<span id="cb20-18">        <span>.</span>map(<span>|</span>q<span>|</span> <span>unsafe</span> <span>{</span></span>
<span id="cb20-19">          <span>let</span> (u_scores<span>,</span> _) <span>=</span> q_to_score<span>.</span>get_unchecked(q)<span>;</span></span>
<span id="cb20-20">          <span>*</span>u_scores<span>..</span>get_unchecked(u)</span>
<span id="cb20-21">        <span>}</span>)</span>
<span id="cb20-22">        <span>.</span><span>sum::</span><span>&lt;</span><span>u32</span><span>&gt;</span>()<span>;</span></span>
<span id="cb20-23">      <span>let</span> grand_total <span>=</span> <span>unsafe</span> <span>{</span> <span>*</span>all_grand_totals<span>.</span>get_unchecked(u) <span>};</span></span>
<span id="cb20-24"></span>
<span id="cb20-25">      <span>// Update totals/grand_totals in-place rather than pushing into a vector</span></span>
<span id="cb20-26">      <span>unsafe</span> <span>{</span></span>
<span id="cb20-27">        <span>*</span>qs_totals<span>.</span>get_unchecked_mut(i) <span>=</span> q_total <span>as</span> <span>f64</span><span>;</span></span>
<span id="cb20-28">        <span>*</span>grand_totals<span>.</span>get_unchecked_mut(i) <span>=</span> grand_total <span>as</span> <span>f64</span><span>;</span></span>
<span id="cb20-29">      <span>}</span></span>
<span id="cb20-30"></span>
<span id="cb20-31">      n <span>+=</span> <span>1</span><span>;</span></span>
<span id="cb20-32">    <span>}</span></span>
<span id="cb20-33"></span>
<span id="cb20-34">    <span>// Only pass in the first `n` elements!</span></span>
<span id="cb20-35">    <span>let</span> r <span>=</span> <span>utils::</span>correlation(<span>&amp;</span>qs_totals[<span>..</span>n]<span>,</span> <span>&amp;</span>grand_totals[<span>..</span>n])<span>;</span></span>
<span id="cb20-36">    (<span>!</span>r<span>.</span>is_nan())<span>.</span>then_some((qs<span>,</span> r))</span>
<span id="cb20-37">  <span>}</span>)</span></code></pre></div>
<p>We run the benchmark again, and the new inner loop runs in
<strong>1.09 microseconds</strong>, which is 1.24 times faster than our
last iteration, and 32,940 times faster than our Python baseline. We’re
down to 46 minutes for the total computation.</p>
<p>(As an aside, it’s impressive that the heap allocator was fast enough
to have such a small impact on our runtime!)</p>
<p>In summary, Table <a href="#tbl:inner-speedup">1</a> shows the
runtime, relative speedup, absolute speedup, and total estimated
completion time for each level of the benchmark.</p>
<div id="tbl:inner-speedup">
<table>
<caption>Table 1: Performance numbers for the inner loop.</caption>
<colgroup>
<col>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th>Level</th>
<th>Runtime</th>
<th>Speedup over previous level</th>
<th>Speedup over Python</th>
<th>Est. completion time</th>
</tr>
</thead>
<tbody>
<tr>
<td>python</td>
<td>35.85 ms</td>
<td></td>
<td>1.00×</td>
<td>2.88 years</td>
</tr>
<tr>
<td>0_basic</td>
<td>4.24 ms</td>
<td>8.46×</td>
<td>8.46×</td>
<td>124.40 days</td>
</tr>
<tr>
<td>1_indexed</td>
<td>1.03 ms</td>
<td>4.11×</td>
<td>34.78×</td>
<td>30.25 days</td>
</tr>
<tr>
<td>2_imap</td>
<td>180.52 μs</td>
<td>5.71×</td>
<td>198.60×</td>
<td>5.30 days</td>
</tr>
<tr>
<td>3_bchecks</td>
<td>156.23 μs</td>
<td>1.16×</td>
<td>229.47×</td>
<td>4.59 days</td>
</tr>
<tr>
<td>4_bitset</td>
<td>46.60 μs</td>
<td>3.35×</td>
<td>769.26×</td>
<td>1.37 days</td>
</tr>
<tr>
<td>5_simd</td>
<td>1.35 μs</td>
<td>34.40×</td>
<td>26,459.54×</td>
<td>57.26 min</td>
</tr>
<tr>
<td>6_alloc</td>
<td>1.09 μs</td>
<td>1.24×</td>
<td>32,940.02×</td>
<td>45.99 min</td>
</tr>
</tbody>
</table>
</div>
<p>The absolute speedup is summarized in Figure 1. Note that the y-axis
is on a log-scale!</p>
<figure>

<figcaption>
Performance trend of the inner loop.
</figcaption>
</figure>
<h2 id="parallelism">Parallelism</h2>
<p>At this point, we seem to have totally exhausted our avenues for
optimization. I actually can’t think of any other ways to make the inner
loop substantively faster — let me know if you have any ideas. But we’ve
left out one final, obvious trick: parallelism! This problem is
embarassingly parallel, so we can trivially parallelize the inner loop
over multiple cores. <a href="https://docs.rs/rayon/1.8.0/rayon/index.html">Rayon</a> makes this
a breeze:</p>
<div id="cb21"><pre><code><span id="cb21-1"><span>let</span> all_qs <span>=</span> questions<span>.</span>indices()<span>;</span></span>
<span id="cb21-2">all_qs<span>.</span>combinations(k)</span>
<span id="cb21-3">  <span>.</span>par_bridge()</span>
<span id="cb21-4">  <span>.</span>map_init(</span>
<span id="cb21-5">    <span>||</span> (<span>vec!</span>[<span>0</span><span>.;</span> users<span>.</span>len()]<span>,</span> <span>vec!</span>[<span>0</span><span>.;</span> users<span>.</span>len()]<span>,</span> <span>IndexSet::</span>new(<span>&amp;</span>users))<span>,</span></span>
<span id="cb21-6">    <span>|</span>(qs_totals<span>,</span> grand_totals<span>,</span> user_set)<span>,</span> qs<span>|</span> <span>{</span></span>
<span id="cb21-7">      <span>// same code as before</span></span>
<span id="cb21-8">    <span>}</span>)</span>
<span id="cb21-9">    <span>// same code as before</span></span></code></pre></div>
<p>The <code>par_bridge</code> method takes a serial iterator and
converts it into a parallel iterator. The <code>map_init</code> function
is a parallel map with thread-specific state, so we preserve our
allocation-free status.</p>
<p>We need a different benchmark to evaluate the outer loop. I used
Criterion to run the outer loop over 5,000,000 question combinations in
a single run with a given strategy. This is enough executions to reveal
differences in each outer loop without waiting weeks for the benchmark
to complete.</p>
<p>Running this benchmark with the serial strategy over the fastest
inner loop takes <strong>6.8 seconds</strong>. My Macbook Pro has 10
cores, so with Rayon we should expect to see close to a 10x speedup.
After benchmarking the parallel strategy, we get… <strong>4.2
seconds</strong> to complete 5,000,000 combinations. That’s only a 1.6x
speedup! Shameful!</p>
<h2 id="batching">Batching</h2>
<p>Let’s go back to the profile to investigate our lack of scaling:</p>
<p><img src="https://willcrichton.net/notes/k-corrset/img/profile-parallel.png"></p>
<p>Our threads are spending most of their time locking and unlocking a
mutex! There’s some kind of synchronization bottleneck. Indeed, if we
read the <a href="https://docs.rs/rayon/1.8.0/rayon/iter/trait.ParallelBridge.html"><code>par_bridge</code>
documentation</a> carefully, we’ll find a key sentence:</p>
<blockquote>
<p>Iterator items are pulled by <code>next()</code> one at a time,
synchronized from each thread that is ready for work, so this may become
a bottleneck if the serial iterator can’t keep up with the parallel
demand.</p>
</blockquote>
<p>It seems that the hand-off between the
<code>Itertools::combinations</code> iterator and the Rayon parallel
bridge is too slow. Given that we have a huge number of combinations, a
simple way to avoid this bottleneck is to increase the granularity of
task assignment. That is, we can batch together many question
combinations and pass them off to a thread all at once.</p>
<p>For this task, I defined a quick-and-dirty batching iterator that
uses an <a href="https://docs.rs/arrayvec/0.7.4/arrayvec/struct.ArrayVec.html"><code>ArrayVec</code></a>
to avoid allocation.</p>
<div id="cb22"><pre><code><span id="cb22-1"><span>pub</span> <span>struct</span> Batched<span>&lt;</span><span>const</span> N<span>:</span> <span>usize</span><span>,</span> I<span>:</span> <span>Iterator</span><span>&gt;</span> <span>{</span></span>
<span id="cb22-2">  iter<span>:</span> I<span>,</span></span>
<span id="cb22-3"><span>}</span></span>
<span id="cb22-4"></span>
<span id="cb22-5"><span>impl</span><span>&lt;</span><span>const</span> N<span>:</span> <span>usize</span><span>,</span> I<span>:</span> <span>Iterator</span><span>&gt;</span> <span>Iterator</span> <span>for</span> Batched<span>&lt;</span>N<span>,</span> I<span>&gt;</span> <span>{</span></span>
<span id="cb22-6">  <span>type</span> Item <span>=</span> ArrayVec<span>&lt;</span><span>I::</span>Item<span>,</span> N<span>&gt;;</span></span>
<span id="cb22-7"></span>
<span id="cb22-8">  <span>#[</span>inline<span>]</span></span>
<span id="cb22-9">  <span>fn</span> next(<span>&amp;</span><span>mut</span> <span>self</span>) <span>-&gt;</span> <span>Option</span><span>&lt;</span><span>Self</span><span>::</span>Item<span>&gt;</span> <span>{</span></span>
<span id="cb22-10">    <span>let</span> batch <span>=</span> <span>ArrayVec::</span>from_iter((<span>&amp;</span><span>mut</span> <span>self</span><span>.</span>iter)<span>.</span>take(N))<span>;</span></span>
<span id="cb22-11">    (<span>!</span>batch<span>.</span>is_empty())<span>.</span>then_some(batch)</span>
<span id="cb22-12">  <span>}</span></span>
<span id="cb22-13"><span>}</span></span></code></pre></div>
<p>Then we modify our outer loop by batching the combinations iterator,
and modify the inner loop to flatten each batch:</p>
<div id="cb23"><pre><code><span id="cb23-1"><span>let</span> all_qs <span>=</span> questions<span>.</span>indices()<span>;</span></span>
<span id="cb23-2">all_qs<span>.</span>combinations(k)</span>
<span id="cb23-3">  <span>.</span><span>batched::</span><span>&lt;</span><span>1024</span><span>&gt;</span>()</span>
<span id="cb23-4">  <span>.</span>par_bridge()</span>
<span id="cb23-5">  <span>.</span>map_init(</span>
<span id="cb23-6">    <span>||</span> (<span>vec!</span>[<span>0</span><span>.;</span> users<span>.</span>len()]<span>,</span> <span>vec!</span>[<span>0</span><span>.;</span> users<span>.</span>len()]<span>,</span> <span>IndexSet::</span>new(<span>&amp;</span>users))<span>,</span></span>
<span id="cb23-7">    <span>|</span>(qs_totals<span>,</span> grand_totals<span>,</span> user_set)<span>,</span> qs_batch<span>|</span> <span>{</span></span>
<span id="cb23-8">      qs_batch</span>
<span id="cb23-9">        <span>.</span>into_iter()</span>
<span id="cb23-10">        <span>.</span>filter_map(<span>|</span>qs<span>|</span> <span>{</span></span>
<span id="cb23-11">          <span>// same code as before</span></span>
<span id="cb23-12">        <span>}</span>)</span>
<span id="cb23-13">        <span>.</span>collect_vec()</span>
<span id="cb23-14">    <span>}</span>)</span>
<span id="cb23-15">    <span>.</span>flatten()</span>
<span id="cb23-16">    <span>// same code as before</span></span></code></pre></div>
<p>Running the outer-loop benchmark again, the chunking iterator now
completes 5,000,000 combinations in <strong>982 milliseconds</strong>.
This is a 6.9x speedup over the serial approach, which is much better
for our 10-core machine. Ideally we would get closer to 10x, but I think
this post is long enough. In summary, our outer loop runtime numbers are
in Table <a href="#tbl:outer-loop">2</a>.</p>
<div id="tbl:outer-loop">
<table>
<caption>Table 2: Performance numbers for the outer loop.</caption>
<colgroup>
<col>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th>Level</th>
<th>Runtime</th>
<th>Speedup over previous level</th>
<th>Speedup over Python</th>
<th>Est. completion time</th>
</tr>
</thead>
<tbody>
<tr>
<td>0_serial</td>
<td>6.80 s</td>
<td></td>
<td>26,342.63×</td>
<td>57.51 min</td>
</tr>
<tr>
<td>1_parallel</td>
<td>4.22 s</td>
<td>1.61×</td>
<td>42,439.31×</td>
<td>35.70 min</td>
</tr>
<tr>
<td>2_batched</td>
<td>982.46 ms</td>
<td>4.30×</td>
<td>182,450.94×</td>
<td>8.30 min</td>
</tr>
</tbody>
</table>
</div>
<h2 id="conclusion">Conclusion</h2>
<p>So how far did we come? The original Python program was going to take
2.9 years to complete at k=5. Our final Rust program only takes
<strong>8 minutes</strong> on the same dataset. That is roughly a
<strong>180,000x speedup</strong>. A summary of the key
optimizations:</p>
<ul>
<li>Use Rust’s compiler optimizations.</li>
<li>Hash numbers instead of strings.</li>
<li>Use (indexed) vectors instead of hashmaps.</li>
<li>Use bit-sets for efficient membership tests.</li>
<li>Use SIMD for efficient bit-sets.</li>
<li>Use multi-threading to split the work over many cores.</li>
<li>Use batching to avoid a bottleneck at work distribution.</li>
</ul>
<p>Can we do better? Let’s take one last look at the profile:</p>
<p><img src="https://willcrichton.net/notes/k-corrset/img/profile-batched.png"></p>
<p>We’re spending 38% of our time in the bit-set iterator, and 36% of
our time in the bit-set intersection. Another 12% in copying the initial
bit-set for a given set of questions. And a long tail of other
operations like computing the correlation.</p>
<p>I tried my best to make the SIMD bit-set implementation fast, so I
don’t know of a way to improve these numbers. We might find another +10%
speedup from careful tweaking of the various constants (lane size, batch
size, etc.), but I don’t think there’s another order of magnitude left
on the table. If you know of a way, I invite you to try it out:<br> <a href="https://github.com/willcrichton/corrset-benchmark">https://github.com/willcrichton/corrset-benchmark</a></p>
<p>Also if you know of an analytic solution to this problem, i.e., a
smarter way to get an optimal answer without brute force, do let me know
as well! Otherwise, I hope you learned a bit about performance
engineering in Rust.</p>

</div>]]></description>
        </item>
        <item>
            <title><![CDATA[Pushing devs for lower estimates is like asking a meteorologist for sunshine (366 pts)]]></title>
            <link>https://smartguess.is/blog/your-estimate-is-less-than-that/</link>
            <guid>37964153</guid>
            <pubDate>Sat, 21 Oct 2023 04:43:25 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://smartguess.is/blog/your-estimate-is-less-than-that/">https://smartguess.is/blog/your-estimate-is-less-than-that/</a>, See on <a href="https://news.ycombinator.com/item?id=37964153">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><div><ul><li><i></i>2022-01-15</li></ul></div><h2>'No, it's less effort than that!'</h2>
<blockquote>
<p>There is back-and-forth as the estimates are questioned for being too high, almost never for being too low.</p>
</blockquote>
<p>Often stakeholders outside of the development team, with limited technical know-how or insights into the codebase, question team estimates, saying something like <em>'No, it's less effort than that!'</em>. Their purpose is to push the team to give a 'better' estimate. Note that 'better' in this case means a lower estimate. The problem with going down this path and taking part in these discussions is diminished trust and further issues down the line:</p>
<blockquote>
<p>Finally, an agreed-upon estimate is provided with much grumbling. Most of the time, nobody is happy; everybody feels compromised. The most important stakeholder, the business, is especially compromised as a bad expectation was set on when the software will be delivered to the customer.</p>
</blockquote>
<p>Both quotes are from the article <a href="https://iism.org/article/is-tasking-developers-with-creating-detailed-estimates-a-waste-of-company-money-42">Is tasking developers with creating detailed estimates a waste of money?</a></p>
<p>In this post, I will share how it's a mistake for external stakeholders to push for a lower estimate without new facts impacting the effort. In addition, I will share how development teams can move their stakeholder dialogue into a much more productive discussion.</p>
<h2>Does pushing for lower estimates make sense?</h2>
<blockquote>
<p>No, it's less effort than that</p>
</blockquote>
<p>Statements pushing for a lower estimate can be valid, especially when discussing a story with a colleague in your team and when it's backed up with facts.</p>
<p>However, if the stakeholder making this claim is not part of the development team and doesn't know what needs to happen when implementing the story and doesn't bring any new facts, then making this claim is like starting a conversation with a meteorologist saying:</p>
<blockquote>
<p>Hey meteorologist, the weather forecast for tomorrow will not be this bad!</p>
</blockquote>
<p>Let's cover why this is so and how to move the discussion forward!</p>
<h3>Pushing for a lower estimate is like negotiating better weather with the meteorologist!</h3>
<p>The fact is the meteorologist <em>doesn't control the weather</em>. The meteorologist uses his knowledge and observing data to forecast how the weather will be.</p>
<p>In the same way, the development team <em>doesn't control</em> the actual effort - only by a tiny part. The development team is using their knowledge and data to forecast expected effort. They use established team velocity, review data on complete stories, and continuously improve their process every sprint.</p>
<p>What do I mean by saying <em>only by a tiny part?</em> The team can skip parts of their process and deliver lower-quality software. Not a recommended practice, as often teams pay more later when using this strategy. Also, the team has ways to improve the velocity. However, teams need to base estimates on their current throughput and not expected future throughput when giving an estimate. In other words, the team has minimal control over its effort to implement a fixed set of functionality.</p>
<p>Next time, when someone starts a conversation about your team's estimate, pushing for a lower estimate without any new insights that will lower the effort, ask them:</p>
<blockquote>
<p>do you ever tell the meteorologist it isn't going to be this bad weather tomorrow?</p>
</blockquote>
<p>Because negotiating an estimate is like negotiating better weather with the meteorologist. It doesn't make any sense. However, there is a better discussion to have.</p>
<h3>The discussion you need to have instead</h3>
<p>Building software is complicated often takes more time than people think, and therefore, stakeholders often expect lower effort and can't rationalize spending more than a specific amount. What then?</p>
<p>In these cases, discuss with your stakeholders:</p>
<ol>
<li>why the estimated effort is this much?</li>
<li>what part of the story takes the most time?</li>
<li>where are the biggest unknowns?</li>
</ol>
<p>In addition, discuss ways to:</p>
<ol>
<li>slice up the story and deliver it in multiple parts</li>
<li>validate each part early, preferably using prototypes</li>
</ol>
<p>In addition, find ways to leave parts of the story out, especially the features that require lots of effort and have the least value.</p>
<p>This approach makes sense because research shows that a large part of software functionality built is rarely used. Therefore, it's critical to "get out of the building" and talk to the actual users using the software. Because it's often the case, stakeholders base their thoughts on opinions rather than actual data or discussions with users. As Steve Blank often says:</p>
<blockquote>
<p>No facts exist inside the building, only opinions</p>
</blockquote><div><p><img alt="" src="https://res.cloudinary.com/smartguess/image/upload/c_fill,w_856/Steve_Blank_No_Facts_Exist_Inside_The_Building_png_1121356a63?_a=ATAPpFA0"></p></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Pigging (196 pts)]]></title>
            <link>https://en.wikipedia.org/wiki/Pigging</link>
            <guid>37964095</guid>
            <pubDate>Sat, 21 Oct 2023 04:31:01 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://en.wikipedia.org/wiki/Pigging">https://en.wikipedia.org/wiki/Pigging</a>, See on <a href="https://news.ycombinator.com/item?id=37964095">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="mw-content-text" lang="en" dir="ltr">
<p>Not to be confused with <a href="https://en.wikipedia.org/wiki/Pegging_(disambiguation)" title="Pegging (disambiguation)">Pegging</a>.</p>
<figure typeof="mw:File/Thumb"><a href="https://en.wikipedia.org/wiki/File:NWO-MolchPlastik2.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/NWO-MolchPlastik2.jpg/220px-NWO-MolchPlastik2.jpg" decoding="async" width="220" height="293" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/NWO-MolchPlastik2.jpg/330px-NWO-MolchPlastik2.jpg 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/NWO-MolchPlastik2.jpg/440px-NWO-MolchPlastik2.jpg 2x" data-file-width="1200" data-file-height="1600"></a><figcaption>A cleaning pig for a 710-millimetre (28&nbsp;in) oil pipeline. The blue plastic disks seal against the inside of the pipe to propel the device and to remove loose <a href="https://en.wikipedia.org/wiki/Sedimentation" title="Sedimentation">sedimentation</a> or <a href="https://en.wikipedia.org/wiki/Fouling" title="Fouling">scale buildup</a>. The black rectangles at the top and the circular disks in the center are magnets to attract and remove any loose metal objects in the pipe.</figcaption></figure>
<figure typeof="mw:File/Thumb"><a href="https://en.wikipedia.org/wiki/File:NWO-MolchRisspruef.JPG"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d2/NWO-MolchRisspruef.JPG/220px-NWO-MolchRisspruef.JPG" decoding="async" width="220" height="150" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d2/NWO-MolchRisspruef.JPG/330px-NWO-MolchRisspruef.JPG 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/d/d2/NWO-MolchRisspruef.JPG/440px-NWO-MolchRisspruef.JPG 2x" data-file-width="1690" data-file-height="1155"></a><figcaption>An <a href="https://en.wikipedia.org/wiki/Ultrasonic_testing" title="Ultrasonic testing">ultrasonic</a> leak-detection pig.</figcaption></figure>
<figure typeof="mw:File/Thumb"><a href="https://en.wikipedia.org/wiki/File:Six_inch_pipeline_pig.JPG"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/22/Six_inch_pipeline_pig.JPG/220px-Six_inch_pipeline_pig.JPG" decoding="async" width="220" height="317" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/2/22/Six_inch_pipeline_pig.JPG/330px-Six_inch_pipeline_pig.JPG 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/2/22/Six_inch_pipeline_pig.JPG/440px-Six_inch_pipeline_pig.JPG 2x" data-file-width="974" data-file-height="1402"></a><figcaption>A cleaning pig for a 150-millimetre (6&nbsp;in) oil pipeline. The wire brush encircles the shaft and scours the interior of the pipeline.</figcaption></figure>
<figure typeof="mw:File/Thumb"><a href="https://en.wikipedia.org/wiki/File:Trans-Alaska_Pipeline_System_Visitors_Center_Scraper_Pig.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f1/Trans-Alaska_Pipeline_System_Visitors_Center_Scraper_Pig.jpg/220px-Trans-Alaska_Pipeline_System_Visitors_Center_Scraper_Pig.jpg" decoding="async" width="220" height="293" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f1/Trans-Alaska_Pipeline_System_Visitors_Center_Scraper_Pig.jpg/330px-Trans-Alaska_Pipeline_System_Visitors_Center_Scraper_Pig.jpg 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/f/f1/Trans-Alaska_Pipeline_System_Visitors_Center_Scraper_Pig.jpg/440px-Trans-Alaska_Pipeline_System_Visitors_Center_Scraper_Pig.jpg 2x" data-file-width="3036" data-file-height="4048"></a><figcaption>A scraper pig shown at the <a href="https://en.wikipedia.org/wiki/Trans-Alaska_Pipeline_System" title="Trans-Alaska Pipeline System">Trans-Alaska Pipeline System</a> Visitors Center</figcaption></figure>
<p>In <a href="https://en.wikipedia.org/wiki/Pipeline_transport" title="Pipeline transport">pipeline transportation</a>, <b>pigging</b> is the practice of using pipeline inspection gauges or gadgets, devices generally referred to as <b>pigs</b> or <b>scrapers</b>, to perform various maintenance operations. This is done without stopping the flow of the product in the pipeline.<sup id="cite_ref-Schlumberger_1-0"><a href="#cite_note-Schlumberger-1">[1]</a></sup><sup id="cite_ref-2"><a href="#cite_note-2">[2]</a></sup><sup id="cite_ref-Abdel-Hafez_and_Chowdhury_2015_3-0"><a href="#cite_note-Abdel-Hafez_and_Chowdhury_2015-3">[3]</a></sup>
</p><p>These operations include but are not limited to cleaning and inspecting the pipeline. This is accomplished by inserting the pig into a "pig launcher" (or "launching station")—an oversized section in the pipeline, reducing to the normal diameter. The launching station is then closed and the pressure-driven flow of the product in the pipeline is used to push the pig along the pipe until it reaches the receiving trap—the "pig catcher" (or "receiving station").
</p>
<meta property="mw:PageProp/toc">
<h2><span id="Applications">Applications</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Pigging&amp;action=edit&amp;section=1" title="Edit section: Applications">edit</a><span>]</span></span></h2>
  
<p>Pigging is used to clean large diameter pipelines in the oil industry. Today, however, the use of smaller diameter pigging systems is now increasing in many continuous and batch process plants as plant operators search for increased efficiencies and reduced costs.
</p><p>Pigging can be used for almost any section of the transfer process between, for example, blending, storage or filling systems. Pigging systems are installed in industries handling products as diverse as lubricating oils, paints, chemicals, toiletries, cosmetics and foodstuffs.
</p><p>Pigs are used in lube oil or paint blending to clean the pipes to avoid cross-contamination, and to empty the pipes into the product tanks (or sometimes to send a component back to its tank). Usually pigging is done at the beginning and at the end of each batch, but sometimes it is done in the midst of a batch, such as when producing a premix that will be used as an intermediate component.
</p><p>Pigs are also used in oil and gas industries to clean or clear pipelines. Intelligent or "Smart pigs" used to inspect pipelines to assess their condition and to prevent leaks, which can be hazardous or harmful to the environment. They usually do not interrupt production, though some product can be lost when the pig is removed. They can also be used to separate different products in a multiproduct pipeline and to clear slugs of liquid  from multiphase gas//liquid pipelines.
</p><p>Pigging requires the pipeline to be designed to be pigged from the outset. If the pipeline contains topological variations including changes in diameter, <a href="https://en.wikipedia.org/wiki/Butterfly_valve" title="Butterfly valve">butterfly valves</a>, instrumentation, tight bends, pumps or reduced port ball valves, the pipeline cannot be traditionally pigged. In such instances, alternatives such as <a href="https://en.wikipedia.org/wiki/Ice_Pigging" title="Ice Pigging">Ice Pigging</a> may be employed.  Full port (or full bore) <a href="https://en.wikipedia.org/wiki/Ball_valve" title="Ball valve">ball valves</a> cause no problems because the inside diameter of the ball opening is the same as that of the pipe.
</p>
<h2><span id="Etymology">Etymology</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Pigging&amp;action=edit&amp;section=2" title="Edit section: Etymology">edit</a><span>]</span></span></h2>
<p>Some early cleaning "pigs" were made from straw bales wrapped in barbed wire<sup id="cite_ref-4"><a href="#cite_note-4">[4]</a></sup> while others used leather.<sup id="cite_ref-5"><a href="#cite_note-5">[5]</a></sup> Both made a squealing noise while traveling through the pipe, sounding to some like a <a href="https://en.wikipedia.org/wiki/Pig" title="Pig">pig</a> squealing,<sup id="cite_ref-6"><a href="#cite_note-6">[6]</a></sup> which gave pigs their name.<sup id="cite_ref-7"><a href="#cite_note-7">[7]</a></sup><sup id="cite_ref-8"><a href="#cite_note-8">[8]</a></sup>  
</p>
<h2><span id="In_production_environments">In production environments</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Pigging&amp;action=edit&amp;section=3" title="Edit section: In production environments">edit</a><span>]</span></span></h2>
<h3><span id="Product_and_time_saving">Product and time saving</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Pigging&amp;action=edit&amp;section=4" title="Edit section: Product and time saving">edit</a><span>]</span></span></h3>
<p>A major advantage  for multi-product pipelines of piggable systems is the potential of product savings. At the end of each product transfer, it is possible to segregate the next products using a pigging sphere. Alternatively it is possible to clear out the entire line contents with the pig, either forwards to the receipt point, or backwards to the source tank. There is no requirement for extensive line flushing.
</p><p>Without the need for line flushing, pigging offers the additional advantage of much more rapid and reliable product changeover. Product sampling at the receipt point is faster with pigs, because the interface between products is very clear; the old method of checking at intervals to determine where the product is on-specification takes considerably longer.
</p><p>Pigging can also be operated totally by a <a href="https://en.wikipedia.org/wiki/Programmable_logic_controller" title="Programmable logic controller">programmable logic controller</a> (PLC).
</p>
<h3><span id="Environmental_benefits">Environmental benefits</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Pigging&amp;action=edit&amp;section=5" title="Edit section: Environmental benefits">edit</a><span>]</span></span></h3>
<p>Pigging has a significant role to play in reducing the environmental impact of batch operations. Traditionally, the only way that an operator of a batch process could ensure a product was completely cleared from a line was to flush the line with a cleaning agent such as water or a solvent, or even with the next product. The cleaning agent then had to be subjected to effluent treatment or solvent recovery. If a product was used to clear the line, it was necessary to downgrade or dump the contaminated portion of the product. All of these problems can now be eliminated due to the very precise interface produced by modern pigging systems.
</p>
<h3><span id="Safety_considerations">Safety considerations</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Pigging&amp;action=edit&amp;section=6" title="Edit section: Safety considerations">edit</a><span>]</span></span></h3>
<p>Pigging systems are designed so that the pig is loaded into the launcher, which is pressured to launch the pig into the pipeline through a kicker line. In some cases, the pig is removed from the pipeline via the receiver at the end of each run.<sup id="cite_ref-9"><a href="#cite_note-9">[9]</a></sup> All systems must allow for the receipt of pigs at the launcher, as blockages in the pipeline may require the pigs to be pushed back to the launcher. Many systems are designed to pig the pipeline in either direction.
</p><p>The pig is pushed either with a gas or a liquid; if pushed by gas, some systems<sup id="cite_ref-10"><a href="#cite_note-10">[10]</a></sup> can be adapted in the gas inlet in order to ensure pig's constant speed, whatever the flow pressure is. The pigs must be removed, as many pigs are rented, pigs wear and must be replaced, and cleaning (and other) pigs push contaminants from the pipeline such as wax, foreign objects, hydrates, etc., which must be removed from the pipeline. There are inherent risks in opening the barrel to atmospheric pressure so care must be taken to ensure that the barrel is depressurized prior to opening. If the barrel is not completely depressurized, the pig can be ejected from the barrel and operators have been severely injured when standing in front of an open pig door. A pig was once accidentally shot out of the end of a pipeline without a proper pig receiver and went through the side of a house 150 metres (500&nbsp;ft) away.<sup id="cite_ref-11"><a href="#cite_note-11">[11]</a></sup> When the product is sour, the barrel should be evacuated to a flare system where the <a href="https://en.wikipedia.org/wiki/Sour_gas" title="Sour gas">sour gas</a> is burnt. Operators should wear a <a href="https://en.wikipedia.org/wiki/Self-contained_breathing_apparatus" title="Self-contained breathing apparatus">self-contained breathing apparatus</a> when working on sour systems.
</p><p>A few pigging systems utilize a "captive pig", and the pipeline is only opened occasionally to check the condition of the pig.<sup id="cite_ref-12"><a href="#cite_note-12">[12]</a></sup> At all other times, the pig is shuttled up and down the pipeline at the end of each transfer, and the pipeline is never opened up during process operation. These systems are not common.
</p>
<h3><span id="Pigging_operations">Pigging operations</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Pigging&amp;action=edit&amp;section=7" title="Edit section: Pigging operations">edit</a><span>]</span></span></h3>
<figure typeof="mw:File/Thumb"><a href="https://en.wikipedia.org/wiki/File:Pig_launcher.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/11/Pig_launcher.jpg/220px-Pig_launcher.jpg" decoding="async" width="220" height="93" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/1/11/Pig_launcher.jpg/330px-Pig_launcher.jpg 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/1/11/Pig_launcher.jpg/440px-Pig_launcher.jpg 2x" data-file-width="775" data-file-height="327"></a><figcaption>Pig launcher and associated plant</figcaption></figure>
<p>See diagram on the right representing a pig launcher. In normal operation valves V2 and V4 will be open, all other valves and the door are closed and locked.<sup id="cite_ref-13"><a href="#cite_note-13">[13]</a></sup>
</p><p>To <b>launch</b> a pig
</p>
<ul><li>Ensure pig launcher is drained and vented. Unlock and open, then close and relock the vent and drain valves.</li>
<li>Unlock and open door, load pig into launcher, close and lock door.</li>
<li>Unlock and open valves V1 and V3, to create a flow path through the launcher.</li>
<li>Partly close ‘kicker’ valve V2 to launch the pig.</li>
<li>The launch alarm XA will indicate when the pig has been launched.</li>
<li>Open valve V2 fully.</li>
<li>Close and lock valves V1 and V3.</li>
<li>Unlock and open vent and drain valves. Allow launcher to depressurise and drain.</li>
<li>Close and lock vent and drain valves.</li>
<li>Pig launcher is then ready for the next pig to launch.</li></ul>
<figure typeof="mw:File/Thumb"><a href="https://en.wikipedia.org/wiki/File:Pig_receiver.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b0/Pig_receiver.jpg/220px-Pig_receiver.jpg" decoding="async" width="220" height="91" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b0/Pig_receiver.jpg/330px-Pig_receiver.jpg 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/b/b0/Pig_receiver.jpg/440px-Pig_receiver.jpg 2x" data-file-width="685" data-file-height="283"></a><figcaption>Schematic of a pig receiver</figcaption></figure>
<p>See diagram on the right representing a pig receiver.
</p><p>To <b>receive</b> a pig
</p>
<ul><li>Unlock and open valves V1 and V3, to create a flow path through the pig receiver.</li>
<li>Partly close ‘kicker’ valve V2 to induce flow through the receiver.</li>
<li>The receive alarm XA will indicate when the pig has been received.</li>
<li>Open valve V2 fully.</li>
<li>Close and lock valves V1 and V3.</li>
<li>Unlock and open vent and drain valves to empty the receiver.</li>
<li>Close and lock vent and drain valves.</li>
<li>Unlock and open door, remove pig from receiver, close and lock door.</li>
<li>Pig receiver is then ready to receive the next pig.</li></ul>
<figure typeof="mw:File/Thumb"><a href="https://en.wikipedia.org/wiki/File:Pigging_station.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a1/Pigging_station.jpg/220px-Pigging_station.jpg" decoding="async" width="220" height="147" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a1/Pigging_station.jpg/330px-Pigging_station.jpg 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/a/a1/Pigging_station.jpg/440px-Pigging_station.jpg 2x" data-file-width="5040" data-file-height="3360"></a><figcaption>Pigging station</figcaption></figure>
<p>The pigging installation shown (right) is known as an Above Ground Installation (AGI). It is part of the UK's <a href="https://en.wikipedia.org/wiki/National_Transmission_System" title="National Transmission System">National Transmission System</a> for natural gas. It shows two pig launcher/ receivers. There are at the end of two 610-millimetre (24&nbsp;in) diameter pipelines that carry gas under the River Thames between East Tilbury Essex and Shorne in Kent. Should one pipeline be damaged, by a ship's anchor for example, that line can be isolated and the second pipeline allows gas to flow across the river.<sup id="cite_ref-14"><a href="#cite_note-14">[14]</a></sup> 
</p>
<h4><span id="Mechanical_interlocks">Mechanical interlocks</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Pigging&amp;action=edit&amp;section=8" title="Edit section: Mechanical interlocks">edit</a><span>]</span></span></h4>
<p>There are many reports of incidents in which operators have been injured or even killed while performing a pigging operation. Common causes of such events are:
</p>
<ul><li>opening of the closure door while the vessel is still pressurized;</li>
<li>opening of the main process valve while the closure door is not fully closed;</li>
<li>opening of the closure door while a high concentration of H₂S or other toxins remains inside the vessel;</li>
<li>the vent valve remaining open while the vessel is being pressurized with its medium.</li></ul>
<p>All these causes are directly related to improper operation of the process valves and the closure door. A common method of avoiding these kinds of incidents is to add valve interlocks,<sup id="cite_ref-15"><a href="#cite_note-15">[15]</a></sup> which has been adopted by all global oil and gas operating companies.<sup>[<i><a href="https://en.wikipedia.org/wiki/Wikipedia:Citation_needed" title="Wikipedia:Citation needed"><span title="This claim needs references to reliable sources. (May 2018)">citation needed</span></a></i>]</sup>
</p><p>Safety during pigging relies on strict adherence to safety procedures, which give detailed description of a safe valve operating sequence. By physically blocking incorrect operations, valve interlocks enforce such sequences. Valve interlocks are permanently mounted to both manual and motor operated valves and the closure door. The interlocks block operation of a valve or door, unless the appropriate keys are inserted.
</p><p>The principle of valve interlocking is the transfer of keys. Each lock is equipped with two keys: a key for the locked open position and one for the locked closed position. During an operating procedure, only one key at a time is free. This key only fits in the interlock belonging to the valve that is to be operated next in the operating procedure. All keys are uniquely coded to avoid the possibility that valves can be unlocked at an inappropriate time.
</p><p>Nowadays intelligent interlocking solutions enable the integration of field devices like pressure or H<sub>2</sub>S meters in a valve interlocking sequence. This increases safety by integrating operator procedures<sup id="cite_ref-16"><a href="#cite_note-16">[16]</a></sup> with <a href="https://en.wikipedia.org/wiki/Distributed_Control_System" title="Distributed Control System">DCS</a> and <a href="https://en.wikipedia.org/wiki/Safety_Instrumented_System" title="Safety Instrumented System">SIS</a> safety systems.
</p>
<h2><span id="Types_of_pigs">Types of pigs</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Pigging&amp;action=edit&amp;section=9" title="Edit section: Types of pigs">edit</a><span>]</span></span></h2>
<figure typeof="mw:File/Thumb"><a href="https://en.wikipedia.org/wiki/File:PipelinePIG.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/PipelinePIG.jpg/220px-PipelinePIG.jpg" decoding="async" width="220" height="147" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/PipelinePIG.jpg/330px-PipelinePIG.jpg 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/PipelinePIG.jpg/440px-PipelinePIG.jpg 2x" data-file-width="3872" data-file-height="2592"></a><figcaption>A pig on display in a section of cutaway pipe, from the <a href="https://en.wikipedia.org/wiki/Trans-Alaska_Pipeline_System" title="Trans-Alaska Pipeline System">Alaska Pipeline</a></figcaption></figure>
<figure typeof="mw:File/Thumb"><a href="https://en.wikipedia.org/wiki/File:Pipeline_device.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/64/Pipeline_device.jpg/220px-Pipeline_device.jpg" decoding="async" width="220" height="147" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/6/64/Pipeline_device.jpg/330px-Pipeline_device.jpg 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/6/64/Pipeline_device.jpg/440px-Pipeline_device.jpg 2x" data-file-width="1537" data-file-height="1030"></a><figcaption>A pig launcher/receiver on a natural gas pipeline in Switzerland.</figcaption></figure>
<figure typeof="mw:File/Thumb"><a href="https://en.wikipedia.org/wiki/File:Smart_pig.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Smart_pig.jpg/220px-Smart_pig.jpg" decoding="async" width="220" height="164" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Smart_pig.jpg/330px-Smart_pig.jpg 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Smart_pig.jpg/440px-Smart_pig.jpg 2x" data-file-width="2592" data-file-height="1936"></a><figcaption>An intelligent pig being transported</figcaption></figure>
<figure typeof="mw:File/Thumb"><a href="https://en.wikipedia.org/wiki/File:Smart_pig_install.jpg"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/67/Smart_pig_install.jpg/220px-Smart_pig_install.jpg" decoding="async" width="220" height="164" srcset="https://upload.wikimedia.org/wikipedia/commons/thumb/6/67/Smart_pig_install.jpg/330px-Smart_pig_install.jpg 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/6/67/Smart_pig_install.jpg/440px-Smart_pig_install.jpg 2x" data-file-width="2592" data-file-height="1936"></a><figcaption>Installation of an intelligent pig</figcaption></figure>
<h3><span id="Gauging.2C_separation_and_cleaning_pigs"></span><span id="Gauging,_separation_and_cleaning_pigs">Gauging, separation and cleaning pigs</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Pigging&amp;action=edit&amp;section=10" title="Edit section: Gauging, separation and cleaning pigs">edit</a><span>]</span></span></h3>
<p>A "pig" is a tool that is sent down a pipeline and propelled by the <a href="https://en.wikipedia.org/wiki/Pressure" title="Pressure">pressure</a> of the product flow in the pipeline itself. There are four main uses for pigs:
</p>
<ol><li>Physical separation between different fluids flowing through the pipeline</li>
<li>Internal cleaning of pipelines</li>
<li>Inspection of the condition of pipeline walls (also known as an <i>inline inspection</i> (ILI) tool)</li>
<li>Capturing and recording geometric information relating to pipelines (e.g., size, position).</li></ol>
<p>One of the most common and versatile is the foam pig which is cut or poured out of open cell <a href="https://en.wikipedia.org/wiki/Polyurethane" title="Polyurethane">polyurethane</a> foam into the shape of a bullet and is driven through pipelines for many reasons such as to prove the inner diameter of, clean, de-water, or dry out the line. There are several types of pigs for cleaning in various densities from 32 to 160 kilograms per cubic metre (2 to 10&nbsp;lb/cu&nbsp;ft) foam and in special applications up to 320&nbsp;kg/m<sup>3</sup> (20&nbsp;lb/cu&nbsp;ft). Some have <a href="https://en.wikipedia.org/wiki/Tungsten" title="Tungsten">tungsten</a> <a href="https://en.wikipedia.org/wiki/Screw#Differentiation_between_bolt_and_screw" title="Screw">studs</a> or abrasive wire mesh on the outside to cut <a href="https://en.wikipedia.org/wiki/Rust" title="Rust">rust</a>, <a href="https://en.wikipedia.org/wiki/Fouling" title="Fouling">scale</a>, or <a href="https://en.wikipedia.org/wiki/Paraffin_wax" title="Paraffin wax">paraffin wax</a> deposits off the inside of the pipe. Other types are fully or criss-cross coated in urethane, or there are bare polyurethane foam pigs with a urethane coating just on the rear to seal and assist in driving the pig. There are also fully molded urethane pigs used for liquid removal or batching several different products in one line.
</p><p><a href="https://en.wikipedia.org/w/index.php?title=Inline_inspection&amp;action=edit&amp;redlink=1" title="Inline inspection (page does not exist)">Inline inspection</a> pigs use various methods for inspecting a pipeline. A sizing pig uses one (or more) notched round metal plates as gauges. The notches allow different parts of the plate to bend when a bore restriction is encountered. More complex systems exist for inspecting various aspects of the pipeline.
</p>
<h3><span id="Intelligent_pig">Intelligent pig</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Pigging&amp;action=edit&amp;section=11" title="Edit section: Intelligent pig">edit</a><span>]</span></span></h3>
<p>Intelligent pigs are used to inspect the pipeline with sensors and record the data for later analysis. These pigs use technologies such as magnetic flux leakage (MFL) and <a href="https://en.wikipedia.org/wiki/Ultrasound" title="Ultrasound">ultrasound</a> to inspect the pipeline. Intelligent pigs may also use <a href="https://en.wikipedia.org/wiki/Caliper" title="Caliper">calipers</a> to measure the inside geometry of the pipeline.
</p><p>In 1961, the first intelligent pig was run by Shell Development. It demonstrated that a self-contained electronic instrument could traverse a pipeline while measuring and recording wall thickness. The instrument used electromagnetic fields to sense wall integrity. In 1964 Tuboscope ran the first commercial instrument. It used MFL technology to inspect the bottom portion of the pipeline. The system used a black box similar to those used on aircraft to record the information; it was basically a highly customized analog tape recorder. Until recently, tape recording (although digital) was still the preferred recording medium. As the capacity and reliability of <a href="https://en.wikipedia.org/wiki/Solid-state_electronics" title="Solid-state electronics">solid-state memory</a> improved, most recording media moved away from tape to solid-state.
</p><p>Capacitive sensor probes are used to detect defects in polyethylene pipe gas pipeline. These probes are attached to the pig before it is sent through the polyethylene pipe to detect any defects in the outside of the pipe wall. This is done by using a triple plate capacitive sensor in which electrostatic waves are propagated outward through the pipe's wall. Any change in dielectric material results in a change in capacitance.<sup id="cite_ref-17"><a href="#cite_note-17">[17]</a></sup> Testing was conducted by NETL DOE research lab at the Battelle West Jefferson's Pipeline Simulation Facility
(PSF) near Columbus, Ohio.<sup id="cite_ref-18"><a href="#cite_note-18">[18]</a></sup>
</p><p>Modern intelligent or "smart" pigs are highly sophisticated instruments that include electronics and sensors that collect various forms of data during their trip through the pipeline. They vary in technology and complexity depending on the intended use and the manufacturer.
</p><p>The electronics are sealed to prevent leakage of the pipeline product into the electronics since products can range from being highly basic to highly acidic and can be of extremely high pressure and temperature. Many pigs use specific materials according to the product in the pipeline. Power for the electronics is typically provided by onboard batteries which are also sealed. Data recording may be by various means ranging from analog tape, digital tape, or solid-state memory in more modern units.
</p><p>The technology used varies by the service required and the design of the pig; each pigging service provider may have unique and proprietary technologies to accomplish the service. Surface pitting and corrosion, as well as cracks and weld defects in steel/ferrous pipelines are often detected using <a href="https://en.wikipedia.org/wiki/Magnetic_flux_leakage" title="Magnetic flux leakage">magnetic flux leakage</a> (MFL) pigs. Other "smart" pigs use <a href="https://en.wikipedia.org/wiki/Electromagnetic_acoustic_transducer" title="Electromagnetic acoustic transducer">electromagnetic acoustic transducers</a> to detect pipe defects.<sup id="cite_ref-19"><a href="#cite_note-19">[19]</a></sup> Caliper pigs can measure the <a href="https://en.wikipedia.org/wiki/Roundness_(object)" title="Roundness (object)">roundness</a> of the pipeline to determine areas of crushing or other deformations. Some smart pigs use a combination of technologies, such as providing MFL and caliper functions in a single tool. Trials of pigs using <a href="https://en.wikipedia.org/wiki/Acoustic_resonance_technology" title="Acoustic resonance technology">acoustic resonance technology</a> have been reported.<sup id="cite_ref-20"><a href="#cite_note-20">[20]</a></sup>
</p><p>During the pigging run the pig is unable to directly communicate with the outside world due to the distance underground or underwater and/or the materials that the pipe is made of. For example, steel pipelines effectively prevent any significant radio communications outside the pipe. It is therefore necessary that the pig use internal means to record its own movement during the trip. This may be done by <a href="https://en.wikipedia.org/wiki/Odometer" title="Odometer">odometers</a>, gyroscope-assisted <a href="https://en.wikipedia.org/wiki/Tilt_sensor" title="Tilt sensor">tilt sensors</a> and other technologies.<sup id="cite_ref-21"><a href="#cite_note-21">[21]</a></sup> The pig records this positional data so that the distance it moves along with any bends can be interpreted later to determine the exact path taken.
</p>
<h4><span id="Location_verification">Location verification</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Pigging&amp;action=edit&amp;section=12" title="Edit section: Location verification">edit</a><span>]</span></span></h4>
<p>Location verification is often accomplished by surface instruments that record the pig's passage by either audible, magnetic, radio-transmission or other means. The sensors record when they detect the passage of the pig (time-of-arrival); this is then compared to the internal record for verification or adjustment. The external sensors may have <a href="https://en.wikipedia.org/wiki/Global_Positioning_System" title="Global Positioning System">Global Positioning System</a> capability<sup id="cite_ref-22"><a href="#cite_note-22">[22]</a></sup> to assist in their location. A few pig passage indicators transmit the pig's passage, time and location, via satellite uplink.<sup id="cite_ref-23"><a href="#cite_note-23">[23]</a></sup> The pig itself cannot use GPS as the metal pipe blocks satellite signals.
</p><p>After the pigging run has been completed, the positional data from the external sensors is combined with the pipeline evaluation data (corrosion, cracks, etc.) from the pig to provide a location-specific defect map and characterization. In other words, the combined data reveals to the operator the location, type and size of each pipe defect. This information is used to judge the severity of the defect and help repair crews locate and repair the defect quickly without having to dig up excessive amounts of pipeline. By evaluating the rate of change of a particular defect over several years, proactive plans can be made to repair the pipeline before any leakage or environmental damage occurs.
</p><p>The inspection results are typically archived (perhaps in <a href="https://en.wikipedia.org/wiki/Pipeline_Open_Data_Standard" title="Pipeline Open Data Standard">Pipeline Open Data Standard</a> format) for comparison with the results of later pigging runs on the same pipeline.
</p>
<h2><span id="In_popular_culture">In popular culture</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Pigging&amp;action=edit&amp;section=13" title="Edit section: In popular culture">edit</a><span>]</span></span></h2>

<p>A pig has been used as a plot device in three <a href="https://en.wikipedia.org/wiki/James_Bond" title="James Bond">James Bond</a> films: <i><a href="https://en.wikipedia.org/wiki/Diamonds_Are_Forever_(film)" title="Diamonds Are Forever (film)">Diamonds Are Forever</a></i>, where Bond disabled a pig to escape from a pipeline; <i><a href="https://en.wikipedia.org/wiki/The_Living_Daylights" title="The Living Daylights">The Living Daylights</a></i>, where a pig was modified to secretly transport a person through the <a href="https://en.wikipedia.org/wiki/Iron_Curtain" title="Iron Curtain">Iron Curtain</a>; and <i><a href="https://en.wikipedia.org/wiki/The_World_Is_Not_Enough" title="The World Is Not Enough">The World Is Not Enough</a></i>, where a pig was used to carry and detonate a nuclear weapon in a pipeline.
</p><p>A pig was also used as a plot device in the <a href="https://en.wikipedia.org/wiki/Tony_Hillerman" title="Tony Hillerman">Tony Hillerman</a> book <i><a href="https://en.wikipedia.org/wiki/The_Sinister_Pig" title="The Sinister Pig">The Sinister Pig</a></i> where an abandoned pipeline from Mexico to the United States was used with a pig to transport illegal drugs.
</p><p>A pig launcher was featured in the season 2 episode "Pipeline Fever" of the animated show <i><a href="https://en.wikipedia.org/wiki/Archer_(2009_TV_series)" title="Archer (2009 TV series)">Archer</a></i>, wherein <a href="https://en.wikipedia.org/wiki/Sterling_Archer" title="Sterling Archer">Sterling Archer</a> and <a href="https://en.wikipedia.org/wiki/List_of_Archer_characters#Lana_Kane" title="List of Archer characters">Lana Kane</a> are tasked with going into a swamp and defending a pig launcher from radical environmentalist Joshua Gray.
</p>
<h2><span id="See_also">See also</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Pigging&amp;action=edit&amp;section=14" title="Edit section: See also">edit</a><span>]</span></span></h2>
<ul><li><a href="https://en.wikipedia.org/wiki/Guided_wave_testing" title="Guided wave testing">Guided wave testing</a>, for <a href="https://en.wikipedia.org/wiki/Nondestructive_testing" title="Nondestructive testing">nondestructive testing</a> of a pipeline</li>
<li><a href="https://en.wikipedia.org/wiki/Hydraulically_activated_pipeline_pigging" title="Hydraulically activated pipeline pigging">Hydraulically activated pipeline pigging</a></li>
<li><a href="https://en.wikipedia.org/wiki/Ice_pigging" title="Ice pigging">Ice pigging</a>, a method of pipe cleaning using ice slurry instead of a solid pig</li>
<li><a href="https://en.wikipedia.org/wiki/Pipeline_transport" title="Pipeline transport">Pipeline transport</a>&nbsp;– Pumping fluids or gas through pipes</li>
<li><a href="https://en.wikipedia.org/wiki/Pipeline_video_inspection" title="Pipeline video inspection">Pipeline video inspection</a></li>
<li><a href="https://en.wikipedia.org/wiki/Robotic_non-destructive_testing" title="Robotic non-destructive testing">Robotic non-destructive testing</a>&nbsp;– Method of inspection using remotely operated tools</li></ul>
<h2><span id="References">References</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Pigging&amp;action=edit&amp;section=15" title="Edit section: References">edit</a><span>]</span></span></h2>
<div><ol>
<li id="cite_note-Schlumberger-1"><span><b><a href="#cite_ref-Schlumberger_1-0">^</a></b></span> <span><cite><a rel="nofollow" href="https://www.products.slb.com/resource-library/article/valve-academy/how-it-works-pipeline-pigging">"How It Works: Pipeline Pigging"</a>. <i>www.products.slb.com</i>. Schlumberger<span>. Retrieved <span>10 April</span> 2020</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=unknown&amp;rft.jtitle=www.products.slb.com&amp;rft.atitle=How+It+Works%3A+Pipeline+Pigging&amp;rft_id=https%3A%2F%2Fwww.products.slb.com%2Fresource-library%2Farticle%2Fvalve-academy%2Fhow-it-works-pipeline-pigging&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3APigging"></span></span>
</li>
<li id="cite_note-2"><span><b><a href="#cite_ref-2">^</a></b></span> <span><cite><a rel="nofollow" href="https://engineeredpower.com/pig/">"Pipeline Inspection Gauge ( PIG )"</a>. <i>engineeredpower.com</i><span>. Retrieved <span>10 April</span> 2020</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=unknown&amp;rft.jtitle=engineeredpower.com&amp;rft.atitle=Pipeline+Inspection+Gauge+%28+PIG+%29&amp;rft_id=https%3A%2F%2Fengineeredpower.com%2Fpig%2F&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3APigging"></span></span>
</li>
<li id="cite_note-Abdel-Hafez_and_Chowdhury_2015-3"><span><b><a href="#cite_ref-Abdel-Hafez_and_Chowdhury_2015_3-0">^</a></b></span> <span><cite id="CITEREFAbdel-HafezChowdhury2015">Abdel-Hafez, Mamoun; Chowdhury, Sheruzzaman (2015). <a rel="nofollow" href="https://www.researchgate.net/publication/282510297">"Pipeline Inspection Gauge Position Estimation Using Inertial Measurement Unit, Odometer, and a Set of Reference Stations"</a>. <i>ASCE-ASME Journal of Risk and Uncertainty in Engineering Systems, Part B: Mechanical Engineering</i>. <b>2</b> (2). <a href="https://en.wikipedia.org/wiki/Doi_(identifier)" title="Doi (identifier)">doi</a>:<a rel="nofollow" href="https://doi.org/10.1115%2F1.4030945">10.1115/1.4030945</a>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=article&amp;rft.jtitle=ASCE-ASME+Journal+of+Risk+and+Uncertainty+in+Engineering+Systems%2C+Part+B%3A+Mechanical+Engineering&amp;rft.atitle=Pipeline+Inspection+Gauge+Position+Estimation+Using+Inertial+Measurement+Unit%2C+Odometer%2C+and+a+Set+of+Reference+Stations&amp;rft.volume=2&amp;rft.issue=2&amp;rft.date=2015&amp;rft_id=info%3Adoi%2F10.1115%2F1.4030945&amp;rft.aulast=Abdel-Hafez&amp;rft.aufirst=Mamoun&amp;rft.au=Chowdhury%2C+Sheruzzaman&amp;rft_id=https%3A%2F%2Fwww.researchgate.net%2Fpublication%2F282510297&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3APigging"></span></span>
</li>
<li id="cite_note-4"><span><b><a href="#cite_ref-4">^</a></b></span> <span><cite><a rel="nofollow" href="http://www.engineeringnews.co.za/article/pigs-play-crucial-role-in-pipeline-maintenance-2005-09-09/rep_id:4715/company:fluor-2016-07-04">"<span></span>'Pigs' play crucial role in pipeline maintenance"</a>. <i>Creamer Media Engineering News</i><span>. Retrieved <span>21 November</span> 2017</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=unknown&amp;rft.jtitle=Creamer+Media+Engineering+News&amp;rft.atitle=%27Pigs%27+play+crucial+role+in+pipeline+maintenance&amp;rft_id=http%3A%2F%2Fwww.engineeringnews.co.za%2Farticle%2Fpigs-play-crucial-role-in-pipeline-maintenance-2005-09-09%2Frep_id%3A4715%2Fcompany%3Afluor-2016-07-04&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3APigging"></span></span>
</li>
<li id="cite_note-5"><span><b><a href="#cite_ref-5">^</a></b></span> <span><cite><a rel="nofollow" href="http://www.rigzone.com/training/insight.asp?insight_id=310">"How Does Pipeline Pigging Work?"</a>. <i>rigzone.com</i><span>. Retrieved <span>21 November</span> 2017</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=unknown&amp;rft.jtitle=rigzone.com&amp;rft.atitle=How+Does+Pipeline+Pigging+Work%3F&amp;rft_id=http%3A%2F%2Fwww.rigzone.com%2Ftraining%2Finsight.asp%3Finsight_id%3D310&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3APigging"></span></span>
</li>
<li id="cite_note-6"><span><b><a href="#cite_ref-6">^</a></b></span> <span><cite><a rel="nofollow" href="https://www.npr.org/templates/story/story.php?storyId=5627707">"That's Some Smart Pig in the Pipeline"</a>. <i>NPR.org</i><span>. Retrieved <span>21 November</span> 2017</span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=article&amp;rft.jtitle=NPR.org&amp;rft.atitle=That%27s+Some+Smart+Pig+in+the+Pipeline&amp;rft_id=https%3A%2F%2Fwww.npr.org%2Ftemplates%2Fstory%2Fstory.php%3FstoryId%3D5627707&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3APigging"></span></span>
</li>
<li id="cite_note-7"><span><b><a href="#cite_ref-7">^</a></b></span> <span><cite><a rel="nofollow" href="http://www.rigzone.com/training/insight.asp?insight_id=310&amp;c_id=19">"How Does Pipeline Pigging Work?"</a>. RIGGZONE.com<span>. Retrieved <span>2010-10-19</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=How+Does+Pipeline+Pigging+Work%3F&amp;rft.pub=RIGGZONE.com&amp;rft_id=http%3A%2F%2Fwww.rigzone.com%2Ftraining%2Finsight.asp%3Finsight_id%3D310%26c_id%3D19&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3APigging"></span></span>
</li>
<li id="cite_note-8"><span><b><a href="#cite_ref-8">^</a></b></span> <span><cite><a rel="nofollow" href="https://web.archive.org/web/20201014052030/https://www.pipelinesinternational.com/2020/08/06/reaching-100-years-in-the-pipeline/">"Reaching 100 years in the pipeline"</a>. <i>Pipelines International</i>. August 6, 2020. Archived from <a rel="nofollow" href="https://www.pipelinesinternational.com/2020/08/06/reaching-100-years-in-the-pipeline/">the original</a> on 2020-10-14<span>. Retrieved <span>2020-10-08</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=unknown&amp;rft.jtitle=Pipelines+International&amp;rft.atitle=Reaching+100+years+in+the+pipeline&amp;rft.date=2020-08-06&amp;rft_id=https%3A%2F%2Fwww.pipelinesinternational.com%2F2020%2F08%2F06%2Freaching-100-years-in-the-pipeline%2F&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3APigging"></span></span>
</li>
<li id="cite_note-9"><span><b><a href="#cite_ref-9">^</a></b></span> <span><a rel="nofollow" href="http://www.pipingtech.com/products/miscellaneous-fabricated-supports.htm">Miscellaneous Fabricated Supports</a> Piping Technology &amp; Products, (retrieved May 2012)</span>
</li>
<li id="cite_note-10"><span><b><a href="#cite_ref-10">^</a></b></span> <span><cite><a rel="nofollow" href="http://servinox.com/wordpress/index.php/systeme-de-raclage/?lang=en">"SERVINOX pig speed regulation unit"</a>. servinox.com<span>. Retrieved <span>2011-01-12</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=SERVINOX+pig+speed+regulation+unit&amp;rft.pub=servinox.com&amp;rft_id=http%3A%2F%2Fservinox.com%2Fwordpress%2Findex.php%2Fsysteme-de-raclage%2F%3Flang%3Den&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3APigging"></span></span>
</li>
<li id="cite_note-11"><span><b><a href="#cite_ref-11">^</a></b></span> <span><cite id="CITEREFShipp">Shipp, Brett. <a rel="nofollow" href="https://web.archive.org/web/20120829030105/http://www.wfaa.com/news/investigates/Pipeline-Flying-Pig-crashes-through-Grand-Prairie-home-105387413.html">"Pipeline 'pig' crashes through Grand Prairie home"</a>. WFAA. Archived from <a rel="nofollow" href="http://www.wfaa.com/news/investigates/Pipeline-Flying-Pig-crashes-through-Grand-Prairie-home-105387413.html">the original</a> on 2012-08-29.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Pipeline+%27pig%27+crashes+through+Grand+Prairie+home&amp;rft.pub=WFAA&amp;rft.aulast=Shipp&amp;rft.aufirst=Brett&amp;rft_id=http%3A%2F%2Fwww.wfaa.com%2Fnews%2Finvestigates%2FPipeline-Flying-Pig-crashes-through-Grand-Prairie-home-105387413.html&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3APigging"></span></span>
</li>
<li id="cite_note-12"><span><b><a href="#cite_ref-12">^</a></b></span> <span><cite><a rel="nofollow" href="https://web.archive.org/web/20100413114933/http://www.piggingsystems.com/pigs.html">"I.S.T. Molchtechnik GmbH"</a>. Piggingsystems.com. Archived from <a rel="nofollow" href="http://www.piggingsystems.com/pigs.html">the original</a> on 2010-04-13<span>. Retrieved <span>2010-04-14</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=I.S.T.+Molchtechnik+GmbH&amp;rft.pub=Piggingsystems.com&amp;rft_id=http%3A%2F%2Fwww.piggingsystems.com%2Fpigs.html&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3APigging"></span></span>
</li>
<li id="cite_note-13"><span><b><a href="#cite_ref-13">^</a></b></span> <span>Adapted from Amoco  P&amp;ID of pig launcher and Operating Manual 1988</span>
</li>
<li id="cite_note-14"><span><b><a href="#cite_ref-14">^</a></b></span> <span><cite><a rel="nofollow" href="https://www.google.com/maps/d/viewer?mid=1H3qFrNgSMKHjl7wIvEMwoWhbD6I&amp;hl=en_US&amp;ll=51.455460914997275%2C0.43466088854493545&amp;z=15">"NTS"</a>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=NTS&amp;rft_id=https%3A%2F%2Fwww.google.com%2Fmaps%2Fd%2Fviewer%3Fmid%3D1H3qFrNgSMKHjl7wIvEMwoWhbD6I%26hl%3Den_US%26ll%3D51.455460914997275%252C0.43466088854493545%26z%3D15&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3APigging"></span></span>
</li>
<li id="cite_note-15"><span><b><a href="#cite_ref-15">^</a></b></span> <span><cite><a rel="nofollow" href="https://www.netherlocks.com/products/process-interlocking/">"Process interlocking"</a>. <i>Netherlocks</i><span>. Retrieved <span>2020-10-08</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=unknown&amp;rft.jtitle=Netherlocks&amp;rft.atitle=Process+interlocking&amp;rft_id=https%3A%2F%2Fwww.netherlocks.com%2Fproducts%2Fprocess-interlocking%2F&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3APigging"></span></span>
</li>
<li id="cite_note-16"><span><b><a href="#cite_ref-16">^</a></b></span> <span><cite><a rel="nofollow" href="https://www.netherlocks.com/process-interlocking/the-integration-of-electronic-components-into-mechanical-valve-interlocking-solutions/">"The integration of electronic components into mechanical valve interlocking solutions"</a>. <i>Netherlocks</i>. 2013-11-25<span>. Retrieved <span>2020-10-08</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=unknown&amp;rft.jtitle=Netherlocks&amp;rft.atitle=The+integration+of+electronic+components+into+mechanical+valve+interlocking+solutions&amp;rft.date=2013-11-25&amp;rft_id=https%3A%2F%2Fwww.netherlocks.com%2Fprocess-interlocking%2Fthe-integration-of-electronic-components-into-mechanical-valve-interlocking-solutions%2F&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3APigging"></span></span>
</li>
<li id="cite_note-17"><span><b><a href="#cite_ref-17">^</a></b></span> <span><cite><a rel="nofollow" href="https://web.archive.org/web/20110717155911/http://gradworks.umi.com/14/71/1471527.html">"ProQuest Document View - Capacitive sensor technology for polyethylene pipe fault detection"</a>. Archived from <a rel="nofollow" href="http://gradworks.umi.com/14/71/1471527.html">the original</a> on 2011-07-17<span>. Retrieved <span>2010-10-01</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=ProQuest+Document+View+-+Capacitive+sensor+technology+for+polyethylene+pipe+fault+detection&amp;rft_id=http%3A%2F%2Fgradworks.umi.com%2F14%2F71%2F1471527.html&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3APigging"></span></span>
</li>
<li id="cite_note-18"><span><b><a href="#cite_ref-18">^</a></b></span> <span><cite><a rel="nofollow" href="https://web.archive.org/web/20181031155032/https://www.netl.doe.gov/publications/others/pdf/Oil_Peaking_NETL.pdf">"Oil and Natural Gas Research"</a> <span>(PDF)</span>. <i>netl.doe.gov</i>. Archived from <a rel="nofollow" href="http://www.netl.doe.gov/oil-gas/natural-gas-resources">the original</a> on 2018-10-31<span>. Retrieved <span>2020-10-08</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=unknown&amp;rft.jtitle=netl.doe.gov&amp;rft.atitle=Oil+and+Natural+Gas+Research&amp;rft_id=http%3A%2F%2Fwww.netl.doe.gov%2Foil-gas%2Fnatural-gas-resources&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3APigging"></span></span>
</li>
<li id="cite_note-19"><span><b><a href="#cite_ref-19">^</a></b></span> <span>Stéphane Sainson, <i>Inspection en ligne des pipelines. Principes et méthodes</i>. Ed. Lavoisier. 2007. <a href="https://en.wikipedia.org/wiki/ISBN_(identifier)" title="ISBN (identifier)">ISBN</a>&nbsp;<a href="https://en.wikipedia.org/wiki/Special:BookSources/978-2743009724" title="Special:BookSources/978-2743009724">978-2743009724</a>. 332 p.</span>
</li>
<li id="cite_note-20"><span><b><a href="#cite_ref-20">^</a></b></span> <span><cite><a rel="nofollow" href="https://www.gassco.no/en/media/news-archive/New-techonology-revolutionises-gas-pipeline-checks/">"New techonology revolutionises gas pipeline checks"</a>. <i>www.gassco.no</i><span>. Retrieved <span>2020-10-08</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=unknown&amp;rft.jtitle=www.gassco.no&amp;rft.atitle=New+techonology+revolutionises+gas+pipeline+checks&amp;rft_id=https%3A%2F%2Fwww.gassco.no%2Fen%2Fmedia%2Fnews-archive%2FNew-techonology-revolutionises-gas-pipeline-checks%2F&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3APigging"></span></span>
</li>
<li id="cite_note-21"><span><b><a href="#cite_ref-21">^</a></b></span> <span><cite><a rel="nofollow" href="https://web.archive.org/web/20120207134259/http://www.gdengineering.com/hi_t_pigalert.asp">"PIG Signaller"</a>. Archived from <a rel="nofollow" href="http://www.gdengineering.com/hi_t_pigalert.asp">the original</a> on 2012-02-07<span>. Retrieved <span>2012-02-14</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=PIG+Signaller&amp;rft_id=http%3A%2F%2Fwww.gdengineering.com%2Fhi_t_pigalert.asp&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3APigging"></span></span>
</li>
<li id="cite_note-22"><span><b><a href="#cite_ref-22">^</a></b></span> <span><cite><a rel="nofollow" href="https://www.enduropls.com/products/tracking">"Enduro Pipeline Services | Engineered to Deliver Superior Results"</a>. <i>www.enduropls.com</i><span>. Retrieved <span>2020-10-08</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=unknown&amp;rft.jtitle=www.enduropls.com&amp;rft.atitle=Enduro+Pipeline+Services+%7C+Engineered+to+Deliver+Superior+Results&amp;rft_id=https%3A%2F%2Fwww.enduropls.com%2Fproducts%2Ftracking&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3APigging"></span></span>
</li>
<li id="cite_note-23"><span><b><a href="#cite_ref-23">^</a></b></span> <span><cite><a rel="nofollow" href="https://web.archive.org/web/20140211061649/http://www.tdwilliamson.com/en/Products/PiggingProducts/Indicators/Documents/PIG_SIG%20NI.pdf">"Pig Passage Indicator"</a> <span>(PDF)</span>. Archived from <a rel="nofollow" href="http://www.tdwilliamson.com/en/Products/PiggingProducts/Indicators/Documents/PIG_SIG%20NI.pdf">the original</a> <span>(PDF)</span> on 2014-02-11<span>. Retrieved <span>2012-01-29</span></span>.</cite><span title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=unknown&amp;rft.btitle=Pig+Passage+Indicator&amp;rft_id=http%3A%2F%2Fwww.tdwilliamson.com%2Fen%2FProducts%2FPiggingProducts%2FIndicators%2FDocuments%2FPIG_SIG%2520NI.pdf&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3APigging"></span></span>
</li>
</ol></div>
<h2><span id="External_links">External links</span><span><span>[</span><a href="https://en.wikipedia.org/w/index.php?title=Pigging&amp;action=edit&amp;section=16" title="Edit section: External links">edit</a><span>]</span></span></h2>
<p><a rel="nofollow" href="https://www.vpengineers.in/products/pipe-line-pigs/pipeline-pigging.html">https://www.vpengineers.in/products/pipe-line-pigs/pipeline-pigging.html</a>
<a rel="nofollow" href="https://www.vpengineers.in/products/pipe-line-pigs/cup-pigs.html">https://www.vpengineers.in/products/pipe-line-pigs/cup-pigs.html</a>
<a rel="nofollow" href="https://www.vpengineers.in/products/pipe-line-pigs/foam-pigs.html">https://www.vpengineers.in/products/pipe-line-pigs/foam-pigs.html</a>
</p>
<div>
<p><span typeof="mw:File"><span><img alt="" src="https://upload.wikimedia.org/wikipedia/en/thumb/4/4a/Commons-logo.svg/30px-Commons-logo.svg.png" decoding="async" width="30" height="40" srcset="https://upload.wikimedia.org/wikipedia/en/thumb/4/4a/Commons-logo.svg/45px-Commons-logo.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/en/thumb/4/4a/Commons-logo.svg/59px-Commons-logo.svg.png 2x" data-file-width="1024" data-file-height="1376"></span></span></p>
<p>Wikimedia Commons has media related to <span><a href="https://commons.wikimedia.org/wiki/Category:Pigging" title="commons:Category:Pigging">Pigging</a></span>.</p></div>
<ul><li><a rel="nofollow" href="https://web.archive.org/web/20101103185632/http://www.battelle.org/pipetechnology/mfl/MFL98Main.html">Magnetic Flux Leakage information</a></li>
<li><a rel="nofollow" href="http://www.iliassociation.org/">Inline Inspection Association</a></li>
<li><a rel="nofollow" href="http://www.smartpigs.net/">Inline Inspection and Pipeline Pigging Resource</a> <a rel="nofollow" href="https://web.archive.org/web/20140210112019/http://smartpigs.net/">Archived</a> 2014-02-10 at the <a href="https://en.wikipedia.org/wiki/Wayback_Machine" title="Wayback Machine">Wayback Machine</a></li>
<li><a rel="nofollow" href="https://www.wsj.com/articles/SB10001424127887323455104579015140328479048"><i>Oil-Pipeline Cracks Evading Robotic 'Smart Pigs'; Probes used by Exxon and other companies aren't spotting flaws that cause massive spills</i></a> August 16, 2013 WSJ</li></ul>

<!-- 
NewPP limit report
Parsed by mw1489
Cached time: 20231021090903
Cache expiry: 1814400
Reduced expiry: false
Complications: [vary‐revision‐sha1, show‐toc]
CPU time usage: 0.818 seconds
Real time usage: 1.154 seconds
Preprocessor visited node count: 4158/1000000
Post‐expand include size: 534361/2097152 bytes
Template argument size: 2144/2097152 bytes
Highest expansion depth: 15/100
Expensive parser function count: 4/500
Unstrip recursion depth: 1/20
Unstrip post‐expand size: 69397/5000000 bytes
Lua time usage: 0.447/10.000 seconds
Lua memory usage: 19317828/52428800 bytes
Number of Wikibase entities loaded: 1/400
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  766.017      1 -total
 23.88%  182.906      1 Template:Underwater_diving
 23.33%  178.690      1 Template:Navbox_with_collapsible_groups
 21.36%  163.637      6 Template:Annotated_link
 16.18%  123.955     18 Template:Cite_web
 12.72%   97.412     35 Template:Navbox
  8.27%   63.338      1 Template:Short_description
  7.03%   53.869      2 Template:Unreferenced_section
  6.31%   48.302      2 Template:Unreferenced
  6.30%   48.270      1 Template:Commons_category
-->

<!-- Saved in parser cache with key enwiki:pcache:idhash:1645192-0!canonical and timestamp 20231021090902 and revision id 1181171470. Rendering was triggered because: api-parse
 -->
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[MMO Architecture: clients, sockets, threads and connection-oriented servers (140 pts)]]></title>
            <link>https://prdeving.wordpress.com/2023/10/13/mmo-architecture-client-connections-sockets-threads-and-connection-oriented-servers/</link>
            <guid>37963974</guid>
            <pubDate>Sat, 21 Oct 2023 04:03:44 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://prdeving.wordpress.com/2023/10/13/mmo-architecture-client-connections-sockets-threads-and-connection-oriented-servers/">https://prdeving.wordpress.com/2023/10/13/mmo-architecture-client-connections-sockets-threads-and-connection-oriented-servers/</a>, See on <a href="https://news.ycombinator.com/item?id=37963974">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
		
<pre>More on MMO Architecture:<br>- <a href="https://prdeving.wordpress.com/2023/09/29/mmo-architecture-source-of-truth-dataflows-i-o-bottlenecks-and-how-to-solve-them/">MMO Architecture: Source of truth, Dataflows, I/O bottlenecks and how to solve&nbsp;them</a></pre>



<hr>



<p>In the MMO-type online gaming landscape, we are often faced with the challenge of managing a <strong>high demand for connections</strong>. Unlike regular applications, these systems must maintain a smooth and enjoyable gaming experience even amidst the digital chaos of having thousands of players interacting in <strong>real time.</strong><br>Layered architectures, dedicated servers per area and countless arcane spells of forbidden magic are employed to achieve this.</p>



<p>The first step in this orgy of fun is the client connecting to the system.<br>Usually, in a system we will encounter a frightening <strong>socket per client at least</strong>.<br>Open connections, like anything else, <strong>consume resources</strong> (CPU and RAM) as well as bandwidth (which could become prohibitively expensive in a rather short time depending on the particular conditions of each project).</p>



<p>Add to this that, no matter how boring and static our game is, those <strong>sockets will tend to be used</strong>, which means more and <strong>more traffic</strong>, and with it more and more load. And of course, we will have to implement some kind of <strong>authentication, authorization</strong> and be able to discern to which world or area the notification we receive from the client should be directed.</p>



<p>it is not complicated to realize that on occasions as extreme as the ridiculous space fights of 10,000 players in Eve online, the saturation of open connections can bring down even the most solid system.</p>



<p>Even more so if the design is not correct.</p>







<p>First of all, how do we manage these connections? You only need to look at an online tutorial on threading of any half-serious language to find the demon itself, <strong>one thread per connection</strong>.<br>Traditional one-to-one management of threads and connections, where each connection is handled in a separate thread, can lead to <strong>inefficient use of resources</strong>, as well as<strong> increased latency </strong>in task execution. The overhead of creating and destroying threads can be prohibitive, and the fixed thread limit can be reached quickly, resulting in lag or <strong>denial of service</strong> to the system clients.</p>



<figure><img data-attachment-id="3113" data-permalink="https://prdeving.wordpress.com/2023/10/13/mmo-architecture-client-connections-sockets-threads-and-connection-oriented-servers/image-3/" data-orig-file="https://prdeving.files.wordpress.com/2023/10/image.png" data-orig-size="771,487" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image" data-image-description="" data-image-caption="" data-medium-file="https://prdeving.files.wordpress.com/2023/10/image.png?w=300" data-large-file="https://prdeving.files.wordpress.com/2023/10/image.png?w=771" src="https://prdeving.files.wordpress.com/2023/10/image.png?w=771" alt="" srcset="https://prdeving.files.wordpress.com/2023/10/image.png 771w, https://prdeving.files.wordpress.com/2023/10/image.png?w=150 150w, https://prdeving.files.wordpress.com/2023/10/image.png?w=300 300w, https://prdeving.files.wordpress.com/2023/10/image.png?w=768 768w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 984px) 61vw, (max-width: 1362px) 45vw, 600px"></figure>



<p>Well, if you want to have to sell your liver to maintain your infrastructure and have your server explode every Friday afternoon, then this is the perfect choice for you.<br>If on the other hand you prefer to be able to sleep peacefully, with all your pieces where they belong, <strong>consider grouping multiple connections in the same thread.</strong><br>How many? it depends, 30-100? it’s a <strong>matter of testing</strong>, but, whatever it is, it will be many more than you can manage with a 1:1 strategy.</p>



<p>In general, we will use these threads to manage the connections, but not the executions derived from the messages that appear in them.<br>Once a message appears in one of the sockets, <strong>we queue</strong> it and let another thread process it. In this way, we <strong>decouple our input layer from our digest layer.</strong></p>



<h2>Thread pooling for message digesting</h2>



<p>The concept of digesting events or messages is quite graphic, in fact.<br>When the time comes, we have a <strong>FIFO queue</strong> that fills up with messages, we take them out, one at a time, and evaluate them.</p>



<figure><img data-attachment-id="3114" data-permalink="https://prdeving.wordpress.com/2023/10/13/mmo-architecture-client-connections-sockets-threads-and-connection-oriented-servers/image-1-2/" data-orig-file="https://prdeving.files.wordpress.com/2023/10/image-1.png" data-orig-size="958,571" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image-1" data-image-description="" data-image-caption="" data-medium-file="https://prdeving.files.wordpress.com/2023/10/image-1.png?w=300" data-large-file="https://prdeving.files.wordpress.com/2023/10/image-1.png?w=840" src="https://prdeving.files.wordpress.com/2023/10/image-1.png?w=958" alt="" srcset="https://prdeving.files.wordpress.com/2023/10/image-1.png 958w, https://prdeving.files.wordpress.com/2023/10/image-1.png?w=150 150w, https://prdeving.files.wordpress.com/2023/10/image-1.png?w=300 300w, https://prdeving.files.wordpress.com/2023/10/image-1.png?w=768 768w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px"></figure>



<p>To solve this situation, an ideal tool is a<strong> thread pool</strong>, a simple yet effective mechanism which handles<strong> multiple tasks</strong> without the overhead of initializing and destroying threads for each individual task.<br>A thread pool, as the name suggests, is a <strong>pool of threads that stand ready to execute tasks.</strong></p>



<p>A thread pool is initialized with a specific number of threads, messages are submitted to a shared queue, which, in our case is implemented as a FIFO queue to maintain the order of processing.</p>



<p>The threads in the thread pool continuously <strong>monitor the queue</strong> for new tasks and when a task is available, a thread from the pool will <strong>dequeue the task and execute it.</strong> Upon completion of a task, the <strong>thread returns to the pool</strong> and stands ready to process the next available task in the queue.</p>



<p>These threads are <strong>created in advance</strong>, which alleviates the overhead of creating and destroying threads that would otherwise occur per task, and may even exceed the fixed limits of our machine by producing denials of service to the system’s clients.</p>



<p>This way, threads are <strong>reused across many tasks</strong>, leading to <strong>better performance</strong> and <strong>lower system resource usage</strong> as compared to creating a new thread for each task.</p>



<p>Utilizing a thread pool for digesting messages from a FIFO queue is <strong>highly efficient</strong> especially in scenarios where the rate of message arrival is high and the processing of each message is relatively short-lived, thus perfect for this little MMO situation we have here. The pool can significantly<strong> reduce the latency associated with the processing of these messages</strong>, ensuring that each message is handled in a timely fashion.</p>



<p>By leveraging a thread pool, the system can process <strong>multiple messages concurrently</strong>, maximizing the utilization of system resources and improving the overall throughput of the message processing system.</p>



<p>But threading is just a small slice of the story. </p>



<p>Even if we can afford 40 threads running in parallel and we can easily manage 200 clients per thread, reserving half of them for a pool, we would be talking about <strong>4000 concurrent clients</strong> per server, still far from the 10k nerds and their virtual lasers we were talking about before.<br>Not to mention that we are <strong>ignoring all the additional overhead of the game logic itself, authentication systems</strong>, etc.</p>



<p>How do we scale this?</p>



<h2>Frontend servers to decouple game from connections</h2>



<p>In a way, the question is already answered, but let’s go into a little more detail.</p>



<p>How would the flow look like at the definition point we are at? Simple, a client connects to the server and sends a message “hey server, I jumped!”.<br>The server, in the connection, has assigned the socket to a thread. When the socket receives the message, it puts it in a queue and at some point, another routine extracts the message from the queue, checks that the user is valid, sees what kind of action the user wants to do and executes the game logic for the specific action.</p>



<blockquote>
<p>we have <strong>game servers</strong> […] take care of the game </p>
</blockquote>



<p>This is where the proxy or frontend servers come into play.<br>We take that logic and <strong>split it up</strong>, we have <strong>game servers</strong>, well, they take care of the game and we manage the connections on a <strong>frontend server</strong>.</p>



<blockquote>
<p>The <strong>connection and the message goes to the frontend server</strong></p>
</blockquote>



<p>The <strong>connection and the message goes to the frontend server</strong>, it does its pooling magic, validates the session, sees which game world the character belongs to and sends the action directly to the game server.</p>



<figure><img data-attachment-id="3116" data-permalink="https://prdeving.wordpress.com/2023/10/13/mmo-architecture-client-connections-sockets-threads-and-connection-oriented-servers/image-2-2/" data-orig-file="https://prdeving.files.wordpress.com/2023/10/image-2.png" data-orig-size="1023,553" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image-2" data-image-description="" data-image-caption="" data-medium-file="https://prdeving.files.wordpress.com/2023/10/image-2.png?w=300" data-large-file="https://prdeving.files.wordpress.com/2023/10/image-2.png?w=840" src="https://prdeving.files.wordpress.com/2023/10/image-2.png?w=1023" alt="" srcset="https://prdeving.files.wordpress.com/2023/10/image-2.png 1023w, https://prdeving.files.wordpress.com/2023/10/image-2.png?w=150 150w, https://prdeving.files.wordpress.com/2023/10/image-2.png?w=300 300w, https://prdeving.files.wordpress.com/2023/10/image-2.png?w=768 768w" sizes="(max-width: 709px) 85vw, (max-width: 909px) 67vw, (max-width: 1362px) 62vw, 840px"></figure>



<p>Voila, all the load related to sessions, client connections, retries, lags due to lost packets etc is isolated on frontend servers.<br>With the additional advantage that, <strong>being state-less </strong>practically in their entirety, they are infinitely <strong>scalable </strong>horizontally.</p>



<p>Meanwhile, our game worlds are only concerned with, well, <strong>the game.</strong></p>



<hr>



<p>In distributed systems as complex as an MMO, we face unique operational challenges. Real-time interaction among thousands of players, each of them generating a torrent of messages and actions, tests the robustness and efficiency of our designs.<br><strong>Prudent connection management</strong> and<strong> efficient message digestion</strong> are not just an operational necessity, but mission critical to ensure an immersive and rewarding gaming experience.</p>



<p>Efficient<strong> use of resources</strong> through techniques that allow us to control and distribute system load, such as thread pooling, is critical to efficiently digest messages and <strong>avoid overloading at times of high concurrency</strong>, enabling rapid response to player demands. In addition, the layered server architecture, with <strong>frontend servers handling connections</strong> and <strong>game servers focused on game </strong>logic, provides a clear <strong>separation of responsibilities</strong>, facilitating <strong>scalability and system maintenance.</strong></p>

			
				</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[The next Raptor OpenPOWER systems are coming, but they won't be Power10 (133 pts)]]></title>
            <link>https://www.talospace.com/2023/10/the-next-raptor-openpower-systems-are.html</link>
            <guid>37963941</guid>
            <pubDate>Sat, 21 Oct 2023 03:54:19 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.talospace.com/2023/10/the-next-raptor-openpower-systems-are.html">https://www.talospace.com/2023/10/the-next-raptor-openpower-systems-are.html</a>, See on <a href="https://news.ycombinator.com/item?id=37963941">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="post-body-1252817771829370577">
<p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgcTAptM5usH9rX8FpnstN6FiERUTfFy_qK6kwe1_31MQ5mlBPIa0UcAaTfBrx1xb0CBuiDGe2r5o1EA2OUSZjgTmWHOQJgDnn9xxfSt8Ay4zmNBDcQ7TWLcxK0_MWTwHjfws10PSK3BiIFp7z-3ICbTNLgDgHWrXXbff1ItWO56I_mWa_ev3IgN430OWI/s700/4452ea76-7593-41a8-9844-4de06c7bc505.png"><img alt="" data-original-height="700" data-original-width="515" height="320" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgcTAptM5usH9rX8FpnstN6FiERUTfFy_qK6kwe1_31MQ5mlBPIa0UcAaTfBrx1xb0CBuiDGe2r5o1EA2OUSZjgTmWHOQJgDnn9xxfSt8Ay4zmNBDcQ7TWLcxK0_MWTwHjfws10PSK3BiIFp7z-3ICbTNLgDgHWrXXbff1ItWO56I_mWa_ev3IgN430OWI/s320/4452ea76-7593-41a8-9844-4de06c7bc505.png"></a></p><p>

I'd like to first start out by saying I've been aware of new developments but made certain promises to keep my mouth shut until all the parties were ready to announce. (Phoronix is not so constrained.) Many of you <a href="https://www.talospace.com/2023/09/progress-on-firefox-ppc64le-jit.html?showComment=1696260751412#c7354742240276003302">noted</a> an offhand comment in <a href="https://youtu.be/Tj4Q-m_WEh0?feature=shared&amp;t=230">this YouTube video</a> about Raptor announcing a new Power10 system. That got a lot of people excited, because while our POWER9 systems are doing well, in 2023 this dual-8 64-thread POWER9 is no longer cutting edge and we need new silicon in the pipeline to keep the ecosystem viable.
</p><p>
Raptor yesterday <a href="https://www.morningstar.com/news/business-wire/20231019873615/secure-open-source-systems-leader-raptor-computing-systems-partners-with-lattice-showcasing-soft-bmc-for-server-management-and-solid-silicon-for-upcoming-power-isa-31-compliant-server-systems">officially announced</a> that we're <em>not</em> getting Power10 systems. The idea is we're going to be getting something <em>better</em>: the Solid Silicon S1. It's Power ISA 3.1 and fully compatible, but it's also a fully blob-free OpenPOWER successor to the POWER9, avoiding Power10's <a href="https://www.talospace.com/2021/09/its-not-just-omi-thats-trouble-with.html">notorious binary firmware requirement</a> for OMI RAM and I/O.
</p><p>
I asked Timothy Pearson at Raptor about the S1's specs, and he said it's a PCIe 5.0 DDR5 part running from the high 3GHz to low 4GHz clock range, with the exact frequency range to be determined. (OMI-based RAM <em>not</em> required!) The S1 is bi-endian, SMT-4 and will support at least two sockets with an 18-core option confirmed for certain and others to be evaluated. This compares very well with the Power10, which is also PCIe 5.0, also available as SMT-4 (though it has an SMT-8 option), and also clocks somewhere between 3.5GHz and 4GHz.
</p><p>
S1 embeds its own BMC, the X1 (or variant), which is (<a href="https://www.talospace.com/2022/08/whats-arctic-tern-good-for-anyway.html">like Arctic Tern</a>) a Microwatt-based ISA 3.1 core in <a href="https://www.latticesemi.com/Products/FPGAandCPLD/ECP5">Lattice ECP5</a> and <a href="https://www.latticesemi.com/iCE40">iCE40</a> FPGAs with 512MB of DDR3 RAM, similar to the existing ASpeed BMC on current systems. X1 will in turn replace the existing Lattice-based FPGA in Arctic Tern as "Antarctic Tern," being a functional descendant of the same hardware, and should fill the same roles as a BMC upgrade for existing Raptor systems as well as the future BMC for the next generation systems and a platform in its own right. The X1 has "integrated 100% open root of trust" as you would expect for such a system-critical part.
</p><p>
Raptor's newest systems are planned for late 2024. There will be tiering, so most likely (though not confirmed) Blackbird, T2 and T2 server classes of systems will be available under new names. Price? Well, you'll just have to wait and see.
</p><p>
Solid Silicon is definitely a new name in the Power ecosystem and we don't know a lot about them. <a href="https://www.solidsilicon.com/">There's a web page</a>, but the <s>Tw</s>Xitter and LinkedIn links are unpopulated as of this writing, and it's maddeningly minimal on actual content. Tim confirmed they are a new licensee and have been working on the design for at least a couple years. The press release gives a 737 area code, which is Austin, Texas, and the only Solid Silicon business entry I could find for Texas is <a href="https://opencorporates.com/companies/us_tx/0800191006">this one for Solid Silicon Technology LLC</a> in Plano. I'm told this isn't them, so if anyone from Solid Silicon would like to lift the corporate veil a little, drop me a line at ckaiser at floodgap dawt com. <i>[UPDATE: The LinkedIn was updated after this posted, listing <a href="https://www.linkedin.com/in/toddrooke?trk=org-employees">Todd Rooke</a> as CEO. Rooke's listing indicates past experience with FPGAs, as well as his time at HPE and Microsoft. His location is given as Colorado Springs but Colorado lists no company by that name. Hopefully more to come.]</i> 
</p><p>
But besides new systems in the offing, it's also good news that we're getting — we hope — performant OpenPOWER chips that <em>aren't</em> from IBM. I don't have anything against IBM; I've worked with IBM hardware for literally decades, and my home server is a classic POWER6 that just keeps on truckin'. But IBM designs chips to benefit IBM's world, which is server rooms (ask anyone who's got one what it's like to share an office with a POWER8), and IBM doesn't do end-user sales. If Raptor has a good partner here who can design solid OpenPOWER chips for workstations and small servers, not traditionally IBM's present domain but one important for them to maintain if they want OpenPOWER to stay relevant, then in around a year we should be in for a treat — and a very rosy near future.
</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[AI Reduces the World to Stereotypes (153 pts)]]></title>
            <link>https://restofworld.org/2023/ai-image-stereotypes/</link>
            <guid>37963909</guid>
            <pubDate>Sat, 21 Oct 2023 03:49:16 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://restofworld.org/2023/ai-image-stereotypes/">https://restofworld.org/2023/ai-image-stereotypes/</a>, See on <a href="https://news.ycombinator.com/item?id=37963909">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
				<!-- Article Start -->
				
<p><span>I</span>n July, BuzzFeed posted a list of 195 images of Barbie dolls produced using Midjourney, the popular artificial intelligence image generator. Each doll was supposed to represent a different country: Afghanistan Barbie, Albania Barbie, Algeria Barbie, and so on. The depictions were clearly flawed: Several of the Asian Barbies were light-skinned; Thailand Barbie, Singapore Barbie, and the Philippines Barbie all had blonde hair. Lebanon Barbie posed standing on rubble; Germany Barbie wore military-style clothing. South Sudan Barbie carried a gun.</p>



<p>The article —&nbsp;to which BuzzFeed added a disclaimer before taking it down entirely — offered an unintentionally striking example of the biases and stereotypes that proliferate in images produced by the recent wave of generative AI text-to-image systems, such as Midjourney, Dall-E, and Stable Diffusion.</p>



<p>Bias occurs in many algorithms and AI systems — from <a href="https://time.com/5209144/google-search-engine-algorithm-bias-racism/">sexist and racist search results</a> to facial recognition systems that <a href="https://www.scientificamerican.com/article/police-facial-recognition-technology-cant-tell-black-people-apart/">perform worse on Black faces</a>. Generative AI systems are no different. In <a href="https://www.bloomberg.com/graphics/2023-generative-ai-bias/">an analysis of more than 5,000 AI images</a>, Bloomberg found that images associated with higher-paying job titles featured people with lighter skin tones, and that results for most professional roles were male-dominated.</p>



<p>A new <em>Rest of World</em> analysis shows that generative AI systems have tendencies toward bias, stereotypes, and reductionism when it comes to national identities, too.&nbsp;</p>



<p>Using Midjourney, we chose five prompts, based on the generic concepts of “a person,” “a woman,” “a house,” “a street,” and “a plate of food.” We then adapted them for different countries: China, India, Indonesia, Mexico, and Nigeria. We also included the U.S. in the survey for comparison, given Midjourney (like most of the biggest generative AI companies) is based in the country.&nbsp;</p>



<p>For each prompt and country combination (e.g., “an Indian person,” “a house in Mexico,” “a plate of Nigerian food”), we generated 100 images, resulting in a data set of 3,000 images.</p>


		<div>
						<div>
				<div>	<figure>
		<div>
		<picture><source media="(orientation: landscape)" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-general1-400x224.jpg 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-general1-600x336.jpg 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-general1-1000x560.jpg 1000w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-general1-1600x896.jpg 1600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-general1-2800x1568.jpg 2800w, " sizes="100vw"><source media="(orientation: portrait)" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-general-mobile-400x711.jpg 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-general-mobile-600x1067.jpg 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-general-mobile.jpg 945w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-general-mobile.jpg 945w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-general-mobile.jpg 945w, " sizes="100vw">
		<img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-general1-40x22.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-general1-768x432.jpg" sizes="100vw" alt="A photo collage showing a grid of square images with portraits of people, exteriors of buildings, city streets, and plates of food.">
		</picture>
		</div>
				<figcaption itemprop="caption description">
		
		<span itemprop="copyrightHolder">Rest of World</span>
		</figcaption>
	</figure></div>
				<div>
					<p>The results show a hugely stereotypical view of the world.</p>
				</div>
			</div>			<div>
				<div>	<figure>
		<div>
		<picture><source media="(orientation: landscape)" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-IndianPerson-400x224.jpg 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-IndianPerson-600x336.jpg 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-IndianPerson-1000x560.jpg 1000w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-IndianPerson-1600x896.jpg 1600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-IndianPerson-2800x1568.jpg 2800w, " sizes="100vw"><source media="(orientation: portrait)" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-IndianPerson-mobile-400x711.jpg 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-IndianPerson-mobile-600x1067.jpg 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-IndianPerson-mobile.jpg 945w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-IndianPerson-mobile.jpg 945w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-IndianPerson-mobile.jpg 945w, " sizes="100vw">
		<img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-IndianPerson-40x22.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-IndianPerson-768x432.jpg" sizes="100vw" alt="A photo collage showing a grid of 98 square images of mainly bearded men wearing orange or red head coverings.">
		</picture>
		</div>
				<figcaption itemprop="caption description">
		
		
		</figcaption>
	</figure></div>
				<div>
					<p>“An Indian person” is almost always an old man with a beard.</p>
				</div>
			</div>			<div>
				<div>	<figure>
		<div>
		<picture><source media="(orientation: landscape)" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-MexicanPerson-400x224.jpg 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-MexicanPerson-600x336.jpg 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-MexicanPerson-1000x560.jpg 1000w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-MexicanPerson-1600x896.jpg 1600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-MexicanPerson-2800x1568.jpg 2800w, " sizes="100vw"><source media="(orientation: portrait)" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-MexicanPerson-mobile-400x711.jpg 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-MexicanPerson-mobile-600x1067.jpg 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-MexicanPerson-mobile.jpg 945w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-MexicanPerson-mobile.jpg 945w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-MexicanPerson-mobile.jpg 945w, " sizes="100vw">
		<img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-MexicanPerson-40x22.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-MexicanPerson-768x432.jpg" sizes="100vw" alt="A photo collage showing a grid of 98 square images of mainly men wearing hats.">
		</picture>
		</div>
				<figcaption itemprop="caption description">
		
		
		</figcaption>
	</figure></div>
				<div>
					<p>“A Mexican person” is usually a man in a sombrero.</p>
				</div>
			</div>			<div>
				<div>	<figure>
		<div>
		<picture><source media="(orientation: landscape)" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-StreetNewDehli-400x224.jpg 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-StreetNewDehli-600x336.jpg 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-StreetNewDehli-1000x560.jpg 1000w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-StreetNewDehli-1600x896.jpg 1600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-StreetNewDehli-2800x1568.jpg 2800w, " sizes="100vw"><source media="(orientation: portrait)" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-StreetNewDehli-mobile-400x711.jpg 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-StreetNewDehli-mobile-600x1067.jpg 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-StreetNewDehli-mobile.jpg 945w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-StreetNewDehli-mobile.jpg 945w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-StreetNewDehli-mobile.jpg 945w, " sizes="100vw">
		<img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-StreetNewDehli-40x22.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-StreetNewDehli-768x432.jpg" sizes="100vw" alt="A photo collage showing a grid of 98 square images of a city street scene.">
		</picture>
		</div>
				<figcaption itemprop="caption description">
		
		
		</figcaption>
	</figure></div>
				<div>
					<p>Most of New Delhi’s streets are polluted and littered.</p>
				</div>
			</div>			<div>
				<div>	<figure>
		<div>
		<picture><source media="(orientation: landscape)" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-IndonesiaFood-400x224.jpg 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-IndonesiaFood-600x336.jpg 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-IndonesiaFood-1000x560.jpg 1000w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-IndonesiaFood-1600x896.jpg 1600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-IndonesiaFood-2800x1568.jpg 2800w, " sizes="100vw"><source media="(orientation: portrait)" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-IndonesiaFood-mobile-400x711.jpg 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-IndonesiaFood-mobile-600x1067.jpg 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-IndonesiaFood-mobile.jpg 945w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-IndonesiaFood-mobile.jpg 945w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-IndonesiaFood-mobile.jpg 945w, " sizes="100vw">
		<img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-IndonesiaFood-40x22.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MidjourneyGird-IndonesiaFood-768x432.jpg" sizes="100vw" alt="A photo collage showing a grid of 98 square images of food.">
		</picture>
		</div>
				<figcaption itemprop="caption description">
		
		
		</figcaption>
	</figure></div>
				<div>
					<p>In Indonesia, food is served almost exclusively on banana leaves. </p>
				</div>
			</div>
		</div>


<p>“Essentially what this is doing is flattening descriptions of, say, ‘an Indian person’ or ‘a Nigerian house’ into particular stereotypes which could be viewed in a negative light,” Amba Kak, executive director of the AI Now Institute, a U.S.-based policy research organization, told <em>Rest of World</em>. Even stereotypes that are not inherently negative, she said, are still stereotypes: They reflect a particular value judgment, and a winnowing of diversity. Midjourney did not respond to multiple requests for an interview or comment for this story.</p>



<p>“It definitely doesn’t represent the complexity and the heterogeneity, the diversity of these cultures,” Sasha Luccioni, a researcher in ethical and sustainable AI at Hugging Face, told <em>Rest of World</em>.</p>



<figure><blockquote><p>“Now we’re giving a voice to machines.”</p></blockquote></figure>



<p>Researchers told <em>Rest of World</em> this could cause real harm. Image generators are being used for diverse applications, including in the <a href="https://www.reuters.com/technology/mad-men-machines-big-advertisers-shift-ai-2023-08-18/">advertising</a> and <a href="https://restofworld.org/2023/ai-revolution-outsourced-workers/">creative industries</a>, and even in tools designed to make <a href="https://www.vice.com/en/article/qjk745/ai-police-sketches">forensic sketches of crime suspects</a>.</p>



<p>The accessibility and scale of AI tools mean they could have an outsized impact on how almost any community is represented. According to Valeria Piaggio, global head of diversity, equity, and inclusion at marketing consultancy Kantar, the marketing and advertising industries have in recent years made strides in how they represent different groups, though there is still much progress to be made. For instance, they now show greater diversity in terms of race and gender, and better represent people with disabilities, Piaggio told <em>Rest of World</em>. Used carelessly, generative AI could represent a step backwards.&nbsp;</p>



<p>“My personal worry is that for a long time, we sought to diversify the voices — you know, who is telling the stories? And we tried to give agency to people from different parts of the world,“ she said. “Now we’re giving a voice to machines.”</p>



<hr>



<p><strong>Nigeria is home</strong> to more than 300 different ethnic groups, more than 500 different languages, and hundreds of distinct cultures. “There is Yoruba, there is Igbo, there is Hausa, there is Efik, there’s Ibibio, there’s Kanuri, there is Urhobo, there is Tiv,” Doyin Atewologun, founder and CEO of leadership and inclusion consultancy Delta, told <em>Rest of World</em>.</p>



<p>All of these groups have their own traditions, including clothing. Traditional Tiv attire features black-and-white stripes; a red cap has special meaning in the Igbo community; and Yoruba women have a particular way of tying their hair. “From a visual perspective, there are many, many versions of Nigeria,” Atewologun said.</p>



<p>But you wouldn’t know this from a simple search for “a Nigerian person” on Midjourney. Instead, all of the results are strikingly similar. While many images depict clothing that appears to indicate some form of traditional Nigerian attire, Atewologun said they lacked specificity. “It’s all some sort of generalized, ‘give them a head tie, put them in red and yellow and orangey colors<strong>, </strong>let there be big earrings and big necklaces and let the men have short caps,’” she said.</p>


	<figure>
		<div>
		<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.16.31-PM-40x29.png" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.16.31-PM-768x432.png" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.16.31-PM-400x285.png 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.16.31-PM-600x428.png 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.16.31-PM-1000x714.png 1000w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.16.31-PM-1600x1142.png 1600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.16.31-PM.png 2402w, " sizes="(max-width: 640px) 100vw, calc(100vw - 40px)" alt="A photo collage showing a grid of 98 square images of people under the headline " a="" nigerian="" person.""="">
		
		</p>
		</div>
				<figcaption itemprop="caption description">
		
		
		</figcaption>
	</figure>


<p>Atewologun added that the images also failed to capture the full variation in skin tones and religious differences among Nigerians. Muslims make up about 50% of the Nigerian population, and religious women often wear hijabs. But very few of the images generated by Midjourney depicted headscarves that resemble a hijab.&nbsp;</p>



<p>Other country-specific searches also appeared to skew toward uniformity. Out of 100 images for “an Indian person,” 99 seemed to depict a man, and almost all appeared to be over 60 years old, with visible wrinkles and gray or white hair.&nbsp;</p>



<p>Ninety-two of the subjects wore a traditional <em>pagri</em> —&nbsp;a type of turban — or similar headwear. The majority wore prayer beads or similar jewelry, and had a <em>tilak</em> mark or similar on their foreheads — both indicators associated with Hinduism. “These are not at all representative of images of Indian men and women,” Sangeeta Kamat, a professor at the University of Massachusetts Amherst who has worked on research related to diversity in higher education in India, told <em>Rest of World</em>. “They are highly stereotypical.”&nbsp;</p>



<p>Kamat said many of the men resembled a sadhu<em> — </em>a type of spiritual guru. “But even then, the garb is excessive and atypical,” she said.<br>Hinduism is the dominant religion in India, with almost <a href="https://www.pewresearch.org/short-reads/2021/09/21/key-findings-about-the-religious-composition-of-india/">80% of the population identifying as Hindu</a>. But there are significant minorities of other religions: Muslims make up the second-largest religious group, representing just over 14% of the population. But on Midjourney, they appeared noticeably absent.</p>


	<figure>
		<div>
		<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.16.13-PM-40x29.png" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.16.13-PM-768x432.png" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.16.13-PM-400x286.png 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.16.13-PM-600x429.png 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.16.13-PM-1000x715.png 1000w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.16.13-PM-1600x1144.png 1600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.16.13-PM.png 2398w, " sizes="(max-width: 640px) 100vw, calc(100vw - 40px)" alt="A photo collage showing a grid of 98 square images of people under the headline " an="" indian="" person.""="">
		
		</p>
		</div>
				<figcaption itemprop="caption description">
		
		
		</figcaption>
	</figure>


<p>Not all the results for “Indian person” fit the mold. At least two appeared to wear Native American-style feathered headdresses, indicating some ambiguity around the term “Indian.” A couple of the images seemed to merge elements of Indian and Native American culture.</p>



<p>Other country searches also skewed to people wearing traditional or stereotypical dress: 99 out of the 100 images for “a Mexican person,” for instance, featured a sombrero or similar hat.</p>



<p>Depicting solely traditional dress risks perpetuating a reductive image of the world. <strong>“</strong>People don’t just walk around the streets in traditional gear,” Atewologun said. “People wear T-shirts and jeans and dresses<em>.”</em>&nbsp;</p>



<p>Indeed, many of the images produced by Midjourney in our experiment look anachronistic, as if their subjects would fit more comfortably in an historical drama than a snapshot of contemporary society.</p>



<p>“It’s kind of making your whole culture like just a cartoon,” Claudia Del Pozo, a consultant at Mexico-based think tank C Minds, and founder and director of the Eon Institute, told <em>Rest of World</em>.&nbsp;</p>



<p>For the “American person” prompt, national identity appeared to be overwhelmingly portrayed by the presence of U.S. flags. All 100 images created for the prompt featured a flag, whereas none of the queries for the other nationalities came up with any flags at all.</p>


	<figure>
		<div>
		<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.15.55-PM-40x28.png" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.15.55-PM-768x432.png" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.15.55-PM-400x285.png 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.15.55-PM-600x427.png 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.15.55-PM-1000x712.png 1000w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.15.55-PM-1600x1139.png 1600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.15.55-PM.png 2404w, " sizes="(max-width: 640px) 100vw, calc(100vw - 40px)" alt="A photo collage showing a grid of 98 square images of people under the headline " an="" american="" person.""="">
		
		</p>
		</div>
				<figcaption itemprop="caption description">
		
		
		</figcaption>
	</figure>


<hr>



<p><strong>Across almost all </strong>countries, there was a clear gender bias in Midjourney’s results, with the majority of images returned for the “person” prompt depicting men.</p>



<p>This type of broad over- and underrepresentation likely stems from bias in the data on which the AI system is trained. Text-to-image generators are trained on data sets of huge numbers of captioned images — <a href="https://laion.ai/blog/laion-5b/">such as LAION-5B</a>, a collection of almost 6 billion image-text pairs (essentially, images with captions) taken from across the web. If these include more images of men than women, for example, it follows that the systems may produce more images of men. Midjourney did not respond to questions about the data it trained its system on.</p>



<p>However, one prompt bucked this male-dominant trend. The results for “an American person” included 94 women, five men, and one rather horrifying masked individual.</p>


	<figure>
		<div>
		<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Midjourney-Person-US-76-40x40.png" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Midjourney-Person-US-76-768x432.png" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Midjourney-Person-US-76-400x400.png 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Midjourney-Person-US-76-600x600.png 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Midjourney-Person-US-76-1000x1000.png 1000w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Midjourney-Person-US-76.png 1024w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Midjourney-Person-US-76.png 1024w, " sizes="(max-width: 640px) 100vw, 600px" alt="An AI generated photo portrait of a figure wearing a mask and shirt, with an American Flag pattern.">
		
		</p>
		</div>
				<figcaption itemprop="caption description">
		
		
		</figcaption>
	</figure>


<p>Kerry McInerney, research associate at the Leverhulme Centre for the Future of Intelligence, suggests that the overrepresentation of women for the “American person” prompt could be caused by an overrepresentation of women in U.S. media, which in turn could be reflected in the AI’s training data. “There’s such a strong contingent of female actresses, models, bloggers — largely light-skinned, white women — who occupy a lot of different media spaces from TikTok through to YouTube,” she told <em>Rest of World.</em></p>



<p>Hoda Heidari, co-lead of the Responsible AI Initiative at Carnegie Mellon University, said it may also be linked to cultural differences around sharing personal images. “For instance, women in certain cultures might not be very willing to take images of themselves or allow their images to go on the internet,” she said.</p>



<p>“Woman”-specific prompts generated the same lack of diversity and reliance on stereotypes as the “person” prompts. Most Indian women appeared with covered heads and in saffron colors often tied to Hinduism; Indonesian women were shown wearing headscarves or floral hair decorations and large earrings. Chinese women wore traditional <em>hanfu-</em>style clothing and stood in front of “oriental”-style floral backdrops.</p>


	<figure>
		<div>
			<ul>
				<li>	<figure>
		<div>
		<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-NigerianWomen-40x40.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-NigerianWomen-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-NigerianWomen-400x400.jpg 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-NigerianWomen-600x600.jpg 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-NigerianWomen-1000x1000.jpg 1000w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-NigerianWomen.jpg 1500w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-NigerianWomen.jpg 1500w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="A photo collage showing a grid of 9 square images of headshots of women wearing colorful and patterned headwraps.">
		
		</p>
		</div>
				<figcaption itemprop="caption description">
		
		
		</figcaption>
	</figure></li><li>	<figure>
		<div>
		<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-MexicanWomen-40x40.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-MexicanWomen-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-MexicanWomen-400x400.jpg 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-MexicanWomen-600x600.jpg 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-MexicanWomen-1000x1000.jpg 1000w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-MexicanWomen.jpg 1500w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-MexicanWomen.jpg 1500w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="A photo collage showing a grid of 9 square images of headshots of women wearing red and white clothing.">
		
		</p>
		</div>
				<figcaption itemprop="caption description">
		
		
		</figcaption>
	</figure></li><li>	<figure>
		<div>
		<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-AmericanWomen-40x40.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-AmericanWomen-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-AmericanWomen-400x400.jpg 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-AmericanWomen-600x600.jpg 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-AmericanWomen-1000x1000.jpg 1000w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-AmericanWomen.jpg 1500w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-AmericanWomen.jpg 1500w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="A photo collage showing a grid of 9 square images of headshots of women wearing a variety of types and colors of clothing, all set in front of an American flag.">
		
		</p>
		</div>
				<figcaption itemprop="caption description">
		
		
		</figcaption>
	</figure></li><li>	<figure>
		<div>
		<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-ChineseWomen-40x40.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-ChineseWomen-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-ChineseWomen-400x400.jpg 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-ChineseWomen-600x600.jpg 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-ChineseWomen-1000x1000.jpg 1000w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-ChineseWomen.jpg 1500w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-ChineseWomen.jpg 1500w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="A photo collage showing a grid of 9 square images of headshots of women wearing red and blue colored clothing.">
		
		</p>
		</div>
				<figcaption itemprop="caption description">
		
		
		</figcaption>
	</figure></li><li>	<figure>
		<div>
		<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-IndianWomen-40x40.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-IndianWomen-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-IndianWomen-400x400.jpg 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-IndianWomen-600x600.jpg 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-IndianWomen-1000x1000.jpg 1000w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-IndianWomen.jpg 1500w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/MJSquare-IndianWomen.jpg 1500w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="A photo collage showing a grid of 9 square images of headshots of women wearing red sarees against dark backgrounds.">
		
		</p>
		</div>
				<figcaption itemprop="caption description">
		
		
		</figcaption>
	</figure></li>
			</ul>
		</div>
		
	</figure>


<p>Comparing the “person” and “woman” prompts revealed a few interesting differences. The women were notably younger: While men in most countries appeared to be over 60 years old, the majority of women appeared to be between 18 and 40.&nbsp;&nbsp;</p>



<p>There was also a difference in skin tone, which <em>Rest of World</em> measured by comparing images against the Fitzpatrick scale, a tool developed for dermatologists which classifies skin color into six types. On average, women’s skin tones were noticeably lighter than those of men. For China, India, Indonesia, and Mexico, the median result for the “woman” prompt featured a skin tone at least two levels lighter on the scale than that for the “person” prompt.</p>



<p>“I’m not surprised that that particular disparity comes up because I think colorism is so profoundly gendered,” McInerney said, pointing out the greater societal pressure on women in many communities to be and appear younger and lighter-skinned. As a result, this is likely reflected in the system’s training data.</p>



<p>She also highlighted Western-centric beauty norms apparent in the images: long, shiny hair; thin, symmetrical faces; and smooth, even skin. The images for “a Chinese woman” mostly depict women with double eyelids. “This is concerning as it means that Midjourney, and other AI image generators, could further entrench impossible or restrictive beauty standards in an already image-saturated world,” McInerney said.</p>


	<figure>
		<div>
		<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/PersonWomenPrompts-40x20.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/PersonWomenPrompts-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/PersonWomenPrompts-400x202.jpg 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/PersonWomenPrompts-600x302.jpg 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/PersonWomenPrompts-1000x504.jpg 1000w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/PersonWomenPrompts-1600x806.jpg 1600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/PersonWomenPrompts-2800x1411.jpg 2800w, " sizes="(max-width: 640px) 100vw, calc(100vw - 40px)" alt="A photo collage showing a grid of square images of people under the headline " an="" american="" person.""="">
		
		</p>
		</div>
				<figcaption itemprop="caption description">
		
		<span itemprop="copyrightHolder">Images: Rest of World/Midjourney</span>
		</figcaption>
	</figure>


<hr>



<p><strong>It’s not just </strong>people at risk of stereotyping by AI image generators. A <a href="https://arxiv.org/pdf/2305.11080.pdf">study by researchers at the Indian Institute of Science</a> in Bengaluru found that, when countries weren’t specified in prompts, DALL-E 2 and Stable Diffusion most often depicted U.S. scenes. Just asking Stable Diffusion for “a flag,” for example, would produce an image of the American flag.&nbsp;</p>



<p>“One of my personal pet peeves is that a lot of these models tend to assume a Western context,” Danish Pruthi, an assistant professor who worked on the research, told <em>Rest of World.</em></p>



<p><em>Rest of World </em>ran prompts in the format of “a house in [country],” “a street in [capital city],” and “a plate of [country] food.”</p>



<p>According to Midjourney, Mexicans live in blocky dwellings painted bright yellow, blue, or coral; most Indonesians live in steeply pitched A-frame homes surrounded by palm trees; and Americans live in gothic timber houses that look as if they may be haunted. Some of the houses in India looked more like Hindu temples than people’s homes.</p>



<p>Perhaps the most obviously offensive results were for Nigeria, where most of the houses Midjourney created looked run-down, with peeling paint, broken materials, or other signs of visible disrepair.</p>


	<figure>
		<div>
			<ul>
				<li>	<figure>
		<div>
		<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseIndia-40x40.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseIndia-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseIndia-400x400.jpg 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseIndia-600x600.jpg 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseIndia-1000x1000.jpg 1000w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseIndia.jpg 1500w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseIndia.jpg 1500w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="A photo collage showing a grid of 9 square images of a blue and pinkish houses in tropical environments.">
		
		</p>
		</div>
				<figcaption itemprop="caption description">
		
		
		</figcaption>
	</figure></li><li>	<figure>
		<div>
		<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseAmerica-40x40.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseAmerica-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseAmerica-400x400.jpg 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseAmerica-600x600.jpg 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseAmerica-1000x1000.jpg 1000w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseAmerica.jpg 1500w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseAmerica.jpg 1500w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="A photo collage showing a grid of 9 square images of dark houses in foggy, moody environments.">
		
		</p>
		</div>
				<figcaption itemprop="caption description">
		
		
		</figcaption>
	</figure></li><li>	<figure>
		<div>
		<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseNigeria-40x40.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseNigeria-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseNigeria-400x400.jpg 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseNigeria-600x600.jpg 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseNigeria-1000x1000.jpg 1000w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseNigeria.jpg 1500w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseNigeria.jpg 1500w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="A photo collage showing a grid of 9 square images of a tan and brown houses.">
		
		</p>
		</div>
				<figcaption itemprop="caption description">
		
		
		</figcaption>
	</figure></li><li>	<figure>
		<div>
		<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseIndonesia-40x40.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseIndonesia-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseIndonesia-400x400.jpg 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseIndonesia-600x600.jpg 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseIndonesia-1000x1000.jpg 1000w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseIndonesia.jpg 1500w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseIndonesia.jpg 1500w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="A photo collage showing a grid of 9 square images of a big houses in jungle environments.">
		
		</p>
		</div>
				<figcaption itemprop="caption description">
		
		
		</figcaption>
	</figure></li><li>	<figure>
		<div>
		<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseMexico-40x40.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseMexico-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseMexico-400x400.jpg 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseMexico-600x600.jpg 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseMexico-1000x1000.jpg 1000w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseMexico.jpg 1500w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseMexico.jpg 1500w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="A photo collage showing a grid of 9 square images of a colorful houses in bright environments.">
		
		</p>
		</div>
				<figcaption itemprop="caption description">
		
		
		</figcaption>
	</figure></li><li>	<figure>
		<div>
		<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseChina-40x40.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseChina-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseChina-400x400.jpg 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseChina-600x600.jpg 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseChina-1000x1000.jpg 1000w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseChina.jpg 1500w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/AIArt-HouseChina.jpg 1500w, " sizes="(max-width: 640px) calc(100vw + 40px), 50vw" alt="A photo collage showing a grid of 9 square images of dark houses in foggy, moody environments.">
		
		</p>
		</div>
				<figcaption itemprop="caption description">
		
		
		</figcaption>
	</figure></li>
			</ul>
		</div>
		
	</figure>


<p>Though the majority of results were most remarkable for their similarities, the “house” prompt did produce some creative outliers. Some of the images have a fantastical quality, with several buildings appearing to defy physics to look more inspired by <em>Howl’s Moving Castle </em>than anything with realistic structural integrity.&nbsp;</p>



<p>When comparing the images of streets in capital cities, some differences jump out. Jakarta often featured modern skyscrapers in the background and almost all images for Beijing included red paper lanterns. Images of New Delhi commonly showed visible air pollution and trash in the streets. One New Delhi image appeared to show a riot scene, with lots of men milling around, and fire and smoke in the street.</p>


	<figure>
		<div>
		<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Midjourney-Street-New-Delhi-16-40x40.png" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Midjourney-Street-New-Delhi-16-768x432.png" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Midjourney-Street-New-Delhi-16-400x400.png 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Midjourney-Street-New-Delhi-16-600x600.png 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Midjourney-Street-New-Delhi-16-1000x1000.png 1000w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Midjourney-Street-New-Delhi-16.png 1024w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Midjourney-Street-New-Delhi-16.png 1024w, " sizes="(max-width: 640px) 100vw, 600px" alt="An AI generated photo portrait of street scene showing a riot scene, with lots of men milling around and fire and smoke in the street.">
		
		</p>
		</div>
				<figcaption itemprop="caption description">
		
		
		</figcaption>
	</figure>


<p>For the “plate of food” prompt, Midjourney favored the Instagram-style overhead view. Here, sameness again prevailed over variety: The Indian meals were arranged thali-style on silver platters, while most Chinese food was accompanied by chopsticks. Out of the 100 images of predominantly beige American food, 84 included a U.S. flag somewhere on the plate.</p>



<p>The images captured a surface-level imitation of any country’s cuisine. Siu Yan Ho, a lecturer at Hong Kong Baptist University who researches Chinese food culture, told <em>Rest of World</em> there was “absolutely no way” the images accurately represented Chinese food. He said the preparation of ingredients and the plating appeared more evocative of Southeast Asia. The deep-fried food, for example, appeared to be cooked using Southeast Asian methods —&nbsp;“most fried Chinese dishes will be seasoned and further processed,” Siu said.&nbsp;</p>



<p>He added that lemons and limes, which garnish many of the images, are rarely used in Chinese cooking, and are not served directly on the plate. But the biggest problem, Siu said, was that chopsticks were often shown in threes rather than pairs —&nbsp;an important symbol in Chinese culture. “It is extremely inauspicious to have a single chopstick or chopsticks to appear in an odd number,” he said.</p>


	<figure>
		<div>
		<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.15.39-PM-40x29.png" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.15.39-PM-768x432.png" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.15.39-PM-400x285.png 400w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.15.39-PM-600x428.png 600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.15.39-PM-1000x713.png 1000w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.15.39-PM-1600x1141.png 1600w, https://149346090.v2.pressablecdn.com/wp-content/uploads/2023/10/Screen-Shot-2023-10-03-at-2.15.39-PM.png 2398w, " sizes="(max-width: 640px) 100vw, calc(100vw - 40px)" alt="A photo collage showing a grid of 98 square images of food under the headline " a="" plate="" of="" chinese="" food.""="">
		
		</p>
		</div>
				<figcaption itemprop="caption description">
		
		
		</figcaption>
	</figure>


<hr>



<p><strong>Bias in AI </strong>image generators is a tough problem to fix. After all, the uniformity in their output is largely down to the fundamental way in which these tools work. The AI systems look for patterns in the data on which they’re trained, often discarding outliers in favor of producing a result that stays closer to dominant trends. They’re designed to mimic what has come before, not create diversity.&nbsp;</p>



<p>“These models are purely associative machines,” Pruthi said. He gave the example of a football: An AI system may learn to associate footballs with a green field, and so produce images of footballs on grass.&nbsp;</p>



<p>In many cases, this results in a more accurate or relevant image. But if you don’t want an “average” image, you’re out of luck. “It’s kind of the reason why these systems are so good, but also their Achilles’ heel,” Luccioni said.</p>



<p>When these associations are linked to particular demographics, it can result in stereotypes. In a <a href="https://dl.acm.org/doi/10.1145/3593013.3594095">recent paper</a>, researchers found that even when they tried to mitigate stereotypes in their prompts, they persisted. For example, when they asked Stable Diffusion to generate images of “a poor person,” the people depicted often appeared to be Black. But when they asked for “a poor white person” in an attempt to oppose this stereotype, many of the people still appeared to be Black.</p>



<p>Any technical solutions to solve for such bias would likely have to start with the training data, including how these images are initially captioned. Usually, this requires humans to annotate the images. “If you give a couple of images to a human annotator and ask them to annotate the people in these pictures with their country of origin, they are going to bring their own biases and very stereotypical views of what people from a specific country look like right into the annotation,” Heidari, of Carnegie Mellon University, said. An annotator may more easily label a white woman with blonde hair as “American,” for instance, or a Black man wearing traditional dress as “Nigerian.”&nbsp;</p>



<p>There is also a language bias in data sets that may contribute to more stereotypical images. “There tends to be an English-speaking bias when the data sets are created,” Luccioni said. “So, for example, they’ll filter out any websites that are predominantly not in English.&nbsp;</p>



<p>The LAION-5B data set <a href="https://laion.ai/blog/laion-5b/">contains 2.3 billion English-language image-text pairs</a>, with another 2.3 billion image-text pairs in more than 100 other languages. (A further 1.3 billion contain text without a specific language assigned, such as names.)</p>



<p>This language bias may also occur when users enter a prompt. <em>Rest of World</em> ran its experiment using English-language prompts; we may have gotten different results if we typed the prompts in other languages.</p>



<p>Attempts to manipulate the data to give better outcomes can also skew results. For example, many AI image generators filter the training data to weed out pornographic or violent images. But this may have unintended effects. OpenAI found that when it filtered training data for its DALL-E 2 image generator, it exacerbated gender bias. In a blog post, the company explained that more images of women than men <a href="https://openai.com/research/dall-e-2-pre-training-mitigations">had been filtered out of its training data</a>, likely because more images of women were found to be sexualized. As a result, the data set ended up including more men, leading to more men appearing in results. OpenAI attempted to address this by reweighting the filtered data set to restore balance, and has <a href="https://openai.com/blog/reducing-bias-and-improving-safety-in-dall-e-2">made other attempts to improve the diversity</a> of DALL-E’s outputs.</p>



<p>Almost every AI researcher <em>Rest of World </em>spoke to said the first step to improving the issue of bias in AI systems was greater transparency from the companies involved, which are often secretive about the data they use and how they train their systems. “It’s very much been a debate that’s been on their terms, and it’s very much like a ‘trust us’ paradigm,” said Amba Kak of the AI Now Institute.</p>



<p>As generative AI image generators are used for more applications, their bias could have real-world implications. The scale and speed of AI means it could significantly bolster existing prejudices. “Stereotypical views about certain groups can directly translate into negative impact on important life opportunities they get,” said Heidari, citing access to employment, health care, and financial services as examples.</p>



<figure><blockquote><p>“It’s very much like a ‘trust us’ paradigm.”</p></blockquote></figure>



<p>Luccioni cited a project to use <a href="https://www.vice.com/en/article/qjk745/ai-police-sketches">AI image generation to help make forensic sketches</a> as an example of a potential application with a more direct negative impact: Biases in the system could lead to a biased — and inaccurate — sketch. “It’s the derivative tools that really worry me in terms of impacts,” she said.</p>



<p>Experts told <em>Rest of World</em> images can have a profound effect on how we perceive the world and the people in it, especially when it comes to cultures we haven’t experienced ourselves. “We come to our beliefs about what is true, what is real … based on what we see,” said Atewologun.</p>



<p>Kantar’s Piaggio said generative AI could help improve diversity in media by making creative tools more accessible to groups who are currently marginalized or lack the resources to produce messages at scale. But used unwisely, it risks silencing those same groups. “These images, these types of advertising and brand communications have a huge impact in shaping the views of people — around gender, around sexual orientation, about gender identity, about people with disabilities, you name it,” she said. “So we have to move forward and improve, not erase the little progress we have made so far.”</p>



<p>Pruthi said image generators were touted as a tool to enable creativity, automate work, and boost economic activity. But if their outputs fail to represent huge swathes of the global population, those people could miss out on such benefits. It worries him, he said, that companies often based in the U.S. claim to be developing AI for all of humanity, “and they are clearly not a representative sample.”</p>
				<!-- Article End -->
							</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Dropbox handing over 25% of San Francisco HQ back to landlord (101 pts)]]></title>
            <link>https://www.cnbc.com/2023/10/20/dropbox-hands-over-25percent-of-san-francisco-headquarters-back-to-landlord-.html</link>
            <guid>37963854</guid>
            <pubDate>Sat, 21 Oct 2023 03:34:32 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.cnbc.com/2023/10/20/dropbox-hands-over-25percent-of-san-francisco-headquarters-back-to-landlord-.html">https://www.cnbc.com/2023/10/20/dropbox-hands-over-25percent-of-san-francisco-headquarters-back-to-landlord-.html</a>, See on <a href="https://news.ycombinator.com/item?id=37963854">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="RegularArticle-ArticleBody-6" data-module="ArticleBody" data-test="articleBody-2" data-analytics="RegularArticle-articleBody-6-2"><div id="ArticleBody-InlineImage-106225508" data-test="InlineImage"><p>Drew Houston, Dropbox Co-Founder and CEO.</p><p>Arun Nevader | CNBC</p></div><div><p><span data-test="QuoteInBody" id="RegularArticle-QuoteInBody-1"><a href="https://www.cnbc.com/quotes/DBX/">Dropbox</a><span><span id="-WatchlistDropdown" data-analytics-id="-WatchlistDropdown"></span></span></span> said Friday that it's agreed to return over one quarter of its San Francisco headquarters to the landlord as the commercial real estate market continues to soften following the Covid pandemic. </p><p><a href="https://www.sec.gov/ix?doc=/Archives/edgar/data/1467623/000146762323000044/dbx-20231017.htm" target="_blank">In a filing</a>, Dropbox said it agreed to surrender to its landlord 165,244 square feet of space and pay $79 million in termination fees. Under the amendment to its lease agreement, Dropbox will offload the space over time through the first quarter of 2025. </p><p>Since going remote during the pandemic three years ago, Dropbox has been trying to figure out what to do with much of the 736,000 square feet of space in Mission Bay it leased in 2017, in what was the largest office lease in the city's history. The company subleased closed to 134,000 square feet of space last year to Vir Biotechnology, leaving it with just over 604,000 square feet.</p><p>In addition, Dropbox took a <a href="https://www.cnbc.com/2023/02/16/dropbox-has-175-million-real-estate-loss-in-2022-for-san-francisco.html#:~:text=Dropbox%20said%20in%20its%20fourth,the%20year%20was%20%24175.2%20million.">$175.2 million impairment</a> on the office last year "as a result of adverse changes" in the market. That came after taking a $400 million hit in 2020.</p><p>San Francisco's office vacancy rate stood at 30% in the third quarter, the highest level since at least 2007, according to <a href="https://sfgov.org/scorecards/economy/commercial-real-estate" target="_blank">city data</a>.</p><p>"As we've noted in the past, we've taken steps to de-cost our real estate portfolio as a result of our transition to Virtual First, our operating model in which remote work is the primary experience for our employees, but where we still come together for planned in-person gatherings," a company spokesperson told CNBC in an emailed statement. </p><p>While the move provides a financial benefit to the cloud software vendor, it signals that demand for office space in the city remains weak and suggests more pain may be ahead for companies that signed big leases before the pandemic, when venture funding and public investors were fueling a tech boom. In addition to the remote work trend, the tech industry has been in downsizing mode since early 2022, with industrywide layoffs. </p><p>Drew Houston, Dropbox's co-founder and CEO, <a href="https://blog.dropbox.com/topics/company/a-message-from-drew" target="_blank">announced</a> in April that the company was cutting its headcount by about 16%.</p><p>Dropbox's 2017 lease for the brand new headquarters was for 15 years. Private-equity firm KKR <a href="https://realassets.ipe.com/news/kkr-reveals-1bn-san-franciscos-the-exchange-office-complex-buy-updated/10051973.article" target="_blank">bought</a> the property in 2021 from its original developer, Kilroy Realty Corp., for over $1 billion. </p><p>"As a result of the amendment the company will avoid future cash payments related to rent and common area maintenance fees of $137 million and approximately $90 million, respectively, over the remaining 10 year lease term," Dropbox said in <a href="https://www.sec.gov/ix?doc=/Archives/edgar/data/1467623/000146762323000044/dbx-20231017.htm" target="_blank">Friday's filing</a>.</p><p>A short walk away from Dropbox, <span data-test="QuoteInBody" id="RegularArticle-QuoteInBody-8"><a href="https://www.cnbc.com/quotes/UBER/">Uber</a><span><span id="-WatchlistDropdown" data-analytics-id="-WatchlistDropdown"></span></span></span> has been trying to sublease part of its headquarters. The <a href="https://www.sfchronicle.com/realestate/article/openai-s-f-biggest-office-lease-18422837.php" target="_blank">San Francisco Chronicle</a> reported last week that Microsoft-backed OpenAI is close to taking space there.</p><p>Dropbox had tried working with its landlord to sublease space at the headquarters, but the real estate market deteriorated, finance chief Tim Regan, told analysts on a <a href="https://www.cnbc.com/2023/02/16/dropbox-has-175-million-real-estate-loss-in-2022-for-san-francisco.html">February earnings call</a>.</p><p><strong>WATCH:</strong> <a href="https://www.cnbc.com/video/2023/10/19/sf-giants-ceo-advance-sf-raises-4-million-in-private-donations-as-sf-tries-to-rally-city-pride.html">Advance SF launches 'It All Starts Here' campaign for San Francisco</a></p></div><div id="Placeholder-ArticleBody-Video-107320200" data-test="VideoPlaceHolder" role="region" tabindex="0" data-vilynx-id="7000319602" aria-labelledby="Placeholder-ArticleBody-Video-107320200"><p><img src="https://image.cnbcfm.com/api/v1/image/107320201-16977323231697732320-31663331025-1080pnbcnews.jpg?v=1697733098&amp;w=750&amp;h=422&amp;vtcrop=y" alt="Advance SF launches 'It All Starts Here' campaign for San Francisco"><span></span><span></span></p></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[How to self study pure math – a step-by-step guide [video] (185 pts)]]></title>
            <link>https://www.youtube.com/watch?v=byNaO_zn2fI</link>
            <guid>37963453</guid>
            <pubDate>Sat, 21 Oct 2023 02:05:54 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.youtube.com/watch?v=byNaO_zn2fI">https://www.youtube.com/watch?v=byNaO_zn2fI</a>, See on <a href="https://news.ycombinator.com/item?id=37963453">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[The Shortest Papers Ever Published (227 pts)]]></title>
            <link>https://paperpile.com/blog/shortest-papers/</link>
            <guid>37962682</guid>
            <pubDate>Fri, 20 Oct 2023 23:35:32 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://paperpile.com/blog/shortest-papers/">https://paperpile.com/blog/shortest-papers/</a>, See on <a href="https://news.ycombinator.com/item?id=37962682">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><article><div><div><figure><p><img alt="A paper consisting of only figures" width="700" height="323" data-lazy="false" src="https://cdn.paperpile.com/blog/img/figure-only-paper-700x323.png" srcset="https://cdn.paperpile.com/blog/img/figure-only-paper-1400x646.png?v=190 1400w,https://cdn.paperpile.com/blog/img/figure-only-paper-350x162.png?v=190 350w,https://cdn.paperpile.com/blog/img/figure-only-paper-440x203.png?v=190 440w,https://cdn.paperpile.com/blog/img/figure-only-paper-700x323.png?v=190 700w" sizes="(min-width:700px) 700px, 100vw"></p></figure></div><p>This blog post is about short papers. It seems out of place writing a long introduction.</p><p>If you ever wondered about the shortest papers ever published, or you just want to take the unique opportunity to read several papers in full within one minute, this post is for you.</p><h2 id="math-can-be-short">Math can be short</h2><p>Math can be hard and tedious resulting in very long papers. The <a href="https://en.wikipedia.org/wiki/Wiles%27s_proof_of_Fermat%27s_Last_Theorem">1995 proof of Fermat’s last Theorem</a> was 108 pages long.</p><p>But math can also be short.</p><p>Lander and Parkin’s paper about a conjecture by Euler (related to Fermat’s last Theorem), is probably the dream of everyone ever written a paper:&nbsp;It answers an interesting and important question, it’s correct beyond any doubt, &nbsp;it’s easy to understand and only two sentences long.</p><figure><p><img alt="A short mathematical proof by a counterexample" width="700" height="394" src="https://cdn.paperpile.com/blog/img/lander-1966-700x394.png" srcset="https://cdn.paperpile.com/blog/img/lander-1966-1400x788.png?v=190 1400w,https://cdn.paperpile.com/blog/img/lander-1966-350x197.png?v=190 350w,https://cdn.paperpile.com/blog/img/lander-1966-700x394.png?v=190 700w" sizes="(min-width:700px) 700px, 100vw" data-old-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAIAAAB1kpiRAAAACXBIWXMAAAsSAAALEgHS3X78AAAAfUlEQVQI1yWM2QrFIBBD/f8vLFwQN1wfWhcE63ZDzcOYSZxD9t6lFCnldV2Msd8nY0ytFRWZc+LB4pzTWmN673vv+xMZY+Sc7/sOIaBADdj8tNYiMUYhhFIKZEop5xwGK3631sj7viklXD/Pg/RcI8EEmCC11sIdGnTISOD/AcSpJwgtyCMAAAAASUVORK5CYII=" data-lazy-srcset="https://cdn.paperpile.com/blog/img/lander-1966-1400x788.png?v=190 1400w,https://cdn.paperpile.com/blog/img/lander-1966-350x197.png?v=190 350w,https://cdn.paperpile.com/blog/img/lander-1966-700x394.png?v=190 700w"></p><figcaption>Lander, L. J., &amp; Parkin, T. R. (1966) Bulletin of the American Mathematical Society, 72(6), 1079.</figcaption></figure><p>Is there a way to beat that? John Conway and Alexander Soifer submitted a paper in 2005 with the goal to &nbsp;write the shortest math paper ever.</p><p>It is only two words long and&nbsp;contains two distinct proofs of their problem in two figures.</p><p>The editors were a bit surprised: <em>“The Monthly publishes exposition of mathematics at many levels, and it contains articles both long and short. Your article, however, is a bit too short to be a good Monthly article. . . A line or two of explanation would really help.”</em></p><p>The authors did not give up and could convince the editors: <em>“I respectfully disagree […] What else is there to explain?”</em> <a href="http://www.wfnmc.org/mc20101.pdf">Read the full story</a>.</p><figure><p><img alt="A short figure only proof" width="700" height="963" src="https://cdn.paperpile.com/blog/img/conway-2005-700x963.png" srcset="https://cdn.paperpile.com/blog/img/conway-2005-1400x1925.png?v=190 1400w,https://cdn.paperpile.com/blog/img/conway-2005-350x481.png?v=190 350w,https://cdn.paperpile.com/blog/img/conway-2005-700x963.png?v=190 700w" sizes="(min-width:700px) 700px, 100vw" data-old-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAOCAIAAACZwRr8AAAACXBIWXMAAAsSAAALEgHS3X78AAAAp0lEQVQY021Q7Q6DIBDj/Z9xPyRBTQgEow4UJqzhFgRmE+TjetdallKKMV7XhQO+n4wQQspgWMaYaZrGcXxlDMPAOQfpVwbXew+SEEIphcN5nncZl3eFbdustc45iLIiSSZSC0YbFZZl2fe95rFCxMB5nqWUxXbTva4rfGmtj+PoywSY6OQbbfwCJseMvhtPFFk94O6GJMKhAQ/aeEUmIFH+D9b+Y/kCTVmbSbWFaHUAAAAASUVORK5CYII=" data-lazy-srcset="https://cdn.paperpile.com/blog/img/conway-2005-1400x1925.png?v=190 1400w,https://cdn.paperpile.com/blog/img/conway-2005-350x481.png?v=190 350w,https://cdn.paperpile.com/blog/img/conway-2005-700x963.png?v=190 700w"></p><figcaption>Conway, J., Soifer, A. (2005). The American Mathematical Monthly: The Official Journal of the Mathematical Association of America.</figcaption></figure><h2 id="empty-pages">Empty pages</h2><p>Can you &nbsp;write a meaningful paper shorter than 2 words? Probably not. Still, I want to mention the following case report&nbsp;of severe writer’s block, which contribute important zero words to the literature:</p><figure><p><img alt="The shortest paper ever?" width="700" height="1002" src="https://cdn.paperpile.com/blog/img/upper-1974-700x1002.png" srcset="https://cdn.paperpile.com/blog/img/upper-1974-1400x2003.png?v=190 1400w,https://cdn.paperpile.com/blog/img/upper-1974-350x501.png?v=190 350w,https://cdn.paperpile.com/blog/img/upper-1974-700x1002.png?v=190 700w" sizes="(min-width:700px) 700px, 100vw" data-old-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAOCAIAAACZwRr8AAAACXBIWXMAAAsSAAALEgHS3X78AAAAo0lEQVQY072QzQrDIBCEff9ns948WBIxISiUGDW/hMSkgykpLYTeOgcZ9mNxdsietCxL0zR5ngshtNbTNG3bhjk5cN/3wzA456y1MF3XYeGNr/QPjDjzPF9isCPqN44xrusKd5oPXNf1LYlSyhgLIaCD8yMC90gCgG/bFguI8sLjOKLLe1JZllVVZVmGCee8KArivQeQUiqlAGCOF+UbY37c/QSD1JP8tE3kngAAAABJRU5ErkJggg==" data-lazy-srcset="https://cdn.paperpile.com/blog/img/upper-1974-1400x2003.png?v=190 1400w,https://cdn.paperpile.com/blog/img/upper-1974-350x501.png?v=190 350w,https://cdn.paperpile.com/blog/img/upper-1974-700x1002.png?v=190 700w"></p><figcaption>Upper, D. (1974) Journal of Applied Behavior Analysis, 7(3), 497–497.</figcaption></figure><p>Also the following zero-word paper (excluding the abstract) makes an important point. Originally submitted to Nature Chemistry it did not make the cut for publication. But the editors liked it so much that they covered it in their <a href="http://blogs.nature.com/thescepticalchymist/2014/06/a-chemical-free-paper.html">blog</a>&nbsp;and their production team produced a print PDF for it. It finally appeared in 2016 &nbsp;in the journal <a href="http://onlinelibrary.wiley.com/doi/10.1002/ciuz.201600750/abstract">“</a><a href="http://onlinelibrary.wiley.com/doi/10.1002/ciuz.201600750/abstract"><em target="_blank" rel="noopener noreferrer">Chemie in unserer Zeit</em></a><a href="http://onlinelibrary.wiley.com/doi/10.1002/ciuz.201600750/abstract">” (50(2), 144–145)</a>&nbsp;published by Wiley. It’s a German journal but don’t worry. The empty pages should be easy to read even in German…</p><figure><p><img alt="Short paper without any content" width="700" height="984" src="https://cdn.paperpile.com/blog/img/goldberg-2014-700x984.png" srcset="https://cdn.paperpile.com/blog/img/goldberg-2014-1400x1968.png?v=190 1400w,https://cdn.paperpile.com/blog/img/goldberg-2014-350x492.png?v=190 350w,https://cdn.paperpile.com/blog/img/goldberg-2014-700x984.png?v=190 700w" sizes="(min-width:700px) 700px, 100vw" data-old-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAOCAIAAACZwRr8AAAACXBIWXMAAAsSAAALEgHS3X78AAABCklEQVQY04WOPU/DMBRF/R9ZQSxsDIwVCwt/gaUMSEyMTIzMSEgFSuwkNMH5LI4TF5GQ2HVipzgSSBAJOLrTO7pXD7CsrEtxfTk72Do53D2d7Ewn29OjvbPj/fOrixtQ5Mz3ntGje3+L0NyDD4v5zLHu3BiTuhIgz6nve0GAkzSWrdz8BCRJAiG0bRtCZFmW67pPAwuEECEEpGlqrugLx3HCMIyiCGPMGAObPxl0/wuf+p/2d6qq4pzLVnVKa92PNcloEKekeKOrkgs51pRSkmVmQAje93qsX5bLAGOxlma76zpgPlRKaaV7PSTP8yROGFs1nCujm5oXxWv1XtcNr5tmbZDSjLdta5of/DuDvUlKHuAAAAAASUVORK5CYII=" data-lazy-srcset="https://cdn.paperpile.com/blog/img/goldberg-2014-1400x1968.png?v=190 1400w,https://cdn.paperpile.com/blog/img/goldberg-2014-350x492.png?v=190 350w,https://cdn.paperpile.com/blog/img/goldberg-2014-700x984.png?v=190 700w"></p><figcaption>Sort of published in&nbsp;Nature chemistry, Volume 6 2014.</figcaption></figure><h2 id="short-abstracts">Short abstracts</h2><p>Abstracts should be short by definition. But some are shorter than others. These are the shortest we could&nbsp;find:</p><figure><p><img alt="Paper with two-word abstract" width="700" height="536" src="https://cdn.paperpile.com/blog/img/berry-2011-700x536.png" srcset="https://cdn.paperpile.com/blog/img/berry-2011-1400x1072.png?v=190 1400w,https://cdn.paperpile.com/blog/img/berry-2011-350x268.png?v=190 350w,https://cdn.paperpile.com/blog/img/berry-2011-700x536.png?v=190 700w" sizes="(min-width:700px) 700px, 100vw" data-old-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAIAAABPmPnhAAAACXBIWXMAAAsSAAALEgHS3X78AAAArklEQVQI10WO2Q6DIBBF/f//0zRKQdQqsrgBBRGlyIM9mbmZzHm52bZtSqnjOJxz53kaY9ZVCyEBwAi1Wfwa8xWJeZ611s6FfQ/W3pNRSiGEbdvCRF3Xw9A3DVZKhhAyljQAoCheVQXKssrzHELkvb913HgJzqcpBhOCE0KWZQ2JW8d28I1rRDEW46iXRcY2fx3rdN1nt9656/DhusLDra21fd8zRjmjhAxSykf/AISp4Xbc3GcoAAAAAElFTkSuQmCC" data-lazy-srcset="https://cdn.paperpile.com/blog/img/berry-2011-1400x1072.png?v=190 1400w,https://cdn.paperpile.com/blog/img/berry-2011-350x268.png?v=190 350w,https://cdn.paperpile.com/blog/img/berry-2011-700x536.png?v=190 700w"></p><figcaption>Berry, M. V., Brunner, N., Popescu, S., &amp; Shukla, P. (2011) Journal of Physics A: Mathematical and Theoretical, 44, 492001.</figcaption></figure><figure><p><img alt="Paper with three word abstract" width="700" height="238" src="https://cdn.paperpile.com/blog/img/doyle-1978-700x238.png" srcset="https://cdn.paperpile.com/blog/img/doyle-1978-1400x476.png?v=190 1400w,https://cdn.paperpile.com/blog/img/doyle-1978-350x119.png?v=190 350w,https://cdn.paperpile.com/blog/img/doyle-1978-700x238.png?v=190 700w" sizes="(min-width:700px) 700px, 100vw" data-old-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAIAAAAlXwkiAAAACXBIWXMAAAsSAAALEgHS3X78AAAAQElEQVQI12XGMQrAQAgAQf//PFtrsVAwlYrHYY5AIJAplgUzE5FTZiYiRFTVeUFEuPv1WGvtvecDujszq+rM/NxofFZuZGUiwwAAAABJRU5ErkJggg==" data-lazy-srcset="https://cdn.paperpile.com/blog/img/doyle-1978-1400x476.png?v=190 1400w,https://cdn.paperpile.com/blog/img/doyle-1978-350x119.png?v=190 350w,https://cdn.paperpile.com/blog/img/doyle-1978-700x238.png?v=190 700w"></p><figcaption>Doyle J. C. (1978) IEEE Transactions on Automatic Control, Vol. AC-23, No.4.</figcaption></figure><figure><p><img alt="Paper with one-word abstract" width="700" height="375" src="https://cdn.paperpile.com/blog/img/gardner-1974-700x375.png" srcset="https://cdn.paperpile.com/blog/img/gardner-1974-1400x749.png?v=190 1400w,https://cdn.paperpile.com/blog/img/gardner-1974-350x187.png?v=190 350w,https://cdn.paperpile.com/blog/img/gardner-1974-700x375.png?v=190 700w" sizes="(min-width:700px) 700px, 100vw" data-old-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAIAAADzBuo/AAAACXBIWXMAAAsSAAALEgHS3X78AAAAY0lEQVQI102OOQ7AIAwE+f8zOQvuhksCMkUUZQvLHq8Pce+dc4YQnHNKKa11jDGltNY654jWGkUppdbqvcdEknOG0BJYxhhMWGullMYYFjAA3HuL+1PvHfonb5sdRO7xx1eiB/Ozj7wEcHv4AAAAAElFTkSuQmCC" data-lazy-srcset="https://cdn.paperpile.com/blog/img/gardner-1974-1400x749.png?v=190 1400w,https://cdn.paperpile.com/blog/img/gardner-1974-350x187.png?v=190 350w,https://cdn.paperpile.com/blog/img/gardner-1974-700x375.png?v=190 700w"></p><figcaption>Gardner, J. K. &amp; Knopoff L. (1974) Bulletin of the Seismological Society of America, 64(5) 1363-1367.</figcaption></figure><h2 id="enough-already">Enough already</h2><figure><p><img alt="Probably the shortest letter to the editor ever" width="700" height="409" src="https://cdn.paperpile.com/blog/img/tattersall-2013-700x409.png" srcset="https://cdn.paperpile.com/blog/img/tattersall-2013-1400x818.png?v=190 1400w,https://cdn.paperpile.com/blog/img/tattersall-2013-350x204.png?v=190 350w,https://cdn.paperpile.com/blog/img/tattersall-2013-700x409.png?v=190 700w" sizes="(min-width:700px) 700px, 100vw" data-old-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAIAAAB1kpiRAAAACXBIWXMAAAsSAAALEgHS3X78AAAAbklEQVQI13WMQQqAIBREvf+lqu+6qEX1M1sKiZCJiSVCicuoxzCbNwzp2rYsCqggp0qhlAJAU9cL54TP89D3OI6IOCEyxraMMcY5R9xxXOd5/0CUUkKINWP2/a211lLKNLLWeu/fOsYYQkj9ef4AI76m1OZhgssAAAAASUVORK5CYII=" data-lazy-srcset="https://cdn.paperpile.com/blog/img/tattersall-2013-1400x818.png?v=190 1400w,https://cdn.paperpile.com/blog/img/tattersall-2013-350x204.png?v=190 350w,https://cdn.paperpile.com/blog/img/tattersall-2013-700x409.png?v=190 700w"></p><figcaption>Tattersall, Ian. Evolutionary Anthropology: Issues, News, and Reviews 22.6 (2013): 293-293.</figcaption></figure></div></article></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[HNInternal: Ask HN: Why has no one replaced Ticketmaster? (157 pts)]]></title>
            <link>https://news.ycombinator.com/item?id=37962499</link>
            <guid>37962499</guid>
            <pubDate>Fri, 20 Oct 2023 23:09:04 GMT</pubDate>
            <description><![CDATA[<p>See on <a href="https://news.ycombinator.com/item?id=37962499">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <tbody><tr id="37962993"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37962993" href="https://news.ycombinator.com/vote?id=37962993&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>Ticketmaster has exclusive deals with artists and venues.<p>Artists not signing deals with Ticketmaster lose access to venues, and venues not signing exclusivity deals with Ticketmaster lose access to artists.</p><p>There are enough of these on both sides that neither wants to lose the other so they sign.</p><p>Side note: I worked at a small ticketing software shop circa the Ticketmaster/LiveNation merger. The CEO got a call from the feds(FTC?) doing background work on the industry's view on how it might affect competition. For the life of me I can't imagine why he said it wouldn't really matter, but I have to assume that Ticketmaster was already so locked in to the industry that perhaps it didn't.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="37963158"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_37963158" href="https://news.ycombinator.com/vote?id=37963158&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>^ This.<p>~15 years ago, I was working with venues to see how we could handle ticketing, etc. They ALL had exclusive deals where the venue could ONLY sell online through TicketMaster and then TM would handle ~100% of the back office reporting, tracking, etc and even the onsite credit card processing for walk up sales.</p><p>It was one end to end system/suite and to replace any of it, you had to replace ALL of it once the contract was up. Not a fun space at all.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="37963902"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_37963902" href="https://news.ycombinator.com/vote?id=37963902&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>If this were the 1920s, antitrust enforcement would come down with an iron fist. The consolidation and control of the market is insane. I hope we can see some government movement about this at some point..</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="37965251"><td></td></tr>
                <tr id="37966288"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_37966288" href="https://news.ycombinator.com/vote?id=37966288&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>&gt; but what has been done recently?<p>Specifically about Ticketmaster or what has FTC done more broadly?</p><p>Proposed a rule against hidden fees (10 days ago). It's also supposed to give FTC enforcement mechanism so that it'd be more effective than state laws that were passed and basically ignored.</p><p>Also filed an antitrust lawsuit against Amazon (less than a month ago) for how they're treating third-party sellers. And if I remember correctly a lawsuit against Facebook is supposed to proceed in December, in which the FTC is asking the court to force Facebook to sell Instagram and WhatsApp (I wouldn't get my hopes up on this one).</p><p>FTC definitely has some teeth now, but they can't wish monopolies out of existence, they have to go through a years-long court process against an army of lawyers employed by tech companies with a budget that's orders of magnitude higher than FTC's.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="37966304"><td></td></tr>
                  <tr id="37966318"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_37966318" href="https://news.ycombinator.com/vote?id=37966318&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>Ticketmaster is the official ticket seller for the NFL. It would be interesting if the NFL decided to do tickets themselves, as they easily have the scale and sway over the venues and teams. But there’s probably not enough money in it to justify it for the NFL and if Ticketmaster isn’t broken from their view, why fix it?<p>I think we would need some entity on the scale of the NFL to fix this. Ticketmaster is too big to take on any other way.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="37964955"><td></td></tr>
                <tr id="37965378"><td></td></tr>
                <tr id="37965856"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_37965856" href="https://news.ycombinator.com/vote?id=37965856&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>Ticketmaster are enormous in Europe. Pretty much every major artist uses them, and every festival uses them (aside from Glastonbury apparently). If that's not your definition of huge I don't know what is.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="37966345"><td></td></tr>
            <tr id="37965596"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_37965596" href="https://news.ycombinator.com/vote?id=37965596&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>I think the lock-in is nowhere near what ticketmaster is doing. Bands don't have to make deals with Eventim, for venues Eventim is typically just an additional way to sell tickets.</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="37965619"><td></td></tr>
                  <tr id="37965871"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_37965871" href="https://news.ycombinator.com/vote?id=37965871&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>Sounds like a two-sided market, where a company gets their value from being able to connect one side (the artists) with the other one (the venues).<p>What I find strange is that people aren't usually reluctant to sign exclusivity agreements because it's very limiting. How did ticketmaster get so big to begin with to force / convince people of signing exclusivity clauses?
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="37966035"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_37966035" href="https://news.ycombinator.com/vote?id=37966035&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span><i>&gt;How did ticketmaster get so big to begin with to force / convince people of signing exclusivity clauses?</i><p>By dangling more money.</p><p>In the 1980s, Ticketmaster beat the competitors (e.g. Ticketron) by <i>offering the venues a better financial deal</i>.</p><p>Ticketron <i>charged</i> the venues a service fee.  Venues pay Ticketron.</p><p>Ticketmaster flipped that around and made a clever proposal:   instead of charging the venue, <i>we'll charge the concertgoing fans</i> extra service fee(s) and we'll <i>give the venue a percentage of the fees collected</i>.  To sweeten the deal, we'll even <i>pay the venue _upfront_ money as part of signing an exclusive deal</i>.</p><p><a href="https://thehustle.co/the-sneaky-economics-of-ticketmaster/" rel="nofollow noreferrer">https://thehustle.co/the-sneaky-economics-of-ticketmaster/</a></p><p>That's why most ideas about creating a new ticketing startup to "disrupt Ticketmaster" are naive about how the underlying business deals actually work.  E.g. if the well-meaning programmers have idealistic motivations to create a  new "fair ticketing" system that doesn't charge outrageous fees, <i>the venues will not sign up with you</i> which means you have no tickets to sell at the "cheaper &amp; fair price".</p><p>Why would the venues use your new "fair ticketing" system if it means they get <i>less money</i>?!?  That's the financial puzzle a viable Ticketmaster competitor has to solve.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="37966438"><td></td></tr>
                  <tr id="37965904"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_37965904" href="https://news.ycombinator.com/vote?id=37965904&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>Probably burned a lot of cash to build its dominant position and are now milking it back.<p>One way would be to sign deals reserving venue space in advance for a good chunk of the year. Artists wanting to perform there on dates reserved to Ticketmaster would need to sign exclusivity deals.</p><p>This has a network effect. The more they do, the more effective is the strategy and the easier it gets to keep doing it.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="37966268"><td></td></tr>
                  <tr id="37963279"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_37963279" href="https://news.ycombinator.com/vote?id=37963279&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>Perhaps if there were enough big artists to get together and "strike" against Live Nation/Ticketmaster exclusive venues something might change for the better for their fans.<p>But, alas, that money too good.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="37965178"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_37965178" href="https://news.ycombinator.com/vote?id=37965178&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>&gt; But, alas, that money too good.<p>This one. Not only does ticketmaster have contracts with most venues unless they own them outright, they're also a very convenient foil as they serve as ire-magnets.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="37963326"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_37963326" href="https://news.ycombinator.com/vote?id=37963326&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>If a venue has signed a multi-year contract with Ticketmaster there's not much they can do as a short-term measure inspired by something like a strike.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="37963384"><td></td></tr>
                <tr id="37963407"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_37963407" href="https://news.ycombinator.com/vote?id=37963407&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>Anti-trust (at least to me) has a connotation with trust-busting and splitting up companies, but I'd be interested in the ramifications of restricting Ticketmaster to creating contracts no longer than, say, 6 months.<p>On one hand, free markets involve sellers and buyers coming together freely which exclusivity contracts prohibit, but on the other hand exclusivity contracts are nominally voluntary agreements which is a free exchange. Perhaps free-exchange simply isn't a useful framing here.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="37965595"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_37965595" href="https://news.ycombinator.com/vote?id=37965595&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>Trust busting exists for this very case.  Shorter contracts would solve nothing because the market is as far from free as it can be and the one in charge has no interest in changing that.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="37965885"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_37965885" href="https://news.ycombinator.com/vote?id=37965885&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>The busting and splitting up is a hard tool, but anti-trust has many other tools at their disposal, including maintaining status quo (i.e. refusing the merge of two companies). Disclaimer: I don't work in the US, so I'm not sure if anti-trust there is heavily biased there to this heavy duty tool, but I do know they have plenty of other tools</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="37964891"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_37964891" href="https://news.ycombinator.com/vote?id=37964891&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>This could be a headache for venues. The financial arbitrage is too good for them, they have almost zero risk of having their venue empty.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="37964956"><td></td></tr>
                  <tr id="37963522"><td></td></tr>
                  <tr id="37963390"><td></td></tr>
                        <tr id="37963096"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37963096" href="https://news.ycombinator.com/vote?id=37963096&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>The question should really be why the FTC tolerates this, letting them after all this time enjoy the blatantly monopolistic anti-consumer stance they've enjoyed since the 80's (at least). It isn't difficult to see how nasty of a business this is by how hated they are by artists and consumers alike, and if nothing else they should be broken up the same way Ma Bell as a telecom monopoly.<p>At least it might come with some renewed interest in competition getting in on game with a better playing field before the monopoly starts forming again in new ways.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="37963116"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_37963116" href="https://news.ycombinator.com/vote?id=37963116&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>Truly. Of all of the various big companies that are being accused of monopoly, I can't think of a clearer, more supportable case (one where the monopoly position is obviously being abused) than Ticketmaster. And yet, the feds don't seem to mind.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="37963839"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_37963839" href="https://news.ycombinator.com/vote?id=37963839&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>In a world free from the corruption of billionaires and corporations outright buying influence in DC, <a href="https://economicliberties.us/" rel="nofollow noreferrer">https://economicliberties.us</a> , a nonpartisan, nonprofit think-tank and lobbies for improving and enforcing antitrust regulations would be the best place to take this.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="37963254"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_37963254" href="https://news.ycombinator.com/vote?id=37963254&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>I imagine one factor is whether a monopolistic company has made enemies along the federal partisanship divide, or been in a situation where a politician believed they could advance their own career by stirring something up.</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="37965135"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_37965135" href="https://news.ycombinator.com/vote?id=37965135&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>What's really wild is that for the last 2.5 years the FTC has been led by somebody who's super dialed in on antitrust issues and trying to take these companies to court, but the government is having a hard time winning the cases. So either the courts have been bought and paid for, or the laws are weak and out of date because Congress is bought and paid for, or both. All this despite a rough but widespread understanding among the majority of Americans that the economy is rigged.<p>Biden is probably the first President since Carter to have even acknowledged the issue, we have 40 years of both Democrats and Republicans at every level of government slopping at the trough at this point.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="37966314"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_37966314" href="https://news.ycombinator.com/vote?id=37966314&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>I posit a 3rd option:<p>antitrust enforcers starting with Lina K are  so incompetent that they cant win open and shut cases</p><p>Exhibit A: action against a merger between Amazon and a robo-vaccum company, iRobot.</p><p>Let that sink for a minute.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                  <tr id="37964908"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_37964908" href="https://news.ycombinator.com/vote?id=37964908&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>As much as I am in favor of breaking up anti-competitive monopolies, I don't think that really gets to the root of th issue. As long as it's legal to make the sort of exclusivity deals that Ticketmaster has, someone can take over the market.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="37963305"><td></td></tr>
                  <tr id="37963593"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37963593" href="https://news.ycombinator.com/vote?id=37963593&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>We replaced Ticketmaster for fan club tix to Prince's Musicology tour.<p>Ticketmaster wasn't set up to handle the unique setup Prince wanted, popular tour in both arena and intimate venues with scheduled sales.  When all Prince's music club fans were trying to buy the tickets to a 300 seat venue at 12 noon on a Friday, Ticketmaster had trouble.</p><p>Prince being Prince ditched the studio for his music, and bypassed Ticketmaster for his tickets, for what he wanted to do.  Over the course of a few weeks, working for his incredibly talented and creative webmaster Sam Jennings, we built and hosted a system that could handle the flash traffic and sell the correct number of NPGMusicClub tickets for these small venues in the milliseconds the event started.</p><p>Musicology Live 2004ever went on to do $87.4 million from 77 shows in 52 cities across the United States, selling more than 1.4 million tickets.</p><p>It didn't occur to us we should make a business out of having been able to do that.  But being 6 feet from his guitar playing in Webster Hall NYC is quite the memory, so no regrets.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="37964096"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_37964096" href="https://news.ycombinator.com/vote?id=37964096&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>Erm except AEG promoted that whole tour (and the too few beyond it – RIP Prince) and is a replica of, and/or, the only direct competitor of Live Nation.<p>That's a weird example to pick out, as if Prince was 'fighting the system', and yet I'm sure you know he exclusively signed &amp; got paid up-front from the 2nd positioned monopoly in the game.</p><p>Cool story that you got to sit side stage and wrote code behind his fan club ticketing (which I'm sure you and AMEX shared for &lt;= 7% total tickets sold, and AEG _definitely_ didn't finance as part of the exclusivity deal on the whole run) but come on... I know you know all you've done is present an alternative story that's supposed to garner upvotes but anyone who knows, knows you were the next one in line to fuck this entire industry and rake it off top.</p><p>Edit: Google says fans also know. <a href="https://prince.org/msg/7/247733" rel="nofollow noreferrer">https://prince.org/msg/7/247733</a>
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="37964997"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_37964997" href="https://news.ycombinator.com/vote?id=37964997&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>It’s weird to complain about supporting AEG claiming they’re somehow the 2nd “monopoly” after LiveNation. You can only have one “monopoly” in a given industry, otherwise they’re both just close competitors.<p>Having a close second competitor is still a step in the right direction, even if you disagree with their business practices.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="37965593"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_37965593" href="https://news.ycombinator.com/vote?id=37965593&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>That’s not true. You can have two or more companies share a market via market splitting and the result is still effectively a monopoly.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="37965873"><td></td></tr>
                <tr id="37966334"><td></td></tr>
                              <tr id="37965651"><td></td></tr>
                  <tr id="37963853"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_37963853" href="https://news.ycombinator.com/vote?id=37963853&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>There ought to be (separately):<p>- A talent-owned, co-op live music ticket and venue platform</p><p>- A talent-owned, co-op music streaming service on all the devices (Spotify as the benchmark, Tidal is better quality but less convenient)</p><p>- A talent-owned, co-op label</p><p>Pick any or all 3. The only way to get money back to the creators is for them to own it because the megacorps never will give more than pennies without a fight. The major are only have the perception of a lock on distribution by the inertia of popularity that celebrity influencers can readily overcome.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="37963627"><td></td></tr>
                  <tr id="37962571"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37962571" href="https://news.ycombinator.com/vote?id=37962571&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>Live Nation, who own Ticketmaster, also own the venues and do the promotion for the tours.<p>They have a vertically integrated monopoly.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="37963093"><td></td></tr>
                <tr id="37963185"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_37963185" href="https://news.ycombinator.com/vote?id=37963185&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>Not accurate. TM already had a lock the market before LN acquired them. In fact, LN created their own ticketing platform to compete with TM... and failed miserably.<p>Take a look at the largest venues in the country. Most of them aren't owned by LN, but they still use TM for ticketing. If anything, TM has helped LN to acquire more venues than the other way around. In general, TM has a much more dominant share of the ticketing business than LN has of the venue or promotion business.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="37966259"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_37966259" href="https://news.ycombinator.com/vote?id=37966259&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>It's not that LN owns the venues, but that the venues have an exclusive ticket agreement with TM. So if you want to perform at this venue, you must sell via TM. When my startup was trying to compete, we found that basically every single outdoor amphitheater had exclusive ticket rights. This makes stuff like crowdfunding a concert impossible</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="37963249"><td></td></tr>
                <tr id="37965245"><td><table>  <tbody><tr>    <td indent="4"><img src="https://news.ycombinator.com/s.gif" height="1" width="160"></td><td>
      <center><a id="up_37965245" href="https://news.ycombinator.com/vote?id=37965245&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>OP asked why nobody has beaten TM. The answer cannot be "because they have a vertically integrated monopoly" <i>because in the past</i> that wasn't true and nobody was able to beat them then either.</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="37965563"><td></td></tr>
                              <tr id="37963471"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37963471" href="https://news.ycombinator.com/vote?id=37963471&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>Ticketmaster is a company which is so hated, people ascribe their success to malice and illegal activity rather than any compelling economic arguments. It's unfortunate because their business model is, imo, quite interesting.<p>The first thing to point out is that the question itself is flawed. Ticketmaster has a number of competitors (StubHub, Eventbrite, AXS, Seatgeek). Nevertheless, artists do seem to always gravitate to companies like Ticketmaster, even when neither they nor their venue have any affiliation.</p><p>What we should ask is what problems a naive artist would face selling their tickets like any other commodity:</p><p>- They overprice it: No one shows up, people are angry at the artist, the artist is in debt to the venue for overbooking.</p><p>- They underprice it: The tickets are hoovered up by scalpers who capture most of the ticket's true value, fans are disappointed they can't attend because finding a ticket is much harder.</p><p>Ticketmaster's (et al) primary service is to capture as much of the value of each ticket as possible (through phased ticket rollouts, faux-sellouts, variable pricing, attendance modelling, etc.) and package the event wholesale for the venue and artist. Both parties are can be guaranteed of some portion of the event before tickets even go on sale and the risk for them both is diminished.</p><p>Obviously I'm not trying to say Ticketmaster is all sunshine and lollipops, but if you want to make an argument about Ticketmaster's success, saying that they've cornered the ticketed events market globally is ludicrous.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="37965186"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_37965186" href="https://news.ycombinator.com/vote?id=37965186&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>Obviously not true. Pearl Jam tried to ditch Ticketmaster in the 90s and ended up cancelling their tour because they could only get shitty locations. The top comment here is correct: Ticketmaster has exclusive deals with venues and you can't get around it as a performer.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="37966087"><td></td></tr>
            <tr id="37964889"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_37964889" href="https://news.ycombinator.com/vote?id=37964889&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>&gt; Nevertheless, artists do seem to always gravitate to companies like Ticketmaster, even when neither they nor their venue have any affiliation.<p>Artists will want play at more than one venue, surely, and I should imagine that TM's stance is "If you want to play at any of our venues, you sign with us".  Might be possible for a small indie band to completely avoid any TM venues but for any moderately popular band, it's probably not possible.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="37964188"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_37964188" href="https://news.ycombinator.com/vote?id=37964188&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>&gt; Ticketmaster has a number of competitors (StubHub, Eventbrite, AXS, Seatgeek).<p>Those are reseller platforms (StubHub, Seatgeek) and independent entities (Eventbrite &amp; AXS) that aren't associated with the venues/rooms they're playing in.</p><p>So your examples either:</p><p>1) Resell tickets from Ticketmaster + the list you mentioned + all other providers, or</p><p>2) They don't have the ability to flex on people because they don't own &amp; operate the rooms across the entire planet, and in turn can't hit them with exclusivity clauses in their contracts the second they step foot into one of XXXXX rooms they'd like to play.</p><p>&gt; Nevertheless, artists do seem to always gravitate to companies like Ticketmaster, even when neither they nor their venue have any affiliation.</p><p>Are you sure those non-affiliated venues don't have 10+ year exclusive ticketing contract that came with a fat lump sum when the ink dried in order to modernize &amp; sustain their business?</p><p>I'd also question which rooms are slanging TM tickets without being owned by the overarching entity? I don't think I've ever seen that and I'd appreciate you presenting some examples of this.</p><p>&gt; What we should ask is what problems a naive artist would face selling their tickets like any other commodity:</p><p>So anyone outside the TM system is naive? Wow... 0k... proceed...</p><p>&gt; - They overprice it: No one shows up, people are angry at the artist, the artist is in debt to the venue for overbooking.</p><p>Please explain to me how the artist is in debt to the venue? There isn't a promoter in between the two? The artist is signing loan agreements and going into debt to the venue? Tell me you have zero clue what you're talking about without telling me you don't know a single thing about this industry...</p><p>&gt; - They underprice it: The tickets are hoovered up by scalpers who capture most of the ticket's true value, fans are disappointed they can't attend because finding a ticket is much harder.</p><p>Again, no idea what you're talking about.</p><p>1) TM is GASSED UP when scalpers hoover up. They have multiple reselling platforms for exactly this scenario, including one that's TM branded. They _love_ this.</p><p>2) In reality, the promoter/venue is totally fine with this. They build offers against the proposed ticket price &amp; sellable capacity, and a sell out is a sell out. Sure, hindsight is 20/20 and they'll reference historicals and adjust accordingly when the agent hits them up for the next play, but nobody is mad at a sell out.</p><p>&gt; and package the event wholesale for the venue and artist. Both parties are can be guaranteed of some portion of the event before tickets even go on sale and the risk for them both is diminished.</p><p>They own &amp; operate the venues. The artists are paid cash up front to sign the exclusive tour contract. They're not working for _anyone_ other than Ticketmaster... you're tripping my guy...</p><p>&gt; Obviously I'm not trying to say Ticketmaster is all sunshine and lollipops</p><p>Ayyyyy no worries anyone with any exposure to this industry and half of a brain has already determined you have no idea what you're talking about, you're wrong &amp; confused &amp; way out of pocket, and we already know TM isn't sunshine &amp; lollipops... back into your text editor you go (please)...
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="37963513"><td></td></tr>
                <tr id="37965798"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_37965798" href="https://news.ycombinator.com/vote?id=37965798&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>Except this isn’t a balanced perspective. That Ticketmaster can help cover the increased costs of touring is not really relevant to the discussion of “why isn’t there a replacement for Ticketmaster?”.<p>Why?</p><p>Livenation and Ticketmaster controls like 70+% of the market for shows (<a href="https://insights.som.yale.edu/insights/did-ticketmasters-market-dominance-fuel-the-chaos-for-swifties" rel="nofollow noreferrer">https://insights.som.yale.edu/insights/did-ticketmasters-mar...</a>). They own fuck tons of venues and literally can’t be competed with in a lot of instances. Theres not a competitor because it turns out that acquiring vast numbers of venues is expensive and is only something that a market leader like Livenation could do.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                        <tr id="37963368"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37963368" href="https://news.ycombinator.com/vote?id=37963368&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>Wrote my own Ticketmaster replacement for the Handmade conferences, as it's one of our core principles [0]:<p>&gt; <i>Anything essential to our conferences is processed in-house. E.g. When you register for an event we personally handle the process to generate your ticket—removing spying middlemen like Ticketmaster.</i></p><p>It saves thousands in Ticketmaster fees which is life-changing when you're indie. We don't have to overcharge ticket holders.</p><p>I'd be interested in turning this into a polished webapp other organizers can install and use. Sadly, building your own replacement doesn't address the monopoly TM has with the biggest venues.</p><p>[0] <a href="https://handmadecities.com/about" rel="nofollow noreferrer">https://handmadecities.com/about</a>
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="37963273"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37963273" href="https://news.ycombinator.com/vote?id=37963273&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>I’ve seen a lot of use of Dice lately, which has a nice app and a decent ticket resale process.<p>I was initially quite a big fan until I purchased “sold out” tickets to a music festival a year in advance with the assurance that I could resell them if I changed my mind, only to see the resale queue disabled many months before the festival due to “lack of demand”. This didn’t seem to align with the festival being sold out, and apparently the tickets were released in batches which allowed them to claim it was “sold out” despite there being plenty of tickets still available. I’m not sure if this was the fault of Dice or the festival itself but soured my impression significantly.</p><p>Dice is still leagues better than Ticketmaster both in terms of UX and fees, but to me Resident Advisor is still the gold standard; unfortunately it seems a lot of the sort of shows that would be listed on RA are now on Dice instead.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="37965086"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_37965086" href="https://news.ycombinator.com/vote?id=37965086&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>Yep, the fact that events (or even specific days of an event) can have their resale queue disabled <i>at any time</i> is a huge downside. My wife's been bitten by that as well.</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="37962908"><td></td></tr>
            <tr id="37965833"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37965833" href="https://news.ycombinator.com/vote?id=37965833&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>In addition to what everybody else has said, I will add one more thing:<p>They don't go down when there's a big ticket sale. If you've ever used these alternative ticket sites, they will struggle under the load.</p><p>The reason it is hard is because there is a flood of people all hammering your site at once, all doing credit card transactions. There's bots. There's people hitting refresh constantly.</p><p>They are lame for a lot of reasons, but they don't suck in this department. And I imagine that is important for a lot of people.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="37965524"><td></td></tr>
                <tr id="37965642"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_37965642" href="https://news.ycombinator.com/vote?id=37965642&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>Dice is so much better from a user standpoint. Ticketmaster still mails me physical tickets or asks me to print them. Dice's app just works.</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="37963177"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37963177" href="https://news.ycombinator.com/vote?id=37963177&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>I worked at a startup that tried to compete with them. Eventually we just sold to them. I don’t know the details sorry.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="37963218"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_37963218" href="https://news.ycombinator.com/vote?id=37963218&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>This is why it is naive to think that a startup is successful because of the product. Here product market fit is about power specifically.</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="37962943"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37962943" href="https://news.ycombinator.com/vote?id=37962943&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>Their moat is a combination of vertical integration(their parent company owns a bunch of venues) and contract lockup with other venues they don't own.<p>Also, since artists make almost all of their money from tours, they know trouble will arise with the mess that is ticket/venue sales. If they go full capitalist and someone like Taylor Swift starts charging what the market will bear(maybe $10k/ticket ?), many people will revolt, since there is zero chance they can afford that.</p><p>Instead, they can lay 100% of the blame on Ticketmaster, and nobody hates the artists for the mess.</p><p>So artists are not incentivized to try and fix the mess, and venues are not really incentivized either, since they also get to lay the blame on Ticketmaster.</p><p>Ticketmaster in the meantime takes all the blame, does nothing and keeps depositing fat stacks of cash in their bank account.</p><p>Some incentive will have to change, for this to get fixed. Perhaps govt will slap some regulations on Ticketmaster? Perhaps people will stop blaming Ticketmaster and make venues and/or artists accountable for their continued contracting with Ticketmaster?  I don't know, but until something changes, don't expect Ticketmaster to behave or a competitor to show up.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="37966468"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_37966468" href="https://news.ycombinator.com/vote?id=37966468&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>I tend to agree with this analysis--that a part of the TM business model is extracting additional money for venues, artists and themselves, and taking on 100% of the reputational hit for fees. It's fascinating but have a hard time thinking of similar examples of a similar model, if anyone has some.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="37963053"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_37963053" href="https://news.ycombinator.com/vote?id=37963053&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>Wow. What a brilliantly evil racket. The invisible hand of the market at work I guess. I’m glad I hate going to concerts.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="37963092"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_37963092" href="https://news.ycombinator.com/vote?id=37963092&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>I enjoy going to concerts and other shows (Ticketmaster is not just into concerts), but haven't been, except for small local ones, in a number of years because I am not willing to support Ticketmaster.</span></p></div></td></tr>
        </tbody></table></td></tr>
                        <tr id="37965008"><td></td></tr>
            <tr id="37962942"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37962942" href="https://news.ycombinator.com/vote?id=37962942&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>In France it was widely used but now we have new competitors like www.shotgun.live with a modern app, built-in resale feature, stripe payment, etc.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="37963000"><td></td></tr>
                <tr id="37965053"><td><table>  <tbody><tr>    <td indent="2"><img src="https://news.ycombinator.com/s.gif" height="1" width="80"></td><td>
      <center><a id="up_37965053" href="https://news.ycombinator.com/vote?id=37965053&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>Afaik shotgun is specialized in nightclubs and electronic music festivals so I would say it’s not that big but it’s getting bigger.<p>Also, Ticketmaster influence wasn’t that big in France to begin with because many concert halls and arenas have their own ticketing website. Music events were also not that pricey compared to other neighboring countries, probably because the state pumps a lot of money in the music system.</p><p>Of course now we also have huge expensive festivals owned by Live Nation and the likes and the model is changing: festival are going from 30€ a day to almost 80€+
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                        <tr id="37962994"><td></td></tr>
                <tr id="37964261"><td></td></tr>
                  <tr id="37963099"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37963099" href="https://news.ycombinator.com/vote?id=37963099&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>Contracts and preferential attachment. Competition theory as taught in economics class assumes zero friction to enter and exit the market, complete informational transparency for buyers and sellers, and suchlike. It really doesn't apply in the Real World outside of maybe commodity markets.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="37963274"><td></td></tr>
            <tr id="37963405"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37963405" href="https://news.ycombinator.com/vote?id=37963405&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>Exclusive, and frequently draconian, arrangements with venues (and sometimes artists).<p>Kind of like back in the day when Intel &amp; Microsoft imposed drastic licenses on Dell and HP that you couldn't get Windows license if you shipped ANY linux or non-windows laptops, Ticketmaster has the tremendous power of blacklisting non-conforming venues.</p><p>And then there's the REALLY SHADY stuff they do like hiring competitor executives who bring over their passwords, excels and accounts (<a href="https://www.directitcorp.com/blog/ticketmaster-caught-accessing-competitors-databases/);" rel="nofollow noreferrer">https://www.directitcorp.com/blog/ticketmaster-caught-access...</a> and other ridiculously wrong stuff like this <a href="https://www.cbc.ca/news/business/ticketmaster-resellers-las-vegas-1.4828535" rel="nofollow noreferrer">https://www.cbc.ca/news/business/ticketmaster-resellers-las-...</a> . Just start google search with "TicketMaster Caught..." and you'll find fascinating stuff that should be made up but isn't.</p><p>Basically they are a big evil bully.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="37962548"><td></td></tr>
            <tr id="37963352"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37963352" href="https://news.ycombinator.com/vote?id=37963352&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>Other companies seem just as bad. I bought tickets through AXS (no choice), and the $30 "general admission" (standing) tickets to a semi-popular rocker went from  $30 to $60.  Fees were literally the same price as the ticket. Insanity.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="37962726"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37962726" href="https://news.ycombinator.com/vote?id=37962726&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>Artists like using Ticketmaster because they can blame Ticketmaster for fees.  And, more broadly, blame Ticketmaster for the unavoidable problems that arise because there isn't an unlimited supply of tickets, and artists want to generate (almost) as much revenue as possible from them.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="37965932"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_37965932" href="https://news.ycombinator.com/vote?id=37965932&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>Yup. I'm convinced that part of Ticketmaster's business proposition is to absorb the hate for artists who want to maximize profits but don't want to look responsible for the ruthless capitalist approach because it would taint their artistic appeal.<p>Ticketmaster's service is to provide something to point a finger at. People hating them instead of their clients is just their product working as intended.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="37962905"><td></td></tr>
                <tr id="37963235"><td></td></tr>
                <tr id="37963413"><td></td></tr>
                              <tr id="37963426"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37963426" href="https://news.ycombinator.com/vote?id=37963426&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>One lesser known moat that Ticketmaster has is they have the best tech stack.<p>From what I've heard from folks in the industry, literally no one else is capable of handling the biggest artists like Taylor Swift.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="37965103"><td></td></tr>
                  <tr id="37963012"><td></td></tr>
            <tr id="37963259"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37963259" href="https://news.ycombinator.com/vote?id=37963259&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>Honestly, it's not what the rhetoric tells you.<p>The entertainment business is not very technical. TM serves as their IT department. By the nature of the business, everyone wants to differentiate themselves from everyone else. So literally every client wants some special feature that no one has seen before. TM is the only place that can afford to say, "sure, we'll do it" to all of them, and since most of the clients (sports teams being the major exception) aren't that technically sophisticated, so they're not in a position to do the differentiation on their own.</p><p>Startups usually don't succeed by having more features than entrenched competitors. They succeed, but delivering a small bundle of features that create a huge value difference. If one were to do that, it'd be great for the first few clients that used them, and then it'd be "old hat" and everyone else would want tons of new, differentiated features, which would cause the startup to lose focus. The industry doesn't want a handful of outstanding features. They all want to be snowflakes.</p><p>&gt; I constantly see people complaining about ticketmaster with scalping</p><p>Ironically, the reseller market is the one part of the ticketing market that TM hasn't dominated. It's kind of ironic that people talk about TM when they complain about scalping.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
                <tr id="37963337"><td></td></tr>
                  <tr id="37963389"><td></td></tr>
            <tr id="37965301"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37965301" href="https://news.ycombinator.com/vote?id=37965301&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>In my area I use<p>Eventbrite</p><p>Dice</p><p>Ticketfairy</p><p>ResidentAdvisor</p><p>Partiful</p><p>so I dont know, it seems pretty fragmented to me
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="37963675"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37963675" href="https://news.ycombinator.com/vote?id=37963675&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>I was blown away when I found out LiveNation owns their venues. That's how they lock the artists in. I think Ticketmaster and live nation both are monopolies, maybe even racketeering.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="37963364"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37963364" href="https://news.ycombinator.com/vote?id=37963364&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><p><span>&gt; I constantly see people complaining about ticketmaster with scalping, nasty business tactics, broken interfaces, etc. and they get sued left and right after countless big events.<p>&gt; Yet even with all that, it seems no competitor has been able to reasonably get off the ground and poise a viable alternative. What gives?</p><p>To the extent that you're complaining about <i>scalping</i>, that's not something ticketmaster does. Scalping is a choice made by whoever originates the tickets. If the facial price is $20 and the market value is $700, scalping is going to occur regardless of whatever platform(s) may be involved. And if the facial price is $20 and the market price is $5, scalping won't occur regardless of whatever platform(s) may be involved.
              </p></span></p></td></tr>
        </tbody></table></td></tr>
            <tr id="37963232"><td></td></tr>
                <tr id="37963282"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_37963282" href="https://news.ycombinator.com/vote?id=37963282&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>Tickets for events necessarily have a limited supply.
If demand exceeds supply, price goes up.
The box offices keep the face value prices of the tickets lower than what the market will bear.
Therefore, someone will always step in to arbitrate and collect the margin.
Even if Ticketmaster were destroyed, it would not have any impact on scalping. 
The only way to stop this from happening is for the face value of high demand tickets to rise greatly.
For example, you could sell tickets with a dutch auction.</span></p></div></td></tr>
        </tbody></table></td></tr>
                <tr id="37965688"><td></td></tr>
                <tr id="37966369"><td><table>  <tbody><tr>    <td indent="3"><img src="https://news.ycombinator.com/s.gif" height="1" width="120"></td><td>
      <center><a id="up_37966369" href="https://news.ycombinator.com/vote?id=37966369&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>Are you suggesting there is no valid use case for reselling tickets other than scalping? (I am unable to make it to an event today for which I bought tickets due to an unforeseen circumstance). Do you propose that my ticket has to go to waste?</span></p></div></td></tr>
        </tbody></table></td></tr>
                        <tr id="37964988"><td></td></tr>
            <tr id="37965720"><td><table>  <tbody><tr>    <td indent="1"><img src="https://news.ycombinator.com/s.gif" height="1" width="40"></td><td>
      <center><a id="up_37965720" href="https://news.ycombinator.com/vote?id=37965720&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>Scalping is something that the artists and ticket sellers specifically enable. If there's a name on each ticket you can't resell it.</span></p></div></td></tr>
        </tbody></table></td></tr>
                  <tr id="37963596"><td><table>  <tbody><tr>    <td indent="0"><img src="https://news.ycombinator.com/s.gif" height="1" width="0"></td><td>
      <center><a id="up_37963596" href="https://news.ycombinator.com/vote?id=37963596&amp;how=up&amp;goto=item%3Fid%3D37962499"></a></center>    </td><td><br><div>
                  <p><span>(activates voice changer) my side hustle is working for LiveNation at a local venue. Now they pay me to go to shows.</span></p></div></td></tr>
        </tbody></table></td></tr>
            <tr id="37962920"><td></td></tr>
            <tr id="37963238"><td></td></tr>
            <tr id="37962958"><td></td></tr>
            </tbody></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Don't use DISTINCT as a "join-fixer" (210 pts)]]></title>
            <link>https://www.red-gate.com/simple-talk/databases/sql-server/t-sql-programming-sql-server/dont-use-distinct-as-a-join-fixer/</link>
            <guid>37962370</guid>
            <pubDate>Fri, 20 Oct 2023 22:52:17 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.red-gate.com/simple-talk/databases/sql-server/t-sql-programming-sql-server/dont-use-distinct-as-a-join-fixer/">https://www.red-gate.com/simple-talk/databases/sql-server/t-sql-programming-sql-server/dont-use-distinct-as-a-join-fixer/</a>, See on <a href="https://news.ycombinator.com/item?id=37962370">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
				<p>I’ve quietly resolved performance issues by re-writing slow queries to avoid <code>DISTINCT</code>. Often, the <code>DISTINCT</code> is there only to serve as a “join-fixer,” and I can explain what that means using an example.</p>
<p>Let’s say we have the following grossly simplified schema, representing customers, products, and product categories:</p>
<!-- Urvanov Syntax Highlighter v2.8.28 -->

		<div id="urvanov-syntax-highlighter-653393141ee43712990757" data-settings=" minimize scroll-always">
				<table>
					<tbody><tr>
				<td data-settings="hide">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p></div>
				</td>
						<td><div><p><span> </span><span>CREATE</span><span> </span><span>TABLE</span><span> </span><span>dbo</span><span>.</span><span>Customers</span></p><p><span> </span><span>(</span></p><p><span>&nbsp;&nbsp; </span><span>CustomerID</span><span> </span><span>int</span><span> </span><span>NOT</span><span> </span><span>NULL</span><span>,</span></p><p><span>&nbsp;&nbsp; </span><span>Name</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>nvarchar</span><span>(</span><span>255</span><span>)</span><span> </span><span>NOT</span><span> </span><span>NULL</span><span>,</span></p><p><span>&nbsp;&nbsp; </span><span>CONSTRAINT</span><span> </span><span>PK_Customers</span><span> </span><span>PRIMARY</span><span> </span><span>KEY</span><span> </span><span>(</span><span>CustomerID</span><span>)</span></p><p><span> </span><span>)</span><span>;</span></p><p><span> </span><span>CREATE</span><span> </span><span>TABLE</span><span> </span><span>dbo</span><span>.</span><span>Categories</span></p><p><span> </span><span>(</span></p><p><span>&nbsp;&nbsp; </span><span>CategoryID</span><span> </span><span>int</span><span> </span><span>NOT</span><span> </span><span>NULL</span><span>,</span></p><p><span>&nbsp;&nbsp; </span><span>Name</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>nvarchar</span><span>(</span><span>255</span><span>)</span><span> </span><span>NOT</span><span> </span><span>NULL</span><span>,</span></p><p><span>&nbsp;&nbsp; </span><span>CONSTRAINT</span><span> </span><span>PK_Categories</span><span> </span><span>PRIMARY</span><span> </span><span>KEY</span><span> </span><span>(</span><span>CategoryID</span><span>)</span><span>,</span></p><p><span>&nbsp;&nbsp; </span><span>CONSTRAINT</span><span> </span><span>UQ_Categories</span><span> </span><span>UNIQUE</span><span> </span><span>(</span><span>Name</span><span>)</span></p><p><span> </span><span>)</span><span>;</span></p><p><span> </span><span>CREATE</span><span> </span><span>TABLE</span><span> </span><span>dbo</span><span>.</span><span>Products</span></p><p><span> </span><span>(</span></p><p><span>&nbsp;&nbsp; </span><span>ProductID</span><span>&nbsp;&nbsp;</span><span>int</span><span> </span><span>NOT</span><span> </span><span>NULL</span><span>,</span></p><p><span>&nbsp;&nbsp; </span><span>CategoryID</span><span> </span><span>int</span><span> </span><span>NOT</span><span> </span><span>NULL</span><span>,</span></p><p><span>&nbsp;&nbsp; </span><span>Name</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>nvarchar</span><span>(</span><span>255</span><span>)</span><span> </span><span>NOT</span><span> </span><span>NULL</span><span>,</span></p><p><span>&nbsp;&nbsp; </span><span>CONSTRAINT</span><span> </span><span>PK_Products</span><span> </span><span>PRIMARY</span><span> </span><span>KEY</span><span> </span><span>(</span><span>ProductID</span><span>)</span></p><p><span> </span><span>)</span><span>;</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
<!-- [Format Time: 0.0010 seconds] -->

<p>And then we have tables for orders and order details:</p>
<!-- Urvanov Syntax Highlighter v2.8.28 -->

		<div id="urvanov-syntax-highlighter-653393141ee4c860272160" data-settings=" minimize scroll-always">
				<table>
					<tbody><tr>
				<td data-settings="hide">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p></div>
				</td>
						<td><div><p><span> </span><span>CREATE</span><span> </span><span>TABLE</span><span> </span><span>dbo</span><span>.</span><span>Orders</span></p><p><span> </span><span>(</span></p><p><span>&nbsp;&nbsp; </span><span>OrderID</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>int</span><span> </span><span>NOT</span><span> </span><span>NULL</span><span>,</span></p><p><span>&nbsp;&nbsp; </span><span>CustomerID</span><span> </span><span>int</span><span> </span><span>NOT</span><span> </span><span>NULL</span><span>,</span></p><p><span>&nbsp;&nbsp; </span><span>OrderDate</span><span>&nbsp;&nbsp;</span><span>date</span><span>,</span></p><p><span>&nbsp;&nbsp; </span><span>OrderTotal</span><span> </span><span>decimal</span><span>(</span><span>12</span><span>,</span><span>2</span><span>)</span><span>,</span></p><p><span>&nbsp;&nbsp; </span><span>CONSTRAINT</span><span> </span><span>PK_Orders</span><span> </span><span>PRIMARY</span><span> </span><span>KEY</span><span> </span><span>(</span><span>OrderID</span><span>)</span></p><p><span> </span><span>)</span><span>;</span></p><p><span> </span><span>CREATE</span><span> </span><span>TABLE</span><span> </span><span>dbo</span><span>.</span><span>OrderDetails</span></p><p><span> </span><span>(</span></p><p><span>&nbsp;&nbsp; </span><span>OrderID</span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span>int</span><span> </span><span>NOT</span><span> </span><span>NULL</span><span>,</span></p><p><span>&nbsp;&nbsp; </span><span>LineItemID</span><span> </span><span>int</span><span> </span><span>NOT</span><span> </span><span>NULL</span><span>,</span></p><p><span>&nbsp;&nbsp; </span><span>ProductID</span><span>&nbsp;&nbsp;</span><span>int</span><span> </span><span>NOT</span><span> </span><span>NULL</span><span>,</span></p><p><span>&nbsp;&nbsp; </span><span>Quantity</span><span>&nbsp;&nbsp; </span><span>int</span><span> </span><span>NOT</span><span> </span><span>NULL</span><span>,</span></p><p><span>&nbsp;&nbsp; </span><span>CONSTRAINT</span><span> </span><span>PK_OrderDetails</span><span> </span><span>PRIMARY</span><span> </span><span>KEY</span><span>&nbsp;&nbsp;</span><span>(</span><span>OrderID</span><span>,</span><span> </span><span>LineItemID</span><span>)</span><span>,</span></p><p><span>&nbsp;&nbsp; </span><span>INDEX</span><span> </span><span>IX_OrderDetails_OrderID_ProductID </span><span>(</span><span>OrderID</span><span>,</span><span> </span><span>ProductID</span><span>)</span></p><p><span> </span><span>)</span><span>;</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
<!-- [Format Time: 0.0008 seconds] -->

<p>And some sample data:</p>
<!-- Urvanov Syntax Highlighter v2.8.28 -->

		<div id="urvanov-syntax-highlighter-653393141ee4e050402326" data-settings=" minimize scroll-always">
				<table>
					<tbody><tr>
				<td data-settings="hide">
					
				</td>
						<td><div><p><span> </span><span>INSERT</span><span> </span><span>dbo</span><span>.</span><span>Customers </span><span>(</span><span>CustomerID</span><span>,</span><span> </span><span>Name</span><span>)</span></p><p><span>&nbsp;&nbsp; </span><span>VALUES</span><span> </span><span>(</span><span>1</span><span>,</span><span>N</span><span>'Aaron'</span><span>)</span><span>,</span><span> </span><span>(</span><span>2</span><span>,</span><span>N</span><span>'Bob'</span><span>)</span><span>;</span></p><p><span> </span><span>INSERT</span><span> </span><span>dbo</span><span>.</span><span>Categories </span><span>(</span><span>CategoryID</span><span>,</span><span> </span><span>Name</span><span>)</span></p><p><span>&nbsp;&nbsp; </span><span>VALUES</span><span>(</span><span>1</span><span>,</span><span>N</span><span>'Beauty'</span><span>)</span><span>,</span><span> </span><span>(</span><span>2</span><span>,</span><span>N</span><span>'Grocery'</span><span>)</span><span>;</span></p><p><span> </span><span>INSERT</span><span> </span><span>dbo</span><span>.</span><span>Products </span><span>(</span><span>ProductID</span><span>,</span><span> </span><span>CategoryID</span><span>,</span><span> </span><span>Name</span><span>)</span></p><p><span>&nbsp;&nbsp; </span><span>VALUES</span><span> </span><span>(</span><span>1</span><span>,</span><span>1</span><span>,</span><span>N</span><span>'Lipstick'</span><span>)</span><span>,</span><span> </span><span>(</span><span>2</span><span>,</span><span>1</span><span>,</span><span>N</span><span>'Mascara'</span><span>)</span><span>,</span><span> </span><span>(</span><span>3</span><span>,</span><span>2</span><span>,</span><span>N</span><span>'Strawberries'</span><span>)</span><span>;</span><span> </span></p><p><span> </span><span>INSERT</span><span> </span><span>dbo</span><span>.</span><span>Orders </span><span>(</span><span>OrderID</span><span>,</span><span> </span><span>CustomerID</span><span>,</span><span> </span><span>OrderDate</span><span>,</span><span> </span><span>OrderTotal</span><span>)</span></p><p><span>&nbsp;&nbsp; </span><span>VALUES</span><span> </span><span>(</span><span>1</span><span>,</span><span>1</span><span>,</span><span>getdate</span><span>(</span><span>)</span><span>,</span><span>32.50</span><span>)</span><span>,</span><span> </span><span>(</span><span>2</span><span>,</span><span>2</span><span>,</span><span>getdate</span><span>(</span><span>)</span><span>,</span><span>47.05</span><span>)</span><span>;</span></p><p><span> </span><span>INSERT</span><span> </span><span>dbo</span><span>.</span><span>OrderDetails </span><span>(</span><span>OrderID</span><span>,</span><span> </span><span>LineItemID</span><span>,</span><span> </span><span>ProductID</span><span>,</span><span> </span><span>Quantity</span><span>)</span><span> </span></p><p><span>&nbsp;&nbsp; </span><span>VALUES</span><span> </span><span>(</span><span>1</span><span>,</span><span>1</span><span>,</span><span>1</span><span>,</span><span>5</span><span>)</span><span>,</span><span> </span><span>(</span><span>2</span><span>,</span><span>1</span><span>,</span><span>3</span><span>,</span><span>10</span><span>)</span><span>;</span><span> </span></p></div></td>
					</tr>
				</tbody></table>
			</div>
<!-- [Format Time: 0.0008 seconds] -->

<p>Marketing says we want to send an e-mail or give a discount code to all the customers who have ordered a product from the beauty category. The initial attempt at a query for this might be something like this:</p>
<!-- Urvanov Syntax Highlighter v2.8.28 -->

		<div id="urvanov-syntax-highlighter-653393141ee50788245677" data-settings=" minimize scroll-always">
				<table>
					<tbody><tr>
				<td data-settings="hide">
					
				</td>
						<td><div><p><span> </span><span>SELECT</span><span> </span><span>c</span><span>.</span><span>CustomerID</span><span>,</span><span> </span><span>c</span><span>.</span><span>Name</span></p><p><span> </span><span>FROM</span><span> </span><span>dbo</span><span>.</span><span>Customers</span><span> </span><span>AS</span><span> </span><span>c</span></p><p><span> </span><span>INNER</span><span> </span><span>JOIN</span><span> </span><span>dbo</span><span>.</span><span>Orders</span><span> </span><span>AS</span><span> </span><span>o</span></p><p><span>&nbsp;&nbsp; </span><span>ON</span><span> </span><span>c</span><span>.</span><span>CustomerID</span><span> </span><span>=</span><span> </span><span>o</span><span>.</span><span>CustomerID</span></p><p><span> </span><span>INNER</span><span> </span><span>JOIN</span><span> </span><span>dbo</span><span>.</span><span>OrderDetails</span><span> </span><span>AS</span><span> </span><span>od</span></p><p><span>&nbsp;&nbsp; </span><span>ON</span><span> </span><span>o</span><span>.</span><span>OrderID</span><span> </span><span>=</span><span> </span><span>od</span><span>.</span><span>OrderID</span></p><p><span> </span><span>INNER</span><span> </span><span>JOIN</span><span> </span><span>dbo</span><span>.</span><span>Products</span><span> </span><span>AS</span><span> </span><span>p</span></p><p><span>&nbsp;&nbsp; </span><span>ON</span><span> </span><span>od</span><span>.</span><span>ProductID</span><span> </span><span>=</span><span> </span><span>p</span><span>.</span><span>ProductID</span></p><p><span> </span><span>INNER</span><span> </span><span>JOIN</span><span> </span><span>dbo</span><span>.</span><span>Categories</span><span> </span><span>AS</span><span> </span><span>cat</span></p><p><span>&nbsp;&nbsp; </span><span>ON</span><span> </span><span>p</span><span>.</span><span>CategoryID</span><span> </span><span>=</span><span> </span><span>cat</span><span>.</span><span>CategoryID</span></p><p><span>&nbsp;&nbsp; </span><span>WHERE</span><span> </span><span>cat</span><span>.</span><span>Name</span><span> </span><span>=</span><span> </span><span>N</span><span>'Beauty'</span><span>;</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
<!-- [Format Time: 0.0006 seconds] -->

<p>The plan doesn’t look so bad (yet):</p>
<p><a href="https://www.red-gate.com/simple-talk/wp-content/uploads/2023/09/joinfix-p1.png" target="_blank" rel="noopener"><img decoding="async" src="https://www.red-gate.com/simple-talk/wp-content/uploads/2023/09/joinfix-p1.png" alt="A simple plan"></a></p>
<p>And in local or test data, the output might look right, since we may have inserted a single row into <code>OrderDetails</code> to match our criteria (and to make our tests pass). But what if I have ordered <em>two</em> products from the beauty category (in the same order, or across multiple orders)?</p>
<!-- Urvanov Syntax Highlighter v2.8.28 -->

		<div id="urvanov-syntax-highlighter-653393141ee52039966329" data-settings=" minimize scroll-always">
				<table>
					<tbody><tr>
				<td data-settings="hide">
					
				</td>
						<td><div><p><span> </span><span>INSERT</span><span> </span><span>dbo</span><span>.</span><span>OrderDetails </span><span>(</span><span>OrderID</span><span>,</span><span> </span><span>LineItemID</span><span>,</span><span> </span><span>ProductID</span><span>,</span><span> </span><span>Quantity</span><span>)</span></p><p><span>&nbsp;&nbsp; </span><span>VALUES</span><span>(</span><span>1</span><span>,</span><span>2</span><span>,</span><span>2</span><span>,</span><span>1</span><span>)</span><span>;</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
<!-- [Format Time: 0.0002 seconds] -->

<p>Now the query returns that customer twice! We certainly don’t want to send them two e-mails, or issue multiple discount codes to the same customer. And the plan, on its own, can’t really provide any obvious clues that there are duplicate rows:</p>
<p><a href="https://www.red-gate.com/simple-talk/wp-content/uploads/2023/09/joinfix-p2.png" target="_blank" rel="noopener"><img decoding="async" src="https://www.red-gate.com/simple-talk/wp-content/uploads/2023/09/joinfix-p2.png" alt="Hidden duplicates"></a></p>
<p>But you sure will notice if you inspect the results, or an end user will notice if you unleash this in production. The quick fix tends to be: slap a big ol’ <code>DISTINCT</code> on there which, indeed, fixes the symptom by eliminating duplicates:</p>
<!-- Urvanov Syntax Highlighter v2.8.28 -->

		<div id="urvanov-syntax-highlighter-653393141ee54571325018" data-settings=" minimize scroll-always">
				<table>
					<tbody><tr>
				<td data-settings="hide">
					
				</td>
						<td><div><p><span> </span><span>SELECT</span><span> </span><span>DISTINCT</span><span> </span><span>c</span><span>.</span><span>CustomerID</span><span>,</span><span> </span><span>c</span><span>.</span><span>Name</span></p><p><span> </span><span>-------^^^^^^^^</span></p><p><span> </span><span>FROM</span><span> </span><span>dbo</span><span>.</span><span>Customers</span><span> </span><span>AS</span><span> </span><span>c</span></p><p><span> </span><span>INNER</span><span> </span><span>JOIN</span><span> </span><span>dbo</span><span>.</span><span>Orders</span><span> </span><span>AS</span><span> </span><span>o</span></p><p><span>&nbsp;&nbsp; </span><span>ON</span><span> </span><span>c</span><span>.</span><span>CustomerID</span><span> </span><span>=</span><span> </span><span>o</span><span>.</span><span>CustomerID</span></p><p><span> </span><span>INNER</span><span> </span><span>JOIN</span><span> </span><span>dbo</span><span>.</span><span>OrderDetails</span><span> </span><span>AS</span><span> </span><span>od</span></p><p><span>&nbsp;&nbsp; </span><span>ON</span><span> </span><span>o</span><span>.</span><span>OrderID</span><span> </span><span>=</span><span> </span><span>od</span><span>.</span><span>OrderID</span></p><p><span> </span><span>INNER</span><span> </span><span>JOIN</span><span> </span><span>dbo</span><span>.</span><span>Products</span><span> </span><span>AS</span><span> </span><span>p</span></p><p><span>&nbsp;&nbsp; </span><span>ON</span><span> </span><span>od</span><span>.</span><span>ProductID</span><span> </span><span>=</span><span> </span><span>p</span><span>.</span><span>ProductID</span></p><p><span> </span><span>INNER</span><span> </span><span>JOIN</span><span> </span><span>dbo</span><span>.</span><span>Categories</span><span> </span><span>AS</span><span> </span><span>cat</span></p><p><span>&nbsp;&nbsp; </span><span>ON</span><span> </span><span>p</span><span>.</span><span>CategoryID</span><span> </span><span>=</span><span> </span><span>cat</span><span>.</span><span>CategoryID</span></p><p><span>&nbsp;&nbsp; </span><span>WHERE</span><span> </span><span>cat</span><span>.</span><span>Name</span><span> </span><span>=</span><span> </span><span>N</span><span>'Beauty'</span><span>;</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
<!-- [Format Time: 0.0007 seconds] -->

<p>But at what cost? A <a href="https://sqlserverfast.com/epr/sort/" target="_blank" rel="noopener">distinct sort</a>, that’s what!</p>
<p><a href="https://www.red-gate.com/simple-talk/wp-content/uploads/2023/09/joinfix-p3.png" target="_blank" rel="noopener"><img decoding="async" src="https://www.red-gate.com/simple-talk/wp-content/uploads/2023/09/joinfix-p3.png" alt="Pain caused by that DISTINCT"></a></p>
<p>If I’m testing changes to this query in my local environment, and maybe just testing the output and that it returned the data quickly, I might miss clues in the plan and be pretty satisfied that adding <code>DISTINCT</code> fixed the issue without impacting performance.</p>
<h3>This will only get worse with more data.</h3>
<p>And while we could spend a lot of time tuning indexes on all the involved tables to make that sort hurt less, this multi-table join is always going to produce rows you never ultimately need. Think about SQL Server’s job: yes, it needs to return correct results, but it also should do that <em>in the most efficient way possible</em>. Reading all the data (and then sorting it), only to throw away some or most of it, is very wasteful.</p>
<h3>Can we express the query without DISTINCT?</h3>
<p>When I know I need to “join” to tables but only care about existence of rows and not any of the output from those tables, I turn to <code>EXISTS</code>. I also try to eliminate looking up values that I know are going to be the same on every row. In this case, I don’t need to join to <code>Categories</code> every time if <code>CategoryID</code> is effectively a constant.</p>
<p>One way to express this same query, ensuring no duplicate customers and, hopefully, reducing the cost of sorting:</p>
<!-- Urvanov Syntax Highlighter v2.8.28 -->

		<div id="urvanov-syntax-highlighter-653393141ee56325720167" data-settings=" minimize scroll-always">
				<table>
					<tbody><tr>
				<td data-settings="hide">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p></div>
				</td>
						<td><div><p><span> </span><span>DECLARE</span><span> </span><span>@</span><span>CategoryID</span><span> </span><span>int</span><span>;</span></p><p><span> </span><span>SELECT</span><span> </span><span>@</span><span>CategoryID</span><span> </span><span>=</span><span> </span><span>CategoryID</span></p><p><span>&nbsp;&nbsp; </span><span>FROM</span><span> </span><span>dbo</span><span>.</span><span>Categories</span><span> </span><span>WHERE</span><span> </span><span>Name</span><span> </span><span>=</span><span> </span><span>N</span><span>'Beauty'</span><span>;</span></p><p><span> </span><span>SELECT</span><span> </span><span>c</span><span>.</span><span>CustomerID</span><span>,</span><span> </span><span>c</span><span>.</span><span>Name</span></p><p><span>&nbsp;&nbsp; </span><span>FROM</span><span> </span><span>dbo</span><span>.</span><span>Customers</span><span> </span><span>AS</span><span> </span><span>c</span></p><p><span>&nbsp;&nbsp; </span><span>WHERE</span><span> </span><span>EXISTS</span></p><p><span>&nbsp;&nbsp; </span><span>(</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp; </span><span>SELECT</span><span> </span><span>1</span><span> </span><span>FROM</span><span> </span><span>dbo</span><span>.</span><span>OrderDetails</span><span> </span><span>AS</span><span> </span><span>od</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>INNER</span><span> </span><span>JOIN</span><span> </span><span>dbo</span><span>.</span><span>Orders</span><span> </span><span>AS</span><span> </span><span>o</span></p><p><span>	&nbsp;&nbsp;&nbsp;&nbsp; </span><span>ON</span><span> </span><span>od</span><span>.</span><span>OrderID</span><span> </span><span>=</span><span> </span><span>o</span><span>.</span><span>OrderID</span></p><p><span>	&nbsp;&nbsp; </span><span>INNER</span><span> </span><span>JOIN</span><span> </span><span>dbo</span><span>.</span><span>Products</span><span> </span><span>AS</span><span> </span><span>p</span></p><p><span>	&nbsp;&nbsp;&nbsp;&nbsp; </span><span>ON</span><span> </span><span>od</span><span>.</span><span>ProductID</span><span> </span><span>=</span><span> </span><span>p</span><span>.</span><span>ProductID</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>WHERE</span><span> </span><span>o</span><span>.</span><span>CustomerID</span><span> </span><span>=</span><span> </span><span>c</span><span>.</span><span>CustomerID</span></p><p><span>	&nbsp;&nbsp;&nbsp;&nbsp; </span><span>AND</span><span> </span><span>p</span><span>.</span><span>CategoryID</span><span> </span><span>=</span><span> </span><span>@</span><span>CategoryID</span></p><p><span>&nbsp;&nbsp; </span><span>)</span><span>;</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
<!-- [Format Time: 0.0009 seconds] -->

<p>There’s a simple, additional index seek against <code>Categories</code>, of course, but the plan for the overall query has been made drastically more efficient (we’re down to 2 scans and 2 seeks)</p>
<p><a href="https://www.red-gate.com/simple-talk/wp-content/uploads/2023/09/joinfix-p4.png" target="_blank" rel="noopener"><img decoding="async" src="https://www.red-gate.com/simple-talk/wp-content/uploads/2023/09/joinfix-p4.png" alt="A plan using EXISTS"></a></p>
<p>Another way to express the same query is to force <code>Orders</code> to be scanned later:</p>
<!-- Urvanov Syntax Highlighter v2.8.28 -->

		<div id="urvanov-syntax-highlighter-653393141ee58921143884" data-settings=" minimize scroll-always">
				<table>
					<tbody><tr>
				<td data-settings="hide">
					<div><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p></div>
				</td>
						<td><div><p><span> </span><span>DECLARE</span><span> </span><span>@</span><span>CategoryID</span><span> </span><span>int</span><span>;</span></p><p><span> </span><span>SELECT</span><span> </span><span>@</span><span>CategoryID</span><span> </span><span>=</span><span> </span><span>CategoryID</span></p><p><span>&nbsp;&nbsp; </span><span>FROM</span><span> </span><span>dbo</span><span>.</span><span>Categories</span><span> </span><span>WHERE</span><span> </span><span>Name</span><span> </span><span>=</span><span> </span><span>N</span><span>'Beauty'</span><span>;</span></p><p><span> </span><span>WITH</span><span> </span><span>cte</span><span> </span><span>AS</span><span> </span></p><p><span> </span><span>(</span></p><p><span>&nbsp;&nbsp; </span><span>SELECT</span><span> </span><span>CustomerID</span><span> </span><span>FROM</span><span> </span><span>dbo</span><span>.</span><span>Orders</span><span> </span><span>AS</span><span> </span><span>o</span></p><p><span>&nbsp;&nbsp; </span><span>WHERE</span><span> </span><span>EXISTS</span><span> </span></p><p><span>&nbsp;&nbsp; </span><span>(</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp; </span><span>SELECT</span><span> </span><span>1</span><span> </span><span>FROM</span><span> </span><span>dbo</span><span>.</span><span>OrderDetails</span><span> </span><span>AS</span><span> </span><span>od</span></p><p><span>	&nbsp;&nbsp; </span><span>INNER</span><span> </span><span>JOIN</span><span> </span><span>dbo</span><span>.</span><span>Products</span><span> </span><span>AS</span><span> </span><span>p</span></p><p><span>	&nbsp;&nbsp;&nbsp;&nbsp; </span><span>ON</span><span> </span><span>od</span><span>.</span><span>ProductID</span><span> </span><span>=</span><span> </span><span>p</span><span>.</span><span>ProductID</span></p><p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span>WHERE</span><span> </span><span>od</span><span>.</span><span>OrderID</span><span> </span><span>=</span><span> </span><span>o</span><span>.</span><span>OrderID</span></p><p><span>	&nbsp;&nbsp;&nbsp;&nbsp; </span><span>AND</span><span> </span><span>p</span><span>.</span><span>CategoryID</span><span> </span><span>=</span><span> </span><span>@</span><span>CategoryID</span></p><p><span>&nbsp;&nbsp; </span><span>)</span></p><p><span> </span><span>)</span></p><p><span> </span><span>SELECT</span><span> </span><span>cust</span><span>.</span><span>CustomerID</span><span>,</span><span> </span><span>cust</span><span>.</span><span>Name</span></p><p><span>&nbsp;&nbsp; </span><span>FROM</span><span> </span><span>dbo</span><span>.</span><span>Customers</span><span> </span><span>AS</span><span> </span><span>cust</span></p><p><span>&nbsp;&nbsp; </span><span>INNER</span><span> </span><span>JOIN</span><span> </span><span>cte</span><span> </span><span>ON</span><span> </span><span>cte</span><span>.</span><span>CustomerID</span><span> </span><span>=</span><span> </span><span>cust</span><span>.</span><span>CustomerID</span><span>;</span></p></div></td>
					</tr>
				</tbody></table>
			</div>
<!-- [Format Time: 0.0006 seconds] -->

<p>This can be beneficial if you have more <code>Orders</code> than <code>Customers</code> (I certainly hope that’s the case). Notice in the plan that we still have two scans and two seeks, but <code>Orders</code> is scanned later, and <code>Products</code> is scanned instead of <code>Customers</code>.</p>
<p><a href="https://www.red-gate.com/simple-talk/wp-content/uploads/2023/09/joinfix-p5.png" target="_blank" rel="noopener"><img decoding="async" src="https://www.red-gate.com/simple-talk/wp-content/uploads/2023/09/joinfix-p5.png" alt="A slightly different EXISTS plan"></a></p>
<p>Overall, fewer rows move through the plan, and this is reflected in slightly lower reads. This will be amplified by more rows in the table, wider rows in general, and more rows filtered out earlier.</p>
<h3>Conclusion</h3>
<p><code>DISTINCT</code> is often hiding flaws in the underlying logic, and it can really pay off to explore other ways to write your queries without it. There was another interesting use case <a href="https://sqlperformance.com/2017/01/t-sql-queries/surprises-assumptions-group-by-distinct" target="_blank" rel="noopener">I wrote about a few years ago</a> that showed how changing <code>DISTINCT</code> to <code>GROUP BY</code> – even though it carries the same semantics and produces the same results – can help SQL Server filter out duplicates earlier and have a serious impact on performance.</p>
			</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[F-Droid: Android FOSS app store (257 pts)]]></title>
            <link>https://f-droid.org/</link>
            <guid>37962152</guid>
            <pubDate>Fri, 20 Oct 2023 22:22:10 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://f-droid.org/">https://f-droid.org/</a>, See on <a href="https://news.ycombinator.com/item?id=37962152">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>

        <div>
          
<h2>What is F-Droid?</h2>

<p>F-Droid is an installable catalogue of FOSS (Free and Open Source Software) applications for the Android platform. The client makes it easy to browse, install, and keep track of updates on your device.</p>

<div>
    <div>
        <div>
            <p><a id="fdroid-download" data-donate-link="/donate" href="https://f-droid.org/F-Droid.apk">Download F-Droid</a>
        </p></div>
        <p><img src="https://f-droid.org/assets/download-fdroid-qr_GxE-SXA6lmH3iEpOmU-lh1S4bQZis4xoQ2M_LzTWQF8=.png">
        </p>
        <div>
          <p><a href="https://f-droid.org/docs/Verifying_Downloaded_APK">Instructions to verify the download</a>
        </p></div>
    </div>
    <p><img src="https://f-droid.org/assets/phone-frame_CugdRqiuBcm9I48ZeNjWjha41afLF4ISL2R9QoRbCzo=.png" alt="F-Droid Android app screenshot">
    </p>
</div>




        </div>

        <div>
          

          <div>
            <h3>Find Apps</h3>

<div>
  <form method="get" action="https://search.f-droid.org/">
    
    
    
  </form>
</div>

          </div>

          <div>
            
            
<h3 id="donate">Donate</h3>

<p>F-Droid is powered by your donations!</p>

<ul>
  <li><a href="https://opencollective.com/f-droid"><img src="https://f-droid.org/assets/opencollective_button_iIGF0Hixdj0EaYR3Sd7FRigTVcl7QPGu6kaoBmXHjZI=.png" alt="Donate to our Collective"></a></li>
  <li><a href="https://liberapay.com/F-Droid-Data/donate"><img src="https://f-droid.org/assets/liberapay_donate_button_GHdOOfmFJNeSXjfjnA-98XtIuEfvE6cNJjHgHOhjdv0=.svg" alt="Donate via Liberapay"></a></li>
  <li><a href="https://f-droid.org/en/donate">More Options</a></li>
</ul>

          </div>

          <div>
            <h3> Connect </h3>

<a rel="me" href="https://floss.social/@fdroidorg">
    <img src="https://f-droid.org/assets/mastodon_-c62Zo613I00cO-RavNTybrSJhBC3vZToN5u4zSoMdM=.svg" alt="mastodon">
    <p>@fdroidorg@floss.social</p>
</a>

          </div>

          <div>
            <h3>News</h3>

<ul dir="auto">
  
    <li>
      <a href="https://f-droid.org/en/2023/10/19/twif-client-alpha-kde-removal-by-google.html">F-Droid Client 1.19 alpha and KDE Connect</a>

      <span>2023-10-19</span>
    </li>
  
    <li>
      <a href="https://f-droid.org/en/2023/10/12/twif-vulnerability-patching-fdroid-client-radiodroid-revival.html">Vulnerability Patching for F-Droid apps</a>

      <span>2023-10-12</span>
    </li>
  
    <li>
      <a href="https://f-droid.org/en/2023/10/10/f-droid-maintains-in-debian.html">F-Droid maintains in Debian</a>

      <span>2023-10-10</span>
    </li>
  
    <li>
      <a href="https://f-droid.org/en/2023/10/02/infrastructure-as-code-migration.html">Infrastructure-as-code migration</a>

      <span>2023-10-02</span>
    </li>
  
    <li>
      <a href="https://f-droid.org/en/2023/09/26/calyx-client-maintainer-sponsorship.html">Client maintenance sponsored by the Calyx Institute</a>

      <span>2023-09-26</span>
    </li>
  
</ul>

          </div>

          <div>
            <h3>Last Updated</h3>





<a href="https://f-droid.org/en/packages/timur.webcall.callee/">
    
	<img src="https://f-droid.org/repo/timur.webcall.callee/en-US/icon_ibxAPC5TqyL3RFWM6SwH9ScQ7ynVIcl2rBsepiUD7wE=.png" width="40" height="40">
	

	<div>
		<h4>
			WebCall
		</h4>

		<p><span>WebCall P2P E2EE Telephony</span>
		</p>
	</div>
</a>


















<a href="https://f-droid.org/en/packages/net.gitsaibot.af/">
    
	<img src="https://f-droid.org/repo/net.gitsaibot.af/en-US/icon_CpD2bUp3BUEA6LM5YOdAYR9wx3GinZQB9kB-DF3Ows0=.png" width="40" height="40">
	

	<div>
		<h4>
			AF Weather Widget
		</h4>

		<p><span>Graph weather widget for Android</span>
		</p>
	</div>
</a>






<a href="https://f-droid.org/en/packages/moe.cb4a/">
    
	<img src="https://f-droid.org/repo/moe.cb4a/en-US/icon_c5KFdR3xnyBJFdKTykA2N1C_qRxMu75o70e89AvPBAE=.png" width="40" height="40">
	

	<div>
		<h4>
			CatBox
		</h4>

		<p><span>CatBox is an universal proxy toolchain for Android</span>
		</p>
	</div>
</a>








<!-- no nice ones found, failing back to any -->



          </div>

          <div>
            <h3>Latest Apps</h3>














<a href="https://f-droid.org/en/packages/app.vger.voyager/">
    
	<img src="https://f-droid.org/repo/app.vger.voyager/en-US/icon_ESoJLOKO8bUXdRoRKLHWV3J_cGioN_jPX--rVpchWdg=.png" width="40" height="40">
	

	<div>
		<h4>
			Voyager for Lemmy
		</h4>

		<p><span>Join the discussion</span>
		</p>
	</div>
</a>















<a href="https://f-droid.org/en/packages/com.elfeedcljsrn/">
    
	<img src="https://f-droid.org/repo/com.elfeedcljsrn/en-US/icon_CZ7nImQWIWB9fS3KSLFaY_Dy9VBo_R5gW4uxe5F_LP0=.png" width="40" height="40">
	

	<div>
		<h4>
			Elfeed Mobile
		</h4>

		<p><span>Mobile client for Elfeed, an extensible web feed reader for Emacs</span>
		</p>
	</div>
</a>






<a href="https://f-droid.org/en/packages/com.crawlmb/">
    
	<img src="https://f-droid.org/repo/com.crawlmb/en-US/icon_9giD7tM9Wzqtxzeo-aC8GsOX6FzImYERWEaaLODJQR0=.png" width="40" height="40">
	

	<div>
		<h4>
			Dungeon Crawl: Stone Soup for Android
		</h4>

		<p><span>An ASCII port of Dungeon Crawl: Stone Soup.</span>
		</p>
	</div>
</a>








<!-- no nice ones found, failing back to any -->



          </div>
        </div>

      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Solving the 100GB Game Download (113 pts)]]></title>
            <link>http://venusoft.net/</link>
            <guid>37962102</guid>
            <pubDate>Fri, 20 Oct 2023 22:15:58 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="http://venusoft.net/">http://venusoft.net/</a>, See on <a href="https://news.ycombinator.com/item?id=37962102">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
            <p>
                Venusoft is not directly affiliated with Valve or Steam.
                Via's integration with the Steam frontend and backend is done through good faith
                reverse engineering. At no point do we step outside of what Valve would find appropriate
                when it comes to encrypted game data and user account information. Steam and the Steam
                logo are trademarks of Valve Corporation.
            </p>
            <br>
            <div><p>
                Venusoft is founded and ran by Ryan Flaherty.
                You can reach me at
                    <a href="mailto: ryan@venusoft.net">ryan@venusoft.net</a>
                    or
                    <a href="https://twitter.com/rflaherty71" target="_blank">twitter.com/rflaherty71</a>.
            </p></div>
            
            <p>Copyright (C) 2023 Venusoft LLC. All rights reserved.</p>
        </div></div>]]></description>
        </item>
    </channel>
</rss>