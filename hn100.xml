<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Mon, 15 Jan 2024 15:00:36 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Five richest men double their money as poorest get poorer (153 pts)]]></title>
            <link>https://www.theguardian.com/inequality/2024/jan/15/worlds-five-richest-men-double-their-money-as-poorest-get-poorer</link>
            <guid>38999517</guid>
            <pubDate>Mon, 15 Jan 2024 11:09:48 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theguardian.com/inequality/2024/jan/15/worlds-five-richest-men-double-their-money-as-poorest-get-poorer">https://www.theguardian.com/inequality/2024/jan/15/worlds-five-richest-men-double-their-money-as-poorest-get-poorer</a>, See on <a href="https://news.ycombinator.com/item?id=38999517">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="maincontent"><p>The world‚Äôs five richest men have more than doubled their fortunes to $869bn (¬£681.5bn) since 2020, while the world‚Äôs poorest 60% ‚Äì almost 5 billion people ‚Äì have lost money.</p><p>The details come in a report by Oxfam as the world‚Äôs richest people gather from Monday in Davos, Switzerland, for the <a href="https://www.weforum.org/events/world-economic-forum-annual-meeting-2024/" data-link-name="in body link">annual World Economic Forum meeting</a> of political leaders, corporate executives and the super-rich.</p><p>The yawning gap between rich and poor is likely to increase, the report says, and will lead to the world crowning its first trillionaire within a decade. At the same time, it warns, if current trends continue, world poverty will not be eradicated for another 229 years.</p><p>Highlighting a dramatic increase in inequality since the Covid pandemic, <a href="https://www.theguardian.com/world/oxfam" data-link-name="in body link" data-component="auto-linked-tag">Oxfam</a> said the world‚Äôs billionaires were $3.3tn (¬£2.6tn) richer than in 2020, and their wealth had grown three times faster than the rate of inflation.</p><p>The <a href="https://policy-practice.oxfam.org/resources/inequality-inc-how-corporate-power-divides-our-world-and-the-need-for-a-new-era-621583/" data-link-name="in body link">report, Inequality Inc.</a>, finds that seven out of 10 of the world‚Äôs biggest corporations have a billionaire as CEO or principal shareholder, despite stagnation in living standards for millions of workers around the world.</p><figure id="5b833265-eb14-4e5f-b78e-443389ab56fd" data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.ImageBlockElement"><div id="img-2"><picture><source srcset="https://i.guim.co.uk/img/media/1bcbb2ea6036866b14f64990b957eabc55ddbdca/0_194_5817_3490/master/5817.jpg?width=620&amp;dpr=2&amp;s=none" media="(min-width: 660px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 660px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/1bcbb2ea6036866b14f64990b957eabc55ddbdca/0_194_5817_3490/master/5817.jpg?width=620&amp;dpr=1&amp;s=none" media="(min-width: 660px)"><source srcset="https://i.guim.co.uk/img/media/1bcbb2ea6036866b14f64990b957eabc55ddbdca/0_194_5817_3490/master/5817.jpg?width=605&amp;dpr=2&amp;s=none" media="(min-width: 480px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 480px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/1bcbb2ea6036866b14f64990b957eabc55ddbdca/0_194_5817_3490/master/5817.jpg?width=605&amp;dpr=1&amp;s=none" media="(min-width: 480px)"><source srcset="https://i.guim.co.uk/img/media/1bcbb2ea6036866b14f64990b957eabc55ddbdca/0_194_5817_3490/master/5817.jpg?width=445&amp;dpr=2&amp;s=none" media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 320px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/1bcbb2ea6036866b14f64990b957eabc55ddbdca/0_194_5817_3490/master/5817.jpg?width=445&amp;dpr=1&amp;s=none" media="(min-width: 320px)"><img alt="Head and shoulders of Elon Musk, mouth slightly agape, looking sideways, with a blue lanyard and a black suit with white shirt." src="https://i.guim.co.uk/img/media/1bcbb2ea6036866b14f64990b957eabc55ddbdca/0_194_5817_3490/master/5817.jpg?width=445&amp;dpr=1&amp;s=none" width="445" height="266.984700017191" loading="lazy"></picture></div><figcaption><span><svg width="18" height="13" viewBox="0 0 18 13"><path d="M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z"></path></svg></span><span>Will Elon Musk be the world‚Äôs first trillionaire?</span> Photograph: Reuters</figcaption></figure><p>Compiled using data from the research company Wealth X and Forbes, it says the combined wealth of the <a href="https://www.forbes.com/sites/forbeswealthteam/article/the-top-ten-richest-people-in-the-world/?sh=21da499b54dc" data-link-name="in body link">top five richest people</a> in the world ‚Äì Elon Musk, <a href="https://www.theguardian.com/business/2023/sep/29/saint-tropez-super-rich-lvmh-takeover-billionaires" data-link-name="in body link">Bernard Arnault</a>, Jeff Bezos, Larry Ellison and Mark Zuckerberg ‚Äì have increased by $464bn, or 114%. Over the same period, the total wealth of the poorest 4.77 billion people ‚Äì making up 60% of the world population ‚Äì has declined by 0.2% in real terms.</p><p>‚ÄúPeople worldwide are working harder and longer hours, often for poverty wages in precarious and unsafe jobs,‚Äù the report says. ‚ÄúAcross 52 countries, average real wages of nearly 800 million workers have fallen. These workers have lost a combined $1.5tn over the last two years, equivalent to 25 days of lost wages for each worker.‚Äù</p><p>Mirroring the fortunes of the super rich, it also says business profits have risen sharply despite pressure on households amid the cost of living crisis. It finds 148 of the world‚Äôs biggest corporations together raked in $1.8tn in total net profits in the year to June 2023, a 52% jump compared with average net profits in 2018-21.</p><p>Calling for a wealth tax to redress the balance between workers and super-rich company bosses and owners, the report says such <a href="https://www.theguardian.com/news/2023/may/29/2-tax-uk-rich-list-families-raise-22bn-year-reform-inequality" data-link-name="in body link">a levy on British millionaires and billionaires</a> could bring in ¬£22bn for the exchequer each year, if applied at a rate of between 1% to 2% on net wealth above ¬£10m.</p><p>Julia Davies, an investor and founding member of Patriotic Millionaires UK, a nonpartisan group of British millionaires campaigning for a wealth tax, said levies on wealth were ‚Äúminuscule‚Äù compared with taxation on income from work.</p><p>‚ÄúJust imagine what ¬£22bn a year invested in public services and infrastructure could pay for; improving the lives of every one of us who live in the UK and providing our elderly, young and vulnerable with the care and support they need and deserve,‚Äù she said.</p><figure data-spacefinder-role="inline" data-spacefinder-type="model.dotcomrendering.pageElements.NewsletterSignupBlockElement"><a data-ignore="global-link-styling" href="#EmailSignup-skip-link-12">skip past newsletter promotion</a><p id="EmailSignup-skip-link-12" tabindex="0" aria-label="after newsletter promotion" role="note">after newsletter promotion</p></figure><p>Oxfam said the most recent Gini index ‚Äì which measures inequality ‚Äì found that global income inequality was now comparable with that of South Africa, the country with the <a href="https://worldpopulationreview.com/country-rankings/wealth-inequality-by-country" data-link-name="in body link">highest inequality in the world</a>.</p><p>The world‚Äôs richest 1% own 59% of all global financial assets ‚Äì including stocks, shares and bonds, plus stakes in privately held business. In the UK, the richest 1% own 36.5% of all financial assets, with a value of ¬£1.8tn.</p><p>Aleema Shivji, Oxfam‚Äôs interim chief executive, said: ‚ÄúThese extremes cannot be accepted as the new norm, the world can‚Äôt afford another decade of division. Extreme poverty in the poorest countries is still higher than it was pre-pandemic, yet a small number of super-rich men are racing to become the world‚Äôs first trillionaire within the next 10 years.</p><p>‚ÄúThis ever-widening gulf between the rich and the rest isn‚Äôt accidental, nor is it inevitable. Governments worldwide are making deliberate political choices that enable and encourage this distorted concentration of wealth, while hundreds of millions of people live in poverty. A fairer economy is possible, one that works for us all. What‚Äôs needed are concerted policies that deliver fairer taxation and support for everyone, not just the privileged.‚Äù</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Slashing Data Transfer Costs in AWS by 99% (131 pts)]]></title>
            <link>https://www.bitsand.cloud/posts/slashing-data-transfer-costs/</link>
            <guid>38998516</guid>
            <pubDate>Mon, 15 Jan 2024 08:19:13 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.bitsand.cloud/posts/slashing-data-transfer-costs/">https://www.bitsand.cloud/posts/slashing-data-transfer-costs/</a>, See on <a href="https://news.ycombinator.com/item?id=38998516">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        
        <p>There are lots of ways to accidentally spend too much money on AWS, and one of the easiest ways is by carelessly transferring data. As of writing, AWS charges the following rates for data transfer:</p>
<ul>
<li>
<p>Data transfer from AWS to the public Internet ranges from $0.09/GB in <code>us-east-1</code> (N. Virginia) to $0.154/GB in <code>af-south-1</code> (Cape Town). Therefore a single terabyte of data transfer will run you a cool $90 - $154.</p>
</li>
<li>
<p>Data transfer from one AWS region to another - e.g. if you were to transfer data from <code>us-east-1</code> to any other region - ranges from $0.02/GB in <code>us-east-1</code> to $0.147/GB in <code>af-south-1</code> (more than seven times as much!). Therefore a single terabyte of transferred data that <em>never leaves AWS‚Äôs network</em> will run you $20 - $147.</p>
</li>
</ul>
<p>In both of these transfers, you‚Äôre only paying for <em>egress</em> fees - i.e. you‚Äôre paying for data that leaves AWS regions, and not for incoming data. But now we‚Äôll look at one of the trickier data transfer rates:</p>
<ul>
<li>Data transfer between availability zones <em>in the same AWS region</em> - e.g. from <code>us-east-1a</code> to <code>us-east-1b</code> - will cost you $0.01/GB in each direction. This pricing is the same in all regions. Therefore a single terabyte of transferred data between two same-region availability zones will cost you $10 for the egress and $10 for the ingress, for a total of $20.</li>
</ul>
<p>These prices are similar between all major cloud providers. Data transfer prices easily add up, and are an extremely high-margin source of profit for cloud providers - so high-margin that Cloudflare has introduced its competing R2 storage whose primary competitive distinction is a zero egress fee, along with publishing some <a href="https://blog.cloudflare.com/aws-egregious-egress/" target="_blank" rel="noopener">fairly strong rhetoric</a> lambasting AWS for its egress charges (conveniently failing to point out that Cloudflare‚Äôs whole business model is uniquely poised to competitively offer zero egress fees in a way that AWS is not).</p>
<div>
  <p>Tip
  </p>
  <div><p>This is a good time to mention AWS PrivateLink and VPC endpoints. You might assume that if you set up an EC2 instance in <code>us-east-1</code> and transfer a terabyte from the instance to another region, you‚Äôll pay the $20 cross-region data transfer charge. But by default, you might very well end up paying the $90 internet egress data transfer charge - e.g. if you transfer the data to a public S3 bucket in another region, you‚Äôll effectively be transferring data over the internet.</p>
<p>AWS PrivateLink and VPC endpoints allow you to ensure that data between regions never leaves AWS‚Äôs network - useful not only in terms of pricing but also in terms of security. These features are not free, and come with their own limitations and pricing subtleties, but that‚Äôs beyond the scope of this blog post - AWS has a <a href="https://aws.amazon.com/blogs/networking-and-content-delivery/leveraging-aws-privatelink-for-volumetric-data-processing/" target="_blank" rel="noopener">couple of</a> <a href="https://aws.amazon.com/blogs/architecture/reduce-cost-and-increase-security-with-amazon-vpc-endpoints/" target="_blank" rel="noopener">nice posts on the subject</a>, and <a href="https://www.vantage.sh/blog/nat-gateway-vpc-endpoint-savings#vpc-endpoint-pricing" target="_blank" rel="noopener">so does Vantage</a>.</p></div>
</div>

<p>It‚Äôs a common creed of AWS that setting resources up in multiple availability zones is best practice for ensuring reliability and availability. But this best practice easily opens up the door to funneling money into a furnace of cross-AZ costs - any application that involves sending data between resources in different availability zones will incur such charges.</p>
<p>Can we have our cake and eat it too? Can we set up cross-AZ infrastructure but avoid paying cross-AZ data transfer costs?</p>
<h2 id="sidestepping-data-transfer-costs-with-s3">
  Sidestepping Data Transfer Costs with S3
  <a href="#sidestepping-data-transfer-costs-with-s3">
    
    <span>Link to heading</span>
  </a>
</h2>
<p>S3 has an important characteristic - most storage classes in S3 store their buckets in <em>region</em> granularity rather than <em>availability zone</em> granularity. This means that you don‚Äôt upload data to a <code>us-east-1a</code> or a <code>us-east-1b</code> bucket, you upload data to a <code>us-east-1</code> bucket. Behind the scenes, AWS replicates this data in a minimum of three availability zones in the region - which is one of the reasons why S3 has such exceptionally high durability and availability.</p>
<div>
  <p>Note
  </p>
  <p>There are two storage classes - S3 One Zone-Infrequent Access and the newly introduced S3 Express One Zone - that only store data in a single availability zone. You pay less for storage, but at a cost of availability - for instance, in <code>us-east-1</code>, S3 One Zone-Infrequent Access costs $0.01/GB as opposed to S3 Infrequent Access which costs $0.0125/GB, but it is designed for 99.5% availability as opposed to 99.99%.</p>
</div>

<p>This means that data in a standard S3 bucket is ‚Äúequally‚Äù available to all AWS availability zones in its region - it doesn‚Äôt make a difference to S3 if you download data from <code>us-east-1a</code> or <code>us-east-1b</code>.</p>
<p>But wait - S3 has another important characteristic. For the standard storage class, downloading data from S3 is <em>free</em> - it only incurs standard data transfer charges if you‚Äôre downloading it between regions or to the public Internet. Moreover, uploading to S3 - in any storage class - is also free! (For the data transfer - the S3 API requests you make will cost you money, but relatively little)</p>
<p>So let‚Äôs say I want to transfer 1TB between two EC2 instances in <code>us-east-1a</code> and <code>us-east-1b</code>. We saw above that if I transfer the data directly, it will cost me $20. But what if I upload the data to S3 from one instance and then download it from the other?</p>
<p>The upload will be free. The download will be free. The S3 storage will not be free, and in <code>us-east-1</code> costs $0.023/GB, or $23/TB, every month. This is charged on hour granularity, and we can design our upload/download such that no data persists in S3 for more than an hour. Let‚Äôs say there are 720 hours in a month, this means we‚Äôll have to pay 1/720 of $23, or about $0.03. (We need to remember to delete the storage when we‚Äôre done!)</p>
<p>So instead of paying $20, this data transfer will cost only $0.03 - pretty cool! If we want to express these savings mathematically - assuming sub-hour data transfer rates, we‚Äôve reduced our data transfer charges from $0.02/GB ($0.01 for egress and $0.01 for ingress) to  <strong>$0.000032/GB - just 0.15% (i.e. 15% of 1%) of the original charge</strong>. This gives us near-free cross-AZ data transfer costs. As an extreme example, transferring 1PB of data with this method will set you back about $32, as opposed to $20,000 with the standard way.</p>
<p>But wait, there‚Äôs more! S3 has another important characteristic - it is infinitely scalable. So this method makes it very convenient to replicate data from one AZ to as many instances as we want in another AZ - thousands of instances in the second AZ could download the same S3 object, and it should take up the same time as if just a single instance was downloading it. The S3 storage cost will remain constant, and the download cost will remain free. This is pretty cool too.</p>
<div>
  <p>Warning
  </p>
  <p>S3 has another important characteristic - no single object can be more than 5TB. So if you‚Äôre using this method to transfer files bigger than 5TB, they need to be fragmented. Moreover, no single upload can be more than 5GB - you‚Äôll need to use multi-part uploads if your files are bigger than this (<code>aws s3 cp</code> takes care of this automatically behind the scenes).</p>
</div>

<h2 id="demo">
  Demo
  <a href="#demo">
    
    <span>Link to heading</span>
  </a>
</h2>
<p>Let‚Äôs see this in action and be amazed. When I first thought of this method, the cost savings seemed too good to be true - even though all the fundamentals behind the method were solid, I didn‚Äôt believe it until I saw it in the Cost Explorer.</p>
<p>I want to start with clean AWS accounts so that there‚Äôs no noise when we‚Äôre examining the pricing. As such, I created two accounts for each part of the demo:</p>
<p><img src="https://www.bitsand.cloud/img/awsaccountsblurred.png" alt="AWS accounts"></p>
<p>In each account, we will set up two EC2 instances - one in <code>us-east-1a</code> and another in <code>us-east-1b</code>. In each account, we‚Äôll place both instances in a public subnet so we can easily SSH into them. And in each account, we‚Äôll generate a random 1TB file in the <code>us-east-1a</code> instance, and our goal will be to transfer it to the <code>us-east-1b</code> instance.</p>
<p>We‚Äôll run these two experiments:</p>
<ol>
<li>
<p>In the first experiment, we‚Äôll place both instances in a VPC with private subnets in each of the two availability zones. We‚Äôll set up a netcat server on the <code>us-east-1b</code> instance - on the interface connected to the private subnet. The <code>us-east-1a</code> instance will then transfer the 1TB file to the <code>us-east-1b</code> instance.</p>
</li>
<li>
<p>In the second experiment, we‚Äôll place both instances in a VPC that has an <a href="https://docs.aws.amazon.com/vpc/latest/privatelink/vpc-endpoints-s3.html" target="_blank" rel="noopener">S3 Gateway endpoint</a>, we‚Äôll create an S3 bucket, and the <code>us-east-1a</code> instance will upload the 1TB file to the bucket. Once this is done, the <code>us-east-1b</code> instance will download the 1TB file (and then delete it!).</p>
</li>
</ol>
<!-- raw HTML omitted -->
<p>In both experiments, we‚Äôll have transferred 1TB from <code>us-east-1a</code> to <code>us-east-1b</code>. After this, we‚Äôll wait for AWS‚Äôs Cost Explorer to update with the incurred costs to see that this method really works.</p>
<p>The experiments themselves are fairly straightforward, so they‚Äôre toggled away for brevity:</p>
<details>
    <summary>Standard Data Transfer Experiment</summary>
    <div><p>We‚Äôll create a standard VPC, with both private and public subnets in <code>us-east-1a</code> and <code>us-east-1b</code>.</p>
<p>Note that the S3 Gateway endpoint is <em>deselected</em> - we‚Äôll come back to this in the second experiment.</p>
<p><img src="https://www.bitsand.cloud/img/create-vpc-standard-data-transfer.png" alt="Standard Data Transfer VPC Creation"></p>
<p>And we‚Äôll create two EC2 instances - we‚Äôll place them in the <em>public</em> subnets, so we can SSH into them easily. Since we want to create a 1TB file in the <code>us-east-1a</code> instance - and we don‚Äôt want to wait all day on the <code>dd</code> command - we‚Äôll set it up with an io2 Block Express EBS volume, for maximum IOPS and throughput. (An even faster way would be an EC2 instance with a locally attached SSD instead of an EBS volume) [An even faster and substantially cheaper way, that I unfortunately realized only after finishing this post, would be to not use volumes at all but rather directly pipe <code>dd</code> into <code>nc</code> and on the receiver side pipe into <code>/dev/null</code>]</p>
<p><img src="https://www.bitsand.cloud/img/standard-data-transfer-instances.png" alt="Standard Data Transfer Created Instances"></p>
<p>We‚Äôll edit the <code>us-east-1b</code> security group to support TCP connections from the security group attached to the <code>us-east-1a</code> instance (I opened it up for all ports, but it‚Äôd be better to limit it to just the port we‚Äôre using for the netcat server):</p>
<p><img src="https://www.bitsand.cloud/img/standard-data-transfer-security-group.png" alt="Standard Data Transfer Security Group"></p>
<p>Inside the <code>us-east-1b</code> instance we‚Äôll set up a netcat listener on port 1234:</p>
<p>And finally, in the <code>us-east-1a</code> server we‚Äôll create a random 1TB file and then transfer it using netcat - importantly, we‚Äôll be transferring it to the <code>us-east-1b</code> instance‚Äôs <em>private IP</em> so that it remains inside the AWS network:</p>
<div><pre tabindex="0"><code data-lang="shell"><span><span>~&gt; dd <span>if</span><span>=</span>/dev/urandom <span>of</span><span>=</span>random <span>bs</span><span>=</span>16K <span>count</span><span>=</span>64M
</span></span><span><span><span># Wait for completion</span>
</span></span><span><span>~&gt; nc 10.0.23.195 <span>1234</span> &lt; random
</span></span></code></pre></div><p>When the transfer is complete, we can tear down all resources - we‚Äôre expecting to see $20 of data transfer charges.</p></div>
</details>
<details>
    <summary>S3 Data Transfer Experiment</summary>
    <div><p>We‚Äôll do a very similar process in this experiment - only this time, we don‚Äôt really need private subnets, and we‚Äôll want to enable the S3 Gateway so that our S3 traffic doesn‚Äôt leave AWS‚Äôs network. We‚Äôll also want to create an IAM role that lets our EC2 instances access S3:</p>
<p><img src="https://www.bitsand.cloud/img/s3datatransferrole.png" alt="S3 Data Transfer IAM Role"></p>
<p>And attach it to the instances.</p>
<p>Once we‚Äôve created the 1TB file, we‚Äôll want to upload it to S3. As such, we‚Äôll create a bucket:</p>
<p><img src="https://www.bitsand.cloud/img/s3datatransferbucket.png" alt="S3 Data Transfer S3 bucket"></p>
<p>And then create a random file and upload it to the bucket from the <code>us-east-1a</code> instance:</p>
<div><pre tabindex="0"><code data-lang="shell"><span><span>~&gt; dd <span>if</span><span>=</span>/dev/urandom <span>of</span><span>=</span>random <span>bs</span><span>=</span>16K <span>count</span><span>=</span>64M
</span></span><span><span><span># Wait for completion</span>
</span></span><span><span>~&gt; aws s3 cp random s3://s3-data-transfer-experiment/random
</span></span></code></pre></div><p>When this is done, we can actually tear down the <code>us-east-1a</code> instance, as it‚Äôs no longer needed. Then, from the second instance:</p>
<div><pre tabindex="0"><code data-lang="shell"><span><span>~&gt; aws s3 cp s3://s3-data-transfer-experiment/random random
</span></span></code></pre></div><p>Once this is done, we can tear down the EC2 instance and delete the S3 object and bucket. We‚Äôre expecting to see only a few cents of S3 storage costs.</p></div>
</details>
<h2 id="results">
  Results
  <a href="#results">
    
    <span>Link to heading</span>
  </a>
</h2>
<p>A few hours later, Cost Explorer is updated with the billing data. Our control experiment of a standard data transfer - which we expected to cost $20 - indeed ended up costing $21.49 (I accidentally stopped the transfer at one point and had to restart it, accounting for some of the extra cost - also the created file was technically 1024GB so the base price was $20.48):</p>
<p><img src="https://www.bitsand.cloud/img/standard-data-transfer-cost-explorer.png" alt="Standard Data Transfer Cost Explorer"></p>
<p>But the real experiment is the S3-based data transfer, which we expected to cost only a few cents in storage costs. And‚Ä¶ ü•Åü•Åü•Å:</p>
<p><img src="https://www.bitsand.cloud/img/s3-data-transfer-cost-explorer.png" alt="S3 Data Transfer Cost Explorer"></p>
<p>Only eight cents!!! Let‚Äôs drill down and see how this S3 storage cost breaks down, and let‚Äôs also expand our filter so we can be convinced that there are no data transfer charges:</p>
<p><img src="https://www.bitsand.cloud/img/s3-data-transfer-cost-explorer2.png" alt="S3 Data Transfer Cost Explorer2"></p>
<p>And indeed, we can see that there are no data transfer costs!! But, something‚Äôs weird - the only S3 usage types available have nothing to do with storage‚Ä¶ Let‚Äôs filter down to S3 and group by usage type:</p>
<p><img src="https://www.bitsand.cloud/img/s3-data-transfer-cost-explorer3.png" alt="S3 Data Transfer Cost Explorer3"></p>
<p>Wow. We actually weren‚Äôt charged <em>anything</em> for the storage <strong>at all</strong>. We were only charged for the S3 requests we made - PUT requests cost $0.005 for every 1000 requests and GET requests cost $0.0004 for every 1000 requests, and the amount of requests it takes to upload and download a 1TB file adds up. But shockingly, there are no storage costs - it‚Äôs almost as if S3 doesn‚Äôt charge you anything for transient storage? This is very unlike AWS, and I‚Äôm not sure how to explain this. I suspected that maybe the S3 free tier was hiding away costs, but - again, shockingly - my S3 storage free tier was totally unaffected by the experiment, none of it was consumed (as opposed to the requests free tier, which was 100% consumed).</p>
<p>But anyways, we‚Äôve proved that the method works. Let‚Äôs finish up with some conclusions:</p>
<h2 id="conclusions">
  Conclusions
  <a href="#conclusions">
    
    <span>Link to heading</span>
  </a>
</h2>
<p>Behind the scenes, AWS replicates S3 data between availability zones for you - whatever this might cost AWS is hidden away in the storage costs you pay for your data. So at its most fundamental level, this method is unlocking free cross-AZ costs - because you‚Äôve effectively already paid for the cross-AZ cost when you uploaded your data to S3! Indeed, if you were to leave your data stored in S3, you‚Äôd end up paying significantly more than the cross-AZ cost - but by deleting it immediately after transferring it, you unlock the 99% savings we were going for.</p>
<p>There are some obvious drawbacks to this method: It‚Äôs not a drop-in replacement for existing data transfer code, and it can have much higher latency than direct network connections. But if cost is your primary concern, this is an effective way of reducing costs by over 99%.</p>
<p>I really hope you find this method useful, and I think it goes to show just how far you can take cost savings in AWS - there are so many services with so much functionality and so many price points that there‚Äôs almost always room for more savings.</p>

      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[A periodic table of visualization methods (168 pts)]]></title>
            <link>https://www.visual-literacy.org/periodic_table/periodic_table.html</link>
            <guid>38998257</guid>
            <pubDate>Mon, 15 Jan 2024 07:26:35 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.visual-literacy.org/periodic_table/periodic_table.html">https://www.visual-literacy.org/periodic_table/periodic_table.html</a>, See on <a href="https://news.ycombinator.com/item?id=38998257">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Raspberry Pi is manufacturing 70K Raspberry Pi 5s per week (115 pts)]]></title>
            <link>https://www.tomshardware.com/raspberry-pi/raspberry-pi-is-now-manufacturing-70000-pi-5s-per-week-will-surge-to-90000-in-february</link>
            <guid>38996954</guid>
            <pubDate>Mon, 15 Jan 2024 02:52:56 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.tomshardware.com/raspberry-pi/raspberry-pi-is-now-manufacturing-70000-pi-5s-per-week-will-surge-to-90000-in-february">https://www.tomshardware.com/raspberry-pi/raspberry-pi-is-now-manufacturing-70000-pi-5s-per-week-will-surge-to-90000-in-february</a>, See on <a href="https://news.ycombinator.com/item?id=38996954">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="article-body">
<p>After a rough couple of years where all models of Raspberry Pi (except the Pico microcontroller) were in short supply, it's now relatively easy to find most SKUs in stock. However, the new Raspberry Pi 5 can still be a slight challenge; at press time, it was sold out at the authorized U.S. retailers but in stock at the UK outlets.&nbsp;</p><p>That's all about to change as Raspberry Pi Ltd is currently producing 70,000 Raspberry Pi 5 boards a week with plans to scale up to as many as 90,000 units per week in the near future.&nbsp;</p><p>Raspberry Pi CEO Eben Upton shared the promising news with us, along with the picture above, which he says he took during a recent factory visit. It shows dozens of panels filled with completed Raspberry Pi 5 boards that are about to be tested and packed for shipping. Each panel in the picture (shown uncropped below) contains nine individual Pi boards.</p><figure data-bordeaux-image-check=""><div><p><picture><source type="image/webp" alt="Stacks of Raspberry Pi 5 Boards in Production" onerror="if(this.src &amp;&amp; this.src.indexOf('missing-image.svg') !== -1){return true;};this.parentNode.replaceChild(window.missingImage(),this)" data-normal="https://vanilla.futurecdn.net/tomshardware/media/img/missing-image.svg" data-srcset="https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4-320-80.jpg.webp 320w, https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4-480-80.jpg.webp 480w, https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4-650-80.jpg.webp 650w, https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4-970-80.jpg.webp 970w, https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4-1024-80.jpg.webp 1024w, https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4-1200-80.jpg.webp 1200w" data-sizes="(min-width: 1000px) 970px, calc(100vw - 40px)" data-original-mos="https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4.jpg" data-pin-media="https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4.jpg"><source type="image/jpeg" alt="Stacks of Raspberry Pi 5 Boards in Production" onerror="if(this.src &amp;&amp; this.src.indexOf('missing-image.svg') !== -1){return true;};this.parentNode.replaceChild(window.missingImage(),this)" data-normal="https://vanilla.futurecdn.net/tomshardware/media/img/missing-image.svg" data-srcset="https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4-320-80.jpg 320w, https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4-480-80.jpg 480w, https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4-650-80.jpg 650w, https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4-970-80.jpg 970w, https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4-1024-80.jpg 1024w, https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4-1200-80.jpg 1200w" data-sizes="(min-width: 1000px) 970px, calc(100vw - 40px)" data-original-mos="https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4.jpg" data-pin-media="https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4.jpg"><img src="https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4.jpg" alt="Stacks of Raspberry Pi 5 Boards in Production" onerror="if(this.src &amp;&amp; this.src.indexOf('missing-image.svg') !== -1){return true;};this.parentNode.replaceChild(window.missingImage(),this)" data-normal="https://vanilla.futurecdn.net/tomshardware/media/img/missing-image.svg" data-srcset="https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4-320-80.jpg 320w, https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4-480-80.jpg 480w, https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4-650-80.jpg 650w, https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4-970-80.jpg 970w, https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4-1024-80.jpg 1024w, https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4-1200-80.jpg 1200w" data-sizes="(min-width: 1000px) 970px, calc(100vw - 40px)" data-original-mos="https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4.jpg" data-pin-media="https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4.jpg" srcset="https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4-320-80.jpg 320w, https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4-480-80.jpg 480w, https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4-650-80.jpg 650w, https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4-970-80.jpg 970w, https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4-1024-80.jpg 1024w, https://cdn.mos.cms.futurecdn.net/hqRVVPSvfjMJXopQ38sYt4-1200-80.jpg 1200w"></picture></p></div><figcaption itemprop="caption description"><span itemprop="copyrightHolder">(Image credit: Raspberry Pi)</span></figcaption></figure><p>"Uplift to 90ku is mostly due to bringing more test heads online in the auto test pods," Upton told us. "<a data-analytics-id="inline-link" href="https://www.tomshardware.com/tag/sony" data-auto-tag-linker="true" data-before-rewrite-localise="https://www.tomshardware.com/tag/sony">Sony</a> really are quite remarkable."</p><p>Sony runs the factory in Pencoed, Wales where Raspberry Pi boards are manufactured. Upton noted that the process is highly automated, with everything from the testing to the packing being done by machine.&nbsp;</p><p>The CEO said he didn't have a precise number of Pi 4 boards produced weekly to share with us, but estimated that it was about the same as the Pi 5. He also promised that Raspberry Pi would maintain its aggressive manufacturing pace until &nbsp;"backlogs are fulfilled and the channel (Approved Resellers and others) is in a good stock position."</p><p>At publishing time, Raspberry Pi 4 boards were widely in stock at all the U.S. and UK outlets we checked. However, given that the Pi 5 models with 4GB and 8GB of RAM cost only $5 more than their Pi 4 equivalents, most individual makers would be right to prefer the new model.</p><p>The Raspberry Pi 5 offers a significant speed bump, faster USB and Wi-Fi speeds, the ability to connect M.2 SSDs, dual camera ports and more. Who wouldn't want those benefits for their next <a data-analytics-id="inline-link" href="https://www.tomshardware.com/features/best-raspberry-pi-projects" data-before-rewrite-localise="https://www.tomshardware.com/features/best-raspberry-pi-projects">Raspberry Pi project</a>?</p><p>However, companies that are using Pi 4 either within products or for <a data-analytics-id="inline-link" href="https://www.tomshardware.com/tag/enterprise" data-auto-tag-linker="true" data-before-rewrite-localise="https://www.tomshardware.com/tag/enterprise">enterprise</a> use cases may want to buy more of the older board, because the Pi 5 isn't a drop-in replacement. It requires new chassis, a higher-wattage power supply and (in most use cases) an active cooler.</p>
</div><div data-hydrate="true" id="slice-container-newsletterForm-articleInbodyContent-Eezr6kPjc7qr5DvHZdbNMQ"><section><p>Join the experts who read Tom's Hardware for the inside track on enthusiast PC tech news ‚Äî and have for over 25 years. We'll send breaking news and in-depth reviews of CPUs, GPUs, AI, maker hardware and more straight to your inbox.</p></section></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[FedEx launches new e-commerce platform to compete with Amazon (181 pts)]]></title>
            <link>https://www.theverge.com/2024/1/14/24038042/fedex-fdx-e-commerce-platform-amazon-rival-shoprunner</link>
            <guid>38996120</guid>
            <pubDate>Mon, 15 Jan 2024 00:55:37 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theverge.com/2024/1/14/24038042/fedex-fdx-e-commerce-platform-amazon-rival-shoprunner">https://www.theverge.com/2024/1/14/24038042/fedex-fdx-e-commerce-platform-amazon-rival-shoprunner</a>, See on <a href="https://news.ycombinator.com/item?id=38996120">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>FedEx <a href="https://newsroom.fedex.com/newsroom/global-english/fedex-announces-first-of-its-kind-data-driven-commerce-platform">announced</a> today that it will launch a new ‚Äúdata-driven commerce platform‚Äù this fall <a href="https://go.redirectingat.com/?xs=1&amp;id=1025X1701640&amp;url=https%3A%2F%2Fwww.fedex.com%2Fen-us%2Fdigital-transformation.html">called fdx</a> that it says will give online merchants ‚Äúend-to-end e-commerce solutions,‚Äù including data for supply chain management. The platform will build on what it offers with ShopRunner, an <a href="https://www.shoprunner.com/">online e-commerce store</a> the company <a href="https://www.forbes.com/sites/retailwire/2020/12/14/why-fedexs-shoprunner-deal-wont-help-much-with-its-amazon-problem/?sh=4b07f83b3911">bought in 2020</a>.</p><p>The company writes that fdx will combine new features with those already in ShopRunner, like enabling merchants to give estimated delivery dates to customers during shopping and ordering, or data on supply chain resources‚Äô carbon impact. FedEx says when fdx launches in the fall, it will add ‚Äúmore efficient, cost-effective deliveries‚Äù using its data. FedEx‚Äôs system would also enable a ‚Äúcustom post-purchase experience‚Äù so brands can give customers more accurate shipment information.</p><div><p>The move appears aimed at competing with Amazon, a company FedEx has seen as <a href="https://www.cnbc.com/2019/09/18/fedex-now-calls-amazon-a-competitor.html">a threat to its business</a> for years. In 2019, FedEx <a href="https://www.theverge.com/2019/6/7/18656813/amazon-prime-fedex-express-delivery-logistics-network-contract-termination-usps-ups">declined to renew</a> a contract to fly Amazon cargo through FedEx Express. Later that year, Amazon <a href="https://www.forbes.com/sites/richardkestenbaum/2019/12/18/amazon-blocked-sellers-from-using-fedex-and-now-we-know-why/?sh=c009ae32da13">forbade its sellers from using FedEx</a> for Prime deliveries during the holidays, blaming declining performance ‚Äî a ban it <a href="https://www.theverge.com/2020/1/14/21065900/amazon-ban-fedex-ground-shipping-lifted-holiday-season">lifted the next year</a>. </p></div><p>FedEx has been losing ground to Amazon, as has UPS, so much so that Amazon <a href="https://www.wsj.com/business/amazon-vans-outnumber-ups-fedex-750f3c04">made more home package deliveries</a> in the US in 2022 than either of them. That‚Äôs just a few years after the online retail giant built up a logistics operation that largely uses tightly controlled third-party contractors that Amazon <a href="https://www.theverge.com/2023/6/18/23765330/amazon-delivery-drivers-union-teamsters">insists aren‚Äôt its employees</a>.</p><div><p>At the same time, Amazon was continuing to build up its own logistics operation that uses a fleet of mostly <a href="https://www.theverge.com/2023/6/18/23765330/amazon-delivery-drivers-union-teamsters">tightly controlled third-party contractors</a> that it insists aren‚Äôt employees. That move has paid off, as the company now delivers <a href="https://www.wsj.com/business/amazon-vans-outnumber-ups-fedex-750f3c04">more packages than UPS or FedEx</a>.</p></div><p><em>The Verge</em> contacted FedEx for more information, but it did not immediately respond.</p><p><em><strong>Update January 14th, 2024, 3:43PM ET: </strong>Updated to add clarity.</em></p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Could inflammation be the cause of myriad chronic conditions? (2019) (156 pts)]]></title>
            <link>https://www.harvardmagazine.com/2019/04/inflammation-disease-diet</link>
            <guid>38996066</guid>
            <pubDate>Mon, 15 Jan 2024 00:46:32 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.harvardmagazine.com/2019/04/inflammation-disease-diet">https://www.harvardmagazine.com/2019/04/inflammation-disease-diet</a>, See on <a href="https://news.ycombinator.com/item?id=38996066">Hacker News</a></p>
Couldn't get https://www.harvardmagazine.com/2019/04/inflammation-disease-diet: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[When Random Isn't (314 pts)]]></title>
            <link>https://orlp.net/blog/when-random-isnt/</link>
            <guid>38994817</guid>
            <pubDate>Sun, 14 Jan 2024 21:56:29 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://orlp.net/blog/when-random-isnt/">https://orlp.net/blog/when-random-isnt/</a>, See on <a href="https://news.ycombinator.com/item?id=38994817">Hacker News</a></p>
<div id="readability-page-1" class="page"><article>

<time datetime="2024-01-10">2024-01-10</time>
<p>This post is an anecdote from over a decade ago, of which I lost the actual
code. So please forgive me if I do not accurately remember all the details. Some
details are also simplified so that anyone that likes computer security can
enjoy this article, not just those who have played World of Warcraft (although
the <a href="https://en.wikipedia.org/wiki/Venn_diagram">Venn diagram</a> of those two
groups likely has a solid overlap).</p>
<p>When I was around 14 years old I discovered <a href="https://en.wikipedia.org/wiki/World_of_Warcraft">World of
Warcraft</a> developed by Blizzard
Games and was immediately hooked. Not long after I discovered add-ons which allow
you to modify how your game‚Äôs user interface looks and works. However, not all
add-ons I downloaded did exactly what I wanted to do. I wanted more. So I went to
find out how they were made.</p>
<p>In a weird twist of fate, I blame World of Warcraft for me seriously picking up
programming. It turned out that they were made in the
<a href="https://www.lua.org/">Lua</a> programming language. Add-ons were nothing more than
a couple <code>.lua</code> source files in a folder directly loaded into the game. The
barrier of entry was incredibly low: just edit a file, press save and reload the
interface. The fact that the game loaded <em>your</em> source code and you could see it
running was magical!</p>
<p>I enjoyed it immensely and in no time I was only writing add-ons and was barely playing
the game itself anymore. I published <a href="https://www.wowinterface.com/downloads/author-207710.html">quite a few
add-ons</a> in the next
two years, which mostly involved copying other people‚Äôs code with some
refactoring / recombining / tweaking to my wishes.</p>
<h2 id="add-on-security"><a href="#add-on-security" aria-label="Anchor link for: add-on-security">Add-on security</a></h2>
<p>A thought you might have is that it‚Äôs a really bad idea to let users have fully
programmable add-ons in your game, lest you get bots. However, the system
Blizzard made to prevent arbitrary programmable actions was quite clever.
Naturally, it did nothing to prevent actual botting, but at least
regular rule-abiding players were fundamentally restricted to the automation
Blizzard allowed.</p>
<p>Most UI elements that you could create were strictly decorative or
informational. These were completely unrestricted, as were most APIs that
strictly gather information. For example you can make a health bar display
using two frames, a background and a foreground, sizing the foreground
frame using an API call to get the health of your character.</p>
<p>Not all API calls were available to you however. Some were protected so they
could only be called from official Blizzard code. These typically involved
the API calls that would move your character, cast spells, use items, etc.
Generally speaking anything that actually makes you perform an in-game action
was protected.</p>

<p>However, some UI elements needed to actually interact with the game itself, e.g.
if I want to make a button that casts a certain spell. For this you could
construct a special kind of button that executes code in a secure environment
when clicked. You were only allowed to create/destroy/move such buttons when not
in combat, so you couldn‚Äôt simply conditionally place such buttons underneath
your cursor to automate actions during combat.</p>
<p>The catch was that this <a href="https://wowwiki-archive.fandom.com/wiki/RestrictedEnvironment">secure
environment</a>
<em>did</em> allow you to programmatically set which spell to cast, but doesn‚Äôt
let you gather the information you would need to do arbitrary automation. All
access to state from outside the secure environment was blocked. There were
some information gathering API calls available to match the more accessible
in-game macro system, but nothing as fancy as getting skill cooldowns or
unit health which would enable automatic optimal spellcasting. </p>
<p>So there were two environments: an insecure one where you can get all
information but can‚Äôt act on it, and a secure one where you can act but can‚Äôt
get the information needed for automation.</p>
<h2 id="a-backdoor-channel"><a href="#a-backdoor-channel" aria-label="Anchor link for: a-backdoor-channel">A backdoor channel</a></h2>
<p>Fast forward a couple years and I had mostly stopped playing. My interests had
mainly moved on to more ‚Äúserious‚Äù programming, and I was only occasionally
playing, mostly messing around with add-on ideas. But this secure environment kept
on nagging in my brain; I wanted to break it.</p>
<p>Of course there was third-party
software that completely disables the security restrictions from Blizzard, but
what‚Äôs the fun in that? I wanted to do it ‚Äúlegitimately‚Äù, using the technically
allowed tools, as a challenge.</p>

<p>So I scanned the secure environment allowed function list to see if I could smuggle any
information from the outside into the secure environment. It all seemed pretty
hopeless until I saw one tiny, innocent little function: <code>random</code>.</p>
<p>An evil idea came in my head: random number generators (RNGs) used in computers are almost
always <a href="https://en.wikipedia.org/wiki/Pseudorandom_number_generator">pseudorandom number generators</a>
with (hidden) internal state. If I can manipulate this state, perhaps I can use
that to pass information into the secure environment.</p>
<h2 id="random-number-generator-woes"><a href="#random-number-generator-woes" aria-label="Anchor link for: random-number-generator-woes">Random number generator woes</a></h2>
<p>It turned out that <code>random</code> was just a small shim around C‚Äôs
<a href="https://en.cppreference.com/w/c/numeric/random/rand"><code>rand</code></a>. I was excited! 
This meant that there was a single global random state that was shared in the
process. It also helps that <code>rand</code> implementations tended to be on the weak side.
Since World
of Warcraft was compiled with MSVC, the actual implementation of <code>rand</code> was as follows:</p>
<pre data-lang="c"><code data-lang="c"><span>uint32_t state;
</span><span>
</span><span>int </span><span>rand() {
</span><span>    state = state * </span><span>214013 </span><span>+ </span><span>2531011</span><span>;
</span><span>    </span><span>return </span><span>(state &gt;&gt; </span><span>16</span><span>) &amp; </span><span>0x7fff</span><span>;
</span><span>}
</span></code></pre>
<p>This RNG is, for the lack of a better word, shite. It is
a naked <a href="https://en.wikipedia.org/wiki/Linear_congruential_generator">linear congruential generator</a>,
and a weak one at that. Which in my case, was a good thing.</p>

<p>So let‚Äôs get to breaking this thing. Since the state is so laughably small
and you can see 15 bits of the state directly you can keep a full list of
all possible states consistent with a single output of the RNG and use
further calls to the RNG to eliminate possibilities until a
single one remains. But we can be significantly more clever.</p>
<p>First we note that the top bit of <code>state</code> never affects anything in this RNG.
<code>(state &gt;&gt; 16) &amp; 0x7fff</code> masks out 15 bits, after shifting away the bottom 16
bits, and thus effectively works mod $2^{31}$. Since on any update the new state
is a linear function of the previous state, we can propagate this modular form
all the way down to the initial state as $$f(x) \equiv f(x \bmod m) \mod m$$ for
any linear $f$.</p>
<p>Let $a = 214013$ and $b = 2531011$. We observe the 15-bit output $r_0, r_1$ of
two RNG calls. We‚Äôll call the 16-bit portion of the RNG state that is hidden by
the shift $h_0, h_1$ respectively, for the states after the first and second
call. This means the state of the RNG after the first call is $2^{16} r_0 + h_0$
and similarly for $2^{16} r_1 + h_1$ after the second call. Then we have the following identity:</p>
<p>$$a\cdot (2^{16}r_0 + h_0) + b \equiv 2^{16}r_1 + h_1 \mod 2^{31},$$</p>
<p>$$ah_0 \equiv h_1 + 2^{16}(r_1 - ar_0) - b \mod 2^{31}.$$</p>
<p>Now let $c \geq 0$ be the known constant $(2^{16}(r_1 - ar_0) - b) \bmod 2^{31}$, then
for some integer $k$ we have</p>
<p>$$ah_0 = h_1 + c + 2^{31} k.$$</p>
<p>Note that the left hand side ranges from $0$ to $a (2^{16} - 1) \approx 2^{33.71}$.
Thus we must have $-1 \leq k \leq 2^{2.71} &lt; 7$. Reordering we get the following
expression for $h_0$:
$$h_0 = \frac{c + 2^{31} k}{a} + h_1/a.$$
Since $a &gt; 2^{16}$ while $0 \leq h_1 &lt; 2^{16}$ we note that the term $0 \leq h_1/a &lt; 1$.
Thus, assuming a solution exists, we must have
$$h_0 = \left\lceil\frac{c + 2^{31} k}{a}\right\rceil.$$</p>
<p>So for $-1 \leq k &lt; 7$ we compute the above guess for the hidden portion of
the RNG state after the first call. This gives us 8 guesses, after which we can
reject bad guesses using follow-up calls to the RNG until a single unique answer remains.</p>

<p>An example implementation of this process in Python:</p>
<pre data-lang="python"><code data-lang="python"><span>import </span><span>random
</span><span>
</span><span>A = </span><span>214013
</span><span>B = </span><span>2531011
</span><span>
</span><span>class </span><span>MsvcRng:
</span><span>    </span><span>def </span><span>__init__(self, state):
</span><span>        self.state = state
</span><span>        
</span><span>    </span><span>def </span><span>__call__(self):
</span><span>        self.state = (self.state * A + B) % </span><span>2</span><span>**</span><span>32
</span><span>        </span><span>return </span><span>(self.state &gt;&gt; </span><span>16</span><span>) &amp; </span><span>0x7fff
</span><span>
</span><span># Create a random RNG state we'll reverse engineer.
</span><span>hidden_rng = MsvcRng(random.randint(</span><span>0</span><span>, </span><span>2</span><span>**</span><span>32</span><span>))
</span><span>
</span><span># Compute guesses for hidden state from 2 observations.
</span><span>r0 = hidden_rng()
</span><span>r1 = hidden_rng()
</span><span>c = (</span><span>2</span><span>**</span><span>16 </span><span>* (r1 - A * r0) - B) % </span><span>2</span><span>**</span><span>31
</span><span>ceil_div = </span><span>lambda </span><span>a, b: (a + b - </span><span>1</span><span>) // b
</span><span>h_guesses = [ceil_div(c + </span><span>2</span><span>**</span><span>31 </span><span>* k, A) </span><span>for </span><span>k </span><span>in </span><span>range(-</span><span>1</span><span>, </span><span>7</span><span>)]
</span><span>
</span><span># Validate guesses until a single guess remains.
</span><span>guess_rngs = [MsvcRng(</span><span>2</span><span>**</span><span>16 </span><span>* r0 + h0) </span><span>for </span><span>h0 </span><span>in </span><span>h_guesses]
</span><span>guess_rngs = [g </span><span>for </span><span>g </span><span>in </span><span>guess_rngs </span><span>if </span><span>g() == r1]
</span><span>while </span><span>len(guess_rngs) &gt; </span><span>1</span><span>:
</span><span>    r = hidden_rng()
</span><span>    guess_rngs = [g </span><span>for </span><span>g </span><span>in </span><span>guess_rngs </span><span>if </span><span>g() == r]
</span><span>    
</span><span># The top bit can not be recovered as it never affects the output,
</span><span># but we should have recovered the effective hidden state.
</span><span>assert </span><span>guess_rngs[</span><span>0</span><span>].state % </span><span>2</span><span>**</span><span>31 </span><span>== hidden_rng.state % </span><span>2</span><span>**</span><span>31
</span></code></pre>
<p>While I did write the above process with a <code>while</code> loop, it appears to only ever
need a third output at most to narrow it down to a single guess.</p>
<h2 id="putting-it-together"><a href="#putting-it-together" aria-label="Anchor link for: putting-it-together">Putting it together</a></h2>
<p>Once we could reverse-engineer the internal state of the random number
generator we could make arbitrary automated decisions in the supposedly secure
environment. How it worked was as follows:</p>
<ol>
<li>
<p>An insecure hook was registered that would execute right before the secure
environment code would run.</p>
</li>
<li>
<p>In this hook we have full access to information, and make a decision as to
which action should be taken (e.g. casting a particular spell). This action
is looked up in a hardcoded list to get an index.</p>
</li>
<li>
<p>The current state of the RNG is reverse-engineered using the above process.</p>
</li>
<li>
<p>We predict the outcome of the next RNG call. If this (modulo the length
of our action list) does not give our desired outcome, we advance the RNG and
try again. This repeats until the next random number would correspond to our
desired action.</p>
</li>
<li>
<p>The hook returns, and the secure environment starts. It generates a ‚Äúrandom‚Äù
number, indexes our hardcoded list of actions, and performs the ‚Äúrandom‚Äù action.</p>
</li>
</ol>
<p>That‚Äôs all! By being able to simulate the RNG and looking one step ahead we could
use it as our information channel by choosing exactly the right moment to call
<code>random</code> in the secure environment. Now if you wanted to support a list of $n$
actions it would on average take $n$ steps of the RNG before the correct
number came up to pass along, but that wasn‚Äôt a problem in practice.</p>
<h2 id="conclusion"><a href="#conclusion" aria-label="Anchor link for: conclusion">Conclusion</a></h2>
<p>I don‚Äôt know when Blizzard fixed the issue where the RNG state is so weak and
shared, or whether they were aware of it being an issue at all. A few years
after I had written the code I tried it again out of curiosity, and it had
stopped working. Maybe they switched to a different algorithm,
or had a properly separated RNG state for the secure environment.</p>
<p>All-in-all it was a lot of effort for a niche exploit in a video game that I
didn‚Äôt even want to use. But there certainly was a magic to manipulating
something supposedly random into doing exactly what you want, like a magician
pulling four aces from a shuffled deck.</p>

</article></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Leaving Arizona ‚Äì the Story of the Motorola 6800 part 2 and creation of the 6502 (103 pts)]]></title>
            <link>https://thechipletter.substack.com/p/leaving-arizona</link>
            <guid>38994680</guid>
            <pubDate>Sun, 14 Jan 2024 21:38:50 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://thechipletter.substack.com/p/leaving-arizona">https://thechipletter.substack.com/p/leaving-arizona</a>, See on <a href="https://news.ycombinator.com/item?id=38994680">Hacker News</a></p>
<div id="readability-page-1" class="page"><div dir="auto"><p><strong>I was able to scoop up the best people from the Motorola design team. </strong><span> </span><br><span>Chuck Peddle</span></p><p><span>In </span><a href="https://thechipletter.substack.com/p/motorolas-pioneering-8-bit-6800-origins" rel="">Motorola‚Äôs Pioneering 6800 : Origins and Architecture</a><span>, we saw how a small team, based in Phoenix, Arizona, developed the Motorola 6800 microprocessor. The announcement of the 6800, in April 1974, meant that Motorola seemed to have a contender for early leadership in microprocessors. Compared to its leading 8-bit rival, the Intel 8080, the 6800 had an elegant and clean instruction set and a design that was easier to build systems around.</span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9248d167-9a13-4b6f-bf56-72f9871bd9b0_1024x683.jpeg" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9248d167-9a13-4b6f-bf56-72f9871bd9b0_1024x683.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9248d167-9a13-4b6f-bf56-72f9871bd9b0_1024x683.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9248d167-9a13-4b6f-bf56-72f9871bd9b0_1024x683.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9248d167-9a13-4b6f-bf56-72f9871bd9b0_1024x683.jpeg 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9248d167-9a13-4b6f-bf56-72f9871bd9b0_1024x683.jpeg" width="728" height="485.5703125" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/9248d167-9a13-4b6f-bf56-72f9871bd9b0_1024x683.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:false,&quot;imageSize&quot;:&quot;normal&quot;,&quot;height&quot;:683,&quot;width&quot;:1024,&quot;resizeWidth&quot;:728,&quot;bytes&quot;:170286,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:false,&quot;topImage&quot;:true,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9248d167-9a13-4b6f-bf56-72f9871bd9b0_1024x683.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9248d167-9a13-4b6f-bf56-72f9871bd9b0_1024x683.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9248d167-9a13-4b6f-bf56-72f9871bd9b0_1024x683.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F9248d167-9a13-4b6f-bf56-72f9871bd9b0_1024x683.jpeg 1456w" sizes="100vw" fetchpriority="high"></picture></div></a><figcaption>Prototype 6800 Board - See https://www.computerhistory.org/collections/catalog/102711296</figcaption></figure></div><p>The 6800 team created a simple single-board computer (pictured above), with just six integrated circuits, which they used to demonstrate the 6800 to Motorola‚Äôs senior management. According to Tom Bennett, who led the design of the 6800:</p><blockquote><p>Chuck Peddle and John Buchanan wired up and put together and programmed it. And all it did was say: ‚ÄúHi, John‚Äù or ‚ÄúHi, Bob,‚Äù ‚Ä¶</p></blockquote><p>Bob was Bob Galvin, Motorola‚Äôs Chief Executive, son of the company's founder.</p><p>Galvin, seeing the potential of the 6800, and concerned that it might replace Motorola‚Äôs other products, asked the team:</p><blockquote><p>You understand that you‚Äôre putting our customer‚Äôs chip -- or system -- on one of these little boards? What‚Äôs that gonna do to my other products?</p></blockquote><p>The 6800 wasn‚Äôt available in volume at the time of its announcement, but samples were soon sent to prospective users. By June 1974 key potential customers, such as Hewlett Packard, had prototype systems built around the 6800.</p><p>With the launch of the 6800, Motorola didn't just have a promising product. It also had a talented and innovative team in Phoenix. Along with Tom Bennett, the team included Bill Mensch, Bill Lattin, Rod Orgill and Chuck Peddle, each of whom would go on to have highly distinguished careers.</p><p>Everything was looking good for Motorola‚Äôs nascent microprocessor business. But then, in early 1974, not long after the 6800 was announced, Motorola‚Äôs management decided to move the team to Texas.</p><p><strong><span>‚Ä¶ I think his intention was to raid Motorola for engineers.</span><br></strong><span>Bill Mensch on Chuck Peddle‚Äôs plans when he joined Motorola</span></p><p>The growth of Motorola‚Äôs semiconductor business in the early 1970s meant that the firm needed to expand its manufacturing capabilities. Austin, Texas was chosen as a new site and management decided to move the 6800 team there.</p><p>Bill Lattin started to travel to Austin to prepare for the move, whilst becoming increasingly concerned about the disruption it would cause. The semiconductor industry was about to enter recession and Motorola‚Äôs semiconductor business was losing millions of dollars. The company would shortly lay off thousands of staff. Lattin later recalled that he told Motorola‚Äôs management:</p><blockquote><p>Listen, you know, conditions are worsening in the environment here, and this is our last time to call off this move. I don‚Äôt want to get half-way down to Austin and have this thing blow up on me.</p></blockquote><p>He extracted a promise from his manager that engineers who made the move to Austin would be secure in their jobs. The move went ahead in the middle of 1975, shortly after the 6800 had entered volume production at the end of 1974. Then, Lattin‚Äôs boss lost his own job and his replacement started to demand job cuts in the 6800 team. It was too much, and soon Lattin took up the long-standing offer from his former teacher Andy Grove to join him at Intel.</p><p>Other key members of the 6800 team, including Tom Bennett, declined to move to Austin, and instead moved to other business units within Motorola.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89b2bc87-6aba-497e-86f3-8b51207301f3_1278x1276.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89b2bc87-6aba-497e-86f3-8b51207301f3_1278x1276.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89b2bc87-6aba-497e-86f3-8b51207301f3_1278x1276.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89b2bc87-6aba-497e-86f3-8b51207301f3_1278x1276.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89b2bc87-6aba-497e-86f3-8b51207301f3_1278x1276.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89b2bc87-6aba-497e-86f3-8b51207301f3_1278x1276.png" width="1278" height="1276" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/89b2bc87-6aba-497e-86f3-8b51207301f3_1278x1276.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1276,&quot;width&quot;:1278,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1609814,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89b2bc87-6aba-497e-86f3-8b51207301f3_1278x1276.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89b2bc87-6aba-497e-86f3-8b51207301f3_1278x1276.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89b2bc87-6aba-497e-86f3-8b51207301f3_1278x1276.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F89b2bc87-6aba-497e-86f3-8b51207301f3_1278x1276.png 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>Chuck Peddle - from Byte magazine in 1982</figcaption></figure></div><p>And, possibly most damaging of all for Motorola, the move to Austin had already prompted some of the team, including Rod Orgill and Bill Mensch, to leave and start work on the design of a competitor. It was Chuck Peddle, who had joined the 6800 team later in its development, who was the driving force behind the move. Mensch has said that when Peddle joined Motorola ‚Äú‚Ä¶ his intention was to raid Motorola for engineers.‚Äù</p><p>One can sense Peddle‚Äôs discontent at Motorola. In the book ‚ÄòCommodore: A Company on the Edge‚Äô, Peddle is less than flattering about the 6800:</p><blockquote><p>They kind of muddled their way through the architecture of the 6800, which had some flaws in it. ‚Ä¶ I was able to fix some of those flaws, but it was too late for others.</p></blockquote><p>However, when Peddle presented the 6800 and its family to customers, the biggest concern wasn‚Äôt the 6800‚Äôs architecture, but its price. The 6800 processor was launched with a price of $360, closely matching the price of the latest 8-bit Intel processor, the 8080. Peddle later recalled that in his presentations:&nbsp;</p><blockquote><p>The guys would sit down, we would explain the 6800, and they would ‚Ä¶ fall in love ‚Ä¶</p></blockquote><p>But this was followed by complaints about the price. Customers would say:</p><blockquote><p>You're charging too much for it. What I want to use it for is not to replace a minicomputer. I want to use it to replace a controller, but at $300 per device it's not cost-effective.</p></blockquote><p><span>Peddle started to push Motorola‚Äôs management to produce a low-cost version of the 6800</span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-1-139425274" href="https://thechipletter.substack.com/p/leaving-arizona#footnote-1-139425274" target="_self" rel="">1</a><span>. For simple control applications, the competition was either a custom design or Intel‚Äôs 4-bit 4040 processor. The 4040 cost around $29, so Peddle set a target of $20 for a low-cost version of the 6800. After months of trying to get Motorola‚Äôs management to adopt his proposal, he was instructed, in writing, to stop pursuing the idea. His response was a letter to Motorola‚Äôs management, stating that, in Peddle‚Äôs words:</span></p><blockquote><p>This is product abandonment, therefore I am going to pursue this idea on my own. You don't have any rights to it because this letter says you don't want it.</p></blockquote><p>But there was a reason the 6800 was expensive. It was made using ‚Äòcontact lithography‚Äô, where the photomask, containing the image that is to created on the silicon die, comes into direct contact with the silicon wafer. This inevitably led, over time, to damage to the photomask, reducing yields and eventually rendering the expensive photomask unusable. Making a low-cost version of the 6800 would be impossible without a more cost-effective manufacturing process.</p><p>Peddle was determined to pursue his idea and, whilst still at Motorola, started to talk to a number of other firms about making it a reality. According to Peddle:</p><blockquote><p>And the guy I went to build first was L.J. Sevin at Mostek. And L.J.‚Äôs comment to me much later was, ‚ÄúI didn't do the deal because I was afraid Motorola was going to sue you, and I didn't want to deal with Motorola‚Äù.</p></blockquote><p>Eventually, he made contact with John Paivinen whose company, MOS Technology, based in Pennsylvania, was already building complex calculator chips. Peddle‚Äôs vision appealed to Paivinen, but there was one problem. His firm was using a PMOS fabrication process and didn‚Äôt have a working NMOS process, that would be needed for the new processor. However, Paivinen convinced Peddle that his firm could have NMOS in production in the year or so it would take Peddle and colleagues to design a new processor.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2c2e6f31-998e-4c55-8063-3e7a89b308eb_1934x878.jpeg" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2c2e6f31-998e-4c55-8063-3e7a89b308eb_1934x878.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2c2e6f31-998e-4c55-8063-3e7a89b308eb_1934x878.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2c2e6f31-998e-4c55-8063-3e7a89b308eb_1934x878.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2c2e6f31-998e-4c55-8063-3e7a89b308eb_1934x878.jpeg 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_2400,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2c2e6f31-998e-4c55-8063-3e7a89b308eb_1934x878.jpeg" width="1200" height="544.7802197802198" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/2c2e6f31-998e-4c55-8063-3e7a89b308eb_1934x878.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:false,&quot;imageSize&quot;:&quot;large&quot;,&quot;height&quot;:661,&quot;width&quot;:1456,&quot;resizeWidth&quot;:1200,&quot;bytes&quot;:119977,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2c2e6f31-998e-4c55-8063-3e7a89b308eb_1934x878.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2c2e6f31-998e-4c55-8063-3e7a89b308eb_1934x878.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2c2e6f31-998e-4c55-8063-3e7a89b308eb_1934x878.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2c2e6f31-998e-4c55-8063-3e7a89b308eb_1934x878.jpeg 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>An image of MOS Technology‚Äôs Valley Forge base from an early advertisement.</figcaption></figure></div><p>So, in August 1974, Peddle, Orgill, Mensch and five other members of the 6800 team, travelled to MOS Technology‚Äôs Valley Forge offices. According to Peddle, ‚ÄúI was able to scoop up the best people from the Motorola design team.‚Äù </p><p>There they started making the idea of a low-cost 8-bit microprocessor a reality.</p><p>The 6800 had been announced in April 1974 but Motorola‚Äôa shift from PMOS to a new NMOS process proved problematic and it wasn't until November that it was in volume production, giving Intel‚Äôs 8080 a clear six-month lead.</p><p>The 6800 team hadn‚Äôt been working to make a competitor to the minicomputer. The target was devices such as ‚Äòdumb‚Äô ‚ÄòCathode Ray Tube‚Äô terminals, used to connect to ‚Äòreal‚Äô mini and mainframe computers. An early proposal for a more advanced 16-bit processor design, that would have been competitive with minis, had quickly been rejected as impractical.</p><p>But the availability of the Intel 8080 in 1974 had enabled the creation of the Altair 8800, the first commercially successful ‚Äòpersonal computer‚Äô. Launched in January 1975, the Altair 8800 was the machine for which Bill Gates would write Microsoft‚Äôs first product, a BASIC language interpreter.</p><p>The later availability of the 6800 in production meant that the first 6800-based personal computers trailed the Altair 8800, but they still made an impact. Leading the way was the South West Technical Products SWTPC 6800, launched at the end of 1975. The SWTPC provided a 6800 card plugged into a printed circuit board ‚Äòbackpane‚Äô and connected to a range of peripheral cards via the SWTPC‚Äôs SS-50 bus. Cards to support floppy disk drives, video displays and other peripherals were soon available.</p><p>The Altair and the SWTPC machines may seem primitive now, but their low cost - the SWTPC 6800 was launched with a starting price of $450 - their relative ease of use, and the flexibility of being able to add new peripherals, were revolutionary. Motorola may have been a little late in delivering the 6800 but at the end of 1975, they had a promising foothold in the new personal computer market.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7d0492be-fb33-4704-b3a6-aae4bc9aaba5_2409x3223.jpeg" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7d0492be-fb33-4704-b3a6-aae4bc9aaba5_2409x3223.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7d0492be-fb33-4704-b3a6-aae4bc9aaba5_2409x3223.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7d0492be-fb33-4704-b3a6-aae4bc9aaba5_2409x3223.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7d0492be-fb33-4704-b3a6-aae4bc9aaba5_2409x3223.jpeg 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7d0492be-fb33-4704-b3a6-aae4bc9aaba5_2409x3223.jpeg" width="1456" height="1948" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/7d0492be-fb33-4704-b3a6-aae4bc9aaba5_2409x3223.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1948,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:539675,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7d0492be-fb33-4704-b3a6-aae4bc9aaba5_2409x3223.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7d0492be-fb33-4704-b3a6-aae4bc9aaba5_2409x3223.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7d0492be-fb33-4704-b3a6-aae4bc9aaba5_2409x3223.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7d0492be-fb33-4704-b3a6-aae4bc9aaba5_2409x3223.jpeg 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>Meanwhile, Peddle and seven of the Motorola engineers had travelled across the country to Valley Forge in Pennsylvania, arriving at MOS Technology‚Äôs offices on 19 August 1974. Their arrival wasn't welcomed by all at their new employer and Mensch has recalled how he once found nails in the tyres of his car parked outside the office, which he attributed to a resentful MOS Technology engineer. One of those engineers has recalled that he thought Peddle could be ‚Äòa bit pompous‚Äô but that ‚Äòhe‚Äôd had a vision and was pushing that vision. Peddle was the visionary‚Äô.</p><p>Just a year after they had made the move to Pennsylvania, Peddle, Orgill, Mensch and their colleagues had created several new low-cost 8-bit processors. The key designs were the MOS Technology 6501 and 6502, with the 6503, 6504, 6505 and 6507 as cheaper versions in 28-pin (rather than 40 pin) packages with reduced address spaces.</p><p>To create these new microprocessors the engineers had needed to work exceptionally long hours, with cots installed in some of the offices so that they could take naps before returning to work. The microprocessor‚Äôs circuits were drawn on paper by hand in a repetitive and error prone process. When the team discovered that one of their designs was too big they had to rework it, circuit by circuit, reclaiming small amounts of space on the die.</p><p>There have been competing claims about who should get the credit for the layout of the 6502. It‚Äôs often been attributed to Bill Mensch, and Chuck Peddle has paid tribute to Mensch‚Äôs work:</p><blockquote><p>‚ÄúHe built seven different chips without ever having an error, almost all done by hand. When I tell people that, they don't believe me, but it's true. This guy is a unique person. He is the best layout guy in the world.‚Äù </p></blockquote><p><span>However another member of the team, Harry Bawcom, has disputed this claim</span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-2-139425274" href="https://thechipletter.substack.com/p/leaving-arizona#footnote-2-139425274" target="_self" rel="">2</a></p><blockquote><p>‚ÄúBill Mensch did not layout the 6502, I did, with the help of two others.</p><p>In truth we all worked as a team but Bill didn't draw a single line on the first version of the 6502. My initials were on the die. ‚Ä¶ There were two other circuit designers involved, one senior to Bill. They deserve credit, too.‚Äù</p></blockquote><p>Equally important, although less well publicised, was the effort of the MOS Technology process engineers to develop a working NMOS process and to move away from contact lithography. As Paivinen had promised, they had a working NMOS process ready in time to make the new microprocessor designs.</p><p>One of the key features of the 6501 was that it could be plugged into the same socket on the printed circuit board as the 6800. According to one colleague:</p><blockquote><p>Chuck sold the concept that Motorola will be out there building all these boards that will use the 6800 and we‚Äôre going to come along with. a cost reduced microprocessor to replace it pin for pin.</p></blockquote><p>And customers could immediately use the hardware ecosystem that Motorola had already designed for the 6800 as the starting point for a 6501-based system, ‚Äòjump starting‚Äô their 6501/2 development.</p><p>The 6502 would run the same code as the 6501 but was not ‚Äòpin-compatible‚Äô with the 6800. However, it was simpler to integrate into systems, needing only a single clock signal, compared to the two clocks that were needed for both the 6501 and 6800.</p><p>If we put the dies (dice) of the 6800 and the 6502 side by side then the similarities between the two designs become clear. Both designs have a ‚ÄòProgrammable Logic Array‚Äô ‚Äòcontrol ROM‚Äô at the top, control logic in the middle and registers and arithmetic and logic circuitry in the bottom half of the die.</p><figure data-drag-handle="" data-component-name="ImageGallery"><div><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F272c660f-78ab-424a-aa2e-ab5e4062acd7_1024x986.jpeg 424w, https://substackcdn.com/image/fetch/w_720,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F272c660f-78ab-424a-aa2e-ab5e4062acd7_1024x986.jpeg 720w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_720,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F272c660f-78ab-424a-aa2e-ab5e4062acd7_1024x986.jpeg" sizes="100vw" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F272c660f-78ab-424a-aa2e-ab5e4062acd7_1024x986.jpeg 424w, https://substackcdn.com/image/fetch/w_720,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F272c660f-78ab-424a-aa2e-ab5e4062acd7_1024x986.jpeg 720w" width="720"></picture><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F216f5b5c-73b1-4ac0-865b-957f28215830_921x1024.jpeg 424w, https://substackcdn.com/image/fetch/w_720,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F216f5b5c-73b1-4ac0-865b-957f28215830_921x1024.jpeg 720w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_720,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F216f5b5c-73b1-4ac0-865b-957f28215830_921x1024.jpeg" sizes="100vw" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F216f5b5c-73b1-4ac0-865b-957f28215830_921x1024.jpeg 424w, https://substackcdn.com/image/fetch/w_720,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F216f5b5c-73b1-4ac0-865b-957f28215830_921x1024.jpeg 720w" width="720"></picture></div><figcaption>Separated at birth? 6800 vs 6502 die shots</figcaption></div></figure><p>Under the surface, though, the two designs were very different. The 6501/2 were each smaller, needing just 3,500 transistors, compared to 4,100 for the 6800.</p><p>The 6501/2 would both be fabricated using an NMOS, depletion-load process whereas the 6800 had been designed to use a less advanced process. And MOS Technology pioneered the move away from using contact lithography, removing the need to create expensive new masks on a regular basis. </p><p>And the 6501 and 6502 would not be code-compatible with the 6800. Economies had needed to be made in the new designs to keep the transistor count down. The 16-bit ‚Äòstack pointer‚Äô in the 6800 was reduced to 8-bits, which would always point into page 1 (hexadecimal addresses 0100 to 01FF) in memory. The 6800‚Äôs two 8-bit accumulators, ‚ÄòA‚Äô and ‚ÄòB‚Äô, were replaced by a single ‚ÄòA‚Äô accumulator. Room was found, though, for two 8-bit index registers ‚ÄòX‚Äô and ‚ÄòY‚Äô, replacing the single 16-bit index register in the 6800.</p><p><span>The team found a number of other ways of simplifying the designs. The first version of the 6800 had measured 29.0 mm^2. The 6502 was only 16.6mm^2. So almost twice as many 6502s could be extracted from a silicon wafer when compared to the 6800. Crucially too, the smaller die size and the move away from contact lithography meant that yields, which had been a major problem for Motorola, would be significantly higher too. According to Mensch their design ‚Äúyielded 10 times as many good chips as the competition.‚Äù</span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-3-139425274" href="https://thechipletter.substack.com/p/leaving-arizona#footnote-3-139425274" target="_self" rel="">3</a><span> The 6502 would be much, much cheaper to make than the 6800.</span></p><p>This lower cost had been achieved without sacrificing performance. Let‚Äôs look at one key example of how this was achieved.</p><p>The static RAM cells needed to create registers on the CPU were expensive in terms of die area. This meant that the teams designing both the 6800 and the 6502, were both restricted in the number of registers they could afford to include. As a result, both chips would need to load and store values from memory more often than a competitor like the Intel 8080, which had many more registers. So, both the 6800 and the 6502 had two-byte instructions that would store the value in an accumulator to a specified location in page zero (hexadecimal addresses 0000 to 00FF) in memory. For both processors, this would execute in three clock cycles.</p><p>But the 6502 went much further in making use of page zero. It added instructions that would add two bytes from page zero to the Y register to form the address to be used in a load, store, arithmetic or logic operations. These instructions made some common operations such as copying small amounts of memory, faster than the 6800. Let‚Äôs look at one example of this in practice.</p><p><span>Wikipedia has an example</span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-4-139425274" href="https://thechipletter.substack.com/p/leaving-arizona#footnote-4-139425274" target="_self" rel="">4</a><span> of code with the 6502‚Äôs new addressing modes in action in a ‚Äòmemory copy‚Äô subroutine. In the extract below the contents of SRC and DST, which are both memory locations in Page Zero, are used as ‚Äòbase addresses‚Äô and the Y register is added in each case to create the final source and destination addresses.</span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F671de36e-84ab-4a83-807d-dbb406a9ed6e_1564x534.jpeg" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F671de36e-84ab-4a83-807d-dbb406a9ed6e_1564x534.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F671de36e-84ab-4a83-807d-dbb406a9ed6e_1564x534.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F671de36e-84ab-4a83-807d-dbb406a9ed6e_1564x534.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F671de36e-84ab-4a83-807d-dbb406a9ed6e_1564x534.jpeg 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_2400,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F671de36e-84ab-4a83-807d-dbb406a9ed6e_1564x534.jpeg" width="1200" height="409.61538461538464" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/671de36e-84ab-4a83-807d-dbb406a9ed6e_1564x534.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:false,&quot;imageSize&quot;:&quot;large&quot;,&quot;height&quot;:497,&quot;width&quot;:1456,&quot;resizeWidth&quot;:1200,&quot;bytes&quot;:54921,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F671de36e-84ab-4a83-807d-dbb406a9ed6e_1564x534.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F671de36e-84ab-4a83-807d-dbb406a9ed6e_1564x534.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F671de36e-84ab-4a83-807d-dbb406a9ed6e_1564x534.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F671de36e-84ab-4a83-807d-dbb406a9ed6e_1564x534.jpeg 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>So, more specifically, here SRC is #80. The instruction:</p><pre><code>LDA (SRC), Y</code></pre><p>Takes the contents of #80 and #81 creates a two byte memory address from the contents of these (page zero) memory locations,  adds the Y register to this address to create a new memory address and then loads the contents of that memory address into the accumulator. </p><p><span>All this happens, typically, in just five ‚Äòclock cycles‚Äô</span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-5-139425274" href="https://thechipletter.substack.com/p/leaving-arizona#footnote-5-139425274" target="_self" rel="">5</a><span> an overhead of just one clock cycle when compared to reading the accumulator from a fixed two byte address in memory. Even better, other instructions offer arithmetic and logical operations that use the same addressing mode for no extra clock cycles when compared to a simple ‚Äòload‚Äô.  These instructions read two bytes from memory, add Y to those two bytes to form a memory address, then read a further byte from memory and perform an arithmetic operation using that byte. All this can happen in just five clock cycles.</span></p><p>Some commentators have described the 6502 as a sort of early 8-bit RISC ‚ÄòReduced Instruction Set Computer‚Äô processor. In fact, in many respects, the 6502 was quite the opposite of a RISC design.  Some common instructions were quite complex, with multiple memory reads and calculations.</p><p>Quoting Bill Mensch:</p><blockquote><p><span>And we figured out how to have addressable registers by using zero page [the first 256 bytes in RAM]. So you can have one byte for the op code and one byte for the address, and [the code is compact and fast]. There are limitations, but compared to other processors, zero page was a big deal.</span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-6-139425274" href="https://thechipletter.substack.com/p/leaving-arizona#footnote-6-139425274" target="_self" rel="">6</a></p></blockquote><p>In effect the 6502‚Äôs ‚Äòpage zero‚Äô in memory provides a large number of ‚Äòpseudo‚Äô 8 and 16-bit registers, slower than real registers, but still faster and more versatile than having to use other parts of memory. A skilled programmer making effective use of ‚Äòpage zero‚Äô could write code that was fast when compared to other 8-bit designs.</p><p>This probably wasn‚Äôt obvious to many early users though, who might simply have compared the number of registers with a 6800 or an Intel 8080 and found the 6502 lacking. So an early MOS Technology brochure felt the need to explain the decision to reduce the number of registers when compared to the 6800.</p><blockquote><p><strong>Comparing your part to the M6800, why did you cut the stack back to one page and why did you cut out accumulator B, etc.?</strong></p><p>Although the MCS6501 is a direct plug replacement for the Motorola 6800, no real attempt was made to maintain exact software compatibility with the 6800 because of our desire to have significantly greater addressing flexibility and to allow for upward expansion in the product family. Our primary objective was to develop a low-cost processor-and all other decisions were made on that basis.</p><p>We think that you will find that the use of the second index register more than compensates for the loss of the second accumulator and the eight-bit stack pointer helped us to reduce the cost of the chip. Because of the significantly greater addressing power, one does not need to use the stack for other than hardware and subroutine processing. As a result, a one-page long stack should be more than adequate.</p></blockquote><p>The same brochure proclaimed the performance of the new designs:</p><blockquote><p><strong>What is the performance of the MCS6501?</strong></p><p>The claim that the MCS6501 beats all other competitive eight-bit microprocessors is substantiated in two areas.</p><p>First, utilizing the A H Systems benchmarks (the only set of benchmarks currently available from an independent consultant), we outperform all other standard products indicated in all but one case. Second, although recently several of our competitors have offered premium higher frequency products that may allow them to equal or outperform our processors, we will be announcing higher-speed microprocessors that will maintain or improve our current performance edge.</p></blockquote><p><strong>With lower-priced and faster designs, Peddle had what he wanted to fulfil his vision. He would make sure that the world knew about it.</strong></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1249eb7f-1f3b-4bdb-a95a-24ea5c6d4cdb_1700x2200.jpeg" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1249eb7f-1f3b-4bdb-a95a-24ea5c6d4cdb_1700x2200.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1249eb7f-1f3b-4bdb-a95a-24ea5c6d4cdb_1700x2200.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1249eb7f-1f3b-4bdb-a95a-24ea5c6d4cdb_1700x2200.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1249eb7f-1f3b-4bdb-a95a-24ea5c6d4cdb_1700x2200.jpeg 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1249eb7f-1f3b-4bdb-a95a-24ea5c6d4cdb_1700x2200.jpeg" width="1456" height="1884" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/1249eb7f-1f3b-4bdb-a95a-24ea5c6d4cdb_1700x2200.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:1884,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:779654,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1249eb7f-1f3b-4bdb-a95a-24ea5c6d4cdb_1700x2200.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1249eb7f-1f3b-4bdb-a95a-24ea5c6d4cdb_1700x2200.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1249eb7f-1f3b-4bdb-a95a-24ea5c6d4cdb_1700x2200.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1249eb7f-1f3b-4bdb-a95a-24ea5c6d4cdb_1700x2200.jpeg 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>Early MOS Technology Microprocessor Datasheet featuring the short-lived 6501</figcaption></figure></div><p>The 6501 and 6502 launched at the end of 1975 with prices of $20 and $25, much cheaper than the, by then, reduced price of $175 that Motorola was charging for the 6800.</p><p>With faster and lower-priced designs, Peddle had what he wanted to fulfil his vision. He would make sure that the world knew about it.</p><p>Early advertisements for the 6501 and 6502 proclaimed their low cost and the easy-to-follow instruction set. Peddle kept costs down by charging $10 for the 6502‚Äôs documentation, but encouraged users to make their own copies.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe0145dff-2d6c-4daf-84d9-d2d5f52dda7a_1573x1080.jpeg" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe0145dff-2d6c-4daf-84d9-d2d5f52dda7a_1573x1080.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe0145dff-2d6c-4daf-84d9-d2d5f52dda7a_1573x1080.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe0145dff-2d6c-4daf-84d9-d2d5f52dda7a_1573x1080.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe0145dff-2d6c-4daf-84d9-d2d5f52dda7a_1573x1080.jpeg 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_2400,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe0145dff-2d6c-4daf-84d9-d2d5f52dda7a_1573x1080.jpeg" width="1200" height="824.1758241758242" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/e0145dff-2d6c-4daf-84d9-d2d5f52dda7a_1573x1080.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:false,&quot;imageSize&quot;:&quot;large&quot;,&quot;height&quot;:1000,&quot;width&quot;:1456,&quot;resizeWidth&quot;:1200,&quot;bytes&quot;:374858,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe0145dff-2d6c-4daf-84d9-d2d5f52dda7a_1573x1080.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe0145dff-2d6c-4daf-84d9-d2d5f52dda7a_1573x1080.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe0145dff-2d6c-4daf-84d9-d2d5f52dda7a_1573x1080.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe0145dff-2d6c-4daf-84d9-d2d5f52dda7a_1573x1080.jpeg 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>Actual 6502‚Äôs were made available for sale at the WESCON computer conference in September 1975. Forbidden by the conference organisers from selling the chips on the conference floor, Peddle set himself up in a hotel room across the road. As visitors crowded the MOS Technology booth at the show, they were directed to the hotel if they wanted to buy a CPU. A steady stream of conference delegates crossed the road and made their way to the hotel room to hand over their dollars in return for one of the new CPUs.</p><p>In the hotel room Peddle‚Äôs wife Shirley had a glass jar full of 6502‚Äôs and would extract one to give to anyone who handed over their $25. However, there was an element of subterfuge in the use of the glass jars. Peddle wanted to indicate to visitors that they had a plentiful supply of the new chips. But according to Peddle:</p><blockquote><p>Only half of the jar worked‚Ä¶ we knew that the ones at the bottom of the jar didn't work, but it didn't matter. We had to make the jar look full.</p></blockquote><p>Word spread quickly beyond WESCON. Within a few days, Peddle had signed up Atari to buy a cost reduced version of the 6502, the 6507, together with RAM, ROM and I/O chips for use in a video game console. The price? An astonishing $12 for each chipset. The console would be the groundbreaking Atari 2600, which went on to sell 30 million units.</p><p>The third edition of Byte magazine, dated November 1975, featured the new MOS Technology CPU on its front cover with the headline ‚ÄúA $20 Microprocessor‚Äù. </p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2af3f0c9-4244-440f-b60a-ac42cf131a8d_1118x328.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2af3f0c9-4244-440f-b60a-ac42cf131a8d_1118x328.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2af3f0c9-4244-440f-b60a-ac42cf131a8d_1118x328.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2af3f0c9-4244-440f-b60a-ac42cf131a8d_1118x328.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2af3f0c9-4244-440f-b60a-ac42cf131a8d_1118x328.png 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2af3f0c9-4244-440f-b60a-ac42cf131a8d_1118x328.png" width="1118" height="328" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/2af3f0c9-4244-440f-b60a-ac42cf131a8d_1118x328.png&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:null,&quot;imageSize&quot;:null,&quot;height&quot;:328,&quot;width&quot;:1118,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:86639,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2af3f0c9-4244-440f-b60a-ac42cf131a8d_1118x328.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2af3f0c9-4244-440f-b60a-ac42cf131a8d_1118x328.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2af3f0c9-4244-440f-b60a-ac42cf131a8d_1118x328.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2af3f0c9-4244-440f-b60a-ac42cf131a8d_1118x328.png 1456w" sizes="100vw" loading="lazy"></picture></div></a></figure></div><p>The article itself, which must have infuriated Motorola, was titled ‚ÄòSon of Motorola (or, the $20 CPU Chip)‚Äù. It compared the 6501/2 with the 6800 in some detail [See the notes below for the full Byte article]:</p><blockquote><p>For the purpose of accessing elements of arrays, or tables of many identical elements, the MOS Technology chip comes out way ahead. This is partly due to the lack of certain critical instructions on the Motorola 6800, such as an instruction to add the contents of an accumulator to the index register, or even to transfer the value in the accumulators to the index register.</p></blockquote><p>And the piece concluded with:</p><blockquote><p>In favor of the 6500 series are price and speed; in favor of the 6800 are availability and very good Motorola documentation.</p></blockquote><p>The 6502 would soon be available in volume and MOS Technology‚Äôs 6502 documentation was actually quite good.</p><p>Motorola had to respond. They reduced the price of the 6800, from $175 to $69. And, fulfilling L.J. Sevin‚Äôs prophecy, they sued MOS Technology. Microcomputer Digest reported in December 1975 that:</p><blockquote><p>Motorola is seeking an injunction against MOS Technology to halt the manufacture, marketing and filling of orders for MCS 6500 microprocessor products. The injunction action is intended to stop MOS Technology from further 6500 activities until the outcome of a pending trial of a suit filed in Federal Court in Philadelphia PA by Motorola. As of yet, the injunction attempts have been unsuccessful. Motorola, citing several Motorola patents that led to the development of its own MC6800 microprocessor, alleges that seven former employees of Motorola (Charles J. Peddle, Rodney H. Orgill, William D. Mensch, Wilbur L. Mattys, Terry N. Holdt, Ernie B. Hirt, and Harry E. Bawcom) left Motorola and joined MOS Technology in similar posts and helped establish that firm's line of MCS6500 microprocessors. The suit seeks triple damages plus all profits MOS Technology has made on the 6500 product line. MOS Technology has denied the allegations and stated that Motorola's claims are unfounded.</p></blockquote><p>In reality, although the MOS Technology team had used their experience with the 6800 when designing the 6501/2, there was very little technology used in the new designs that Motorola could claim as their own. The fabrication process and the instruction sets were both fundamentally different. The only significant thing that they shared with the 6800 was the pin layout of the 6501.</p><p>The financial and legal resources available to Motorola, though, dwarfed those of the much smaller MOS Technology, which was running out of cash. So MOS Technology settled, dropped the 6501, paid $200,000 in damages and returned some documentation that the engineers had taken with them from Motorola. The two companies also cross licensed patents.</p><p>There is a difference of opinion in the MOS Technology team about their original intentions around the 6501. Rod Orgill, who led its design, bet Mensch, who led the 6502‚Äôs design, that the 6501 would outsell the 6502. Peddle maintained that it was always intended to give Motorola a target to aim for which could be given up when they sued. In any event, the 6501 was designed, built and featured in early documentation and advertisements, but was never sold to customers.</p><p>The 6502 remained on sale though. By the end of 1975, MOS Technology had a new and more financially stable owner in the shape of Commodore. With the lawsuit settled and MOS Technology under new ownership, it was soon clear that Motorola‚Äôs management had, with the move to Austin, stimulated the creation of a new and credible competitor.</p><p>The combination of low price and better performance was a winning formula for the 6502, and it soon found its way into designs that might otherwise have used the 6800. The most famous example of this happened in 1975 when Steve Wozniak wanted to build his own single-board computer. Having compared the Intel 8080 and the 6800, he settled on the Motorola chip, preferring its more elegant instruction set, and worked to develop his design using the chip.</p><p>But even the reduced $175 cost of the 6800 was more than Wozniak could manage. When the 6502 appeared at the end of 1975 its $25 price was, at last, affordable so he switched to the MOS Technology design. Wozniak teamed up with Steve Jobs, turned his single board design into a commercial product, and sold it as the Apple computer. The design would retain the ability to use a 6800, though, with space allocated on the circuit board for the Motorola design to be used in place of the 6502. However, none of the computers, later known as the Apple I, were ever adapted to use the 6800.</p><p>When Wozniak and Jobs created the Apple II, their experience using the 6502 in the Apple I, made it certain that they would use the MOS Technology design.</p><p>And now that MOS Technology was owned by Commodore, variants of the 6502 became the processor in a range of popular Commodore computer designs from the PET and VIC 20 to the Commodore 64. Ownership by Commodore proved to be no barrier to adoption by Apple or other Commodore competitors and the 6502 would go on to be used in personal computers made by Atari, Acorn and many others.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba3a643a-6a8d-451b-9eb9-8d56709ff1b2_1831x1053.jpeg" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba3a643a-6a8d-451b-9eb9-8d56709ff1b2_1831x1053.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba3a643a-6a8d-451b-9eb9-8d56709ff1b2_1831x1053.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba3a643a-6a8d-451b-9eb9-8d56709ff1b2_1831x1053.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba3a643a-6a8d-451b-9eb9-8d56709ff1b2_1831x1053.jpeg 1456w" sizes="100vw"><img src="https://substackcdn.com/image/fetch/w_2400,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba3a643a-6a8d-451b-9eb9-8d56709ff1b2_1831x1053.jpeg" width="1200" height="689.8351648351648" data-attrs="{&quot;src&quot;:&quot;https://substack-post-media.s3.amazonaws.com/public/images/ba3a643a-6a8d-451b-9eb9-8d56709ff1b2_1831x1053.jpeg&quot;,&quot;srcNoWatermark&quot;:null,&quot;fullscreen&quot;:false,&quot;imageSize&quot;:&quot;large&quot;,&quot;height&quot;:837,&quot;width&quot;:1456,&quot;resizeWidth&quot;:1200,&quot;bytes&quot;:636434,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/jpeg&quot;,&quot;href&quot;:null,&quot;belowTheFold&quot;:true,&quot;topImage&quot;:false,&quot;internalRedirect&quot;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba3a643a-6a8d-451b-9eb9-8d56709ff1b2_1831x1053.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba3a643a-6a8d-451b-9eb9-8d56709ff1b2_1831x1053.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba3a643a-6a8d-451b-9eb9-8d56709ff1b2_1831x1053.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fba3a643a-6a8d-451b-9eb9-8d56709ff1b2_1831x1053.jpeg 1456w" sizes="100vw" loading="lazy"></picture></div></a><figcaption>Apple 1 PCB - Note the space for a 6800 top left - By Achim Baqu√© - https://www.apple1registry.com/en/press.html, CC BY-SA 4.0, https://commons.wikimedia.org/w/index.php?curid=109364693</figcaption></figure></div><p>For more on the 6502, then ‚Äò65 Reasons to Celebrate the 6502‚Äô has lots more on the history of the chip at the heart of the Apple II, Commodore 64 and many more important machines.</p><div data-component-name="DigestPostEmbed"><a href="https://thechipletter.substack.com/p/65-reasons-to-celebrate-the-6502" target="_blank" rel="noopener"><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_140,h_140,c_fill,f_webp,q_auto:good,fl_progressive:steep,g_auto/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fc06f41ba-bd13-461b-9087-7c9973273c68_790x287.jpeg"><img src="https://substackcdn.com/image/fetch/w_140,h_140,c_fill,f_auto,q_auto:good,fl_progressive:steep,g_auto/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fc06f41ba-bd13-461b-9087-7c9973273c68_790x287.jpeg" sizes="100vw" alt="65 Reasons To Celebrate The 6502" width="140" height="140"></picture></div></a></div><p>The parallels between the stories of the two most popular microprocessor architectures of the 8-bit era are striking. Intel and Motorola both produced innovative designs that helped to create the early personal computer market. Both firms then drove away the teams that had created them, only to see those teams create better designs, at Zilog and MOS Technology respectively, that would go on to lead the 8-bit market.</p><p>Bob Galvin, Motorola‚Äôs CEO, immediately understood the significance and the potential of the 6800. Motorola‚Äôs management were told that the move to Austin would be highly disruptive. Yet they persisted with the move, even after they had lost several key members of the 6800 team.</p><p>Motorola‚Äôs mistake led to the creation, at MOS Technology, of the microprocessor that would power many of the most popular early home and personal computers, including the Apple II, Commodore PET, Commodore 64 and BBC Micro. The 6502 was both powerful and elegant. Quoting Bill Mensch:</p><blockquote><p><span>There is a love for this little processor that's undeniable.</span><a data-component-name="FootnoteAnchorToDOM" id="footnote-anchor-7-139425274" href="https://thechipletter.substack.com/p/leaving-arizona#footnote-7-139425274" target="_self" rel="">7</a></p></blockquote><p>Chuck Peddle would later reminisce, fondly, about his experience developing the 6502.</p><blockquote><p>It was a unique time in history, you only get to do one of those in your lifetime, I think.</p></blockquote><p>It was a different story for Motorola. The move to Texas and the creation of the 6502 had been major setbacks for the 6800. They weren‚Äôt the end of the story for Motorola‚Äôs 8-bit efforts, though.  In Part 3 of the story of the 6800, we‚Äôll look at the later variants of the 6800 and the 6809, Motorola‚Äôs final 8-bit successor to the 6800 and, arguably, the most powerful 8-bit processor of the 1970s.</p><p>After the break, further reading on the development the 6502 by members of the former Motorola team, with interviews, oral histories and more.</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Fast RISC-V-based scripting back end for game engines (139 pts)]]></title>
            <link>https://github.com/fwsGonzo/rvscript</link>
            <guid>38993552</guid>
            <pubDate>Sun, 14 Jan 2024 19:24:46 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/fwsGonzo/rvscript">https://github.com/fwsGonzo/rvscript</a>, See on <a href="https://news.ycombinator.com/item?id=38993552">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
          <nav aria-label="Global">
            <ul>
                <li>
      
      <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Actions&quot;,&quot;label&quot;:&quot;ref_cta:Actions;&quot;}" href="https://github.com/features/actions">
      
      <div>
        <p>Actions</p><p>
        Automate any workflow
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Packages&quot;,&quot;label&quot;:&quot;ref_cta:Packages;&quot;}" href="https://github.com/features/packages">
      
      <div>
        <p>Packages</p><p>
        Host and manage packages
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Security&quot;,&quot;label&quot;:&quot;ref_cta:Security;&quot;}" href="https://github.com/features/security">
      
      <div>
        <p>Security</p><p>
        Find and fix vulnerabilities
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Codespaces&quot;,&quot;label&quot;:&quot;ref_cta:Codespaces;&quot;}" href="https://github.com/features/codespaces">
      
      <div>
        <p>Codespaces</p><p>
        Instant dev environments
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Copilot&quot;,&quot;label&quot;:&quot;ref_cta:Copilot;&quot;}" href="https://github.com/features/copilot">
      
      <div>
        <p>Copilot</p><p>
        Write better code with AI
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Code review&quot;,&quot;label&quot;:&quot;ref_cta:Code review;&quot;}" href="https://github.com/features/code-review">
      
      <div>
        <p>Code review</p><p>
        Manage code changes
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Issues&quot;,&quot;label&quot;:&quot;ref_cta:Issues;&quot;}" href="https://github.com/features/issues">
      
      <div>
        <p>Issues</p><p>
        Plan and track work
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Discussions&quot;,&quot;label&quot;:&quot;ref_cta:Discussions;&quot;}" href="https://github.com/features/discussions">
      
      <div>
        <p>Discussions</p><p>
        Collaborate outside of code
      </p></div>

    
</a></li>

            </ul>
          </div>
</li>


                <li>
      
      
</li>


                <li>
      
      <div>
          <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to GitHub Sponsors&quot;,&quot;label&quot;:&quot;ref_cta:GitHub Sponsors;&quot;}" href="https://github.com/sponsors">
      
      <div>
        <p>GitHub Sponsors</p><p>
        Fund open source developers
      </p></div>

    
</a></li>

            </ul>
          </div>
          <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to The ReadME Project&quot;,&quot;label&quot;:&quot;ref_cta:The ReadME Project;&quot;}" href="https://github.com/readme">
      
      <div>
        <p>The ReadME Project</p><p>
        GitHub community articles
      </p></div>

    
</a></li>

            </ul>
          </div>
          
      </div>
</li>


                <li>
    <a data-analytics-event="{&quot;category&quot;:&quot;Header menu top item (logged out)&quot;,&quot;action&quot;:&quot;click to go to Pricing&quot;,&quot;label&quot;:&quot;ref_cta:Pricing;&quot;}" href="https://github.com/pricing">Pricing</a>
</li>

            </ul>
          </nav>

        <div>
                


<qbsearch-input data-scope="repo:fwsGonzo/rvscript" data-custom-scopes-path="/search/custom_scopes" data-delete-custom-scopes-csrf="Q9j7jAyJFs8qe_D6_Jea4Qq0WigkqYTe6-lBnw9MGQREA0BPkAaIkrUmLoPAV1NFOOWBoEsXwhe6oIsBv6BWEw" data-max-custom-scopes="10" data-header-redesign-enabled="false" data-initial-value="" data-blackbird-suggestions-path="/search/suggestions" data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations" data-current-repository="fwsGonzo/rvscript" data-current-org="" data-current-owner="fwsGonzo" data-logged-in="false" data-copilot-chat-enabled="false" data-blackbird-indexed-repo-csrf="<esi:include src=&quot;/_esi/rails_csrf_token_form_hidden?r=jhNmprIm1F7mONV3aa7pH0NqNDz8bUROjb6r1eBa3evOR0AcQMroNlt%2FmtDSdEX9tzGJEzAWmIvx%2F2kd91CO2prkNWqBbvoeu4miHxlhSAEvula0CfwixE1Rzo6L5wP9fG13xfaem9BvT1Z3uo1WLMOQp7bp0SQnqG256%2Fv0dbtS%2Fnkma42sw4wVu0TT7rJ%2FCXN953%2FyWwsWUiMwmMrW4rzach1oGZqCquFoSlZvjgERMkn7BvtvKBEs3iGKwsIznNzqL3mp6rsFyeyo9FEMS1TJjOTbN43rdVJ1nfqLeJXGmYC9VN5cfRKXI3QLhtSvCduR4RH%2BKov9yOemBFZKUDX60X3Um7We4ENbWkmUT4vYY7ut3Rhw%2FT2eZzJQAi3dkbSiWj6lpKAbAUfNuCFnl6ZFwytsZE5qFD%2FtFSs2a4Tm5uxj%2FbZOQOgcFd%2BlPtJm%2BaCqrJkNlfA1MrIrgz9lNCA8NrJJgpZKTEMhFA%2BxeSNsmgvSB4xHlEVsAFDGMEB2YbDYnxb40H7%2FE%2BWiCg4%3D--WBArAvnqU0wgzsv9--g9OKnzWnXvI64mAfCxqrkw%3D%3D&quot; />">
  <div data-modal-dialog-overlay="" data-action="click:qbsearch-input#searchInputContainerClicked">
  <modal-dialog data-action="close:qbsearch-input#handleClose cancel:qbsearch-input#handleClose" data-target="qbsearch-input.searchSuggestionsDialog" role="dialog" id="search-suggestions-dialog" aria-modal="true" aria-labelledby="search-suggestions-dialog-header" data-view-component="true">
      <h2 id="search-suggestions-dialog-header">Search code, repositories, users, issues, pull requests...</h2>
    
</modal-dialog></div>
  
  <div>
    
<div data-modal-dialog-overlay="">
  <modal-dialog data-target="qbsearch-input.feedbackDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" role="dialog" id="feedback-dialog" aria-modal="true" aria-disabled="true" aria-labelledby="feedback-dialog-title" aria-describedby="feedback-dialog-description" data-view-component="true">
    <div data-view-component="true">
    <p>
      <h2 id="feedback-dialog-title">
        Provide feedback
      </h2>
    </p>
    
  </div>
      <scrollable-region data-labelled-by="feedback-dialog-title">
        
      </scrollable-region>
      
</modal-dialog></div>

    <custom-scopes data-target="qbsearch-input.customScopesManager">
    
<div data-modal-dialog-overlay="">
  <modal-dialog data-target="custom-scopes.customScopesModalDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" role="dialog" id="custom-scopes-dialog" aria-modal="true" aria-disabled="true" aria-labelledby="custom-scopes-dialog-title" aria-describedby="custom-scopes-dialog-description" data-view-component="true">
    <div data-view-component="true">
    <p>
      <h2 id="custom-scopes-dialog-title">
        Saved searches
      </h2>
        <h2 id="custom-scopes-dialog-description">Use saved searches to filter your results more quickly</h2>
    </p>
    
  </div>
      <scrollable-region data-labelled-by="custom-scopes-dialog-title">
        
      </scrollable-region>
      
</modal-dialog></div>
    </custom-scopes>
  </div>
</qbsearch-input>

            <p><a href="https://github.com/signup?ref_cta=Sign+up&amp;ref_loc=header+logged+out&amp;ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&amp;source=header-repo&amp;source_repo=fwsGonzo%2Frvscript" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/fwsGonzo/rvscript&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="234b447dc3538c88f048c947bd295d03174c89fbe28720dafb2c1d5d8df64778" data-analytics-event="{&quot;category&quot;:&quot;Sign up&quot;,&quot;action&quot;:&quot;click to sign up for account&quot;,&quot;label&quot;:&quot;ref_page:/<user-name>/<repo-name>;ref_cta:Sign up;ref_loc:header logged out&quot;}">
              Sign up
            </a>
        </p></div>
      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Material Files ‚Äì Open Source Material Design File Manager for Android (144 pts)]]></title>
            <link>https://github.com/zhanghai/MaterialFiles</link>
            <guid>38992689</guid>
            <pubDate>Sun, 14 Jan 2024 18:06:39 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/zhanghai/MaterialFiles">https://github.com/zhanghai/MaterialFiles</a>, See on <a href="https://news.ycombinator.com/item?id=38992689">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
          <nav aria-label="Global">
            <ul>
                <li>
      
      <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Actions&quot;,&quot;label&quot;:&quot;ref_cta:Actions;&quot;}" href="https://github.com/features/actions">
      
      <div>
        <p>Actions</p><p>
        Automate any workflow
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Packages&quot;,&quot;label&quot;:&quot;ref_cta:Packages;&quot;}" href="https://github.com/features/packages">
      
      <div>
        <p>Packages</p><p>
        Host and manage packages
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Security&quot;,&quot;label&quot;:&quot;ref_cta:Security;&quot;}" href="https://github.com/features/security">
      
      <div>
        <p>Security</p><p>
        Find and fix vulnerabilities
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Codespaces&quot;,&quot;label&quot;:&quot;ref_cta:Codespaces;&quot;}" href="https://github.com/features/codespaces">
      
      <div>
        <p>Codespaces</p><p>
        Instant dev environments
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Copilot&quot;,&quot;label&quot;:&quot;ref_cta:Copilot;&quot;}" href="https://github.com/features/copilot">
      
      <div>
        <p>Copilot</p><p>
        Write better code with AI
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Code review&quot;,&quot;label&quot;:&quot;ref_cta:Code review;&quot;}" href="https://github.com/features/code-review">
      
      <div>
        <p>Code review</p><p>
        Manage code changes
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Issues&quot;,&quot;label&quot;:&quot;ref_cta:Issues;&quot;}" href="https://github.com/features/issues">
      
      <div>
        <p>Issues</p><p>
        Plan and track work
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Discussions&quot;,&quot;label&quot;:&quot;ref_cta:Discussions;&quot;}" href="https://github.com/features/discussions">
      
      <div>
        <p>Discussions</p><p>
        Collaborate outside of code
      </p></div>

    
</a></li>

            </ul>
          </div>
</li>


                <li>
      
      
</li>


                <li>
      
      <div>
          <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to GitHub Sponsors&quot;,&quot;label&quot;:&quot;ref_cta:GitHub Sponsors;&quot;}" href="https://github.com/sponsors">
      
      <div>
        <p>GitHub Sponsors</p><p>
        Fund open source developers
      </p></div>

    
</a></li>

            </ul>
          </div>
          <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to The ReadME Project&quot;,&quot;label&quot;:&quot;ref_cta:The ReadME Project;&quot;}" href="https://github.com/readme">
      
      <div>
        <p>The ReadME Project</p><p>
        GitHub community articles
      </p></div>

    
</a></li>

            </ul>
          </div>
          
      </div>
</li>


                <li>
    <a data-analytics-event="{&quot;category&quot;:&quot;Header menu top item (logged out)&quot;,&quot;action&quot;:&quot;click to go to Pricing&quot;,&quot;label&quot;:&quot;ref_cta:Pricing;&quot;}" href="https://github.com/pricing">Pricing</a>
</li>

            </ul>
          </nav>

        <div>
                


<qbsearch-input data-scope="repo:zhanghai/MaterialFiles" data-custom-scopes-path="/search/custom_scopes" data-delete-custom-scopes-csrf="a2W7ThVu9kY_-O8YfaSICbws2p8O_-a48SPPa5LcGw7SSZ4Nyi_44R76d2yVYw-U1CSG2Uj9zcKaPcrRQVXLTQ" data-max-custom-scopes="10" data-header-redesign-enabled="false" data-initial-value="" data-blackbird-suggestions-path="/search/suggestions" data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations" data-current-repository="zhanghai/MaterialFiles" data-current-org="" data-current-owner="zhanghai" data-logged-in="false" data-copilot-chat-enabled="false" data-blackbird-indexed-repo-csrf="<esi:include src=&quot;/_esi/rails_csrf_token_form_hidden?r=uY0LL5IP1vOgeZIGiB0FUxYLjWxnhrla%2BlMFGwof%2FxziquWCb6oTqKeMJPtpc3maw6Swz8bXL7rKcbDlnrbOKDOL%2FOAH20xiVbDuZFrhYo%2FQqz3VCewxLkL%2BNw7ShwPt8BCsW9Om%2F9wg%2B4Y6KxaQe4uL6Pr4rD8fOe12VdfXmGImR17QRItgjypOGoWLj9k%2FGjTEbug0f7Fc%2FhpWpRExmEvjfaB8uxqFzd%2BGKnYnyjncFunD5Bb%2BLzfnWdE2AXQfNUVroP0oNAq%2Bnh84sKtao3mSK0w6PeZkcDgdR4p9ox%2F97uNB%2FaB9GGrQbHrrTB0Ptk%2BlQ0iCyhM0RL45diuNj%2B9qua8ekvSNFMfd1jpppaXtk52Go2gSw7AR1LMNTFk7p7yVKOqHbt6sbV3pqDqeumLGAUWxF2UgoYQ7DKeh5K1Pm2cXs%2B0Tv4w1AZygXN60PHKguDIFPpYPiu6yHAE%2BVJy2LEXt0JNifBWTyAqw6cvXBTarTCyDPudZeqYQa3hGwoTE2hMyK50oAU4FMrfyYGq1IMbBYw%3D%3D--RHse27a57aj83CwT--xQUykQGvs0WiFNZXMp9vFQ%3D%3D&quot; />">
  <div data-modal-dialog-overlay="" data-action="click:qbsearch-input#searchInputContainerClicked">
  <modal-dialog data-action="close:qbsearch-input#handleClose cancel:qbsearch-input#handleClose" data-target="qbsearch-input.searchSuggestionsDialog" role="dialog" id="search-suggestions-dialog" aria-modal="true" aria-labelledby="search-suggestions-dialog-header" data-view-component="true">
      <h2 id="search-suggestions-dialog-header">Search code, repositories, users, issues, pull requests...</h2>
    
</modal-dialog></div>
  
  <div>
    
<div data-modal-dialog-overlay="">
  <modal-dialog data-target="qbsearch-input.feedbackDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" role="dialog" id="feedback-dialog" aria-modal="true" aria-disabled="true" aria-labelledby="feedback-dialog-title" aria-describedby="feedback-dialog-description" data-view-component="true">
    <div data-view-component="true">
    <p>
      <h2 id="feedback-dialog-title">
        Provide feedback
      </h2>
    </p>
    
  </div>
      <scrollable-region data-labelled-by="feedback-dialog-title">
        
      </scrollable-region>
      
</modal-dialog></div>

    <custom-scopes data-target="qbsearch-input.customScopesManager">
    
<div data-modal-dialog-overlay="">
  <modal-dialog data-target="custom-scopes.customScopesModalDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" role="dialog" id="custom-scopes-dialog" aria-modal="true" aria-disabled="true" aria-labelledby="custom-scopes-dialog-title" aria-describedby="custom-scopes-dialog-description" data-view-component="true">
    <div data-view-component="true">
    <p>
      <h2 id="custom-scopes-dialog-title">
        Saved searches
      </h2>
        <h2 id="custom-scopes-dialog-description">Use saved searches to filter your results more quickly</h2>
    </p>
    
  </div>
      <scrollable-region data-labelled-by="custom-scopes-dialog-title">
        
      </scrollable-region>
      
</modal-dialog></div>
    </custom-scopes>
  </div>
</qbsearch-input>

            <p><a href="https://github.com/signup?ref_cta=Sign+up&amp;ref_loc=header+logged+out&amp;ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&amp;source=header-repo&amp;source_repo=zhanghai%2FMaterialFiles" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/zhanghai/MaterialFiles&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="d2f7786186db5279b58eb7cd189ad8ea1082cf4201ed607df0bd8d62506a6d48" data-analytics-event="{&quot;category&quot;:&quot;Sign up&quot;,&quot;action&quot;:&quot;click to sign up for account&quot;,&quot;label&quot;:&quot;ref_page:/<user-name>/<repo-name>;ref_cta:Sign up;ref_loc:header logged out&quot;}">
              Sign up
            </a>
        </p></div>
      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Vanna.ai: Chat with your SQL database (482 pts)]]></title>
            <link>https://github.com/vanna-ai/vanna</link>
            <guid>38992601</guid>
            <pubDate>Sun, 14 Jan 2024 17:58:06 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/vanna-ai/vanna">https://github.com/vanna-ai/vanna</a>, See on <a href="https://news.ycombinator.com/item?id=38992601">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
          <nav aria-label="Global">
            <ul>
                <li>
      
      <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Actions&quot;,&quot;label&quot;:&quot;ref_cta:Actions;&quot;}" href="https://github.com/features/actions">
      
      <div>
        <p>Actions</p><p>
        Automate any workflow
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Packages&quot;,&quot;label&quot;:&quot;ref_cta:Packages;&quot;}" href="https://github.com/features/packages">
      
      <div>
        <p>Packages</p><p>
        Host and manage packages
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Security&quot;,&quot;label&quot;:&quot;ref_cta:Security;&quot;}" href="https://github.com/features/security">
      
      <div>
        <p>Security</p><p>
        Find and fix vulnerabilities
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Codespaces&quot;,&quot;label&quot;:&quot;ref_cta:Codespaces;&quot;}" href="https://github.com/features/codespaces">
      
      <div>
        <p>Codespaces</p><p>
        Instant dev environments
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Copilot&quot;,&quot;label&quot;:&quot;ref_cta:Copilot;&quot;}" href="https://github.com/features/copilot">
      
      <div>
        <p>Copilot</p><p>
        Write better code with AI
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Code review&quot;,&quot;label&quot;:&quot;ref_cta:Code review;&quot;}" href="https://github.com/features/code-review">
      
      <div>
        <p>Code review</p><p>
        Manage code changes
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Issues&quot;,&quot;label&quot;:&quot;ref_cta:Issues;&quot;}" href="https://github.com/features/issues">
      
      <div>
        <p>Issues</p><p>
        Plan and track work
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Discussions&quot;,&quot;label&quot;:&quot;ref_cta:Discussions;&quot;}" href="https://github.com/features/discussions">
      
      <div>
        <p>Discussions</p><p>
        Collaborate outside of code
      </p></div>

    
</a></li>

            </ul>
          </div>
</li>


                <li>
      
      
</li>


                <li>
      
      <div>
          <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to GitHub Sponsors&quot;,&quot;label&quot;:&quot;ref_cta:GitHub Sponsors;&quot;}" href="https://github.com/sponsors">
      
      <div>
        <p>GitHub Sponsors</p><p>
        Fund open source developers
      </p></div>

    
</a></li>

            </ul>
          </div>
          <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to The ReadME Project&quot;,&quot;label&quot;:&quot;ref_cta:The ReadME Project;&quot;}" href="https://github.com/readme">
      
      <div>
        <p>The ReadME Project</p><p>
        GitHub community articles
      </p></div>

    
</a></li>

            </ul>
          </div>
          
      </div>
</li>


                <li>
    <a data-analytics-event="{&quot;category&quot;:&quot;Header menu top item (logged out)&quot;,&quot;action&quot;:&quot;click to go to Pricing&quot;,&quot;label&quot;:&quot;ref_cta:Pricing;&quot;}" href="https://github.com/pricing">Pricing</a>
</li>

            </ul>
          </nav>

        <div>
                


<qbsearch-input data-scope="repo:vanna-ai/vanna" data-custom-scopes-path="/search/custom_scopes" data-delete-custom-scopes-csrf="sy62AniNONQrjyQVd791PLl3mu3WH4wPxwcABJpLiSnvmoEAVTiem7156VG_exr3OKfeTflOHmvhA-mrIQb5nw" data-max-custom-scopes="10" data-header-redesign-enabled="false" data-initial-value="" data-blackbird-suggestions-path="/search/suggestions" data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations" data-current-repository="vanna-ai/vanna" data-current-org="vanna-ai" data-current-owner="" data-logged-in="false" data-copilot-chat-enabled="false" data-blackbird-indexed-repo-csrf="<esi:include src=&quot;/_esi/rails_csrf_token_form_hidden?r=15%2B3PTD%2BSJCtIe5UHotNVErUjE3XWPrbHARXwU%2FSXt2qHGtwf71%2BF955wSfg5Gar5QDJifIT2kG55JfQcFcKVg%2Fx7POVW5QFudPjpnGbgZR7P1Ncy2tsMOmtWAB%2B5UXM8qrHZ4hou4v6zb1nGcdaPPqoaXNgLN9F9EsDy9hOdwEb4aLKyARQy5USWO7dbLlFJOPGHMo%2BNrJMQbiNKjuK521efDevj5PYcx77zvK9b%2FyCfRmK8dGXXWssBVYSusC9Ko%2F4tQ8mCqJEdEZBgkEEjrf2wcSktD1iMH2XUxe%2B7CcOwamClZBwmgLVz%2FItFTLF96aTo7AI%2BQKxL2sYycO%2BewHczoetJDcOTjiEg1%2FlQZiByFzqe%2Fc3hZI3Tj5fSKeDjleKP7kPZEo%2FWmxZLMV4Qi%2F%2BWY11gNq38V9oIPh%2Bh429etQhARFmlm8%2FpvqSTcNt0oExCEpszTI0yiRr7Q5ImhrrvAWvBQdRogk5xSvNTTWFNTIdEvfwZXvNSLm5FPwxSouVRhXCap1LPw%3D%3D--iOw7gg8jCFnNEDRZ--5xXUnQh7xRuEpWQNz%2B2V5g%3D%3D&quot; />">
  <div data-modal-dialog-overlay="" data-action="click:qbsearch-input#searchInputContainerClicked">
  <modal-dialog data-action="close:qbsearch-input#handleClose cancel:qbsearch-input#handleClose" data-target="qbsearch-input.searchSuggestionsDialog" role="dialog" id="search-suggestions-dialog" aria-modal="true" aria-labelledby="search-suggestions-dialog-header" data-view-component="true">
      <h2 id="search-suggestions-dialog-header">Search code, repositories, users, issues, pull requests...</h2>
    
</modal-dialog></div>
  
  <div>
    
<div data-modal-dialog-overlay="">
  <modal-dialog data-target="qbsearch-input.feedbackDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" role="dialog" id="feedback-dialog" aria-modal="true" aria-disabled="true" aria-labelledby="feedback-dialog-title" aria-describedby="feedback-dialog-description" data-view-component="true">
    <div data-view-component="true">
    <p>
      <h2 id="feedback-dialog-title">
        Provide feedback
      </h2>
    </p>
    
  </div>
      <scrollable-region data-labelled-by="feedback-dialog-title">
        
      </scrollable-region>
      
</modal-dialog></div>

    <custom-scopes data-target="qbsearch-input.customScopesManager">
    
<div data-modal-dialog-overlay="">
  <modal-dialog data-target="custom-scopes.customScopesModalDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" role="dialog" id="custom-scopes-dialog" aria-modal="true" aria-disabled="true" aria-labelledby="custom-scopes-dialog-title" aria-describedby="custom-scopes-dialog-description" data-view-component="true">
    <div data-view-component="true">
    <p>
      <h2 id="custom-scopes-dialog-title">
        Saved searches
      </h2>
        <h2 id="custom-scopes-dialog-description">Use saved searches to filter your results more quickly</h2>
    </p>
    
  </div>
      <scrollable-region data-labelled-by="custom-scopes-dialog-title">
        
      </scrollable-region>
      
</modal-dialog></div>
    </custom-scopes>
  </div>
</qbsearch-input>

            <p><a href="https://github.com/signup?ref_cta=Sign+up&amp;ref_loc=header+logged+out&amp;ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&amp;source=header-repo&amp;source_repo=vanna-ai%2Fvanna" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/vanna-ai/vanna&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c214f09fb68fb4fbb987278020c7e49ca34bf8d7b10fb350d2c39c9d973f369b" data-analytics-event="{&quot;category&quot;:&quot;Sign up&quot;,&quot;action&quot;:&quot;click to sign up for account&quot;,&quot;label&quot;:&quot;ref_page:/<user-name>/<repo-name>;ref_cta:Sign up;ref_loc:header logged out&quot;}">
              Sign up
            </a>
        </p></div>
      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Project Bluefin: an immutable, developer-focused, Cloud-native Linux (188 pts)]]></title>
            <link>https://www.ypsidanger.com/announcing-project-bluefin/</link>
            <guid>38992292</guid>
            <pubDate>Sun, 14 Jan 2024 17:23:30 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.ypsidanger.com/announcing-project-bluefin/">https://www.ypsidanger.com/announcing-project-bluefin/</a>, See on <a href="https://news.ycombinator.com/item?id=38992292">Hacker News</a></p>
<div id="readability-page-1" class="page"><section>
				<p>Today we "relaunched" <a href="https://github.com/ublue-os/bluefin?ref=ypsidanger.com">ublue-os/bluefin</a> as <a href="https://projectbluefin.io/?ref=ypsidanger.com">projectbluefin.io</a>. This is a beta until Spring 2024.  </p><p>Bluefin is a custom image of Fedora Silverblue by a bunch of cloud-native nerds. We want a reliable desktop experience that runs everything but we're too lazy to maintain anything. So we automated the entire delivery pipeline in GitHub. </p><figure><img src="https://www.ypsidanger.com/content/images/2023/09/BLUEFIN_21_9.png" alt="" loading="lazy" width="2000" height="844" srcset="https://www.ypsidanger.com/content/images/size/w600/2023/09/BLUEFIN_21_9.png 600w, https://www.ypsidanger.com/content/images/size/w1000/2023/09/BLUEFIN_21_9.png 1000w, https://www.ypsidanger.com/content/images/size/w1600/2023/09/BLUEFIN_21_9.png 1600w, https://www.ypsidanger.com/content/images/size/w2400/2023/09/BLUEFIN_21_9.png 2400w" sizes="(min-width: 720px) 720px"><figcaption><span>Say hello to Bluefin. She is a Deinonychus antirrhopus, "terrible claw". Artwork by Andy Frazer.</span></figcaption></figure><p>Originally Bluefin was "<a href="https://github.com/castrojo/ublue?ref=ypsidanger.com">Fedora Silverblue for Ubuntu Expatriates</a>". I was migrating to Fedora at the time and wanted Silverblue but with a more Ubuntu-like desktop: a dock and appindicators. </p><p>Over time it became apparent that it could stand on its own as an alternative for people who are tired of Linux desktops that aren't as reliable as cheap Chromebooks. We were tired of this shitty situation so decided to add a bit o' shine to Fedora Silverblue and maintain it as a clean, atomic layer on top of the default image. It's <a href="https://www.youtube.com/live/cHYyGVOae84?si=-TdsDiY0xtqgbeuu&amp;t=2370&amp;ref=ypsidanger.com" rel="noreferrer">not a distribution</a>, since you can always revert back to a stock image. </p><figure><iframe width="200" height="113" src="https://www.youtube.com/embed/Nz-yyDwTfRM?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="" title="Bluefin Linux introduction"></iframe><figcaption><p><span>Justin Garrison gives us a quick tour!</span></p></figcaption></figure><p>So she became Bluefin, which coincidentally was the name of Canonical's office building on the Thames in London. Since it's basically an Ubuntu-style workflow on top of Fedora this seemed to make sense and scratch the easter egg itch. </p><p>So after about two years of prototyping and real world usage, we think she's ready for more people to try. We're calling this a Beta, with the hope of going GA in the spring. </p><p>Since she's built on <a href="https://universal-blue.org/?ref=ypsidanger.com">Universal Blue</a> we get all the <a href="https://universal-blue.org/?ref=ypsidanger.com#advantages-over-traditional-linux-desktops" rel="noreferrer">benefits</a> of the main images. While it can run on any PC, we also have specific images for Framework, Asus, and Microsoft Surface devices. Work is underway to generate images based on the work of the <a href="https://fedoraproject.org/wiki/SIGs/Asahi?ref=ypsidanger.com" rel="noreferrer">Fedora Asahi SIG</a>, so hopefully soon we'll have something for Mac users. </p><p>Updates are automatic and transparent, with built in drivers. It can do anything a Chromebook can, but can <a href="https://flathub.org/?ref=ypsidanger.com">use flathub packages</a> for applications, and crucially, a choice of browsers. And since a container runtime is included, it also means you can run just about any Linux workload. </p><figure><img src="https://www.ypsidanger.com/content/images/2023/09/bluefin-defaultish.png" alt="" loading="lazy" width="2000" height="1333" srcset="https://www.ypsidanger.com/content/images/size/w600/2023/09/bluefin-defaultish.png 600w, https://www.ypsidanger.com/content/images/size/w1000/2023/09/bluefin-defaultish.png 1000w, https://www.ypsidanger.com/content/images/size/w1600/2023/09/bluefin-defaultish.png 1600w, https://www.ypsidanger.com/content/images/2023/09/bluefin-defaultish.png 2256w" sizes="(min-width: 720px) 720px"><figcaption><span>Wallpapers by Jacob Schnurr, every season represents the ecology of our open source ecosystems</span></figcaption></figure><p>Major upgrades are handled at the CI level by our <a href="https://devboard.gitsense.com/ublue-os/bluefin?ref=ypsidanger.com">contributors</a>, and everything is set up to run automatically. We ingest Fedora, apply our changes, and then ship the OCI image to you every day. An image-based desktop with the least amount of end-user maintenance as we can automate. Since it's just a container you can <a href="https://universal-blue.discourse.group/docs?topic=43&amp;ref=ypsidanger.com" rel="noreferrer">fork to your heart's content</a> to make your own adjustments, or start from scratch. </p><p>We intend to use <a href="https://cockpit-project.org/?ref=ypsidanger.com">Cockpit</a> to act as fleet management. It is a powerful tool, however it's not set up out of the box, we hope to work on this over time as it's a complex issue, but it's also a problem to look forward to!</p><h2 id="taking-care-of-developers">Taking Care of Developers</h2><p>With the normal use case taken care of let's look at ourselves. Fedora Silverblue variants come with a container runtime, <a href="https://podman.io/?ref=ypsidanger.com">Podman</a>. This means that we can basically run anything we want. We include <a href="https://distrobox.privatedns.org/?ref=ypsidanger.com">distrobox</a> for an interactive experience so that users can use whatever distribution image they want as their day-to-day.  </p><p>But we needed a bit more oomph, so doing a <code>just devmode-on</code> in a terminal will switch you to <code>bluefin-dx</code>, our <a href="https://universal-blue.discourse.group/docs?topic=39&amp;ref=ypsidanger.com" rel="noreferrer">developer image</a>. In here you'll find Visual Studio Code with <a href="https://containers.dev/?ref=ypsidanger.com">devcontainers</a>, <a href="https://www.jetpack.io/devbox?ref=ypsidanger.com">devbox</a> with Fleek for nix, <a href="https://devpod.sh/?ref=ypsidanger.com">devpod</a>, and homebrew. And we toss in some shortcuts to install <a href="https://www.jetbrains.com/toolbox-app/?ref=ypsidanger.com">Jetbrains Toolbox</a>. </p><p>We also take care of the underlying stuff that you need, like LXD/LXC, KVM, and virt-manager. <a href="https://linuxcontainers.org/incus/introduction/?ref=ypsidanger.com">Incus</a> is available as a tech preview. And lastly we include Docker on the image so you can <code>just docker</code> yourself to a more familiar place if you prefer to use it. </p><figure><img src="https://www.ypsidanger.com/content/images/2023/10/image.png" alt="" loading="lazy" width="903" height="695" srcset="https://www.ypsidanger.com/content/images/size/w600/2023/10/image.png 600w, https://www.ypsidanger.com/content/images/2023/10/image.png 903w" sizes="(min-width: 720px) 720px"><figcaption><span>VSCode comes ready with devcontainers out of the box</span></figcaption></figure><p>You can swap your userspace as you see fit. By default it's Bluefin/Ubuntu, but I've been enjoying Bluefin/Alpine for it's speed and small size. At some point I'll migrate to using <a href="https://github.com/wolfi-dev?ref=ypsidanger.com">Wolfi images</a> too. </p><p>Use whatever you want, or stick to the stock Fedora images. We purposely don't dictate a developer workflow, whatever works for you.  Homebrew is my preferred route and is what I recommend to people who are migrating to Bluefin DX. </p><p>We use the <a href="https://universal-blue.org/guide/just?ref=ypsidanger.com">just task runner</a> to ship a bunch of convenience features (and workarounds too). This has started to become a great method for our community to ship shortcuts to each other. For example one contributor submitted <code>just ml-box</code> - a one command shortcut to get pytorch up and running. When you look at what it can do vs. setting up Nvidia drivers and container support by hand it becomes clear that enabling contributors to "ship" directly to developers is a powerful pattern. </p><h2 id="sustainability-of-our-open-source-contributors">Sustainability of our Open Source Contributors</h2><p>And lastly, we wanted to make something lightweight from a contribution perspective. Universal Blue is Containerfiles with Python/Shell. It's a common toolset that tons of people know, and with our community's cloud-native knowledge we were able to fully automate much of the toil in maintaining your computer. I have not seen an "upgrade screen" on any of my computers for over two years, Bluefin quietly hums in CI/CD on GitHub. You don't even know she's there. (Probably because we are being hunted). </p><p>We take our <a href="https://universal-blue.org/mission/?ref=ypsidanger.com">governance and procedures</a> seriously, and welcome contributions. I try to take the same amount of care and dedication that I do when contributing to CNCF projects. </p><p>After spending over five years in cloud-native, I feel like we finally have an alternative operating system using the methods we're all familiar with. It just wasn't available on the desktop, until Fedora made it happen! Now it's up to us to consume it, and improve it! </p><figure><iframe width="200" height="113" src="https://www.youtube.com/embed/YFXufAVdrw4?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="" title="2023 10 25 21 54 49"></iframe><figcaption><p><span>Here's the companion video to this blog post.</span></p></figcaption></figure><h2 id="a-fresh-start-for-the-next-generation">A fresh start for the next generation</h2><p>I hope you'll join us. We've already got lots of tech in here including kind, flux, helm, and kubectl. We intend to accelerate the consumption of cloud-native tech by acting as your SREs. </p><p>I'll be traveling to conferences over the next 18 months talking about sustainability of our open source ecosystems and developers. Those talks will be delivered via <a href="https://community.frame.work/t/custom-fedora-oci-images-for-framework-laptops/34253?u=jorge_castro&amp;ref=ypsidanger.com">Bluefin on a Framework 13</a>. After using Linux since 1998 I believe this to be the state of the art of the Linux desktop. You won't find a more powerful system with the least amount of work - so if you see me ask for the demo. </p><p>We've been dogfooding Bluefin in some form or another for about two years, and Universal Blue's images have been pulled over 2 million times, it feels mature enough to move the Beta. I don't think <code>bluefin-dx</code> will ever be finished because we'll be revving at the same pace as the rest of cloud-native development, so that should be fun!</p><p>She might nip at you on occasion with a paper cut, but she evolves quickly. Clever girl.  </p><figure><img src="https://www.ypsidanger.com/content/images/2023/10/image-3.png" alt="" loading="lazy" width="949" height="716" srcset="https://www.ypsidanger.com/content/images/size/w600/2023/10/image-3.png 600w, https://www.ypsidanger.com/content/images/2023/10/image-3.png 949w" sizes="(min-width: 720px) 720px"><figcaption><span>Find me at KubeCon North America for your very own bundle of joy!</span></figcaption></figure><h2 id="full-disclosure">Full Disclosure </h2><p>I started this project when I was on sabbatical. One of those "find yourself" ones where you're thinking about stuff like ... "Where does my career go from here?" The whole open source sustainability thing is bugging me, and I started working at the <a href="https://www.cncf.io/?ref=ypsidanger.com" rel="noreferrer">CNCF</a> to help fix this problem. </p><p>And my passion projected kinda ended up being a "hello world". What if we could use the Linux desktop to onboard people right into cloud native? There's way dumber ideas out there lol. Here's more color on how I'm thinking about sustainability in open source:</p><figure><iframe width="200" height="113" src="https://www.youtube.com/embed/fdieyfrJRVk?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="" title="Looking at the Past to Understand our Future ‚Äî Jorge Castro"></iframe><figcaption><p><span>Here's me trying to explain all this in 15 minutes! It also explains why Bluefin is a dinosaur, she's trying to find her place in the ecosystem. </span></p></figcaption></figure><h2 id="finishing-the-beta">Finishing the Beta</h2><p>There's a few things that need to be sorted over the next six months. Mostly it involves the installation experience. It's hard to integrate code that doesn't exist so we're still waiting for Fedora's installer to become more robust at handling OCI installation. I'd like to personally thank the developers at Fedora and Red Hat for their support in working on these features, we're pretty confident that the installation process will get much better in the next six months. Luckily installation is the roughest part, once you're past that, it should be smooth sailing!</p><p>There are also lots of little paper cuts here and there. For example we don't automatically "detect and install Nvidia drivers" since that's not how these systems work, so you have to manually rebase to that image. That sort of thing.</p><p>Reliability is pretty great, the GitHub Package Registry keeps <a href="https://github.com/ublue-os/bluefin/pkgs/container/bluefin?ref=ypsidanger.com" rel="noreferrer">90 days of images</a> available so we can always boot off of any of those images if required, and due to the nature of the system it removes a bunch of the packaging complexity from the client entirely. </p><h2 id="appendix-their-stories">Appendix: Their Stories</h2><p><a href="https://www.etsy.com/listing/1425657775/cretaceous-chonkers-chonky-dinosaur?ref=ypsidanger.com">Jacob Schnurr</a> and <a href="https://www.etsy.com/uk/shop/dragonsofwales?ref=ypsidanger.com">Andy Frazer</a> brought Bluefin to life. If there's one lesson I've learned from this project is the technology is only one part of the equation. I purposely chose the dichotomy of paleo artists and operating systems at the leading edge of machine learning to be a statement on where we stand. A tool designed to make automation the most efficient it can possibly be, and yet unable to exist without the imagination of the human. </p><p>Here's some more shots of the gang in all the prehistoric glory ...</p><figure><img src="https://www.ypsidanger.com/content/images/2023/09/CustomChonk_Jorge_Deinonychus_Color3-1.png" alt="" loading="lazy" width="864" height="864" srcset="https://www.ypsidanger.com/content/images/size/w600/2023/09/CustomChonk_Jorge_Deinonychus_Color3-1.png 600w, https://www.ypsidanger.com/content/images/2023/09/CustomChonk_Jorge_Deinonychus_Color3-1.png 864w" sizes="(min-width: 720px) 720px"><figcaption><span>Deinonychus antirrhopus, "Bluefin" - This was the species that changed our view of dinosaurs</span></figcaption></figure><figure><img src="https://www.ypsidanger.com/content/images/2023/09/Jorge_CustomChonks_DimetrodonA.png" alt="" loading="lazy" width="1296" height="1296" srcset="https://www.ypsidanger.com/content/images/size/w600/2023/09/Jorge_CustomChonks_DimetrodonA.png 600w, https://www.ypsidanger.com/content/images/size/w1000/2023/09/Jorge_CustomChonks_DimetrodonA.png 1000w, https://www.ypsidanger.com/content/images/2023/09/Jorge_CustomChonks_DimetrodonA.png 1296w" sizes="(min-width: 720px) 720px"><figcaption><span>Dolly the Dimetrodon. They are actually a synapsid, not a dinosaur. You have more in common with Dolly than Dolly does to any of these dinosaurs. An incredible notion once you think about it!</span></figcaption></figure><figure><img src="https://www.ypsidanger.com/content/images/2023/09/Jorge_CustomChonks_Armagasaurusus_Post1.png" alt="" loading="lazy" width="1296" height="1296" srcset="https://www.ypsidanger.com/content/images/size/w600/2023/09/Jorge_CustomChonks_Armagasaurusus_Post1.png 600w, https://www.ypsidanger.com/content/images/size/w1000/2023/09/Jorge_CustomChonks_Armagasaurusus_Post1.png 1000w, https://www.ypsidanger.com/content/images/2023/09/Jorge_CustomChonks_Armagasaurusus_Post1.png 1296w" sizes="(min-width: 720px) 720px"><figcaption><span>Karl, represents the Developer Experience. When I'm in my Linux terminal I want to feel powerful and strong. With his help I shred through my backlog ‚Äì issues, eliminated. Builds ‚Äì green. Tests ‚Äì passing. Karl also represents the raw power of Kubernetes, which is why we ship so many cloud-native tools by default.</span></figcaption></figure><figure><img src="https://www.ypsidanger.com/content/images/2023/09/Jorge_CustomChonks_NestingRaptor_Post1.png" alt="" loading="lazy" width="1296" height="1296" srcset="https://www.ypsidanger.com/content/images/size/w600/2023/09/Jorge_CustomChonks_NestingRaptor_Post1.png 600w, https://www.ypsidanger.com/content/images/size/w1000/2023/09/Jorge_CustomChonks_NestingRaptor_Post1.png 1000w, https://www.ypsidanger.com/content/images/2023/09/Jorge_CustomChonks_NestingRaptor_Post1.png 1296w" sizes="(min-width: 720px) 720px"><figcaption><span>Bluefin is a mother and takes care of her family, like we must take care of each other. Things that threaten her chicks end up meeting the other side of her personality ...</span></figcaption></figure><figure><img src="https://www.ypsidanger.com/content/images/2023/09/Jorge_CustomChonks_PivotRaptor_Post1.png" alt="" loading="lazy" width="1296" height="1296" srcset="https://www.ypsidanger.com/content/images/size/w600/2023/09/Jorge_CustomChonks_PivotRaptor_Post1.png 600w, https://www.ypsidanger.com/content/images/size/w1000/2023/09/Jorge_CustomChonks_PivotRaptor_Post1.png 1000w, https://www.ypsidanger.com/content/images/2023/09/Jorge_CustomChonks_PivotRaptor_Post1.png 1296w" sizes="(min-width: 720px) 720px"><figcaption><span>We call this one "murder chicken". Inspired by the raptor chase in S1E4 of Prehistoric Planet</span></figcaption></figure><figure><img src="https://www.ypsidanger.com/content/images/2023/10/Jorge_CustomChonks_PivotRaptor_BLMBlackGold_Post.png" alt="" loading="lazy" width="1296" height="1296" srcset="https://www.ypsidanger.com/content/images/size/w600/2023/10/Jorge_CustomChonks_PivotRaptor_BLMBlackGold_Post.png 600w, https://www.ypsidanger.com/content/images/size/w1000/2023/10/Jorge_CustomChonks_PivotRaptor_BLMBlackGold_Post.png 1000w, https://www.ypsidanger.com/content/images/2023/10/Jorge_CustomChonks_PivotRaptor_BLMBlackGold_Post.png 1296w" sizes="(min-width: 720px) 720px"><figcaption><span>And just like real life, she comes in all sorts of varieties. This one is "Murder Crow"</span></figcaption></figure><figure><img src="https://www.ypsidanger.com/content/images/2023/10/Jorge_CustomChonks_PivotRaptor_Pride_Post.png" alt="" loading="lazy" width="1296" height="1296" srcset="https://www.ypsidanger.com/content/images/size/w600/2023/10/Jorge_CustomChonks_PivotRaptor_Pride_Post.png 600w, https://www.ypsidanger.com/content/images/size/w1000/2023/10/Jorge_CustomChonks_PivotRaptor_Pride_Post.png 1000w, https://www.ypsidanger.com/content/images/2023/10/Jorge_CustomChonks_PivotRaptor_Pride_Post.png 1296w" sizes="(min-width: 720px) 720px"><figcaption><span>The team overwhelmingly fell in love with "Glitter Chicken". I'll be making a special Pride run of these at some point!</span></figcaption></figure><figure><img src="https://www.ypsidanger.com/content/images/2023/10/Jorge_CustomChonks_Kentrosaurus_Post1.png" alt="" loading="lazy" width="1296" height="1296" srcset="https://www.ypsidanger.com/content/images/size/w600/2023/10/Jorge_CustomChonks_Kentrosaurus_Post1.png 600w, https://www.ypsidanger.com/content/images/size/w1000/2023/10/Jorge_CustomChonks_Kentrosaurus_Post1.png 1000w, https://www.ypsidanger.com/content/images/2023/10/Jorge_CustomChonks_Kentrosaurus_Post1.png 1296w" sizes="(min-width: 720px) 720px"><figcaption><span>.. and lastly this Kentrasaurus - you don't want to mess with them.</span></figcaption></figure>
			</section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Ruffle: 2023 in Review (133 pts)]]></title>
            <link>https://ruffle.rs/blog/2024/01/14/2023-in-review</link>
            <guid>38991953</guid>
            <pubDate>Sun, 14 Jan 2024 16:44:44 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://ruffle.rs/blog/2024/01/14/2023-in-review">https://ruffle.rs/blog/2024/01/14/2023-in-review</a>, See on <a href="https://news.ycombinator.com/item?id=38991953">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>It's been a very busy 2023 for Ruffle, so much so that we didn't find the time to write a new progress report with everything going on! Let's fix that!</p>
<p>Let's summarize with some numbers first.</p>
<p>Since the last blog post...</p>
<ul>
<li>ActionScript 3 Language has gone up from 60% to <strong>75%</strong>!</li>
<li>ActionScript 3 API has gone up from 60% to <strong>68%</strong>! (And it was only 25% at the start of the year!)</li>
<li>We've merged <strong>852</strong> pull requests from <strong>43</strong> people! (And 3 bots.)</li>
<li>We've closed <strong>1,288</strong> issues (and some of them weren't even duplicates or anything!)</li>
</ul>
<hr>
<h3 id="display-filters">Display Filters</h3>
<p>We've now implemented 7 out of 10 of Flash's filter effects, making content look much more accurate (and lots of text actually legible!)</p>
<p>Along with filter support, we've also implemented <code>cacheAsBitmap</code> support - a huge optimisation for games that use it, saving us the need to render the same thing every single frame!</p>
<p><a target="_blank" href="https://ruffle.rs/2024-01-14-2023-in-review/ninja-painter.png"><img src="https://ruffle.rs/2024-01-14-2023-in-review/ninja-painter.png" title="Ninja Painter, before and after filters" alt="Ninja Painter, before and after filters"></a></p>
<p><a target="_blank" href="https://github.com/ruffle-rs/ruffle/issues/15">The remaining 3 filters</a> don't seem to be used often, but we welcome anyone who wishes to come help implement them! Support for the existing filters was done by <a target="_blank" href="https://github.com/Dinnerbone">@Dinnerbone</a> and <a target="_blank" href="https://github.com/torokati44">@torokati44</a>.</p>
<h3 id="text-improvements">Text improvements</h3>
<p>On the topic of rendering, we've been picking and poking at fonts for a while now - and through our combined efforts we're finally starting to see the light at the end of this pixelated and wrongly shaped tunnel.</p>
<p><a target="_blank" href="https://github.com/Lord-McSweeney">@Lord-McSweeney</a> has implemented basic Text Layout Framework (TLF) support, which has started to get some more advanced text rendering working.</p>
<p><a target="_blank" href="https://github.com/kjarosh">@kjarosh</a> has also recently been working on making text inputs more functional, implementing text restrictions and better caret/selection rendering.</p>
<p><a target="_blank" href="https://github.com/Dinnerbone">@Dinnerbone</a> has created the framework for loading device fonts, instead of using the default Noto Sans we use everywhere. It's available on web (<a target="_blank" href="https://github.com/ruffle-rs/ruffle/wiki/Frequently-Asked-Questions-For-Users#how-do-i-change-the-fonts-used-by-flash-on-my-website">with some configuration</a>) but works out of the box on desktop thanks to <a target="_blank" href="https://github.com/evilpie">@evilpie</a>!</p>
<p>With device font support landing, content that didn't embed their own font will now start looking much better. Notably, lots of Japanese content often relied on this, and didn't render text at all previously.</p>
<p><a target="_blank" href="https://ruffle.rs/2024-01-14-2023-in-review/scratch.png"><img src="https://ruffle.rs/2024-01-14-2023-in-review/scratch.png" title="Scratch, before and after" alt="Scratch, before and after"></a>
<a target="_blank" href="https://ruffle.rs/2024-01-14-2023-in-review/material_sniper.png"><img src="https://ruffle.rs/2024-01-14-2023-in-review/material_sniper.png" title="Material Sniper" alt="Material Sniper"></a>
<a target="_blank" href="https://ruffle.rs/2024-01-14-2023-in-review/aq.png"><img src="https://ruffle.rs/2024-01-14-2023-in-review/aq.png" title="Adventure Quest, before and after" alt="Adventure Quest, before and after"></a>
<a target="_blank" href="https://ruffle.rs/2024-01-14-2023-in-review/spongebob.png"><img src="https://ruffle.rs/2024-01-14-2023-in-review/spongebob.png" title="SpongeBob SquarePants: Plunder Blunder, before and after" alt="SpongeBob SquarePants: Plunder Blunder, before and after device texts"></a></p>
<h3 id="sockets-even-on-the-web">Sockets... even on the web!</h3>
<p>This has definitely been one of the biggest hurdles to emulating Flash, but the incredible <a target="_blank" href="https://github.com/sleepycatcoding">@sleepycatcoding</a> came in and made it happen.</p>
<p>Any kind of multiplayer game such as Gaia, Habbo or Club Penguin relied on sockets (TCP sockets, or XML sockets) to function - and nobody was sure if we'd manage to get these working on the web. Modern browsers just don't like that sort of thing!</p>
<p>On desktop it's now supported out of the box (but will prompt you for permission by default, just to be sure), but web needs <a target="_blank" href="https://github.com/ruffle-rs/ruffle/wiki/Frequently-Asked-Questions-For-Users#how-can-i-connect-to-a-tcpsocket-or-xmlsocket-from-the-web">a little configuration</a> to make it work.</p>
<p><a target="_blank" href="https://ruffle.rs/2024-01-14-2023-in-review/gaia.png"><img src="https://ruffle.rs/2024-01-14-2023-in-review/gaia.png" title="Gaia's Towns 2" alt="Gaia's Towns 2"></a>
<video muted="" autoplay="" controls="">
<source src="https://ruffle.rs/2024-01-14-2023-in-review/transformice.mp4" type="video/mp4">
</video></p>
<h3 id="flash-remoting">Flash remoting</h3>
<p>In addition to sockets, another common way for online games to work was a protocol called "Flash Remoting", using <code>NetConnection</code>.
This was most notably seen in any game that uses the Armor Games API, and we're happy to say that that now works more or less as expected!</p>
<h3 id="flv-and-video-playback">FLV and video playback</h3>
<p>This has been a tricky one, but <a target="_blank" href="https://github.com/kmeisthax">@kmeisthax</a> has been tackling this all year and making amazing progress. Ruffle now supports FLV playback, depending on which codec is required, and <a target="_blank" href="https://github.com/danielhjacobs">@danielhjacobs</a> has added a workaround for patented codecs on the web by playing them using the browser over the top of the content (or on desktop, just opening the browser).</p>
<p>There's still a lot of progress to be made here, and <a target="_blank" href="https://github.com/torokati44">@torokati44</a> has a working prototype of decoding H.264 using Cisco's OpenH264 which is very exciting!</p>
<h3 id="initial-air-support">Initial AIR support</h3>
<p>This was a long time stretch goal that's starting to see reality thanks to <a target="_blank" href="https://github.com/Aaron1011">@Aaron1011</a>! We now properly version the ActionScript 3 API, and this has been extended to allow AIR-only classes and methods.</p>
<p>We don't have much to show for AIR stuff yet, but the framework to get us here has already helped close off many longstanding compatibility bugs when movies don't expect certain methods or properties to exist for the version of Flash they target.</p>
<h3 id="mixed-avm">Mixed AVM</h3>
<p>On the topic of longstanding bugs, <a target="_blank" href="https://github.com/Lord-McSweeney">@Lord-McSweeney</a> has been working on allowing mixed-avm movies to run correctly - these are usually ActionScript 3 games running inside ActionScript 2 containers, or vice versa.</p>
<p>There's still more to do here, but it's already helped unblock lots of content from just mysteriously failing to start!</p>
<h3 id="extension-improvements">Extension improvements</h3>
<p>The extension now uses Manifest V3 (somewhat reluctantly), which enables us to... keep existing. Unfortunately this came with needing to remove the "go to a swf url and play it in the browser" feature, as that's no longer possible with MV3.</p>
<p>However, the upside to this is that we're now <a target="_blank" href="https://microsoftedge.microsoft.com/addons/detail/ruffle/pipjjbgofgieknlpefmcckdmgaaegban">in the Edge store</a>! Also, thanks to work from <a target="_blank" href="https://github.com/kmeisthax">@kmeisthax</a> and <a target="_blank" href="https://github.com/danielhjacobs">@danielhjacobs</a>, we're also now available on Firefox for Android! <a target="_blank" href="https://addons.mozilla.org/android/addon/ruffle_rs">Check it out!</a></p>
<p><a target="_blank" href="https://github.com/WumboSpasm">@WumboSpasm</a> also redesigned the demo player in the extension, which <a target="_blank" href="https://github.com/danielhjacobs">@danielhjacobs</a> made serve as the replacement for the aforementioned swf-url feature. It looks pretty neat!</p>
<h3 id="desktop-ui">Desktop UI</h3>
<p>Whilst we had a super basic UI introduced in our last blog post, now it's even better! It's still as simple to use as before, but the new Advanced Open menu has many new options you can toggle to change how content plays - plus we've added a host of brand new debug tools that even Flash Player didn't have!</p>
<p><a target="_blank" href="https://ruffle.rs/2024-01-14-2023-in-review/ui-open-advanced.png"><img src="https://ruffle.rs/2024-01-14-2023-in-review/ui-open-advanced.png" title="Ruffle's Open Advanced menu" alt="Ruffle's Open Advanced menu"></a>
<a target="_blank" href="https://ruffle.rs/2024-01-14-2023-in-review/ui-debug.png"><img src="https://ruffle.rs/2024-01-14-2023-in-review/ui-debug.png" title="Ruffle's debug tools" alt="Ruffle's debug tools"></a></p>
<h3 id="new-website">New website</h3>
<p>Whilst not Ruffle itself, the website got some much-needed love from <a target="_blank" href="https://github.com/Dinnerbone">@Dinnerbone</a> with a total redesign. There's a lot more we'd like to do in the future with it, but web development isn't the specialty of any of our regular contributors... help is very much welcome!</p>
<p>We've also pulled in all the improvements to the Extension's demo player, and brought those over to the website too.</p>
<h3 id="too-many-contributions-to-call-out">Too many contributions to call out!</h3>
<p>There's been just so many PRs landing that not everything can take the spotlight here. We'd like to thank every single person who helped shape Ruffle in 2023, and hope that 2024 brings more great progress.</p>
<p>In addition, a big thank you to our sponsors who help keep the project alive. We appreciate you all!</p>
<p>&lt;3</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Rethinking Diabetes ‚Äì interview with Gary Taubes (116 pts)]]></title>
            <link>https://www.theguardian.com/society/2024/jan/14/unlocking-the-truth-about-diabetes-is-it-time-for-a-diet-based-treatment</link>
            <guid>38991521</guid>
            <pubDate>Sun, 14 Jan 2024 15:53:54 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theguardian.com/society/2024/jan/14/unlocking-the-truth-about-diabetes-is-it-time-for-a-diet-based-treatment">https://www.theguardian.com/society/2024/jan/14/unlocking-the-truth-about-diabetes-is-it-time-for-a-diet-based-treatment</a>, See on <a href="https://news.ycombinator.com/item?id=38991521">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="maincontent"><p><span>G</span>ary Taubes is probably the most single-minded person I have ever met. In 2002, when he was a little-known science journalist and author of two books on scientific controversies, an article of his was published in the <em>New York Times</em>, headlined: <a href="https://www.nytimes.com/2002/07/07/magazine/what-if-it-s-all-been-a-big-fat-lie.html" data-link-name="in body link">What If It‚Äôs All Been a Big Fat Lie?</a> In it, he argued that the low-fat dietary advice of the previous couple of decades wasn‚Äôt only incorrect, but actively dangerous and the reason for, as he put it, the ‚Äúrampaging epidemic of obesity in America‚Äù. For Taubes, dietary fat wasn‚Äôt a problem at all. Instead, the real danger was carbohydrate, he asserted, sparking a backlash, and fuelling the ongoing conversation about what constitutes a ‚Äúhealthy diet‚Äù. He wasn‚Äôt the first to assert that carbs were bad (<a href="https://www.theguardian.com/news/2003/apr/19/guardianobituaries.williamleith" data-link-name="in body link">Robert Atkins</a> got there before him), but perhaps because of his serious and scientific background ‚Äì he has a physics degree from Harvard and studied aerospace engineering at Stanford ‚Äì he has been a polarising figure, with as many ardent followers as detractors.</p><p>Since 2007, Taubes has published five books on sugar, fat and carbohydrate, including his latest, <em>Rethinking Diabetes</em>, in which he posits that low-carb diets have been under-used as a way to manage blood glucose in <a href="https://www.nhs.uk/conditions/type-1-diabetes/" data-link-name="in body link">type 1</a> and <a href="https://www.nhs.uk/conditions/type-2-diabetes/" data-link-name="in body link">type 2</a> diabetes, in favour of drug-heavy treatment regimes which, he suspects, may do more harm than good.</p><p>His writing on nutrition has won several awards, notably from the US National Association of Science Writers, but it has also been sharply criticised, mainly for his almost evangelical attachment to the keto diet, in which you eat so little carbohydrate (50g or less per day) that the body goes into a state called ketosis, meaning you stop burning stored glucose and start burning fat instead. In 2021, he published <em><a href="https://www.theguardian.com/books/2021/jan/03/the-case-for-keto-review-why-a-full-fat-diet-should-be-on-the-menu" data-link-name="in body link">The Case for Keto</a></em>, a self-help book, after which, as he says, he went ‚Äúfrom being a respected source of information to somebody who may indeed be a crank after all‚Äù. Taubes, who follows the diet himself, is now proposing it should be offered to people living with diabetes. (Keto diets were originally developed as a way to treat certain types of childhood epilepsy.) For Taubes, keto means he doesn‚Äôt ‚Äúeat starches, grains or sweets, and I don‚Äôt eat breakfast because I think better in the morning without it. When I snack, it‚Äôs nuts or good cheese. If we were to go to dinner together, I‚Äôd order a piece of fish or half a roast chicken and ask the waiter to hold the rice or potatoes and give me a green salad or green vegetables instead.‚Äù</p><p>When we talk, it‚Äôs a bright morning in Berkeley, California, where Taubes, 67, lives with his wife and sons. With his open-neck shirt, tan, salt-and-pepper short hair and slightly drawling delivery, he seems more like a professorial Owen Wilson than someone seeking to radically alter how diabetes is understood and treated.</p><p>The majority of his latest book is an exhaustive retelling of the history of diabetes research and how, in the first half of the 20th century, it went ‚Äì as Taubes sees it ‚Äì wrong, with the emergence of a treatment doctrine that mistakenly allowed people living with diabetes to eat whatever they wanted, all the while using insulin and drugs, such as <a href="https://www.nhs.uk/medicines/metformin/" data-link-name="in body link">metformin</a>, to manage the blood-glucose consequences. Taubes has always been fascinated by bad science and for him this was bad science of the highest order, because the regime was based on dietary hypotheses which he says had not ‚Äì and still have not ‚Äì been rigorously tested.</p><figure id="a272902e-81f8-4645-87d9-aa67f78243bb" data-spacefinder-role="showcase" data-spacefinder-type="model.dotcomrendering.pageElements.ImageBlockElement"><div id="img-2"><picture><source srcset="https://i.guim.co.uk/img/media/7746067c9b174a8fc4caf496a3af592bf49182d1/0_552_6496_3898/master/6496.jpg?width=880&amp;dpr=2&amp;s=none" media="(min-width: 1300px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 1300px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/7746067c9b174a8fc4caf496a3af592bf49182d1/0_552_6496_3898/master/6496.jpg?width=880&amp;dpr=1&amp;s=none" media="(min-width: 1300px)"><source srcset="https://i.guim.co.uk/img/media/7746067c9b174a8fc4caf496a3af592bf49182d1/0_552_6496_3898/master/6496.jpg?width=800&amp;dpr=2&amp;s=none" media="(min-width: 1140px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 1140px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/7746067c9b174a8fc4caf496a3af592bf49182d1/0_552_6496_3898/master/6496.jpg?width=800&amp;dpr=1&amp;s=none" media="(min-width: 1140px)"><source srcset="https://i.guim.co.uk/img/media/7746067c9b174a8fc4caf496a3af592bf49182d1/0_552_6496_3898/master/6496.jpg?width=640&amp;dpr=2&amp;s=none" media="(min-width: 980px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 980px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/7746067c9b174a8fc4caf496a3af592bf49182d1/0_552_6496_3898/master/6496.jpg?width=640&amp;dpr=1&amp;s=none" media="(min-width: 980px)"><source srcset="https://i.guim.co.uk/img/media/7746067c9b174a8fc4caf496a3af592bf49182d1/0_552_6496_3898/master/6496.jpg?width=620&amp;dpr=2&amp;s=none" media="(min-width: 660px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 660px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/7746067c9b174a8fc4caf496a3af592bf49182d1/0_552_6496_3898/master/6496.jpg?width=620&amp;dpr=1&amp;s=none" media="(min-width: 660px)"><source srcset="https://i.guim.co.uk/img/media/7746067c9b174a8fc4caf496a3af592bf49182d1/0_552_6496_3898/master/6496.jpg?width=605&amp;dpr=2&amp;s=none" media="(min-width: 480px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 480px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/7746067c9b174a8fc4caf496a3af592bf49182d1/0_552_6496_3898/master/6496.jpg?width=605&amp;dpr=1&amp;s=none" media="(min-width: 480px)"><source srcset="https://i.guim.co.uk/img/media/7746067c9b174a8fc4caf496a3af592bf49182d1/0_552_6496_3898/master/6496.jpg?width=445&amp;dpr=2&amp;s=none" media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 1.25), (min-width: 320px) and (min-resolution: 120dpi)"><source srcset="https://i.guim.co.uk/img/media/7746067c9b174a8fc4caf496a3af592bf49182d1/0_552_6496_3898/master/6496.jpg?width=445&amp;dpr=1&amp;s=none" media="(min-width: 320px)"><img alt="Portrait by Cody Pickens ( His copyright, not commissioned) Gary Taubes is an investigative science and health journalist and co-founder of the non-profit Nutrition Science Initiative (NuSI.org)." src="https://i.guim.co.uk/img/media/7746067c9b174a8fc4caf496a3af592bf49182d1/0_552_6496_3898/master/6496.jpg?width=445&amp;dpr=1&amp;s=none" width="445" height="267.02740147783254" loading="lazy"></picture></div><figcaption><span><svg width="18" height="13" viewBox="0 0 18 13"><path d="M18 3.5v8l-1.5 1.5h-15l-1.5-1.5v-8l1.5-1.5h3.5l2-2h4l2 2h3.5l1.5 1.5zm-9 7.5c1.9 0 3.5-1.6 3.5-3.5s-1.6-3.5-3.5-3.5-3.5 1.6-3.5 3.5 1.6 3.5 3.5 3.5z"></path></svg></span><span>‚ÄòThe science has been pretty awful. So many of the conceptions that evolved around nutrition are based on assumptions that may be wrong‚Äô: Gary Taubes</span> Photograph: Cody Pickens</figcaption></figure><p>Before the discovery of insulin in the 1920s, diet was the only way to manage diabetes and although various options were tried by early practitioners, low-carb was, says Taubes, among the most popular (with medics, at least). Insulin was a gamechanger. Not only did it almost magically save the lives of children with type 1 diabetes, who would often arrive at hospital comatose and die swiftly afterwards, but it also meant that people with diabetes of both types could eat a more or less normal diet.</p><p>Another example, for Taubes, of how early researchers were mistaken, concerns the differences between type 1 and type 2 diabetes, which are so different they almost shouldn‚Äôt share a name. Type 1 diabetes is an autoimmune disease in which the body‚Äôs immune system attacks and destroys the cells in the pancreas that produce insulin, the hormone which regulates the level of glucose in our blood; people living with type 1 need insulin injections or an insulin pump, to survive. Like type 2, type 1 can cause complications such as heart, kidney or eye disease, and nerve damage.</p><p>Type 2 diabetes accounts for about 90% of cases, and is a metabolic disorder in which the body either can‚Äôt make or can‚Äôt use insulin (AKA insulin resistance) to metabolise glucose, leading to persistently high levels in the blood. Ultimately, people living with type 2 diabetes may need insulin and other diabetes medications, too, but for a lot of people, diet and lifestyle modifications can defer that need. Many, but not all, specialists think there is often a causal relationship between weight and type 2 diabetes, which has led to a high level of stigma around the diagnosis. Diagnoses of both are rising globally ‚Äì <a href="https://www.diabetes.org.uk/about-us/about-the-charity/our-strategy/statistics#:~:text=We%20estimate%20that%20more%20than,are%20yet%20to%20be%20diagnosed." data-link-name="in body link">five million people</a> live with diabetes in the UK.</p><p>What Taubes would like to see is low-carb diets being offered alongside or instead of diabetes medications. ‚ÄúWhen insulin therapy started in the 1920s, they had no idea what the long-term side-effects were or what the long-term consequences of living with diabetes were [because most people with type 1 died],‚Äù he says. ‚ÄúThen doctors find out that it‚Äôs just easier to let patients eat whatever they want and give them drugs to cover them. Then it‚Äôs another five, 10 or 20 years before they start seeing the long-term complications, which they think of as long-term complications of the disease.‚Äù What he wishes scientists at the time had concluded was: ‚ÄúThe reason we‚Äôre keeping them alive is insulin therapy. So what we‚Äôre seeing is the long-term complications of the disease as controlled by insulin therapy, and the insulin therapy might be causing the complications as much as the disease is.</p><p>‚ÄúBy the late 1930s, you have this tidal wave of diabetic complications: the heart disease, the <a href="https://www.nhs.uk/conditions/atherosclerosis/" data-link-name="in body link">atherosclerosis</a>, the <a href="https://www.nhs.uk/conditions/peripheral-neuropathy/" data-link-name="in body link">neuropathy</a>, the kidney failure, the blindness, amputations. And nobody ties it back.‚Äù By then, the low-carb diet had fallen far from favour. ‚ÄúNobody wants to eat a diet. So nobody‚Äôs being told: ‚ÄòLook, if I give you insulin, I‚Äôm going to keep you alive until you‚Äôre 30, especially if I give you a lot of insulin and you do eat your carbs. But if I tell you not to eat the carbs and we minimise the insulin use ‚Äì which for type 2 could be no insulin ‚Äì I might keep you alive as long as anyone else in your family.‚Äô‚Äù</p><p>In the book, which is laden with references, studies and dense historical detail, Taubes mentions case records from the 1700s in which patients on low-sugar diets beg for a medical solution, suggesting that the preference for medication over a highly prescriptive diet has been with us for a long time. ‚ÄúIf you‚Äôre told, a pill or a diet, we all want the pill. But if you‚Äôre told a pill or a diet and the diet will keep you healthy and the pill will give you a chronic degenerative disorder where you‚Äôre still going to have these horrible complications, they are just going to be 20 to 30 years later‚Ä¶ the pill is going to be easier, because it always is. But if you change the diet, it‚Äôs not a hypothetical change: you can put your diabetes into remission, you can stop taking these medications.‚Äù</p><p>Convincing as this sounds, there are some apparent flaws in Taubes‚Äôs arguments, which are by no means widely accepted in the academic or medical communities. <a href="https://www.ncl.ac.uk/magres/staff/profile/roytaylor.html#background" data-link-name="in body link">Professor Roy Taylor</a> is a leading British diabetes researcher. ‚ÄúWhen a subgroup of the UK <a href="https://www.gov.uk/government/groups/scientific-advisory-committee-on-nutrition#:~:text=SACN%20advises%20on%20nutrition%20and,and%20other%20UK%20government%20organisations." data-link-name="in body link">Government Scientific Advisory Committee on Nutrition</a> was convened in 2021 to look at low-carbohydrate as an approach to diabetes in general, the literature was very thoroughly assessed and I was part of that panel. Very low-carbohydrate diets had no better results than the modest reduction of carbohydrates,‚Äù he says. Other studies, such as one in 2022 at <a href="https://stanmed.stanford.edu/keto-diets-fall-short/#:~:text=In%20a%20head%2Dto%2Dhead,diet%20drastically%20restricts%20carbohydrate%20intake." data-link-name="in body link">Stanford</a> that compared low-carb diets and the Mediterranean diet, have shown that while they both work when it comes to controlling blood glucose, the Mediterranean diet is easier to stick to.</p><p>Second, low-carb diets are now offered as one way of managing diabetes of both types, the pendulum swinging back in their direction after almost a century, possibly more so here in the UK than in the US (Taubes doesn‚Äôt include contemporary case histories in the book). Two members of my own family have been put on a very low-carbohydrate diet in recent years when they were deemed at risk of developing type 2 diabetes in their 70s (a risk both of them reversed).</p><p>Jack Leeson, 55, was diagnosed with type 2 diabetes six years ago and on the advice of his NHS doctor, radically altered his diet. ‚ÄúShe put me on the diabetes drug metformin and told me about people who lose limbs with it. So I was very motivated.‚Äù She didn‚Äôt suggest keto, ‚Äúbut she made clear the volume of sugars in bread and pasta, and supposedly healthy things like fruit juice, which is just sugar. I gave them up. I didn‚Äôt replace them with fat, just more protein, lots of vegetables, berries, soya milk and yoghurt, beans and lentils and pasta made from Japanese konjac root.‚Äù Leeson also does an hour of aerobic exercise every day. ‚ÄúI binned off the diabetes, cholesterol and blood pressure issues in 18 months and lost about 5st.‚Äù</p><p>Both <a href="https://www.diabetes.org.uk/" data-link-name="in body link">Diabetes UK</a> and <a href="https://www.diabetes.co.uk/" data-link-name="in body link">diabetes.co.uk</a>, the two biggest diabetes charities in the UK, have information on their sites about low-carb diets, particularly for people with type 2 diabetes. Diabetes UK, the larger charity, <a href="https://www.diabetes.org.uk/for-professionals/supporting-your-patients/clinical-recommendations-for-professionals/low-carb-diets-for-people-with-diabetes#:~:text=These%20diets%20can%20help%20with,approaches%20in%20the%20long%20term." data-link-name="in body link">states</a> that ‚Äúthere is no consistent evidence that a low-carb diet is any more effective than other approaches in the long term. So it shouldn‚Äôt be seen as the diet for everyone‚Ä¶ At the moment, there is no strong evidence to say that a low-carb diet is safe or effective for people with type 1 diabetes. Because of this, we do not recommend low-carb diets to people with type 1 diabetes.‚Äù What Taubes would probably add is that there isn‚Äôt much evidence that they‚Äôre unsafe either, because low-carb diets haven‚Äôt been studied intensively either within or beyond the diabetes research community. But diet is incredibly difficult to study ‚Äì especially in a context like diabetes where subjects are also often medicated. One of the tropes of nutritional science is that drawing long-term health conclusions from what people eat is nigh on impossible, because diet interacts with lifestyle, because people lie, intentionally or not, about what they eat, and because longitudinal studies of diet are so expensive.</p><p><a href="https://www.instagram.com/the_diabetes_monster/?hl=en" data-link-name="in body link">Munjeeta Sohal</a>, 39, was diagnosed with type 1 diabetes as a teenager and has mixed feelings about the idea it could or should be managed through carb restriction. ‚ÄúA low-carb diet might be a good way to control blood sugars,‚Äù she says, ‚Äúbut I am now on an insulin pump system that allows me complete freedom over what I eat. If I eat less carbs, my insulin stays more in range. I see the impact it has on my blood sugars, but that isn‚Äôt enough to make me want to do it full-time. My blood sugars are finally, thanks to the technology that‚Äôs available, in range between 70% and 90% of the time on an average day, and that is brilliant. I don‚Äôt need to eat low-carb for this to be the case.‚Äù Having diabetes is also a risk factor for eating disorders and Sohal‚Äôs relationship with food veered towards unhealthy when she was first diagnosed as a teen. Like many others she worries that ‚Äúasking people to restrict may, for some, lead to secret bingeing, or guilt and shame around enjoying food.‚Äù</p><p>‚ÄúThey‚Äôre right, of course, to worry,‚Äù says Taubes. ‚ÄúBut if diabetes, like obesity, is triggered in susceptible individuals by the carbohydrate content of the diet and can be put into remission by avoiding carbohydrate-rich foods, what would you tell patients?‚Äù</p><p>Another complication is that where Taubes is able to look at diabetes ‚Äì indeed at diet as a whole ‚Äì through a single, high-fat-low-carb lens, few others can. ‚ÄúI eat the same thing every day,‚Äù he says. ‚ÄúAs long as I like it, I will continue to like it and be happy to eat it.‚Äù I suspect this makes it hard for him to understand why many of us have such a complicated relationship with cake.</p><p>While Taubes himself has stuck to keto for the last two decades, the rest of us might find it tough to follow. As Professor Taylor says: ‚ÄúThe fall-off, in keto, is quite high. People have families and friends, and eating is part of social interaction.‚Äù Even in a highly motivated group, like people trying to control diabetes, adherence to low-carb is pretty patchy: a 2022 paper tracked this low adherence and pointed to cultural, religious and ‚Äì perhaps most important ‚Äì economic barriers. Keto can be expensive and labour-intensive, as well as socially awkward, at least in the beginning. (There are also some rare but potentially very serious health risks, says Taylor.)</p><p><a href="https://www.instagram.com/everything_endocrine/?hl=en-gb" data-link-name="in body link">Gregory Dodell</a>, a New York-based endocrinologist who takes a weight-inclusive approach to managing diabetes, says: ‚ÄúYou have to look at the social determinants of health. We‚Äôre not treating a population as a research experiment, we‚Äôre treating a population with a lot of different complicated variables and issues and a very complex, multifactorial chronic condition. One size does not fit all.‚Äù</p><p>In conversation, Taubes isn‚Äôt quite as dogmatic about diet as his writing makes him seem. He regularly says things like, ‚Äúassuming what I‚Äôm arguing is correct‚Äù, and at one point casually notes that he could ‚Äúhave a heart attack tomorrow, which is possible the way I eat, and which, God knows, I keep expecting‚Äù. He does use a lot of caveats in his books (which apparently drives his publisher slightly crazy), but on the page, he nonetheless comes across as unwaveringly committed to the high-fat, low-carb way of life, so I find his concern surprising. ‚ÄúWell, my world is full of people pointing out the age other people died who believe what I believe. Which, of course, is selection bias, because you don‚Äôt see the people who are still alive, you only see the people who die. If I die tomorrow, maybe I would have died 10 years ago, had I not eaten the way I did. It‚Äôs always an experiment.‚Äù</p><p>Given that there is no control version of any of us against which to measure success, none of us will ever know if we chose the ‚Äúright‚Äù diet. The paradox, of course, is that this kind of diet-by-hypothesis is exactly what <em>Rethinking Diabetes</em> rails against. But Taubes sees no alternative: ‚ÄúThe science has been pretty awful. So many of the conceptions that have evolved around eating behaviour and nutrition are based on assumptions that may be wrong. The problem is that people don‚Äôt change their [dietary or health] advice because the longer they give it, the more invested they are that it had better have been right. I write from this perspective ‚Äì of the history ‚Äì so folks can see the damage that is done by allowing assumptions to be embraced as facts without definitive evidence.‚Äù</p><p><em>Rethinking Diabetes ‚Äì What Science Reveals About Diet, Insulin and Successful Treatments by Gary Taubes is published by Granta at ¬£16.99 on 18 January. Buy a copy for ¬£14.44 at <a href="https://guardianbookshop.com/rethinking-diabetes-9781803510699" data-link-name="in body link">guardianbookshop.com</a></em></p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Crystal 1.11.0 Is Released (111 pts)]]></title>
            <link>https://crystal-lang.org/2024/01/08/1.11.0-released/</link>
            <guid>38991392</guid>
            <pubDate>Sun, 14 Jan 2024 15:41:49 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://crystal-lang.org/2024/01/08/1.11.0-released/">https://crystal-lang.org/2024/01/08/1.11.0-released/</a>, See on <a href="https://news.ycombinator.com/item?id=38991392">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
        <p>We are announcing a new Crystal release with several new features and bug fixes.</p>

<p>Pre-built packages are available on <a href="https://github.com/crystal-lang/crystal/releases/tag/1.11.0">GitHub Releases</a>
and our official distribution channels.
See <a href="https://crystal-lang.org/install/">crystal-lang.org/install</a> for
installation instructions.</p>

<h2 id="stats">Stats</h2>

<p>This release includes <a href="https://github.com/crystal-lang/crystal/pulls?q=is%3Apr+milestone%3A1.11.0">178 changes since 1.10.1</a>
by 28 contributors. We thank all the contributors for all the effort put into
improving the language! ‚ù§Ô∏è</p>

<h2 id="changes">Changes</h2>

<p>Below we list the most remarkable changes in the language, compiler and stdlib.
This is a pretty big release with lots of things going on, so hold tight üöÄ</p>

<p>For details, visit the <a href="https://github.com/crystal-lang/crystal/releases/tag/1.11.0">full changelog</a>.</p>

<h3 id="llvm-18">LLVM 18</h3>

<p>One of the biggest steps forward is support for upcoming LLVM 18 which allows linking LLVM dynamically on Windows (<a href="https://github.com/crystal-lang/crystal/pull/14101">#14101</a>).
Additionally, LLVM 18 now provides everything we need in the upstream C API, removing the need for our wrapper extension <code><span>llvm_ext</span></code>. It‚Äôs still necessary for older LLVM versions, so we‚Äôll keep it around for a while. But the future tool chain is getting simplified. Read more in <a href="https://github.com/crystal-lang/crystal/issues/13946">#13946</a>.</p>

<p><em>Thanks <a href="https://github.com/HertzDevil">@HertzDevil</a></em></p>

<h3 id="compiler-optimization-levels">Compiler Optimization Levels</h3>

<p>The compiler gains four distinct optimization levels:</p>

<ul>
  <li><code><span>-</span><span>O0</span></code>: No optimization</li>
  <li><code><span>-</span><span>O1</span></code>: Low optimization</li>
  <li><code><span>-</span><span>O2</span></code>: Middle optimization</li>
  <li><code><span>-</span><span>O3</span></code>: High optimization</li>
</ul>

<p>Each level activates the respective LLVM <code><span>RunPasses</span></code> and <code><span>CodeGenOptLevel</span></code> optimizations.</p>

<p><code><span>-</span><span>O3</span></code> corresponds to the existing release mode and <code><span>-</span><span>O0</span></code> corresponds to the default non-release mode. <code><span>-</span><span>O0</span></code> remains the default and <code><span>--</span><span>release</span></code> is equivalent to <code><span>-</span><span>O3</span> <span>--</span><span>single</span><span>-</span><span>module</span></code>.</p>

<p>Effectively, this introduces two optimization choices between the previous full or nothing. And it‚Äôs now possible to use high optimization without <code><span>--</span><span>single</span><span>-</span><span>module</span></code>.</p>

<p>Read more in <a href="https://github.com/crystal-lang/crystal/pull/13464">#13464</a>.</p>

<p><em>Thanks <a href="https://github.com/kostya">@kostya</a></em></p>

<h3 id="alignment-primitives">Alignment primitives</h3>

<p>The language has two new reflection primitives: <a href="https://crystal-lang.org/reference/1.11/syntax_and_semantics/alignof.html"><code><span>alignof</span></code></a> and <a href="https://crystal-lang.org/reference/1.11/syntax_and_semantics/instance_alignof.html"><code><span>instance_alignof</span></code></a> return a type‚Äôs memory alignment (<a href="https://github.com/crystal-lang/crystal/pull/14087">#14087</a>). This allows implementing type-aware allocators in native Crystal with properly aligned pointers.
They are siblings of <code><span>sizeof</span></code> and <code><span>instance_sizeof</span></code> and can be used in the same way.</p>

<div><pre><code><span>class</span> <span>Foo</span>
  <span>def</span> <span>initialize</span><span>(</span><span>@x</span> <span>:</span> <span>Int8</span><span>,</span> <span>@y</span> <span>:</span> <span>Int64</span><span>,</span> <span>@z</span> <span>:</span> <span>Int16</span><span>)</span>
  <span>end</span>
<span>end</span>

<span>Foo</span><span>.</span><span>new</span><span>(</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>)</span>

<span>instance_alignof</span><span>(</span><span>Foo</span><span>)</span> <span># =&gt; 8</span>
</code></pre></div>

<div>
  
    <h4>Effect on existing code</h4>
  
  <p>The introduction of these primitives makes it impossible to define methods of the same names. So <code><span>def</span> <span>alignof</span></code> or <code><span>def</span> <span>instance_alignof</span></code> are now invalid syntax.
 We don‚Äôt expect there to be a big impact in practice.</p>
</div>

<p><em>Thanks <a href="https://github.com/HertzDevil">@HertzDevil</a></em></p>

<h3 id="dll-parameter-in-link-annotation"><code><span>dll</span></code> parameter in <code><span>Link</span></code> annotation</h3>

<p>The <a href="https://crystal-lang.org/api/1.11.0/Link.html"><code><span>Link</span></code></a> annotation has a new parameter <code><span>dll</span></code> for specifying dynamic link libraries on Windows (<a href="https://github.com/crystal-lang/crystal/pull/14131">#14131</a>).</p>

<div><pre><code><span>@[Link(dll: "foo.dll")]</span>
<span>lib</span> <span>LibFoo</span>
<span>end</span>
</code></pre></div>

<p><em>Thanks <a href="https://github.com/HertzDevil">@HertzDevil</a></em></p>

<h3 id="macro-caller-context">Macro <code><span>@caller</span></code> context</h3>

<p>Macros now have a reference to their calling context via the special instance variable <a href="https://crystal-lang.org/reference/1.11/syntax_and_semantics/macros/index.html#call-information"><code><span>@caller</span></code></a> (<a href="https://github.com/crystal-lang/crystal/issues/14055">#14055</a>).</p>

<div><pre><code><span>macro</span> <span>foo</span>
  <span>{{</span> <span>@caller</span><span>.</span><span>line_number</span> <span>}}</span>
<span>end</span>

<span>foo</span> <span># =&gt; 5</span>
</code></pre></div>

<p><em>Thanks <a href="https://github.com/Blacksmoke16">@Blacksmoke16</a></em></p>

<h3 id="new-collection-methods">New collection methods</h3>

<p><a href="https://crystal-lang.org/api/1.11.0/Enumerable.html#present?:Bool-instance-method"><code><span>Enumerable</span><span>#present?</span></code></a> is a direct inversion of <code><span>#empty?</span></code> avoiding some quirks with the similar, but not-quite, <code><span>#any?</span></code> (<a href="https://github.com/crystal-lang/crystal/issues/13847">#13847</a>).</p>

<p><em>Thanks <a href="https://github.com/straight-shoota">@straight-shoota</a></em></p>

<p><a href="https://crystal-lang.org/api/1.11.0/Enumerable.html#each_step(n:Int,*,offset:Int=0,&amp;:T-%3E):Nil-instance-method"><code><span>Enumerable</span><span>#each_step</span></code></a> and <a href="https://crystal-lang.org/api/1.11.0/Iterable.html#each_step(n:Int)-instance-method"><code><span>Iterable</span><span>#each_step</span></code></a> are direct methods for creating step iterators (<a href="https://github.com/crystal-lang/crystal/pull/13610">#13610</a>).</p>

<p><em>Thanks <a href="https://github.com/baseballlover723">@baseballlover723</a></em></p>

<p><a href="https://crystal-lang.org/api/1.11.0/Enumerable.html#to_set(&amp;block:T-%3EU):Set(U)forallU-instance-method"><code><span>Enumerable</span><span>(</span><span>T</span><span>)</span><span>#to_set(&amp; : T -&gt; U) : Set(U) forall U</span></code></a> and <a href="https://crystal-lang.org/api/1.11.0/Enumerable.html#to_a%28%26%3AT-%3EU%29%3AArray%28U%29forallU-instance-method"><code><span>#to_a(&amp; : T -&gt; U) forall U</span></code></a> allow materialising an <code><span>Enumerable</span></code> into a pre-defined collection, which gives more flexibility than the standard <code><span>#to_set</span></code> and <code><span>#to_a</span></code> methods (<a href="https://github.com/crystal-lang/crystal/pull/12654">#12654</a>, <a href="https://github.com/crystal-lang/crystal/pull/12653">#12653</a>).</p>

<p><em>Thanks <a href="https://github.com/caspiano">@caspiano</a></em></p>

<h3 id="numeric-enhancements">Numeric enhancements</h3>

<p><a href="https://crystal-lang.org/api/1.11.0/BigFloat.html#%2A%2A%28other%3ABigInt%29%3ABigFloat-instance-method"><code><span>BigFloat</span><span>#**</span></code></a> now works for all <code><span>Int</span><span>::</span><span>Primitive</span></code> arguments and supports the full exponent range for <code><span>BitInt</span></code> arguments (<a href="https://github.com/crystal-lang/crystal/pull/13971">#13971</a>, <a href="https://github.com/crystal-lang/crystal/pull/13881">#13881</a>)</p>

<p>Floating point to string conversion in <code><span>printf</span></code> uses the Ryu algorithm (<a href="https://github.com/crystal-lang/crystal/issues/8441">#8441</a>).</p>

<p>New methods <a href="https://crystal-lang.org/api/1.11.0/Float64.html#to_hexfloat:String-instance-method"><code><span>Float</span><span>::</span><span>Primitive</span><span>.</span><span>to_hexfloat</span></code></a>, <a href="https://crystal-lang.org/api/1.11.0/Float64.html#parse_hexfloat(str:String):self-class-method"><code><span>.</span><span>parse_hexfloat</span></code></a>, and <a href="https://crystal-lang.org/api/1.11.0/Float64.html#parse_hexfloat(str:String):self-class-method"><code><span>.</span><span>parse_hexfloat?</span></code></a> allow conversion to and from the hexfloat format (<a href="https://github.com/crystal-lang/crystal/pull/14027">#14027</a>).</p>

<p>More math features:</p>

<ul>
  <li><a href="https://crystal-lang.org/api/1.11.0/Math.html#fma(value1,value2,value3)-instance-method"><code><span>Math</span><span>.</span><span>fma</span></code></a> (<a href="https://github.com/crystal-lang/crystal/pull/13934">#13934</a>)</li>
  <li><a href="https://crystal-lang.org/api/1.11.0/Number.html#integer?:Bool-instance-method"><code><span>Number</span><span>#integer?</span></code></a> (<a href="https://github.com/crystal-lang/crystal/pull/13936">#13936</a>)</li>
  <li><a href="https://crystal-lang.org/api/1.11.0/Int32.html#abs_unsigned:UInt32-instance-method"><code><span>Int32</span><span>#abs_unsigned</span></code></a>, <a href="https://crystal-lang.org/api/1.11.0/Int32.html#neg_signed:self-instance-method"><code><span>#neg_signed</span></code></a> (<a href="https://github.com/crystal-lang/crystal/pull/13938">#13938</a>)</li>
  <li><a href="https://crystal-lang.org/api/1.11.0/Int32.html#to_signed:Int32-instance-method"><code><span>Int</span><span>::</span><span>Primitive</span><span>#to_signed</span></code></a>, <a href="https://crystal-lang.org/api/1.11.0/Int32.html#to_signed%21%3AInt32-instance-method"><code><span>#to_signed!</span></code></a>, <a href="https://crystal-lang.org/api/1.11.0/Int32.html#to_unsigned:UInt32-instance-method"><code><span>#to_unsigned</span></code></a>, <a href="https://crystal-lang.org/api/1.11.0/Int32.html#to_unsigned%21%3AUInt32-instance-method"><code><span>#to_unsigned!</span></code></a> (<a href="https://github.com/crystal-lang/crystal/pull/13960">#13960</a>)</li>
</ul>

<p><em>Thanks <a href="https://github.com/HertzDevil">@HertzDevil</a></em></p>

<h3 id="enhancements-for-crystal-spec">Enhancements for <code><span>crystal</span> <span>spec</span></code></h3>

<p><code><span>crystal</span> <span>spec</span></code> gets two new commands for introspection:</p>

<p><code><span>crystal</span> <span>spec</span> <span>--</span><span>dry</span><span>-</span><span>run</span></code> prints all active specs without actually executing any spec code (<a href="https://github.com/crystal-lang/crystal/pull/13804">#13804</a>).</p>

<p><em>Thanks <a href="https://github.com/nobodywasishere">@nobodywasishere</a></em></p>

<p><code><span>crystal</span> <span>spec</span> <span>--</span><span>list</span><span>-</span><span>tags</span></code> lists all tags defined in the spec suite (<a href="https://github.com/crystal-lang/crystal/pull/13616">#13616</a>).</p>

<p><em>Thanks <a href="https://github.com/baseballlover723">@baseballlover723</a></em></p>

<h3 id="enhancements-for-crystal-tool-unreachable">Enhancements for <code><span>crystal</span> <span>tool</span> <span>unreachable</span></code></h3>

<p>The basic implementation of <code><span>crystal</span> <span>tool</span> <span>unreachable</span></code> from Crystal 1.10 gets some useful enhancements.</p>

<ul>
  <li>The <code><span>--</span><span>tallies</span></code> option prints all methods and the total number of calls. Those with a zero tally are unreachable (<a href="https://github.com/crystal-lang/crystal/pull/13969">#13969</a>).</li>
  <li>The <code><span>--</span><span>check</span></code> flag exits with a failure status if there is any unreachable code (<a href="https://github.com/crystal-lang/crystal/pull/13930">#13930</a>).</li>
  <li>Annotations show up in the output (<a href="https://github.com/crystal-lang/crystal/pull/13927">#13927</a>).</li>
  <li>New output format: CSV (<a href="https://github.com/crystal-lang/crystal/pull/13926">#13926</a>).</li>
  <li>Paths in the output are relativized, making it more succinct (<a href="https://github.com/crystal-lang/crystal/pull/13929">#13929</a>).</li>
</ul>

<p><em>Thanks <a href="https://github.com/straight-shoota">@straight-shoota</a></em></p>

<h3 id="inherited-macros-in-api-docs">Inherited macros in API docs</h3>

<p>Inherited macros are now exposed in the API docs. They had previously been hidden, in contrast to inherited defs (<a href="https://github.com/crystal-lang/crystal/pull/13810">#13810</a>).</p>

<p><em>Thanks <a href="https://github.com/Blacksmoke16">@Blacksmoke16</a></em></p>

<h3 id="text">Text</h3>

<ul>
  <li><a href="https://crystal-lang.org/api/1.11.0/Regex/MatchData.html#to_s:String-instance-method"><code><span>Regex</span><span>::</span><span>MatchData</span><span>#to_s</span></code></a> returns the matched substring (<a href="https://github.com/crystal-lang/crystal/pull/14115">#14115</a>).
  <em>Thanks <a href="https://github.com/Vendicated">@Vendicated</a></em></li>
  <li>The new <a href="https://crystal-lang.org/api/1.11.0/toplevel.html#EOL"><code><span>EOL</span></code></a>constant (End-Of-Line) is a portable reference to the system-specific new line character sequence (<a href="https://github.com/crystal-lang/crystal/pull/11303">#11303</a>). <em>Thanks <a href="https://github.com/postmodern">@postmodern</a></em></li>
  <li>We got new version-specific constructors for <a href="https://crystal-lang.org/api/1.11.0/UUID.html"><code><span>UUID</span></code></a>: <a href="https://crystal-lang.org/api/1.11.0/UUID.html#v1%28%2A%2Cclock_seq%3AUInt16%7CNil%3Dnil%2Cnode_id%3AMAC%7CNil%3Dnil%29%3Aself-class-method"><code><span>.</span><span>v1</span></code></a>, <a href="https://crystal-lang.org/api/1.11.0/UUID.html#v2%28domain%3ADomain%2Cid%3AUInt32%2Cnode_id%3AMAC%7CNil%3Dnil%29%3Aself-class-method"><code><span>.</span><span>v2</span></code></a>, <a href="https://crystal-lang.org/api/1.11.0/UUID.html#v3%28name%3AString%2Cnamespace%3AUUID%29%3Aself-class-method"><code><span>.</span><span>v3</span></code></a>, <a href="https://crystal-lang.org/api/1.11.0/UUID.html#v4%28randomr%3ARandom%3DRandom%3A%3ASecure%29%3Aself-class-method"><code><span>.</span><span>v4</span></code></a>, and <a href="https://crystal-lang.org/api/1.11.0/UUID.html#v5%28name%3AString%2Cnamespace%3AUUID%29%3Aself-class-method"><code><span>.</span><span>v5</span></code></a> (<a href="https://github.com/crystal-lang/crystal/pull/13693">#13693</a>).
  <em>Thanks <a href="https://github.com/threez">@threez</a></em></li>
  <li><a href="https://crystal-lang.org/api/1.11.0/StringScanner.html"><code><span>StringScanner</span></code></a> now supports <code><span>String</span></code> and <code><span>Char</span></code> patterns (<a href="https://github.com/crystal-lang/crystal/pull/13806">#13806</a>).
  <em>Thanks <a href="https://github.com/funny-falcon">@funny-falcon</a></em></li>
  <li><code><span>Char</span><span>::</span><span>Reader</span></code> got some nilable character accessors: <a href="https://crystal-lang.org/api/1.11.0/Char/Reader.html#current_char%3F%3AChar%7CNil-instance-method"><code><span>#current_char?</span></code></a>, <a href="https://crystal-lang.org/api/1.11.0/Char/Reader.html#next_char%3F%3AChar%7CNil-instance-method"><code><span>#next_char?</span></code></a>, <a href="https://crystal-lang.org/api/1.11.0/Char/Reader.html#previous_char%3F%3AChar%7CNil-instance-method"><code><span>#previous_char?</span></code></a> (<a href="https://github.com/crystal-lang/crystal/pull/14012">#14012</a>).
  <em>Thanks <a href="https://github.com/HertzDevil">@HertzDevil</a></em></li>
  <li><a href="https://crystal-lang.org/api/1.11.0/String.html#matches_full?(regex:Regex):Bool-instance-method"><code><span>String</span><span>#matches_full?</span></code></a> is a simple API when you need a regular expression to match the entire string (<a href="https://github.com/crystal-lang/crystal/pull/13968">#13968</a>).
  <em>Thanks <a href="https://github.com/straight-shoota">@straight-shoota</a></em></li>
</ul>

<h3 id="misc">Misc</h3>

<ul>
  <li>The capacity of <code><span>String</span><span>::</span><span>Buffer</span></code> and <code><span>IO</span><span>::</span><span>Memory</span></code> was unintentionally limited to 1GB. They now support the full range up to <code><span>Int32</span><span>::</span><span>MAX</span></code>, i.e. 2GB (<a href="https://github.com/crystal-lang/crystal/pull/13989">#13989</a>).
  <em>Thanks <a href="https://github.com/straight-shoota">@straight-shoota</a></em></li>
  <li>There was a nasty bug in <code><span>Number</span><span>#format</span></code> which could mess with the integral part. It is now fixed in <a href="https://github.com/crystal-lang/crystal/pull/14061">#14061</a>.
  <em>Thanks <a href="https://github.com/HertzDevil">@HertzDevil</a></em></li>
  <li>Vendored shards <code><span>markd</span></code> and <code><span>reply</span></code> are no longer referenced by paths relative to the compiler source tree. This means they can be local dependencies (i.e. in <code><span>lib</span></code>) when using the compiler as a library (<a href="https://github.com/crystal-lang/crystal/pull/13992">#13992</a>).
  <em>Thanks <a href="https://github.com/nobodywasishere">@nobodywasishere</a></em></li>
  <li>There are two new constants which provide information on the compiler host and target: <code><span>Crystal</span><span>::</span><span>HOST_TRIPLE</span></code> and <code><span>TARGET_TRIPLE</span></code> (<a href="https://github.com/crystal-lang/crystal/pull/13823">#13823</a>).
  <em>Thanks <a href="https://github.com/HertzDevil">@HertzDevil</a></em></li>
</ul>

<h3 id="shards-0174">Shards 0.17.4</h3>

<p>The bundled shards release was updated to <a href="https://github.com/crystal-lang/shards/releases/tag/v0.17.4">0.17.4</a> which brings a couple minor bugfixes. (<a href="https://github.com/crystal-lang/crystal/pull/14133">#14133</a>).</p>

<p><em>Thanks <a href="https://github.com/straight-shoota">@straight-shoota</a></em></p>

<h3 id="experimental-referencestorage-and-pre_initialize">Experimental: <code><span>ReferenceStorage</span></code> and <code><span>.</span><span>pre_initialize</span></code></h3>

<p>We‚Äôve started an effort to make it easier to use custom allocation mechanisms in Crystal and decouple allocation from initialization.
The main tool is <a href="https://crystal-lang.org/api/1.11.0/Reference.html#pre_initialize(address:Pointer)-class-method"><code><span>Reference</span><span>.</span><span>pre_initialize</span></code></a> which performs the rudimentary object initialization, before actually calling <code><span>#initialize</span></code>.</p>

<p><a href="https://crystal-lang.org/api/1.11.0/Reference.html#unsafe_construct%28address%3APointer%2C%2Aargs%2C%2A%2Aopts%29%3Aself-class-method"><code><span>Reference</span><span>.</span><span>unsafe_construct</span></code></a> is a higher level API on top of that.
<a href="https://crystal-lang.org/api/1.11.0/ReferenceStorage.html"><code><span>ReferenceStorage</span></code></a> represents a static buffer for a reference allocation.</p>

<p>These APIs are experimental and might be subject to change. We expect more features in this direction in future releases. Join the discussion about custom reference allocation at <a href="https://github.com/crystal-lang/crystal/issues/13481">#13481</a>.</p>

<blockquote>
  <p><em>NOTE:</em> <code><span>ReferenceStorage</span></code> was removed again in 1.11.1 due to compatibility issues with older versions of the standard library (<a href="https://github.com/crystal-lang/crystal/pull/14207">#14207</a>). It will come back with an improved implementation.</p>
</blockquote>

<p><em>Thanks <a href="https://github.com/HertzDevil">@HertzDevil</a></em></p>

<h2 id="deprecations">Deprecations</h2>

<ul>
  <li>Splat operators in macro expressions are deprecated. Use <code><span>.</span><span>splat</span></code> instead (<a href="https://github.com/crystal-lang/crystal/pull/13939">#13939</a>)</li>
  <li><code><span>LLVM</span><span>.</span><span>start_multithreaded</span></code> and <code><span>.</span><span>stop_multithreaded</span></code>. They have no effect (<a href="https://github.com/crystal-lang/crystal/pull/13949">#13949</a>)</li>
  <li><code><span>LLVMExtSetCurrentDebugLocation</span></code> from <code><span>llvm_ext</span><span>.</span><span>cc</span></code> for LLVM 9+ (<a href="https://github.com/crystal-lang/crystal/pull/13965">#13965</a>)</li>
  <li><code><span>Char</span><span>::</span><span>Reader</span><span>#@end</span></code> (<a href="https://github.com/crystal-lang/crystal/pull/13920">#13920</a>)</li>
</ul>

<hr>

<p>We have been able to do all of this thanks to the continued support of <a href="https://www.84codes.com/">84codes</a> and every other <a href="https://crystal-lang.org/sponsors">sponsor</a>.
To maintain and increase the development pace, donations and sponsorships are
essential. <a href="https://opencollective.com/crystal-lang">OpenCollective</a> is
available for that. Reach out to <a href="mailto:crystal@manas.tech">crystal@manas.tech</a>
if you‚Äôd like to become a direct sponsor or find other ways to support Crystal.
We thank you in advance!</p>

      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Building a Faraday cage with data passthrough for ESP32 reverse engineering (124 pts)]]></title>
            <link>https://esp32-open-mac.be/posts/0003-faraday-cage/</link>
            <guid>38991248</guid>
            <pubDate>Sun, 14 Jan 2024 15:29:21 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://esp32-open-mac.be/posts/0003-faraday-cage/">https://esp32-open-mac.be/posts/0003-faraday-cage/</a>, See on <a href="https://news.ycombinator.com/item?id=38991248">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>First, a short recap of what this project is doing: the Wi-Fi stack for the ESP32 (a popular, cheap microcontroller) is provided through a binary blob. We‚Äôre trying to reverse engineer the software and hardware to build our own open-source Wi-Fi stack. If this sounds interesting, I recommend you read the <a href="https://esp32-open-mac.be/posts/0001-introduction/">first</a> and <a href="https://esp32-open-mac.be/posts/0002-first-connection/">second</a> blog posts. However, this is not necessary to read the rest of this blog post.</p><p>One problem we encountered while reverse engineering the Wi-Fi hardware, is that there are a lot of Wi-Fi packets flying through the air: even when idle, most access points broadcast a beacon packet about ten times per second. Combined with the data packets that are also sent between access points and clients in the neighbourhood, this adds up to a lot of packets per second. One tool we use in reverse engineering, is a Wi-Fi dongle in monitor mode: in that mode, the dongle captures all packets it sees, even packets not addressed to the dongle‚Äôs MAC address. This deluge of packets sometimes makes it hard to find the single packet the ESP32 did or did not send; in most scenarios, you could filter on MAC address, but since we‚Äôre still reverse engineering the hardware, we sometimes don‚Äôt know the MAC address a packet will be sent with.</p><h2 id="failed-attempts">Failed attempts
<a href="#failed-attempts">
<span>Link to heading</span></a></h2><p>A simple (albeit not very practical) way to fix this, is to go out into the woods where there are no Wi-Fi devices. A better approach is to ‚Äòinsulate‚Äô the ESP32 and Wi-Fi dongle from outside Wi-Fi transmitters. My first try at this was to directly connect the antenna connector of the ESP32 with the antenna connector of the dongle (with an attenuator in between, to make the signal weaker not to overpower the receiver).</p><p><img src="https://esp32-open-mac.be/images/dongle-directly-connected.jpg" alt="Wi-Fi dongle connected to the ESP32, with two 30&amp;nbsp;dB attenuators in between"></p><p>However, this did not work: outside packets still leaked in. My second try involved a very basic Faraday cage: a paint tin with a cut-out for the USB leads of the dongle and ESP32. To try to reduce RF leaking in via the USB leads, I added several ferrite chokes and closed the hole with copper tape. This unfortunately did not work as well as people online told it would; it only further attenuated outside packets with 10&nbsp;dB. A 10√ó decrease in power might sound impressive, but it‚Äôs really not: my laptop can receive packets as quiet as -90&nbsp;dBm; right next to an access point the packets are about -35&nbsp;dBm, so attenuating with only 10&nbsp;dB is not enough by a long shot.</p><p><img src="https://esp32-open-mac.be/images/faraday-paint-tin.jpg" alt="Paint tin with USB leads coming out of it"></p><p>I also tried putting my phone in a (turned off!) microwave, but this did not work either, it was still connected to the Wi-Fi access point.</p><h2 id="proper-faraday-cage">Proper Faraday cage
<a href="#proper-faraday-cage">
<span>Link to heading</span></a></h2><p>While researching on how to build a proper Faraday cage that is also affordable, I came across the paper ‚ÄòBuilding and Testing an Economic Faraday Cage for Wireless, IoT
Computing Education and Research‚Äô that seemed pretty good: for 793&nbsp;USD, they built a Faraday cage with data and power passthrough: they accomplished the data passthrough by using an Ethernet-to-fiber converter; they accomplished the power passthrough by using a second-hand power line filter from a MRI chamber. Simply explained, the paper proposes having two cabinets: an inner cabinet, covered in conductive fabric except where the door is, and an outer one, where the door is covered in fabric, sealing against the inner cabinet when the door is closed. If this is not entirely clear, don‚Äôt worry, I‚Äôll have pictures later.</p><p>There are, in my opinion, some flaws in that paper:</p><ul><li>they mention the bill of materials, but don‚Äôt give important specifications about what exactly it is they used. For example, their bill of materials states ‚ÄòUsed 20A Powerline Filter‚Äô, but this is the most specific description of the power line filter in the paper. By emailing the original authors, I got to know that they used a Lindgren EMI/RFI filter, ELUL-2020, obtained on eBay.</li><li>which brings me to the second point: they use second-hand material for both the power line filter (120&nbsp;USD in the paper) and the cabinet (5&nbsp;USD in the paper). Now, I don‚Äôt have anything against re-using components; I sometimes go to the scrapyard to scavenge useful electronic components (motors, displays, ‚Ä¶), but you cannot rely on the availability of those components. While it is true that in the US, similar filters can be bought for ~200&nbsp;USD on eBay, you cannot rely on those filters staying available in the second-hand market. Furthermore, in Belgium, the country where I live, there don‚Äôt appear to be any EMI power filters available on the online second hand markets. The import costs and shipping charges for buying a used power line filter from the US would be prohibitive.</li><li>using second-hand materials in something where the goal is to make it low-cost feels a bit like cheating: the materials are low-cost because you did a good job in obtaining something expensive for a low price, not because the materials are inherently low-cost. A new EMI power line filter is so expensive that places selling them don‚Äôt even display the price (‚Äúif you have to ask the price, you can‚Äôt afford it‚Äù).</li></ul><p>I will try to only use materials that are commonly available, and link to what exactly I bought. The main differences between the approach in the paper and my approach are:</p><ul><li>I built the inner and outer cabinets myself, from wood. No special tools are needed, only a drill.</li><li>Instead of trying to pass through power, I‚Äôll put a lead-acid battery inside the Faraday cage and use buck-boost converters to convert to the necessary voltages for the fiber-optics converter and devices under test. This will lower the costs dramatically, to the point where even when we‚Äôre using all-new components, the price will still be lower than the price described in the paper.</li></ul><h2 id="pictures">Pictures!
<a href="#pictures">
<span>Link to heading</span></a></h2><p>(Please excuse me for the bad image quality)</p><p>First of all, a picture of the completed Faraday cage where I‚Äôd like to call attention to:</p><ul><li>this consists of two parts that slide into each other: the outer cabinet, made from medium-density fiber board (MDF board), and the inner cabinet, made from a wooden skeleton covered with conductive fabric on five sides.</li><li>there is conductive fabric on the inner side of the door. There is foam tape between the fabric and the wood on the front side of the inner cube; when you close the door, the foam tape is compressed, pressing the fabric of the inner cube tightly against the fabric of the front door, creating an RF tight seal.</li><li>there is a black latch on the door that can keep the door shut (not shown very well here, but I‚Äôll show a better picture later).</li><li>in the top right corner, you can see a yellow fiber entering the cage from behind.</li></ul><p><img src="https://esp32-open-mac.be/images/faraday_global_overview.jpg" alt="Picture of the fully completed Faraday cage"></p><p>This is the inner cube, constructed from wood, before it was covered with conductive fabric on five sides.</p><p><img src="https://esp32-open-mac.be/images/faraday_inner_cabinet.jpg" alt="Inner cube"></p><p>Here, you can see the two fiber-to-Ethernet converters. I used bidirectional converters: this means that only one fiber is used for both transmitting and receiving data; as opposed to unidirectional fiber that has a TX/RX pair. This was done to minimize the size of the connector, which in turn would make it possible to fit through a smaller diameter copper tube.</p><p><img src="https://esp32-open-mac.be/images/faraday_fiber.jpg" alt="Fiber setup"></p><p>This is a copper pipe that has the fiber going through it. On both sides of the pipe, a small 3D printed cone was added to gently convert the diameter of the outer pipe to the diameter of the fiber. Conductive tape was used to seal the hole in the copper pipe: only a very small hole where the fiber exits, remains. Since this hole is sufficiently small compared to the wavelength of the 2.4&nbsp;GHz radio waves, the radio waves cannot enter via there.</p><p>This copper tube was then inserted through a hole in the fabric on the back of the inner cube. It was again taped with conductive tape to both the inside and outside to form a good seal.</p><p><img src="https://esp32-open-mac.be/images/faraday_pipe_end.jpg" alt="End cap">
<img src="https://esp32-open-mac.be/images/faraday_pipe_full.jpg" alt="Full pipe">
<img src="https://esp32-open-mac.be/images/endcap.png" alt="End cap 3D printed part"></p><p>This is the test setup that is placed inside the Faraday cage. It consists of:</p><ul><li>A Raspberry Pi. This runs usbip, so that the USB devices connected to the Pi can be used from other computers on the network.</li><li>A 5V USB buck converter (green case) converting the 12V from the battery to 5V for the Pi</li><li>A TP-Link TL-WN722N v1 Wi-Fi dongle, used to capture packets (it can be put in monitor mode)</li><li>An ESP32, connected to a JTAG debugger (not connected via USB at the moment)</li></ul><p><img src="https://esp32-open-mac.be/images/faraday_esp32_testsetup.jpg" alt="Faraday ESP32 test setup"></p><h2 id="testing">Testing
<a href="#testing">
<span>Link to heading</span></a></h2><p>The Faraday cage was then tested by sniffing packets using the Wi-Fi dongle inside. I first captured packets for 10&nbsp;minutes while the door was open (so RF could enter), then captured packets for 10&nbsp;minutes after the door was closed.</p><p>When the door was closed, no packets were captured at all. So, as to still give an approximate lower bound by how much the Faraday cage attenuates signals at 2.4&nbsp;GHz, I used both the strongest and weakest signal strength when the door was open:</p><pre tabindex="0"><code>&gt;&gt;&gt; from scapy.all import *
&gt;&gt;&gt; scapy_cap = rdpcap('faraday_captured_packets_door_open.pcapng')
&gt;&gt;&gt; max(p.dBm_AntSignal for p in scapy_cap)
-12
&gt;&gt;&gt; min(p.dBm_AntSignal for p in scapy_cap)
-81
&gt;&gt;&gt; (-12) - (-81)
69
</code></pre><p>The weakest signal my wireless dongle could still receive was -81&nbsp;dBm. The strongest signal that arrived was -12&nbsp;dBm. Since the Faraday cage blocked all packets, the power of even the strongest signal would have to have been attenuated to below -81&nbsp;dBm for it to not be able to be received anymore. So, a lower bound of 69&nbsp;dB attenuation is established. I know that this might not be entirely correct (the wireless dongle might not be calibrated, the geometry of the Faraday cage could have increased signal strength when the door was open, etc.), but I think it gives a good enough indication.</p><h2 id="bill-of-materials">Bill of materials
<a href="#bill-of-materials">
<span>Link to heading</span></a></h2><table><thead><tr><th>Item</th><th>Price in EUR (1 EUR = 1.1&nbsp;USD)</th><th>Link, if necessary</th></tr></thead><tbody><tr><td>MDF board 244√ó122 cm</td><td>29.99</td><td></td></tr><tr><td>3√ó wooden beam 44√ó44mm, 210cm</td><td>9.27</td><td></td></tr><tr><td>copper pipe, 15mm outer diameter, 1m (although you only need about 0.5m)</td><td>10.99</td><td></td></tr><tr><td>hinges (could likely also be 3D printed)</td><td>7.78</td><td></td></tr><tr><td>(optional) handles for outer cube</td><td>10.69</td><td></td></tr><tr><td>wood screws; I used 4mm √ó 40mm for outer MDF cube; 4mm √ó 60mm screws for inner cube. I didn‚Äôt have any wood screws before this project, so I bought in bulk for future projects. The 10 EUR here is an upper bound estimate</td><td>10</td><td></td></tr><tr><td>foam tape: I used 20 mm width √ó 3 mm height √ó 10 m length tape</td><td>7.45</td><td><a href="https://web.archive.org/web/20240113175203/https://www.amazon.com.be/dp/B09KBH7WT1" target="_blank" rel="noopener">https://web.archive.org/web/20240113175203/https://www.amazon.com.be/dp/B09KBH7WT1</a></td></tr><tr><td>conductive fabric, 3√ó 110 cm by 91 cm. I used TitanRF fabric, this was the only fabric that came with a test report</td><td>84</td><td><a href="https://web.archive.org/web/20240113174610/https://www.amazon.com.be/-/nl/Darkness-Military-geleidende-RF-signalen-Bluetooth/dp/B01M294MGK/" target="_blank" rel="noopener">https://web.archive.org/web/20240113174610/https://www.amazon.com.be/-/nl/Darkness-Military-geleidende-RF-signalen-Bluetooth/dp/B01M294MGK/</a></td></tr><tr><td>conductive tape; 2.54 cm √ó 3.05 m</td><td>12</td><td><a href="https://web.archive.org/web/20240113174817/https://www.amazon.com.be/-/nl/TitanRF-Faraday-Tape-High-Shielding-RF-sluitingen/dp/B07CRLCGCH/" target="_blank" rel="noopener">https://web.archive.org/web/20240113174817/https://www.amazon.com.be/-/nl/TitanRF-Faraday-Tape-High-Shielding-RF-sluitingen/dp/B07CRLCGCH/</a></td></tr><tr><td>1 pair gigabit Ethernet to BiDi fiber converter</td><td>65.23</td><td><a href="https://web.archive.org/web/20240113172956/https://www.amazon.com.be/-/nl/multimedia-singlemode-LC-transceiver-inbegrepen/dp/B09MD4BBFD/" target="_blank" rel="noopener">https://web.archive.org/web/20240113172956/https://www.amazon.com.be/-/nl/multimedia-singlemode-LC-transceiver-inbegrepen/dp/B09MD4BBFD/</a></td></tr><tr><td>single OS2 LC/LC fiber optic cable, 2m</td><td>7.99</td><td><a href="https://web.archive.org/web/20240113174655/https://www.amazon.com.be/-/nl/nexinex-Glasvezel-patchkabel-Simplex-single-mode/dp/B0CDQ6YXPS/" target="_blank" rel="noopener">https://web.archive.org/web/20240113174655/https://www.amazon.com.be/-/nl/nexinex-Glasvezel-patchkabel-Simplex-single-mode/dp/B0CDQ6YXPS/</a></td></tr><tr><td>buck converters (13.99 for 12; I only used two here)</td><td>2.33</td><td></td></tr><tr><td>3d printing filament (way less than 200g, but let‚Äôs take that)</td><td>4</td><td></td></tr><tr><td>Ultracell UL18-12 12V 18Ah lead-acid battery</td><td>29.66</td><td></td></tr></tbody></table><p>For a grand total of <strong>291.38&nbsp;EUR</strong>, or about <strong>318&nbsp;USD</strong>.</p><p>You‚Äôll need to 3D print various items, those are detailed at <a href="https://github.com/esp32-open-mac/faraday_cage" target="_blank" rel="noopener">https://github.com/esp32-open-mac/faraday_cage</a></p><h2 id="building-tips">Building tips
<a href="#building-tips">
<span>Link to heading</span></a></h2><h2 id="outer-shell">Outer shell
<a href="#outer-shell">
<span>Link to heading</span></a></h2><ol><li>Assemble outer shell. This is made from MDF, so be careful and definitely pre-drill before inserting screws, otherwise, you would split the MDF. Do this even for screws that advertise you don‚Äôt need to pre-drill.</li><li>Attach hardware<ol><li>Hinges</li><li>Latch to keep the door shut</li><li>Optional: handles to lift the box</li></ol></li></ol><h2 id="framed-cube">Framed cube
<a href="#framed-cube">
<span>Link to heading</span></a></h2><ol><li>Assemble cube</li><li>Attach all hardware<ol><li>Holders for copper tube</li><li>Stand-offs for bottom plate</li><li>Foam tape</li></ol></li><li>(Last!) Attach Faraday fabric, with thumbtacks. Don‚Äôt use a staple gun, you would tear the fabric.</li></ol><p>If you have any questions, open a GitHub issue at <a href="https://github.com/esp32-open-mac/faraday_cage" target="_blank" rel="noopener">https://github.com/esp32-open-mac/faraday_cage</a> or send me an email via <a href="mailto:esp32-open-mac@devreker.be">esp32-open-mac@devreker.be</a>.</p></div></div>]]></description>
        </item>
    </channel>
</rss>